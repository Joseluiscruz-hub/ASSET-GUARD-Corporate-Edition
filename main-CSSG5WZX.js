import{a as ct,b as Yt,c as zf,d as Fu,e as J9,f as X9}from"./chunk-HZ6M6AS2.js";var u7=J9((c7,sC)=>{"use strict";(function(e){typeof c7=="object"&&typeof sC<"u"?sC.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).ExcelJS=e()})(function(){return function e(t,n,r){function i(a,l){if(!n[a]){if(!t[a]){var c=typeof zf=="function"&&zf;if(!l&&c)return c(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(h){return i(t[a][1][h]||h)},d,d.exports,e,t,n,r)}return n[a].exports}for(var s=typeof zf=="function"&&zf,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";let r=e("fs"),i=e("fast-csv"),s=e("dayjs/plugin/customParseFormat"),o=e("dayjs/plugin/utc"),a=e("dayjs").extend(s).extend(o),l=e("../utils/stream-buf"),{fs:{exists:c}}=e("../utils/utils"),u={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};t.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,h){if(h=h||{},!await c(d))throw new Error("File not found: "+d);let f=r.createReadStream(d),p=await this.read(f,h);return f.close(),p}read(d,h){return h=h||{},new Promise((f,p)=>{let m=this.workbook.addWorksheet(h.sheetName),g=h.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],v=h.map||function(I){if(I==="")return null;let R=Number(I);if(!Number.isNaN(R)&&R!==1/0)return R;let $=g.reduce((V,U)=>{if(V)return V;let q=a(I,U,!0);return q.isValid()?q:null},null);if($)return new Date($.valueOf());let F=u[I];return F!==void 0?F:I},x=i.parse(h.parserOptions).on("data",I=>{m.addRow(I.map(v))}).on("end",()=>{x.emit("worksheet",m)});x.on("worksheet",f).on("error",p),d.pipe(x)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,h){return new Promise((f,p)=>{h=h||{};let m=this.workbook.getWorksheet(h.sheetName||h.sheetId),g=i.format(h.formatterOptions);d.on("finish",()=>{f()}),g.on("error",p),g.pipe(d);let{dateFormat:v,dateUTC:x}=h,I=h.map||(F=>{if(F){if(F.text||F.hyperlink)return F.hyperlink||F.text||"";if(F.formula||F.result)return F.result||"";if(F instanceof Date)return v?x?a.utc(F).format(v):a(F).format(v):x?a.utc(F).format():a(F).format();if(F.error)return F.error;if(typeof F=="object")return JSON.stringify(F)}return F}),R=h.includeEmptyRows===void 0||h.includeEmptyRows,$=1;m&&m.eachRow((F,V)=>{if(R)for(;$++<V-1;)g.write([]);let{values:U}=F;U.shift(),g.write(U.map(I)),$=V}),g.end()})}writeFile(d,h){let f={encoding:(h=h||{}).encoding||"utf8"},p=r.createWriteStream(d,f);return this.write(p,h)}async writeBuffer(d){let h=new l;return await this.write(h,d),h.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,t,n){"use strict";let r=e("../utils/col-cache");class i{constructor(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=o,a)if(typeof a=="string"){let c=r.decodeAddress(a);this.nativeCol=c.col+l,this.nativeColOff=0,this.nativeRow=c.row+l,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+l,this.row=a.row+l):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(o){return o instanceof i||o==null?o:new i(o)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(o){this.nativeCol=Math.floor(o),this.nativeColOff=Math.floor((o-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(o){this.nativeRow=Math.floor(o),this.nativeRowOff=Math.floor((o-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(o){this.nativeCol=o.nativeCol,this.nativeColOff=o.nativeColOff,this.nativeRow=o.nativeRow,this.nativeRowOff=o.nativeRowOff}}t.exports=i},{"../utils/col-cache":19}],3:[function(e,t,n){"use strict";let r=e("../utils/col-cache"),i=e("../utils/under-dash"),s=e("./enums"),{slideFormula:o}=e("../utils/shared-formula"),a=e("./note");class l{constructor(d,h,f){if(!d||!h)throw new Error("A Cell needs a Row");this._row=d,this._column=h,r.validateAddress(f),this._address=f,this._value=c.create(l.Types.Null,this),this.style=this._mergeStyle(d.style,h.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,h,f){let p=d&&d.numFmt||h&&h.numFmt;p&&(f.numFmt=p);let m=d&&d.font||h&&h.font;m&&(f.font=m);let g=d&&d.alignment||h&&h.alignment;g&&(f.alignment=g);let v=d&&d.border||h&&h.border;v&&(f.border=v);let x=d&&d.fill||h&&h.fill;x&&(f.fill=x);let I=d&&d.protection||h&&h.protection;return I&&(f.protection=I),f}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===l.Types.Merge}merge(d,h){this._value.release(),this._value=c.create(l.Types.Merge,this,d),h||(this.style=d.style)}unmerge(){this.type===l.Types.Merge&&(this._value.release(),this._value=c.create(l.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===l.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===l.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===l.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==l.Types.Merge?(this._value.release(),this._value=c.create(c.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new a(d)}get text(){return this._value.toString()}get html(){return i.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===l.Types.String&&(this._value=c.create(l.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){let{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){let{definedNames:h}=this.workbook;h.removeAllNames(this.fullAddress),d.forEach(f=>{h.addEx(this.fullAddress,f)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){let{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=c.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=a.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}l.Types=s.ValueType;let c={getType:u=>u==null?l.Types.Null:u instanceof String||typeof u=="string"?l.Types.String:typeof u=="number"?l.Types.Number:typeof u=="boolean"?l.Types.Boolean:u instanceof Date?l.Types.Date:u.text&&u.hyperlink?l.Types.Hyperlink:u.formula||u.sharedFormula?l.Types.Formula:u.richText?l.Types.RichText:u.sharedString?l.Types.SharedString:u.error?l.Types.Error:l.Types.JSON,types:[{t:l.Types.Null,f:class{constructor(u){this.model={address:u.address,type:l.Types.Null}}get value(){return null}set value(u){}get type(){return l.Types.Null}get effectiveType(){return l.Types.Null}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return""}release(){}toString(){return""}}},{t:l.Types.Number,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Number,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Number}get effectiveType(){return l.Types.Number}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.String,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.String,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:l.Types.Date,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Date,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Date}get effectiveType(){return l.Types.Date}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Hyperlink,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){let u={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(u.tooltip=this.model.tooltip),u}set value(u){this.model={text:u.text,hyperlink:u.hyperlink},u.tooltip&&(this.model.tooltip=u.tooltip)}get text(){return this.model.text}set text(u){this.model.text=u}get hyperlink(){return this.model.hyperlink}set hyperlink(u){this.model.hyperlink=u}get type(){return l.Types.Hyperlink}get effectiveType(){return l.Types.Hyperlink}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:l.Types.Formula,f:class{constructor(u,d){this.cell=u,this.model={address:u.address,type:l.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(u){let d={},h=f=>{let p=u[f];p&&(d[f]=p)};return h("formula"),h("result"),h("ref"),h("shareType"),h("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(u){this.model=this._copyModel(u)}validate(u){switch(c.getType(u)){case l.Types.Null:case l.Types.String:case l.Types.Number:case l.Types.Date:break;case l.Types.Hyperlink:case l.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(u){this.model.formula=u}get formulaType(){return this.model.formula?s.FormulaType.Master:this.model.sharedFormula?s.FormulaType.Shared:s.FormulaType.None}get result(){return this.model.result}set result(u){this.model.result=u}get type(){return l.Types.Formula}get effectiveType(){let u=this.model.result;return u==null?s.ValueType.Null:u instanceof String||typeof u=="string"?s.ValueType.String:typeof u=="number"?s.ValueType.Number:u instanceof Date?s.ValueType.Date:u.text&&u.hyperlink?s.ValueType.Hyperlink:u.formula?s.ValueType.Formula:s.ValueType.Null}get address(){return this.model.address}set address(u){this.model.address=u}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){let{worksheet:u}=this.cell,d=u.findCell(this.model.sharedFormula);this._translatedFormula=d&&o(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:l.Types.Merge,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(u){u instanceof l?(this._master&&this._master.releaseMergeRef(),u.addMergeRef(),this._master=u):this._master.value=u}isMergedTo(u){return u===this._master}get master(){return this._master}get type(){return l.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:l.Types.JSON,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(u){this.model.rawValue=u,this.model.value=JSON.stringify(u)}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:l.Types.SharedString,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.SharedString,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.SharedString}get effectiveType(){return l.Types.SharedString}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.RichText,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.String,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}toString(){return this.model.value.richText.map(u=>u.text).join("")}get type(){return l.Types.RichText}get effectiveType(){return l.Types.RichText}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:l.Types.Boolean,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Boolean,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Boolean}get effectiveType(){return l.Types.Boolean}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Error,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Error,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Error}get effectiveType(){return l.Types.Error}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((u,d)=>(u[d.t]=d.f,u),[]),create(u,d,h){let f=this.types[u];if(!f)throw new Error("Could not create Value of type "+u);return new f(d,h)}};t.exports=l},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,t,n){"use strict";let r=e("../utils/under-dash"),i=e("./enums"),s=e("../utils/col-cache");class o{constructor(l,c,u){this._worksheet=l,this._number=c,u!==!1&&(this.defn=u)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return s.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(l){l?(this.key=l.key,this.width=l.width!==void 0?l.width:9,this.outlineLevel=l.outlineLevel,l.style?this.style=l.style:this.style={},this.header=l.header,this._hidden=!!l.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(l){l!==void 0?(this._header=l,this.headers.forEach((c,u)=>{this._worksheet.getCell(u+1,this.number).value=c})):this._header=void 0}get key(){return this._key}set key(l){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=l,l&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(l){return this.width===l.width&&this.hidden===l.hidden&&this.outlineLevel===l.outlineLevel&&r.isEqual(this.style,l.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;let l=this.style;return!l||!(l.font||l.numFmt||l.alignment||l.border||l.fill||l.protection)}get headerCount(){return this.headers.length}eachCell(l,c){let u=this.number;c||(c=l,l=null),this._worksheet.eachRow(l,(d,h)=>{c(d.getCell(u),h)})}get values(){let l=[];return this.eachCell((c,u)=>{c&&c.type!==i.ValueType.Null&&(l[u]=c.value)}),l}set values(l){if(!l)return;let c=this.number,u=0;l.hasOwnProperty("0")&&(u=1),l.forEach((d,h)=>{this._worksheet.getCell(h+u,c).value=d})}_applyStyle(l,c){return this.style[l]=c,this.eachCell(u=>{u[l]=c}),c}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}static toModel(l){let c=[],u=null;return l&&l.forEach((d,h)=>{d.isDefault?u&&(u=null):u&&d.equivalentTo(u)?u.max=h+1:(u={min:h+1,max:h+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},c.push(u))}),c.length?c:void 0}static fromModel(l,c){let u=[],d=1,h=0;for(c=(c=c||[]).sort(function(f,p){return f.min-p.min});h<c.length;){let f=c[h++];for(;d<f.min;)u.push(new o(l,d++));for(;d<=f.max;)u.push(new o(l,d++,f))}return u.length?u:null}}t.exports=o},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,t,n){"use strict";t.exports=class{constructor(r){this.model=r||{}}add(r,i){return this.model[r]=i}find(r){return this.model[r]}remove(r){this.model[r]=void 0}}},{}],6:[function(e,t,n){"use strict";let r=e("../utils/under-dash"),i=e("../utils/col-cache"),s=e("../utils/cell-matrix"),o=e("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;t.exports=class{constructor(){this.matrixMap={}}getMatrix(l){return this.matrixMap[l]||(this.matrixMap[l]=new s)}add(l,c){let u=i.decodeEx(l);this.addEx(u,c)}addEx(l,c){let u=this.getMatrix(c);if(l.top)for(let d=l.left;d<=l.right;d++)for(let h=l.top;h<=l.bottom;h++){let f={sheetName:l.sheetName,address:i.n2l(d)+h,row:h,col:d};u.addCellEx(f)}else u.addCellEx(l)}remove(l,c){let u=i.decodeEx(l);this.removeEx(u,c)}removeEx(l,c){this.getMatrix(c).removeCellEx(l)}removeAllNames(l){r.each(this.matrixMap,c=>{c.removeCellEx(l)})}forEach(l){r.each(this.matrixMap,(c,u)=>{c.forEach(d=>{l(u,d)})})}getNames(l){return this.getNamesEx(i.decodeEx(l))}getNamesEx(l){return r.map(this.matrixMap,(c,u)=>c.findCellEx(l)&&u).filter(Boolean)}_explore(l,c){c.mark=!1;let{sheetName:u}=c,d=new o(c.row,c.col,c.row,c.col,u),h,f;function p(g,v){let x=l.findCellAt(u,g,c.col);return!(!x||!x.mark)&&(d[v]=g,x.mark=!1,!0)}for(f=c.row-1;p(f,"top");f--);for(f=c.row+1;p(f,"bottom");f++);function m(g,v){let x=[];for(f=d.top;f<=d.bottom;f++){let I=l.findCellAt(u,f,g);if(!I||!I.mark)return!1;x.push(I)}d[v]=g;for(let I=0;I<x.length;I++)x[I].mark=!1;return!0}for(h=c.col-1;m(h,"left");h--);for(h=c.col+1;m(h,"right");h++);return d}getRanges(l,c){return(c=c||this.matrixMap[l])?(c.forEach(u=>{u.mark=!0}),{name:l,ranges:c.map(u=>u.mark&&this._explore(c,u)).filter(Boolean).map(u=>u.$shortRange)}):{name:l,ranges:[]}}normaliseMatrix(l,c){l.forEachInSheet(c,(u,d,h)=>{u&&(u.row===d&&u.col===h||(u.row=d,u.col=h,u.address=i.n2l(h)+d))})}spliceRows(l,c,u,d){r.each(this.matrixMap,h=>{h.spliceRows(l,c,u,d),this.normaliseMatrix(h,l)})}spliceColumns(l,c,u,d){r.each(this.matrixMap,h=>{h.spliceColumns(l,c,u,d),this.normaliseMatrix(h,l)})}get model(){return r.map(this.matrixMap,(l,c)=>this.getRanges(c,l)).filter(l=>l.ranges.length)}set model(l){let c=this.matrixMap={};l.forEach(u=>{let d=c[u.name]=new s;u.ranges.forEach(h=>{a.test(h.split("!").pop()||"")&&d.addCell(h)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,t,n){"use strict";t.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,t,n){"use strict";let r=e("../utils/col-cache"),i=e("./anchor");t.exports=class{constructor(s,o){this.worksheet=s,this.model=o}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(s){let{type:o,imageId:a,range:l,hyperlinks:c}=s;if(this.type=o,this.imageId=a,o==="image")if(typeof l=="string"){let u=r.decode(l);this.range={tl:new i(this.worksheet,{col:u.left,row:u.top},-1),br:new i(this.worksheet,{col:u.right,row:u.bottom},0),editAs:"oneCell"}}else this.range={tl:new i(this.worksheet,l.tl,0),br:l.br&&new i(this.worksheet,l.br,0),ext:l.ext,editAs:l.editAs,hyperlinks:c||l.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,t,n){"use strict";let r=e("../utils/under-dash");class i{constructor(o){this.note=o}get model(){let o=null;switch(typeof this.note){case"string":o={type:"note",note:{texts:[{text:this.note}]}};break;default:o={type:"note",note:this.note}}return r.deepMerge({},i.DEFAULT_CONFIGS,o)}set model(o){let{note:a}=o,{texts:l}=a;l.length===1&&Object.keys(l[0]).length===1?this.note=l[0].text:this.note=a}static fromModel(o){let a=new i;return a.model=o,a}}i.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},t.exports=i},{"../utils/under-dash":26}],10:[function(e,t,n){"use strict";let r=e("../utils/col-cache");class i{constructor(){this.decode(arguments)}setTLBR(o,a,l,c,u){if(arguments.length<4){let d=r.decodeAddress(o),h=r.decodeAddress(a);this.model={top:Math.min(d.row,h.row),left:Math.min(d.col,h.col),bottom:Math.max(d.row,h.row),right:Math.max(d.col,h.col),sheetName:l},this.setTLBR(d.row,d.col,h.row,h.col,u)}else this.model={top:Math.min(o,l),left:Math.min(a,c),bottom:Math.max(o,l),right:Math.max(a,c),sheetName:u}}decode(o){switch(o.length){case 5:this.setTLBR(o[0],o[1],o[2],o[3],o[4]);break;case 4:this.setTLBR(o[0],o[1],o[2],o[3]);break;case 3:this.setTLBR(o[0],o[1],o[2]);break;case 2:this.setTLBR(o[0],o[1]);break;case 1:{let a=o[0];if(a instanceof i)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{let l=r.decodeEx(a);l.top?this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName}:this.model={top:l.row,left:l.col,bottom:l.row,right:l.col,sheetName:l.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+o.length)}}get top(){return this.model.top||1}set top(o){this.model.top=o}get left(){return this.model.left||1}set left(o){this.model.left=o}get bottom(){return this.model.bottom||1}set bottom(o){this.model.bottom=o}get right(){return this.model.right||1}set right(o){this.model.right=o}get sheetName(){return this.model.sheetName}set sheetName(o){this.model.sheetName=o}get _serialisedSheetName(){let{sheetName:o}=this.model;return o?/^[a-zA-Z0-9]*$/.test(o)?o+"!":`'${o}'!`:""}expand(o,a,l,c){(!this.model.top||o<this.top)&&(this.top=o),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||l>this.bottom)&&(this.bottom=l),(!this.model.right||c>this.right)&&(this.right=c)}expandRow(o){if(o){let{dimensions:a,number:l}=o;a&&this.expand(l,a.min,l,a.max)}}expandToAddress(o){let a=r.decodeEx(o);this.expand(a.row,a.col,a.row,a.col)}get tl(){return r.n2l(this.left)+this.top}get $t$l(){return`$${r.n2l(this.left)}$${this.top}`}get br(){return r.n2l(this.right)+this.bottom}get $b$r(){return`$${r.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(o){return(!o.sheetName||!this.sheetName||o.sheetName===this.sheetName)&&!(o.bottom<this.top)&&!(o.top>this.bottom)&&!(o.right<this.left)&&!(o.left>this.right)}contains(o){let a=r.decodeEx(o);return this.containsEx(a)}containsEx(o){return(!o.sheetName||!this.sheetName||o.sheetName===this.sheetName)&&o.row>=this.top&&o.row<=this.bottom&&o.col>=this.left&&o.col<=this.right}forEachAddress(o){for(let a=this.left;a<=this.right;a++)for(let l=this.top;l<=this.bottom;l++)o(r.encodeAddress(l,a),l,a)}}t.exports=i},{"../utils/col-cache":19}],11:[function(e,t,n){"use strict";let r=e("../utils/under-dash"),i=e("./enums"),s=e("../utils/col-cache"),o=e("./cell");t.exports=class{constructor(a,l){this._worksheet=a,this._number=l,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let l=this._cells[a.col-1];if(!l){let c=this._worksheet.getColumn(a.col);l=new o(this,c,a.address),this._cells[a.col-1]=l}return l}getCell(a){if(typeof a=="string"){let l=this._worksheet.getColumnKey(a);a=l?l.number:s.l2n(a)}return this._cells[a-1]||this.getCellEx({address:s.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,l){let c=a+l;for(var u=arguments.length,d=new Array(u>2?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];let f=d.length-l,p=this._cells.length,m,g,v;if(f<0)for(m=a+d.length;m<=p;m++)v=this._cells[m-1],g=this._cells[m-f-1],g?(v=this.getCell(m),v.value=g.value,v.style=g.style,v._comment=g._comment):v&&(v.value=null,v.style={},v._comment=void 0);else if(f>0)for(m=p;m>=c;m--)g=this._cells[m-1],g?(v=this.getCell(m+f),v.value=g.value,v.style=g.style,v._comment=g._comment):this._cells[m+f-1]=void 0;for(m=0;m<d.length;m++)v=this.getCell(a+m),v.value=d[m],v.style={},v._comment=void 0}eachCell(a,l){if(l||(l=a,a=null),a&&a.includeEmpty){let c=this._cells.length;for(let u=1;u<=c;u++)l(this.getCell(u),u)}else this._cells.forEach((c,u)=>{c&&c.type!==i.ValueType.Null&&l(c,u+1)})}addPageBreak(a,l){let c=this._worksheet,u=Math.max(0,a-1)||0,d=Math.max(0,l-1)||16838,h={id:this._number,max:d,man:1};u&&(h.min=u),c.rowBreaks.push(h)}get values(){let a=[];return this._cells.forEach(l=>{l&&l.type!==i.ValueType.Null&&(a[l.col]=l.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let l=0;a.hasOwnProperty("0")&&(l=1),a.forEach((c,u)=>{c!==void 0&&(this.getCellEx({address:s.encodeAddress(this._number,u+l),row:this._number,col:u+l}).value=c)})}else this._worksheet.eachColumnKey((l,c)=>{a[c]!==void 0&&(this.getCellEx({address:s.encodeAddress(this._number,l.number),row:this._number,col:l.number}).value=a[c])})}get hasValues(){return r.some(this._cells,a=>a&&a.type!==i.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,l=0;return this._cells.forEach(c=>{c&&c.type!==i.ValueType.Null&&((!a||a>c.col)&&(a=c.col),l<c.col&&(l=c.col))}),a>0?{min:a,max:l}:null}_applyStyle(a,l){return this.style[a]=l,this._cells.forEach(c=>{c&&(c[a]=l)}),l}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){let a=[],l=0,c=0;return this._cells.forEach(u=>{if(u){let d=u.model;d&&((!l||l>u.col)&&(l=u.col),c<u.col&&(c=u.col),a.push(d))}}),this.height||a.length?{cells:a,number:this.number,min:l,max:c,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let l;this._cells=[],a.cells.forEach(c=>{switch(c.type){case o.Types.Merge:break;default:{let u;if(c.address)u=s.decodeAddress(c.address);else if(l){let{row:d}=l,h=l.col+1;u={row:d,col:h,address:s.encodeAddress(d,h),$col$row:`$${s.n2l(h)}$${d}`}}l=u,this.getCellEx(u).model=c;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,t,n){"use strict";let r=e("../utils/col-cache");class i{constructor(o,a,l){this.table=o,this.column=a,this.index=l}_set(o,a){this.table.cacheState(),this.column[o]=a}get name(){return this.column.name}set name(o){this._set("name",o)}get filterButton(){return this.column.filterButton}set filterButton(o){this.column.filterButton=o}get style(){return this.column.style}set style(o){this.column.style=o}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(o){this._set("totalsRowLabel",o)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(o){this._set("totalsRowFunction",o)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(o){this._set("totalsRowResult",o)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(o){this._set("totalsRowFormula",o)}}t.exports=class{constructor(s,o){this.worksheet=s,o&&(this.table=o,this.validate(),this.store())}getFormula(s){switch(s.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${s.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${s.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${s.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${s.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${s.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${s.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${s.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${s.name}])`;case"custom":return s.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+s.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){let{table:s}=this,o=(f,p,m)=>{f[p]===void 0&&(f[p]=m)};o(s,"headerRow",!0),o(s,"totalsRow",!1),o(s,"style",{}),o(s.style,"theme","TableStyleMedium2"),o(s.style,"showFirstColumn",!1),o(s.style,"showLastColumn",!1),o(s.style,"showRowStripes",!1),o(s.style,"showColumnStripes",!1);let a=(f,p)=>{if(!f)throw new Error(p)};a(s.ref,"Table must have ref"),a(s.columns,"Table must have column definitions"),a(s.rows,"Table must have row definitions"),s.tl=r.decodeAddress(s.ref);let{row:l,col:c}=s.tl;a(l>0,"Table must be on valid row"),a(c>0,"Table must be on valid col");let{width:u,filterHeight:d,tableHeight:h}=this;s.autoFilterRef=r.encode(l,c,l+d-1,c+u-1),s.tableRef=r.encode(l,c,l+h-1,c+u-1),s.columns.forEach((f,p)=>{a(f.name,`Column ${p} must have a name`),p===0?o(f,"totalsRowLabel","Total"):(o(f,"totalsRowFunction","none"),f.totalsRowFormula=this.getFormula(f))})}store(){let s=(d,h)=>{h&&Object.keys(h).forEach(f=>{d[f]=h[f]})},{worksheet:o,table:a}=this,{row:l,col:c}=a.tl,u=0;if(a.headerRow){let d=o.getRow(l+u++);a.columns.forEach((h,f)=>{let{style:p,name:m}=h,g=d.getCell(c+f);g.value=m,s(g,p)})}if(a.rows.forEach(d=>{let h=o.getRow(l+u++);d.forEach((f,p)=>{let m=h.getCell(c+p);m.value=f,s(m,a.columns[p].style)})}),a.totalsRow){let d=o.getRow(l+u++);a.columns.forEach((h,f)=>{let p=d.getCell(c+f);if(f===0)p.value=h.totalsRowLabel;else{let m=this.getFormula(h);p.value=m?{formula:h.totalsRowFormula,result:h.totalsRowResult}:null}s(p,h.style)})}}load(s){let{table:o}=this,{row:a,col:l}=o.tl,c=0;if(o.headerRow){let u=s.getRow(a+c++);o.columns.forEach((d,h)=>{u.getCell(l+h).value=d.name})}if(o.rows.forEach(u=>{let d=s.getRow(a+c++);u.forEach((h,f)=>{d.getCell(l+f).value=h})}),o.totalsRow){let u=s.getRow(a+c++);o.columns.forEach((d,h)=>{let f=u.getCell(l+h);h===0?f.value=d.totalsRowLabel:this.getFormula(d)&&(f.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(s){this.table=s}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();let s=r.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let o=0;o<this._cache.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let l=0;l<this._cache.width;l++)a.getCell(s.col+l).value=null}else{for(let o=this.tableHeight;o<this._cache.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let l=0;l<this._cache.width;l++)a.getCell(s.col+l).value=null}for(let o=0;o<this.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let l=this.width;l<this._cache.width;l++)a.getCell(s.col+l).value=null}}this.store()}addRow(s,o){this.cacheState(),o===void 0?this.table.rows.push(s):this.table.rows.splice(o,0,s)}removeRows(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(s,o)}getColumn(s){let o=this.table.columns[s];return new i(this,o,s)}addColumn(s,o,a){this.cacheState(),a===void 0?(this.table.columns.push(s),this.table.rows.forEach((l,c)=>{l.push(o[c])})):(this.table.columns.splice(a,0,s),this.table.rows.forEach((l,c)=>{l.splice(a,0,o[c])}))}removeColumns(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(s,o),this.table.rows.forEach(a=>{a.splice(s,o)})}_assign(s,o,a){this.cacheState(),s[o]=a}get ref(){return this.table.ref}set ref(s){this._assign(this.table,"ref",s)}get name(){return this.table.name}set name(s){this.table.name=s}get displayName(){return this.table.displyName||this.table.name}set displayNamename(s){this.table.displayName=s}get headerRow(){return this.table.headerRow}set headerRow(s){this._assign(this.table,"headerRow",s)}get totalsRow(){return this.table.totalsRow}set totalsRow(s){this._assign(this.table,"totalsRow",s)}get theme(){return this.table.style.name}set theme(s){this.table.style.name=s}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(s){this.table.style.showFirstColumn=s}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(s){this.table.style.showLastColumn=s}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(s){this.table.style.showRowStripes=s}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(s){this.table.style.showColumnStripes=s}}},{"../utils/col-cache":19}],13:[function(e,t,n){"use strict";let r=e("./worksheet"),i=e("./defined-names"),s=e("../xlsx/xlsx"),o=e("../csv/csv");t.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new i}get xlsx(){return this._xlsx||(this._xlsx=new s(this)),this._xlsx}get csv(){return this._csv||(this._csv=new o(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,l){let c=this.nextId;l&&(typeof l=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),l={properties:{tabColor:{argb:l}}}):(l.argb||l.theme||l.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),l={properties:{tabColor:l}}));let u=this._worksheets.reduce((f,p)=>(p&&p.orderNo)>f?p.orderNo:f,0),d=Object.assign({},l,{id:c,name:a,orderNo:u+1,workbook:this}),h=new r(d);return this._worksheets[c]=h,h}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){let l=this.getWorksheet(a);l&&l.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(l=>l&&l.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,l)=>a.orderNo-l.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(l=>{a(l,l.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){let l=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),l}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(l=>{let{id:c,name:u,state:d}=l,h=a.sheets&&a.sheets.findIndex(f=>f.id===c);(this._worksheets[c]=new r({id:c,name:u,orderNo:h,state:d,workbook:this})).model=l}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,t,n){"use strict";let r=e("../utils/under-dash"),i=e("../utils/col-cache"),s=e("./range"),o=e("./row"),a=e("./column"),l=e("./enums"),c=e("./image"),u=e("./table"),d=e("./data-validations"),h=e("../utils/encryptor"),{copyStyle:f}=e("../utils/copy-style");t.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new d,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(m=>m&&m.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){let p=new s;return this._rows.forEach(m=>{if(m){let g=m.dimensions;g&&p.expand(m.number,g.min,m.number,g.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((v,x)=>{let I=(x.header?1:x.headers&&x.headers.length)||0;return Math.max(v,I)},0);let m=1,g=this._columns=[];p.forEach(v=>{let x=new a(this,m++,!1);g.push(x),x.defn=v})}getColumnKey(p){return this._keys[p]}setColumnKey(p,m){this._keys[p]=m}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){r.each(this._keys,p)}getColumn(p){if(typeof p=="string"){let m=this._keys[p];if(m)return m;p=i.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let m=this._columns.length+1;for(;m<=p;)this._columns.push(new a(this,m++))}return this._columns[p-1]}spliceColumns(p,m){let g=this._rows.length;for(var v=arguments.length,x=new Array(v>2?v-2:0),I=2;I<v;I++)x[I-2]=arguments[I];if(x.length>0)for(let V=0;V<g;V++){let U=[p,m];x.forEach(j=>{U.push(j[V]||null)});let q=this.getRow(V+1);q.splice.apply(q,U)}else this._rows.forEach(V=>{V&&V.splice(p,m)});let R=x.length-m,$=p+m,F=this._columns.length;if(R<0)for(let V=p+x.length;V<=F;V++)this.getColumn(V).defn=this.getColumn(V-R).defn;else if(R>0)for(let V=F;V>=$;V--)this.getColumn(V+R).defn=this.getColumn(V).defn;for(let V=p;V<p+x.length;V++)this.getColumn(V).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,m,x.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(m=>{p=Math.max(p,m.cellCount)}),p}get actualColumnCount(){let p=[],m=0;return this.eachRow(g=>{g.eachCell(v=>{let{col:x}=v;p[x]||(p[x]=!0,m++)})}),m}_commitRow(){}get _lastRowNumber(){let p=this._rows,m=p.length;for(;m>0&&p[m-1]===void 0;)m--;return m}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,m){return this._rows.slice(p-1,p-1+m)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let m=this._rows[p-1];return m||(m=this._rows[p-1]=new o(this,p)),m}getRows(p,m){if(m<1)return;let g=[];for(let v=p;v<p+m;v++)g.push(this.getRow(v));return g}addRow(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=this._nextRow,v=this.getRow(g);return v.values=p,this._setStyleOption(g,m[0]==="i"?m:"n"),v}addRows(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=[];return p.forEach(v=>{g.push(this.addRow(v,m))}),g}insertRow(p,m){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,m),this._setStyleOption(p,g),this.getRow(p)}insertRows(p,m){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...m),g!=="n")for(let v=0;v<m.length;v++)g[0]==="o"&&this.findRow(m.length+p+v)!==void 0?this._copyStyle(m.length+p+v,p+v,g[1]==="+"):g[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+v,g[1]==="+");return this.getRows(p,m.length)}_setStyleOption(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";m[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,m[1]==="+"):m[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,m[1]==="+")}_copyStyle(p,m){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],v=this.getRow(p),x=this.getRow(m);x.style=f(v.style),v.eachCell({includeEmpty:g},(I,R)=>{x.getCell(R).style=f(I.style)}),x.height=v.height}duplicateRow(p,m){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],v=this._rows[p-1],x=new Array(m).fill(v.values);this.spliceRows(p+1,g?0:m,...x);for(let I=0;I<m;I++){let R=this._rows[p+I];R.style=v.style,R.height=v.height,v.eachCell({includeEmpty:!0},($,F)=>{R.getCell(F).style=$.style})}}spliceRows(p,m){let g=p+m;for(var v=arguments.length,x=new Array(v>2?v-2:0),I=2;I<v;I++)x[I-2]=arguments[I];let R=x.length,$=R-m,F=this._rows.length,V,U;if($<0)for(p===F&&(this._rows[F-1]=void 0),V=g;V<=F;V++)if(U=this._rows[V-1],U){let q=this.getRow(V+$);q.values=U.values,q.style=U.style,q.height=U.height,U.eachCell({includeEmpty:!0},(j,S)=>{q.getCell(S).style=j.style}),this._rows[V-1]=void 0}else this._rows[V+$-1]=void 0;else if($>0)for(V=F;V>=g;V--)if(U=this._rows[V-1],U){let q=this.getRow(V+$);q.values=U.values,q.style=U.style,q.height=U.height,U.eachCell({includeEmpty:!0},(j,S)=>{if(q.getCell(S).style=j.style,j._value.constructor.name==="MergeValue"){let T=this.getRow(j._row._number+R).getCell(S),O=j._value._master,y=this.getRow(O._row._number+R).getCell(O._column._number);T.merge(y)}})}else this._rows[V+$-1]=void 0;for(V=0;V<R;V++){let q=this.getRow(p+V);q.style={},q.values=x[V]}this.workbook.definedNames.spliceRows(this.name,p,m,R)}eachRow(p,m){if(m||(m=p,p=void 0),p&&p.includeEmpty){let g=this._rows.length;for(let v=1;v<=g;v++)m(this.getRow(v),v)}else this._rows.forEach(g=>{g&&g.hasValues&&m(g,g.number)})}getSheetValues(){let p=[];return this._rows.forEach(m=>{m&&(p[m.number]=m.values)}),p}findCell(p,m){let g=i.getAddress(p,m),v=this._rows[g.row-1];return v?v.findCell(g.col):void 0}getCell(p,m){let g=i.getAddress(p,m);return this.getRow(g.row).getCellEx(g)}mergeCells(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];let v=new s(m);this._mergeCellsInternal(v)}mergeCellsWithoutStyle(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];let v=new s(m);this._mergeCellsInternal(v,!0)}_mergeCellsInternal(p,m){r.each(this._merges,v=>{if(v.intersects(p))throw new Error("Cannot merge already merged cells")});let g=this.getCell(p.top,p.left);for(let v=p.top;v<=p.bottom;v++)for(let x=p.left;x<=p.right;x++)(v>p.top||x>p.left)&&this.getCell(v,x).merge(g,m);this._merges[g.address]=p}_unMergeMaster(p){let m=this._merges[p.address];if(m){for(let g=m.top;g<=m.bottom;g++)for(let v=m.left;v<=m.right;v++)this.getCell(g,v).unmerge();delete this._merges[p.address]}}get hasMerges(){return r.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];let v=new s(m);for(let x=v.top;x<=v.bottom;x++)for(let I=v.left;I<=v.right;I++){let R=this.findCell(x,I);R&&(R.type===l.ValueType.Merge?this._unMergeMaster(R.master):this._merges[R.address]&&this._unMergeMaster(R))}}fillFormula(p,m,g){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared",x=i.decode(p),{top:I,left:R,bottom:$,right:F}=x,V=F-R+1,U=i.encodeAddress(I,R),q=v==="shared",j;j=typeof g=="function"?g:Array.isArray(g)?Array.isArray(g[0])?(T,O)=>g[T-I][O-R]:(T,O)=>g[(T-I)*V+(O-R)]:()=>{};let S=!0;for(let T=I;T<=$;T++)for(let O=R;O<=F;O++)S?(this.getCell(T,O).value={shareType:v,formula:m,ref:p,result:j(T,O)},S=!1):this.getCell(T,O).value=q?{sharedFormula:U,result:j(T,O)}:j(T,O)}addImage(p,m){let g={type:"image",imageId:p,range:m};this._media.push(new c(this,g))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){let m={type:"background",imageId:p};this._media.push(new c(this,m))}getBackgroundImageId(){let p=this._media.find(m=>m.type==="background");return p&&p.imageId}protect(p,m){return new Promise(g=>{this.sheetProtection={sheet:!0},m&&"spinCount"in m&&(m.spinCount=Number.isFinite(m.spinCount)?Math.round(Math.max(0,m.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=h.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=m&&"spinCount"in m?m.spinCount:1e5,this.sheetProtection.hashValue=h.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),m&&(this.sheetProtection=Object.assign(this.sheetProtection,m),!p&&"spinCount"in m&&delete this.sheetProtection.spinCount),g()})}unprotect(){this.sheetProtection=null}addTable(p){let m=new u(this,p);return this.tables[p.name]=m,m}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){let p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(v=>v.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(v=>v.model),conditionalFormattings:this.conditionalFormattings};p.cols=a.toModel(this.columns);let m=p.rows=[],g=p.dimensions=new s;return this._rows.forEach(v=>{let x=v&&v.model;x&&(g.expand(x.number,x.min,x.number,x.max),m.push(x))}),p.merges=[],r.each(this._merges,v=>{p.merges.push(v.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(m=>{let g=new o(this,m.number);this._rows[g.number-1]=g,g.model=m})}_parseMergeCells(p){r.each(p.mergeCells,m=>{this.mergeCellsWithoutStyle(m)})}set model(p){this.name=p.name,this._columns=a.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new d(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(m=>new c(this,m)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((m,g)=>{let v=new u;return v.model=g,m[g.name]=v,m},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,t,n){"use strict";e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");let r={Workbook:e("./doc/workbook")},i=e("./doc/enums");Object.keys(i).forEach(s=>{r[s]=i[s]}),t.exports=r},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,t,n){"use strict";let r=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");n.bufferToString=function(i){return typeof i=="string"?i:r?r.decode(i):i.toString()}},{}],17:[function(e,t,n){"use strict";let r=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:i}=e("buffer");n.stringToBuffer=function(s){return typeof s!="string"?s:r?i.from(r.encode(s).buffer):i.from(s)}},{buffer:220}],18:[function(e,t,n){"use strict";let r=e("./under-dash"),i=e("./col-cache");t.exports=class{constructor(s){this.template=s,this.sheets={}}addCell(s){this.addCellEx(i.decodeEx(s))}getCell(s){return this.findCellEx(i.decodeEx(s),!0)}findCell(s){return this.findCellEx(i.decodeEx(s),!1)}findCellAt(s,o,a){let l=this.sheets[s],c=l&&l[o];return c&&c[a]}addCellEx(s){if(s.top)for(let o=s.top;o<=s.bottom;o++)for(let a=s.left;a<=s.right;a++)this.getCellAt(s.sheetName,o,a);else this.findCellEx(s,!0)}getCellEx(s){return this.findCellEx(s,!0)}findCellEx(s,o){let a=this.findSheet(s,o),l=this.findSheetRow(a,s,o);return this.findRowCell(l,s,o)}getCellAt(s,o,a){let l=this.sheets[s]||(this.sheets[s]=[]),c=l[o]||(l[o]=[]);return c[a]||(c[a]={sheetName:s,address:i.n2l(a)+o,row:o,col:a})}removeCellEx(s){let o=this.findSheet(s);if(!o)return;let a=this.findSheetRow(o,s);a&&delete a[s.col]}forEachInSheet(s,o){let a=this.sheets[s];a&&a.forEach((l,c)=>{l&&l.forEach((u,d)=>{u&&o(u,c,d)})})}forEach(s){r.each(this.sheets,(o,a)=>{this.forEachInSheet(a,s)})}map(s){let o=[];return this.forEach(a=>{o.push(s(a))}),o}findSheet(s,o){let a=s.sheetName;return this.sheets[a]?this.sheets[a]:o?this.sheets[a]=[]:void 0}findSheetRow(s,o,a){let{row:l}=o;return s&&s[l]?s[l]:a?s[l]=[]:void 0}findRowCell(s,o,a){let{col:l}=o;return s&&s[l]?s[l]:a?s[l]=this.template?Object.assign(o,JSON.parse(JSON.stringify(this.template))):o:void 0}spliceRows(s,o,a,l){let c=this.sheets[s];if(c){let u=[];for(let d=0;d<l;d++)u.push([]);c.splice(o,a,...u)}}spliceColumns(s,o,a,l){let c=this.sheets[s];if(c){let u=[];for(let d=0;d<l;d++)u.push(null);r.each(c,d=>{d.splice(o,a,...u)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,t,n){"use strict";let r=/^[A-Z]+\d+$/,i={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:s=>s<=26?1:s<=676?2:3,_fill(s){let o,a,l,c,u,d=1;if(s>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&s>=1){for(;d<=26;)o=this._dictionary[d-1],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&s>=2){for(d=27;d<=702;)a=d-27,l=a%26,c=Math.floor(a/26),o=this._dictionary[c]+this._dictionary[l],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&s>=3){for(d=703;d<=16384;)a=d-703,l=a%26,c=Math.floor(a/26)%26,u=Math.floor(a/676),o=this._dictionary[u]+this._dictionary[c]+this._dictionary[l],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=3}},l2n(s){if(this._l2n[s]||this._fill(s.length),!this._l2n[s])throw new Error("Out of bounds. Invalid column letter: "+s);return this._l2n[s]},n2l(s){if(s<1||s>16384)throw new Error(s+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[s]||this._fill(this._level(s)),this._n2l[s]},_hash:{},validateAddress(s){if(!r.test(s))throw new Error("Invalid Address: "+s);return!0},decodeAddress(s){let o=s.length<5&&this._hash[s];if(o)return o;let a=!1,l="",c=0,u=!1,d="",h=0;for(let p,m=0;m<s.length;m++)if(p=s.charCodeAt(m),!u&&p>=65&&p<=90)a=!0,l+=s[m],c=26*c+p-64;else if(p>=48&&p<=57)u=!0,d+=s[m],h=10*h+p-48;else if(u&&a&&p!==36)break;if(a){if(c>16384)throw new Error("Out of bounds. Invalid column letter: "+l)}else c=void 0;u||(h=void 0);let f={address:s=l+d,col:c,row:h,$col$row:`$${l}$${d}`};return c<=100&&h<=100&&(this._hash[s]=f,this._hash[f.$col$row]=f),f},getAddress(s,o){if(o){let a=this.n2l(o)+s;return this.decodeAddress(a)}return this.decodeAddress(s)},decode(s){let o=s.split(":");if(o.length===2){let a=this.decodeAddress(o[0]),l=this.decodeAddress(o[1]),c={top:Math.min(a.row,l.row),left:Math.min(a.col,l.col),bottom:Math.max(a.row,l.row),right:Math.max(a.col,l.col)};return c.tl=this.n2l(c.left)+c.top,c.br=this.n2l(c.right)+c.bottom,c.dimensions=`${c.tl}:${c.br}`,c}return this.decodeAddress(s)},decodeEx(s){let o=s.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=o[1]||o[2],l=o[3],c=l.split(":");if(c.length>1){let d=this.decodeAddress(c[0]),h=this.decodeAddress(c[1]),f=Math.min(d.row,h.row),p=Math.min(d.col,h.col),m=Math.max(d.row,h.row),g=Math.max(d.col,h.col);return d=this.n2l(p)+f,h=this.n2l(g)+m,{top:f,left:p,bottom:m,right:g,sheetName:a,tl:{address:d,col:p,row:f,$col$row:`$${this.n2l(p)}$${f}`,sheetName:a},br:{address:h,col:g,row:m,$col$row:`$${this.n2l(g)}$${m}`,sheetName:a},dimensions:`${d}:${h}`}}if(l.startsWith("#"))return a?{sheetName:a,error:l}:{error:l};let u=this.decodeAddress(l);return a?ct({sheetName:a},u):u},encodeAddress:(s,o)=>i.n2l(o)+s,encode(){switch(arguments.length){case 2:return i.encodeAddress(arguments[0],arguments[1]);case 4:return`${i.encodeAddress(arguments[0],arguments[1])}:${i.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(s,o){let[a,l,,c,u]=s,[d,h]=o;return d>=a&&d<=c&&h>=l&&h<=u}};t.exports=i},{}],20:[function(e,t,n){"use strict";let r=(s,o)=>ct(ct({},s),o.reduce((a,l)=>(s[l]&&(a[l]=ct({},s[l])),a),{})),i=function(s,o,a){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];s[a]&&(o[a]=r(s[a],l))};n.copyStyle=s=>{if(!s)return s;if(o=s,Object.keys(o).length===0)return{};var o;let a=ct({},s);return i(s,a,"font",["color"]),i(s,a,"alignment"),i(s,a,"protection"),s.border&&(i(s,a,"border"),i(s.border,a.border,"top",["color"]),i(s.border,a.border,"left",["color"]),i(s.border,a.border,"bottom",["color"]),i(s.border,a.border,"right",["color"]),i(s.border,a.border,"diagonal",["color"])),s.fill&&(i(s,a,"fill",["fgColor","bgColor","center"]),s.fill.stops&&(a.fill.stops=s.fill.stops.map(l=>r(l,["color"])))),a}},{}],21:[function(e,t,n){(function(r){(function(){"use strict";let i=e("crypto"),s={hash(o){let a=i.createHash(o);for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];return a.update(r.concat(c)),a.digest()},convertPasswordToHash(o,a,l,c){if(a=a.toLowerCase(),i.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);let u=r.from(o,"utf16le"),d=this.hash(a,r.from(l,"base64"),u);for(let h=0;h<c;h++){let f=r.alloc(4);f.writeUInt32LE(h,0),d=this.hash(a,d,f)}return d.toString("base64")},randomBytes:o=>i.randomBytes(o)};t.exports=s}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,t,n){"use strict";let{SaxesParser:r}=e("saxes"),{PassThrough:i}=e("readable-stream"),{bufferToString:s}=e("./browser-buffer-decode");t.exports=async function*(o){o.pipe&&!o[Symbol.asyncIterator]&&(o=o.pipe(new i));let a=new r,l;a.on("error",u=>{l=u});let c=[];a.on("opentag",u=>c.push({eventType:"opentag",value:u})),a.on("text",u=>c.push({eventType:"text",value:u})),a.on("closetag",u=>c.push({eventType:"closetag",value:u}));for await(let u of o){if(a.write(s(u)),l)throw l;yield c,c=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,t,n){"use strict";let r=e("./col-cache"),i=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,s=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;t.exports={slideFormula:function(o,a,l){let c=r.decode(a),u=r.decode(l);return o.replace(i,(d,h,f,p,m)=>{if(m)return d;let g=s.exec(p);if(g){let v=g[1],x=g[2].toUpperCase(),I=g[3],R=g[4];if(x.length>3||x.length===3&&x>"XFD")return d;let $=r.l2n(x),F=parseInt(R,10);return v||($+=u.col-c.col),I||(F+=u.row-c.row),(h||"")+(v||"")+r.n2l($)+(I||"")+F}return d})}}},{"./col-cache":19}],24:[function(e,t,n){(function(r,i){(function(){"use strict";let s=e("readable-stream"),o=e("./utils"),a=e("./string-buf");class l{constructor(p,m){this._data=p,this._encoding=m}get length(){return this.toBuffer().length}copy(p,m,g,v){return this.toBuffer().copy(p,m,g,v)}toBuffer(){return this._buffer||(this._buffer=i.from(this._data,this._encoding)),this._buffer}}class c{constructor(p){this._data=p}get length(){return this._data.length}copy(p,m,g,v){return this._data._buf.copy(p,m,g,v)}toBuffer(){return this._data.toBuffer()}}class u{constructor(p){this._data=p}get length(){return this._data.length}copy(p,m,g,v){this._data.copy(p,m,g,v)}toBuffer(){return this._data}}class d{constructor(p){this.size=p,this.buffer=i.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;let p=i.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let m;return p===0?null:p===void 0||p>=this.length?(m=this.toBuffer(),this.iRead=this.iWrite,m):(m=i.alloc(p),this.buffer.copy(m,0,this.iRead,p),this.iRead+=p,m)}write(p,m,g){let v=Math.min(g,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,m,m+v),this.iWrite+=v,v}}let h=function(f){f=f||{},this.bufSize=f.bufSize||1048576,this.buffers=[],this.batch=f.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};o.inherits(h,s.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return i.concat(this.buffers.map(f=>f.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){let p=this.buffers[this.buffers.length-1];if(!p.full)return p}let f=new d(this.bufSize);return this.buffers.push(f),f},async _pipe(f){await Promise.all(this.pipes.map(function(p){return new Promise(m=>{p.write(f.toBuffer(),()=>{m()})})}))},_writeToBuffers(f){let p=0,m=f.length;for(;p<m;)p+=this._getWritableBuffer().write(f,p,m-p)},async write(f,p,m){let g;if(p instanceof Function&&(m=p,p="utf8"),m=m||o.nop,f instanceof a)g=new c(f);else if(f instanceof i)g=new u(f);else{if(!(typeof f=="string"||f instanceof String||f instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");g=new l(f,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(g);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(g),r.nextTick(m)):(await this._pipe(g),m());else this.paused||this.emit("data",g.toBuffer()),this._writeToBuffers(g),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(f,p,m){let g=v=>{v?m(v):(this._flush(),this.pipes.forEach(x=>{x.end()}),this.emit("finish"))};f?this.write(f,p,g):g()},read(f){let p;if(f){for(p=[];f&&this.buffers.length&&!this.buffers[0].eod;){let m=this.buffers[0],g=m.read(f);f-=g.length,p.push(g),m.eod&&m.full&&this.buffers.shift()}return i.concat(p)}return p=this.buffers.map(m=>m.toBuffer()).filter(Boolean),this.buffers=[],i.concat(p)},setEncoding(f){this.encoding=f},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(f){this.pipes.push(f),!this.paused&&this.buffers.length&&this.end()},unpipe(f){this.pipes=this.pipes.filter(p=>p!==f)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),t.exports=h}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,t,n){(function(r){(function(){"use strict";t.exports=class{constructor(i){this._buf=r.alloc(i&&i.size||16384),this._encoding=i&&i.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=r.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(i){i=i||0,this._buffer=void 0,this._inPos=i}_grow(i){let s=2*this._buf.length;for(;s<i;)s*=2;let o=r.alloc(s);this._buf.copy(o,0),this._buf=o}addText(i){this._buffer=void 0;let s=this._inPos+this._buf.write(i,this._inPos,this._encoding);for(;s>=this._buf.length-4;)this._grow(this._inPos+i.length),s=this._inPos+this._buf.write(i,this._inPos,this._encoding);this._inPos=s}addStringBuf(i){i.length&&(this._buffer=void 0,this.length+i.length>this.capacity&&this._grow(this.length+i.length),i._buf.copy(this._buf,this._inPos,0,i.length),this._inPos+=i.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,t,n){"use strict";let{toString:r}=Object.prototype,i=/["&<>]/,s={each:function(o,a){o&&(Array.isArray(o)?o.forEach(a):Object.keys(o).forEach(l=>{a(o[l],l)}))},some:function(o,a){return!!o&&(Array.isArray(o)?o.some(a):Object.keys(o).some(l=>a(o[l],l)))},every:function(o,a){return!o||(Array.isArray(o)?o.every(a):Object.keys(o).every(l=>a(o[l],l)))},map:function(o,a){return o?Array.isArray(o)?o.map(a):Object.keys(o).map(l=>a(o[l],l)):[]},keyBy:(o,a)=>o.reduce((l,c)=>(l[c[a]]=c,l),{}),isEqual:function(o,a){let l=typeof o,c=typeof a,u=Array.isArray(o),d=Array.isArray(a),h;if(l!==c)return!1;switch(typeof o){case"object":if(u||d)return!(!u||!d)&&o.length===a.length&&o.every((f,p)=>{let m=a[p];return s.isEqual(f,m)});if(o===null||a===null)return o===a;if(h=Object.keys(o),Object.keys(a).length!==h.length)return!1;for(let f of h)if(!a.hasOwnProperty(f))return!1;return s.every(o,(f,p)=>{let m=a[p];return s.isEqual(f,m)});default:return o===a}},escapeHtml(o){let a=i.exec(o);if(!a)return o;let l="",c="",u=0,d=a.index;for(;d<o.length;d++){switch(o.charAt(d)){case'"':c="&quot;";break;case"&":c="&amp;";break;case"'":c="&apos;";break;case"<":c="&lt;";break;case">":c="&gt;";break;default:continue}u!==d&&(l+=o.substring(u,d)),u=d+1,l+=c}return u!==d?l+o.substring(u,d):l},strcmp:(o,a)=>o<a?-1:o>a?1:0,isUndefined:o=>r.call(o)==="[object Undefined]",isObject:o=>r.call(o)==="[object Object]",deepMerge(){let o=arguments[0]||{},{length:a}=arguments,l,c,u;function d(h,f){l=o[f],u=Array.isArray(h),s.isObject(h)||u?(u?(u=!1,c=l&&Array.isArray(l)?l:[]):c=l&&s.isObject(l)?l:{},o[f]=s.deepMerge(c,h)):s.isUndefined(h)||(o[f]=h)}for(let h=0;h<a;h++)s.each(arguments[h],d);return o}};t.exports=s},{}],27:[function(e,t,n){(function(r,i){(function(){"use strict";let s=e("fs"),o=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:l=>new Promise(c=>{r.setImmediate?i(()=>{c(l)}):setTimeout(()=>{c(l)},1)}),inherits:function(l,c,u,d){l.super_=c,d||(d=u,u=null),u&&Object.keys(u).forEach(f=>{Object.defineProperty(l,f,Object.getOwnPropertyDescriptor(u,f))});let h={constructor:{value:l,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(f=>{h[f]=Object.getOwnPropertyDescriptor(d,f)}),l.prototype=Object.create(c.prototype,h)},dateToExcel:(l,c)=>25569+l.getTime()/864e5-(c?1462:0),excelToDate(l,c){let u=Math.round(24*(l-25569+(c?1462:0))*3600*1e3);return new Date(u)},parsePath(l){let c=l.lastIndexOf("/");return{path:l.substring(0,c),name:l.substring(c+1)}},getRelsPath(l){let c=a.parsePath(l);return`${c.path}/_rels/${c.name}.rels`},xmlEncode(l){let c=o.exec(l);if(!c)return l;let u="",d="",h=0,f=c.index;for(;f<l.length;f++){let p=l.charCodeAt(f);switch(p){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){d="";break}continue}h!==f&&(u+=l.substring(h,f)),h=f+1,d&&(u+=d)}return h!==f?u+l.substring(h,f):u},xmlDecode:l=>l.replace(/&([a-z]*);/g,c=>{switch(c){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return c}}),validInt(l){let c=parseInt(l,10);return Number.isNaN(c)?0:c},isDateFmt(l){return l?(l=(l=l.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:l=>new Promise(c=>{s.access(l,s.constants.F_OK,u=>{c(!u)})})},toIsoDateString:l=>l.toIsoString().subsstr(0,10),parseBoolean:l=>l===!0||l==="true"||l===1||l==="1"};t.exports=a}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,t,n){"use strict";let r=e("./under-dash"),i=e("./utils");function s(l,c,u){l.push(` ${c}="${i.xmlEncode(u.toString())}"`)}function o(l,c){if(c){let u=[];r.each(c,(d,h)=>{d!==void 0&&s(u,h,d)}),l.push(u.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(c){let u=this._xml;u.push("<?xml"),o(u,c),u.push(`?>
`)}openNode(c,u){let d=this.tos,h=this._xml;d&&this.open&&h.push(">"),this._stack.push(c),h.push("<"),h.push(c),o(h,u),this.leaf=!0,this.open=!0}addAttribute(c,u){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u!==void 0&&s(this._xml,c,u)}addAttributes(c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");o(this._xml,c)}writeText(c){let u=this._xml;this.open&&(u.push(">"),this.open=!1),this.leaf=!1,u.push(i.xmlEncode(c.toString()))}writeXml(c){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(c)}closeNode(){let c=this._stack.pop(),u=this._xml;this.leaf?u.push("/>"):(u.push("</"),u.push(c),u.push(">")),this.open=!1,this.leaf=!1}leafNode(c,u,d){this.openNode(c,u),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){let c=this._rollbacks.pop();this._xml.length>c.xml&&this._xml.splice(c.xml,this._xml.length-c.xml),this._stack.length>c.stack&&this._stack.splice(c.stack,this._stack.length-c.stack),this.leaf=c.leaf,this.open=c.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},t.exports=a},{"./under-dash":26,"./utils":27}],29:[function(e,t,n){(function(r){(function(){"use strict";let i=e("events"),s=e("jszip"),o=e("./stream-buf"),{stringToBuffer:a}=e("./browser-buffer-encode");class l extends i.EventEmitter{constructor(u){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},u),this.zip=new s,this.stream=new o}append(u,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,u,{base64:!0}):(r.browser&&typeof u=="string"&&(u=a(u)),this.zip.file(d.name,u))}async finalize(){let u=await this.zip.generateAsync(this.options);this.stream.end(u),this.emit("finish")}read(u){return this.stream.read(u)}setEncoding(u){return this.stream.setEncoding(u)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(u,d){return this.stream.pipe(u,d)}unpipe(u){return this.stream.unpipe(u)}unshift(u){return this.stream.unshift(u)}wrap(u){return this.stream.wrap(u)}}t.exports={ZipWriter:l}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,t,n){"use strict";t.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},28:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ja-jp":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":'yyyy"\uB144" mm"\uC6D4" dd"\uC77C"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65F6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uC2DC" mm"\uBD84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79D2"',"ko-kr":'h"\uC2DC" mm"\uBD84" ss"\uCD08"'},34:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},51:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},58:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,t,n){"use strict";t.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,t,n){"use strict";let r=e("../../utils/parse-sax"),i=e("../../utils/xml-stream");class s{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,l){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof s?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}async parse(a){for await(let l of a)for(let{eventType:c,value:u}of l)if(c==="opentag")this.parseOpen(u);else if(c==="text")this.parseText(u);else if(c==="closetag"&&!this.parseClose(u.name))return this.model;return this.model}async parseStream(a){return this.parse(r(a))}get xml(){return this.toXml(this.model)}toXml(a){let l=new i;return this.render(l,a),l.xml}static toAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(c)return l}else if(c||a!==l)return a.toString()}static toStringAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,l,c)}static toStringValue(a,l){return a===void 0?l:a}static toBoolAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(c)return l}else if(c||a!==l)return a?"1":"0"}static toBoolValue(a,l){return a===void 0?l:a==="1"}static toIntAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,l,c)}static toIntValue(a,l){return a===void 0?l:parseInt(a,10)}static toFloatAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,l,c)}static toFloatValue(a,l){return a===void 0?l:parseFloat(a)}}t.exports=s},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../../../utils/col-cache");function s(a){try{return i.decodeEx(a),!0}catch{return!1}}function o(a){let l=[],c=!1,u="";return a.split(",").forEach(d=>{if(!d)return;let h=(d.match(/'/g)||[]).length;if(!h)return void(c?u+=d+",":s(d)&&l.push(d));let f=h%2==0;!c&&f&&s(d)?l.push(d):c&&!f?(c=!1,s(u+d)&&l.push(u+d),u=""):(c=!0,u+=d+",")}),l}t.exports=class extends r{render(a,l){a.openNode("definedName",{name:l.name,localSheetId:l.localSheetId}),a.writeText(l.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:o(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,t,n){"use strict";let r=e("../../../utils/utils"),i=e("../base-xform");t.exports=class extends i{render(s,o){s.leafNode("sheet",{sheetId:o.id,name:o.name,state:o.state,"r:id":o.rId})}parseOpen(s){return s.name==="sheet"&&(this.model={name:r.xmlDecode(s.attributes.name),id:parseInt(s.attributes.sheetId,10),state:s.attributes.state,rId:s.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){i.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:s.fullCalcOnLoad?1:void 0})}parseOpen(i){return i.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){i.leafNode("workbookPr",{date1904:s.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(i){return i.name==="workbookPr"&&(this.model={date1904:i.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){let o={xWindow:s.x||0,yWindow:s.y||0,windowWidth:s.width||12e3,windowHeight:s.height||24e3,firstSheet:s.firstSheet,activeTab:s.activeTab};s.visibility&&s.visibility!=="visible"&&(o.visibility=s.visibility),i.leafNode("workbookView",o)}parseOpen(i){if(i.name==="workbookView"){let s=this.model={},o=function(l,c,u){let d=c!==void 0?s[l]=c:u;d!==void 0&&(s[l]=d)},a=function(l,c,u){let d=c!==void 0?s[l]=parseInt(c,10):u;d!==void 0&&(s[l]=d)};return a("x",i.attributes.xWindow,0),a("y",i.attributes.yWindow,0),a("width",i.attributes.windowWidth,25e3),a("height",i.attributes.windowHeight,1e4),o("visibility",i.attributes.visibility,"visible"),a("activeTab",i.attributes.activeTab,void 0),a("firstSheet",i.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../../../utils/col-cache"),s=e("../../../utils/xml-stream"),o=e("../base-xform"),a=e("../static-xform"),l=e("../list-xform"),c=e("./defined-name-xform"),u=e("./sheet-xform"),d=e("./workbook-view-xform"),h=e("./workbook-properties-xform"),f=e("./workbook-calc-properties-xform");class p extends o{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new h,bookViews:new l({tag:"bookViews",count:!1,childXform:new d}),sheets:new l({tag:"sheets",count:!1,childXform:new u}),definedNames:new l({tag:"definedNames",count:!1,childXform:new c}),calcPr:new f}}prepare(g){g.sheets=g.worksheets;let v=[],x=0;g.sheets.forEach(I=>{if(I.pageSetup&&I.pageSetup.printArea&&I.pageSetup.printArea.split("&&").forEach(R=>{let $=R.split(":"),F={name:"_xlnm.Print_Area",ranges:[`'${I.name}'!$${$[0]}:$${$[1]}`],localSheetId:x};v.push(F)}),I.pageSetup&&(I.pageSetup.printTitlesRow||I.pageSetup.printTitlesColumn)){let R=[];if(I.pageSetup.printTitlesColumn){let F=I.pageSetup.printTitlesColumn.split(":");R.push(`'${I.name}'!$${F[0]}:$${F[1]}`)}if(I.pageSetup.printTitlesRow){let F=I.pageSetup.printTitlesRow.split(":");R.push(`'${I.name}'!$${F[0]}:$${F[1]}`)}let $={name:"_xlnm.Print_Titles",ranges:R,localSheetId:x};v.push($)}x++}),v.length&&(g.definedNames=g.definedNames.concat(v)),(g.media||[]).forEach((I,R)=>{I.name=I.type+(R+1)})}render(g,v){g.openXml(s.StdDocAttributes),g.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(g),this.map.workbookPr.render(g,v.properties),this.map.bookViews.render(g,v.views),this.map.sheets.render(g,v.sheets),this.map.definedNames.render(g,v.definedNames),this.map.calcPr.render(g,v.calcProperties),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"workbook":return!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(g){let v=(g.workbookRels||[]).reduce((F,V)=>(F[V.Id]=V,F),{}),x=[],I,R=0;(g.sheets||[]).forEach(F=>{let V=v[F.rId];V&&(I=g.worksheetHash["xl/"+V.Target.replace(/^(\s|\/xl\/)+/,"")],I&&(I.name=F.name,I.id=F.id,I.state=F.state,x[R++]=I))});let $=[];r.each(g.definedNames,F=>{if(F.name==="_xlnm.Print_Area"){if(I=x[F.localSheetId],I){I.pageSetup||(I.pageSetup={});let V=i.decodeEx(F.ranges[0]);I.pageSetup.printArea=I.pageSetup.printArea?`${I.pageSetup.printArea}&&${V.dimensions}`:V.dimensions}}else if(F.name==="_xlnm.Print_Titles"){if(I=x[F.localSheetId],I){I.pageSetup||(I.pageSetup={});let V=F.ranges.join(","),U=/\$/g,q=/\$\d+:\$\d+/,j=V.match(q);if(j&&j.length){let O=j[0];I.pageSetup.printTitlesRow=O.replace(U,"")}let S=/\$[A-Z]+:\$[A-Z]+/,T=V.match(S);if(T&&T.length){let O=T[0];I.pageSetup.printTitlesColumn=O.replace(U,"")}}}else $.push(F)}),g.definedNames=$,g.media.forEach((F,V)=>{F.index=V})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},t.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,t,n){"use strict";let r=e("../strings/rich-text-xform"),i=e("../../../utils/utils"),s=e("../base-xform"),o=t.exports=function(a){this.model=a};i.inherits(o,s,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new r),this._richTextXform},render(a,l){l=l||this.model,a.openNode("comment",{ref:l.ref,authorId:0}),a.openNode("text"),l&&l.note&&l.note.texts&&l.note.texts.forEach(c=>{this.richTextXform.render(a,c)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model=ct({type:"note",note:{texts:[]}},a.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../../../utils/utils"),s=e("../base-xform"),o=e("./comment-xform"),a=t.exports=function(){this.map={comment:new o}};i.inherits(a,s,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(l,c){c=c||this.model,l.openXml(r.StdDocAttributes),l.openNode("comments",a.COMMENTS_ATTRIBUTES),l.openNode("authors"),l.leafNode("author",null,"Author"),l.closeNode(),l.openNode("commentList"),c.comments.forEach(u=>{this.map.comment.render(l,u)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,s,o){(s===o[2]||this.tag==="x:SizeWithCells"&&s===o[1])&&i.leafNode(this.tag)}parseOpen(i){switch(i.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"x:Anchor"}getAnchorRect(i){let s=Math.floor(i.left),o=Math.floor(68*(i.left-s)),a=Math.floor(i.top),l=Math.floor(18*(i.top-a)),c=Math.floor(i.right),u=Math.floor(68*(i.right-c)),d=Math.floor(i.bottom);return[s,o,a,l,c,u,d,Math.floor(18*(i.bottom-d))]}getDefaultRect(i){let s=i.col,o=Math.max(i.row-2,0);return[s,6,o,14,s+2,2,o+4,16]}render(i,s){let o=s.anchor?this.getAnchorRect(s.anchor):this.getDefaultRect(s.refAddress);i.leafNode("x:Anchor",null,o.join(", "))}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./vml-anchor-xform"),s=e("./style/vml-protection-xform"),o=e("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];t.exports=class extends r{constructor(){super(),this.map={"x:Anchor":new i,"x:Locked":new s({tag:"x:Locked"}),"x:LockText":new s({tag:"x:LockText"}),"x:SizeWithCells":new o({tag:"x:SizeWithCells"}),"x:MoveWithCells":new o({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(l,c){let{protection:u,editAs:d}=c.note;l.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(l,d,a),this.map["x:SizeWithCells"].render(l,d,a),this.map["x:Anchor"].render(l,c),this.map["x:Locked"].render(l,u.locked),l.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(l,u.lockText),l.leafNode("x:Row",null,c.refAddress.row-1),l.leafNode("x:Column",null,c.refAddress.col-1),l.closeNode()}parseOpen(l){switch(l.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){let l=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),c=Object.keys(l).length;this.model.editAs=a[c],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("./vml-shape-xform");class o extends i{constructor(){super(),this.map={"v:shape":new s}}get tag(){return"xml"}render(l,c){l.openXml(r.StdDocAttributes),l.openNode(this.tag,o.DRAWING_ATTRIBUTES),l.openNode("o:shapelayout",{"v:ext":"edit"}),l.leafNode("o:idmap",{"v:ext":"edit",data:1}),l.closeNode(),l.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),l.leafNode("v:stroke",{joinstyle:"miter"}),l.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),l.closeNode(),c.comments.forEach((u,d)=>{this.map["v:shape"].render(l,u,d)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,c){l.anchors.forEach(u=>{u.br?this.map["xdr:twoCellAnchor"].reconcile(u,c):this.map["xdr:oneCellAnchor"].reconcile(u,c)})}}o.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},t.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./vml-textbox-xform"),s=e("./vml-client-data-xform");class o extends r{constructor(){super(),this.map={"v:textbox":new i,"x:ClientData":new s}}get tag(){return"v:shape"}render(l,c,u){l.openNode("v:shape",o.V_SHAPE_ATTRIBUTES(c,u)),l.leafNode("v:fill",{color2:"infoBackground [80]"}),l.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),l.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(l,c),this.map["x:ClientData"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={margins:{insetmode:l.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}o.V_SHAPE_ATTRIBUTES=(a,l)=>({id:"_x0000_s"+(1025+l),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),t.exports=o},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"v:textbox"}conversionUnit(i,s,o){return`${parseFloat(i)*s.toFixed(2)}${o}`}reverseConversionUnit(i){return(i||"").split(",").map(s=>Number(parseFloat(this.conversionUnit(parseFloat(s),.1,"")).toFixed(2)))}render(i,s){let o={style:"mso-direction-alt:auto"};if(s&&s.note){let{inset:a}=s.note&&s.note.margins;Array.isArray(a)&&(a=a.map(l=>this.conversionUnit(l,10,"mm")).join(",")),a&&(o.inset=a)}i.openNode("v:textbox",o),i.leafNode("div",{style:"text-align:left"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:return this.model={inset:this.reverseConversionUnit(i.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,t,n){"use strict";let r=e("./base-xform");t.exports=class extends r{createNewModel(i){return{}}parseOpen(i){return this.parser=this.parser||this.map[i.name],this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag&&(this.model=this.createNewModel(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}onParserClose(i,s){this.model[i]=s.model}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.onParserClose(i,this.parser),this.parser=void 0),!0):i!==this.tag}}},{"./base-xform":32}],49:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){i.openNode("HeadingPairs"),i.openNode("vt:vector",{size:2,baseType:"variant"}),i.openNode("vt:variant"),i.leafNode("vt:lpstr",void 0,"Worksheets"),i.closeNode(),i.openNode("vt:variant"),i.leafNode("vt:i4",void 0,s.length),i.closeNode(),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="HeadingPairs"}parseText(){}parseClose(i){return i!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){i.openNode("TitlesOfParts"),i.openNode("vt:vector",{size:s.length,baseType:"lpstr"}),s.forEach(o=>{i.leafNode("vt:lpstr",void 0,o.name)}),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="TitlesOfParts"}parseText(){}parseClose(i){return i!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("../simple/string-xform"),o=e("./app-heading-pairs-xform"),a=e("./app-titles-of-parts-xform");class l extends i{constructor(){super(),this.map={Company:new s({tag:"Company"}),Manager:new s({tag:"Manager"}),HeadingPairs:new o,TitleOfParts:new a}}render(u,d){u.openXml(r.StdDocAttributes),u.openNode("Properties",l.PROPERTY_ATTRIBUTES),u.leafNode("Application",void 0,"Microsoft Excel"),u.leafNode("DocSecurity",void 0,"0"),u.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(u,d.worksheets),this.map.TitleOfParts.render(u,d.worksheets),this.map.Company.render(u,d.company||""),this.map.Manager.render(u,d.manager),u.leafNode("LinksUpToDate",void 0,"false"),u.leafNode("SharedDoc",void 0,"false"),u.leafNode("HyperlinksChanged",void 0,"false"),u.leafNode("AppVersion",void 0,"16.0300"),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Properties":return!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}l.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3,6}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},t.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform");class s extends i{render(a,l){a.openXml(r.StdDocAttributes),a.openNode("Types",s.PROPERTY_ATTRIBUTES);let c={};(l.media||[]).forEach(u=>{if(u.type==="image"){let d=u.extension;c[d]||(c[d]=!0,a.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),l.worksheets.forEach(u=>{let d=`/xl/worksheets/sheet${u.id}.xml`;a.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),l.sharedStrings&&l.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),l.tables&&l.tables.forEach(u=>{a.leafNode("Override",{PartName:"/xl/tables/"+u.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),l.drawings&&l.drawings.forEach(u=>{a.leafNode("Override",{PartName:`/xl/drawings/${u.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),l.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),l.commentRefs.forEach(u=>{let{commentName:d}=u;a.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}s.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},t.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("../simple/date-xform"),o=e("../simple/string-xform"),a=e("../simple/integer-xform");class l extends i{constructor(){super(),this.map={"dc:creator":new o({tag:"dc:creator"}),"dc:title":new o({tag:"dc:title"}),"dc:subject":new o({tag:"dc:subject"}),"dc:description":new o({tag:"dc:description"}),"dc:identifier":new o({tag:"dc:identifier"}),"dc:language":new o({tag:"dc:language"}),"cp:keywords":new o({tag:"cp:keywords"}),"cp:category":new o({tag:"cp:category"}),"cp:lastModifiedBy":new o({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new s({tag:"cp:lastPrinted",format:l.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new o({tag:"cp:version"}),"cp:contentStatus":new o({tag:"cp:contentStatus"}),"cp:contentType":new o({tag:"cp:contentType"}),"dcterms:created":new s({tag:"dcterms:created",attrs:l.DateAttrs,format:l.DateFormat}),"dcterms:modified":new s({tag:"dcterms:modified",attrs:l.DateAttrs,format:l.DateFormat})}}render(u,d){u.openXml(r.StdDocAttributes),u.openNode("cp:coreProperties",l.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(u,d.creator),this.map["dc:title"].render(u,d.title),this.map["dc:subject"].render(u,d.subject),this.map["dc:description"].render(u,d.description),this.map["dc:identifier"].render(u,d.identifier),this.map["dc:language"].render(u,d.language),this.map["cp:keywords"].render(u,d.keywords),this.map["cp:category"].render(u,d.category),this.map["cp:lastModifiedBy"].render(u,d.lastModifiedBy),this.map["cp:lastPrinted"].render(u,d.lastPrinted),this.map["cp:revision"].render(u,d.revision),this.map["cp:version"].render(u,d.version),this.map["cp:contentStatus"].render(u,d.contentStatus),this.map["cp:contentType"].render(u,d.contentType),this.map["dcterms:created"].render(u,d.created),this.map["dcterms:modified"].render(u,d.modified),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},t.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){i.leafNode("Relationship",s)}parseOpen(i){switch(i.name){case"Relationship":return this.model=i.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("./relationship-xform");class o extends i{constructor(){super(),this.map={Relationship:new s}}render(l,c){c=c||this._values,l.openXml(r.StdDocAttributes),l.openNode("Relationships",o.RELATIONSHIPS_ATTRIBUTES),c.forEach(u=>{this.map.Relationship.render(l,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[l.name],this.parser)return this.parser.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(l){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}o.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},t.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={range:{editAs:i.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}reconcilePicture(i,s){if(i&&i.rId){let o=s.rels[i.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(o){let a=o[1],l=s.mediaIndex[a];return s.media[l]}}}}},{"../base-xform":32}],57:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./blip-xform");t.exports=class extends r{constructor(){super(),this.map={"a:blip":new i}}get tag(){return"xdr:blipFill"}render(s,o){s.openNode(this.tag),this.map["a:blip"].render(s,o),s.openNode("a:stretch"),s.leafNode("a:fillRect"),s.closeNode(),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"a:blip"}render(i,s){i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":s.rId,cstate:"print"})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"xdr:cNvPicPr"}render(i){i.openNode(this.tag),i.leafNode("a:picLocks",{noChangeAspect:"1"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./hlink-click-xform"),s=e("./ext-lst-xform");t.exports=class extends r{constructor(){super(),this.map={"a:hlinkClick":new i,"a:extLst":new s}}get tag(){return"xdr:cNvPr"}render(o,a){o.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(o,a),this.map["a:extLst"].render(o,a),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../simple/integer-xform");t.exports=class extends r{constructor(s){super(),this.tag=s.tag,this.map={"xdr:col":new i({tag:"xdr:col",zero:!0}),"xdr:colOff":new i({tag:"xdr:colOff",zero:!0}),"xdr:row":new i({tag:"xdr:row",zero:!0}),"xdr:rowOff":new i({tag:"xdr:rowOff",zero:!0})}}render(s,o){s.openNode(this.tag),this.map["xdr:col"].render(s,o.nativeCol),this.map["xdr:colOff"].render(s,o.nativeColOff),this.map["xdr:row"].render(s,o.nativeRow),this.map["xdr:rowOff"].render(s,o.nativeRowOff),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,t,n){"use strict";let r=e("../../../utils/col-cache"),i=e("../../../utils/xml-stream"),s=e("../base-xform"),o=e("./two-cell-anchor-xform"),a=e("./one-cell-anchor-xform");class l extends s{constructor(){super(),this.map={"xdr:twoCellAnchor":new o,"xdr:oneCellAnchor":new a}}prepare(u){u.anchors.forEach((d,h)=>{d.anchorType=function(f){return(typeof f.range=="string"?r.decode(f.range):f.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(d),this.map[d.anchorType].prepare(d,{index:h})})}get tag(){return"xdr:wsDr"}render(u,d){u.openXml(i.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),d.anchors.forEach(h=>{this.map[h.anchorType].render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,d){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,d):this.map["xdr:oneCellAnchor"].reconcile(h,d)})}}l.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},t.exports=l},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"a:extLst"}render(i){i.openNode(this.tag),i.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),i.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),i.closeNode(),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.map={}}render(i,s){i.openNode(this.tag);let o=Math.floor(9525*s.width),a=Math.floor(9525*s.height);i.addAttribute("cx",o),i.addAttribute("cy",a),i.closeNode()}parseOpen(i){return i.name===this.tag&&(this.model={width:parseInt(i.attributes.cx||"0",10)/9525,height:parseInt(i.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"a:hlinkClick"}render(i,s){s.hyperlinks&&s.hyperlinks.rId&&i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":s.hyperlinks.rId,tooltip:s.hyperlinks.tooltip})}parseOpen(i){switch(i.name){case this.tag:return this.model={hyperlinks:{rId:i.attributes["r:id"],tooltip:i.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./c-nv-pr-xform"),s=e("./c-nv-pic-pr-xform");t.exports=class extends r{constructor(){super(),this.map={"xdr:cNvPr":new i,"xdr:cNvPicPr":new s}}get tag(){return"xdr:nvPicPr"}render(o,a){o.openNode(this.tag),this.map["xdr:cNvPr"].render(o,a),this.map["xdr:cNvPicPr"].render(o,a),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,t,n){"use strict";let r=e("./base-cell-anchor-xform"),i=e("../static-xform"),s=e("./cell-position-xform"),o=e("./ext-xform"),a=e("./pic-xform");t.exports=class extends r{constructor(){super(),this.map={"xdr:from":new s({tag:"xdr:from"}),"xdr:ext":new o({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(l,c){this.map["xdr:pic"].prepare(l.picture,c)}render(l,c){l.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,c.range.tl),this.map["xdr:ext"].render(l,c.range.ext),this.map["xdr:pic"].render(l,c.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,c){l.medium=this.reconcilePicture(l.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../static-xform"),s=e("./blip-fill-xform"),o=e("./nv-pic-pr-xform"),a=e("./sp-pr");t.exports=class extends r{constructor(){super(),this.map={"xdr:nvPicPr":new o,"xdr:blipFill":new s,"xdr:spPr":new i(a)}}get tag(){return"xdr:pic"}prepare(l,c){l.index=c.index+1}render(l,c){l.openNode(this.tag),this.map["xdr:nvPicPr"].render(l,c),this.map["xdr:blipFill"].render(l,c),this.map["xdr:spPr"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,t,n){"use strict";t.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,t,n){"use strict";let r=e("./base-cell-anchor-xform"),i=e("../static-xform"),s=e("./cell-position-xform"),o=e("./pic-xform");t.exports=class extends r{constructor(){super(),this.map={"xdr:from":new s({tag:"xdr:from"}),"xdr:to":new s({tag:"xdr:to"}),"xdr:pic":new o,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,l){this.map["xdr:pic"].prepare(a.picture,l)}render(a,l){a.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,l.range.tl),this.map["xdr:to"].render(a,l.range.br),this.map["xdr:pic"].render(a,l.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,l){a.medium=this.reconcilePicture(a.picture,l)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,t,n){"use strict";let r=e("./base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.always=!!i.always,this.count=i.count,this.empty=i.empty,this.$count=i.$count||"count",this.$=i.$,this.childXform=i.childXform,this.maxItems=i.maxItems}prepare(i,s){let{childXform:o}=this;i&&i.forEach((a,l)=>{s.index=l,o.prepare(a,s)})}render(i,s){if(this.always||s&&s.length){i.openNode(this.tag,this.$),this.count&&i.addAttribute(this.$count,s&&s.length||0);let{childXform:o}=this;(s||[]).forEach((a,l)=>{o.render(i,a,l)}),i.closeNode()}else this.empty&&i.leafNode(this.tag)}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(i)&&(this.parser=this.childXform,!0)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(i,s){if(i){let{childXform:o}=this;i.forEach(a=>{o.reconcile(a,s)})}}}},{"./base-xform":32}],72:[function(e,t,n){"use strict";let r=e("../../../utils/col-cache"),i=e("../base-xform");t.exports=class extends i{get tag(){return"autoFilter"}render(s,o){if(o)if(typeof o=="string")s.leafNode("autoFilter",{ref:o});else{let a=function(u){return typeof u=="string"?u:r.getAddress(u.row,u.column).address},l=a(o.from),c=a(o.to);l&&c&&s.leafNode("autoFilter",{ref:`${l}:${c}`})}}parseOpen(s){s.name==="autoFilter"&&(this.model=s.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,t,n){"use strict";let r=e("../../../utils/utils"),i=e("../base-xform"),s=e("../../../doc/range"),o=e("../../../doc/enums"),a=e("../strings/rich-text-xform");function l(c){if(c==null)return o.ValueType.Null;if(c instanceof String||typeof c=="string")return o.ValueType.String;if(typeof c=="number")return o.ValueType.Number;if(typeof c=="boolean")return o.ValueType.Boolean;if(c instanceof Date)return o.ValueType.Date;if(c.text&&c.hyperlink)return o.ValueType.Hyperlink;if(c.formula)return o.ValueType.Formula;if(c.error)return o.ValueType.Error;throw new Error("I could not understand type of value")}t.exports=class extends i{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(c,u){let d=u.styles.addStyleModel(c.style||{},function(h){switch(h.type){case o.ValueType.Formula:return l(h.result);default:return h.type}}(c));switch(d&&(c.styleId=d),c.comment&&u.comments.push(Yt(ct({},c.comment),{ref:c.address})),c.type){case o.ValueType.String:case o.ValueType.RichText:u.sharedStrings&&(c.ssId=u.sharedStrings.add(c.value));break;case o.ValueType.Date:u.date1904&&(c.date1904=!0);break;case o.ValueType.Hyperlink:u.sharedStrings&&c.text!==void 0&&c.text!==null&&(c.ssId=u.sharedStrings.add(c.text)),u.hyperlinks.push({address:c.address,target:c.hyperlink,tooltip:c.tooltip});break;case o.ValueType.Merge:u.merges.add(c);break;case o.ValueType.Formula:if(u.date1904&&(c.date1904=!0),c.shareType==="shared"&&(c.si=u.siFormulae++),c.formula)u.formulae[c.address]=c;else if(c.sharedFormula){let h=u.formulae[c.sharedFormula];if(!h)throw new Error("Shared Formula master must exist above and or left of clone for cell "+c.address);h.si===void 0?(h.shareType="shared",h.si=u.siFormulae++,h.range=new s(h.address,c.address)):h.range&&h.range.expandToAddress(c.address),c.si=h.si}}}renderFormula(c,u){let d=null;switch(u.shareType){case"shared":d={t:"shared",ref:u.ref||u.range.range,si:u.si};break;case"array":d={t:"array",ref:u.ref};break;default:u.si!==void 0&&(d={t:"shared",si:u.si})}switch(l(u.result)){case o.ValueType.Null:c.leafNode("f",d,u.formula);break;case o.ValueType.String:c.addAttribute("t","str"),c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result);break;case o.ValueType.Number:c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result);break;case o.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result?1:0);break;case o.ValueType.Error:c.addAttribute("t","e"),c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result.error);break;case o.ValueType.Date:c.leafNode("f",d,u.formula),c.leafNode("v",null,r.dateToExcel(u.result,u.date1904));break;default:throw new Error("I could not understand type of value")}}render(c,u){if(u.type!==o.ValueType.Null||u.styleId){switch(c.openNode("c"),c.addAttribute("r",u.address),u.styleId&&c.addAttribute("s",u.styleId),u.type){case o.ValueType.Null:break;case o.ValueType.Number:c.leafNode("v",null,u.value);break;case o.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("v",null,u.value?"1":"0");break;case o.ValueType.Error:c.addAttribute("t","e"),c.leafNode("v",null,u.value.error);break;case o.ValueType.String:case o.ValueType.RichText:u.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,u.ssId)):u.value&&u.value.richText?(c.addAttribute("t","inlineStr"),c.openNode("is"),u.value.richText.forEach(d=>{this.richTextXForm.render(c,d)}),c.closeNode("is")):(c.addAttribute("t","str"),c.leafNode("v",null,u.value));break;case o.ValueType.Date:c.leafNode("v",null,r.dateToExcel(u.value,u.date1904));break;case o.ValueType.Hyperlink:u.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,u.ssId)):(c.addAttribute("t","str"),c.leafNode("v",null,u.text));break;case o.ValueType.Formula:this.renderFormula(c,u);break;case o.ValueType.Merge:}c.closeNode()}}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"c":return this.model={address:c.attributes.r},this.t=c.attributes.t,c.attributes.s&&(this.model.styleId=parseInt(c.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=c.attributes.si,this.model.shareType=c.attributes.t,this.model.ref=c.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){if(this.parser)this.parser.parseText(c);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+c:c;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+c:c:this.model.value=this.model.value?this.model.value+c:c}}parseClose(c){switch(c){case"c":{let{model:u}=this;if(u.formula||u.shareType)u.type=o.ValueType.Formula,u.value&&(this.t==="str"?u.result=r.xmlDecode(u.value):this.t==="b"?u.result=parseInt(u.value,10)!==0:this.t==="e"?u.result={error:u.value}:u.result=parseFloat(u.value),u.value=void 0);else if(u.value!==void 0)switch(this.t){case"s":u.type=o.ValueType.String,u.value=parseInt(u.value,10);break;case"str":u.type=o.ValueType.String,u.value=r.xmlDecode(u.value);break;case"inlineStr":u.type=o.ValueType.String;break;case"b":u.type=o.ValueType.Boolean,u.value=parseInt(u.value,10)!==0;break;case"e":u.type=o.ValueType.Error,u.value={error:u.value};break;default:u.type=o.ValueType.Number,u.value=parseFloat(u.value)}else u.styleId?u.type=o.ValueType.Null:u.type=o.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(c),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(c),!0)}}reconcile(c,u){let d=c.styleId&&u.styles&&u.styles.getStyleModel(c.styleId);switch(d&&(c.style=d),c.styleId!==void 0&&(c.styleId=void 0),c.type){case o.ValueType.String:typeof c.value=="number"&&u.sharedStrings&&(c.value=u.sharedStrings.getString(c.value)),c.value.richText&&(c.type=o.ValueType.RichText);break;case o.ValueType.Number:d&&r.isDateFmt(d.numFmt)&&(c.type=o.ValueType.Date,c.value=r.excelToDate(c.value,u.date1904));break;case o.ValueType.Formula:c.result!==void 0&&d&&r.isDateFmt(d.numFmt)&&(c.result=r.excelToDate(c.result,u.date1904)),c.shareType==="shared"&&(c.ref?u.formulae[c.si]=c.address:(c.sharedFormula=u.formulae[c.si],delete c.shareType),delete c.si)}let h=u.hyperlinkMap[c.address];h&&(c.type===o.ValueType.Formula?(c.text=c.result,c.result=void 0):(c.text=c.value,c.value=void 0),c.type=o.ValueType.Hyperlink,c.hyperlink=h);let f=u.commentsMap&&u.commentsMap[c.address];f&&(c.comment=f)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{get tag(){return"x14:cfIcon"}render(i,s){i.leafNode(this.tag,{iconSet:s.iconSet,iconId:s.iconId})}parseOpen(i){let{attributes:s}=i;this.model={iconSet:s.iconSet,iconId:r.toIntValue(s.iconId)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],75:[function(e,t,n){"use strict";let{v4:r}=e("uuid"),i=e("../../base-xform"),s=e("../../composite-xform"),o=e("./databar-ext-xform"),a=e("./icon-set-ext-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class c extends s{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new o,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?o.isExt(d):!(d.type!=="iconSet"||!d.custom&&!l[d.iconSet])}prepare(d){c.isExt(d)&&(d.x14Id=`{${r()}}`.toUpperCase())}render(d,h){if(c.isExt(h))switch(h.type){case"dataBar":this.renderDataBar(d,h);break;case"iconSet":this.renderIconSet(d,h)}}renderDataBar(d,h){d.openNode(this.tag,{type:"dataBar",id:h.x14Id}),this.databarXform.render(d,h),d.closeNode()}renderIconSet(d,h){d.openNode(this.tag,{type:"iconSet",priority:h.priority,id:h.x14Id||`{${r()}}`}),this.iconSetXform.render(d,h),d.closeNode()}createNewModel(d){let{attributes:h}=d;return{type:h.type,x14Id:h.id,priority:i.toIntValue(h.priority)}}onParserClose(d,h){Object.assign(this.model,h.model)}}t.exports=c},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("./f-ext-xform");t.exports=class extends r{constructor(){super(),this.map={"xm:f":this.fExtXform=new i}}get tag(){return"x14:cfvo"}render(s,o){s.openNode(this.tag,{type:o.type}),o.value!==void 0&&this.fExtXform.render(s,o.value),s.closeNode()}createNewModel(s){return{type:s.attributes.type}}onParserClose(s,o){switch(s){case"xm:f":this.model.value=o.model?parseFloat(o.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("./sqref-ext-xform"),s=e("./cf-rule-ext-xform");t.exports=class extends r{constructor(){super(),this.map={"xm:sqref":this.sqRef=new i,"x14:cfRule":this.cfRule=new s}}get tag(){return"x14:conditionalFormatting"}prepare(o,a){o.rules.forEach(l=>{this.cfRule.prepare(l,a)})}render(o,a){a.rules.some(s.isExt)&&(o.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(s.isExt).forEach(l=>this.cfRule.render(o,l)),this.sqRef.render(o,a.ref),o.closeNode())}createNewModel(){return{rules:[]}}onParserClose(o,a){switch(o){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("./cf-rule-ext-xform"),s=e("./conditional-formatting-ext-xform");t.exports=class extends r{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new s}}get tag(){return"x14:conditionalFormattings"}hasContent(o){return o.hasExtContent===void 0&&(o.hasExtContent=o.some(a=>a.rules.some(i.isExt))),o.hasExtContent}prepare(o,a){o.forEach(l=>{this.cfXform.prepare(l,a)})}render(o,a){this.hasContent(a)&&(o.openNode(this.tag),a.forEach(l=>this.cfXform.render(o,l)),o.closeNode())}createNewModel(){return[]}onParserClose(o,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("../../composite-xform"),s=e("../../style/color-xform"),o=e("./cfvo-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:borderColor":this.borderColorXform=new s("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new s("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new s("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new s("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,l){a.openNode(this.tag,{minLength:r.toIntAttribute(l.minLength,0,!0),maxLength:r.toIntAttribute(l.maxLength,100,!0),border:r.toBoolAttribute(l.border,!1),gradient:r.toBoolAttribute(l.gradient,!0),negativeBarColorSameAsPositive:r.toBoolAttribute(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolAttribute(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toAttribute(l.axisPosition,"auto"),direction:r.toAttribute(l.direction,"leftToRight")}),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),this.borderColorXform.render(a,l.borderColor),this.negativeBorderColorXform.render(a,l.negativeBorderColor),this.negativeFillColorXform.render(a,l.negativeFillColor),this.axisColorXform.render(a,l.axisColor),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],minLength:r.toIntValue(l.minLength,0),maxLength:r.toIntValue(l.maxLength,100),border:r.toBoolValue(l.border,!1),gradient:r.toBoolValue(l.gradient,!0),negativeBarColorSameAsPositive:r.toBoolValue(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolValue(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toStringValue(l.axisPosition,"auto"),direction:r.toStringValue(l.direction,"leftToRight")}}onParserClose(a,l){let[,c]=a.split(":");switch(c){case"cfvo":this.model.cfvo.push(l.model);break;default:this.model[c]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{get tag(){return"xm:f"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],81:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("../../composite-xform"),s=e("./cfvo-ext-xform"),o=e("./cf-icon-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:cfIcon":this.cfIconXform=new o}}get tag(){return"x14:iconSet"}render(a,l){a.openNode(this.tag,{iconSet:r.toStringAttribute(l.iconSet),reverse:r.toBoolAttribute(l.reverse,!1),showValue:r.toBoolAttribute(l.showValue,!0),custom:r.toBoolAttribute(l.icons,!1)}),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),l.icons&&l.icons.forEach((c,u)=>{c.iconId=u,this.cfIconXform.render(a,c)}),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],iconSet:r.toStringValue(l.iconSet,"3TrafficLights"),reverse:r.toBoolValue(l.reverse,!1),showValue:r.toBoolValue(l.showValue,!0)}}onParserClose(a,l){let[,c]=a.split(":");switch(c){case"cfvo":this.model.cfvo.push(l.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(l.model);break;default:this.model[c]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{get tag(){return"xm:sqref"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],83:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("../../composite-xform"),s=e("../../../../doc/range"),o=e("./databar-xform"),a=e("./ext-lst-ref-xform"),l=e("./formula-xform"),c=e("./color-scale-xform"),u=e("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},h=p=>{let{type:m,operator:g}=p;switch(m){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:m};default:return{type:m,operator:g}}};class f extends i{constructor(){super(),this.map={dataBar:this.databarXform=new o,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new l,colorScale:this.colorScaleXform=new c,iconSet:this.iconSetXform=new u}}get tag(){return"cfRule"}static isPrimitive(m){return m.type!=="iconSet"||!m.custom&&!d[m.iconSet]}render(m,g){switch(g.type){case"expression":this.renderExpression(m,g);break;case"cellIs":this.renderCellIs(m,g);break;case"top10":this.renderTop10(m,g);break;case"aboveAverage":this.renderAboveAverage(m,g);break;case"dataBar":this.renderDataBar(m,g);break;case"colorScale":this.renderColorScale(m,g);break;case"iconSet":this.renderIconSet(m,g);break;case"containsText":this.renderText(m,g);break;case"timePeriod":this.renderTimePeriod(m,g)}}renderExpression(m,g){m.openNode(this.tag,{type:"expression",dxfId:g.dxfId,priority:g.priority}),this.formulaXform.render(m,g.formulae[0]),m.closeNode()}renderCellIs(m,g){m.openNode(this.tag,{type:"cellIs",dxfId:g.dxfId,priority:g.priority,operator:g.operator}),g.formulae.forEach(v=>{this.formulaXform.render(m,v)}),m.closeNode()}renderTop10(m,g){m.leafNode(this.tag,{type:"top10",dxfId:g.dxfId,priority:g.priority,percent:r.toBoolAttribute(g.percent,!1),bottom:r.toBoolAttribute(g.bottom,!1),rank:r.toIntValue(g.rank,10,!0)})}renderAboveAverage(m,g){m.leafNode(this.tag,{type:"aboveAverage",dxfId:g.dxfId,priority:g.priority,aboveAverage:r.toBoolAttribute(g.aboveAverage,!0)})}renderDataBar(m,g){m.openNode(this.tag,{type:"dataBar",priority:g.priority}),this.databarXform.render(m,g),this.extLstRefXform.render(m,g),m.closeNode()}renderColorScale(m,g){m.openNode(this.tag,{type:"colorScale",priority:g.priority}),this.colorScaleXform.render(m,g),m.closeNode()}renderIconSet(m,g){f.isPrimitive(g)&&(m.openNode(this.tag,{type:"iconSet",priority:g.priority}),this.iconSetXform.render(m,g),m.closeNode())}renderText(m,g){m.openNode(this.tag,{type:g.operator,dxfId:g.dxfId,priority:g.priority,operator:r.toStringAttribute(g.operator,"containsText")});let v=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let I=new s(x.ref),{tl:R}=I;switch(x.operator){case"containsText":return`NOT(ISERROR(SEARCH("${x.text}",${R})))`;case"containsBlanks":return`LEN(TRIM(${R}))=0`;case"notContainsBlanks":return`LEN(TRIM(${R}))>0`;case"containsErrors":return`ISERROR(${R})`;case"notContainsErrors":return`NOT(ISERROR(${R}))`;default:return}})(g);v&&this.formulaXform.render(m,v),m.closeNode()}renderTimePeriod(m,g){m.openNode(this.tag,{type:"timePeriod",dxfId:g.dxfId,priority:g.priority,timePeriod:g.timePeriod});let v=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let I=new s(x.ref),{tl:R}=I;switch(x.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${R},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${R},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${R},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${R},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${R},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${R},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${R},1)=TODAY()-1`;case"today":return`FLOOR(${R},1)=TODAY()`;case"tomorrow":return`FLOOR(${R},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${R},1)<=6,FLOOR(${R},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${R})=MONTH(EDATE(TODAY(),0-1)),YEAR(${R})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${R})=MONTH(TODAY()),YEAR(${R})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${R})=MONTH(EDATE(TODAY(),0+1)),YEAR(${R})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(g);v&&this.formulaXform.render(m,v),m.closeNode()}createNewModel(m){let{attributes:g}=m;return Yt(ct({},h(g)),{dxfId:r.toIntValue(g.dxfId),priority:r.toIntValue(g.priority),timePeriod:g.timePeriod,percent:r.toBoolValue(g.percent),bottom:r.toBoolValue(g.bottom),rank:r.toIntValue(g.rank),aboveAverage:r.toBoolValue(g.aboveAverage)})}onParserClose(m,g){switch(m){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,g.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(g.model)}}}t.exports=f},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{get tag(){return"cfvo"}render(i,s){i.leafNode(this.tag,{type:s.type,val:s.value})}parseOpen(i){this.model={type:i.attributes.type,value:r.toFloatValue(i.attributes.val)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],85:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("../../style/color-xform"),s=e("./cfvo-xform");t.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new s,color:this.colorXform=new i}}get tag(){return"colorScale"}render(o,a){o.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(o,l)}),a.color.forEach(l=>{this.colorXform.render(o,l)}),o.closeNode()}createNewModel(o){return{cfvo:[],color:[]}}onParserClose(o,a){this.model[o].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("./cf-rule-xform");t.exports=class extends r{constructor(){super(),this.map={cfRule:new i}}get tag(){return"conditionalFormatting"}render(s,o){o.rules.some(i.isPrimitive)&&(s.openNode(this.tag,{sqref:o.ref}),o.rules.forEach(a=>{i.isPrimitive(a)&&(a.ref=o.ref,this.map.cfRule.render(s,a))}),s.closeNode())}createNewModel(s){let{attributes:o}=s;return{ref:o.sqref,rules:[]}}onParserClose(s,o){this.model.rules.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("./conditional-formatting-xform");t.exports=class extends r{constructor(){super(),this.cfXform=new i}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(s,o){let a=s.reduce((l,c)=>Math.max(l,...c.rules.map(u=>u.priority||0)),1);s.forEach(l=>{l.rules.forEach(c=>{c.priority||(c.priority=a++),c.style&&(c.dxfId=o.styles.addDxfStyle(c.style))})})}render(s,o){o.forEach(a=>{this.cfXform.render(s,a)})}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return!!this.parser&&(!!this.parser.parseClose(s)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(s,o){s.forEach(a=>{a.rules.forEach(l=>{l.dxfId!==void 0&&(l.style=o.styles.getDxfStyle(l.dxfId),delete l.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("../../style/color-xform"),s=e("./cfvo-xform");t.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new s,color:this.colorXform=new i}}get tag(){return"dataBar"}render(o,a){o.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(o,l)}),this.colorXform.render(o,a.color),o.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(o,a){switch(o){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("../../composite-xform");class s extends r{get tag(){return"x14:id"}render(l,c){l.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(l){this.model+=l}parseClose(l){return l!==this.tag}}class o extends i{constructor(){super(),this.map={"x14:id":this.idXform=new s}}get tag(){return"ext"}render(l,c){l.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(l,c.x14Id),l.closeNode()}createNewModel(){return{}}onParserClose(l,c){this.model.x14Id=c.model}}t.exports=class extends i{constructor(){super(),this.map={ext:new o}}get tag(){return"extLst"}render(a,l){a.openNode(this.tag),this.map.ext.render(a,l),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){Object.assign(this.model,l.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{get tag(){return"formula"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],91:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("../../composite-xform"),s=e("./cfvo-xform");t.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new s}}get tag(){return"iconSet"}render(o,a){o.openNode(this.tag,{iconSet:r.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:r.toBoolAttribute(a.reverse,!1),showValue:r.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(l=>{this.cfvoXform.render(o,l)}),o.closeNode()}createNewModel(o){let{attributes:a}=o;return{iconSet:r.toStringValue(a.iconSet,"3TrafficLights"),reverse:r.toBoolValue(a.reverse),showValue:r.toBoolValue(a.showValue),cfvo:[]}}onParserClose(o,a){this.model[o].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,t,n){"use strict";let r=e("../../../utils/utils"),i=e("../base-xform");t.exports=class extends i{get tag(){return"col"}prepare(s,o){let a=o.styles.addStyleModel(s.style||{});a&&(s.styleId=a)}render(s,o){s.openNode("col"),s.addAttribute("min",o.min),s.addAttribute("max",o.max),o.width&&s.addAttribute("width",o.width),o.styleId&&s.addAttribute("style",o.styleId),o.hidden&&s.addAttribute("hidden","1"),o.bestFit&&s.addAttribute("bestFit","1"),o.outlineLevel&&s.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&s.addAttribute("collapsed","1"),s.addAttribute("customWidth","1"),s.closeNode()}parseOpen(s){if(s.name==="col"){let o=this.model={min:parseInt(s.attributes.min||"0",10),max:parseInt(s.attributes.max||"0",10),width:s.attributes.width===void 0?void 0:parseFloat(s.attributes.width||"0")};return s.attributes.style&&(o.styleId=parseInt(s.attributes.style,10)),r.parseBoolean(s.attributes.hidden)&&(o.hidden=!0),r.parseBoolean(s.attributes.bestFit)&&(o.bestFit=!0),s.attributes.outlineLevel&&(o.outlineLevel=parseInt(s.attributes.outlineLevel,10)),r.parseBoolean(s.attributes.collapsed)&&(o.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(s,o){s.styleId&&(s.style=o.styles.getStyleModel(s.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../../../utils/utils"),s=e("../../../utils/col-cache"),o=e("../base-xform"),a=e("../../../doc/range");function l(u,d,h,f){let p=d[h];p!==void 0?u[h]=p:f!==void 0&&(u[h]=f)}function c(u,d,h,f){let p=d[h];p!==void 0?u[h]=i.parseBoolean(p):f!==void 0&&(u[h]=f)}t.exports=class extends o{get tag(){return"dataValidations"}render(u,d){let h=function(f){let p=r.map(f,(v,x)=>({address:x,dataValidation:v,marked:!1})).sort((v,x)=>r.strcmp(v.address,x.address)),m=r.keyBy(p,"address"),g=(v,x,I)=>{for(let R=0;R<x;R++){let $=s.encodeAddress(v.row+R,I);if(!f[$]||!r.isEqual(f[v.address],f[$]))return!1}return!0};return p.map(v=>{if(!v.marked){let x=s.decodeEx(v.address);if(x.dimensions)return m[x.dimensions].marked=!0,Yt(ct({},v.dataValidation),{sqref:v.address});let I=1,R=s.encodeAddress(x.row+I,x.col);for(;f[R]&&r.isEqual(v.dataValidation,f[R]);)I++,R=s.encodeAddress(x.row+I,x.col);let $=1;for(;g(x,I,x.col+$);)$++;for(let F=0;F<I;F++)for(let V=0;V<$;V++)R=s.encodeAddress(x.row+F,x.col+V),m[R].marked=!0;if(I>1||$>1){let F=x.row+(I-1),V=x.col+($-1);return Yt(ct({},v.dataValidation),{sqref:`${v.address}:${s.encodeAddress(F,V)}`})}return Yt(ct({},v.dataValidation),{sqref:v.address})}return null}).filter(Boolean)}(d);h.length&&(u.openNode("dataValidations",{count:h.length}),h.forEach(f=>{u.openNode("dataValidation"),f.type!=="any"&&(u.addAttribute("type",f.type),f.operator&&f.type!=="list"&&f.operator!=="between"&&u.addAttribute("operator",f.operator),f.allowBlank&&u.addAttribute("allowBlank","1")),f.showInputMessage&&u.addAttribute("showInputMessage","1"),f.promptTitle&&u.addAttribute("promptTitle",f.promptTitle),f.prompt&&u.addAttribute("prompt",f.prompt),f.showErrorMessage&&u.addAttribute("showErrorMessage","1"),f.errorStyle&&u.addAttribute("errorStyle",f.errorStyle),f.errorTitle&&u.addAttribute("errorTitle",f.errorTitle),f.error&&u.addAttribute("error",f.error),u.addAttribute("sqref",f.sqref),(f.formulae||[]).forEach((p,m)=>{u.openNode("formula"+(m+1)),f.type==="date"?u.writeText(i.dateToExcel(new Date(p))):u.writeText(p),u.closeNode()}),u.closeNode()}),u.closeNode())}parseOpen(u){switch(u.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=u.attributes.sqref;let d={type:u.attributes.type||"any",formulae:[]};switch(u.attributes.type&&c(d,u.attributes,"allowBlank"),c(d,u.attributes,"showInputMessage"),c(d,u.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:l(d,u.attributes,"operator","between")}return l(d,u.attributes,"promptTitle"),l(d,u.attributes,"prompt"),l(d,u.attributes,"errorStyle"),l(d,u.attributes,"errorTitle"),l(d,u.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(u){this._formula&&this._formula.push(u)}parseClose(u){switch(u){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new a(d).forEachAddress(h=>{this.model[h]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=i.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"dimension"}render(i,s){s&&i.leafNode("dimension",{ref:s})}parseOpen(i){return i.name==="dimension"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"drawing"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,t,n){"use strict";let r=e("../composite-xform"),i=e("./cf-ext/conditional-formattings-ext-xform");class s extends r{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new i}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,l){this.conditionalFormattings.prepare(a.conditionalFormattings,l)}render(a,l){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,l.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){this.model[a]=l.model}}t.exports=class extends r{constructor(){super(),this.map={ext:this.ext=new s}}get tag(){return"extLst"}prepare(o,a){this.ext.prepare(o,a)}hasContent(o){return this.ext.hasContent(o)}render(o,a){this.hasContent(a)&&(o.openNode("extLst"),this.ext.render(o,a),o.closeNode())}createNewModel(){return{}}onParserClose(o,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"headerFooter"}render(i,s){if(s){i.addRollback();let o=!1;i.openNode("headerFooter"),s.differentFirst&&(i.addAttribute("differentFirst","1"),o=!0),s.differentOddEven&&(i.addAttribute("differentOddEven","1"),o=!0),s.oddHeader&&typeof s.oddHeader=="string"&&(i.leafNode("oddHeader",null,s.oddHeader),o=!0),s.oddFooter&&typeof s.oddFooter=="string"&&(i.leafNode("oddFooter",null,s.oddFooter),o=!0),s.evenHeader&&typeof s.evenHeader=="string"&&(i.leafNode("evenHeader",null,s.evenHeader),o=!0),s.evenFooter&&typeof s.evenFooter=="string"&&(i.leafNode("evenFooter",null,s.evenFooter),o=!0),s.firstHeader&&typeof s.firstHeader=="string"&&(i.leafNode("firstHeader",null,s.firstHeader),o=!0),s.firstFooter&&typeof s.firstFooter=="string"&&(i.leafNode("firstFooter",null,s.firstFooter),o=!0),o?(i.closeNode(),i.commit()):i.rollback()}}parseOpen(i){switch(i.name){case"headerFooter":return this.model={},i.attributes.differentFirst&&(this.model.differentFirst=parseInt(i.attributes.differentFirst,0)===1),i.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(i.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(i){switch(this.currentNode){case"oddHeader":this.model.oddHeader=i;break;case"oddFooter":this.model.oddFooter=i;break;case"evenHeader":this.model.evenHeader=i;break;case"evenFooter":this.model.evenFooter=i;break;case"firstHeader":this.model.firstHeader=i;break;case"firstFooter":this.model.firstFooter=i}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"hyperlink"}render(i,s){this.isInternalLink(s)?i.leafNode("hyperlink",{ref:s.address,"r:id":s.rId,tooltip:s.tooltip,location:s.target}):i.leafNode("hyperlink",{ref:s.address,"r:id":s.rId,tooltip:s.tooltip})}parseOpen(i){return i.name==="hyperlink"&&(this.model={address:i.attributes.ref,rId:i.attributes["r:id"],tooltip:i.attributes.tooltip},i.attributes.location&&(this.model.target=i.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(i){return i.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(i.target)}}},{"../base-xform":32}],99:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"mergeCell"}render(i,s){i.leafNode("mergeCell",{ref:s})}parseOpen(i){return i.name==="mergeCell"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../../../doc/range"),s=e("../../../utils/col-cache"),o=e("../../../doc/enums");t.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{let l=`${a.master}:${a.address}`;this.merges[a.master]=new i(l)}}get mergeCells(){return r.map(this.merges,a=>a.range)}reconcile(a,l){r.each(a,c=>{let u=s.decode(c);for(let d=u.top;d<=u.bottom;d++){let h=l[d-1];for(let f=u.left;f<=u.right;f++){let p=h.cells[f-1];p?p.type===o.ValueType.Merge&&(p.master=u.tl):h.cells[f]={type:o.ValueType.Null,address:s.encodeAddress(d,f)}}}})}getMasterAddress(a){let l=this.hash[a];return l&&l.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,t,n){"use strict";let r=e("../base-xform"),i=s=>s!==void 0;t.exports=class extends r{get tag(){return"outlinePr"}render(s,o){return!(!o||!i(o.summaryBelow)&&!i(o.summaryRight))&&(s.leafNode(this.tag,{summaryBelow:i(o.summaryBelow)?Number(o.summaryBelow):void 0,summaryRight:i(o.summaryRight)?Number(o.summaryRight):void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={summaryBelow:i(s.attributes.summaryBelow)?!!Number(s.attributes.summaryBelow):void 0,summaryRight:i(s.attributes.summaryRight)?!!Number(s.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"brk"}render(i,s){i.leafNode("brk",s)}parseOpen(i){return i.name==="brk"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../base-xform");t.exports=class extends i{get tag(){return"pageMargins"}render(s,o){if(o){let a={left:o.left,right:o.right,top:o.top,bottom:o.bottom,header:o.header,footer:o.footer};r.some(a,l=>l!==void 0)&&s.leafNode(this.tag,a)}}parseOpen(s){switch(s.name){case this.tag:return this.model={left:parseFloat(s.attributes.left||.7),right:parseFloat(s.attributes.right||.7),top:parseFloat(s.attributes.top||.75),bottom:parseFloat(s.attributes.bottom||.75),header:parseFloat(s.attributes.header||.3),footer:parseFloat(s.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"pageSetUpPr"}render(i,s){return!(!s||!s.fitToPage)&&(i.leafNode(this.tag,{fitToPage:s.fitToPage?"1":void 0}),!0)}parseOpen(i){return i.name===this.tag&&(this.model={fitToPage:i.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../base-xform");function s(c){return c?"1":void 0}function o(c){switch(c){case"overThenDown":return c;default:return}}function a(c){switch(c){case"atEnd":case"asDisplyed":return c;default:return}}function l(c){switch(c){case"dash":case"blank":case"NA":return c;default:return}}t.exports=class extends i{get tag(){return"pageSetup"}render(c,u){if(u){let d={paperSize:u.paperSize,orientation:u.orientation,horizontalDpi:u.horizontalDpi,verticalDpi:u.verticalDpi,pageOrder:o(u.pageOrder),blackAndWhite:s(u.blackAndWhite),draft:s(u.draft),cellComments:a(u.cellComments),errors:l(u.errors),scale:u.scale,fitToWidth:u.fitToWidth,fitToHeight:u.fitToHeight,firstPageNumber:u.firstPageNumber,useFirstPageNumber:s(u.firstPageNumber),usePrinterDefaults:s(u.usePrinterDefaults),copies:u.copies};r.some(d,h=>h!==void 0)&&c.leafNode(this.tag,d)}}parseOpen(c){switch(c.name){case this.tag:return this.model={paperSize:(u=c.attributes.paperSize,u!==void 0?parseInt(u,10):void 0),orientation:c.attributes.orientation||"portrait",horizontalDpi:parseInt(c.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(c.attributes.verticalDpi||"4294967295",10),pageOrder:c.attributes.pageOrder||"downThenOver",blackAndWhite:c.attributes.blackAndWhite==="1",draft:c.attributes.draft==="1",cellComments:c.attributes.cellComments||"None",errors:c.attributes.errors||"displayed",scale:parseInt(c.attributes.scale||"100",10),fitToWidth:parseInt(c.attributes.fitToWidth||"1",10),fitToHeight:parseInt(c.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(c.attributes.firstPageNumber||"1",10),useFirstPageNumber:c.attributes.useFirstPageNumber==="1",usePrinterDefaults:c.attributes.usePrinterDefaults==="1",copies:parseInt(c.attributes.copies||"1",10)},!0;default:return!1}var u}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"picture"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../base-xform");function s(o){return o?"1":void 0}t.exports=class extends i{get tag(){return"printOptions"}render(o,a){if(a){let l={headings:s(a.showRowColHeaders),gridLines:s(a.showGridLines),horizontalCentered:s(a.horizontalCentered),verticalCentered:s(a.verticalCentered)};r.some(l,c=>c!==void 0)&&o.leafNode(this.tag,l)}}parseOpen(o){switch(o.name){case this.tag:return this.model={showRowColHeaders:o.attributes.headings==="1",showGridLines:o.attributes.gridLines==="1",horizontalCentered:o.attributes.horizontalCentered==="1",verticalCentered:o.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,t,n){"use strict";let r=e("./page-breaks-xform"),i=e("../list-xform");t.exports=class extends i{constructor(){super({tag:"rowBreaks",count:!0,childXform:new r})}render(s,o){if(o&&o.length){s.openNode(this.tag,this.$),this.count&&(s.addAttribute(this.$count,o.length),s.addAttribute("manualBreakCount",o.length));let{childXform:a}=this;o.forEach(l=>{a.render(s,l)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../../../utils/utils"),s=e("./cell-xform");t.exports=class extends r{constructor(o){super(),this.maxItems=o&&o.maxItems,this.map={c:new s}}get tag(){return"row"}prepare(o,a){let l=a.styles.addStyleModel(o.style);l&&(o.styleId=l);let c=this.map.c;o.cells.forEach(u=>{c.prepare(u,a)})}render(o,a,l){o.openNode("row"),o.addAttribute("r",a.number),a.height&&(o.addAttribute("ht",a.height),o.addAttribute("customHeight","1")),a.hidden&&o.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&o.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(o.addAttribute("s",a.styleId),o.addAttribute("customFormat","1")),o.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&o.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&o.addAttribute("collapsed","1");let c=this.map.c;a.cells.forEach(u=>{c.render(o,u,l)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;if(o.name==="row"){this.numRowsSeen+=1;let a=o.attributes.spans?o.attributes.spans.split(":").map(c=>parseInt(c,10)):[void 0,void 0],l=this.model={number:parseInt(o.attributes.r,10),min:a[0],max:a[1],cells:[]};return o.attributes.s&&(l.styleId=parseInt(o.attributes.s,10)),i.parseBoolean(o.attributes.hidden)&&(l.hidden=!0),i.parseBoolean(o.attributes.bestFit)&&(l.bestFit=!0),o.attributes.ht&&(l.height=parseFloat(o.attributes.ht)),o.attributes.outlineLevel&&(l.outlineLevel=parseInt(o.attributes.outlineLevel,10)),i.parseBoolean(o.attributes.collapsed)&&(l.collapsed=!0),!0}return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(o,a){o.style=o.styleId?a.styles.getStyleModel(o.styleId):{},o.styleId!==void 0&&(o.styleId=void 0);let l=this.map.c;o.cells.forEach(c=>{l.reconcile(c,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../base-xform");t.exports=class extends i{get tag(){return"sheetFormatPr"}render(s,o){if(o){let a={defaultRowHeight:o.defaultRowHeight,outlineLevelRow:o.outlineLevelRow,outlineLevelCol:o.outlineLevelCol,"x14ac:dyDescent":o.dyDescent};o.defaultColWidth&&(a.defaultColWidth=o.defaultColWidth),o.defaultRowHeight&&o.defaultRowHeight===15||(a.customHeight="1"),r.some(a,l=>l!==void 0)&&s.leafNode("sheetFormatPr",a)}}parseOpen(s){return s.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(s.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(s.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(s.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(s.attributes.outlineLevelCol||"0",10)},s.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(s.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../style/color-xform"),s=e("./page-setup-properties-xform"),o=e("./outline-properties-xform");t.exports=class extends r{constructor(){super(),this.map={tabColor:new i("tabColor"),pageSetUpPr:new s,outlinePr:new o}}get tag(){return"sheetPr"}render(a,l){if(l){a.addRollback(),a.openNode("sheetPr");let c=!1;c=this.map.tabColor.render(a,l.tabColor)||c,c=this.map.pageSetUpPr.render(a,l.pageSetup)||c,c=this.map.outlinePr.render(a,l.outlineProperties)||c,c?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../base-xform");function s(a,l){return a?l:void 0}function o(a,l){return a===l||void 0}t.exports=class extends i{get tag(){return"sheetProtection"}render(a,l){if(l){let c={sheet:s(l.sheet,"1"),selectLockedCells:l.selectLockedCells===!1?"1":void 0,selectUnlockedCells:l.selectUnlockedCells===!1?"1":void 0,formatCells:s(l.formatCells,"0"),formatColumns:s(l.formatColumns,"0"),formatRows:s(l.formatRows,"0"),insertColumns:s(l.insertColumns,"0"),insertRows:s(l.insertRows,"0"),insertHyperlinks:s(l.insertHyperlinks,"0"),deleteColumns:s(l.deleteColumns,"0"),deleteRows:s(l.deleteRows,"0"),sort:s(l.sort,"0"),autoFilter:s(l.autoFilter,"0"),pivotTables:s(l.pivotTables,"0")};l.sheet&&(c.algorithmName=l.algorithmName,c.hashValue=l.hashValue,c.saltValue=l.saltValue,c.spinCount=l.spinCount,c.objects=s(l.objects===!1,"1"),c.scenarios=s(l.scenarios===!1,"1")),r.some(c,u=>u!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:o(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:o(a.attributes.formatCells,"0"),formatColumns:o(a.attributes.formatColumns,"0"),formatRows:o(a.attributes.formatRows,"0"),insertColumns:o(a.attributes.insertColumns,"0"),insertRows:o(a.attributes.insertRows,"0"),insertHyperlinks:o(a.attributes.insertHyperlinks,"0"),deleteColumns:o(a.attributes.deleteColumns,"0"),deleteRows:o(a.attributes.deleteRows,"0"),sort:o(a.attributes.sort,"0"),autoFilter:o(a.attributes.autoFilter,"0"),pivotTables:o(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,t,n){"use strict";let r=e("../../../utils/col-cache"),i=e("../base-xform"),s={frozen:"frozen",frozenSplit:"frozen",split:"split"};t.exports=class extends i{get tag(){return"sheetView"}prepare(o){switch(o.state){case"frozen":case"split":break;default:o.state="normal"}}render(o,a){o.openNode("sheetView",{workbookViewId:a.workbookViewId||0});let l=function(f,p,m){m&&o.addAttribute(f,p)},c,u,d,h;switch(l("rightToLeft","1",a.rightToLeft===!0),l("tabSelected","1",a.tabSelected),l("showRuler","0",a.showRuler===!1),l("showRowColHeaders","0",a.showRowColHeaders===!1),l("showGridLines","0",a.showGridLines===!1),l("zoomScale",a.zoomScale,a.zoomScale),l("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),l("view",a.style,a.style),a.state){case"frozen":u=a.xSplit||0,d=a.ySplit||0,c=a.topLeftCell||r.getAddress(d+1,u+1).address,h=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",o.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:c,activePane:h,state:"frozen"}),o.leafNode("selection",{pane:h,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),o.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),o.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&o.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}o.closeNode()}parseOpen(o){switch(o.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(o.attributes.workbookViewId,10),rightToLeft:o.attributes.rightToLeft==="1",tabSelected:o.attributes.tabSelected==="1",showRuler:o.attributes.showRuler!=="0",showRowColHeaders:o.attributes.showRowColHeaders!=="0",showGridLines:o.attributes.showGridLines!=="0",zoomScale:parseInt(o.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(o.attributes.zoomScaleNormal||"100",10),style:o.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(o.attributes.xSplit||"0",10),ySplit:parseInt(o.attributes.ySplit||"0",10),topLeftCell:o.attributes.topLeftCell,activePane:o.attributes.activePane||"topLeft",state:o.attributes.state},!0;case"selection":{let a=o.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:o.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(o){let a,l;switch(o){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:s[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),l=this.selections[this.pane.activePane],l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},l=this.selections.topLeft,l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"tablePart"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../../../utils/col-cache"),s=e("../../../utils/xml-stream"),o=e("../../rel-type"),a=e("./merges"),l=e("../base-xform"),c=e("../list-xform"),u=e("./row-xform"),d=e("./col-xform"),h=e("./dimension-xform"),f=e("./hyperlink-xform"),p=e("./merge-cell-xform"),m=e("./data-validations-xform"),g=e("./sheet-properties-xform"),v=e("./sheet-format-properties-xform"),x=e("./sheet-view-xform"),I=e("./sheet-protection-xform"),R=e("./page-margins-xform"),$=e("./page-setup-xform"),F=e("./print-options-xform"),V=e("./auto-filter-xform"),U=e("./picture-xform"),q=e("./drawing-xform"),j=e("./table-part-xform"),S=e("./row-breaks-xform"),T=e("./header-footer-xform"),O=e("./cf/conditional-formattings-xform"),y=e("./ext-lst-xform"),b=(_,E)=>{if(!E||!E.length)return _;if(!_||!_.length)return E;let C={},L={};return _.forEach(W=>{C[W.ref]=W,W.rules.forEach(B=>{let{x14Id:G}=B;G&&(L[G]=B)})}),E.forEach(W=>{W.rules.forEach(B=>{let G=L[B.x14Id];G?((M,K)=>{Object.keys(K).forEach(D=>{let k=M[D],z=K[D];k===void 0&&z!==void 0&&(M[D]=z)})})(G,B):C[W.ref]?C[W.ref].rules.push(B):_.push({ref:W.ref,rules:[B]})})}),_};class w extends l{constructor(E){super();let{maxRows:C,maxCols:L,ignoreNodes:W}=E||{};this.ignoreNodes=W||[],this.map={sheetPr:new g,dimension:new h,sheetViews:new c({tag:"sheetViews",count:!1,childXform:new x}),sheetFormatPr:new v,cols:new c({tag:"cols",count:!1,childXform:new d}),sheetData:new c({tag:"sheetData",count:!1,empty:!0,childXform:new u({maxItems:L}),maxItems:C}),autoFilter:new V,mergeCells:new c({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new S,hyperlinks:new c({tag:"hyperlinks",count:!1,childXform:new f}),pageMargins:new R,dataValidations:new m,pageSetup:new $,headerFooter:new T,printOptions:new F,picture:new U,drawing:new q,sheetProtection:new I,tableParts:new c({tag:"tableParts",count:!0,childXform:new j}),conditionalFormatting:new O,extLst:new y}}prepare(E,C){C.merges=new a,E.hyperlinks=C.hyperlinks=[],E.comments=C.comments=[],C.formulae={},C.siFormulae=0,this.map.cols.prepare(E.cols,C),this.map.sheetData.prepare(E.rows,C),this.map.conditionalFormatting.prepare(E.conditionalFormattings,C),E.mergeCells=C.merges.mergeCells;let L=E.rels=[];function W(M){return"rId"+(M.length+1)}if(E.hyperlinks.forEach(M=>{let K=W(L);M.rId=K,L.push({Id:K,Type:o.Hyperlink,Target:M.target,TargetMode:"External"})}),E.comments.length>0){let M={Id:W(L),Type:o.Comments,Target:`../comments${E.id}.xml`};L.push(M);let K={Id:W(L),Type:o.VmlDrawing,Target:`../drawings/vmlDrawing${E.id}.vml`};L.push(K),E.comments.forEach(D=>{D.refAddress=i.decodeAddress(D.ref)}),C.commentRefs.push({commentName:"comments"+E.id,vmlDrawing:"vmlDrawing"+E.id})}let B=[],G;E.media.forEach(M=>{if(M.type==="background"){let K=W(L);G=C.media[M.imageId],L.push({Id:K,Type:o.Image,Target:`../media/${G.name}.${G.extension}`}),E.background={rId:K},E.image=C.media[M.imageId]}else if(M.type==="image"){let{drawing:K}=E;G=C.media[M.imageId],K||(K=E.drawing={rId:W(L),name:"drawing"+ ++C.drawingsCount,anchors:[],rels:[]},C.drawings.push(K),L.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let D=this.preImageId===M.imageId?B[M.imageId]:B[K.rels.length];D||(D=W(K.rels),B[K.rels.length]=D,K.rels.push({Id:D,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${G.name}.${G.extension}`}));let k={picture:{rId:D},range:M.range};if(M.hyperlinks&&M.hyperlinks.hyperlink){let z=W(K.rels);B[K.rels.length]=z,k.picture.hyperlinks={tooltip:M.hyperlinks.tooltip,rId:z},K.rels.push({Id:z,Type:o.Hyperlink,Target:M.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=M.imageId,K.anchors.push(k)}}),E.tables.forEach(M=>{let K=W(L);M.rId=K,L.push({Id:K,Type:o.Table,Target:"../tables/"+M.target}),M.columns.forEach(D=>{let{style:k}=D;k&&(D.dxfId=C.styles.addDxfStyle(k))})}),this.map.extLst.prepare(E,C)}render(E,C){E.openXml(s.StdDocAttributes),E.openNode("worksheet",w.WORKSHEET_ATTRIBUTES);let L=C.properties?{defaultRowHeight:C.properties.defaultRowHeight,dyDescent:C.properties.dyDescent,outlineLevelCol:C.properties.outlineLevelCol,outlineLevelRow:C.properties.outlineLevelRow}:void 0;C.properties&&C.properties.defaultColWidth&&(L.defaultColWidth=C.properties.defaultColWidth);let W={outlineProperties:C.properties&&C.properties.outlineProperties,tabColor:C.properties&&C.properties.tabColor,pageSetup:C.pageSetup&&C.pageSetup.fitToPage?{fitToPage:C.pageSetup.fitToPage}:void 0},B=C.pageSetup&&C.pageSetup.margins,G={showRowColHeaders:C.pageSetup&&C.pageSetup.showRowColHeaders,showGridLines:C.pageSetup&&C.pageSetup.showGridLines,horizontalCentered:C.pageSetup&&C.pageSetup.horizontalCentered,verticalCentered:C.pageSetup&&C.pageSetup.verticalCentered},M=C.sheetProtection;this.map.sheetPr.render(E,W),this.map.dimension.render(E,C.dimensions),this.map.sheetViews.render(E,C.views),this.map.sheetFormatPr.render(E,L),this.map.cols.render(E,C.cols),this.map.sheetData.render(E,C.rows),this.map.sheetProtection.render(E,M),this.map.autoFilter.render(E,C.autoFilter),this.map.mergeCells.render(E,C.mergeCells),this.map.conditionalFormatting.render(E,C.conditionalFormattings),this.map.dataValidations.render(E,C.dataValidations),this.map.hyperlinks.render(E,C.hyperlinks),this.map.printOptions.render(E,G),this.map.pageMargins.render(E,B),this.map.pageSetup.render(E,C.pageSetup),this.map.headerFooter.render(E,C.headerFooter),this.map.rowBreaks.render(E,C.rowBreaks),this.map.drawing.render(E,C.drawing),this.map.picture.render(E,C.background),this.map.tableParts.render(E,C.tables),this.map.extLst.render(E,C),C.rels&&C.rels.forEach(K=>{K.Type===o.VmlDrawing&&E.leafNode("legacyDrawing",{"r:id":K.Id})}),E.closeNode()}parseOpen(E){return this.parser?(this.parser.parseOpen(E),!0):E.name==="worksheet"?(r.each(this.map,C=>{C.reset()}),!0):(this.map[E.name]&&!this.ignoreNodes.includes(E.name)&&(this.parser=this.map[E.name],this.parser.parseOpen(E)),!0)}parseText(E){this.parser&&this.parser.parseText(E)}parseClose(E){if(this.parser)return this.parser.parseClose(E)||(this.parser=void 0),!0;switch(E){case"worksheet":{let C=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(C.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(C.outlineProperties=this.map.sheetPr.model.outlineProperties);let L={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},W=Object.assign(L,this.map.pageSetup.model,this.map.printOptions.model),B=b(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:C,views:this.map.sheetViews.model,pageSetup:W,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:B},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(E,C){let L=(E.relationships||[]).reduce((B,G)=>{if(B[G.Id]=G,G.Type===o.Comments&&(E.comments=C.comments[G.Target].comments),G.Type===o.VmlDrawing&&E.comments&&E.comments.length){let M=C.vmlDrawings[G.Target].comments;E.comments.forEach((K,D)=>{K.note=Object.assign({},K.note,M[D])})}return B},{});if(C.commentsMap=(E.comments||[]).reduce((B,G)=>(G.ref&&(B[G.ref]=G),B),{}),C.hyperlinkMap=(E.hyperlinks||[]).reduce((B,G)=>(G.rId&&(B[G.address]=L[G.rId].Target),B),{}),C.formulae={},E.rows=E.rows&&E.rows.filter(Boolean)||[],E.rows.forEach(B=>{B.cells=B.cells&&B.cells.filter(Boolean)||[]}),this.map.cols.reconcile(E.cols,C),this.map.sheetData.reconcile(E.rows,C),this.map.conditionalFormatting.reconcile(E.conditionalFormattings,C),E.media=[],E.drawing){let B=L[E.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(B){let G=B[1];C.drawings[G].anchors.forEach(M=>{if(M.medium){let K={type:"image",imageId:M.medium.index,range:M.range,hyperlinks:M.picture.hyperlinks};E.media.push(K)}})}}let W=E.background&&L[E.background.rId];if(W){let B=W.Target.split("/media/")[1],G=C.mediaIndex&&C.mediaIndex[B];G!==void 0&&E.media.push({type:"background",imageId:G})}E.tables=(E.tables||[]).map(B=>{let G=L[B.rId];return C.tables[G.Target]}),delete E.relationships,delete E.hyperlinks,delete E.comments}}w.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},t.exports=w},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr}render(i,s){s&&(i.openNode(this.tag),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this._format=i.format||function(s){try{return Number.isNaN(s.getTime())?"":s.toISOString()}catch{return""}},this._parse=i.parse||function(s){return new Date(s)}}render(i,s){s&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,this._format(s)):i.writeText(this._format(s)),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=this._parse(i.attributes[this.attr]):this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this.zero=i.zero}render(i,s){(s||this.zero)&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,s):i.writeText(s),i.closeNode())}parseOpen(i){return i.name===this.tag&&(this.attr?this.model=parseInt(i.attributes[this.attr],10):this.text=[],!0)}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs}render(i,s){s!==void 0&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,s):i.writeText(s),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=i.attributes[this.attr]:this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,t,n){"use strict";let r=e("./base-xform"),i=e("../../utils/xml-stream");t.exports=class extends r{constructor(s){super(),this._model=s}render(s){if(!this._xml){let o=new i;(function a(l,c){l.openNode(c.tag,c.$),c.c&&c.c.forEach(u=>{a(l,u)}),c.t&&l.writeText(c.t),l.closeNode()})(o,this._model),this._xml=o.xml}s.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(s){switch(s){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,t,n){"use strict";let r=e("./text-xform"),i=e("./rich-text-xform"),s=e("../base-xform");t.exports=class extends s{constructor(){super(),this.map={r:new i,t:new r}}get tag(){return"rPh"}render(o,a){if(o.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){let{r:l}=this.map;a.richText.forEach(c=>{l.render(o,c)})}else a&&this.map.t.render(o,a.text);o.closeNode()}parseOpen(o){let{name:a}=o;return this.parser?(this.parser.parseOpen(o),!0):a===this.tag?(this.model={sb:parseInt(o.attributes.sb,10),eb:parseInt(o.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,t,n){"use strict";let r=e("./text-xform"),i=e("../style/font-xform"),s=e("../base-xform");class o extends s{constructor(l){super(),this.model=l}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new r)}get fontXform(){return this._fontXform||(this._fontXform=new i(o.FONT_OPTIONS))}render(l,c){c=c||this.model,l.openNode("r"),c.font&&this.fontXform.render(l,c.font),this.textXform.render(l,c.text),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(l),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){switch(l){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}}o.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},t.exports=o},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,t,n){"use strict";let r=e("./text-xform"),i=e("./rich-text-xform"),s=e("./phonetic-text-xform"),o=e("../base-xform");t.exports=class extends o{constructor(a){super(),this.model=a,this.map={r:new i,t:new r,rPh:new s}}get tag(){return"si"}render(a,l){a.openNode(this.tag),l&&l.hasOwnProperty("richText")&&l.richText?l.richText.length?l.richText.forEach(c=>{this.map.r.render(a,c)}):this.map.t.render(a,""):l!=null&&this.map.t.render(a,l),a.closeNode()}parseOpen(a){let{name:l}=a;return this.parser?(this.parser.parseOpen(a),!0):l===this.tag?(this.model={},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("./shared-string-xform");t.exports=class extends i{constructor(o){super(),this.model=o||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new s)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(o){return this.model.values[o]}add(o){return o.richText?this.addRichText(o):this.addText(o)}addText(o){let a=this.hash[o];return a===void 0&&(a=this.hash[o]=this.model.values.length,this.model.values.push(o)),this.model.count++,a}addRichText(o){let a=this.sharedStringXform.toXml(o),l=this.rich[a];return l===void 0&&(l=this.rich[a]=this.model.values.length,this.model.values.push(o)),this.model.count++,l}render(o,a){a=a||this._values,o.openXml(r.StdDocAttributes),o.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});let l=this.sharedStringXform;a.values.forEach(c=>{l.render(o,c)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(o),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(o){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"t"}render(i,s){i.openNode("t"),/^\s|\n|\s$/.test(s)&&i.addAttribute("xml:space","preserve"),i.writeText(s),i.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(i,s)=>String.fromCharCode(parseInt(s,16)))}parseOpen(i){switch(i.name){case"t":return this._text=[],!0;default:return!1}}parseText(i){this._text.push(i)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,t,n){"use strict";let r=e("../../../doc/enums"),i=e("../../../utils/utils"),s=e("../base-xform"),o={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((l,c)=>(l[c]=!0,l),{}),horizontal(l){return this.horizontalValues[l]?l:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((l,c)=>(l[c]=!0,l),{}),vertical(l){return l==="middle"?"center":this.verticalValues[l]?l:void 0},wrapText:l=>!!l||void 0,shrinkToFit:l=>!!l||void 0,textRotation(l){switch(l){case"vertical":return l;default:return(l=i.validInt(l))>=-90&&l<=90?l:void 0}},indent:l=>(l=i.validInt(l),Math.max(0,l)),readingOrder(l){switch(l){case"ltr":return r.ReadingOrder.LeftToRight;case"rtl":return r.ReadingOrder.RightToLeft;default:return}}},a={toXml(l){if(l=o.textRotation(l)){if(l==="vertical")return 255;let c=Math.round(l);if(c>=0&&c<=90)return c;if(c<0&&c>=-90)return 90-c}},toModel(l){let c=i.validInt(l);if(c!==void 0){if(c===255)return"vertical";if(c>=0&&c<=90)return c;if(c>90&&c<=180)return 90-c}}};t.exports=class extends s{get tag(){return"alignment"}render(l,c){l.addRollback(),l.openNode("alignment");let u=!1;function d(h,f){f&&(l.addAttribute(h,f),u=!0)}d("horizontal",o.horizontal(c.horizontal)),d("vertical",o.vertical(c.vertical)),d("wrapText",!!o.wrapText(c.wrapText)&&"1"),d("shrinkToFit",!!o.shrinkToFit(c.shrinkToFit)&&"1"),d("indent",o.indent(c.indent)),d("textRotation",a.toXml(c.textRotation)),d("readingOrder",o.readingOrder(c.readingOrder)),l.closeNode(),u?l.commit():l.rollback()}parseOpen(l){let c={},u=!1;function d(h,f,p){h&&(c[f]=p,u=!0)}d(l.attributes.horizontal,"horizontal",l.attributes.horizontal),d(l.attributes.vertical,"vertical",l.attributes.vertical==="center"?"middle":l.attributes.vertical),d(l.attributes.wrapText,"wrapText",i.parseBoolean(l.attributes.wrapText)),d(l.attributes.shrinkToFit,"shrinkToFit",i.parseBoolean(l.attributes.shrinkToFit)),d(l.attributes.indent,"indent",parseInt(l.attributes.indent,10)),d(l.attributes.textRotation,"textRotation",a.toModel(l.attributes.textRotation)),d(l.attributes.readingOrder,"readingOrder",l.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=u?c:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../../../utils/utils"),s=e("./color-xform");class o extends r{constructor(l){super(),this.name=l,this.map={color:new s}}get tag(){return this.name}render(l,c,u){let d=c&&c.color||u||this.defaultColor;l.openNode(this.name),c&&c.style&&(l.addAttribute("style",c.style),d&&this.map.color.render(l,d)),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.name:{let{style:c}=l.attributes;return this.model=c?{style:c}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(l===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(l){return o.validStyleValues[l]}}o.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,l)=>(a[l]=!0,a),{}),t.exports=class extends r{constructor(){super(),this.map={top:new o("top"),left:new o("left"),bottom:new o("bottom"),right:new o("right"),diagonal:new o("diagonal")}}render(a,l){let{color:c}=l;function u(d,h){d&&!d.color&&l.color&&(d=Yt(ct({},d),{color:l.color})),h.render(a,d,c)}a.openNode("border"),l.diagonal&&l.diagonal.style&&(l.diagonal.up&&a.addAttribute("diagonalUp","1"),l.diagonal.down&&a.addAttribute("diagonalDown","1")),u(l.left,this.map.left),u(l.right,this.map.right),u(l.top,this.map.top),u(l.bottom,this.map.bottom),u(l.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=i.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=i.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){let l=this.model={},c=function(u,d,h){d&&(h&&Object.assign(d,h),l[u]=d)};c("left",this.map.left.model),c("right",this.map.right.model),c("top",this.map.top.model),c("bottom",this.map.bottom.model),c("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.name=i||"color"}get tag(){return this.name}render(i,s){return!!s&&(i.openNode(this.name),s.argb?i.addAttribute("rgb",s.argb):s.theme!==void 0?(i.addAttribute("theme",s.theme),s.tint!==void 0&&i.addAttribute("tint",s.tint)):s.indexed!==void 0?i.addAttribute("indexed",s.indexed):i.addAttribute("auto","1"),i.closeNode(),!0)}parseOpen(i){return i.name===this.name&&(i.attributes.rgb?this.model={argb:i.attributes.rgb}:i.attributes.theme?(this.model={theme:parseInt(i.attributes.theme,10)},i.attributes.tint&&(this.model.tint=parseFloat(i.attributes.tint))):i.attributes.indexed?this.model={indexed:parseInt(i.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./alignment-xform"),s=e("./border-xform"),o=e("./fill-xform"),a=e("./font-xform"),l=e("./numfmt-xform"),c=e("./protection-xform");t.exports=class extends r{constructor(){super(),this.map={alignment:new i,border:new s,fill:new o,font:new a,numFmt:new l,protection:new c}}get tag(){return"dxf"}render(u,d){if(u.openNode(this.tag),d.font&&this.map.font.render(u,d.font),d.numFmt&&d.numFmtId){let h={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(u,h)}d.fill&&this.map.fill.render(u,d.fill),d.alignment&&this.map.alignment.render(u,d.alignment),d.border&&this.map.border.render(u,d.border),d.protection&&this.map.protection.render(u,d.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u),!0}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./color-xform");class s extends r{constructor(){super(),this.map={color:new i}}get tag(){return"stop"}render(u,d){u.openNode("stop"),u.addAttribute("position",d.position),this.map.color.render(u,d.color),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"stop":return this.model={position:parseFloat(u.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(){}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class o extends r{constructor(){super(),this.map={fgColor:new i("fgColor"),bgColor:new i("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(u,d){u.openNode("patternFill"),u.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(u,d.fgColor),d.bgColor&&this.map.bgColor.render(u,d.bgColor),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"patternFill":return this.model={type:"pattern",pattern:u.attributes.patternType},!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.parser.model&&(this.model[u]=this.parser.model),this.parser=void 0),!0)}}class a extends r{constructor(){super(),this.map={stop:new s}}get name(){return"gradient"}get tag(){return"gradientFill"}render(u,d){switch(u.openNode("gradientFill"),d.gradient){case"angle":u.addAttribute("degree",d.degree);break;case"path":u.addAttribute("type","path"),d.center.left&&(u.addAttribute("left",d.center.left),d.center.right===void 0&&u.addAttribute("right",d.center.left)),d.center.right&&u.addAttribute("right",d.center.right),d.center.top&&(u.addAttribute("top",d.center.top),d.center.bottom===void 0&&u.addAttribute("bottom",d.center.top)),d.center.bottom&&u.addAttribute("bottom",d.center.bottom)}let h=this.map.stop;d.stops.forEach(f=>{h.render(u,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"gradientFill":{let d=this.model={stops:[]};return u.attributes.degree?(d.gradient="angle",d.degree=parseInt(u.attributes.degree,10)):u.attributes.type==="path"&&(d.gradient="path",d.center={left:u.attributes.left?parseFloat(u.attributes.left):0,top:u.attributes.top?parseFloat(u.attributes.top):0},u.attributes.right!==u.attributes.left&&(d.center.right=u.attributes.right?parseFloat(u.attributes.right):0),u.attributes.bottom!==u.attributes.top&&(d.center.bottom=u.attributes.bottom?parseFloat(u.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class l extends r{constructor(){super(),this.map={patternFill:new o,gradientFill:new a}}get tag(){return"fill"}render(u,d){switch(u.addRollback(),u.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(u,d);break;case"gradient":this.map.gradientFill.render(u,d);break;default:return void u.rollback()}u.closeNode(),u.commit()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"fill":return this.model={},!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(u){return l.validPatternValues[u]}}l.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((c,u)=>(c[u]=!0,c),{}),l.StopXform=s,l.PatternFillXform=o,l.GradientFillXform=a,t.exports=l},{"../base-xform":32,"./color-xform":128}],131:[function(e,t,n){"use strict";let r=e("./color-xform"),i=e("../simple/boolean-xform"),s=e("../simple/integer-xform"),o=e("../simple/string-xform"),a=e("./underline-xform"),l=e("../../../utils/under-dash"),c=e("../base-xform");class u extends c{constructor(h){super(),this.options=h||u.OPTIONS,this.map={b:{prop:"bold",xform:new i({tag:"b",attr:"val"})},i:{prop:"italic",xform:new i({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new s({tag:"charset",attr:"val"})},color:{prop:"color",xform:new r},condense:{prop:"condense",xform:new i({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new i({tag:"extend",attr:"val"})},family:{prop:"family",xform:new s({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new i({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new o({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new o({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new i({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new i({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new s({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new o({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(h,f){let{map:p}=this;h.openNode(this.options.tagName),l.each(this.map,(m,g)=>{p[g].xform.render(h,f[m.prop])}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;if(this.map[h.name])return this.parser=this.map[h.name].xform,this.parser.parseOpen(h);switch(h.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser&&!this.parser.parseClose(h)){let f=this.map[h];return this.parser.model&&(this.model[f.prop]=this.parser.model),this.parser=void 0,!0}switch(h){case this.options.tagName:return!1;default:return!0}}}u.OPTIONS={tagName:"font",fontNameTag:"name"},t.exports=u},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../../defaultnumformats"),s=e("../base-xform"),o=function(){let l={};return r.each(i,(c,u)=>{c.f&&(l[c.f]=parseInt(u,10))}),l}();class a extends s{constructor(c,u){super(),this.id=c,this.formatCode=u}get tag(){return"numFmt"}render(c,u){c.leafNode("numFmt",{numFmtId:u.id,formatCode:u.formatCode})}parseOpen(c){switch(c.name){case"numFmt":return this.model={id:parseInt(c.attributes.numFmtId,10),formatCode:c.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(l){return o[l]},a.getDefaultFmtCode=function(l){return i[l]&&i[l].f},t.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,t,n){"use strict";let r=e("../base-xform"),i={boolean:(s,o)=>s===void 0?o:s};t.exports=class extends r{get tag(){return"protection"}render(s,o){s.addRollback(),s.openNode("protection");let a=!1;function l(c,u){u!==void 0&&(s.addAttribute(c,u),a=!0)}l("locked",i.boolean(o.locked,!0)?void 0:"0"),l("hidden",i.boolean(o.hidden,!1)?"1":void 0),s.closeNode(),a?s.commit():s.rollback()}parseOpen(s){let o={locked:s.attributes.locked!=="0",hidden:s.attributes.hidden==="1"},a=!o.locked||o.hidden;this.model=a?o:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./alignment-xform"),s=e("./protection-xform");t.exports=class extends r{constructor(o){super(),this.xfId=!(!o||!o.xfId),this.map={alignment:new i,protection:new s}}get tag(){return"xf"}render(o,a){o.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&o.addAttribute("xfId",a.xfId||0),a.numFmtId&&o.addAttribute("applyNumberFormat","1"),a.fontId&&o.addAttribute("applyFont","1"),a.fillId&&o.addAttribute("applyFill","1"),a.borderId&&o.addAttribute("applyBorder","1"),a.alignment&&o.addAttribute("applyAlignment","1"),a.protection&&o.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(o,a.alignment),a.protection&&this.map.protection.render(o,a.protection),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"xf":return this.model={numFmtId:parseInt(o.attributes.numFmtId,10),fontId:parseInt(o.attributes.fontId,10),fillId:parseInt(o.attributes.fillId,10),borderId:parseInt(o.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(o.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(o),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):o!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,t,n){"use strict";let r=e("../../../doc/enums"),i=e("../../../utils/xml-stream"),s=e("../base-xform"),o=e("../static-xform"),a=e("../list-xform"),l=e("./font-xform"),c=e("./fill-xform"),u=e("./border-xform"),d=e("./numfmt-xform"),h=e("./style-xform"),f=e("./dxf-xform");class p extends s{constructor(g){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new d}),fonts:new a({tag:"fonts",count:!0,childXform:new l,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new c}),borders:new a({tag:"borders",count:!0,childXform:new u}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new h}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new h({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new f}),numFmt:new d,font:new l,fill:new c,border:new u,style:new h({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},g&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(g,v){v=v||this.model,g.openXml(i.StdDocAttributes),g.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(v.numFmts&&v.numFmts.length&&(g.openNode("numFmts",{count:v.numFmts.length}),v.numFmts.forEach(x=>{g.writeXml(x)}),g.closeNode()),v.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),g.openNode("fonts",{count:v.fonts.length,"x14ac:knownFonts":1}),v.fonts.forEach(x=>{g.writeXml(x)}),g.closeNode(),g.openNode("fills",{count:v.fills.length}),v.fills.forEach(x=>{g.writeXml(x)}),g.closeNode(),g.openNode("borders",{count:v.borders.length}),v.borders.forEach(x=>{g.writeXml(x)}),g.closeNode(),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),g.openNode("cellXfs",{count:v.styles.length}),v.styles.forEach(x=>{g.writeXml(x)}),g.closeNode()):(this.map.numFmts.render(g,v.numFmts),this.map.fonts.render(g,v.fonts),this.map.fills.render(g,v.fills),this.map.borders.render(g,v.borders),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(g,v.styles)),p.STATIC_XFORMS.cellStyles.render(g),this.map.dxfs.render(g,v.dxfs),p.STATIC_XFORMS.tableStyles.render(g),p.STATIC_XFORMS.extLst.render(g),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"styleSheet":{this.model={};let v=(x,I)=>{I.model&&I.model.length&&(this.model[x]=I.model)};if(v("numFmts",this.map.numFmts),v("fonts",this.map.fonts),v("fills",this.map.fills),v("borders",this.map.borders),v("styles",this.map.cellXfs),v("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){let x=this.index.numFmt;this.model.numFmts.forEach(I=>{x[I.id]=I.formatCode})}return!1}default:return!0}}addStyleModel(g,v){if(!g)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(g))return this.weakMap.get(g);let x={};if(v=v||r.ValueType.Number,g.numFmt)x.numFmtId=this._addNumFmtStr(g.numFmt);else switch(v){case r.ValueType.Number:x.numFmtId=this._addNumFmtStr("General");break;case r.ValueType.Date:x.numFmtId=this._addNumFmtStr("mm-dd-yy")}g.font&&(x.fontId=this._addFont(g.font)),g.border&&(x.borderId=this._addBorder(g.border)),g.fill&&(x.fillId=this._addFill(g.fill)),g.alignment&&(x.alignment=g.alignment),g.protection&&(x.protection=g.protection);let I=this._addStyle(x);return this.weakMap&&this.weakMap.set(g,I),I}getStyleModel(g){let v=this.model.styles[g];if(!v)return null;let x=this.index.model[g];if(x)return x;if(x=this.index.model[g]={},v.numFmtId){let R=this.index.numFmt[v.numFmtId]||d.getDefaultFmtCode(v.numFmtId);R&&(x.numFmt=R)}function I(R,$,F){if(F||F===0){let V=$[F];V&&(x[R]=V)}}return I("font",this.model.fonts,v.fontId),I("border",this.model.borders,v.borderId),I("fill",this.model.fills,v.fillId),v.alignment&&(x.alignment=v.alignment),v.protection&&(x.protection=v.protection),x}addDxfStyle(g){return g.numFmt&&(g.numFmtId=this._addNumFmtStr(g.numFmt)),this.model.dxfs.push(g),this.model.dxfs.length-1}getDxfStyle(g){return this.model.dxfs[g]}_addStyle(g){let v=this.map.style.toXml(g),x=this.index.style[v];return x===void 0&&(x=this.index.style[v]=this.model.styles.length,this.model.styles.push(v)),x}_addNumFmtStr(g){let v=d.getDefaultFmtId(g);if(v!==void 0||(v=this.index.numFmt[g],v!==void 0))return v;v=this.index.numFmt[g]=164+this.model.numFmts.length;let x=this.map.numFmt.toXml({id:v,formatCode:g});return this.model.numFmts.push(x),v}_addFont(g){let v=this.map.font.toXml(g),x=this.index.font[v];return x===void 0&&(x=this.index.font[v]=this.model.fonts.length,this.model.fonts.push(v)),x}_addBorder(g){let v=this.map.border.toXml(g),x=this.index.border[v];return x===void 0&&(x=this.index.border[v]=this.model.borders.length,this.model.borders.push(v)),x}_addFill(g){let v=this.map.fill.toXml(g),x=this.index.fill[v];return x===void 0&&(x=this.index.fill[v]=this.model.fills.length,this.model.fills.push(v)),x}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new o({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new o({tag:"dxfs",$:{count:0}}),tableStyles:new o({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new o({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(m){return m.autodrain(),Promise.resolve()}addStyleModel(m,g){switch(g){case r.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){let m={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(m)}return this._dateStyleId}getStyleModel(){return{}}},t.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,t,n){"use strict";let r=e("../base-xform");class i extends r{constructor(o){super(),this.model=o}get tag(){return"u"}render(o,a){if((a=a||this.model)===!0)o.leafNode("u");else{let l=i.Attributes[a];l&&o.leafNode("u",l)}}parseOpen(o){o.name==="u"&&(this.model=o.attributes.val||!0)}parseText(){}parseClose(){return!1}}i.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},t.exports=i},{"../base-xform":32}],137:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./filter-column-xform");t.exports=class extends r{constructor(){super(),this.map={filterColumn:new i}}get tag(){return"autoFilter"}prepare(s){s.columns.forEach((o,a)=>{this.map.filterColumn.prepare(o,{index:a})})}render(s,o){return s.openNode(this.tag,{ref:o.autoFilterRef}),o.columns.forEach(a=>{this.map.filterColumn.render(s,a)}),s.closeNode(),!0}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model={autoFilterRef:s.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[s.name],this.parser)return this.parseOpen(s),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(s){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"customFilter"}render(i,s){i.leafNode(this.tag,{val:s.val,operator:s.operator})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val,operator:i.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../list-xform"),s=e("./custom-filter-xform"),o=e("./filter-xform");t.exports=class extends r{constructor(){super(),this.map={customFilters:new i({tag:"customFilters",count:!1,empty:!0,childXform:new s}),filters:new i({tag:"filters",count:!1,empty:!0,childXform:new o})}}get tag(){return"filterColumn"}prepare(a,l){a.colId=l.index.toString()}render(a,l){return l.customFilters?(a.openNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),this.map.customFilters.render(a,l.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;let{attributes:l}=a;switch(a.name){case this.tag:return this.model={filterButton:l.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"filter"}render(i,s){i.leafNode(this.tag,{val:s.val})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"tableColumn"}prepare(i,s){i.id=s.index+1}render(i,s){return i.leafNode(this.tag,{id:s.id.toString(),name:s.name,totalsRowLabel:s.totalsRowLabel,totalsRowFunction:s.totalsRowFunction,dxfId:s.dxfId}),!0}parseOpen(i){if(i.name===this.tag){let{attributes:s}=i;return this.model={name:s.name,totalsRowLabel:s.totalsRowLabel,totalsRowFunction:s.totalsRowFunction,dxfId:s.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"tableStyleInfo"}render(i,s){return i.leafNode(this.tag,{name:s.theme?s.theme:void 0,showFirstColumn:s.showFirstColumn?"1":"0",showLastColumn:s.showLastColumn?"1":"0",showRowStripes:s.showRowStripes?"1":"0",showColumnStripes:s.showColumnStripes?"1":"0"}),!0}parseOpen(i){if(i.name===this.tag){let{attributes:s}=i;return this.model={theme:s.name?s.name:null,showFirstColumn:s.showFirstColumn==="1",showLastColumn:s.showLastColumn==="1",showRowStripes:s.showRowStripes==="1",showColumnStripes:s.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("../list-xform"),o=e("./auto-filter-xform"),a=e("./table-column-xform"),l=e("./table-style-info-xform");class c extends i{constructor(){super(),this.map={autoFilter:new o,tableColumns:new s({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new l}}prepare(d,h){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,h)}get tag(){return"table"}render(d,h){d.openXml(r.StdDocAttributes),d.openNode(this.tag,Yt(ct({},c.TABLE_ATTRIBUTES),{id:h.id,name:h.name,displayName:h.displayName||h.name,ref:h.tableRef,totalsRowCount:h.totalsRow?"1":void 0,totalsRowShown:h.totalsRow?void 0:"1",headerRowCount:h.headerRow?"1":"0"})),this.map.autoFilter.render(d,h),this.map.tableColumns.render(d,h.columns),this.map.tableStyleInfo.render(d,h.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;let{name:h,attributes:f}=d;switch(h){case this.tag:this.reset(),this.model={name:f.name,displayName:f.displayName||f.name,tableRef:f.ref,totalsRow:f.totalsRowCount==="1",headerRow:f.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((h,f)=>{this.model.columns[f].filterButton=h.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,h){d.columns.forEach(f=>{f.dxfId!==void 0&&(f.style=h.styles.getDxfStyle(f.dxfId))})}}c.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},t.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,t,n){(function(r,i){(function(){"use strict";let s=e("fs"),o=e("jszip"),{PassThrough:a}=e("readable-stream"),l=e("../utils/zip-stream"),c=e("../utils/stream-buf"),u=e("../utils/utils"),d=e("../utils/xml-stream"),{bufferToString:h}=e("../utils/browser-buffer-decode"),f=e("./xform/style/styles-xform"),p=e("./xform/core/core-xform"),m=e("./xform/strings/shared-strings-xform"),g=e("./xform/core/relationships-xform"),v=e("./xform/core/content-types-xform"),x=e("./xform/core/app-xform"),I=e("./xform/book/workbook-xform"),R=e("./xform/sheet/worksheet-xform"),$=e("./xform/drawing/drawing-xform"),F=e("./xform/table/table-xform"),V=e("./xform/comment/comments-xform"),U=e("./xform/comment/vml-notes-xform"),q=e("./xml/theme1");class j{constructor(T){this.workbook=T}async readFile(T,O){if(!await u.fs.exists(T))throw new Error("File not found: "+T);let y=s.createReadStream(T);try{let b=await this.read(y,O);return y.close(),b}catch(b){throw y.close(),b}}parseRels(T){return new g().parseStream(T)}parseWorkbook(T){return new I().parseStream(T)}parseSharedStrings(T){return new m().parseStream(T)}reconcile(T,O){let y=new I,b=new R(O),w=new $,_=new F;y.reconcile(T);let E={media:T.media,mediaIndex:T.mediaIndex};Object.keys(T.drawings).forEach(W=>{let B=T.drawings[W],G=T.drawingRels[W];G&&(E.rels=G.reduce((M,K)=>(M[K.Id]=K,M),{}),(B.anchors||[]).forEach(M=>{let K=M.picture&&M.picture.hyperlinks;K&&E.rels[K.rId]&&(K.hyperlink=E.rels[K.rId].Target,delete K.rId)}),w.reconcile(B,E))});let C={styles:T.styles};Object.values(T.tables).forEach(W=>{_.reconcile(W,C)});let L={styles:T.styles,sharedStrings:T.sharedStrings,media:T.media,mediaIndex:T.mediaIndex,date1904:T.properties&&T.properties.date1904,drawings:T.drawings,comments:T.comments,tables:T.tables,vmlDrawings:T.vmlDrawings};T.worksheets.forEach(W=>{W.relationships=T.worksheetRels[W.sheetNo],b.reconcile(W,L)}),delete T.worksheetHash,delete T.worksheetRels,delete T.globalRels,delete T.sharedStrings,delete T.workbookRels,delete T.sheetDefs,delete T.styles,delete T.mediaIndex,delete T.drawings,delete T.drawingRels,delete T.vmlDrawings}async _processWorksheetEntry(T,O,y,b,w){let _=new R(b),E=await _.parseStream(T);E.sheetNo=y,O.worksheetHash[w]=E,O.worksheets.push(E)}async _processCommentEntry(T,O,y){let b=new V,w=await b.parseStream(T);O.comments[`../${y}.xml`]=w}async _processTableEntry(T,O,y){let b=new F,w=await b.parseStream(T);O.tables[`../tables/${y}.xml`]=w}async _processWorksheetRelsEntry(T,O,y){let b=new g,w=await b.parseStream(T);O.worksheetRels[y]=w}async _processMediaEntry(T,O,y){let b=y.lastIndexOf(".");if(b>=1){let w=y.substr(b+1),_=y.substr(0,b);await new Promise((E,C)=>{let L=new c;L.on("finish",()=>{O.mediaIndex[y]=O.media.length,O.mediaIndex[_]=O.media.length;let W={type:"image",name:_,extension:w,buffer:L.toBuffer()};O.media.push(W),E()}),T.on("error",W=>{C(W)}),T.pipe(L)})}}async _processDrawingEntry(T,O,y){let b=new $,w=await b.parseStream(T);O.drawings[y]=w}async _processDrawingRelsEntry(T,O,y){let b=new g,w=await b.parseStream(T);O.drawingRels[y]=w}async _processVmlDrawingEntry(T,O,y){let b=new U,w=await b.parseStream(T);O.vmlDrawings[`../drawings/${y}.vml`]=w}async _processThemeEntry(T,O,y){await new Promise((b,w)=>{let _=new c;T.on("error",w),_.on("error",w),_.on("finish",()=>{O.themes[y]=_.read().toString(),b()}),T.pipe(_)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(T,O){!T[Symbol.asyncIterator]&&T.pipe&&(T=T.pipe(new a));let y=[];for await(let b of T)y.push(b);return this.load(i.concat(y),O)}async load(T,O){let y;y=O&&O.base64?i.from(T.toString(),"base64"):T;let b={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},w=await o.loadAsync(y);for(let _ of Object.values(w.files))if(!_.dir){let E,C=_.name;if(C[0]==="/"&&(C=C.substr(1)),C.match(/xl\/media\//)||C.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))E=new a,E.write(await _.async("nodebuffer"));else{let L;E=new a({writableObjectMode:!0,readableObjectMode:!0}),L=r.browser?h(await _.async("nodebuffer")):await _.async("string");let W=16384;for(let B=0;B<L.length;B+=W)E.write(L.substring(B,B+W))}switch(E.end(),C){case"_rels/.rels":b.globalRels=await this.parseRels(E);break;case"xl/workbook.xml":{let L=await this.parseWorkbook(E);b.sheets=L.sheets,b.definedNames=L.definedNames,b.views=L.views,b.properties=L.properties,b.calcProperties=L.calcProperties;break}case"xl/_rels/workbook.xml.rels":b.workbookRels=await this.parseRels(E);break;case"xl/sharedStrings.xml":b.sharedStrings=new m,await b.sharedStrings.parseStream(E);break;case"xl/styles.xml":b.styles=new f,await b.styles.parseStream(E);break;case"docProps/app.xml":{let L=new x,W=await L.parseStream(E);b.company=W.company,b.manager=W.manager;break}case"docProps/core.xml":{let L=new p,W=await L.parseStream(E);Object.assign(b,W);break}default:{let L=C.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(L){await this._processWorksheetEntry(E,b,L[1],O,C);break}if(L=C.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),L){await this._processWorksheetRelsEntry(E,b,L[1]);break}if(L=C.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),L){await this._processThemeEntry(E,b,L[1]);break}if(L=C.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),L){await this._processMediaEntry(E,b,L[1]);break}if(L=C.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),L){await this._processDrawingEntry(E,b,L[1]);break}if(L=C.match(/xl\/(comments\d+)[.]xml/),L){await this._processCommentEntry(E,b,L[1]);break}if(L=C.match(/xl\/tables\/(table\d+)[.]xml/),L){await this._processTableEntry(E,b,L[1]);break}if(L=C.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),L){await this._processDrawingRelsEntry(E,b,L[1]);break}if(L=C.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),L){await this._processVmlDrawingEntry(E,b,L[1]);break}}}}return this.reconcile(b,O),this.workbook.model=b,this.workbook}async addMedia(T,O){await Promise.all(O.media.map(async y=>{if(y.type==="image"){let b=`xl/media/${y.name}.${y.extension}`;if(y.filename){let w=await function(_,E){return new Promise((C,L)=>{s.readFile(_,E,(W,B)=>{W?L(W):C(B)})})}(y.filename);return T.append(w,{name:b})}if(y.buffer)return T.append(y.buffer,{name:b});if(y.base64){let w=y.base64,_=w.substring(w.indexOf(",")+1);return T.append(_,{name:b,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(T,O){let y=new $,b=new g;O.worksheets.forEach(w=>{let{drawing:_}=w;if(_){y.prepare(_,{});let E=y.toXml(_);T.append(E,{name:`xl/drawings/${_.name}.xml`}),E=b.toXml(_.rels),T.append(E,{name:`xl/drawings/_rels/${_.name}.xml.rels`})}})}addTables(T,O){let y=new F;O.worksheets.forEach(b=>{let{tables:w}=b;w.forEach(_=>{y.prepare(_,{});let E=y.toXml(_);T.append(E,{name:"xl/tables/"+_.target})})})}async addContentTypes(T,O){let y=new v().toXml(O);T.append(y,{name:"[Content_Types].xml"})}async addApp(T,O){let y=new x().toXml(O);T.append(y,{name:"docProps/app.xml"})}async addCore(T,O){let y=new p;T.append(y.toXml(O),{name:"docProps/core.xml"})}async addThemes(T,O){let y=O.themes||{theme1:q};Object.keys(y).forEach(b=>{let w=y[b],_=`xl/theme/${b}.xml`;T.append(w,{name:_})})}async addOfficeRels(T){let O=new g().toXml([{Id:"rId1",Type:j.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:j.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:j.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);T.append(O,{name:"_rels/.rels"})}async addWorkbookRels(T,O){let y=1,b=[{Id:"rId"+y++,Type:j.RelType.Styles,Target:"styles.xml"},{Id:"rId"+y++,Type:j.RelType.Theme,Target:"theme/theme1.xml"}];O.sharedStrings.count&&b.push({Id:"rId"+y++,Type:j.RelType.SharedStrings,Target:"sharedStrings.xml"}),O.worksheets.forEach(_=>{_.rId="rId"+y++,b.push({Id:_.rId,Type:j.RelType.Worksheet,Target:`worksheets/sheet${_.id}.xml`})});let w=new g().toXml(b);T.append(w,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(T,O){O.sharedStrings&&O.sharedStrings.count&&T.append(O.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(T,O){let{xml:y}=O.styles;y&&T.append(y,{name:"xl/styles.xml"})}async addWorkbook(T,O){let y=new I;T.append(y.toXml(O),{name:"xl/workbook.xml"})}async addWorksheets(T,O){let y=new R,b=new g,w=new V,_=new U;O.worksheets.forEach(E=>{let C=new d;y.render(C,E),T.append(C.xml,{name:`xl/worksheets/sheet${E.id}.xml`}),E.rels&&E.rels.length&&(C=new d,b.render(C,E.rels),T.append(C.xml,{name:`xl/worksheets/_rels/sheet${E.id}.xml.rels`})),E.comments.length>0&&(C=new d,w.render(C,E),T.append(C.xml,{name:`xl/comments${E.id}.xml`}),C=new d,_.render(C,E),T.append(C.xml,{name:`xl/drawings/vmlDrawing${E.id}.vml`}))})}_finalize(T){return new Promise((O,y)=>{T.on("finish",()=>{O(this)}),T.on("error",y),T.finalize()})}prepareModel(T,O){T.creator=T.creator||"ExcelJS",T.lastModifiedBy=T.lastModifiedBy||"ExcelJS",T.created=T.created||new Date,T.modified=T.modified||new Date,T.useSharedStrings=O.useSharedStrings===void 0||O.useSharedStrings,T.useStyles=O.useStyles===void 0||O.useStyles,T.sharedStrings=new m,T.styles=T.useStyles?new f(!0):new f.Mock;let y=new I,b=new R;y.prepare(T);let w={sharedStrings:T.sharedStrings,styles:T.styles,date1904:T.properties.date1904,drawingsCount:0,media:T.media};w.drawings=T.drawings=[],w.commentRefs=T.commentRefs=[];let _=0;T.tables=[],T.worksheets.forEach(E=>{E.tables.forEach(C=>{_++,C.target=`table${_}.xml`,C.id=_,T.tables.push(C)}),b.prepare(E,w)})}async write(T,O){O=O||{};let{model:y}=this.workbook,b=new l.ZipWriter(O.zip);return b.pipe(T),this.prepareModel(y,O),await this.addContentTypes(b,y),await this.addOfficeRels(b,y),await this.addWorkbookRels(b,y),await this.addWorksheets(b,y),await this.addSharedStrings(b,y),await this.addDrawings(b,y),await this.addTables(b,y),await Promise.all([this.addThemes(b,y),this.addStyles(b,y)]),await this.addMedia(b,y),await Promise.all([this.addApp(b,y),this.addCore(b,y)]),await this.addWorkbook(b,y),this._finalize(b)}writeFile(T,O){let y=s.createWriteStream(T);return new Promise((b,w)=>{y.on("finish",()=>{b()}),y.on("error",_=>{w(_)}),this.write(y,O).then(()=>{y.end()}).catch(_=>{w(_)})})}async writeBuffer(T){let O=new c;return await this.write(O,T),O.read()}}j.RelType=e("./rel-type"),t.exports=j}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,t,n){"use strict";t.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,t,n){(function(r){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvFormatterStream=void 0;let i=e("stream"),s=e("./formatter");class o extends i.Transform{constructor(l){super({writableObjectMode:l.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=l,this.rowFormatter=new s.RowFormatter(l),this.hasWrittenBOM=!l.writeBOM}transform(l){return this.rowFormatter.rowTransform=l,this}_transform(l,c,u){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(l,(h,f)=>h?(d=!0,u(h)):(f&&f.forEach(p=>{this.push(r.from(p,"utf8"))}),d=!0,u()))}catch(h){if(d)throw h;u(h)}}_flush(l){this.rowFormatter.finish((c,u)=>c?l(c):(u&&u.forEach(d=>{this.push(r.from(d,"utf8"))}),l()))}}n.CsvFormatterStream=o}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FormatterOptions=void 0,n.FormatterOptions=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var i;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,r||{}),r?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),r?.quote===!0?this.quote='"':r?.quote===!1&&(this.quote=""),typeof r?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((i=r.writeHeaders)===null||i===void 0||i),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,t,n){"use strict";var r=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=void 0;let i=r(e("lodash.isboolean")),s=r(e("lodash.isnil")),o=r(e("lodash.escaperegexp"));n.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");let l=`[${a.delimiter}${o.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(l)}set headers(a){this._headers=a}shouldQuote(a,l){let c=l?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return i.default(c)?c:Array.isArray(c)?c[a]:this._headers!==null&&c[this._headers[a]]}format(a,l,c){let u=(""+(s.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&u.indexOf(d.quote)!==-1?this.quoteField(u.replace(this.REPLACE_REGEXP,d.escapedQuote)):u.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(l,c)?this.quoteField(u):u}quoteField(a){let{quote:l}=this.formatterOptions;return`${l}${a}${l}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,t,n){"use strict";var r=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowFormatter=void 0;let i=r(e("lodash.isfunction")),s=r(e("lodash.isequal")),o=e("./FieldFormatter"),a=e("../types");class l{constructor(u){this.rowCount=0,this.formatterOptions=u,this.fieldFormatter=new o.FieldFormatter(u),this.headers=u.headers,this.shouldWriteHeaders=u.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),u.transform&&(this.rowTransform=u.transform)}static isRowHashArray(u){return!!Array.isArray(u)&&Array.isArray(u[0])&&u[0].length===2}static isRowArray(u){return Array.isArray(u)&&!this.isRowHashArray(u)}static gatherHeaders(u){return l.isRowHashArray(u)?u.map(d=>d[0]):Array.isArray(u)?u:Object.keys(u)}static createTransform(u){return a.isSyncTransform(u)?(d,h)=>{let f=null;try{f=u(d)}catch(p){return h(p)}return h(null,f)}:(d,h)=>{u(d,h)}}set rowTransform(u){if(!i.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}format(u,d){this.callTransformer(u,(h,f)=>{if(h)return d(h);if(!u)return d(null);let p=[];if(f){let{shouldFormatColumns:m,headers:g}=this.checkHeaders(f);if(this.shouldWriteHeaders&&g&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(g,!0)),this.hasWrittenHeaders=!0),m){let v=this.gatherColumns(f);p.push(this.formatColumns(v,!1))}}return d(null,p)})}finish(u){let d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return u(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),u(null,d)}checkHeaders(u){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};let d=l.gatherHeaders(u);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!s.default(d,u),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(u){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(u)?l.isRowHashArray(u)?this.headers.map((d,h)=>{let f=u[h];return f?f[1]:""}):l.isRowArray(u)&&!this.shouldWriteHeaders?u:this.headers.map((d,h)=>u[h]):this.headers.map(d=>u[d])}callTransformer(u,d){return this._rowTransform?this._rowTransform(u,d):d(null,u)}formatColumns(u,d){let h=u.map((p,m)=>this.fieldFormatter.format(p,m,d)).join(this.formatterOptions.delimiter),{rowCount:f}=this;return this.rowCount+=1,f?[this.formatterOptions.rowDelimiter,h].join(""):h}}n.RowFormatter=l},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=n.RowFormatter=void 0;var r=e("./RowFormatter");Object.defineProperty(n,"RowFormatter",{enumerable:!0,get:function(){return r.RowFormatter}});var i=e("./FieldFormatter");Object.defineProperty(n,"FieldFormatter",{enumerable:!0,get:function(){return i.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,t,n){(function(r){(function(){"use strict";var i=Object.create?function(m,g,v,x){x===void 0&&(x=v),Object.defineProperty(m,x,{enumerable:!0,get:function(){return g[v]}})}:function(m,g,v,x){x===void 0&&(x=v),m[x]=g[v]},s=Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g},o=function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&i(g,m,v);return s(g,m),g},a=function(m,g){for(var v in m)v==="default"||Object.prototype.hasOwnProperty.call(g,v)||i(g,m,v)};Object.defineProperty(n,"__esModule",{value:!0}),n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=n.FormatterOptions=n.CsvFormatterStream=void 0;let l=e("util"),c=e("stream"),u=o(e("fs")),d=e("./FormatterOptions"),h=e("./CsvFormatterStream");a(e("./types"),n);var f=e("./CsvFormatterStream");Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return f.CsvFormatterStream}});var p=e("./FormatterOptions");Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),n.format=m=>new h.CsvFormatterStream(new d.FormatterOptions(m)),n.write=(m,g)=>{let v=n.format(g),x=l.promisify((I,R)=>{v.write(I,void 0,R)});return m.reduce((I,R)=>I.then(()=>x(R)),Promise.resolve()).then(()=>v.end()).catch(I=>{v.emit("error",I)}),v},n.writeToStream=(m,g,v)=>n.write(g,v).pipe(m),n.writeToBuffer=function(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=[],x=new c.Writable({write(I,R,$){v.push(I),$()}});return new Promise((I,R)=>{x.on("error",R).on("finish",()=>I(r.concat(v))),n.write(m,g).pipe(x)})},n.writeToString=(m,g)=>n.writeToBuffer(m,g).then(v=>v.toString()),n.writeToPath=(m,g,v)=>{let x=u.createWriteStream(m,{encoding:"utf8"});return n.write(g,v).pipe(x)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncTransform=void 0,n.isSyncTransform=r=>r.length===1},{}],153:[function(e,t,n){(function(r){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=void 0;let i=e("string_decoder"),s=e("stream"),o=e("./transforms"),a=e("./parser");class l extends s.Transform{constructor(u){super({objectMode:u.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=u,this.parser=new a.Parser(u),this.headerTransformer=new o.HeaderTransformer(u),this.decoder=new i.StringDecoder(u.encoding),this.rowTransformerValidator=new o.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(u){return this.rowTransformerValidator.rowTransform=u,this}validate(u){return this.rowTransformerValidator.rowValidator=u,this}emit(u){if(u==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,h=new Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return super.emit(u,...h)}_transform(u,d,h){if(this.hasHitRowLimit)return h();let f=l.wrapDoneCallback(h);try{let{lines:p}=this,m=p+this.decoder.write(u),g=this.parse(m,!0);return this.processRows(g,f)}catch(p){return f(p)}}_flush(u){let d=l.wrapDoneCallback(u);if(this.hasHitRowLimit)return d();try{let h=this.lines+this.decoder.end(),f=this.parse(h,!1);return this.processRows(f,d)}catch(h){return d(h)}}parse(u,d){if(!u)return[];let{line:h,rows:f}=this.parser.parse(u,d);return this.lines=h,f}processRows(u,d){let h=u.length,f=p=>{let m=x=>x?d(x):p%100!=0?f(p+1):void r(()=>f(p+1));if(this.checkAndEmitHeaders(),p>=h||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return m();let g=u[p];this.rowCount+=1,this.parsedRowCount+=1;let v=this.rowCount;return this.transformRow(g,(x,I)=>{if(x)return this.rowCount-=1,m(x);if(!I)return m(new Error("expected transform result"));if(I.isValid){if(I.row)return this.pushRow(I.row,m)}else this.emit("data-invalid",I.row,v,I.reason);return m()})};f(0)}transformRow(u,d){try{this.headerTransformer.transform(u,(h,f)=>h?d(h):f?f.isValid?f.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(f.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:u}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(h){d(h)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(u){return this.rowCount-=1,u(null,{row:null,isValid:!0})}pushRow(u,d){try{this.parserOptions.objectMode?this.push(u):this.push(JSON.stringify(u)),d()}catch(h){d(h)}}static wrapDoneCallback(u){let d=!1;return function(h){if(h){if(d)throw h;return d=!0,void u(h)}for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];u(...p)}}}n.CsvParserStream=l}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,t,n){"use strict";var r=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParserOptions=void 0;let i=r(e("lodash.escaperegexp")),s=r(e("lodash.isnil"));n.ParserOptions=class{constructor(o){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,o||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=i.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!s.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,t,n){"use strict";var r=Object.create?function(f,p,m,g){g===void 0&&(g=m),Object.defineProperty(f,g,{enumerable:!0,get:function(){return p[m]}})}:function(f,p,m,g){g===void 0&&(g=m),f[g]=p[m]},i=Object.create?function(f,p){Object.defineProperty(f,"default",{enumerable:!0,value:p})}:function(f,p){f.default=p},s=function(f){if(f&&f.__esModule)return f;var p={};if(f!=null)for(var m in f)m!=="default"&&Object.prototype.hasOwnProperty.call(f,m)&&r(p,f,m);return i(p,f),p},o=function(f,p){for(var m in f)m==="default"||Object.prototype.hasOwnProperty.call(p,m)||r(p,f,m)};Object.defineProperty(n,"__esModule",{value:!0}),n.parseString=n.parseFile=n.parseStream=n.parse=n.ParserOptions=n.CsvParserStream=void 0;let a=s(e("fs")),l=e("stream"),c=e("./ParserOptions"),u=e("./CsvParserStream");o(e("./types"),n);var d=e("./CsvParserStream");Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var h=e("./ParserOptions");Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return h.ParserOptions}}),n.parse=f=>new u.CsvParserStream(new c.ParserOptions(f)),n.parseStream=(f,p)=>f.pipe(new u.CsvParserStream(new c.ParserOptions(p))),n.parseFile=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(f).pipe(new u.CsvParserStream(new c.ParserOptions(p)))},n.parseString=(f,p)=>{let m=new l.Readable;return m.push(f),m.push(null),m.pipe(new u.CsvParserStream(new c.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=void 0;let r=e("./Scanner"),i=e("./RowParser"),s=e("./Token");class o{constructor(l){this.parserOptions=l,this.rowParser=new i.RowParser(this.parserOptions)}static removeBOM(l){return l&&l.charCodeAt(0)===65279?l.slice(1):l}parse(l,c){let u=new r.Scanner({line:o.removeBOM(l),parserOptions:this.parserOptions,hasMoreData:c});return this.parserOptions.supportsComments?this.parseWithComments(u):this.parseWithoutComments(u)}parseWithoutComments(l){let c=[],u=!0;for(;u;)u=this.parseRow(l,c);return{line:l.line,rows:c}}parseWithComments(l){let{parserOptions:c}=this,u=[];for(let d=l.nextCharacterToken;d!==null;d=l.nextCharacterToken)if(s.Token.isTokenComment(d,c)){if(l.advancePastLine()===null)return{line:l.lineFromCursor,rows:u};if(!l.hasMoreCharacters)return{line:l.lineFromCursor,rows:u};l.truncateToCursor()}else if(!this.parseRow(l,u))break;return{line:l.line,rows:u}}parseRow(l,c){if(!l.nextNonSpaceToken)return!1;let u=this.rowParser.parse(l);return u!==null&&(this.parserOptions.ignoreEmpty&&i.RowParser.isEmptyRow(u)||c.push(u),!0)}}n.Parser=o},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RowParser=void 0;let r=e("./column"),i=e("./Token");n.RowParser=class{constructor(s){this.parserOptions=s,this.columnParser=new r.ColumnParser(s)}static isEmptyRow(s){return s.join("").replace(/\s+/g,"")===""}parse(s){let{parserOptions:o}=this,{hasMoreData:a}=s,l=s,c=[],u=this.getStartToken(l,c);for(;u;){if(i.Token.isTokenRowDelimiter(u))return l.advancePastToken(u),!l.hasMoreCharacters&&i.Token.isTokenCarriageReturn(u,o)&&a?null:(l.truncateToCursor(),c);if(!this.shouldSkipColumnParse(l,u,c)){let d=this.columnParser.parse(l);if(d===null)return null;c.push(d)}u=l.nextNonSpaceToken}return a?null:(l.truncateToCursor(),c)}getStartToken(s,o){let a=s.nextNonSpaceToken;return a!==null&&i.Token.isTokenDelimiter(a,this.parserOptions)?(o.push(""),s.nextNonSpaceToken):a}shouldSkipColumnParse(s,o,a){let{parserOptions:l}=this;if(i.Token.isTokenDelimiter(o,l)){s.advancePastToken(o);let c=s.nextCharacterToken;if(!s.hasMoreCharacters||c!==null&&i.Token.isTokenRowDelimiter(c)||c!==null&&i.Token.isTokenDelimiter(c,l))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Scanner=void 0;let r=e("./Token"),i=/((?:\r\n)|\n|\r)/;n.Scanner=class{constructor(s){this.cursor=0,this.line=s.line,this.lineLength=this.line.length,this.parserOptions=s.parserOptions,this.hasMoreData=s.hasMoreData,this.cursor=s.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){let{lineFromCursor:s}=this,o=this.parserOptions.NEXT_TOKEN_REGEXP;if(s.search(o)===-1)return null;let a=o.exec(s);if(a==null)return null;let l=a[1],c=this.cursor+(a.index||0);return new r.Token({token:l,startCursor:c,endCursor:c+l.length-1})}get nextCharacterToken(){let{cursor:s,lineLength:o}=this;return o<=s?null:new r.Token({token:this.line[s],startCursor:s,endCursor:s})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){let s=i.exec(this.lineFromCursor);return s?(this.cursor+=(s.index||0)+s[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(s){return this.cursor=s,this}advanceToToken(s){return this.cursor=s.startCursor,this}advancePastToken(s){return this.cursor=s.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0,n.Token=class{constructor(r){this.token=r.token,this.startCursor=r.startCursor,this.endCursor=r.endCursor}static isTokenRowDelimiter(r){let i=r.token;return i==="\r"||i===`
`||i===`\r
`}static isTokenCarriageReturn(r,i){return r.token===i.carriageReturn}static isTokenComment(r,i){return i.supportsComments&&!!r&&r.token===i.comment}static isTokenEscapeCharacter(r,i){return r.token===i.escapeChar}static isTokenQuote(r,i){return r.token===i.quote}static isTokenDelimiter(r,i){return r.token===i.delimiter}}},{}],160:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=void 0,n.ColumnFormatter=class{constructor(r){r.trim?this.format=i=>i.trim():r.ltrim?this.format=i=>i.trimLeft():r.rtrim?this.format=i=>i.trimRight():this.format=i=>i}}},{}],161:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnParser=void 0;let r=e("./NonQuotedColumnParser"),i=e("./QuotedColumnParser"),s=e("../Token");n.ColumnParser=class{constructor(o){this.parserOptions=o,this.quotedColumnParser=new i.QuotedColumnParser(o),this.nonQuotedColumnParser=new r.NonQuotedColumnParser(o)}parse(o){let{nextNonSpaceToken:a}=o;return a!==null&&s.Token.isTokenQuote(a,this.parserOptions)?(o.advanceToToken(a),this.quotedColumnParser.parse(o)):this.nonQuotedColumnParser.parse(o)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NonQuotedColumnParser=void 0;let r=e("./ColumnFormatter"),i=e("../Token");n.NonQuotedColumnParser=class{constructor(s){this.parserOptions=s,this.columnFormatter=new r.ColumnFormatter(s)}parse(s){if(!s.hasMoreCharacters)return null;let{parserOptions:o}=this,a=[],l=s.nextCharacterToken;for(;l&&!i.Token.isTokenDelimiter(l,o)&&!i.Token.isTokenRowDelimiter(l);l=s.nextCharacterToken)a.push(l.token),s.advancePastToken(l);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=void 0;let r=e("./ColumnFormatter"),i=e("../Token");n.QuotedColumnParser=class{constructor(s){this.parserOptions=s,this.columnFormatter=new r.ColumnFormatter(s)}parse(s){if(!s.hasMoreCharacters)return null;let o=s.cursor,{foundClosingQuote:a,col:l}=this.gatherDataBetweenQuotes(s);if(!a){if(s.advanceTo(o),!s.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${s.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(s),l}gatherDataBetweenQuotes(s){let{parserOptions:o}=this,a=!1,l=!1,c=[],u=s.nextCharacterToken;for(;!l&&u!==null;u=s.nextCharacterToken){let d=i.Token.isTokenQuote(u,o);if(!a&&d)a=!0;else if(a)if(i.Token.isTokenEscapeCharacter(u,o)){s.advancePastToken(u);let h=s.nextCharacterToken;h!==null&&(i.Token.isTokenQuote(h,o)||i.Token.isTokenEscapeCharacter(h,o))?(c.push(h.token),u=h):d?l=!0:c.push(u.token)}else d?l=!0:c.push(u.token);s.advancePastToken(u)}return{col:this.columnFormatter.format(c.join("")),foundClosingQuote:l}}checkForMalformedColumn(s){let{parserOptions:o}=this,{nextNonSpaceToken:a}=s;if(a){let l=i.Token.isTokenDelimiter(a,o),c=i.Token.isTokenRowDelimiter(a);if(!l&&!c){let u=s.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${o.escapedDelimiter}' OR new line got: '${a.token}'. at '${u}`)}s.advanceToToken(a)}else s.hasMoreData||s.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=void 0;var r=e("./ColumnParser");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return r.ColumnParser}});var i=e("./NonQuotedColumnParser");Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return i.NonQuotedColumnParser}});var s=e("./QuotedColumnParser");Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return s.QuotedColumnParser}});var o=e("./ColumnFormatter");Object.defineProperty(n,"ColumnFormatter",{enumerable:!0,get:function(){return o.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=n.Token=n.Scanner=n.RowParser=n.Parser=void 0;var r=e("./Parser");Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=e("./RowParser");Object.defineProperty(n,"RowParser",{enumerable:!0,get:function(){return i.RowParser}});var s=e("./Scanner");Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return s.Scanner}});var o=e("./Token");Object.defineProperty(n,"Token",{enumerable:!0,get:function(){return o.Token}});var a=e("./column");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,t,n){"use strict";var r=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=void 0;let i=r(e("lodash.isundefined")),s=r(e("lodash.isfunction")),o=r(e("lodash.uniq")),a=r(e("lodash.groupby"));n.HeaderTransformer=class{constructor(l){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=l,l.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(l.headers)?this.setHeaders(l.headers):s.default(l.headers)&&(this.headersTransform=l.headers)}transform(l,c){return this.shouldMapRow(l)?c(null,this.processRow(l)):c(null,{row:null,isValid:!0})}shouldMapRow(l){let{parserOptions:c}=this;if(!this.headersTransform&&c.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(l)){if(this.headersTransform)this.setHeaders(this.headersTransform(l));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(l)}return!1}return!0}processRow(l){if(!this.headers)return{row:l,isValid:!0};let{parserOptions:c}=this;if(!c.discardUnmappedColumns&&l.length>this.headersLength){if(!c.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${l.length}`);return{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}}return c.strictColumnHandling&&l.length<this.headersLength?{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}:{row:this.mapHeaders(l),isValid:!0}}mapHeaders(l){let c={},{headers:u,headersLength:d}=this;for(let h=0;h<d;h+=1){let f=u[h];if(!i.default(f)){let p=l[h];i.default(p)?c[f]="":c[f]=p}}return c}setHeaders(l){var c;let u=l.filter(d=>!!d);if(o.default(u).length!==u.length){let d=a.default(u),h=Object.keys(d).filter(f=>d[f].length>1);throw new Error("Duplicate headers found "+JSON.stringify(h))}this.headers=l,this.receivedHeaders=!0,this.headersLength=((c=this.headers)===null||c===void 0?void 0:c.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,t,n){"use strict";var r=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowTransformerValidator=void 0;let i=r(e("lodash.isfunction")),s=e("../types");class o{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(l){return s.isSyncTransform(l)?(c,u)=>{let d=null;try{d=l(c)}catch(h){return u(h)}return u(null,d)}:l}static createValidator(l){return s.isSyncValidate(l)?(c,u)=>{u(null,{row:c,isValid:l(c)})}:(c,u)=>{l(c,(d,h,f)=>d?u(d):u(null,h?{row:c,isValid:h,reason:f}:{row:c,isValid:!1,reason:f}))}}set rowTransform(l){if(!i.default(l))throw new TypeError("The transform should be a function");this._rowTransform=o.createTransform(l)}set rowValidator(l){if(!i.default(l))throw new TypeError("The validate should be a function");this._rowValidator=o.createValidator(l)}transformAndValidate(l,c){return this.callTransformer(l,(u,d)=>u?c(u):d?this.callValidator(d,(h,f)=>h?c(h):f&&!f.isValid?c(null,{row:d,isValid:!1,reason:f.reason}):c(null,{row:d,isValid:!0})):c(null,{row:null,isValid:!0}))}callTransformer(l,c){return this._rowTransform?this._rowTransform(l,c):c(null,l)}callValidator(l,c){return this._rowValidator?this._rowValidator(l,c):c(null,{row:l,isValid:!0})}}n.RowTransformerValidator=o},{"../types":169,"lodash.isfunction":446}],168:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=n.RowTransformerValidator=void 0;var r=e("./RowTransformerValidator");Object.defineProperty(n,"RowTransformerValidator",{enumerable:!0,get:function(){return r.RowTransformerValidator}});var i=e("./HeaderTransformer");Object.defineProperty(n,"HeaderTransformer",{enumerable:!0,get:function(){return i.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncValidate=n.isSyncTransform=void 0,n.isSyncTransform=r=>r.length===1,n.isSyncValidate=r=>r.length===1},{}],170:[function(e,t,n){"use strict";let r=n;r.bignum=e("bn.js"),r.define=e("./asn1/api").define,r.base=e("./asn1/base"),r.constants=e("./asn1/constants"),r.decoders=e("./asn1/decoders"),r.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,t,n){"use strict";let r=e("./encoders"),i=e("./decoders"),s=e("inherits");function o(a,l){this.name=a,this.body=l,this.decoders={},this.encoders={}}n.define=function(a,l){return new o(a,l)},o.prototype._createNamed=function(a){let l=this.name;function c(u){this._initNamed(u,l)}return s(c,a),c.prototype._initNamed=function(u,d){a.call(this,u,d)},new c(this)},o.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(i[a])),this.decoders[a]},o.prototype.decode=function(a,l,c){return this._getDecoder(l).decode(a,c)},o.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(r[a])),this.encoders[a]},o.prototype.encode=function(a,l,c){return this._getEncoder(l).encode(a,c)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,t,n){"use strict";let r=e("inherits"),i=e("../base/reporter").Reporter,s=e("safer-buffer").Buffer;function o(l,c){i.call(this,c),s.isBuffer(l)?(this.base=l,this.offset=0,this.length=l.length):this.error("Input not Buffer")}function a(l,c){if(Array.isArray(l))this.length=0,this.value=l.map(function(u){return a.isEncoderBuffer(u)||(u=new a(u,c)),this.length+=u.length,u},this);else if(typeof l=="number"){if(!(0<=l&&l<=255))return c.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if(typeof l=="string")this.value=l,this.length=s.byteLength(l);else{if(!s.isBuffer(l))return c.error("Unsupported type: "+typeof l);this.value=l,this.length=l.length}}r(o,i),n.DecoderBuffer=o,o.isDecoderBuffer=function(l){return l instanceof o?!0:typeof l=="object"&&s.isBuffer(l.base)&&l.constructor.name==="DecoderBuffer"&&typeof l.offset=="number"&&typeof l.length=="number"&&typeof l.save=="function"&&typeof l.restore=="function"&&typeof l.isEmpty=="function"&&typeof l.readUInt8=="function"&&typeof l.skip=="function"&&typeof l.raw=="function"},o.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(l){let c=new o(this.base);return c.offset=l.offset,c.length=this.offset,this.offset=l.offset,i.prototype.restore.call(this,l.reporter),c},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(l){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(l||"DecoderBuffer overrun")},o.prototype.skip=function(l,c){if(!(this.offset+l<=this.length))return this.error(c||"DecoderBuffer overrun");let u=new o(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+l,this.offset+=l,u},o.prototype.raw=function(l){return this.base.slice(l?l.offset:this.offset,this.length)},n.EncoderBuffer=a,a.isEncoderBuffer=function(l){return l instanceof a?!0:typeof l=="object"&&l.constructor.name==="EncoderBuffer"&&typeof l.length=="number"&&typeof l.join=="function"},a.prototype.join=function(l,c){return l||(l=s.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(l,c),c+=u.length}):(typeof this.value=="number"?l[c]=this.value:typeof this.value=="string"?l.write(this.value,c):s.isBuffer(this.value)&&this.value.copy(l,c),c+=this.length)),l}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,t,n){"use strict";let r=n;r.Reporter=e("./reporter").Reporter,r.DecoderBuffer=e("./buffer").DecoderBuffer,r.EncoderBuffer=e("./buffer").EncoderBuffer,r.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,t,n){"use strict";let r=e("../base/reporter").Reporter,i=e("../base/buffer").EncoderBuffer,s=e("../base/buffer").DecoderBuffer,o=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(d,h,f){let p={};this._baseState=p,p.name=f,p.enc=d,p.parent=h||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}t.exports=c;let u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){let d=this._baseState,h={};u.forEach(function(p){h[p]=d[p]});let f=new this.constructor(h.parent);return f._baseState=h,f},c.prototype._wrap=function(){let d=this._baseState;l.forEach(function(h){this[h]=function(){let f=new this.constructor(this);return d.children.push(f),f[h].apply(f,arguments)}},this)},c.prototype._init=function(d){let h=this._baseState;o(h.parent===null),d.call(this),h.children=h.children.filter(function(f){return f._baseState.parent===this},this),o.equal(h.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(d){let h=this._baseState,f=d.filter(function(p){return p instanceof this.constructor},this);d=d.filter(function(p){return!(p instanceof this.constructor)},this),f.length!==0&&(o(h.children===null),h.children=f,f.forEach(function(p){p._baseState.parent=this},this)),d.length!==0&&(o(h.args===null),h.args=d,h.reverseArgs=d.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;let m={};return Object.keys(p).forEach(function(g){g==(0|g)&&(g|=0);let v=p[g];m[v]=g}),m}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){c.prototype[d]=function(){let h=this._baseState;throw new Error(d+" not implemented for encoding: "+h.enc)}}),a.forEach(function(d){c.prototype[d]=function(){let h=this._baseState,f=Array.prototype.slice.call(arguments);return o(h.tag===null),h.tag=d,this._useArgs(f),this}}),c.prototype.use=function(d){o(d);let h=this._baseState;return o(h.use===null),h.use=d,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(d){let h=this._baseState;return o(h.default===null),h.default=d,h.optional=!0,this},c.prototype.explicit=function(d){let h=this._baseState;return o(h.explicit===null&&h.implicit===null),h.explicit=d,this},c.prototype.implicit=function(d){let h=this._baseState;return o(h.explicit===null&&h.implicit===null),h.implicit=d,this},c.prototype.obj=function(){let d=this._baseState,h=Array.prototype.slice.call(arguments);return d.obj=!0,h.length!==0&&this._useArgs(h),this},c.prototype.key=function(d){let h=this._baseState;return o(h.key===null),h.key=d,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(d){let h=this._baseState;return o(h.choice===null),h.choice=d,this._useArgs(Object.keys(d).map(function(f){return d[f]})),this},c.prototype.contains=function(d){let h=this._baseState;return o(h.use===null),h.contains=d,this},c.prototype._decode=function(d,h){let f=this._baseState;if(f.parent===null)return d.wrapResult(f.children[0]._decode(d,h));let p,m=f.default,g=!0,v=null;if(f.key!==null&&(v=d.enterKey(f.key)),f.optional){let x=null;if(f.explicit!==null?x=f.explicit:f.implicit!==null?x=f.implicit:f.tag!==null&&(x=f.tag),x!==null||f.any){if(g=this._peekTag(d,x,f.any),d.isError(g))return g}else{let I=d.save();try{f.choice===null?this._decodeGeneric(f.tag,d,h):this._decodeChoice(d,h),g=!0}catch{g=!1}d.restore(I)}}if(f.obj&&g&&(p=d.enterObject()),g){if(f.explicit!==null){let I=this._decodeTag(d,f.explicit);if(d.isError(I))return I;d=I}let x=d.offset;if(f.use===null&&f.choice===null){let I;f.any&&(I=d.save());let R=this._decodeTag(d,f.implicit!==null?f.implicit:f.tag,f.any);if(d.isError(R))return R;f.any?m=d.raw(I):d=R}if(h&&h.track&&f.tag!==null&&h.track(d.path(),x,d.length,"tagged"),h&&h.track&&f.tag!==null&&h.track(d.path(),d.offset,d.length,"content"),f.any||(m=f.choice===null?this._decodeGeneric(f.tag,d,h):this._decodeChoice(d,h)),d.isError(m))return m;if(f.any||f.choice!==null||f.children===null||f.children.forEach(function(I){I._decode(d,h)}),f.contains&&(f.tag==="octstr"||f.tag==="bitstr")){let I=new s(m);m=this._getUse(f.contains,d._reporterState.obj)._decode(I,h)}}return f.obj&&g&&(m=d.leaveObject(p)),f.key===null||m===null&&g!==!0?v!==null&&d.exitKey(v):d.leaveKey(v,f.key,m),m},c.prototype._decodeGeneric=function(d,h,f){let p=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(h,d,p.args[0],f):/str$/.test(d)?this._decodeStr(h,d,f):d==="objid"&&p.args?this._decodeObjid(h,p.args[0],p.args[1],f):d==="objid"?this._decodeObjid(h,null,null,f):d==="gentime"||d==="utctime"?this._decodeTime(h,d,f):d==="null_"?this._decodeNull(h,f):d==="bool"?this._decodeBool(h,f):d==="objDesc"?this._decodeStr(h,d,f):d==="int"||d==="enum"?this._decodeInt(h,p.args&&p.args[0],f):p.use!==null?this._getUse(p.use,h._reporterState.obj)._decode(h,f):h.error("unknown tag: "+d)},c.prototype._getUse=function(d,h){let f=this._baseState;return f.useDecoder=this._use(d,h),o(f.useDecoder._baseState.parent===null),f.useDecoder=f.useDecoder._baseState.children[0],f.implicit!==f.useDecoder._baseState.implicit&&(f.useDecoder=f.useDecoder.clone(),f.useDecoder._baseState.implicit=f.implicit),f.useDecoder},c.prototype._decodeChoice=function(d,h){let f=this._baseState,p=null,m=!1;return Object.keys(f.choice).some(function(g){let v=d.save(),x=f.choice[g];try{let I=x._decode(d,h);if(d.isError(I))return!1;p={type:g,value:I},m=!0}catch{return d.restore(v),!1}return!0},this),m?p:d.error("Choice not matched")},c.prototype._createEncoderBuffer=function(d){return new i(d,this.reporter)},c.prototype._encode=function(d,h,f){let p=this._baseState;if(p.default!==null&&p.default===d)return;let m=this._encodeValue(d,h,f);return m===void 0||this._skipDefault(m,h,f)?void 0:m},c.prototype._encodeValue=function(d,h,f){let p=this._baseState;if(p.parent===null)return p.children[0]._encode(d,h||new r);let m=null;if(this.reporter=h,p.optional&&d===void 0){if(p.default===null)return;d=p.default}let g=null,v=!1;if(p.any)m=this._createEncoderBuffer(d);else if(p.choice)m=this._encodeChoice(d,h);else if(p.contains)g=this._getUse(p.contains,f)._encode(d,h),v=!0;else if(p.children)g=p.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,h,d);if(x._baseState.key===null)return h.error("Child should have a key");let I=h.enterKey(x._baseState.key);if(typeof d!="object")return h.error("Child expected, but input is not object");let R=x._encode(d[x._baseState.key],h,d);return h.leaveKey(I),R},this).filter(function(x){return x}),g=this._createEncoderBuffer(g);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return h.error("Too many args for : "+p.tag);if(!Array.isArray(d))return h.error("seqof/setof, but data is not Array");let x=this.clone();x._baseState.implicit=null,g=this._createEncoderBuffer(d.map(function(I){let R=this._baseState;return this._getUse(R.args[0],d)._encode(I,h)},x))}else p.use!==null?m=this._getUse(p.use,f)._encode(d,h):(g=this._encodePrimitive(p.tag,d),v=!0);if(!p.any&&p.choice===null){let x=p.implicit!==null?p.implicit:p.tag,I=p.implicit===null?"universal":"context";x===null?p.use===null&&h.error("Tag could be omitted only for .use()"):p.use===null&&(m=this._encodeComposite(x,v,I,g))}return p.explicit!==null&&(m=this._encodeComposite(p.explicit,!1,"context",m)),m},c.prototype._encodeChoice=function(d,h){let f=this._baseState,p=f.choice[d.type];return p||o(!1,d.type+" not found in "+JSON.stringify(Object.keys(f.choice))),p._encode(d.value,h)},c.prototype._encodePrimitive=function(d,h){let f=this._baseState;if(/str$/.test(d))return this._encodeStr(h,d);if(d==="objid"&&f.args)return this._encodeObjid(h,f.reverseArgs[0],f.args[1]);if(d==="objid")return this._encodeObjid(h,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(h,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(h,f.args&&f.reverseArgs[0]);if(d==="bool")return this._encodeBool(h);if(d==="objDesc")return this._encodeStr(h,d);throw new Error("Unsupported tag: "+d)},c.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},c.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,t,n){"use strict";let r=e("inherits");function i(o){this._reporterState={obj:null,path:[],options:o||{},errors:[]}}function s(o,a){this.path=o,this.rethrow(a)}n.Reporter=i,i.prototype.isError=function(o){return o instanceof s},i.prototype.save=function(){let o=this._reporterState;return{obj:o.obj,pathLen:o.path.length}},i.prototype.restore=function(o){let a=this._reporterState;a.obj=o.obj,a.path=a.path.slice(0,o.pathLen)},i.prototype.enterKey=function(o){return this._reporterState.path.push(o)},i.prototype.exitKey=function(o){let a=this._reporterState;a.path=a.path.slice(0,o-1)},i.prototype.leaveKey=function(o,a,l){let c=this._reporterState;this.exitKey(o),c.obj!==null&&(c.obj[a]=l)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){let o=this._reporterState,a=o.obj;return o.obj={},a},i.prototype.leaveObject=function(o){let a=this._reporterState,l=a.obj;return a.obj=o,l},i.prototype.error=function(o){let a,l=this._reporterState,c=o instanceof s;if(a=c?o:new s(l.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),o.message||o,o.stack),!l.options.partial)throw a;return c||l.errors.push(a),a},i.prototype.wrapResult=function(o){let a=this._reporterState;return a.options.partial?{result:this.isError(o)?null:o,errors:a.errors}:o},r(s,Error),s.prototype.rethrow=function(o){if(this.message=o+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(e,t,n){"use strict";function r(i){let s={};return Object.keys(i).forEach(function(o){(0|o)==o&&(o|=0);let a=i[o];s[a]=o}),s}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=r(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=r(n.tag)},{}],177:[function(e,t,n){"use strict";let r=n;r._reverse=function(i){let s={};return Object.keys(i).forEach(function(o){(0|o)==o&&(o|=0);let a=i[o];s[a]=o}),s},r.der=e("./der")},{"./der":176}],178:[function(e,t,n){"use strict";let r=e("inherits"),i=e("bn.js"),s=e("../base/buffer").DecoderBuffer,o=e("../base/node"),a=e("../constants/der");function l(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new c,this.tree._init(h.body)}function c(h){o.call(this,"der",h)}function u(h,f){let p=h.readUInt8(f);if(h.isError(p))return p;let m=a.tagClass[p>>6],g=(32&p)==0;if((31&p)==31){let v=p;for(p=0;(128&v)==128;){if(v=h.readUInt8(f),h.isError(v))return v;p<<=7,p|=127&v}}else p&=31;return{cls:m,primitive:g,tag:p,tagStr:a.tag[p]}}function d(h,f,p){let m=h.readUInt8(p);if(h.isError(m))return m;if(!f&&m===128)return null;if((128&m)==0)return m;let g=127&m;if(g>4)return h.error("length octect is too long");m=0;for(let v=0;v<g;v++){m<<=8;let x=h.readUInt8(p);if(h.isError(x))return x;m|=x}return m}t.exports=l,l.prototype.decode=function(h,f){return s.isDecoderBuffer(h)||(h=new s(h,f)),this.tree._decode(h,f)},r(c,o),c.prototype._peekTag=function(h,f,p){if(h.isEmpty())return!1;let m=h.save(),g=u(h,'Failed to peek tag: "'+f+'"');return h.isError(g)?g:(h.restore(m),g.tag===f||g.tagStr===f||g.tagStr+"of"===f||p)},c.prototype._decodeTag=function(h,f,p){let m=u(h,'Failed to decode tag of "'+f+'"');if(h.isError(m))return m;let g=d(h,m.primitive,'Failed to get length of "'+f+'"');if(h.isError(g))return g;if(!p&&m.tag!==f&&m.tagStr!==f&&m.tagStr+"of"!==f)return h.error('Failed to match tag: "'+f+'"');if(m.primitive||g!==null)return h.skip(g,'Failed to match body of: "'+f+'"');let v=h.save(),x=this._skipUntilEnd(h,'Failed to skip indefinite length body: "'+this.tag+'"');return h.isError(x)?x:(g=h.offset-v.offset,h.restore(v),h.skip(g,'Failed to match body of: "'+f+'"'))},c.prototype._skipUntilEnd=function(h,f){for(;;){let p=u(h,f);if(h.isError(p))return p;let m=d(h,p.primitive,f);if(h.isError(m))return m;let g;if(g=p.primitive||m!==null?h.skip(m):this._skipUntilEnd(h,f),h.isError(g))return g;if(p.tagStr==="end")break}},c.prototype._decodeList=function(h,f,p,m){let g=[];for(;!h.isEmpty();){let v=this._peekTag(h,"end");if(h.isError(v))return v;let x=p.decode(h,"der",m);if(h.isError(x)&&v)break;g.push(x)}return g},c.prototype._decodeStr=function(h,f){if(f==="bitstr"){let p=h.readUInt8();return h.isError(p)?p:{unused:p,data:h.raw()}}if(f==="bmpstr"){let p=h.raw();if(p.length%2==1)return h.error("Decoding of string type: bmpstr length mismatch");let m="";for(let g=0;g<p.length/2;g++)m+=String.fromCharCode(p.readUInt16BE(2*g));return m}if(f==="numstr"){let p=h.raw().toString("ascii");return this._isNumstr(p)?p:h.error("Decoding of string type: numstr unsupported characters")}if(f==="octstr"||f==="objDesc")return h.raw();if(f==="printstr"){let p=h.raw().toString("ascii");return this._isPrintstr(p)?p:h.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(f)?h.raw().toString():h.error("Decoding of string type: "+f+" unsupported")},c.prototype._decodeObjid=function(h,f,p){let m,g=[],v=0,x=0;for(;!h.isEmpty();)x=h.readUInt8(),v<<=7,v|=127&x,(128&x)==0&&(g.push(v),v=0);128&x&&g.push(v);let I=g[0]/40|0,R=g[0]%40;if(m=p?g:[I,R].concat(g.slice(1)),f){let $=f[m.join(" ")];$===void 0&&($=f[m.join(".")]),$!==void 0&&(m=$)}return m},c.prototype._decodeTime=function(h,f){let p=h.raw().toString(),m,g,v,x,I,R;if(f==="gentime")m=0|p.slice(0,4),g=0|p.slice(4,6),v=0|p.slice(6,8),x=0|p.slice(8,10),I=0|p.slice(10,12),R=0|p.slice(12,14);else{if(f!=="utctime")return h.error("Decoding "+f+" time is not supported yet");m=0|p.slice(0,2),g=0|p.slice(2,4),v=0|p.slice(4,6),x=0|p.slice(6,8),I=0|p.slice(8,10),R=0|p.slice(10,12),m=m<70?2e3+m:1900+m}return Date.UTC(m,g-1,v,x,I,R,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(h){let f=h.readUInt8();return h.isError(f)?f:f!==0},c.prototype._decodeInt=function(h,f){let p=h.raw(),m=new i(p);return f&&(m=f[m.toString(10)]||m),m},c.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,t,n){"use strict";let r=n;r.der=e("./der"),r.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,t,n){"use strict";let r=e("inherits"),i=e("safer-buffer").Buffer,s=e("./der");function o(a){s.call(this,a),this.enc="pem"}r(o,s),t.exports=o,o.prototype.decode=function(a,l){let c=a.toString().split(/[\r\n]+/g),u=l.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/,h=-1,f=-1;for(let g=0;g<c.length;g++){let v=c[g].match(d);if(v!==null&&v[2]===u){if(h!==-1){if(v[1]!=="END")break;f=g;break}if(v[1]!=="BEGIN")break;h=g}}if(h===-1||f===-1)throw new Error("PEM section not found for: "+u);let p=c.slice(h+1,f).join("");p.replace(/[^a-z0-9+/=]+/gi,"");let m=i.from(p,"base64");return s.prototype.decode.call(this,m,l)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,t,n){"use strict";let r=e("inherits"),i=e("safer-buffer").Buffer,s=e("../base/node"),o=e("../constants/der");function a(u){this.enc="der",this.name=u.name,this.entity=u,this.tree=new l,this.tree._init(u.body)}function l(u){s.call(this,"der",u)}function c(u){return u<10?"0"+u:u}t.exports=a,a.prototype.encode=function(u,d){return this.tree._encode(u,d).join()},r(l,s),l.prototype._encodeComposite=function(u,d,h,f){let p=function(v,x,I,R){let $;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),o.tagByName.hasOwnProperty(v))$=o.tagByName[v];else{if(typeof v!="number"||(0|v)!==v)return R.error("Unknown tag: "+v);$=v}return $>=31?R.error("Multi-octet tag encoding unsupported"):(x||($|=32),$|=o.tagClassByName[I||"universal"]<<6,$)}(u,d,h,this.reporter);if(f.length<128){let v=i.alloc(2);return v[0]=p,v[1]=f.length,this._createEncoderBuffer([v,f])}let m=1;for(let v=f.length;v>=256;v>>=8)m++;let g=i.alloc(2+m);g[0]=p,g[1]=128|m;for(let v=1+m,x=f.length;x>0;v--,x>>=8)g[v]=255&x;return this._createEncoderBuffer([g,f])},l.prototype._encodeStr=function(u,d){if(d==="bitstr")return this._createEncoderBuffer([0|u.unused,u.data]);if(d==="bmpstr"){let h=i.alloc(2*u.length);for(let f=0;f<u.length;f++)h.writeUInt16BE(u.charCodeAt(f),2*f);return this._createEncoderBuffer(h)}return d==="numstr"?this._isNumstr(u)?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(u)?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: "+d+" unsupported")},l.prototype._encodeObjid=function(u,d,h){if(typeof u=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(u))return this.reporter.error("objid not found in values map");u=d[u].split(/[\s.]+/g);for(let g=0;g<u.length;g++)u[g]|=0}else if(Array.isArray(u)){u=u.slice();for(let g=0;g<u.length;g++)u[g]|=0}if(!Array.isArray(u))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(u));if(!h){if(u[1]>=40)return this.reporter.error("Second objid identifier OOB");u.splice(0,2,40*u[0]+u[1])}let f=0;for(let g=0;g<u.length;g++){let v=u[g];for(f++;v>=128;v>>=7)f++}let p=i.alloc(f),m=p.length-1;for(let g=u.length-1;g>=0;g--){let v=u[g];for(p[m--]=127&v;(v>>=7)>0;)p[m--]=128|127&v}return this._createEncoderBuffer(p)},l.prototype._encodeTime=function(u,d){let h,f=new Date(u);return d==="gentime"?h=[c(f.getUTCFullYear()),c(f.getUTCMonth()+1),c(f.getUTCDate()),c(f.getUTCHours()),c(f.getUTCMinutes()),c(f.getUTCSeconds()),"Z"].join(""):d==="utctime"?h=[c(f.getUTCFullYear()%100),c(f.getUTCMonth()+1),c(f.getUTCDate()),c(f.getUTCHours()),c(f.getUTCMinutes()),c(f.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(h,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(u,d){if(typeof u=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(u))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(u));u=d[u]}if(typeof u!="number"&&!i.isBuffer(u)){let p=u.toArray();!u.sign&&128&p[0]&&p.unshift(0),u=i.from(p)}if(i.isBuffer(u)){let p=u.length;u.length===0&&p++;let m=i.alloc(p);return u.copy(m),u.length===0&&(m[0]=0),this._createEncoderBuffer(m)}if(u<128)return this._createEncoderBuffer(u);if(u<256)return this._createEncoderBuffer([0,u]);let h=1;for(let p=u;p>=256;p>>=8)h++;let f=new Array(h);for(let p=f.length-1;p>=0;p--)f[p]=255&u,u>>=8;return 128&f[0]&&f.unshift(0),this._createEncoderBuffer(i.from(f))},l.prototype._encodeBool=function(u){return this._createEncoderBuffer(u?255:0)},l.prototype._use=function(u,d){return typeof u=="function"&&(u=u(d)),u._getEncoder("der").tree},l.prototype._skipDefault=function(u,d,h){let f=this._baseState,p;if(f.default===null)return!1;let m=u.join();if(f.defaultBuffer===void 0&&(f.defaultBuffer=this._encodeValue(f.default,d,h).join()),m.length!==f.defaultBuffer.length)return!1;for(p=0;p<m.length;p++)if(m[p]!==f.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,t,n){"use strict";let r=n;r.der=e("./der"),r.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,t,n){"use strict";let r=e("inherits"),i=e("./der");function s(o){i.call(this,o),this.enc="pem"}r(s,i),t.exports=s,s.prototype.encode=function(o,a){let l=i.prototype.encode.call(this,o).toString("base64"),c=["-----BEGIN "+a.label+"-----"];for(let u=0;u<l.length;u+=64)c.push(l.slice(u,u+64));return c.push("-----END "+a.label+"-----"),c.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,t,n){"use strict";(function(r,i){function s(S,T){if(!S)throw new Error(T||"Assertion failed")}function o(S,T){S.super_=T;var O=function(){};O.prototype=T.prototype,S.prototype=new O,S.prototype.constructor=S}function a(S,T,O){if(a.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&(T!=="le"&&T!=="be"||(O=T,T=10),this._init(S||0,T||10,O||"be"))}var l;typeof r=="object"?r.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function c(S,T){var O=S.charCodeAt(T);return O>=65&&O<=70?O-55:O>=97&&O<=102?O-87:O-48&15}function u(S,T,O){var y=c(S,O);return O-1>=T&&(y|=c(S,O-1)<<4),y}function d(S,T,O,y){for(var b=0,w=Math.min(S.length,O),_=T;_<w;_++){var E=S.charCodeAt(_)-48;b*=y,b+=E>=49?E-49+10:E>=17?E-17+10:E}return b}a.isBN=function(S){return S instanceof a||S!==null&&typeof S=="object"&&S.constructor.wordSize===a.wordSize&&Array.isArray(S.words)},a.max=function(S,T){return S.cmp(T)>0?S:T},a.min=function(S,T){return S.cmp(T)<0?S:T},a.prototype._init=function(S,T,O){if(typeof S=="number")return this._initNumber(S,T,O);if(typeof S=="object")return this._initArray(S,T,O);T==="hex"&&(T=16),s(T===(0|T)&&T>=2&&T<=36);var y=0;(S=S.toString().replace(/\s+/g,""))[0]==="-"&&(y++,this.negative=1),y<S.length&&(T===16?this._parseHex(S,y,O):(this._parseBase(S,T,y),O==="le"&&this._initArray(this.toArray(),T,O)))},a.prototype._initNumber=function(S,T,O){S<0&&(this.negative=1,S=-S),S<67108864?(this.words=[67108863&S],this.length=1):S<4503599627370496?(this.words=[67108863&S,S/67108864&67108863],this.length=2):(s(S<9007199254740992),this.words=[67108863&S,S/67108864&67108863,1],this.length=3),O==="le"&&this._initArray(this.toArray(),T,O)},a.prototype._initArray=function(S,T,O){if(s(typeof S.length=="number"),S.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(S.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var b,w,_=0;if(O==="be")for(y=S.length-1,b=0;y>=0;y-=3)w=S[y]|S[y-1]<<8|S[y-2]<<16,this.words[b]|=w<<_&67108863,this.words[b+1]=w>>>26-_&67108863,(_+=24)>=26&&(_-=26,b++);else if(O==="le")for(y=0,b=0;y<S.length;y+=3)w=S[y]|S[y+1]<<8|S[y+2]<<16,this.words[b]|=w<<_&67108863,this.words[b+1]=w>>>26-_&67108863,(_+=24)>=26&&(_-=26,b++);return this.strip()},a.prototype._parseHex=function(S,T,O){this.length=Math.ceil((S.length-T)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var b,w=0,_=0;if(O==="be")for(y=S.length-1;y>=T;y-=2)b=u(S,T,y)<<w,this.words[_]|=67108863&b,w>=18?(w-=18,_+=1,this.words[_]|=b>>>26):w+=8;else for(y=(S.length-T)%2==0?T+1:T;y<S.length;y+=2)b=u(S,T,y)<<w,this.words[_]|=67108863&b,w>=18?(w-=18,_+=1,this.words[_]|=b>>>26):w+=8;this.strip()},a.prototype._parseBase=function(S,T,O){this.words=[0],this.length=1;for(var y=0,b=1;b<=67108863;b*=T)y++;y--,b=b/T|0;for(var w=S.length-O,_=w%y,E=Math.min(w,w-_)+O,C=0,L=O;L<E;L+=y)C=d(S,L,L+y,T),this.imuln(b),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C);if(_!==0){var W=1;for(C=d(S,L,S.length,T),L=0;L<_;L++)W*=T;this.imuln(W),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C)}this.strip()},a.prototype.copy=function(S){S.words=new Array(this.length);for(var T=0;T<this.length;T++)S.words[T]=this.words[T];S.length=this.length,S.negative=this.negative,S.red=this.red},a.prototype.clone=function(){var S=new a(null);return this.copy(S),S},a.prototype._expand=function(S){for(;this.length<S;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(S,T,O){O.negative=T.negative^S.negative;var y=S.length+T.length|0;O.length=y,y=y-1|0;var b=0|S.words[0],w=0|T.words[0],_=b*w,E=67108863&_,C=_/67108864|0;O.words[0]=E;for(var L=1;L<y;L++){for(var W=C>>>26,B=67108863&C,G=Math.min(L,T.length-1),M=Math.max(0,L-S.length+1);M<=G;M++){var K=L-M|0;W+=(_=(b=0|S.words[K])*(w=0|T.words[M])+B)/67108864|0,B=67108863&_}O.words[L]=0|B,C=0|W}return C!==0?O.words[L]=0|C:O.length--,O.strip()}a.prototype.toString=function(S,T){var O;if(T=0|T||1,(S=S||10)===16||S==="hex"){O="";for(var y=0,b=0,w=0;w<this.length;w++){var _=this.words[w],E=(16777215&(_<<y|b)).toString(16);O=(b=_>>>24-y&16777215)!==0||w!==this.length-1?h[6-E.length]+E+O:E+O,(y+=2)>=26&&(y-=26,w--)}for(b!==0&&(O=b.toString(16)+O);O.length%T!=0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}if(S===(0|S)&&S>=2&&S<=36){var C=f[S],L=p[S];O="";var W=this.clone();for(W.negative=0;!W.isZero();){var B=W.modn(L).toString(S);O=(W=W.idivn(L)).isZero()?B+O:h[C-B.length]+B+O}for(this.isZero()&&(O="0"+O);O.length%T!=0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var S=this.words[0];return this.length===2?S+=67108864*this.words[1]:this.length===3&&this.words[2]===1?S+=4503599627370496+67108864*this.words[1]:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-S:S},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(S,T){return s(l!==void 0),this.toArrayLike(l,S,T)},a.prototype.toArray=function(S,T){return this.toArrayLike(Array,S,T)},a.prototype.toArrayLike=function(S,T,O){var y=this.byteLength(),b=O||Math.max(1,y);s(y<=b,"byte array longer than desired length"),s(b>0,"Requested array length <= 0"),this.strip();var w,_,E=T==="le",C=new S(b),L=this.clone();if(E){for(_=0;!L.isZero();_++)w=L.andln(255),L.iushrn(8),C[_]=w;for(;_<b;_++)C[_]=0}else{for(_=0;_<b-y;_++)C[_]=0;for(_=0;!L.isZero();_++)w=L.andln(255),L.iushrn(8),C[b-_-1]=w}return C},Math.clz32?a.prototype._countBits=function(S){return 32-Math.clz32(S)}:a.prototype._countBits=function(S){var T=S,O=0;return T>=4096&&(O+=13,T>>>=13),T>=64&&(O+=7,T>>>=7),T>=8&&(O+=4,T>>>=4),T>=2&&(O+=2,T>>>=2),O+T},a.prototype._zeroBits=function(S){if(S===0)return 26;var T=S,O=0;return(8191&T)==0&&(O+=13,T>>>=13),(127&T)==0&&(O+=7,T>>>=7),(15&T)==0&&(O+=4,T>>>=4),(3&T)==0&&(O+=2,T>>>=2),(1&T)==0&&O++,O},a.prototype.bitLength=function(){var S=this.words[this.length-1],T=this._countBits(S);return 26*(this.length-1)+T},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var S=0,T=0;T<this.length;T++){var O=this._zeroBits(this.words[T]);if(S+=O,O!==26)break}return S},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(S){return this.negative!==0?this.abs().inotn(S).iaddn(1):this.clone()},a.prototype.fromTwos=function(S){return this.testn(S-1)?this.notn(S).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(S){for(;this.length<S.length;)this.words[this.length++]=0;for(var T=0;T<S.length;T++)this.words[T]=this.words[T]|S.words[T];return this.strip()},a.prototype.ior=function(S){return s((this.negative|S.negative)==0),this.iuor(S)},a.prototype.or=function(S){return this.length>S.length?this.clone().ior(S):S.clone().ior(this)},a.prototype.uor=function(S){return this.length>S.length?this.clone().iuor(S):S.clone().iuor(this)},a.prototype.iuand=function(S){var T;T=this.length>S.length?S:this;for(var O=0;O<T.length;O++)this.words[O]=this.words[O]&S.words[O];return this.length=T.length,this.strip()},a.prototype.iand=function(S){return s((this.negative|S.negative)==0),this.iuand(S)},a.prototype.and=function(S){return this.length>S.length?this.clone().iand(S):S.clone().iand(this)},a.prototype.uand=function(S){return this.length>S.length?this.clone().iuand(S):S.clone().iuand(this)},a.prototype.iuxor=function(S){var T,O;this.length>S.length?(T=this,O=S):(T=S,O=this);for(var y=0;y<O.length;y++)this.words[y]=T.words[y]^O.words[y];if(this!==T)for(;y<T.length;y++)this.words[y]=T.words[y];return this.length=T.length,this.strip()},a.prototype.ixor=function(S){return s((this.negative|S.negative)==0),this.iuxor(S)},a.prototype.xor=function(S){return this.length>S.length?this.clone().ixor(S):S.clone().ixor(this)},a.prototype.uxor=function(S){return this.length>S.length?this.clone().iuxor(S):S.clone().iuxor(this)},a.prototype.inotn=function(S){s(typeof S=="number"&&S>=0);var T=0|Math.ceil(S/26),O=S%26;this._expand(T),O>0&&T--;for(var y=0;y<T;y++)this.words[y]=67108863&~this.words[y];return O>0&&(this.words[y]=~this.words[y]&67108863>>26-O),this.strip()},a.prototype.notn=function(S){return this.clone().inotn(S)},a.prototype.setn=function(S,T){s(typeof S=="number"&&S>=0);var O=S/26|0,y=S%26;return this._expand(O+1),this.words[O]=T?this.words[O]|1<<y:this.words[O]&~(1<<y),this.strip()},a.prototype.iadd=function(S){var T,O,y;if(this.negative!==0&&S.negative===0)return this.negative=0,T=this.isub(S),this.negative^=1,this._normSign();if(this.negative===0&&S.negative!==0)return S.negative=0,T=this.isub(S),S.negative=1,T._normSign();this.length>S.length?(O=this,y=S):(O=S,y=this);for(var b=0,w=0;w<y.length;w++)T=(0|O.words[w])+(0|y.words[w])+b,this.words[w]=67108863&T,b=T>>>26;for(;b!==0&&w<O.length;w++)T=(0|O.words[w])+b,this.words[w]=67108863&T,b=T>>>26;if(this.length=O.length,b!==0)this.words[this.length]=b,this.length++;else if(O!==this)for(;w<O.length;w++)this.words[w]=O.words[w];return this},a.prototype.add=function(S){var T;return S.negative!==0&&this.negative===0?(S.negative=0,T=this.sub(S),S.negative^=1,T):S.negative===0&&this.negative!==0?(this.negative=0,T=S.sub(this),this.negative=1,T):this.length>S.length?this.clone().iadd(S):S.clone().iadd(this)},a.prototype.isub=function(S){if(S.negative!==0){S.negative=0;var T=this.iadd(S);return S.negative=1,T._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(S),this.negative=1,this._normSign();var O,y,b=this.cmp(S);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;b>0?(O=this,y=S):(O=S,y=this);for(var w=0,_=0;_<y.length;_++)w=(T=(0|O.words[_])-(0|y.words[_])+w)>>26,this.words[_]=67108863&T;for(;w!==0&&_<O.length;_++)w=(T=(0|O.words[_])+w)>>26,this.words[_]=67108863&T;if(w===0&&_<O.length&&O!==this)for(;_<O.length;_++)this.words[_]=O.words[_];return this.length=Math.max(this.length,_),O!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(S){return this.clone().isub(S)};var g=function(S,T,O){var y,b,w,_=S.words,E=T.words,C=O.words,L=0,W=0|_[0],B=8191&W,G=W>>>13,M=0|_[1],K=8191&M,D=M>>>13,k=0|_[2],z=8191&k,J=k>>>13,Q=0|_[3],ee=8191&Q,ne=Q>>>13,he=0|_[4],de=8191&he,Z=he>>>13,le=0|_[5],fe=8191&le,ve=le>>>13,me=0|_[6],Se=8191&me,xe=me>>>13,ke=0|_[7],Re=8191&ke,je=ke>>>13,st=0|_[8],Ve=8191&st,Qe=st>>>13,ht=0|_[9],Ge=8191&ht,$e=ht>>>13,Ze=0|E[0],et=8191&Ze,Be=Ze>>>13,lt=0|E[1],Xe=8191&lt,mt=lt>>>13,Ct=0|E[2],pt=8191&Ct,it=Ct>>>13,It=0|E[3],wt=8191&It,ft=It>>>13,At=0|E[4],gt=8191&At,Bt=At>>>13,Fn=0|E[5],Ht=8191&Fn,Mt=Fn>>>13,Rt=0|E[6],zt=8191&Rt,Ee=Rt>>>13,Pe=0|E[7],Fe=8191&Pe,ze=Pe>>>13,$t=0|E[8],ot=8191&$t,bt=$t>>>13,Sn=0|E[9],xt=8191&Sn,yt=Sn>>>13;O.negative=S.negative^T.negative,O.length=19;var fn=(L+(y=Math.imul(B,et))|0)+((8191&(b=(b=Math.imul(B,Be))+Math.imul(G,et)|0))<<13)|0;L=((w=Math.imul(G,Be))+(b>>>13)|0)+(fn>>>26)|0,fn&=67108863,y=Math.imul(K,et),b=(b=Math.imul(K,Be))+Math.imul(D,et)|0,w=Math.imul(D,Be);var Zt=(L+(y=y+Math.imul(B,Xe)|0)|0)+((8191&(b=(b=b+Math.imul(B,mt)|0)+Math.imul(G,Xe)|0))<<13)|0;L=((w=w+Math.imul(G,mt)|0)+(b>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,y=Math.imul(z,et),b=(b=Math.imul(z,Be))+Math.imul(J,et)|0,w=Math.imul(J,Be),y=y+Math.imul(K,Xe)|0,b=(b=b+Math.imul(K,mt)|0)+Math.imul(D,Xe)|0,w=w+Math.imul(D,mt)|0;var Gt=(L+(y=y+Math.imul(B,pt)|0)|0)+((8191&(b=(b=b+Math.imul(B,it)|0)+Math.imul(G,pt)|0))<<13)|0;L=((w=w+Math.imul(G,it)|0)+(b>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,y=Math.imul(ee,et),b=(b=Math.imul(ee,Be))+Math.imul(ne,et)|0,w=Math.imul(ne,Be),y=y+Math.imul(z,Xe)|0,b=(b=b+Math.imul(z,mt)|0)+Math.imul(J,Xe)|0,w=w+Math.imul(J,mt)|0,y=y+Math.imul(K,pt)|0,b=(b=b+Math.imul(K,it)|0)+Math.imul(D,pt)|0,w=w+Math.imul(D,it)|0;var Mn=(L+(y=y+Math.imul(B,wt)|0)|0)+((8191&(b=(b=b+Math.imul(B,ft)|0)+Math.imul(G,wt)|0))<<13)|0;L=((w=w+Math.imul(G,ft)|0)+(b>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,y=Math.imul(de,et),b=(b=Math.imul(de,Be))+Math.imul(Z,et)|0,w=Math.imul(Z,Be),y=y+Math.imul(ee,Xe)|0,b=(b=b+Math.imul(ee,mt)|0)+Math.imul(ne,Xe)|0,w=w+Math.imul(ne,mt)|0,y=y+Math.imul(z,pt)|0,b=(b=b+Math.imul(z,it)|0)+Math.imul(J,pt)|0,w=w+Math.imul(J,it)|0,y=y+Math.imul(K,wt)|0,b=(b=b+Math.imul(K,ft)|0)+Math.imul(D,wt)|0,w=w+Math.imul(D,ft)|0;var jn=(L+(y=y+Math.imul(B,gt)|0)|0)+((8191&(b=(b=b+Math.imul(B,Bt)|0)+Math.imul(G,gt)|0))<<13)|0;L=((w=w+Math.imul(G,Bt)|0)+(b>>>13)|0)+(jn>>>26)|0,jn&=67108863,y=Math.imul(fe,et),b=(b=Math.imul(fe,Be))+Math.imul(ve,et)|0,w=Math.imul(ve,Be),y=y+Math.imul(de,Xe)|0,b=(b=b+Math.imul(de,mt)|0)+Math.imul(Z,Xe)|0,w=w+Math.imul(Z,mt)|0,y=y+Math.imul(ee,pt)|0,b=(b=b+Math.imul(ee,it)|0)+Math.imul(ne,pt)|0,w=w+Math.imul(ne,it)|0,y=y+Math.imul(z,wt)|0,b=(b=b+Math.imul(z,ft)|0)+Math.imul(J,wt)|0,w=w+Math.imul(J,ft)|0,y=y+Math.imul(K,gt)|0,b=(b=b+Math.imul(K,Bt)|0)+Math.imul(D,gt)|0,w=w+Math.imul(D,Bt)|0;var ur=(L+(y=y+Math.imul(B,Ht)|0)|0)+((8191&(b=(b=b+Math.imul(B,Mt)|0)+Math.imul(G,Ht)|0))<<13)|0;L=((w=w+Math.imul(G,Mt)|0)+(b>>>13)|0)+(ur>>>26)|0,ur&=67108863,y=Math.imul(Se,et),b=(b=Math.imul(Se,Be))+Math.imul(xe,et)|0,w=Math.imul(xe,Be),y=y+Math.imul(fe,Xe)|0,b=(b=b+Math.imul(fe,mt)|0)+Math.imul(ve,Xe)|0,w=w+Math.imul(ve,mt)|0,y=y+Math.imul(de,pt)|0,b=(b=b+Math.imul(de,it)|0)+Math.imul(Z,pt)|0,w=w+Math.imul(Z,it)|0,y=y+Math.imul(ee,wt)|0,b=(b=b+Math.imul(ee,ft)|0)+Math.imul(ne,wt)|0,w=w+Math.imul(ne,ft)|0,y=y+Math.imul(z,gt)|0,b=(b=b+Math.imul(z,Bt)|0)+Math.imul(J,gt)|0,w=w+Math.imul(J,Bt)|0,y=y+Math.imul(K,Ht)|0,b=(b=b+Math.imul(K,Mt)|0)+Math.imul(D,Ht)|0,w=w+Math.imul(D,Mt)|0;var Pr=(L+(y=y+Math.imul(B,zt)|0)|0)+((8191&(b=(b=b+Math.imul(B,Ee)|0)+Math.imul(G,zt)|0))<<13)|0;L=((w=w+Math.imul(G,Ee)|0)+(b>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,y=Math.imul(Re,et),b=(b=Math.imul(Re,Be))+Math.imul(je,et)|0,w=Math.imul(je,Be),y=y+Math.imul(Se,Xe)|0,b=(b=b+Math.imul(Se,mt)|0)+Math.imul(xe,Xe)|0,w=w+Math.imul(xe,mt)|0,y=y+Math.imul(fe,pt)|0,b=(b=b+Math.imul(fe,it)|0)+Math.imul(ve,pt)|0,w=w+Math.imul(ve,it)|0,y=y+Math.imul(de,wt)|0,b=(b=b+Math.imul(de,ft)|0)+Math.imul(Z,wt)|0,w=w+Math.imul(Z,ft)|0,y=y+Math.imul(ee,gt)|0,b=(b=b+Math.imul(ee,Bt)|0)+Math.imul(ne,gt)|0,w=w+Math.imul(ne,Bt)|0,y=y+Math.imul(z,Ht)|0,b=(b=b+Math.imul(z,Mt)|0)+Math.imul(J,Ht)|0,w=w+Math.imul(J,Mt)|0,y=y+Math.imul(K,zt)|0,b=(b=b+Math.imul(K,Ee)|0)+Math.imul(D,zt)|0,w=w+Math.imul(D,Ee)|0;var dr=(L+(y=y+Math.imul(B,Fe)|0)|0)+((8191&(b=(b=b+Math.imul(B,ze)|0)+Math.imul(G,Fe)|0))<<13)|0;L=((w=w+Math.imul(G,ze)|0)+(b>>>13)|0)+(dr>>>26)|0,dr&=67108863,y=Math.imul(Ve,et),b=(b=Math.imul(Ve,Be))+Math.imul(Qe,et)|0,w=Math.imul(Qe,Be),y=y+Math.imul(Re,Xe)|0,b=(b=b+Math.imul(Re,mt)|0)+Math.imul(je,Xe)|0,w=w+Math.imul(je,mt)|0,y=y+Math.imul(Se,pt)|0,b=(b=b+Math.imul(Se,it)|0)+Math.imul(xe,pt)|0,w=w+Math.imul(xe,it)|0,y=y+Math.imul(fe,wt)|0,b=(b=b+Math.imul(fe,ft)|0)+Math.imul(ve,wt)|0,w=w+Math.imul(ve,ft)|0,y=y+Math.imul(de,gt)|0,b=(b=b+Math.imul(de,Bt)|0)+Math.imul(Z,gt)|0,w=w+Math.imul(Z,Bt)|0,y=y+Math.imul(ee,Ht)|0,b=(b=b+Math.imul(ee,Mt)|0)+Math.imul(ne,Ht)|0,w=w+Math.imul(ne,Mt)|0,y=y+Math.imul(z,zt)|0,b=(b=b+Math.imul(z,Ee)|0)+Math.imul(J,zt)|0,w=w+Math.imul(J,Ee)|0,y=y+Math.imul(K,Fe)|0,b=(b=b+Math.imul(K,ze)|0)+Math.imul(D,Fe)|0,w=w+Math.imul(D,ze)|0;var Ar=(L+(y=y+Math.imul(B,ot)|0)|0)+((8191&(b=(b=b+Math.imul(B,bt)|0)+Math.imul(G,ot)|0))<<13)|0;L=((w=w+Math.imul(G,bt)|0)+(b>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,y=Math.imul(Ge,et),b=(b=Math.imul(Ge,Be))+Math.imul($e,et)|0,w=Math.imul($e,Be),y=y+Math.imul(Ve,Xe)|0,b=(b=b+Math.imul(Ve,mt)|0)+Math.imul(Qe,Xe)|0,w=w+Math.imul(Qe,mt)|0,y=y+Math.imul(Re,pt)|0,b=(b=b+Math.imul(Re,it)|0)+Math.imul(je,pt)|0,w=w+Math.imul(je,it)|0,y=y+Math.imul(Se,wt)|0,b=(b=b+Math.imul(Se,ft)|0)+Math.imul(xe,wt)|0,w=w+Math.imul(xe,ft)|0,y=y+Math.imul(fe,gt)|0,b=(b=b+Math.imul(fe,Bt)|0)+Math.imul(ve,gt)|0,w=w+Math.imul(ve,Bt)|0,y=y+Math.imul(de,Ht)|0,b=(b=b+Math.imul(de,Mt)|0)+Math.imul(Z,Ht)|0,w=w+Math.imul(Z,Mt)|0,y=y+Math.imul(ee,zt)|0,b=(b=b+Math.imul(ee,Ee)|0)+Math.imul(ne,zt)|0,w=w+Math.imul(ne,Ee)|0,y=y+Math.imul(z,Fe)|0,b=(b=b+Math.imul(z,ze)|0)+Math.imul(J,Fe)|0,w=w+Math.imul(J,ze)|0,y=y+Math.imul(K,ot)|0,b=(b=b+Math.imul(K,bt)|0)+Math.imul(D,ot)|0,w=w+Math.imul(D,bt)|0;var be=(L+(y=y+Math.imul(B,xt)|0)|0)+((8191&(b=(b=b+Math.imul(B,yt)|0)+Math.imul(G,xt)|0))<<13)|0;L=((w=w+Math.imul(G,yt)|0)+(b>>>13)|0)+(be>>>26)|0,be&=67108863,y=Math.imul(Ge,Xe),b=(b=Math.imul(Ge,mt))+Math.imul($e,Xe)|0,w=Math.imul($e,mt),y=y+Math.imul(Ve,pt)|0,b=(b=b+Math.imul(Ve,it)|0)+Math.imul(Qe,pt)|0,w=w+Math.imul(Qe,it)|0,y=y+Math.imul(Re,wt)|0,b=(b=b+Math.imul(Re,ft)|0)+Math.imul(je,wt)|0,w=w+Math.imul(je,ft)|0,y=y+Math.imul(Se,gt)|0,b=(b=b+Math.imul(Se,Bt)|0)+Math.imul(xe,gt)|0,w=w+Math.imul(xe,Bt)|0,y=y+Math.imul(fe,Ht)|0,b=(b=b+Math.imul(fe,Mt)|0)+Math.imul(ve,Ht)|0,w=w+Math.imul(ve,Mt)|0,y=y+Math.imul(de,zt)|0,b=(b=b+Math.imul(de,Ee)|0)+Math.imul(Z,zt)|0,w=w+Math.imul(Z,Ee)|0,y=y+Math.imul(ee,Fe)|0,b=(b=b+Math.imul(ee,ze)|0)+Math.imul(ne,Fe)|0,w=w+Math.imul(ne,ze)|0,y=y+Math.imul(z,ot)|0,b=(b=b+Math.imul(z,bt)|0)+Math.imul(J,ot)|0,w=w+Math.imul(J,bt)|0;var Ne=(L+(y=y+Math.imul(K,xt)|0)|0)+((8191&(b=(b=b+Math.imul(K,yt)|0)+Math.imul(D,xt)|0))<<13)|0;L=((w=w+Math.imul(D,yt)|0)+(b>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,y=Math.imul(Ge,pt),b=(b=Math.imul(Ge,it))+Math.imul($e,pt)|0,w=Math.imul($e,it),y=y+Math.imul(Ve,wt)|0,b=(b=b+Math.imul(Ve,ft)|0)+Math.imul(Qe,wt)|0,w=w+Math.imul(Qe,ft)|0,y=y+Math.imul(Re,gt)|0,b=(b=b+Math.imul(Re,Bt)|0)+Math.imul(je,gt)|0,w=w+Math.imul(je,Bt)|0,y=y+Math.imul(Se,Ht)|0,b=(b=b+Math.imul(Se,Mt)|0)+Math.imul(xe,Ht)|0,w=w+Math.imul(xe,Mt)|0,y=y+Math.imul(fe,zt)|0,b=(b=b+Math.imul(fe,Ee)|0)+Math.imul(ve,zt)|0,w=w+Math.imul(ve,Ee)|0,y=y+Math.imul(de,Fe)|0,b=(b=b+Math.imul(de,ze)|0)+Math.imul(Z,Fe)|0,w=w+Math.imul(Z,ze)|0,y=y+Math.imul(ee,ot)|0,b=(b=b+Math.imul(ee,bt)|0)+Math.imul(ne,ot)|0,w=w+Math.imul(ne,bt)|0;var Je=(L+(y=y+Math.imul(z,xt)|0)|0)+((8191&(b=(b=b+Math.imul(z,yt)|0)+Math.imul(J,xt)|0))<<13)|0;L=((w=w+Math.imul(J,yt)|0)+(b>>>13)|0)+(Je>>>26)|0,Je&=67108863,y=Math.imul(Ge,wt),b=(b=Math.imul(Ge,ft))+Math.imul($e,wt)|0,w=Math.imul($e,ft),y=y+Math.imul(Ve,gt)|0,b=(b=b+Math.imul(Ve,Bt)|0)+Math.imul(Qe,gt)|0,w=w+Math.imul(Qe,Bt)|0,y=y+Math.imul(Re,Ht)|0,b=(b=b+Math.imul(Re,Mt)|0)+Math.imul(je,Ht)|0,w=w+Math.imul(je,Mt)|0,y=y+Math.imul(Se,zt)|0,b=(b=b+Math.imul(Se,Ee)|0)+Math.imul(xe,zt)|0,w=w+Math.imul(xe,Ee)|0,y=y+Math.imul(fe,Fe)|0,b=(b=b+Math.imul(fe,ze)|0)+Math.imul(ve,Fe)|0,w=w+Math.imul(ve,ze)|0,y=y+Math.imul(de,ot)|0,b=(b=b+Math.imul(de,bt)|0)+Math.imul(Z,ot)|0,w=w+Math.imul(Z,bt)|0;var Ue=(L+(y=y+Math.imul(ee,xt)|0)|0)+((8191&(b=(b=b+Math.imul(ee,yt)|0)+Math.imul(ne,xt)|0))<<13)|0;L=((w=w+Math.imul(ne,yt)|0)+(b>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,y=Math.imul(Ge,gt),b=(b=Math.imul(Ge,Bt))+Math.imul($e,gt)|0,w=Math.imul($e,Bt),y=y+Math.imul(Ve,Ht)|0,b=(b=b+Math.imul(Ve,Mt)|0)+Math.imul(Qe,Ht)|0,w=w+Math.imul(Qe,Mt)|0,y=y+Math.imul(Re,zt)|0,b=(b=b+Math.imul(Re,Ee)|0)+Math.imul(je,zt)|0,w=w+Math.imul(je,Ee)|0,y=y+Math.imul(Se,Fe)|0,b=(b=b+Math.imul(Se,ze)|0)+Math.imul(xe,Fe)|0,w=w+Math.imul(xe,ze)|0,y=y+Math.imul(fe,ot)|0,b=(b=b+Math.imul(fe,bt)|0)+Math.imul(ve,ot)|0,w=w+Math.imul(ve,bt)|0;var rt=(L+(y=y+Math.imul(de,xt)|0)|0)+((8191&(b=(b=b+Math.imul(de,yt)|0)+Math.imul(Z,xt)|0))<<13)|0;L=((w=w+Math.imul(Z,yt)|0)+(b>>>13)|0)+(rt>>>26)|0,rt&=67108863,y=Math.imul(Ge,Ht),b=(b=Math.imul(Ge,Mt))+Math.imul($e,Ht)|0,w=Math.imul($e,Mt),y=y+Math.imul(Ve,zt)|0,b=(b=b+Math.imul(Ve,Ee)|0)+Math.imul(Qe,zt)|0,w=w+Math.imul(Qe,Ee)|0,y=y+Math.imul(Re,Fe)|0,b=(b=b+Math.imul(Re,ze)|0)+Math.imul(je,Fe)|0,w=w+Math.imul(je,ze)|0,y=y+Math.imul(Se,ot)|0,b=(b=b+Math.imul(Se,bt)|0)+Math.imul(xe,ot)|0,w=w+Math.imul(xe,bt)|0;var Et=(L+(y=y+Math.imul(fe,xt)|0)|0)+((8191&(b=(b=b+Math.imul(fe,yt)|0)+Math.imul(ve,xt)|0))<<13)|0;L=((w=w+Math.imul(ve,yt)|0)+(b>>>13)|0)+(Et>>>26)|0,Et&=67108863,y=Math.imul(Ge,zt),b=(b=Math.imul(Ge,Ee))+Math.imul($e,zt)|0,w=Math.imul($e,Ee),y=y+Math.imul(Ve,Fe)|0,b=(b=b+Math.imul(Ve,ze)|0)+Math.imul(Qe,Fe)|0,w=w+Math.imul(Qe,ze)|0,y=y+Math.imul(Re,ot)|0,b=(b=b+Math.imul(Re,bt)|0)+Math.imul(je,ot)|0,w=w+Math.imul(je,bt)|0;var St=(L+(y=y+Math.imul(Se,xt)|0)|0)+((8191&(b=(b=b+Math.imul(Se,yt)|0)+Math.imul(xe,xt)|0))<<13)|0;L=((w=w+Math.imul(xe,yt)|0)+(b>>>13)|0)+(St>>>26)|0,St&=67108863,y=Math.imul(Ge,Fe),b=(b=Math.imul(Ge,ze))+Math.imul($e,Fe)|0,w=Math.imul($e,ze),y=y+Math.imul(Ve,ot)|0,b=(b=b+Math.imul(Ve,bt)|0)+Math.imul(Qe,ot)|0,w=w+Math.imul(Qe,bt)|0;var on=(L+(y=y+Math.imul(Re,xt)|0)|0)+((8191&(b=(b=b+Math.imul(Re,yt)|0)+Math.imul(je,xt)|0))<<13)|0;L=((w=w+Math.imul(je,yt)|0)+(b>>>13)|0)+(on>>>26)|0,on&=67108863,y=Math.imul(Ge,ot),b=(b=Math.imul(Ge,bt))+Math.imul($e,ot)|0,w=Math.imul($e,bt);var Kt=(L+(y=y+Math.imul(Ve,xt)|0)|0)+((8191&(b=(b=b+Math.imul(Ve,yt)|0)+Math.imul(Qe,xt)|0))<<13)|0;L=((w=w+Math.imul(Qe,yt)|0)+(b>>>13)|0)+(Kt>>>26)|0,Kt&=67108863;var qt=(L+(y=Math.imul(Ge,xt))|0)+((8191&(b=(b=Math.imul(Ge,yt))+Math.imul($e,xt)|0))<<13)|0;return L=((w=Math.imul($e,yt))+(b>>>13)|0)+(qt>>>26)|0,qt&=67108863,C[0]=fn,C[1]=Zt,C[2]=Gt,C[3]=Mn,C[4]=jn,C[5]=ur,C[6]=Pr,C[7]=dr,C[8]=Ar,C[9]=be,C[10]=Ne,C[11]=Je,C[12]=Ue,C[13]=rt,C[14]=Et,C[15]=St,C[16]=on,C[17]=Kt,C[18]=qt,L!==0&&(C[19]=L,O.length++),O};function v(S,T,O){return new x().mulp(S,T,O)}function x(S,T){this.x=S,this.y=T}Math.imul||(g=m),a.prototype.mulTo=function(S,T){var O=this.length+S.length;return this.length===10&&S.length===10?g(this,S,T):O<63?m(this,S,T):O<1024?function(y,b,w){w.negative=b.negative^y.negative,w.length=y.length+b.length;for(var _=0,E=0,C=0;C<w.length-1;C++){var L=E;E=0;for(var W=67108863&_,B=Math.min(C,b.length-1),G=Math.max(0,C-y.length+1);G<=B;G++){var M=C-G,K=(0|y.words[M])*(0|b.words[G]),D=67108863&K;W=67108863&(D=D+W|0),E+=(L=(L=L+(K/67108864|0)|0)+(D>>>26)|0)>>>26,L&=67108863}w.words[C]=W,_=L,L=E}return _!==0?w.words[C]=_:w.length--,w.strip()}(this,S,T):v(this,S,T)},x.prototype.makeRBT=function(S){for(var T=new Array(S),O=a.prototype._countBits(S)-1,y=0;y<S;y++)T[y]=this.revBin(y,O,S);return T},x.prototype.revBin=function(S,T,O){if(S===0||S===O-1)return S;for(var y=0,b=0;b<T;b++)y|=(1&S)<<T-b-1,S>>=1;return y},x.prototype.permute=function(S,T,O,y,b,w){for(var _=0;_<w;_++)y[_]=T[S[_]],b[_]=O[S[_]]},x.prototype.transform=function(S,T,O,y,b,w){this.permute(w,S,T,O,y,b);for(var _=1;_<b;_<<=1)for(var E=_<<1,C=Math.cos(2*Math.PI/E),L=Math.sin(2*Math.PI/E),W=0;W<b;W+=E)for(var B=C,G=L,M=0;M<_;M++){var K=O[W+M],D=y[W+M],k=O[W+M+_],z=y[W+M+_],J=B*k-G*z;z=B*z+G*k,k=J,O[W+M]=K+k,y[W+M]=D+z,O[W+M+_]=K-k,y[W+M+_]=D-z,M!==E&&(J=C*B-L*G,G=C*G+L*B,B=J)}},x.prototype.guessLen13b=function(S,T){var O=1|Math.max(T,S),y=1&O,b=0;for(O=O/2|0;O;O>>>=1)b++;return 1<<b+1+y},x.prototype.conjugate=function(S,T,O){if(!(O<=1))for(var y=0;y<O/2;y++){var b=S[y];S[y]=S[O-y-1],S[O-y-1]=b,b=T[y],T[y]=-T[O-y-1],T[O-y-1]=-b}},x.prototype.normalize13b=function(S,T){for(var O=0,y=0;y<T/2;y++){var b=8192*Math.round(S[2*y+1]/T)+Math.round(S[2*y]/T)+O;S[y]=67108863&b,O=b<67108864?0:b/67108864|0}return S},x.prototype.convert13b=function(S,T,O,y){for(var b=0,w=0;w<T;w++)b+=0|S[w],O[2*w]=8191&b,b>>>=13,O[2*w+1]=8191&b,b>>>=13;for(w=2*T;w<y;++w)O[w]=0;s(b===0),s((-8192&b)==0)},x.prototype.stub=function(S){for(var T=new Array(S),O=0;O<S;O++)T[O]=0;return T},x.prototype.mulp=function(S,T,O){var y=2*this.guessLen13b(S.length,T.length),b=this.makeRBT(y),w=this.stub(y),_=new Array(y),E=new Array(y),C=new Array(y),L=new Array(y),W=new Array(y),B=new Array(y),G=O.words;G.length=y,this.convert13b(S.words,S.length,_,y),this.convert13b(T.words,T.length,L,y),this.transform(_,w,E,C,y,b),this.transform(L,w,W,B,y,b);for(var M=0;M<y;M++){var K=E[M]*W[M]-C[M]*B[M];C[M]=E[M]*B[M]+C[M]*W[M],E[M]=K}return this.conjugate(E,C,y),this.transform(E,C,G,w,y,b),this.conjugate(G,w,y),this.normalize13b(G,y),O.negative=S.negative^T.negative,O.length=S.length+T.length,O.strip()},a.prototype.mul=function(S){var T=new a(null);return T.words=new Array(this.length+S.length),this.mulTo(S,T)},a.prototype.mulf=function(S){var T=new a(null);return T.words=new Array(this.length+S.length),v(this,S,T)},a.prototype.imul=function(S){return this.clone().mulTo(S,this)},a.prototype.imuln=function(S){s(typeof S=="number"),s(S<67108864);for(var T=0,O=0;O<this.length;O++){var y=(0|this.words[O])*S,b=(67108863&y)+(67108863&T);T>>=26,T+=y/67108864|0,T+=b>>>26,this.words[O]=67108863&b}return T!==0&&(this.words[O]=T,this.length++),this},a.prototype.muln=function(S){return this.clone().imuln(S)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(S){var T=function(w){for(var _=new Array(w.bitLength()),E=0;E<_.length;E++){var C=E/26|0,L=E%26;_[E]=(w.words[C]&1<<L)>>>L}return _}(S);if(T.length===0)return new a(1);for(var O=this,y=0;y<T.length&&T[y]===0;y++,O=O.sqr());if(++y<T.length)for(var b=O.sqr();y<T.length;y++,b=b.sqr())T[y]!==0&&(O=O.mul(b));return O},a.prototype.iushln=function(S){s(typeof S=="number"&&S>=0);var T,O=S%26,y=(S-O)/26,b=67108863>>>26-O<<26-O;if(O!==0){var w=0;for(T=0;T<this.length;T++){var _=this.words[T]&b,E=(0|this.words[T])-_<<O;this.words[T]=E|w,w=_>>>26-O}w&&(this.words[T]=w,this.length++)}if(y!==0){for(T=this.length-1;T>=0;T--)this.words[T+y]=this.words[T];for(T=0;T<y;T++)this.words[T]=0;this.length+=y}return this.strip()},a.prototype.ishln=function(S){return s(this.negative===0),this.iushln(S)},a.prototype.iushrn=function(S,T,O){var y;s(typeof S=="number"&&S>=0),y=T?(T-T%26)/26:0;var b=S%26,w=Math.min((S-b)/26,this.length),_=67108863^67108863>>>b<<b,E=O;if(y-=w,y=Math.max(0,y),E){for(var C=0;C<w;C++)E.words[C]=this.words[C];E.length=w}if(w!==0)if(this.length>w)for(this.length-=w,C=0;C<this.length;C++)this.words[C]=this.words[C+w];else this.words[0]=0,this.length=1;var L=0;for(C=this.length-1;C>=0&&(L!==0||C>=y);C--){var W=0|this.words[C];this.words[C]=L<<26-b|W>>>b,L=W&_}return E&&L!==0&&(E.words[E.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(S,T,O){return s(this.negative===0),this.iushrn(S,T,O)},a.prototype.shln=function(S){return this.clone().ishln(S)},a.prototype.ushln=function(S){return this.clone().iushln(S)},a.prototype.shrn=function(S){return this.clone().ishrn(S)},a.prototype.ushrn=function(S){return this.clone().iushrn(S)},a.prototype.testn=function(S){s(typeof S=="number"&&S>=0);var T=S%26,O=(S-T)/26,y=1<<T;return!(this.length<=O)&&!!(this.words[O]&y)},a.prototype.imaskn=function(S){s(typeof S=="number"&&S>=0);var T=S%26,O=(S-T)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(T!==0&&O++,this.length=Math.min(O,this.length),T!==0){var y=67108863^67108863>>>T<<T;this.words[this.length-1]&=y}return this.strip()},a.prototype.maskn=function(S){return this.clone().imaskn(S)},a.prototype.iaddn=function(S){return s(typeof S=="number"),s(S<67108864),S<0?this.isubn(-S):this.negative!==0?this.length===1&&(0|this.words[0])<S?(this.words[0]=S-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(S),this.negative=1,this):this._iaddn(S)},a.prototype._iaddn=function(S){this.words[0]+=S;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},a.prototype.isubn=function(S){if(s(typeof S=="number"),s(S<67108864),S<0)return this.iaddn(-S);if(this.negative!==0)return this.negative=0,this.iaddn(S),this.negative=1,this;if(this.words[0]-=S,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this.strip()},a.prototype.addn=function(S){return this.clone().iaddn(S)},a.prototype.subn=function(S){return this.clone().isubn(S)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(S,T,O){var y,b,w=S.length+O;this._expand(w);var _=0;for(y=0;y<S.length;y++){b=(0|this.words[y+O])+_;var E=(0|S.words[y])*T;_=((b-=67108863&E)>>26)-(E/67108864|0),this.words[y+O]=67108863&b}for(;y<this.length-O;y++)_=(b=(0|this.words[y+O])+_)>>26,this.words[y+O]=67108863&b;if(_===0)return this.strip();for(s(_===-1),_=0,y=0;y<this.length;y++)_=(b=-(0|this.words[y])+_)>>26,this.words[y]=67108863&b;return this.negative=1,this.strip()},a.prototype._wordDiv=function(S,T){var O=(this.length,S.length),y=this.clone(),b=S,w=0|b.words[b.length-1];(O=26-this._countBits(w))!==0&&(b=b.ushln(O),y.iushln(O),w=0|b.words[b.length-1]);var _,E=y.length-b.length;if(T!=="mod"){(_=new a(null)).length=E+1,_.words=new Array(_.length);for(var C=0;C<_.length;C++)_.words[C]=0}var L=y.clone()._ishlnsubmul(b,1,E);L.negative===0&&(y=L,_&&(_.words[E]=1));for(var W=E-1;W>=0;W--){var B=67108864*(0|y.words[b.length+W])+(0|y.words[b.length+W-1]);for(B=Math.min(B/w|0,67108863),y._ishlnsubmul(b,B,W);y.negative!==0;)B--,y.negative=0,y._ishlnsubmul(b,1,W),y.isZero()||(y.negative^=1);_&&(_.words[W]=B)}return _&&_.strip(),y.strip(),T!=="div"&&O!==0&&y.iushrn(O),{div:_||null,mod:y}},a.prototype.divmod=function(S,T,O){return s(!S.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&S.negative===0?(w=this.neg().divmod(S,T),T!=="mod"&&(y=w.div.neg()),T!=="div"&&(b=w.mod.neg(),O&&b.negative!==0&&b.iadd(S)),{div:y,mod:b}):this.negative===0&&S.negative!==0?(w=this.divmod(S.neg(),T),T!=="mod"&&(y=w.div.neg()),{div:y,mod:w.mod}):(this.negative&S.negative)!=0?(w=this.neg().divmod(S.neg(),T),T!=="div"&&(b=w.mod.neg(),O&&b.negative!==0&&b.isub(S)),{div:w.div,mod:b}):S.length>this.length||this.cmp(S)<0?{div:new a(0),mod:this}:S.length===1?T==="div"?{div:this.divn(S.words[0]),mod:null}:T==="mod"?{div:null,mod:new a(this.modn(S.words[0]))}:{div:this.divn(S.words[0]),mod:new a(this.modn(S.words[0]))}:this._wordDiv(S,T);var y,b,w},a.prototype.div=function(S){return this.divmod(S,"div",!1).div},a.prototype.mod=function(S){return this.divmod(S,"mod",!1).mod},a.prototype.umod=function(S){return this.divmod(S,"mod",!0).mod},a.prototype.divRound=function(S){var T=this.divmod(S);if(T.mod.isZero())return T.div;var O=T.div.negative!==0?T.mod.isub(S):T.mod,y=S.ushrn(1),b=S.andln(1),w=O.cmp(y);return w<0||b===1&&w===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},a.prototype.modn=function(S){s(S<=67108863);for(var T=(1<<26)%S,O=0,y=this.length-1;y>=0;y--)O=(T*O+(0|this.words[y]))%S;return O},a.prototype.idivn=function(S){s(S<=67108863);for(var T=0,O=this.length-1;O>=0;O--){var y=(0|this.words[O])+67108864*T;this.words[O]=y/S|0,T=y%S}return this.strip()},a.prototype.divn=function(S){return this.clone().idivn(S)},a.prototype.egcd=function(S){s(S.negative===0),s(!S.isZero());var T=this,O=S.clone();T=T.negative!==0?T.umod(S):T.clone();for(var y=new a(1),b=new a(0),w=new a(0),_=new a(1),E=0;T.isEven()&&O.isEven();)T.iushrn(1),O.iushrn(1),++E;for(var C=O.clone(),L=T.clone();!T.isZero();){for(var W=0,B=1;(T.words[0]&B)==0&&W<26;++W,B<<=1);if(W>0)for(T.iushrn(W);W-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(C),b.isub(L)),y.iushrn(1),b.iushrn(1);for(var G=0,M=1;(O.words[0]&M)==0&&G<26;++G,M<<=1);if(G>0)for(O.iushrn(G);G-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(C),_.isub(L)),w.iushrn(1),_.iushrn(1);T.cmp(O)>=0?(T.isub(O),y.isub(w),b.isub(_)):(O.isub(T),w.isub(y),_.isub(b))}return{a:w,b:_,gcd:O.iushln(E)}},a.prototype._invmp=function(S){s(S.negative===0),s(!S.isZero());var T=this,O=S.clone();T=T.negative!==0?T.umod(S):T.clone();for(var y,b=new a(1),w=new a(0),_=O.clone();T.cmpn(1)>0&&O.cmpn(1)>0;){for(var E=0,C=1;(T.words[0]&C)==0&&E<26;++E,C<<=1);if(E>0)for(T.iushrn(E);E-- >0;)b.isOdd()&&b.iadd(_),b.iushrn(1);for(var L=0,W=1;(O.words[0]&W)==0&&L<26;++L,W<<=1);if(L>0)for(O.iushrn(L);L-- >0;)w.isOdd()&&w.iadd(_),w.iushrn(1);T.cmp(O)>=0?(T.isub(O),b.isub(w)):(O.isub(T),w.isub(b))}return(y=T.cmpn(1)===0?b:w).cmpn(0)<0&&y.iadd(S),y},a.prototype.gcd=function(S){if(this.isZero())return S.abs();if(S.isZero())return this.abs();var T=this.clone(),O=S.clone();T.negative=0,O.negative=0;for(var y=0;T.isEven()&&O.isEven();y++)T.iushrn(1),O.iushrn(1);for(;;){for(;T.isEven();)T.iushrn(1);for(;O.isEven();)O.iushrn(1);var b=T.cmp(O);if(b<0){var w=T;T=O,O=w}else if(b===0||O.cmpn(1)===0)break;T.isub(O)}return O.iushln(y)},a.prototype.invm=function(S){return this.egcd(S).a.umod(S)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(S){return this.words[0]&S},a.prototype.bincn=function(S){s(typeof S=="number");var T=S%26,O=(S-T)/26,y=1<<T;if(this.length<=O)return this._expand(O+1),this.words[O]|=y,this;for(var b=y,w=O;b!==0&&w<this.length;w++){var _=0|this.words[w];b=(_+=b)>>>26,_&=67108863,this.words[w]=_}return b!==0&&(this.words[w]=b,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(S){var T,O=S<0;if(this.negative!==0&&!O)return-1;if(this.negative===0&&O)return 1;if(this.strip(),this.length>1)T=1;else{O&&(S=-S),s(S<=67108863,"Number is too big");var y=0|this.words[0];T=y===S?0:y<S?-1:1}return this.negative!==0?0|-T:T},a.prototype.cmp=function(S){if(this.negative!==0&&S.negative===0)return-1;if(this.negative===0&&S.negative!==0)return 1;var T=this.ucmp(S);return this.negative!==0?0|-T:T},a.prototype.ucmp=function(S){if(this.length>S.length)return 1;if(this.length<S.length)return-1;for(var T=0,O=this.length-1;O>=0;O--){var y=0|this.words[O],b=0|S.words[O];if(y!==b){y<b?T=-1:y>b&&(T=1);break}}return T},a.prototype.gtn=function(S){return this.cmpn(S)===1},a.prototype.gt=function(S){return this.cmp(S)===1},a.prototype.gten=function(S){return this.cmpn(S)>=0},a.prototype.gte=function(S){return this.cmp(S)>=0},a.prototype.ltn=function(S){return this.cmpn(S)===-1},a.prototype.lt=function(S){return this.cmp(S)===-1},a.prototype.lten=function(S){return this.cmpn(S)<=0},a.prototype.lte=function(S){return this.cmp(S)<=0},a.prototype.eqn=function(S){return this.cmpn(S)===0},a.prototype.eq=function(S){return this.cmp(S)===0},a.red=function(S){return new q(S)},a.prototype.toRed=function(S){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),S.convertTo(this)._forceRed(S)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(S){return this.red=S,this},a.prototype.forceRed=function(S){return s(!this.red,"Already a number in reduction context"),this._forceRed(S)},a.prototype.redAdd=function(S){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,S)},a.prototype.redIAdd=function(S){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,S)},a.prototype.redSub=function(S){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,S)},a.prototype.redISub=function(S){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,S)},a.prototype.redShl=function(S){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,S)},a.prototype.redMul=function(S){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.mul(this,S)},a.prototype.redIMul=function(S){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.imul(this,S)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(S){return s(this.red&&!S.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,S)};var I={k256:null,p224:null,p192:null,p25519:null};function R(S,T){this.name=S,this.p=new a(T,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function V(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function q(S){if(typeof S=="string"){var T=a._prime(S);this.m=T.p,this.prime=T}else s(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}function j(S){q.call(this,S),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R.prototype._tmp=function(){var S=new a(null);return S.words=new Array(Math.ceil(this.n/13)),S},R.prototype.ireduce=function(S){var T,O=S;do this.split(O,this.tmp),T=(O=(O=this.imulK(O)).iadd(this.tmp)).bitLength();while(T>this.n);var y=T<this.n?-1:O.ucmp(this.p);return y===0?(O.words[0]=0,O.length=1):y>0?O.isub(this.p):O.strip!==void 0?O.strip():O._strip(),O},R.prototype.split=function(S,T){S.iushrn(this.n,0,T)},R.prototype.imulK=function(S){return S.imul(this.k)},o($,R),$.prototype.split=function(S,T){for(var O=Math.min(S.length,9),y=0;y<O;y++)T.words[y]=S.words[y];if(T.length=O,S.length<=9)return S.words[0]=0,void(S.length=1);var b=S.words[9];for(T.words[T.length++]=4194303&b,y=10;y<S.length;y++){var w=0|S.words[y];S.words[y-10]=(4194303&w)<<4|b>>>22,b=w}b>>>=22,S.words[y-10]=b,b===0&&S.length>10?S.length-=10:S.length-=9},$.prototype.imulK=function(S){S.words[S.length]=0,S.words[S.length+1]=0,S.length+=2;for(var T=0,O=0;O<S.length;O++){var y=0|S.words[O];T+=977*y,S.words[O]=67108863&T,T=64*y+(T/67108864|0)}return S.words[S.length-1]===0&&(S.length--,S.words[S.length-1]===0&&S.length--),S},o(F,R),o(V,R),o(U,R),U.prototype.imulK=function(S){for(var T=0,O=0;O<S.length;O++){var y=19*(0|S.words[O])+T,b=67108863&y;y>>>=26,S.words[O]=b,T=y}return T!==0&&(S.words[S.length++]=T),S},a._prime=function(S){if(I[S])return I[S];var T;if(S==="k256")T=new $;else if(S==="p224")T=new F;else if(S==="p192")T=new V;else{if(S!=="p25519")throw new Error("Unknown prime "+S);T=new U}return I[S]=T,T},q.prototype._verify1=function(S){s(S.negative===0,"red works only with positives"),s(S.red,"red works only with red numbers")},q.prototype._verify2=function(S,T){s((S.negative|T.negative)==0,"red works only with positives"),s(S.red&&S.red===T.red,"red works only with red numbers")},q.prototype.imod=function(S){return this.prime?this.prime.ireduce(S)._forceRed(this):S.umod(this.m)._forceRed(this)},q.prototype.neg=function(S){return S.isZero()?S.clone():this.m.sub(S)._forceRed(this)},q.prototype.add=function(S,T){this._verify2(S,T);var O=S.add(T);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},q.prototype.iadd=function(S,T){this._verify2(S,T);var O=S.iadd(T);return O.cmp(this.m)>=0&&O.isub(this.m),O},q.prototype.sub=function(S,T){this._verify2(S,T);var O=S.sub(T);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},q.prototype.isub=function(S,T){this._verify2(S,T);var O=S.isub(T);return O.cmpn(0)<0&&O.iadd(this.m),O},q.prototype.shl=function(S,T){return this._verify1(S),this.imod(S.ushln(T))},q.prototype.imul=function(S,T){return this._verify2(S,T),this.imod(S.imul(T))},q.prototype.mul=function(S,T){return this._verify2(S,T),this.imod(S.mul(T))},q.prototype.isqr=function(S){return this.imul(S,S.clone())},q.prototype.sqr=function(S){return this.mul(S,S)},q.prototype.sqrt=function(S){if(S.isZero())return S.clone();var T=this.m.andln(3);if(s(T%2==1),T===3){var O=this.m.add(new a(1)).iushrn(2);return this.pow(S,O)}for(var y=this.m.subn(1),b=0;!y.isZero()&&y.andln(1)===0;)b++,y.iushrn(1);s(!y.isZero());var w=new a(1).toRed(this),_=w.redNeg(),E=this.m.subn(1).iushrn(1),C=this.m.bitLength();for(C=new a(2*C*C).toRed(this);this.pow(C,E).cmp(_)!==0;)C.redIAdd(_);for(var L=this.pow(C,y),W=this.pow(S,y.addn(1).iushrn(1)),B=this.pow(S,y),G=b;B.cmp(w)!==0;){for(var M=B,K=0;M.cmp(w)!==0;K++)M=M.redSqr();s(K<G);var D=this.pow(L,new a(1).iushln(G-K-1));W=W.redMul(D),L=D.redSqr(),B=B.redMul(L),G=K}return W},q.prototype.invm=function(S){var T=S._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},q.prototype.pow=function(S,T){if(T.isZero())return new a(1).toRed(this);if(T.cmpn(1)===0)return S.clone();var O=new Array(16);O[0]=new a(1).toRed(this),O[1]=S;for(var y=2;y<O.length;y++)O[y]=this.mul(O[y-1],S);var b=O[0],w=0,_=0,E=T.bitLength()%26;for(E===0&&(E=26),y=T.length-1;y>=0;y--){for(var C=T.words[y],L=E-1;L>=0;L--){var W=C>>L&1;b!==O[0]&&(b=this.sqr(b)),W!==0||w!==0?(w<<=1,w|=W,(++_===4||y===0&&L===0)&&(b=this.mul(b,O[w]),_=0,w=0)):_=0}E=26}return b},q.prototype.convertTo=function(S){var T=S.umod(this.m);return T===S?T.clone():T},q.prototype.convertFrom=function(S){var T=S.clone();return T.red=null,T},a.mont=function(S){return new j(S)},o(j,q),j.prototype.convertTo=function(S){return this.imod(S.ushln(this.shift))},j.prototype.convertFrom=function(S){var T=this.imod(S.mul(this.rinv));return T.red=null,T},j.prototype.imul=function(S,T){if(S.isZero()||T.isZero())return S.words[0]=0,S.length=1,S;var O=S.imul(T),y=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=O.isub(y).iushrn(this.shift),w=b;return b.cmp(this.m)>=0?w=b.isub(this.m):b.cmpn(0)<0&&(w=b.iadd(this.m)),w._forceRed(this)},j.prototype.mul=function(S,T){if(S.isZero()||T.isZero())return new a(0)._forceRed(this);var O=S.mul(T),y=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=O.isub(y).iushrn(this.shift),w=b;return b.cmp(this.m)>=0?w=b.isub(this.m):b.cmpn(0)<0&&(w=b.iadd(this.m)),w._forceRed(this)},j.prototype.invm=function(S){return this.imod(S._invmp(this.m).mul(this.r2))._forceRed(this)}})(t===void 0||t)},{buffer:188}],185:[function(e,t,n){"use strict";n.byteLength=function(d){var h=c(d),f=h[0],p=h[1];return 3*(f+p)/4-p},n.toByteArray=function(d){var h,f,p=c(d),m=p[0],g=p[1],v=new s(function(R,$,F){return 3*($+F)/4-F}(0,m,g)),x=0,I=g>0?m-4:m;for(f=0;f<I;f+=4)h=i[d.charCodeAt(f)]<<18|i[d.charCodeAt(f+1)]<<12|i[d.charCodeAt(f+2)]<<6|i[d.charCodeAt(f+3)],v[x++]=h>>16&255,v[x++]=h>>8&255,v[x++]=255&h;return g===2&&(h=i[d.charCodeAt(f)]<<2|i[d.charCodeAt(f+1)]>>4,v[x++]=255&h),g===1&&(h=i[d.charCodeAt(f)]<<10|i[d.charCodeAt(f+1)]<<4|i[d.charCodeAt(f+2)]>>2,v[x++]=h>>8&255,v[x++]=255&h),v},n.fromByteArray=function(d){for(var h,f=d.length,p=f%3,m=[],g=0,v=f-p;g<v;g+=16383)m.push(u(d,g,g+16383>v?v:g+16383));return p===1?(h=d[f-1],m.push(r[h>>2]+r[h<<4&63]+"==")):p===2&&(h=(d[f-2]<<8)+d[f-1],m.push(r[h>>10]+r[h>>4&63]+r[h<<2&63]+"=")),m.join("")};for(var r=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function c(d){var h=d.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=d.indexOf("=");return f===-1&&(f=h),[f,f===h?0:4-f%4]}function u(d,h,f){for(var p,m,g=[],v=h;v<f;v+=3)p=(d[v]<<16&16711680)+(d[v+1]<<8&65280)+(255&d[v+2]),g.push(r[(m=p)>>18&63]+r[m>>12&63]+r[m>>6&63]+r[63&m]);return g.join("")}i[45]=62,i[95]=63},{}],186:[function(e,t,n){"use strict";(function(r,i){function s(y,b){if(!y)throw new Error(b||"Assertion failed")}function o(y,b){y.super_=b;var w=function(){};w.prototype=b.prototype,y.prototype=new w,y.prototype.constructor=y}function a(y,b,w){if(a.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&(b!=="le"&&b!=="be"||(w=b,b=10),this._init(y||0,b||10,w||"be"))}var l;typeof r=="object"?r.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function c(y,b){var w=y.charCodeAt(b);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void s(!1,"Invalid character in "+y)}function u(y,b,w){var _=c(y,w);return w-1>=b&&(_|=c(y,w-1)<<4),_}function d(y,b,w,_){for(var E=0,C=0,L=Math.min(y.length,w),W=b;W<L;W++){var B=y.charCodeAt(W)-48;E*=_,C=B>=49?B-49+10:B>=17?B-17+10:B,s(B>=0&&C<_,"Invalid character"),E+=C}return E}function h(y,b){y.words=b.words,y.length=b.length,y.negative=b.negative,y.red=b.red}if(a.isBN=function(y){return y instanceof a||y!==null&&typeof y=="object"&&y.constructor.wordSize===a.wordSize&&Array.isArray(y.words)},a.max=function(y,b){return y.cmp(b)>0?y:b},a.min=function(y,b){return y.cmp(b)<0?y:b},a.prototype._init=function(y,b,w){if(typeof y=="number")return this._initNumber(y,b,w);if(typeof y=="object")return this._initArray(y,b,w);b==="hex"&&(b=16),s(b===(0|b)&&b>=2&&b<=36);var _=0;(y=y.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<y.length&&(b===16?this._parseHex(y,_,w):(this._parseBase(y,b,_),w==="le"&&this._initArray(this.toArray(),b,w)))},a.prototype._initNumber=function(y,b,w){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[67108863&y],this.length=1):y<4503599627370496?(this.words=[67108863&y,y/67108864&67108863],this.length=2):(s(y<9007199254740992),this.words=[67108863&y,y/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),b,w)},a.prototype._initArray=function(y,b,w){if(s(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E,C,L=0;if(w==="be")for(_=y.length-1,E=0;_>=0;_-=3)C=y[_]|y[_-1]<<8|y[_-2]<<16,this.words[E]|=C<<L&67108863,this.words[E+1]=C>>>26-L&67108863,(L+=24)>=26&&(L-=26,E++);else if(w==="le")for(_=0,E=0;_<y.length;_+=3)C=y[_]|y[_+1]<<8|y[_+2]<<16,this.words[E]|=C<<L&67108863,this.words[E+1]=C>>>26-L&67108863,(L+=24)>=26&&(L-=26,E++);return this._strip()},a.prototype._parseHex=function(y,b,w){this.length=Math.ceil((y.length-b)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E,C=0,L=0;if(w==="be")for(_=y.length-1;_>=b;_-=2)E=u(y,b,_)<<C,this.words[L]|=67108863&E,C>=18?(C-=18,L+=1,this.words[L]|=E>>>26):C+=8;else for(_=(y.length-b)%2==0?b+1:b;_<y.length;_+=2)E=u(y,b,_)<<C,this.words[L]|=67108863&E,C>=18?(C-=18,L+=1,this.words[L]|=E>>>26):C+=8;this._strip()},a.prototype._parseBase=function(y,b,w){this.words=[0],this.length=1;for(var _=0,E=1;E<=67108863;E*=b)_++;_--,E=E/b|0;for(var C=y.length-w,L=C%_,W=Math.min(C,C-L)+w,B=0,G=w;G<W;G+=_)B=d(y,G,G+_,b),this.imuln(E),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(L!==0){var M=1;for(B=d(y,G,y.length,b),G=0;G<L;G++)M*=b;this.imuln(M),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},a.prototype.copy=function(y){y.words=new Array(this.length);for(var b=0;b<this.length;b++)y.words[b]=this.words[b];y.length=this.length,y.negative=this.negative,y.red=this.red},a.prototype._move=function(y){h(y,this)},a.prototype.clone=function(){var y=new a(null);return this.copy(y),y},a.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{a.prototype.inspect=f}else a.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(y,b){var w;if(b=0|b||1,(y=y||10)===16||y==="hex"){w="";for(var _=0,E=0,C=0;C<this.length;C++){var L=this.words[C],W=(16777215&(L<<_|E)).toString(16);E=L>>>24-_&16777215,(_+=2)>=26&&(_-=26,C--),w=E!==0||C!==this.length-1?p[6-W.length]+W+w:W+w}for(E!==0&&(w=E.toString(16)+w);w.length%b!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(y===(0|y)&&y>=2&&y<=36){var B=m[y],G=g[y];w="";var M=this.clone();for(M.negative=0;!M.isZero();){var K=M.modrn(G).toString(y);w=(M=M.idivn(G)).isZero()?K+w:p[B-K.length]+K+w}for(this.isZero()&&(w="0"+w);w.length%b!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=67108864*this.words[1]:this.length===3&&this.words[2]===1?y+=4503599627370496+67108864*this.words[1]:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},a.prototype.toJSON=function(){return this.toString(16,2)},l&&(a.prototype.toBuffer=function(y,b){return this.toArrayLike(l,y,b)}),a.prototype.toArray=function(y,b){return this.toArrayLike(Array,y,b)};function v(y,b,w){w.negative=b.negative^y.negative;var _=y.length+b.length|0;w.length=_,_=_-1|0;var E=0|y.words[0],C=0|b.words[0],L=E*C,W=67108863&L,B=L/67108864|0;w.words[0]=W;for(var G=1;G<_;G++){for(var M=B>>>26,K=67108863&B,D=Math.min(G,b.length-1),k=Math.max(0,G-y.length+1);k<=D;k++){var z=G-k|0;M+=(L=(E=0|y.words[z])*(C=0|b.words[k])+K)/67108864|0,K=67108863&L}w.words[G]=0|K,B=0|M}return B!==0?w.words[G]=0|B:w.length--,w._strip()}a.prototype.toArrayLike=function(y,b,w){this._strip();var _=this.byteLength(),E=w||Math.max(1,_);s(_<=E,"byte array longer than desired length"),s(E>0,"Requested array length <= 0");var C=function(L,W){return L.allocUnsafe?L.allocUnsafe(W):new L(W)}(y,E);return this["_toArrayLike"+(b==="le"?"LE":"BE")](C,_),C},a.prototype._toArrayLikeLE=function(y,b){for(var w=0,_=0,E=0,C=0;E<this.length;E++){var L=this.words[E]<<C|_;y[w++]=255&L,w<y.length&&(y[w++]=L>>8&255),w<y.length&&(y[w++]=L>>16&255),C===6?(w<y.length&&(y[w++]=L>>24&255),_=0,C=0):(_=L>>>24,C+=2)}if(w<y.length)for(y[w++]=_;w<y.length;)y[w++]=0},a.prototype._toArrayLikeBE=function(y,b){for(var w=y.length-1,_=0,E=0,C=0;E<this.length;E++){var L=this.words[E]<<C|_;y[w--]=255&L,w>=0&&(y[w--]=L>>8&255),w>=0&&(y[w--]=L>>16&255),C===6?(w>=0&&(y[w--]=L>>24&255),_=0,C=0):(_=L>>>24,C+=2)}if(w>=0)for(y[w--]=_;w>=0;)y[w--]=0},Math.clz32?a.prototype._countBits=function(y){return 32-Math.clz32(y)}:a.prototype._countBits=function(y){var b=y,w=0;return b>=4096&&(w+=13,b>>>=13),b>=64&&(w+=7,b>>>=7),b>=8&&(w+=4,b>>>=4),b>=2&&(w+=2,b>>>=2),w+b},a.prototype._zeroBits=function(y){if(y===0)return 26;var b=y,w=0;return(8191&b)==0&&(w+=13,b>>>=13),(127&b)==0&&(w+=7,b>>>=7),(15&b)==0&&(w+=4,b>>>=4),(3&b)==0&&(w+=2,b>>>=2),(1&b)==0&&w++,w},a.prototype.bitLength=function(){var y=this.words[this.length-1],b=this._countBits(y);return 26*(this.length-1)+b},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,b=0;b<this.length;b++){var w=this._zeroBits(this.words[b]);if(y+=w,w!==26)break}return y},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},a.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var b=0;b<y.length;b++)this.words[b]=this.words[b]|y.words[b];return this._strip()},a.prototype.ior=function(y){return s((this.negative|y.negative)==0),this.iuor(y)},a.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},a.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},a.prototype.iuand=function(y){var b;b=this.length>y.length?y:this;for(var w=0;w<b.length;w++)this.words[w]=this.words[w]&y.words[w];return this.length=b.length,this._strip()},a.prototype.iand=function(y){return s((this.negative|y.negative)==0),this.iuand(y)},a.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},a.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},a.prototype.iuxor=function(y){var b,w;this.length>y.length?(b=this,w=y):(b=y,w=this);for(var _=0;_<w.length;_++)this.words[_]=b.words[_]^w.words[_];if(this!==b)for(;_<b.length;_++)this.words[_]=b.words[_];return this.length=b.length,this._strip()},a.prototype.ixor=function(y){return s((this.negative|y.negative)==0),this.iuxor(y)},a.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},a.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},a.prototype.inotn=function(y){s(typeof y=="number"&&y>=0);var b=0|Math.ceil(y/26),w=y%26;this._expand(b),w>0&&b--;for(var _=0;_<b;_++)this.words[_]=67108863&~this.words[_];return w>0&&(this.words[_]=~this.words[_]&67108863>>26-w),this._strip()},a.prototype.notn=function(y){return this.clone().inotn(y)},a.prototype.setn=function(y,b){s(typeof y=="number"&&y>=0);var w=y/26|0,_=y%26;return this._expand(w+1),this.words[w]=b?this.words[w]|1<<_:this.words[w]&~(1<<_),this._strip()},a.prototype.iadd=function(y){var b,w,_;if(this.negative!==0&&y.negative===0)return this.negative=0,b=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,b=this.isub(y),y.negative=1,b._normSign();this.length>y.length?(w=this,_=y):(w=y,_=this);for(var E=0,C=0;C<_.length;C++)b=(0|w.words[C])+(0|_.words[C])+E,this.words[C]=67108863&b,E=b>>>26;for(;E!==0&&C<w.length;C++)b=(0|w.words[C])+E,this.words[C]=67108863&b,E=b>>>26;if(this.length=w.length,E!==0)this.words[this.length]=E,this.length++;else if(w!==this)for(;C<w.length;C++)this.words[C]=w.words[C];return this},a.prototype.add=function(y){var b;return y.negative!==0&&this.negative===0?(y.negative=0,b=this.sub(y),y.negative^=1,b):y.negative===0&&this.negative!==0?(this.negative=0,b=y.sub(this),this.negative=1,b):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},a.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var b=this.iadd(y);return y.negative=1,b._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var w,_,E=this.cmp(y);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(w=this,_=y):(w=y,_=this);for(var C=0,L=0;L<_.length;L++)C=(b=(0|w.words[L])-(0|_.words[L])+C)>>26,this.words[L]=67108863&b;for(;C!==0&&L<w.length;L++)C=(b=(0|w.words[L])+C)>>26,this.words[L]=67108863&b;if(C===0&&L<w.length&&w!==this)for(;L<w.length;L++)this.words[L]=w.words[L];return this.length=Math.max(this.length,L),w!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(y){return this.clone().isub(y)};var x=function(y,b,w){var _,E,C,L=y.words,W=b.words,B=w.words,G=0,M=0|L[0],K=8191&M,D=M>>>13,k=0|L[1],z=8191&k,J=k>>>13,Q=0|L[2],ee=8191&Q,ne=Q>>>13,he=0|L[3],de=8191&he,Z=he>>>13,le=0|L[4],fe=8191&le,ve=le>>>13,me=0|L[5],Se=8191&me,xe=me>>>13,ke=0|L[6],Re=8191&ke,je=ke>>>13,st=0|L[7],Ve=8191&st,Qe=st>>>13,ht=0|L[8],Ge=8191&ht,$e=ht>>>13,Ze=0|L[9],et=8191&Ze,Be=Ze>>>13,lt=0|W[0],Xe=8191&lt,mt=lt>>>13,Ct=0|W[1],pt=8191&Ct,it=Ct>>>13,It=0|W[2],wt=8191&It,ft=It>>>13,At=0|W[3],gt=8191&At,Bt=At>>>13,Fn=0|W[4],Ht=8191&Fn,Mt=Fn>>>13,Rt=0|W[5],zt=8191&Rt,Ee=Rt>>>13,Pe=0|W[6],Fe=8191&Pe,ze=Pe>>>13,$t=0|W[7],ot=8191&$t,bt=$t>>>13,Sn=0|W[8],xt=8191&Sn,yt=Sn>>>13,fn=0|W[9],Zt=8191&fn,Gt=fn>>>13;w.negative=y.negative^b.negative,w.length=19;var Mn=(G+(_=Math.imul(K,Xe))|0)+((8191&(E=(E=Math.imul(K,mt))+Math.imul(D,Xe)|0))<<13)|0;G=((C=Math.imul(D,mt))+(E>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,_=Math.imul(z,Xe),E=(E=Math.imul(z,mt))+Math.imul(J,Xe)|0,C=Math.imul(J,mt);var jn=(G+(_=_+Math.imul(K,pt)|0)|0)+((8191&(E=(E=E+Math.imul(K,it)|0)+Math.imul(D,pt)|0))<<13)|0;G=((C=C+Math.imul(D,it)|0)+(E>>>13)|0)+(jn>>>26)|0,jn&=67108863,_=Math.imul(ee,Xe),E=(E=Math.imul(ee,mt))+Math.imul(ne,Xe)|0,C=Math.imul(ne,mt),_=_+Math.imul(z,pt)|0,E=(E=E+Math.imul(z,it)|0)+Math.imul(J,pt)|0,C=C+Math.imul(J,it)|0;var ur=(G+(_=_+Math.imul(K,wt)|0)|0)+((8191&(E=(E=E+Math.imul(K,ft)|0)+Math.imul(D,wt)|0))<<13)|0;G=((C=C+Math.imul(D,ft)|0)+(E>>>13)|0)+(ur>>>26)|0,ur&=67108863,_=Math.imul(de,Xe),E=(E=Math.imul(de,mt))+Math.imul(Z,Xe)|0,C=Math.imul(Z,mt),_=_+Math.imul(ee,pt)|0,E=(E=E+Math.imul(ee,it)|0)+Math.imul(ne,pt)|0,C=C+Math.imul(ne,it)|0,_=_+Math.imul(z,wt)|0,E=(E=E+Math.imul(z,ft)|0)+Math.imul(J,wt)|0,C=C+Math.imul(J,ft)|0;var Pr=(G+(_=_+Math.imul(K,gt)|0)|0)+((8191&(E=(E=E+Math.imul(K,Bt)|0)+Math.imul(D,gt)|0))<<13)|0;G=((C=C+Math.imul(D,Bt)|0)+(E>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,_=Math.imul(fe,Xe),E=(E=Math.imul(fe,mt))+Math.imul(ve,Xe)|0,C=Math.imul(ve,mt),_=_+Math.imul(de,pt)|0,E=(E=E+Math.imul(de,it)|0)+Math.imul(Z,pt)|0,C=C+Math.imul(Z,it)|0,_=_+Math.imul(ee,wt)|0,E=(E=E+Math.imul(ee,ft)|0)+Math.imul(ne,wt)|0,C=C+Math.imul(ne,ft)|0,_=_+Math.imul(z,gt)|0,E=(E=E+Math.imul(z,Bt)|0)+Math.imul(J,gt)|0,C=C+Math.imul(J,Bt)|0;var dr=(G+(_=_+Math.imul(K,Ht)|0)|0)+((8191&(E=(E=E+Math.imul(K,Mt)|0)+Math.imul(D,Ht)|0))<<13)|0;G=((C=C+Math.imul(D,Mt)|0)+(E>>>13)|0)+(dr>>>26)|0,dr&=67108863,_=Math.imul(Se,Xe),E=(E=Math.imul(Se,mt))+Math.imul(xe,Xe)|0,C=Math.imul(xe,mt),_=_+Math.imul(fe,pt)|0,E=(E=E+Math.imul(fe,it)|0)+Math.imul(ve,pt)|0,C=C+Math.imul(ve,it)|0,_=_+Math.imul(de,wt)|0,E=(E=E+Math.imul(de,ft)|0)+Math.imul(Z,wt)|0,C=C+Math.imul(Z,ft)|0,_=_+Math.imul(ee,gt)|0,E=(E=E+Math.imul(ee,Bt)|0)+Math.imul(ne,gt)|0,C=C+Math.imul(ne,Bt)|0,_=_+Math.imul(z,Ht)|0,E=(E=E+Math.imul(z,Mt)|0)+Math.imul(J,Ht)|0,C=C+Math.imul(J,Mt)|0;var Ar=(G+(_=_+Math.imul(K,zt)|0)|0)+((8191&(E=(E=E+Math.imul(K,Ee)|0)+Math.imul(D,zt)|0))<<13)|0;G=((C=C+Math.imul(D,Ee)|0)+(E>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,_=Math.imul(Re,Xe),E=(E=Math.imul(Re,mt))+Math.imul(je,Xe)|0,C=Math.imul(je,mt),_=_+Math.imul(Se,pt)|0,E=(E=E+Math.imul(Se,it)|0)+Math.imul(xe,pt)|0,C=C+Math.imul(xe,it)|0,_=_+Math.imul(fe,wt)|0,E=(E=E+Math.imul(fe,ft)|0)+Math.imul(ve,wt)|0,C=C+Math.imul(ve,ft)|0,_=_+Math.imul(de,gt)|0,E=(E=E+Math.imul(de,Bt)|0)+Math.imul(Z,gt)|0,C=C+Math.imul(Z,Bt)|0,_=_+Math.imul(ee,Ht)|0,E=(E=E+Math.imul(ee,Mt)|0)+Math.imul(ne,Ht)|0,C=C+Math.imul(ne,Mt)|0,_=_+Math.imul(z,zt)|0,E=(E=E+Math.imul(z,Ee)|0)+Math.imul(J,zt)|0,C=C+Math.imul(J,Ee)|0;var be=(G+(_=_+Math.imul(K,Fe)|0)|0)+((8191&(E=(E=E+Math.imul(K,ze)|0)+Math.imul(D,Fe)|0))<<13)|0;G=((C=C+Math.imul(D,ze)|0)+(E>>>13)|0)+(be>>>26)|0,be&=67108863,_=Math.imul(Ve,Xe),E=(E=Math.imul(Ve,mt))+Math.imul(Qe,Xe)|0,C=Math.imul(Qe,mt),_=_+Math.imul(Re,pt)|0,E=(E=E+Math.imul(Re,it)|0)+Math.imul(je,pt)|0,C=C+Math.imul(je,it)|0,_=_+Math.imul(Se,wt)|0,E=(E=E+Math.imul(Se,ft)|0)+Math.imul(xe,wt)|0,C=C+Math.imul(xe,ft)|0,_=_+Math.imul(fe,gt)|0,E=(E=E+Math.imul(fe,Bt)|0)+Math.imul(ve,gt)|0,C=C+Math.imul(ve,Bt)|0,_=_+Math.imul(de,Ht)|0,E=(E=E+Math.imul(de,Mt)|0)+Math.imul(Z,Ht)|0,C=C+Math.imul(Z,Mt)|0,_=_+Math.imul(ee,zt)|0,E=(E=E+Math.imul(ee,Ee)|0)+Math.imul(ne,zt)|0,C=C+Math.imul(ne,Ee)|0,_=_+Math.imul(z,Fe)|0,E=(E=E+Math.imul(z,ze)|0)+Math.imul(J,Fe)|0,C=C+Math.imul(J,ze)|0;var Ne=(G+(_=_+Math.imul(K,ot)|0)|0)+((8191&(E=(E=E+Math.imul(K,bt)|0)+Math.imul(D,ot)|0))<<13)|0;G=((C=C+Math.imul(D,bt)|0)+(E>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,_=Math.imul(Ge,Xe),E=(E=Math.imul(Ge,mt))+Math.imul($e,Xe)|0,C=Math.imul($e,mt),_=_+Math.imul(Ve,pt)|0,E=(E=E+Math.imul(Ve,it)|0)+Math.imul(Qe,pt)|0,C=C+Math.imul(Qe,it)|0,_=_+Math.imul(Re,wt)|0,E=(E=E+Math.imul(Re,ft)|0)+Math.imul(je,wt)|0,C=C+Math.imul(je,ft)|0,_=_+Math.imul(Se,gt)|0,E=(E=E+Math.imul(Se,Bt)|0)+Math.imul(xe,gt)|0,C=C+Math.imul(xe,Bt)|0,_=_+Math.imul(fe,Ht)|0,E=(E=E+Math.imul(fe,Mt)|0)+Math.imul(ve,Ht)|0,C=C+Math.imul(ve,Mt)|0,_=_+Math.imul(de,zt)|0,E=(E=E+Math.imul(de,Ee)|0)+Math.imul(Z,zt)|0,C=C+Math.imul(Z,Ee)|0,_=_+Math.imul(ee,Fe)|0,E=(E=E+Math.imul(ee,ze)|0)+Math.imul(ne,Fe)|0,C=C+Math.imul(ne,ze)|0,_=_+Math.imul(z,ot)|0,E=(E=E+Math.imul(z,bt)|0)+Math.imul(J,ot)|0,C=C+Math.imul(J,bt)|0;var Je=(G+(_=_+Math.imul(K,xt)|0)|0)+((8191&(E=(E=E+Math.imul(K,yt)|0)+Math.imul(D,xt)|0))<<13)|0;G=((C=C+Math.imul(D,yt)|0)+(E>>>13)|0)+(Je>>>26)|0,Je&=67108863,_=Math.imul(et,Xe),E=(E=Math.imul(et,mt))+Math.imul(Be,Xe)|0,C=Math.imul(Be,mt),_=_+Math.imul(Ge,pt)|0,E=(E=E+Math.imul(Ge,it)|0)+Math.imul($e,pt)|0,C=C+Math.imul($e,it)|0,_=_+Math.imul(Ve,wt)|0,E=(E=E+Math.imul(Ve,ft)|0)+Math.imul(Qe,wt)|0,C=C+Math.imul(Qe,ft)|0,_=_+Math.imul(Re,gt)|0,E=(E=E+Math.imul(Re,Bt)|0)+Math.imul(je,gt)|0,C=C+Math.imul(je,Bt)|0,_=_+Math.imul(Se,Ht)|0,E=(E=E+Math.imul(Se,Mt)|0)+Math.imul(xe,Ht)|0,C=C+Math.imul(xe,Mt)|0,_=_+Math.imul(fe,zt)|0,E=(E=E+Math.imul(fe,Ee)|0)+Math.imul(ve,zt)|0,C=C+Math.imul(ve,Ee)|0,_=_+Math.imul(de,Fe)|0,E=(E=E+Math.imul(de,ze)|0)+Math.imul(Z,Fe)|0,C=C+Math.imul(Z,ze)|0,_=_+Math.imul(ee,ot)|0,E=(E=E+Math.imul(ee,bt)|0)+Math.imul(ne,ot)|0,C=C+Math.imul(ne,bt)|0,_=_+Math.imul(z,xt)|0,E=(E=E+Math.imul(z,yt)|0)+Math.imul(J,xt)|0,C=C+Math.imul(J,yt)|0;var Ue=(G+(_=_+Math.imul(K,Zt)|0)|0)+((8191&(E=(E=E+Math.imul(K,Gt)|0)+Math.imul(D,Zt)|0))<<13)|0;G=((C=C+Math.imul(D,Gt)|0)+(E>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,_=Math.imul(et,pt),E=(E=Math.imul(et,it))+Math.imul(Be,pt)|0,C=Math.imul(Be,it),_=_+Math.imul(Ge,wt)|0,E=(E=E+Math.imul(Ge,ft)|0)+Math.imul($e,wt)|0,C=C+Math.imul($e,ft)|0,_=_+Math.imul(Ve,gt)|0,E=(E=E+Math.imul(Ve,Bt)|0)+Math.imul(Qe,gt)|0,C=C+Math.imul(Qe,Bt)|0,_=_+Math.imul(Re,Ht)|0,E=(E=E+Math.imul(Re,Mt)|0)+Math.imul(je,Ht)|0,C=C+Math.imul(je,Mt)|0,_=_+Math.imul(Se,zt)|0,E=(E=E+Math.imul(Se,Ee)|0)+Math.imul(xe,zt)|0,C=C+Math.imul(xe,Ee)|0,_=_+Math.imul(fe,Fe)|0,E=(E=E+Math.imul(fe,ze)|0)+Math.imul(ve,Fe)|0,C=C+Math.imul(ve,ze)|0,_=_+Math.imul(de,ot)|0,E=(E=E+Math.imul(de,bt)|0)+Math.imul(Z,ot)|0,C=C+Math.imul(Z,bt)|0,_=_+Math.imul(ee,xt)|0,E=(E=E+Math.imul(ee,yt)|0)+Math.imul(ne,xt)|0,C=C+Math.imul(ne,yt)|0;var rt=(G+(_=_+Math.imul(z,Zt)|0)|0)+((8191&(E=(E=E+Math.imul(z,Gt)|0)+Math.imul(J,Zt)|0))<<13)|0;G=((C=C+Math.imul(J,Gt)|0)+(E>>>13)|0)+(rt>>>26)|0,rt&=67108863,_=Math.imul(et,wt),E=(E=Math.imul(et,ft))+Math.imul(Be,wt)|0,C=Math.imul(Be,ft),_=_+Math.imul(Ge,gt)|0,E=(E=E+Math.imul(Ge,Bt)|0)+Math.imul($e,gt)|0,C=C+Math.imul($e,Bt)|0,_=_+Math.imul(Ve,Ht)|0,E=(E=E+Math.imul(Ve,Mt)|0)+Math.imul(Qe,Ht)|0,C=C+Math.imul(Qe,Mt)|0,_=_+Math.imul(Re,zt)|0,E=(E=E+Math.imul(Re,Ee)|0)+Math.imul(je,zt)|0,C=C+Math.imul(je,Ee)|0,_=_+Math.imul(Se,Fe)|0,E=(E=E+Math.imul(Se,ze)|0)+Math.imul(xe,Fe)|0,C=C+Math.imul(xe,ze)|0,_=_+Math.imul(fe,ot)|0,E=(E=E+Math.imul(fe,bt)|0)+Math.imul(ve,ot)|0,C=C+Math.imul(ve,bt)|0,_=_+Math.imul(de,xt)|0,E=(E=E+Math.imul(de,yt)|0)+Math.imul(Z,xt)|0,C=C+Math.imul(Z,yt)|0;var Et=(G+(_=_+Math.imul(ee,Zt)|0)|0)+((8191&(E=(E=E+Math.imul(ee,Gt)|0)+Math.imul(ne,Zt)|0))<<13)|0;G=((C=C+Math.imul(ne,Gt)|0)+(E>>>13)|0)+(Et>>>26)|0,Et&=67108863,_=Math.imul(et,gt),E=(E=Math.imul(et,Bt))+Math.imul(Be,gt)|0,C=Math.imul(Be,Bt),_=_+Math.imul(Ge,Ht)|0,E=(E=E+Math.imul(Ge,Mt)|0)+Math.imul($e,Ht)|0,C=C+Math.imul($e,Mt)|0,_=_+Math.imul(Ve,zt)|0,E=(E=E+Math.imul(Ve,Ee)|0)+Math.imul(Qe,zt)|0,C=C+Math.imul(Qe,Ee)|0,_=_+Math.imul(Re,Fe)|0,E=(E=E+Math.imul(Re,ze)|0)+Math.imul(je,Fe)|0,C=C+Math.imul(je,ze)|0,_=_+Math.imul(Se,ot)|0,E=(E=E+Math.imul(Se,bt)|0)+Math.imul(xe,ot)|0,C=C+Math.imul(xe,bt)|0,_=_+Math.imul(fe,xt)|0,E=(E=E+Math.imul(fe,yt)|0)+Math.imul(ve,xt)|0,C=C+Math.imul(ve,yt)|0;var St=(G+(_=_+Math.imul(de,Zt)|0)|0)+((8191&(E=(E=E+Math.imul(de,Gt)|0)+Math.imul(Z,Zt)|0))<<13)|0;G=((C=C+Math.imul(Z,Gt)|0)+(E>>>13)|0)+(St>>>26)|0,St&=67108863,_=Math.imul(et,Ht),E=(E=Math.imul(et,Mt))+Math.imul(Be,Ht)|0,C=Math.imul(Be,Mt),_=_+Math.imul(Ge,zt)|0,E=(E=E+Math.imul(Ge,Ee)|0)+Math.imul($e,zt)|0,C=C+Math.imul($e,Ee)|0,_=_+Math.imul(Ve,Fe)|0,E=(E=E+Math.imul(Ve,ze)|0)+Math.imul(Qe,Fe)|0,C=C+Math.imul(Qe,ze)|0,_=_+Math.imul(Re,ot)|0,E=(E=E+Math.imul(Re,bt)|0)+Math.imul(je,ot)|0,C=C+Math.imul(je,bt)|0,_=_+Math.imul(Se,xt)|0,E=(E=E+Math.imul(Se,yt)|0)+Math.imul(xe,xt)|0,C=C+Math.imul(xe,yt)|0;var on=(G+(_=_+Math.imul(fe,Zt)|0)|0)+((8191&(E=(E=E+Math.imul(fe,Gt)|0)+Math.imul(ve,Zt)|0))<<13)|0;G=((C=C+Math.imul(ve,Gt)|0)+(E>>>13)|0)+(on>>>26)|0,on&=67108863,_=Math.imul(et,zt),E=(E=Math.imul(et,Ee))+Math.imul(Be,zt)|0,C=Math.imul(Be,Ee),_=_+Math.imul(Ge,Fe)|0,E=(E=E+Math.imul(Ge,ze)|0)+Math.imul($e,Fe)|0,C=C+Math.imul($e,ze)|0,_=_+Math.imul(Ve,ot)|0,E=(E=E+Math.imul(Ve,bt)|0)+Math.imul(Qe,ot)|0,C=C+Math.imul(Qe,bt)|0,_=_+Math.imul(Re,xt)|0,E=(E=E+Math.imul(Re,yt)|0)+Math.imul(je,xt)|0,C=C+Math.imul(je,yt)|0;var Kt=(G+(_=_+Math.imul(Se,Zt)|0)|0)+((8191&(E=(E=E+Math.imul(Se,Gt)|0)+Math.imul(xe,Zt)|0))<<13)|0;G=((C=C+Math.imul(xe,Gt)|0)+(E>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,_=Math.imul(et,Fe),E=(E=Math.imul(et,ze))+Math.imul(Be,Fe)|0,C=Math.imul(Be,ze),_=_+Math.imul(Ge,ot)|0,E=(E=E+Math.imul(Ge,bt)|0)+Math.imul($e,ot)|0,C=C+Math.imul($e,bt)|0,_=_+Math.imul(Ve,xt)|0,E=(E=E+Math.imul(Ve,yt)|0)+Math.imul(Qe,xt)|0,C=C+Math.imul(Qe,yt)|0;var qt=(G+(_=_+Math.imul(Re,Zt)|0)|0)+((8191&(E=(E=E+Math.imul(Re,Gt)|0)+Math.imul(je,Zt)|0))<<13)|0;G=((C=C+Math.imul(je,Gt)|0)+(E>>>13)|0)+(qt>>>26)|0,qt&=67108863,_=Math.imul(et,ot),E=(E=Math.imul(et,bt))+Math.imul(Be,ot)|0,C=Math.imul(Be,bt),_=_+Math.imul(Ge,xt)|0,E=(E=E+Math.imul(Ge,yt)|0)+Math.imul($e,xt)|0,C=C+Math.imul($e,yt)|0;var Jt=(G+(_=_+Math.imul(Ve,Zt)|0)|0)+((8191&(E=(E=E+Math.imul(Ve,Gt)|0)+Math.imul(Qe,Zt)|0))<<13)|0;G=((C=C+Math.imul(Qe,Gt)|0)+(E>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,_=Math.imul(et,xt),E=(E=Math.imul(et,yt))+Math.imul(Be,xt)|0,C=Math.imul(Be,yt);var Hn=(G+(_=_+Math.imul(Ge,Zt)|0)|0)+((8191&(E=(E=E+Math.imul(Ge,Gt)|0)+Math.imul($e,Zt)|0))<<13)|0;G=((C=C+Math.imul($e,Gt)|0)+(E>>>13)|0)+(Hn>>>26)|0,Hn&=67108863;var sr=(G+(_=Math.imul(et,Zt))|0)+((8191&(E=(E=Math.imul(et,Gt))+Math.imul(Be,Zt)|0))<<13)|0;return G=((C=Math.imul(Be,Gt))+(E>>>13)|0)+(sr>>>26)|0,sr&=67108863,B[0]=Mn,B[1]=jn,B[2]=ur,B[3]=Pr,B[4]=dr,B[5]=Ar,B[6]=be,B[7]=Ne,B[8]=Je,B[9]=Ue,B[10]=rt,B[11]=Et,B[12]=St,B[13]=on,B[14]=Kt,B[15]=qt,B[16]=Jt,B[17]=Hn,B[18]=sr,G!==0&&(B[19]=G,w.length++),w};function I(y,b,w){w.negative=b.negative^y.negative,w.length=y.length+b.length;for(var _=0,E=0,C=0;C<w.length-1;C++){var L=E;E=0;for(var W=67108863&_,B=Math.min(C,b.length-1),G=Math.max(0,C-y.length+1);G<=B;G++){var M=C-G,K=(0|y.words[M])*(0|b.words[G]),D=67108863&K;W=67108863&(D=D+W|0),E+=(L=(L=L+(K/67108864|0)|0)+(D>>>26)|0)>>>26,L&=67108863}w.words[C]=W,_=L,L=E}return _!==0?w.words[C]=_:w.length--,w._strip()}function R(y,b,w){return I(y,b,w)}function $(y,b){this.x=y,this.y=b}Math.imul||(x=v),a.prototype.mulTo=function(y,b){var w=this.length+y.length;return this.length===10&&y.length===10?x(this,y,b):w<63?v(this,y,b):w<1024?I(this,y,b):R(this,y,b)},$.prototype.makeRBT=function(y){for(var b=new Array(y),w=a.prototype._countBits(y)-1,_=0;_<y;_++)b[_]=this.revBin(_,w,y);return b},$.prototype.revBin=function(y,b,w){if(y===0||y===w-1)return y;for(var _=0,E=0;E<b;E++)_|=(1&y)<<b-E-1,y>>=1;return _},$.prototype.permute=function(y,b,w,_,E,C){for(var L=0;L<C;L++)_[L]=b[y[L]],E[L]=w[y[L]]},$.prototype.transform=function(y,b,w,_,E,C){this.permute(C,y,b,w,_,E);for(var L=1;L<E;L<<=1)for(var W=L<<1,B=Math.cos(2*Math.PI/W),G=Math.sin(2*Math.PI/W),M=0;M<E;M+=W)for(var K=B,D=G,k=0;k<L;k++){var z=w[M+k],J=_[M+k],Q=w[M+k+L],ee=_[M+k+L],ne=K*Q-D*ee;ee=K*ee+D*Q,Q=ne,w[M+k]=z+Q,_[M+k]=J+ee,w[M+k+L]=z-Q,_[M+k+L]=J-ee,k!==W&&(ne=B*K-G*D,D=B*D+G*K,K=ne)}},$.prototype.guessLen13b=function(y,b){var w=1|Math.max(b,y),_=1&w,E=0;for(w=w/2|0;w;w>>>=1)E++;return 1<<E+1+_},$.prototype.conjugate=function(y,b,w){if(!(w<=1))for(var _=0;_<w/2;_++){var E=y[_];y[_]=y[w-_-1],y[w-_-1]=E,E=b[_],b[_]=-b[w-_-1],b[w-_-1]=-E}},$.prototype.normalize13b=function(y,b){for(var w=0,_=0;_<b/2;_++){var E=8192*Math.round(y[2*_+1]/b)+Math.round(y[2*_]/b)+w;y[_]=67108863&E,w=E<67108864?0:E/67108864|0}return y},$.prototype.convert13b=function(y,b,w,_){for(var E=0,C=0;C<b;C++)E+=0|y[C],w[2*C]=8191&E,E>>>=13,w[2*C+1]=8191&E,E>>>=13;for(C=2*b;C<_;++C)w[C]=0;s(E===0),s((-8192&E)==0)},$.prototype.stub=function(y){for(var b=new Array(y),w=0;w<y;w++)b[w]=0;return b},$.prototype.mulp=function(y,b,w){var _=2*this.guessLen13b(y.length,b.length),E=this.makeRBT(_),C=this.stub(_),L=new Array(_),W=new Array(_),B=new Array(_),G=new Array(_),M=new Array(_),K=new Array(_),D=w.words;D.length=_,this.convert13b(y.words,y.length,L,_),this.convert13b(b.words,b.length,G,_),this.transform(L,C,W,B,_,E),this.transform(G,C,M,K,_,E);for(var k=0;k<_;k++){var z=W[k]*M[k]-B[k]*K[k];B[k]=W[k]*K[k]+B[k]*M[k],W[k]=z}return this.conjugate(W,B,_),this.transform(W,B,D,C,_,E),this.conjugate(D,C,_),this.normalize13b(D,_),w.negative=y.negative^b.negative,w.length=y.length+b.length,w._strip()},a.prototype.mul=function(y){var b=new a(null);return b.words=new Array(this.length+y.length),this.mulTo(y,b)},a.prototype.mulf=function(y){var b=new a(null);return b.words=new Array(this.length+y.length),R(this,y,b)},a.prototype.imul=function(y){return this.clone().mulTo(y,this)},a.prototype.imuln=function(y){var b=y<0;b&&(y=-y),s(typeof y=="number"),s(y<67108864);for(var w=0,_=0;_<this.length;_++){var E=(0|this.words[_])*y,C=(67108863&E)+(67108863&w);w>>=26,w+=E/67108864|0,w+=C>>>26,this.words[_]=67108863&C}return w!==0&&(this.words[_]=w,this.length++),b?this.ineg():this},a.prototype.muln=function(y){return this.clone().imuln(y)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(y){var b=function(C){for(var L=new Array(C.bitLength()),W=0;W<L.length;W++){var B=W/26|0,G=W%26;L[W]=C.words[B]>>>G&1}return L}(y);if(b.length===0)return new a(1);for(var w=this,_=0;_<b.length&&b[_]===0;_++,w=w.sqr());if(++_<b.length)for(var E=w.sqr();_<b.length;_++,E=E.sqr())b[_]!==0&&(w=w.mul(E));return w},a.prototype.iushln=function(y){s(typeof y=="number"&&y>=0);var b,w=y%26,_=(y-w)/26,E=67108863>>>26-w<<26-w;if(w!==0){var C=0;for(b=0;b<this.length;b++){var L=this.words[b]&E,W=(0|this.words[b])-L<<w;this.words[b]=W|C,C=L>>>26-w}C&&(this.words[b]=C,this.length++)}if(_!==0){for(b=this.length-1;b>=0;b--)this.words[b+_]=this.words[b];for(b=0;b<_;b++)this.words[b]=0;this.length+=_}return this._strip()},a.prototype.ishln=function(y){return s(this.negative===0),this.iushln(y)},a.prototype.iushrn=function(y,b,w){var _;s(typeof y=="number"&&y>=0),_=b?(b-b%26)/26:0;var E=y%26,C=Math.min((y-E)/26,this.length),L=67108863^67108863>>>E<<E,W=w;if(_-=C,_=Math.max(0,_),W){for(var B=0;B<C;B++)W.words[B]=this.words[B];W.length=C}if(C!==0)if(this.length>C)for(this.length-=C,B=0;B<this.length;B++)this.words[B]=this.words[B+C];else this.words[0]=0,this.length=1;var G=0;for(B=this.length-1;B>=0&&(G!==0||B>=_);B--){var M=0|this.words[B];this.words[B]=G<<26-E|M>>>E,G=M&L}return W&&G!==0&&(W.words[W.length++]=G),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(y,b,w){return s(this.negative===0),this.iushrn(y,b,w)},a.prototype.shln=function(y){return this.clone().ishln(y)},a.prototype.ushln=function(y){return this.clone().iushln(y)},a.prototype.shrn=function(y){return this.clone().ishrn(y)},a.prototype.ushrn=function(y){return this.clone().iushrn(y)},a.prototype.testn=function(y){s(typeof y=="number"&&y>=0);var b=y%26,w=(y-b)/26,_=1<<b;return!(this.length<=w)&&!!(this.words[w]&_)},a.prototype.imaskn=function(y){s(typeof y=="number"&&y>=0);var b=y%26,w=(y-b)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(b!==0&&w++,this.length=Math.min(w,this.length),b!==0){var _=67108863^67108863>>>b<<b;this.words[this.length-1]&=_}return this._strip()},a.prototype.maskn=function(y){return this.clone().imaskn(y)},a.prototype.iaddn=function(y){return s(typeof y=="number"),s(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(0|this.words[0])<=y?(this.words[0]=y-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},a.prototype._iaddn=function(y){this.words[0]+=y;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},a.prototype.isubn=function(y){if(s(typeof y=="number"),s(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},a.prototype.addn=function(y){return this.clone().iaddn(y)},a.prototype.subn=function(y){return this.clone().isubn(y)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(y,b,w){var _,E,C=y.length+w;this._expand(C);var L=0;for(_=0;_<y.length;_++){E=(0|this.words[_+w])+L;var W=(0|y.words[_])*b;L=((E-=67108863&W)>>26)-(W/67108864|0),this.words[_+w]=67108863&E}for(;_<this.length-w;_++)L=(E=(0|this.words[_+w])+L)>>26,this.words[_+w]=67108863&E;if(L===0)return this._strip();for(s(L===-1),L=0,_=0;_<this.length;_++)L=(E=-(0|this.words[_])+L)>>26,this.words[_]=67108863&E;return this.negative=1,this._strip()},a.prototype._wordDiv=function(y,b){var w=(this.length,y.length),_=this.clone(),E=y,C=0|E.words[E.length-1];(w=26-this._countBits(C))!==0&&(E=E.ushln(w),_.iushln(w),C=0|E.words[E.length-1]);var L,W=_.length-E.length;if(b!=="mod"){(L=new a(null)).length=W+1,L.words=new Array(L.length);for(var B=0;B<L.length;B++)L.words[B]=0}var G=_.clone()._ishlnsubmul(E,1,W);G.negative===0&&(_=G,L&&(L.words[W]=1));for(var M=W-1;M>=0;M--){var K=67108864*(0|_.words[E.length+M])+(0|_.words[E.length+M-1]);for(K=Math.min(K/C|0,67108863),_._ishlnsubmul(E,K,M);_.negative!==0;)K--,_.negative=0,_._ishlnsubmul(E,1,M),_.isZero()||(_.negative^=1);L&&(L.words[M]=K)}return L&&L._strip(),_._strip(),b!=="div"&&w!==0&&_.iushrn(w),{div:L||null,mod:_}},a.prototype.divmod=function(y,b,w){return s(!y.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&y.negative===0?(C=this.neg().divmod(y,b),b!=="mod"&&(_=C.div.neg()),b!=="div"&&(E=C.mod.neg(),w&&E.negative!==0&&E.iadd(y)),{div:_,mod:E}):this.negative===0&&y.negative!==0?(C=this.divmod(y.neg(),b),b!=="mod"&&(_=C.div.neg()),{div:_,mod:C.mod}):(this.negative&y.negative)!=0?(C=this.neg().divmod(y.neg(),b),b!=="div"&&(E=C.mod.neg(),w&&E.negative!==0&&E.isub(y)),{div:C.div,mod:E}):y.length>this.length||this.cmp(y)<0?{div:new a(0),mod:this}:y.length===1?b==="div"?{div:this.divn(y.words[0]),mod:null}:b==="mod"?{div:null,mod:new a(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new a(this.modrn(y.words[0]))}:this._wordDiv(y,b);var _,E,C},a.prototype.div=function(y){return this.divmod(y,"div",!1).div},a.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},a.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},a.prototype.divRound=function(y){var b=this.divmod(y);if(b.mod.isZero())return b.div;var w=b.div.negative!==0?b.mod.isub(y):b.mod,_=y.ushrn(1),E=y.andln(1),C=w.cmp(_);return C<0||E===1&&C===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},a.prototype.modrn=function(y){var b=y<0;b&&(y=-y),s(y<=67108863);for(var w=(1<<26)%y,_=0,E=this.length-1;E>=0;E--)_=(w*_+(0|this.words[E]))%y;return b?-_:_},a.prototype.modn=function(y){return this.modrn(y)},a.prototype.idivn=function(y){var b=y<0;b&&(y=-y),s(y<=67108863);for(var w=0,_=this.length-1;_>=0;_--){var E=(0|this.words[_])+67108864*w;this.words[_]=E/y|0,w=E%y}return this._strip(),b?this.ineg():this},a.prototype.divn=function(y){return this.clone().idivn(y)},a.prototype.egcd=function(y){s(y.negative===0),s(!y.isZero());var b=this,w=y.clone();b=b.negative!==0?b.umod(y):b.clone();for(var _=new a(1),E=new a(0),C=new a(0),L=new a(1),W=0;b.isEven()&&w.isEven();)b.iushrn(1),w.iushrn(1),++W;for(var B=w.clone(),G=b.clone();!b.isZero();){for(var M=0,K=1;(b.words[0]&K)==0&&M<26;++M,K<<=1);if(M>0)for(b.iushrn(M);M-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(B),E.isub(G)),_.iushrn(1),E.iushrn(1);for(var D=0,k=1;(w.words[0]&k)==0&&D<26;++D,k<<=1);if(D>0)for(w.iushrn(D);D-- >0;)(C.isOdd()||L.isOdd())&&(C.iadd(B),L.isub(G)),C.iushrn(1),L.iushrn(1);b.cmp(w)>=0?(b.isub(w),_.isub(C),E.isub(L)):(w.isub(b),C.isub(_),L.isub(E))}return{a:C,b:L,gcd:w.iushln(W)}},a.prototype._invmp=function(y){s(y.negative===0),s(!y.isZero());var b=this,w=y.clone();b=b.negative!==0?b.umod(y):b.clone();for(var _,E=new a(1),C=new a(0),L=w.clone();b.cmpn(1)>0&&w.cmpn(1)>0;){for(var W=0,B=1;(b.words[0]&B)==0&&W<26;++W,B<<=1);if(W>0)for(b.iushrn(W);W-- >0;)E.isOdd()&&E.iadd(L),E.iushrn(1);for(var G=0,M=1;(w.words[0]&M)==0&&G<26;++G,M<<=1);if(G>0)for(w.iushrn(G);G-- >0;)C.isOdd()&&C.iadd(L),C.iushrn(1);b.cmp(w)>=0?(b.isub(w),E.isub(C)):(w.isub(b),C.isub(E))}return(_=b.cmpn(1)===0?E:C).cmpn(0)<0&&_.iadd(y),_},a.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var b=this.clone(),w=y.clone();b.negative=0,w.negative=0;for(var _=0;b.isEven()&&w.isEven();_++)b.iushrn(1),w.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;w.isEven();)w.iushrn(1);var E=b.cmp(w);if(E<0){var C=b;b=w,w=C}else if(E===0||w.cmpn(1)===0)break;b.isub(w)}return w.iushln(_)},a.prototype.invm=function(y){return this.egcd(y).a.umod(y)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(y){return this.words[0]&y},a.prototype.bincn=function(y){s(typeof y=="number");var b=y%26,w=(y-b)/26,_=1<<b;if(this.length<=w)return this._expand(w+1),this.words[w]|=_,this;for(var E=_,C=w;E!==0&&C<this.length;C++){var L=0|this.words[C];E=(L+=E)>>>26,L&=67108863,this.words[C]=L}return E!==0&&(this.words[C]=E,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(y){var b,w=y<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this._strip(),this.length>1)b=1;else{w&&(y=-y),s(y<=67108863,"Number is too big");var _=0|this.words[0];b=_===y?0:_<y?-1:1}return this.negative!==0?0|-b:b},a.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var b=this.ucmp(y);return this.negative!==0?0|-b:b},a.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var b=0,w=this.length-1;w>=0;w--){var _=0|this.words[w],E=0|y.words[w];if(_!==E){_<E?b=-1:_>E&&(b=1);break}}return b},a.prototype.gtn=function(y){return this.cmpn(y)===1},a.prototype.gt=function(y){return this.cmp(y)===1},a.prototype.gten=function(y){return this.cmpn(y)>=0},a.prototype.gte=function(y){return this.cmp(y)>=0},a.prototype.ltn=function(y){return this.cmpn(y)===-1},a.prototype.lt=function(y){return this.cmp(y)===-1},a.prototype.lten=function(y){return this.cmpn(y)<=0},a.prototype.lte=function(y){return this.cmp(y)<=0},a.prototype.eqn=function(y){return this.cmpn(y)===0},a.prototype.eq=function(y){return this.cmp(y)===0},a.red=function(y){return new T(y)},a.prototype.toRed=function(y){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(y){return this.red=y,this},a.prototype.forceRed=function(y){return s(!this.red,"Already a number in reduction context"),this._forceRed(y)},a.prototype.redAdd=function(y){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},a.prototype.redIAdd=function(y){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},a.prototype.redSub=function(y){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},a.prototype.redISub=function(y){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},a.prototype.redShl=function(y){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},a.prototype.redMul=function(y){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},a.prototype.redIMul=function(y){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(y){return s(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var F={k256:null,p224:null,p192:null,p25519:null};function V(y,b){this.name=y,this.p=new a(b,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function U(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function q(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function j(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(y){if(typeof y=="string"){var b=a._prime(y);this.m=b.p,this.prime=b}else s(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function O(y){T.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V.prototype._tmp=function(){var y=new a(null);return y.words=new Array(Math.ceil(this.n/13)),y},V.prototype.ireduce=function(y){var b,w=y;do this.split(w,this.tmp),b=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(b>this.n);var _=b<this.n?-1:w.ucmp(this.p);return _===0?(w.words[0]=0,w.length=1):_>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},V.prototype.split=function(y,b){y.iushrn(this.n,0,b)},V.prototype.imulK=function(y){return y.imul(this.k)},o(U,V),U.prototype.split=function(y,b){for(var w=Math.min(y.length,9),_=0;_<w;_++)b.words[_]=y.words[_];if(b.length=w,y.length<=9)return y.words[0]=0,void(y.length=1);var E=y.words[9];for(b.words[b.length++]=4194303&E,_=10;_<y.length;_++){var C=0|y.words[_];y.words[_-10]=(4194303&C)<<4|E>>>22,E=C}E>>>=22,y.words[_-10]=E,E===0&&y.length>10?y.length-=10:y.length-=9},U.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var b=0,w=0;w<y.length;w++){var _=0|y.words[w];b+=977*_,y.words[w]=67108863&b,b=64*_+(b/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y},o(q,V),o(j,V),o(S,V),S.prototype.imulK=function(y){for(var b=0,w=0;w<y.length;w++){var _=19*(0|y.words[w])+b,E=67108863&_;_>>>=26,y.words[w]=E,b=_}return b!==0&&(y.words[y.length++]=b),y},a._prime=function(y){if(F[y])return F[y];var b;if(y==="k256")b=new U;else if(y==="p224")b=new q;else if(y==="p192")b=new j;else{if(y!=="p25519")throw new Error("Unknown prime "+y);b=new S}return F[y]=b,b},T.prototype._verify1=function(y){s(y.negative===0,"red works only with positives"),s(y.red,"red works only with red numbers")},T.prototype._verify2=function(y,b){s((y.negative|b.negative)==0,"red works only with positives"),s(y.red&&y.red===b.red,"red works only with red numbers")},T.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(h(y,y.umod(this.m)._forceRed(this)),y)},T.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},T.prototype.add=function(y,b){this._verify2(y,b);var w=y.add(b);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},T.prototype.iadd=function(y,b){this._verify2(y,b);var w=y.iadd(b);return w.cmp(this.m)>=0&&w.isub(this.m),w},T.prototype.sub=function(y,b){this._verify2(y,b);var w=y.sub(b);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},T.prototype.isub=function(y,b){this._verify2(y,b);var w=y.isub(b);return w.cmpn(0)<0&&w.iadd(this.m),w},T.prototype.shl=function(y,b){return this._verify1(y),this.imod(y.ushln(b))},T.prototype.imul=function(y,b){return this._verify2(y,b),this.imod(y.imul(b))},T.prototype.mul=function(y,b){return this._verify2(y,b),this.imod(y.mul(b))},T.prototype.isqr=function(y){return this.imul(y,y.clone())},T.prototype.sqr=function(y){return this.mul(y,y)},T.prototype.sqrt=function(y){if(y.isZero())return y.clone();var b=this.m.andln(3);if(s(b%2==1),b===3){var w=this.m.add(new a(1)).iushrn(2);return this.pow(y,w)}for(var _=this.m.subn(1),E=0;!_.isZero()&&_.andln(1)===0;)E++,_.iushrn(1);s(!_.isZero());var C=new a(1).toRed(this),L=C.redNeg(),W=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new a(2*B*B).toRed(this);this.pow(B,W).cmp(L)!==0;)B.redIAdd(L);for(var G=this.pow(B,_),M=this.pow(y,_.addn(1).iushrn(1)),K=this.pow(y,_),D=E;K.cmp(C)!==0;){for(var k=K,z=0;k.cmp(C)!==0;z++)k=k.redSqr();s(z<D);var J=this.pow(G,new a(1).iushln(D-z-1));M=M.redMul(J),G=J.redSqr(),K=K.redMul(G),D=z}return M},T.prototype.invm=function(y){var b=y._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},T.prototype.pow=function(y,b){if(b.isZero())return new a(1).toRed(this);if(b.cmpn(1)===0)return y.clone();var w=new Array(16);w[0]=new a(1).toRed(this),w[1]=y;for(var _=2;_<w.length;_++)w[_]=this.mul(w[_-1],y);var E=w[0],C=0,L=0,W=b.bitLength()%26;for(W===0&&(W=26),_=b.length-1;_>=0;_--){for(var B=b.words[_],G=W-1;G>=0;G--){var M=B>>G&1;E!==w[0]&&(E=this.sqr(E)),M!==0||C!==0?(C<<=1,C|=M,(++L===4||_===0&&G===0)&&(E=this.mul(E,w[C]),L=0,C=0)):L=0}W=26}return E},T.prototype.convertTo=function(y){var b=y.umod(this.m);return b===y?b.clone():b},T.prototype.convertFrom=function(y){var b=y.clone();return b.red=null,b},a.mont=function(y){return new O(y)},o(O,T),O.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},O.prototype.convertFrom=function(y){var b=this.imod(y.mul(this.rinv));return b.red=null,b},O.prototype.imul=function(y,b){if(y.isZero()||b.isZero())return y.words[0]=0,y.length=1,y;var w=y.imul(b),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=w.isub(_).iushrn(this.shift),C=E;return E.cmp(this.m)>=0?C=E.isub(this.m):E.cmpn(0)<0&&(C=E.iadd(this.m)),C._forceRed(this)},O.prototype.mul=function(y,b){if(y.isZero()||b.isZero())return new a(0)._forceRed(this);var w=y.mul(b),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=w.isub(_).iushrn(this.shift),C=E;return E.cmp(this.m)>=0?C=E.isub(this.m):E.cmpn(0)<0&&(C=E.iadd(this.m)),C._forceRed(this)},O.prototype.invm=function(y){return this.imod(y._invmp(this.m).mul(this.r2))._forceRed(this)}})(t===void 0||t)},{buffer:188}],187:[function(e,t,n){"use strict";var r;function i(o){this.rand=o}if(t.exports=function(o){return r||(r=new i(null)),r.generate(o)},t.exports.Rand=i,i.prototype.generate=function(o){return this._rand(o)},i.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var a=new Uint8Array(o),l=0;l<a.length;l++)a[l]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(o){var a=new Uint8Array(o);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(o){var a=new Uint8Array(o);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=e("crypto");if(typeof s.randomBytes!="function")throw new Error("Not supported");i.prototype._rand=function(o){return s.randomBytes(o)}}catch{}},{crypto:188}],188:[function(e,t,n){},{}],189:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer;function i(u){r.isBuffer(u)||(u=r.from(u));for(var d=u.length/4|0,h=new Array(d),f=0;f<d;f++)h[f]=u.readUInt32BE(4*f);return h}function s(u){for(;0<u.length;u++)u[0]=0}function o(u,d,h,f,p){for(var m,g,v,x,I=h[0],R=h[1],$=h[2],F=h[3],V=u[0]^d[0],U=u[1]^d[1],q=u[2]^d[2],j=u[3]^d[3],S=4,T=1;T<p;T++)m=I[V>>>24]^R[U>>>16&255]^$[q>>>8&255]^F[255&j]^d[S++],g=I[U>>>24]^R[q>>>16&255]^$[j>>>8&255]^F[255&V]^d[S++],v=I[q>>>24]^R[j>>>16&255]^$[V>>>8&255]^F[255&U]^d[S++],x=I[j>>>24]^R[V>>>16&255]^$[U>>>8&255]^F[255&q]^d[S++],V=m,U=g,q=v,j=x;return m=(f[V>>>24]<<24|f[U>>>16&255]<<16|f[q>>>8&255]<<8|f[255&j])^d[S++],g=(f[U>>>24]<<24|f[q>>>16&255]<<16|f[j>>>8&255]<<8|f[255&V])^d[S++],v=(f[q>>>24]<<24|f[j>>>16&255]<<16|f[V>>>8&255]<<8|f[255&U])^d[S++],x=(f[j>>>24]<<24|f[V>>>16&255]<<16|f[U>>>8&255]<<8|f[255&q])^d[S++],[m>>>=0,g>>>=0,v>>>=0,x>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var u=new Array(256),d=0;d<256;d++)u[d]=d<128?d<<1:d<<1^283;for(var h=[],f=[],p=[[],[],[],[]],m=[[],[],[],[]],g=0,v=0,x=0;x<256;++x){var I=v^v<<1^v<<2^v<<3^v<<4;I=I>>>8^255&I^99,h[g]=I,f[I]=g;var R=u[g],$=u[R],F=u[$],V=257*u[I]^16843008*I;p[0][g]=V<<24|V>>>8,p[1][g]=V<<16|V>>>16,p[2][g]=V<<8|V>>>24,p[3][g]=V,V=16843009*F^65537*$^257*R^16843008*g,m[0][I]=V<<24|V>>>8,m[1][I]=V<<16|V>>>16,m[2][I]=V<<8|V>>>24,m[3][I]=V,g===0?g=v=1:(g=R^u[u[u[F^R]]],v^=u[u[v]])}return{SBOX:h,INV_SBOX:f,SUB_MIX:p,INV_SUB_MIX:m}}();function c(u){this._key=i(u),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var u=this._key,d=u.length,h=d+6,f=4*(h+1),p=[],m=0;m<d;m++)p[m]=u[m];for(m=d;m<f;m++){var g=p[m-1];m%d==0?(g=g<<8|g>>>24,g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[255&g],g^=a[m/d|0]<<24):d>6&&m%d==4&&(g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[255&g]),p[m]=p[m-d]^g}for(var v=[],x=0;x<f;x++){var I=f-x,R=p[I-(x%4?0:4)];v[x]=x<4||I<=4?R:l.INV_SUB_MIX[0][l.SBOX[R>>>24]]^l.INV_SUB_MIX[1][l.SBOX[R>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[R>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&R]]}this._nRounds=h,this._keySchedule=p,this._invKeySchedule=v},c.prototype.encryptBlockRaw=function(u){return o(u=i(u),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},c.prototype.encryptBlock=function(u){var d=this.encryptBlockRaw(u),h=r.allocUnsafe(16);return h.writeUInt32BE(d[0],0),h.writeUInt32BE(d[1],4),h.writeUInt32BE(d[2],8),h.writeUInt32BE(d[3],12),h},c.prototype.decryptBlock=function(u){var d=(u=i(u))[1];u[1]=u[3],u[3]=d;var h=o(u,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),f=r.allocUnsafe(16);return f.writeUInt32BE(h[0],0),f.writeUInt32BE(h[3],4),f.writeUInt32BE(h[2],8),f.writeUInt32BE(h[1],12),f},c.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},t.exports.AES=c},{"safe-buffer":494}],190:[function(e,t,n){"use strict";var r=e("./aes"),i=e("safe-buffer").Buffer,s=e("cipher-base"),o=e("inherits"),a=e("./ghash"),l=e("buffer-xor"),c=e("./incr32");function u(d,h,f,p){s.call(this);var m=i.alloc(4,0);this._cipher=new r.AES(h);var g=this._cipher.encryptBlock(m);this._ghash=new a(g),f=function(v,x,I){if(x.length===12)return v._finID=i.concat([x,i.from([0,0,0,1])]),i.concat([x,i.from([0,0,0,2])]);var R=new a(I),$=x.length,F=$%16;R.update(x),F&&(F=16-F,R.update(i.alloc(F,0))),R.update(i.alloc(8,0));var V=8*$,U=i.alloc(8);U.writeUIntBE(V,0,8),R.update(U),v._finID=R.state;var q=i.from(v._finID);return c(q),q}(this,f,g),this._prev=i.from(f),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}o(u,s),u.prototype._update=function(d){if(!this._called&&this._alen){var h=16-this._alen%16;h<16&&(h=i.alloc(h,0),this._ghash.update(h))}this._called=!0;var f=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(f),this._len+=d.length,f},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(h,f){var p=0;h.length!==f.length&&p++;for(var m=Math.min(h.length,f.length),g=0;g<m;++g)p+=h[g]^f[g];return p}(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},u.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},t.exports=u},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,t,n){"use strict";var r=e("./encrypter"),i=e("./decrypter"),s=e("./modes/list.json");n.createCipher=n.Cipher=r.createCipher,n.createCipheriv=n.Cipheriv=r.createCipheriv,n.createDecipher=n.Decipher=i.createDecipher,n.createDecipheriv=n.Decipheriv=i.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(s)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,t,n){"use strict";var r=e("./authCipher"),i=e("safe-buffer").Buffer,s=e("./modes"),o=e("./streamCipher"),a=e("cipher-base"),l=e("./aes"),c=e("evp_bytestokey");function u(f,p,m){a.call(this),this._cache=new d,this._last=void 0,this._cipher=new l.AES(p),this._prev=i.from(m),this._mode=f,this._autopadding=!0}function d(){this.cache=i.allocUnsafe(0)}function h(f,p,m){var g=s[f.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=i.from(m)),g.mode!=="GCM"&&m.length!==g.iv)throw new TypeError("invalid iv length "+m.length);if(typeof p=="string"&&(p=i.from(p)),p.length!==g.key/8)throw new TypeError("invalid key length "+p.length);return g.type==="stream"?new o(g.module,p,m,!0):g.type==="auth"?new r(g.module,p,m,!0):new u(g.module,p,m)}e("inherits")(u,a),u.prototype._update=function(f){var p,m;this._cache.add(f);for(var g=[];p=this._cache.get(this._autopadding);)m=this._mode.decrypt(this,p),g.push(m);return i.concat(g)},u.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return function(p){var m=p[15];if(m<1||m>16)throw new Error("unable to decrypt data");for(var g=-1;++g<m;)if(p[g+(16-m)]!==m)throw new Error("unable to decrypt data");if(m!==16)return p.slice(0,16-m)}(this._mode.decrypt(this,f));if(f)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},d.prototype.add=function(f){this.cache=i.concat([this.cache,f])},d.prototype.get=function(f){var p;if(f){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(f,p){var m=s[f.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var g=c(p,!1,m.key,m.iv);return h(f,g.key,g.iv)},n.createDecipheriv=h},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,t,n){"use strict";var r=e("./modes"),i=e("./authCipher"),s=e("safe-buffer").Buffer,o=e("./streamCipher"),a=e("cipher-base"),l=e("./aes"),c=e("evp_bytestokey");function u(p,m,g){a.call(this),this._cache=new h,this._cipher=new l.AES(m),this._prev=s.from(g),this._mode=p,this._autopadding=!0}e("inherits")(u,a),u.prototype._update=function(p){var m,g;this._cache.add(p);for(var v=[];m=this._cache.get();)g=this._mode.encrypt(this,m),v.push(g);return s.concat(v)};var d=s.alloc(16,16);function h(){this.cache=s.allocUnsafe(0)}function f(p,m,g){var v=r[p.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=s.from(m)),m.length!==v.key/8)throw new TypeError("invalid key length "+m.length);if(typeof g=="string"&&(g=s.from(g)),v.mode!=="GCM"&&g.length!==v.iv)throw new TypeError("invalid iv length "+g.length);return v.type==="stream"?new o(v.module,m,g):v.type==="auth"?new i(v.module,m,g):new u(v.module,m,g)}u.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},h.prototype.add=function(p){this.cache=s.concat([this.cache,p])},h.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},h.prototype.flush=function(){for(var p=16-this.cache.length,m=s.allocUnsafe(p),g=-1;++g<p;)m.writeUInt8(p,g);return s.concat([this.cache,m])},n.createCipheriv=f,n.createCipher=function(p,m){var g=r[p.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var v=c(m,!1,g.key,g.iv);return f(p,v.key,v.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.alloc(16,0);function s(a){var l=r.allocUnsafe(16);return l.writeUInt32BE(a[0]>>>0,0),l.writeUInt32BE(a[1]>>>0,4),l.writeUInt32BE(a[2]>>>0,8),l.writeUInt32BE(a[3]>>>0,12),l}function o(a){this.h=a,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}o.prototype.ghash=function(a){for(var l=-1;++l<a.length;)this.state[l]^=a[l];this._multiply()},o.prototype._multiply=function(){for(var a,l,c,u=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],d=[0,0,0,0],h=-1;++h<128;){for((this.state[~~(h/8)]&1<<7-h%8)!=0&&(d[0]^=u[0],d[1]^=u[1],d[2]^=u[2],d[3]^=u[3]),c=(1&u[3])!=0,l=3;l>0;l--)u[l]=u[l]>>>1|(1&u[l-1])<<31;u[0]=u[0]>>>1,c&&(u[0]=u[0]^225<<24)}this.state=s(d)},o.prototype.update=function(a){var l;for(this.cache=r.concat([this.cache,a]);this.cache.length>=16;)l=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(l)},o.prototype.final=function(a,l){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(s([0,a,0,l])),this.state},t.exports=o},{"safe-buffer":494}],195:[function(e,t,n){"use strict";t.exports=function(r){for(var i,s=r.length;s--;){if((i=r.readUInt8(s))!==255){i++,r.writeUInt8(i,s);break}r.writeUInt8(0,s)}}},{}],196:[function(e,t,n){"use strict";var r=e("buffer-xor");n.encrypt=function(i,s){var o=r(s,i._prev);return i._prev=i._cipher.encryptBlock(o),i._prev},n.decrypt=function(i,s){var o=i._prev;i._prev=s;var a=i._cipher.decryptBlock(s);return r(a,o)}},{"buffer-xor":219}],197:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("buffer-xor");function s(o,a,l){var c=a.length,u=i(a,o._cache);return o._cache=o._cache.slice(c),o._prev=r.concat([o._prev,l?a:u]),u}n.encrypt=function(o,a,l){for(var c,u=r.allocUnsafe(0);a.length;){if(o._cache.length===0&&(o._cache=o._cipher.encryptBlock(o._prev),o._prev=r.allocUnsafe(0)),!(o._cache.length<=a.length)){u=r.concat([u,s(o,a,l)]);break}c=o._cache.length,u=r.concat([u,s(o,a.slice(0,c),l)]),a=a.slice(c)}return u}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer;function i(o,a,l){for(var c,u,d=-1,h=0;++d<8;)c=a&1<<7-d?128:0,h+=(128&(u=o._cipher.encryptBlock(o._prev)[0]^c))>>d%8,o._prev=s(o._prev,l?c:u);return h}function s(o,a){var l=o.length,c=-1,u=r.allocUnsafe(o.length);for(o=r.concat([o,r.from([a])]);++c<l;)u[c]=o[c]<<1|o[c+1]>>7;return u}n.encrypt=function(o,a,l){for(var c=a.length,u=r.allocUnsafe(c),d=-1;++d<c;)u[d]=i(o,a[d],l);return u}},{"safe-buffer":494}],199:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer;function i(s,o,a){var l=s._cipher.encryptBlock(s._prev)[0]^o;return s._prev=r.concat([s._prev.slice(1),r.from([a?o:l])]),l}n.encrypt=function(s,o,a){for(var l=o.length,c=r.allocUnsafe(l),u=-1;++u<l;)c[u]=i(s,o[u],a);return c}},{"safe-buffer":494}],200:[function(e,t,n){"use strict";var r=e("buffer-xor"),i=e("safe-buffer").Buffer,s=e("../incr32");function o(a){var l=a._cipher.encryptBlockRaw(a._prev);return s(a._prev),l}n.encrypt=function(a,l){var c=Math.ceil(l.length/16),u=a._cache.length;a._cache=i.concat([a._cache,i.allocUnsafe(16*c)]);for(var d=0;d<c;d++){var h=o(a),f=u+16*d;a._cache.writeUInt32BE(h[0],f+0),a._cache.writeUInt32BE(h[1],f+4),a._cache.writeUInt32BE(h[2],f+8),a._cache.writeUInt32BE(h[3],f+12)}var p=a._cache.slice(0,l.length);return a._cache=a._cache.slice(l.length),r(l,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,t,n){"use strict";n.encrypt=function(r,i){return r._cipher.encryptBlock(i)},n.decrypt=function(r,i){return r._cipher.decryptBlock(i)}},{}],202:[function(e,t,n){"use strict";var r={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},i=e("./list.json");for(var s in i)i[s].module=r[i[s].mode];t.exports=i},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,t,n){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,t,n){(function(r){(function(){"use strict";var i=e("buffer-xor");function s(o){return o._prev=o._cipher.encryptBlock(o._prev),o._prev}n.encrypt=function(o,a){for(;o._cache.length<a.length;)o._cache=r.concat([o._cache,s(o)]);var l=o._cache.slice(0,a.length);return o._cache=o._cache.slice(a.length),i(a,l)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,t,n){"use strict";var r=e("./aes"),i=e("safe-buffer").Buffer,s=e("cipher-base");function o(a,l,c,u){s.call(this),this._cipher=new r.AES(l),this._prev=i.from(c),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=u,this._mode=a}e("inherits")(o,s),o.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,t,n){"use strict";var r=e("browserify-des"),i=e("browserify-aes/browser"),s=e("browserify-aes/modes"),o=e("browserify-des/modes"),a=e("evp_bytestokey");function l(u,d,h){if(u=u.toLowerCase(),s[u])return i.createCipheriv(u,d,h);if(o[u])return new r({key:d,iv:h,mode:u});throw new TypeError("invalid suite type")}function c(u,d,h){if(u=u.toLowerCase(),s[u])return i.createDecipheriv(u,d,h);if(o[u])return new r({key:d,iv:h,mode:u,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(u,d){var h,f;if(u=u.toLowerCase(),s[u])h=s[u].key,f=s[u].iv;else{if(!o[u])throw new TypeError("invalid suite type");h=8*o[u].key,f=o[u].iv}var p=a(d,!1,h,f);return l(u,p.key,p.iv)},n.createCipheriv=n.Cipheriv=l,n.createDecipher=n.Decipher=function(u,d){var h,f;if(u=u.toLowerCase(),s[u])h=s[u].key,f=s[u].iv;else{if(!o[u])throw new TypeError("invalid suite type");h=8*o[u].key,f=o[u].iv}var p=a(d,!1,h,f);return c(u,p.key,p.iv)},n.createDecipheriv=n.Decipheriv=c,n.listCiphers=n.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,t,n){"use strict";var r=e("cipher-base"),i=e("des.js"),s=e("inherits"),o=e("safe-buffer").Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function l(c){r.call(this);var u,d=c.mode.toLowerCase(),h=a[d];u=c.decrypt?"decrypt":"encrypt";var f=c.key;o.isBuffer(f)||(f=o.from(f)),d!=="des-ede"&&d!=="des-ede-cbc"||(f=o.concat([f,f.slice(0,8)]));var p=c.iv;o.isBuffer(p)||(p=o.from(p)),this._des=h.create({key:f,iv:p,type:u})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=l,s(l,r),l.prototype._update=function(c){return o.from(this._des.update(c))},l.prototype._final=function(){return o.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,t,n){"use strict";n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],209:[function(e,t,n){(function(r){(function(){"use strict";var i=e("bn.js"),s=e("randombytes");function o(l){var c,u=l.modulus.byteLength();do c=new i(s(u));while(c.cmp(l.modulus)>=0||!c.umod(l.prime1)||!c.umod(l.prime2));return c}function a(l,c){var u=function($){var F=o($);return{blinder:F.toRed(i.mont($.modulus)).redPow(new i($.publicExponent)).fromRed(),unblinder:F.invm($.modulus)}}(c),d=c.modulus.byteLength(),h=new i(l).mul(u.blinder).umod(c.modulus),f=h.toRed(i.mont(c.prime1)),p=h.toRed(i.mont(c.prime2)),m=c.coefficient,g=c.prime1,v=c.prime2,x=f.redPow(c.exponent1).fromRed(),I=p.redPow(c.exponent2).fromRed(),R=x.isub(I).imul(m).umod(g).imul(v);return I.iadd(R).imul(u.unblinder).umod(c.modulus).toArrayLike(r,"be",d)}a.getr=o,t.exports=a}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,t,n){"use strict";t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,t,n){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,t,n){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("create-hash"),s=e("readable-stream"),o=e("inherits"),a=e("./sign"),l=e("./verify"),c=e("./algorithms.json");function u(p){s.Writable.call(this);var m=c[p];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=i(m.hash),this._tag=m.id,this._signType=m.sign}function d(p){s.Writable.call(this);var m=c[p];if(!m)throw new Error("Unknown message digest");this._hash=i(m.hash),this._tag=m.id,this._signType=m.sign}function h(p){return new u(p)}function f(p){return new d(p)}Object.keys(c).forEach(function(p){c[p].id=r.from(c[p].id,"hex"),c[p.toLowerCase()]=c[p]}),o(u,s.Writable),u.prototype._write=function(p,m,g){this._hash.update(p),g()},u.prototype.update=function(p,m){return typeof p=="string"&&(p=r.from(p,m)),this._hash.update(p),this},u.prototype.sign=function(p,m){this.end();var g=this._hash.digest(),v=a(g,p,this._hashType,this._signType,this._tag);return m?v.toString(m):v},o(d,s.Writable),d.prototype._write=function(p,m,g){this._hash.update(p),g()},d.prototype.update=function(p,m){return typeof p=="string"&&(p=r.from(p,m)),this._hash.update(p),this},d.prototype.verify=function(p,m,g){typeof m=="string"&&(m=r.from(m,g)),this.end();var v=this._hash.digest();return l(m,v,p,this._signType,this._tag)},t.exports={Sign:h,Verify:f,createSign:h,createVerify:f}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("create-hmac"),s=e("browserify-rsa"),o=e("elliptic").ec,a=e("bn.js"),l=e("parse-asn1"),c=e("./curves.json");function u(p,m,g,v){if((p=r.from(p.toArray())).length<m.byteLength()){var x=r.alloc(m.byteLength()-p.length);p=r.concat([x,p])}var I=g.length,R=function(V,U){V=(V=d(V,U)).mod(U);var q=r.from(V.toArray());if(q.length<U.byteLength()){var j=r.alloc(U.byteLength()-q.length);q=r.concat([j,q])}return q}(g,m),$=r.alloc(I);$.fill(1);var F=r.alloc(I);return F=i(v,F).update($).update(r.from([0])).update(p).update(R).digest(),$=i(v,F).update($).digest(),{k:F=i(v,F).update($).update(r.from([1])).update(p).update(R).digest(),v:$=i(v,F).update($).digest()}}function d(p,m){var g=new a(p),v=(p.length<<3)-m.bitLength();return v>0&&g.ishrn(v),g}function h(p,m,g){var v,x;do{for(v=r.alloc(0);8*v.length<p.bitLength();)m.v=i(g,m.k).update(m.v).digest(),v=r.concat([v,m.v]);x=d(v,p),m.k=i(g,m.k).update(m.v).update(r.from([0])).digest(),m.v=i(g,m.k).update(m.v).digest()}while(x.cmp(p)!==-1);return x}function f(p,m,g,v){return p.toRed(a.mont(g)).redPow(m).fromRed().mod(v)}t.exports=function(p,m,g,v,x){var I=l(m);if(I.curve){if(v!=="ecdsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");return function(V,U){var q=c[U.curve.join(".")];if(!q)throw new Error("unknown curve "+U.curve.join("."));var j=new o(q).keyFromPrivate(U.privateKey).sign(V);return r.from(j.toDER())}(p,I)}if(I.type==="dsa"){if(v!=="dsa")throw new Error("wrong private key type");return function(V,U,q){for(var j,S=U.params.priv_key,T=U.params.p,O=U.params.q,y=U.params.g,b=new a(0),w=d(V,O).mod(O),_=!1,E=u(S,O,V,q);_===!1;)j=h(O,E,q),b=f(y,j,T,O),(_=j.invm(O).imul(w.add(S.mul(b))).mod(O)).cmpn(0)===0&&(_=!1,b=new a(0));return function(C,L){C=C.toArray(),L=L.toArray(),128&C[0]&&(C=[0].concat(C)),128&L[0]&&(L=[0].concat(L));var W=[48,C.length+L.length+4,2,C.length];return W=W.concat(C,[2,L.length],L),r.from(W)}(b,_)}(p,I,g)}if(v!=="rsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");p=r.concat([x,p]);for(var R=I.modulus.byteLength(),$=[0,1];p.length+$.length+1<R;)$.push(255);$.push(0);for(var F=-1;++F<p.length;)$.push(p[F]);return s($,I)},t.exports.getKey=u,t.exports.makeKey=h},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("bn.js"),s=e("elliptic").ec,o=e("parse-asn1"),a=e("./curves.json");function l(c,u){if(c.cmpn(0)<=0)throw new Error("invalid sig");if(c.cmp(u)>=u)throw new Error("invalid sig")}t.exports=function(c,u,d,h,f){var p=o(d);if(p.type==="ec"){if(h!=="ecdsa"&&h!=="ecdsa/rsa")throw new Error("wrong public key type");return function($,F,V){var U=a[V.data.algorithm.curve.join(".")];if(!U)throw new Error("unknown curve "+V.data.algorithm.curve.join("."));var q=new s(U),j=V.data.subjectPrivateKey.data;return q.verify(F,$,j)}(c,u,p)}if(p.type==="dsa"){if(h!=="dsa")throw new Error("wrong public key type");return function($,F,V){var U=V.data.p,q=V.data.q,j=V.data.g,S=V.data.pub_key,T=o.signature.decode($,"der"),O=T.s,y=T.r;l(O,q),l(y,q);var b=i.mont(U),w=O.invm(q);return j.toRed(b).redPow(new i(F).mul(w).mod(q)).fromRed().mul(S.toRed(b).redPow(y.mul(w).mod(q)).fromRed()).mod(U).mod(q).cmp(y)===0}(c,u,p)}if(h!=="rsa"&&h!=="ecdsa/rsa")throw new Error("wrong public key type");u=r.concat([f,u]);for(var m=p.modulus.byteLength(),g=[1],v=0;u.length+g.length+2<m;)g.push(255),v++;g.push(0);for(var x=-1;++x<u.length;)g.push(u[x]);g=r.from(g);var I=i.mont(p.modulus);c=(c=new i(c).toRed(I)).redPow(new i(p.publicExponent)),c=r.from(c.fromRed().toArray());var R=v<8?1:0;for(m=Math.min(c.length,g.length),c.length!==g.length&&(R=1),x=-1;++x<m;)R|=c[x]^g[x];return R===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,t,n){},{}],217:[function(e,t,n){"use strict";var r=e("buffer"),i=r.Buffer;function s(a,l){for(var c in a)l[c]=a[c]}function o(a,l,c){return i(a,l,c)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,n),n.Buffer=o),s(i,o),o.from=function(a,l,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,l,c)},o.alloc=function(a,l,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=i(a);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:220}],218:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(p){var m;switch(this.encoding=function(g){var v=function(x){if(!x)return"utf8";for(var I;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(I)return;x=(""+x).toLowerCase(),I=!0}}(g);if(typeof v!="string"&&(r.isEncoding===i||!i(g)))throw new Error("Unknown encoding: "+g);return v||g}(p),this.encoding){case"utf16le":this.text=l,this.end=c,m=4;break;case"utf8":this.fillLast=a,m=4;break;case"base64":this.text=u,this.end=d,m=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(m)}function o(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function a(p){var m=this.lastTotal-this.lastNeed,g=function(v,x,I){if((192&x[0])!=128)return v.lastNeed=0,"\uFFFD";if(v.lastNeed>1&&x.length>1){if((192&x[1])!=128)return v.lastNeed=1,"\uFFFD";if(v.lastNeed>2&&x.length>2&&(192&x[2])!=128)return v.lastNeed=2,"\uFFFD"}}(this,p);return g!==void 0?g:this.lastNeed<=p.length?(p.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,m,0,p.length),void(this.lastNeed-=p.length))}function l(p,m){if((p.length-m)%2==0){var g=p.toString("utf16le",m);if(g){var v=g.charCodeAt(g.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",m,p.length-1)}function c(p){var m=p&&p.length?this.write(p):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,g)}return m}function u(p,m){var g=(p.length-m)%3;return g===0?p.toString("base64",m):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",m,p.length-g))}function d(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function h(p){return p.toString(this.encoding)}function f(p){return p&&p.length?this.write(p):""}n.StringDecoder=s,s.prototype.write=function(p){if(p.length===0)return"";var m,g;if(this.lastNeed){if((m=this.fillLast(p))===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<p.length?m?m+this.text(p,g):this.text(p,g):m||""},s.prototype.end=function(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+"\uFFFD":m},s.prototype.text=function(p,m){var g=function(x,I,R){var $=I.length-1;if($<R)return 0;var F=o(I[$]);return F>=0?(F>0&&(x.lastNeed=F-1),F):--$<R||F===-2?0:(F=o(I[$]))>=0?(F>0&&(x.lastNeed=F-2),F):--$<R||F===-2?0:(F=o(I[$]))>=0?(F>0&&(F===2?F=0:x.lastNeed=F-3),F):0}(this,p,m);if(!this.lastNeed)return p.toString("utf8",m);this.lastTotal=g;var v=p.length-(g-this.lastNeed);return p.copy(this.lastChar,0,v),p.toString("utf8",m,v)},s.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(e,t,n){(function(r){(function(){"use strict";t.exports=function(i,s){for(var o=Math.min(i.length,s.length),a=new r(o),l=0;l<o;++l)a[l]=i[l]^s[l];return a}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,t,n){(function(r){(function(){"use strict";var i=e("base64-js"),s=e("ieee754");n.Buffer=a,n.SlowBuffer=function(D){return+D!=D&&(D=0),a.alloc(+D)},n.INSPECT_MAX_BYTES=50;function o(D){if(D>2147483647)throw new RangeError('The value "'+D+'" is invalid for option "size"');var k=new Uint8Array(D);return k.__proto__=a.prototype,k}function a(D,k,z){if(typeof D=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(D)}return l(D,k,z)}function l(D,k,z){if(typeof D=="string")return function(ee,ne){if(typeof ne=="string"&&ne!==""||(ne="utf8"),!a.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);var he=0|f(ee,ne),de=o(he),Z=de.write(ee,ne);return Z!==he&&(de=de.slice(0,Z)),de}(D,k);if(ArrayBuffer.isView(D))return d(D);if(D==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(M(D,ArrayBuffer)||D&&M(D.buffer,ArrayBuffer))return function(ee,ne,he){if(ne<0||ee.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<ne+(he||0))throw new RangeError('"length" is outside of buffer bounds');var de;return de=ne===void 0&&he===void 0?new Uint8Array(ee):he===void 0?new Uint8Array(ee,ne):new Uint8Array(ee,ne,he),de.__proto__=a.prototype,de}(D,k,z);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=D.valueOf&&D.valueOf();if(J!=null&&J!==D)return a.from(J,k,z);var Q=function(ee){if(a.isBuffer(ee)){var ne=0|h(ee.length),he=o(ne);return he.length===0||ee.copy(he,0,0,ne),he}if(ee.length!==void 0)return typeof ee.length!="number"||K(ee.length)?o(0):d(ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return d(ee.data)}(D);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return a.from(D[Symbol.toPrimitive]("string"),k,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}function c(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function u(D){return c(D),o(D<0?0:0|h(D))}function d(D){for(var k=D.length<0?0:0|h(D.length),z=o(k),J=0;J<k;J+=1)z[J]=255&D[J];return z}function h(D){if(D>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|D}function f(D,k){if(a.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||M(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);var z=D.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&z===0)return 0;for(var Q=!1;;)switch(k){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return W(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*z;case"hex":return z>>>1;case"base64":return B(D).length;default:if(Q)return J?-1:W(D).length;k=(""+k).toLowerCase(),Q=!0}}function p(D,k,z){var J=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0)<=(k>>>=0))return"";for(D||(D="utf8");;)switch(D){case"hex":return T(this,k,z);case"utf8":case"utf-8":return q(this,k,z);case"ascii":return j(this,k,z);case"latin1":case"binary":return S(this,k,z);case"base64":return U(this,k,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,k,z);default:if(J)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),J=!0}}function m(D,k,z){var J=D[k];D[k]=D[z],D[z]=J}function g(D,k,z,J,Q){if(D.length===0)return-1;if(typeof z=="string"?(J=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),K(z=+z)&&(z=Q?0:D.length-1),z<0&&(z=D.length+z),z>=D.length){if(Q)return-1;z=D.length-1}else if(z<0){if(!Q)return-1;z=0}if(typeof k=="string"&&(k=a.from(k,J)),a.isBuffer(k))return k.length===0?-1:v(D,k,z,J,Q);if(typeof k=="number")return k&=255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(D,k,z):Uint8Array.prototype.lastIndexOf.call(D,k,z):v(D,[k],z,J,Q);throw new TypeError("val must be string, number or Buffer")}function v(D,k,z,J,Q){var ee,ne=1,he=D.length,de=k.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(D.length<2||k.length<2)return-1;ne=2,he/=2,de/=2,z/=2}function Z(me,Se){return ne===1?me[Se]:me.readUInt16BE(Se*ne)}if(Q){var le=-1;for(ee=z;ee<he;ee++)if(Z(D,ee)===Z(k,le===-1?0:ee-le)){if(le===-1&&(le=ee),ee-le+1===de)return le*ne}else le!==-1&&(ee-=ee-le),le=-1}else for(z+de>he&&(z=he-de),ee=z;ee>=0;ee--){for(var fe=!0,ve=0;ve<de;ve++)if(Z(D,ee+ve)!==Z(k,ve)){fe=!1;break}if(fe)return ee}return-1}function x(D,k,z,J){z=Number(z)||0;var Q=D.length-z;J?(J=Number(J))>Q&&(J=Q):J=Q;var ee=k.length;J>ee/2&&(J=ee/2);for(var ne=0;ne<J;++ne){var he=parseInt(k.substr(2*ne,2),16);if(K(he))return ne;D[z+ne]=he}return ne}function I(D,k,z,J){return G(W(k,D.length-z),D,z,J)}function R(D,k,z,J){return G(function(Q){for(var ee=[],ne=0;ne<Q.length;++ne)ee.push(255&Q.charCodeAt(ne));return ee}(k),D,z,J)}function $(D,k,z,J){return R(D,k,z,J)}function F(D,k,z,J){return G(B(k),D,z,J)}function V(D,k,z,J){return G(function(Q,ee){for(var ne,he,de,Z=[],le=0;le<Q.length&&!((ee-=2)<0);++le)ne=Q.charCodeAt(le),he=ne>>8,de=ne%256,Z.push(de),Z.push(he);return Z}(k,D.length-z),D,z,J)}function U(D,k,z){return k===0&&z===D.length?i.fromByteArray(D):i.fromByteArray(D.slice(k,z))}function q(D,k,z){z=Math.min(D.length,z);for(var J=[],Q=k;Q<z;){var ee,ne,he,de,Z=D[Q],le=null,fe=Z>239?4:Z>223?3:Z>191?2:1;if(Q+fe<=z)switch(fe){case 1:Z<128&&(le=Z);break;case 2:(192&(ee=D[Q+1]))==128&&(de=(31&Z)<<6|63&ee)>127&&(le=de);break;case 3:ee=D[Q+1],ne=D[Q+2],(192&ee)==128&&(192&ne)==128&&(de=(15&Z)<<12|(63&ee)<<6|63&ne)>2047&&(de<55296||de>57343)&&(le=de);break;case 4:ee=D[Q+1],ne=D[Q+2],he=D[Q+3],(192&ee)==128&&(192&ne)==128&&(192&he)==128&&(de=(15&Z)<<18|(63&ee)<<12|(63&ne)<<6|63&he)>65535&&de<1114112&&(le=de)}le===null?(le=65533,fe=1):le>65535&&(le-=65536,J.push(le>>>10&1023|55296),le=56320|1023&le),J.push(le),Q+=fe}return function(ve){var me=ve.length;if(me<=4096)return String.fromCharCode.apply(String,ve);for(var Se="",xe=0;xe<me;)Se+=String.fromCharCode.apply(String,ve.slice(xe,xe+=4096));return Se}(J)}n.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var D=new Uint8Array(1);return D.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},D.foo()===42}catch{return!1}}(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(D,k,z){return l(D,k,z)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(D,k,z){return function(J,Q,ee){return c(J),J<=0?o(J):Q!==void 0?typeof ee=="string"?o(J).fill(Q,ee):o(J).fill(Q):o(J)}(D,k,z)},a.allocUnsafe=function(D){return u(D)},a.allocUnsafeSlow=function(D){return u(D)},a.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==a.prototype},a.compare=function(D,k){if(M(D,Uint8Array)&&(D=a.from(D,D.offset,D.byteLength)),M(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(D)||!a.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===k)return 0;for(var z=D.length,J=k.length,Q=0,ee=Math.min(z,J);Q<ee;++Q)if(D[Q]!==k[Q]){z=D[Q],J=k[Q];break}return z<J?-1:J<z?1:0},a.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(D,k){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return a.alloc(0);var z;if(k===void 0)for(k=0,z=0;z<D.length;++z)k+=D[z].length;var J=a.allocUnsafe(k),Q=0;for(z=0;z<D.length;++z){var ee=D[z];if(M(ee,Uint8Array)&&(ee=a.from(ee)),!a.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(J,Q),Q+=ee.length}return J},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<D;k+=2)m(this,k,k+1);return this},a.prototype.swap32=function(){var D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<D;k+=4)m(this,k,k+3),m(this,k+1,k+2);return this},a.prototype.swap64=function(){var D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<D;k+=8)m(this,k,k+7),m(this,k+1,k+6),m(this,k+2,k+5),m(this,k+3,k+4);return this},a.prototype.toString=function(){var D=this.length;return D===0?"":arguments.length===0?q(this,0,D):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(D){if(!a.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||a.compare(this,D)===0},a.prototype.inspect=function(){var D="",k=n.INSPECT_MAX_BYTES;return D=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(D+=" ... "),"<Buffer "+D+">"},a.prototype.compare=function(D,k,z,J,Q){if(M(D,Uint8Array)&&(D=a.from(D,D.offset,D.byteLength)),!a.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(k===void 0&&(k=0),z===void 0&&(z=D?D.length:0),J===void 0&&(J=0),Q===void 0&&(Q=this.length),k<0||z>D.length||J<0||Q>this.length)throw new RangeError("out of range index");if(J>=Q&&k>=z)return 0;if(J>=Q)return-1;if(k>=z)return 1;if(this===D)return 0;for(var ee=(Q>>>=0)-(J>>>=0),ne=(z>>>=0)-(k>>>=0),he=Math.min(ee,ne),de=this.slice(J,Q),Z=D.slice(k,z),le=0;le<he;++le)if(de[le]!==Z[le]){ee=de[le],ne=Z[le];break}return ee<ne?-1:ne<ee?1:0},a.prototype.includes=function(D,k,z){return this.indexOf(D,k,z)!==-1},a.prototype.indexOf=function(D,k,z){return g(this,D,k,z,!0)},a.prototype.lastIndexOf=function(D,k,z){return g(this,D,k,z,!1)},a.prototype.write=function(D,k,z,J){if(k===void 0)J="utf8",z=this.length,k=0;else if(z===void 0&&typeof k=="string")J=k,z=this.length,k=0;else{if(!isFinite(k))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");k>>>=0,isFinite(z)?(z>>>=0,J===void 0&&(J="utf8")):(J=z,z=void 0)}var Q=this.length-k;if((z===void 0||z>Q)&&(z=Q),D.length>0&&(z<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var ee=!1;;)switch(J){case"hex":return x(this,D,k,z);case"utf8":case"utf-8":return I(this,D,k,z);case"ascii":return R(this,D,k,z);case"latin1":case"binary":return $(this,D,k,z);case"base64":return F(this,D,k,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,D,k,z);default:if(ee)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(D,k,z){var J="";z=Math.min(D.length,z);for(var Q=k;Q<z;++Q)J+=String.fromCharCode(127&D[Q]);return J}function S(D,k,z){var J="";z=Math.min(D.length,z);for(var Q=k;Q<z;++Q)J+=String.fromCharCode(D[Q]);return J}function T(D,k,z){var J=D.length;(!k||k<0)&&(k=0),(!z||z<0||z>J)&&(z=J);for(var Q="",ee=k;ee<z;++ee)Q+=L(D[ee]);return Q}function O(D,k,z){for(var J=D.slice(k,z),Q="",ee=0;ee<J.length;ee+=2)Q+=String.fromCharCode(J[ee]+256*J[ee+1]);return Q}function y(D,k,z){if(D%1!=0||D<0)throw new RangeError("offset is not uint");if(D+k>z)throw new RangeError("Trying to access beyond buffer length")}function b(D,k,z,J,Q,ee){if(!a.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>Q||k<ee)throw new RangeError('"value" argument is out of bounds');if(z+J>D.length)throw new RangeError("Index out of range")}function w(D,k,z,J,Q,ee){if(z+J>D.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function _(D,k,z,J,Q){return k=+k,z>>>=0,Q||w(D,0,z,4),s.write(D,k,z,J,23,4),z+4}function E(D,k,z,J,Q){return k=+k,z>>>=0,Q||w(D,0,z,8),s.write(D,k,z,J,52,8),z+8}a.prototype.slice=function(D,k){var z=this.length;(D=~~D)<0?(D+=z)<0&&(D=0):D>z&&(D=z),(k=k===void 0?z:~~k)<0?(k+=z)<0&&(k=0):k>z&&(k=z),k<D&&(k=D);var J=this.subarray(D,k);return J.__proto__=a.prototype,J},a.prototype.readUIntLE=function(D,k,z){D>>>=0,k>>>=0,z||y(D,k,this.length);for(var J=this[D],Q=1,ee=0;++ee<k&&(Q*=256);)J+=this[D+ee]*Q;return J},a.prototype.readUIntBE=function(D,k,z){D>>>=0,k>>>=0,z||y(D,k,this.length);for(var J=this[D+--k],Q=1;k>0&&(Q*=256);)J+=this[D+--k]*Q;return J},a.prototype.readUInt8=function(D,k){return D>>>=0,k||y(D,1,this.length),this[D]},a.prototype.readUInt16LE=function(D,k){return D>>>=0,k||y(D,2,this.length),this[D]|this[D+1]<<8},a.prototype.readUInt16BE=function(D,k){return D>>>=0,k||y(D,2,this.length),this[D]<<8|this[D+1]},a.prototype.readUInt32LE=function(D,k){return D>>>=0,k||y(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},a.prototype.readUInt32BE=function(D,k){return D>>>=0,k||y(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},a.prototype.readIntLE=function(D,k,z){D>>>=0,k>>>=0,z||y(D,k,this.length);for(var J=this[D],Q=1,ee=0;++ee<k&&(Q*=256);)J+=this[D+ee]*Q;return J>=(Q*=128)&&(J-=Math.pow(2,8*k)),J},a.prototype.readIntBE=function(D,k,z){D>>>=0,k>>>=0,z||y(D,k,this.length);for(var J=k,Q=1,ee=this[D+--J];J>0&&(Q*=256);)ee+=this[D+--J]*Q;return ee>=(Q*=128)&&(ee-=Math.pow(2,8*k)),ee},a.prototype.readInt8=function(D,k){return D>>>=0,k||y(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},a.prototype.readInt16LE=function(D,k){D>>>=0,k||y(D,2,this.length);var z=this[D]|this[D+1]<<8;return 32768&z?4294901760|z:z},a.prototype.readInt16BE=function(D,k){D>>>=0,k||y(D,2,this.length);var z=this[D+1]|this[D]<<8;return 32768&z?4294901760|z:z},a.prototype.readInt32LE=function(D,k){return D>>>=0,k||y(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},a.prototype.readInt32BE=function(D,k){return D>>>=0,k||y(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},a.prototype.readFloatLE=function(D,k){return D>>>=0,k||y(D,4,this.length),s.read(this,D,!0,23,4)},a.prototype.readFloatBE=function(D,k){return D>>>=0,k||y(D,4,this.length),s.read(this,D,!1,23,4)},a.prototype.readDoubleLE=function(D,k){return D>>>=0,k||y(D,8,this.length),s.read(this,D,!0,52,8)},a.prototype.readDoubleBE=function(D,k){return D>>>=0,k||y(D,8,this.length),s.read(this,D,!1,52,8)},a.prototype.writeUIntLE=function(D,k,z,J){D=+D,k>>>=0,z>>>=0,J||b(this,D,k,z,Math.pow(2,8*z)-1,0);var Q=1,ee=0;for(this[k]=255&D;++ee<z&&(Q*=256);)this[k+ee]=D/Q&255;return k+z},a.prototype.writeUIntBE=function(D,k,z,J){D=+D,k>>>=0,z>>>=0,J||b(this,D,k,z,Math.pow(2,8*z)-1,0);var Q=z-1,ee=1;for(this[k+Q]=255&D;--Q>=0&&(ee*=256);)this[k+Q]=D/ee&255;return k+z},a.prototype.writeUInt8=function(D,k,z){return D=+D,k>>>=0,z||b(this,D,k,1,255,0),this[k]=255&D,k+1},a.prototype.writeUInt16LE=function(D,k,z){return D=+D,k>>>=0,z||b(this,D,k,2,65535,0),this[k]=255&D,this[k+1]=D>>>8,k+2},a.prototype.writeUInt16BE=function(D,k,z){return D=+D,k>>>=0,z||b(this,D,k,2,65535,0),this[k]=D>>>8,this[k+1]=255&D,k+2},a.prototype.writeUInt32LE=function(D,k,z){return D=+D,k>>>=0,z||b(this,D,k,4,4294967295,0),this[k+3]=D>>>24,this[k+2]=D>>>16,this[k+1]=D>>>8,this[k]=255&D,k+4},a.prototype.writeUInt32BE=function(D,k,z){return D=+D,k>>>=0,z||b(this,D,k,4,4294967295,0),this[k]=D>>>24,this[k+1]=D>>>16,this[k+2]=D>>>8,this[k+3]=255&D,k+4},a.prototype.writeIntLE=function(D,k,z,J){if(D=+D,k>>>=0,!J){var Q=Math.pow(2,8*z-1);b(this,D,k,z,Q-1,-Q)}var ee=0,ne=1,he=0;for(this[k]=255&D;++ee<z&&(ne*=256);)D<0&&he===0&&this[k+ee-1]!==0&&(he=1),this[k+ee]=(D/ne>>0)-he&255;return k+z},a.prototype.writeIntBE=function(D,k,z,J){if(D=+D,k>>>=0,!J){var Q=Math.pow(2,8*z-1);b(this,D,k,z,Q-1,-Q)}var ee=z-1,ne=1,he=0;for(this[k+ee]=255&D;--ee>=0&&(ne*=256);)D<0&&he===0&&this[k+ee+1]!==0&&(he=1),this[k+ee]=(D/ne>>0)-he&255;return k+z},a.prototype.writeInt8=function(D,k,z){return D=+D,k>>>=0,z||b(this,D,k,1,127,-128),D<0&&(D=255+D+1),this[k]=255&D,k+1},a.prototype.writeInt16LE=function(D,k,z){return D=+D,k>>>=0,z||b(this,D,k,2,32767,-32768),this[k]=255&D,this[k+1]=D>>>8,k+2},a.prototype.writeInt16BE=function(D,k,z){return D=+D,k>>>=0,z||b(this,D,k,2,32767,-32768),this[k]=D>>>8,this[k+1]=255&D,k+2},a.prototype.writeInt32LE=function(D,k,z){return D=+D,k>>>=0,z||b(this,D,k,4,2147483647,-2147483648),this[k]=255&D,this[k+1]=D>>>8,this[k+2]=D>>>16,this[k+3]=D>>>24,k+4},a.prototype.writeInt32BE=function(D,k,z){return D=+D,k>>>=0,z||b(this,D,k,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[k]=D>>>24,this[k+1]=D>>>16,this[k+2]=D>>>8,this[k+3]=255&D,k+4},a.prototype.writeFloatLE=function(D,k,z){return _(this,D,k,!0,z)},a.prototype.writeFloatBE=function(D,k,z){return _(this,D,k,!1,z)},a.prototype.writeDoubleLE=function(D,k,z){return E(this,D,k,!0,z)},a.prototype.writeDoubleBE=function(D,k,z){return E(this,D,k,!1,z)},a.prototype.copy=function(D,k,z,J){if(!a.isBuffer(D))throw new TypeError("argument should be a Buffer");if(z||(z=0),J||J===0||(J=this.length),k>=D.length&&(k=D.length),k||(k=0),J>0&&J<z&&(J=z),J===z||D.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),D.length-k<J-z&&(J=D.length-k+z);var Q=J-z;if(this===D&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(k,z,J);else if(this===D&&z<k&&k<J)for(var ee=Q-1;ee>=0;--ee)D[ee+k]=this[ee+z];else Uint8Array.prototype.set.call(D,this.subarray(z,J),k);return Q},a.prototype.fill=function(D,k,z,J){if(typeof D=="string"){if(typeof k=="string"?(J=k,k=0,z=this.length):typeof z=="string"&&(J=z,z=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!a.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(D.length===1){var Q=D.charCodeAt(0);(J==="utf8"&&Q<128||J==="latin1")&&(D=Q)}}else typeof D=="number"&&(D&=255);if(k<0||this.length<k||this.length<z)throw new RangeError("Out of range index");if(z<=k)return this;var ee;if(k>>>=0,z=z===void 0?this.length:z>>>0,D||(D=0),typeof D=="number")for(ee=k;ee<z;++ee)this[ee]=D;else{var ne=a.isBuffer(D)?D:a.from(D,J),he=ne.length;if(he===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(ee=0;ee<z-k;++ee)this[ee+k]=ne[ee%he]}return this};var C=/[^+/0-9A-Za-z-_]/g;function L(D){return D<16?"0"+D.toString(16):D.toString(16)}function W(D,k){var z;k=k||1/0;for(var J=D.length,Q=null,ee=[],ne=0;ne<J;++ne){if((z=D.charCodeAt(ne))>55295&&z<57344){if(!Q){if(z>56319){(k-=3)>-1&&ee.push(239,191,189);continue}if(ne+1===J){(k-=3)>-1&&ee.push(239,191,189);continue}Q=z;continue}if(z<56320){(k-=3)>-1&&ee.push(239,191,189),Q=z;continue}z=65536+(Q-55296<<10|z-56320)}else Q&&(k-=3)>-1&&ee.push(239,191,189);if(Q=null,z<128){if((k-=1)<0)break;ee.push(z)}else if(z<2048){if((k-=2)<0)break;ee.push(z>>6|192,63&z|128)}else if(z<65536){if((k-=3)<0)break;ee.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(z<1114112))throw new Error("Invalid code point");if((k-=4)<0)break;ee.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return ee}function B(D){return i.toByteArray(function(k){if((k=(k=k.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;k.length%4!=0;)k+="=";return k}(D))}function G(D,k,z,J){for(var Q=0;Q<J&&!(Q+z>=k.length||Q>=D.length);++Q)k[Q+z]=D[Q];return Q}function M(D,k){return D instanceof k||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===k.name}function K(D){return D!=D}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("stream").Transform,s=e("string_decoder").StringDecoder;function o(a){i.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(o,i),o.prototype.update=function(a,l,c){typeof a=="string"&&(a=r.from(a,l));var u=this._update(a);return this.hashMode?this:(c&&(u=this._toString(u,c)),u)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(a,l,c){var u;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(d){u=d}finally{c(u)}},o.prototype._flush=function(a){var l;try{this.push(this.__final())}catch(c){l=c}a(l)},o.prototype._finalOrDigest=function(a){var l=this.__final()||r.alloc(0);return a&&(l=this._toString(l,a,!0)),l},o.prototype._toString=function(a,l,c){if(this._decoder||(this._decoder=new s(l),this._encoding=l),this._encoding!==l)throw new Error("can't switch encodings");var u=this._decoder.write(a);return c&&(u+=this._decoder.end()),u},t.exports=o},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,t,n){"use strict";var r=e("../internals/is-callable"),i=e("../internals/try-to-string"),s=TypeError;t.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,t,n){"use strict";var r=e("../internals/is-constructor"),i=e("../internals/try-to-string"),s=TypeError;t.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,t,n){"use strict";var r=e("../internals/is-callable"),i=String,s=TypeError;t.exports=function(o){if(typeof o=="object"||r(o))return o;throw new s("Can't set "+i(o)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,t,n){"use strict";var r=e("../internals/well-known-symbol"),i=e("../internals/object-create"),s=e("../internals/object-define-property").f,o=r("unscopables"),a=Array.prototype;a[o]===void 0&&s(a,o,{configurable:!0,value:i(null)}),t.exports=function(l){a[o][l]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,t,n){"use strict";var r=e("../internals/object-is-prototype-of"),i=TypeError;t.exports=function(s,o){if(r(o,s))return s;throw new i("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,t,n){"use strict";var r=e("../internals/is-object"),i=String,s=TypeError;t.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,t,n){"use strict";var r=e("../internals/to-indexed-object"),i=e("../internals/to-absolute-index"),s=e("../internals/length-of-array-like"),o=function(a){return function(l,c,u){var d,h=r(l),f=s(h),p=i(u,f);if(a&&c!=c){for(;f>p;)if((d=h[p++])!=d)return!0}else for(;f>p;p++)if((a||p in h)&&h[p]===c)return a||p||0;return!a&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,t,n){"use strict";var r=e("../internals/function-bind-context"),i=e("../internals/function-uncurry-this"),s=e("../internals/indexed-object"),o=e("../internals/to-object"),a=e("../internals/length-of-array-like"),l=e("../internals/array-species-create"),c=i([].push),u=function(d){var h=d===1,f=d===2,p=d===3,m=d===4,g=d===6,v=d===7,x=d===5||g;return function(I,R,$,F){for(var V,U,q=o(I),j=s(q),S=r(R,$),T=a(j),O=0,y=F||l,b=h?y(I,T):f||v?y(I,0):void 0;T>O;O++)if((x||O in j)&&(U=S(V=j[O],O,q),d))if(h)b[O]=U;else if(U)switch(d){case 3:return!0;case 5:return V;case 6:return O;case 2:c(b,V)}else switch(d){case 4:return!1;case 7:c(b,V)}return g?-1:p||m?m:b}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,t,n){"use strict";var r=e("../internals/to-absolute-index"),i=e("../internals/length-of-array-like"),s=e("../internals/create-property"),o=Array,a=Math.max;t.exports=function(l,c,u){for(var d=i(l),h=r(c,d),f=r(u===void 0?d:u,d),p=o(a(f-h,0)),m=0;h<f;h++,m++)s(p,m,l[h]);return p.length=m,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this");t.exports=r([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,t,n){"use strict";var r=e("../internals/is-array"),i=e("../internals/is-constructor"),s=e("../internals/is-object"),o=e("../internals/well-known-symbol")("species"),a=Array;t.exports=function(l){var c;return r(l)&&(c=l.constructor,(i(c)&&(c===a||r(c.prototype))||s(c)&&(c=c[o])===null)&&(c=void 0)),c===void 0?a:c}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,t,n){"use strict";var r=e("../internals/array-species-constructor");t.exports=function(i,s){return new(r(i))(s===0?0:s)}},{"../internals/array-species-constructor":232}],234:[function(e,t,n){"use strict";var r=e("../internals/well-known-symbol")("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,function(){throw 2})}catch{}t.exports=function(a,l){try{if(!l&&!i)return!1}catch{return!1}var c=!1;try{var u={};u[r]=function(){return{next:function(){return{done:c=!0}}}},a(u)}catch{}return c}},{"../internals/well-known-symbol":357}],235:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=r({}.toString),s=r("".slice);t.exports=function(o){return s(i(o),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,t,n){"use strict";var r=e("../internals/to-string-tag-support"),i=e("../internals/is-callable"),s=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("toStringTag"),a=Object,l=s(function(){return arguments}())==="Arguments";t.exports=r?s:function(c){var u,d,h;return c===void 0?"Undefined":c===null?"Null":typeof(d=function(f,p){try{return f[p]}catch{}}(u=a(c),o))=="string"?d:l?s(u):(h=s(u))==="Object"&&i(u.callee)?"Arguments":h}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,t,n){"use strict";var r=e("../internals/has-own-property"),i=e("../internals/own-keys"),s=e("../internals/object-get-own-property-descriptor"),o=e("../internals/object-define-property");t.exports=function(a,l,c){for(var u=i(l),d=o.f,h=s.f,f=0;f<u.length;f++){var p=u[f];r(a,p)||c&&r(c,p)||d(a,p,h(l,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,t,n){"use strict";var r=e("../internals/well-known-symbol")("match");t.exports=function(i){var s=/./;try{"/./"[i](s)}catch{try{return s[r]=!1,"/./"[i](s)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,t,n){"use strict";var r=e("../internals/fails");t.exports=!r(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},{"../internals/fails":260}],240:[function(e,t,n){"use strict";t.exports=function(r,i){return{value:r,done:i}}},{}],241:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/object-define-property"),s=e("../internals/create-property-descriptor");t.exports=r?function(o,a,l){return i.f(o,a,s(1,l))}:function(o,a,l){return o[a]=l,o}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,t,n){"use strict";t.exports=function(r,i){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:i}}},{}],243:[function(e,t,n){"use strict";var r=e("../internals/to-property-key"),i=e("../internals/object-define-property"),s=e("../internals/create-property-descriptor");t.exports=function(o,a,l){var c=r(a);c in o?i.f(o,c,s(0,l)):o[c]=l}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,t,n){"use strict";var r=e("../internals/make-built-in"),i=e("../internals/object-define-property");t.exports=function(s,o,a){return a.get&&r(a.get,o,{getter:!0}),a.set&&r(a.set,o,{setter:!0}),i.f(s,o,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,t,n){"use strict";var r=e("../internals/is-callable"),i=e("../internals/object-define-property"),s=e("../internals/make-built-in"),o=e("../internals/define-global-property");t.exports=function(a,l,c,u){u||(u={});var d=u.enumerable,h=u.name!==void 0?u.name:l;if(r(c)&&s(c,h,u),u.global)d?a[l]=c:o(l,c);else{try{u.unsafe?a[l]&&(d=!0):delete a[l]}catch{}d?a[l]=c:i.f(a,l,{value:c,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,t,n){"use strict";var r=e("../internals/global"),i=Object.defineProperty;t.exports=function(s,o){try{i(r,s,{value:o,configurable:!0,writable:!0})}catch{r[s]=o}return o}},{"../internals/global":274}],247:[function(e,t,n){"use strict";var r=e("../internals/fails");t.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,t,n){"use strict";var r=typeof document=="object"&&document.all,i=r===void 0&&r!==void 0;t.exports={all:r,IS_HTMLDDA:i}},{}],249:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/is-object"),s=r.document,o=i(s)&&i(s.createElement);t.exports=function(a){return o?s.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,t,n){"use strict";var r=e("../internals/engine-is-deno"),i=e("../internals/engine-is-node");t.exports=!r&&!i&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,t,n){"use strict";t.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,t,n){"use strict";var r=e("../internals/engine-user-agent");t.exports=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,t,n){"use strict";var r=e("../internals/engine-user-agent");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},{"../internals/engine-user-agent":256}],254:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/classof-raw");t.exports=i(r.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,t,n){"use strict";var r=e("../internals/engine-user-agent");t.exports=/web0s(?!.*chrome)/i.test(r)},{"../internals/engine-user-agent":256}],256:[function(e,t,n){"use strict";t.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,t,n){"use strict";var r,i,s=e("../internals/global"),o=e("../internals/engine-user-agent"),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,t,n){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,s=e("../internals/create-non-enumerable-property"),o=e("../internals/define-built-in"),a=e("../internals/define-global-property"),l=e("../internals/copy-constructor-properties"),c=e("../internals/is-forced");t.exports=function(u,d){var h,f,p,m,g,v=u.target,x=u.global,I=u.stat;if(h=x?r:I?r[v]||a(v,{}):(r[v]||{}).prototype)for(f in d){if(m=d[f],p=u.dontCallGetSet?(g=i(h,f))&&g.value:h[f],!c(x?f:v+(I?".":"#")+f,u.forced)&&p!==void 0){if(typeof m==typeof p)continue;l(m,p)}(u.sham||p&&p.sham)&&s(m,"sham",!0),o(h,f,m,u)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,t,n){"use strict";t.exports=function(r){try{return!!r()}catch{return!0}}},{}],261:[function(e,t,n){"use strict";var r=e("../internals/function-bind-native"),i=Function.prototype,s=i.apply,o=i.call;t.exports=typeof Reflect=="object"&&Reflect.apply||(r?o.bind(s):function(){return o.apply(s,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this-clause"),i=e("../internals/a-callable"),s=e("../internals/function-bind-native"),o=r(r.bind);t.exports=function(a,l){return i(a),l===void 0?a:s?o(a,l):function(){return a.apply(l,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,t,n){"use strict";var r=e("../internals/fails");t.exports=!r(function(){var i=function(){}.bind();return typeof i!="function"||i.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,t,n){"use strict";var r=e("../internals/function-bind-native"),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/has-own-property"),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),l=a&&function(){}.name==="something",c=a&&(!r||r&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/a-callable");t.exports=function(s,o,a){try{return r(i(Object.getOwnPropertyDescriptor(s,o)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,t,n){"use strict";var r=e("../internals/classof-raw"),i=e("../internals/function-uncurry-this");t.exports=function(s){if(r(s)==="Function")return i(s)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,t,n){"use strict";var r=e("../internals/function-bind-native"),i=Function.prototype,s=i.call,o=r&&i.bind.bind(s,s);t.exports=r?o:function(a){return function(){return s.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/is-callable"),s=function(o){return i(o)?o:void 0};t.exports=function(o,a){return arguments.length<2?s(r[o]):r[o]&&r[o][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,t,n){"use strict";var r=e("../internals/classof"),i=e("../internals/get-method"),s=e("../internals/is-null-or-undefined"),o=e("../internals/iterators"),a=e("../internals/well-known-symbol")("iterator");t.exports=function(l){if(!s(l))return i(l,a)||i(l,"@@iterator")||o[r(l)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,t,n){"use strict";var r=e("../internals/function-call"),i=e("../internals/a-callable"),s=e("../internals/an-object"),o=e("../internals/try-to-string"),a=e("../internals/get-iterator-method"),l=TypeError;t.exports=function(c,u){var d=arguments.length<2?a(c):u;if(i(d))return s(r(d,c));throw new l(o(c)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/is-array"),s=e("../internals/is-callable"),o=e("../internals/classof-raw"),a=e("../internals/to-string"),l=r([].push);t.exports=function(c){if(s(c))return c;if(i(c)){for(var u=c.length,d=[],h=0;h<u;h++){var f=c[h];typeof f=="string"?l(d,f):typeof f!="number"&&o(f)!=="Number"&&o(f)!=="String"||l(d,a(f))}var p=d.length,m=!0;return function(g,v){if(m)return m=!1,v;if(i(this))return v;for(var x=0;x<p;x++)if(d[x]===g)return v}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,t,n){"use strict";var r=e("../internals/a-callable"),i=e("../internals/is-null-or-undefined");t.exports=function(s,o){var a=s[o];return i(a)?void 0:r(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,t,n){(function(r){(function(){"use strict";var i=function(s){return s&&s.Math===Math&&s};t.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof r=="object"&&r)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/to-object"),s=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(o,a){return s(i(o),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,t,n){"use strict";t.exports={}},{}],277:[function(e,t,n){"use strict";t.exports=function(r,i){try{arguments.length===1?console.error(r):console.error(r,i)}catch{}}},{}],278:[function(e,t,n){"use strict";var r=e("../internals/get-built-in");t.exports=r("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/fails"),s=e("../internals/document-create-element");t.exports=!r&&!i(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/fails"),s=e("../internals/classof-raw"),o=Object,a=r("".split);t.exports=i(function(){return!o("z").propertyIsEnumerable(0)})?function(l){return s(l)==="String"?a(l,""):o(l)}:o},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/is-callable"),s=e("../internals/shared-store"),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(a){return o(a)}),t.exports=s.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,t,n){"use strict";var r,i,s,o=e("../internals/weak-map-basic-detection"),a=e("../internals/global"),l=e("../internals/is-object"),c=e("../internals/create-non-enumerable-property"),u=e("../internals/has-own-property"),d=e("../internals/shared-store"),h=e("../internals/shared-key"),f=e("../internals/hidden-keys"),p=a.TypeError,m=a.WeakMap;if(o||d.state){var g=d.state||(d.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,r=function(x,I){if(g.has(x))throw new p("Object already initialized");return I.facade=x,g.set(x,I),I},i=function(x){return g.get(x)||{}},s=function(x){return g.has(x)}}else{var v=h("state");f[v]=!0,r=function(x,I){if(u(x,v))throw new p("Object already initialized");return I.facade=x,c(x,v,I),I},i=function(x){return u(x,v)?x[v]:{}},s=function(x){return u(x,v)}}t.exports={set:r,get:i,has:s,enforce:function(x){return s(x)?i(x):r(x,{})},getterFor:function(x){return function(I){var R;if(!l(I)||(R=i(I)).type!==x)throw new p("Incompatible receiver, "+x+" required");return R}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,t,n){"use strict";var r=e("../internals/well-known-symbol"),i=e("../internals/iterators"),s=r("iterator"),o=Array.prototype;t.exports=function(a){return a!==void 0&&(i.Array===a||o[s]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,t,n){"use strict";var r=e("../internals/classof-raw");t.exports=Array.isArray||function(i){return r(i)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,t,n){"use strict";var r=e("../internals/document-all"),i=r.all;t.exports=r.IS_HTMLDDA?function(s){return typeof s=="function"||s===i}:function(s){return typeof s=="function"}},{"../internals/document-all":248}],286:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/fails"),s=e("../internals/is-callable"),o=e("../internals/classof"),a=e("../internals/get-built-in"),l=e("../internals/inspect-source"),c=function(){},u=[],d=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=r(h.exec),p=!h.test(c),m=function(v){if(!s(v))return!1;try{return d(c,u,v),!0}catch{return!1}},g=function(v){if(!s(v))return!1;switch(o(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(h,l(v))}catch{return!0}};g.sham=!0,t.exports=!d||i(function(){var v;return m(m.call)||!m(Object)||!m(function(){v=!0})||v})?g:m},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,t,n){"use strict";var r=e("../internals/fails"),i=e("../internals/is-callable"),s=/#|\.prototype\./,o=function(d,h){var f=l[a(d)];return f===u||f!==c&&(i(h)?r(h):!!h)},a=o.normalize=function(d){return String(d).replace(s,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,t,n){"use strict";t.exports=function(r){return r==null}},{}],289:[function(e,t,n){"use strict";var r=e("../internals/is-callable"),i=e("../internals/document-all"),s=i.all;t.exports=i.IS_HTMLDDA?function(o){return typeof o=="object"?o!==null:r(o)||o===s}:function(o){return typeof o=="object"?o!==null:r(o)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,t,n){"use strict";t.exports=!1},{}],291:[function(e,t,n){"use strict";var r=e("../internals/is-object"),i=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("match");t.exports=function(o){var a;return r(o)&&((a=o[s])!==void 0?!!a:i(o)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,t,n){"use strict";var r=e("../internals/get-built-in"),i=e("../internals/is-callable"),s=e("../internals/object-is-prototype-of"),o=e("../internals/use-symbol-as-uid"),a=Object;t.exports=o?function(l){return typeof l=="symbol"}:function(l){var c=r("Symbol");return i(c)&&s(c.prototype,a(l))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,t,n){"use strict";var r=e("../internals/function-bind-context"),i=e("../internals/function-call"),s=e("../internals/an-object"),o=e("../internals/try-to-string"),a=e("../internals/is-array-iterator-method"),l=e("../internals/length-of-array-like"),c=e("../internals/object-is-prototype-of"),u=e("../internals/get-iterator"),d=e("../internals/get-iterator-method"),h=e("../internals/iterator-close"),f=TypeError,p=function(g,v){this.stopped=g,this.result=v},m=p.prototype;t.exports=function(g,v,x){var I,R,$,F,V,U,q,j=x&&x.that,S=!(!x||!x.AS_ENTRIES),T=!(!x||!x.IS_RECORD),O=!(!x||!x.IS_ITERATOR),y=!(!x||!x.INTERRUPTED),b=r(v,j),w=function(E){return I&&h(I,"normal",E),new p(!0,E)},_=function(E){return S?(s(E),y?b(E[0],E[1],w):b(E[0],E[1])):y?b(E,w):b(E)};if(T)I=g.iterator;else if(O)I=g;else{if(!(R=d(g)))throw new f(o(g)+" is not iterable");if(a(R)){for($=0,F=l(g);F>$;$++)if((V=_(g[$]))&&c(m,V))return V;return new p(!1)}I=u(g,R)}for(U=T?g.next:I.next;!(q=i(U,I)).done;){try{V=_(q.value)}catch(E){h(I,"throw",E)}if(typeof V=="object"&&V&&c(m,V))return V}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,t,n){"use strict";var r=e("../internals/function-call"),i=e("../internals/an-object"),s=e("../internals/get-method");t.exports=function(o,a,l){var c,u;i(o);try{if(!(c=s(o,"return"))){if(a==="throw")throw l;return l}c=r(c,o)}catch(d){u=!0,c=d}if(a==="throw")throw l;if(u)throw c;return i(c),l}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,t,n){"use strict";var r=e("../internals/iterators-core").IteratorPrototype,i=e("../internals/object-create"),s=e("../internals/create-property-descriptor"),o=e("../internals/set-to-string-tag"),a=e("../internals/iterators"),l=function(){return this};t.exports=function(c,u,d,h){var f=u+" Iterator";return c.prototype=i(r,{next:s(+!h,d)}),o(c,f,!1,!0),a[f]=l,c}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-call"),s=e("../internals/is-pure"),o=e("../internals/function-name"),a=e("../internals/is-callable"),l=e("../internals/iterator-create-constructor"),c=e("../internals/object-get-prototype-of"),u=e("../internals/object-set-prototype-of"),d=e("../internals/set-to-string-tag"),h=e("../internals/create-non-enumerable-property"),f=e("../internals/define-built-in"),p=e("../internals/well-known-symbol"),m=e("../internals/iterators"),g=e("../internals/iterators-core"),v=o.PROPER,x=o.CONFIGURABLE,I=g.IteratorPrototype,R=g.BUGGY_SAFARI_ITERATORS,$=p("iterator"),F=function(){return this};t.exports=function(V,U,q,j,S,T,O){l(q,U,j);var y,b,w,_=function(M){if(M===S&&B)return B;if(!R&&M&&M in L)return L[M];switch(M){case"keys":case"values":case"entries":return function(){return new q(this,M)}}return function(){return new q(this)}},E=U+" Iterator",C=!1,L=V.prototype,W=L[$]||L["@@iterator"]||S&&L[S],B=!R&&W||_(S),G=U==="Array"&&L.entries||W;if(G&&(y=c(G.call(new V)))!==Object.prototype&&y.next&&(s||c(y)===I||(u?u(y,I):a(y[$])||f(y,$,F)),d(y,E,!0,!0),s&&(m[E]=F)),v&&S==="values"&&W&&W.name!=="values"&&(!s&&x?h(L,"name","values"):(C=!0,B=function(){return i(W,this)})),S)if(b={values:_("values"),keys:T?B:_("keys"),entries:_("entries")},O)for(w in b)(R||C||!(w in L))&&f(L,w,b[w]);else r({target:U,proto:!0,forced:R||C},b);return s&&!O||L[$]===B||f(L,$,B,{name:S}),m[U]=B,b}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,t,n){"use strict";var r,i,s,o=e("../internals/fails"),a=e("../internals/is-callable"),l=e("../internals/is-object"),c=e("../internals/object-create"),u=e("../internals/object-get-prototype-of"),d=e("../internals/define-built-in"),h=e("../internals/well-known-symbol"),f=e("../internals/is-pure"),p=h("iterator"),m=!1;[].keys&&("next"in(s=[].keys())?(i=u(u(s)))!==Object.prototype&&(r=i):m=!0),!l(r)||o(function(){var g={};return r[p].call(g)!==g})?r={}:f&&(r=c(r)),a(r[p])||d(r,p,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,t,n){arguments[4][276][0].apply(n,arguments)},{dup:276}],299:[function(e,t,n){"use strict";var r=e("../internals/to-length");t.exports=function(i){return r(i.length)}},{"../internals/to-length":343}],300:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/fails"),s=e("../internals/is-callable"),o=e("../internals/has-own-property"),a=e("../internals/descriptors"),l=e("../internals/function-name").CONFIGURABLE,c=e("../internals/inspect-source"),u=e("../internals/internal-state"),d=u.enforce,h=u.get,f=String,p=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),x=a&&!i(function(){return p(function(){},"length",{value:8}).length!==8}),I=String(String).split("String"),R=t.exports=function($,F,V){m(f(F),0,7)==="Symbol("&&(F="["+g(f(F),/^Symbol\(([^)]*)\)/,"$1")+"]"),V&&V.getter&&(F="get "+F),V&&V.setter&&(F="set "+F),(!o($,"name")||l&&$.name!==F)&&(a?p($,"name",{value:F,configurable:!0}):$.name=F),x&&V&&o(V,"arity")&&$.length!==V.arity&&p($,"length",{value:V.arity});try{V&&o(V,"constructor")&&V.constructor?a&&p($,"prototype",{writable:!1}):$.prototype&&($.prototype=void 0)}catch{}var U=d($);return o(U,"source")||(U.source=v(I,typeof F=="string"?F:"")),$};Function.prototype.toString=R(function(){return s(this)&&h(this).source||c(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,t,n){"use strict";var r=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(s){var o=+s;return(o>0?i:r)(o)}},{}],302:[function(e,t,n){"use strict";var r,i,s,o,a,l=e("../internals/global"),c=e("../internals/function-bind-context"),u=e("../internals/object-get-own-property-descriptor").f,d=e("../internals/task").set,h=e("../internals/queue"),f=e("../internals/engine-is-ios"),p=e("../internals/engine-is-ios-pebble"),m=e("../internals/engine-is-webos-webkit"),g=e("../internals/engine-is-node"),v=l.MutationObserver||l.WebKitMutationObserver,x=l.document,I=l.process,R=l.Promise,$=u(l,"queueMicrotask"),F=$&&$.value;if(!F){var V=new h,U=function(){var q,j;for(g&&(q=I.domain)&&q.exit();j=V.get();)try{j()}catch(S){throw V.head&&r(),S}q&&q.enter()};f||g||m||!v||!x?!p&&R&&R.resolve?((o=R.resolve(void 0)).constructor=R,a=c(o.then,o),r=function(){a(U)}):g?r=function(){I.nextTick(U)}:(d=c(d,l),r=function(){d(U)}):(i=!0,s=x.createTextNode(""),new v(U).observe(s,{characterData:!0}),r=function(){s.data=i=!i}),F=function(q){V.head||r(),V.add(q)}}t.exports=F},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,t,n){"use strict";var r=e("../internals/a-callable"),i=TypeError,s=function(o){var a,l;this.promise=new o(function(c,u){if(a!==void 0||l!==void 0)throw new i("Bad Promise constructor");a=c,l=u}),this.resolve=r(a),this.reject=r(l)};t.exports.f=function(o){return new s(o)}},{"../internals/a-callable":222}],304:[function(e,t,n){"use strict";var r=e("../internals/is-regexp"),i=TypeError;t.exports=function(s){if(r(s))throw new i("The method doesn't accept regular expressions");return s}},{"../internals/is-regexp":291}],305:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/function-uncurry-this"),s=e("../internals/function-call"),o=e("../internals/fails"),a=e("../internals/object-keys"),l=e("../internals/object-get-own-property-symbols"),c=e("../internals/object-property-is-enumerable"),u=e("../internals/to-object"),d=e("../internals/indexed-object"),h=Object.assign,f=Object.defineProperty,p=i([].concat);t.exports=!h||o(function(){if(r&&h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var m={},g={},v=Symbol("assign detection");return m[v]=7,"abcdefghijklmnopqrst".split("").forEach(function(x){g[x]=x}),h({},m)[v]!==7||a(h({},g)).join("")!=="abcdefghijklmnopqrst"})?function(m,g){for(var v=u(m),x=arguments.length,I=1,R=l.f,$=c.f;x>I;)for(var F,V=d(arguments[I++]),U=R?p(a(V),R(V)):a(V),q=U.length,j=0;q>j;)F=U[j++],r&&!s($,V,F)||(v[F]=V[F]);return v}:h},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,t,n){"use strict";var r,i=e("../internals/an-object"),s=e("../internals/object-define-properties"),o=e("../internals/enum-bug-keys"),a=e("../internals/hidden-keys"),l=e("../internals/html"),c=e("../internals/document-create-element"),u=e("../internals/shared-key"),d=u("IE_PROTO"),h=function(){},f=function(g){return"<script>"+g+"<\/script>"},p=function(g){g.write(f("")),g.close();var v=g.parentWindow.Object;return g=null,v},m=function(){try{r=new ActiveXObject("htmlfile")}catch{}var g,v;m=typeof document<"u"?document.domain&&r?p(r):((v=c("iframe")).style.display="none",l.appendChild(v),v.src="javascript:",(g=v.contentWindow.document).open(),g.write(f("document.F=Object")),g.close(),g.F):p(r);for(var x=o.length;x--;)delete m.prototype[o[x]];return m()};a[d]=!0,t.exports=Object.create||function(g,v){var x;return g!==null?(h.prototype=i(g),x=new h,h.prototype=null,x[d]=g):x=m(),v===void 0?x:s.f(x,v)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/v8-prototype-define-bug"),s=e("../internals/object-define-property"),o=e("../internals/an-object"),a=e("../internals/to-indexed-object"),l=e("../internals/object-keys");n.f=r&&!i?Object.defineProperties:function(c,u){o(c);for(var d,h=a(u),f=l(u),p=f.length,m=0;p>m;)s.f(c,d=f[m++],h[d]);return c}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/ie8-dom-define"),s=e("../internals/v8-prototype-define-bug"),o=e("../internals/an-object"),a=e("../internals/to-property-key"),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor;n.f=r?s?function(d,h,f){if(o(d),h=a(h),o(f),typeof d=="function"&&h==="prototype"&&"value"in f&&"writable"in f&&!f.writable){var p=u(d,h);p&&p.writable&&(d[h]=f.value,f={configurable:"configurable"in f?f.configurable:p.configurable,enumerable:"enumerable"in f?f.enumerable:p.enumerable,writable:!1})}return c(d,h,f)}:c:function(d,h,f){if(o(d),h=a(h),o(f),i)try{return c(d,h,f)}catch{}if("get"in f||"set"in f)throw new l("Accessors not supported");return"value"in f&&(d[h]=f.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/function-call"),s=e("../internals/object-property-is-enumerable"),o=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),l=e("../internals/to-property-key"),c=e("../internals/has-own-property"),u=e("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;n.f=r?d:function(h,f){if(h=a(h),f=l(f),u)try{return d(h,f)}catch{}if(c(h,f))return o(!i(s.f,h,f),h[f])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,t,n){"use strict";var r=e("../internals/classof-raw"),i=e("../internals/to-indexed-object"),s=e("../internals/object-get-own-property-names").f,o=e("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(l){return a&&r(l)==="Window"?function(c){try{return s(c)}catch{return o(a)}}(l):s(i(l))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,t,n){"use strict";var r=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(s){return r(s,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,t,n){"use strict";n.f=Object.getOwnPropertySymbols},{}],313:[function(e,t,n){"use strict";var r=e("../internals/has-own-property"),i=e("../internals/is-callable"),s=e("../internals/to-object"),o=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),l=o("IE_PROTO"),c=Object,u=c.prototype;t.exports=a?c.getPrototypeOf:function(d){var h=s(d);if(r(h,l))return h[l];var f=h.constructor;return i(f)&&h instanceof f?f.prototype:h instanceof c?u:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this");t.exports=r({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/has-own-property"),s=e("../internals/to-indexed-object"),o=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys"),l=r([].push);t.exports=function(c,u){var d,h=s(c),f=0,p=[];for(d in h)!i(a,d)&&i(h,d)&&l(p,d);for(;u.length>f;)i(h,d=u[f++])&&(~o(p,d)||l(p,d));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,t,n){"use strict";var r=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");t.exports=Object.keys||function(s){return r(s,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!r.call({1:2},1);n.f=s?function(o){var a=i(this,o);return!!a&&a.enumerable}:r},{}],318:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this-accessor"),i=e("../internals/an-object"),s=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o,a=!1,l={};try{(o=r(Object.prototype,"__proto__","set"))(l,[]),a=l instanceof Array}catch{}return function(c,u){return i(c),s(u),a?o(c,u):c.__proto__=u,c}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/fails"),s=e("../internals/function-uncurry-this"),o=e("../internals/object-get-prototype-of"),a=e("../internals/object-keys"),l=e("../internals/to-indexed-object"),c=s(e("../internals/object-property-is-enumerable").f),u=s([].push),d=r&&i(function(){var f=Object.create(null);return f[2]=2,!c(f,2)}),h=function(f){return function(p){for(var m,g=l(p),v=a(g),x=d&&o(g)===null,I=v.length,R=0,$=[];I>R;)m=v[R++],r&&!(x?m in g:c(g,m))||u($,f?[m,g[m]]:g[m]);return $}};t.exports={entries:h(!0),values:h(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,t,n){"use strict";var r=e("../internals/function-call"),i=e("../internals/is-callable"),s=e("../internals/is-object"),o=TypeError;t.exports=function(a,l){var c,u;if(l==="string"&&i(c=a.toString)&&!s(u=r(c,a))||i(c=a.valueOf)&&!s(u=r(c,a))||l!=="string"&&i(c=a.toString)&&!s(u=r(c,a)))return u;throw new o("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,t,n){"use strict";var r=e("../internals/get-built-in"),i=e("../internals/function-uncurry-this"),s=e("../internals/object-get-own-property-names"),o=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object"),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(c){var u=s.f(a(c)),d=o.f;return d?l(u,d(c)):u}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,t,n){"use strict";var r=e("../internals/global");t.exports=r},{"../internals/global":274}],323:[function(e,t,n){"use strict";t.exports=function(r){try{return{error:!1,value:r()}}catch(i){return{error:!0,value:i}}}},{}],324:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/promise-native-constructor"),s=e("../internals/is-callable"),o=e("../internals/is-forced"),a=e("../internals/inspect-source"),l=e("../internals/well-known-symbol"),c=e("../internals/engine-is-browser"),u=e("../internals/engine-is-deno"),d=e("../internals/is-pure"),h=e("../internals/engine-v8-version"),f=i&&i.prototype,p=l("species"),m=!1,g=s(r.PromiseRejectionEvent),v=o("Promise",function(){var x=a(i),I=x!==String(i);if(!I&&h===66||d&&(!f.catch||!f.finally))return!0;if(!h||h<51||!/native code/.test(x)){var R=new i(function(F){F(1)}),$=function(F){F(function(){},function(){})};if((R.constructor={})[p]=$,!(m=R.then(function(){})instanceof $))return!0}return!I&&(c||u)&&!g});t.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:m}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,t,n){"use strict";var r=e("../internals/global");t.exports=r.Promise},{"../internals/global":274}],326:[function(e,t,n){"use strict";var r=e("../internals/an-object"),i=e("../internals/is-object"),s=e("../internals/new-promise-capability");t.exports=function(o,a){if(r(o),i(a)&&a.constructor===o)return a;var l=s.f(o);return(0,l.resolve)(a),l.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,t,n){"use strict";var r=e("../internals/promise-native-constructor"),i=e("../internals/check-correctness-of-iteration"),s=e("../internals/promise-constructor-detection").CONSTRUCTOR;t.exports=s||!i(function(o){r.all(o).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,t,n){"use strict";var r=function(){this.head=null,this.tail=null};r.prototype={add:function(i){var s={item:i,next:null},o=this.tail;o?o.next=s:this.head=s,this.tail=s},get:function(){var i=this.head;if(i)return(this.head=i.next)===null&&(this.tail=null),i.item}},t.exports=r},{}],329:[function(e,t,n){"use strict";var r=e("../internals/is-null-or-undefined"),i=TypeError;t.exports=function(s){if(r(s))throw new i("Can't call method on "+s);return s}},{"../internals/is-null-or-undefined":288}],330:[function(e,t,n){"use strict";var r=e("../internals/get-built-in"),i=e("../internals/define-built-in-accessor"),s=e("../internals/well-known-symbol"),o=e("../internals/descriptors"),a=s("species");t.exports=function(l){var c=r(l);o&&c&&!c[a]&&i(c,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,t,n){"use strict";var r=e("../internals/object-define-property").f,i=e("../internals/has-own-property"),s=e("../internals/well-known-symbol")("toStringTag");t.exports=function(o,a,l){o&&!l&&(o=o.prototype),o&&!i(o,s)&&r(o,s,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,t,n){"use strict";var r=e("../internals/shared"),i=e("../internals/uid"),s=r("keys");t.exports=function(o){return s[o]||(s[o]=i(o))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/define-global-property"),s=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=s},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,t,n){"use strict";var r=e("../internals/is-pure"),i=e("../internals/shared-store");(t.exports=function(s,o){return i[s]||(i[s]=o!==void 0?o:{})})("versions",[]).push({version:"3.33.0",mode:r?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,t,n){"use strict";var r=e("../internals/an-object"),i=e("../internals/a-constructor"),s=e("../internals/is-null-or-undefined"),o=e("../internals/well-known-symbol")("species");t.exports=function(a,l){var c,u=r(a).constructor;return u===void 0||s(c=r(u)[o])?l:i(c)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,t,n){"use strict";var r=e("../internals/engine-v8-version"),i=e("../internals/fails"),s=e("../internals/global").String;t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var o=Symbol("symbol detection");return!s(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&r&&r<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,t,n){"use strict";var r=e("../internals/function-call"),i=e("../internals/get-built-in"),s=e("../internals/well-known-symbol"),o=e("../internals/define-built-in");t.exports=function(){var a=i("Symbol"),l=a&&a.prototype,c=l&&l.valueOf,u=s("toPrimitive");l&&!l[u]&&o(l,u,function(d){return r(c,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,t,n){"use strict";var r=e("../internals/symbol-constructor-detection");t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,t,n){"use strict";var r,i,s,o,a=e("../internals/global"),l=e("../internals/function-apply"),c=e("../internals/function-bind-context"),u=e("../internals/is-callable"),d=e("../internals/has-own-property"),h=e("../internals/fails"),f=e("../internals/html"),p=e("../internals/array-slice"),m=e("../internals/document-create-element"),g=e("../internals/validate-arguments-length"),v=e("../internals/engine-is-ios"),x=e("../internals/engine-is-node"),I=a.setImmediate,R=a.clearImmediate,$=a.process,F=a.Dispatch,V=a.Function,U=a.MessageChannel,q=a.String,j=0,S={};h(function(){r=a.location});var T=function(w){if(d(S,w)){var _=S[w];delete S[w],_()}},O=function(w){return function(){T(w)}},y=function(w){T(w.data)},b=function(w){a.postMessage(q(w),r.protocol+"//"+r.host)};I&&R||(I=function(w){g(arguments.length,1);var _=u(w)?w:V(w),E=p(arguments,1);return S[++j]=function(){l(_,void 0,E)},i(j),j},R=function(w){delete S[w]},x?i=function(w){$.nextTick(O(w))}:F&&F.now?i=function(w){F.now(O(w))}:U&&!v?(o=(s=new U).port2,s.port1.onmessage=y,i=c(o.postMessage,o)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&r&&r.protocol!=="file:"&&!h(b)?(i=b,a.addEventListener("message",y,!1)):i="onreadystatechange"in m("script")?function(w){f.appendChild(m("script")).onreadystatechange=function(){f.removeChild(this),T(w)}}:function(w){setTimeout(O(w),0)}),t.exports={set:I,clear:R}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,t,n){"use strict";var r=e("../internals/to-integer-or-infinity"),i=Math.max,s=Math.min;t.exports=function(o,a){var l=r(o);return l<0?i(l+a,0):s(l,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,t,n){"use strict";var r=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");t.exports=function(s){return r(i(s))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,t,n){"use strict";var r=e("../internals/math-trunc");t.exports=function(i){var s=+i;return s!=s||s===0?0:r(s)}},{"../internals/math-trunc":301}],343:[function(e,t,n){"use strict";var r=e("../internals/to-integer-or-infinity"),i=Math.min;t.exports=function(s){return s>0?i(r(s),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,t,n){"use strict";var r=e("../internals/require-object-coercible"),i=Object;t.exports=function(s){return i(r(s))}},{"../internals/require-object-coercible":329}],345:[function(e,t,n){"use strict";var r=e("../internals/function-call"),i=e("../internals/is-object"),s=e("../internals/is-symbol"),o=e("../internals/get-method"),a=e("../internals/ordinary-to-primitive"),l=e("../internals/well-known-symbol"),c=TypeError,u=l("toPrimitive");t.exports=function(d,h){if(!i(d)||s(d))return d;var f,p=o(d,u);if(p){if(h===void 0&&(h="default"),f=r(p,d,h),!i(f)||s(f))return f;throw new c("Can't convert object to primitive value")}return h===void 0&&(h="number"),a(d,h)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,t,n){"use strict";var r=e("../internals/to-primitive"),i=e("../internals/is-symbol");t.exports=function(s){var o=r(s,"string");return i(o)?o:o+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,t,n){"use strict";var r={};r[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports=String(r)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,t,n){"use strict";var r=e("../internals/classof"),i=String;t.exports=function(s){if(r(s)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return i(s)}},{"../internals/classof":236}],349:[function(e,t,n){"use strict";var r=String;t.exports=function(i){try{return r(i)}catch{return"Object"}}},{}],350:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=0,s=Math.random(),o=r(1 .toString);t.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+o(++i+s,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,t,n){"use strict";var r=e("../internals/symbol-constructor-detection");t.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/fails");t.exports=r&&i(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,t,n){"use strict";var r=TypeError;t.exports=function(i,s){if(i<s)throw new r("Not enough arguments");return i}},{}],354:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/is-callable"),s=r.WeakMap;t.exports=i(s)&&/native code/.test(String(s))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,t,n){"use strict";var r=e("../internals/path"),i=e("../internals/has-own-property"),s=e("../internals/well-known-symbol-wrapped"),o=e("../internals/object-define-property").f;t.exports=function(a){var l=r.Symbol||(r.Symbol={});i(l,a)||o(l,a,{value:s.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,t,n){"use strict";var r=e("../internals/well-known-symbol");n.f=r},{"../internals/well-known-symbol":357}],357:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/shared"),s=e("../internals/has-own-property"),o=e("../internals/uid"),a=e("../internals/symbol-constructor-detection"),l=e("../internals/use-symbol-as-uid"),c=r.Symbol,u=i("wks"),d=l?c.for||c:c&&c.withoutSetter||o;t.exports=function(h){return s(u,h)||(u[h]=a&&s(c,h)?c[h]:d("Symbol."+h)),u[h]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").findIndex,s=e("../internals/add-to-unscopables"),o=!0;"findIndex"in[]&&Array(1).findIndex(function(){o=!1}),r({target:"Array",proto:!0,forced:o},{findIndex:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),s("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").find,s=e("../internals/add-to-unscopables"),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r({target:"Array",proto:!0,forced:o},{find:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),s("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-includes").includes,s=e("../internals/fails"),o=e("../internals/add-to-unscopables");r({target:"Array",proto:!0,forced:s(function(){return!Array(1).includes()})},{includes:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),o("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,t,n){"use strict";var r=e("../internals/to-indexed-object"),i=e("../internals/add-to-unscopables"),s=e("../internals/iterators"),o=e("../internals/internal-state"),a=e("../internals/object-define-property").f,l=e("../internals/iterator-define"),c=e("../internals/create-iter-result-object"),u=e("../internals/is-pure"),d=e("../internals/descriptors"),h=o.set,f=o.getterFor("Array Iterator");t.exports=l(Array,"Array",function(m,g){h(this,{type:"Array Iterator",target:r(m),index:0,kind:g})},function(){var m=f(this),g=m.target,v=m.kind,x=m.index++;if(!g||x>=g.length)return m.target=void 0,c(void 0,!0);switch(v){case"keys":return c(x,!1);case"values":return c(g[x],!1)}return c([x,g[x]],!1)},"values");var p=s.Arguments=s.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&p.name!=="values")try{a(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/get-built-in"),s=e("../internals/function-apply"),o=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),l=e("../internals/fails"),c=e("../internals/is-callable"),u=e("../internals/is-symbol"),d=e("../internals/array-slice"),h=e("../internals/get-json-replacer-function"),f=e("../internals/symbol-constructor-detection"),p=String,m=i("JSON","stringify"),g=a(/./.exec),v=a("".charAt),x=a("".charCodeAt),I=a("".replace),R=a(1 .toString),$=/[\uD800-\uDFFF]/g,F=/^[\uD800-\uDBFF]$/,V=/^[\uDC00-\uDFFF]$/,U=!f||l(function(){var T=i("Symbol")("stringify detection");return m([T])!=="[null]"||m({a:T})!=="{}"||m(Object(T))!=="{}"}),q=l(function(){return m("\uDF06\uD834")!=='"\\udf06\\ud834"'||m("\uDEAD")!=='"\\udead"'}),j=function(T,O){var y=d(arguments),b=h(O);if(c(b)||T!==void 0&&!u(T))return y[1]=function(w,_){if(c(b)&&(_=o(b,this,p(w),_)),!u(_))return _},s(m,null,y)},S=function(T,O,y){var b=v(y,O-1),w=v(y,O+1);return g(F,T)&&!g(V,w)||g(V,T)&&!g(F,b)?"\\u"+R(x(T,0),16):T};m&&r({target:"JSON",stat:!0,arity:3,forced:U||q},{stringify:function(T,O,y){var b=d(arguments),w=s(U?j:m,null,b);return q&&typeof w=="string"?I(w,$,S):w}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,t,n){"use strict";e("../internals/export")({target:"Number",stat:!0},{isNaN:function(r){return r!=r}})},{"../internals/export":259}],364:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/object-assign");r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/symbol-constructor-detection"),s=e("../internals/fails"),o=e("../internals/object-get-own-property-symbols"),a=e("../internals/to-object");r({target:"Object",stat:!0,forced:!i||s(function(){o.f(1)})},{getOwnPropertySymbols:function(l){var c=o.f;return c?c(a(l)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/to-object"),s=e("../internals/object-keys");r({target:"Object",stat:!0,forced:e("../internals/fails")(function(){s(1)})},{keys:function(o){return s(i(o))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/object-to-array").values;r({target:"Object",stat:!0},{values:function(s){return i(s)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-call"),s=e("../internals/a-callable"),o=e("../internals/new-promise-capability"),a=e("../internals/perform"),l=e("../internals/iterate");r({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(c){var u=this,d=o.f(u),h=d.resolve,f=d.reject,p=a(function(){var m=s(u.resolve),g=[],v=0,x=1;l(c,function(I){var R=v++,$=!1;x++,i(m,u,I).then(function(F){$||($=!0,g[R]=F,--x||h(g))},f)}),--x||h(g)});return p.error&&f(p.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/is-pure"),s=e("../internals/promise-constructor-detection").CONSTRUCTOR,o=e("../internals/promise-native-constructor"),a=e("../internals/get-built-in"),l=e("../internals/is-callable"),c=e("../internals/define-built-in"),u=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(h){return this.then(void 0,h)}}),!i&&l(o)){var d=a("Promise").prototype.catch;u.catch!==d&&c(u,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,t,n){"use strict";var r,i,s,o=e("../internals/export"),a=e("../internals/is-pure"),l=e("../internals/engine-is-node"),c=e("../internals/global"),u=e("../internals/function-call"),d=e("../internals/define-built-in"),h=e("../internals/object-set-prototype-of"),f=e("../internals/set-to-string-tag"),p=e("../internals/set-species"),m=e("../internals/a-callable"),g=e("../internals/is-callable"),v=e("../internals/is-object"),x=e("../internals/an-instance"),I=e("../internals/species-constructor"),R=e("../internals/task").set,$=e("../internals/microtask"),F=e("../internals/host-report-errors"),V=e("../internals/perform"),U=e("../internals/queue"),q=e("../internals/internal-state"),j=e("../internals/promise-native-constructor"),S=e("../internals/promise-constructor-detection"),T=e("../internals/new-promise-capability"),O=S.CONSTRUCTOR,y=S.REJECTION_EVENT,b=S.SUBCLASSING,w=q.getterFor("Promise"),_=q.set,E=j&&j.prototype,C=j,L=E,W=c.TypeError,B=c.document,G=c.process,M=T.f,K=M,D=!!(B&&B.createEvent&&c.dispatchEvent),k=function(fe){var ve;return!(!v(fe)||!g(ve=fe.then))&&ve},z=function(fe,ve){var me,Se,xe,ke=ve.value,Re=ve.state===1,je=Re?fe.ok:fe.fail,st=fe.resolve,Ve=fe.reject,Qe=fe.domain;try{je?(Re||(ve.rejection===2&&he(ve),ve.rejection=1),je===!0?me=ke:(Qe&&Qe.enter(),me=je(ke),Qe&&(Qe.exit(),xe=!0)),me===fe.promise?Ve(new W("Promise-chain cycle")):(Se=k(me))?u(Se,me,st,Ve):st(me)):Ve(ke)}catch(ht){Qe&&!xe&&Qe.exit(),Ve(ht)}},J=function(fe,ve){fe.notified||(fe.notified=!0,$(function(){for(var me,Se=fe.reactions;me=Se.get();)z(me,fe);fe.notified=!1,ve&&!fe.rejection&&ee(fe)}))},Q=function(fe,ve,me){var Se,xe;D?((Se=B.createEvent("Event")).promise=ve,Se.reason=me,Se.initEvent(fe,!1,!0),c.dispatchEvent(Se)):Se={promise:ve,reason:me},!y&&(xe=c["on"+fe])?xe(Se):fe==="unhandledrejection"&&F("Unhandled promise rejection",me)},ee=function(fe){u(R,c,function(){var ve,me=fe.facade,Se=fe.value;if(ne(fe)&&(ve=V(function(){l?G.emit("unhandledRejection",Se,me):Q("unhandledrejection",me,Se)}),fe.rejection=l||ne(fe)?2:1,ve.error))throw ve.value})},ne=function(fe){return fe.rejection!==1&&!fe.parent},he=function(fe){u(R,c,function(){var ve=fe.facade;l?G.emit("rejectionHandled",ve):Q("rejectionhandled",ve,fe.value)})},de=function(fe,ve,me){return function(Se){fe(ve,Se,me)}},Z=function(fe,ve,me){fe.done||(fe.done=!0,me&&(fe=me),fe.value=ve,fe.state=2,J(fe,!0))},le=function(fe,ve,me){if(!fe.done){fe.done=!0,me&&(fe=me);try{if(fe.facade===ve)throw new W("Promise can't be resolved itself");var Se=k(ve);Se?$(function(){var xe={done:!1};try{u(Se,ve,de(le,xe,fe),de(Z,xe,fe))}catch(ke){Z(xe,ke,fe)}}):(fe.value=ve,fe.state=1,J(fe,!1))}catch(xe){Z({done:!1},xe,fe)}}};if(O&&(L=(C=function(fe){x(this,L),m(fe),u(r,this);var ve=w(this);try{fe(de(le,ve),de(Z,ve))}catch(me){Z(ve,me)}}).prototype,(r=function(fe){_(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new U,rejection:!1,state:0,value:void 0})}).prototype=d(L,"then",function(fe,ve){var me=w(this),Se=M(I(this,C));return me.parent=!0,Se.ok=!g(fe)||fe,Se.fail=g(ve)&&ve,Se.domain=l?G.domain:void 0,me.state===0?me.reactions.add(Se):$(function(){z(Se,me)}),Se.promise}),i=function(){var fe=new r,ve=w(fe);this.promise=fe,this.resolve=de(le,ve),this.reject=de(Z,ve)},T.f=M=function(fe){return fe===C||fe===void 0?new i(fe):K(fe)},!a&&g(j)&&E!==Object.prototype)){s=E.then,b||d(E,"then",function(fe,ve){var me=this;return new C(function(Se,xe){u(s,me,Se,xe)}).then(fe,ve)},{unsafe:!0});try{delete E.constructor}catch{}h&&h(E,L)}o({global:!0,constructor:!0,wrap:!0,forced:O},{Promise:C}),f(C,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/is-pure"),s=e("../internals/promise-native-constructor"),o=e("../internals/fails"),a=e("../internals/get-built-in"),l=e("../internals/is-callable"),c=e("../internals/species-constructor"),u=e("../internals/promise-resolve"),d=e("../internals/define-built-in"),h=s&&s.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!s&&o(function(){h.finally.call({then:function(){}},function(){})})},{finally:function(p){var m=c(this,a("Promise")),g=l(p);return this.then(g?function(v){return u(m,p()).then(function(){return v})}:p,g?function(v){return u(m,p()).then(function(){throw v})}:p)}}),!i&&l(s)){var f=a("Promise").prototype.finally;h.finally!==f&&d(h,"finally",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,t,n){"use strict";e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-call"),s=e("../internals/a-callable"),o=e("../internals/new-promise-capability"),a=e("../internals/perform"),l=e("../internals/iterate");r({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(c){var u=this,d=o.f(u),h=d.reject,f=a(function(){var p=s(u.resolve);l(c,function(m){i(p,u,m).then(d.resolve,h)})});return f.error&&h(f.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-call"),s=e("../internals/new-promise-capability");r({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(o){var a=s.f(this);return i(a.reject,void 0,o),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/get-built-in"),s=e("../internals/is-pure"),o=e("../internals/promise-native-constructor"),a=e("../internals/promise-constructor-detection").CONSTRUCTOR,l=e("../internals/promise-resolve"),c=i("Promise"),u=s&&!a;r({target:"Promise",stat:!0,forced:s||a},{resolve:function(d){return l(u&&this===c?o:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-uncurry-this"),s=e("../internals/to-absolute-index"),o=RangeError,a=String.fromCharCode,l=String.fromCodePoint,c=i([].join);r({target:"String",stat:!0,arity:1,forced:!!l&&l.length!==1},{fromCodePoint:function(u){for(var d,h=[],f=arguments.length,p=0;f>p;){if(d=+arguments[p++],s(d,1114111)!==d)throw new o(d+" is not a valid code point");h[p]=d<65536?a(d):a(55296+((d-=65536)>>10),d%1024+56320)}return c(h,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-uncurry-this"),s=e("../internals/not-a-regexp"),o=e("../internals/require-object-coercible"),a=e("../internals/to-string"),l=e("../internals/correct-is-regexp-logic"),c=i("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(u){return!!~c(a(o(this)),a(s(u)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,t,n){"use strict";e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/global"),s=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),a=e("../internals/is-pure"),l=e("../internals/descriptors"),c=e("../internals/symbol-constructor-detection"),u=e("../internals/fails"),d=e("../internals/has-own-property"),h=e("../internals/object-is-prototype-of"),f=e("../internals/an-object"),p=e("../internals/to-indexed-object"),m=e("../internals/to-property-key"),g=e("../internals/to-string"),v=e("../internals/create-property-descriptor"),x=e("../internals/object-create"),I=e("../internals/object-keys"),R=e("../internals/object-get-own-property-names"),$=e("../internals/object-get-own-property-names-external"),F=e("../internals/object-get-own-property-symbols"),V=e("../internals/object-get-own-property-descriptor"),U=e("../internals/object-define-property"),q=e("../internals/object-define-properties"),j=e("../internals/object-property-is-enumerable"),S=e("../internals/define-built-in"),T=e("../internals/define-built-in-accessor"),O=e("../internals/shared"),y=e("../internals/shared-key"),b=e("../internals/hidden-keys"),w=e("../internals/uid"),_=e("../internals/well-known-symbol"),E=e("../internals/well-known-symbol-wrapped"),C=e("../internals/well-known-symbol-define"),L=e("../internals/symbol-define-to-primitive"),W=e("../internals/set-to-string-tag"),B=e("../internals/internal-state"),G=e("../internals/array-iteration").forEach,M=y("hidden"),K=B.set,D=B.getterFor("Symbol"),k=Object.prototype,z=i.Symbol,J=z&&z.prototype,Q=i.RangeError,ee=i.TypeError,ne=i.QObject,he=V.f,de=U.f,Z=$.f,le=j.f,fe=o([].push),ve=O("symbols"),me=O("op-symbols"),Se=O("wks"),xe=!ne||!ne.prototype||!ne.prototype.findChild,ke=function(Ze,et,Be){var lt=he(k,et);lt&&delete k[et],de(Ze,et,Be),lt&&Ze!==k&&de(k,et,lt)},Re=l&&u(function(){return x(de({},"a",{get:function(){return de(this,"a",{value:7}).a}})).a!==7})?ke:de,je=function(Ze,et){var Be=ve[Ze]=x(J);return K(Be,{type:"Symbol",tag:Ze,description:et}),l||(Be.description=et),Be},st=function(Ze,et,Be){Ze===k&&st(me,et,Be),f(Ze);var lt=m(et);return f(Be),d(ve,lt)?(Be.enumerable?(d(Ze,M)&&Ze[M][lt]&&(Ze[M][lt]=!1),Be=x(Be,{enumerable:v(0,!1)})):(d(Ze,M)||de(Ze,M,v(1,{})),Ze[M][lt]=!0),Re(Ze,lt,Be)):de(Ze,lt,Be)},Ve=function(Ze,et){f(Ze);var Be=p(et),lt=I(Be).concat($e(Be));return G(lt,function(Xe){l&&!s(Qe,Be,Xe)||st(Ze,Xe,Be[Xe])}),Ze},Qe=function(Ze){var et=m(Ze),Be=s(le,this,et);return!(this===k&&d(ve,et)&&!d(me,et))&&(!(Be||!d(this,et)||!d(ve,et)||d(this,M)&&this[M][et])||Be)},ht=function(Ze,et){var Be=p(Ze),lt=m(et);if(Be!==k||!d(ve,lt)||d(me,lt)){var Xe=he(Be,lt);return!Xe||!d(ve,lt)||d(Be,M)&&Be[M][lt]||(Xe.enumerable=!0),Xe}},Ge=function(Ze){var et=Z(p(Ze)),Be=[];return G(et,function(lt){d(ve,lt)||d(b,lt)||fe(Be,lt)}),Be},$e=function(Ze){var et=Ze===k,Be=Z(et?me:p(Ze)),lt=[];return G(Be,function(Xe){!d(ve,Xe)||et&&!d(k,Xe)||fe(lt,ve[Xe])}),lt};c||(S(J=(z=function(){if(h(J,this))throw new ee("Symbol is not a constructor");var Ze=arguments.length&&arguments[0]!==void 0?g(arguments[0]):void 0,et=w(Ze),Be=function(lt){this===k&&s(Be,me,lt),d(this,M)&&d(this[M],et)&&(this[M][et]=!1);var Xe=v(1,lt);try{Re(this,et,Xe)}catch(mt){if(!(mt instanceof Q))throw mt;ke(this,et,Xe)}};return l&&xe&&Re(k,et,{configurable:!0,set:Be}),je(et,Ze)}).prototype,"toString",function(){return D(this).tag}),S(z,"withoutSetter",function(Ze){return je(w(Ze),Ze)}),j.f=Qe,U.f=st,q.f=Ve,V.f=ht,R.f=$.f=Ge,F.f=$e,E.f=function(Ze){return je(_(Ze),Ze)},l&&(T(J,"description",{configurable:!0,get:function(){return D(this).description}}),a||S(k,"propertyIsEnumerable",Qe,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:z}),G(I(Se),function(Ze){C(Ze)}),r({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){xe=!0},useSimple:function(){xe=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(Ze,et){return et===void 0?x(Ze):Ve(x(Ze),et)},defineProperty:st,defineProperties:Ve,getOwnPropertyDescriptor:ht}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:Ge}),L(),W(z,"Symbol"),b[M]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/get-built-in"),s=e("../internals/has-own-property"),o=e("../internals/to-string"),a=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),c=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(d){var h=o(d);if(s(c,h))return c[h];var f=i("Symbol")(h);return c[h]=f,u[f]=h,f}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,t,n){"use strict";e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/has-own-property"),s=e("../internals/is-symbol"),o=e("../internals/try-to-string"),a=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),c=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(u){if(!s(u))throw new TypeError(o(u)+" is not a symbol");if(i(c,u))return c[u]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,t,n){"use strict";function r(i){return Object.prototype.toString.call(i)}n.isArray=function(i){return Array.isArray?Array.isArray(i):r(i)==="[object Array]"},n.isBoolean=function(i){return typeof i=="boolean"},n.isNull=function(i){return i===null},n.isNullOrUndefined=function(i){return i==null},n.isNumber=function(i){return typeof i=="number"},n.isString=function(i){return typeof i=="string"},n.isSymbol=function(i){return typeof i=="symbol"},n.isUndefined=function(i){return i===void 0},n.isRegExp=function(i){return r(i)==="[object RegExp]"},n.isObject=function(i){return typeof i=="object"&&i!==null},n.isDate=function(i){return r(i)==="[object Date]"},n.isError=function(i){return r(i)==="[object Error]"||i instanceof Error},n.isFunction=function(i){return typeof i=="function"},n.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},n.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,t,n){(function(r){(function(){"use strict";var i=e("elliptic"),s=e("bn.js");t.exports=function(c){return new a(c)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(c){this.curveType=o[c],this.curveType||(this.curveType={name:c}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function l(c,u,d){Array.isArray(c)||(c=c.toArray());var h=new r(c);if(d&&h.length<d){var f=new r(d-h.length);f.fill(0),h=r.concat([f,h])}return u?h.toString(u):h}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(c,u){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,u)},a.prototype.computeSecret=function(c,u,d){return u=u||"utf8",r.isBuffer(c)||(c=new r(c,u)),l(this.curve.keyFromPublic(c).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},a.prototype.getPublicKey=function(c,u){var d=this.keys.getPublic(u==="compressed",!0);return u==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),l(d,c)},a.prototype.getPrivateKey=function(c){return l(this.keys.getPrivate(),c)},a.prototype.setPublicKey=function(c,u){return u=u||"utf8",r.isBuffer(c)||(c=new r(c,u)),this.keys._importPublic(c),this},a.prototype.setPrivateKey=function(c,u){u=u||"utf8",r.isBuffer(c)||(c=new r(c,u));var d=new s(c);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],386:[function(e,t,n){"use strict";var r=e("inherits"),i=e("md5.js"),s=e("ripemd160"),o=e("sha.js"),a=e("cipher-base");function l(c){a.call(this,"digest"),this._hash=c}r(l,a),l.prototype._update=function(c){this._hash.update(c)},l.prototype._final=function(){return this._hash.digest()},t.exports=function(c){return(c=c.toLowerCase())==="md5"?new i:c==="rmd160"||c==="ripemd160"?new s:new l(o(c))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,t,n){"use strict";var r=e("md5.js");t.exports=function(i){return new r().update(i).digest()}},{"md5.js":450}],388:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./legacy"),s=e("cipher-base"),o=e("safe-buffer").Buffer,a=e("create-hash/md5"),l=e("ripemd160"),c=e("sha.js"),u=o.alloc(128);function d(h,f){s.call(this,"digest"),typeof f=="string"&&(f=o.from(f));var p=h==="sha512"||h==="sha384"?128:64;this._alg=h,this._key=f,f.length>p?f=(h==="rmd160"?new l:c(h)).update(f).digest():f.length<p&&(f=o.concat([f,u],p));for(var m=this._ipad=o.allocUnsafe(p),g=this._opad=o.allocUnsafe(p),v=0;v<p;v++)m[v]=54^f[v],g[v]=92^f[v];this._hash=h==="rmd160"?new l:c(h),this._hash.update(m)}r(d,s),d.prototype._update=function(h){this._hash.update(h)},d.prototype._final=function(){var h=this._hash.digest();return(this._alg==="rmd160"?new l:c(this._alg)).update(this._opad).update(h).digest()},t.exports=function(h,f){return(h=h.toLowerCase())==="rmd160"||h==="ripemd160"?new d("rmd160",f):h==="md5"?new i(a,f):new d(h,f)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,t,n){"use strict";var r=e("inherits"),i=e("safe-buffer").Buffer,s=e("cipher-base"),o=i.alloc(128);function a(l,c){s.call(this,"digest"),typeof c=="string"&&(c=i.from(c)),this._alg=l,this._key=c,c.length>64?c=l(c):c.length<64&&(c=i.concat([c,o],64));for(var u=this._ipad=i.allocUnsafe(64),d=this._opad=i.allocUnsafe(64),h=0;h<64;h++)u[h]=54^c[h],d[h]=92^c[h];this._hash=[u]}r(a,s),a.prototype._update=function(l){this._hash.push(l)},a.prototype._final=function(){var l=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,l]))},t.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,t,n){"use strict";n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=e("randombytes"),n.createHash=n.Hash=e("create-hash"),n.createHmac=n.Hmac=e("create-hmac");var r=e("browserify-sign/algos"),i=Object.keys(r),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);n.getHashes=function(){return s};var o=e("pbkdf2");n.pbkdf2=o.pbkdf2,n.pbkdf2Sync=o.pbkdf2Sync;var a=e("browserify-cipher");n.Cipher=a.Cipher,n.createCipher=a.createCipher,n.Cipheriv=a.Cipheriv,n.createCipheriv=a.createCipheriv,n.Decipher=a.Decipher,n.createDecipher=a.createDecipher,n.Decipheriv=a.Decipheriv,n.createDecipheriv=a.createDecipheriv,n.getCiphers=a.getCiphers,n.listCiphers=a.listCiphers;var l=e("diffie-hellman");n.DiffieHellmanGroup=l.DiffieHellmanGroup,n.createDiffieHellmanGroup=l.createDiffieHellmanGroup,n.getDiffieHellman=l.getDiffieHellman,n.createDiffieHellman=l.createDiffieHellman,n.DiffieHellman=l.DiffieHellman;var c=e("browserify-sign");n.createSign=c.createSign,n.Sign=c.Sign,n.createVerify=c.createVerify,n.Verify=c.Verify,n.createECDH=e("create-ecdh");var u=e("public-encrypt");n.publicEncrypt=u.publicEncrypt,n.privateEncrypt=u.privateEncrypt,n.publicDecrypt=u.publicDecrypt,n.privateDecrypt=u.privateDecrypt;var d=e("randomfill");n.randomFill=d.randomFill,n.randomFillSync=d.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,t,n){"use strict";(function(r,i){typeof n=="object"&&t!==void 0?t.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs=i()})(void 0,function(){var r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",f="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var b=["th","st","nd","rd"],w=y%100;return"["+y+(b[(w-20)%10]||b[w]||b[0])+"]"}},I=function(y,b,w){var _=String(y);return!_||_.length>=b?y:""+Array(b+1-_.length).join(w)+y},R={s:I,z:function(y){var b=-y.utcOffset(),w=Math.abs(b),_=Math.floor(w/60),E=w%60;return(b<=0?"+":"-")+I(_,2,"0")+":"+I(E,2,"0")},m:function y(b,w){if(b.date()<w.date())return-y(w,b);var _=12*(w.year()-b.year())+(w.month()-b.month()),E=b.clone().add(_,d),C=w-E<0,L=b.clone().add(_+(C?-1:1),d);return+(-(_+(w-E)/(C?E-L:L-E))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:d,y:f,w:u,d:c,D:p,h:l,m:a,s:o,ms:s,Q:h}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},$="en",F={};F[$]=x;var V="$isDayjsObject",U=function(y){return y instanceof T||!(!y||!y[V])},q=function y(b,w,_){var E;if(!b)return $;if(typeof b=="string"){var C=b.toLowerCase();F[C]&&(E=C),w&&(F[C]=w,E=C);var L=b.split("-");if(!E&&L.length>1)return y(L[0])}else{var W=b.name;F[W]=b,E=W}return!_&&E&&($=E),E||!_&&$},j=function(y,b){if(U(y))return y.clone();var w=typeof b=="object"?b:{};return w.date=y,w.args=arguments,new T(w)},S=R;S.l=q,S.i=U,S.w=function(y,b){return j(y,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var T=function(){function y(w){this.$L=q(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[V]=!0}var b=y.prototype;return b.parse=function(w){this.$d=function(_){var E=_.date,C=_.utc;if(E===null)return new Date(NaN);if(S.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var L=E.match(g);if(L){var W=L[2]-1||0,B=(L[7]||"0").substring(0,3);return C?new Date(Date.UTC(L[1],W,L[3]||1,L[4]||0,L[5]||0,L[6]||0,B)):new Date(L[1],W,L[3]||1,L[4]||0,L[5]||0,L[6]||0,B)}}return new Date(E)}(w),this.init()},b.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},b.$utils=function(){return S},b.isValid=function(){return this.$d.toString()!==m},b.isSame=function(w,_){var E=j(w);return this.startOf(_)<=E&&E<=this.endOf(_)},b.isAfter=function(w,_){return j(w)<this.startOf(_)},b.isBefore=function(w,_){return this.endOf(_)<j(w)},b.$g=function(w,_,E){return S.u(w)?this[_]:this.set(E,w)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(w,_){var E=this,C=!!S.u(_)||_,L=S.p(w),W=function(J,Q){var ee=S.w(E.$u?Date.UTC(E.$y,Q,J):new Date(E.$y,Q,J),E);return C?ee:ee.endOf(c)},B=function(J,Q){return S.w(E.toDate()[J].apply(E.toDate("s"),(C?[0,0,0,0]:[23,59,59,999]).slice(Q)),E)},G=this.$W,M=this.$M,K=this.$D,D="set"+(this.$u?"UTC":"");switch(L){case f:return C?W(1,0):W(31,11);case d:return C?W(1,M):W(0,M+1);case u:var k=this.$locale().weekStart||0,z=(G<k?G+7:G)-k;return W(C?K-z:K+(6-z),M);case c:case p:return B(D+"Hours",0);case l:return B(D+"Minutes",1);case a:return B(D+"Seconds",2);case o:return B(D+"Milliseconds",3);default:return this.clone()}},b.endOf=function(w){return this.startOf(w,!1)},b.$set=function(w,_){var E,C=S.p(w),L="set"+(this.$u?"UTC":""),W=(E={},E[c]=L+"Date",E[p]=L+"Date",E[d]=L+"Month",E[f]=L+"FullYear",E[l]=L+"Hours",E[a]=L+"Minutes",E[o]=L+"Seconds",E[s]=L+"Milliseconds",E)[C],B=C===c?this.$D+(_-this.$W):_;if(C===d||C===f){var G=this.clone().set(p,1);G.$d[W](B),G.init(),this.$d=G.set(p,Math.min(this.$D,G.daysInMonth())).$d}else W&&this.$d[W](B);return this.init(),this},b.set=function(w,_){return this.clone().$set(w,_)},b.get=function(w){return this[S.p(w)]()},b.add=function(w,_){var E,C=this;w=Number(w);var L=S.p(_),W=function(M){var K=j(C);return S.w(K.date(K.date()+Math.round(M*w)),C)};if(L===d)return this.set(d,this.$M+w);if(L===f)return this.set(f,this.$y+w);if(L===c)return W(1);if(L===u)return W(7);var B=(E={},E[a]=r,E[l]=i,E[o]=1e3,E)[L]||1,G=this.$d.getTime()+w*B;return S.w(G,this)},b.subtract=function(w,_){return this.add(-1*w,_)},b.format=function(w){var _=this,E=this.$locale();if(!this.isValid())return E.invalidDate||m;var C=w||"YYYY-MM-DDTHH:mm:ssZ",L=S.z(this),W=this.$H,B=this.$m,G=this.$M,M=E.weekdays,K=E.months,D=E.meridiem,k=function(Q,ee,ne,he){return Q&&(Q[ee]||Q(_,C))||ne[ee].slice(0,he)},z=function(Q){return S.s(W%12||12,Q,"0")},J=D||function(Q,ee,ne){var he=Q<12?"AM":"PM";return ne?he.toLowerCase():he};return C.replace(v,function(Q,ee){return ee||function(ne){switch(ne){case"YY":return String(_.$y).slice(-2);case"YYYY":return S.s(_.$y,4,"0");case"M":return G+1;case"MM":return S.s(G+1,2,"0");case"MMM":return k(E.monthsShort,G,K,3);case"MMMM":return k(K,G);case"D":return _.$D;case"DD":return S.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return k(E.weekdaysMin,_.$W,M,2);case"ddd":return k(E.weekdaysShort,_.$W,M,3);case"dddd":return M[_.$W];case"H":return String(W);case"HH":return S.s(W,2,"0");case"h":return z(1);case"hh":return z(2);case"a":return J(W,B,!0);case"A":return J(W,B,!1);case"m":return String(B);case"mm":return S.s(B,2,"0");case"s":return String(_.$s);case"ss":return S.s(_.$s,2,"0");case"SSS":return S.s(_.$ms,3,"0");case"Z":return L}return null}(Q)||L.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(w,_,E){var C,L=this,W=S.p(_),B=j(w),G=(B.utcOffset()-this.utcOffset())*r,M=this-B,K=function(){return S.m(L,B)};switch(W){case f:C=K()/12;break;case d:C=K();break;case h:C=K()/3;break;case u:C=(M-G)/6048e5;break;case c:C=(M-G)/864e5;break;case l:C=M/i;break;case a:C=M/r;break;case o:C=M/1e3;break;default:C=M}return E?C:S.a(C)},b.daysInMonth=function(){return this.endOf(d).$D},b.$locale=function(){return F[this.$L]},b.locale=function(w,_){if(!w)return this.$L;var E=this.clone(),C=q(w,_,!0);return C&&(E.$L=C),E},b.clone=function(){return S.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},y}(),O=T.prototype;return j.prototype=O,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",f],["$D",p]].forEach(function(y){O[y[1]]=function(b){return this.$g(b,y[0],y[1])}}),j.extend=function(y,b){return y.$i||(y(b,T,j),y.$i=!0),j},j.locale=q,j.isDayjs=U,j.unix=function(y){return j(1e3*y)},j.en=F[$],j.Ls=F,j.p={},j})},{}],392:[function(e,t,n){"use strict";(function(r,i){typeof n=="object"&&t!==void 0?t.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=i()})(void 0,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,o=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},c=function(g){return(g=+g)+(g>68?1900:2e3)},u=function(g){return function(v){this[g]=+v}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),I=60*x[1]+(+x[2]||0);return I===0?0:x[0]==="+"?-I:I}(g)}],h=function(g){var v=l[g];return v&&(v.indexOf?v:v.s.concat(v.f))},f=function(g,v){var x,I=l.meridiem;if(I){for(var R=1;R<=24;R+=1)if(g.indexOf(I(R,0,v))>-1){x=R>12;break}}else x=g===(v?"pm":"PM");return x},p={A:[a,function(g){this.afternoon=f(g,!1)}],a:[a,function(g){this.afternoon=f(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[s,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[s,u("day")],Do:[a,function(g){var v=l.ordinal,x=g.match(/\d+/);if(this.day=x[0],v)for(var I=1;I<=31;I+=1)v(I).replace(/\[|\]/g,"")===g&&(this.day=I)}],M:[o,u("month")],MM:[s,u("month")],MMM:[a,function(g){var v=h("months"),x=(h("monthsShort")||v.map(function(I){return I.slice(0,3)})).indexOf(g)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[a,function(g){var v=h("months").indexOf(g)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,u("year")],YY:[s,function(g){this.year=c(g)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function m(g){var v,x;v=g,x=l&&l.formats;for(var I=(g=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(j,S,T){var O=T&&T.toUpperCase();return S||x[T]||r[T]||x[O].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,b,w){return b||w.slice(1)})})).match(i),R=I.length,$=0;$<R;$+=1){var F=I[$],V=p[F],U=V&&V[0],q=V&&V[1];I[$]=q?{regex:U,parser:q}:F.replace(/^\[|\]$/g,"")}return function(j){for(var S={},T=0,O=0;T<R;T+=1){var y=I[T];if(typeof y=="string")O+=y.length;else{var b=y.regex,w=y.parser,_=j.slice(O),E=b.exec(_)[0];w.call(S,E),j=j.replace(E,"")}}return function(C){var L=C.afternoon;if(L!==void 0){var W=C.hours;L?W<12&&(C.hours+=12):W===12&&(C.hours=0),delete C.afternoon}}(S),S}}return function(g,v,x){x.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(c=g.parseTwoDigitYear);var I=v.prototype,R=I.parse;I.parse=function($){var F=$.date,V=$.utc,U=$.args;this.$u=V;var q=U[1];if(typeof q=="string"){var j=U[2]===!0,S=U[3]===!0,T=j||S,O=U[2];S&&(O=U[2]),l=this.$locale(),!j&&O&&(l=x.Ls[O]),this.$d=function(_,E,C){try{if(["x","X"].indexOf(E)>-1)return new Date((E==="X"?1e3:1)*_);var L=m(E)(_),W=L.year,B=L.month,G=L.day,M=L.hours,K=L.minutes,D=L.seconds,k=L.milliseconds,z=L.zone,J=new Date,Q=G||(W||B?1:J.getDate()),ee=W||J.getFullYear(),ne=0;W&&!B||(ne=B>0?B-1:J.getMonth());var he=M||0,de=K||0,Z=D||0,le=k||0;return z?new Date(Date.UTC(ee,ne,Q,he,de,Z,le+60*z.offset*1e3)):C?new Date(Date.UTC(ee,ne,Q,he,de,Z,le)):new Date(ee,ne,Q,he,de,Z,le)}catch{return new Date("")}}(F,q,V),this.init(),O&&O!==!0&&(this.$L=this.locale(O).$L),T&&F!=this.format(q)&&(this.$d=new Date("")),l={}}else if(q instanceof Array)for(var y=q.length,b=1;b<=y;b+=1){U[1]=q[b-1];var w=x.apply(this,U);if(w.isValid()){this.$d=w.$d,this.$L=w.$L,this.init();break}b===y&&(this.$d=new Date(""))}else R.call(this,$)}}})},{}],393:[function(e,t,n){"use strict";(function(r,i){typeof n=="object"&&t!==void 0?t.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_utc=i()})(void 0,function(){var r="minute",i=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(o,a,l){var c=a.prototype;l.utc=function(g){var v={date:g,utc:!0,args:arguments};return new a(v)},c.utc=function(g){var v=l(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),r):v},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var d=c.init;c.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var h=c.utcOffset;c.utcOffset=function(g,v){var x=this.$utils().u;if(x(g))return this.$u?0:x(this.$offset)?h.call(this):this.$offset;if(typeof g=="string"&&(g=function(F){F===void 0&&(F="");var V=F.match(i);if(!V)return null;var U=(""+V[0]).match(s)||["-",0,0],q=U[0],j=60*+U[1]+ +U[2];return j===0?0:q==="+"?j:-j}(g))===null)return this;var I=Math.abs(g)<=16?60*g:g,R=this;if(v)return R.$offset=I,R.$u=g===0,R;if(g!==0){var $=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(R=this.local().add(I+$,r)).$offset=I,R.$x.$localOffset=$}else R=this.utc();return R};var f=c.format;c.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,v)},c.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var p=c.toDate;c.toDate=function(g){return g==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=c.diff;c.diff=function(g,v,x){if(g&&this.$u===g.$u)return m.call(this,g,v,x);var I=this.local(),R=l(g).local();return m.call(I,R,v,x)}}})},{}],394:[function(e,t,n){"use strict";n.utils=e("./des/utils"),n.Cipher=e("./des/cipher"),n.DES=e("./des/des"),n.CBC=e("./des/cbc"),n.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,t,n){"use strict";var r=e("minimalistic-assert"),i=e("inherits"),s={};function o(a){r.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var l=0;l<this.iv.length;l++)this.iv[l]=a[l]}n.instantiate=function(a){function l(h){a.call(this,h),this._cbcInit()}i(l,a);for(var c=Object.keys(s),u=0;u<c.length;u++){var d=c[u];l.prototype[d]=s[d]}return l.create=function(h){return new l(h)},l},s._cbcInit=function(){var a=new o(this.options.iv);this._cbcState=a},s._update=function(a,l,c,u){var d=this._cbcState,h=this.constructor.super_.prototype,f=d.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)f[p]^=a[l+p];for(h._update.call(this,f,0,c,u),p=0;p<this.blockSize;p++)f[p]=c[u+p]}else{for(h._update.call(this,a,l,c,u),p=0;p<this.blockSize;p++)c[u+p]^=f[p];for(p=0;p<this.blockSize;p++)f[p]=a[l+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,t,n){"use strict";var r=e("minimalistic-assert");function i(s){this.options=s,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=s.padding!==!1}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(s){return s.length===0?[]:this.type==="decrypt"?this._updateDecrypt(s):this._updateEncrypt(s)},i.prototype._buffer=function(s,o){for(var a=Math.min(this.buffer.length-this.bufferOff,s.length-o),l=0;l<a;l++)this.buffer[this.bufferOff+l]=s[o+l];return this.bufferOff+=a,a},i.prototype._flushBuffer=function(s,o){return this._update(this.buffer,0,s,o),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(s){var o=0,a=0,l=(this.bufferOff+s.length)/this.blockSize|0,c=new Array(l*this.blockSize);this.bufferOff!==0&&(o+=this._buffer(s,o),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(c,a)));for(var u=s.length-(s.length-o)%this.blockSize;o<u;o+=this.blockSize)this._update(s,o,c,a),a+=this.blockSize;for(;o<s.length;o++,this.bufferOff++)this.buffer[this.bufferOff]=s[o];return c},i.prototype._updateDecrypt=function(s){for(var o=0,a=0,l=Math.ceil((this.bufferOff+s.length)/this.blockSize)-1,c=new Array(l*this.blockSize);l>0;l--)o+=this._buffer(s,o),a+=this._flushBuffer(c,a);return o+=this._buffer(s,o),c},i.prototype.final=function(s){var o,a;return s&&(o=this.update(s)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),o?o.concat(a):a},i.prototype._pad=function(s,o){if(o===0)return!1;for(;o<s.length;)s[o++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var s=new Array(this.blockSize);return this._update(this.buffer,0,s,0),s},i.prototype._unpad=function(s){return s},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var s=new Array(this.blockSize);return this._flushBuffer(s,0),this._unpad(s)}},{"minimalistic-assert":453}],397:[function(e,t,n){"use strict";var r=e("minimalistic-assert"),i=e("inherits"),s=e("./utils"),o=e("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function l(u){o.call(this,u);var d=new a;this._desState=d,this.deriveKeys(d,u.key)}i(l,o),t.exports=l,l.create=function(u){return new l(u)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(u,d){u.keys=new Array(32),r.equal(d.length,this.blockSize,"Invalid key length");var h=s.readUInt32BE(d,0),f=s.readUInt32BE(d,4);s.pc1(h,f,u.tmp,0),h=u.tmp[0],f=u.tmp[1];for(var p=0;p<u.keys.length;p+=2){var m=c[p>>>1];h=s.r28shl(h,m),f=s.r28shl(f,m),s.pc2(h,f,u.keys,p)}},l.prototype._update=function(u,d,h,f){var p=this._desState,m=s.readUInt32BE(u,d),g=s.readUInt32BE(u,d+4);s.ip(m,g,p.tmp,0),m=p.tmp[0],g=p.tmp[1],this.type==="encrypt"?this._encrypt(p,m,g,p.tmp,0):this._decrypt(p,m,g,p.tmp,0),m=p.tmp[0],g=p.tmp[1],s.writeUInt32BE(h,m,f),s.writeUInt32BE(h,g,f+4)},l.prototype._pad=function(u,d){if(this.padding===!1)return!1;for(var h=u.length-d,f=d;f<u.length;f++)u[f]=h;return!0},l.prototype._unpad=function(u){if(this.padding===!1)return u;for(var d=u[u.length-1],h=u.length-d;h<u.length;h++)r.equal(u[h],d);return u.slice(0,u.length-d)},l.prototype._encrypt=function(u,d,h,f,p){for(var m=d,g=h,v=0;v<u.keys.length;v+=2){var x=u.keys[v],I=u.keys[v+1];s.expand(g,u.tmp,0),x^=u.tmp[0],I^=u.tmp[1];var R=s.substitute(x,I),$=g;g=(m^s.permute(R))>>>0,m=$}s.rip(g,m,f,p)},l.prototype._decrypt=function(u,d,h,f,p){for(var m=h,g=d,v=u.keys.length-2;v>=0;v-=2){var x=u.keys[v],I=u.keys[v+1];s.expand(m,u.tmp,0),x^=u.tmp[0],I^=u.tmp[1];var R=s.substitute(x,I),$=m;m=(g^s.permute(R))>>>0,g=$}s.rip(m,g,f,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,t,n){"use strict";var r=e("minimalistic-assert"),i=e("inherits"),s=e("./cipher"),o=e("./des");function a(c,u){r.equal(u.length,24,"Invalid key length");var d=u.slice(0,8),h=u.slice(8,16),f=u.slice(16,24);this.ciphers=c==="encrypt"?[o.create({type:"encrypt",key:d}),o.create({type:"decrypt",key:h}),o.create({type:"encrypt",key:f})]:[o.create({type:"decrypt",key:f}),o.create({type:"encrypt",key:h}),o.create({type:"decrypt",key:d})]}function l(c){s.call(this,c);var u=new a(this.type,this.options.key);this._edeState=u}i(l,s),t.exports=l,l.create=function(c){return new l(c)},l.prototype._update=function(c,u,d,h){var f=this._edeState;f.ciphers[0]._update(c,u,d,h),f.ciphers[1]._update(d,h,d,h),f.ciphers[2]._update(d,h,d,h)},l.prototype._pad=o.prototype._pad,l.prototype._unpad=o.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,t,n){"use strict";n.readUInt32BE=function(o,a){return(o[0+a]<<24|o[1+a]<<16|o[2+a]<<8|o[3+a])>>>0},n.writeUInt32BE=function(o,a,l){o[0+l]=a>>>24,o[1+l]=a>>>16&255,o[2+l]=a>>>8&255,o[3+l]=255&a},n.ip=function(o,a,l,c){for(var u=0,d=0,h=6;h>=0;h-=2){for(var f=0;f<=24;f+=8)u<<=1,u|=a>>>f+h&1;for(f=0;f<=24;f+=8)u<<=1,u|=o>>>f+h&1}for(h=6;h>=0;h-=2){for(f=1;f<=25;f+=8)d<<=1,d|=a>>>f+h&1;for(f=1;f<=25;f+=8)d<<=1,d|=o>>>f+h&1}l[c+0]=u>>>0,l[c+1]=d>>>0},n.rip=function(o,a,l,c){for(var u=0,d=0,h=0;h<4;h++)for(var f=24;f>=0;f-=8)u<<=1,u|=a>>>f+h&1,u<<=1,u|=o>>>f+h&1;for(h=4;h<8;h++)for(f=24;f>=0;f-=8)d<<=1,d|=a>>>f+h&1,d<<=1,d|=o>>>f+h&1;l[c+0]=u>>>0,l[c+1]=d>>>0},n.pc1=function(o,a,l,c){for(var u=0,d=0,h=7;h>=5;h--){for(var f=0;f<=24;f+=8)u<<=1,u|=a>>f+h&1;for(f=0;f<=24;f+=8)u<<=1,u|=o>>f+h&1}for(f=0;f<=24;f+=8)u<<=1,u|=a>>f+h&1;for(h=1;h<=3;h++){for(f=0;f<=24;f+=8)d<<=1,d|=a>>f+h&1;for(f=0;f<=24;f+=8)d<<=1,d|=o>>f+h&1}for(f=0;f<=24;f+=8)d<<=1,d|=o>>f+h&1;l[c+0]=u>>>0,l[c+1]=d>>>0},n.r28shl=function(o,a){return o<<a&268435455|o>>>28-a};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(o,a,l,c){for(var u=0,d=0,h=r.length>>>1,f=0;f<h;f++)u<<=1,u|=o>>>r[f]&1;for(f=h;f<r.length;f++)d<<=1,d|=a>>>r[f]&1;l[c+0]=u>>>0,l[c+1]=d>>>0},n.expand=function(o,a,l){var c=0,u=0;c=(1&o)<<5|o>>>27;for(var d=23;d>=15;d-=4)c<<=6,c|=o>>>d&63;for(d=11;d>=3;d-=4)u|=o>>>d&63,u<<=6;u|=(31&o)<<1|o>>>31,a[l+0]=c>>>0,a[l+1]=u>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(o,a){for(var l=0,c=0;c<4;c++)l<<=4,l|=i[64*c+(o>>>18-6*c&63)];for(c=0;c<4;c++)l<<=4,l|=i[256+64*c+(a>>>18-6*c&63)];return l>>>0};var s=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(o){for(var a=0,l=0;l<s.length;l++)a<<=1,a|=o>>>s[l]&1;return a>>>0},n.padSplit=function(o,a,l){for(var c=o.toString(2);c.length<a;)c="0"+c;for(var u=[],d=0;d<a;d+=l)u.push(c.slice(d,d+l));return u.join(" ")}},{}],400:[function(e,t,n){(function(r){(function(){"use strict";var i=e("./lib/generatePrime"),s=e("./lib/primes.json"),o=e("./lib/dh"),a={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(l){var c=new r(s[l].prime,"hex"),u=new r(s[l].gen,"hex");return new o(c,u)},n.createDiffieHellman=n.DiffieHellman=function l(c,u,d,h){return r.isBuffer(u)||a[u]===void 0?l(c,"binary",u,d):(u=u||"binary",h=h||"binary",d=d||new r([2]),r.isBuffer(d)||(d=new r(d,h)),typeof c=="number"?new o(i(c,d),d,!0):(r.isBuffer(c)||(c=new r(c,u)),new o(c,d,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,t,n){(function(r){(function(){"use strict";var i=e("bn.js"),s=new(e("miller-rabin")),o=new i(24),a=new i(11),l=new i(10),c=new i(3),u=new i(7),d=e("./generatePrime"),h=e("randombytes");function f(x,I){return I=I||"utf8",r.isBuffer(x)||(x=new r(x,I)),this._pub=new i(x),this}function p(x,I){return I=I||"utf8",r.isBuffer(x)||(x=new r(x,I)),this._priv=new i(x),this}t.exports=g;var m={};function g(x,I,R){this.setGenerator(I),this.__prime=new i(x),this._prime=i.mont(this.__prime),this._primeLen=x.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=f,this.setPrivateKey=p):this._primeCode=8}function v(x,I){var R=new r(x.toArray());return I?R.toString(I):R}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(x,I){var R=I.toString("hex"),$=[R,x.toString(16)].join("_");if($ in m)return m[$];var F,V=0;if(x.isEven()||!d.simpleSieve||!d.fermatTest(x)||!s.test(x))return V+=1,V+=R==="02"||R==="05"?8:4,m[$]=V,V;switch(s.test(x.shrn(1))||(V+=2),R){case"02":x.mod(o).cmp(a)&&(V+=8);break;case"05":(F=x.mod(l)).cmp(c)&&F.cmp(u)&&(V+=8);break;default:V+=4}return m[$]=V,V}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new i(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(x){var I=(x=(x=new i(x)).toRed(this._prime)).redPow(this._priv).fromRed(),R=new r(I.toArray()),$=this.getPrime();if(R.length<$.length){var F=new r($.length-R.length);F.fill(0),R=r.concat([F,R])}return R},g.prototype.getPublicKey=function(x){return v(this._pub,x)},g.prototype.getPrivateKey=function(x){return v(this._priv,x)},g.prototype.getPrime=function(x){return v(this.__prime,x)},g.prototype.getGenerator=function(x){return v(this._gen,x)},g.prototype.setGenerator=function(x,I){return I=I||"utf8",r.isBuffer(x)||(x=new r(x,I)),this.__gen=x,this._gen=new i(x),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,t,n){"use strict";var r=e("randombytes");t.exports=x,x.simpleSieve=g,x.fermatTest=v;var i=e("bn.js"),s=new i(24),o=new(e("miller-rabin")),a=new i(1),l=new i(2),c=new i(5),u=(new i(16),new i(8),new i(10)),d=new i(3),h=(new i(7),new i(11)),f=new i(4),p=(new i(12),null);function m(){if(p!==null)return p;var I=[];I[0]=2;for(var R=1,$=3;$<1048576;$+=2){for(var F=Math.ceil(Math.sqrt($)),V=0;V<R&&I[V]<=F&&$%I[V]!=0;V++);R!==V&&I[V]<=F||(I[R++]=$)}return p=I,I}function g(I){for(var R=m(),$=0;$<R.length;$++)if(I.modn(R[$])===0)return I.cmpn(R[$])===0;return!0}function v(I){var R=i.mont(I);return l.toRed(R).redPow(I.subn(1)).fromRed().cmpn(1)===0}function x(I,R){if(I<16)return new i(R===2||R===5?[140,123]:[140,39]);var $,F;for(R=new i(R);;){for($=new i(r(Math.ceil(I/8)));$.bitLength()>I;)$.ishrn(1);if($.isEven()&&$.iadd(a),$.testn(1)||$.iadd(l),R.cmp(l)){if(!R.cmp(c))for(;$.mod(u).cmp(d);)$.iadd(f)}else for(;$.mod(s).cmp(h);)$.iadd(f);if(g(F=$.shrn(1))&&g($)&&v(F)&&v($)&&o.test(F)&&o.test($))return $}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,t,n){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],405:[function(e,t,n){"use strict";var r=n;r.version=e("../package.json").version,r.utils=e("./elliptic/utils"),r.rand=e("brorand"),r.curve=e("./elliptic/curve"),r.curves=e("./elliptic/curves"),r.ec=e("./elliptic/ec"),r.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("../utils"),s=i.getNAF,o=i.getJSF,a=i.assert;function l(u,d){this.type=u,this.p=new r(d.p,16),this.red=d.prime?r.red(d.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=d.n&&new r(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var h=this.n&&this.p.div(this.n);!h||h.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(u,d){this.curve=u,this.type=d,this.precomputed=null}t.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(u,d){a(u.precomputed);var h=u._getDoubles(),f=s(d,1,this._bitLength),p=(1<<h.step+1)-(h.step%2==0?2:1);p/=3;var m,g,v=[];for(m=0;m<f.length;m+=h.step){g=0;for(var x=m+h.step-1;x>=m;x--)g=(g<<1)+f[x];v.push(g)}for(var I=this.jpoint(null,null,null),R=this.jpoint(null,null,null),$=p;$>0;$--){for(m=0;m<v.length;m++)(g=v[m])===$?R=R.mixedAdd(h.points[m]):g===-$&&(R=R.mixedAdd(h.points[m].neg()));I=I.add(R)}return I.toP()},l.prototype._wnafMul=function(u,d){var h=4,f=u._getNAFPoints(h);h=f.wnd;for(var p=f.points,m=s(d,h,this._bitLength),g=this.jpoint(null,null,null),v=m.length-1;v>=0;v--){for(var x=0;v>=0&&m[v]===0;v--)x++;if(v>=0&&x++,g=g.dblp(x),v<0)break;var I=m[v];a(I!==0),g=u.type==="affine"?I>0?g.mixedAdd(p[I-1>>1]):g.mixedAdd(p[-I-1>>1].neg()):I>0?g.add(p[I-1>>1]):g.add(p[-I-1>>1].neg())}return u.type==="affine"?g.toP():g},l.prototype._wnafMulAdd=function(u,d,h,f,p){var m,g,v,x=this._wnafT1,I=this._wnafT2,R=this._wnafT3,$=0;for(m=0;m<f;m++){var F=(v=d[m])._getNAFPoints(u);x[m]=F.wnd,I[m]=F.points}for(m=f-1;m>=1;m-=2){var V=m-1,U=m;if(x[V]===1&&x[U]===1){var q=[d[V],null,null,d[U]];d[V].y.cmp(d[U].y)===0?(q[1]=d[V].add(d[U]),q[2]=d[V].toJ().mixedAdd(d[U].neg())):d[V].y.cmp(d[U].y.redNeg())===0?(q[1]=d[V].toJ().mixedAdd(d[U]),q[2]=d[V].add(d[U].neg())):(q[1]=d[V].toJ().mixedAdd(d[U]),q[2]=d[V].toJ().mixedAdd(d[U].neg()));var j=[-3,-1,-5,-7,0,7,5,1,3],S=o(h[V],h[U]);for($=Math.max(S[0].length,$),R[V]=new Array($),R[U]=new Array($),g=0;g<$;g++){var T=0|S[0][g],O=0|S[1][g];R[V][g]=j[3*(T+1)+(O+1)],R[U][g]=0,I[V]=q}}else R[V]=s(h[V],x[V],this._bitLength),R[U]=s(h[U],x[U],this._bitLength),$=Math.max(R[V].length,$),$=Math.max(R[U].length,$)}var y=this.jpoint(null,null,null),b=this._wnafT4;for(m=$;m>=0;m--){for(var w=0;m>=0;){var _=!0;for(g=0;g<f;g++)b[g]=0|R[g][m],b[g]!==0&&(_=!1);if(!_)break;w++,m--}if(m>=0&&w++,y=y.dblp(w),m<0)break;for(g=0;g<f;g++){var E=b[g];E!==0&&(E>0?v=I[g][E-1>>1]:E<0&&(v=I[g][-E-1>>1].neg()),y=v.type==="affine"?y.mixedAdd(v):y.add(v))}}for(m=0;m<f;m++)I[m]=null;return p?y:y.toP()},l.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(u,d){u=i.toArray(u,d);var h=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1==2*h)return u[0]===6?a(u[u.length-1]%2==0):u[0]===7&&a(u[u.length-1]%2==1),this.point(u.slice(1,1+h),u.slice(1+h,1+2*h));if((u[0]===2||u[0]===3)&&u.length-1===h)return this.pointFromX(u.slice(1,1+h),u[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(u){return this.encode(u,!0)},c.prototype._encode=function(u){var d=this.curve.p.byteLength(),h=this.getX().toArray("be",d);return u?[this.getY().isEven()?2:3].concat(h):[4].concat(h,this.getY().toArray("be",d))},c.prototype.encode=function(u,d){return i.encode(this._encode(d),u)},c.prototype.precompute=function(u){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,u),d.beta=this._getBeta(),this.precomputed=d,this},c.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((u.bitLength()+1)/d.step)},c.prototype._getDoubles=function(u,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var h=[this],f=this,p=0;p<d;p+=u){for(var m=0;m<u;m++)f=f.dbl();h.push(f)}return{step:u,points:h}},c.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],h=(1<<u)-1,f=h===1?null:this.dbl(),p=1;p<h;p++)d[p]=d[p-1].add(f);return{wnd:u,points:d}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(u){for(var d=this,h=0;h<u;h++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(e,t,n){"use strict";var r=e("../utils"),i=e("bn.js"),s=e("inherits"),o=e("./base"),a=r.assert;function l(u){this.twisted=(0|u.a)!=1,this.mOneA=this.twisted&&(0|u.a)==-1,this.extended=this.mOneA,o.call(this,"edwards",u),this.a=new i(u.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(u.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(u.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|u.c)==1}function c(u,d,h,f,p){o.BasePoint.call(this,u,"projective"),d===null&&h===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(d,16),this.y=new i(h,16),this.z=f?new i(f,16):this.curve.one,this.t=p&&new i(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(l,o),t.exports=l,l.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},l.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},l.prototype.jpoint=function(u,d,h,f){return this.point(u,d,h,f)},l.prototype.pointFromX=function(u,d){(u=new i(u,16)).red||(u=u.toRed(this.red));var h=u.redSqr(),f=this.c2.redSub(this.a.redMul(h)),p=this.one.redSub(this.c2.redMul(this.d).redMul(h)),m=f.redMul(p.redInvm()),g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var v=g.fromRed().isOdd();return(d&&!v||!d&&v)&&(g=g.redNeg()),this.point(u,g)},l.prototype.pointFromY=function(u,d){(u=new i(u,16)).red||(u=u.toRed(this.red));var h=u.redSqr(),f=h.redSub(this.c2),p=h.redMul(this.d).redMul(this.c2).redSub(this.a),m=f.redMul(p.redInvm());if(m.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,u)}var g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");return g.fromRed().isOdd()!==d&&(g=g.redNeg()),this.point(g,u)},l.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var d=u.x.redSqr(),h=u.y.redSqr(),f=d.redMul(this.a).redAdd(h),p=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(h)));return f.cmp(p)===0},s(c,o.BasePoint),l.prototype.pointFromJSON=function(u){return c.fromJSON(this,u)},l.prototype.point=function(u,d,h,f){return new c(this,u,d,h,f)},c.fromJSON=function(u,d){return new c(u,d[0],d[1],d[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var u=this.x.redSqr(),d=this.y.redSqr(),h=this.z.redSqr();h=h.redIAdd(h);var f=this.curve._mulA(u),p=this.x.redAdd(this.y).redSqr().redISub(u).redISub(d),m=f.redAdd(d),g=m.redSub(h),v=f.redSub(d),x=p.redMul(g),I=m.redMul(v),R=p.redMul(v),$=g.redMul(m);return this.curve.point(x,I,$,R)},c.prototype._projDbl=function(){var u,d,h,f,p,m,g=this.x.redAdd(this.y).redSqr(),v=this.x.redSqr(),x=this.y.redSqr();if(this.curve.twisted){var I=(f=this.curve._mulA(v)).redAdd(x);this.zOne?(u=g.redSub(v).redSub(x).redMul(I.redSub(this.curve.two)),d=I.redMul(f.redSub(x)),h=I.redSqr().redSub(I).redSub(I)):(p=this.z.redSqr(),m=I.redSub(p).redISub(p),u=g.redSub(v).redISub(x).redMul(m),d=I.redMul(f.redSub(x)),h=I.redMul(m))}else f=v.redAdd(x),p=this.curve._mulC(this.z).redSqr(),m=f.redSub(p).redSub(p),u=this.curve._mulC(g.redISub(f)).redMul(m),d=this.curve._mulC(f).redMul(v.redISub(x)),h=f.redMul(m);return this.curve.point(u,d,h)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(u){var d=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),h=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),f=this.t.redMul(this.curve.dd).redMul(u.t),p=this.z.redMul(u.z.redAdd(u.z)),m=h.redSub(d),g=p.redSub(f),v=p.redAdd(f),x=h.redAdd(d),I=m.redMul(g),R=v.redMul(x),$=m.redMul(x),F=g.redMul(v);return this.curve.point(I,R,F,$)},c.prototype._projAdd=function(u){var d,h,f=this.z.redMul(u.z),p=f.redSqr(),m=this.x.redMul(u.x),g=this.y.redMul(u.y),v=this.curve.d.redMul(m).redMul(g),x=p.redSub(v),I=p.redAdd(v),R=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(m).redISub(g),$=f.redMul(x).redMul(R);return this.curve.twisted?(d=f.redMul(I).redMul(g.redSub(this.curve._mulA(m))),h=x.redMul(I)):(d=f.redMul(I).redMul(g.redSub(m)),h=this.curve._mulC(x).redMul(I)),this.curve.point($,d,h)},c.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},c.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},c.prototype.mulAdd=function(u,d,h){return this.curve._wnafMulAdd(1,[this,d],[u,h],2,!1)},c.prototype.jmulAdd=function(u,d,h){return this.curve._wnafMulAdd(1,[this,d],[u,h],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},c.prototype.eqXToP=function(u){var d=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var h=u.clone(),f=this.curve.redN.redMul(this.z);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(f),this.x.cmp(d)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,t,n){"use strict";var r=n;r.base=e("./base"),r.short=e("./short"),r.mont=e("./mont"),r.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("inherits"),s=e("./base"),o=e("../utils");function a(c){s.call(this,"mont",c),this.a=new r(c.a,16).toRed(this.red),this.b=new r(c.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(c,u,d){s.BasePoint.call(this,c,"projective"),u===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(u,16),this.z=new r(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),t.exports=a,a.prototype.validate=function(c){var u=c.normalize().x,d=u.redSqr(),h=d.redMul(u).redAdd(d.redMul(this.a)).redAdd(u);return h.redSqrt().redSqr().cmp(h)===0},i(l,s.BasePoint),a.prototype.decodePoint=function(c,u){return this.point(o.toArray(c,u),1)},a.prototype.point=function(c,u){return new l(this,c,u)},a.prototype.pointFromJSON=function(c){return l.fromJSON(this,c)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(c,u){return new l(c,u[0],u[1]||c.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var c=this.x.redAdd(this.z).redSqr(),u=this.x.redSub(this.z).redSqr(),d=c.redSub(u),h=c.redMul(u),f=d.redMul(u.redAdd(this.curve.a24.redMul(d)));return this.curve.point(h,f)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(c,u){var d=this.x.redAdd(this.z),h=this.x.redSub(this.z),f=c.x.redAdd(c.z),p=c.x.redSub(c.z).redMul(d),m=f.redMul(h),g=u.z.redMul(p.redAdd(m).redSqr()),v=u.x.redMul(p.redISub(m).redSqr());return this.curve.point(g,v)},l.prototype.mul=function(c){for(var u=c.clone(),d=this,h=this.curve.point(null,null),f=[];u.cmpn(0)!==0;u.iushrn(1))f.push(u.andln(1));for(var p=f.length-1;p>=0;p--)f[p]===0?(d=d.diffAdd(h,this),h=h.dbl()):(h=d.diffAdd(h,this),d=d.dbl());return h},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,t,n){"use strict";var r=e("../utils"),i=e("bn.js"),s=e("inherits"),o=e("./base"),a=r.assert;function l(d){o.call(this,"short",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(d,h,f,p){o.BasePoint.call(this,d,"affine"),h===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(h,16),this.y=new i(f,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(d,h,f,p){o.BasePoint.call(this,d,"jacobian"),h===null&&f===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(h,16),this.y=new i(f,16),this.z=new i(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(l,o),t.exports=l,l.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var h,f;if(d.beta)h=new i(d.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);h=(h=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(d.lambda)f=new i(d.lambda,16);else{var m=this._getEndoRoots(this.n);this.g.mul(m[0]).x.cmp(this.g.x.redMul(h))===0?f=m[0]:(f=m[1],a(this.g.mul(f).x.cmp(this.g.x.redMul(h))===0))}return{beta:h,lambda:f,basis:d.basis?d.basis.map(function(g){return{a:new i(g.a,16),b:new i(g.b,16)}}):this._getEndoBasis(f)}}},l.prototype._getEndoRoots=function(d){var h=d===this.p?this.red:i.mont(d),f=new i(2).toRed(h).redInvm(),p=f.redNeg(),m=new i(3).toRed(h).redNeg().redSqrt().redMul(f);return[p.redAdd(m).fromRed(),p.redSub(m).fromRed()]},l.prototype._getEndoBasis=function(d){for(var h,f,p,m,g,v,x,I,R,$=this.n.ushrn(Math.floor(this.n.bitLength()/2)),F=d,V=this.n.clone(),U=new i(1),q=new i(0),j=new i(0),S=new i(1),T=0;F.cmpn(0)!==0;){var O=V.div(F);I=V.sub(O.mul(F)),R=j.sub(O.mul(U));var y=S.sub(O.mul(q));if(!p&&I.cmp($)<0)h=x.neg(),f=U,p=I.neg(),m=R;else if(p&&++T==2)break;x=I,V=F,F=I,j=U,U=R,S=q,q=y}g=I.neg(),v=R;var b=p.sqr().add(m.sqr());return g.sqr().add(v.sqr()).cmp(b)>=0&&(g=h,v=f),p.negative&&(p=p.neg(),m=m.neg()),g.negative&&(g=g.neg(),v=v.neg()),[{a:p,b:m},{a:g,b:v}]},l.prototype._endoSplit=function(d){var h=this.endo.basis,f=h[0],p=h[1],m=p.b.mul(d).divRound(this.n),g=f.b.neg().mul(d).divRound(this.n),v=m.mul(f.a),x=g.mul(p.a),I=m.mul(f.b),R=g.mul(p.b);return{k1:d.sub(v).sub(x),k2:I.add(R).neg()}},l.prototype.pointFromX=function(d,h){(d=new i(d,16)).red||(d=d.toRed(this.red));var f=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),p=f.redSqrt();if(p.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var m=p.fromRed().isOdd();return(h&&!m||!h&&m)&&(p=p.redNeg()),this.point(d,p)},l.prototype.validate=function(d){if(d.inf)return!0;var h=d.x,f=d.y,p=this.a.redMul(h),m=h.redSqr().redMul(h).redIAdd(p).redIAdd(this.b);return f.redSqr().redISub(m).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(d,h,f){for(var p=this._endoWnafT1,m=this._endoWnafT2,g=0;g<d.length;g++){var v=this._endoSplit(h[g]),x=d[g],I=x._getBeta();v.k1.negative&&(v.k1.ineg(),x=x.neg(!0)),v.k2.negative&&(v.k2.ineg(),I=I.neg(!0)),p[2*g]=x,p[2*g+1]=I,m[2*g]=v.k1,m[2*g+1]=v.k2}for(var R=this._wnafMulAdd(1,p,m,2*g,f),$=0;$<2*g;$++)p[$]=null,m[$]=null;return R},s(c,o.BasePoint),l.prototype.point=function(d,h,f){return new c(this,d,h,f)},l.prototype.pointFromJSON=function(d,h){return c.fromJSON(this,d,h)},c.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var h=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var f=this.curve,p=function(m){return f.point(m.x.redMul(f.endo.beta),m.y)};d.beta=h,h.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(p)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(p)}}}return h}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(d,h,f){typeof h=="string"&&(h=JSON.parse(h));var p=d.point(h[0],h[1],f);if(!h[2])return p;function m(v){return d.point(v[0],v[1],f)}var g=h[2];return p.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[p].concat(g.doubles.points.map(m))},naf:g.naf&&{wnd:g.naf.wnd,points:[p].concat(g.naf.points.map(m))}},p},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var h=this.y.redSub(d.y);h.cmpn(0)!==0&&(h=h.redMul(this.x.redSub(d.x).redInvm()));var f=h.redSqr().redISub(this.x).redISub(d.x),p=h.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,p)},c.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var h=this.curve.a,f=this.x.redSqr(),p=d.redInvm(),m=f.redAdd(f).redIAdd(f).redIAdd(h).redMul(p),g=m.redSqr().redISub(this.x.redAdd(this.x)),v=m.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,v)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(d){return d=new i(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},c.prototype.mulAdd=function(d,h,f){var p=[this,h],m=[d,f];return this.curve.endo?this.curve._endoWnafMulAdd(p,m):this.curve._wnafMulAdd(1,p,m,2)},c.prototype.jmulAdd=function(d,h,f){var p=[this,h],m=[d,f];return this.curve.endo?this.curve._endoWnafMulAdd(p,m,!0):this.curve._wnafMulAdd(1,p,m,2,!0)},c.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},c.prototype.neg=function(d){if(this.inf)return this;var h=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var f=this.precomputed,p=function(m){return m.neg()};h.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(p)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(p)}}}return h},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(u,o.BasePoint),l.prototype.jpoint=function(d,h,f){return new u(this,d,h,f)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),h=d.redSqr(),f=this.x.redMul(h),p=this.y.redMul(h).redMul(d);return this.curve.point(f,p)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var h=d.z.redSqr(),f=this.z.redSqr(),p=this.x.redMul(h),m=d.x.redMul(f),g=this.y.redMul(h.redMul(d.z)),v=d.y.redMul(f.redMul(this.z)),x=p.redSub(m),I=g.redSub(v);if(x.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=x.redSqr(),$=R.redMul(x),F=p.redMul(R),V=I.redSqr().redIAdd($).redISub(F).redISub(F),U=I.redMul(F.redISub(V)).redISub(g.redMul($)),q=this.z.redMul(d.z).redMul(x);return this.curve.jpoint(V,U,q)},u.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var h=this.z.redSqr(),f=this.x,p=d.x.redMul(h),m=this.y,g=d.y.redMul(h).redMul(this.z),v=f.redSub(p),x=m.redSub(g);if(v.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=v.redSqr(),R=I.redMul(v),$=f.redMul(I),F=x.redSqr().redIAdd(R).redISub($).redISub($),V=x.redMul($.redISub(F)).redISub(m.redMul(R)),U=this.z.redMul(v);return this.curve.jpoint(F,V,U)},u.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var h;if(this.curve.zeroA||this.curve.threeA){var f=this;for(h=0;h<d;h++)f=f.dbl();return f}var p=this.curve.a,m=this.curve.tinv,g=this.x,v=this.y,x=this.z,I=x.redSqr().redSqr(),R=v.redAdd(v);for(h=0;h<d;h++){var $=g.redSqr(),F=R.redSqr(),V=F.redSqr(),U=$.redAdd($).redIAdd($).redIAdd(p.redMul(I)),q=g.redMul(F),j=U.redSqr().redISub(q.redAdd(q)),S=q.redISub(j),T=U.redMul(S);T=T.redIAdd(T).redISub(V);var O=R.redMul(x);h+1<d&&(I=I.redMul(V)),g=j,x=O,R=T}return this.curve.jpoint(g,R.redMul(m),x)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var d,h,f;if(this.zOne){var p=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),v=this.x.redAdd(m).redSqr().redISub(p).redISub(g);v=v.redIAdd(v);var x=p.redAdd(p).redIAdd(p),I=x.redSqr().redISub(v).redISub(v),R=g.redIAdd(g);R=(R=R.redIAdd(R)).redIAdd(R),d=I,h=x.redMul(v.redISub(I)).redISub(R),f=this.y.redAdd(this.y)}else{var $=this.x.redSqr(),F=this.y.redSqr(),V=F.redSqr(),U=this.x.redAdd(F).redSqr().redISub($).redISub(V);U=U.redIAdd(U);var q=$.redAdd($).redIAdd($),j=q.redSqr(),S=V.redIAdd(V);S=(S=S.redIAdd(S)).redIAdd(S),d=j.redISub(U).redISub(U),h=q.redMul(U.redISub(d)).redISub(S),f=(f=this.y.redMul(this.z)).redIAdd(f)}return this.curve.jpoint(d,h,f)},u.prototype._threeDbl=function(){var d,h,f;if(this.zOne){var p=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),v=this.x.redAdd(m).redSqr().redISub(p).redISub(g);v=v.redIAdd(v);var x=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),I=x.redSqr().redISub(v).redISub(v);d=I;var R=g.redIAdd(g);R=(R=R.redIAdd(R)).redIAdd(R),h=x.redMul(v.redISub(I)).redISub(R),f=this.y.redAdd(this.y)}else{var $=this.z.redSqr(),F=this.y.redSqr(),V=this.x.redMul(F),U=this.x.redSub($).redMul(this.x.redAdd($));U=U.redAdd(U).redIAdd(U);var q=V.redIAdd(V),j=(q=q.redIAdd(q)).redAdd(q);d=U.redSqr().redISub(j),f=this.y.redAdd(this.z).redSqr().redISub(F).redISub($);var S=F.redSqr();S=(S=(S=S.redIAdd(S)).redIAdd(S)).redIAdd(S),h=U.redMul(q.redISub(d)).redISub(S)}return this.curve.jpoint(d,h,f)},u.prototype._dbl=function(){var d=this.curve.a,h=this.x,f=this.y,p=this.z,m=p.redSqr().redSqr(),g=h.redSqr(),v=f.redSqr(),x=g.redAdd(g).redIAdd(g).redIAdd(d.redMul(m)),I=h.redAdd(h),R=(I=I.redIAdd(I)).redMul(v),$=x.redSqr().redISub(R.redAdd(R)),F=R.redISub($),V=v.redSqr();V=(V=(V=V.redIAdd(V)).redIAdd(V)).redIAdd(V);var U=x.redMul(F).redISub(V),q=f.redAdd(f).redMul(p);return this.curve.jpoint($,U,q)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),h=this.y.redSqr(),f=this.z.redSqr(),p=h.redSqr(),m=d.redAdd(d).redIAdd(d),g=m.redSqr(),v=this.x.redAdd(h).redSqr().redISub(d).redISub(p),x=(v=(v=(v=v.redIAdd(v)).redAdd(v).redIAdd(v)).redISub(g)).redSqr(),I=p.redIAdd(p);I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var R=m.redIAdd(v).redSqr().redISub(g).redISub(x).redISub(I),$=h.redMul(R);$=($=$.redIAdd($)).redIAdd($);var F=this.x.redMul(x).redISub($);F=(F=F.redIAdd(F)).redIAdd(F);var V=this.y.redMul(R.redMul(I.redISub(R)).redISub(v.redMul(x)));V=(V=(V=V.redIAdd(V)).redIAdd(V)).redIAdd(V);var U=this.z.redAdd(v).redSqr().redISub(f).redISub(x);return this.curve.jpoint(F,V,U)},u.prototype.mul=function(d,h){return d=new i(d,h),this.curve._wnafMul(this,d)},u.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var h=this.z.redSqr(),f=d.z.redSqr();if(this.x.redMul(f).redISub(d.x.redMul(h)).cmpn(0)!==0)return!1;var p=h.redMul(this.z),m=f.redMul(d.z);return this.y.redMul(m).redISub(d.y.redMul(p)).cmpn(0)===0},u.prototype.eqXToP=function(d){var h=this.z.redSqr(),f=d.toRed(this.curve.red).redMul(h);if(this.x.cmp(f)===0)return!0;for(var p=d.clone(),m=this.curve.redN.redMul(h);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(m),this.x.cmp(f)===0)return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,t,n){"use strict";var r,i=n,s=e("hash.js"),o=e("./curve"),a=e("./utils").assert;function l(u){u.type==="short"?this.curve=new o.short(u):u.type==="edwards"?this.curve=new o.edwards(u):this.curve=new o.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(u,d){Object.defineProperty(i,u,{configurable:!0,enumerable:!0,get:function(){var h=new l(d);return Object.defineProperty(i,u,{configurable:!0,enumerable:!0,value:h}),h}})}i.PresetCurve=l,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=e("./precomputed/secp256k1")}catch{r=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("hmac-drbg"),s=e("../utils"),o=e("../curves"),a=e("brorand"),l=s.assert,c=e("./key"),u=e("./signature");function d(h){if(!(this instanceof d))return new d(h);typeof h=="string"&&(l(Object.prototype.hasOwnProperty.call(o,h),"Unknown curve "+h),h=o[h]),h instanceof o.PresetCurve&&(h={curve:h}),this.curve=h.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=h.curve.g,this.g.precompute(h.curve.n.bitLength()+1),this.hash=h.hash||h.curve.hash}t.exports=d,d.prototype.keyPair=function(h){return new c(this,h)},d.prototype.keyFromPrivate=function(h,f){return c.fromPrivate(this,h,f)},d.prototype.keyFromPublic=function(h,f){return c.fromPublic(this,h,f)},d.prototype.genKeyPair=function(h){h||(h={});for(var f=new i({hash:this.hash,pers:h.pers,persEnc:h.persEnc||"utf8",entropy:h.entropy||a(this.hash.hmacStrength),entropyEnc:h.entropy&&h.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),m=this.n.sub(new r(2));;){var g=new r(f.generate(p));if(!(g.cmp(m)>0))return g.iaddn(1),this.keyFromPrivate(g)}},d.prototype._truncateToN=function(h,f){var p=8*h.byteLength()-this.n.bitLength();return p>0&&(h=h.ushrn(p)),!f&&h.cmp(this.n)>=0?h.sub(this.n):h},d.prototype.sign=function(h,f,p,m){typeof p=="object"&&(m=p,p=null),m||(m={}),f=this.keyFromPrivate(f,p),h=this._truncateToN(new r(h,16));for(var g=this.n.byteLength(),v=f.getPrivate().toArray("be",g),x=h.toArray("be",g),I=new i({hash:this.hash,entropy:v,nonce:x,pers:m.pers,persEnc:m.persEnc||"utf8"}),R=this.n.sub(new r(1)),$=0;;$++){var F=m.k?m.k($):new r(I.generate(this.n.byteLength()));if(!((F=this._truncateToN(F,!0)).cmpn(1)<=0||F.cmp(R)>=0)){var V=this.g.mul(F);if(!V.isInfinity()){var U=V.getX(),q=U.umod(this.n);if(q.cmpn(0)!==0){var j=F.invm(this.n).mul(q.mul(f.getPrivate()).iadd(h));if((j=j.umod(this.n)).cmpn(0)!==0){var S=(V.getY().isOdd()?1:0)|(U.cmp(q)!==0?2:0);return m.canonical&&j.cmp(this.nh)>0&&(j=this.n.sub(j),S^=1),new u({r:q,s:j,recoveryParam:S})}}}}}},d.prototype.verify=function(h,f,p,m){h=this._truncateToN(new r(h,16)),p=this.keyFromPublic(p,m);var g=(f=new u(f,"hex")).r,v=f.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var x,I=v.invm(this.n),R=I.mul(h).umod(this.n),$=I.mul(g).umod(this.n);return this.curve._maxwellTrick?!(x=this.g.jmulAdd(R,p.getPublic(),$)).isInfinity()&&x.eqXToP(g):!(x=this.g.mulAdd(R,p.getPublic(),$)).isInfinity()&&x.getX().umod(this.n).cmp(g)===0},d.prototype.recoverPubKey=function(h,f,p,m){l((3&p)===p,"The recovery param is more than two bits"),f=new u(f,m);var g=this.n,v=new r(h),x=f.r,I=f.s,R=1&p,$=p>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&$)throw new Error("Unable to find sencond key candinate");x=$?this.curve.pointFromX(x.add(this.curve.n),R):this.curve.pointFromX(x,R);var F=f.r.invm(g),V=g.sub(v).mul(F).umod(g),U=I.mul(F).umod(g);return this.g.mulAdd(V,x,U)},d.prototype.getKeyRecoveryParam=function(h,f,p,m){if((f=new u(f,m)).recoveryParam!==null)return f.recoveryParam;for(var g=0;g<4;g++){var v;try{v=this.recoverPubKey(h,f,g)}catch{continue}if(v.eq(p))return g}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("../utils").assert;function s(o,a){this.ec=o,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}t.exports=s,s.fromPublic=function(o,a,l){return a instanceof s?a:new s(o,{pub:a,pubEnc:l})},s.fromPrivate=function(o,a,l){return a instanceof s?a:new s(o,{priv:a,privEnc:l})},s.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(o,a){return typeof o=="string"&&(a=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,o):this.pub},s.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(o,a){this.priv=new r(o,a||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(o,a){if(o.x||o.y)return this.ec.curve.type==="mont"?i(o.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||i(o.x&&o.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(o.x,o.y));this.pub=this.ec.curve.decodePoint(o,a)},s.prototype.derive=function(o){return o.validate()||i(o.validate(),"public point not validated"),o.mul(this.priv).getX()},s.prototype.sign=function(o,a,l){return this.ec.sign(o,this,a,l)},s.prototype.verify=function(o,a){return this.ec.verify(o,a,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("../utils"),s=i.assert;function o(d,h){if(d instanceof o)return d;this._importDER(d,h)||(s(d.r&&d.s,"Signature without r or s"),this.r=new r(d.r,16),this.s=new r(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function a(){this.place=0}function l(d,h){var f=d[h.place++];if(!(128&f))return f;var p=15&f;if(p===0||p>4)return!1;for(var m=0,g=0,v=h.place;g<p;g++,v++)m<<=8,m|=d[v],m>>>=0;return!(m<=127)&&(h.place=v,m)}function c(d){for(var h=0,f=d.length-1;!d[h]&&!(128&d[h+1])&&h<f;)h++;return h===0?d:d.slice(h)}function u(d,h){if(h<128)d.push(h);else{var f=1+(Math.log(h)/Math.LN2>>>3);for(d.push(128|f);--f;)d.push(h>>>(f<<3)&255);d.push(h)}}t.exports=o,o.prototype._importDER=function(d,h){d=i.toArray(d,h);var f=new a;if(d[f.place++]!==48)return!1;var p=l(d,f);if(p===!1||p+f.place!==d.length||d[f.place++]!==2)return!1;var m=l(d,f);if(m===!1)return!1;var g=d.slice(f.place,m+f.place);if(f.place+=m,d[f.place++]!==2)return!1;var v=l(d,f);if(v===!1||d.length!==v+f.place)return!1;var x=d.slice(f.place,v+f.place);if(g[0]===0){if(!(128&g[1]))return!1;g=g.slice(1)}if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}return this.r=new r(g),this.s=new r(x),this.recoveryParam=null,!0},o.prototype.toDER=function(d){var h=this.r.toArray(),f=this.s.toArray();for(128&h[0]&&(h=[0].concat(h)),128&f[0]&&(f=[0].concat(f)),h=c(h),f=c(f);!(f[0]||128&f[1]);)f=f.slice(1);var p=[2];u(p,h.length),(p=p.concat(h)).push(2),u(p,f.length);var m=p.concat(f),g=[48];return u(g,m.length),g=g.concat(m),i.encode(g,d)}},{"../utils":419,"bn.js":420}],415:[function(e,t,n){"use strict";var r=e("hash.js"),i=e("../curves"),s=e("../utils"),o=s.assert,a=s.parseBytes,l=e("./key"),c=e("./signature");function u(d){if(o(d==="ed25519","only tested with ed25519 so far"),!(this instanceof u))return new u(d);d=i[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=r.sha512}t.exports=u,u.prototype.sign=function(d,h){d=a(d);var f=this.keyFromSecret(h),p=this.hashInt(f.messagePrefix(),d),m=this.g.mul(p),g=this.encodePoint(m),v=this.hashInt(g,f.pubBytes(),d).mul(f.priv()),x=p.add(v).umod(this.curve.n);return this.makeSignature({R:m,S:x,Rencoded:g})},u.prototype.verify=function(d,h,f){d=a(d),h=this.makeSignature(h);var p=this.keyFromPublic(f),m=this.hashInt(h.Rencoded(),p.pubBytes(),d),g=this.g.mul(h.S());return h.R().add(p.pub().mul(m)).eq(g)},u.prototype.hashInt=function(){for(var d=this.hash(),h=0;h<arguments.length;h++)d.update(arguments[h]);return s.intFromLE(d.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(d){return l.fromPublic(this,d)},u.prototype.keyFromSecret=function(d){return l.fromSecret(this,d)},u.prototype.makeSignature=function(d){return d instanceof c?d:new c(this,d)},u.prototype.encodePoint=function(d){var h=d.getY().toArray("le",this.encodingLength);return h[this.encodingLength-1]|=d.getX().isOdd()?128:0,h},u.prototype.decodePoint=function(d){var h=(d=s.parseBytes(d)).length-1,f=d.slice(0,h).concat(-129&d[h]),p=(128&d[h])!=0,m=s.intFromLE(f);return this.curve.pointFromY(m,p)},u.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(d){return s.intFromLE(d)},u.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,t,n){"use strict";var r=e("../utils"),i=r.assert,s=r.parseBytes,o=r.cachedProperty;function a(l,c){this.eddsa=l,this._secret=s(c.secret),l.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=s(c.pub)}a.fromPublic=function(l,c){return c instanceof a?c:new a(l,{pub:c})},a.fromSecret=function(l,c){return c instanceof a?c:new a(l,{secret:c})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(a,"privBytes",function(){var l=this.eddsa,c=this.hash(),u=l.encodingLength-1,d=c.slice(0,l.encodingLength);return d[0]&=248,d[u]&=127,d[u]|=64,d}),o(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(l){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},a.prototype.verify=function(l,c){return this.eddsa.verify(l,c,this)},a.prototype.getSecret=function(l){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),l)},a.prototype.getPublic=function(l){return r.encode(this.pubBytes(),l)},t.exports=a},{"../utils":419}],417:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("../utils"),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function l(c,u){this.eddsa=c,typeof u!="object"&&(u=a(u)),Array.isArray(u)&&(u={R:u.slice(0,c.encodingLength),S:u.slice(c.encodingLength)}),s(u.R&&u.S,"Signature without R or S"),c.isPoint(u.R)&&(this._R=u.R),u.S instanceof r&&(this._S=u.S),this._Rencoded=Array.isArray(u.R)?u.R:u.Rencoded,this._Sencoded=Array.isArray(u.S)?u.S:u.Sencoded}o(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=l},{"../utils":419,"bn.js":420}],418:[function(e,t,n){"use strict";t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,t,n){"use strict";var r=n,i=e("bn.js"),s=e("minimalistic-assert"),o=e("minimalistic-crypto-utils");r.assert=s,r.toArray=o.toArray,r.zero2=o.zero2,r.toHex=o.toHex,r.encode=o.encode,r.getNAF=function(a,l,c){var u=new Array(Math.max(a.bitLength(),c)+1);u.fill(0);for(var d=1<<l+1,h=a.clone(),f=0;f<u.length;f++){var p,m=h.andln(d-1);h.isOdd()?(p=m>(d>>1)-1?(d>>1)-m:m,h.isubn(p)):p=0,u[f]=p,h.iushrn(1)}return u},r.getJSF=function(a,l){var c=[[],[]];a=a.clone(),l=l.clone();for(var u,d=0,h=0;a.cmpn(-d)>0||l.cmpn(-h)>0;){var f,p,m=a.andln(3)+d&3,g=l.andln(3)+h&3;m===3&&(m=-1),g===3&&(g=-1),f=(1&m)==0?0:(u=a.andln(7)+d&7)!==3&&u!==5||g!==2?m:-m,c[0].push(f),p=(1&g)==0?0:(u=l.andln(7)+h&7)!==3&&u!==5||m!==2?g:-g,c[1].push(p),2*d===f+1&&(d=1-d),2*h===p+1&&(h=1-h),a.iushrn(1),l.iushrn(1)}return c},r.cachedProperty=function(a,l,c){var u="_"+l;a.prototype[l]=function(){return this[u]!==void 0?this[u]:this[u]=c.call(this)}},r.parseBytes=function(a){return typeof a=="string"?r.toArray(a,"hex"):a},r.intFromLE=function(a){return new i(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],421:[function(e,t,n){t.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,t,n){"use strict";var r=Object.create||function(F){var V=function(){};return V.prototype=F,new V},i=Object.keys||function(F){var V=[];for(var U in F)Object.prototype.hasOwnProperty.call(F,U)&&V.push(U);return U},s=Function.prototype.bind||function(F){var V=this;return function(){return V.apply(F,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0;var a,l=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),a=c.x===0}catch{a=!1}function u(F){return F._maxListeners===void 0?o.defaultMaxListeners:F._maxListeners}function d(F,V,U){if(V)F.call(U);else for(var q=F.length,j=$(F,q),S=0;S<q;++S)j[S].call(U)}function h(F,V,U,q){if(V)F.call(U,q);else for(var j=F.length,S=$(F,j),T=0;T<j;++T)S[T].call(U,q)}function f(F,V,U,q,j){if(V)F.call(U,q,j);else for(var S=F.length,T=$(F,S),O=0;O<S;++O)T[O].call(U,q,j)}function p(F,V,U,q,j,S){if(V)F.call(U,q,j,S);else for(var T=F.length,O=$(F,T),y=0;y<T;++y)O[y].call(U,q,j,S)}function m(F,V,U,q){if(V)F.apply(U,q);else for(var j=F.length,S=$(F,j),T=0;T<j;++T)S[T].apply(U,q)}function g(F,V,U,q){var j,S,T;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if((S=F._events)?(S.newListener&&(F.emit("newListener",V,U.listener?U.listener:U),S=F._events),T=S[V]):(S=F._events=r(null),F._eventsCount=0),T){if(typeof T=="function"?T=S[V]=q?[U,T]:[T,U]:q?T.unshift(U):T.push(U),!T.warned&&(j=u(F))&&j>0&&T.length>j){T.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+T.length+' "'+String(V)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');O.name="MaxListenersExceededWarning",O.emitter=F,O.type=V,O.count=T.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",O.name,O.message)}}else T=S[V]=U,++F._eventsCount;return F}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var F=new Array(arguments.length),V=0;V<F.length;++V)F[V]=arguments[V];this.listener.apply(this.target,F)}}function x(F,V,U){var q={fired:!1,wrapFn:void 0,target:F,type:V,listener:U},j=s.call(v,q);return j.listener=U,q.wrapFn=j,j}function I(F,V,U){var q=F._events;if(!q)return[];var j=q[V];return j?typeof j=="function"?U?[j.listener||j]:[j]:U?function(S){for(var T=new Array(S.length),O=0;O<T.length;++O)T[O]=S[O].listener||S[O];return T}(j):$(j,j.length):[]}function R(F){var V=this._events;if(V){var U=V[F];if(typeof U=="function")return 1;if(U)return U.length}return 0}function $(F,V){for(var U=new Array(V),q=0;q<V;++q)U[q]=F[q];return U}a?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(F){if(typeof F!="number"||F<0||F!=F)throw new TypeError('"defaultMaxListeners" must be a positive number');l=F}}):o.defaultMaxListeners=l,o.prototype.setMaxListeners=function(F){if(typeof F!="number"||F<0||isNaN(F))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=F,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(F){var V,U,q,j,S,T,O=F==="error";if(T=this._events)O=O&&T.error==null;else if(!O)return!1;if(O){if(arguments.length>1&&(V=arguments[1]),V instanceof Error)throw V;var y=new Error('Unhandled "error" event. ('+V+")");throw y.context=V,y}if(!(U=T[F]))return!1;var b=typeof U=="function";switch(q=arguments.length){case 1:d(U,b,this);break;case 2:h(U,b,this,arguments[1]);break;case 3:f(U,b,this,arguments[1],arguments[2]);break;case 4:p(U,b,this,arguments[1],arguments[2],arguments[3]);break;default:for(j=new Array(q-1),S=1;S<q;S++)j[S-1]=arguments[S];m(U,b,this,j)}return!0},o.prototype.addListener=function(F,V){return g(this,F,V,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(F,V){return g(this,F,V,!0)},o.prototype.once=function(F,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.on(F,x(this,F,V)),this},o.prototype.prependOnceListener=function(F,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(F,x(this,F,V)),this},o.prototype.removeListener=function(F,V){var U,q,j,S,T;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(!(q=this._events))return this;if(!(U=q[F]))return this;if(U===V||U.listener===V)--this._eventsCount==0?this._events=r(null):(delete q[F],q.removeListener&&this.emit("removeListener",F,U.listener||V));else if(typeof U!="function"){for(j=-1,S=U.length-1;S>=0;S--)if(U[S]===V||U[S].listener===V){T=U[S].listener,j=S;break}if(j<0)return this;j===0?U.shift():function(O,y){for(var b=y,w=b+1,_=O.length;w<_;b+=1,w+=1)O[b]=O[w];O.pop()}(U,j),U.length===1&&(q[F]=U[0]),q.removeListener&&this.emit("removeListener",F,T||V)}return this},o.prototype.removeAllListeners=function(F){var V,U,q;if(!(U=this._events))return this;if(!U.removeListener)return arguments.length===0?(this._events=r(null),this._eventsCount=0):U[F]&&(--this._eventsCount==0?this._events=r(null):delete U[F]),this;if(arguments.length===0){var j,S=i(U);for(q=0;q<S.length;++q)(j=S[q])!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if(typeof(V=U[F])=="function")this.removeListener(F,V);else if(V)for(q=V.length-1;q>=0;q--)this.removeListener(F,V[q]);return this},o.prototype.listeners=function(F){return I(this,F,!0)},o.prototype.rawListeners=function(F){return I(this,F,!1)},o.listenerCount=function(F,V){return typeof F.listenerCount=="function"?F.listenerCount(V):R.call(F,V)},o.prototype.listenerCount=R,o.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("md5.js");t.exports=function(s,o,a,l){if(r.isBuffer(s)||(s=r.from(s,"binary")),o&&(r.isBuffer(o)||(o=r.from(o,"binary")),o.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=a/8,u=r.alloc(c),d=r.alloc(l||0),h=r.alloc(0);c>0||l>0;){var f=new i;f.update(h),f.update(s),o&&f.update(o),h=f.digest();var p=0;if(c>0){var m=u.length-c;p=Math.min(c,h.length),h.copy(u,m,0,p),c-=p}if(p<h.length&&l>0){var g=d.length-l,v=Math.min(l,h.length-p);h.copy(d,g,p,p+v),l-=v}}return h.fill(0),{key:u,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=n.ParserOptions=n.parseFile=n.parseStream=n.parseString=n.parse=n.FormatterOptions=n.CsvFormatterStream=n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=void 0;var r=e("@fast-csv/format");Object.defineProperty(n,"format",{enumerable:!0,get:function(){return r.format}}),Object.defineProperty(n,"write",{enumerable:!0,get:function(){return r.write}}),Object.defineProperty(n,"writeToStream",{enumerable:!0,get:function(){return r.writeToStream}}),Object.defineProperty(n,"writeToBuffer",{enumerable:!0,get:function(){return r.writeToBuffer}}),Object.defineProperty(n,"writeToString",{enumerable:!0,get:function(){return r.writeToString}}),Object.defineProperty(n,"writeToPath",{enumerable:!0,get:function(){return r.writeToPath}}),Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return r.CsvFormatterStream}}),Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return r.FormatterOptions}});var i=e("@fast-csv/parse");Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return i.parse}}),Object.defineProperty(n,"parseString",{enumerable:!0,get:function(){return i.parseString}}),Object.defineProperty(n,"parseStream",{enumerable:!0,get:function(){return i.parseStream}}),Object.defineProperty(n,"parseFile",{enumerable:!0,get:function(){return i.parseFile}}),Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return i.ParserOptions}}),Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return i.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("readable-stream").Transform;function s(o){i.call(this),this._block=r.allocUnsafe(o),this._blockSize=o,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(s,i),s.prototype._transform=function(o,a,l){var c=null;try{this.update(o,a)}catch(u){c=u}l(c)},s.prototype._flush=function(o){var a=null;try{this.push(this.digest())}catch(l){a=l}o(a)},s.prototype.update=function(o,a){if(function(f,p){if(!r.isBuffer(f)&&typeof f!="string")throw new TypeError(p+" must be a string or a buffer")}(o,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(o)||(o=r.from(o,a));for(var l=this._block,c=0;this._blockOffset+o.length-c>=this._blockSize;){for(var u=this._blockOffset;u<this._blockSize;)l[u++]=o[c++];this._update(),this._blockOffset=0}for(;c<o.length;)l[this._blockOffset++]=o[c++];for(var d=0,h=8*o.length;h>0;++d)this._length[d]+=h,(h=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*h);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(o){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();o!==void 0&&(a=a.toString(o)),this._block.fill(0),this._blockOffset=0;for(var l=0;l<4;++l)this._length[l]=0;return a},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,t,n){"use strict";var r=n;r.utils=e("./hash/utils"),r.common=e("./hash/common"),r.sha=e("./hash/sha"),r.ripemd=e("./hash/ripemd"),r.hmac=e("./hash/hmac"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,t,n){"use strict";var r=e("./utils"),i=e("minimalistic-assert");function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=s,s.prototype.update=function(o,a){if(o=r.toArray(o,a),this.pending?this.pending=this.pending.concat(o):this.pending=o,this.pendingTotal+=o.length,this.pending.length>=this._delta8){var l=(o=this.pending).length%this._delta8;this.pending=o.slice(o.length-l,o.length),this.pending.length===0&&(this.pending=null),o=r.join32(o,0,o.length-l,this.endian);for(var c=0;c<o.length;c+=this._delta32)this._update(o,c,c+this._delta32)}return this},s.prototype.digest=function(o){return this.update(this._pad()),i(this.pending===null),this._digest(o)},s.prototype._pad=function(){var o=this.pendingTotal,a=this._delta8,l=a-(o+this.padLength)%a,c=new Array(l+this.padLength);c[0]=128;for(var u=1;u<l;u++)c[u]=0;if(o<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)c[u++]=0;c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=o>>>24&255,c[u++]=o>>>16&255,c[u++]=o>>>8&255,c[u++]=255&o}else for(c[u++]=255&o,c[u++]=o>>>8&255,c[u++]=o>>>16&255,c[u++]=o>>>24&255,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,d=8;d<this.padLength;d++)c[u++]=0;return c}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,t,n){"use strict";var r=e("./utils"),i=e("minimalistic-assert");function s(o,a,l){if(!(this instanceof s))return new s(o,a,l);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(a,l))}t.exports=s,s.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),i(o.length<=this.blockSize);for(var a=o.length;a<this.blockSize;a++)o.push(0);for(a=0;a<o.length;a++)o[a]^=54;for(this.inner=new this.Hash().update(o),a=0;a<o.length;a++)o[a]^=106;this.outer=new this.Hash().update(o)},s.prototype.update=function(o,a){return this.inner.update(o,a),this},s.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./common"),s=r.rotl32,o=r.sum32,a=r.sum32_3,l=r.sum32_4,c=i.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(x,I,R,$){return x<=15?I^R^$:x<=31?I&R|~I&$:x<=47?(I|~R)^$:x<=63?I&$|R&~$:I^(R|~$)}function h(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function f(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}r.inherits(u,c),n.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(x,I){for(var R=this.h[0],$=this.h[1],F=this.h[2],V=this.h[3],U=this.h[4],q=R,j=$,S=F,T=V,O=U,y=0;y<80;y++){var b=o(s(l(R,d(y,$,F,V),x[p[y]+I],h(y)),g[y]),U);R=U,U=V,V=s(F,10),F=$,$=b,b=o(s(l(q,d(79-y,j,S,T),x[m[y]+I],f(y)),v[y]),O),q=O,O=T,T=s(S,10),S=j,j=b}b=a(this.h[1],F,T),this.h[1]=a(this.h[2],V,O),this.h[2]=a(this.h[3],U,q),this.h[3]=a(this.h[4],R,j),this.h[4]=a(this.h[0],$,S),this.h[0]=b},u.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,t,n){"use strict";n.sha1=e("./sha/1"),n.sha224=e("./sha/224"),n.sha256=e("./sha/256"),n.sha384=e("./sha/384"),n.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../common"),s=e("./common"),o=r.rotl32,a=r.sum32,l=r.sum32_5,c=s.ft_1,u=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(h,u),t.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(f,p){for(var m=this.W,g=0;g<16;g++)m[g]=f[p+g];for(;g<m.length;g++)m[g]=o(m[g-3]^m[g-8]^m[g-14]^m[g-16],1);var v=this.h[0],x=this.h[1],I=this.h[2],R=this.h[3],$=this.h[4];for(g=0;g<m.length;g++){var F=~~(g/20),V=l(o(v,5),c(F,x,I,R),$,m[g],d[F]);$=R,R=I,I=o(x,30),x=v,v=V}this.h[0]=a(this.h[0],v),this.h[1]=a(this.h[1],x),this.h[2]=a(this.h[2],I),this.h[3]=a(this.h[3],R),this.h[4]=a(this.h[4],$)},h.prototype._digest=function(f){return f==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./256");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(s,i),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(o){return o==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../common"),s=e("./common"),o=e("minimalistic-assert"),a=r.sum32,l=r.sum32_4,c=r.sum32_5,u=s.ch32,d=s.maj32,h=s.s0_256,f=s.s1_256,p=s.g0_256,m=s.g1_256,g=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}r.inherits(x,g),t.exports=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(I,R){for(var $=this.W,F=0;F<16;F++)$[F]=I[R+F];for(;F<$.length;F++)$[F]=l(m($[F-2]),$[F-7],p($[F-15]),$[F-16]);var V=this.h[0],U=this.h[1],q=this.h[2],j=this.h[3],S=this.h[4],T=this.h[5],O=this.h[6],y=this.h[7];for(o(this.k.length===$.length),F=0;F<$.length;F++){var b=c(y,f(S),u(S,T,O),this.k[F],$[F]),w=a(h(V),d(V,U,q));y=O,O=T,T=S,S=a(j,b),j=q,q=U,U=V,V=a(b,w)}this.h[0]=a(this.h[0],V),this.h[1]=a(this.h[1],U),this.h[2]=a(this.h[2],q),this.h[3]=a(this.h[3],j),this.h[4]=a(this.h[4],S),this.h[5]=a(this.h[5],T),this.h[6]=a(this.h[6],O),this.h[7]=a(this.h[7],y)},x.prototype._digest=function(I){return I==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./512");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(s,i),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(o){return o==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../common"),s=e("minimalistic-assert"),o=r.rotr64_hi,a=r.rotr64_lo,l=r.shr64_hi,c=r.shr64_lo,u=r.sum64,d=r.sum64_hi,h=r.sum64_lo,f=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,g=r.sum64_5_lo,v=i.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}function R(w,_,E,C,L){var W=w&E^~w&L;return W<0&&(W+=4294967296),W}function $(w,_,E,C,L,W){var B=_&C^~_&W;return B<0&&(B+=4294967296),B}function F(w,_,E,C,L){var W=w&E^w&L^E&L;return W<0&&(W+=4294967296),W}function V(w,_,E,C,L,W){var B=_&C^_&W^C&W;return B<0&&(B+=4294967296),B}function U(w,_){var E=o(w,_,28)^o(_,w,2)^o(_,w,7);return E<0&&(E+=4294967296),E}function q(w,_){var E=a(w,_,28)^a(_,w,2)^a(_,w,7);return E<0&&(E+=4294967296),E}function j(w,_){var E=o(w,_,14)^o(w,_,18)^o(_,w,9);return E<0&&(E+=4294967296),E}function S(w,_){var E=a(w,_,14)^a(w,_,18)^a(_,w,9);return E<0&&(E+=4294967296),E}function T(w,_){var E=o(w,_,1)^o(w,_,8)^l(w,_,7);return E<0&&(E+=4294967296),E}function O(w,_){var E=a(w,_,1)^a(w,_,8)^c(w,_,7);return E<0&&(E+=4294967296),E}function y(w,_){var E=o(w,_,19)^o(_,w,29)^l(w,_,6);return E<0&&(E+=4294967296),E}function b(w,_){var E=a(w,_,19)^a(_,w,29)^c(w,_,6);return E<0&&(E+=4294967296),E}r.inherits(I,v),t.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(w,_){for(var E=this.W,C=0;C<32;C++)E[C]=w[_+C];for(;C<E.length;C+=2){var L=y(E[C-4],E[C-3]),W=b(E[C-4],E[C-3]),B=E[C-14],G=E[C-13],M=T(E[C-30],E[C-29]),K=O(E[C-30],E[C-29]),D=E[C-32],k=E[C-31];E[C]=f(L,W,B,G,M,K,D,k),E[C+1]=p(L,W,B,G,M,K,D,k)}},I.prototype._update=function(w,_){this._prepareBlock(w,_);var E=this.W,C=this.h[0],L=this.h[1],W=this.h[2],B=this.h[3],G=this.h[4],M=this.h[5],K=this.h[6],D=this.h[7],k=this.h[8],z=this.h[9],J=this.h[10],Q=this.h[11],ee=this.h[12],ne=this.h[13],he=this.h[14],de=this.h[15];s(this.k.length===E.length);for(var Z=0;Z<E.length;Z+=2){var le=he,fe=de,ve=j(k,z),me=S(k,z),Se=R(k,z,J,Q,ee),xe=$(k,z,J,Q,ee,ne),ke=this.k[Z],Re=this.k[Z+1],je=E[Z],st=E[Z+1],Ve=m(le,fe,ve,me,Se,xe,ke,Re,je,st),Qe=g(le,fe,ve,me,Se,xe,ke,Re,je,st);le=U(C,L),fe=q(C,L),ve=F(C,L,W,B,G),me=V(C,L,W,B,G,M);var ht=d(le,fe,ve,me),Ge=h(le,fe,ve,me);he=ee,de=ne,ee=J,ne=Q,J=k,Q=z,k=d(K,D,Ve,Qe),z=h(D,D,Ve,Qe),K=G,D=M,G=W,M=B,W=C,B=L,C=d(Ve,Qe,ht,Ge),L=h(Ve,Qe,ht,Ge)}u(this.h,0,C,L),u(this.h,2,W,B),u(this.h,4,G,M),u(this.h,6,K,D),u(this.h,8,k,z),u(this.h,10,J,Q),u(this.h,12,ee,ne),u(this.h,14,he,de)},I.prototype._digest=function(w){return w==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,t,n){"use strict";var r=e("../utils").rotr32;function i(a,l,c){return a&l^~a&c}function s(a,l,c){return a&l^a&c^l&c}function o(a,l,c){return a^l^c}n.ft_1=function(a,l,c,u){return a===0?i(l,c,u):a===1||a===3?o(l,c,u):a===2?s(l,c,u):void 0},n.ch32=i,n.maj32=s,n.p32=o,n.s0_256=function(a){return r(a,2)^r(a,13)^r(a,22)},n.s1_256=function(a){return r(a,6)^r(a,11)^r(a,25)},n.g0_256=function(a){return r(a,7)^r(a,18)^a>>>3},n.g1_256=function(a){return r(a,17)^r(a,19)^a>>>10}},{"../utils":437}],437:[function(e,t,n){"use strict";var r=e("minimalistic-assert"),i=e("inherits");function s(c,u){return(64512&c.charCodeAt(u))==55296&&!(u<0||u+1>=c.length)&&(64512&c.charCodeAt(u+1))==56320}function o(c){return(c>>>24|c>>>8&65280|c<<8&16711680|(255&c)<<24)>>>0}function a(c){return c.length===1?"0"+c:c}function l(c){return c.length===7?"0"+c:c.length===6?"00"+c:c.length===5?"000"+c:c.length===4?"0000"+c:c.length===3?"00000"+c:c.length===2?"000000"+c:c.length===1?"0000000"+c:c}n.inherits=i,n.toArray=function(c,u){if(Array.isArray(c))return c.slice();if(!c)return[];var d=[];if(typeof c=="string")if(u){if(u==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),f=0;f<c.length;f+=2)d.push(parseInt(c[f]+c[f+1],16))}else for(var h=0,f=0;f<c.length;f++){var p=c.charCodeAt(f);p<128?d[h++]=p:p<2048?(d[h++]=p>>6|192,d[h++]=63&p|128):s(c,f)?(p=65536+((1023&p)<<10)+(1023&c.charCodeAt(++f)),d[h++]=p>>18|240,d[h++]=p>>12&63|128,d[h++]=p>>6&63|128,d[h++]=63&p|128):(d[h++]=p>>12|224,d[h++]=p>>6&63|128,d[h++]=63&p|128)}else for(f=0;f<c.length;f++)d[f]=0|c[f];return d},n.toHex=function(c){for(var u="",d=0;d<c.length;d++)u+=a(c[d].toString(16));return u},n.htonl=o,n.toHex32=function(c,u){for(var d="",h=0;h<c.length;h++){var f=c[h];u==="little"&&(f=o(f)),d+=l(f.toString(16))}return d},n.zero2=a,n.zero8=l,n.join32=function(c,u,d,h){var f=d-u;r(f%4==0);for(var p=new Array(f/4),m=0,g=u;m<p.length;m++,g+=4){var v;v=h==="big"?c[g]<<24|c[g+1]<<16|c[g+2]<<8|c[g+3]:c[g+3]<<24|c[g+2]<<16|c[g+1]<<8|c[g],p[m]=v>>>0}return p},n.split32=function(c,u){for(var d=new Array(4*c.length),h=0,f=0;h<c.length;h++,f+=4){var p=c[h];u==="big"?(d[f]=p>>>24,d[f+1]=p>>>16&255,d[f+2]=p>>>8&255,d[f+3]=255&p):(d[f+3]=p>>>24,d[f+2]=p>>>16&255,d[f+1]=p>>>8&255,d[f]=255&p)}return d},n.rotr32=function(c,u){return c>>>u|c<<32-u},n.rotl32=function(c,u){return c<<u|c>>>32-u},n.sum32=function(c,u){return c+u>>>0},n.sum32_3=function(c,u,d){return c+u+d>>>0},n.sum32_4=function(c,u,d,h){return c+u+d+h>>>0},n.sum32_5=function(c,u,d,h,f){return c+u+d+h+f>>>0},n.sum64=function(c,u,d,h){var f=c[u],p=h+c[u+1]>>>0,m=(p<h?1:0)+d+f;c[u]=m>>>0,c[u+1]=p},n.sum64_hi=function(c,u,d,h){return(u+h>>>0<u?1:0)+c+d>>>0},n.sum64_lo=function(c,u,d,h){return u+h>>>0},n.sum64_4_hi=function(c,u,d,h,f,p,m,g){var v=0,x=u;return v+=(x=x+h>>>0)<u?1:0,v+=(x=x+p>>>0)<p?1:0,c+d+f+m+(v+=(x=x+g>>>0)<g?1:0)>>>0},n.sum64_4_lo=function(c,u,d,h,f,p,m,g){return u+h+p+g>>>0},n.sum64_5_hi=function(c,u,d,h,f,p,m,g,v,x){var I=0,R=u;return I+=(R=R+h>>>0)<u?1:0,I+=(R=R+p>>>0)<p?1:0,I+=(R=R+g>>>0)<g?1:0,c+d+f+m+v+(I+=(R=R+x>>>0)<x?1:0)>>>0},n.sum64_5_lo=function(c,u,d,h,f,p,m,g,v,x){return u+h+p+g+x>>>0},n.rotr64_hi=function(c,u,d){return(u<<32-d|c>>>d)>>>0},n.rotr64_lo=function(c,u,d){return(c<<32-d|u>>>d)>>>0},n.shr64_hi=function(c,u,d){return c>>>d},n.shr64_lo=function(c,u,d){return(c<<32-d|u>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,t,n){"use strict";var r=e("hash.js"),i=e("minimalistic-crypto-utils"),s=e("minimalistic-assert");function o(a){if(!(this instanceof o))return new o(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=i.toArray(a.entropy,a.entropyEnc||"hex"),c=i.toArray(a.nonce,a.nonceEnc||"hex"),u=i.toArray(a.pers,a.persEnc||"hex");s(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,c,u)}t.exports=o,o.prototype._init=function(a,l,c){var u=a.concat(l).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},o.prototype._update=function(a){var l=this._hmac().update(this.V).update([0]);a&&(l=l.update(a)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(a,l,c,u){typeof l!="string"&&(u=c,c=l,l=null),a=i.toArray(a,l),c=i.toArray(c,u),s(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(c||[])),this._reseed=1},o.prototype.generate=function(a,l,c,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof l!="string"&&(u=c,c=l,l=null),c&&(c=i.toArray(c,u||"hex"),this._update(c));for(var d=[];d.length<a;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var h=d.slice(0,a);return this._update(c),this._reseed++,i.encode(h,l)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,t,n){"use strict";n.read=function(r,i,s,o,a){var l,c,u=8*a-o-1,d=(1<<u)-1,h=d>>1,f=-7,p=s?a-1:0,m=s?-1:1,g=r[i+p];for(p+=m,l=g&(1<<-f)-1,g>>=-f,f+=u;f>0;l=256*l+r[i+p],p+=m,f-=8);for(c=l&(1<<-f)-1,l>>=-f,f+=o;f>0;c=256*c+r[i+p],p+=m,f-=8);if(l===0)l=1-h;else{if(l===d)return c?NaN:1/0*(g?-1:1);c+=Math.pow(2,o),l-=h}return(g?-1:1)*c*Math.pow(2,l-o)},n.write=function(r,i,s,o,a,l){var c,u,d,h=8*l-a-1,f=(1<<h)-1,p=f>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=o?0:l-1,v=o?1:-1,x=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(u=isNaN(i)?1:0,c=f):(c=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-c))<1&&(c--,d*=2),(i+=c+p>=1?m/d:m*Math.pow(2,1-p))*d>=2&&(c++,d/=2),c+p>=f?(u=0,c=f):c+p>=1?(u=(i*d-1)*Math.pow(2,a),c+=p):(u=i*Math.pow(2,p-1)*Math.pow(2,a),c=0));a>=8;r[s+g]=255&u,g+=v,u/=256,a-=8);for(c=c<<a|u,h+=a;h>0;r[s+g]=255&c,g+=v,c/=256,h-=8);r[s+g-v]|=128*x}},{}],440:[function(e,t,n){"use strict";typeof Object.create=="function"?t.exports=function(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,i){if(i){r.super_=i;var s=function(){};s.prototype=i.prototype,r.prototype=new s,r.prototype.constructor=r}}},{}],441:[function(e,t,n){(function(r,i,s,o,a,l,c,u){(function(){"use strict";(function(d){typeof n=="object"&&t!==void 0?t.exports=d():(typeof window<"u"?window:i!==void 0?i:typeof self<"u"?self:this).JSZip=d()})(function(){return function d(h,f,p){function m(x,I){if(!f[x]){if(!h[x]){var R=typeof e=="function"&&e;if(!I&&R)return R(x,!0);if(g)return g(x,!0);var $=new Error("Cannot find module '"+x+"'");throw $.code="MODULE_NOT_FOUND",$}var F=f[x]={exports:{}};h[x][0].call(F.exports,function(V){return m(h[x][1][V]||V)},F,F.exports,d,h,f,p)}return f[x].exports}for(var g=typeof e=="function"&&e,v=0;v<p.length;v++)m(p[v]);return m}({1:[function(d,h,f){var p=d("./utils"),m=d("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.encode=function(v){for(var x,I,R,$,F,V,U,q=[],j=0,S=v.length,T=S,O=p.getTypeOf(v)!=="string";j<v.length;)T=S-j,R=O?(x=v[j++],I=j<S?v[j++]:0,j<S?v[j++]:0):(x=v.charCodeAt(j++),I=j<S?v.charCodeAt(j++):0,j<S?v.charCodeAt(j++):0),$=x>>2,F=(3&x)<<4|I>>4,V=1<T?(15&I)<<2|R>>6:64,U=2<T?63&R:64,q.push(g.charAt($)+g.charAt(F)+g.charAt(V)+g.charAt(U));return q.join("")},f.decode=function(v){var x,I,R,$,F,V,U=0,q=0,j="data:";if(v.substr(0,j.length)===j)throw new Error("Invalid base64 input, it looks like a data url.");var S,T=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===g.charAt(64)&&T--,v.charAt(v.length-2)===g.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=m.uint8array?new Uint8Array(0|T):new Array(0|T);U<v.length;)x=g.indexOf(v.charAt(U++))<<2|($=g.indexOf(v.charAt(U++)))>>4,I=(15&$)<<4|(F=g.indexOf(v.charAt(U++)))>>2,R=(3&F)<<6|(V=g.indexOf(v.charAt(U++))),S[q++]=x,F!==64&&(S[q++]=I),V!==64&&(S[q++]=R);return S}},{"./support":30,"./utils":32}],2:[function(d,h,f){var p=d("./external"),m=d("./stream/DataWorker"),g=d("./stream/Crc32Probe"),v=d("./stream/DataLengthProbe");function x(I,R,$,F,V){this.compressedSize=I,this.uncompressedSize=R,this.crc32=$,this.compression=F,this.compressedContent=V}x.prototype={getContentWorker:function(){var I=new m(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),R=this;return I.on("end",function(){if(this.streamInfo.data_length!==R.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),I},getCompressedWorker:function(){return new m(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},x.createWorkerFrom=function(I,R,$){return I.pipe(new g).pipe(new v("uncompressedSize")).pipe(R.compressWorker($)).pipe(new v("compressedSize")).withStreamInfo("compression",R)},h.exports=x},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,h,f){var p=d("./stream/GenericWorker");f.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},f.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,h,f){var p=d("./utils"),m=function(){for(var g,v=[],x=0;x<256;x++){g=x;for(var I=0;I<8;I++)g=1&g?3988292384^g>>>1:g>>>1;v[x]=g}return v}();h.exports=function(g,v){return g!==void 0&&g.length?p.getTypeOf(g)!=="string"?function(x,I,R,$){var F=m,V=0+R;x^=-1;for(var U=0;U<V;U++)x=x>>>8^F[255&(x^I[U])];return-1^x}(0|v,g,g.length):function(x,I,R,$){var F=m,V=0+R;x^=-1;for(var U=0;U<V;U++)x=x>>>8^F[255&(x^I.charCodeAt(U))];return-1^x}(0|v,g,g.length):0}},{"./utils":32}],5:[function(d,h,f){f.base64=!1,f.binary=!1,f.dir=!1,f.createFolders=!0,f.date=null,f.compression=null,f.compressionOptions=null,f.comment=null,f.unixPermissions=null,f.dosPermissions=null},{}],6:[function(d,h,f){var p;p=typeof Promise<"u"?Promise:d("lie"),h.exports={Promise:p}},{lie:37}],7:[function(d,h,f){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=d("pako"),g=d("./utils"),v=d("./stream/GenericWorker"),x=p?"uint8array":"array";function I(R,$){v.call(this,"FlateWorker/"+R),this._pako=null,this._pakoAction=R,this._pakoOptions=$,this.meta={}}f.magic="\b\0",g.inherits(I,v),I.prototype.processChunk=function(R){this.meta=R.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(x,R.data),!1)},I.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},I.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},I.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var R=this;this._pako.onData=function($){R.push({data:$,meta:R.meta})}},f.compressWorker=function(R){return new I("Deflate",R)},f.uncompressWorker=function(){return new I("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,h,f){function p(F,V){var U,q="";for(U=0;U<V;U++)q+=String.fromCharCode(255&F),F>>>=8;return q}function m(F,V,U,q,j,S){var T,O,y=F.file,b=F.compression,w=S!==x.utf8encode,_=g.transformTo("string",S(y.name)),E=g.transformTo("string",x.utf8encode(y.name)),C=y.comment,L=g.transformTo("string",S(C)),W=g.transformTo("string",x.utf8encode(C)),B=E.length!==y.name.length,G=W.length!==C.length,M="",K="",D="",k=y.dir,z=y.date,J={crc32:0,compressedSize:0,uncompressedSize:0};V&&!U||(J.crc32=F.crc32,J.compressedSize=F.compressedSize,J.uncompressedSize=F.uncompressedSize);var Q=0;V&&(Q|=8),w||!B&&!G||(Q|=2048);var ee=0,ne=0;k&&(ee|=16),j==="UNIX"?(ne=798,ee|=function(de,Z){var le=de;return de||(le=Z?16893:33204),(65535&le)<<16}(y.unixPermissions,k)):(ne=20,ee|=function(de){return 63&(de||0)}(y.dosPermissions)),T=z.getUTCHours(),T<<=6,T|=z.getUTCMinutes(),T<<=5,T|=z.getUTCSeconds()/2,O=z.getUTCFullYear()-1980,O<<=4,O|=z.getUTCMonth()+1,O<<=5,O|=z.getUTCDate(),B&&(K=p(1,1)+p(I(_),4)+E,M+="up"+p(K.length,2)+K),G&&(D=p(1,1)+p(I(L),4)+W,M+="uc"+p(D.length,2)+D);var he="";return he+=`
\0`,he+=p(Q,2),he+=b.magic,he+=p(T,2),he+=p(O,2),he+=p(J.crc32,4),he+=p(J.compressedSize,4),he+=p(J.uncompressedSize,4),he+=p(_.length,2),he+=p(M.length,2),{fileRecord:R.LOCAL_FILE_HEADER+he+_+M,dirRecord:R.CENTRAL_FILE_HEADER+p(ne,2)+he+p(L.length,2)+"\0\0\0\0"+p(ee,4)+p(q,4)+_+M+L}}var g=d("../utils"),v=d("../stream/GenericWorker"),x=d("../utf8"),I=d("../crc32"),R=d("../signature");function $(F,V,U,q){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=V,this.zipPlatform=U,this.encodeFileName=q,this.streamFiles=F,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits($,v),$.prototype.push=function(F){var V=F.meta.percent||0,U=this.entriesCount,q=this._sources.length;this.accumulate?this.contentBuffer.push(F):(this.bytesWritten+=F.data.length,v.prototype.push.call(this,{data:F.data,meta:{currentFile:this.currentFile,percent:U?(V+100*(U-q-1))/U:100}}))},$.prototype.openedSource=function(F){this.currentSourceOffset=this.bytesWritten,this.currentFile=F.file.name;var V=this.streamFiles&&!F.file.dir;if(V){var U=m(F,V,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:U.fileRecord,meta:{percent:0}})}else this.accumulate=!0},$.prototype.closedSource=function(F){this.accumulate=!1;var V=this.streamFiles&&!F.file.dir,U=m(F,V,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(U.dirRecord),V)this.push({data:function(q){return R.DATA_DESCRIPTOR+p(q.crc32,4)+p(q.compressedSize,4)+p(q.uncompressedSize,4)}(F),meta:{percent:100}});else for(this.push({data:U.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},$.prototype.flush=function(){for(var F=this.bytesWritten,V=0;V<this.dirRecords.length;V++)this.push({data:this.dirRecords[V],meta:{percent:100}});var U=this.bytesWritten-F,q=function(j,S,T,O,y){var b=g.transformTo("string",y(O));return R.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(j,2)+p(j,2)+p(S,4)+p(T,4)+p(b.length,2)+b}(this.dirRecords.length,U,F,this.zipComment,this.encodeFileName);this.push({data:q,meta:{percent:100}})},$.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},$.prototype.registerPrevious=function(F){this._sources.push(F);var V=this;return F.on("data",function(U){V.processChunk(U)}),F.on("end",function(){V.closedSource(V.previous.streamInfo),V._sources.length?V.prepareNextSource():V.end()}),F.on("error",function(U){V.error(U)}),this},$.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},$.prototype.error=function(F){var V=this._sources;if(!v.prototype.error.call(this,F))return!1;for(var U=0;U<V.length;U++)try{V[U].error(F)}catch{}return!0},$.prototype.lock=function(){v.prototype.lock.call(this);for(var F=this._sources,V=0;V<F.length;V++)F[V].lock()},h.exports=$},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,h,f){var p=d("../compressions"),m=d("./ZipFileWorker");f.generateWorker=function(g,v,x){var I=new m(v.streamFiles,x,v.platform,v.encodeFileName),R=0;try{g.forEach(function($,F){R++;var V=function(S,T){var O=S||T,y=p[O];if(!y)throw new Error(O+" is not a valid compression method !");return y}(F.options.compression,v.compression),U=F.options.compressionOptions||v.compressionOptions||{},q=F.dir,j=F.date;F._compressWorker(V,U).withStreamInfo("file",{name:$,dir:q,date:j,comment:F.comment||"",unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions}).pipe(I)}),I.entriesCount=R}catch($){I.error($)}return I}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,h,f){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new p;for(var g in this)typeof this[g]!="function"&&(m[g]=this[g]);return m}}(p.prototype=d("./object")).loadAsync=d("./load"),p.support=d("./support"),p.defaults=d("./defaults"),p.version="3.10.1",p.loadAsync=function(m,g){return new p().loadAsync(m,g)},p.external=d("./external"),h.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,h,f){var p=d("./utils"),m=d("./external"),g=d("./utf8"),v=d("./zipEntries"),x=d("./stream/Crc32Probe"),I=d("./nodejsUtils");function R($){return new m.Promise(function(F,V){var U=$.decompressed.getContentWorker().pipe(new x);U.on("error",function(q){V(q)}).on("end",function(){U.streamInfo.crc32!==$.decompressed.crc32?V(new Error("Corrupted zip : CRC32 mismatch")):F()}).resume()})}h.exports=function($,F){var V=this;return F=p.extend(F||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),I.isNode&&I.isStream($)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",$,!0,F.optimizedBinaryString,F.base64).then(function(U){var q=new v(F);return q.load(U),q}).then(function(U){var q=[m.Promise.resolve(U)],j=U.files;if(F.checkCRC32)for(var S=0;S<j.length;S++)q.push(R(j[S]));return m.Promise.all(q)}).then(function(U){for(var q=U.shift(),j=q.files,S=0;S<j.length;S++){var T=j[S],O=T.fileNameStr,y=p.resolve(T.fileNameStr);V.file(y,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:F.createFolders}),T.dir||(V.file(y).unsafeOriginalName=O)}return q.zipComment.length&&(V.comment=q.zipComment),V})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,h,f){var p=d("../utils"),m=d("../stream/GenericWorker");function g(v,x){m.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(x)}p.inherits(g,m),g.prototype._bindStream=function(v){var x=this;(this._stream=v).pause(),v.on("data",function(I){x.push({data:I,meta:{percent:0}})}).on("error",function(I){x.isPaused?this.generatedError=I:x.error(I)}).on("end",function(){x.isPaused?x._upstreamEnded=!0:x.end()})},g.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},h.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,h,f){var p=d("readable-stream").Readable;function m(g,v,x){p.call(this,v),this._helper=g;var I=this;g.on("data",function(R,$){I.push(R)||I._helper.pause(),x&&x($)}).on("error",function(R){I.emit("error",R)}).on("end",function(){I.push(null)})}d("../utils").inherits(m,p),m.prototype._read=function(){this._helper.resume()},h.exports=m},{"../utils":32,"readable-stream":16}],14:[function(d,h,f){h.exports={isNode:s!==void 0,newBufferFrom:function(p,m){if(s.from&&s.from!==Uint8Array.from)return s.from(p,m);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new s(p,m)},allocBuffer:function(p){if(s.alloc)return s.alloc(p);var m=new s(p);return m.fill(0),m},isBuffer:function(p){return s.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(d,h,f){function p(y,b,w){var _,E=g.getTypeOf(b),C=g.extend(w||{},I);C.date=C.date||new Date,C.compression!==null&&(C.compression=C.compression.toUpperCase()),typeof C.unixPermissions=="string"&&(C.unixPermissions=parseInt(C.unixPermissions,8)),C.unixPermissions&&16384&C.unixPermissions&&(C.dir=!0),C.dosPermissions&&16&C.dosPermissions&&(C.dir=!0),C.dir&&(y=j(y)),C.createFolders&&(_=q(y))&&S.call(this,_,!0);var L=E==="string"&&C.binary===!1&&C.base64===!1;w&&w.binary!==void 0||(C.binary=!L),(b instanceof R&&b.uncompressedSize===0||C.dir||!b||b.length===0)&&(C.base64=!1,C.binary=!0,b="",C.compression="STORE",E="string");var W;W=b instanceof R||b instanceof v?b:V.isNode&&V.isStream(b)?new U(y,b):g.prepareContent(y,b,C.binary,C.optimizedBinaryString,C.base64);var B=new $(y,W,C);this.files[y]=B}var m=d("./utf8"),g=d("./utils"),v=d("./stream/GenericWorker"),x=d("./stream/StreamHelper"),I=d("./defaults"),R=d("./compressedObject"),$=d("./zipObject"),F=d("./generate"),V=d("./nodejsUtils"),U=d("./nodejs/NodejsStreamInputAdapter"),q=function(y){y.slice(-1)==="/"&&(y=y.substring(0,y.length-1));var b=y.lastIndexOf("/");return 0<b?y.substring(0,b):""},j=function(y){return y.slice(-1)!=="/"&&(y+="/"),y},S=function(y,b){return b=b!==void 0?b:I.createFolders,y=j(y),this.files[y]||p.call(this,y,null,{dir:!0,createFolders:b}),this.files[y]};function T(y){return Object.prototype.toString.call(y)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(y){var b,w,_;for(b in this.files)_=this.files[b],(w=b.slice(this.root.length,b.length))&&b.slice(0,this.root.length)===this.root&&y(w,_)},filter:function(y){var b=[];return this.forEach(function(w,_){y(w,_)&&b.push(_)}),b},file:function(y,b,w){if(arguments.length!==1)return y=this.root+y,p.call(this,y,b,w),this;if(T(y)){var _=y;return this.filter(function(C,L){return!L.dir&&_.test(C)})}var E=this.files[this.root+y];return E&&!E.dir?E:null},folder:function(y){if(!y)return this;if(T(y))return this.filter(function(E,C){return C.dir&&y.test(E)});var b=this.root+y,w=S.call(this,b),_=this.clone();return _.root=w.name,_},remove:function(y){y=this.root+y;var b=this.files[y];if(b||(y.slice(-1)!=="/"&&(y+="/"),b=this.files[y]),b&&!b.dir)delete this.files[y];else for(var w=this.filter(function(E,C){return C.name.slice(0,y.length)===y}),_=0;_<w.length;_++)delete this.files[w[_].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(y){var b,w={};try{if((w=g.extend(y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");g.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var _=w.comment||this.comment||"";b=F.generateWorker(this,w,_)}catch(E){(b=new v("error")).error(E)}return new x(b,w.type||"string",w.mimeType)},generateAsync:function(y,b){return this.generateInternalStream(y).accumulate(b)},generateNodeStream:function(y,b){return(y=y||{}).type||(y.type="nodebuffer"),this.generateInternalStream(y).toNodejsStream(b)}};h.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,h,f){h.exports=d("stream")},{stream:void 0}],17:[function(d,h,f){var p=d("./DataReader");function m(g){p.call(this,g);for(var v=0;v<this.data.length;v++)g[v]=255&g[v]}d("../utils").inherits(m,p),m.prototype.byteAt=function(g){return this.data[this.zero+g]},m.prototype.lastIndexOfSignature=function(g){for(var v=g.charCodeAt(0),x=g.charCodeAt(1),I=g.charCodeAt(2),R=g.charCodeAt(3),$=this.length-4;0<=$;--$)if(this.data[$]===v&&this.data[$+1]===x&&this.data[$+2]===I&&this.data[$+3]===R)return $-this.zero;return-1},m.prototype.readAndCheckSignature=function(g){var v=g.charCodeAt(0),x=g.charCodeAt(1),I=g.charCodeAt(2),R=g.charCodeAt(3),$=this.readData(4);return v===$[0]&&x===$[1]&&I===$[2]&&R===$[3]},m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},h.exports=m},{"../utils":32,"./DataReader":18}],18:[function(d,h,f){var p=d("../utils");function m(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var v,x=0;for(this.checkOffset(g),v=this.index+g-1;v>=this.index;v--)x=(x<<8)+this.byteAt(v);return this.index+=g,x},readString:function(g){return p.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},h.exports=m},{"../utils":32}],19:[function(d,h,f){var p=d("./Uint8ArrayReader");function m(g){p.call(this,g)}d("../utils").inherits(m,p),m.prototype.readData=function(g){this.checkOffset(g);var v=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},h.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,h,f){var p=d("./DataReader");function m(g){p.call(this,g)}d("../utils").inherits(m,p),m.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},m.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},m.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},m.prototype.readData=function(g){this.checkOffset(g);var v=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},h.exports=m},{"../utils":32,"./DataReader":18}],21:[function(d,h,f){var p=d("./ArrayReader");function m(g){p.call(this,g)}d("../utils").inherits(m,p),m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},h.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(d,h,f){var p=d("../utils"),m=d("../support"),g=d("./ArrayReader"),v=d("./StringReader"),x=d("./NodeBufferReader"),I=d("./Uint8ArrayReader");h.exports=function(R){var $=p.getTypeOf(R);return p.checkSupport($),$!=="string"||m.uint8array?$==="nodebuffer"?new x(R):m.uint8array?new I(p.transformTo("uint8array",R)):new g(p.transformTo("array",R)):new v(R)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,h,f){f.LOCAL_FILE_HEADER="PK",f.CENTRAL_FILE_HEADER="PK",f.CENTRAL_DIRECTORY_END="PK",f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",f.ZIP64_CENTRAL_DIRECTORY_END="PK",f.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,h,f){var p=d("./GenericWorker"),m=d("../utils");function g(v){p.call(this,"ConvertWorker to "+v),this.destType=v}m.inherits(g,p),g.prototype.processChunk=function(v){this.push({data:m.transformTo(this.destType,v.data),meta:v.meta})},h.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(d,h,f){var p=d("./GenericWorker"),m=d("../crc32");function g(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(g,p),g.prototype.processChunk=function(v){this.streamInfo.crc32=m(v.data,this.streamInfo.crc32||0),this.push(v)},h.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,h,f){var p=d("../utils"),m=d("./GenericWorker");function g(v){m.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}p.inherits(g,m),g.prototype.processChunk=function(v){if(v){var x=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=x+v.data.length}m.prototype.processChunk.call(this,v)},h.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(d,h,f){var p=d("../utils"),m=d("./GenericWorker");function g(v){m.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(I){x.dataIsReady=!0,x.data=I,x.max=I&&I.length||0,x.type=p.getTypeOf(I),x.isPaused||x._tickAndRepeat()},function(I){x.error(I)})}p.inherits(g,m),g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,x=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,x);break;case"uint8array":v=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":v=this.data.slice(this.index,x)}return this.index=x,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},h.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(d,h,f){function p(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,g){return this._listeners[m].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,g){if(this._listeners[m])for(var v=0;v<this._listeners[m].length;v++)this._listeners[m][v].call(this,g)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var g=this;return m.on("data",function(v){g.processChunk(v)}),m.on("end",function(){g.end()}),m.on("error",function(v){g.error(v)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,g){return this.extraStreamInfo[m]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},h.exports=p},{}],29:[function(d,h,f){var p=d("../utils"),m=d("./ConvertWorker"),g=d("./GenericWorker"),v=d("../base64"),x=d("../support"),I=d("../external"),R=null;if(x.nodestream)try{R=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function $(F,V,U){var q=V;switch(V){case"blob":case"arraybuffer":q="uint8array";break;case"base64":q="string"}try{this._internalType=q,this._outputType=V,this._mimeType=U,p.checkSupport(q),this._worker=F.pipe(new m(q)),F.lock()}catch(j){this._worker=new g("error"),this._worker.error(j)}}$.prototype={accumulate:function(F){return function(V,U){return new I.Promise(function(q,j){var S=[],T=V._internalType,O=V._outputType,y=V._mimeType;V.on("data",function(b,w){S.push(b),U&&U(w)}).on("error",function(b){S=[],j(b)}).on("end",function(){try{var b=function(w,_,E){switch(w){case"blob":return p.newBlob(p.transformTo("arraybuffer",_),E);case"base64":return v.encode(_);default:return p.transformTo(w,_)}}(O,function(w,_){var E,C=0,L=null,W=0;for(E=0;E<_.length;E++)W+=_[E].length;switch(w){case"string":return _.join("");case"array":return Array.prototype.concat.apply([],_);case"uint8array":for(L=new Uint8Array(W),E=0;E<_.length;E++)L.set(_[E],C),C+=_[E].length;return L;case"nodebuffer":return s.concat(_);default:throw new Error("concat : unsupported type '"+w+"'")}}(T,S),y);q(b)}catch(w){j(w)}S=[]}).resume()})}(this,F)},on:function(F,V){var U=this;return F==="data"?this._worker.on(F,function(q){V.call(U,q.data,q.meta)}):this._worker.on(F,function(){p.delay(V,arguments,U)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(F){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new R(this,{objectMode:this._outputType!=="nodebuffer"},F)}},h.exports=$},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,h,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",f.nodebuffer=s!==void 0,f.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")f.blob=!1;else{var p=new ArrayBuffer(0);try{f.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(p),f.blob=m.getBlob("application/zip").size===0}catch{f.blob=!1}}}try{f.nodestream=!!d("readable-stream").Readable}catch{f.nodestream=!1}},{"readable-stream":16}],31:[function(d,h,f){for(var p=d("./utils"),m=d("./support"),g=d("./nodejsUtils"),v=d("./stream/GenericWorker"),x=new Array(256),I=0;I<256;I++)x[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function R(){v.call(this,"utf-8 decode"),this.leftOver=null}function $(){v.call(this,"utf-8 encode")}x[254]=x[254]=1,f.utf8encode=function(F){return m.nodebuffer?g.newBufferFrom(F,"utf-8"):function(V){var U,q,j,S,T,O=V.length,y=0;for(S=0;S<O;S++)(64512&(q=V.charCodeAt(S)))==55296&&S+1<O&&(64512&(j=V.charCodeAt(S+1)))==56320&&(q=65536+(q-55296<<10)+(j-56320),S++),y+=q<128?1:q<2048?2:q<65536?3:4;for(U=m.uint8array?new Uint8Array(y):new Array(y),S=T=0;T<y;S++)(64512&(q=V.charCodeAt(S)))==55296&&S+1<O&&(64512&(j=V.charCodeAt(S+1)))==56320&&(q=65536+(q-55296<<10)+(j-56320),S++),q<128?U[T++]=q:(q<2048?U[T++]=192|q>>>6:(q<65536?U[T++]=224|q>>>12:(U[T++]=240|q>>>18,U[T++]=128|q>>>12&63),U[T++]=128|q>>>6&63),U[T++]=128|63&q);return U}(F)},f.utf8decode=function(F){return m.nodebuffer?p.transformTo("nodebuffer",F).toString("utf-8"):function(V){var U,q,j,S,T=V.length,O=new Array(2*T);for(U=q=0;U<T;)if((j=V[U++])<128)O[q++]=j;else if(4<(S=x[j]))O[q++]=65533,U+=S-1;else{for(j&=S===2?31:S===3?15:7;1<S&&U<T;)j=j<<6|63&V[U++],S--;1<S?O[q++]=65533:j<65536?O[q++]=j:(j-=65536,O[q++]=55296|j>>10&1023,O[q++]=56320|1023&j)}return O.length!==q&&(O.subarray?O=O.subarray(0,q):O.length=q),p.applyFromCharCode(O)}(F=p.transformTo(m.uint8array?"uint8array":"array",F))},p.inherits(R,v),R.prototype.processChunk=function(F){var V=p.transformTo(m.uint8array?"uint8array":"array",F.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var U=V;(V=new Uint8Array(U.length+this.leftOver.length)).set(this.leftOver,0),V.set(U,this.leftOver.length)}else V=this.leftOver.concat(V);this.leftOver=null}var q=function(S,T){var O;for((T=T||S.length)>S.length&&(T=S.length),O=T-1;0<=O&&(192&S[O])==128;)O--;return O<0||O===0?T:O+x[S[O]]>T?O:T}(V),j=V;q!==V.length&&(m.uint8array?(j=V.subarray(0,q),this.leftOver=V.subarray(q,V.length)):(j=V.slice(0,q),this.leftOver=V.slice(q,V.length))),this.push({data:f.utf8decode(j),meta:F.meta})},R.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},f.Utf8DecodeWorker=R,p.inherits($,v),$.prototype.processChunk=function(F){this.push({data:f.utf8encode(F.data),meta:F.meta})},f.Utf8EncodeWorker=$},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,h,f){var p=d("./support"),m=d("./base64"),g=d("./nodejsUtils"),v=d("./external");function x(U){return U}function I(U,q){for(var j=0;j<U.length;++j)q[j]=255&U.charCodeAt(j);return q}d("setimmediate"),f.newBlob=function(U,q){f.checkSupport("blob");try{return new Blob([U],{type:q})}catch{try{var j=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return j.append(U),j.getBlob(q)}catch{throw new Error("Bug : can't construct the Blob.")}}};var R={stringifyByChunk:function(U,q,j){var S=[],T=0,O=U.length;if(O<=j)return String.fromCharCode.apply(null,U);for(;T<O;)q==="array"||q==="nodebuffer"?S.push(String.fromCharCode.apply(null,U.slice(T,Math.min(T+j,O)))):S.push(String.fromCharCode.apply(null,U.subarray(T,Math.min(T+j,O)))),T+=j;return S.join("")},stringifyByChar:function(U){for(var q="",j=0;j<U.length;j++)q+=String.fromCharCode(U[j]);return q},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function $(U){var q=65536,j=f.getTypeOf(U),S=!0;if(j==="uint8array"?S=R.applyCanBeUsed.uint8array:j==="nodebuffer"&&(S=R.applyCanBeUsed.nodebuffer),S)for(;1<q;)try{return R.stringifyByChunk(U,j,q)}catch{q=Math.floor(q/2)}return R.stringifyByChar(U)}function F(U,q){for(var j=0;j<U.length;j++)q[j]=U[j];return q}f.applyFromCharCode=$;var V={};V.string={string:x,array:function(U){return I(U,new Array(U.length))},arraybuffer:function(U){return V.string.uint8array(U).buffer},uint8array:function(U){return I(U,new Uint8Array(U.length))},nodebuffer:function(U){return I(U,g.allocBuffer(U.length))}},V.array={string:$,array:x,arraybuffer:function(U){return new Uint8Array(U).buffer},uint8array:function(U){return new Uint8Array(U)},nodebuffer:function(U){return g.newBufferFrom(U)}},V.arraybuffer={string:function(U){return $(new Uint8Array(U))},array:function(U){return F(new Uint8Array(U),new Array(U.byteLength))},arraybuffer:x,uint8array:function(U){return new Uint8Array(U)},nodebuffer:function(U){return g.newBufferFrom(new Uint8Array(U))}},V.uint8array={string:$,array:function(U){return F(U,new Array(U.length))},arraybuffer:function(U){return U.buffer},uint8array:x,nodebuffer:function(U){return g.newBufferFrom(U)}},V.nodebuffer={string:$,array:function(U){return F(U,new Array(U.length))},arraybuffer:function(U){return V.nodebuffer.uint8array(U).buffer},uint8array:function(U){return F(U,new Uint8Array(U.length))},nodebuffer:x},f.transformTo=function(U,q){if(q=q||"",!U)return q;f.checkSupport(U);var j=f.getTypeOf(q);return V[j][U](q)},f.resolve=function(U){for(var q=U.split("/"),j=[],S=0;S<q.length;S++){var T=q[S];T==="."||T===""&&S!==0&&S!==q.length-1||(T===".."?j.pop():j.push(T))}return j.join("/")},f.getTypeOf=function(U){return typeof U=="string"?"string":Object.prototype.toString.call(U)==="[object Array]"?"array":p.nodebuffer&&g.isBuffer(U)?"nodebuffer":p.uint8array&&U instanceof Uint8Array?"uint8array":p.arraybuffer&&U instanceof ArrayBuffer?"arraybuffer":void 0},f.checkSupport=function(U){if(!p[U.toLowerCase()])throw new Error(U+" is not supported by this platform")},f.MAX_VALUE_16BITS=65535,f.MAX_VALUE_32BITS=-1,f.pretty=function(U){var q,j,S="";for(j=0;j<(U||"").length;j++)S+="\\x"+((q=U.charCodeAt(j))<16?"0":"")+q.toString(16).toUpperCase();return S},f.delay=function(U,q,j){u(function(){U.apply(j||null,q||[])})},f.inherits=function(U,q){function j(){}j.prototype=q.prototype,U.prototype=new j},f.extend=function(){var U,q,j={};for(U=0;U<arguments.length;U++)for(q in arguments[U])Object.prototype.hasOwnProperty.call(arguments[U],q)&&j[q]===void 0&&(j[q]=arguments[U][q]);return j},f.prepareContent=function(U,q,j,S,T){return v.Promise.resolve(q).then(function(O){return p.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new v.Promise(function(y,b){var w=new FileReader;w.onload=function(_){y(_.target.result)},w.onerror=function(_){b(_.target.error)},w.readAsArrayBuffer(O)}):O}).then(function(O){var y=f.getTypeOf(O);return y?(y==="arraybuffer"?O=f.transformTo("uint8array",O):y==="string"&&(T?O=m.decode(O):j&&S!==!0&&(O=function(b){return I(b,p.uint8array?new Uint8Array(b.length):new Array(b.length))}(O))),O):v.Promise.reject(new Error("Can't read the data of '"+U+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,h,f){var p=d("./reader/readerFor"),m=d("./utils"),g=d("./signature"),v=d("./zipEntry"),x=d("./support");function I(R){this.files=[],this.loadOptions=R}I.prototype={checkSignature:function(R){if(!this.reader.readAndCheckSignature(R)){this.reader.index-=4;var $=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty($)+", expected "+m.pretty(R)+")")}},isSignature:function(R,$){var F=this.reader.index;this.reader.setIndex(R);var V=this.reader.readString(4)===$;return this.reader.setIndex(F),V},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var R=this.reader.readData(this.zipCommentLength),$=x.uint8array?"uint8array":"array",F=m.transformTo($,R);this.zipComment=this.loadOptions.decodeFileName(F)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var R,$,F,V=this.zip64EndOfCentralSize-44;0<V;)R=this.reader.readInt(2),$=this.reader.readInt(4),F=this.reader.readData($),this.zip64ExtensibleData[R]={id:R,length:$,value:F}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var R,$;for(R=0;R<this.files.length;R++)$=this.files[R],this.reader.setIndex($.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),$.readLocalPart(this.reader),$.handleUTF8(),$.processAttributes()},readCentralDir:function(){var R;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(R=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(R);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var R=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(R<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(R);var $=R;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(R=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(R),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var F=this.centralDirOffset+this.centralDirSize;this.zip64&&(F+=20,F+=12+this.zip64EndOfCentralSize);var V=$-F;if(0<V)this.isSignature($,g.CENTRAL_FILE_HEADER)||(this.reader.zero=V);else if(V<0)throw new Error("Corrupted zip: missing "+Math.abs(V)+" bytes.")},prepareReader:function(R){this.reader=p(R)},load:function(R){this.prepareReader(R),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},h.exports=I},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,h,f){var p=d("./reader/readerFor"),m=d("./utils"),g=d("./compressedObject"),v=d("./crc32"),x=d("./utf8"),I=d("./compressions"),R=d("./support");function $(F,V){this.options=F,this.loadOptions=V}$.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(F){var V,U;if(F.skip(22),this.fileNameLength=F.readInt(2),U=F.readInt(2),this.fileName=F.readData(this.fileNameLength),F.skip(U),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((V=function(q){for(var j in I)if(Object.prototype.hasOwnProperty.call(I,j)&&I[j].magic===q)return I[j];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,V,F.readData(this.compressedSize))},readCentralPart:function(F){this.versionMadeBy=F.readInt(2),F.skip(2),this.bitFlag=F.readInt(2),this.compressionMethod=F.readString(2),this.date=F.readDate(),this.crc32=F.readInt(4),this.compressedSize=F.readInt(4),this.uncompressedSize=F.readInt(4);var V=F.readInt(2);if(this.extraFieldsLength=F.readInt(2),this.fileCommentLength=F.readInt(2),this.diskNumberStart=F.readInt(2),this.internalFileAttributes=F.readInt(2),this.externalFileAttributes=F.readInt(4),this.localHeaderOffset=F.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");F.skip(V),this.readExtraFields(F),this.parseZIP64ExtraField(F),this.fileComment=F.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var F=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),F==0&&(this.dosPermissions=63&this.externalFileAttributes),F==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var F=p(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=F.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=F.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=F.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=F.readInt(4))}},readExtraFields:function(F){var V,U,q,j=F.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});F.index+4<j;)V=F.readInt(2),U=F.readInt(2),q=F.readData(U),this.extraFields[V]={id:V,length:U,value:q};F.setIndex(j)},handleUTF8:function(){var F=R.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x.utf8decode(this.fileName),this.fileCommentStr=x.utf8decode(this.fileComment);else{var V=this.findExtraFieldUnicodePath();if(V!==null)this.fileNameStr=V;else{var U=m.transformTo(F,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(U)}var q=this.findExtraFieldUnicodeComment();if(q!==null)this.fileCommentStr=q;else{var j=m.transformTo(F,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(j)}}},findExtraFieldUnicodePath:function(){var F=this.extraFields[28789];if(F){var V=p(F.value);return V.readInt(1)!==1||v(this.fileName)!==V.readInt(4)?null:x.utf8decode(V.readData(F.length-5))}return null},findExtraFieldUnicodeComment:function(){var F=this.extraFields[25461];if(F){var V=p(F.value);return V.readInt(1)!==1||v(this.fileComment)!==V.readInt(4)?null:x.utf8decode(V.readData(F.length-5))}return null}},h.exports=$},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,h,f){function p(V,U,q){this.name=V,this.dir=q.dir,this.date=q.date,this.comment=q.comment,this.unixPermissions=q.unixPermissions,this.dosPermissions=q.dosPermissions,this._data=U,this._dataBinary=q.binary,this.options={compression:q.compression,compressionOptions:q.compressionOptions}}var m=d("./stream/StreamHelper"),g=d("./stream/DataWorker"),v=d("./utf8"),x=d("./compressedObject"),I=d("./stream/GenericWorker");p.prototype={internalStream:function(V){var U=null,q="string";try{if(!V)throw new Error("No output type specified.");var j=(q=V.toLowerCase())==="string"||q==="text";q!=="binarystring"&&q!=="text"||(q="string"),U=this._decompressWorker();var S=!this._dataBinary;S&&!j&&(U=U.pipe(new v.Utf8EncodeWorker)),!S&&j&&(U=U.pipe(new v.Utf8DecodeWorker))}catch(T){(U=new I("error")).error(T)}return new m(U,q,"")},async:function(V,U){return this.internalStream(V).accumulate(U)},nodeStream:function(V,U){return this.internalStream(V||"nodebuffer").toNodejsStream(U)},_compressWorker:function(V,U){if(this._data instanceof x&&this._data.compression.magic===V.magic)return this._data.getCompressedWorker();var q=this._decompressWorker();return this._dataBinary||(q=q.pipe(new v.Utf8EncodeWorker)),x.createWorkerFrom(q,V,U)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof I?this._data:new g(this._data)}};for(var R=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],$=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},F=0;F<R.length;F++)p.prototype[R[F]]=$;h.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,h,f){(function(p){var m,g,v=p.MutationObserver||p.WebKitMutationObserver;if(v){var x=0,I=new v(V),R=p.document.createTextNode("");I.observe(R,{characterData:!0}),m=function(){R.data=x=++x%2}}else if(p.setImmediate||p.MessageChannel===void 0)m="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var U=p.document.createElement("script");U.onreadystatechange=function(){V(),U.onreadystatechange=null,U.parentNode.removeChild(U),U=null},p.document.documentElement.appendChild(U)}:function(){setTimeout(V,0)};else{var $=new p.MessageChannel;$.port1.onmessage=V,m=function(){$.port2.postMessage(0)}}var F=[];function V(){var U,q;g=!0;for(var j=F.length;j;){for(q=F,F=[],U=-1;++U<j;)q[U]();j=F.length}g=!1}h.exports=function(U){F.push(U)!==1||g||m()}}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,h,f){var p=d("immediate");function m(){}var g={},v=["REJECTED"],x=["FULFILLED"],I=["PENDING"];function R(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,j!==m&&U(this,j)}function $(j,S,T){this.promise=j,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function F(j,S,T){p(function(){var O;try{O=S(T)}catch(y){return g.reject(j,y)}O===j?g.reject(j,new TypeError("Cannot resolve promise with itself")):g.resolve(j,O)})}function V(j){var S=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof S=="function")return function(){S.apply(j,arguments)}}function U(j,S){var T=!1;function O(w){T||(T=!0,g.reject(j,w))}function y(w){T||(T=!0,g.resolve(j,w))}var b=q(function(){S(y,O)});b.status==="error"&&O(b.value)}function q(j,S){var T={};try{T.value=j(S),T.status="success"}catch(O){T.status="error",T.value=O}return T}(h.exports=R).prototype.finally=function(j){if(typeof j!="function")return this;var S=this.constructor;return this.then(function(T){return S.resolve(j()).then(function(){return T})},function(T){return S.resolve(j()).then(function(){throw T})})},R.prototype.catch=function(j){return this.then(null,j)},R.prototype.then=function(j,S){if(typeof j!="function"&&this.state===x||typeof S!="function"&&this.state===v)return this;var T=new this.constructor(m);return this.state!==I?F(T,this.state===x?j:S,this.outcome):this.queue.push(new $(T,j,S)),T},$.prototype.callFulfilled=function(j){g.resolve(this.promise,j)},$.prototype.otherCallFulfilled=function(j){F(this.promise,this.onFulfilled,j)},$.prototype.callRejected=function(j){g.reject(this.promise,j)},$.prototype.otherCallRejected=function(j){F(this.promise,this.onRejected,j)},g.resolve=function(j,S){var T=q(V,S);if(T.status==="error")return g.reject(j,T.value);var O=T.value;if(O)U(j,O);else{j.state=x,j.outcome=S;for(var y=-1,b=j.queue.length;++y<b;)j.queue[y].callFulfilled(S)}return j},g.reject=function(j,S){j.state=v,j.outcome=S;for(var T=-1,O=j.queue.length;++T<O;)j.queue[T].callRejected(S);return j},R.resolve=function(j){return j instanceof this?j:g.resolve(new this(m),j)},R.reject=function(j){var S=new this(m);return g.reject(S,j)},R.all=function(j){var S=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=j.length,O=!1;if(!T)return this.resolve([]);for(var y=new Array(T),b=0,w=-1,_=new this(m);++w<T;)E(j[w],w);return _;function E(C,L){S.resolve(C).then(function(W){y[L]=W,++b!==T||O||(O=!0,g.resolve(_,y))},function(W){O||(O=!0,g.reject(_,W))})}},R.race=function(j){if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=j.length,T=!1;if(!S)return this.resolve([]);for(var O,y=-1,b=new this(m);++y<S;)O=j[y],this.resolve(O).then(function(w){T||(T=!0,g.resolve(b,w))},function(w){T||(T=!0,g.reject(b,w))});return b}},{immediate:36}],38:[function(d,h,f){var p={};(0,d("./lib/utils/common").assign)(p,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),h.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,h,f){var p=d("./zlib/deflate"),m=d("./utils/common"),g=d("./utils/strings"),v=d("./zlib/messages"),x=d("./zlib/zstream"),I=Object.prototype.toString;function R(F){if(!(this instanceof R))return new R(F);this.options=m.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},F||{});var V=this.options;V.raw&&0<V.windowBits?V.windowBits=-V.windowBits:V.gzip&&0<V.windowBits&&V.windowBits<16&&(V.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var U=p.deflateInit2(this.strm,V.level,V.method,V.windowBits,V.memLevel,V.strategy);if(U!==0)throw new Error(v[U]);if(V.header&&p.deflateSetHeader(this.strm,V.header),V.dictionary){var q;if(q=typeof V.dictionary=="string"?g.string2buf(V.dictionary):I.call(V.dictionary)==="[object ArrayBuffer]"?new Uint8Array(V.dictionary):V.dictionary,(U=p.deflateSetDictionary(this.strm,q))!==0)throw new Error(v[U]);this._dict_set=!0}}function $(F,V){var U=new R(V);if(U.push(F,!0),U.err)throw U.msg||v[U.err];return U.result}R.prototype.push=function(F,V){var U,q,j=this.strm,S=this.options.chunkSize;if(this.ended)return!1;q=V===~~V?V:V===!0?4:0,typeof F=="string"?j.input=g.string2buf(F):I.call(F)==="[object ArrayBuffer]"?j.input=new Uint8Array(F):j.input=F,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new m.Buf8(S),j.next_out=0,j.avail_out=S),(U=p.deflate(j,q))!==1&&U!==0)return this.onEnd(U),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||q!==4&&q!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(j.output,j.next_out))):this.onData(m.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&U!==1);return q===4?(U=p.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===0):q!==2||(this.onEnd(0),!(j.avail_out=0))},R.prototype.onData=function(F){this.chunks.push(F)},R.prototype.onEnd=function(F){F===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},f.Deflate=R,f.deflate=$,f.deflateRaw=function(F,V){return(V=V||{}).raw=!0,$(F,V)},f.gzip=function(F,V){return(V=V||{}).gzip=!0,$(F,V)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,h,f){var p=d("./zlib/inflate"),m=d("./utils/common"),g=d("./utils/strings"),v=d("./zlib/constants"),x=d("./zlib/messages"),I=d("./zlib/zstream"),R=d("./zlib/gzheader"),$=Object.prototype.toString;function F(U){if(!(this instanceof F))return new F(U);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},U||{});var q=this.options;q.raw&&0<=q.windowBits&&q.windowBits<16&&(q.windowBits=-q.windowBits,q.windowBits===0&&(q.windowBits=-15)),!(0<=q.windowBits&&q.windowBits<16)||U&&U.windowBits||(q.windowBits+=32),15<q.windowBits&&q.windowBits<48&&(15&q.windowBits)==0&&(q.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var j=p.inflateInit2(this.strm,q.windowBits);if(j!==v.Z_OK)throw new Error(x[j]);this.header=new R,p.inflateGetHeader(this.strm,this.header)}function V(U,q){var j=new F(q);if(j.push(U,!0),j.err)throw j.msg||x[j.err];return j.result}F.prototype.push=function(U,q){var j,S,T,O,y,b,w=this.strm,_=this.options.chunkSize,E=this.options.dictionary,C=!1;if(this.ended)return!1;S=q===~~q?q:q===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof U=="string"?w.input=g.binstring2buf(U):$.call(U)==="[object ArrayBuffer]"?w.input=new Uint8Array(U):w.input=U,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new m.Buf8(_),w.next_out=0,w.avail_out=_),(j=p.inflate(w,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&E&&(b=typeof E=="string"?g.string2buf(E):$.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,j=p.inflateSetDictionary(this.strm,b)),j===v.Z_BUF_ERROR&&C===!0&&(j=v.Z_OK,C=!1),j!==v.Z_STREAM_END&&j!==v.Z_OK)return this.onEnd(j),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&j!==v.Z_STREAM_END&&(w.avail_in!==0||S!==v.Z_FINISH&&S!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=g.utf8border(w.output,w.next_out),O=w.next_out-T,y=g.buf2string(w.output,T),w.next_out=O,w.avail_out=_-O,O&&m.arraySet(w.output,w.output,T,O,0),this.onData(y)):this.onData(m.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(C=!0)}while((0<w.avail_in||w.avail_out===0)&&j!==v.Z_STREAM_END);return j===v.Z_STREAM_END&&(S=v.Z_FINISH),S===v.Z_FINISH?(j=p.inflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===v.Z_OK):S!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(w.avail_out=0))},F.prototype.onData=function(U){this.chunks.push(U)},F.prototype.onEnd=function(U){U===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=U,this.msg=this.strm.msg},f.Inflate=F,f.inflate=V,f.inflateRaw=function(U,q){return(q=q||{}).raw=!0,V(U,q)},f.ungzip=V},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,h,f){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";f.assign=function(v){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var I=x.shift();if(I){if(typeof I!="object")throw new TypeError(I+"must be non-object");for(var R in I)I.hasOwnProperty(R)&&(v[R]=I[R])}}return v},f.shrinkBuf=function(v,x){return v.length===x?v:v.subarray?v.subarray(0,x):(v.length=x,v)};var m={arraySet:function(v,x,I,R,$){if(x.subarray&&v.subarray)v.set(x.subarray(I,I+R),$);else for(var F=0;F<R;F++)v[$+F]=x[I+F]},flattenChunks:function(v){var x,I,R,$,F,V;for(x=R=0,I=v.length;x<I;x++)R+=v[x].length;for(V=new Uint8Array(R),x=$=0,I=v.length;x<I;x++)F=v[x],V.set(F,$),$+=F.length;return V}},g={arraySet:function(v,x,I,R,$){for(var F=0;F<R;F++)v[$+F]=x[I+F]},flattenChunks:function(v){return[].concat.apply([],v)}};f.setTyped=function(v){v?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,m)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,g))},f.setTyped(p)},{}],42:[function(d,h,f){var p=d("./common"),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var v=new p.Buf8(256),x=0;x<256;x++)v[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function I(R,$){if($<65537&&(R.subarray&&g||!R.subarray&&m))return String.fromCharCode.apply(null,p.shrinkBuf(R,$));for(var F="",V=0;V<$;V++)F+=String.fromCharCode(R[V]);return F}v[254]=v[254]=1,f.string2buf=function(R){var $,F,V,U,q,j=R.length,S=0;for(U=0;U<j;U++)(64512&(F=R.charCodeAt(U)))==55296&&U+1<j&&(64512&(V=R.charCodeAt(U+1)))==56320&&(F=65536+(F-55296<<10)+(V-56320),U++),S+=F<128?1:F<2048?2:F<65536?3:4;for($=new p.Buf8(S),U=q=0;q<S;U++)(64512&(F=R.charCodeAt(U)))==55296&&U+1<j&&(64512&(V=R.charCodeAt(U+1)))==56320&&(F=65536+(F-55296<<10)+(V-56320),U++),F<128?$[q++]=F:(F<2048?$[q++]=192|F>>>6:(F<65536?$[q++]=224|F>>>12:($[q++]=240|F>>>18,$[q++]=128|F>>>12&63),$[q++]=128|F>>>6&63),$[q++]=128|63&F);return $},f.buf2binstring=function(R){return I(R,R.length)},f.binstring2buf=function(R){for(var $=new p.Buf8(R.length),F=0,V=$.length;F<V;F++)$[F]=R.charCodeAt(F);return $},f.buf2string=function(R,$){var F,V,U,q,j=$||R.length,S=new Array(2*j);for(F=V=0;F<j;)if((U=R[F++])<128)S[V++]=U;else if(4<(q=v[U]))S[V++]=65533,F+=q-1;else{for(U&=q===2?31:q===3?15:7;1<q&&F<j;)U=U<<6|63&R[F++],q--;1<q?S[V++]=65533:U<65536?S[V++]=U:(U-=65536,S[V++]=55296|U>>10&1023,S[V++]=56320|1023&U)}return I(S,V)},f.utf8border=function(R,$){var F;for(($=$||R.length)>R.length&&($=R.length),F=$-1;0<=F&&(192&R[F])==128;)F--;return F<0||F===0?$:F+v[R[F]]>$?F:$}},{"./common":41}],43:[function(d,h,f){h.exports=function(p,m,g,v){for(var x=65535&p|0,I=p>>>16&65535|0,R=0;g!==0;){for(g-=R=2e3<g?2e3:g;I=I+(x=x+m[v++]|0)|0,--R;);x%=65521,I%=65521}return x|I<<16|0}},{}],44:[function(d,h,f){h.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,h,f){var p=function(){for(var m,g=[],v=0;v<256;v++){m=v;for(var x=0;x<8;x++)m=1&m?3988292384^m>>>1:m>>>1;g[v]=m}return g}();h.exports=function(m,g,v,x){var I=p,R=x+v;m^=-1;for(var $=x;$<R;$++)m=m>>>8^I[255&(m^g[$])];return-1^m}},{}],46:[function(d,h,f){var p,m=d("../utils/common"),g=d("./trees"),v=d("./adler32"),x=d("./crc32"),I=d("./messages"),R=-2,$=258,F=262,V=113;function U(M,K){return M.msg=I[K],K}function q(M){return(M<<1)-(4<M?9:0)}function j(M){for(var K=M.length;0<=--K;)M[K]=0}function S(M){var K=M.state,D=K.pending;D>M.avail_out&&(D=M.avail_out),D!==0&&(m.arraySet(M.output,K.pending_buf,K.pending_out,D,M.next_out),M.next_out+=D,K.pending_out+=D,M.total_out+=D,M.avail_out-=D,K.pending-=D,K.pending===0&&(K.pending_out=0))}function T(M,K){g._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,K),M.block_start=M.strstart,S(M.strm)}function O(M,K){M.pending_buf[M.pending++]=K}function y(M,K){M.pending_buf[M.pending++]=K>>>8&255,M.pending_buf[M.pending++]=255&K}function b(M,K){var D,k,z=M.max_chain_length,J=M.strstart,Q=M.prev_length,ee=M.nice_match,ne=M.strstart>M.w_size-F?M.strstart-(M.w_size-F):0,he=M.window,de=M.w_mask,Z=M.prev,le=M.strstart+$,fe=he[J+Q-1],ve=he[J+Q];M.prev_length>=M.good_match&&(z>>=2),ee>M.lookahead&&(ee=M.lookahead);do if(he[(D=K)+Q]===ve&&he[D+Q-1]===fe&&he[D]===he[J]&&he[++D]===he[J+1]){J+=2,D++;do;while(he[++J]===he[++D]&&he[++J]===he[++D]&&he[++J]===he[++D]&&he[++J]===he[++D]&&he[++J]===he[++D]&&he[++J]===he[++D]&&he[++J]===he[++D]&&he[++J]===he[++D]&&J<le);if(k=$-(le-J),J=le-$,Q<k){if(M.match_start=K,ee<=(Q=k))break;fe=he[J+Q-1],ve=he[J+Q]}}while((K=Z[K&de])>ne&&--z!=0);return Q<=M.lookahead?Q:M.lookahead}function w(M){var K,D,k,z,J,Q,ee,ne,he,de,Z=M.w_size;do{if(z=M.window_size-M.lookahead-M.strstart,M.strstart>=Z+(Z-F)){for(m.arraySet(M.window,M.window,Z,Z,0),M.match_start-=Z,M.strstart-=Z,M.block_start-=Z,K=D=M.hash_size;k=M.head[--K],M.head[K]=Z<=k?k-Z:0,--D;);for(K=D=Z;k=M.prev[--K],M.prev[K]=Z<=k?k-Z:0,--D;);z+=Z}if(M.strm.avail_in===0)break;if(Q=M.strm,ee=M.window,ne=M.strstart+M.lookahead,de=void 0,(he=z)<(de=Q.avail_in)&&(de=he),D=de===0?0:(Q.avail_in-=de,m.arraySet(ee,Q.input,Q.next_in,de,ne),Q.state.wrap===1?Q.adler=v(Q.adler,ee,de,ne):Q.state.wrap===2&&(Q.adler=x(Q.adler,ee,de,ne)),Q.next_in+=de,Q.total_in+=de,de),M.lookahead+=D,M.lookahead+M.insert>=3)for(J=M.strstart-M.insert,M.ins_h=M.window[J],M.ins_h=(M.ins_h<<M.hash_shift^M.window[J+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[J+3-1])&M.hash_mask,M.prev[J&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=J,J++,M.insert--,!(M.lookahead+M.insert<3)););}while(M.lookahead<F&&M.strm.avail_in!==0)}function _(M,K){for(var D,k;;){if(M.lookahead<F){if(w(M),M.lookahead<F&&K===0)return 1;if(M.lookahead===0)break}if(D=0,M.lookahead>=3&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,D=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),D!==0&&M.strstart-D<=M.w_size-F&&(M.match_length=b(M,D)),M.match_length>=3)if(k=g._tr_tally(M,M.strstart-M.match_start,M.match_length-3),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=3){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,D=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else k=g._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(k&&(T(M,!1),M.strm.avail_out===0))return 1}return M.insert=M.strstart<2?M.strstart:2,K===4?(T(M,!0),M.strm.avail_out===0?3:4):M.last_lit&&(T(M,!1),M.strm.avail_out===0)?1:2}function E(M,K){for(var D,k,z;;){if(M.lookahead<F){if(w(M),M.lookahead<F&&K===0)return 1;if(M.lookahead===0)break}if(D=0,M.lookahead>=3&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,D=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=2,D!==0&&M.prev_length<M.max_lazy_match&&M.strstart-D<=M.w_size-F&&(M.match_length=b(M,D),M.match_length<=5&&(M.strategy===1||M.match_length===3&&4096<M.strstart-M.match_start)&&(M.match_length=2)),M.prev_length>=3&&M.match_length<=M.prev_length){for(z=M.strstart+M.lookahead-3,k=g._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-3),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=z&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,D=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=2,M.strstart++,k&&(T(M,!1),M.strm.avail_out===0))return 1}else if(M.match_available){if((k=g._tr_tally(M,0,M.window[M.strstart-1]))&&T(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return 1}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(k=g._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<2?M.strstart:2,K===4?(T(M,!0),M.strm.avail_out===0?3:4):M.last_lit&&(T(M,!1),M.strm.avail_out===0)?1:2}function C(M,K,D,k,z){this.good_length=M,this.max_lazy=K,this.nice_length=D,this.max_chain=k,this.func=z}function L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(1146),this.dyn_dtree=new m.Buf16(122),this.bl_tree=new m.Buf16(78),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(16),this.heap=new m.Buf16(573),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(573),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(M){var K;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=2,(K=M.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:V,M.adler=K.wrap===2?0:1,K.last_flush=0,g._tr_init(K),0):U(M,R)}function B(M){var K=W(M);return K===0&&function(D){D.window_size=2*D.w_size,j(D.head),D.max_lazy_match=p[D.level].max_lazy,D.good_match=p[D.level].good_length,D.nice_match=p[D.level].nice_length,D.max_chain_length=p[D.level].max_chain,D.strstart=0,D.block_start=0,D.lookahead=0,D.insert=0,D.match_length=D.prev_length=2,D.match_available=0,D.ins_h=0}(M.state),K}function G(M,K,D,k,z,J){if(!M)return R;var Q=1;if(K===-1&&(K=6),k<0?(Q=0,k=-k):15<k&&(Q=2,k-=16),z<1||9<z||D!==8||k<8||15<k||K<0||9<K||J<0||4<J)return U(M,R);k===8&&(k=9);var ee=new L;return(M.state=ee).strm=M,ee.wrap=Q,ee.gzhead=null,ee.w_bits=k,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=z+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+3-1)/3),ee.window=new m.Buf8(2*ee.w_size),ee.head=new m.Buf16(ee.hash_size),ee.prev=new m.Buf16(ee.w_size),ee.lit_bufsize=1<<z+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new m.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=K,ee.strategy=J,ee.method=D,B(M)}p=[new C(0,0,0,0,function(M,K){var D=65535;for(D>M.pending_buf_size-5&&(D=M.pending_buf_size-5);;){if(M.lookahead<=1){if(w(M),M.lookahead===0&&K===0)return 1;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var k=M.block_start+D;if((M.strstart===0||M.strstart>=k)&&(M.lookahead=M.strstart-k,M.strstart=k,T(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-F&&(T(M,!1),M.strm.avail_out===0))return 1}return M.insert=0,K===4?(T(M,!0),M.strm.avail_out===0?3:4):(M.strstart>M.block_start&&(T(M,!1),M.strm.avail_out),1)}),new C(4,4,8,4,_),new C(4,5,16,8,_),new C(4,6,32,32,_),new C(4,4,16,16,E),new C(8,16,32,32,E),new C(8,16,128,128,E),new C(8,32,128,256,E),new C(32,128,258,1024,E),new C(32,258,258,4096,E)],f.deflateInit=function(M,K){return G(M,K,8,15,8,0)},f.deflateInit2=G,f.deflateReset=B,f.deflateResetKeep=W,f.deflateSetHeader=function(M,K){return M&&M.state?M.state.wrap!==2?R:(M.state.gzhead=K,0):R},f.deflate=function(M,K){var D,k,z,J;if(!M||!M.state||5<K||K<0)return M?U(M,R):R;if(k=M.state,!M.output||!M.input&&M.avail_in!==0||k.status===666&&K!==4)return U(M,M.avail_out===0?-5:R);if(k.strm=M,D=k.last_flush,k.last_flush=K,k.status===42)if(k.wrap===2)M.adler=0,O(k,31),O(k,139),O(k,8),k.gzhead?(O(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),O(k,255&k.gzhead.time),O(k,k.gzhead.time>>8&255),O(k,k.gzhead.time>>16&255),O(k,k.gzhead.time>>24&255),O(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),O(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(O(k,255&k.gzhead.extra.length),O(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(M.adler=x(M.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(O(k,0),O(k,0),O(k,0),O(k,0),O(k,0),O(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),O(k,3),k.status=V);else{var Q=8+(k.w_bits-8<<4)<<8;Q|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(Q|=32),Q+=31-Q%31,k.status=V,y(k,Q),k.strstart!==0&&(y(k,M.adler>>>16),y(k,65535&M.adler)),M.adler=1}if(k.status===69)if(k.gzhead.extra){for(z=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>z&&(M.adler=x(M.adler,k.pending_buf,k.pending-z,z)),S(M),z=k.pending,k.pending!==k.pending_buf_size));)O(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>z&&(M.adler=x(M.adler,k.pending_buf,k.pending-z,z)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){z=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>z&&(M.adler=x(M.adler,k.pending_buf,k.pending-z,z)),S(M),z=k.pending,k.pending===k.pending_buf_size)){J=1;break}J=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,O(k,J)}while(J!==0);k.gzhead.hcrc&&k.pending>z&&(M.adler=x(M.adler,k.pending_buf,k.pending-z,z)),J===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){z=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>z&&(M.adler=x(M.adler,k.pending_buf,k.pending-z,z)),S(M),z=k.pending,k.pending===k.pending_buf_size)){J=1;break}J=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,O(k,J)}while(J!==0);k.gzhead.hcrc&&k.pending>z&&(M.adler=x(M.adler,k.pending_buf,k.pending-z,z)),J===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&S(M),k.pending+2<=k.pending_buf_size&&(O(k,255&M.adler),O(k,M.adler>>8&255),M.adler=0,k.status=V)):k.status=V),k.pending!==0){if(S(M),M.avail_out===0)return k.last_flush=-1,0}else if(M.avail_in===0&&q(K)<=q(D)&&K!==4)return U(M,-5);if(k.status===666&&M.avail_in!==0)return U(M,-5);if(M.avail_in!==0||k.lookahead!==0||K!==0&&k.status!==666){var ee=k.strategy===2?function(ne,he){for(var de;;){if(ne.lookahead===0&&(w(ne),ne.lookahead===0)){if(he===0)return 1;break}if(ne.match_length=0,de=g._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,de&&(T(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,he===4?(T(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(T(ne,!1),ne.strm.avail_out===0)?1:2}(k,K):k.strategy===3?function(ne,he){for(var de,Z,le,fe,ve=ne.window;;){if(ne.lookahead<=$){if(w(ne),ne.lookahead<=$&&he===0)return 1;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=3&&0<ne.strstart&&(Z=ve[le=ne.strstart-1])===ve[++le]&&Z===ve[++le]&&Z===ve[++le]){fe=ne.strstart+$;do;while(Z===ve[++le]&&Z===ve[++le]&&Z===ve[++le]&&Z===ve[++le]&&Z===ve[++le]&&Z===ve[++le]&&Z===ve[++le]&&Z===ve[++le]&&le<fe);ne.match_length=$-(fe-le),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=3?(de=g._tr_tally(ne,1,ne.match_length-3),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(de=g._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),de&&(T(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,he===4?(T(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(T(ne,!1),ne.strm.avail_out===0)?1:2}(k,K):p[k.level].func(k,K);if(ee!==3&&ee!==4||(k.status=666),ee===1||ee===3)return M.avail_out===0&&(k.last_flush=-1),0;if(ee===2&&(K===1?g._tr_align(k):K!==5&&(g._tr_stored_block(k,0,0,!1),K===3&&(j(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),S(M),M.avail_out===0))return k.last_flush=-1,0}return K!==4?0:k.wrap<=0?1:(k.wrap===2?(O(k,255&M.adler),O(k,M.adler>>8&255),O(k,M.adler>>16&255),O(k,M.adler>>24&255),O(k,255&M.total_in),O(k,M.total_in>>8&255),O(k,M.total_in>>16&255),O(k,M.total_in>>24&255)):(y(k,M.adler>>>16),y(k,65535&M.adler)),S(M),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?0:1)},f.deflateEnd=function(M){var K;return M&&M.state?(K=M.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==V&&K!==666?U(M,R):(M.state=null,K===V?U(M,-3):0):R},f.deflateSetDictionary=function(M,K){var D,k,z,J,Q,ee,ne,he,de=K.length;if(!M||!M.state||(J=(D=M.state).wrap)===2||J===1&&D.status!==42||D.lookahead)return R;for(J===1&&(M.adler=v(M.adler,K,de,0)),D.wrap=0,de>=D.w_size&&(J===0&&(j(D.head),D.strstart=0,D.block_start=0,D.insert=0),he=new m.Buf8(D.w_size),m.arraySet(he,K,de-D.w_size,D.w_size,0),K=he,de=D.w_size),Q=M.avail_in,ee=M.next_in,ne=M.input,M.avail_in=de,M.next_in=0,M.input=K,w(D);D.lookahead>=3;){for(k=D.strstart,z=D.lookahead-2;D.ins_h=(D.ins_h<<D.hash_shift^D.window[k+3-1])&D.hash_mask,D.prev[k&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=k,k++,--z;);D.strstart=k,D.lookahead=2,w(D)}return D.strstart+=D.lookahead,D.block_start=D.strstart,D.insert=D.lookahead,D.lookahead=0,D.match_length=D.prev_length=2,D.match_available=0,M.next_in=ee,M.input=ne,M.avail_in=Q,D.wrap=J,0},f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,h,f){h.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,h,f){h.exports=function(p,m){var g,v,x,I,R,$,F,V,U,q,j,S,T,O,y,b,w,_,E,C,L,W,B,G,M;g=p.state,v=p.next_in,G=p.input,x=v+(p.avail_in-5),I=p.next_out,M=p.output,R=I-(m-p.avail_out),$=I+(p.avail_out-257),F=g.dmax,V=g.wsize,U=g.whave,q=g.wnext,j=g.window,S=g.hold,T=g.bits,O=g.lencode,y=g.distcode,b=(1<<g.lenbits)-1,w=(1<<g.distbits)-1;e:do{T<15&&(S+=G[v++]<<T,T+=8,S+=G[v++]<<T,T+=8),_=O[S&b];t:for(;;){if(S>>>=E=_>>>24,T-=E,(E=_>>>16&255)==0)M[I++]=65535&_;else{if(!(16&E)){if((64&E)==0){_=O[(65535&_)+(S&(1<<E)-1)];continue t}if(32&E){g.mode=12;break e}p.msg="invalid literal/length code",g.mode=30;break e}C=65535&_,(E&=15)&&(T<E&&(S+=G[v++]<<T,T+=8),C+=S&(1<<E)-1,S>>>=E,T-=E),T<15&&(S+=G[v++]<<T,T+=8,S+=G[v++]<<T,T+=8),_=y[S&w];n:for(;;){if(S>>>=E=_>>>24,T-=E,!(16&(E=_>>>16&255))){if((64&E)==0){_=y[(65535&_)+(S&(1<<E)-1)];continue n}p.msg="invalid distance code",g.mode=30;break e}if(L=65535&_,T<(E&=15)&&(S+=G[v++]<<T,(T+=8)<E&&(S+=G[v++]<<T,T+=8)),F<(L+=S&(1<<E)-1)){p.msg="invalid distance too far back",g.mode=30;break e}if(S>>>=E,T-=E,(E=I-R)<L){if(U<(E=L-E)&&g.sane){p.msg="invalid distance too far back",g.mode=30;break e}if(B=j,(W=0)===q){if(W+=V-E,E<C){for(C-=E;M[I++]=j[W++],--E;);W=I-L,B=M}}else if(q<E){if(W+=V+q-E,(E-=q)<C){for(C-=E;M[I++]=j[W++],--E;);if(W=0,q<C){for(C-=E=q;M[I++]=j[W++],--E;);W=I-L,B=M}}}else if(W+=q-E,E<C){for(C-=E;M[I++]=j[W++],--E;);W=I-L,B=M}for(;2<C;)M[I++]=B[W++],M[I++]=B[W++],M[I++]=B[W++],C-=3;C&&(M[I++]=B[W++],1<C&&(M[I++]=B[W++]))}else{for(W=I-L;M[I++]=M[W++],M[I++]=M[W++],M[I++]=M[W++],2<(C-=3););C&&(M[I++]=M[W++],1<C&&(M[I++]=M[W++]))}break}}break}}while(v<x&&I<$);v-=C=T>>3,S&=(1<<(T-=C<<3))-1,p.next_in=v,p.next_out=I,p.avail_in=v<x?x-v+5:5-(v-x),p.avail_out=I<$?$-I+257:257-(I-$),g.hold=S,g.bits=T}},{}],49:[function(d,h,f){var p=d("../utils/common"),m=d("./adler32"),g=d("./crc32"),v=d("./inffast"),x=d("./inftrees"),I=-2;function R(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function F(b){var w;return b&&b.state?(w=b.state,b.total_in=b.total_out=w.total=0,b.msg="",w.wrap&&(b.adler=1&w.wrap),w.mode=1,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new p.Buf32(852),w.distcode=w.distdyn=new p.Buf32(592),w.sane=1,w.back=-1,0):I}function V(b){var w;return b&&b.state?((w=b.state).wsize=0,w.whave=0,w.wnext=0,F(b)):I}function U(b,w){var _,E;return b&&b.state?(E=b.state,w<0?(_=0,w=-w):(_=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?I:(E.window!==null&&E.wbits!==w&&(E.window=null),E.wrap=_,E.wbits=w,V(b))):I}function q(b,w){var _,E;return b?(E=new $,(b.state=E).window=null,(_=U(b,w))!==0&&(b.state=null),_):I}var j,S,T=!0;function O(b){if(T){var w;for(j=new p.Buf32(512),S=new p.Buf32(32),w=0;w<144;)b.lens[w++]=8;for(;w<256;)b.lens[w++]=9;for(;w<280;)b.lens[w++]=7;for(;w<288;)b.lens[w++]=8;for(x(1,b.lens,0,288,j,0,b.work,{bits:9}),w=0;w<32;)b.lens[w++]=5;x(2,b.lens,0,32,S,0,b.work,{bits:5}),T=!1}b.lencode=j,b.lenbits=9,b.distcode=S,b.distbits=5}function y(b,w,_,E){var C,L=b.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new p.Buf8(L.wsize)),E>=L.wsize?(p.arraySet(L.window,w,_-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(E<(C=L.wsize-L.wnext)&&(C=E),p.arraySet(L.window,w,_-E,C,L.wnext),(E-=C)?(p.arraySet(L.window,w,_-E,E,0),L.wnext=E,L.whave=L.wsize):(L.wnext+=C,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=C))),0}f.inflateReset=V,f.inflateReset2=U,f.inflateResetKeep=F,f.inflateInit=function(b){return q(b,15)},f.inflateInit2=q,f.inflate=function(b,w){var _,E,C,L,W,B,G,M,K,D,k,z,J,Q,ee,ne,he,de,Z,le,fe,ve,me,Se,xe=0,ke=new p.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return I;(_=b.state).mode===12&&(_.mode=13),W=b.next_out,C=b.output,G=b.avail_out,L=b.next_in,E=b.input,B=b.avail_in,M=_.hold,K=_.bits,D=B,k=G,ve=0;e:for(;;)switch(_.mode){case 1:if(_.wrap===0){_.mode=13;break}for(;K<16;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}if(2&_.wrap&&M===35615){ke[_.check=0]=255&M,ke[1]=M>>>8&255,_.check=g(_.check,ke,2,0),K=M=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&M)<<8)+(M>>8))%31){b.msg="incorrect header check",_.mode=30;break}if((15&M)!=8){b.msg="unknown compression method",_.mode=30;break}if(K-=4,fe=8+(15&(M>>>=4)),_.wbits===0)_.wbits=fe;else if(fe>_.wbits){b.msg="invalid window size",_.mode=30;break}_.dmax=1<<fe,b.adler=_.check=1,_.mode=512&M?10:12,K=M=0;break;case 2:for(;K<16;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}if(_.flags=M,(255&_.flags)!=8){b.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){b.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=M>>8&1),512&_.flags&&(ke[0]=255&M,ke[1]=M>>>8&255,_.check=g(_.check,ke,2,0)),K=M=0,_.mode=3;case 3:for(;K<32;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}_.head&&(_.head.time=M),512&_.flags&&(ke[0]=255&M,ke[1]=M>>>8&255,ke[2]=M>>>16&255,ke[3]=M>>>24&255,_.check=g(_.check,ke,4,0)),K=M=0,_.mode=4;case 4:for(;K<16;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}_.head&&(_.head.xflags=255&M,_.head.os=M>>8),512&_.flags&&(ke[0]=255&M,ke[1]=M>>>8&255,_.check=g(_.check,ke,2,0)),K=M=0,_.mode=5;case 5:if(1024&_.flags){for(;K<16;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}_.length=M,_.head&&(_.head.extra_len=M),512&_.flags&&(ke[0]=255&M,ke[1]=M>>>8&255,_.check=g(_.check,ke,2,0)),K=M=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(B<(z=_.length)&&(z=B),z&&(_.head&&(fe=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),p.arraySet(_.head.extra,E,L,z,fe)),512&_.flags&&(_.check=g(_.check,E,z,L)),B-=z,L+=z,_.length-=z),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(B===0)break e;for(z=0;fe=E[L+z++],_.head&&fe&&_.length<65536&&(_.head.name+=String.fromCharCode(fe)),fe&&z<B;);if(512&_.flags&&(_.check=g(_.check,E,z,L)),B-=z,L+=z,fe)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(B===0)break e;for(z=0;fe=E[L+z++],_.head&&fe&&_.length<65536&&(_.head.comment+=String.fromCharCode(fe)),fe&&z<B;);if(512&_.flags&&(_.check=g(_.check,E,z,L)),B-=z,L+=z,fe)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;K<16;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}if(M!==(65535&_.check)){b.msg="header crc mismatch",_.mode=30;break}K=M=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),b.adler=_.check=0,_.mode=12;break;case 10:for(;K<32;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}b.adler=_.check=R(M),K=M=0,_.mode=11;case 11:if(_.havedict===0)return b.next_out=W,b.avail_out=G,b.next_in=L,b.avail_in=B,_.hold=M,_.bits=K,2;b.adler=_.check=1,_.mode=12;case 12:if(w===5||w===6)break e;case 13:if(_.last){M>>>=7&K,K-=7&K,_.mode=27;break}for(;K<3;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}switch(_.last=1&M,K-=1,3&(M>>>=1)){case 0:_.mode=14;break;case 1:if(O(_),_.mode=20,w!==6)break;M>>>=2,K-=2;break e;case 2:_.mode=17;break;case 3:b.msg="invalid block type",_.mode=30}M>>>=2,K-=2;break;case 14:for(M>>>=7&K,K-=7&K;K<32;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}if((65535&M)!=(M>>>16^65535)){b.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&M,K=M=0,_.mode=15,w===6)break e;case 15:_.mode=16;case 16:if(z=_.length){if(B<z&&(z=B),G<z&&(z=G),z===0)break e;p.arraySet(C,E,L,z,W),B-=z,L+=z,G-=z,W+=z,_.length-=z;break}_.mode=12;break;case 17:for(;K<14;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}if(_.nlen=257+(31&M),M>>>=5,K-=5,_.ndist=1+(31&M),M>>>=5,K-=5,_.ncode=4+(15&M),M>>>=4,K-=4,286<_.nlen||30<_.ndist){b.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;K<3;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}_.lens[Re[_.have++]]=7&M,M>>>=3,K-=3}for(;_.have<19;)_.lens[Re[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,me={bits:_.lenbits},ve=x(0,_.lens,0,19,_.lencode,0,_.work,me),_.lenbits=me.bits,ve){b.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;ne=(xe=_.lencode[M&(1<<_.lenbits)-1])>>>16&255,he=65535&xe,!((ee=xe>>>24)<=K);){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}if(he<16)M>>>=ee,K-=ee,_.lens[_.have++]=he;else{if(he===16){for(Se=ee+2;K<Se;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}if(M>>>=ee,K-=ee,_.have===0){b.msg="invalid bit length repeat",_.mode=30;break}fe=_.lens[_.have-1],z=3+(3&M),M>>>=2,K-=2}else if(he===17){for(Se=ee+3;K<Se;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}K-=ee,fe=0,z=3+(7&(M>>>=ee)),M>>>=3,K-=3}else{for(Se=ee+7;K<Se;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}K-=ee,fe=0,z=11+(127&(M>>>=ee)),M>>>=7,K-=7}if(_.have+z>_.nlen+_.ndist){b.msg="invalid bit length repeat",_.mode=30;break}for(;z--;)_.lens[_.have++]=fe}}if(_.mode===30)break;if(_.lens[256]===0){b.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,me={bits:_.lenbits},ve=x(1,_.lens,0,_.nlen,_.lencode,0,_.work,me),_.lenbits=me.bits,ve){b.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,me={bits:_.distbits},ve=x(2,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,me),_.distbits=me.bits,ve){b.msg="invalid distances set",_.mode=30;break}if(_.mode=20,w===6)break e;case 20:_.mode=21;case 21:if(6<=B&&258<=G){b.next_out=W,b.avail_out=G,b.next_in=L,b.avail_in=B,_.hold=M,_.bits=K,v(b,k),W=b.next_out,C=b.output,G=b.avail_out,L=b.next_in,E=b.input,B=b.avail_in,M=_.hold,K=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;ne=(xe=_.lencode[M&(1<<_.lenbits)-1])>>>16&255,he=65535&xe,!((ee=xe>>>24)<=K);){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}if(ne&&(240&ne)==0){for(de=ee,Z=ne,le=he;ne=(xe=_.lencode[le+((M&(1<<de+Z)-1)>>de)])>>>16&255,he=65535&xe,!(de+(ee=xe>>>24)<=K);){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}M>>>=de,K-=de,_.back+=de}if(M>>>=ee,K-=ee,_.back+=ee,_.length=he,ne===0){_.mode=26;break}if(32&ne){_.back=-1,_.mode=12;break}if(64&ne){b.msg="invalid literal/length code",_.mode=30;break}_.extra=15&ne,_.mode=22;case 22:if(_.extra){for(Se=_.extra;K<Se;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}_.length+=M&(1<<_.extra)-1,M>>>=_.extra,K-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;ne=(xe=_.distcode[M&(1<<_.distbits)-1])>>>16&255,he=65535&xe,!((ee=xe>>>24)<=K);){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}if((240&ne)==0){for(de=ee,Z=ne,le=he;ne=(xe=_.distcode[le+((M&(1<<de+Z)-1)>>de)])>>>16&255,he=65535&xe,!(de+(ee=xe>>>24)<=K);){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}M>>>=de,K-=de,_.back+=de}if(M>>>=ee,K-=ee,_.back+=ee,64&ne){b.msg="invalid distance code",_.mode=30;break}_.offset=he,_.extra=15&ne,_.mode=24;case 24:if(_.extra){for(Se=_.extra;K<Se;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}_.offset+=M&(1<<_.extra)-1,M>>>=_.extra,K-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){b.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(G===0)break e;if(z=k-G,_.offset>z){if((z=_.offset-z)>_.whave&&_.sane){b.msg="invalid distance too far back",_.mode=30;break}J=z>_.wnext?(z-=_.wnext,_.wsize-z):_.wnext-z,z>_.length&&(z=_.length),Q=_.window}else Q=C,J=W-_.offset,z=_.length;for(G<z&&(z=G),G-=z,_.length-=z;C[W++]=Q[J++],--z;);_.length===0&&(_.mode=21);break;case 26:if(G===0)break e;C[W++]=_.length,G--,_.mode=21;break;case 27:if(_.wrap){for(;K<32;){if(B===0)break e;B--,M|=E[L++]<<K,K+=8}if(k-=G,b.total_out+=k,_.total+=k,k&&(b.adler=_.check=_.flags?g(_.check,C,k,W-k):m(_.check,C,k,W-k)),k=G,(_.flags?M:R(M))!==_.check){b.msg="incorrect data check",_.mode=30;break}K=M=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;K<32;){if(B===0)break e;B--,M+=E[L++]<<K,K+=8}if(M!==(4294967295&_.total)){b.msg="incorrect length check",_.mode=30;break}K=M=0}_.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return I}return b.next_out=W,b.avail_out=G,b.next_in=L,b.avail_in=B,_.hold=M,_.bits=K,(_.wsize||k!==b.avail_out&&_.mode<30&&(_.mode<27||w!==4))&&y(b,b.output,b.next_out,k-b.avail_out)?(_.mode=31,-4):(D-=b.avail_in,k-=b.avail_out,b.total_in+=D,b.total_out+=k,_.total+=k,_.wrap&&k&&(b.adler=_.check=_.flags?g(_.check,C,k,b.next_out-k):m(_.check,C,k,b.next_out-k)),b.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(D==0&&k===0||w===4)&&ve===0&&(ve=-5),ve)},f.inflateEnd=function(b){if(!b||!b.state)return I;var w=b.state;return w.window&&(w.window=null),b.state=null,0},f.inflateGetHeader=function(b,w){var _;return b&&b.state?(2&(_=b.state).wrap)==0?I:((_.head=w).done=!1,0):I},f.inflateSetDictionary=function(b,w){var _,E=w.length;return b&&b.state?(_=b.state).wrap!==0&&_.mode!==11?I:_.mode===11&&m(1,w,E,0)!==_.check?-3:y(b,w,E,E)?(_.mode=31,-4):(_.havedict=1,0):I},f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,h,f){var p=d("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];h.exports=function(I,R,$,F,V,U,q,j){var S,T,O,y,b,w,_,E,C,L=j.bits,W=0,B=0,G=0,M=0,K=0,D=0,k=0,z=0,J=0,Q=0,ee=null,ne=0,he=new p.Buf16(16),de=new p.Buf16(16),Z=null,le=0;for(W=0;W<=15;W++)he[W]=0;for(B=0;B<F;B++)he[R[$+B]]++;for(K=L,M=15;1<=M&&he[M]===0;M--);if(M<K&&(K=M),M===0)return V[U++]=20971520,V[U++]=20971520,j.bits=1,0;for(G=1;G<M&&he[G]===0;G++);for(K<G&&(K=G),W=z=1;W<=15;W++)if(z<<=1,(z-=he[W])<0)return-1;if(0<z&&(I===0||M!==1))return-1;for(de[1]=0,W=1;W<15;W++)de[W+1]=de[W]+he[W];for(B=0;B<F;B++)R[$+B]!==0&&(q[de[R[$+B]]++]=B);if(w=I===0?(ee=Z=q,19):I===1?(ee=m,ne-=257,Z=g,le-=257,256):(ee=v,Z=x,-1),W=G,b=U,k=B=Q=0,O=-1,y=(J=1<<(D=K))-1,I===1&&852<J||I===2&&592<J)return 1;for(;;){for(_=W-k,C=q[B]<w?(E=0,q[B]):q[B]>w?(E=Z[le+q[B]],ee[ne+q[B]]):(E=96,0),S=1<<W-k,G=T=1<<D;V[b+(Q>>k)+(T-=S)]=_<<24|E<<16|C|0,T!==0;);for(S=1<<W-1;Q&S;)S>>=1;if(S!==0?(Q&=S-1,Q+=S):Q=0,B++,--he[W]==0){if(W===M)break;W=R[$+q[B]]}if(K<W&&(Q&y)!==O){for(k===0&&(k=K),b+=G,z=1<<(D=W-k);D+k<M&&!((z-=he[D+k])<=0);)D++,z<<=1;if(J+=1<<D,I===1&&852<J||I===2&&592<J)return 1;V[O=Q&y]=K<<24|D<<16|b-U|0}}return Q!==0&&(V[b+Q]=W-k<<24|64<<16|0),j.bits=K,0}},{"../utils/common":41}],51:[function(d,h,f){h.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,h,f){var p=d("../utils/common");function m(Z){for(var le=Z.length;0<=--le;)Z[le]=0}var g=256,v=286,x=30,I=15,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(576);m(U);var q=new Array(60);m(q);var j=new Array(512);m(j);var S=new Array(256);m(S);var T=new Array(29);m(T);var O,y,b,w=new Array(x);function _(Z,le,fe,ve,me){this.static_tree=Z,this.extra_bits=le,this.extra_base=fe,this.elems=ve,this.max_length=me,this.has_stree=Z&&Z.length}function E(Z,le){this.dyn_tree=Z,this.max_code=0,this.stat_desc=le}function C(Z){return Z<256?j[Z]:j[256+(Z>>>7)]}function L(Z,le){Z.pending_buf[Z.pending++]=255&le,Z.pending_buf[Z.pending++]=le>>>8&255}function W(Z,le,fe){Z.bi_valid>16-fe?(Z.bi_buf|=le<<Z.bi_valid&65535,L(Z,Z.bi_buf),Z.bi_buf=le>>16-Z.bi_valid,Z.bi_valid+=fe-16):(Z.bi_buf|=le<<Z.bi_valid&65535,Z.bi_valid+=fe)}function B(Z,le,fe){W(Z,fe[2*le],fe[2*le+1])}function G(Z,le){for(var fe=0;fe|=1&Z,Z>>>=1,fe<<=1,0<--le;);return fe>>>1}function M(Z,le,fe){var ve,me,Se=new Array(16),xe=0;for(ve=1;ve<=I;ve++)Se[ve]=xe=xe+fe[ve-1]<<1;for(me=0;me<=le;me++){var ke=Z[2*me+1];ke!==0&&(Z[2*me]=G(Se[ke]++,ke))}}function K(Z){var le;for(le=0;le<v;le++)Z.dyn_ltree[2*le]=0;for(le=0;le<x;le++)Z.dyn_dtree[2*le]=0;for(le=0;le<19;le++)Z.bl_tree[2*le]=0;Z.dyn_ltree[512]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function D(Z){8<Z.bi_valid?L(Z,Z.bi_buf):0<Z.bi_valid&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function k(Z,le,fe,ve){var me=2*le,Se=2*fe;return Z[me]<Z[Se]||Z[me]===Z[Se]&&ve[le]<=ve[fe]}function z(Z,le,fe){for(var ve=Z.heap[fe],me=fe<<1;me<=Z.heap_len&&(me<Z.heap_len&&k(le,Z.heap[me+1],Z.heap[me],Z.depth)&&me++,!k(le,ve,Z.heap[me],Z.depth));)Z.heap[fe]=Z.heap[me],fe=me,me<<=1;Z.heap[fe]=ve}function J(Z,le,fe){var ve,me,Se,xe,ke=0;if(Z.last_lit!==0)for(;ve=Z.pending_buf[Z.d_buf+2*ke]<<8|Z.pending_buf[Z.d_buf+2*ke+1],me=Z.pending_buf[Z.l_buf+ke],ke++,ve===0?B(Z,me,le):(B(Z,(Se=S[me])+g+1,le),(xe=R[Se])!==0&&W(Z,me-=T[Se],xe),B(Z,Se=C(--ve),fe),(xe=$[Se])!==0&&W(Z,ve-=w[Se],xe)),ke<Z.last_lit;);B(Z,256,le)}function Q(Z,le){var fe,ve,me,Se=le.dyn_tree,xe=le.stat_desc.static_tree,ke=le.stat_desc.has_stree,Re=le.stat_desc.elems,je=-1;for(Z.heap_len=0,Z.heap_max=573,fe=0;fe<Re;fe++)Se[2*fe]!==0?(Z.heap[++Z.heap_len]=je=fe,Z.depth[fe]=0):Se[2*fe+1]=0;for(;Z.heap_len<2;)Se[2*(me=Z.heap[++Z.heap_len]=je<2?++je:0)]=1,Z.depth[me]=0,Z.opt_len--,ke&&(Z.static_len-=xe[2*me+1]);for(le.max_code=je,fe=Z.heap_len>>1;1<=fe;fe--)z(Z,Se,fe);for(me=Re;fe=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],z(Z,Se,1),ve=Z.heap[1],Z.heap[--Z.heap_max]=fe,Z.heap[--Z.heap_max]=ve,Se[2*me]=Se[2*fe]+Se[2*ve],Z.depth[me]=(Z.depth[fe]>=Z.depth[ve]?Z.depth[fe]:Z.depth[ve])+1,Se[2*fe+1]=Se[2*ve+1]=me,Z.heap[1]=me++,z(Z,Se,1),2<=Z.heap_len;);Z.heap[--Z.heap_max]=Z.heap[1],function(st,Ve){var Qe,ht,Ge,$e,Ze,et,Be=Ve.dyn_tree,lt=Ve.max_code,Xe=Ve.stat_desc.static_tree,mt=Ve.stat_desc.has_stree,Ct=Ve.stat_desc.extra_bits,pt=Ve.stat_desc.extra_base,it=Ve.stat_desc.max_length,It=0;for($e=0;$e<=I;$e++)st.bl_count[$e]=0;for(Be[2*st.heap[st.heap_max]+1]=0,Qe=st.heap_max+1;Qe<573;Qe++)it<($e=Be[2*Be[2*(ht=st.heap[Qe])+1]+1]+1)&&($e=it,It++),Be[2*ht+1]=$e,lt<ht||(st.bl_count[$e]++,Ze=0,pt<=ht&&(Ze=Ct[ht-pt]),et=Be[2*ht],st.opt_len+=et*($e+Ze),mt&&(st.static_len+=et*(Xe[2*ht+1]+Ze)));if(It!==0){do{for($e=it-1;st.bl_count[$e]===0;)$e--;st.bl_count[$e]--,st.bl_count[$e+1]+=2,st.bl_count[it]--,It-=2}while(0<It);for($e=it;$e!==0;$e--)for(ht=st.bl_count[$e];ht!==0;)lt<(Ge=st.heap[--Qe])||(Be[2*Ge+1]!==$e&&(st.opt_len+=($e-Be[2*Ge+1])*Be[2*Ge],Be[2*Ge+1]=$e),ht--)}}(Z,le),M(Se,je,Z.bl_count)}function ee(Z,le,fe){var ve,me,Se=-1,xe=le[1],ke=0,Re=7,je=4;for(xe===0&&(Re=138,je=3),le[2*(fe+1)+1]=65535,ve=0;ve<=fe;ve++)me=xe,xe=le[2*(ve+1)+1],++ke<Re&&me===xe||(ke<je?Z.bl_tree[2*me]+=ke:me!==0?(me!==Se&&Z.bl_tree[2*me]++,Z.bl_tree[32]++):ke<=10?Z.bl_tree[34]++:Z.bl_tree[36]++,Se=me,je=(ke=0)===xe?(Re=138,3):me===xe?(Re=6,3):(Re=7,4))}function ne(Z,le,fe){var ve,me,Se=-1,xe=le[1],ke=0,Re=7,je=4;for(xe===0&&(Re=138,je=3),ve=0;ve<=fe;ve++)if(me=xe,xe=le[2*(ve+1)+1],!(++ke<Re&&me===xe)){if(ke<je)for(;B(Z,me,Z.bl_tree),--ke!=0;);else me!==0?(me!==Se&&(B(Z,me,Z.bl_tree),ke--),B(Z,16,Z.bl_tree),W(Z,ke-3,2)):ke<=10?(B(Z,17,Z.bl_tree),W(Z,ke-3,3)):(B(Z,18,Z.bl_tree),W(Z,ke-11,7));Se=me,je=(ke=0)===xe?(Re=138,3):me===xe?(Re=6,3):(Re=7,4)}}m(w);var he=!1;function de(Z,le,fe,ve){W(Z,0+(ve?1:0),3),function(me,Se,xe,ke){D(me),L(me,xe),L(me,~xe),p.arraySet(me.pending_buf,me.window,Se,xe,me.pending),me.pending+=xe}(Z,le,fe)}f._tr_init=function(Z){he||(function(){var le,fe,ve,me,Se,xe=new Array(16);for(me=ve=0;me<28;me++)for(T[me]=ve,le=0;le<1<<R[me];le++)S[ve++]=me;for(S[ve-1]=me,me=Se=0;me<16;me++)for(w[me]=Se,le=0;le<1<<$[me];le++)j[Se++]=me;for(Se>>=7;me<x;me++)for(w[me]=Se<<7,le=0;le<1<<$[me]-7;le++)j[256+Se++]=me;for(fe=0;fe<=I;fe++)xe[fe]=0;for(le=0;le<=143;)U[2*le+1]=8,le++,xe[8]++;for(;le<=255;)U[2*le+1]=9,le++,xe[9]++;for(;le<=279;)U[2*le+1]=7,le++,xe[7]++;for(;le<=287;)U[2*le+1]=8,le++,xe[8]++;for(M(U,287,xe),le=0;le<x;le++)q[2*le+1]=5,q[2*le]=G(le,5);O=new _(U,R,257,v,I),y=new _(q,$,0,x,I),b=new _(new Array(0),F,0,19,7)}(),he=!0),Z.l_desc=new E(Z.dyn_ltree,O),Z.d_desc=new E(Z.dyn_dtree,y),Z.bl_desc=new E(Z.bl_tree,b),Z.bi_buf=0,Z.bi_valid=0,K(Z)},f._tr_stored_block=de,f._tr_flush_block=function(Z,le,fe,ve){var me,Se,xe=0;0<Z.level?(Z.strm.data_type===2&&(Z.strm.data_type=function(ke){var Re,je=4093624447;for(Re=0;Re<=31;Re++,je>>>=1)if(1&je&&ke.dyn_ltree[2*Re]!==0)return 0;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return 1;for(Re=32;Re<g;Re++)if(ke.dyn_ltree[2*Re]!==0)return 1;return 0}(Z)),Q(Z,Z.l_desc),Q(Z,Z.d_desc),xe=function(ke){var Re;for(ee(ke,ke.dyn_ltree,ke.l_desc.max_code),ee(ke,ke.dyn_dtree,ke.d_desc.max_code),Q(ke,ke.bl_desc),Re=18;3<=Re&&ke.bl_tree[2*V[Re]+1]===0;Re--);return ke.opt_len+=3*(Re+1)+5+5+4,Re}(Z),me=Z.opt_len+3+7>>>3,(Se=Z.static_len+3+7>>>3)<=me&&(me=Se)):me=Se=fe+5,fe+4<=me&&le!==-1?de(Z,le,fe,ve):Z.strategy===4||Se===me?(W(Z,2+(ve?1:0),3),J(Z,U,q)):(W(Z,4+(ve?1:0),3),function(ke,Re,je,st){var Ve;for(W(ke,Re-257,5),W(ke,je-1,5),W(ke,st-4,4),Ve=0;Ve<st;Ve++)W(ke,ke.bl_tree[2*V[Ve]+1],3);ne(ke,ke.dyn_ltree,Re-1),ne(ke,ke.dyn_dtree,je-1)}(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,xe+1),J(Z,Z.dyn_ltree,Z.dyn_dtree)),K(Z),ve&&D(Z)},f._tr_tally=function(Z,le,fe){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=le>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&le,Z.pending_buf[Z.l_buf+Z.last_lit]=255&fe,Z.last_lit++,le===0?Z.dyn_ltree[2*fe]++:(Z.matches++,le--,Z.dyn_ltree[2*(S[fe]+g+1)]++,Z.dyn_dtree[2*C(le)]++),Z.last_lit===Z.lit_bufsize-1},f._tr_align=function(Z){W(Z,2,3),B(Z,256,U),function(le){le.bi_valid===16?(L(le,le.bi_buf),le.bi_buf=0,le.bi_valid=0):8<=le.bi_valid&&(le.pending_buf[le.pending++]=255&le.bi_buf,le.bi_buf>>=8,le.bi_valid-=8)}(Z)}},{"../utils/common":41}],53:[function(d,h,f){h.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,h,f){(function(p){(function(m,g){if(!m.setImmediate){var v,x,I,R,$=1,F={},V=!1,U=m.document,q=Object.getPrototypeOf&&Object.getPrototypeOf(m);q=q&&q.setTimeout?q:m,v={}.toString.call(m.process)==="[object process]"?function(O){r.nextTick(function(){S(O)})}:function(){if(m.postMessage&&!m.importScripts){var O=!0,y=m.onmessage;return m.onmessage=function(){O=!1},m.postMessage("","*"),m.onmessage=y,O}}()?(R="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",T,!1):m.attachEvent("onmessage",T),function(O){m.postMessage(R+O,"*")}):m.MessageChannel?((I=new MessageChannel).port1.onmessage=function(O){S(O.data)},function(O){I.port2.postMessage(O)}):U&&"onreadystatechange"in U.createElement("script")?(x=U.documentElement,function(O){var y=U.createElement("script");y.onreadystatechange=function(){S(O),y.onreadystatechange=null,x.removeChild(y),y=null},x.appendChild(y)}):function(O){setTimeout(S,0,O)},q.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var y=new Array(arguments.length-1),b=0;b<y.length;b++)y[b]=arguments[b+1];var w={callback:O,args:y};return F[$]=w,v($),$++},q.clearImmediate=j}function j(O){delete F[O]}function S(O){if(V)setTimeout(S,0,O);else{var y=F[O];if(y){V=!0;try{(function(b){var w=b.callback,_=b.args;switch(_.length){case 0:w();break;case 1:w(_[0]);break;case 2:w(_[0],_[1]);break;case 3:w(_[0],_[1],_[2]);break;default:w.apply(void 0,_)}})(y)}finally{j(O),V=!1}}}}function T(O){O.source===m&&typeof O.data=="string"&&O.data.indexOf(R)===0&&S(+O.data.slice(R.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,t,n){(function(r){(function(){"use strict";var i=/[\\^$.*+?()[\]{}|]/g,s=RegExp(i.source),o=typeof r=="object"&&r&&r.Object===Object&&r,a=typeof self=="object"&&self&&self.Object===Object&&self,l=o||a||Function("return this")(),c=Object.prototype.toString,u=l.Symbol,d=u?u.prototype:void 0,h=d?d.toString:void 0;function f(p){if(typeof p=="string")return p;if(function(g){return typeof g=="symbol"||function(v){return!!v&&typeof v=="object"}(g)&&c.call(g)=="[object Symbol]"}(p))return h?h.call(p):"";var m=p+"";return m=="0"&&1/p==-1/0?"-0":m}t.exports=function(p){var m;return(p=(m=p)==null?"":f(m))&&s.test(p)?p.replace(i,"\\$&"):p}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,t,n){(function(r){(function(){"use strict";var i="[object Arguments]",s="[object Map]",o="[object Object]",a="[object Set]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[i]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m[s]=m["[object Number]"]=m[o]=m["[object RegExp]"]=m[a]=m["[object String]"]=m["[object WeakMap]"]=!1;var g=typeof r=="object"&&r&&r.Object===Object&&r,v=typeof self=="object"&&self&&self.Object===Object&&self,x=g||v||Function("return this")(),I=typeof n=="object"&&n&&!n.nodeType&&n,R=I&&typeof t=="object"&&t&&!t.nodeType&&t,$=R&&R.exports===I&&g.process,F=function(){try{return $&&$.binding("util")}catch{}}(),V=F&&F.isTypedArray;function U(be,Ne,Je,Ue){for(var rt=-1,Et=be?be.length:0;++rt<Et;){var St=be[rt];Ne(Ue,St,Je(St),be)}return Ue}function q(be,Ne){for(var Je=-1,Ue=be?be.length:0;++Je<Ue;)if(Ne(be[Je],Je,be))return!0;return!1}function j(be){var Ne=!1;if(be!=null&&typeof be.toString!="function")try{Ne=!!(be+"")}catch{}return Ne}function S(be){var Ne=-1,Je=Array(be.size);return be.forEach(function(Ue,rt){Je[++Ne]=[rt,Ue]}),Je}function T(be){var Ne=-1,Je=Array(be.size);return be.forEach(function(Ue){Je[++Ne]=Ue}),Je}var O,y,b,w=Array.prototype,_=Function.prototype,E=Object.prototype,C=x["__core-js_shared__"],L=(O=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",W=_.toString,B=E.hasOwnProperty,G=E.toString,M=RegExp("^"+W.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=x.Symbol,D=x.Uint8Array,k=E.propertyIsEnumerable,z=w.splice,J=(y=Object.keys,b=Object,function(be){return y(b(be))}),Q=Bt(x,"DataView"),ee=Bt(x,"Map"),ne=Bt(x,"Promise"),he=Bt(x,"Set"),de=Bt(x,"WeakMap"),Z=Bt(Object,"create"),le=Fe(Q),fe=Fe(ee),ve=Fe(ne),me=Fe(he),Se=Fe(de),xe=K?K.prototype:void 0,ke=xe?xe.valueOf:void 0,Re=xe?xe.toString:void 0;function je(be){var Ne=-1,Je=be?be.length:0;for(this.clear();++Ne<Je;){var Ue=be[Ne];this.set(Ue[0],Ue[1])}}function st(be){var Ne=-1,Je=be?be.length:0;for(this.clear();++Ne<Je;){var Ue=be[Ne];this.set(Ue[0],Ue[1])}}function Ve(be){var Ne=-1,Je=be?be.length:0;for(this.clear();++Ne<Je;){var Ue=be[Ne];this.set(Ue[0],Ue[1])}}function Qe(be){var Ne=-1,Je=be?be.length:0;for(this.__data__=new Ve;++Ne<Je;)this.add(be[Ne])}function ht(be){this.__data__=new st(be)}function Ge(be,Ne){var Je=yt(be)||xt(be)?function(St,on){for(var Kt=-1,qt=Array(St);++Kt<St;)qt[Kt]=on(Kt);return qt}(be.length,String):[],Ue=Je.length,rt=!!Ue;for(var Et in be)!Ne&&!B.call(be,Et)||rt&&(Et=="length"||Ht(Et,Ue))||Je.push(Et);return Je}function $e(be,Ne){for(var Je=be.length;Je--;)if(Sn(be[Je][0],Ne))return Je;return-1}function Ze(be,Ne,Je,Ue){return lt(be,function(rt,Et,St){Ne(Ue,rt,Je(rt),St)}),Ue}je.prototype.clear=function(){this.__data__=Z?Z(null):{}},je.prototype.delete=function(be){return this.has(be)&&delete this.__data__[be]},je.prototype.get=function(be){var Ne=this.__data__;if(Z){var Je=Ne[be];return Je==="__lodash_hash_undefined__"?void 0:Je}return B.call(Ne,be)?Ne[be]:void 0},je.prototype.has=function(be){var Ne=this.__data__;return Z?Ne[be]!==void 0:B.call(Ne,be)},je.prototype.set=function(be,Ne){return this.__data__[be]=Z&&Ne===void 0?"__lodash_hash_undefined__":Ne,this},st.prototype.clear=function(){this.__data__=[]},st.prototype.delete=function(be){var Ne=this.__data__,Je=$e(Ne,be);return!(Je<0)&&(Je==Ne.length-1?Ne.pop():z.call(Ne,Je,1),!0)},st.prototype.get=function(be){var Ne=this.__data__,Je=$e(Ne,be);return Je<0?void 0:Ne[Je][1]},st.prototype.has=function(be){return $e(this.__data__,be)>-1},st.prototype.set=function(be,Ne){var Je=this.__data__,Ue=$e(Je,be);return Ue<0?Je.push([be,Ne]):Je[Ue][1]=Ne,this},Ve.prototype.clear=function(){this.__data__={hash:new je,map:new(ee||st),string:new je}},Ve.prototype.delete=function(be){return gt(this,be).delete(be)},Ve.prototype.get=function(be){return gt(this,be).get(be)},Ve.prototype.has=function(be){return gt(this,be).has(be)},Ve.prototype.set=function(be,Ne){return gt(this,be).set(be,Ne),this},Qe.prototype.add=Qe.prototype.push=function(be){return this.__data__.set(be,"__lodash_hash_undefined__"),this},Qe.prototype.has=function(be){return this.__data__.has(be)},ht.prototype.clear=function(){this.__data__=new st},ht.prototype.delete=function(be){return this.__data__.delete(be)},ht.prototype.get=function(be){return this.__data__.get(be)},ht.prototype.has=function(be){return this.__data__.has(be)},ht.prototype.set=function(be,Ne){var Je=this.__data__;if(Je instanceof st){var Ue=Je.__data__;if(!ee||Ue.length<199)return Ue.push([be,Ne]),this;Je=this.__data__=new Ve(Ue)}return Je.set(be,Ne),this};var et,Be,lt=(et=function(be,Ne){return be&&Xe(be,Ne,dr)},function(be,Ne){if(be==null)return be;if(!fn(be))return et(be,Ne);for(var Je=be.length,Ue=Be?Je:-1,rt=Object(be);(Be?Ue--:++Ue<Je)&&Ne(rt[Ue],Ue,rt)!==!1;);return be}),Xe=function(be){return function(Ne,Je,Ue){for(var rt=-1,Et=Object(Ne),St=Ue(Ne),on=St.length;on--;){var Kt=St[be?on:++rt];if(Je(Et[Kt],Kt,Et)===!1)break}return Ne}}();function mt(be,Ne){for(var Je=0,Ue=(Ne=Mt(Ne,be)?[Ne]:ft(Ne)).length;be!=null&&Je<Ue;)be=be[Pe(Ne[Je++])];return Je&&Je==Ue?be:void 0}function Ct(be,Ne){return be!=null&&Ne in Object(be)}function pt(be,Ne,Je,Ue,rt){return be===Ne||(be==null||Ne==null||!Mn(be)&&!jn(Ne)?be!=be&&Ne!=Ne:function(Et,St,on,Kt,qt,Jt){var Hn=yt(Et),sr=yt(St),Rn="[object Array]",Qt="[object Array]";Hn||(Rn=(Rn=Fn(Et))==i?o:Rn),sr||(Qt=(Qt=Fn(St))==i?o:Qt);var Or=Rn==o&&!j(Et),Cr=Qt==o&&!j(St),Jr=Rn==Qt;if(Jr&&!Or)return Jt||(Jt=new ht),Hn||Pr(Et)?At(Et,St,on,Kt,qt,Jt):function(An,zn,hc,li,ua,ci,Ci){switch(hc){case"[object DataView]":if(An.byteLength!=zn.byteLength||An.byteOffset!=zn.byteOffset)return!1;An=An.buffer,zn=zn.buffer;case"[object ArrayBuffer]":return!(An.byteLength!=zn.byteLength||!li(new D(An),new D(zn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Sn(+An,+zn);case"[object Error]":return An.name==zn.name&&An.message==zn.message;case"[object RegExp]":case"[object String]":return An==zn+"";case s:var Ti=S;case a:var da=2&ci;if(Ti||(Ti=T),An.size!=zn.size&&!da)return!1;var vl=Ci.get(An);if(vl)return vl==zn;ci|=1,Ci.set(An,zn);var Mo=At(Ti(An),Ti(zn),li,ua,ci,Ci);return Ci.delete(An),Mo;case"[object Symbol]":if(ke)return ke.call(An)==ke.call(zn)}return!1}(Et,St,Rn,on,Kt,qt,Jt);if(!(2&qt)){var Ui=Or&&B.call(Et,"__wrapped__"),qr=Cr&&B.call(St,"__wrapped__");if(Ui||qr){var Er=Ui?Et.value():Et,Si=qr?St.value():St;return Jt||(Jt=new ht),on(Er,Si,Kt,qt,Jt)}}return Jr?(Jt||(Jt=new ht),function(An,zn,hc,li,ua,ci){var Ci=2&ua,Ti=dr(An),da=Ti.length,vl=dr(zn).length;if(da!=vl&&!Ci)return!1;for(var Mo=da;Mo--;){var Xi=Ti[Mo];if(!(Ci?Xi in zn:B.call(zn,Xi)))return!1}var pc=ci.get(An);if(pc&&ci.get(zn))return pc==zn;var Ii=!0;ci.set(An,zn),ci.set(zn,An);for(var mc=Ci;++Mo<da;){Xi=Ti[Mo];var Ms=An[Xi],No=zn[Xi];if(li)var ku=Ci?li(No,Ms,Xi,zn,An,ci):li(Ms,No,Xi,An,zn,ci);if(!(ku===void 0?Ms===No||hc(Ms,No,li,ua,ci):ku)){Ii=!1;break}mc||(mc=Xi=="constructor")}if(Ii&&!mc){var Xt=An.constructor,bl=zn.constructor;Xt==bl||!("constructor"in An)||!("constructor"in zn)||typeof Xt=="function"&&Xt instanceof Xt&&typeof bl=="function"&&bl instanceof bl||(Ii=!1)}return ci.delete(An),ci.delete(zn),Ii}(Et,St,on,Kt,qt,Jt)):!1}(be,Ne,pt,Je,Ue,rt))}function it(be){return!(!Mn(be)||function(Ne){return!!L&&L in Ne}(be))&&(Zt(be)||j(be)?M:f).test(Fe(be))}function It(be){return typeof be=="function"?be:be==null?Ar:typeof be=="object"?yt(be)?function(Ue,rt){return Mt(Ue)&&Rt(rt)?zt(Pe(Ue),rt):function(Et){var St=function(on,Kt,qt){var Jt=on==null?void 0:mt(on,Kt);return Jt===void 0?qt:Jt}(Et,Ue);return St===void 0&&St===rt?function(on,Kt){return on!=null&&function(qt,Jt,Hn){Jt=Mt(Jt,qt)?[Jt]:ft(Jt);for(var sr,Rn=-1,Qt=Jt.length;++Rn<Qt;){var Or=Pe(Jt[Rn]);if(!(sr=qt!=null&&Hn(qt,Or)))break;qt=qt[Or]}return sr||!!(Qt=qt?qt.length:0)&&Gt(Qt)&&Ht(Or,Qt)&&(yt(qt)||xt(qt))}(on,Kt,Ct)}(Et,Ue):pt(rt,St,void 0,3)}}(be[0],be[1]):function(Ue){var rt=function(Et){for(var St=dr(Et),on=St.length;on--;){var Kt=St[on],qt=Et[Kt];St[on]=[Kt,qt,Rt(qt)]}return St}(Ue);return rt.length==1&&rt[0][2]?zt(rt[0][0],rt[0][1]):function(Et){return Et===Ue||function(St,on,Kt,qt){var Jt=Kt.length,Hn=Jt,sr=!qt;if(St==null)return!Hn;for(St=Object(St);Jt--;){var Rn=Kt[Jt];if(sr&&Rn[2]?Rn[1]!==St[Rn[0]]:!(Rn[0]in St))return!1}for(;++Jt<Hn;){var Qt=(Rn=Kt[Jt])[0],Or=St[Qt],Cr=Rn[1];if(sr&&Rn[2]){if(Or===void 0&&!(Qt in St))return!1}else{var Jr=new ht;if(qt)var Ui=qt(Or,Cr,Qt,St,on,Jr);if(!(Ui===void 0?pt(Cr,Or,qt,3,Jr):Ui))return!1}}return!0}(Et,Ue,rt)}}(be):Mt(Ne=be)?(Je=Pe(Ne),function(Ue){return Ue?.[Je]}):function(Ue){return function(rt){return mt(rt,Ue)}}(Ne);var Ne,Je}function wt(be){if(Je=(Ne=be)&&Ne.constructor,Ue=typeof Je=="function"&&Je.prototype||E,Ne!==Ue)return J(be);var Ne,Je,Ue,rt=[];for(var Et in Object(be))B.call(be,Et)&&Et!="constructor"&&rt.push(Et);return rt}function ft(be){return yt(be)?be:Ee(be)}function At(be,Ne,Je,Ue,rt,Et){var St=2&rt,on=be.length,Kt=Ne.length;if(on!=Kt&&!(St&&Kt>on))return!1;var qt=Et.get(be);if(qt&&Et.get(Ne))return qt==Ne;var Jt=-1,Hn=!0,sr=1&rt?new Qe:void 0;for(Et.set(be,Ne),Et.set(Ne,be);++Jt<on;){var Rn=be[Jt],Qt=Ne[Jt];if(Ue)var Or=St?Ue(Qt,Rn,Jt,Ne,be,Et):Ue(Rn,Qt,Jt,be,Ne,Et);if(Or!==void 0){if(Or)continue;Hn=!1;break}if(sr){if(!q(Ne,function(Cr,Jr){if(!sr.has(Jr)&&(Rn===Cr||Je(Rn,Cr,Ue,rt,Et)))return sr.add(Jr)})){Hn=!1;break}}else if(Rn!==Qt&&!Je(Rn,Qt,Ue,rt,Et)){Hn=!1;break}}return Et.delete(be),Et.delete(Ne),Hn}function gt(be,Ne){var Je,Ue,rt=be.__data__;return((Ue=typeof(Je=Ne))=="string"||Ue=="number"||Ue=="symbol"||Ue=="boolean"?Je!=="__proto__":Je===null)?rt[typeof Ne=="string"?"string":"hash"]:rt.map}function Bt(be,Ne){var Je=function(Ue,rt){return Ue?.[rt]}(be,Ne);return it(Je)?Je:void 0}var Fn=function(be){return G.call(be)};function Ht(be,Ne){return!!(Ne=Ne??9007199254740991)&&(typeof be=="number"||p.test(be))&&be>-1&&be%1==0&&be<Ne}function Mt(be,Ne){if(yt(be))return!1;var Je=typeof be;return!(Je!="number"&&Je!="symbol"&&Je!="boolean"&&be!=null&&!ur(be))||c.test(be)||!l.test(be)||Ne!=null&&be in Object(Ne)}function Rt(be){return be==be&&!Mn(be)}function zt(be,Ne){return function(Je){return Je!=null&&Je[be]===Ne&&(Ne!==void 0||be in Object(Je))}}(Q&&Fn(new Q(new ArrayBuffer(1)))!="[object DataView]"||ee&&Fn(new ee)!=s||ne&&Fn(ne.resolve())!="[object Promise]"||he&&Fn(new he)!=a||de&&Fn(new de)!="[object WeakMap]")&&(Fn=function(be){var Ne=G.call(be),Je=Ne==o?be.constructor:void 0,Ue=Je?Fe(Je):void 0;if(Ue)switch(Ue){case le:return"[object DataView]";case fe:return s;case ve:return"[object Promise]";case me:return a;case Se:return"[object WeakMap]"}return Ne});var Ee=bt(function(be){var Ne;be=(Ne=be)==null?"":function(Ue){if(typeof Ue=="string")return Ue;if(ur(Ue))return Re?Re.call(Ue):"";var rt=Ue+"";return rt=="0"&&1/Ue==-1/0?"-0":rt}(Ne);var Je=[];return u.test(be)&&Je.push(""),be.replace(d,function(Ue,rt,Et,St){Je.push(Et?St.replace(h,"$1"):rt||Ue)}),Je});function Pe(be){if(typeof be=="string"||ur(be))return be;var Ne=be+"";return Ne=="0"&&1/be==-1/0?"-0":Ne}function Fe(be){if(be!=null){try{return W.call(be)}catch{}try{return be+""}catch{}}return""}var ze,$t,ot=(ze=function(be,Ne,Je){B.call(be,Je)?be[Je].push(Ne):be[Je]=[Ne]},function(be,Ne){var Je=yt(be)?U:Ze,Ue=$t?$t():{};return Je(be,ze,It(Ne),Ue)});function bt(be,Ne){if(typeof be!="function"||Ne&&typeof Ne!="function")throw new TypeError("Expected a function");var Je=function(){var Ue=arguments,rt=Ne?Ne.apply(this,Ue):Ue[0],Et=Je.cache;if(Et.has(rt))return Et.get(rt);var St=be.apply(this,Ue);return Je.cache=Et.set(rt,St),St};return Je.cache=new(bt.Cache||Ve),Je}function Sn(be,Ne){return be===Ne||be!=be&&Ne!=Ne}function xt(be){return function(Ne){return jn(Ne)&&fn(Ne)}(be)&&B.call(be,"callee")&&(!k.call(be,"callee")||G.call(be)==i)}bt.Cache=Ve;var yt=Array.isArray;function fn(be){return be!=null&&Gt(be.length)&&!Zt(be)}function Zt(be){var Ne=Mn(be)?G.call(be):"";return Ne=="[object Function]"||Ne=="[object GeneratorFunction]"}function Gt(be){return typeof be=="number"&&be>-1&&be%1==0&&be<=9007199254740991}function Mn(be){var Ne=typeof be;return!!be&&(Ne=="object"||Ne=="function")}function jn(be){return!!be&&typeof be=="object"}function ur(be){return typeof be=="symbol"||jn(be)&&G.call(be)=="[object Symbol]"}var Pr=V?function(be){return function(Ne){return be(Ne)}}(V):function(be){return jn(be)&&Gt(be.length)&&!!m[G.call(be)]};function dr(be){return fn(be)?Ge(be):wt(be)}function Ar(be){return be}t.exports=ot}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(i){return i===!0||i===!1||function(s){return!!s&&typeof s=="object"}(i)&&r.call(i)=="[object Boolean]"}},{}],445:[function(e,t,n){(function(r){(function(){"use strict";var i="[object Arguments]",s="[object Map]",o="[object Object]",a="[object Set]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[i]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[s]=u["[object Number]"]=u[o]=u["[object RegExp]"]=u[a]=u["[object String]"]=u["[object WeakMap]"]=!1;var d=typeof r=="object"&&r&&r.Object===Object&&r,h=typeof self=="object"&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),p=typeof n=="object"&&n&&!n.nodeType&&n,m=p&&typeof t=="object"&&t&&!t.nodeType&&t,g=m&&m.exports===p,v=g&&d.process,x=function(){try{return v&&v.binding&&v.binding("util")}catch{}}(),I=x&&x.isTypedArray;function R(Ee,Pe){for(var Fe=-1,ze=Ee==null?0:Ee.length;++Fe<ze;)if(Pe(Ee[Fe],Fe,Ee))return!0;return!1}function $(Ee){var Pe=-1,Fe=Array(Ee.size);return Ee.forEach(function(ze,$t){Fe[++Pe]=[$t,ze]}),Fe}function F(Ee){var Pe=-1,Fe=Array(Ee.size);return Ee.forEach(function(ze){Fe[++Pe]=ze}),Fe}var V,U,q,j=Array.prototype,S=Function.prototype,T=Object.prototype,O=f["__core-js_shared__"],y=S.toString,b=T.hasOwnProperty,w=(V=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",_=T.toString,E=RegExp("^"+y.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=g?f.Buffer:void 0,L=f.Symbol,W=f.Uint8Array,B=T.propertyIsEnumerable,G=j.splice,M=L?L.toStringTag:void 0,K=Object.getOwnPropertySymbols,D=C?C.isBuffer:void 0,k=(U=Object.keys,q=Object,function(Ee){return U(q(Ee))}),z=mt(f,"DataView"),J=mt(f,"Map"),Q=mt(f,"Promise"),ee=mt(f,"Set"),ne=mt(f,"WeakMap"),he=mt(Object,"create"),de=It(z),Z=It(J),le=It(Q),fe=It(ee),ve=It(ne),me=L?L.prototype:void 0,Se=me?me.valueOf:void 0;function xe(Ee){var Pe=-1,Fe=Ee==null?0:Ee.length;for(this.clear();++Pe<Fe;){var ze=Ee[Pe];this.set(ze[0],ze[1])}}function ke(Ee){var Pe=-1,Fe=Ee==null?0:Ee.length;for(this.clear();++Pe<Fe;){var ze=Ee[Pe];this.set(ze[0],ze[1])}}function Re(Ee){var Pe=-1,Fe=Ee==null?0:Ee.length;for(this.clear();++Pe<Fe;){var ze=Ee[Pe];this.set(ze[0],ze[1])}}function je(Ee){var Pe=-1,Fe=Ee==null?0:Ee.length;for(this.__data__=new Re;++Pe<Fe;)this.add(Ee[Pe])}function st(Ee){var Pe=this.__data__=new ke(Ee);this.size=Pe.size}function Ve(Ee,Pe){var Fe=At(Ee),ze=!Fe&&ft(Ee),$t=!Fe&&!ze&&gt(Ee),ot=!Fe&&!ze&&!$t&&Rt(Ee),bt=Fe||ze||$t||ot,Sn=bt?function(fn,Zt){for(var Gt=-1,Mn=Array(fn);++Gt<fn;)Mn[Gt]=Zt(Gt);return Mn}(Ee.length,String):[],xt=Sn.length;for(var yt in Ee)!Pe&&!b.call(Ee,yt)||bt&&(yt=="length"||$t&&(yt=="offset"||yt=="parent")||ot&&(yt=="buffer"||yt=="byteLength"||yt=="byteOffset")||it(yt,xt))||Sn.push(yt);return Sn}function Qe(Ee,Pe){for(var Fe=Ee.length;Fe--;)if(wt(Ee[Fe][0],Pe))return Fe;return-1}function ht(Ee){return Ee==null?Ee===void 0?"[object Undefined]":"[object Null]":M&&M in Object(Ee)?function(Pe){var Fe=b.call(Pe,M),ze=Pe[M];try{Pe[M]=void 0;var $t=!0}catch{}var ot=_.call(Pe);return $t&&(Fe?Pe[M]=ze:delete Pe[M]),ot}(Ee):function(Pe){return _.call(Pe)}(Ee)}function Ge(Ee){return Mt(Ee)&&ht(Ee)==i}function $e(Ee,Pe,Fe,ze,$t){return Ee===Pe||(Ee==null||Pe==null||!Mt(Ee)&&!Mt(Pe)?Ee!=Ee&&Pe!=Pe:function(ot,bt,Sn,xt,yt,fn){var Zt=At(ot),Gt=At(bt),Mn=Zt?"[object Array]":pt(ot),jn=Gt?"[object Array]":pt(bt),ur=(Mn=Mn==i?o:Mn)==o,Pr=(jn=jn==i?o:jn)==o,dr=Mn==jn;if(dr&&gt(ot)){if(!gt(bt))return!1;Zt=!0,ur=!1}if(dr&&!ur)return fn||(fn=new st),Zt||Rt(ot)?Be(ot,bt,Sn,xt,yt,fn):function(Ue,rt,Et,St,on,Kt,qt){switch(Et){case"[object DataView]":if(Ue.byteLength!=rt.byteLength||Ue.byteOffset!=rt.byteOffset)return!1;Ue=Ue.buffer,rt=rt.buffer;case"[object ArrayBuffer]":return!(Ue.byteLength!=rt.byteLength||!Kt(new W(Ue),new W(rt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return wt(+Ue,+rt);case"[object Error]":return Ue.name==rt.name&&Ue.message==rt.message;case"[object RegExp]":case"[object String]":return Ue==rt+"";case s:var Jt=$;case a:var Hn=1&St;if(Jt||(Jt=F),Ue.size!=rt.size&&!Hn)return!1;var sr=qt.get(Ue);if(sr)return sr==rt;St|=2,qt.set(Ue,rt);var Rn=Be(Jt(Ue),Jt(rt),St,on,Kt,qt);return qt.delete(Ue),Rn;case"[object Symbol]":if(Se)return Se.call(Ue)==Se.call(rt)}return!1}(ot,bt,Mn,Sn,xt,yt,fn);if(!(1&Sn)){var Ar=ur&&b.call(ot,"__wrapped__"),be=Pr&&b.call(bt,"__wrapped__");if(Ar||be){var Ne=Ar?ot.value():ot,Je=be?bt.value():bt;return fn||(fn=new st),yt(Ne,Je,Sn,xt,fn)}}return dr?(fn||(fn=new st),function(Ue,rt,Et,St,on,Kt){var qt=1&Et,Jt=lt(Ue),Hn=Jt.length,sr=lt(rt).length;if(Hn!=sr&&!qt)return!1;for(var Rn=Hn;Rn--;){var Qt=Jt[Rn];if(!(qt?Qt in rt:b.call(rt,Qt)))return!1}var Or=Kt.get(Ue);if(Or&&Kt.get(rt))return Or==rt;var Cr=!0;Kt.set(Ue,rt),Kt.set(rt,Ue);for(var Jr=qt;++Rn<Hn;){Qt=Jt[Rn];var Ui=Ue[Qt],qr=rt[Qt];if(St)var Er=qt?St(qr,Ui,Qt,rt,Ue,Kt):St(Ui,qr,Qt,Ue,rt,Kt);if(!(Er===void 0?Ui===qr||on(Ui,qr,Et,St,Kt):Er)){Cr=!1;break}Jr||(Jr=Qt=="constructor")}if(Cr&&!Jr){var Si=Ue.constructor,An=rt.constructor;Si==An||!("constructor"in Ue)||!("constructor"in rt)||typeof Si=="function"&&Si instanceof Si&&typeof An=="function"&&An instanceof An||(Cr=!1)}return Kt.delete(Ue),Kt.delete(rt),Cr}(ot,bt,Sn,xt,yt,fn)):!1}(Ee,Pe,Fe,ze,$e,$t))}function Ze(Ee){return!(!Ht(Ee)||function(Pe){return!!w&&w in Pe}(Ee))&&(Bt(Ee)?E:l).test(It(Ee))}function et(Ee){if(Fe=(Pe=Ee)&&Pe.constructor,ze=typeof Fe=="function"&&Fe.prototype||T,Pe!==ze)return k(Ee);var Pe,Fe,ze,$t=[];for(var ot in Object(Ee))b.call(Ee,ot)&&ot!="constructor"&&$t.push(ot);return $t}function Be(Ee,Pe,Fe,ze,$t,ot){var bt=1&Fe,Sn=Ee.length,xt=Pe.length;if(Sn!=xt&&!(bt&&xt>Sn))return!1;var yt=ot.get(Ee);if(yt&&ot.get(Pe))return yt==Pe;var fn=-1,Zt=!0,Gt=2&Fe?new je:void 0;for(ot.set(Ee,Pe),ot.set(Pe,Ee);++fn<Sn;){var Mn=Ee[fn],jn=Pe[fn];if(ze)var ur=bt?ze(jn,Mn,fn,Pe,Ee,ot):ze(Mn,jn,fn,Ee,Pe,ot);if(ur!==void 0){if(ur)continue;Zt=!1;break}if(Gt){if(!R(Pe,function(Pr,dr){if(Ar=dr,!Gt.has(Ar)&&(Mn===Pr||$t(Mn,Pr,Fe,ze,ot)))return Gt.push(dr);var Ar})){Zt=!1;break}}else if(Mn!==jn&&!$t(Mn,jn,Fe,ze,ot)){Zt=!1;break}}return ot.delete(Ee),ot.delete(Pe),Zt}function lt(Ee){return function(Pe,Fe,ze){var $t=Fe(Pe);return At(Pe)?$t:function(ot,bt){for(var Sn=-1,xt=bt.length,yt=ot.length;++Sn<xt;)ot[yt+Sn]=bt[Sn];return ot}($t,ze(Pe))}(Ee,zt,Ct)}function Xe(Ee,Pe){var Fe,ze,$t=Ee.__data__;return((ze=typeof(Fe=Pe))=="string"||ze=="number"||ze=="symbol"||ze=="boolean"?Fe!=="__proto__":Fe===null)?$t[typeof Pe=="string"?"string":"hash"]:$t.map}function mt(Ee,Pe){var Fe=function(ze,$t){return ze?.[$t]}(Ee,Pe);return Ze(Fe)?Fe:void 0}xe.prototype.clear=function(){this.__data__=he?he(null):{},this.size=0},xe.prototype.delete=function(Ee){var Pe=this.has(Ee)&&delete this.__data__[Ee];return this.size-=Pe?1:0,Pe},xe.prototype.get=function(Ee){var Pe=this.__data__;if(he){var Fe=Pe[Ee];return Fe==="__lodash_hash_undefined__"?void 0:Fe}return b.call(Pe,Ee)?Pe[Ee]:void 0},xe.prototype.has=function(Ee){var Pe=this.__data__;return he?Pe[Ee]!==void 0:b.call(Pe,Ee)},xe.prototype.set=function(Ee,Pe){var Fe=this.__data__;return this.size+=this.has(Ee)?0:1,Fe[Ee]=he&&Pe===void 0?"__lodash_hash_undefined__":Pe,this},ke.prototype.clear=function(){this.__data__=[],this.size=0},ke.prototype.delete=function(Ee){var Pe=this.__data__,Fe=Qe(Pe,Ee);return!(Fe<0)&&(Fe==Pe.length-1?Pe.pop():G.call(Pe,Fe,1),--this.size,!0)},ke.prototype.get=function(Ee){var Pe=this.__data__,Fe=Qe(Pe,Ee);return Fe<0?void 0:Pe[Fe][1]},ke.prototype.has=function(Ee){return Qe(this.__data__,Ee)>-1},ke.prototype.set=function(Ee,Pe){var Fe=this.__data__,ze=Qe(Fe,Ee);return ze<0?(++this.size,Fe.push([Ee,Pe])):Fe[ze][1]=Pe,this},Re.prototype.clear=function(){this.size=0,this.__data__={hash:new xe,map:new(J||ke),string:new xe}},Re.prototype.delete=function(Ee){var Pe=Xe(this,Ee).delete(Ee);return this.size-=Pe?1:0,Pe},Re.prototype.get=function(Ee){return Xe(this,Ee).get(Ee)},Re.prototype.has=function(Ee){return Xe(this,Ee).has(Ee)},Re.prototype.set=function(Ee,Pe){var Fe=Xe(this,Ee),ze=Fe.size;return Fe.set(Ee,Pe),this.size+=Fe.size==ze?0:1,this},je.prototype.add=je.prototype.push=function(Ee){return this.__data__.set(Ee,"__lodash_hash_undefined__"),this},je.prototype.has=function(Ee){return this.__data__.has(Ee)},st.prototype.clear=function(){this.__data__=new ke,this.size=0},st.prototype.delete=function(Ee){var Pe=this.__data__,Fe=Pe.delete(Ee);return this.size=Pe.size,Fe},st.prototype.get=function(Ee){return this.__data__.get(Ee)},st.prototype.has=function(Ee){return this.__data__.has(Ee)},st.prototype.set=function(Ee,Pe){var Fe=this.__data__;if(Fe instanceof ke){var ze=Fe.__data__;if(!J||ze.length<199)return ze.push([Ee,Pe]),this.size=++Fe.size,this;Fe=this.__data__=new Re(ze)}return Fe.set(Ee,Pe),this.size=Fe.size,this};var Ct=K?function(Ee){return Ee==null?[]:(Ee=Object(Ee),function(Pe,Fe){for(var ze=-1,$t=Pe==null?0:Pe.length,ot=0,bt=[];++ze<$t;){var Sn=Pe[ze];Fe(Sn,ze,Pe)&&(bt[ot++]=Sn)}return bt}(K(Ee),function(Pe){return B.call(Ee,Pe)}))}:function(){return[]},pt=ht;function it(Ee,Pe){return!!(Pe=Pe??9007199254740991)&&(typeof Ee=="number"||c.test(Ee))&&Ee>-1&&Ee%1==0&&Ee<Pe}function It(Ee){if(Ee!=null){try{return y.call(Ee)}catch{}try{return Ee+""}catch{}}return""}function wt(Ee,Pe){return Ee===Pe||Ee!=Ee&&Pe!=Pe}(z&&pt(new z(new ArrayBuffer(1)))!="[object DataView]"||J&&pt(new J)!=s||Q&&pt(Q.resolve())!="[object Promise]"||ee&&pt(new ee)!=a||ne&&pt(new ne)!="[object WeakMap]")&&(pt=function(Ee){var Pe=ht(Ee),Fe=Pe==o?Ee.constructor:void 0,ze=Fe?It(Fe):"";if(ze)switch(ze){case de:return"[object DataView]";case Z:return s;case le:return"[object Promise]";case fe:return a;case ve:return"[object WeakMap]"}return Pe});var ft=Ge(function(){return arguments}())?Ge:function(Ee){return Mt(Ee)&&b.call(Ee,"callee")&&!B.call(Ee,"callee")},At=Array.isArray,gt=D||function(){return!1};function Bt(Ee){if(!Ht(Ee))return!1;var Pe=ht(Ee);return Pe=="[object Function]"||Pe=="[object GeneratorFunction]"||Pe=="[object AsyncFunction]"||Pe=="[object Proxy]"}function Fn(Ee){return typeof Ee=="number"&&Ee>-1&&Ee%1==0&&Ee<=9007199254740991}function Ht(Ee){var Pe=typeof Ee;return Ee!=null&&(Pe=="object"||Pe=="function")}function Mt(Ee){return Ee!=null&&typeof Ee=="object"}var Rt=I?function(Ee){return function(Pe){return Ee(Pe)}}(I):function(Ee){return Mt(Ee)&&Fn(Ee.length)&&!!u[ht(Ee)]};function zt(Ee){return(Pe=Ee)!=null&&Fn(Pe.length)&&!Bt(Pe)?Ve(Ee):et(Ee);var Pe}t.exports=function(Ee,Pe){return $e(Ee,Pe)}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,t,n){(function(r){(function(){"use strict";var i=typeof r=="object"&&r&&r.Object===Object&&r,s=typeof self=="object"&&self&&self.Object===Object&&self,o=i||s||Function("return this")(),a=Object.prototype,l=a.hasOwnProperty,c=a.toString,u=o.Symbol,d=u?u.toStringTag:void 0;function h(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":d&&d in Object(f)?function(p){var m=l.call(p,d),g=p[d];try{p[d]=void 0;var v=!0}catch{}var x=c.call(p);return v&&(m?p[d]=g:delete p[d]),x}(f):function(p){return c.call(p)}(f)}t.exports=function(f){if(!function(m){var g=typeof m;return m!=null&&(g=="object"||g=="function")}(f))return!1;var p=h(f);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,t,n){"use strict";t.exports=function(r){return r==null}},{}],448:[function(e,t,n){"use strict";t.exports=function(r){return r===void 0}},{}],449:[function(e,t,n){(function(r){(function(){"use strict";var i=/^\[object .+?Constructor\]$/,s=typeof r=="object"&&r&&r.Object===Object&&r,o=typeof self=="object"&&self&&self.Object===Object&&self,a=s||o||Function("return this")();function l(W,B){return!!(W&&W.length)&&function(G,M,K){if(M!=M)return function(z,J,Q,ee){for(var ne=z.length,he=Q+(ee?1:-1);ee?he--:++he<ne;)if(J(z[he],he,z))return he;return-1}(G,u,K);for(var D=K-1,k=G.length;++D<k;)if(G[D]===M)return D;return-1}(W,B,0)>-1}function c(W,B,G){for(var M=-1,K=W?W.length:0;++M<K;)if(G(B,W[M]))return!0;return!1}function u(W){return W!=W}function d(W,B){return W.has(B)}function h(W){var B=-1,G=Array(W.size);return W.forEach(function(M){G[++B]=M}),G}var f,p=Array.prototype,m=Function.prototype,g=Object.prototype,v=a["__core-js_shared__"],x=(f=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",I=m.toString,R=g.hasOwnProperty,$=g.toString,F=RegExp("^"+I.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=p.splice,U=C(a,"Map"),q=C(a,"Set"),j=C(Object,"create");function S(W){var B=-1,G=W?W.length:0;for(this.clear();++B<G;){var M=W[B];this.set(M[0],M[1])}}function T(W){var B=-1,G=W?W.length:0;for(this.clear();++B<G;){var M=W[B];this.set(M[0],M[1])}}function O(W){var B=-1,G=W?W.length:0;for(this.clear();++B<G;){var M=W[B];this.set(M[0],M[1])}}function y(W){var B=-1,G=W?W.length:0;for(this.__data__=new O;++B<G;)this.add(W[B])}function b(W,B){for(var G,M,K=W.length;K--;)if((G=W[K][0])===(M=B)||G!=G&&M!=M)return K;return-1}function w(W){return!(!L(W)||(B=W,x&&x in B))&&(function(G){var M=L(G)?$.call(G):"";return M=="[object Function]"||M=="[object GeneratorFunction]"}(W)||function(G){var M=!1;if(G!=null&&typeof G.toString!="function")try{M=!!(G+"")}catch{}return M}(W)?F:i).test(function(G){if(G!=null){try{return I.call(G)}catch{}try{return G+""}catch{}}return""}(W));var B}S.prototype.clear=function(){this.__data__=j?j(null):{}},S.prototype.delete=function(W){return this.has(W)&&delete this.__data__[W]},S.prototype.get=function(W){var B=this.__data__;if(j){var G=B[W];return G==="__lodash_hash_undefined__"?void 0:G}return R.call(B,W)?B[W]:void 0},S.prototype.has=function(W){var B=this.__data__;return j?B[W]!==void 0:R.call(B,W)},S.prototype.set=function(W,B){return this.__data__[W]=j&&B===void 0?"__lodash_hash_undefined__":B,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(W){var B=this.__data__,G=b(B,W);return!(G<0)&&(G==B.length-1?B.pop():V.call(B,G,1),!0)},T.prototype.get=function(W){var B=this.__data__,G=b(B,W);return G<0?void 0:B[G][1]},T.prototype.has=function(W){return b(this.__data__,W)>-1},T.prototype.set=function(W,B){var G=this.__data__,M=b(G,W);return M<0?G.push([W,B]):G[M][1]=B,this},O.prototype.clear=function(){this.__data__={hash:new S,map:new(U||T),string:new S}},O.prototype.delete=function(W){return E(this,W).delete(W)},O.prototype.get=function(W){return E(this,W).get(W)},O.prototype.has=function(W){return E(this,W).has(W)},O.prototype.set=function(W,B){return E(this,W).set(W,B),this},y.prototype.add=y.prototype.push=function(W){return this.__data__.set(W,"__lodash_hash_undefined__"),this},y.prototype.has=function(W){return this.__data__.has(W)};var _=q&&1/h(new q([,-0]))[1]==1/0?function(W){return new q(W)}:function(){};function E(W,B){var G,M,K=W.__data__;return((M=typeof(G=B))=="string"||M=="number"||M=="symbol"||M=="boolean"?G!=="__proto__":G===null)?K[typeof B=="string"?"string":"hash"]:K.map}function C(W,B){var G=function(M,K){return M?.[K]}(W,B);return w(G)?G:void 0}function L(W){var B=typeof W;return!!W&&(B=="object"||B=="function")}t.exports=function(W){return W&&W.length?function(B,G,M){var K=-1,D=l,k=B.length,z=!0,J=[],Q=J;if(M)z=!1,D=c;else if(k>=200){var ee=G?null:_(B);if(ee)return h(ee);z=!1,D=d,Q=new y}else Q=G?[]:J;e:for(;++K<k;){var ne=B[K],he=G?G(ne):ne;if(ne=M||ne!==0?ne:0,z&&he==he){for(var de=Q.length;de--;)if(Q[de]===he)continue e;G&&Q.push(he),J.push(ne)}else D(Q,he,M)||(Q!==J&&Q.push(he),J.push(ne))}return J}(W):[]}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,t,n){"use strict";var r=e("inherits"),i=e("hash-base"),s=e("safe-buffer").Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(f,p){return f<<p|f>>>32-p}function c(f,p,m,g,v,x,I){return l(f+(p&m|~p&g)+v+x|0,I)+p|0}function u(f,p,m,g,v,x,I){return l(f+(p&g|m&~g)+v+x|0,I)+p|0}function d(f,p,m,g,v,x,I){return l(f+(p^m^g)+v+x|0,I)+p|0}function h(f,p,m,g,v,x,I){return l(f+(m^(p|~g))+v+x|0,I)+p|0}r(a,i),a.prototype._update=function(){for(var f=o,p=0;p<16;++p)f[p]=this._block.readInt32LE(4*p);var m=this._a,g=this._b,v=this._c,x=this._d;m=c(m,g,v,x,f[0],3614090360,7),x=c(x,m,g,v,f[1],3905402710,12),v=c(v,x,m,g,f[2],606105819,17),g=c(g,v,x,m,f[3],3250441966,22),m=c(m,g,v,x,f[4],4118548399,7),x=c(x,m,g,v,f[5],1200080426,12),v=c(v,x,m,g,f[6],2821735955,17),g=c(g,v,x,m,f[7],4249261313,22),m=c(m,g,v,x,f[8],1770035416,7),x=c(x,m,g,v,f[9],2336552879,12),v=c(v,x,m,g,f[10],4294925233,17),g=c(g,v,x,m,f[11],2304563134,22),m=c(m,g,v,x,f[12],1804603682,7),x=c(x,m,g,v,f[13],4254626195,12),v=c(v,x,m,g,f[14],2792965006,17),m=u(m,g=c(g,v,x,m,f[15],1236535329,22),v,x,f[1],4129170786,5),x=u(x,m,g,v,f[6],3225465664,9),v=u(v,x,m,g,f[11],643717713,14),g=u(g,v,x,m,f[0],3921069994,20),m=u(m,g,v,x,f[5],3593408605,5),x=u(x,m,g,v,f[10],38016083,9),v=u(v,x,m,g,f[15],3634488961,14),g=u(g,v,x,m,f[4],3889429448,20),m=u(m,g,v,x,f[9],568446438,5),x=u(x,m,g,v,f[14],3275163606,9),v=u(v,x,m,g,f[3],4107603335,14),g=u(g,v,x,m,f[8],1163531501,20),m=u(m,g,v,x,f[13],2850285829,5),x=u(x,m,g,v,f[2],4243563512,9),v=u(v,x,m,g,f[7],1735328473,14),m=d(m,g=u(g,v,x,m,f[12],2368359562,20),v,x,f[5],4294588738,4),x=d(x,m,g,v,f[8],2272392833,11),v=d(v,x,m,g,f[11],1839030562,16),g=d(g,v,x,m,f[14],4259657740,23),m=d(m,g,v,x,f[1],2763975236,4),x=d(x,m,g,v,f[4],1272893353,11),v=d(v,x,m,g,f[7],4139469664,16),g=d(g,v,x,m,f[10],3200236656,23),m=d(m,g,v,x,f[13],681279174,4),x=d(x,m,g,v,f[0],3936430074,11),v=d(v,x,m,g,f[3],3572445317,16),g=d(g,v,x,m,f[6],76029189,23),m=d(m,g,v,x,f[9],3654602809,4),x=d(x,m,g,v,f[12],3873151461,11),v=d(v,x,m,g,f[15],530742520,16),m=h(m,g=d(g,v,x,m,f[2],3299628645,23),v,x,f[0],4096336452,6),x=h(x,m,g,v,f[7],1126891415,10),v=h(v,x,m,g,f[14],2878612391,15),g=h(g,v,x,m,f[5],4237533241,21),m=h(m,g,v,x,f[12],1700485571,6),x=h(x,m,g,v,f[3],2399980690,10),v=h(v,x,m,g,f[10],4293915773,15),g=h(g,v,x,m,f[1],2240044497,21),m=h(m,g,v,x,f[8],1873313359,6),x=h(x,m,g,v,f[15],4264355552,10),v=h(v,x,m,g,f[6],2734768916,15),g=h(g,v,x,m,f[13],1309151649,21),m=h(m,g,v,x,f[4],4149444226,6),x=h(x,m,g,v,f[11],3174756917,10),v=h(v,x,m,g,f[2],718787259,15),g=h(g,v,x,m,f[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+g|0,this._c=this._c+v|0,this._d=this._d+x|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=s.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f},t.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("brorand");function s(o){this.rand=o||new i.Rand}t.exports=s,s.create=function(o){return new s(o)},s.prototype._randbelow=function(o){var a=o.bitLength(),l=Math.ceil(a/8);do var c=new r(this.rand.generate(l));while(c.cmp(o)>=0);return c},s.prototype._randrange=function(o,a){var l=a.sub(o);return o.add(this._randbelow(l))},s.prototype.test=function(o,a,l){var c=o.bitLength(),u=r.mont(o),d=new r(1).toRed(u);a||(a=Math.max(1,c/48|0));for(var h=o.subn(1),f=0;!h.testn(f);f++);for(var p=o.shrn(f),m=h.toRed(u);a>0;a--){var g=this._randrange(new r(2),h);l&&l(g);var v=g.toRed(u).redPow(p);if(v.cmp(d)!==0&&v.cmp(m)!==0){for(var x=1;x<f;x++){if((v=v.redSqr()).cmp(d)===0)return!1;if(v.cmp(m)===0)break}if(x===f)return!1}}return!0},s.prototype.getDivisor=function(o,a){var l=o.bitLength(),c=r.mont(o),u=new r(1).toRed(c);a||(a=Math.max(1,l/48|0));for(var d=o.subn(1),h=0;!d.testn(h);h++);for(var f=o.shrn(h),p=d.toRed(c);a>0;a--){var m=this._randrange(new r(2),d),g=o.gcd(m);if(g.cmpn(1)!==0)return g;var v=m.toRed(c).redPow(f);if(v.cmp(u)!==0&&v.cmp(p)!==0){for(var x=1;x<h;x++){if((v=v.redSqr()).cmp(u)===0)return v.fromRed().subn(1).gcd(o);if(v.cmp(p)===0)break}if(x===h)return(v=v.redSqr()).fromRed().subn(1).gcd(o)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],453:[function(e,t,n){"use strict";function r(i,s){if(!i)throw new Error(s||"Assertion failed")}t.exports=r,r.equal=function(i,s,o){if(i!=s)throw new Error(o||"Assertion failed: "+i+" != "+s)}},{}],454:[function(e,t,n){"use strict";var r=n;function i(o){return o.length===1?"0"+o:o}function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}r.toArray=function(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=0|o[c];return l}if(a==="hex")for((o=o.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(o="0"+o),c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16));else for(c=0;c<o.length;c++){var u=o.charCodeAt(c),d=u>>8,h=255&u;d?l.push(d,h):l.push(h)}return l},r.zero2=i,r.toHex=s,r.encode=function(o,a){return a==="hex"?s(o):o}},{}],455:[function(e,t,n){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,t,n){"use strict";var r=e("asn1.js");n.certificate=e("./certificate");var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});n.RSAPrivateKey=i;var s=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});n.RSAPublicKey=s;var o=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});n.PublicKey=o;var a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});n.PrivateKey=l;var c=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});n.EncryptedPrivateKey=c;var u=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});n.DSAPrivateKey=u,n.DSAparam=r.define("DSAparam",function(){this.int()});var d=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=d;var h=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});n.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,t,n){"use strict";var r=e("asn1.js"),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),l=r.define("RelativeDistinguishedName",function(){this.setof(s)}),c=r.define("RDNSequence",function(){this.seqof(l)}),u=r.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),d=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),h=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(u),this.key("validity").use(d),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});t.exports=p},{"asn1.js":170}],458:[function(e,t,n){"use strict";var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=e("evp_bytestokey"),a=e("browserify-aes"),l=e("safe-buffer").Buffer;t.exports=function(c,u){var d,h=c.toString(),f=h.match(r);if(f){var p="aes"+f[1],m=l.from(f[2],"hex"),g=l.from(f[3].replace(/[\r\n]/g,""),"base64"),v=o(u,m.slice(0,8),parseInt(f[1],10)).key,x=[],I=a.createDecipheriv(p,v,m);x.push(I.update(g)),x.push(I.final()),d=l.concat(x)}else{var R=h.match(s);d=l.from(R[2].replace(/[\r\n]/g,""),"base64")}return{tag:h.match(i)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,t,n){"use strict";var r=e("./asn1"),i=e("./aesid.json"),s=e("./fixProc"),o=e("browserify-aes"),a=e("pbkdf2"),l=e("safe-buffer").Buffer;function c(u){var d;typeof u!="object"||l.isBuffer(u)||(d=u.passphrase,u=u.key),typeof u=="string"&&(u=l.from(u));var h,f,p=s(u,d),m=p.tag,g=p.data;switch(m){case"CERTIFICATE":f=r.certificate.decode(g,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=r.PublicKey.decode(g,"der")),h=f.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=r.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+h)}case"ENCRYPTED PRIVATE KEY":g=function(v,x){var I=v.algorithm.decrypt.kde.kdeparams.salt,R=parseInt(v.algorithm.decrypt.kde.kdeparams.iters.toString(),10),$=i[v.algorithm.decrypt.cipher.algo.join(".")],F=v.algorithm.decrypt.cipher.iv,V=v.subjectPrivateKey,U=parseInt($.split("-")[1],10)/8,q=a.pbkdf2Sync(x,I,R,U,"sha1"),j=o.createDecipheriv($,q,F),S=[];return S.push(j.update(V)),S.push(j.final()),l.concat(S)}(g=r.EncryptedPrivateKey.decode(g,"der"),d);case"PRIVATE KEY":switch(h=(f=r.PrivateKey.decode(g,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:r.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=r.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+h)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(g,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(g,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(g,"der")};case"EC PRIVATE KEY":return{curve:(g=r.ECPrivateKey.decode(g,"der")).parameters.value,privateKey:g.privateKey};default:throw new Error("unknown key type "+m)}}t.exports=c,c.signature=r.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,t,n){"use strict";n.pbkdf2=e("./lib/async"),n.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,t,n){(function(r){(function(){"use strict";var i,s,o=e("safe-buffer").Buffer,a=e("./precondition"),l=e("./default-encoding"),c=e("./sync"),u=e("./to-buffer"),d=r.crypto&&r.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function p(){return s||(s=r.process&&r.process.nextTick?r.process.nextTick:r.queueMicrotask?r.queueMicrotask:r.setImmediate?r.setImmediate:r.setTimeout)}function m(g,v,x,I,R){return d.importKey("raw",g,{name:"PBKDF2"},!1,["deriveBits"]).then(function($){return d.deriveBits({name:"PBKDF2",salt:v,iterations:x,hash:{name:R}},$,I<<3)}).then(function($){return o.from($)})}t.exports=function(g,v,x,I,R,$){typeof R=="function"&&($=R,R=void 0);var F=h[(R=R||"sha1").toLowerCase()];if(F&&typeof r.Promise=="function"){if(a(x,I),g=u(g,l,"Password"),v=u(v,l,"Salt"),typeof $!="function")throw new Error("No callback provided to pbkdf2");(function(V,U){V.then(function(q){p()(function(){U(null,q)})},function(q){p()(function(){U(q)})})})(function(V){if(r.process&&!r.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(f[V]!==void 0)return f[V];var U=m(i=i||o.alloc(8),i,10,128,V).then(function(){return!0}).catch(function(){return!1});return f[V]=U,U}(F).then(function(V){return V?m(g,v,x,I,F):c(g,v,x,I,R)}),$)}else p()(function(){var V;try{V=c(g,v,x,I,R)}catch(U){return $(U)}$(null,V)})}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,t,n){(function(r,i){(function(){"use strict";var s;i.process&&i.process.browser?s="utf-8":i.process&&i.process.version?s=parseInt(r.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":s="utf-8",t.exports=s}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,t,n){"use strict";var r=Math.pow(2,30)-1;t.exports=function(i,s){if(typeof i!="number")throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if(typeof s!="number")throw new TypeError("Key length not a number");if(s<0||s>r||s!=s)throw new TypeError("Bad key length")}},{}],464:[function(e,t,n){"use strict";var r=e("create-hash/md5"),i=e("ripemd160"),s=e("sha.js"),o=e("safe-buffer").Buffer,a=e("./precondition"),l=e("./default-encoding"),c=e("./to-buffer"),u=o.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(f,p,m){var g=function(F){function V(U){return s(F).update(U).digest()}return F==="rmd160"||F==="ripemd160"?function(U){return new i().update(U).digest()}:F==="md5"?r:V}(f),v=f==="sha512"||f==="sha384"?128:64;p.length>v?p=g(p):p.length<v&&(p=o.concat([p,u],v));for(var x=o.allocUnsafe(v+d[f]),I=o.allocUnsafe(v+d[f]),R=0;R<v;R++)x[R]=54^p[R],I[R]=92^p[R];var $=o.allocUnsafe(v+m+4);x.copy($,0,0,v),this.ipad1=$,this.ipad2=x,this.opad=I,this.alg=f,this.blocksize=v,this.hash=g,this.size=d[f]}h.prototype.run=function(f,p){return f.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(f,p,m,g,v){a(m,g);var x=new h(v=v||"sha1",f=c(f,l,"Password"),(p=c(p,l,"Salt")).length),I=o.allocUnsafe(g),R=o.allocUnsafe(p.length+4);p.copy(R,0,0,p.length);for(var $=0,F=d[v],V=Math.ceil(g/F),U=1;U<=V;U++){R.writeUInt32BE(U,p.length);for(var q=x.run(R,x.ipad1),j=q,S=1;S<m;S++){j=x.run(j,x.ipad2);for(var T=0;T<F;T++)q[T]^=j[T]}q.copy(I,$),$+=F}return I}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer;t.exports=function(i,s,o){if(r.isBuffer(i))return i;if(typeof i=="string")return r.from(i,s);if(ArrayBuffer.isView(i))return r.from(i.buffer);throw new TypeError(o+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,t,n){(function(r){(function(){"use strict";r===void 0||!r.version||r.version.indexOf("v0.")===0||r.version.indexOf("v1.")===0&&r.version.indexOf("v1.8.")!==0?t.exports={nextTick:function(i,s,o,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var l,c,u=arguments.length;switch(u){case 0:case 1:return r.nextTick(i);case 2:return r.nextTick(function(){i.call(null,s)});case 3:return r.nextTick(function(){i.call(null,s,o)});case 4:return r.nextTick(function(){i.call(null,s,o,a)});default:for(l=new Array(u-1),c=0;c<l.length;)l[c++]=arguments[c];return r.nextTick(function(){i.apply(null,l)})}}}:t.exports=r}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,t,n){"use strict";var r,i,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(v){if(r===setTimeout)return setTimeout(v,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(v,0);try{return r(v,0)}catch{try{return r.call(null,v,0)}catch{return r.call(this,v,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:o}catch{r=o}try{i=typeof clearTimeout=="function"?clearTimeout:a}catch{i=a}})();var c,u=[],d=!1,h=-1;function f(){d&&c&&(d=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!d){var v=l(f);d=!0;for(var x=u.length;x;){for(c=u,u=[];++h<x;)c&&c[h].run();h=-1,x=u.length}c=null,d=!1,function(I){if(i===clearTimeout)return clearTimeout(I);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(I);try{i(I)}catch{try{return i.call(null,I)}catch{return i.call(this,I)}}}(v)}}function m(v,x){this.fun=v,this.array=x}function g(){}s.nextTick=function(v){var x=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)x[I-1]=arguments[I];u.push(new m(v,x)),u.length!==1||d||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(v){return[]},s.binding=function(v){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(v){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],468:[function(e,t,n){"use strict";n.publicEncrypt=e("./publicEncrypt"),n.privateDecrypt=e("./privateDecrypt"),n.privateEncrypt=function(r,i){return n.publicEncrypt(r,i,!0)},n.publicDecrypt=function(r,i){return n.privateDecrypt(r,i,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,t,n){"use strict";var r=e("create-hash"),i=e("safe-buffer").Buffer;function s(o){var a=i.allocUnsafe(4);return a.writeUInt32BE(o,0),a}t.exports=function(o,a){for(var l,c=i.alloc(0),u=0;c.length<a;)l=s(u++),c=i.concat([c,r("sha1").update(o).update(l).digest()]);return c.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],471:[function(e,t,n){"use strict";var r=e("parse-asn1"),i=e("./mgf"),s=e("./xor"),o=e("bn.js"),a=e("browserify-rsa"),l=e("create-hash"),c=e("./withPublic"),u=e("safe-buffer").Buffer;t.exports=function(d,h,f){var p;p=d.padding?d.padding:f?1:4;var m,g=r(d),v=g.modulus.byteLength();if(h.length>v||new o(h).cmp(g.modulus)>=0)throw new Error("decryption error");m=f?c(new o(h),g):a(h,g);var x=u.alloc(v-m.length);if(m=u.concat([x,m],v),p===4)return function(I,R){var $=I.modulus.byteLength(),F=l("sha1").update(u.alloc(0)).digest(),V=F.length;if(R[0]!==0)throw new Error("decryption error");var U=R.slice(1,V+1),q=R.slice(V+1),j=s(U,i(q,V)),S=s(q,i(j,$-V-1));if(function(O,y){O=u.from(O),y=u.from(y);var b=0,w=O.length;O.length!==y.length&&(b++,w=Math.min(O.length,y.length));for(var _=-1;++_<w;)b+=O[_]^y[_];return b}(F,S.slice(0,V)))throw new Error("decryption error");for(var T=V;S[T]===0;)T++;if(S[T++]!==1)throw new Error("decryption error");return S.slice(T)}(g,m);if(p===1)return function(I,R,$){for(var F=R.slice(0,2),V=2,U=0;R[V++]!==0;)if(V>=R.length){U++;break}var q=R.slice(2,V-1);if((F.toString("hex")!=="0002"&&!$||F.toString("hex")!=="0001"&&$)&&U++,q.length<8&&U++,U)throw new Error("decryption error");return R.slice(V)}(0,m,f);if(p===3)return m;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,t,n){"use strict";var r=e("parse-asn1"),i=e("randombytes"),s=e("create-hash"),o=e("./mgf"),a=e("./xor"),l=e("bn.js"),c=e("./withPublic"),u=e("browserify-rsa"),d=e("safe-buffer").Buffer;t.exports=function(h,f,p){var m;m=h.padding?h.padding:p?1:4;var g,v=r(h);if(m===4)g=function(x,I){var R=x.modulus.byteLength(),$=I.length,F=s("sha1").update(d.alloc(0)).digest(),V=F.length,U=2*V;if($>R-U-2)throw new Error("message too long");var q=d.alloc(R-$-U-2),j=R-V-1,S=i(V),T=a(d.concat([F,q,d.alloc(1,1),I],j),o(S,j)),O=a(S,o(T,V));return new l(d.concat([d.alloc(1),O,T],R))}(v,f);else if(m===1)g=function(x,I,R){var $,F=I.length,V=x.modulus.byteLength();if(F>V-11)throw new Error("message too long");return $=R?d.alloc(V-F-3,255):function(U){for(var q,j=d.allocUnsafe(U),S=0,T=i(2*U),O=0;S<U;)O===T.length&&(T=i(2*U),O=0),(q=T[O++])&&(j[S++]=q);return j}(V-F-3),new l(d.concat([d.from([0,R?1:2]),$,d.alloc(1),I],V))}(v,f,p);else{if(m!==3)throw new Error("unknown padding");if((g=new l(f)).cmp(v.modulus)>=0)throw new Error("data too long for modulus")}return p?u(g,v):c(g,v)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("safe-buffer").Buffer;t.exports=function(s,o){return i.from(s.toRed(r.mont(o.modulus)).redPow(new r(o.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,t,n){"use strict";t.exports=function(r,i){for(var s=r.length,o=-1;++o<s;)r[o]^=i[o];return r}},{}],475:[function(e,t,n){(function(r,i){(function(){"use strict";var s=e("safe-buffer").Buffer,o=i.crypto||i.msCrypto;o&&o.getRandomValues?t.exports=function(a,l){if(a>4294967295)throw new RangeError("requested too many random bytes");var c=s.allocUnsafe(a);if(a>0)if(a>65536)for(var u=0;u<a;u+=65536)o.getRandomValues(c.slice(u,u+65536));else o.getRandomValues(c);return typeof l=="function"?r.nextTick(function(){l(null,c)}):c}:t.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,t,n){(function(r,i){(function(){"use strict";function s(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var o=e("safe-buffer"),a=e("randombytes"),l=o.Buffer,c=o.kMaxLength,u=i.crypto||i.msCrypto,d=Math.pow(2,32)-1;function h(m,g){if(typeof m!="number"||m!=m)throw new TypeError("offset must be a number");if(m>d||m<0)throw new TypeError("offset must be a uint32");if(m>c||m>g)throw new RangeError("offset out of range")}function f(m,g,v){if(typeof m!="number"||m!=m)throw new TypeError("size must be a number");if(m>d||m<0)throw new TypeError("size must be a uint32");if(m+g>v||m>c)throw new RangeError("buffer too small")}function p(m,g,v,x){if(r.browser){var I=m.buffer,R=new Uint8Array(I,g,v);return u.getRandomValues(R),x?void r.nextTick(function(){x(null,m)}):m}if(!x)return a(v).copy(m,g),m;a(v,function($,F){if($)return x($);F.copy(m,g),x(null,m)})}u&&u.getRandomValues||!r.browser?(n.randomFill=function(m,g,v,x){if(!(l.isBuffer(m)||m instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof g=="function")x=g,g=0,v=m.length;else if(typeof v=="function")x=v,v=m.length-g;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return h(g,m.length),f(v,g,m.length),p(m,g,v,x)},n.randomFillSync=function(m,g,v){if(g===void 0&&(g=0),!(l.isBuffer(m)||m instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return h(g,m.length),v===void 0&&(v=m.length-g),f(v,g,m.length),p(m,g,v)}):(n.randomFill=s,n.randomFillSync=s)}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,t,n){"use strict";var r={};function i(o,a,l){l||(l=Error);var c=function(u){var d,h;function f(p,m,g){return u.call(this,function(v,x,I){return typeof a=="string"?a:a(v,x,I)}(p,m,g))||this}return h=u,(d=f).prototype=Object.create(h.prototype),d.prototype.constructor=d,d.__proto__=h,f}(l);c.prototype.name=l.name,c.prototype.code=o,r[o]=c}function s(o,a){if(Array.isArray(o)){var l=o.length;return o=o.map(function(c){return String(c)}),l>2?"one of ".concat(a," ").concat(o.slice(0,l-1).join(", "),", or ")+o[l-1]:l===2?"one of ".concat(a," ").concat(o[0]," or ").concat(o[1]):"of ".concat(a," ").concat(o[0])}return"of ".concat(a," ").concat(String(o))}i("ERR_INVALID_OPT_VALUE",function(o,a){return'The value "'+a+'" is invalid for option "'+o+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(o,a,l){var c,u,d,h;if(typeof a=="string"&&(u="not ",a.substr(!d||d<0?0:+d,u.length)===u)?(c="must not be",a=a.replace(/^not /,"")):c="must be",function(p,m,g){return(g===void 0||g>p.length)&&(g=p.length),p.substring(g-m.length,g)===m}(o," argument"))h="The ".concat(o," ").concat(c," ").concat(s(a,"type"));else{var f=function(p,m,g){return typeof g!="number"&&(g=0),!(g+m.length>p.length)&&p.indexOf(m,g)!==-1}(o,".")?"property":"argument";h='The "'.concat(o,'" ').concat(f," ").concat(c," ").concat(s(a,"type"))}return h+=". Received type ".concat(typeof l)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},{}],478:[function(e,t,n){(function(r){(function(){"use strict";var i=Object.keys||function(f){var p=[];for(var m in f)p.push(m);return p};t.exports=u;var s=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(u,s);for(var a=i(o.prototype),l=0;l<a.length;l++){var c=a[l];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(f){if(!(this instanceof u))return new u(f);s.call(this,f),o.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||r.nextTick(h,this)}function h(f){f.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform");function i(s){if(!(this instanceof i))return new i(s);r.call(this,s)}e("inherits")(i,r),i.prototype._transform=function(s,o,a){a(null,s)}},{"./_stream_transform":481,inherits:440}],480:[function(e,t,n){(function(r,i){(function(){"use strict";var s;t.exports=j,j.ReadableState=q,e("events").EventEmitter;var o=function(D,k){return D.listeners(k).length},a=e("./internal/streams/stream"),l=e("buffer").Buffer,c=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},u,d=e("util");u=d&&d.debuglog?d.debuglog("stream"):function(){};var h,f,p,m=e("./internal/streams/buffer_list"),g=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,x=e("../errors").codes,I=x.ERR_INVALID_ARG_TYPE,R=x.ERR_STREAM_PUSH_AFTER_EOF,$=x.ERR_METHOD_NOT_IMPLEMENTED,F=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(j,a);var V=g.errorOrDestroy,U=["error","close","destroy","pause","resume"];function q(D,k,z){s=s||e("./_stream_duplex"),D=D||{},typeof z!="boolean"&&(z=k instanceof s),this.objectMode=!!D.objectMode,z&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=v(this,D,"readableHighWaterMark",z),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(h||(h=e("string_decoder/").StringDecoder),this.decoder=new h(D.encoding),this.encoding=D.encoding)}function j(D){if(s=s||e("./_stream_duplex"),!(this instanceof j))return new j(D);var k=this instanceof s;this._readableState=new q(D,this,k),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),a.call(this)}function S(D,k,z,J,Q){u("readableAddChunk",k);var ee,ne=D._readableState;if(k===null)ne.reading=!1,function(he,de){if(u("onEofChunk"),!de.ended){if(de.decoder){var Z=de.decoder.end();Z&&Z.length&&(de.buffer.push(Z),de.length+=de.objectMode?1:Z.length)}de.ended=!0,de.sync?y(he):(de.needReadable=!1,de.emittedReadable||(de.emittedReadable=!0,b(he)))}}(D,ne);else if(Q||(ee=function(he,de){var Z;le=de,l.isBuffer(le)||le instanceof c||typeof de=="string"||de===void 0||he.objectMode||(Z=new I("chunk",["string","Buffer","Uint8Array"],de));var le;return Z}(ne,k)),ee)V(D,ee);else if(ne.objectMode||k&&k.length>0)if(typeof k=="string"||ne.objectMode||Object.getPrototypeOf(k)===l.prototype||(k=function(he){return l.from(he)}(k)),J)ne.endEmitted?V(D,new F):T(D,ne,k,!0);else if(ne.ended)V(D,new R);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!z?(k=ne.decoder.write(k),ne.objectMode||k.length!==0?T(D,ne,k,!1):w(D,ne)):T(D,ne,k,!1)}else J||(ne.reading=!1,w(D,ne));return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function T(D,k,z,J){k.flowing&&k.length===0&&!k.sync?(k.awaitDrain=0,D.emit("data",z)):(k.length+=k.objectMode?1:z.length,J?k.buffer.unshift(z):k.buffer.push(z),k.needReadable&&y(D)),w(D,k)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),j.prototype.destroy=g.destroy,j.prototype._undestroy=g.undestroy,j.prototype._destroy=function(D,k){k(D)},j.prototype.push=function(D,k){var z,J=this._readableState;return J.objectMode?z=!0:typeof D=="string"&&((k=k||J.defaultEncoding)!==J.encoding&&(D=l.from(D,k),k=""),z=!0),S(this,D,k,!1,z)},j.prototype.unshift=function(D){return S(this,D,null,!0,!1)},j.prototype.isPaused=function(){return this._readableState.flowing===!1},j.prototype.setEncoding=function(D){h||(h=e("string_decoder/").StringDecoder);var k=new h(D);this._readableState.decoder=k,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,J="";z!==null;)J+=k.write(z.data),z=z.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};function O(D,k){return D<=0||k.length===0&&k.ended?0:k.objectMode?1:D!=D?k.flowing&&k.length?k.buffer.head.data.length:k.length:(D>k.highWaterMark&&(k.highWaterMark=function(z){return z>=1073741824?z=1073741824:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}(D)),D<=k.length?D:k.ended?k.length:(k.needReadable=!0,0))}function y(D){var k=D._readableState;u("emitReadable",k.needReadable,k.emittedReadable),k.needReadable=!1,k.emittedReadable||(u("emitReadable",k.flowing),k.emittedReadable=!0,r.nextTick(b,D))}function b(D){var k=D._readableState;u("emitReadable_",k.destroyed,k.length,k.ended),k.destroyed||!k.length&&!k.ended||(D.emit("readable"),k.emittedReadable=!1),k.needReadable=!k.flowing&&!k.ended&&k.length<=k.highWaterMark,W(D)}function w(D,k){k.readingMore||(k.readingMore=!0,r.nextTick(_,D,k))}function _(D,k){for(;!k.reading&&!k.ended&&(k.length<k.highWaterMark||k.flowing&&k.length===0);){var z=k.length;if(u("maybeReadMore read 0"),D.read(0),z===k.length)break}k.readingMore=!1}function E(D){var k=D._readableState;k.readableListening=D.listenerCount("readable")>0,k.resumeScheduled&&!k.paused?k.flowing=!0:D.listenerCount("data")>0&&D.resume()}function C(D){u("readable nexttick read 0"),D.read(0)}function L(D,k){u("resume",k.reading),k.reading||D.read(0),k.resumeScheduled=!1,D.emit("resume"),W(D),k.flowing&&!k.reading&&D.read(0)}function W(D){var k=D._readableState;for(u("flow",k.flowing);k.flowing&&D.read()!==null;);}function B(D,k){return k.length===0?null:(k.objectMode?z=k.buffer.shift():!D||D>=k.length?(z=k.decoder?k.buffer.join(""):k.buffer.length===1?k.buffer.first():k.buffer.concat(k.length),k.buffer.clear()):z=k.buffer.consume(D,k.decoder),z);var z}function G(D){var k=D._readableState;u("endReadable",k.endEmitted),k.endEmitted||(k.ended=!0,r.nextTick(M,k,D))}function M(D,k){if(u("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,k.readable=!1,k.emit("end"),D.autoDestroy)){var z=k._writableState;(!z||z.autoDestroy&&z.finished)&&k.destroy()}}function K(D,k){for(var z=0,J=D.length;z<J;z++)if(D[z]===k)return z;return-1}j.prototype.read=function(D){u("read",D),D=parseInt(D,10);var k=this._readableState,z=D;if(D!==0&&(k.emittedReadable=!1),D===0&&k.needReadable&&((k.highWaterMark!==0?k.length>=k.highWaterMark:k.length>0)||k.ended))return u("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?G(this):y(this),null;if((D=O(D,k))===0&&k.ended)return k.length===0&&G(this),null;var J,Q=k.needReadable;return u("need readable",Q),(k.length===0||k.length-D<k.highWaterMark)&&u("length less than watermark",Q=!0),k.ended||k.reading?u("reading or ended",Q=!1):Q&&(u("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0),this._read(k.highWaterMark),k.sync=!1,k.reading||(D=O(z,k))),(J=D>0?B(D,k):null)===null?(k.needReadable=k.length<=k.highWaterMark,D=0):(k.length-=D,k.awaitDrain=0),k.length===0&&(k.ended||(k.needReadable=!0),z!==D&&k.ended&&G(this)),J!==null&&this.emit("data",J),J},j.prototype._read=function(D){V(this,new $("_read()"))},j.prototype.pipe=function(D,k){var z=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=D;break;case 1:J.pipes=[J.pipes,D];break;default:J.pipes.push(D)}J.pipesCount+=1,u("pipe count=%d opts=%j",J.pipesCount,k);var Q=(!k||k.end!==!1)&&D!==r.stdout&&D!==r.stderr?ne:me;function ee(Se,xe){u("onunpipe"),Se===z&&xe&&xe.hasUnpiped===!1&&(xe.hasUnpiped=!0,u("cleanup"),D.removeListener("close",fe),D.removeListener("finish",ve),D.removeListener("drain",he),D.removeListener("error",le),D.removeListener("unpipe",ee),z.removeListener("end",ne),z.removeListener("end",me),z.removeListener("data",Z),de=!0,!J.awaitDrain||D._writableState&&!D._writableState.needDrain||he())}function ne(){u("onend"),D.end()}J.endEmitted?r.nextTick(Q):z.once("end",Q),D.on("unpipe",ee);var he=function(Se){return function(){var xe=Se._readableState;u("pipeOnDrain",xe.awaitDrain),xe.awaitDrain&&xe.awaitDrain--,xe.awaitDrain===0&&o(Se,"data")&&(xe.flowing=!0,W(Se))}}(z);D.on("drain",he);var de=!1;function Z(Se){u("ondata");var xe=D.write(Se);u("dest.write",xe),xe===!1&&((J.pipesCount===1&&J.pipes===D||J.pipesCount>1&&K(J.pipes,D)!==-1)&&!de&&(u("false write response, pause",J.awaitDrain),J.awaitDrain++),z.pause())}function le(Se){u("onerror",Se),me(),D.removeListener("error",le),o(D,"error")===0&&V(D,Se)}function fe(){D.removeListener("finish",ve),me()}function ve(){u("onfinish"),D.removeListener("close",fe),me()}function me(){u("unpipe"),z.unpipe(D)}return z.on("data",Z),function(Se,xe,ke){if(typeof Se.prependListener=="function")return Se.prependListener(xe,ke);Se._events&&Se._events[xe]?Array.isArray(Se._events[xe])?Se._events[xe].unshift(ke):Se._events[xe]=[ke,Se._events[xe]]:Se.on(xe,ke)}(D,"error",le),D.once("close",fe),D.once("finish",ve),D.emit("pipe",z),J.flowing||(u("pipe resume"),z.resume()),D},j.prototype.unpipe=function(D){var k=this._readableState,z={hasUnpiped:!1};if(k.pipesCount===0)return this;if(k.pipesCount===1)return D&&D!==k.pipes||(D||(D=k.pipes),k.pipes=null,k.pipesCount=0,k.flowing=!1,D&&D.emit("unpipe",this,z)),this;if(!D){var J=k.pipes,Q=k.pipesCount;k.pipes=null,k.pipesCount=0,k.flowing=!1;for(var ee=0;ee<Q;ee++)J[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var ne=K(k.pipes,D);return ne===-1||(k.pipes.splice(ne,1),k.pipesCount-=1,k.pipesCount===1&&(k.pipes=k.pipes[0]),D.emit("unpipe",this,z)),this},j.prototype.on=function(D,k){var z=a.prototype.on.call(this,D,k),J=this._readableState;return D==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):D==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,u("on readable",J.length,J.reading),J.length?y(this):J.reading||r.nextTick(C,this))),z},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(D,k){var z=a.prototype.removeListener.call(this,D,k);return D==="readable"&&r.nextTick(E,this),z},j.prototype.removeAllListeners=function(D){var k=a.prototype.removeAllListeners.apply(this,arguments);return D!=="readable"&&D!==void 0||r.nextTick(E,this),k},j.prototype.resume=function(){var D=this._readableState;return D.flowing||(u("resume"),D.flowing=!D.readableListening,function(k,z){z.resumeScheduled||(z.resumeScheduled=!0,r.nextTick(L,k,z))}(this,D)),D.paused=!1,this},j.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},j.prototype.wrap=function(D){var k=this,z=this._readableState,J=!1;for(var Q in D.on("end",function(){if(u("wrapped end"),z.decoder&&!z.ended){var ne=z.decoder.end();ne&&ne.length&&k.push(ne)}k.push(null)}),D.on("data",function(ne){u("wrapped data"),z.decoder&&(ne=z.decoder.write(ne)),z.objectMode&&ne==null||(z.objectMode||ne&&ne.length)&&(k.push(ne)||(J=!0,D.pause()))}),D)this[Q]===void 0&&typeof D[Q]=="function"&&(this[Q]=function(ne){return function(){return D[ne].apply(D,arguments)}}(Q));for(var ee=0;ee<U.length;ee++)D.on(U[ee],this.emit.bind(this,U[ee]));return this._read=function(ne){u("wrapped _read",ne),J&&(J=!1,D.resume())},this},typeof Symbol=="function"&&(j.prototype[Symbol.asyncIterator]=function(){return f===void 0&&(f=e("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),j._fromList=B,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(j.from=function(D,k){return p===void 0&&(p=e("./internal/streams/from")),p(j,D,k)})}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,t,n){"use strict";t.exports=u;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function c(f,p){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new s);m.writechunk=null,m.writecb=null,p!=null&&this.push(p),g(f);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function u(f){if(!(this instanceof u))return new u(f);l.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",d)}function d(){var f=this;typeof this._flush!="function"||this._readableState.destroyed?h(this,null,null):this._flush(function(p,m){h(f,p,m)})}function h(f,p,m){if(p)return f.emit("error",p);if(m!=null&&f.push(m),f._writableState.length)throw new a;if(f._transformState.transforming)throw new o;return f.push(null)}e("inherits")(u,l),u.prototype.push=function(f,p){return this._transformState.needTransform=!1,l.prototype.push.call(this,f,p)},u.prototype._transform=function(f,p,m){m(new i("_transform()"))},u.prototype._write=function(f,p,m){var g=this._transformState;if(g.writecb=m,g.writechunk=f,g.writeencoding=p,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},u.prototype._read=function(f){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},u.prototype._destroy=function(f,p){l.prototype._destroy.call(this,f,function(m){p(m)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,t,n){(function(r,i){(function(){"use strict";function s(_){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(C,L,W){var B=C.entry;for(C.entry=null;B;){var G=B.callback;L.pendingcb--,G(W),B=B.next}L.corkedRequestsFree.next=C})(E,_)}}var o;t.exports=j,j.WritableState=q;var a={deprecate:e("util-deprecate")},l=e("./internal/streams/stream"),c=e("buffer").Buffer,u=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,h=e("./internal/streams/destroy"),f=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,x=p.ERR_STREAM_CANNOT_PIPE,I=p.ERR_STREAM_DESTROYED,R=p.ERR_STREAM_NULL_VALUES,$=p.ERR_STREAM_WRITE_AFTER_END,F=p.ERR_UNKNOWN_ENCODING,V=h.errorOrDestroy;function U(){}function q(_,E,C){o=o||e("./_stream_duplex"),_=_||{},typeof C!="boolean"&&(C=E instanceof o),this.objectMode=!!_.objectMode,C&&(this.objectMode=this.objectMode||!!_.writableObjectMode),this.highWaterMark=f(this,_,"writableHighWaterMark",C),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var L=_.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){(function(B,G){var M=B._writableState,K=M.sync,D=M.writecb;if(typeof D!="function")throw new v;if(function(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}(M),G)(function(z,J,Q,ee,ne){--J.pendingcb,Q?(r.nextTick(ne,ee),r.nextTick(w,z,J),z._writableState.errorEmitted=!0,V(z,ee)):(ne(ee),z._writableState.errorEmitted=!0,V(z,ee),w(z,J))})(B,M,K,G,D);else{var k=y(M)||B.destroyed;k||M.corked||M.bufferProcessing||!M.bufferedRequest||O(B,M),K?r.nextTick(T,B,M,k,D):T(B,M,k,D)}})(E,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function j(_){var E=this instanceof(o=o||e("./_stream_duplex"));if(!E&&!d.call(j,this))return new j(_);this._writableState=new q(_,this,E),this.writable=!0,_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final)),l.call(this)}function S(_,E,C,L,W,B,G){E.writelen=L,E.writecb=G,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new I("write")):C?_._writev(W,E.onwrite):_._write(W,B,E.onwrite),E.sync=!1}function T(_,E,C,L){C||function(W,B){B.length===0&&B.needDrain&&(B.needDrain=!1,W.emit("drain"))}(_,E),E.pendingcb--,L(),w(_,E)}function O(_,E){E.bufferProcessing=!0;var C=E.bufferedRequest;if(_._writev&&C&&C.next){var L=E.bufferedRequestCount,W=new Array(L),B=E.corkedRequestsFree;B.entry=C;for(var G=0,M=!0;C;)W[G]=C,C.isBuf||(M=!1),C=C.next,G+=1;W.allBuffers=M,S(_,E,!0,E.length,W,"",B.finish),E.pendingcb++,E.lastBufferedRequest=null,B.next?(E.corkedRequestsFree=B.next,B.next=null):E.corkedRequestsFree=new s(E),E.bufferedRequestCount=0}else{for(;C;){var K=C.chunk,D=C.encoding,k=C.callback;if(S(_,E,!1,E.objectMode?1:K.length,K,D,k),C=C.next,E.bufferedRequestCount--,E.writing)break}C===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=C,E.bufferProcessing=!1}function y(_){return _.ending&&_.length===0&&_.bufferedRequest===null&&!_.finished&&!_.writing}function b(_,E){_._final(function(C){E.pendingcb--,C&&V(_,C),E.prefinished=!0,_.emit("prefinish"),w(_,E)})}function w(_,E){var C=y(E);if(C&&(function(W,B){B.prefinished||B.finalCalled||(typeof W._final!="function"||B.destroyed?(B.prefinished=!0,W.emit("prefinish")):(B.pendingcb++,B.finalCalled=!0,r.nextTick(b,W,B)))}(_,E),E.pendingcb===0&&(E.finished=!0,_.emit("finish"),E.autoDestroy))){var L=_._readableState;(!L||L.autoDestroy&&L.endEmitted)&&_.destroy()}return C}e("inherits")(j,l),q.prototype.getBuffer=function(){for(var _=this.bufferedRequest,E=[];_;)E.push(_),_=_.next;return E},function(){try{Object.defineProperty(q.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(_){return!!d.call(this,_)||this===j&&_&&_._writableState instanceof q}})):d=function(_){return _ instanceof this},j.prototype.pipe=function(){V(this,new x)},j.prototype.write=function(_,E,C){var L,W=this._writableState,B=!1,G=!W.objectMode&&(L=_,c.isBuffer(L)||L instanceof u);return G&&!c.isBuffer(_)&&(_=function(M){return c.from(M)}(_)),typeof E=="function"&&(C=E,E=null),G?E="buffer":E||(E=W.defaultEncoding),typeof C!="function"&&(C=U),W.ending?function(M,K){var D=new $;V(M,D),r.nextTick(K,D)}(this,C):(G||function(M,K,D,k){var z;return D===null?z=new R:typeof D=="string"||K.objectMode||(z=new m("chunk",["string","Buffer"],D)),!z||(V(M,z),r.nextTick(k,z),!1)}(this,W,_,C))&&(W.pendingcb++,B=function(M,K,D,k,z,J){if(!D){var Q=function(de,Z,le){return de.objectMode||de.decodeStrings===!1||typeof Z!="string"||(Z=c.from(Z,le)),Z}(K,k,z);k!==Q&&(D=!0,z="buffer",k=Q)}var ee=K.objectMode?1:k.length;K.length+=ee;var ne=K.length<K.highWaterMark;if(ne||(K.needDrain=!0),K.writing||K.corked){var he=K.lastBufferedRequest;K.lastBufferedRequest={chunk:k,encoding:z,isBuf:D,callback:J,next:null},he?he.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else S(M,K,!1,ee,k,z,J);return ne}(this,W,G,_,E,C)),B},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var _=this._writableState;_.corked&&(_.corked--,_.writing||_.corked||_.bufferProcessing||!_.bufferedRequest||O(this,_))},j.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new F(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),j.prototype._write=function(_,E,C){C(new g("_write()"))},j.prototype._writev=null,j.prototype.end=function(_,E,C){var L=this._writableState;return typeof _=="function"?(C=_,_=null,E=null):typeof E=="function"&&(C=E,E=null),_!=null&&this.write(_,E),L.corked&&(L.corked=1,this.uncork()),L.ending||function(W,B,G){B.ending=!0,w(W,B),G&&(B.finished?r.nextTick(G):W.once("finish",G)),B.ended=!0,W.writable=!1}(this,L,C),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),j.prototype.destroy=h.destroy,j.prototype._undestroy=h.undestroy,j.prototype._destroy=function(_,E){E(_)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,t,n){(function(r){(function(){"use strict";var i;function s(I,R,$){return(R=function(F){var V=function(U,q){if(typeof U!="object"||U===null)return U;var j=U[Symbol.toPrimitive];if(j!==void 0){var S=j.call(U,q||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(U)}(F,"string");return typeof V=="symbol"?V:String(V)}(R))in I?Object.defineProperty(I,R,{value:$,enumerable:!0,configurable:!0,writable:!0}):I[R]=$,I}var o=e("./end-of-stream"),a=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(I,R){return{value:I,done:R}}function m(I){var R=I[a];if(R!==null){var $=I[f].read();$!==null&&(I[d]=null,I[a]=null,I[l]=null,R(p($,!1)))}}function g(I){r.nextTick(m,I)}var v=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((s(i={get stream(){return this[f]},next:function(){var I=this,R=this[c];if(R!==null)return Promise.reject(R);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise(function(U,q){r.nextTick(function(){I[c]?q(I[c]):U(p(void 0,!0))})});var $,F=this[d];if(F)$=new Promise(function(U,q){return function(j,S){U.then(function(){q[u]?j(p(void 0,!0)):q[h](j,S)},S)}}(F,this));else{var V=this[f].read();if(V!==null)return Promise.resolve(p(V,!1));$=new Promise(this[h])}return this[d]=$,$}},Symbol.asyncIterator,function(){return this}),s(i,"return",function(){var I=this;return new Promise(function(R,$){I[f].destroy(null,function(F){F?$(F):R(p(void 0,!0))})})}),i),v);t.exports=function(I){var R,$=Object.create(x,(s(R={},f,{value:I,writable:!0}),s(R,a,{value:null,writable:!0}),s(R,l,{value:null,writable:!0}),s(R,c,{value:null,writable:!0}),s(R,u,{value:I._readableState.endEmitted,writable:!0}),s(R,h,{value:function(F,V){var U=$[f].read();U?($[d]=null,$[a]=null,$[l]=null,F(p(U,!1))):($[a]=F,$[l]=V)},writable:!0}),R));return $[d]=null,o(I,function(F){if(F&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"){var V=$[l];return V!==null&&($[d]=null,$[a]=null,$[l]=null,V(F)),void($[c]=F)}var U=$[a];U!==null&&($[d]=null,$[a]=null,$[l]=null,U(p(void 0,!0))),$[u]=!0}),I.on("readable",g.bind(null,$)),$}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,t,n){"use strict";function r(d,h){var f=Object.keys(d);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(d);h&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(d,m).enumerable})),f.push.apply(f,p)}return f}function i(d){for(var h=1;h<arguments.length;h++){var f=arguments[h]!=null?arguments[h]:{};h%2?r(Object(f),!0).forEach(function(p){s(d,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(f)):r(Object(f)).forEach(function(p){Object.defineProperty(d,p,Object.getOwnPropertyDescriptor(f,p))})}return d}function s(d,h,f){return(h=a(h))in d?Object.defineProperty(d,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[h]=f,d}function o(d,h){for(var f=0;f<h.length;f++){var p=h[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,a(p.key),p)}}function a(d){var h=function(f,p){if(typeof f!="object"||f===null)return f;var m=f[Symbol.toPrimitive];if(m!==void 0){var g=m.call(f,p||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(f)}(d,"string");return typeof h=="symbol"?h:String(h)}var l=e("buffer").Buffer,c=e("util").inspect,u=c&&c.custom||"inspect";t.exports=function(){function d(){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var h,f,p;return h=d,(f=[{key:"push",value:function(m){var g={data:m,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(m){var g={data:m,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var g=this.head,v=""+g.data;g=g.next;)v+=m+g.data;return v}},{key:"concat",value:function(m){if(this.length===0)return l.alloc(0);for(var g,v,x,I=l.allocUnsafe(m>>>0),R=this.head,$=0;R;)g=R.data,v=I,x=$,l.prototype.copy.call(g,v,x),$+=R.data.length,R=R.next;return I}},{key:"consume",value:function(m,g){var v;return m<this.head.data.length?(v=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):v=m===this.head.data.length?this.shift():g?this._getString(m):this._getBuffer(m),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var g=this.head,v=1,x=g.data;for(m-=x.length;g=g.next;){var I=g.data,R=m>I.length?I.length:m;if(R===I.length?x+=I:x+=I.slice(0,m),(m-=R)==0){R===I.length?(++v,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=I.slice(R));break}++v}return this.length-=v,x}},{key:"_getBuffer",value:function(m){var g=l.allocUnsafe(m),v=this.head,x=1;for(v.data.copy(g),m-=v.data.length;v=v.next;){var I=v.data,R=m>I.length?I.length:m;if(I.copy(g,g.length-m,0,R),(m-=R)==0){R===I.length?(++x,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=I.slice(R));break}++x}return this.length-=x,g}},{key:u,value:function(m,g){return c(this,i(i({},g),{},{depth:0,customInspect:!1}))}}])&&o(h.prototype,f),p&&o(h,p),Object.defineProperty(h,"prototype",{writable:!1}),d}()},{buffer:220,util:188}],485:[function(e,t,n){(function(r){(function(){"use strict";function i(a,l){o(a,l),s(a)}function s(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function o(a,l){a.emit("error",l)}t.exports={destroy:function(a,l){var c=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(o,this,a)):r.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!l&&h?c._writableState?c._writableState.errorEmitted?r.nextTick(s,c):(c._writableState.errorEmitted=!0,r.nextTick(i,c,h)):r.nextTick(i,c,h):l?(r.nextTick(s,c),l(h)):r.nextTick(s,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,l){var c=a._readableState,u=a._writableState;c&&c.autoDestroy||u&&u.autoDestroy?a.destroy(l):a.emit("error",l)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function s(o,a,l){if(typeof a=="function")return s(o,null,a);a||(a={}),l=function(I){var R=!1;return function(){if(!R){R=!0;for(var $=arguments.length,F=new Array($),V=0;V<$;V++)F[V]=arguments[V];I.apply(this,F)}}}(l||i);var c=a.readable||a.readable!==!1&&o.readable,u=a.writable||a.writable!==!1&&o.writable,d=function(){o.writable||f()},h=o._writableState&&o._writableState.finished,f=function(){u=!1,h=!0,c||l.call(o)},p=o._readableState&&o._readableState.endEmitted,m=function(){c=!1,p=!0,u||l.call(o)},g=function(I){l.call(o,I)},v=function(){var I;return c&&!p?(o._readableState&&o._readableState.ended||(I=new r),l.call(o,I)):u&&!h?(o._writableState&&o._writableState.ended||(I=new r),l.call(o,I)):void 0},x=function(){o.req.on("finish",f)};return function(I){return I.setHeader&&typeof I.abort=="function"}(o)?(o.on("complete",f),o.on("abort",v),o.req?x():o.on("request",x)):u&&!o._writableState&&(o.on("end",d),o.on("close",d)),o.on("end",m),o.on("finish",f),a.error!==!1&&o.on("error",g),o.on("close",v),function(){o.removeListener("complete",f),o.removeListener("abort",v),o.removeListener("request",x),o.req&&o.req.removeListener("finish",f),o.removeListener("end",d),o.removeListener("close",d),o.removeListener("finish",f),o.removeListener("end",m),o.removeListener("error",g),o.removeListener("close",v)}}},{"../../../errors":477}],487:[function(e,t,n){"use strict";t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,t,n){"use strict";var r,i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(h){if(h)throw h}function l(h,f,p,m){m=function(x){var I=!1;return function(){I||(I=!0,x.apply(void 0,arguments))}}(m);var g=!1;h.on("close",function(){g=!0}),r===void 0&&(r=e("./end-of-stream")),r(h,{readable:f,writable:p},function(x){if(x)return m(x);g=!0,m()});var v=!1;return function(x){if(!g&&!v)return v=!0,function(I){return I.setHeader&&typeof I.abort=="function"}(h)?h.abort():typeof h.destroy=="function"?h.destroy():void m(x||new o("pipe"))}}function c(h){h()}function u(h,f){return h.pipe(f)}function d(h){return h.length?typeof h[h.length-1]!="function"?a:h.pop():a}t.exports=function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];var m,g=d(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new s("streams");var v=f.map(function(x,I){var R=I<f.length-1;return l(x,R,I>0,function($){m||(m=$),$&&v.forEach(c),R||(v.forEach(c),g(m))})});return f.reduce(u)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(i,s,o,a){var l=function(c,u,d){return c.highWaterMark!=null?c.highWaterMark:u?c[d]:null}(s,a,o);if(l!=null){if(!isFinite(l)||Math.floor(l)!==l||l<0)throw new r(a?o:"highWaterMark",l);return Math.floor(l)}return i.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,t,n){"use strict";t.exports=e("events").EventEmitter},{events:422}],491:[function(e,t,n){"use strict";(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,t,n){"use strict";var r=function(i){var s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(w,_,E){w[_]=E.value},l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function h(w,_,E){return Object.defineProperty(w,_,{value:E,enumerable:!0,configurable:!0,writable:!0}),w[_]}try{h({},"")}catch{h=function(_,E,C){return _[E]=C}}function f(w,_,E,C){var L=_&&_.prototype instanceof g?_:g,W=Object.create(L.prototype),B=new O(C||[]);return a(W,"_invoke",{value:q(w,E,B)}),W}function p(w,_,E){try{return{type:"normal",arg:w.call(_,E)}}catch(C){return{type:"throw",arg:C}}}i.wrap=f;var m={};function g(){}function v(){}function x(){}var I={};h(I,c,function(){return this});var R=Object.getPrototypeOf,$=R&&R(R(y([])));$&&$!==s&&o.call($,c)&&(I=$);var F=x.prototype=g.prototype=Object.create(I);function V(w){["next","throw","return"].forEach(function(_){h(w,_,function(E){return this._invoke(_,E)})})}function U(w,_){var E;a(this,"_invoke",{value:function(C,L){function W(){return new _(function(B,G){(function M(K,D,k,z){var J=p(w[K],w,D);if(J.type!=="throw"){var Q=J.arg,ee=Q.value;return ee&&typeof ee=="object"&&o.call(ee,"__await")?_.resolve(ee.__await).then(function(ne){M("next",ne,k,z)},function(ne){M("throw",ne,k,z)}):_.resolve(ee).then(function(ne){Q.value=ne,k(Q)},function(ne){return M("throw",ne,k,z)})}z(J.arg)})(C,L,B,G)})}return E=E?E.then(W,W):W()}})}function q(w,_,E){var C="suspendedStart";return function(L,W){if(C==="executing")throw new Error("Generator is already running");if(C==="completed"){if(L==="throw")throw W;return b()}for(E.method=L,E.arg=W;;){var B=E.delegate;if(B){var G=j(B,E);if(G){if(G===m)continue;return G}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(C==="suspendedStart")throw C="completed",E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);C="executing";var M=p(w,_,E);if(M.type==="normal"){if(C=E.done?"completed":"suspendedYield",M.arg===m)continue;return{value:M.arg,done:E.done}}M.type==="throw"&&(C="completed",E.method="throw",E.arg=M.arg)}}}function j(w,_){var E=_.method,C=w.iterator[E];if(C===void 0)return _.delegate=null,E==="throw"&&w.iterator.return&&(_.method="return",_.arg=void 0,j(w,_),_.method==="throw")||E!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+E+"' method")),m;var L=p(C,w.iterator,_.arg);if(L.type==="throw")return _.method="throw",_.arg=L.arg,_.delegate=null,m;var W=L.arg;return W?W.done?(_[w.resultName]=W.value,_.next=w.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,m):W:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,m)}function S(w){var _={tryLoc:w[0]};1 in w&&(_.catchLoc=w[1]),2 in w&&(_.finallyLoc=w[2],_.afterLoc=w[3]),this.tryEntries.push(_)}function T(w){var _=w.completion||{};_.type="normal",delete _.arg,w.completion=_}function O(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(S,this),this.reset(!0)}function y(w){if(w){var _=w[c];if(_)return _.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var E=-1,C=function L(){for(;++E<w.length;)if(o.call(w,E))return L.value=w[E],L.done=!1,L;return L.value=void 0,L.done=!0,L};return C.next=C}}return{next:b}}function b(){return{value:void 0,done:!0}}return v.prototype=x,a(F,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:v,configurable:!0}),v.displayName=h(x,d,"GeneratorFunction"),i.isGeneratorFunction=function(w){var _=typeof w=="function"&&w.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},i.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,x):(w.__proto__=x,h(w,d,"GeneratorFunction")),w.prototype=Object.create(F),w},i.awrap=function(w){return{__await:w}},V(U.prototype),h(U.prototype,u,function(){return this}),i.AsyncIterator=U,i.async=function(w,_,E,C,L){L===void 0&&(L=Promise);var W=new U(f(w,_,E,C),L);return i.isGeneratorFunction(_)?W:W.next().then(function(B){return B.done?B.value:W.next()})},V(F),h(F,d,"Generator"),h(F,c,function(){return this}),h(F,"toString",function(){return"[object Generator]"}),i.keys=function(w){var _=Object(w),E=[];for(var C in _)E.push(C);return E.reverse(),function L(){for(;E.length;){var W=E.pop();if(W in _)return L.value=W,L.done=!1,L}return L.done=!0,L}},i.values=y,O.prototype={constructor:O,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!w)for(var _ in this)_.charAt(0)==="t"&&o.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var _=this;function E(M,K){return W.type="throw",W.arg=w,_.next=M,K&&(_.method="next",_.arg=void 0),!!K}for(var C=this.tryEntries.length-1;C>=0;--C){var L=this.tryEntries[C],W=L.completion;if(L.tryLoc==="root")return E("end");if(L.tryLoc<=this.prev){var B=o.call(L,"catchLoc"),G=o.call(L,"finallyLoc");if(B&&G){if(this.prev<L.catchLoc)return E(L.catchLoc,!0);if(this.prev<L.finallyLoc)return E(L.finallyLoc)}else if(B){if(this.prev<L.catchLoc)return E(L.catchLoc,!0)}else{if(!G)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return E(L.finallyLoc)}}}},abrupt:function(w,_){for(var E=this.tryEntries.length-1;E>=0;--E){var C=this.tryEntries[E];if(C.tryLoc<=this.prev&&o.call(C,"finallyLoc")&&this.prev<C.finallyLoc){var L=C;break}}L&&(w==="break"||w==="continue")&&L.tryLoc<=_&&_<=L.finallyLoc&&(L=null);var W=L?L.completion:{};return W.type=w,W.arg=_,L?(this.method="next",this.next=L.finallyLoc,m):this.complete(W)},complete:function(w,_){if(w.type==="throw")throw w.arg;return w.type==="break"||w.type==="continue"?this.next=w.arg:w.type==="return"?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):w.type==="normal"&&_&&(this.next=_),m},finish:function(w){for(var _=this.tryEntries.length-1;_>=0;--_){var E=this.tryEntries[_];if(E.finallyLoc===w)return this.complete(E.completion,E.afterLoc),T(E),m}},catch:function(w){for(var _=this.tryEntries.length-1;_>=0;--_){var E=this.tryEntries[_];if(E.tryLoc===w){var C=E.completion;if(C.type==="throw"){var L=C.arg;T(E)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(w,_,E){return this.delegate={iterator:y(w),resultName:_,nextLoc:E},this.method==="next"&&(this.arg=void 0),m}},i}(typeof t=="object"?t.exports:{});try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},{}],493:[function(e,t,n){"use strict";var r=e("buffer").Buffer,i=e("inherits"),s=e("hash-base"),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function f(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(R,$){return R<<$|R>>>32-$}function m(R,$,F,V,U,q,j,S){return p(R+($^F^V)+q+j|0,S)+U|0}function g(R,$,F,V,U,q,j,S){return p(R+($&F|~$&V)+q+j|0,S)+U|0}function v(R,$,F,V,U,q,j,S){return p(R+(($|~F)^V)+q+j|0,S)+U|0}function x(R,$,F,V,U,q,j,S){return p(R+($&V|F&~V)+q+j|0,S)+U|0}function I(R,$,F,V,U,q,j,S){return p(R+($^(F|~V))+q+j|0,S)+U|0}i(f,s),f.prototype._update=function(){for(var R=o,$=0;$<16;++$)R[$]=this._block.readInt32LE(4*$);for(var F=0|this._a,V=0|this._b,U=0|this._c,q=0|this._d,j=0|this._e,S=0|this._a,T=0|this._b,O=0|this._c,y=0|this._d,b=0|this._e,w=0;w<80;w+=1){var _,E;w<16?(_=m(F,V,U,q,j,R[a[w]],d[0],c[w]),E=I(S,T,O,y,b,R[l[w]],h[0],u[w])):w<32?(_=g(F,V,U,q,j,R[a[w]],d[1],c[w]),E=x(S,T,O,y,b,R[l[w]],h[1],u[w])):w<48?(_=v(F,V,U,q,j,R[a[w]],d[2],c[w]),E=v(S,T,O,y,b,R[l[w]],h[2],u[w])):w<64?(_=x(F,V,U,q,j,R[a[w]],d[3],c[w]),E=g(S,T,O,y,b,R[l[w]],h[3],u[w])):(_=I(F,V,U,q,j,R[a[w]],d[4],c[w]),E=m(S,T,O,y,b,R[l[w]],h[4],u[w])),F=j,j=q,q=p(U,10),U=V,V=_,S=b,b=y,y=p(O,10),O=T,T=E}var C=this._b+U+y|0;this._b=this._c+q+b|0,this._c=this._d+j+S|0,this._d=this._e+F+T|0,this._e=this._a+V+O|0,this._a=C},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var R=r.alloc?r.alloc(20):new r(20);return R.writeInt32LE(this._a,0),R.writeInt32LE(this._b,4),R.writeInt32LE(this._c,8),R.writeInt32LE(this._d,12),R.writeInt32LE(this._e,16),R},t.exports=f},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,t,n){"use strict";var r=e("buffer"),i=r.Buffer;function s(a,l){for(var c in a)l[c]=a[c]}function o(a,l,c){return i(a,l,c)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,n),n.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(a,l,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,l,c)},o.alloc=function(a,l,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=i(a);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:220}],495:[function(e,t,n){(function(r){(function(){"use strict";var i,s=e("buffer"),o=s.Buffer,a={};for(i in s)s.hasOwnProperty(i)&&i!=="SlowBuffer"&&i!=="Buffer"&&(a[i]=s[i]);var l=a.Buffer={};for(i in o)o.hasOwnProperty(i)&&i!=="allocUnsafe"&&i!=="allocUnsafeSlow"&&(l[i]=o[i]);if(a.Buffer.prototype=o.prototype,l.from&&l.from!==Uint8Array.from||(l.from=function(c,u,d){if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof c);if(c&&c.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);return o(c,u,d)}),l.alloc||(l.alloc=function(c,u,d){if(typeof c!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof c);if(c<0||c>=2*(1<<30))throw new RangeError('The value "'+c+'" is invalid for option "size"');var h=o(c);return u&&u.length!==0?typeof d=="string"?h.fill(u,d):h.fill(u):h.fill(0),h}),!a.kStringMaxLength)try{a.kStringMaxLength=r.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let r=e("xmlchars/xml/1.0/ed5"),i=e("xmlchars/xml/1.1/ed2"),s=e("xmlchars/xmlns/1.0/ed3");var o=r.isS,a=r.isChar,l=r.isNameStartChar,c=r.isNameChar,u=r.S_LIST,d=r.NAME_RE,h=i.isChar,f=s.isNCNameStartChar,p=s.isNCNameChar,m=s.NC_NAME_RE;let g="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",x={__proto__:null,xml:g,xmlns:v},I={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},R=y=>y===34||y===39,$=[34,39],F=[...$,91,62],V=[...$,60,93],U=[61,63,...u],q=[...u,62,38,60];function j(y,b,w){switch(b){case"xml":w!==g&&y.fail(`xml prefix must be bound to ${g}.`);break;case"xmlns":w!==v&&y.fail(`xmlns prefix must be bound to ${v}.`)}switch(w){case v:y.fail(b===""?`the default namespace may not be set to ${w}.`:`may not assign a prefix (even "xmlns") to the URI ${v}.`);break;case g:switch(b){case"xml":break;case"":y.fail(`the default namespace may not be set to ${w}.`);break;default:y.fail("may not assign the xml namespace to another prefix.")}}}let S=y=>m.test(y),T=y=>d.test(y);n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];let O={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(y){this.opt=y??{},this.fragmentOpt=!!this.opt.fragment;let b=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,b){this.nameStartCheck=f,this.nameCheck=p,this.isName=S,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},x);let w=this.opt.additionalNamespaces;w!=null&&(function(_,E){for(let C of Object.keys(E))j(_,C,E[C])}(this,w),Object.assign(this.ns,w))}else this.nameStartCheck=l,this.nameCheck=c,this.isName=T,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var y;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:b}=this;this.state=b?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=b,this.xmlDeclPossible=!b,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:w}=this.opt;if(w===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");w="1.0"}this.setXMLVersion(w),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(I),(y=this.readyHandler)===null||y===void 0||y.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(y,b){this[O[y]]=b}off(y){this[O[y]]=void 0}makeError(y){var b;let w=(b=this.fileName)!==null&&b!==void 0?b:"";return this.trackPosition&&(w.length>0&&(w+=":"),w+=`${this.line}:${this.column}`),w.length>0&&(w+=": "),new Error(w+y)}fail(y){let b=this.makeError(y),w=this.errorHandler;if(w===void 0)throw b;return w(b),this}write(y){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let b=!1;y===null?(b=!0,y=""):typeof y=="object"&&(y=y.toString()),this.carriedFromPrevious!==void 0&&(y=`${this.carriedFromPrevious}${y}`,this.carriedFromPrevious=void 0);let w=y.length,_=y.charCodeAt(w-1);!b&&(_===13||_>=55296&&_<=56319)&&(this.carriedFromPrevious=y[w-1],w--,y=y.slice(0,w));let{stateTable:E}=this;for(this.chunk=y,this.i=0;this.i<w;)E[this.state].call(this);return this.chunkPosition+=w,b?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:y,i:b}=this;if(this.prevI=b,this.i=b+1,b>=y.length)return-1;let w=y.charCodeAt(b);if(this.column++,w<55296){if(w>=32||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return y.charCodeAt(b+1)===10&&(this.i=b+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;let _=65536+1024*(w-55296)+(y.charCodeAt(b+1)-56320);return this.i=b+2,_>1114111&&this.fail("disallowed character."),_}getCode11(){let{chunk:y,i:b}=this;if(this.prevI=b,this.i=b+1,b>=y.length)return-1;let w=y.charCodeAt(b);if(this.column++,w<55296){if(w>31&&w<127||w>159&&w!==8232||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let E=y.charCodeAt(b+1);E!==10&&E!==133||(this.i=b+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;let _=65536+1024*(w-55296)+(y.charCodeAt(b+1)-56320);return this.i=b+2,_>1114111&&this.fail("disallowed character."),_}getCodeNorm(){let y=this.getCode();return y===-2?10:y}unget(){this.i=this.prevI,this.column--}captureTo(y){let{i:b}=this,{chunk:w}=this;for(;;){let _=this.getCode(),E=_===-2,C=E?10:_;if(C===-1||y.includes(C))return this.text+=w.slice(b,this.prevI),C;E&&(this.text+=w.slice(b,this.prevI)+`
`,b=this.i)}}captureToChar(y){let{i:b}=this,{chunk:w}=this;for(;;){let _=this.getCode();switch(_){case-2:this.text+=w.slice(b,this.prevI)+`
`,b=this.i,_=10;break;case-1:return this.text+=w.slice(b),!1}if(_===y)return this.text+=w.slice(b,this.prevI),!0}}captureNameChars(){let{chunk:y,i:b}=this;for(;;){let w=this.getCode();if(w===-1)return this.name+=y.slice(b),-1;if(!c(w))return this.name+=y.slice(b,this.prevI),w===-2?10:w}}skipSpaces(){for(;;){let y=this.getCodeNorm();if(y===-1||!o(y))return y}}setXMLVersion(y){this.currentXMLVersion=y,y==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let y=this.i,b=this.skipSpaces();switch(this.prevI!==y&&(this.xmlDeclPossible=!1),b){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var y;let b=this.captureTo(F);switch(b){case 62:(y=this.doctypeHandler)===null||y===void 0||y.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(b),b===91?this.state=4:R(b)&&(this.state=3,this.q=b)}}sDoctypeQuote(){let y=this.q;this.captureToChar(y)&&(this.text+=String.fromCodePoint(y),this.q=null,this.state=2)}sDTD(){let y=this.captureTo(V);y!==-1&&(this.text+=String.fromCodePoint(y),y===93?this.state=2:y===60?this.state=6:R(y)&&(this.state=5,this.q=y))}sDTDQuoted(){let y=this.q;this.captureToChar(y)&&(this.text+=String.fromCodePoint(y),this.state=4,this.q=null)}sDTDOpenWaka(){let y=this.getCodeNorm();switch(this.text+=String.fromCodePoint(y),y){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let y=String.fromCodePoint(this.getCodeNorm()),b=this.openWakaBang+=y;this.text+=y,b!=="-"&&(this.state=b==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let y=this.getCodeNorm();this.text+=String.fromCodePoint(y),this.state=y===45?10:8}sDTDCommentEnded(){let y=this.getCodeNorm();this.text+=String.fromCodePoint(y),y===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let y=this.getCodeNorm();this.text+=String.fromCodePoint(y),y===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:y}=this,{chunk:b}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=b.slice(y,this.prevI)+`
`,y=this.i;break;case 59:{let{entityReturnState:w}=this,_=this.entity+b.slice(y,this.prevI),E;this.state=w,_===""?(this.fail("empty entity name."),E="&;"):(E=this.parseEntity(_),this.entity=""),w===13&&this.textHandler===void 0||(this.text+=E);break e}case-1:this.entity+=b.slice(y);break e}}sOpenWaka(){let y=this.getCode();if(l(y))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(y){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var y;let b=this.getCodeNorm();b===45?(this.state=19,(y=this.commentHandler)===null||y===void 0||y.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(b),this.state=17)}sCommentEnded(){let y=this.getCodeNorm();y!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(y),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let y=this.getCodeNorm();y===93?this.state=22:(this.text+="]"+String.fromCodePoint(y),this.state=20)}sCDataEnding2(){var y;let b=this.getCodeNorm();switch(b){case 62:(y=this.cdataHandler)===null||y===void 0||y.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(b),this.state=20}}sPIFirstChar(){let y=this.getCodeNorm();this.nameStartCheck(y)?(this.piTarget+=String.fromCodePoint(y),this.state=24):y===63||o(y)?(this.fail("processing instruction without a target."),this.state=y===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(y),this.state=24)}sPIRest(){let{chunk:y,i:b}=this;for(;;){let w=this.getCodeNorm();if(w===-1)return void(this.piTarget+=y.slice(b));if(!this.nameCheck(w)){this.piTarget+=y.slice(b,this.prevI);let _=w===63;_||o(w)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=_?33:27):this.state=_?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w));break}}}sPIBody(){if(this.text.length===0){let y=this.getCodeNorm();y===63?this.state=26:o(y)||(this.text=String.fromCodePoint(y))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var y;let b=this.getCodeNorm();if(b===62){let{piTarget:w}=this;w.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(y=this.piHandler)===null||y===void 0||y.call(this,{target:w,body:this.text}),this.piTarget=this.text="",this.state=13}else b===63?this.text+="?":(this.text+="?"+String.fromCodePoint(b),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let y=this.skipSpaces();y!==63?y!==-1&&(this.state=28,this.name=String.fromCodePoint(y)):this.state=33}sXMLDeclName(){let y=this.captureTo(U);if(y===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(o(y)||y===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=y===61?30:29}}sXMLDeclEq(){let y=this.getCodeNorm();if(y===63)return this.state=33,void this.fail("XML declaration is incomplete.");o(y)||(y!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let y=this.getCodeNorm();if(y===63)return this.state=33,void this.fail("XML declaration is incomplete.");o(y)||(R(y)?this.q=y:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let y=this.captureTo([this.q,63]);if(y===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(y===-1)return;let b=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let w=b;this.xmlDecl.version=w,/^1\.[0-9]+$/.test(w)?this.opt.forceXMLVersion||this.setXMLVersion(w):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(b)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=b;break;case"standalone":b!=="yes"&&b!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=b}this.name="",this.state=32}sXMLDeclSeparator(){let y=this.getCodeNorm();y!==63?(o(y)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var y;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(y=this.xmldeclHandler)===null||y===void 0||y.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var y;let b=this.captureNameChars();if(b===-1)return;let w=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=w.ns=Object.create(null)),(y=this.openTagStartHandler)===null||y===void 0||y.call(this,w),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),b){case 62:this.openTag();break;case 47:this.state=35;break;default:o(b)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let y=this.skipSpaces();y!==-1&&(l(y)?(this.unget(),this.state=37):y===62?this.openTag():y===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let y=this.captureNameChars();y===61?this.state=39:o(y)?this.state=38:y===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):y!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let y=this.skipSpaces();switch(y){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",y===62?this.openTag():l(y)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let y=this.getCodeNorm();R(y)?(this.q=y,this.state=40):o(y)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:y,chunk:b}=this,{i:w}=this;for(;;)switch(this.getCode()){case y:return this.pushAttrib(this.name,this.text+b.slice(w,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=b.slice(w,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=b.slice(w,this.prevI)+" ",w=this.i;break;case 60:return this.text+=b.slice(w,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=b.slice(w))}}sAttribValueClosed(){let y=this.getCodeNorm();o(y)?this.state=36:y===62?this.openTag():y===47?this.state=35:l(y)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let y=this.captureTo(q);switch(y){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",y===62?this.openTag():this.state=36}}sCloseTag(){let y=this.captureNameChars();y===62?this.closeTag():o(y)?this.state=44:y!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:y,forbiddenState:b}=this,{chunk:w,textHandler:_}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,_!==void 0){let{text:E}=this,C=w.slice(y,this.prevI);E.length!==0?(_(E+C),this.text=""):C.length!==0&&_(C)}b=0;break e;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=w.slice(y,this.prevI)),b=0;break e;case 93:switch(b){case 0:b=1;break;case 1:b=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:b===2&&this.fail('the string "]]>" is disallowed in char data.'),b=0;break;case-2:_!==void 0&&(this.text+=w.slice(y,this.prevI)+`
`),y=this.i,b=0;break;case-1:_!==void 0&&(this.text+=w.slice(y));break e;default:b=0}this.forbiddenState=b}handleTextOutsideRoot(){let{i:y}=this,{chunk:b,textHandler:w}=this,_=!1;e:for(;;){let E=this.getCode();switch(E){case 60:if(this.state=15,w!==void 0){let{text:C}=this,L=b.slice(y,this.prevI);C.length!==0?(w(C+L),this.text=""):L.length!==0&&w(L)}break e;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=b.slice(y,this.prevI)),_=!0;break e;case-2:w!==void 0&&(this.text+=b.slice(y,this.prevI)+`
`),y=this.i;break;case-1:w!==void 0&&(this.text+=b.slice(y));break e;default:o(E)||(_=!0)}}_&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(y,b){var w;let{prefix:_,local:E}=this.qname(y),C={name:y,prefix:_,local:E,value:b};if(this.attribList.push(C),(w=this.attributeHandler)===null||w===void 0||w.call(this,C),_==="xmlns"){let L=b.trim();this.currentXMLVersion==="1.0"&&L===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[E]=L,j(this,E,L)}else if(y==="xmlns"){let L=b.trim();this.topNS[""]=L,j(this,"",L)}}pushAttribPlain(y,b){var w;let _={name:y,value:b};this.attribList.push(_),(w=this.attributeHandler)===null||w===void 0||w.call(this,_)}end(){var y,b;this.sawRoot||this.fail("document must contain a root element.");let{tags:w}=this;for(;w.length>0;){let E=w.pop();this.fail("unclosed tag: "+E.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");let{text:_}=this;return _.length!==0&&((y=this.textHandler)===null||y===void 0||y.call(this,_),this.text=""),this._closed=!0,(b=this.endHandler)===null||b===void 0||b.call(this),this._init(),this}resolve(y){var b,w;let _=this.topNS[y];if(_!==void 0)return _;let{tags:E}=this;for(let C=E.length-1;C>=0;C--)if(_=E[C].ns[y],_!==void 0)return _;return _=this.ns[y],_!==void 0?_:(w=(b=this.opt).resolvePrefix)===null||w===void 0?void 0:w.call(b,y)}qname(y){let b=y.indexOf(":");if(b===-1)return{prefix:"",local:y};let w=y.slice(b+1),_=y.slice(0,b);return(_===""||w===""||w.includes(":"))&&this.fail(`malformed name: ${y}.`),{prefix:_,local:w}}processAttribsNS(){var y;let{attribList:b}=this,w=this.tag;{let{prefix:C,local:L}=this.qname(w.name);w.prefix=C,w.local=L;let W=w.uri=(y=this.resolve(C))!==null&&y!==void 0?y:"";C!==""&&(C==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),W===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(C)}.`),w.uri=C))}if(b.length===0)return;let{attributes:_}=w,E=new Set;for(let C of b){let{name:L,prefix:W,local:B}=C,G,M;W===""?(G=L==="xmlns"?v:"",M=L):(G=this.resolve(W),G===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(W)}.`),G=W),M=`{${G}}${B}`),E.has(M)&&this.fail(`duplicate attribute: ${M}.`),E.add(M),C.uri=G,_[L]=C}this.attribList=[]}processAttribsPlain(){let{attribList:y}=this,b=this.tag.attributes;for(let{name:w,value:_}of y)b[w]!==void 0&&this.fail(`duplicate attribute: ${w}.`),b[w]=_;this.attribList=[]}openTag(){var y;this.processAttribs();let{tags:b}=this,w=this.tag;w.isSelfClosing=!1,(y=this.openTagHandler)===null||y===void 0||y.call(this,w),b.push(w),this.state=13,this.name=""}openSelfClosingTag(){var y,b,w;this.processAttribs();let{tags:_}=this,E=this.tag;E.isSelfClosing=!0,(y=this.openTagHandler)===null||y===void 0||y.call(this,E),(b=this.closeTagHandler)===null||b===void 0||b.call(this,E),(this.tag=(w=_[_.length-1])!==null&&w!==void 0?w:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:y,name:b}=this;if(this.state=13,this.name="",b==="")return this.fail("weird empty close tag."),void(this.text+="</>");let w=this.closeTagHandler,_=y.length;for(;_-- >0;){let E=this.tag=y.pop();if(this.topNS=E.ns,w?.(E),E.name===b)break;this.fail("unexpected close tag.")}_===0?this.closedRoot=!0:_<0&&(this.fail(`unmatched closing tag: ${b}.`),this.text+=`</${b}>`)}parseEntity(y){if(y[0]!=="#"){let w=this.ENTITIES[y];return w!==void 0?w:(this.fail(this.isName(y)?"undefined entity.":"disallowed character in entity name."),`&${y};`)}let b=NaN;return y[1]==="x"&&/^#x[0-9a-f]+$/i.test(y)?b=parseInt(y.slice(2),16):/^#[0-9]+$/.test(y)&&(b=parseInt(y.slice(1),10)),this.isChar(b)?String.fromCodePoint(b):(this.fail("malformed character entity."),`&${y};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer;function i(s,o){this._block=r.alloc(s),this._finalSize=o,this._blockSize=s,this._len=0}i.prototype.update=function(s,o){typeof s=="string"&&(o=o||"utf8",s=r.from(s,o));for(var a=this._block,l=this._blockSize,c=s.length,u=this._len,d=0;d<c;){for(var h=u%l,f=Math.min(c-d,l-h),p=0;p<f;p++)a[h+p]=s[d+p];d+=f,(u+=f)%l==0&&this._update(a)}return this._len+=c,this},i.prototype.digest=function(s){var o=this._len%this._blockSize;this._block[o]=128,this._block.fill(0,o+1),o>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var l=(4294967295&a)>>>0,c=(a-l)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var u=this._hash();return s?u.toString(s):u},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},{"safe-buffer":494}],498:[function(e,t,n){"use strict";var r=t.exports=function(i){i=i.toLowerCase();var s=r[i];if(!s)throw new Error(i+" is not supported (we accept pull requests)");return new s};r.sha=e("./sha"),r.sha1=e("./sha1"),r.sha224=e("./sha224"),r.sha256=e("./sha256"),r.sha384=e("./sha384"),r.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(d){return d<<30|d>>>2}function u(d,h,f,p){return d===0?h&f|~h&p:d===2?h&f|h&p|f&p:h^f^p}r(l,i),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(d){for(var h,f=this._w,p=0|this._a,m=0|this._b,g=0|this._c,v=0|this._d,x=0|this._e,I=0;I<16;++I)f[I]=d.readInt32BE(4*I);for(;I<80;++I)f[I]=f[I-3]^f[I-8]^f[I-14]^f[I-16];for(var R=0;R<80;++R){var $=~~(R/20),F=0|((h=p)<<5|h>>>27)+u($,m,g,v)+x+f[R]+o[$];x=v,v=g,g=c(m),m=p,p=F}this._a=p+this._a|0,this._b=m+this._b|0,this._c=g+this._c|0,this._d=v+this._d|0,this._e=x+this._e|0},l.prototype._hash=function(){var d=s.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(h){return h<<5|h>>>27}function u(h){return h<<30|h>>>2}function d(h,f,p,m){return h===0?f&p|~f&m:h===2?f&p|f&m|p&m:f^p^m}r(l,i),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(h){for(var f,p=this._w,m=0|this._a,g=0|this._b,v=0|this._c,x=0|this._d,I=0|this._e,R=0;R<16;++R)p[R]=h.readInt32BE(4*R);for(;R<80;++R)p[R]=(f=p[R-3]^p[R-8]^p[R-14]^p[R-16])<<1|f>>>31;for(var $=0;$<80;++$){var F=~~($/20),V=c(m)+d(F,g,v,x)+I+p[$]+o[F]|0;I=x,x=v,v=u(g),g=m,m=V}this._a=m+this._a|0,this._b=g+this._b|0,this._c=v+this._c|0,this._d=x+this._d|0,this._e=I+this._e|0},l.prototype._hash=function(){var h=s.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./sha256"),s=e("./hash"),o=e("safe-buffer").Buffer,a=new Array(64);function l(){this.init(),this._w=a,s.call(this,64,56)}r(l,i),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var c=o.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},t.exports=l},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(p,m,g){return g^p&(m^g)}function u(p,m,g){return p&m|g&(p|m)}function d(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function h(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function f(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}r(l,i),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(p){for(var m,g=this._w,v=0|this._a,x=0|this._b,I=0|this._c,R=0|this._d,$=0|this._e,F=0|this._f,V=0|this._g,U=0|this._h,q=0;q<16;++q)g[q]=p.readInt32BE(4*q);for(;q<64;++q)g[q]=0|(((m=g[q-2])>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)+g[q-7]+f(g[q-15])+g[q-16];for(var j=0;j<64;++j){var S=U+h($)+c($,F,V)+o[j]+g[j]|0,T=d(v)+u(v,x,I)|0;U=V,V=F,F=$,$=R+S|0,R=I,I=x,x=v,v=S+T|0}this._a=v+this._a|0,this._b=x+this._b|0,this._c=I+this._c|0,this._d=R+this._d|0,this._e=$+this._e|0,this._f=F+this._f|0,this._g=V+this._g|0,this._h=U+this._h|0},l.prototype._hash=function(){var p=s.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./sha512"),s=e("./hash"),o=e("safe-buffer").Buffer,a=new Array(160);function l(){this.init(),this._w=a,s.call(this,128,112)}r(l,i),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var c=o.allocUnsafe(48);function u(d,h,f){c.writeInt32BE(d,f),c.writeInt32BE(h,f+4)}return u(this._ah,this._al,0),u(this._bh,this._bl,8),u(this._ch,this._cl,16),u(this._dh,this._dl,24),u(this._eh,this._el,32),u(this._fh,this._fl,40),c},t.exports=l},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,i.call(this,128,112)}function c(x,I,R){return R^x&(I^R)}function u(x,I,R){return x&I|R&(x|I)}function d(x,I){return(x>>>28|I<<4)^(I>>>2|x<<30)^(I>>>7|x<<25)}function h(x,I){return(x>>>14|I<<18)^(x>>>18|I<<14)^(I>>>9|x<<23)}function f(x,I){return(x>>>1|I<<31)^(x>>>8|I<<24)^x>>>7}function p(x,I){return(x>>>1|I<<31)^(x>>>8|I<<24)^(x>>>7|I<<25)}function m(x,I){return(x>>>19|I<<13)^(I>>>29|x<<3)^x>>>6}function g(x,I){return(x>>>19|I<<13)^(I>>>29|x<<3)^(x>>>6|I<<26)}function v(x,I){return x>>>0<I>>>0?1:0}r(l,i),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(x){for(var I=this._w,R=0|this._ah,$=0|this._bh,F=0|this._ch,V=0|this._dh,U=0|this._eh,q=0|this._fh,j=0|this._gh,S=0|this._hh,T=0|this._al,O=0|this._bl,y=0|this._cl,b=0|this._dl,w=0|this._el,_=0|this._fl,E=0|this._gl,C=0|this._hl,L=0;L<32;L+=2)I[L]=x.readInt32BE(4*L),I[L+1]=x.readInt32BE(4*L+4);for(;L<160;L+=2){var W=I[L-30],B=I[L-30+1],G=f(W,B),M=p(B,W),K=m(W=I[L-4],B=I[L-4+1]),D=g(B,W),k=I[L-14],z=I[L-14+1],J=I[L-32],Q=I[L-32+1],ee=M+z|0,ne=G+k+v(ee,M)|0;ne=(ne=ne+K+v(ee=ee+D|0,D)|0)+J+v(ee=ee+Q|0,Q)|0,I[L]=ne,I[L+1]=ee}for(var he=0;he<160;he+=2){ne=I[he],ee=I[he+1];var de=u(R,$,F),Z=u(T,O,y),le=d(R,T),fe=d(T,R),ve=h(U,w),me=h(w,U),Se=o[he],xe=o[he+1],ke=c(U,q,j),Re=c(w,_,E),je=C+me|0,st=S+ve+v(je,C)|0;st=(st=(st=st+ke+v(je=je+Re|0,Re)|0)+Se+v(je=je+xe|0,xe)|0)+ne+v(je=je+ee|0,ee)|0;var Ve=fe+Z|0,Qe=le+de+v(Ve,fe)|0;S=j,C=E,j=q,E=_,q=U,_=w,U=V+st+v(w=b+je|0,b)|0,V=F,b=y,F=$,y=O,$=R,O=T,R=st+Qe+v(T=je+Ve|0,je)|0}this._al=this._al+T|0,this._bl=this._bl+O|0,this._cl=this._cl+y|0,this._dl=this._dl+b|0,this._el=this._el+w|0,this._fl=this._fl+_|0,this._gl=this._gl+E|0,this._hl=this._hl+C|0,this._ah=this._ah+R+v(this._al,T)|0,this._bh=this._bh+$+v(this._bl,O)|0,this._ch=this._ch+F+v(this._cl,y)|0,this._dh=this._dh+V+v(this._dl,b)|0,this._eh=this._eh+U+v(this._el,w)|0,this._fh=this._fh+q+v(this._fl,_)|0,this._gh=this._gh+j+v(this._gl,E)|0,this._hh=this._hh+S+v(this._hl,C)|0},l.prototype._hash=function(){var x=s.allocUnsafe(64);function I(R,$,F){x.writeInt32BE(R,F),x.writeInt32BE($,F+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),x},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,t,n){"use strict";t.exports=i;var r=e("events").EventEmitter;function i(){r.call(this)}e("inherits")(i,r),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(s,o){var a=this;function l(m){s.writable&&s.write(m)===!1&&a.pause&&a.pause()}function c(){a.readable&&a.resume&&a.resume()}a.on("data",l),s.on("drain",c),s._isStdio||o&&o.end===!1||(a.on("end",d),a.on("close",h));var u=!1;function d(){u||(u=!0,s.end())}function h(){u||(u=!0,typeof s.destroy=="function"&&s.destroy())}function f(m){if(p(),r.listenerCount(this,"error")===0)throw m}function p(){a.removeListener("data",l),s.removeListener("drain",c),a.removeListener("end",d),a.removeListener("close",h),a.removeListener("error",f),s.removeListener("error",f),a.removeListener("end",p),a.removeListener("close",p),s.removeListener("close",p)}return a.on("error",f),s.on("error",f),a.on("end",p),a.on("close",p),s.on("close",p),s.emit("pipe",a),s}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,t,n){"use strict";var r={}.toString;t.exports=Array.isArray||function(i){return r.call(i)=="[object Array]"}},{}],507:[function(e,t,n){"use strict";t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,t,n){"use strict";var r=e("process-nextick-args"),i=Object.keys||function(p){var m=[];for(var g in p)m.push(g);return m};t.exports=d;var s=Object.create(e("core-util-is"));s.inherits=e("inherits");var o=e("./_stream_readable"),a=e("./_stream_writable");s.inherits(d,o);for(var l=i(a.prototype),c=0;c<l.length;c++){var u=l[c];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(p){if(!(this instanceof d))return new d(p);o.call(this,p),a.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(p){p.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),d.prototype._destroy=function(p,m){this.push(null),this.end(),r.nextTick(m,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,t,n){"use strict";t.exports=s;var r=e("./_stream_transform"),i=Object.create(e("core-util-is"));function s(o){if(!(this instanceof s))return new s(o);r.call(this,o)}i.inherits=e("inherits"),i.inherits(s,r),s.prototype._transform=function(o,a,l){l(null,o)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,t,n){(function(r,i){(function(){"use strict";var s=e("process-nextick-args");t.exports=R;var o,a=e("isarray");R.ReadableState=I,e("events").EventEmitter;var l=function(C,L){return C.listeners(L).length},c=e("./internal/streams/stream"),u=e("safe-buffer").Buffer,d=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h=Object.create(e("core-util-is"));h.inherits=e("inherits");var f=e("util"),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var m,g=e("./internal/streams/BufferList"),v=e("./internal/streams/destroy");h.inherits(R,c);var x=["error","close","destroy","pause","resume"];function I(C,L){C=C||{};var W=L instanceof(o=o||e("./_stream_duplex"));this.objectMode=!!C.objectMode,W&&(this.objectMode=this.objectMode||!!C.readableObjectMode);var B=C.highWaterMark,G=C.readableHighWaterMark,M=this.objectMode?16:16384;this.highWaterMark=B||B===0?B:W&&(G||G===0)?G:M,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(m||(m=e("string_decoder/").StringDecoder),this.decoder=new m(C.encoding),this.encoding=C.encoding)}function R(C){if(o=o||e("./_stream_duplex"),!(this instanceof R))return new R(C);this._readableState=new I(C,this),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),c.call(this)}function $(C,L,W,B,G){var M,K=C._readableState;return L===null?(K.reading=!1,function(D,k){if(!k.ended){if(k.decoder){var z=k.decoder.end();z&&z.length&&(k.buffer.push(z),k.length+=k.objectMode?1:z.length)}k.ended=!0,U(D)}}(C,K)):(G||(M=function(D,k){var z;J=k,u.isBuffer(J)||J instanceof d||typeof k=="string"||k===void 0||D.objectMode||(z=new TypeError("Invalid non-string/buffer chunk"));var J;return z}(K,L)),M?C.emit("error",M):K.objectMode||L&&L.length>0?(typeof L=="string"||K.objectMode||Object.getPrototypeOf(L)===u.prototype||(L=function(D){return u.from(D)}(L)),B?K.endEmitted?C.emit("error",new Error("stream.unshift() after end event")):F(C,K,L,!0):K.ended?C.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!W?(L=K.decoder.write(L),K.objectMode||L.length!==0?F(C,K,L,!1):j(C,K)):F(C,K,L,!1))):B||(K.reading=!1)),function(D){return!D.ended&&(D.needReadable||D.length<D.highWaterMark||D.length===0)}(K)}function F(C,L,W,B){L.flowing&&L.length===0&&!L.sync?(C.emit("data",W),C.read(0)):(L.length+=L.objectMode?1:W.length,B?L.buffer.unshift(W):L.buffer.push(W),L.needReadable&&U(C)),j(C,L)}Object.defineProperty(R.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),R.prototype.destroy=v.destroy,R.prototype._undestroy=v.undestroy,R.prototype._destroy=function(C,L){this.push(null),L(C)},R.prototype.push=function(C,L){var W,B=this._readableState;return B.objectMode?W=!0:typeof C=="string"&&((L=L||B.defaultEncoding)!==B.encoding&&(C=u.from(C,L),L=""),W=!0),$(this,C,L,!1,W)},R.prototype.unshift=function(C){return $(this,C,null,!0,!1)},R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(C){return m||(m=e("string_decoder/").StringDecoder),this._readableState.decoder=new m(C),this._readableState.encoding=C,this};function V(C,L){return C<=0||L.length===0&&L.ended?0:L.objectMode?1:C!=C?L.flowing&&L.length?L.buffer.head.data.length:L.length:(C>L.highWaterMark&&(L.highWaterMark=function(W){return W>=8388608?W=8388608:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}(C)),C<=L.length?C:L.ended?L.length:(L.needReadable=!0,0))}function U(C){var L=C._readableState;L.needReadable=!1,L.emittedReadable||(p("emitReadable",L.flowing),L.emittedReadable=!0,L.sync?s.nextTick(q,C):q(C))}function q(C){p("emit readable"),C.emit("readable"),y(C)}function j(C,L){L.readingMore||(L.readingMore=!0,s.nextTick(S,C,L))}function S(C,L){for(var W=L.length;!L.reading&&!L.flowing&&!L.ended&&L.length<L.highWaterMark&&(p("maybeReadMore read 0"),C.read(0),W!==L.length);)W=L.length;L.readingMore=!1}function T(C){p("readable nexttick read 0"),C.read(0)}function O(C,L){L.reading||(p("resume read 0"),C.read(0)),L.resumeScheduled=!1,L.awaitDrain=0,C.emit("resume"),y(C),L.flowing&&!L.reading&&C.read(0)}function y(C){var L=C._readableState;for(p("flow",L.flowing);L.flowing&&C.read()!==null;);}function b(C,L){return L.length===0?null:(L.objectMode?W=L.buffer.shift():!C||C>=L.length?(W=L.decoder?L.buffer.join(""):L.buffer.length===1?L.buffer.head.data:L.buffer.concat(L.length),L.buffer.clear()):W=function(B,G,M){var K;return B<G.head.data.length?(K=G.head.data.slice(0,B),G.head.data=G.head.data.slice(B)):K=B===G.head.data.length?G.shift():M?function(D,k){var z=k.head,J=1,Q=z.data;for(D-=Q.length;z=z.next;){var ee=z.data,ne=D>ee.length?ee.length:D;if(ne===ee.length?Q+=ee:Q+=ee.slice(0,D),(D-=ne)===0){ne===ee.length?(++J,z.next?k.head=z.next:k.head=k.tail=null):(k.head=z,z.data=ee.slice(ne));break}++J}return k.length-=J,Q}(B,G):function(D,k){var z=u.allocUnsafe(D),J=k.head,Q=1;for(J.data.copy(z),D-=J.data.length;J=J.next;){var ee=J.data,ne=D>ee.length?ee.length:D;if(ee.copy(z,z.length-D,0,ne),(D-=ne)===0){ne===ee.length?(++Q,J.next?k.head=J.next:k.head=k.tail=null):(k.head=J,J.data=ee.slice(ne));break}++Q}return k.length-=Q,z}(B,G),K}(C,L.buffer,L.decoder),W);var W}function w(C){var L=C._readableState;if(L.length>0)throw new Error('"endReadable()" called on non-empty stream');L.endEmitted||(L.ended=!0,s.nextTick(_,L,C))}function _(C,L){C.endEmitted||C.length!==0||(C.endEmitted=!0,L.readable=!1,L.emit("end"))}function E(C,L){for(var W=0,B=C.length;W<B;W++)if(C[W]===L)return W;return-1}R.prototype.read=function(C){p("read",C),C=parseInt(C,10);var L=this._readableState,W=C;if(C!==0&&(L.emittedReadable=!1),C===0&&L.needReadable&&(L.length>=L.highWaterMark||L.ended))return p("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?w(this):U(this),null;if((C=V(C,L))===0&&L.ended)return L.length===0&&w(this),null;var B,G=L.needReadable;return p("need readable",G),(L.length===0||L.length-C<L.highWaterMark)&&p("length less than watermark",G=!0),L.ended||L.reading?p("reading or ended",G=!1):G&&(p("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(C=V(W,L))),(B=C>0?b(C,L):null)===null?(L.needReadable=!0,C=0):L.length-=C,L.length===0&&(L.ended||(L.needReadable=!0),W!==C&&L.ended&&w(this)),B!==null&&this.emit("data",B),B},R.prototype._read=function(C){this.emit("error",new Error("_read() is not implemented"))},R.prototype.pipe=function(C,L){var W=this,B=this._readableState;switch(B.pipesCount){case 0:B.pipes=C;break;case 1:B.pipes=[B.pipes,C];break;default:B.pipes.push(C)}B.pipesCount+=1,p("pipe count=%d opts=%j",B.pipesCount,L);var G=(!L||L.end!==!1)&&C!==r.stdout&&C!==r.stderr?K:he;function M(de,Z){p("onunpipe"),de===W&&Z&&Z.hasUnpiped===!1&&(Z.hasUnpiped=!0,p("cleanup"),C.removeListener("close",ee),C.removeListener("finish",ne),C.removeListener("drain",D),C.removeListener("error",Q),C.removeListener("unpipe",M),W.removeListener("end",K),W.removeListener("end",he),W.removeListener("data",J),k=!0,!B.awaitDrain||C._writableState&&!C._writableState.needDrain||D())}function K(){p("onend"),C.end()}B.endEmitted?s.nextTick(G):W.once("end",G),C.on("unpipe",M);var D=function(de){return function(){var Z=de._readableState;p("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&l(de,"data")&&(Z.flowing=!0,y(de))}}(W);C.on("drain",D);var k=!1,z=!1;function J(de){p("ondata"),z=!1,C.write(de)!==!1||z||((B.pipesCount===1&&B.pipes===C||B.pipesCount>1&&E(B.pipes,C)!==-1)&&!k&&(p("false write response, pause",B.awaitDrain),B.awaitDrain++,z=!0),W.pause())}function Q(de){p("onerror",de),he(),C.removeListener("error",Q),l(C,"error")===0&&C.emit("error",de)}function ee(){C.removeListener("finish",ne),he()}function ne(){p("onfinish"),C.removeListener("close",ee),he()}function he(){p("unpipe"),W.unpipe(C)}return W.on("data",J),function(de,Z,le){if(typeof de.prependListener=="function")return de.prependListener(Z,le);de._events&&de._events[Z]?a(de._events[Z])?de._events[Z].unshift(le):de._events[Z]=[le,de._events[Z]]:de.on(Z,le)}(C,"error",Q),C.once("close",ee),C.once("finish",ne),C.emit("pipe",W),B.flowing||(p("pipe resume"),W.resume()),C},R.prototype.unpipe=function(C){var L=this._readableState,W={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return C&&C!==L.pipes||(C||(C=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,C&&C.emit("unpipe",this,W)),this;if(!C){var B=L.pipes,G=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var M=0;M<G;M++)B[M].emit("unpipe",this,{hasUnpiped:!1});return this}var K=E(L.pipes,C);return K===-1||(L.pipes.splice(K,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),C.emit("unpipe",this,W)),this},R.prototype.on=function(C,L){var W=c.prototype.on.call(this,C,L);if(C==="data")this._readableState.flowing!==!1&&this.resume();else if(C==="readable"){var B=this._readableState;B.endEmitted||B.readableListening||(B.readableListening=B.needReadable=!0,B.emittedReadable=!1,B.reading?B.length&&U(this):s.nextTick(T,this))}return W},R.prototype.addListener=R.prototype.on,R.prototype.resume=function(){var C=this._readableState;return C.flowing||(p("resume"),C.flowing=!0,function(L,W){W.resumeScheduled||(W.resumeScheduled=!0,s.nextTick(O,L,W))}(this,C)),this},R.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},R.prototype.wrap=function(C){var L=this,W=this._readableState,B=!1;for(var G in C.on("end",function(){if(p("wrapped end"),W.decoder&&!W.ended){var K=W.decoder.end();K&&K.length&&L.push(K)}L.push(null)}),C.on("data",function(K){p("wrapped data"),W.decoder&&(K=W.decoder.write(K)),W.objectMode&&K==null||(W.objectMode||K&&K.length)&&(L.push(K)||(B=!0,C.pause()))}),C)this[G]===void 0&&typeof C[G]=="function"&&(this[G]=function(K){return function(){return C[K].apply(C,arguments)}}(G));for(var M=0;M<x.length;M++)C.on(x[M],this.emit.bind(this,x[M]));return this._read=function(K){p("wrapped _read",K),B&&(B=!1,C.resume())},this},Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),R._fromList=b}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,t,n){"use strict";t.exports=o;var r=e("./_stream_duplex"),i=Object.create(e("core-util-is"));function s(c,u){var d=this._transformState;d.transforming=!1;var h=d.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,u!=null&&this.push(u),h(c);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function o(c){if(!(this instanceof o))return new o(c);r.call(this,c),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",a)}function a(){var c=this;typeof this._flush=="function"?this._flush(function(u,d){l(c,u,d)}):l(this,null,null)}function l(c,u,d){if(u)return c.emit("error",u);if(d!=null&&c.push(d),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}i.inherits=e("inherits"),i.inherits(o,r),o.prototype.push=function(c,u){return this._transformState.needTransform=!1,r.prototype.push.call(this,c,u)},o.prototype._transform=function(c,u,d){throw new Error("_transform() is not implemented")},o.prototype._write=function(c,u,d){var h=this._transformState;if(h.writecb=d,h.writechunk=c,h.writeencoding=u,!h.transforming){var f=this._readableState;(h.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},o.prototype._read=function(c){var u=this._transformState;u.writechunk!==null&&u.writecb&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},o.prototype._destroy=function(c,u){var d=this;r.prototype._destroy.call(this,c,function(h){u(h),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,t,n){(function(r,i,s){(function(){"use strict";var o=e("process-nextick-args");function a(j){var S=this;this.next=null,this.entry=null,this.finish=function(){(function(T,O,y){var b=T.entry;for(T.entry=null;b;){var w=b.callback;O.pendingcb--,w(y),b=b.next}O.corkedRequestsFree.next=T})(S,j)}}t.exports=I;var l,c=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?s:o.nextTick;I.WritableState=x;var u=Object.create(e("core-util-is"));u.inherits=e("inherits");var d={deprecate:e("util-deprecate")},h=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,p=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m,g=e("./internal/streams/destroy");function v(){}function x(j,S){l=l||e("./_stream_duplex"),j=j||{};var T=S instanceof l;this.objectMode=!!j.objectMode,T&&(this.objectMode=this.objectMode||!!j.writableObjectMode);var O=j.highWaterMark,y=j.writableHighWaterMark,b=this.objectMode?16:16384;this.highWaterMark=O||O===0?O:T&&(y||y===0)?y:b,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var w=j.decodeStrings===!1;this.decodeStrings=!w,this.defaultEncoding=j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_){(function(E,C){var L=E._writableState,W=L.sync,B=L.writecb;if(function(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0}(L),C)(function(M,K,D,k,z){--K.pendingcb,D?(o.nextTick(z,k),o.nextTick(q,M,K),M._writableState.errorEmitted=!0,M.emit("error",k)):(z(k),M._writableState.errorEmitted=!0,M.emit("error",k),q(M,K))})(E,L,W,C,B);else{var G=V(L);G||L.corked||L.bufferProcessing||!L.bufferedRequest||F(E,L),W?c($,E,L,G,B):$(E,L,G,B)}})(S,_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function I(j){if(l=l||e("./_stream_duplex"),!(m.call(I,this)||this instanceof l))return new I(j);this._writableState=new x(j,this),this.writable=!0,j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final)),h.call(this)}function R(j,S,T,O,y,b,w){S.writelen=O,S.writecb=w,S.writing=!0,S.sync=!0,T?j._writev(y,S.onwrite):j._write(y,b,S.onwrite),S.sync=!1}function $(j,S,T,O){T||function(y,b){b.length===0&&b.needDrain&&(b.needDrain=!1,y.emit("drain"))}(j,S),S.pendingcb--,O(),q(j,S)}function F(j,S){S.bufferProcessing=!0;var T=S.bufferedRequest;if(j._writev&&T&&T.next){var O=S.bufferedRequestCount,y=new Array(O),b=S.corkedRequestsFree;b.entry=T;for(var w=0,_=!0;T;)y[w]=T,T.isBuf||(_=!1),T=T.next,w+=1;y.allBuffers=_,R(j,S,!0,S.length,y,"",b.finish),S.pendingcb++,S.lastBufferedRequest=null,b.next?(S.corkedRequestsFree=b.next,b.next=null):S.corkedRequestsFree=new a(S),S.bufferedRequestCount=0}else{for(;T;){var E=T.chunk,C=T.encoding,L=T.callback;if(R(j,S,!1,S.objectMode?1:E.length,E,C,L),T=T.next,S.bufferedRequestCount--,S.writing)break}T===null&&(S.lastBufferedRequest=null)}S.bufferedRequest=T,S.bufferProcessing=!1}function V(j){return j.ending&&j.length===0&&j.bufferedRequest===null&&!j.finished&&!j.writing}function U(j,S){j._final(function(T){S.pendingcb--,T&&j.emit("error",T),S.prefinished=!0,j.emit("prefinish"),q(j,S)})}function q(j,S){var T=V(S);return T&&(function(O,y){y.prefinished||y.finalCalled||(typeof O._final=="function"?(y.pendingcb++,y.finalCalled=!0,o.nextTick(U,O,y)):(y.prefinished=!0,O.emit("prefinish")))}(j,S),S.pendingcb===0&&(S.finished=!0,j.emit("finish"))),T}u.inherits(I,h),x.prototype.getBuffer=function(){for(var j=this.bufferedRequest,S=[];j;)S.push(j),j=j.next;return S},function(){try{Object.defineProperty(x.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(j){return!!m.call(this,j)||this===I&&j&&j._writableState instanceof x}})):m=function(j){return j instanceof this},I.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},I.prototype.write=function(j,S,T){var O,y=this._writableState,b=!1,w=!y.objectMode&&(O=j,f.isBuffer(O)||O instanceof p);return w&&!f.isBuffer(j)&&(j=function(_){return f.from(_)}(j)),typeof S=="function"&&(T=S,S=null),w?S="buffer":S||(S=y.defaultEncoding),typeof T!="function"&&(T=v),y.ended?function(_,E){var C=new Error("write after end");_.emit("error",C),o.nextTick(E,C)}(this,T):(w||function(_,E,C,L){var W=!0,B=!1;return C===null?B=new TypeError("May not write null values to stream"):typeof C=="string"||C===void 0||E.objectMode||(B=new TypeError("Invalid non-string/buffer chunk")),B&&(_.emit("error",B),o.nextTick(L,B),W=!1),W}(this,y,j,T))&&(y.pendingcb++,b=function(_,E,C,L,W,B){if(!C){var G=function(k,z,J){return k.objectMode||k.decodeStrings===!1||typeof z!="string"||(z=f.from(z,J)),z}(E,L,W);L!==G&&(C=!0,W="buffer",L=G)}var M=E.objectMode?1:L.length;E.length+=M;var K=E.length<E.highWaterMark;if(K||(E.needDrain=!0),E.writing||E.corked){var D=E.lastBufferedRequest;E.lastBufferedRequest={chunk:L,encoding:W,isBuf:C,callback:B,next:null},D?D.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else R(_,E,!1,M,L,W,B);return K}(this,y,w,j,S,T)),b},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var j=this._writableState;j.corked&&(j.corked--,j.writing||j.corked||j.bufferProcessing||!j.bufferedRequest||F(this,j))},I.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=j.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((j+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+j);return this._writableState.defaultEncoding=j,this},Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(j,S,T){T(new Error("_write() is not implemented"))},I.prototype._writev=null,I.prototype.end=function(j,S,T){var O=this._writableState;typeof j=="function"?(T=j,j=null,S=null):typeof S=="function"&&(T=S,S=null),j!=null&&this.write(j,S),O.corked&&(O.corked=1,this.uncork()),O.ending||function(y,b,w){b.ending=!0,q(y,b),w&&(b.finished?o.nextTick(w):y.once("finish",w)),b.ended=!0,y.writable=!1}(this,O,T)},Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(j){this._writableState&&(this._writableState.destroyed=j)}}),I.prototype.destroy=g.destroy,I.prototype._undestroy=g.undestroy,I.prototype._destroy=function(j,S){this.end(),S(j)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("util");t.exports=function(){function s(){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(o){var a={data:o,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},s.prototype.unshift=function(o){var a={data:o,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},s.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(o){if(this.length===0)return"";for(var a=this.head,l=""+a.data;a=a.next;)l+=o+a.data;return l},s.prototype.concat=function(o){if(this.length===0)return r.alloc(0);for(var a,l,c,u=r.allocUnsafe(o>>>0),d=this.head,h=0;d;)a=d.data,l=u,c=h,a.copy(l,c),h+=d.data.length,d=d.next;return u},s}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var s=i.inspect({length:this.length});return this.constructor.name+" "+s})},{"safe-buffer":520,util:188}],514:[function(e,t,n){"use strict";var r=e("process-nextick-args");function i(s,o){s.emit("error",o)}t.exports={destroy:function(s,o){var a=this,l=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return l||c?(o?o(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(i,this,s)):r.nextTick(i,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(u){!o&&u?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,r.nextTick(i,a,u)):r.nextTick(i,a,u):o&&o(u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,t,n){arguments[4][490][0].apply(n,arguments)},{dup:490,events:422}],516:[function(e,t,n){"use strict";t.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,t,n){"use strict";(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,t,n){"use strict";t.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,t,n){"use strict";t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,t,n){arguments[4][217][0].apply(n,arguments)},{buffer:220,dup:217}],521:[function(e,t,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,t,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,t,n){(function(r,i){(function(){"use strict";var s=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,l={},c=0;function u(d,h){this._id=d,this._clearFn=h}n.setTimeout=function(){return new u(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(d){d.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(d,h){clearTimeout(d._idleTimeoutId),d._idleTimeout=h},n.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},n._unrefActive=n.active=function(d){clearTimeout(d._idleTimeoutId);var h=d._idleTimeout;h>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},h))},n.setImmediate=typeof r=="function"?r:function(d){var h=c++,f=!(arguments.length<2)&&a.call(arguments,1);return l[h]=!0,s(function(){l[h]&&(f?d.apply(null,f):d.call(null),n.clearImmediate(h))}),h},n.clearImmediate=typeof i=="function"?i:function(d){delete l[d]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,t,n){(function(r){(function(){"use strict";function i(s){try{if(!r.localStorage)return!1}catch{return!1}var o=r.localStorage[s];return o!=null&&String(o).toLowerCase()==="true"}t.exports=function(s,o){if(i("noDeprecation"))return s;var a=!1;return function(){if(!a){if(i("throwDeprecation"))throw new Error(o);i("traceDeprecation")?console.trace(o):console.warn(o),a=!0}return s.apply(this,arguments)}}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,t,n){"use strict";typeof Object.create=="function"?t.exports=function(r,i){r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,i){r.super_=i;var s=function(){};s.prototype=i.prototype,r.prototype=new s,r.prototype.constructor=r}},{}],526:[function(e,t,n){"use strict";t.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}},{}],527:[function(e,t,n){(function(r,i){(function(){"use strict";var s=/%[sdj%]/g;n.format=function(y){if(!x(y)){for(var b=[],w=0;w<arguments.length;w++)b.push(l(arguments[w]));return b.join(" ")}w=1;for(var _=arguments,E=_.length,C=String(y).replace(s,function(W){if(W==="%%")return"%";if(w>=E)return W;switch(W){case"%s":return String(_[w++]);case"%d":return Number(_[w++]);case"%j":try{return JSON.stringify(_[w++])}catch{return"[Circular]"}default:return W}}),L=_[w];w<E;L=_[++w])g(L)||!$(L)?C+=" "+L:C+=" "+l(L);return C},n.deprecate=function(y,b){if(I(i.process))return function(){return n.deprecate(y,b).apply(this,arguments)};if(r.noDeprecation===!0)return y;var w=!1;return function(){if(!w){if(r.throwDeprecation)throw new Error(b);r.traceDeprecation?console.trace(b):console.error(b),w=!0}return y.apply(this,arguments)}};var o,a={};function l(y,b){var w={seen:[],stylize:u};return arguments.length>=3&&(w.depth=arguments[2]),arguments.length>=4&&(w.colors=arguments[3]),m(b)?w.showHidden=b:b&&n._extend(w,b),I(w.showHidden)&&(w.showHidden=!1),I(w.depth)&&(w.depth=2),I(w.colors)&&(w.colors=!1),I(w.customInspect)&&(w.customInspect=!0),w.colors&&(w.stylize=c),d(w,y,w.depth)}function c(y,b){var w=l.styles[b];return w?"\x1B["+l.colors[w][0]+"m"+y+"\x1B["+l.colors[w][1]+"m":y}function u(y,b){return y}function d(y,b,w){if(y.customInspect&&b&&U(b.inspect)&&b.inspect!==n.inspect&&(!b.constructor||b.constructor.prototype!==b)){var _=b.inspect(w,y);return x(_)||(_=d(y,_,w)),_}var E=function(D,k){if(I(k))return D.stylize("undefined","undefined");if(x(k)){var z="'"+JSON.stringify(k).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(z,"string")}if(v(k))return D.stylize(""+k,"number");if(m(k))return D.stylize(""+k,"boolean");if(g(k))return D.stylize("null","null")}(y,b);if(E)return E;var C=Object.keys(b),L=function(D){var k={};return D.forEach(function(z,J){k[z]=!0}),k}(C);if(y.showHidden&&(C=Object.getOwnPropertyNames(b)),V(b)&&(C.indexOf("message")>=0||C.indexOf("description")>=0))return h(b);if(C.length===0){if(U(b)){var W=b.name?": "+b.name:"";return y.stylize("[Function"+W+"]","special")}if(R(b))return y.stylize(RegExp.prototype.toString.call(b),"regexp");if(F(b))return y.stylize(Date.prototype.toString.call(b),"date");if(V(b))return h(b)}var B,G="",M=!1,K=["{","}"];return p(b)&&(M=!0,K=["[","]"]),U(b)&&(G=" [Function"+(b.name?": "+b.name:"")+"]"),R(b)&&(G=" "+RegExp.prototype.toString.call(b)),F(b)&&(G=" "+Date.prototype.toUTCString.call(b)),V(b)&&(G=" "+h(b)),C.length!==0||M&&b.length!=0?w<0?R(b)?y.stylize(RegExp.prototype.toString.call(b),"regexp"):y.stylize("[Object]","special"):(y.seen.push(b),B=M?function(D,k,z,J,Q){for(var ee=[],ne=0,he=k.length;ne<he;++ne)O(k,String(ne))?ee.push(f(D,k,z,J,String(ne),!0)):ee.push("");return Q.forEach(function(de){de.match(/^\d+$/)||ee.push(f(D,k,z,J,de,!0))}),ee}(y,b,w,L,C):C.map(function(D){return f(y,b,w,L,D,M)}),y.seen.pop(),function(D,k,z){return D.reduce(function(J,Q){return Q.indexOf(`
`)>=0,J+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?z[0]+(k===""?"":k+`
 `)+" "+D.join(`,
  `)+" "+z[1]:z[0]+k+" "+D.join(", ")+" "+z[1]}(B,G,K)):K[0]+G+K[1]}function h(y){return"["+Error.prototype.toString.call(y)+"]"}function f(y,b,w,_,E,C){var L,W,B;if((B=Object.getOwnPropertyDescriptor(b,E)||{value:b[E]}).get?W=B.set?y.stylize("[Getter/Setter]","special"):y.stylize("[Getter]","special"):B.set&&(W=y.stylize("[Setter]","special")),O(_,E)||(L="["+E+"]"),W||(y.seen.indexOf(B.value)<0?(W=g(w)?d(y,B.value,null):d(y,B.value,w-1)).indexOf(`
`)>-1&&(W=C?W.split(`
`).map(function(G){return"  "+G}).join(`
`).substr(2):`
`+W.split(`
`).map(function(G){return"   "+G}).join(`
`)):W=y.stylize("[Circular]","special")),I(L)){if(C&&E.match(/^\d+$/))return W;(L=JSON.stringify(""+E)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.substr(1,L.length-2),L=y.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=y.stylize(L,"string"))}return L+": "+W}function p(y){return Array.isArray(y)}function m(y){return typeof y=="boolean"}function g(y){return y===null}function v(y){return typeof y=="number"}function x(y){return typeof y=="string"}function I(y){return y===void 0}function R(y){return $(y)&&q(y)==="[object RegExp]"}function $(y){return typeof y=="object"&&y!==null}function F(y){return $(y)&&q(y)==="[object Date]"}function V(y){return $(y)&&(q(y)==="[object Error]"||y instanceof Error)}function U(y){return typeof y=="function"}function q(y){return Object.prototype.toString.call(y)}function j(y){return y<10?"0"+y.toString(10):y.toString(10)}n.debuglog=function(y){if(I(o)&&(o=r.env.NODE_DEBUG||""),y=y.toUpperCase(),!a[y])if(new RegExp("\\b"+y+"\\b","i").test(o)){var b=r.pid;a[y]=function(){var w=n.format.apply(n,arguments);console.error("%s %d: %s",y,b,w)}}else a[y]=function(){};return a[y]},n.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=function(y){return y==null},n.isNumber=v,n.isString=x,n.isSymbol=function(y){return typeof y=="symbol"},n.isUndefined=I,n.isRegExp=R,n.isObject=$,n.isDate=F,n.isError=V,n.isFunction=U,n.isPrimitive=function(y){return y===null||typeof y=="boolean"||typeof y=="number"||typeof y=="string"||typeof y=="symbol"||y===void 0},n.isBuffer=e("./support/isBuffer");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var y=new Date,b=[j(y.getHours()),j(y.getMinutes()),j(y.getSeconds())].join(":");return[y.getDate(),S[y.getMonth()],b].join(" ")}function O(y,b){return Object.prototype.hasOwnProperty.call(y,b)}n.log=function(){console.log("%s - %s",T(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(y,b){if(!b||!$(b))return y;for(var w=Object.keys(b),_=w.length;_--;)y[w[_]]=b[w[_]];return y}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return d.default}});var r=h(e("./v1.js")),i=h(e("./v3.js")),s=h(e("./v4.js")),o=h(e("./v5.js")),a=h(e("./nil.js")),l=h(e("./version.js")),c=h(e("./validate.js")),u=h(e("./stringify.js")),d=h(e("./parse.js"));function h(f){return f&&f.__esModule?f:{default:f}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,t,n){"use strict";function r(d){return 14+(d+64>>>9<<4)+1}function i(d,h){let f=(65535&d)+(65535&h);return(d>>16)+(h>>16)+(f>>16)<<16|65535&f}function s(d,h,f,p,m,g){return i((v=i(i(h,d),i(p,g)))<<(x=m)|v>>>32-x,f);var v,x}function o(d,h,f,p,m,g,v){return s(h&f|~h&p,d,h,m,g,v)}function a(d,h,f,p,m,g,v){return s(h&p|f&~p,d,h,m,g,v)}function l(d,h,f,p,m,g,v){return s(h^f^p,d,h,m,g,v)}function c(d,h,f,p,m,g,v){return s(f^(h|~p),d,h,m,g,v)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=function(d){if(typeof d=="string"){let h=unescape(encodeURIComponent(d));d=new Uint8Array(h.length);for(let f=0;f<h.length;++f)d[f]=h.charCodeAt(f)}return function(h){let f=[],p=32*h.length;for(let m=0;m<p;m+=8){let g=h[m>>5]>>>m%32&255,v=parseInt("0123456789abcdef".charAt(g>>>4&15)+"0123456789abcdef".charAt(15&g),16);f.push(v)}return f}(function(h,f){h[f>>5]|=128<<f%32,h[r(f)-1]=f;let p=1732584193,m=-271733879,g=-1732584194,v=271733878;for(let x=0;x<h.length;x+=16){let I=p,R=m,$=g,F=v;p=o(p,m,g,v,h[x],7,-680876936),v=o(v,p,m,g,h[x+1],12,-389564586),g=o(g,v,p,m,h[x+2],17,606105819),m=o(m,g,v,p,h[x+3],22,-1044525330),p=o(p,m,g,v,h[x+4],7,-176418897),v=o(v,p,m,g,h[x+5],12,1200080426),g=o(g,v,p,m,h[x+6],17,-1473231341),m=o(m,g,v,p,h[x+7],22,-45705983),p=o(p,m,g,v,h[x+8],7,1770035416),v=o(v,p,m,g,h[x+9],12,-1958414417),g=o(g,v,p,m,h[x+10],17,-42063),m=o(m,g,v,p,h[x+11],22,-1990404162),p=o(p,m,g,v,h[x+12],7,1804603682),v=o(v,p,m,g,h[x+13],12,-40341101),g=o(g,v,p,m,h[x+14],17,-1502002290),m=o(m,g,v,p,h[x+15],22,1236535329),p=a(p,m,g,v,h[x+1],5,-165796510),v=a(v,p,m,g,h[x+6],9,-1069501632),g=a(g,v,p,m,h[x+11],14,643717713),m=a(m,g,v,p,h[x],20,-373897302),p=a(p,m,g,v,h[x+5],5,-701558691),v=a(v,p,m,g,h[x+10],9,38016083),g=a(g,v,p,m,h[x+15],14,-660478335),m=a(m,g,v,p,h[x+4],20,-405537848),p=a(p,m,g,v,h[x+9],5,568446438),v=a(v,p,m,g,h[x+14],9,-1019803690),g=a(g,v,p,m,h[x+3],14,-187363961),m=a(m,g,v,p,h[x+8],20,1163531501),p=a(p,m,g,v,h[x+13],5,-1444681467),v=a(v,p,m,g,h[x+2],9,-51403784),g=a(g,v,p,m,h[x+7],14,1735328473),m=a(m,g,v,p,h[x+12],20,-1926607734),p=l(p,m,g,v,h[x+5],4,-378558),v=l(v,p,m,g,h[x+8],11,-2022574463),g=l(g,v,p,m,h[x+11],16,1839030562),m=l(m,g,v,p,h[x+14],23,-35309556),p=l(p,m,g,v,h[x+1],4,-1530992060),v=l(v,p,m,g,h[x+4],11,1272893353),g=l(g,v,p,m,h[x+7],16,-155497632),m=l(m,g,v,p,h[x+10],23,-1094730640),p=l(p,m,g,v,h[x+13],4,681279174),v=l(v,p,m,g,h[x],11,-358537222),g=l(g,v,p,m,h[x+3],16,-722521979),m=l(m,g,v,p,h[x+6],23,76029189),p=l(p,m,g,v,h[x+9],4,-640364487),v=l(v,p,m,g,h[x+12],11,-421815835),g=l(g,v,p,m,h[x+15],16,530742520),m=l(m,g,v,p,h[x+2],23,-995338651),p=c(p,m,g,v,h[x],6,-198630844),v=c(v,p,m,g,h[x+7],10,1126891415),g=c(g,v,p,m,h[x+14],15,-1416354905),m=c(m,g,v,p,h[x+5],21,-57434055),p=c(p,m,g,v,h[x+12],6,1700485571),v=c(v,p,m,g,h[x+3],10,-1894986606),g=c(g,v,p,m,h[x+10],15,-1051523),m=c(m,g,v,p,h[x+1],21,-2054922799),p=c(p,m,g,v,h[x+8],6,1873313359),v=c(v,p,m,g,h[x+15],10,-30611744),g=c(g,v,p,m,h[x+6],15,-1560198380),m=c(m,g,v,p,h[x+13],21,1309151649),p=c(p,m,g,v,h[x+4],6,-145523070),v=c(v,p,m,g,h[x+11],10,-1120210379),g=c(g,v,p,m,h[x+2],15,718787259),m=c(m,g,v,p,h[x+9],21,-343485551),p=i(p,I),m=i(m,R),g=i(g,$),v=i(v,F)}return[p,m,g,v]}(function(h){if(h.length===0)return[];let f=8*h.length,p=new Uint32Array(r(f));for(let m=0;m<f;m+=8)p[m>>5]|=(255&h[m/8])<<m%32;return p}(d),8*d.length))};n.default=u},{}],530:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r},s=function(o){if(!(0,i.default)(o))throw TypeError("Invalid UUID");let a,l=new Uint8Array(16);return l[0]=(a=parseInt(o.slice(0,8),16))>>>24,l[1]=a>>>16&255,l[2]=a>>>8&255,l[3]=255&a,l[4]=(a=parseInt(o.slice(9,13),16))>>>8,l[5]=255&a,l[6]=(a=parseInt(o.slice(14,18),16))>>>8,l[7]=255&a,l[8]=(a=parseInt(o.slice(19,23),16))>>>8,l[9]=255&a,l[10]=(a=parseInt(o.slice(24,36),16))/1099511627776&255,l[11]=a/4294967296&255,l[12]=a>>>24&255,l[13]=a>>>16&255,l[14]=a>>>8&255,l[15]=255&a,l};n.default=s},{"./validate.js":541}],532:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,t,n){"use strict";let r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!r&&(r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)};let i=new Uint8Array(16)},{}],534:[function(e,t,n){"use strict";function r(o,a,l,c){switch(o){case 0:return a&l^~a&c;case 1:return a^l^c;case 2:return a&l^a&c^l&c;case 3:return a^l^c}}function i(o,a){return o<<a|o>>>32-a}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(o){let a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof o=="string"){let h=unescape(encodeURIComponent(o));o=[];for(let f=0;f<h.length;++f)o.push(h.charCodeAt(f))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);let c=o.length/4+2,u=Math.ceil(c/16),d=new Array(u);for(let h=0;h<u;++h){let f=new Uint32Array(16);for(let p=0;p<16;++p)f[p]=o[64*h+4*p]<<24|o[64*h+4*p+1]<<16|o[64*h+4*p+2]<<8|o[64*h+4*p+3];d[h]=f}d[u-1][14]=8*(o.length-1)/Math.pow(2,32),d[u-1][14]=Math.floor(d[u-1][14]),d[u-1][15]=8*(o.length-1)&4294967295;for(let h=0;h<u;++h){let f=new Uint32Array(80);for(let I=0;I<16;++I)f[I]=d[h][I];for(let I=16;I<80;++I)f[I]=i(f[I-3]^f[I-8]^f[I-14]^f[I-16],1);let p=l[0],m=l[1],g=l[2],v=l[3],x=l[4];for(let I=0;I<80;++I){let R=Math.floor(I/20),$=i(p,5)+r(R,m,g,v)+x+a[R]+f[I]>>>0;x=v,v=g,g=i(m,30)>>>0,m=p,p=$}l[0]=l[0]+p>>>0,l[1]=l[1]+m>>>0,l[2]=l[2]+g>>>0,l[3]=l[3]+v>>>0,l[4]=l[4]+x>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,255&l[0],l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,255&l[1],l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,255&l[2],l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,255&l[3],l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,255&l[4]]};n.default=s},{}],535:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};let s=[];for(let a=0;a<256;++a)s.push((a+256).toString(16).substr(1));var o=function(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=(s[a[l+0]]+s[a[l+1]]+s[a[l+2]]+s[a[l+3]]+"-"+s[a[l+4]]+s[a[l+5]]+"-"+s[a[l+6]]+s[a[l+7]]+"-"+s[a[l+8]]+s[a[l+9]]+"-"+s[a[l+10]]+s[a[l+11]]+s[a[l+12]]+s[a[l+13]]+s[a[l+14]]+s[a[l+15]]).toLowerCase();if(!(0,i.default)(c))throw TypeError("Stringified UUID is invalid");return c};n.default=o},{"./validate.js":541}],536:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./rng.js")),i=s(e("./stringify.js"));function s(d){return d&&d.__esModule?d:{default:d}}let o,a,l=0,c=0;var u=function(d,h,f){let p=h&&f||0,m=h||new Array(16),g=(d=d||{}).node||o,v=d.clockseq!==void 0?d.clockseq:a;if(g==null||v==null){let V=d.random||(d.rng||r.default)();g==null&&(g=o=[1|V[0],V[1],V[2],V[3],V[4],V[5]]),v==null&&(v=a=16383&(V[6]<<8|V[7]))}let x=d.msecs!==void 0?d.msecs:Date.now(),I=d.nsecs!==void 0?d.nsecs:c+1,R=x-l+(I-c)/1e4;if(R<0&&d.clockseq===void 0&&(v=v+1&16383),(R<0||x>l)&&d.nsecs===void 0&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=x,c=I,a=v,x+=122192928e5;let $=(1e4*(268435455&x)+I)%4294967296;m[p++]=$>>>24&255,m[p++]=$>>>16&255,m[p++]=$>>>8&255,m[p++]=255&$;let F=x/4294967296*1e4&268435455;m[p++]=F>>>8&255,m[p++]=255&F,m[p++]=F>>>24&15|16,m[p++]=F>>>16&255,m[p++]=v>>>8|128,m[p++]=255&v;for(let V=0;V<6;++V)m[p+V]=g[V];return h||(0,i.default)(m)};n.default=u},{"./rng.js":533,"./stringify.js":535}],537:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./v35.js")),i=s(e("./md5.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v3",48,i.default);n.default=o},{"./md5.js":529,"./v35.js":538}],538:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(l,c,u){function d(h,f,p,m){if(typeof h=="string"&&(h=function(v){v=unescape(encodeURIComponent(v));let x=[];for(let I=0;I<v.length;++I)x.push(v.charCodeAt(I));return x}(h)),typeof f=="string"&&(f=(0,i.default)(f)),f.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+h.length);if(g.set(f),g.set(h,f.length),g=u(g),g[6]=15&g[6]|c,g[8]=63&g[8]|128,p){m=m||0;for(let v=0;v<16;++v)p[m+v]=g[v];return p}return(0,r.default)(g)}try{d.name=l}catch{}return d.DNS=o,d.URL=a,d},n.URL=n.DNS=void 0;var r=s(e("./stringify.js")),i=s(e("./parse.js"));function s(l){return l&&l.__esModule?l:{default:l}}let o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=o;let a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./rng.js")),i=s(e("./stringify.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=function(a,l,c){let u=(a=a||{}).random||(a.rng||r.default)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,l){c=c||0;for(let d=0;d<16;++d)l[c+d]=u[d];return l}return(0,i.default)(u)};n.default=o},{"./rng.js":533,"./stringify.js":535}],540:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./v35.js")),i=s(e("./sha1.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v5",80,i.default);n.default=o},{"./sha1.js":534,"./v35.js":538}],541:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./regex.js"))&&r.__esModule?r:{default:r},s=function(o){return typeof o=="string"&&i.default.test(o)};n.default=s},{"./regex.js":532}],542:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r},s=function(o){if(!(0,i.default)(o))throw TypeError("Invalid UUID");return parseInt(o.substr(14,1),16)};n.default=s},{"./validate.js":541}],543:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`,n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function r(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(i){return i>=32&&i<=55295||i===10||i===13||i===9||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isS=function(i){return i===32||i===10||i===13||i===9},n.isNameStartChar=r,n.isNameChar=function(i){return r(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],544:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}",n.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F",n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function r(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(i){return i>=1&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isRestrictedChar=function(i){return i>=1&&i<=8||i===11||i===12||i>=14&&i<=31||i>=127&&i<=132||i>=134&&i<=159},n.isCharAndNotRestricted=function(i){return i===9||i===10||i===13||i>31&&i<127||i===133||i>159&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isS=function(i){return i===32||i===10||i===13||i===9},n.isNameStartChar=r,n.isNameChar=function(i){return r(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],545:[function(e,t,n){"use strict";function r(i){return i>=65&&i<=90||i===95||i>=97&&i<=122||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8204&&i<=8205||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=r,n.isNCNameChar=function(i){return r(i)||i===45||i===46||i>=48&&i<=57||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}]},{},[15])(15)})});var Lo=globalThis;function Ls(e){return(Lo.__Zone_symbol_prefix||"__zone_symbol__")+e}function Q9(){let e=Lo.performance;function t(w){e&&e.mark&&e.mark(w)}function n(w,_){e&&e.measure&&e.measure(w,_)}t("Zone");let r=(()=>{class w{static __symbol__=Ls;static assertZonePatched(){if(Lo.Promise!==j.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let E=w.current;for(;E.parent;)E=E.parent;return E}static get current(){return T.zone}static get currentTask(){return O}static __load_patch(E,C,L=!1){if(j.hasOwnProperty(E)){let W=Lo[Ls("forceDuplicateZoneCheck")]===!0;if(!L&&W)throw Error("Already loaded patch: "+E)}else if(!Lo["__Zone_disable_"+E]){let W="Zone:"+E;t(W),j[E]=C(Lo,w,S),n(W,W)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(E,C){this._parent=E,this._name=C?C.name||"unnamed":"<root>",this._properties=C&&C.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,C)}get(E){let C=this.getZoneWith(E);if(C)return C._properties[E]}getZoneWith(E){let C=this;for(;C;){if(C._properties.hasOwnProperty(E))return C;C=C._parent}return null}fork(E){if(!E)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,E)}wrap(E,C){if(typeof E!="function")throw new Error("Expecting function got: "+E);let L=this._zoneDelegate.intercept(this,E,C),W=this;return function(){return W.runGuarded(L,this,arguments,C)}}run(E,C,L,W){T={parent:T,zone:this};try{return this._zoneDelegate.invoke(this,E,C,L,W)}finally{T=T.parent}}runGuarded(E,C=null,L,W){T={parent:T,zone:this};try{try{return this._zoneDelegate.invoke(this,E,C,L,W)}catch(B){if(this._zoneDelegate.handleError(this,B))throw B}}finally{T=T.parent}}runTask(E,C,L){if(E.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(E.zone||g).name+"; Execution: "+this.name+")");let W=E,{type:B,data:{isPeriodic:G=!1,isRefreshable:M=!1}={}}=E;if(E.state===v&&(B===q||B===U))return;let K=E.state!=R;K&&W._transitionTo(R,I);let D=O;O=W,T={parent:T,zone:this};try{B==U&&E.data&&!G&&!M&&(E.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,W,C,L)}catch(k){if(this._zoneDelegate.handleError(this,k))throw k}}finally{let k=E.state;if(k!==v&&k!==F)if(B==q||G||M&&k===x)K&&W._transitionTo(I,R,x);else{let z=W._zoneDelegates;this._updateTaskCount(W,-1),K&&W._transitionTo(v,R,v),M&&(W._zoneDelegates=z)}T=T.parent,O=D}}scheduleTask(E){if(E.zone&&E.zone!==this){let L=this;for(;L;){if(L===E.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${E.zone.name}`);L=L.parent}}E._transitionTo(x,v);let C=[];E._zoneDelegates=C,E._zone=this;try{E=this._zoneDelegate.scheduleTask(this,E)}catch(L){throw E._transitionTo(F,x,v),this._zoneDelegate.handleError(this,L),L}return E._zoneDelegates===C&&this._updateTaskCount(E,1),E.state==x&&E._transitionTo(I,x),E}scheduleMicroTask(E,C,L,W){return this.scheduleTask(new o(V,E,C,L,W,void 0))}scheduleMacroTask(E,C,L,W,B){return this.scheduleTask(new o(U,E,C,L,W,B))}scheduleEventTask(E,C,L,W,B){return this.scheduleTask(new o(q,E,C,L,W,B))}cancelTask(E){if(E.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(E.zone||g).name+"; Execution: "+this.name+")");if(!(E.state!==I&&E.state!==R)){E._transitionTo($,I,R);try{this._zoneDelegate.cancelTask(this,E)}catch(C){throw E._transitionTo(F,$),this._zoneDelegate.handleError(this,C),C}return this._updateTaskCount(E,-1),E._transitionTo(v,$),E.runCount=-1,E}}_updateTaskCount(E,C){let L=E._zoneDelegates;C==-1&&(E._zoneDelegates=null);for(let W=0;W<L.length;W++)L[W]._updateTaskCount(E.type,C)}}return w})(),i={name:"",onHasTask:(w,_,E,C)=>w.hasTask(E,C),onScheduleTask:(w,_,E,C)=>w.scheduleTask(E,C),onInvokeTask:(w,_,E,C,L,W)=>w.invokeTask(E,C,L,W),onCancelTask:(w,_,E,C)=>w.cancelTask(E,C)};class s{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(_,E,C){this._zone=_,this._parentDelegate=E,this._forkZS=C&&(C&&C.onFork?C:E._forkZS),this._forkDlgt=C&&(C.onFork?E:E._forkDlgt),this._forkCurrZone=C&&(C.onFork?this._zone:E._forkCurrZone),this._interceptZS=C&&(C.onIntercept?C:E._interceptZS),this._interceptDlgt=C&&(C.onIntercept?E:E._interceptDlgt),this._interceptCurrZone=C&&(C.onIntercept?this._zone:E._interceptCurrZone),this._invokeZS=C&&(C.onInvoke?C:E._invokeZS),this._invokeDlgt=C&&(C.onInvoke?E:E._invokeDlgt),this._invokeCurrZone=C&&(C.onInvoke?this._zone:E._invokeCurrZone),this._handleErrorZS=C&&(C.onHandleError?C:E._handleErrorZS),this._handleErrorDlgt=C&&(C.onHandleError?E:E._handleErrorDlgt),this._handleErrorCurrZone=C&&(C.onHandleError?this._zone:E._handleErrorCurrZone),this._scheduleTaskZS=C&&(C.onScheduleTask?C:E._scheduleTaskZS),this._scheduleTaskDlgt=C&&(C.onScheduleTask?E:E._scheduleTaskDlgt),this._scheduleTaskCurrZone=C&&(C.onScheduleTask?this._zone:E._scheduleTaskCurrZone),this._invokeTaskZS=C&&(C.onInvokeTask?C:E._invokeTaskZS),this._invokeTaskDlgt=C&&(C.onInvokeTask?E:E._invokeTaskDlgt),this._invokeTaskCurrZone=C&&(C.onInvokeTask?this._zone:E._invokeTaskCurrZone),this._cancelTaskZS=C&&(C.onCancelTask?C:E._cancelTaskZS),this._cancelTaskDlgt=C&&(C.onCancelTask?E:E._cancelTaskDlgt),this._cancelTaskCurrZone=C&&(C.onCancelTask?this._zone:E._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let L=C&&C.onHasTask,W=E&&E._hasTaskZS;(L||W)&&(this._hasTaskZS=L?C:i,this._hasTaskDlgt=E,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,C.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=E,this._scheduleTaskCurrZone=this._zone),C.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=E,this._invokeTaskCurrZone=this._zone),C.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=E,this._cancelTaskCurrZone=this._zone))}fork(_,E){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,_,E):new r(_,E)}intercept(_,E,C){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,_,E,C):E}invoke(_,E,C,L,W){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,_,E,C,L,W):E.apply(C,L)}handleError(_,E){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,_,E):!0}scheduleTask(_,E){let C=E;if(this._scheduleTaskZS)this._hasTaskZS&&C._zoneDelegates.push(this._hasTaskDlgtOwner),C=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,_,E),C||(C=E);else if(E.scheduleFn)E.scheduleFn(E);else if(E.type==V)p(E);else throw new Error("Task is missing scheduleFn.");return C}invokeTask(_,E,C,L){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,_,E,C,L):E.callback.apply(C,L)}cancelTask(_,E){let C;if(this._cancelTaskZS)C=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,_,E);else{if(!E.cancelFn)throw Error("Task is not cancelable");C=E.cancelFn(E)}return C}hasTask(_,E){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,_,E)}catch(C){this.handleError(_,C)}}_updateTaskCount(_,E){let C=this._taskCounts,L=C[_],W=C[_]=L+E;if(W<0)throw new Error("More tasks executed then were scheduled.");if(L==0||W==0){let B={microTask:C.microTask>0,macroTask:C.macroTask>0,eventTask:C.eventTask>0,change:_};this.hasTask(this._zone,B)}}}class o{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(_,E,C,L,W,B){if(this.type=_,this.source=E,this.data=L,this.scheduleFn=W,this.cancelFn=B,!C)throw new Error("callback is not defined");this.callback=C;let G=this;_===q&&L&&L.useG?this.invoke=o.invokeTask:this.invoke=function(){return o.invokeTask.call(Lo,G,this,arguments)}}static invokeTask(_,E,C){_||(_=this),y++;try{return _.runCount++,_.zone.runTask(_,E,C)}finally{y==1&&m(),y--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(v,x)}_transitionTo(_,E,C){if(this._state===E||this._state===C)this._state=_,_==v&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${_}', expecting state '${E}'${C?" or '"+C+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let a=Ls("setTimeout"),l=Ls("Promise"),c=Ls("then"),u=[],d=!1,h;function f(w){if(h||Lo[l]&&(h=Lo[l].resolve(0)),h){let _=h[c];_||(_=h.then),_.call(h,w)}else Lo[a](w,0)}function p(w){y===0&&u.length===0&&f(m),w&&u.push(w)}function m(){if(!d){for(d=!0;u.length;){let w=u;u=[];for(let _=0;_<w.length;_++){let E=w[_];try{E.zone.runTask(E,null,null)}catch(C){S.onUnhandledError(C)}}}S.microtaskDrainDone(),d=!1}}let g={name:"NO ZONE"},v="notScheduled",x="scheduling",I="scheduled",R="running",$="canceling",F="unknown",V="microTask",U="macroTask",q="eventTask",j={},S={symbol:Ls,currentZoneFrame:()=>T,onUnhandledError:b,microtaskDrainDone:b,scheduleMicroTask:p,showUncaughtError:()=>!r[Ls("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:b,patchMethod:()=>b,bindArguments:()=>[],patchThen:()=>b,patchMacroTask:()=>b,patchEventPrototype:()=>b,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>b,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>b,wrapWithCurrentZone:()=>b,filterProperties:()=>[],attachOriginToPatched:()=>b,_redefineProperty:()=>b,patchCallbacks:()=>b,nativeScheduleMicroTask:f},T={parent:null,zone:new r(null,null)},O=null,y=0;function b(){}return n("Zone","Zone"),r}function eO(){let e=globalThis,t=e[Ls("forceDuplicateZoneCheck")]===!0;if(e.Zone&&(t||typeof e.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return e.Zone??=Q9(),e.Zone}var $f=Object.getOwnPropertyDescriptor,Gv=Object.defineProperty,Kv=Object.getPrototypeOf,tO=Object.create,nO=Array.prototype.slice,Yv="addEventListener",Zv="removeEventListener",zv=Ls(Yv),qv=Ls(Zv),Ta="true",Ia="false",Wf=Ls("");function Jv(e,t){return Zone.current.wrap(e,t)}function Xv(e,t,n,r,i){return Zone.current.scheduleMacroTask(e,t,n,r,i)}var Xn=Ls,qm=typeof window<"u",Gf=qm?window:void 0,ri=qm&&Gf||globalThis,rO="removeAttribute";function Qv(e,t){for(let n=e.length-1;n>=0;n--)typeof e[n]=="function"&&(e[n]=Jv(e[n],t+"_"+n));return e}function iO(e,t){let n=e.constructor.name;for(let r=0;r<t.length;r++){let i=t[r],s=e[i];if(s){let o=$f(e,i);if(!I3(o))continue;e[i]=(a=>{let l=function(){return a.apply(this,Qv(arguments,n+"."+i))};return ka(l,a),l})(s)}}}function I3(e){return e?e.writable===!1?!1:!(typeof e.get=="function"&&typeof e.set>"u"):!0}var A3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,$m=!("nw"in ri)&&typeof ri.process<"u"&&ri.process.toString()==="[object process]",eb=!$m&&!A3&&!!(qm&&Gf.HTMLElement),k3=typeof ri.process<"u"&&ri.process.toString()==="[object process]"&&!A3&&!!(qm&&Gf.HTMLElement),zm={},sO=Xn("enable_beforeunload"),w3=function(e){if(e=e||ri.event,!e)return;let t=zm[e.type];t||(t=zm[e.type]=Xn("ON_PROPERTY"+e.type));let n=this||e.target||ri,r=n[t],i;if(eb&&n===Gf&&e.type==="error"){let s=e;i=r&&r.call(this,s.message,s.filename,s.lineno,s.colno,s.error),i===!0&&e.preventDefault()}else i=r&&r.apply(this,arguments),e.type==="beforeunload"&&ri[sO]&&typeof i=="string"?e.returnValue=i:i!=null&&!i&&e.preventDefault();return i};function E3(e,t,n){let r=$f(e,t);if(!r&&n&&$f(n,t)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;let i=Xn("on"+t+"patched");if(e.hasOwnProperty(i)&&e[i])return;delete r.writable,delete r.value;let s=r.get,o=r.set,a=t.slice(2),l=zm[a];l||(l=zm[a]=Xn("ON_PROPERTY"+a)),r.set=function(c){let u=this;if(!u&&e===ri&&(u=ri),!u)return;typeof u[l]=="function"&&u.removeEventListener(a,w3),o?.call(u,null),u[l]=c,typeof c=="function"&&u.addEventListener(a,w3,!1)},r.get=function(){let c=this;if(!c&&e===ri&&(c=ri),!c)return null;let u=c[l];if(u)return u;if(s){let d=s.call(this);if(d)return r.set.call(this,d),typeof c[rO]=="function"&&c.removeAttribute(t),d}return null},Gv(e,t,r),e[i]=!0}function D3(e,t,n){if(t)for(let r=0;r<t.length;r++)E3(e,"on"+t[r],n);else{let r=[];for(let i in e)i.slice(0,2)=="on"&&r.push(i);for(let i=0;i<r.length;i++)E3(e,r[i],n)}}var oo=Xn("originalInstance");function qf(e){let t=ri[e];if(!t)return;ri[Xn(e)]=t,ri[e]=function(){let i=Qv(arguments,e);switch(i.length){case 0:this[oo]=new t;break;case 1:this[oo]=new t(i[0]);break;case 2:this[oo]=new t(i[0],i[1]);break;case 3:this[oo]=new t(i[0],i[1],i[2]);break;case 4:this[oo]=new t(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},ka(ri[e],t);let n=new t(function(){}),r;for(r in n)e==="XMLHttpRequest"&&r==="responseBlob"||function(i){typeof n[i]=="function"?ri[e].prototype[i]=function(){return this[oo][i].apply(this[oo],arguments)}:Gv(ri[e].prototype,i,{set:function(s){typeof s=="function"?(this[oo][i]=Jv(s,e+"."+i),ka(this[oo][i],s)):this[oo][i]=s},get:function(){return this[oo][i]}})}(r);for(r in t)r!=="prototype"&&t.hasOwnProperty(r)&&(ri[e][r]=t[r])}function Aa(e,t,n){let r=e;for(;r&&!r.hasOwnProperty(t);)r=Kv(r);!r&&e[t]&&(r=e);let i=Xn(t),s=null;if(r&&(!(s=r[i])||!r.hasOwnProperty(i))){s=r[i]=r[t];let o=r&&$f(r,t);if(I3(o)){let a=n(s,i,t);r[t]=function(){return a(this,arguments)},ka(r[t],s)}}return s}function oO(e,t,n){let r=null;function i(s){let o=s.data;return o.args[o.cbIdx]=function(){s.invoke.apply(this,arguments)},r.apply(o.target,o.args),s}r=Aa(e,t,s=>function(o,a){let l=n(o,a);return l.cbIdx>=0&&typeof a[l.cbIdx]=="function"?Xv(l.name,a[l.cbIdx],l,i):s.apply(o,a)})}function ka(e,t){e[Xn("OriginalDelegate")]=t}var x3=!1,$v=!1;function aO(){if(x3)return $v;x3=!0;try{let e=Gf.navigator.userAgent;(e.indexOf("MSIE ")!==-1||e.indexOf("Trident/")!==-1||e.indexOf("Edge/")!==-1)&&($v=!0)}catch{}return $v}function S3(e){return typeof e=="function"}function C3(e){return typeof e=="number"}var lO={useG:!0},Fs={},M3={},N3=new RegExp("^"+Wf+"(\\w+)(true|false)$"),R3=Xn("propagationStopped");function P3(e,t){let n=(t?t(e):e)+Ia,r=(t?t(e):e)+Ta,i=Wf+n,s=Wf+r;Fs[e]={},Fs[e][Ia]=i,Fs[e][Ta]=s}function cO(e,t,n,r){let i=r&&r.add||Yv,s=r&&r.rm||Zv,o=r&&r.listeners||"eventListeners",a=r&&r.rmAll||"removeAllListeners",l=Xn(i),c="."+i+":",u="prependListener",d="."+u+":",h=function(x,I,R){if(x.isRemoved)return;let $=x.callback;typeof $=="object"&&$.handleEvent&&(x.callback=U=>$.handleEvent(U),x.originalDelegate=$);let F;try{x.invoke(x,I,[R])}catch(U){F=U}let V=x.options;if(V&&typeof V=="object"&&V.once){let U=x.originalDelegate?x.originalDelegate:x.callback;I[s].call(I,R.type,U,V)}return F};function f(x,I,R){if(I=I||e.event,!I)return;let $=x||I.target||e,F=$[Fs[I.type][R?Ta:Ia]];if(F){let V=[];if(F.length===1){let U=h(F[0],$,I);U&&V.push(U)}else{let U=F.slice();for(let q=0;q<U.length&&!(I&&I[R3]===!0);q++){let j=h(U[q],$,I);j&&V.push(j)}}if(V.length===1)throw V[0];for(let U=0;U<V.length;U++){let q=V[U];t.nativeScheduleMicroTask(()=>{throw q})}}}let p=function(x){return f(this,x,!1)},m=function(x){return f(this,x,!0)};function g(x,I){if(!x)return!1;let R=!0;I&&I.useG!==void 0&&(R=I.useG);let $=I&&I.vh,F=!0;I&&I.chkDup!==void 0&&(F=I.chkDup);let V=!1;I&&I.rt!==void 0&&(V=I.rt);let U=x;for(;U&&!U.hasOwnProperty(i);)U=Kv(U);if(!U&&x[i]&&(U=x),!U||U[l])return!1;let q=I&&I.eventNameToString,j={},S=U[l]=U[i],T=U[Xn(s)]=U[s],O=U[Xn(o)]=U[o],y=U[Xn(a)]=U[a],b;I&&I.prepend&&(b=U[Xn(I.prepend)]=U[I.prepend]);function w(Q,ee){return ee?typeof Q=="boolean"?{capture:Q,passive:!0}:Q?typeof Q=="object"&&Q.passive!==!1?Yt(ct({},Q),{passive:!0}):Q:{passive:!0}:Q}let _=function(Q){if(!j.isExisting)return S.call(j.target,j.eventName,j.capture?m:p,j.options)},E=function(Q){if(!Q.isRemoved){let ee=Fs[Q.eventName],ne;ee&&(ne=ee[Q.capture?Ta:Ia]);let he=ne&&Q.target[ne];if(he){for(let de=0;de<he.length;de++)if(he[de]===Q){he.splice(de,1),Q.isRemoved=!0,Q.removeAbortListener&&(Q.removeAbortListener(),Q.removeAbortListener=null),he.length===0&&(Q.allRemoved=!0,Q.target[ne]=null);break}}}if(Q.allRemoved)return T.call(Q.target,Q.eventName,Q.capture?m:p,Q.options)},C=function(Q){return S.call(j.target,j.eventName,Q.invoke,j.options)},L=function(Q){return b.call(j.target,j.eventName,Q.invoke,j.options)},W=function(Q){return T.call(Q.target,Q.eventName,Q.invoke,Q.options)},B=R?_:C,G=R?E:W,M=function(Q,ee){let ne=typeof ee;return ne==="function"&&Q.callback===ee||ne==="object"&&Q.originalDelegate===ee},K=I?.diff||M,D=Zone[Xn("UNPATCHED_EVENTS")],k=e[Xn("PASSIVE_EVENTS")];function z(Q){if(typeof Q=="object"&&Q!==null){let ee=ct({},Q);return Q.signal&&(ee.signal=Q.signal),ee}return Q}let J=function(Q,ee,ne,he,de=!1,Z=!1){return function(){let le=this||e,fe=arguments[0];I&&I.transferEventName&&(fe=I.transferEventName(fe));let ve=arguments[1];if(!ve)return Q.apply(this,arguments);if($m&&fe==="uncaughtException")return Q.apply(this,arguments);let me=!1;if(typeof ve!="function"){if(!ve.handleEvent)return Q.apply(this,arguments);me=!0}if($&&!$(Q,ve,le,arguments))return;let Se=!!k&&k.indexOf(fe)!==-1,xe=z(w(arguments[2],Se)),ke=xe?.signal;if(ke?.aborted)return;if(D){for(let Xe=0;Xe<D.length;Xe++)if(fe===D[Xe])return Se?Q.call(le,fe,ve,xe):Q.apply(this,arguments)}let Re=xe?typeof xe=="boolean"?!0:xe.capture:!1,je=xe&&typeof xe=="object"?xe.once:!1,st=Zone.current,Ve=Fs[fe];Ve||(P3(fe,q),Ve=Fs[fe]);let Qe=Ve[Re?Ta:Ia],ht=le[Qe],Ge=!1;if(ht){if(Ge=!0,F){for(let Xe=0;Xe<ht.length;Xe++)if(K(ht[Xe],ve))return}}else ht=le[Qe]=[];let $e,Ze=le.constructor.name,et=M3[Ze];et&&($e=et[fe]),$e||($e=Ze+ee+(q?q(fe):fe)),j.options=xe,je&&(j.options.once=!1),j.target=le,j.capture=Re,j.eventName=fe,j.isExisting=Ge;let Be=R?lO:void 0;Be&&(Be.taskData=j),ke&&(j.options.signal=void 0);let lt=st.scheduleEventTask($e,ve,Be,ne,he);if(ke){j.options.signal=ke;let Xe=()=>lt.zone.cancelTask(lt);Q.call(ke,"abort",Xe,{once:!0}),lt.removeAbortListener=()=>ke.removeEventListener("abort",Xe)}if(j.target=null,Be&&(Be.taskData=null),je&&(j.options.once=!0),typeof lt.options!="boolean"&&(lt.options=xe),lt.target=le,lt.capture=Re,lt.eventName=fe,me&&(lt.originalDelegate=ve),Z?ht.unshift(lt):ht.push(lt),de)return le}};return U[i]=J(S,c,B,G,V),b&&(U[u]=J(b,d,L,G,V,!0)),U[s]=function(){let Q=this||e,ee=arguments[0];I&&I.transferEventName&&(ee=I.transferEventName(ee));let ne=arguments[2],he=ne?typeof ne=="boolean"?!0:ne.capture:!1,de=arguments[1];if(!de)return T.apply(this,arguments);if($&&!$(T,de,Q,arguments))return;let Z=Fs[ee],le;Z&&(le=Z[he?Ta:Ia]);let fe=le&&Q[le];if(fe)for(let ve=0;ve<fe.length;ve++){let me=fe[ve];if(K(me,de)){if(fe.splice(ve,1),me.isRemoved=!0,fe.length===0&&(me.allRemoved=!0,Q[le]=null,!he&&typeof ee=="string")){let Se=Wf+"ON_PROPERTY"+ee;Q[Se]=null}return me.zone.cancelTask(me),V?Q:void 0}}return T.apply(this,arguments)},U[o]=function(){let Q=this||e,ee=arguments[0];I&&I.transferEventName&&(ee=I.transferEventName(ee));let ne=[],he=O3(Q,q?q(ee):ee);for(let de=0;de<he.length;de++){let Z=he[de],le=Z.originalDelegate?Z.originalDelegate:Z.callback;ne.push(le)}return ne},U[a]=function(){let Q=this||e,ee=arguments[0];if(ee){I&&I.transferEventName&&(ee=I.transferEventName(ee));let ne=Fs[ee];if(ne){let he=ne[Ia],de=ne[Ta],Z=Q[he],le=Q[de];if(Z){let fe=Z.slice();for(let ve=0;ve<fe.length;ve++){let me=fe[ve],Se=me.originalDelegate?me.originalDelegate:me.callback;this[s].call(this,ee,Se,me.options)}}if(le){let fe=le.slice();for(let ve=0;ve<fe.length;ve++){let me=fe[ve],Se=me.originalDelegate?me.originalDelegate:me.callback;this[s].call(this,ee,Se,me.options)}}}}else{let ne=Object.keys(Q);for(let he=0;he<ne.length;he++){let de=ne[he],Z=N3.exec(de),le=Z&&Z[1];le&&le!=="removeListener"&&this[a].call(this,le)}this[a].call(this,"removeListener")}if(V)return this},ka(U[i],S),ka(U[s],T),y&&ka(U[a],y),O&&ka(U[o],O),!0}let v=[];for(let x=0;x<n.length;x++)v[x]=g(n[x],r);return v}function O3(e,t){if(!t){let s=[];for(let o in e){let a=N3.exec(o),l=a&&a[1];if(l&&(!t||l===t)){let c=e[o];if(c)for(let u=0;u<c.length;u++)s.push(c[u])}}return s}let n=Fs[t];n||(P3(t),n=Fs[t]);let r=e[n[Ia]],i=e[n[Ta]];return r?i?r.concat(i):r.slice():i?i.slice():[]}function uO(e,t){let n=e.Event;n&&n.prototype&&t.patchMethod(n.prototype,"stopImmediatePropagation",r=>function(i,s){i[R3]=!0,r&&r.apply(i,s)})}function dO(e,t){t.patchMethod(e,"queueMicrotask",n=>function(r,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}var Hm=Xn("zoneTask");function Bu(e,t,n,r){let i=null,s=null;t+=r,n+=r;let o={};function a(c){let u=c.data;u.args[0]=function(){return c.invoke.apply(this,arguments)};let d=i.apply(e,u.args);return C3(d)?u.handleId=d:(u.handle=d,u.isRefreshable=S3(d.refresh)),c}function l(c){let{handle:u,handleId:d}=c.data;return s.call(e,u??d)}i=Aa(e,t,c=>function(u,d){if(S3(d[0])){let h={isRefreshable:!1,isPeriodic:r==="Interval",delay:r==="Timeout"||r==="Interval"?d[1]||0:void 0,args:d},f=d[0];d[0]=function(){try{return f.apply(this,arguments)}finally{let{handle:R,handleId:$,isPeriodic:F,isRefreshable:V}=h;!F&&!V&&($?delete o[$]:R&&(R[Hm]=null))}};let p=Xv(t,d[0],h,a,l);if(!p)return p;let{handleId:m,handle:g,isRefreshable:v,isPeriodic:x}=p.data;if(m)o[m]=p;else if(g&&(g[Hm]=p,v&&!x)){let I=g.refresh;g.refresh=function(){let{zone:R,state:$}=p;return $==="notScheduled"?(p._state="scheduled",R._updateTaskCount(p,1)):$==="running"&&(p._state="scheduling"),I.call(this)}}return g??m??p}else return c.apply(e,d)}),s=Aa(e,n,c=>function(u,d){let h=d[0],f;C3(h)?(f=o[h],delete o[h]):(f=h?.[Hm],f?h[Hm]=null:f=h),f?.type?f.cancelFn&&f.zone.cancelTask(f):c.apply(e,d)})}function fO(e,t){let{isBrowser:n,isMix:r}=t.getGlobalObjects();if(!n&&!r||!e.customElements||!("customElements"in e))return;let i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];t.patchCallbacks(t,e.customElements,"customElements","define",i)}function hO(e,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:n,zoneSymbolEventNames:r,TRUE_STR:i,FALSE_STR:s,ZONE_SYMBOL_PREFIX:o}=t.getGlobalObjects();for(let l=0;l<n.length;l++){let c=n[l],u=c+s,d=c+i,h=o+u,f=o+d;r[c]={},r[c][s]=h,r[c][i]=f}let a=e.EventTarget;if(!(!a||!a.prototype))return t.patchEventTarget(e,t,[a&&a.prototype]),!0}function pO(e,t){t.patchEventPrototype(e,t)}function L3(e,t,n){if(!n||n.length===0)return t;let r=n.filter(s=>s.target===e);if(r.length===0)return t;let i=r[0].ignoreProperties;return t.filter(s=>i.indexOf(s)===-1)}function T3(e,t,n,r){if(!e)return;let i=L3(e,t,n);D3(e,i,r)}function Wv(e){return Object.getOwnPropertyNames(e).filter(t=>t.startsWith("on")&&t.length>2).map(t=>t.substring(2))}function mO(e,t){if($m&&!k3||Zone[e.symbol("patchEvents")])return;let n=t.__Zone_ignore_on_properties,r=[];if(eb){let i=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let s=[];T3(i,Wv(i),n&&n.concat(s),Kv(i))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<r.length;i++){let s=t[r[i]];s?.prototype&&T3(s.prototype,Wv(s.prototype),n)}}function gO(e){e.__load_patch("legacy",t=>{let n=t[e.__symbol__("legacyPatch")];n&&n()}),e.__load_patch("timers",t=>{let n="set",r="clear";Bu(t,n,r,"Timeout"),Bu(t,n,r,"Interval"),Bu(t,n,r,"Immediate")}),e.__load_patch("requestAnimationFrame",t=>{Bu(t,"request","cancel","AnimationFrame"),Bu(t,"mozRequest","mozCancel","AnimationFrame"),Bu(t,"webkitRequest","webkitCancel","AnimationFrame")}),e.__load_patch("blocking",(t,n)=>{let r=["alert","prompt","confirm"];for(let i=0;i<r.length;i++){let s=r[i];Aa(t,s,(o,a,l)=>function(c,u){return n.current.run(o,t,u,l)})}}),e.__load_patch("EventTarget",(t,n,r)=>{pO(t,r),hO(t,r);let i=t.XMLHttpRequestEventTarget;i&&i.prototype&&r.patchEventTarget(t,r,[i.prototype])}),e.__load_patch("MutationObserver",(t,n,r)=>{qf("MutationObserver"),qf("WebKitMutationObserver")}),e.__load_patch("IntersectionObserver",(t,n,r)=>{qf("IntersectionObserver")}),e.__load_patch("FileReader",(t,n,r)=>{qf("FileReader")}),e.__load_patch("on_property",(t,n,r)=>{mO(r,t)}),e.__load_patch("customElements",(t,n,r)=>{fO(t,r)}),e.__load_patch("XHR",(t,n)=>{c(t);let r=Xn("xhrTask"),i=Xn("xhrSync"),s=Xn("xhrListener"),o=Xn("xhrScheduled"),a=Xn("xhrURL"),l=Xn("xhrErrorBeforeScheduled");function c(u){let d=u.XMLHttpRequest;if(!d)return;let h=d.prototype;function f(S){return S[r]}let p=h[zv],m=h[qv];if(!p){let S=u.XMLHttpRequestEventTarget;if(S){let T=S.prototype;p=T[zv],m=T[qv]}}let g="readystatechange",v="scheduled";function x(S){let T=S.data,O=T.target;O[o]=!1,O[l]=!1;let y=O[s];p||(p=O[zv],m=O[qv]),y&&m.call(O,g,y);let b=O[s]=()=>{if(O.readyState===O.DONE)if(!T.aborted&&O[o]&&S.state===v){let _=O[n.__symbol__("loadfalse")];if(O.status!==0&&_&&_.length>0){let E=S.invoke;S.invoke=function(){let C=O[n.__symbol__("loadfalse")];for(let L=0;L<C.length;L++)C[L]===S&&C.splice(L,1);!T.aborted&&S.state===v&&E.call(S)},_.push(S)}else S.invoke()}else!T.aborted&&O[o]===!1&&(O[l]=!0)};return p.call(O,g,b),O[r]||(O[r]=S),q.apply(O,T.args),O[o]=!0,S}function I(){}function R(S){let T=S.data;return T.aborted=!0,j.apply(T.target,T.args)}let $=Aa(h,"open",()=>function(S,T){return S[i]=T[2]==!1,S[a]=T[1],$.apply(S,T)}),F="XMLHttpRequest.send",V=Xn("fetchTaskAborting"),U=Xn("fetchTaskScheduling"),q=Aa(h,"send",()=>function(S,T){if(n.current[U]===!0||S[i])return q.apply(S,T);{let O={target:S,url:S[a],isPeriodic:!1,args:T,aborted:!1},y=Xv(F,I,O,x,R);S&&S[l]===!0&&!O.aborted&&y.state===v&&y.invoke()}}),j=Aa(h,"abort",()=>function(S,T){let O=f(S);if(O&&typeof O.type=="string"){if(O.cancelFn==null||O.data&&O.data.aborted)return;O.zone.cancelTask(O)}else if(n.current[V]===!0)return j.apply(S,T)})}}),e.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&iO(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),e.__load_patch("PromiseRejectionEvent",(t,n)=>{function r(i){return function(s){O3(t,i).forEach(a=>{let l=t.PromiseRejectionEvent;if(l){let c=new l(i,{promise:s.promise,reason:s.rejection});a.invoke(c)}})}}t.PromiseRejectionEvent&&(n[Xn("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),n[Xn("rejectionHandledHandler")]=r("rejectionhandled"))}),e.__load_patch("queueMicrotask",(t,n,r)=>{dO(t,r)})}function yO(e){e.__load_patch("ZoneAwarePromise",(t,n,r)=>{let i=Object.getOwnPropertyDescriptor,s=Object.defineProperty;function o(z){if(z&&z.toString===Object.prototype.toString){let J=z.constructor&&z.constructor.name;return(J||"")+": "+JSON.stringify(z)}return z?z.toString():Object.prototype.toString.call(z)}let a=r.symbol,l=[],c=t[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,u=a("Promise"),d=a("then"),h="__creationTrace__";r.onUnhandledError=z=>{if(r.showUncaughtError()){let J=z&&z.rejection;J?console.error("Unhandled Promise rejection:",J instanceof Error?J.message:J,"; Zone:",z.zone.name,"; Task:",z.task&&z.task.source,"; Value:",J,J instanceof Error?J.stack:void 0):console.error(z)}},r.microtaskDrainDone=()=>{for(;l.length;){let z=l.shift();try{z.zone.runGuarded(()=>{throw z.throwOriginal?z.rejection:z})}catch(J){p(J)}}};let f=a("unhandledPromiseRejectionHandler");function p(z){r.onUnhandledError(z);try{let J=n[f];typeof J=="function"&&J.call(this,z)}catch{}}function m(z){return z&&typeof z.then=="function"}function g(z){return z}function v(z){return G.reject(z)}let x=a("state"),I=a("value"),R=a("finally"),$=a("parentPromiseValue"),F=a("parentPromiseState"),V="Promise.then",U=null,q=!0,j=!1,S=0;function T(z,J){return Q=>{try{w(z,J,Q)}catch(ee){w(z,!1,ee)}}}let O=function(){let z=!1;return function(Q){return function(){z||(z=!0,Q.apply(null,arguments))}}},y="Promise resolved with itself",b=a("currentTaskTrace");function w(z,J,Q){let ee=O();if(z===Q)throw new TypeError(y);if(z[x]===U){let ne=null;try{(typeof Q=="object"||typeof Q=="function")&&(ne=Q&&Q.then)}catch(he){return ee(()=>{w(z,!1,he)})(),z}if(J!==j&&Q instanceof G&&Q.hasOwnProperty(x)&&Q.hasOwnProperty(I)&&Q[x]!==U)E(Q),w(z,Q[x],Q[I]);else if(J!==j&&typeof ne=="function")try{ne.call(Q,ee(T(z,J)),ee(T(z,!1)))}catch(he){ee(()=>{w(z,!1,he)})()}else{z[x]=J;let he=z[I];if(z[I]=Q,z[R]===R&&J===q&&(z[x]=z[F],z[I]=z[$]),J===j&&Q instanceof Error){let de=n.currentTask&&n.currentTask.data&&n.currentTask.data[h];de&&s(Q,b,{configurable:!0,enumerable:!1,writable:!0,value:de})}for(let de=0;de<he.length;)C(z,he[de++],he[de++],he[de++],he[de++]);if(he.length==0&&J==j){z[x]=S;let de=Q;try{throw new Error("Uncaught (in promise): "+o(Q)+(Q&&Q.stack?`
`+Q.stack:""))}catch(Z){de=Z}c&&(de.throwOriginal=!0),de.rejection=Q,de.promise=z,de.zone=n.current,de.task=n.currentTask,l.push(de),r.scheduleMicroTask()}}}return z}let _=a("rejectionHandledHandler");function E(z){if(z[x]===S){try{let J=n[_];J&&typeof J=="function"&&J.call(this,{rejection:z[I],promise:z})}catch{}z[x]=j;for(let J=0;J<l.length;J++)z===l[J].promise&&l.splice(J,1)}}function C(z,J,Q,ee,ne){E(z);let he=z[x],de=he?typeof ee=="function"?ee:g:typeof ne=="function"?ne:v;J.scheduleMicroTask(V,()=>{try{let Z=z[I],le=!!Q&&R===Q[R];le&&(Q[$]=Z,Q[F]=he);let fe=J.run(de,void 0,le&&de!==v&&de!==g?[]:[Z]);w(Q,!0,fe)}catch(Z){w(Q,!1,Z)}},Q)}let L="function ZoneAwarePromise() { [native code] }",W=function(){},B=t.AggregateError;class G{static toString(){return L}static resolve(J){return J instanceof G?J:w(new this(null),q,J)}static reject(J){return w(new this(null),j,J)}static withResolvers(){let J={};return J.promise=new G((Q,ee)=>{J.resolve=Q,J.reject=ee}),J}static any(J){if(!J||typeof J[Symbol.iterator]!="function")return Promise.reject(new B([],"All promises were rejected"));let Q=[],ee=0;try{for(let de of J)ee++,Q.push(G.resolve(de))}catch{return Promise.reject(new B([],"All promises were rejected"))}if(ee===0)return Promise.reject(new B([],"All promises were rejected"));let ne=!1,he=[];return new G((de,Z)=>{for(let le=0;le<Q.length;le++)Q[le].then(fe=>{ne||(ne=!0,de(fe))},fe=>{he.push(fe),ee--,ee===0&&(ne=!0,Z(new B(he,"All promises were rejected")))})})}static race(J){let Q,ee,ne=new this((Z,le)=>{Q=Z,ee=le});function he(Z){Q(Z)}function de(Z){ee(Z)}for(let Z of J)m(Z)||(Z=this.resolve(Z)),Z.then(he,de);return ne}static all(J){return G.allWithCallback(J)}static allSettled(J){return(this&&this.prototype instanceof G?this:G).allWithCallback(J,{thenCallback:ee=>({status:"fulfilled",value:ee}),errorCallback:ee=>({status:"rejected",reason:ee})})}static allWithCallback(J,Q){let ee,ne,he=new this((fe,ve)=>{ee=fe,ne=ve}),de=2,Z=0,le=[];for(let fe of J){m(fe)||(fe=this.resolve(fe));let ve=Z;try{fe.then(me=>{le[ve]=Q?Q.thenCallback(me):me,de--,de===0&&ee(le)},me=>{Q?(le[ve]=Q.errorCallback(me),de--,de===0&&ee(le)):ne(me)})}catch(me){ne(me)}de++,Z++}return de-=2,de===0&&ee(le),he}constructor(J){let Q=this;if(!(Q instanceof G))throw new Error("Must be an instanceof Promise.");Q[x]=U,Q[I]=[];try{let ee=O();J&&J(ee(T(Q,q)),ee(T(Q,j)))}catch(ee){w(Q,!1,ee)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return G}then(J,Q){let ee=this.constructor?.[Symbol.species];(!ee||typeof ee!="function")&&(ee=this.constructor||G);let ne=new ee(W),he=n.current;return this[x]==U?this[I].push(he,ne,J,Q):C(this,he,ne,J,Q),ne}catch(J){return this.then(null,J)}finally(J){let Q=this.constructor?.[Symbol.species];(!Q||typeof Q!="function")&&(Q=G);let ee=new Q(W);ee[R]=R;let ne=n.current;return this[x]==U?this[I].push(ne,ee,J,J):C(this,ne,ee,J,J),ee}}G.resolve=G.resolve,G.reject=G.reject,G.race=G.race,G.all=G.all;let M=t[u]=t.Promise;t.Promise=G;let K=a("thenPatched");function D(z){let J=z.prototype,Q=i(J,"then");if(Q&&(Q.writable===!1||!Q.configurable))return;let ee=J.then;J[d]=ee,z.prototype.then=function(ne,he){return new G((Z,le)=>{ee.call(this,Z,le)}).then(ne,he)},z[K]=!0}r.patchThen=D;function k(z){return function(J,Q){let ee=z.apply(J,Q);if(ee instanceof G)return ee;let ne=ee.constructor;return ne[K]||D(ne),ee}}return M&&(D(M),Aa(t,"fetch",z=>k(z))),Promise[n.__symbol__("uncaughtPromiseErrors")]=l,G})}function vO(e){e.__load_patch("toString",t=>{let n=Function.prototype.toString,r=Xn("OriginalDelegate"),i=Xn("Promise"),s=Xn("Error"),o=function(){if(typeof this=="function"){let u=this[r];if(u)return typeof u=="function"?n.call(u):Object.prototype.toString.call(u);if(this===Promise){let d=t[i];if(d)return n.call(d)}if(this===Error){let d=t[s];if(d)return n.call(d)}}return n.call(this)};o[r]=n,Function.prototype.toString=o;let a=Object.prototype.toString,l="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?l:a.call(this)}})}function bO(e,t,n,r,i){let s=Zone.__symbol__(r);if(t[s])return;let o=t[s]=t[r];t[r]=function(a,l,c){return l&&l.prototype&&i.forEach(function(u){let d=`${n}.${r}::`+u,h=l.prototype;try{if(h.hasOwnProperty(u)){let f=e.ObjectGetOwnPropertyDescriptor(h,u);f&&f.value?(f.value=e.wrapWithCurrentZone(f.value,d),e._redefineProperty(l.prototype,u,f)):h[u]&&(h[u]=e.wrapWithCurrentZone(h[u],d))}else h[u]&&(h[u]=e.wrapWithCurrentZone(h[u],d))}catch{}}),o.call(t,a,l,c)},e.attachOriginToPatched(t[r],o)}function _O(e){e.__load_patch("util",(t,n,r)=>{let i=Wv(t);r.patchOnProperties=D3,r.patchMethod=Aa,r.bindArguments=Qv,r.patchMacroTask=oO;let s=n.__symbol__("BLACK_LISTED_EVENTS"),o=n.__symbol__("UNPATCHED_EVENTS");t[o]&&(t[s]=t[o]),t[s]&&(n[s]=n[o]=t[s]),r.patchEventPrototype=uO,r.patchEventTarget=cO,r.isIEOrEdge=aO,r.ObjectDefineProperty=Gv,r.ObjectGetOwnPropertyDescriptor=$f,r.ObjectCreate=tO,r.ArraySlice=nO,r.patchClass=qf,r.wrapWithCurrentZone=Jv,r.filterProperties=L3,r.attachOriginToPatched=ka,r._redefineProperty=Object.defineProperty,r.patchCallbacks=bO,r.getGlobalObjects=()=>({globalSources:M3,zoneSymbolEventNames:Fs,eventNames:i,isBrowser:eb,isMix:k3,isNode:$m,TRUE_STR:Ta,FALSE_STR:Ia,ZONE_SYMBOL_PREFIX:Wf,ADD_EVENT_LISTENER_STR:Yv,REMOVE_EVENT_LISTENER_STR:Zv})})}function wO(e){yO(e),vO(e),_O(e)}var F3=eO();wO(F3);gO(F3);function ib(e,t){return Object.is(e,t)}var ii=null,Wm=!1,sb=1,Bs=Symbol("SIGNAL");function _n(e){let t=ii;return ii=e,t}function ob(){return ii}var Uu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yf(e){if(Wm)throw new Error("");if(ii===null)return;ii.consumerOnSignalRead(e);let t=ii.nextProducerIndex++;if(Jm(ii),t<ii.producerNode.length&&ii.producerNode[t]!==e&&Kf(ii)){let n=ii.producerNode[t];Zm(n,ii.producerIndexOfThis[t])}ii.producerNode[t]!==e&&(ii.producerNode[t]=e,ii.producerIndexOfThis[t]=Kf(ii)?U3(e,ii,t):0),ii.producerLastReadVersion[t]=e.version}function B3(){sb++}function ab(e){if(!(Kf(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===sb)){if(!e.producerMustRecompute(e)&&!Ym(e)){rb(e);return}e.producerRecomputeValue(e),rb(e)}}function lb(e){if(e.liveConsumerNode===void 0)return;let t=Wm;Wm=!0;try{for(let n of e.liveConsumerNode)n.dirty||EO(n)}finally{Wm=t}}function cb(){return ii?.consumerAllowSignalWrites!==!1}function EO(e){e.dirty=!0,lb(e),e.consumerMarkedDirty?.(e)}function rb(e){e.dirty=!1,e.lastCleanEpoch=sb}function Zf(e){return e&&(e.nextProducerIndex=0),_n(e)}function Km(e,t){if(_n(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Kf(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Zm(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ym(e){Jm(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ab(n),r!==n.version))return!0}return!1}function Jf(e){if(Jm(e),Kf(e))for(let t=0;t<e.producerNode.length;t++)Zm(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function U3(e,t,n){if(V3(e),e.liveConsumerNode.length===0&&j3(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=U3(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Zm(e,t){if(V3(e),e.liveConsumerNode.length===1&&j3(e))for(let r=0;r<e.producerNode.length;r++)Zm(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Jm(i),i.producerIndexOfThis[r]=t}}function Kf(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Jm(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function V3(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function j3(e){return e.producerNode!==void 0}function ub(e,t){let n=Object.create(xO);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(ab(n),Yf(n),n.value===Gm)throw n.error;return n.value};return r[Bs]=n,r}var tb=Symbol("UNSET"),nb=Symbol("COMPUTING"),Gm=Symbol("ERRORED"),xO=Yt(ct({},Uu),{value:tb,dirty:!0,error:null,equal:ib,kind:"computed",producerMustRecompute(e){return e.value===tb||e.value===nb},producerRecomputeValue(e){if(e.value===nb)throw new Error("Detected cycle in computations.");let t=e.value;e.value=nb;let n=Zf(e),r,i=!1;try{r=e.computation(),_n(null),i=t!==tb&&t!==Gm&&r!==Gm&&e.equal(t,r)}catch(s){r=Gm,e.error=s}finally{Km(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function SO(){throw new Error}var H3=SO;function z3(e){H3(e)}function db(e){H3=e}var CO=null;function fb(e,t){let n=Object.create(Xm);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(Yf(n),n.value);return r[Bs]=n,r}function Xf(e,t){cb()||z3(e),e.equal(e.value,t)||(e.value=t,TO(e))}function hb(e,t){cb()||z3(e),Xf(e,t(e.value))}var Xm=Yt(ct({},Uu),{equal:ib,value:void 0,kind:"signal"});function TO(e){e.version++,B3(),lb(e),CO?.()}function pb(e){let t=_n(null);try{return e()}finally{_n(t)}}var mb;function Qf(){return mb}function Da(e){let t=mb;return mb=e,t}var Qm=Symbol("NotFound");function Nn(e){return typeof e=="function"}function eg(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tg=eg(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function eh(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var qi=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Nn(r))try{r()}catch(s){t=s instanceof tg?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{q3(s)}catch(o){t=t??[],o instanceof tg?t=[...t,...o.errors]:t.push(o)}}if(t)throw new tg(t)}}add(t){var n;if(t&&t!==this)if(this.closed)q3(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&eh(n,t)}remove(t){let{_finalizers:n}=this;n&&eh(n,t),t instanceof e&&t._removeParent(this)}};qi.EMPTY=(()=>{let e=new qi;return e.closed=!0,e})();var gb=qi.EMPTY;function ng(e){return e instanceof qi||e&&"closed"in e&&Nn(e.remove)&&Nn(e.add)&&Nn(e.unsubscribe)}function q3(e){Nn(e)?e():e.unsubscribe()}var ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vu={setTimeout(e,t,...n){let{delegate:r}=Vu;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Vu;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function rg(e){Vu.setTimeout(()=>{let{onUnhandledError:t}=ao;if(t)t(e);else throw e})}function yb(){}var $3=vb("C",void 0,void 0);function W3(e){return vb("E",void 0,e)}function G3(e){return vb("N",e,void 0)}function vb(e,t,n){return{kind:e,value:t,error:n}}var Ac=null;function ju(e){if(ao.useDeprecatedSynchronousErrorHandling){let t=!Ac;if(t&&(Ac={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Ac;if(Ac=null,n)throw r}}else e()}function K3(e){ao.useDeprecatedSynchronousErrorHandling&&Ac&&(Ac.errorThrown=!0,Ac.error=e)}var kc=class extends qi{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ng(t)&&t.add(this)):this.destination=NO}static create(t,n,r){return new Hu(t,n,r)}next(t){this.isStopped?_b(G3(t),this):this._next(t)}error(t){this.isStopped?_b(W3(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_b($3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},DO=Function.prototype.bind;function bb(e,t){return DO.call(e,t)}var wb=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ig(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ig(r)}else ig(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ig(n)}}},Hu=class extends kc{constructor(t,n,r){super();let i;if(Nn(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ao.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&bb(t.next,s),error:t.error&&bb(t.error,s),complete:t.complete&&bb(t.complete,s)}):i=t}this.destination=new wb(i)}};function ig(e){ao.useDeprecatedSynchronousErrorHandling?K3(e):rg(e)}function MO(e){throw e}function _b(e,t){let{onStoppedNotification:n}=ao;n&&Vu.setTimeout(()=>n(e,t))}var NO={closed:!0,next:yb,error:MO,complete:yb};var zu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Y3(e){return e}function Z3(e){return e.length===0?Y3:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Vr=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=PO(n)?n:new Hu(n,r,i);return ju(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=J3(r),new r((i,s)=>{let o=new Hu({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[zu](){return this}pipe(...n){return Z3(n)(this)}toPromise(n){return n=J3(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function J3(e){var t;return(t=e??ao.Promise)!==null&&t!==void 0?t:Promise}function RO(e){return e&&Nn(e.next)&&Nn(e.error)&&Nn(e.complete)}function PO(e){return e&&e instanceof kc||RO(e)&&ng(e)}function OO(e){return Nn(e?.lift)}function ts(e){return t=>{if(OO(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ns(e,t,n,r,i){return new Eb(e,t,n,r,i)}var Eb=class extends kc{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var X3=eg(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ma=(()=>{class e extends Vr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new sg(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new X3}next(n){ju(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ju(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ju(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?gb:(this.currentObservers=null,s.push(n),new qi(()=>{this.currentObservers=null,eh(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Vr;return n.source=this,n}}return e.create=(t,n)=>new sg(t,n),e})(),sg=class extends Ma{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:gb}};var th=class extends Ma{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};function Q3(e){return e&&Nn(e.schedule)}function eT(e){return e[e.length-1]}function tT(e){return Nn(eT(e))?e.pop():void 0}function nT(e){return Q3(eT(e))?e.pop():void 0}function iT(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function rT(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dc(e){return this instanceof Dc?(this.v=e,this):new Dc(e)}function sT(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(g,v){s.push([f,m,g,v])>1||l(f,m)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(r[f](p))}catch(m){h(s[0][3],m)}}function c(f){f.value instanceof Dc?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function oT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof rT=="function"?rT(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var og=e=>e&&typeof e.length=="number"&&typeof e!="function";function ag(e){return Nn(e?.then)}function lg(e){return Nn(e[zu])}function cg(e){return Symbol.asyncIterator&&Nn(e?.[Symbol.asyncIterator])}function ug(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function LO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dg=LO();function fg(e){return Nn(e?.[dg])}function hg(e){return sT(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Dc(n.read());if(i)return yield Dc(void 0);yield yield Dc(r)}}finally{n.releaseLock()}})}function pg(e){return Nn(e?.getReader)}function rs(e){if(e instanceof Vr)return e;if(e!=null){if(lg(e))return FO(e);if(og(e))return BO(e);if(ag(e))return UO(e);if(cg(e))return aT(e);if(fg(e))return VO(e);if(pg(e))return jO(e)}throw ug(e)}function FO(e){return new Vr(t=>{let n=e[zu]();if(Nn(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BO(e){return new Vr(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function UO(e){return new Vr(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,rg)})}function VO(e){return new Vr(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function aT(e){return new Vr(t=>{HO(e,t).catch(n=>t.error(n))})}function jO(e){return aT(hg(e))}function HO(e,t){var n,r,i,s;return iT(this,void 0,void 0,function*(){try{for(n=oT(e);r=yield n.next(),!r.done;){let o=r.value;if(t.next(o),t.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})}function Us(e,t,n,r=0,i=!1){let s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function mg(e,t=0){return ts((n,r)=>{n.subscribe(ns(r,i=>Us(r,e,()=>r.next(i),t),()=>Us(r,e,()=>r.complete(),t),i=>Us(r,e,()=>r.error(i),t)))})}function gg(e,t=0){return ts((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function lT(e,t){return rs(e).pipe(gg(t),mg(t))}function cT(e,t){return rs(e).pipe(gg(t),mg(t))}function uT(e,t){return new Vr(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function dT(e,t){return new Vr(n=>{let r;return Us(n,t,()=>{r=e[dg](),Us(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Nn(r?.return)&&r.return()})}function yg(e,t){if(!e)throw new Error("Iterable cannot be null");return new Vr(n=>{Us(n,t,()=>{let r=e[Symbol.asyncIterator]();Us(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function fT(e,t){return yg(hg(e),t)}function hT(e,t){if(e!=null){if(lg(e))return lT(e,t);if(og(e))return uT(e,t);if(ag(e))return cT(e,t);if(cg(e))return yg(e,t);if(fg(e))return dT(e,t);if(pg(e))return fT(e,t)}throw ug(e)}function Mc(e,t){return t?hT(e,t):rs(e)}function vg(...e){let t=nT(e);return Mc(e,t)}function is(e,t){return ts((n,r)=>{let i=0;n.subscribe(ns(r,s=>{r.next(e.call(t,s,i++))}))})}var{isArray:zO}=Array;function qO(e,t){return zO(t)?e(...t):e(t)}function pT(e){return is(t=>qO(e,t))}var{isArray:$O}=Array,{getPrototypeOf:WO,prototype:GO,keys:KO}=Object;function mT(e){if(e.length===1){let t=e[0];if($O(t))return{args:t,keys:null};if(YO(t)){let n=KO(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function YO(e){return e&&typeof e=="object"&&WO(e)===GO}function gT(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function yT(e,t,n,r,i,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&t.next(m),c++;let g=!1;rs(n(m,u++)).subscribe(ns(t,v=>{i?.(v),s?f(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<r;){let v=l.shift();o?Us(t,o,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return e.subscribe(ns(t,f,()=>{d=!0,h()})),()=>{a?.()}}function bg(e,t,n=1/0){return Nn(t)?bg((r,i)=>is((s,o)=>t(r,s,i,o))(rs(e(r,i))),n):(typeof t=="number"&&(n=t),ts((r,i)=>yT(r,i,e,n)))}function xb(...e){let t=tT(e),{args:n,keys:r}=mT(e),i=new Vr(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;rs(n[u]).subscribe(ns(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?gT(r,a):a),s.complete())}))}});return t?i.pipe(pT(t)):i}function Sb(e,t){return ts((n,r)=>{let i=0;n.subscribe(ns(r,s=>e.call(t,s,i++)&&r.next(s)))})}function Cb(e,t){return Nn(t)?bg(e,t,1):bg(e,1)}function Tb(e){return ts((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Ib(e,t){return ts((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ns(r,l=>{i?.unsubscribe();let c=0,u=s++;rs(e(l,u)).subscribe(i=ns(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}var i4="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",dt=class extends Error{code;constructor(t,n){super(s4(t,n)),this.code=t}};function ZO(e){return`NG0${Math.abs(e)}`}function s4(e,t){return`${ZO(e)}${t?": "+t:""}`}var o4=Symbol("InputSignalNode#UNSET"),JO=Yt(ct({},Xm),{transformFn:void 0,applyValueToInputSignal(e,t){Xf(e,t)}});function a4(e,t){let n=Object.create(JO);n.value=e,n.transformFn=t?.transform;function r(){if(Yf(n),n.value===o4){let i=null;throw new dt(-950,i)}return n.value}return r[Bs]=n,r}function Zg(e){return{toString:e}.toString()}var Fo=globalThis;function vr(e){for(let t in e)if(e[t]===vr)return t;throw Error("Could not find renamed property on target object.")}function XO(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Vs(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Vs).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function zb(e,t){return e?t?`${e} ${t}`:e:t||""}var QO=vr({__forward_ref__:vr});function Ho(e){return e.__forward_ref__=Ho,e.toString=function(){return Vs(this())},e}function $i(e){return l4(e)?e():e}function l4(e){return typeof e=="function"&&e.hasOwnProperty(QO)&&e.__forward_ref__===Ho}function wn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Va(e){return{providers:e.providers||[],imports:e.imports||[]}}function z_(e){return vT(e,c4)||vT(e,u4)}function vT(e,t){return e.hasOwnProperty(t)?e[t]:null}function eL(e){let t=e&&(e[c4]||e[u4]);return t||null}function bT(e){return e&&(e.hasOwnProperty(_T)||e.hasOwnProperty(tL))?e[_T]:null}var c4=vr({\u0275prov:vr}),_T=vr({\u0275inj:vr}),u4=vr({ngInjectableDef:vr}),tL=vr({ngInjectorDef:vr}),Wt=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=wn({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function d4(e){return e&&!!e.\u0275providers}var nL=vr({\u0275cmp:vr}),rL=vr({\u0275dir:vr}),iL=vr({\u0275pipe:vr});var kg=vr({\u0275fac:vr}),sh=vr({__NG_ELEMENT_ID__:vr}),wT=vr({__NG_ENV_ID__:vr});function Na(e){return typeof e=="string"?e:e==null?"":String(e)}function sL(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Na(e)}function f4(e,t){throw new dt(-200,e)}function q_(e,t){throw new dt(-201,!1)}var Cn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Cn||{}),qb;function h4(){return qb}function ss(e){let t=qb;return qb=e,t}function p4(e,t,n){let r=z_(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Cn.Optional)return null;if(t!==void 0)return t;q_(e,"Injector")}var oL={},Rc=oL,aL="__NG_DI_FLAG__",Dg=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Qm:Rc,r)}},Mg="ngTempTokenPath",lL="ngTokenPath",cL=/\n/gm,uL="\u0275",ET="__source";function dL(e,t=Cn.Default){if(Qf()===void 0)throw new dt(-203,!1);if(Qf()===null)return p4(e,void 0,t);{let n=Qf(),r;return n instanceof Dg?r=n.injector:r=n,r.get(e,t&Cn.Optional?null:void 0,t)}}function pn(e,t=Cn.Default){return(h4()||dL)($i(e),t)}function Pt(e,t=Cn.Default){return pn(e,Jg(t))}function Jg(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function $b(e){let t=[];for(let n=0;n<e.length;n++){let r=$i(e[n]);if(Array.isArray(r)){if(r.length===0)throw new dt(900,!1);let i,s=Cn.Default;for(let o=0;o<r.length;o++){let a=r[o],l=fL(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}t.push(pn(i,s))}else t.push(pn(r))}return t}function fL(e){return e[aL]}function hL(e,t,n,r){let i=e[Mg];throw t[ET]&&i.unshift(t[ET]),e.message=pL(`
`+e.message,i,n,r),e[lL]=i,e[Mg]=null,e}function pL(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==uL?e.slice(2):e;let i=Vs(t);if(Array.isArray(t))i=t.map(Vs).join(" -> ");else if(typeof t=="object"){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Vs(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(cL,`
  `)}`}function Pc(e,t){let n=e.hasOwnProperty(kg);return n?e[kg]:null}function $_(e,t){e.forEach(n=>Array.isArray(n)?$_(n,t):t(n))}function mL(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function m4(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gL(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let s=i-2;e[i]=e[s],i--}e[t]=n,e[t+1]=r}}function W_(e,t,n){let r=ph(e,t);return r>=0?e[r|1]=n:(r=~r,gL(e,r,t,n)),r}function Ab(e,t){let n=ph(e,t);if(n>=0)return e[n|1]}function ph(e,t){return yL(e,t,1)}function yL(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}var Oc={},os=[],oh=new Wt(""),g4=new Wt("",-1),y4=new Wt(""),Ng=class{get(t,n=Rc){if(n===Rc){let r=new Error(`NullInjectorError: No provider for ${Vs(t)}!`);throw r.name="NullInjectorError",r}return n}};function G_(e){return e[nL]||null}function vL(e){return e[rL]||null}function bL(e){return e[iL]||null}function Xg(e){return{\u0275providers:e}}function _L(...e){return{\u0275providers:v4(!0,e),\u0275fromNgModule:!0}}function v4(e,...t){let n=[],r=new Set,i,s=o=>{n.push(o)};return $_(t,o=>{let a=o;Wb(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&b4(i,s),n}function b4(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];K_(i,s=>{t(s,r)})}}function Wb(e,t,n,r){if(e=$i(e),!e)return!1;let i=null,s=bT(e),o=!s&&G_(e);if(!s&&!o){let l=e.ngModule;if(s=bT(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=e}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Wb(c,t,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{$_(s.imports,u=>{Wb(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&b4(c,t)}if(!a){let c=Pc(i)||(()=>new i);t({provide:i,useFactory:c,deps:os},i),t({provide:y4,useValue:i,multi:!0},i),t({provide:oh,useValue:()=>pn(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=e;K_(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function K_(e,t){for(let n of e)d4(n)&&(n=n.\u0275providers),Array.isArray(n)?K_(n,t):t(n)}var wL=vr({provide:String,useValue:vr});function _4(e){return e!==null&&typeof e=="object"&&wL in e}function EL(e){return!!(e&&e.useExisting)}function xL(e){return!!(e&&e.useFactory)}function Ku(e){return typeof e=="function"}function SL(e){return!!e.useClass}var Qg=new Wt(""),Sg={},xT={},kb;function Y_(){return kb===void 0&&(kb=new Ng),kb}var Ra=class{},ah=class extends Ra{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Kb(t,o=>this.processProvider(o)),this.records.set(g4,qu(void 0,this)),i.has("environment")&&this.records.set(Ra,qu(void 0,this));let s=this.records.get(Qg);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(y4,os,Cn.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Qm:Rc,r)}destroy(){rh(this),this._destroyed=!0;let t=_n(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_n(t)}}onDestroy(t){return rh(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){rh(this);let n=Da(this),r=ss(void 0),i;try{return t()}finally{Da(n),ss(r)}}get(t,n=Rc,r=Cn.Default){if(rh(this),t.hasOwnProperty(wT))return t[wT](this);r=Jg(r);let i,s=Da(this),o=ss(void 0);try{if(!(r&Cn.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=kL(t)&&z_(t);c&&this.injectableDefInScope(c)?l=qu(Gb(t),Sg):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&Cn.Self?Y_():this.parent;return n=r&Cn.Optional&&n===Rc?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Mg]=a[Mg]||[]).unshift(Vs(t)),s)throw a;return hL(a,t,"R3InjectorError",this.source)}else throw a}finally{ss(o),Da(s)}}resolveInjectorInitializers(){let t=_n(null),n=Da(this),r=ss(void 0),i;try{let s=this.get(oh,os,Cn.Self);for(let o of s)o()}finally{Da(n),ss(r),_n(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Vs(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=$i(t);let n=Ku(t)?t:$i(t&&t.provide),r=TL(t);if(!Ku(t)&&t.multi===!0){let i=this.records.get(n);i||(i=qu(void 0,Sg,!0),i.factory=()=>$b(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=_n(null);try{return n.value===xT?f4(Vs(t)):n.value===Sg&&(n.value=xT,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&AL(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_n(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=$i(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Gb(e){let t=z_(e),n=t!==null?t.factory:Pc(e);if(n!==null)return n;if(e instanceof Wt)throw new dt(204,!1);if(e instanceof Function)return CL(e);throw new dt(204,!1)}function CL(e){if(e.length>0)throw new dt(204,!1);let n=eL(e);return n!==null?()=>n.factory(e):()=>new e}function TL(e){if(_4(e))return qu(void 0,e.useValue);{let t=w4(e);return qu(t,Sg)}}function w4(e,t,n){let r;if(Ku(e)){let i=$i(e);return Pc(i)||Gb(i)}else if(_4(e))r=()=>$i(e.useValue);else if(xL(e))r=()=>e.useFactory(...$b(e.deps||[]));else if(EL(e))r=(i,s)=>pn($i(e.useExisting),s!==void 0&&s&Cn.Optional?Cn.Optional:void 0);else{let i=$i(e&&(e.useClass||e.provide));if(IL(e))r=()=>new i(...$b(e.deps));else return Pc(i)||Gb(i)}return r}function rh(e){if(e.destroyed)throw new dt(205,!1)}function qu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function IL(e){return!!e.deps}function AL(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function kL(e){return typeof e=="function"||typeof e=="object"&&e instanceof Wt}function Kb(e,t){for(let n of e)Array.isArray(n)?Kb(n,t):n&&d4(n)?Kb(n.\u0275providers,t):t(n)}function e0(e,t){let n;e instanceof ah?(rh(e),n=e):n=new Dg(e);let r,i=Da(n),s=ss(void 0);try{return t()}finally{Da(i),ss(s)}}function E4(){return h4()!==void 0||Qf()!=null}function DL(e){if(!E4())throw new dt(-203,!1)}var ja=0,kn=1,ln=2,Hs=3,uo=4,zo=5,lh=6,Rg=7,si=8,Yu=9,Pa=10,oi=11,ch=12,ST=13,nd=14,fo=15,Zu=16,$u=17,Ju=18,t0=19,x4=20,Ol=21,Db=22,Lc=23,js=24,Mb=25,ki=26,S4=1;var uh=7,ML=8,Pg=9,as=10;function Ll(e){return Array.isArray(e)&&typeof e[S4]=="object"}function jc(e){return Array.isArray(e)&&e[S4]===!0}function C4(e){return(e.flags&4)!==0}function rd(e){return e.componentOffset>-1}function Z_(e){return(e.flags&1)===1}function Uo(e){return!!e.template}function Og(e){return(e[ln]&512)!==0}function id(e){return(e[ln]&256)===256}var Yb=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function T4(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var n0=(()=>{let e=()=>I4;return e.ngInherit=!0,e})();function I4(e){return e.type.prototype.ngOnChanges&&(e.setInput=RL),NL}function NL(){let e=k4(this),t=e?.current;if(t){let n=e.previous;if(n===Oc)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function RL(e,t,n,r,i){let s=this.declaredInputs[r],o=k4(e)||PL(e,{previous:Oc,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Yb(c&&c.currentValue,n,l===Oc),T4(e,t,i,n)}var A4="__ngSimpleChanges__";function k4(e){return e[A4]||null}function PL(e,t){return e[A4]=t}var CT=null;var pr=function(e,t=null,n){CT?.(e,t,n)},OL="svg",LL="math";function Oa(e){for(;Array.isArray(e);)e=e[ja];return e}function D4(e,t){return Oa(t[e])}function Ha(e,t){return Oa(t[e.index])}function J_(e,t){return e.data[t]}function X_(e,t){return e[t]}function FL(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Vo(e,t){let n=t[e];return Ll(n)?n:n[ja]}function Q_(e){return(e[ln]&128)===128}function Xu(e,t){return t==null?null:e[t]}function M4(e){e[$u]=0}function N4(e){e[ln]&1024||(e[ln]|=1024,Q_(e)&&mh(e))}function BL(e,t){for(;e>0;)t=t[nd],e--;return t}function r0(e){return!!(e[ln]&9216||e[js]?.dirty)}function Zb(e){e[Pa].changeDetectionScheduler?.notify(8),e[ln]&64&&(e[ln]|=1024),r0(e)&&mh(e)}function mh(e){e[Pa].changeDetectionScheduler?.notify(0);let t=Fc(e);for(;t!==null&&!(t[ln]&8192||(t[ln]|=8192,!Q_(t)));)t=Fc(t)}function R4(e,t){if(id(e))throw new dt(911,!1);e[Ol]===null&&(e[Ol]=[]),e[Ol].push(t)}function UL(e,t){if(e[Ol]===null)return;let n=e[Ol].indexOf(t);n!==-1&&e[Ol].splice(n,1)}function Fc(e){let t=e[Hs];return jc(t)?t[Hs]:t}function P4(e){return e[Rg]??=[]}function O4(e){return e.cleanup??=[]}var En={lFrame:$4(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jb=!1;function VL(){return En.lFrame.elementDepthCount}function jL(){En.lFrame.elementDepthCount++}function HL(){En.lFrame.elementDepthCount--}function L4(){return En.bindingsEnabled}function zL(){return En.skipHydrationRootTNode!==null}function qL(e){return En.skipHydrationRootTNode===e}function $L(){En.skipHydrationRootTNode=null}function Wn(){return En.lFrame.lView}function Di(){return En.lFrame.tView}function cn(e){return En.lFrame.contextLView=e,e[si]}function un(e){return En.lFrame.contextLView=null,e}function ho(){let e=F4();for(;e!==null&&e.type===64;)e=e.parent;return e}function F4(){return En.lFrame.currentTNode}function WL(){let e=En.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function gh(e,t){let n=En.lFrame;n.currentTNode=e,n.isParent=t}function B4(){return En.lFrame.isParent}function GL(){En.lFrame.isParent=!1}function KL(){return En.lFrame.contextLView}function U4(){return Jb}function Lg(e){let t=Jb;return Jb=e,t}function V4(){let e=En.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function j4(){return En.lFrame.bindingIndex}function YL(e){return En.lFrame.bindingIndex=e}function sd(){return En.lFrame.bindingIndex++}function i0(e){let t=En.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ZL(){return En.lFrame.inI18n}function JL(e,t){let n=En.lFrame;n.bindingIndex=n.bindingRootIndex=e,Xb(t)}function XL(){return En.lFrame.currentDirectiveIndex}function Xb(e){En.lFrame.currentDirectiveIndex=e}function QL(e){let t=En.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function H4(e){En.lFrame.currentQueryIndex=e}function eF(e){let t=e[kn];return t.type===2?t.declTNode:t.type===1?e[zo]:null}function z4(e,t,n){if(n&Cn.SkipSelf){let i=t,s=e;for(;i=i.parent,i===null&&!(n&Cn.Host);)if(i=eF(s),i===null||(s=s[nd],i.type&10))break;if(i===null)return!1;t=i,e=s}let r=En.lFrame=q4();return r.currentTNode=t,r.lView=e,!0}function e2(e){let t=q4(),n=e[kn];En.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function q4(){let e=En.lFrame,t=e===null?null:e.child;return t===null?$4(e):t}function $4(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function W4(){let e=En.lFrame;return En.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var G4=W4;function t2(){let e=W4();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function tF(e){return(En.lFrame.contextLView=BL(e,En.lFrame.contextLView))[si]}function qo(){return En.lFrame.selectedIndex}function Bc(e){En.lFrame.selectedIndex=e}function n2(){let e=En.lFrame;return J_(e.tView,e.selectedIndex)}function nF(){return En.lFrame.currentNamespace}var K4=!0;function r2(){return K4}function i2(e){K4=e}function rF(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){let o=I4(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}function Y4(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Cg(e,t,n){Z4(e,t,3,n)}function Tg(e,t,n,r){(e[ln]&3)===n&&Z4(e,t,n,r)}function Nb(e,t){let n=e[ln];(n&3)===t&&(n&=16383,n+=1,e[ln]=n)}function Z4(e,t,n,r){let i=r!==void 0?e[$u]&65535:0,s=r??-1,o=t.length-1,a=0;for(let l=i;l<o;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[$u]+=65536),(a<s||s==-1)&&(iF(e,n,t,l),e[$u]=(e[$u]&4294901760)+l+2),l++}function TT(e,t){pr(4,e,t);let n=_n(null);try{t.call(e)}finally{_n(n),pr(5,e,t)}}function iF(e,t,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=e[o];i?e[ln]>>14<e[$u]>>16&&(e[ln]&3)===t&&(e[ln]+=16384,TT(a,s)):TT(a,s)}var Gu=-1,Uc=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function sF(e){return(e.flags&8)!==0}function oF(e){return(e.flags&16)!==0}function aF(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{let s=i,o=n[++r];cF(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function lF(e){return e===3||e===4||e===6}function cF(e){return e.charCodeAt(0)===64}function dh(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?IT(e,n,i,null,t[++r]):IT(e,n,i,null,null))}}return e}function IT(e,t,n,r,i){let s=0,o=e.length;if(t===-1)o=-1;else for(;s<e.length;){let a=e[s++];if(typeof a=="number"){if(a===t){o=-1;break}else if(a>t){o=s-1;break}}}for(;s<e.length;){let a=e[s];if(typeof a=="number")break;if(a===n){i!==null&&(e[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),i!==null&&e.splice(s++,0,i)}function uF(e){return e!==Gu}function Qb(e){return e&32767}function dF(e){return e>>16}function e_(e,t){let n=dF(e),r=t;for(;n>0;)r=r[nd],n--;return r}var t_=!0;function Fg(e){let t=t_;return t_=e,t}var fF=256,J4=fF-1,X4=5,hF=0,Bo={};function pF(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(sh)&&(r=n[sh]),r==null&&(r=n[sh]=hF++);let i=r&J4,s=1<<i;t.data[e+(i>>X4)]|=s}function Bg(e,t){let n=Q4(e,t);if(n!==-1)return n;let r=t[kn];r.firstCreatePass&&(e.injectorIndex=t.length,Rb(r.data,e),Rb(t,null),Rb(r.blueprint,null));let i=eI(e,t),s=e.injectorIndex;if(uF(i)){let o=Qb(i),a=e_(i,t),l=a[kn].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=i,s}function Rb(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Q4(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function eI(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=sI(i),r===null)return Gu;if(n++,i=i[nd],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Gu}function n_(e,t,n){pF(e,t,n)}function tI(e,t,n){if(n&Cn.Optional||e!==void 0)return e;q_(t,"NodeInjector")}function nI(e,t,n,r){if(n&Cn.Optional&&r===void 0&&(r=null),(n&(Cn.Self|Cn.Host))===0){let i=e[Yu],s=ss(void 0);try{return i?i.get(t,r,n&Cn.Optional):p4(t,r,n&Cn.Optional)}finally{ss(s)}}return tI(r,t,n)}function rI(e,t,n,r=Cn.Default,i){if(e!==null){if(t[ln]&2048&&!(r&Cn.Self)){let o=bF(e,t,n,r,Bo);if(o!==Bo)return o}let s=iI(e,t,n,r,Bo);if(s!==Bo)return s}return nI(t,n,r,i)}function iI(e,t,n,r,i){let s=yF(n);if(typeof s=="function"){if(!z4(t,e,r))return r&Cn.Host?tI(i,n,r):nI(t,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Cn.Optional))q_(n);else return o}finally{G4()}}else if(typeof s=="number"){let o=null,a=Q4(e,t),l=Gu,c=r&Cn.Host?t[fo][zo]:null;for((a===-1||r&Cn.SkipSelf)&&(l=a===-1?eI(e,t):t[a+8],l===Gu||!kT(r,!1)?a=-1:(o=t[kn],a=Qb(l),t=e_(l,t)));a!==-1;){let u=t[kn];if(AT(s,a,u.data)){let d=mF(a,t,n,o,r,c);if(d!==Bo)return d}l=t[a+8],l!==Gu&&kT(r,t[kn].data[a+8]===c)&&AT(s,a,t)?(o=u,a=Qb(l),t=e_(l,t)):a=-1}}return i}function mF(e,t,n,r,i,s){let o=t[kn],a=o.data[e+8],l=r==null?rd(a)&&t_:r!=o&&(a.type&3)!==0,c=i&Cn.Host&&s===a,u=gF(a,o,n,l,c);return u!==null?Ug(t,o,u,a,i):Bo}function gF(e,t,n,r,i){let s=e.providerIndexes,o=t.data,a=s&1048575,l=e.directiveStart,c=e.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){let f=o[l];if(f&&Uo(f)&&f.type===n)return l}return null}function Ug(e,t,n,r,i){let s=e[n],o=t.data;if(s instanceof Uc){let a=s;a.resolving&&f4(sL(o[n]));let l=Fg(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?ss(a.injectImpl):null,d=z4(e,r,Cn.Default);try{s=e[n]=a.factory(void 0,i,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&rF(n,o[n],t)}finally{u!==null&&ss(u),Fg(l),a.resolving=!1,G4()}}return s}function yF(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(sh)?e[sh]:void 0;return typeof t=="number"?t>=0?t&J4:vF:t}function AT(e,t,n){let r=1<<e;return!!(n[t+(e>>X4)]&r)}function kT(e,t){return!(e&Cn.Self)&&!(e&Cn.Host&&t)}var Vg=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return rI(this._tNode,this._lView,t,Jg(r),n)}};function vF(){return new Vg(ho(),Wn())}function od(e){return Zg(()=>{let t=e.prototype.constructor,n=t[kg]||r_(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let s=i[kg]||r_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function r_(e){return l4(e)?()=>{let t=r_($i(e));return t&&t()}:Pc(e)}function bF(e,t,n,r,i){let s=e,o=t;for(;s!==null&&o!==null&&o[ln]&2048&&!Og(o);){let a=iI(s,o,n,r|Cn.Self,Bo);if(a!==Bo)return a;let l=s.parent;if(!l){let c=o[x4];if(c){let u=c.get(n,Bo,r);if(u!==Bo)return u}l=sI(o),o=o[nd]}s=l}return i}function sI(e){let t=e[kn],n=t.type;return n===2?t.declTNode:n===1?e[zo]:null}function DT(e,t=null,n=null,r){let i=_F(e,t,n,r);return i.resolveInjectorInitializers(),i}function _F(e,t=null,n=null,r,i=new Set){let s=[n||os,_L(e)];return r=r||(typeof e=="object"?void 0:Vs(e)),new ah(s,t||Y_(),r||null,i)}var La=class e{static THROW_IF_NOT_FOUND=Rc;static NULL=new Ng;static create(t,n){if(Array.isArray(t))return DT({name:""},n,t,"");{let r=t.name??"";return DT({name:r},t.parent,t.providers,r)}}static \u0275prov=wn({token:e,providedIn:"any",factory:()=>pn(g4)});static __NG_ELEMENT_ID__=-1};var wF=new Wt("");wF.__NG_ELEMENT_ID__=e=>{let t=ho();if(t===null)throw new dt(204,!1);if(t.type&2)return t.value;if(e&Cn.Optional)return null;throw new dt(204,!1)};var oI=!1,s0=(()=>{class e{static __NG_ELEMENT_ID__=EF;static __NG_ENV_ID__=n=>n}return e})(),jg=class extends s0{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return id(n)?(t(),()=>{}):(R4(n,t),()=>UL(n,t))}};function EF(){return new jg(Wn())}var Qu=class{},o0=new Wt("",{providedIn:"root",factory:()=>!1});var aI=new Wt(""),lI=new Wt(""),ad=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new th(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=wn({token:e,providedIn:"root",factory:()=>new e})}return e})();var i_=class extends Ma{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,E4()&&(this.destroyRef=Pt(s0,{optional:!0})??void 0,this.pendingTasks=Pt(ad,{optional:!0})??void 0)}emit(t){let n=_n(null);try{super.next(t)}finally{_n(n)}}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return t instanceof qi&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Is=i_;function fh(...e){}function cI(e){let t,n;function r(){e=fh;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function MT(e){return queueMicrotask(()=>e()),()=>{e=fh}}var s2="isAngularZone",Hg=s2+"_ID",xF=0,Gr=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Is(!1);onMicrotaskEmpty=new Is(!1);onStable=new Is(!1);onError=new Is(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=oI}=t;if(typeof Zone>"u")throw new dt(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,TF(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(s2)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new dt(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new dt(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,SF,fh,fh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},SF={};function o2(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function CF(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){cI(()=>{e.callbackScheduled=!1,s_(e),e.isCheckStableRunning=!0,o2(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),s_(e)}function TF(e){let t=()=>{CF(e)},n=xF++;e._inner=e._inner.fork({name:"angular",properties:{[s2]:!0,[Hg]:n,[Hg+n]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(IF(l))return r.invokeTask(s,o,a,l);try{return NT(e),r.invokeTask(s,o,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),RT(e)}},onInvoke:(r,i,s,o,a,l,c)=>{try{return NT(e),r.invoke(s,o,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!AF(l)&&t(),RT(e)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,s_(e),o2(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function s_(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function NT(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function RT(e){e._nesting--,o2(e)}var o_=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Is;onMicrotaskEmpty=new Is;onStable=new Is;onError=new Is;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function IF(e){return uI(e,"__ignore_ng_zone__")}function AF(e){return uI(e,"__scheduler_tick__")}function uI(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Fa=class{_console=console;handleError(t){this._console.error("ERROR",t)}},kF=new Wt("",{providedIn:"root",factory:()=>{let e=Pt(Gr),t=Pt(Fa);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function PT(e,t){return a4(e,t)}function DF(e){return a4(o4,e)}var dI=(PT.required=DF,PT);function MF(){return fI(ho(),Wn())}function fI(e,t){return new Bl(Ha(e,t))}var Bl=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=MF}return e})();function NF(e){return typeof e=="function"&&e[Bs]!==void 0}function rn(e,t){let n=fb(e,t?.equal),r=n[Bs];return n.set=i=>Xf(r,i),n.update=i=>hb(r,i),n.asReadonly=RF.bind(n),n}function RF(){let e=this[Bs];if(e.readonlyFn===void 0){let t=()=>this();t[Bs]=e,e.readonlyFn=t}return e.readonlyFn}function hI(e){return NF(e)&&typeof e.set=="function"}function pI(e){return(e.flags&128)===128}var mI=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(mI||{}),gI=new Map,PF=0;function OF(){return PF++}function LF(e){gI.set(e[t0],e)}function a_(e){gI.delete(e[t0])}var OT="__ngContext__";function yh(e,t){Ll(t)?(e[OT]=t[t0],LF(t)):e[OT]=t}function yI(e){return bI(e[ch])}function vI(e){return bI(e[uo])}function bI(e){for(;e!==null&&!jc(e);)e=e[uo];return e}var l_;function _I(e){l_=e}function wI(){if(l_!==void 0)return l_;if(typeof document<"u")return document;throw new dt(210,!1)}var a2=new Wt("",{providedIn:"root",factory:()=>FF}),FF="ng",l2=new Wt(""),vh=new Wt("",{providedIn:"platform",factory:()=>"unknown"});var c2=new Wt(""),u2=new Wt("",{providedIn:"root",factory:()=>wI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BF="h",UF="b";var EI=!1,VF=new Wt("",{providedIn:"root",factory:()=>EI});var xI=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(xI||{}),a0=new Wt(""),LT=new Set;function ld(e){LT.has(e)||(LT.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var SI=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=jF}return e})();function jF(){return new SI(Wn(),ho())}var HF=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=wn({token:e,providedIn:"root",factory:()=>new e})}return e})();var zF=(e,t,n,r)=>{};function qF(e,t,n,r){zF(e,t,n,r)}var $F=()=>null;function CI(e,t,n=!1){return $F(e,t,n)}function TI(e,t){let n=e.contentQueries;if(n!==null){let r=_n(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=e.data[o];H4(s),a.contentQueries(2,t[o],o)}}}finally{_n(r)}}}function c_(e,t,n){H4(0);let r=_n(null);try{t(e,n)}finally{_n(r)}}function II(e,t,n){if(C4(t)){let r=_n(null);try{let i=t.directiveStart,s=t.directiveEnd;for(let o=i;o<s;o++){let a=e.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{_n(r)}}}var jo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(jo||{});var _g;function WF(){if(_g===void 0&&(_g=null,Fo.trustedTypes))try{_g=Fo.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _g}function l0(e){return WF()?.createHTML(e)||e}var wg;function GF(){if(wg===void 0&&(wg=null,Fo.trustedTypes))try{wg=Fo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return wg}function FT(e){return GF()?.createHTML(e)||e}var Ba=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${i4})`}},u_=class extends Ba{getTypeName(){return"HTML"}},d_=class extends Ba{getTypeName(){return"Style"}},f_=class extends Ba{getTypeName(){return"Script"}},h_=class extends Ba{getTypeName(){return"URL"}},p_=class extends Ba{getTypeName(){return"ResourceURL"}};function za(e){return e instanceof Ba?e.changingThisBreaksApplicationSecurity:e}function Hc(e,t){let n=KF(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${i4})`)}return n===t}function KF(e){return e instanceof Ba&&e.getTypeName()||null}function AI(e){return new u_(e)}function kI(e){return new d_(e)}function DI(e){return new f_(e)}function MI(e){return new h_(e)}function NI(e){return new p_(e)}function YF(e){let t=new g_(e);return ZF()?new m_(t):t}var m_=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(l0(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},g_=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=l0(t),n}};function ZF(){try{return!!new window.DOMParser().parseFromString(l0(""),"text/html")}catch{return!1}}var JF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function d2(e){return e=String(e),e.match(JF)?e:"unsafe:"+e}function qa(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function bh(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var RI=qa("area,br,col,hr,img,wbr"),PI=qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OI=qa("rp,rt"),XF=bh(OI,PI),QF=bh(PI,qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),eB=bh(OI,qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),BT=bh(RI,QF,eB,XF),LI=qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tB=qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nB=qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),rB=bh(LI,tB,nB),iB=qa("script,style,template"),y_=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=aB(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=oB(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(t){let n=UT(t).toLowerCase();if(!BT.hasOwnProperty(n))return this.sanitizedSomething=!0,!iB.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!rB.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;LI[a]&&(l=d2(l)),this.buf.push(" ",o,'="',VT(l),'"')}return this.buf.push(">"),!0}endElement(t){let n=UT(t).toLowerCase();BT.hasOwnProperty(n)&&!RI.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(VT(t))}};function sB(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function oB(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw FI(t);return t}function aB(e){let t=e.firstChild;if(t&&sB(e,t))throw FI(t);return t}function UT(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function FI(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var lB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cB=/([^\#-~ |!])/g;function VT(e){return e.replace(/&/g,"&amp;").replace(lB,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(cB,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Eg;function f2(e,t){let n=null;try{Eg=Eg||YF(e);let r=t?String(t):"";n=Eg.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Eg.getInertBodyElement(r)}while(r!==s);let a=new y_().sanitizeChildren(jT(n)||n);return l0(a)}finally{if(n){let r=jT(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function jT(e){return"content"in e&&uB(e)?e.content:null}function uB(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}function dB(e,t){return e.createText(t)}function fB(e,t,n){e.setValue(t,n)}function BI(e,t,n){return e.createElement(t,n)}function v_(e,t,n,r,i){e.insertBefore(t,n,r,i)}function UI(e,t,n){e.appendChild(t,n)}function HT(e,t,n,r,i){r!==null?v_(e,t,n,r,i):UI(e,t,n)}function hB(e,t,n){e.removeChild(null,t,n)}function pB(e,t,n){e.setAttribute(t,"style",n)}function mB(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function VI(e,t,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&aF(e,t,r),i!==null&&mB(e,t,i),s!==null&&pB(e,t,s)}var $a=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}($a||{});function zc(e){let t=gB();return t?FT(t.sanitize($a.HTML,e)||""):Hc(e,"HTML")?FT(za(e)):f2(wI(),Na(e))}function gB(){let e=Wn();return e&&e[Pa].sanitizer}function yB(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}var jI="ng-template";function vB(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&yB(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(h2(e))return!1;if(i=t.indexOf(1,i),i>-1){let s;for(;++i<t.length&&typeof(s=t[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function h2(e){return e.type===4&&e.value!==jI}function bB(e,t,n){let r=e.type===4&&!n?jI:e.value;return t===r}function _B(e,t,n){let r=4,i=e.attrs,s=i!==null?xB(i):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!o&&!lo(r)&&!lo(l))return!1;if(o&&lo(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!bB(e,l,n)||l===""&&t.length===1){if(lo(r))return!1;o=!0}}else if(r&8){if(i===null||!vB(e,i,l,n)){if(lo(r))return!1;o=!0}}else{let c=t[++a],u=wB(l,i,h2(e),n);if(u===-1){if(lo(r))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(lo(r))return!1;o=!0}}}}return lo(r)||o}function lo(e){return(e&1)===0}function wB(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){let o=t[i];if(o===e)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return SB(t,e)}function EB(e,t,n=!1){for(let r=0;r<t.length;r++)if(_B(e,t[r],n))return!0;return!1}function xB(e){for(let t=0;t<e.length;t++){let n=e[t];if(lF(n))return t}return e.length}function SB(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function zT(e,t){return e?":not("+t.trim()+")":t}function CB(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if(typeof o=="string")if(r&2){let a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!lo(o)&&(t+=zT(s,i),i=""),r=o,s=s||!lo(r);n++}return i!==""&&(t+=zT(s,i)),t}function TB(e){return e.map(CB).join(",")}function IB(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let s=e[r];if(typeof s=="string")i===2?s!==""&&t.push(s,e[++r]):i===8&&n.push(s);else{if(!lo(i))break;i=s}r++}return n.length&&t.push(1,...n),t}var ls={};function p2(e,t,n,r,i,s,o,a,l,c,u){let d=ki+r,h=d+i,f=AB(d,h),p=typeof c=="function"?c():c;return f[kn]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function AB(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:ls);return n}function kB(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=p2(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function m2(e,t,n,r,i,s,o,a,l,c,u){let d=t.blueprint.slice();return d[ja]=i,d[ln]=r|4|128|8|64|1024,(c!==null||e&&e[ln]&2048)&&(d[ln]|=2048),M4(d),d[Hs]=d[nd]=e,d[si]=n,d[Pa]=o||e&&e[Pa],d[oi]=a||e&&e[oi],d[Yu]=l||e&&e[Yu]||null,d[zo]=s,d[t0]=OF(),d[lh]=u,d[x4]=c,d[fo]=t.type==2?e[fo]:d,d}function DB(e,t,n){let r=Ha(t,e),i=kB(n),s=e[Pa].rendererFactory,o=qI(e,m2(e,i,null,HI(n),r,t,null,s.createRenderer(r,n),null,null,null));return e[t.index]=o}function HI(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function zI(e,t,n,r){if(n===0)return-1;let i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function qI(e,t){return e[ch]?e[ST][uo]=t:e[ch]=t,e[ST]=t,t}function Me(e=1){$I(Di(),Wn(),qo()+e,!1)}function $I(e,t,n,r){if(!r)if((t[ln]&3)===3){let s=e.preOrderCheckHooks;s!==null&&Cg(t,s,n)}else{let s=e.preOrderHooks;s!==null&&Tg(t,s,0,n)}Bc(n)}var c0=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(c0||{});function b_(e,t,n,r){let i=_n(null);try{let[s,o,a]=e.inputs[n],l=null;(o&c0.SignalBased)!==0&&(l=t[s][Bs]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,s):T4(t,l,s,r)}finally{_n(i)}}function WI(e,t,n,r,i){let s=qo(),o=r&2;try{Bc(-1),o&&t.length>ki&&$I(e,t,ki,!1),pr(o?2:0,i),n(r,i)}finally{Bc(s),pr(o?3:1,i)}}function g2(e,t,n){LB(e,t,n),(n.flags&64)===64&&FB(e,t,n)}function GI(e,t,n=Ha){let r=t.localNames;if(r!==null){let i=t.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(t,e):e[o];e[i++]=a}}}function MB(e,t,n,r){let s=r.get(VF,EI)||n===jo.ShadowDom,o=e.selectRootElement(t,s);return NB(o),o}function NB(e){RB(e)}var RB=()=>null;function PB(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function KI(e,t,n,r,i,s,o,a){if(!a&&y2(t,e,n,r,i)){rd(t)&&OB(n,t.index);return}if(t.type&3){let l=Ha(t,n);r=PB(r),i=o!=null?o(i,t.value||"",r):i,s.setProperty(l,r,i)}else t.type&12}function OB(e,t){let n=Vo(t,e);n[ln]&16||(n[ln]|=64)}function LB(e,t,n){let r=n.directiveStart,i=n.directiveEnd;rd(n)&&DB(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Bg(n,t);let s=n.initialInputs;for(let o=r;o<i;o++){let a=e.data[o],l=Ug(t,e,o,n);if(yh(l,t),s!==null&&jB(t,o-r,l,a,n,s),Uo(a)){let c=Vo(n.index,t);c[si]=Ug(t,e,o,n)}}}function FB(e,t,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=XL();try{Bc(s);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];Xb(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&BB(l,c)}}finally{Bc(-1),Xb(o)}}function BB(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function YI(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];EB(t,s.selectors,!1)&&(r??=[],Uo(s)?r.unshift(s):r.push(s))}return r}function UB(e,t,n,r,i,s){let o=Ha(e,t);VB(t[oi],o,s,e.value,n,r,i)}function VB(e,t,n,r,i,s,o){if(s==null)e.removeAttribute(t,i,n);else{let a=o==null?Na(s):o(s,r||"",i);e.setAttribute(t,i,a,n)}}function jB(e,t,n,r,i,s){let o=s[t];if(o!==null)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1];b_(r,n,l,c)}}function HB(e,t){let n=e[Yu],r=n?n.get(Fa,null):null;r&&r.handleError(t)}function y2(e,t,n,r,i){let s=e.inputs?.[r],o=e.hostDirectiveInputs?.[r],a=!1;if(o)for(let l=0;l<o.length;l+=2){let c=o[l],u=o[l+1],d=t.data[c];b_(d,n[c],u,i),a=!0}if(s)for(let l of s){let c=n[l],u=t.data[l];b_(u,c,r,i),a=!0}return a}function zB(e,t){let n=Vo(t,e),r=n[kn];qB(r,n);let i=n[ja];i!==null&&n[lh]===null&&(n[lh]=CI(i,n[Yu])),pr(18),v2(r,n,n[si]),pr(19,n[si])}function qB(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function v2(e,t,n){e2(t);try{let r=e.viewQuery;r!==null&&c_(1,r,n);let i=e.template;i!==null&&WI(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ju]?.finishViewCreation(e),e.staticContentQueries&&TI(e,t),e.staticViewQueries&&c_(2,e.viewQuery,n);let s=e.components;s!==null&&$B(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ln]&=-5,t2()}}function $B(e,t){for(let n=0;n<t.length;n++)zB(e,t[n])}function b2(e,t,n,r){let i=_n(null);try{let s=t.tView,a=e[ln]&4096?4096:16,l=m2(e,s,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[Zu]=c;let u=e[Ju];return u!==null&&(l[Ju]=u.createEmbeddedView(s)),v2(s,l,n),l}finally{_n(i)}}function _2(e,t){return!t||t.firstChild===null||pI(e)}var WB;function w2(e,t){return WB(e,t)}var Ua=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ua||{});function ZI(e){return(e.flags&32)===32}function Wu(e,t,n,r,i){if(r!=null){let s,o=!1;jc(r)?s=r:Ll(r)&&(o=!0,r=r[ja]);let a=Oa(r);e===0&&n!==null?i==null?UI(t,n,a):v_(t,n,a,i||null,!0):e===1&&n!==null?v_(t,n,a,i||null,!0):e===2?hB(t,a,o):e===3&&t.destroyNode(a),s!=null&&iU(t,e,s,n,i)}}function GB(e,t){JI(e,t),t[ja]=null,t[zo]=null}function KB(e,t,n,r,i,s){r[ja]=i,r[zo]=t,u0(e,r,n,1,i,s)}function JI(e,t){t[Pa].changeDetectionScheduler?.notify(9),u0(e,t,t[oi],2,null,null)}function YB(e){let t=e[ch];if(!t)return Pb(e[kn],e);for(;t;){let n=null;if(Ll(t))n=t[ch];else{let r=t[as];r&&(n=r)}if(!n){for(;t&&!t[uo]&&t!==e;)Ll(t)&&Pb(t[kn],t),t=t[Hs];t===null&&(t=e),Ll(t)&&Pb(t[kn],t),n=t&&t[uo]}t=n}}function E2(e,t){let n=e[Pg],r=n.indexOf(t);n.splice(r,1)}function x2(e,t){if(id(t))return;let n=t[oi];n.destroyNode&&u0(e,t,n,3,null,null),YB(t)}function Pb(e,t){if(id(t))return;let n=_n(null);try{t[ln]&=-129,t[ln]|=256,t[js]&&Jf(t[js]),JB(e,t),ZB(e,t),t[kn].type===1&&t[oi].destroy();let r=t[Zu];if(r!==null&&jc(t[Hs])){r!==t[Hs]&&E2(r,t);let i=t[Ju];i!==null&&i.detachView(e)}a_(t)}finally{_n(n)}}function ZB(e,t){let n=e.cleanup,r=t[Rg];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[n[o+1]];n[o].call(a)}r!==null&&(t[Rg]=null);let i=t[Ol];if(i!==null){t[Ol]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=t[Lc];if(s!==null){t[Lc]=null;for(let o of s)o.destroy()}}function JB(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Uc)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];pr(4,a,l);try{l.call(a)}finally{pr(5,a,l)}}else{pr(4,i,s);try{s.call(i)}finally{pr(5,i,s)}}}}}function XB(e,t,n){return QB(e,t.parent,n)}function QB(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[ja];if(rd(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===jo.None||i===jo.Emulated)return null}return Ha(r,n)}function eU(e,t,n){return nU(e,t,n)}function tU(e,t,n){return e.type&40?Ha(e,n):null}var nU=tU,qT;function S2(e,t,n,r){let i=XB(e,r,t),s=t[oi],o=r.parent||t[zo],a=eU(o,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)HT(s,i,n[l],a,!1);else HT(s,i,n,a,!1);qT!==void 0&&qT(s,r,t,n,i)}function ih(e,t){if(t!==null){let n=t.type;if(n&3)return Ha(t,e);if(n&4)return __(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return ih(e,r);{let i=e[t.index];return jc(i)?__(-1,i):Oa(i)}}else{if(n&128)return ih(e,t.next);if(n&32)return w2(t,e)()||Oa(e[t.index]);{let r=XI(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Fc(e[fo]);return ih(i,r)}else return ih(e,t.next)}}}return null}function XI(e,t){if(t!==null){let r=e[fo][zo],i=t.projection;return r.projection[i]}return null}function __(e,t){let n=as+e+1;if(n<t.length){let r=t[n],i=r[kn].firstChild;if(i!==null)return ih(r,i)}return t[uh]}function C2(e,t,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(o&&t===0&&(a&&yh(Oa(a),r),n.flags|=2),!ZI(n))if(l&8)C2(e,t,n.child,r,i,s,!1),Wu(t,e,i,a,s);else if(l&32){let c=w2(n,r),u;for(;u=c();)Wu(t,e,i,u,s);Wu(t,e,i,a,s)}else l&16?rU(e,t,r,n,i,s):Wu(t,e,i,a,s);n=o?n.projectionNext:n.next}}function u0(e,t,n,r,i,s){C2(n,r,e.firstChild,t,i,s,!1)}function rU(e,t,n,r,i,s){let o=n[fo],l=o[zo].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Wu(t,e,i,u,s)}else{let c=l,u=o[Hs];pI(r)&&(c.flags|=128),C2(e,t,c,u,i,s,!0)}}function iU(e,t,n,r,i){let s=n[uh],o=Oa(n);s!==o&&Wu(t,e,r,s,i);for(let a=as;a<n.length;a++){let l=n[a];u0(l[kn],l,e,t,r,s)}}function sU(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Ua.DashCase;i==null?e.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ua.Important),e.setStyle(n,r,i,s))}}function zg(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=t[n.index];s!==null&&r.push(Oa(s)),jc(s)&&oU(s,r);let o=n.type;if(o&8)zg(e,t,n.child,r);else if(o&32){let a=w2(n,t),l;for(;l=a();)r.push(l)}else if(o&16){let a=XI(t,n);if(Array.isArray(a))r.push(...a);else{let l=Fc(t[fo]);zg(l[kn],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function oU(e,t){for(let n=as;n<e.length;n++){let r=e[n],i=r[kn].firstChild;i!==null&&zg(r[kn],r,i,t)}e[uh]!==e[ja]&&t.push(e[uh])}function QI(e){if(e[Mb]!==null){for(let t of e[Mb])t.impl.addSequence(t);e[Mb].length=0}}var eA=[];function aU(e){return e[js]??lU(e)}function lU(e){let t=eA.pop()??Object.create(uU);return t.lView=e,t}function cU(e){e.lView[js]!==e&&(e.lView=null,eA.push(e))}var uU=Yt(ct({},Uu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{mh(e.lView)},consumerOnSignalRead(){this.lView[js]=this}});function dU(e){let t=e[js]??Object.create(fU);return t.lView=e,t}var fU=Yt(ct({},Uu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Fc(e.lView);for(;t&&!tA(t[kn]);)t=Fc(t);t&&N4(t)},consumerOnSignalRead(){this.lView[js]=this}});function tA(e){return e.type!==2}function nA(e){if(e[Lc]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Lc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[ln]&8192)}}var hU=100;function rA(e,t=!0,n=0){let i=e[Pa].rendererFactory,s=!1;s||i.begin?.();try{pU(e,n)}catch(o){throw t&&HB(e,o),o}finally{s||i.end?.()}}function pU(e,t){let n=U4();try{Lg(!0),w_(e,t);let r=0;for(;r0(e);){if(r===hU)throw new dt(103,!1);r++,w_(e,1)}}finally{Lg(n)}}function mU(e,t,n,r){if(id(t))return;let i=t[ln],s=!1,o=!1;e2(t);let a=!0,l=null,c=null;s||(tA(e)?(c=aU(t),l=Zf(c)):ob()===null?(a=!1,c=dU(t),l=Zf(c)):t[js]&&(Jf(t[js]),t[js]=null));try{M4(t),YL(e.bindingStartIndex),n!==null&&WI(e,t,n,2,r);let u=(i&3)===3;if(!s)if(u){let f=e.preOrderCheckHooks;f!==null&&Cg(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Tg(t,f,0,null),Nb(t,0)}if(o||gU(t),nA(t),iA(t,0),e.contentQueries!==null&&TI(e,t),!s)if(u){let f=e.contentCheckHooks;f!==null&&Cg(t,f)}else{let f=e.contentHooks;f!==null&&Tg(t,f,1),Nb(t,1)}vU(e,t);let d=e.components;d!==null&&oA(t,d,0);let h=e.viewQuery;if(h!==null&&c_(2,h,r),!s)if(u){let f=e.viewCheckHooks;f!==null&&Cg(t,f)}else{let f=e.viewHooks;f!==null&&Tg(t,f,2),Nb(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Db]){for(let f of t[Db])f();t[Db]=null}s||(QI(t),t[ln]&=-73)}catch(u){throw s||mh(t),u}finally{c!==null&&(Km(c,l),a&&cU(c)),t2()}}function iA(e,t){for(let n=yI(e);n!==null;n=vI(n))for(let r=as;r<n.length;r++){let i=n[r];sA(i,t)}}function gU(e){for(let t=yI(e);t!==null;t=vI(t)){if(!(t[ln]&2))continue;let n=t[Pg];for(let r=0;r<n.length;r++){let i=n[r];N4(i)}}}function yU(e,t,n){pr(18);let r=Vo(t,e);sA(r,n),pr(19,r[si])}function sA(e,t){Q_(e)&&w_(e,t)}function w_(e,t){let r=e[kn],i=e[ln],s=e[js],o=!!(t===0&&i&16);if(o||=!!(i&64&&t===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ym(s)),o||=!1,s&&(s.dirty=!1),e[ln]&=-9217,o)mU(r,e,r.template,e[si]);else if(i&8192){nA(e),iA(e,1);let a=r.components;a!==null&&oA(e,a,1),QI(e)}}function oA(e,t,n){for(let r=0;r<t.length;r++)yU(e,t[r],n)}function vU(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Bc(~i);else{let s=i,o=n[++r],a=n[++r];JL(o,s);let l=t[s];pr(24,l),a(2,l),pr(25,l)}}}finally{Bc(-1)}}function T2(e,t){let n=U4()?64:1088;for(e[Pa].changeDetectionScheduler?.notify(t);e;){e[ln]|=n;let r=Fc(e);if(Og(e)&&!r)return e;e=r}return null}function bU(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function aA(e,t){let n=as+t;if(n<e.length)return e[n]}function I2(e,t,n,r=!0){let i=t[kn];if(_U(i,t,e,n),r){let o=__(n,e),a=t[oi],l=a.parentNode(e[uh]);l!==null&&KB(i,e[zo],a,t,l,o)}let s=t[lh];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function lA(e,t){let n=A2(e,t);return n!==void 0&&x2(n[kn],n),n}function A2(e,t){if(e.length<=as)return;let n=as+t,r=e[n];if(r){let i=r[Zu];i!==null&&i!==e&&E2(i,r),t>0&&(e[n-1][uo]=r[uo]);let s=m4(e,as+t);GB(r[kn],r);let o=s[Ju];o!==null&&o.detachView(s[kn]),r[Hs]=null,r[uo]=null,r[ln]&=-129}return r}function _U(e,t,n,r){let i=as+r,s=n.length;r>0&&(n[i-1][uo]=t),r<s-as?(t[uo]=n[i],mL(n,as+r,t)):(n.push(t),t[uo]=null),t[Hs]=n;let o=t[Zu];o!==null&&n!==o&&cA(o,t);let a=t[Ju];a!==null&&a.insertView(e),Zb(t),t[ln]|=128}function cA(e,t){let n=e[Pg],r=t[Hs];if(Ll(r))e[ln]|=2;else{let i=r[Hs][fo];t[fo]!==i&&(e[ln]|=2)}n===null?e[Pg]=[t]:n.push(t)}var E_=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[kn];return zg(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[si]}set context(t){this._lView[si]=t}get destroyed(){return id(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Hs];if(jc(t)){let n=t[ML],r=n?n.indexOf(this):-1;r>-1&&(A2(t,r),m4(n,r))}this._attachedToViewContainer=!1}x2(this._lView[kn],this._lView)}onDestroy(t){R4(this._lView,t)}markForCheck(){T2(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ln]&=-129}reattach(){Zb(this._lView),this._lView[ln]|=128}detectChanges(){this._lView[ln]|=1024,rA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Og(this._lView),n=this._lView[Zu];n!==null&&!t&&E2(n,this._lView),JI(this._lView[kn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new dt(902,!1);this._appRef=t;let n=Og(this._lView),r=this._lView[Zu];r!==null&&!n&&cA(r,this._lView),Zb(this._lView)}};function k2(e,t,n,r,i){let s=e.data[t];if(s===null)s=wU(e,t,n,r,i),ZL()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=WL();s.injectorIndex=o===null?-1:o.injectorIndex}return gh(s,!0),s}function wU(e,t,n,r,i){let s=F4(),o=B4(),a=o?s:s&&s.parent,l=e.data[t]=xU(e,a,n,t,r,i);return EU(e,l,s,o),l}function EU(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function xU(e,t,n,r,i,s){let o=t?t.injectorIndex:-1,a=0;return zL()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Vde=new RegExp(`^(\\d+)*(${UF}|${BF})*(.*)`);var SU=()=>null;function D2(e,t){return SU(e,t)}var CU=class{},uA=class{},x_=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Vs(t)}.`)}},M2=class{static NULL=new x_},Fl=class{},qc=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>TU()}return e})();function TU(){let e=Wn(),t=ho(),n=Vo(t.index,e);return(Ll(n)?n:e)[oi]}var IU=(()=>{class e{static \u0275prov=wn({token:e,providedIn:"root",factory:()=>null})}return e})();var Ob={},S_=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Jg(r);let i=this.injector.get(t,Ob,r);return i!==Ob||n===Ob?i:this.parentInjector.get(t,n,r)}};function $T(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")s=a;else if(s==1)i=zb(i,a);else if(s==2){let l=a,c=t[++o];r=zb(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function On(e,t=Cn.Default){let n=Wn();if(n===null)return pn(e,t);let r=ho();return rI(r,n,$i(e),t)}function dA(e,t,n,r,i){let s=r===null?null:{"":-1},o=i(e,n);if(o!==null){let a,l=null,c=null,u=kU(o);u===null?a=o:[a,l,c]=u,NU(e,t,n,a,s,l,c)}s!==null&&r!==null&&AU(n,r,s)}function AU(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let s=n[t[i+1]];if(s==null)throw new dt(-301,!1);r.push(t[i],s)}}function kU(e){let t=null,n=!1;for(let o=0;o<e.length;o++){let a=e[o];if(o===0&&Uo(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,s=null;for(let o of e)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,DU(o,r,s,i)),o===t&&(r??=[],r.push(o));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,s]):null}function DU(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function MU(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function NU(e,t,n,r,i,s,o){let a=r.length,l=!1;for(let h=0;h<a;h++){let f=r[h];!l&&Uo(f)&&(l=!0,MU(e,n,h)),n_(Bg(n,t),e,f.type)}BU(n,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=zI(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=dh(n.mergedAttrs,f.hostAttrs),PU(e,n,t,d,f),FU(d,f,i),o!==null&&o.has(f)){let[m,g]=o.get(f);n.directiveToIndex.set(f.type,[d,m+n.directiveStart,g+n.directiveStart])}else(s===null||!s.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}RU(e,n,s)}function RU(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))WT(0,t,i,r),WT(1,t,i,r),KT(t,r,!1);else{let s=n.get(i);GT(0,t,s,r),GT(1,t,s,r),KT(t,r,!0)}}}function WT(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;e===0?o=t.inputs??={}:o=t.outputs??={},o[s]??=[],o[s].push(r),fA(t,s)}}function GT(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),fA(t,o)}}function fA(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function KT(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=e;if(r===null||!n&&i===null||n&&s===null||h2(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===t){o??=[],o.push(l,r[a+1]);break}}else if(n&&s.hasOwnProperty(l)){let c=s[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){o??=[],o.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(o)}function PU(e,t,n,r,i){e.data[r]=i;let s=i.factory||(i.factory=Pc(i.type,!0)),o=new Uc(s,Uo(i),On);e.blueprint[r]=o,n[r]=o,OU(e,t,r,zI(e,n,i.hostVars,ls),i)}function OU(e,t,n,r,i){let s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;o===null&&(o=e.hostBindingOpCodes=[]);let a=~t.index;LU(o)!=a&&o.push(a),o.push(n,r,s)}}function LU(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function FU(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Uo(t)&&(n[""]=e)}}function BU(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function hA(e,t,n,r,i,s,o,a){let l=t.consts,c=Xu(l,o),u=k2(t,e,2,r,c);return s&&dA(t,n,u,Xu(l,a),i),u.mergedAttrs=dh(u.mergedAttrs,u.attrs),u.attrs!==null&&$T(u,u.attrs,!1),u.mergedAttrs!==null&&$T(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function pA(e,t){Y4(e,t),C4(t)&&e.queries.elementEnd(t)}var C_=class extends M2{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=G_(t);return new T_(n,this.ngModule)}};function UU(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],s={propName:n,templateName:t,isSignal:(r&c0.SignalBased)!==0};return i&&(s.transform=i),s})}function VU(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function jU(e,t,n){let r=t instanceof Ra?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new S_(n,r):n}function HU(e){let t=e.get(Fl,null);if(t===null)throw new dt(407,!1);let n=e.get(IU,null),r=e.get(Qu,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function zU(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return BI(t,n,n==="svg"?OL:n==="math"?LL:null)}var T_=class extends uA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=UU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=VU(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=TB(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){pr(22);let s=_n(null);try{let o=this.componentDef,a=r?["ng-version","19.2.18"]:IB(this.componentDef.selectors[0]),l=p2(0,null,null,1,0,null,null,null,null,[a],null),c=jU(o,i||this.ngModule,t),u=HU(c),d=u.rendererFactory.createRenderer(null,o),h=r?MB(d,r,o.encapsulation,c):zU(o,d),f=m2(null,l,null,512|HI(o),null,null,u,d,c,null,CI(h,c,!0));f[ki]=h,e2(f);let p=null;try{let m=hA(ki,l,f,"#host",()=>[this.componentDef],!0,0);h&&(VI(d,h,m),yh(h,f)),g2(l,f,m),II(l,m,f),pA(l,m),n!==void 0&&qU(m,this.ngContentSelectors,n),p=Vo(m.index,f),f[si]=p[si],v2(l,f,null)}catch(m){throw p!==null&&a_(p),a_(f),m}finally{pr(23),t2()}return new I_(this.componentType,f)}finally{_n(s)}}},I_=class extends CU{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=J_(n[kn],ki),this.location=fI(this._tNode,n),this.instance=Vo(this._tNode.index,n)[si],this.hostView=this.changeDetectorRef=new E_(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,s=y2(r,i[kn],i,t,n);this.previousInputValues.set(t,n);let o=Vo(r.index,i);T2(o,1)}get injector(){return new Vg(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function qU(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var $U=()=>!1;function WU(e,t,n){return $U(e,t,n)}var qg=class{};var $g=class extends qg{injector;componentFactoryResolver=new C_(this);instance=null;constructor(t){super();let n=new ah([...t.providers,{provide:qg,useValue:this},{provide:M2,useValue:this.componentFactoryResolver}],t.parent||Y_(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function GU(e,t,n=null){return new $g({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var KU=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=v4(!1,n.type),i=r.length>0?GU([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=wn({token:e,providedIn:"environment",factory:()=>new e(pn(Ra))})}return e})();function ui(e){return Zg(()=>{let t=mA(e),n=Yt(ct({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===mI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(KU).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||jo.Emulated,styles:e.styles||os,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&ld("NgStandalone"),gA(n);let r=e.dependencies;return n.directiveDefs=YT(r,!1),n.pipeDefs=YT(r,!0),n.id=QU(n),n})}function YU(e){return G_(e)||vL(e)}function ZU(e){return e!==null}function Wa(e){return Zg(()=>({type:e.type,bootstrap:e.bootstrap||os,declarations:e.declarations||os,imports:e.imports||os,exports:e.exports||os,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function JU(e,t){if(e==null)return Oc;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],s,o,a,l;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,a=c0.None,l=null),n[s]=[r,a,l],t[s]=o}return n}function XU(e){if(e==null)return Oc;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function di(e){return Zg(()=>{let t=mA(e);return gA(t),t})}function N2(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function mA(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Oc,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||os,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:JU(e.inputs,t),outputs:XU(e.outputs),debugInfo:null}}function gA(e){e.features?.forEach(t=>t(e))}function YT(e,t){if(!e)return null;let n=t?bL:YU;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(ZU)}function QU(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let s of r.join("|"))t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function eV(e){return Object.getPrototypeOf(e.prototype).constructor}function qs(e){let t=eV(e.type),n=!0,r=[e];for(;t;){let i;if(Uo(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new dt(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let o=e;o.inputs=Lb(e.inputs),o.declaredInputs=Lb(e.declaredInputs),o.outputs=Lb(e.outputs);let a=i.hostBindings;a&&sV(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&rV(e,l),c&&iV(e,c),tV(e,i),XO(e.outputs,i.outputs),Uo(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(e),a===qs&&(n=!1)}}t=Object.getPrototypeOf(t)}nV(r)}function tV(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function nV(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=dh(i.hostAttrs,n=dh(n,i.hostAttrs))}}function Lb(e){return e===Oc?{}:e===os?[]:e}function rV(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function iV(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,s)=>{t(r,i,s),n(r,i,s)}:e.contentQueries=t}function sV(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function yA(e,t,n){return e[t]=n}function zs(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function R2(e,t,n,r){let i=zs(e,t,n);return zs(e,t+1,r)||i}function oV(e,t,n,r,i){let s=R2(e,t,n,r);return zs(e,t+2,i)||s}function aV(e,t,n,r,i,s,o,a,l){let c=t.consts,u=k2(t,e,4,o||null,a||null);L4()&&dA(t,n,u,Xu(c,l),YI),u.mergedAttrs=dh(u.mergedAttrs,u.attrs),Y4(t,u);let d=u.tView=p2(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function A_(e,t,n,r,i,s,o,a,l,c){let u=n+ki,d=t.firstCreatePass?aV(u,t,e,r,i,s,o,a,l):t.data[u];gh(d,!1);let h=lV(t,e,d,n);r2()&&S2(t,e,h,d),yh(h,e);let f=bU(h,e,h,d);return e[u]=f,qI(e,f),WU(f,d,e),Z_(d)&&g2(t,e,d),l!=null&&GI(e,d,c),d}function Un(e,t,n,r,i,s,o,a){let l=Wn(),c=Di(),u=Xu(c.consts,s);return A_(l,c,e,t,n,r,i,u,o,a),Un}var lV=cV;function cV(e,t,n,r){return i2(!0),t[oi].createComment("")}var vA=new Wt("");var bA=(()=>{class e{static \u0275prov=wn({token:e,providedIn:"root",factory:()=>new k_})}return e})(),k_=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function _h(e){return!!e&&typeof e.then=="function"}function _A(e){return!!e&&typeof e.subscribe=="function"}var uV=new Wt("");var wA=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Pt(uV,{optional:!0})??[];injector=Pt(La);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=e0(this.injector,i);if(_h(s))n.push(s);else if(_A(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=wn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dV=new Wt("");function fV(){db(()=>{throw new dt(600,!1)})}function hV(e){return e.isBoundToModule}var pV=10;var ed=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Pt(kF);afterRenderManager=Pt(HF);zonelessEnabled=Pt(o0);rootEffectScheduler=Pt(bA);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ma;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Pt(ad).hasPendingTasks.pipe(is(n=>!n));constructor(){Pt(a0,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Pt(Ra);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=La.NULL){pr(10);let s=n instanceof uA;if(!this._injector.get(wA).done){let f="";throw new dt(405,f)}let a;s?a=n:a=this._injector.get(M2).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=hV(a)?void 0:this._injector.get(qg),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,h=u.injector.get(vA,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ig(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),pr(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){pr(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xI.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new dt(101,!1);let n=_n(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,_n(n),this.afterTick.next(),pr(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Fl,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<pV;)pr(14),this.synchronizeOnce(),pr(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)mV(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>r0(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ig(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(dV,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ig(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new dt(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=wn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ig(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function mV(e,t,n,r){if(!n&&!r0(e))return;rA(e,t,n&&!r?0:1)}function d0(e,t,n,r){let i=Wn(),s=sd();if(zs(i,s,t)){let o=Di(),a=n2();UB(a,i,e,t,n,r)}return d0}function gV(e,t,n,r){return zs(e,sd(),n)?t+Na(n)+r:ls}function yV(e,t,n,r,i,s){let o=j4(),a=R2(e,o,n,i);return i0(2),a?t+Na(n)+r+Na(i)+s:ls}function vV(e,t,n,r,i,s,o,a){let l=j4(),c=oV(e,l,n,i,o);return i0(3),c?t+Na(n)+r+Na(i)+s+Na(o)+a:ls}function xg(e,t){return e<<17|t<<2}function Vc(e){return e>>17&32767}function bV(e){return(e&2)==2}function _V(e,t){return e&131071|t<<17}function D_(e){return e|2}function td(e){return(e&131068)>>2}function Fb(e,t){return e&-131069|t<<2}function wV(e){return(e&1)===1}function M_(e){return e|1}function EV(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=Vc(o),l=td(o);e[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||ph(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let h=Vc(e[a+1]);e[r+1]=xg(h,a),h!==0&&(e[h+1]=Fb(e[h+1],r)),e[a+1]=_V(e[a+1],r)}else e[r+1]=xg(a,0),a!==0&&(e[a+1]=Fb(e[a+1],r)),a=r;else e[r+1]=xg(l,0),a===0?a=r:e[l+1]=Fb(e[l+1],r),l=r;c&&(e[r+1]=D_(e[r+1])),ZT(e,u,r,!0),ZT(e,u,r,!1),xV(t,u,e,r,s),o=xg(a,l),s?t.classBindings=o:t.styleBindings=o}function xV(e,t,n,r,i){let s=i?e.residualClasses:e.residualStyles;s!=null&&typeof t=="string"&&ph(s,t)>=0&&(n[r+1]=M_(n[r+1]))}function ZT(e,t,n,r){let i=e[n+1],s=t===null,o=r?Vc(i):td(i),a=!1;for(;o!==0&&(a===!1||s);){let l=e[o],c=e[o+1];SV(l,t)&&(a=!0,e[o+1]=r?M_(c):D_(c)),o=r?Vc(c):td(c)}a&&(e[n+1]=r?D_(i):M_(i))}function SV(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?ph(e,t)>=0:!1}var co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function CV(e){return e.substring(co.key,co.keyEnd)}function TV(e){return IV(e),EA(e,xA(e,0,co.textEnd))}function EA(e,t){let n=co.textEnd;return n===t?-1:(t=co.keyEnd=AV(e,co.key=t,n),xA(e,t,n))}function IV(e){co.key=0,co.keyEnd=0,co.value=0,co.valueEnd=0,co.textEnd=e.length}function xA(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function AV(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Qn(e,t,n){let r=Wn(),i=sd();if(zs(r,i,t)){let s=Di(),o=n2();KI(s,o,r,e,t,r[oi],n,!1)}return Qn}function N_(e,t,n,r,i){y2(t,e,n,i?"class":"style",r)}function br(e,t){return DV(e,t,null,!0),br}function _r(e){MV(FV,kV,e,!0)}function kV(e,t){for(let n=TV(t);n>=0;n=EA(t,n))W_(e,CV(t),!0)}function DV(e,t,n,r){let i=Wn(),s=Di(),o=i0(2);if(s.firstUpdatePass&&CA(s,e,o,r),t!==ls&&zs(i,o,t)){let a=s.data[qo()];TA(s,a,i,i[oi],e,i[o+1]=UV(t,n),r,o)}}function MV(e,t,n,r){let i=Di(),s=i0(2);i.firstUpdatePass&&CA(i,null,s,r);let o=Wn();if(n!==ls&&zs(o,s,n)){let a=i.data[qo()];if(IA(a,r)&&!SA(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=zb(l,n||"")),N_(i,a,o,n,r)}else BV(i,a,o,o[oi],o[s+1],o[s+1]=LV(e,t,n),r,s)}}function SA(e,t){return t>=e.expandoStartIndex}function CA(e,t,n,r){let i=e.data;if(i[n+1]===null){let s=i[qo()],o=SA(e,n);IA(s,r)&&t===null&&!o&&(t=!1),t=NV(i,s,t,r),EV(i,s,t,n,o,r)}}function NV(e,t,n,r){let i=QL(e),s=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Bb(null,e,t,n,r),n=hh(n,t.attrs,r),s=null);else{let o=t.directiveStylingLast;if(o===-1||e[o]!==i)if(n=Bb(i,e,t,n,r),s===null){let l=RV(e,t,r);l!==void 0&&Array.isArray(l)&&(l=Bb(null,e,t,l[1],r),l=hh(l,t.attrs,r),PV(e,t,r,l))}else s=OV(e,t,r)}return s!==void 0&&(r?t.residualClasses=s:t.residualStyles=s),n}function RV(e,t,n){let r=n?t.classBindings:t.styleBindings;if(td(r)!==0)return e[Vc(r)]}function PV(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Vc(i)]=r}function OV(e,t,n){let r,i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++){let o=e[s].hostAttrs;r=hh(r,o,n)}return hh(r,t.attrs,n)}function Bb(e,t,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=t[a],r=hh(r,s.hostAttrs,i),s!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function hh(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let s=0;s<t.length;s++){let o=t[s];typeof o=="number"?i=o:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),W_(e,o,n?!0:t[++s]))}return e===void 0?null:e}function LV(e,t,n){if(n==null||n==="")return os;let r=[],i=za(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else typeof i=="string"&&t(r,i);return r}function FV(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&W_(e,r,n)}function BV(e,t,n,r,i,s,o,a){i===ls&&(i=os);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&TA(e,t,n,r,p,m,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}function TA(e,t,n,r,i,s,o,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=wV(c)?JT(l,t,n,i,td(c),o):void 0;if(!Wg(u)){Wg(s)||bV(c)&&(s=JT(l,null,n,i,a,o));let d=D4(qo(),n);sU(r,o,d,i,s)}}function JT(e,t,n,r,i,s){let o=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[i+1];h===ls&&(h=d?os:void 0);let f=d?Ab(h,r):u===r?h:void 0;if(c&&!Wg(f)&&(f=Ab(l,r)),Wg(f)&&(a=f,o))return a;let p=e[i+1];i=o?Vc(p):td(p)}if(t!==null){let l=s?t.residualClasses:t.residualStyles;l!=null&&(a=Ab(l,r))}return a}function Wg(e){return e!==void 0}function UV(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Vs(za(e)))),e}function IA(e,t){return(e.flags&(t?8:16))!==0}var R_=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(t,n){this.attach(n,this.detach(t))}};function Ub(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function VV(e,t,n){let r,i,s=0,o=e.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;s<=o&&s<=l;){let c=e.at(s),u=t[s],d=Ub(s,c,s,u,n);if(d!==0){d<0&&e.updateValue(s,u),s++;continue}let h=e.at(o),f=t[l],p=Ub(o,h,l,f,n);if(p!==0){p<0&&e.updateValue(o,f),o--,l--;continue}let m=n(s,c),g=n(o,h),v=n(s,u);if(Object.is(v,g)){let x=n(l,f);Object.is(x,m)?(e.swap(s,o),e.updateValue(o,f),l--,o--):e.move(o,s),e.updateValue(s,u),s++;continue}if(r??=new Gg,i??=QT(e,s,o,n),P_(e,r,s,v))e.updateValue(s,u),s++,o++;else if(i.has(v))r.set(m,e.detach(s)),o--;else{let x=e.create(s,t[s]);e.attach(s,x),s++,o++}}for(;s<=l;)XT(e,r,n,s,t[s]),s++}else if(t!=null){let l=t[Symbol.iterator](),c=l.next();for(;!c.done&&s<=o;){let u=e.at(s),d=c.value,h=Ub(s,u,s,d,n);if(h!==0)h<0&&e.updateValue(s,d),s++,c=l.next();else{r??=new Gg,i??=QT(e,s,o,n);let f=n(s,d);if(P_(e,r,s,f))e.updateValue(s,d),s++,o++,c=l.next();else if(!i.has(f))e.attach(s,e.create(s,d)),s++,o++,c=l.next();else{let p=n(s,u);r.set(p,e.detach(s)),o--}}}for(;!c.done;)XT(e,r,n,e.length,c.value),c=l.next()}for(;s<=o;)e.destroy(e.detach(o--));r?.forEach(l=>{e.destroy(l)})}function P_(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function XT(e,t,n,r,i){if(P_(e,t,r,n(r,i)))e.updateValue(r,i);else{let s=e.create(r,i);e.attach(r,s)}}function QT(e,t,n,r){let i=new Set;for(let s=t;s<=n;s++)i.add(r(s,e.at(s)));return i}var Gg=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function Vn(e,t){ld("NgControlFlow");let n=Wn(),r=sd(),i=n[r]!==ls?n[r]:-1,s=i!==-1?Kg(n,ki+i):void 0,o=0;if(zs(n,r,e)){let a=_n(null);try{if(s!==void 0&&lA(s,o),e!==-1){let l=ki+e,c=Kg(n,l),u=B_(n[kn],l),d=D2(c,u.tView.ssrId),h=b2(n,u,t,{dehydratedView:d});I2(c,h,o,_2(u,d))}}finally{_n(a)}}else if(s!==void 0){let a=aA(s,o);a!==void 0&&(a[si]=t)}}var O_=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-as}};function f0(e){return e}var L_=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Wi(e,t,n,r,i,s,o,a,l,c,u,d,h){ld("NgControlFlow");let f=Wn(),p=Di(),m=l!==void 0,g=Wn(),v=a?o.bind(g[fo][si]):o,x=new L_(m,v);g[ki+e]=x,A_(f,p,e+1,t,n,r,i,Xu(p.consts,s)),m&&A_(f,p,e+2,l,c,u,d,Xu(p.consts,h))}var F_=class extends R_{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-as}at(t){return this.getLView(t)[si].$implicit}attach(t,n){let r=n[lh];this.needsIndexUpdate||=t!==this.length,I2(this.lContainer,n,t,_2(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,jV(this.lContainer,t)}create(t,n){let r=D2(this.lContainer,this.templateTNode.tView.ssrId),i=b2(this.hostLView,this.templateTNode,new O_(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){x2(t[kn],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[si].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[si].$index=t}getLView(t){return HV(this.lContainer,t)}};function Gi(e){let t=_n(null),n=qo();try{let r=Wn(),i=r[kn],s=r[n],o=n+1,a=Kg(r,o);if(s.liveCollection===void 0){let c=B_(i,o);s.liveCollection=new F_(a,r,c)}else s.liveCollection.reset();let l=s.liveCollection;if(VV(l,e,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let c=sd(),u=l.length===0;if(zs(r,c,u)){let d=n+2,h=Kg(r,d);if(u){let f=B_(i,d),p=D2(h,f.tView.ssrId),m=b2(r,f,void 0,{dehydratedView:p});I2(h,m,0,_2(f,p))}else lA(h,0)}}}finally{_n(t)}}function Kg(e,t){return e[t]}function jV(e,t){return A2(e,t)}function HV(e,t){return aA(e,t)}function B_(e,t){return J_(e,t)}function ae(e,t,n,r){let i=Wn(),s=Di(),o=ki+e,a=i[oi],l=s.firstCreatePass?hA(o,s,i,t,YI,L4(),n,r):s.data[o],c=zV(s,i,l,a,t,e);i[o]=c;let u=Z_(l);return gh(l,!0),VI(a,c,l),!ZI(l)&&r2()&&S2(s,i,c,l),(VL()===0||u)&&yh(c,i),jL(),u&&(g2(s,i,l),II(s,l,i)),r!==null&&GI(i,l),ae}function ue(){let e=ho();B4()?GL():(e=e.parent,gh(e,!1));let t=e;qL(t)&&$L(),HL();let n=Di();return n.firstCreatePass&&pA(n,t),t.classesWithoutHost!=null&&sF(t)&&N_(n,t,Wn(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&oF(t)&&N_(n,t,Wn(),t.stylesWithoutHost,!1),ue}function We(e,t,n,r){return ae(e,t,n,r),ue(),We}var zV=(e,t,n,r,i,s)=>(i2(!0),BI(r,i,nF()));function xr(){return Wn()}var Nc=void 0;function qV(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var $V=["en",[["a","p"],["AM","PM"],Nc],[["AM","PM"],Nc,Nc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nc,"{1} 'at' {0}",Nc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",qV],Vb={};function cs(e){let t=WV(e),n=e4(t);if(n)return n;let r=t.split("-")[0];if(n=e4(r),n)return n;if(r==="en")return $V;throw new dt(701,!1)}function e4(e){return e in Vb||(Vb[e]=Fo.ng&&Fo.ng.common&&Fo.ng.common.locales&&Fo.ng.common.locales[e]),Vb[e]}var Ir=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ir||{});function WV(e){return e.toLowerCase().replace(/_/g,"-")}var Yg="en-US",GV="USD";var KV=Yg;function YV(e){typeof e=="string"&&(KV=e.toLowerCase().replace(/_/g,"-"))}function t4(e,t,n){return function r(i){if(i===Function)return n;let s=rd(e)?Vo(e.index,t):t;T2(s,5);let o=t[si],a=n4(t,o,n,i),l=r.__ngNextListenerFn__;for(;l;)a=n4(t,o,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function n4(e,t,n,r){let i=_n(null);try{return pr(6,t,n),n(r)!==!1}catch(s){return ZV(e,s),!1}finally{pr(7,t,n),_n(i)}}function ZV(e,t){let n=e[Yu],r=n?n.get(Fa,null):null;r&&r.handleError(t)}function r4(e,t,n,r,i,s){let o=t[n],a=t[kn],c=a.data[n].outputs[r],u=o[c],d=a.firstCreatePass?O4(a):null,h=P4(t),f=u.subscribe(s),p=h.length;h.push(s,f),d&&d.push(i,e.index,p,-(p+1))}function Ft(e,t,n,r){let i=Wn(),s=Di(),o=ho();return AA(s,i,i[oi],o,e,t,r),Ft}function JV(e,t,n,r){let i=e.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=t[Rg],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function AA(e,t,n,r,i,s,o){let a=Z_(r),c=e.firstCreatePass?O4(e):null,u=P4(t),d=!0;if(r.type&3||o){let h=Ha(r,t),f=o?o(h):h,p=u.length,m=o?v=>o(Oa(v[r.index])):r.index,g=null;if(!o&&a&&(g=JV(e,t,i,r.index)),g!==null){let v=g.__ngLastListenerFn__||g;v.__ngNextListenerFn__=s,g.__ngLastListenerFn__=s,d=!1}else{s=t4(r,t,s),qF(t,f,i,s);let v=n.listen(f,i,s);u.push(s,v),c&&c.push(i,m,p,p+1)}}else s=t4(r,t,s);if(d){let h=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],g=f[p+1];r4(r,t,m,g,i,s)}if(h&&h.length)for(let p of h)r4(r,t,p,i,i,s)}}function kt(e=1){return tF(e)}function $o(e){let t=KL();return X_(t,ki+e)}function we(e,t=""){let n=Wn(),r=Di(),i=e+ki,s=r.firstCreatePass?k2(r,i,1,t,null):r.data[i],o=XV(r,n,s,t,e);n[i]=o,r2()&&S2(r,n,o,s),gh(s,!1)}var XV=(e,t,n,r,i)=>(i2(!0),dB(t[oi],r));function yn(e){return dn("",e,""),yn}function dn(e,t,n){let r=Wn(),i=gV(r,e,t,n);return i!==ls&&P2(r,qo(),i),dn}function wh(e,t,n,r,i){let s=Wn(),o=yV(s,e,t,n,r,i);return o!==ls&&P2(s,qo(),o),wh}function h0(e,t,n,r,i,s,o){let a=Wn(),l=vV(a,e,t,n,r,i,s,o);return l!==ls&&P2(a,qo(),l),h0}function P2(e,t,n){let r=D4(t,e);fB(e[oi],r,n)}function $s(e,t,n){hI(t)&&(t=t());let r=Wn(),i=sd();if(zs(r,i,t)){let s=Di(),o=n2();KI(s,o,r,e,t,r[oi],n,!1)}return $s}function po(e,t){let n=hI(e);return n&&e.set(t),n}function Ws(e,t){let n=Wn(),r=Di(),i=ho();return AA(r,n,n[oi],i,e,t),Ws}function QV(e,t,n){let r=Di();if(r.firstCreatePass){let i=Uo(e);U_(n,r.data,r.blueprint,i,!0),U_(t,r.data,r.blueprint,i,!1)}}function U_(e,t,n,r,i){if(e=$i(e),Array.isArray(e))for(let s=0;s<e.length;s++)U_(e[s],t,n,r,i);else{let s=Di(),o=Wn(),a=ho(),l=Ku(e)?e:$i(e.provide),c=w4(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ku(e)||!e.multi){let f=new Uc(c,i,On),p=Hb(l,t,i?u:u+h,d);p===-1?(n_(Bg(a,o),s,l),jb(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=Hb(l,t,u+h,d),p=Hb(l,t,u,u+h),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){n_(Bg(a,o),s,l);let v=nj(i?tj:ej,n.length,i,r,c);!i&&g&&(n[p].providerFactory=v),jb(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else{let v=kA(n[i?p:f],c,!i&&r);jb(s,e,f>-1?f:p,v)}!i&&r&&g&&n[p].componentProviders++}}}function jb(e,t,n,r){let i=Ku(t),s=SL(t);if(i||s){let l=(s?$i(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function kA(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Hb(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function ej(e,t,n,r,i){return V_(this.multi,[])}function tj(e,t,n,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ug(r,r[kn],this.providerFactory.index,i);o=l.slice(0,a),V_(s,o);for(let c=a;c<l.length;c++)o.push(l[c])}else o=[],V_(s,o);return o}function V_(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function nj(e,t,n,r,i){let s=new Uc(e,n,On);return s.multi=[],s.index=t,s.componentProviders=0,kA(s,i,r&&!n),s}function Ul(e,t=[]){return n=>{n.providersResolver=(r,i)=>QV(r,i?i(e):e,t)}}function DA(e,t){let n=e[t];return n===ls?void 0:n}function rj(e,t,n,r,i,s){let o=t+n;return zs(e,o,i)?yA(e,o+1,s?r.call(s,i):r(i)):DA(e,o+1)}function ij(e,t,n,r,i,s,o){let a=t+n;return R2(e,a,i,s)?yA(e,a+2,o?r.call(o,i,s):r(i,s)):DA(e,a+2)}function Gs(e,t){let n=Di(),r,i=e+ki;n.firstCreatePass?(r=sj(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Pc(r.type,!0)),o,a=ss(On);try{let l=Fg(!1),c=s();return Fg(l),FL(n,Wn(),i,c),c}finally{ss(a)}}function sj(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function p0(e,t,n){let r=e+ki,i=Wn(),s=X_(i,r);return MA(i,r)?rj(i,V4(),t,s.transform,n,s):s.transform(n)}function Wo(e,t,n,r){let i=e+ki,s=Wn(),o=X_(s,i);return MA(s,i)?ij(s,V4(),t,o.transform,n,r,o):o.transform(n,r)}function MA(e,t){return e[kn].data[t].pure}var oj=(()=>{class e{zone=Pt(Gr);changeDetectionScheduler=Pt(Qu);applicationRef=Pt(ed);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=wn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),aj=new Wt("",{factory:()=>!1});function NA({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Gr(Yt(ct({},PA()),{scheduleInRootZone:n})),[{provide:Gr,useFactory:e},{provide:oh,multi:!0,useFactory:()=>{let r=Pt(oj,{optional:!0});return()=>r.initialize()}},{provide:oh,multi:!0,useFactory:()=>{let r=Pt(lj);return()=>{r.initialize()}}},t===!0?{provide:aI,useValue:!0}:[],{provide:lI,useValue:n??oI}]}function RA(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=NA({ngZoneFactory:()=>{let i=PA(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ld("NgZone_CoalesceEvent"),new Gr(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Xg([{provide:aj,useValue:!0},{provide:o0,useValue:!1},r])}function PA(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var lj=(()=>{class e{subscription=new qi;initialized=!1;zone=Pt(Gr);pendingTasks=Pt(ad);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Gr.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Gr.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=wn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var cj=(()=>{class e{appRef=Pt(ed);taskService=Pt(ad);ngZone=Pt(Gr);zonelessEnabled=Pt(o0);tracing=Pt(a0,{optional:!0});disableScheduling=Pt(aI,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qi;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Pt(lI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof o_||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?MT:cI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=wn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uj(){return typeof $localize<"u"&&$localize.locale||Yg}var Eh=new Wt("",{providedIn:"root",factory:()=>Pt(Eh,Cn.Optional|Cn.SkipSelf)||uj()}),OA=new Wt("",{providedIn:"root",factory:()=>GV});var j_=new Wt(""),dj=new Wt("");function nh(e){return!e.moduleRef}function fj(e){let t=nh(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Gr);return n.run(()=>{nh(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Fa,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),nh(e)){let s=()=>t.destroy(),o=e.platformInjector.get(j_);o.add(s),t.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>e.moduleRef.destroy(),o=e.platformInjector.get(j_);o.add(s),e.moduleRef.onDestroy(()=>{Ig(e.allPlatformModules,e.moduleRef),i.unsubscribe(),o.delete(s)})}return pj(r,n,()=>{let s=t.get(wA);return s.runInitializers(),s.donePromise.then(()=>{let o=t.get(Eh,Yg);if(YV(o||Yg),!t.get(dj,!0))return nh(e)?t.get(ed):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(nh(e)){let l=t.get(ed);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return hj(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function hj(e,t){let n=e.injector.get(ed);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new dt(-403,!1);t.push(e)}function pj(e,t,n){try{let r=n();return _h(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Ag=null;function mj(e=[],t){return La.create({name:t,providers:[{provide:Qg,useValue:"platform"},{provide:j_,useValue:new Set([()=>Ag=null])},...e]})}function gj(e=[]){if(Ag)return Ag;let t=mj(e);return Ag=t,fV(),yj(t),t}function yj(e){let t=e.get(l2,null);e0(e,()=>{t?.forEach(n=>n())})}var O2=(()=>{class e{static __NG_ELEMENT_ID__=vj}return e})();function vj(e){return bj(ho(),Wn(),(e&16)===16)}function bj(e,t,n){if(rd(e)&&!n){let r=Vo(e.index,t);return new E_(r,r)}else if(e.type&175){let r=t[fo];return new E_(r,t)}return null}function LA(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;pr(8);try{let s=i?.injector??gj(r),o=[NA({}),{provide:Qu,useExisting:cj},...n||[]],a=new $g({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return fj({r3Injector:a.injector,platformInjector:s,rootComponent:t})}catch(s){return Promise.reject(s)}finally{pr(9)}}function L2(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Ga(e){return pb(e)}function vn(e,t){return ub(e,t?.equal)}var H_=class{[Bs];constructor(t){this[Bs]=t}destroy(){this[Bs].destroy()}};function $c(e,t){!t?.injector&&DL($c);let n=t?.injector??Pt(La),r=t?.manualCleanup!==!0?n.get(s0):null,i,s=n.get(SI,null,{optional:!0}),o=n.get(Qu);return s!==null&&!t?.forceRoot?(i=Ej(s.view,o,e),r instanceof jg&&r._lView===s.view&&(r=null)):i=xj(e,n.get(bA),o),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new H_(i)}var FA=Yt(ct({},Uu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:fh,run(){if(this.dirty=!1,this.hasRun&&!Ym(this))return;this.hasRun=!0;let e=r=>(this.cleanupFns??=[]).push(r),t=Zf(this),n=Lg(!1);try{this.maybeCleanup(),this.fn(e)}finally{Lg(n),Km(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),_j=Yt(ct({},FA),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Jf(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),wj=Yt(ct({},FA),{consumerMarkedDirty(){this.view[ln]|=8192,mh(this.view),this.notifier.notify(13)},destroy(){Jf(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Lc]?.delete(this)}});function Ej(e,t,n){let r=Object.create(wj);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=n,e[Lc]??=new Set,e[Lc].add(r),r.consumerMarkedDirty(r),r}function xj(e,t,n){let r=Object.create(_j);return r.fn=e,r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var Mi=new Wt("");var BA=null;function Ka(){return BA}function F2(e){BA??=e}var xh=class{};var zA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},q2=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(q2||{});var Ni=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Ni||{}),or=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(or||{}),us=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(us||{}),ds={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qA(e){return cs(e)[Ir.LocaleId]}function $A(e,t,n){let r=cs(e),i=[r[Ir.DayPeriodsFormat],r[Ir.DayPeriodsStandalone]],s=Ks(i,t);return Ks(s,n)}function WA(e,t,n){let r=cs(e),i=[r[Ir.DaysFormat],r[Ir.DaysStandalone]],s=Ks(i,t);return Ks(s,n)}function GA(e,t,n){let r=cs(e),i=[r[Ir.MonthsFormat],r[Ir.MonthsStandalone]],s=Ks(i,t);return Ks(s,n)}function KA(e,t){let r=cs(e)[Ir.Eras];return Ks(r,t)}function Sh(e,t){let n=cs(e);return Ks(n[Ir.DateFormat],t)}function Ch(e,t){let n=cs(e);return Ks(n[Ir.TimeFormat],t)}function Th(e,t){let r=cs(e)[Ir.DateTimeFormat];return Ks(r,t)}function Go(e,t){let n=cs(e),r=n[Ir.NumberSymbols][t];if(typeof r>"u"){if(t===ds.CurrencyDecimal)return n[Ir.NumberSymbols][ds.Decimal];if(t===ds.CurrencyGroup)return n[Ir.NumberSymbols][ds.Group]}return r}function YA(e,t){return cs(e)[Ir.NumberFormats][t]}function Sj(e){return cs(e)[Ir.Currencies]}function ZA(e){if(!e[Ir.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ir.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function JA(e){let t=cs(e);return ZA(t),(t[Ir.ExtraData][2]||[]).map(r=>typeof r=="string"?B2(r):[B2(r[0]),B2(r[1])])}function XA(e,t,n){let r=cs(e);ZA(r);let i=[r[Ir.ExtraData][0],r[Ir.ExtraData][1]],s=Ks(i,t)||[];return Ks(s,n)||[]}function Ks(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function B2(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}function QA(e,t,n="en"){let r=Sj(n)[e]||zA[e]||[],i=r[1];return t==="narrow"&&typeof i=="string"?i:r[0]||e}var Cj=2;function e6(e){let t,n=zA[e];return n&&(t=n[2]),typeof t=="number"?t:Cj}var Tj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,m0={},Ij=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function t6(e,t,n,r){let i=Lj(e);t=Ya(n,t)||t;let o=[],a;for(;t;)if(a=Ij.exec(t),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;t=u}else{o.push(t);break}let l=i.getTimezoneOffset();r&&(l=r6(r,l),i=Oj(i,r));let c="";return o.forEach(u=>{let d=Rj(u);c+=d?d(i,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function _0(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Ya(e,t){let n=qA(e);if(m0[n]??={},m0[n][t])return m0[n][t];let r="";switch(t){case"shortDate":r=Sh(e,us.Short);break;case"mediumDate":r=Sh(e,us.Medium);break;case"longDate":r=Sh(e,us.Long);break;case"fullDate":r=Sh(e,us.Full);break;case"shortTime":r=Ch(e,us.Short);break;case"mediumTime":r=Ch(e,us.Medium);break;case"longTime":r=Ch(e,us.Long);break;case"fullTime":r=Ch(e,us.Full);break;case"short":let i=Ya(e,"shortTime"),s=Ya(e,"shortDate");r=g0(Th(e,us.Short),[i,s]);break;case"medium":let o=Ya(e,"mediumTime"),a=Ya(e,"mediumDate");r=g0(Th(e,us.Medium),[o,a]);break;case"long":let l=Ya(e,"longTime"),c=Ya(e,"longDate");r=g0(Th(e,us.Long),[l,c]);break;case"full":let u=Ya(e,"fullTime"),d=Ya(e,"fullDate");r=g0(Th(e,us.Full),[u,d]);break}return r&&(m0[n][t]=r),r}function g0(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function mo(e,t,n="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.slice(o.length-t)),s+o}function Aj(e,t){return mo(e,3).substring(0,t)}function Yr(e,t,n=0,r=!1,i=!1){return function(s,o){let a=kj(e,s);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return Aj(a,t);let l=Go(o,ds.MinusSign);return mo(a,t,l,r,i)}}function kj(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function mr(e,t,n=Ni.Format,r=!1){return function(i,s){return Dj(i,s,e,t,n,r)}}function Dj(e,t,n,r,i,s){switch(n){case 2:return GA(t,i,r)[e.getMonth()];case 1:return WA(t,i,r)[e.getDay()];case 0:let o=e.getHours(),a=e.getMinutes();if(s){let c=JA(t),u=XA(t,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,m=o>=f.hours&&a>=f.minutes,g=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(m&&g)return!0}else if(m||g)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return $A(t,i,r)[o<12?0:1];case 3:return KA(t,r)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function y0(e){return function(t,n,r){let i=-1*r,s=Go(n,ds.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+mo(o,2,s)+mo(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+mo(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+mo(o,2,s)+":"+mo(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+mo(o,2,s)+":"+mo(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}var Mj=0,b0=4;function Nj(e){let t=_0(e,Mj,1).getDay();return _0(e,0,1+(t<=b0?b0:b0+7)-t)}function n6(e){let t=e.getDay(),n=t===0?-3:b0-t;return _0(e.getFullYear(),e.getMonth(),e.getDate()+n)}function U2(e,t=!1){return function(n,r){let i;if(t){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=n6(n),o=Nj(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return mo(i,e,Go(r,ds.MinusSign))}}function v0(e,t=!1){return function(n,r){let s=n6(n).getFullYear();return mo(s,e,Go(r,ds.MinusSign),t)}}var V2={};function Rj(e){if(V2[e])return V2[e];let t;switch(e){case"G":case"GG":case"GGG":t=mr(3,or.Abbreviated);break;case"GGGG":t=mr(3,or.Wide);break;case"GGGGG":t=mr(3,or.Narrow);break;case"y":t=Yr(0,1,0,!1,!0);break;case"yy":t=Yr(0,2,0,!0,!0);break;case"yyy":t=Yr(0,3,0,!1,!0);break;case"yyyy":t=Yr(0,4,0,!1,!0);break;case"Y":t=v0(1);break;case"YY":t=v0(2,!0);break;case"YYY":t=v0(3);break;case"YYYY":t=v0(4);break;case"M":case"L":t=Yr(1,1,1);break;case"MM":case"LL":t=Yr(1,2,1);break;case"MMM":t=mr(2,or.Abbreviated);break;case"MMMM":t=mr(2,or.Wide);break;case"MMMMM":t=mr(2,or.Narrow);break;case"LLL":t=mr(2,or.Abbreviated,Ni.Standalone);break;case"LLLL":t=mr(2,or.Wide,Ni.Standalone);break;case"LLLLL":t=mr(2,or.Narrow,Ni.Standalone);break;case"w":t=U2(1);break;case"ww":t=U2(2);break;case"W":t=U2(1,!0);break;case"d":t=Yr(2,1);break;case"dd":t=Yr(2,2);break;case"c":case"cc":t=Yr(7,1);break;case"ccc":t=mr(1,or.Abbreviated,Ni.Standalone);break;case"cccc":t=mr(1,or.Wide,Ni.Standalone);break;case"ccccc":t=mr(1,or.Narrow,Ni.Standalone);break;case"cccccc":t=mr(1,or.Short,Ni.Standalone);break;case"E":case"EE":case"EEE":t=mr(1,or.Abbreviated);break;case"EEEE":t=mr(1,or.Wide);break;case"EEEEE":t=mr(1,or.Narrow);break;case"EEEEEE":t=mr(1,or.Short);break;case"a":case"aa":case"aaa":t=mr(0,or.Abbreviated);break;case"aaaa":t=mr(0,or.Wide);break;case"aaaaa":t=mr(0,or.Narrow);break;case"b":case"bb":case"bbb":t=mr(0,or.Abbreviated,Ni.Standalone,!0);break;case"bbbb":t=mr(0,or.Wide,Ni.Standalone,!0);break;case"bbbbb":t=mr(0,or.Narrow,Ni.Standalone,!0);break;case"B":case"BB":case"BBB":t=mr(0,or.Abbreviated,Ni.Format,!0);break;case"BBBB":t=mr(0,or.Wide,Ni.Format,!0);break;case"BBBBB":t=mr(0,or.Narrow,Ni.Format,!0);break;case"h":t=Yr(3,1,-12);break;case"hh":t=Yr(3,2,-12);break;case"H":t=Yr(3,1);break;case"HH":t=Yr(3,2);break;case"m":t=Yr(4,1);break;case"mm":t=Yr(4,2);break;case"s":t=Yr(5,1);break;case"ss":t=Yr(5,2);break;case"S":t=Yr(6,1);break;case"SS":t=Yr(6,2);break;case"SSS":t=Yr(6,3);break;case"Z":case"ZZ":case"ZZZ":t=y0(0);break;case"ZZZZZ":t=y0(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=y0(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=y0(2);break;default:return null}return V2[e]=t,t}function r6(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Pj(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Oj(e,t,n){let i=e.getTimezoneOffset(),s=r6(t,i);return Pj(e,-1*(s-i))}function Lj(e){if(UA(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,s=1,o=1]=e.split("-").map(a=>+a);return _0(i,s-1,o)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(Tj))return Fj(r)}let t=new Date(e);if(!UA(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function Fj(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return s.call(t,o,a,l,c),t}function UA(e){return e instanceof Date&&!isNaN(e.valueOf())}var Bj=/^(\d+)?\.((\d+)(-(\d+))?)?$/,VA=22,w0=".",Ih="0",Uj=";",Vj=",",j2="#",jA="\xA4";function jj(e,t,n,r,i,s,o=!1){let a="",l=!1;if(!isFinite(e))a=Go(n,ds.Infinity);else{let c=qj(e);o&&(c=zj(c));let u=t.minInt,d=t.minFrac,h=t.maxFrac;if(s){let x=s.match(Bj);if(x===null)throw new Error(`${s} is not a valid digit info`);let I=x[1],R=x[3],$=x[5];I!=null&&(u=H2(I)),R!=null&&(d=H2(R)),$!=null?h=H2($):R!=null&&d>h&&(h=d)}$j(c,d,h);let f=c.digits,p=c.integerLen,m=c.exponent,g=[];for(l=f.every(x=>!x);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);let v=[];for(f.length>=t.lgSize&&v.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)v.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),a=v.join(Go(n,r)),g.length&&(a+=Go(n,i)+g.join("")),m&&(a+=Go(n,ds.Exponential)+"+"+m)}return e<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function i6(e,t,n,r,i){let s=YA(t,q2.Currency),o=Hj(s,Go(t,ds.MinusSign));return o.minFrac=e6(r),o.maxFrac=o.minFrac,jj(e,o,t,ds.CurrencyGroup,ds.CurrencyDecimal,i).replace(jA,n).replace(jA,"").trim()}function Hj(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(Uj),i=r[0],s=r[1],o=i.indexOf(w0)!==-1?i.split(w0):[i.substring(0,i.lastIndexOf(Ih)+1),i.substring(i.lastIndexOf(Ih)+1)],a=o[0],l=o[1]||"";n.posPre=a.substring(0,a.indexOf(j2));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Ih?n.minFrac=n.maxFrac=u+1:d===j2?n.maxFrac=u+1:n.posSuf+=d}let c=a.split(Vj);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){let u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(j2);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function zj(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function qj(e){let t=Math.abs(e)+"",n=0,r,i,s,o,a;for((i=t.indexOf(w0))>-1&&(t=t.replace(w0,"")),(s=t.search(/e/i))>0?(i<0&&(i=s),i+=+t.slice(s+1),t=t.substring(0,s)):i<0&&(i=t.length),s=0;t.charAt(s)===Ih;s++);if(s===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===Ih;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(t.charAt(s))}return i>VA&&(r=r.splice(0,VA-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function $j(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen,s=Math.min(Math.max(t,i),n),o=s+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=s!==0,c=t+e.integerLen,u=r.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,l&&(p[f]===0&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}function H2(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var z2=/\s+/,HA=[],Ah=(()=>{class e{_ngEl;_renderer;initialClasses=HA;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(z2):HA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(z2):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(z2).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(On(Bl),On(qc))};static \u0275dir=di({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();function s6(e,t){return new dt(2100,!1)}var Wj="mediumDate",o6=new Wt(""),a6=new Wt(""),Za=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??Wj,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return t6(n,o,s||this.locale,a)}catch(o){throw s6(e,o.message)}}static \u0275fac=function(r){return new(r||e)(On(Eh,16),On(o6,24),On(a6,24))};static \u0275pipe=N2({name:"date",type:e,pure:!0})}return e})();var kh=(()=>{class e{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!Gj(n))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=QA(a,i==="symbol"?"wide":"narrow",o):a=i);try{let l=Kj(n);return i6(l,o,a,r,s)}catch(l){throw s6(e,l.message)}}static \u0275fac=function(r){return new(r||e)(On(Eh,16),On(OA,16))};static \u0275pipe=N2({name:"currency",type:e,pure:!0})}return e})();function Gj(e){return!(e==null||e===""||e!==e)}function Kj(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var Zr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wa({type:e});static \u0275inj=Va({})}return e})();function Dh(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}var $2="browser",l6="server";function E0(e){return e===l6}var Wc=class{};var C0=new Wt(""),Y2=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new dt(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(pn(C0),pn(Gr))};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})(),Nh=class{_doc;constructor(t){this._doc=t}manager},x0="ng-app-id";function c6(e){for(let t of e)t.remove()}function u6(e,t){let n=t.createElement("style");return n.textContent=e,n}function Zj(e,t,n,r){let i=e.head?.querySelectorAll(`style[${x0}="${t}"],link[${x0}="${t}"]`);if(i)for(let s of i)s.removeAttribute(x0),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function G2(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Z2=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=E0(s),Zj(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,u6);r?.forEach(i=>this.addUsage(i,this.external,G2))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(c6(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])c6(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,u6(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,G2(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(x0,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(pn(Mi),pn(a2),pn(u2,8),pn(vh))};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})(),W2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},J2=/%COMP%/g;var f6="%COMP%",Jj=`_nghost-${f6}`,Xj=`_ngcontent-${f6}`,Qj=!0,eH=new Wt("",{providedIn:"root",factory:()=>Qj});function tH(e){return Xj.replace(J2,e)}function nH(e){return Jj.replace(J2,e)}function h6(e,t){return t.map(n=>n.replace(J2,e))}var Oh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,s,o,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=E0(a),this.defaultRenderer=new Rh(n,o,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jo.ShadowDom&&(r=Yt(ct({},r),{encapsulation:jo.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof S0?i.applyToHost(n):i instanceof Ph&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case jo.Emulated:s=new S0(l,c,r,this.appId,u,o,a,d,h);break;case jo.ShadowDom:return new K2(l,c,n,r,o,a,this.nonce,d,h);default:s=new Ph(l,c,r,u,o,a,d,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(pn(Y2),pn(Z2),pn(a2),pn(eH),pn(Mi),pn(vh),pn(Gr),pn(u2),pn(a0,8))};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})(),Rh=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,s){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(W2[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(d6(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(d6(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new dt(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let s=W2[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=W2[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Ua.DashCase|Ua.Important)?t.style.setProperty(n,r,i&Ua.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ua.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Ka().getGlobalEventTarget(this.doc,t),!t))throw new dt(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,n,s)),this.eventManager.addEventListener(t,n,s,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function d6(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var K2=class extends Rh{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,s,o,a,l,c){super(t,s,o,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=h6(i.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let h of d){let f=G2(h,s);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ph=class extends Rh{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,s,o,a,l,c){super(t,s,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?h6(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},S0=class extends Ph{contentAttr;hostAttr;constructor(t,n,r,i,s,o,a,l,c){let u=i+"-"+r.id;super(t,n,r,s,o,a,l,c,u),this.contentAttr=tH(u),this.hostAttr=nH(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var T0=class e extends xh{supportsDOMEvents=!0;static makeCurrent(){F2(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=rH();return n==null?null:iH(n)}resetBaseElement(){Lh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Dh(document.cookie,t)}},Lh=null;function rH(){return Lh=Lh||document.head.querySelector("base"),Lh?Lh.getAttribute("href"):null}function iH(e){return new URL(e,document.baseURI).pathname}var sH=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})(),m6=(()=>{class e extends Nh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||e)(pn(Mi))};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})(),p6=["alt","control","meta","shift"],oH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aH={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},g6=(()=>{class e extends Nh{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ka().onAndCancel(n,o.domEventName,a,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=e._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),p6.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=oH[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),p6.forEach(o=>{if(o!==i){let a=aH[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(pn(Mi))};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})();function X2(e,t,n){return LA(ct({rootComponent:e,platformRef:n?.platformRef},lH(t)))}function lH(e){return{appProviders:[...hH,...e?.providers??[]],platformProviders:fH}}function cH(){T0.makeCurrent()}function uH(){return new Fa}function dH(){return _I(document),document}var fH=[{provide:vh,useValue:$2},{provide:l2,useValue:cH,multi:!0},{provide:Mi,useFactory:dH}];var hH=[{provide:Qg,useValue:"root"},{provide:Fa,useFactory:uH},{provide:C0,useClass:m6,multi:!0,deps:[Mi]},{provide:C0,useClass:g6,multi:!0,deps:[Mi]},Oh,Z2,Y2,{provide:Fl,useExisting:Oh},{provide:Wc,useClass:sH},[]];var ud=class{},Bh=class{},Gc=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=n.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=t.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var A0=class{encodeKey(t){return y6(t)}encodeValue(t){return y6(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function pH(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var mH=/%(\d[a-f0-9])/gi,gH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function y6(e){return encodeURIComponent(e).replace(mH,(t,n)=>gH[n]??t)}function I0(e){return`${e}`}var Vl=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new A0,t.fromString){if(t.fromObject)throw new dt(2805,!1);this.map=pH(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(I0):[I0(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(I0(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(I0(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var k0=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function yH(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function v6(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function b6(e){return typeof Blob<"u"&&e instanceof Blob}function _6(e){return typeof FormData<"u"&&e instanceof FormData}function vH(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var w6="Content-Type",E6="Accept",x6="X-Request-URL",S6="text/plain",C6="application/json",bH=`${C6}, ${S6}, */*`,Fh=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let s;if(yH(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Gc,this.context??=new k0,!this.params)this.params=new Vl,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||v6(this.body)||b6(this.body)||_6(this.body)||vH(this.body)?this.body:this.body instanceof Vl?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_6(this.body)?null:b6(this.body)?this.body.type||null:v6(this.body)?null:typeof this.body=="string"?S6:this.body instanceof Vl?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?C6:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new e(n,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}},cd=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(cd||{}),dd=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new Gc,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},D0=class e extends dd{constructor(t={}){super(t)}type=cd.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},M0=class e extends dd{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=cd.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},N0=class extends dd{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},_H=200,wH=204;function Q2(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var EH=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Fh)s=n;else{let l;i.headers instanceof Gc?l=i.headers:l=new Gc(i.headers);let c;i.params&&(i.params instanceof Vl?c=i.params:c=new Vl({fromObject:i.params})),s=new Fh(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=vg(s).pipe(Cb(l=>this.handler.handle(l)));if(n instanceof Fh||i.observe==="events")return o;let a=o.pipe(Sb(l=>l instanceof M0));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(is(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new dt(2806,!1);return l.body}));case"blob":return a.pipe(is(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new dt(2807,!1);return l.body}));case"text":return a.pipe(is(l=>{if(l.body!==null&&typeof l.body!="string")throw new dt(2808,!1);return l.body}));case"json":default:return a.pipe(is(l=>l.body))}case"response":return a;default:throw new dt(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Vl().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Q2(i,r))}post(n,r,i={}){return this.request("POST",n,Q2(i,r))}put(n,r,i={}){return this.request("PUT",n,Q2(i,r))}static \u0275fac=function(r){return new(r||e)(pn(ud))};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})();var xH=new Wt("");function SH(e,t){return t(e)}function CH(e,t,n){return(r,i)=>e0(n,()=>t(r,s=>e(s,i)))}var T6=new Wt(""),TH=new Wt(""),I6=new Wt("",{providedIn:"root",factory:()=>!0});var R0=(()=>{class e extends ud{backend;injector;chain=null;pendingTasks=Pt(ad);contributeToStability=Pt(I6);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(T6),...this.injector.get(TH,[])]));this.chain=r.reduceRight((i,s)=>CH(i,s,this.injector),SH)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Tb(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(pn(Bh),pn(Ra))};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})();var IH=/^\)\]\}',?\n/,AH=RegExp(`^${x6}:`,"m");function kH(e){return"responseURL"in e&&e.responseURL?e.responseURL:AH.test(e.getAllResponseHeaders())?e.getResponseHeader(x6):null}var ew=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new dt(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Mc(r.\u0275loadImpl()):vg(null)).pipe(Ib(()=>new Vr(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((m,g)=>o.setRequestHeader(m,g.join(","))),n.headers.has(E6)||o.setRequestHeader(E6,bH),!n.headers.has(w6)){let m=n.detectContentTypeHeader();m!==null&&o.setRequestHeader(w6,m)}if(n.responseType){let m=n.responseType.toLowerCase();o.responseType=m!=="json"?m:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=o.statusText||"OK",g=new Gc(o.getAllResponseHeaders()),v=kH(o)||n.url;return l=new D0({headers:g,status:o.status,statusText:m,url:v}),l},u=()=>{let{headers:m,status:g,statusText:v,url:x}=c(),I=null;g!==wH&&(I=typeof o.response>"u"?o.responseText:o.response),g===0&&(g=I?_H:0);let R=g>=200&&g<300;if(n.responseType==="json"&&typeof I=="string"){let $=I;I=I.replace(IH,"");try{I=I!==""?JSON.parse(I):null}catch(F){I=$,R&&(R=!1,I={error:F,text:I})}}R?(s.next(new M0({body:I,headers:m,status:g,statusText:v,url:x||void 0})),s.complete()):s.error(new N0({error:I,headers:m,status:g,statusText:v,url:x||void 0}))},d=m=>{let{url:g}=c(),v=new N0({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:g||void 0});s.error(v)},h=!1,f=m=>{h||(s.next(c()),h=!0);let g={type:cd.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),n.responseType==="text"&&o.responseText&&(g.partialText=o.responseText),s.next(g)},p=m=>{let g={type:cd.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),a!==null&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:cd.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),a!==null&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||e)(pn(Wc))};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})(),A6=new Wt(""),DH="XSRF-TOKEN",MH=new Wt("",{providedIn:"root",factory:()=>DH}),NH="X-XSRF-TOKEN",RH=new Wt("",{providedIn:"root",factory:()=>NH}),Uh=class{},PH=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Dh(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(pn(Mi),pn(MH))};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})(),OH=/^(?:https?:)?\/\//i;function LH(e,t){if(!Pt(A6)||e.method==="GET"||e.method==="HEAD"||OH.test(e.url))return t(e);let n=Pt(Uh).getToken(),r=Pt(RH);return n!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}function tw(...e){let t=[EH,ew,R0,{provide:ud,useExisting:R0},{provide:Bh,useFactory:()=>Pt(xH,{optional:!0})??Pt(ew)},{provide:T6,useValue:LH,multi:!0},{provide:A6,useValue:!0},{provide:Uh,useClass:PH}];for(let n of e)t.push(...n.\u0275providers);return Xg(t)}var Kc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=wn({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=pn(BH),i},providedIn:"root"})}return e})(),BH=(()=>{class e extends Kc{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case $a.NONE:return r;case $a.HTML:return Hc(r,"HTML")?za(r):f2(this._doc,String(r)).toString();case $a.STYLE:return Hc(r,"Style")?za(r):r;case $a.SCRIPT:if(Hc(r,"Script"))return za(r);throw new dt(5200,!1);case $a.URL:return Hc(r,"URL")?za(r):d2(String(r));case $a.RESOURCE_URL:if(Hc(r,"ResourceURL"))return za(r);throw new dt(5201,!1);default:throw new dt(5202,!1)}}bypassSecurityTrustHtml(n){return AI(n)}bypassSecurityTrustStyle(n){return kI(n)}bypassSecurityTrustScript(n){return DI(n)}bypassSecurityTrustUrl(n){return MI(n)}bypassSecurityTrustResourceUrl(n){return NI(n)}static \u0275fac=function(r){return new(r||e)(pn(Mi))};static \u0275prov=wn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var k6=()=>{};var rw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var ut=function(e,t){if(!e)throw Yc(t)},Yc=function(e){return new Error("Firebase Database ("+rw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var N6=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},UH=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{let s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(N6(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):UH(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let c=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new iw;let h=s<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},iw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ow=function(e){let t=N6(e);return O0.encodeByteArray(t,!0)},jh=function(e){return ow(e).replace(/\./g,"")},fd=function(e){try{return O0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function R6(e){return P6(void 0,e)}function P6(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!VH(n)||(e[n]=P6(e[n],t[n]));return e}function VH(e){return e!=="__proto__"}function jH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var HH=()=>jH().__FIREBASE_DEFAULTS__,zH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qH=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&fd(e[1]);return t&&JSON.parse(t)},aw=()=>{try{return k6()||HH()||zH()||qH()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},lw=e=>aw()?.emulatorHosts?.[e],O6=e=>{let t=lw(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},cw=()=>aw()?.config,uw=e=>aw()?.[`_${e}`];var Ja=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function jl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function L0(e){return(await fetch(e,{credentials:"include"})).ok}function L6(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=ct({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[jh(JSON.stringify(n)),jh(JSON.stringify(o)),""].join(".")}var Vh={};function $H(){let e={prod:[],emulator:[]};for(let t of Object.keys(Vh))Vh[t]?e.emulator.push(t):e.prod.push(t);return e}function WH(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var D6=!1;function F0(e,t){if(typeof window>"u"||typeof document>"u"||!jl(window.location.host)||Vh[e]===t||Vh[e]||D6)return;Vh[e]=t;function n(h){return`__firebase__banner__${h}`}let r="__firebase__banner",s=$H().prod.length>0;function o(){let h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{D6=!0,o()},h}function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){let h=WH(r),f=n("text"),p=document.getElementById(f)||document.createElement("span"),m=n("learnmore"),g=document.getElementById(m)||document.createElement("a"),v=n("preprendIcon"),x=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let I=h.element;a(I),u(g,m);let R=c();l(x,v),I.append(x,p,g,R),document.body.appendChild(I)}s?(p.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Ri(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ri())}function F6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B6(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function B0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U6(){let e=Ri();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ko(){return rw.NODE_CLIENT===!0||rw.NODE_ADMIN===!0}function V6(){try{return typeof indexedDB=="object"}catch{return!1}}function j6(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}var GH="FirebaseError",go=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=GH,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xa.prototype.create)}},Xa=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?KH(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new go(i,a,r)}};function KH(e,t){return e.replace(YH,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var YH=/\{\$([^}]+)}/g;function hd(e){return JSON.parse(e)}function ai(e){return JSON.stringify(e)}var H6=function(e){let t={},n={},r={},i="";try{let s=e.split(".");t=hd(fd(s[0])||""),n=hd(fd(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var z6=function(e){let t=H6(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},q6=function(e){let t=H6(e).claims;return typeof t=="object"&&t.admin===!0};function yo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Zc(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function zh(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function qh(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Yo(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let s=e[i],o=t[i];if(M6(s)&&M6(o)){if(!Yo(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function M6(e){return e!==null&&typeof e=="object"}function Jc(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pd(e){let t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function md(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var P0=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}};function $6(e,t){let n=new sw(e,t);return n.subscribe.bind(n)}var sw=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZH(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=nw),i.error===void 0&&(i.error=nw),i.complete===void 0&&(i.complete=nw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ZH(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function nw(){}function $h(e,t){return`${e} failed: ${t} argument `}var W6=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,ut(r<e.length,"Surrogate pair missing trail surrogate.");let o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Wh=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var Ope=4*60*60*1e3;function _i(e){return e&&e._delegate?e._delegate:e}var Ys=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Xc="[DEFAULT]";var U0=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new Ja;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){let n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(XH(t))try{this.getOrInitializeService({instanceIdentifier:Xc})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Xc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){let t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xc){return this.instances.has(t)}getOptions(t=Xc){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JH(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xc){return this.component?this.component.multipleInstances?t:Xc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JH(e){return e===Xc?void 0:e}function XH(e){return e.instantiationMode==="EAGER"}var Gh=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new U0(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var QH=[],ir=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ir||{}),ez={debug:ir.DEBUG,verbose:ir.VERBOSE,info:ir.INFO,warn:ir.WARN,error:ir.ERROR,silent:ir.SILENT},tz=ir.INFO,nz={[ir.DEBUG]:"log",[ir.VERBOSE]:"log",[ir.INFO]:"info",[ir.WARN]:"warn",[ir.ERROR]:"error"},rz=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=nz[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Hl=class{constructor(t){this.name=t,this._logLevel=tz,this._logHandler=rz,this._userLogHandler=null,QH.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ir))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ez[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ir.DEBUG,...t),this._logHandler(this,ir.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ir.VERBOSE,...t),this._logHandler(this,ir.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ir.INFO,...t),this._logHandler(this,ir.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ir.WARN,...t),this._logHandler(this,ir.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ir.ERROR,...t),this._logHandler(this,ir.ERROR,...t)}};var iz=(e,t)=>t.some(n=>e instanceof n),G6,K6;function sz(){return G6||(G6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oz(){return K6||(K6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Y6=new WeakMap,fw=new WeakMap,Z6=new WeakMap,dw=new WeakMap,pw=new WeakMap;function az(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Zo(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Y6.set(n,e)}).catch(()=>{}),pw.set(t,e),t}function lz(e){if(fw.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});fw.set(e,t)}var hw={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return fw.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Z6.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function J6(e){hw=e(hw)}function cz(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(V0(this),t,...n);return Z6.set(r,t.sort?t.sort():[t]),Zo(r)}:oz().includes(e)?function(...t){return e.apply(V0(this),t),Zo(Y6.get(this))}:function(...t){return Zo(e.apply(V0(this),t))}}function uz(e){return typeof e=="function"?cz(e):(e instanceof IDBTransaction&&lz(e),iz(e,sz())?new Proxy(e,hw):e)}function Zo(e){if(e instanceof IDBRequest)return az(e);if(dw.has(e))return dw.get(e);let t=uz(e);return t!==e&&(dw.set(e,t),pw.set(t,e)),t}var V0=e=>pw.get(e);function Q6(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(e,t),a=Zo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zo(o.result),l.oldVersion,l.newVersion,Zo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var dz=["get","getKey","getAll","getAllKeys","count"],fz=["put","add","delete","clear"],mw=new Map;function X6(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(mw.get(t))return mw.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=fz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dz.includes(n)))return;let s=async function(o,...a){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return mw.set(t,s),s}J6(e=>Yt(ct({},e),{get:(t,n,r)=>X6(t,n)||e.get(t,n,r),has:(t,n)=>!!X6(t,n)||e.has(t,n)}));var yw=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hz(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function hz(e){return e.getComponent()?.type==="VERSION"}var vw="@firebase/app",ek="0.14.7";var Qa=new Hl("@firebase/app"),pz="@firebase/app-compat",mz="@firebase/analytics-compat",gz="@firebase/analytics",yz="@firebase/app-check-compat",vz="@firebase/app-check",bz="@firebase/auth",_z="@firebase/auth-compat",wz="@firebase/database",Ez="@firebase/data-connect",xz="@firebase/database-compat",Sz="@firebase/functions",Cz="@firebase/functions-compat",Tz="@firebase/installations",Iz="@firebase/installations-compat",Az="@firebase/messaging",kz="@firebase/messaging-compat",Dz="@firebase/performance",Mz="@firebase/performance-compat",Nz="@firebase/remote-config",Rz="@firebase/remote-config-compat",Pz="@firebase/storage",Oz="@firebase/storage-compat",Lz="@firebase/firestore",Fz="@firebase/ai",Bz="@firebase/firestore-compat",Uz="firebase",Vz="12.8.0";var bw="[DEFAULT]",jz={[vw]:"fire-core",[pz]:"fire-core-compat",[gz]:"fire-analytics",[mz]:"fire-analytics-compat",[vz]:"fire-app-check",[yz]:"fire-app-check-compat",[bz]:"fire-auth",[_z]:"fire-auth-compat",[wz]:"fire-rtdb",[Ez]:"fire-data-connect",[xz]:"fire-rtdb-compat",[Sz]:"fire-fn",[Cz]:"fire-fn-compat",[Tz]:"fire-iid",[Iz]:"fire-iid-compat",[Az]:"fire-fcm",[kz]:"fire-fcm-compat",[Dz]:"fire-perf",[Mz]:"fire-perf-compat",[Nz]:"fire-rc",[Rz]:"fire-rc-compat",[Pz]:"fire-gcs",[Oz]:"fire-gcs-compat",[Lz]:"fire-fst",[Bz]:"fire-fst-compat",[Fz]:"fire-vertex","fire-js":"fire-js",[Uz]:"fire-js-all"};var Kh=new Map,Hz=new Map,_w=new Map;function tk(e,t){try{e.container.addComponent(t)}catch(n){Qa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ql(e){let t=e.name;if(_w.has(t))return Qa.debug(`There were multiple attempts to register component ${t}.`),!1;_w.set(t,e);for(let n of Kh.values())tk(n,e);for(let n of Hz.values())tk(n,e);return!0}function Zh(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fs(e){return e==null?!1:e.settings!==void 0}var zz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zl=new Xa("app","Firebase",zz);var ww=class{constructor(t,n,r){this._isDeleted=!1,this._options=ct({},t),this._config=ct({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zl.create("app-deleted",{appName:this._name})}};var $l=Vz;function Jh(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=ct({name:bw,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw zl.create("bad-app-name",{appName:String(i)});if(n||(n=cw()),!n)throw zl.create("no-options");let s=Kh.get(i);if(s){if(Yo(n,s.options)&&Yo(r,s.config))return s;throw zl.create("duplicate-app",{appName:i})}let o=new Gh(i);for(let l of _w.values())o.addComponent(l);let a=new ww(n,r,o);return Kh.set(i,a),a}function gd(e=bw){let t=Kh.get(e);if(!t&&e===bw&&cw())return Jh();if(!t)throw zl.create("no-app",{appName:e});return t}function sk(){return Array.from(Kh.values())}function vo(e,t,n){let r=jz[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qa.warn(o.join(" "));return}ql(new Ys(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var qz="firebase-heartbeat-database",$z=1,Yh="firebase-heartbeat-store",gw=null;function ok(){return gw||(gw=Q6(qz,$z,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Yh)}catch(n){console.warn(n)}}}}).catch(e=>{throw zl.create("idb-open",{originalErrorMessage:e.message})})),gw}async function Wz(e){try{let n=(await ok()).transaction(Yh),r=await n.objectStore(Yh).get(ak(e));return await n.done,r}catch(t){if(t instanceof go)Qa.warn(t.message);else{let n=zl.create("idb-get",{originalErrorMessage:t?.message});Qa.warn(n.message)}}}async function nk(e,t){try{let r=(await ok()).transaction(Yh,"readwrite");await r.objectStore(Yh).put(t,ak(e)),await r.done}catch(n){if(n instanceof go)Qa.warn(n.message);else{let r=zl.create("idb-set",{originalErrorMessage:n?.message});Qa.warn(r.message)}}}function ak(e){return`${e.name}!${e.options.appId}`}var Gz=1024,Kz=30,Ew=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new xw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rk();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Kz){let i=Zz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Qa.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=rk(),{heartbeatsToSend:n,unsentEntries:r}=Yz(this._heartbeatsCache.heartbeats),i=jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Qa.warn(t),""}}};function rk(){return new Date().toISOString().substring(0,10)}function Yz(e,t=Gz){let n=[],r=e.slice();for(let i of e){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ik(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ik(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var xw=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V6()?j6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await Wz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){let r=await this.read();return nk(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){let r=await this.read();return nk(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}};function ik(e){return jh(JSON.stringify({version:2,heartbeats:e})).length}function Zz(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Jz(e){ql(new Ys("platform-logger",t=>new yw(t),"PRIVATE")),ql(new Ys("heartbeat",t=>new Ew(t),"PRIVATE")),vo(vw,ek,e),vo(vw,ek,"esm2020"),vo("fire-js","")}Jz("");var Xz="firebase",Qz="12.8.0";vo(Xz,Qz,"app");var lk="@firebase/database",ck="1.1.0";var D5="";function eq(e){D5=e}var Mw=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ai(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:hd(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Nw=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return yo(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var jk=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Mw(t)}}catch{}return new Nw},eu=jk("localStorage"),Rw=jk("sessionStorage");var bd=new Hl("@firebase/database"),tq=function(){let e=1;return function(){return e++}}(),Hk=function(e){let t=W6(e),n=new P0;n.update(t);let r=n.digest();return O0.encodeByteArray(r)},mp=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=mp.apply(null,r):typeof r=="object"?t+=ai(r):t+=r,t+=" "}return t},tu=null,uk=!0,nq=function(e,t){ut(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(bd.logLevel=ir.VERBOSE,tu=bd.log.bind(bd),t&&Rw.set("logging_enabled",!0)):typeof e=="function"?tu=e:(tu=null,Rw.remove("logging_enabled"))},wi=function(...e){if(uk===!0&&(uk=!1,tu===null&&Rw.get("logging_enabled")===!0&&nq(!0)),tu){let t=mp.apply(null,e);tu(t)}},gp=function(e){return function(...t){wi(e,...t)}},Pw=function(...e){let t="FIREBASE INTERNAL ERROR: "+mp(...e);bd.error(t)},el=function(...e){let t=`FIREBASE FATAL ERROR: ${mp(...e)}`;throw bd.error(t),new Error(t)},Ki=function(...e){let t="FIREBASE WARNING: "+mp(...e);bd.warn(t)},rq=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ki("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},M5=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},iq=function(e){if(Ko()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ed="[MIN_NAME]",nu="[MAX_NAME]",iu=function(e,t){if(e===t)return 0;if(e===Ed||t===nu)return-1;if(t===Ed||e===nu)return 1;{let n=dk(e),r=dk(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},sq=function(e,t){return e===t?0:e<t?-1:1},Xh=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ai(t))},N5=function(e){if(typeof e!="object"||e===null)return ai(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ai(t[r]),n+=":",n+=N5(e[t[r]]);return n+="}",n},zk=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ei(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var qk=function(e){ut(!M5(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,s,o,a,l;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},oq=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},aq=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lq(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var cq=new RegExp("^-?(0*)\\d{1,10}$"),uq=-2147483648,dq=2147483647,dk=function(e){if(cq.test(e)){let t=Number(e);if(t>=uq&&t<=dq)return t}return null},Dd=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw Ki("Exception was thrown by user callback.",n),t},Math.floor(0))}},fq=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rp=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Ow=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,fs(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Ki(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Lw=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(wi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ki(t)}},ip=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),H0="5",$k="v",Wk="s",Gk="r",Kk="f",Yk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Zk="ls",Jk="p",Fw="ac",Xk="websocket",Qk="long_polling";var z0=class{constructor(t,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eu.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&eu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function hq(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function eD(e,t,n){ut(typeof t=="string","typeof type must == string"),ut(typeof n=="object","typeof params must == object");let r;if(t===Xk)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Qk)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);hq(e)&&(n.ns=e.namespace);let i=[];return Ei(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var Bw=class{constructor(){this.counters_={}}incrementCounter(t,n=1){yo(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return R6(this.counters_)}};var Sw={},Cw={};function R5(e){let t=e.toString();return Sw[t]||(Sw[t]=new Bw),Sw[t]}function pq(e,t){let n=e.toString();return Cw[n]||(Cw[n]=t()),Cw[n]}var Uw=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Dd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var fk="start",mq="close",gq="pLPCommand",yq="pRTLPCB",tD="id",nD="pw",rD="ser",vq="cb",bq="seg",_q="ts",wq="d",Eq="dframe",iD=1870,sD=30,xq=iD-sD,Sq=25e3,Cq=3e4,Vw=class e{constructor(t,n,r,i,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gp(t),this.stats_=R5(n),this.urlFn=l=>(this.appCheckToken&&(l[Fw]=this.appCheckToken),eD(n,Qk,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Uw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Cq)),iq(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jw((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===fk)this.id=a,this.password=l;else if(o===mq)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[fk]="t",r[rD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[vq]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$k]=H0,this.transportSessionId&&(r[Wk]=this.transportSessionId),this.lastSessionId&&(r[Zk]=this.lastSessionId),this.applicationId&&(r[Jk]=this.applicationId),this.appCheckToken&&(r[Fw]=this.appCheckToken),typeof location<"u"&&location.hostname&&Yk.test(location.hostname)&&(r[Gk]=Kk);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Ko()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oq()&&!aq()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ai(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=ow(n),i=zk(r,xq);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Ko())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Eq]="t",r[tD]=t,r[nD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ai(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},jw=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ko())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=tq(),window[gq+this.uniqueCallbackIdentifier]=t,window[yq+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){wi("frame writing exception"),a.stack&&wi(a.stack),wi(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||wi("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[tD]=this.myID,t[nD]=this.myPW,t[rD]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sD+r.length<=iD;){let o=this.pendingSegs.shift();r=r+"&"+bq+i+"="+o.seg+"&"+_q+i+"="+o.ts+"&"+wq+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Sq)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){Ko()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{wi("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Tq=16384,Iq=45e3,q0=null;typeof MozWebSocket<"u"?q0=MozWebSocket:typeof WebSocket<"u"&&(q0=WebSocket);var Qh=(()=>{class e{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gp(this.connId),this.stats_=R5(r),this.connURL=e.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[$k]=H0,!Ko()&&typeof location<"u"&&location.hostname&&Yk.test(location.hostname)&&(a[Gk]=Kk),r&&(a[Wk]=r),i&&(a[Zk]=i),s&&(a[Fw]=s),o&&(a[Jk]=o),eD(n,Xk,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eu.set("previous_websocket_failure",!0);try{let i;if(Ko()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${H0}/${D5}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new q0(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&q0!==null&&!e.forceDisallow_}static previouslyFailed(){return eu.isInMemoryStorage||eu.get("previous_websocket_failure")===!0}markConnectionHealthy(){eu.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=hd(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(ut(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ai(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=zk(r,Tq);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Iq))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),Aq=(()=>{class e{static get ALL_TRANSPORTS(){return[Vw,Qh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Qh&&Qh.isAvailable(),i=r&&!Qh.previouslyFailed();if(n.webSocketOnly&&(r||Ki("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Qh];else{let s=this.transports_=[];for(let o of e.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),kq=6e4,Dq=5e3,Mq=10*1024,Nq=100*1024,Tw="t",hk="d",Rq="s",pk="r",Pq="e",mk="o",gk="a",yk="n",vk="p",Oq="h",Hw=class{constructor(t,n,r,i,s,o,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gp("c:"+this.id+":"),this.transportManager_=new Aq(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=rp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Nq?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Mq?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Tw in t){let n=t[Tw];n===gk?this.upgradeIfSecondaryHealthy_():n===pk?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mk&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Xh("t",t),r=Xh("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vk,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:gk,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yk,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Xh("t",t),r=Xh("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Xh(Tw,t);if(hk in t){let r=t[hk];if(n===Oq){let i=ct({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===yk){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Rq?this.onConnectionShutdown_(r):n===pk?this.onReset_(r):n===Pq?Pw("Server Error: "+r):n===mk?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pw("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),H0!==r&&Ki("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),rp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kq))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Dq))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vk,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var $0=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var W0=class{constructor(t){this.allowedEvents_=t,this.listeners_={},ut(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){ut(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var G0=class e extends W0{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return ut(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var bk=32,_k=768,er=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function Kn(){return new er("")}function Tn(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Kl(e){return e.pieces_.length-e.pieceNum_}function gr(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new er(e.pieces_,t)}function P5(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Lq(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function lp(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function oD(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new er(t,0)}function Mr(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof er)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new er(n,0)}function Dn(e){return e.pieceNum_>=e.pieces_.length}function hs(e,t){let n=Tn(e),r=Tn(t);if(n===null)return t;if(n===r)return hs(gr(e),gr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Fq(e,t){let n=lp(e,0),r=lp(t,0);for(let i=0;i<n.length&&i<r.length;i++){let s=iu(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function O5(e,t){if(Kl(e)!==Kl(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Zs(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Kl(e)>Kl(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var zw=class{constructor(t,n){this.errorPrefix_=n,this.parts_=lp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Wh(this.parts_[r]);aD(this)}};function Bq(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Wh(t),aD(e)}function Uq(e){let t=e.parts_.pop();e.byteLength_-=Wh(t),e.parts_.length>0&&(e.byteLength_-=1)}function aD(e){if(e.byteLength_>_k)throw new Error(e.errorPrefix_+"has a key path longer than "+_k+" bytes ("+e.byteLength_+").");if(e.parts_.length>bk)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bk+") or object contains a cycle "+Qc(e))}function Qc(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var qw=class e extends W0{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return ut(t==="visible","Unknown event type: "+t),[this.visible_]}};var ep=1e3,Vq=60*5*1e3,wk=30*1e3,jq=1.3,Hq=3e4,zq="server_kill",Ek=3,L5=(()=>{class e extends $0{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=gp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ep,this.maxReconnectDelay_=Vq,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ko())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qw.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&G0.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(ai(o)),ut(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Ja,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),ut(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ut(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&yo(n,"w")){let i=Zc(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Ki(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||q6(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wk)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=z6(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),ut(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ai(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Pw("Unrecognized action received from server: "+ai(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){ut(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ep,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ep,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Hq&&(this.reconnectDelay_=ep),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jq)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(h){ut(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?wi("getToken() completed but was canceled"):(wi("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Hw(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Ki(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(zq)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Ki(h),c())}}}interrupt(n){wi("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){wi("Resuming connection for reason: "+n),delete this.interruptReasons_[n],zh(this.interruptReasons_)&&(this.reconnectDelay_=ep,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>N5(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new er(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){wi("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ek&&(this.reconnectDelay_=wk,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){wi("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ek&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Ko()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+D5.replace(/\./g,"-")]=1,Hh()?n["framework.cordova"]=1:B0()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=G0.getInstance().currentlyOnline();return zh(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),In=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var xd=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new In(Ed,t),i=new In(Ed,n);return this.compare(r,i)!==0}minPost(){return In.MIN}};var j0,K0=class extends xd{static get __EMPTY_NODE(){return j0}static set __EMPTY_NODE(t){j0=t}compare(t,n){return iu(t.name,n.name)}isDefinedOn(t){throw Yc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return In.MIN}maxPost(){return new In(nu,j0)}makePost(t,n){return ut(typeof t=="string","KeyIndex indexValue must always be a string."),new In(t,j0)}toString(){return".key"}},_d=new K0;var vd=class{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},bo=(()=>{class e{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??e.RED,this.left=s??Js.EMPTY_NODE,this.right=o??Js.EMPTY_NODE}copy(n,r,i,s,o){return new e(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Js.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Js.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),$w=class{copy(t,n,r,i,s){return this}insert(t,n,r){return new bo(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Js=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,bo.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,bo.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new vd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new vd(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new vd(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new vd(this.root_,null,this.comparator_,!0,t)}};Js.EMPTY_NODE=new $w;function qq(e,t){return iu(e.name,t.name)}function F5(e,t){return iu(e,t)}var Ww;function $q(e){Ww=e}var lD=function(e){return typeof e=="number"?"number:"+qk(e):"string:"+e},cD=function(e){if(e.isLeafNode()){let t=e.val();ut(typeof t=="string"||typeof t=="number"||typeof t=="object"&&yo(t,".sv"),"Priority must be a string or number.")}else ut(e===Ww||e.isEmpty(),"priority of unexpected type.");ut(e===Ww||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var xk,Sd=(()=>{class e{static set __childrenNodeConstructor(n){xk=n}static get __childrenNodeConstructor(){return xk}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,ut(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cD(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Dn(n)?this:Tn(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Tn(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(ut(i!==".priority"||Kl(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(gr(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+lD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=qk(this.value_):n+=this.value_,this.lazyHash_=Hk(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(ut(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=e.VALUE_TYPE_ORDER.indexOf(r),o=e.VALUE_TYPE_ORDER.indexOf(i);return ut(s>=0,"Unknown leaf type: "+r),ut(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),uD,dD;function Wq(e){uD=e}function Gq(e){dD=e}var Gw=class extends xd{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?iu(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return In.MIN}maxPost(){return new In(nu,new Sd("[PRIORITY-POST]",dD))}makePost(t,n){let r=uD(t);return new In(n,new Sd("[PRIORITY-POST]",r))}toString(){return".priority"}},Nr=new Gw;var Kq=Math.log(2),Kw=class{constructor(t){let n=s=>parseInt(Math.log(s)/Kq,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Y0=function(e,t,n,r){e.sort(t);let i=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=e[l],h=n?n(d):d,new bo(h,d.node,bo.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=e[f],h=n?n(d):d,new bo(h,d.node,bo.BLACK,p,m)}},s=function(l){let c=null,u=null,d=e.length,h=function(p,m){let g=d-p,v=d;d-=p;let x=i(g+1,v),I=e[g],R=n?n(I):I;f(new bo(R,I.node,m,null,x))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?h(g,bo.BLACK):(h(g,bo.BLACK),h(g,bo.RED))}return u},o=new Kw(e.length),a=s(o);return new Js(r||t,a)};var Iw,yd={},Cd=class e{static get Default(){return ut(yd&&Nr,"ChildrenNode.ts has not been loaded"),Iw=Iw||new e({".priority":yd},{".priority":Nr}),Iw}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Zc(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Js?n:null}hasIndex(t){return yo(this.indexSet_,t.toString())}addIndex(t,n){ut(t!==_d,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(In.Wrap),o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Y0(r,t.getCompare()):a=yd;let l=t.toString(),c=ct({},this.indexSet_);c[l]=t;let u=ct({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let r=qh(this.indexes_,(i,s)=>{let o=Zc(this.indexSet_,s);if(ut(o,"Missing index implementation for "+s),i===yd)if(o.isDefinedOn(t.node)){let a=[],l=n.getIterator(In.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),Y0(a,o.getCompare())}else return yd;else{let a=n.get(t.name),l=i;return a&&(l=l.remove(new In(t.name,a))),l.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=qh(this.indexes_,i=>{if(i===yd)return i;{let s=n.get(t.name);return s?i.remove(new In(t.name,s)):i}});return new e(r,this.indexSet_)}};var tp,bn=(()=>{class e{static get EMPTY_NODE(){return tp||(tp=new e(new Js(F5),null,Cd.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&cD(this.priorityNode_),this.children_.isEmpty()&&ut(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tp}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?tp:r}}getChild(n){let r=Tn(n);return r===null?this:this.getImmediateChild(r).getChild(gr(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(ut(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new In(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?tp:this.priorityNode_;return new e(s,a,o)}}updateChild(n,r){let i=Tn(n);if(i===null)return r;{ut(Tn(n)!==".priority"||Kl(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(gr(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Nr,(a,l)=>{r[a]=l.val(n),i++,o&&e.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+lD(this.getPriority().val())+":"),this.forEachChild(Nr,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":Hk(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new In(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new In(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new In(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,In.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,In.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===yp?-1:0}withIndex(n){if(n===_d||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===_d||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Nr),s=r.getIterator(Nr),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===_d?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Yw=class extends bn{constructor(){super(new Js(F5),bn.EMPTY_NODE,Cd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return bn.EMPTY_NODE}isEmpty(){return!1}},yp=new Yw;Object.defineProperties(In,{MIN:{value:new In(Ed,bn.EMPTY_NODE)},MAX:{value:new In(nu,yp)}});K0.__EMPTY_NODE=bn.EMPTY_NODE;Sd.__childrenNodeConstructor=bn;$q(yp);Gq(yp);var Yq=!0;function fi(e,t=null){if(e===null)return bn.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ut(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new Sd(n,fi(t))}if(!(e instanceof Array)&&Yq){let n=[],r=!1;if(Ei(e,(o,a)=>{if(o.substring(0,1)!=="."){let l=fi(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new In(o,l)))}}),n.length===0)return bn.EMPTY_NODE;let s=Y0(n,qq,o=>o.name,F5);if(r){let o=Y0(n,Nr.getCompare());return new bn(s,fi(t),new Cd({".priority":o},{".priority":Nr}))}else return new bn(s,fi(t),Cd.Default)}else{let n=bn.EMPTY_NODE;return Ei(e,(r,i)=>{if(yo(e,r)&&r.substring(0,1)!=="."){let s=fi(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(fi(t))}}Wq(fi);var Zw=class extends xd{constructor(t){super(),this.indexPath_=t,ut(!Dn(t)&&Tn(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?iu(t.name,n.name):s}makePost(t,n){let r=fi(t),i=bn.EMPTY_NODE.updateChild(this.indexPath_,r);return new In(n,i)}maxPost(){let t=bn.EMPTY_NODE.updateChild(this.indexPath_,yp);return new In(nu,t)}toString(){return lp(this.indexPath_,0).join("/")}};var Jw=class extends xd{compare(t,n){let r=t.node.compareTo(n.node);return r===0?iu(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return In.MIN}maxPost(){return In.MAX}makePost(t,n){let r=fi(t);return new In(n,r)}toString(){return".value"}},Zq=new Jw;function fD(e){return{type:"value",snapshotNode:e}}function Td(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function cp(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function up(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Jq(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var dp=class{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){ut(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(cp(n,a)):ut(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Td(n,r)):o.trackChildChange(up(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Nr,(i,s)=>{n.hasChild(i)||r.trackChildChange(cp(i,s))}),n.isLeafNode()||n.forEachChild(Nr,(i,s)=>{if(t.hasChild(i)){let o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(up(i,s,o))}else r.trackChildChange(Td(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?bn.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Z0=class e{constructor(t){this.indexedFilter_=new dp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new In(n,r))||(r=bn.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=bn.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(bn.EMPTY_NODE);let s=this;return n.forEachChild(Nr,(o,a)=>{s.matches(new In(o,a))||(i=i.updateImmediateChild(o,bn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Xw=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Z0(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new In(n,r))||(r=bn.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=bn.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=bn.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(bn.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,bn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=t;ut(a.numChildren()===this.limit_,"");let l=new In(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return s?.trackChildChange(up(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(cp(n,d));let m=a.updateImmediateChild(n,bn.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(Td(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?t:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(cp(c.name,c.node)),s.trackChildChange(Td(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,bn.EMPTY_NODE)):t}};var Qw=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ut(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ut(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ed}hasEnd(){return this.endSet_}getIndexEndValue(){return ut(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ut(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ut(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nr}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function Xq(e){return e.loadsAllData()?new dp(e.getIndex()):e.hasLimit()?new Xw(e):new Z0(e)}function Sk(e){let t={};if(e.isDefault())return t;let n;if(e.index_===Nr?n="$priority":e.index_===Zq?n="$value":e.index_===_d?n="$key":(ut(e.index_ instanceof Zw,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ai(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=ai(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ai(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ai(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ai(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ck(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Nr&&(t.i=e.index_.toString()),t}var e5=class e extends $0{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ut(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=gp("p:rest:"),this.listens_={}}listen(t,n,r,i){let s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);let o=e.getListenId_(t,r),a={};this.listens_[o]=a;let l=Sk(t._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),Zc(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=Sk(t._queryParams),r=t._path.toString(),i=new Ja;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Jc(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=hd(a.responseText)}catch{Ki("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ki("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var t5=class{constructor(){this.rootNode_=bn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function J0(){return{value:null,children:new Map}}function hD(e,t,n){if(Dn(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=Tn(t);e.children.has(r)||e.children.set(r,J0());let i=e.children.get(r);t=gr(t),hD(i,t,n)}}function n5(e,t,n){e.value!==null?n(t,e.value):Qq(e,(r,i)=>{let s=new er(t.toString()+"/"+r);n5(i,s,n)})}function Qq(e,t){e.children.forEach((n,r)=>{t(r,n)})}var r5=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=ct({},t);return this.last_&&Ei(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var Tk=10*1e3,e$=30*1e3,t$=5*60*1e3,i5=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new r5(t);let r=Tk+(e$-Tk)*Math.random();rp(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;Ei(t,(i,s)=>{s>0&&yo(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),rp(this.reportStats_.bind(this),Math.floor(Math.random()*2*t$))}};var Jo=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Jo||{});function B5(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function U5(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function V5(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var s5=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Jo.ACK_USER_WRITE,this.source=B5()}operationForChild(t){if(Dn(this.path)){if(this.affectedTree.value!=null)return ut(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new er(t));return new e(Kn(),n,this.revert)}}else return ut(Tn(this.path)===t,"operationForChild called for unrelated child."),new e(gr(this.path),this.affectedTree,this.revert)}};var X0=class e{constructor(t,n){this.source=t,this.path=n,this.type=Jo.LISTEN_COMPLETE}operationForChild(t){return Dn(this.path)?new e(this.source,Kn()):new e(this.source,gr(this.path))}};var Id=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Jo.OVERWRITE}operationForChild(t){return Dn(this.path)?new e(this.source,Kn(),this.snap.getImmediateChild(t)):new e(this.source,gr(this.path),this.snap)}};var fp=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Jo.MERGE}operationForChild(t){if(Dn(this.path)){let n=this.children.subtree(new er(t));return n.isEmpty()?null:n.value?new Id(this.source,Kn(),n.value):new e(this.source,Kn(),n)}else return ut(Tn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,gr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var tl=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Dn(t))return this.isFullyInitialized()&&!this.filtered_;let n=Tn(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var o5=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function n$(e,t,n,r){let i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Jq(o.childName,o.snapshotNode))}),np(e,i,"child_removed",t,r,n),np(e,i,"child_added",t,r,n),np(e,i,"child_moved",s,r,n),np(e,i,"child_changed",t,r,n),np(e,i,"value",t,r,n),i}function np(e,t,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>i$(e,a,l)),o.forEach(a=>{let l=r$(e,a,s);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function r$(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function i$(e,t,n){if(t.childName==null||n.childName==null)throw Yc("Should only compare child_ events.");let r=new In(t.childName,t.snapshotNode),i=new In(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function u1(e,t){return{eventCache:e,serverCache:t}}function sp(e,t,n,r){return u1(new tl(t,n,r),e.serverCache)}function pD(e,t,n,r){return u1(e.eventCache,new tl(t,n,r))}function a5(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ru(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Aw,s$=()=>(Aw||(Aw=new Js(sq)),Aw),Yi=class e{static fromObject(t){let n=new e(null);return Ei(t,(r,i)=>{n=n.set(new er(r),i)}),n}constructor(t,n=s$()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Kn(),value:this.value};if(Dn(t))return null;{let r=Tn(t),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(gr(t),n);return s!=null?{path:Mr(new er(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Dn(t))return this;{let n=Tn(t),r=this.children.get(n);return r!==null?r.subtree(gr(t)):new e(null)}}set(t,n){if(Dn(t))return new e(n,this.children);{let r=Tn(t),s=(this.children.get(r)||new e(null)).set(gr(t),n),o=this.children.insert(r,s);return new e(this.value,o)}}remove(t){if(Dn(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=Tn(t),r=this.children.get(n);if(r){let i=r.remove(gr(t)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this}}get(t){if(Dn(t))return this.value;{let n=Tn(t),r=this.children.get(n);return r?r.get(gr(t)):null}}setTree(t,n){if(Dn(t))return n;{let r=Tn(t),s=(this.children.get(r)||new e(null)).setTree(gr(t),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new e(this.value,o)}}fold(t){return this.fold_(Kn(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Mr(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Kn(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Dn(t))return null;{let s=Tn(t),o=this.children.get(s);return o?o.findOnPath_(gr(t),Mr(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Kn(),n)}foreachOnPath_(t,n,r){if(Dn(t))return this;{this.value&&r(n,this.value);let i=Tn(t),s=this.children.get(i);return s?s.foreachOnPath_(gr(t),Mr(n,i),r):new e(null)}}foreach(t){this.foreach_(Kn(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Mr(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var _o=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Yi(null))}};function op(e,t,n){if(Dn(t))return new _o(new Yi(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,s=r.value,o=hs(i,t);return s=s.updateChild(o,n),new _o(e.writeTree_.set(i,s))}else{let i=new Yi(n),s=e.writeTree_.setTree(t,i);return new _o(s)}}}function l5(e,t,n){let r=e;return Ei(n,(i,s)=>{r=op(r,Mr(t,i),s)}),r}function Ik(e,t){if(Dn(t))return _o.empty();{let n=e.writeTree_.setTree(t,new Yi(null));return new _o(n)}}function c5(e,t){return su(e,t)!=null}function su(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(hs(n.path,t)):null}function Ak(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Nr,(r,i)=>{t.push(new In(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new In(r,i.value))}),t}function Gl(e,t){if(Dn(t))return e;{let n=su(e,t);return n!=null?new _o(new Yi(n)):new _o(e.writeTree_.subtree(t))}}function u5(e){return e.writeTree_.isEmpty()}function Ad(e,t){return mD(Kn(),e.writeTree_,t)}function mD(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(ut(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=mD(Mr(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Mr(e,".priority"),r)),n}}function j5(e,t){return bD(t,e)}function o$(e,t,n,r,i){ut(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=op(e.visibleWrites,t,n)),e.lastWriteId=r}function a$(e,t,n,r){ut(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=l5(e.visibleWrites,t,n),e.lastWriteId=r}function l$(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function c$(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);ut(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){let a=e.allWrites[o];a.visible&&(o>=n&&u$(a,r.path)?i=!1:Zs(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return d$(e),!0;if(r.snap)e.visibleWrites=Ik(e.visibleWrites,r.path);else{let a=r.children;Ei(a,l=>{e.visibleWrites=Ik(e.visibleWrites,Mr(r.path,l))})}return!0}else return!1}function u$(e,t){if(e.snap)return Zs(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&Zs(Mr(e.path,n),t))return!0;return!1}function d$(e){e.visibleWrites=gD(e.allWrites,f$,Kn()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function f$(e){return e.visible}function gD(e,t,n){let r=_o.empty();for(let i=0;i<e.length;++i){let s=e[i];if(t(s)){let o=s.path,a;if(s.snap)Zs(n,o)?(a=hs(n,o),r=op(r,a,s.snap)):Zs(o,n)&&(a=hs(o,n),r=op(r,Kn(),s.snap.getChild(a)));else if(s.children){if(Zs(n,o))a=hs(n,o),r=l5(r,a,s.children);else if(Zs(o,n))if(a=hs(o,n),Dn(a))r=l5(r,Kn(),s.children);else{let l=Zc(s.children,Tn(a));if(l){let c=l.getChild(gr(a));r=op(r,Kn(),c)}}}else throw Yc("WriteRecord should have .snap or .children")}}return r}function yD(e,t,n,r,i){if(!r&&!i){let s=su(e.visibleWrites,t);if(s!=null)return s;{let o=Gl(e.visibleWrites,t);if(u5(o))return n;if(n==null&&!c5(o,Kn()))return null;{let a=n||bn.EMPTY_NODE;return Ad(o,a)}}}else{let s=Gl(e.visibleWrites,t);if(!i&&u5(s))return n;if(!i&&n==null&&!c5(s,Kn()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Zs(c.path,t)||Zs(t,c.path))},a=gD(e.allWrites,o,t),l=n||bn.EMPTY_NODE;return Ad(a,l)}}}function h$(e,t,n){let r=bn.EMPTY_NODE,i=su(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Nr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Gl(e.visibleWrites,t);return n.forEachChild(Nr,(o,a)=>{let l=Ad(Gl(s,new er(o)),a);r=r.updateImmediateChild(o,l)}),Ak(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Gl(e.visibleWrites,t);return Ak(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function p$(e,t,n,r,i){ut(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Mr(t,n);if(c5(e.visibleWrites,s))return null;{let o=Gl(e.visibleWrites,s);return u5(o)?i.getChild(n):Ad(o,i.getChild(n))}}function m$(e,t,n,r){let i=Mr(t,n),s=su(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Gl(e.visibleWrites,i);return Ad(o,r.getNode().getImmediateChild(n))}else return null}function g$(e,t){return su(e.visibleWrites,t)}function y$(e,t,n,r,i,s,o){let a,l=Gl(e.visibleWrites,t),c=su(l,Kn());if(c!=null)a=c;else if(n!=null)a=Ad(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function v$(){return{visibleWrites:_o.empty(),allWrites:[],lastWriteId:-1}}function Q0(e,t,n,r){return yD(e.writeTree,e.treePath,t,n,r)}function H5(e,t){return h$(e.writeTree,e.treePath,t)}function kk(e,t,n,r){return p$(e.writeTree,e.treePath,t,n,r)}function e1(e,t){return g$(e.writeTree,Mr(e.treePath,t))}function b$(e,t,n,r,i,s){return y$(e.writeTree,e.treePath,t,n,r,i,s)}function z5(e,t,n){return m$(e.writeTree,e.treePath,t,n)}function vD(e,t){return bD(Mr(e.treePath,t),e.writeTree)}function bD(e,t){return{treePath:e,writeTree:t}}var d5=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;ut(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ut(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,up(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,cp(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Td(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,up(r,t.snapshotNode,i.oldSnap));else throw Yc("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var f5=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},_D=new f5,hp=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new tl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return z5(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ru(this.viewCache_),s=b$(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}};function _$(e){return{filter:e}}function w$(e,t){ut(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ut(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function E$(e,t,n,r,i){let s=new d5,o,a;if(n.type===Jo.OVERWRITE){let c=n;c.source.fromUser?o=h5(e,t,c.path,c.snap,r,i,s):(ut(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Dn(c.path),o=t1(e,t,c.path,c.snap,r,i,a,s))}else if(n.type===Jo.MERGE){let c=n;c.source.fromUser?o=S$(e,t,c.path,c.children,r,i,s):(ut(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=p5(e,t,c.path,c.children,r,i,a,s))}else if(n.type===Jo.ACK_USER_WRITE){let c=n;c.revert?o=I$(e,t,c.path,r,i,s):o=C$(e,t,c.path,c.affectedTree,r,i,s)}else if(n.type===Jo.LISTEN_COMPLETE)o=T$(e,t,n.path,r,s);else throw Yc("Unknown operation type: "+n.type);let l=s.getChanges();return x$(t,o,l),{viewCache:o,changes:l}}function x$(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=a5(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(fD(a5(t)))}}function wD(e,t,n,r,i,s){let o=t.eventCache;if(e1(r,n)!=null)return t;{let a,l;if(Dn(n))if(ut(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=ru(t),u=c instanceof bn?c:bn.EMPTY_NODE,d=H5(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{let c=Q0(r,ru(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{let c=Tn(n);if(c===".priority"){ut(Kl(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=t.serverCache.getNode();let d=kk(r,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=o.getNode()}else{let u=gr(n),d;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();let h=kk(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=z5(r,c,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return sp(t,a,o.isFullyInitialized()||Dn(n),e.filter.filtersNodes())}}function t1(e,t,n,r,i,s,o,a){let l=t.serverCache,c,u=o?e.filter:e.filter.getIndexedFilter();if(Dn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{let f=Tn(n);if(!l.isCompleteForPath(n)&&Kl(n)>1)return t;let p=gr(n),g=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?c=u.updatePriority(l.getNode(),g):c=u.updateChild(l.getNode(),f,g,p,_D,null)}let d=pD(t,c,l.isFullyInitialized()||Dn(n),u.filtersNodes()),h=new hp(i,d,s);return wD(e,d,n,i,h,a)}function h5(e,t,n,r,i,s,o){let a=t.eventCache,l,c,u=new hp(i,t,s);if(Dn(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=sp(t,c,!0,e.filter.filtersNodes());else{let d=Tn(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=sp(t,c,a.isFullyInitialized(),a.isFiltered());else{let h=gr(n),f=a.getNode().getImmediateChild(d),p;if(Dn(h))p=r;else{let m=u.getCompleteChild(d);m!=null?P5(h)===".priority"&&m.getChild(oD(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=bn.EMPTY_NODE}if(f.equals(p))l=t;else{let m=e.filter.updateChild(a.getNode(),d,p,h,u,o);l=sp(t,m,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Dk(e,t){return e.eventCache.isCompleteForChild(t)}function S$(e,t,n,r,i,s,o){let a=t;return r.foreach((l,c)=>{let u=Mr(n,l);Dk(t,Tn(u))&&(a=h5(e,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=Mr(n,l);Dk(t,Tn(u))||(a=h5(e,a,u,c,i,s,o))}),a}function Mk(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function p5(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;Dn(n)?c=r:c=new Yi(null).setTree(n,r);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=t.serverCache.getNode().getImmediateChild(d),p=Mk(e,f,h);l=t1(e,l,new er(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{let f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=t.serverCache.getNode().getImmediateChild(d),m=Mk(e,p,h);l=t1(e,l,new er(d),m,i,s,o,a)}}),l}function C$(e,t,n,r,i,s,o){if(e1(i,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(Dn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return t1(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Dn(n)){let c=new Yi(null);return l.getNode().forEachChild(_d,(u,d)=>{c=c.set(new er(u),d)}),p5(e,t,n,c,i,s,a,o)}else return t}else{let c=new Yi(null);return r.foreach((u,d)=>{let h=Mr(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),p5(e,t,n,c,i,s,a,o)}}function T$(e,t,n,r,i){let s=t.serverCache,o=pD(t,s.getNode(),s.isFullyInitialized()||Dn(n),s.isFiltered());return wD(e,o,n,r,_D,i)}function I$(e,t,n,r,i,s){let o;if(e1(r,n)!=null)return t;{let a=new hp(r,t,i),l=t.eventCache.getNode(),c;if(Dn(n)||Tn(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Q0(r,ru(t));else{let d=t.serverCache.getNode();ut(d instanceof bn,"serverChildren would be complete if leaf node"),u=H5(r,d)}u=u,c=e.filter.updateFullNode(l,u,s)}else{let u=Tn(n),d=z5(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,gr(n),a,s):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,bn.EMPTY_NODE,gr(n),a,s):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Q0(r,ru(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||e1(r,Kn())!=null,sp(t,c,o,e.filter.filtersNodes())}}var m5=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new dp(r.getIndex()),s=Xq(r);this.processor_=_$(s);let o=n.serverCache,a=n.eventCache,l=i.updateFullNode(bn.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(bn.EMPTY_NODE,a.getNode(),null),u=new tl(l,o.isFullyInitialized(),i.filtersNodes()),d=new tl(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=u1(d,u),this.eventGenerator_=new o5(this.query_)}get query(){return this.query_}};function A$(e){return e.viewCache_.serverCache.getNode()}function k$(e,t){let n=ru(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Dn(t)&&!n.getImmediateChild(Tn(t)).isEmpty())?n.getChild(t):null}function Nk(e){return e.eventRegistrations_.length===0}function D$(e,t){e.eventRegistrations_.push(t)}function Rk(e,t,n){let r=[];if(n){ut(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){let o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function Pk(e,t,n,r){t.type===Jo.MERGE&&t.source.queryId!==null&&(ut(ru(e.viewCache_),"We should always have a full cache before handling merges"),ut(a5(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,s=E$(e.processor_,i,t,n,r);return w$(e.processor_,s.viewCache),ut(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,ED(e,s.changes,s.viewCache.eventCache.getNode(),null)}function M$(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Nr,(s,o)=>{r.push(Td(s,o))}),n.isFullyInitialized()&&r.push(fD(n.getNode())),ED(e,r,n.getNode(),t)}function ED(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return n$(e.eventGenerator_,t,n,i)}var n1,g5=class{constructor(){this.views=new Map}};function N$(e){ut(!n1,"__referenceConstructor has already been defined"),n1=e}function R$(){return ut(n1,"Reference.ts has not been loaded"),n1}function P$(e){return e.views.size===0}function q5(e,t,n,r){let i=t.source.queryId;if(i!==null){let s=e.views.get(i);return ut(s!=null,"SyncTree gave us an op for an invalid query."),Pk(s,t,n,r)}else{let s=[];for(let o of e.views.values())s=s.concat(Pk(o,t,n,r));return s}}function O$(e,t,n,r,i){let s=t._queryIdentifier,o=e.views.get(s);if(!o){let a=Q0(n,i?r:null),l=!1;a?l=!0:r instanceof bn?(a=H5(n,r),l=!1):(a=bn.EMPTY_NODE,l=!1);let c=u1(new tl(a,l,!1),new tl(r,i,!1));return new m5(t,c)}return o}function L$(e,t,n,r,i,s){let o=O$(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),D$(o,n),M$(o,n)}function F$(e,t,n,r){let i=t._queryIdentifier,s=[],o=[],a=Yl(e);if(i==="default")for(let[l,c]of e.views.entries())o=o.concat(Rk(c,n,r)),Nk(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=e.views.get(i);l&&(o=o.concat(Rk(l,n,r)),Nk(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Yl(e)&&s.push(new(R$())(t._repo,t._path)),{removed:s,events:o}}function xD(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function wd(e,t){let n=null;for(let r of e.views.values())n=n||k$(r,t);return n}function SD(e,t){if(t._queryParams.loadsAllData())return d1(e);{let r=t._queryIdentifier;return e.views.get(r)}}function CD(e,t){return SD(e,t)!=null}function Yl(e){return d1(e)!=null}function d1(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var r1;function B$(e){ut(!r1,"__referenceConstructor has already been defined"),r1=e}function U$(){return ut(r1,"Reference.ts has not been loaded"),r1}var V$=1,i1=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Yi(null),this.pendingWriteTree_=v$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function TD(e,t,n,r,i){return o$(e.pendingWriteTree_,t,n,r,i),i?Md(e,new Id(B5(),t,n)):[]}function j$(e,t,n,r){a$(e.pendingWriteTree_,t,n,r);let i=Yi.fromObject(n);return Md(e,new fp(B5(),t,i))}function Wl(e,t,n=!1){let r=l$(e.pendingWriteTree_,t);if(c$(e.pendingWriteTree_,t)){let s=new Yi(null);return r.snap!=null?s=s.set(Kn(),!0):Ei(r.children,o=>{s=s.set(new er(o),!0)}),Md(e,new s5(r.path,s,n))}else return[]}function f1(e,t,n){return Md(e,new Id(U5(),t,n))}function H$(e,t,n){let r=Yi.fromObject(n);return Md(e,new fp(U5(),t,r))}function z$(e,t){return Md(e,new X0(U5(),t))}function q$(e,t,n){let r=W5(e,n);if(r){let i=G5(r),s=i.path,o=i.queryId,a=hs(s,t),l=new X0(V5(o),a);return K5(e,s,l)}else return[]}function y5(e,t,n,r,i=!1){let s=t._path,o=e.syncPointTree_.get(s),a=[];if(o&&(t._queryIdentifier==="default"||CD(o,t))){let l=F$(o,t,n,r);P$(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(h,f)=>Yl(f));if(u&&!d){let h=e.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=G$(h);for(let p=0;p<f.length;++p){let m=f[p],g=m.query,v=kD(e,m);e.listenProvider_.startListening(ap(g),s1(e,g),v.hashFn,v.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(ap(t),null):c.forEach(h=>{let f=e.queryToTagMap.get(h1(h));e.listenProvider_.stopListening(ap(h),f)}))}K$(e,c)}return a}function $$(e,t,n,r){let i=W5(e,r);if(i!=null){let s=G5(i),o=s.path,a=s.queryId,l=hs(o,t),c=new Id(V5(a),l,n);return K5(e,o,c)}else return[]}function W$(e,t,n,r){let i=W5(e,r);if(i){let s=G5(i),o=s.path,a=s.queryId,l=hs(o,t),c=Yi.fromObject(n),u=new fp(V5(a),l,c);return K5(e,o,u)}else return[]}function Ok(e,t,n,r=!1){let i=t._path,s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(h,f)=>{let p=hs(h,i);s=s||wd(f,p),o=o||Yl(f)});let a=e.syncPointTree_.get(i);a?(o=o||Yl(a),s=s||wd(a,Kn())):(a=new g5,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=bn.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((f,p)=>{let m=wd(p,Kn());m&&(s=s.updateImmediateChild(f,m))}));let c=CD(a,t);if(!c&&!t._queryParams.loadsAllData()){let h=h1(t);ut(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=Y$();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=j5(e.pendingWriteTree_,i),d=L$(a,t,n,u,s,l);if(!c&&!o&&!r){let h=SD(a,t);d=d.concat(Z$(e,t,h))}return d}function $5(e,t,n){let i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{let l=hs(o,t),c=wd(a,l);if(c)return c});return yD(i,t,s,n,!0)}function Md(e,t){return ID(t,e.syncPointTree_,null,j5(e.pendingWriteTree_,Kn()))}function ID(e,t,n,r){if(Dn(e.path))return AD(e,t,n,r);{let i=t.get(Kn());n==null&&i!=null&&(n=wd(i,Kn()));let s=[],o=Tn(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=vD(r,o);s=s.concat(ID(a,l,c,u))}return i&&(s=s.concat(q5(i,e,r,n))),s}}function AD(e,t,n,r){let i=t.get(Kn());n==null&&i!=null&&(n=wd(i,Kn()));let s=[];return t.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=vD(r,o),u=e.operationForChild(o);u&&(s=s.concat(AD(u,a,l,c)))}),i&&(s=s.concat(q5(i,e,r,n))),s}function kD(e,t){let n=t.query,r=s1(e,n);return{hashFn:()=>(A$(t)||bn.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?q$(e,n._path,r):z$(e,n._path);{let s=lq(i,n);return y5(e,n,null,s)}}}}function s1(e,t){let n=h1(t);return e.queryToTagMap.get(n)}function h1(e){return e._path.toString()+"$"+e._queryIdentifier}function W5(e,t){return e.tagToQueryMap.get(t)}function G5(e){let t=e.indexOf("$");return ut(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new er(e.substr(0,t))}}function K5(e,t,n){let r=e.syncPointTree_.get(t);ut(r,"Missing sync point for query tag that we're tracking");let i=j5(e.pendingWriteTree_,t);return q5(r,n,i,null)}function G$(e){return e.fold((t,n,r)=>{if(n&&Yl(n))return[d1(n)];{let i=[];return n&&(i=xD(n)),Ei(r,(s,o)=>{i=i.concat(o)}),i}})}function ap(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(U$())(e._repo,e._path):e}function K$(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=h1(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function Y$(){return V$++}function Z$(e,t,n){let r=t._path,i=s1(e,t),s=kD(e,n),o=e.listenProvider_.startListening(ap(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)ut(!Yl(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!Dn(c)&&u&&Yl(u))return[d1(u).query];{let h=[];return u&&(h=h.concat(xD(u).map(f=>f.query))),Ei(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(ap(u),s1(e,u))}}return o}var v5=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},b5=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=Mr(this.path_,t);return new e(this.syncTree_,n)}node(){return $5(this.syncTree_,this.path_)}},J$=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Lk=function(e,t,n){if(!e||typeof e!="object")return e;if(ut(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return X$(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Q$(e[".sv"],t);ut(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},X$=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ut(!1,"Unexpected server value: "+e)}},Q$=function(e,t,n){e.hasOwnProperty("increment")||ut(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&ut(!1,"Unexpected increment value: "+r);let i=t.node();if(ut(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},DD=function(e,t,n,r){return Y5(t,new b5(n,e),r)},MD=function(e,t,n){return Y5(e,new v5(t),n)};function Y5(e,t,n){let r=e.getPriority().val(),i=Lk(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){let o=e,a=Lk(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new Sd(a,fi(i)):e}else{let o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Sd(i))),o.forEachChild(Nr,(a,l)=>{let c=Y5(l,t.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var pp=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function Z5(e,t){let n=t instanceof er?t:new er(t),r=e,i=Tn(n);for(;i!==null;){let s=Zc(r.node.children,i)||{children:{},childCount:0};r=new pp(i,r,s),n=gr(n),i=Tn(n)}return r}function Nd(e){return e.node.value}function ND(e,t){e.node.value=t,_5(e)}function RD(e){return e.node.childCount>0}function eW(e){return Nd(e)===void 0&&!RD(e)}function p1(e,t){Ei(e.node.children,(n,r)=>{t(new pp(n,e,r))})}function PD(e,t,n,r){n&&!r&&t(e),p1(e,i=>{PD(i,t,!0,r)}),n&&r&&t(e)}function tW(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function vp(e){return new er(e.parent===null?e.name:vp(e.parent)+"/"+e.name)}function _5(e){e.parent!==null&&nW(e.parent,e.name,e)}function nW(e,t,n){let r=eW(n),i=yo(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,_5(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,_5(e))}var rW=/[\[\].#$\/\u0000-\u001F\u007F]/,iW=/[\[\].#$\u0000-\u001F\u007F]/,kw=10*1024*1024,J5=function(e){return typeof e=="string"&&e.length!==0&&!rW.test(e)},OD=function(e){return typeof e=="string"&&e.length!==0&&!iW.test(e)},sW=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),OD(e)},oW=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!M5(e)||e&&typeof e=="object"&&yo(e,".sv")},aW=function(e,t,n,r){r&&t===void 0||m1($h(e,"value"),t,n)},m1=function(e,t,n){let r=n instanceof er?new zw(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Qc(r));if(typeof t=="function")throw new Error(e+"contains a function "+Qc(r)+" with contents = "+t.toString());if(M5(t))throw new Error(e+"contains "+t.toString()+" "+Qc(r));if(typeof t=="string"&&t.length>kw/3&&Wh(t)>kw)throw new Error(e+"contains a string greater than "+kw+" utf8 bytes "+Qc(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Ei(t,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!J5(o)))throw new Error(e+" contains an invalid key ("+o+") "+Qc(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Bq(r,o),m1(e,a,r),Uq(r)}),i&&s)throw new Error(e+' contains ".value" child '+Qc(r)+" in addition to actual children.")}},lW=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];let s=lp(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!J5(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Fq);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Zs(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},cW=function(e,t,n,r){if(r&&t===void 0)return;let i=$h(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");let s=[];Ei(t,(o,a)=>{let l=new er(o);if(m1(i,a,Mr(n,l)),P5(l)===".priority"&&!oW(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),lW(i,s)};var LD=function(e,t,n,r){if(!(r&&n===void 0)&&!OD(n))throw new Error($h(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},uW=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),LD(e,t,n,r)},dW=function(e,t){if(Tn(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},fW=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!J5(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sW(n))throw new Error($h(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var w5=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function g1(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],s=i.getPath();n!==null&&!O5(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function FD(e,t,n){g1(e,n),BD(e,r=>O5(r,t))}function wo(e,t,n){g1(e,n),BD(e,r=>Zs(r,t)||Zs(t,r))}function BD(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let s=i.path;t(s)?(hW(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function hW(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();tu&&wi("event: "+n.toString()),Dd(r)}}}var pW="repo_interrupt",mW=25,E5=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new w5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=J0(),this.transactionQueueTree_=new pp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function gW(e,t,n){if(e.stats_=R5(e.repoInfo_),e.forceRestClient_||fq())e.server_=new e5(e.repoInfo_,(r,i,s,o)=>{Fk(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Bk(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ai(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new L5(e.repoInfo_,t,(r,i,s,o)=>{Fk(e,r,i,s,o)},r=>{Bk(e,r)},r=>{vW(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=pq(e.repoInfo_,()=>new i5(e.stats_,e.server_)),e.infoData_=new t5,e.infoSyncTree_=new i1({startListening:(r,i,s,o)=>{let a=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=f1(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),X5(e,"connected",!1),e.serverSyncTree_=new i1({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);wo(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function yW(e){let n=e.infoData_.getNode(new er(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function y1(e){return J$({timestamp:yW(e)})}function Fk(e,t,n,r,i){e.dataUpdateCount++;let s=new er(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){let l=qh(n,c=>fi(c));o=W$(e.serverSyncTree_,s,l,i)}else{let l=fi(n);o=$$(e.serverSyncTree_,s,l,i)}else if(r){let l=qh(n,c=>fi(c));o=H$(e.serverSyncTree_,s,l)}else{let l=fi(n);o=f1(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=kd(e,s)),wo(e.eventQueue_,a,o)}function Bk(e,t){X5(e,"connected",t),t===!1&&wW(e)}function vW(e,t){Ei(t,(n,r)=>{X5(e,n,r)})}function X5(e,t,n){let r=new er("/.info/"+t),i=fi(n);e.infoData_.updateSnapshot(r,i);let s=f1(e.infoSyncTree_,r,i);wo(e.eventQueue_,r,s)}function Q5(e){return e.nextWriteId_++}function bW(e,t,n,r,i){v1(e,"set",{path:t.toString(),value:n,priority:r});let s=y1(e),o=fi(n,r),a=$5(e.serverSyncTree_,t),l=MD(o,a,s),c=Q5(e),u=TD(e.serverSyncTree_,t,l,c,!0);g1(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(h,f)=>{let p=h==="ok";p||Ki("set at "+t+" failed: "+h);let m=Wl(e.serverSyncTree_,c,!p);wo(e.eventQueue_,t,m),x5(e,i,h,f)});let d=tE(e,t);kd(e,d),wo(e.eventQueue_,d,[])}function _W(e,t,n,r){v1(e,"update",{path:t.toString(),value:n});let i=!0,s=y1(e),o={};if(Ei(n,(a,l)=>{i=!1,o[a]=DD(Mr(t,a),fi(l),e.serverSyncTree_,s)}),i)wi("update() called with empty data.  Don't do anything."),x5(e,r,"ok",void 0);else{let a=Q5(e),l=j$(e.serverSyncTree_,t,o,a);g1(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||Ki("update at "+t+" failed: "+c);let h=Wl(e.serverSyncTree_,a,!d),f=h.length>0?kd(e,t):t;wo(e.eventQueue_,f,h),x5(e,r,c,u)}),Ei(n,c=>{let u=tE(e,Mr(t,c));kd(e,u)}),wo(e.eventQueue_,t,[])}}function wW(e){v1(e,"onDisconnectEvents");let t=y1(e),n=J0();n5(e.onDisconnect_,Kn(),(i,s)=>{let o=DD(i,s,e.serverSyncTree_,t);hD(n,i,o)});let r=[];n5(n,Kn(),(i,s)=>{r=r.concat(f1(e.serverSyncTree_,i,s));let o=tE(e,i);kd(e,o)}),e.onDisconnect_=J0(),wo(e.eventQueue_,Kn(),r)}function EW(e,t,n){let r;Tn(t._path)===".info"?r=Ok(e.infoSyncTree_,t,n):r=Ok(e.serverSyncTree_,t,n),FD(e.eventQueue_,t._path,r)}function Uk(e,t,n){let r;Tn(t._path)===".info"?r=y5(e.infoSyncTree_,t,n):r=y5(e.serverSyncTree_,t,n),FD(e.eventQueue_,t._path,r)}function xW(e){e.persistentConnection_&&e.persistentConnection_.interrupt(pW)}function v1(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),wi(n,...t)}function x5(e,t,n,r){t&&Dd(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,t(o)}})}function UD(e,t,n){return $5(e.serverSyncTree_,t,n)||bn.EMPTY_NODE}function eE(e,t=e.transactionQueueTree_){if(t||b1(e,t),Nd(t)){let n=jD(e,t);ut(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&SW(e,vp(t),n)}else RD(t)&&p1(t,n=>{eE(e,n)})}function SW(e,t,n){let r=n.map(c=>c.currentWriteId),i=UD(e,t,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let u=n[c];ut(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=hs(t,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=t;e.server_.put(l.toString(),a,c=>{v1(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Wl(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();b1(e,Z5(e.transactionQueueTree_,t)),eE(e,e.transactionQueueTree_),wo(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)Dd(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ki("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}kd(e,t)}},o)}function kd(e,t){let n=VD(e,t),r=vp(n),i=jD(e,n);return CW(e,i,r),r}function CW(e,t,n){if(t.length===0)return;let r=[],i=[],o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=hs(n,l.path),u=!1,d;if(ut(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Wl(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=mW)u=!0,d="maxretry",i=i.concat(Wl(e.serverSyncTree_,l.currentWriteId,!0));else{let h=UD(e,l.path,o);l.currentInputSnapshot=h;let f=t[a].update(h.val());if(f!==void 0){m1("transaction failed: Data returned ",f,l.path);let p=fi(f);typeof f=="object"&&f!=null&&yo(f,".priority")||(p=p.updatePriority(h.getPriority()));let g=l.currentWriteId,v=y1(e),x=MD(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=x,l.currentWriteId=Q5(e),o.splice(o.indexOf(g),1),i=i.concat(TD(e.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(Wl(e.serverSyncTree_,g,!0))}else u=!0,d="nodata",i=i.concat(Wl(e.serverSyncTree_,l.currentWriteId,!0))}wo(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}b1(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Dd(r[a]);eE(e,e.transactionQueueTree_)}function VD(e,t){let n,r=e.transactionQueueTree_;for(n=Tn(t);n!==null&&Nd(r)===void 0;)r=Z5(r,n),t=gr(t),n=Tn(t);return r}function jD(e,t){let n=[];return HD(e,t,n),n.sort((r,i)=>r.order-i.order),n}function HD(e,t,n){let r=Nd(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);p1(t,i=>{HD(e,i,n)})}function b1(e,t){let n=Nd(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ND(t,n.length>0?n:void 0)}p1(t,r=>{b1(e,r)})}function tE(e,t){let n=vp(VD(e,t)),r=Z5(e.transactionQueueTree_,t);return tW(r,i=>{Dw(e,i)}),Dw(e,r),PD(r,i=>{Dw(e,i)}),n}function Dw(e,t){let n=Nd(t);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ut(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ut(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Wl(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?ND(t,void 0):n.length=s+1,wo(e.eventQueue_,vp(t),i);for(let o=0;o<r.length;o++)Dd(r[o])}}function TW(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function IW(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ki(`Invalid query segment '${n}' in query '${e}'`)}return t}var Vk=function(e,t){let n=AW(e),r=n.namespace;n.domain==="firebase.com"&&el(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&el("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rq();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new z0(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new er(n.pathString)}},AW=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=TW(e.substring(u,d)));let h=IW(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let f=t.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var o1=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ai(this.snapshot.exportVal())}},a1=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var S5=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return ut(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var C5=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Dn(this._path)?null:P5(this._path)}get ref(){return new nl(this._repo,this._path)}get _queryIdentifier(){let t=Ck(this._queryParams),n=N5(t);return n==="{}"?"default":n}get _queryObject(){return Ck(this._queryParams)}isEqual(t){if(t=_i(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=O5(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Lq(this._path)}};var nl=class e extends C5{constructor(t,n){super(t,n,new Qw,!1)}get parent(){let t=oD(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},l1=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new er(t),r=c1(this.ref,t);return new e(this._node.getChild(n),r,Nr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,c1(this.ref,r),Nr)))}hasChild(t){let n=new er(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Xo(e,t){return e=_i(e),e._checkNotDeleted("ref"),t!==void 0?c1(e._root,t):e._root}function c1(e,t){return e=_i(e),Tn(e._path)===null?uW("child","path",t,!1):LD("child","path",t,!1),new nl(e._repo,Mr(e._path,t))}function nE(e,t){e=_i(e),dW("set",e._path),aW("set",t,e._path,!1);let n=new Ja;return bW(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function bp(e,t){cW("update",t,e._path,!1);let n=new Ja;return _W(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}var T5=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new o1("value",this,new l1(t.snapshotNode,new nl(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new a1(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},I5=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new a1(this,t,n):null}createEvent(t,n){ut(t.childName!=null,"Child events should have a childName.");let r=c1(new nl(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new o1(t.type,this,new l1(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function kW(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{Uk(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let o=new S5(n,s||void 0),a=t==="value"?new T5(o):new I5(t,o);return EW(e._repo,e,a),()=>Uk(e._repo,e,a)}function _1(e,t,n,r){return kW(e,"value",t,n,r)}N$(nl);B$(nl);var DW="FIREBASE_DATABASE_EMULATOR_HOST",A5={},MW=!1;function NW(e,t,n,r){let i=t.lastIndexOf(":"),s=t.substring(0,i),o=jl(s);e.repoInfo_=new z0(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function RW(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||el("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wi("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Vk(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[DW]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=Vk(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new ip(ip.OWNER):new Lw(e.name,e.options,t);fW("Invalid Firebase Database URL",o),Dn(o.path)||el("Database URL must point to the root of a Firebase Database (not including a child path).");let d=OW(a,e,u,new Ow(e,n));return new k5(d,e)}function PW(e,t){let n=A5[t];(!n||n[e.key]!==e)&&el(`Database ${t}(${e.repoInfo_}) has already been deleted.`),xW(e),delete n[e.key]}function OW(e,t,n,r){let i=A5[t.name];i||(i={},A5[t.name]=i);let s=i[e.toURLString()];return s&&el("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new E5(e,MW,n,r),i[e.toURLString()]=s,s}var k5=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nl(this._repo,Kn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(PW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&el("Cannot call "+t+" on a deleted database.")}};function zD(e=gd(),t){let n=Zh(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=O6("database");r&&LW(n,...r)}return n}function LW(e,t,n,r={}){e=_i(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Yo(r,s.repoInfo_.emulatorOptions))return;el("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&el('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ip(ip.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:L6(r.mockUserToken,e.app.options.projectId);o=new ip(a)}jl(t)&&(L0(t),F0("Database",!0)),NW(s,i,r,o)}function FW(e){eq($l),ql(new Ys("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return RW(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),vo(lk,ck,e),vo(lk,ck,"esm2020")}L5.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};L5.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};FW();var BW=[{eco:"35526",serial:"92719",sap:"4000026523",ops:["Carlos Eduardo Vazquez Calderon","Cristofer Ariel Rivera Cruz","Juan Gardu\xF1o Chaparro","Victor Hugo Moreno De la cruz"]},{eco:"37191",serial:"95159",sap:void 0,ops:["Miguel \xC1ngel Torres","Jos\xE9 Luis Hern\xE1ndez","Roberto S\xE1nchez","Alejandro Ruiz"]},{eco:"37192",serial:"95162",sap:void 0,ops:["Fernando Mart\xEDnez","Ricardo L\xF3pez","Daniel Garc\xEDa"]},{eco:"37193",serial:"95074",sap:void 0,ops:["Eduardo P\xE9rez","Jorge Ram\xEDrez","Luis Morales","Gabriel Flores"]},{eco:"37194",serial:"95056",sap:void 0,ops:["Oscar Gonz\xE1lez","Adri\xE1n Castillo","Manuel D\xEDaz","Rub\xE9n Romero"]},{eco:"37195",serial:"95049",sap:void 0,ops:["Javier Ortiz","Sergio Medina","Andr\xE9s Vargas","Ra\xFAl Castro"]},{eco:"40019",serial:"97520",sap:void 0,ops:["Hugo Herrera","Francisco Jim\xE9nez","Mart\xEDn Silva","Pedro Mendoza"]},{eco:"40020",serial:"97519",sap:void 0,ops:["Diego Rojas","Alberto Cruz","Mario Aguilar","C\xE9sar Guti\xE9rrez"]},{eco:"40021",serial:"97532",sap:void 0,ops:["Enrique \xC1lvarez","Gustavo M\xE9ndez","Felipe Ortega"]},{eco:"40060",serial:"97529",sap:void 0,ops:["Pablo Rios","H\xE9ctor Delgado","Salvador Pe\xF1a","Tom\xE1s Navarro"]},{eco:"40327",serial:"97560",sap:void 0,ops:["Ismael Guerrero","Rafael Soto","\xC1ngel Campos","Ram\xF3n Vega"]},{eco:"40328",serial:"97562",sap:void 0,ops:["Vicente Molina","Julio Cabrera","Esteban Miranda"]},{eco:"40338",serial:"66458",sap:void 0,ops:["Emilio Pacheco","F\xE9lix Cordero","Lorenzo Montes","Benjam\xEDn Sol\xEDs"]},{eco:"29439",serial:"66454",sap:"4000018761",ops:["Gerardo Lara","Mauricio Acosta"]},{eco:"29440",serial:"66541",sap:"4000018763",ops:["Samuel Valencia","Dario Espinoza"]},{eco:"35482",serial:"92714",sap:"4000026495",ops:["Alfredo Beltr\xE1n","Rogelio C\xE1rdenas","Sim\xF3n Orozco","Elias Villalobos"]},{eco:"35483",serial:"92730",sap:"4000026496",ops:["Lucas Maldonado","Mateo Ibarra","Nicol\xE1s Zavala","Joaqu\xEDn Trejo"]},{eco:"35494",serial:"92732",sap:"4000026522",ops:["Sebasti\xE1n Gallegos","Dami\xE1n Ponce","Juli\xE1n Esquivel","Leonardo Rocha"]}],UW="Sergio Guadarrama Gonzales",VW="Planta Cuautitl\xE1n - Cuautitl\xE1n Izcalli, Edo de Mex.",jW="Toyota 32-8FG30";function qD(e){return BW.map((t,n)=>{let r=Math.random(),i=0;r>.95?i=1:r>.85&&(i=2),t.eco==="35526"&&(i=1);let s=e[i],o=new Date;return i!==0&&o.setDate(o.getDate()-Math.floor(Math.random()*5)),{id:t.eco,brand:"Toyota",model:jW,serial:t.serial,sapCode:t.sap,acquisitionDate:"2020-06-15",fuelType:"GLP/Gasolina Dual",status:s,statusSince:o.toISOString(),location:VW,critical:n<5,cleanlinessStatus:"Pending",supervisor:UW,operatingHours:Math.floor(Math.random()*1301+1200),assignedOperators:t.ops.map((a,l)=>({name:a,role:"Operador",shift:`Turno ${l%4+1}`})),maintenanceTasks:[]}})}var ps=(()=>{class e{constructor(){this.firebaseConfig={apiKey:"AIzaSyBfdkTmTXNW7zP2Pbo_qktwevU12ff16Ng",authDomain:"sample-firebase-ai-app-c84d2.firebaseapp.com",databaseURL:"https://sample-firebase-ai-app-c84d2-default-rtdb.firebaseio.com",projectId:"sample-firebase-ai-app-c84d2",storageBucket:"sample-firebase-ai-app-c84d2.firebasestorage.app",messagingSenderId:"572595334513",appId:"1:572595334513:web:725d1fb5fbe9ed48dc9ad0"},this.connectionStatus=rn("syncing"),this.lastUpdate=rn(new Date),this.plantMode=rn(!1),this.isKioskMode=rn(!1),this.activeSlide=rn(0),this.statuses=[{id:"1",name:"Operativo",color:"bg-emerald-100 text-emerald-800 border-emerald-200",hex:"#10b981"},{id:"2",name:"Taller",color:"bg-red-100 text-red-800 border-red-200",hex:"#ef4444"},{id:"3",name:"Preventivo",color:"bg-amber-100 text-amber-800 border-amber-200",hex:"#f59e0b"},{id:"4",name:"Baja",color:"bg-slate-100 text-slate-800 border-slate-200",hex:"#64748b"}],this.assetsSignal=rn(this.loadRealFleet()),this.reportsSignal=rn(this.generateRealReports()),this.forkliftFailures=rn(this.generateRealLiveFailures()),this.assets=this.assetsSignal.asReadonly(),this.reports=this.reportsSignal.asReadonly(),this.kpiData=vn(()=>{let n=this.assetsSignal().length,r=this.assetsSignal().filter(c=>c.status.name==="Operativo").length,i=this.reportsSignal().filter(c=>c.exitDate),s=0;i.forEach(c=>{let u=new Date(c.entryDate).getTime(),d=new Date(c.exitDate).getTime();s+=(d-u)/(1e3*60*60)});let o=i.length>0?s/i.length:0,a=new Date().getMonth(),l=this.reportsSignal().filter(c=>new Date(c.entryDate).getMonth()===a).reduce((c,u)=>c+u.estimatedCost,0);return{availability:n>0?r/n*100:0,mttr:Math.round(o*10)/10,totalCostMonth:l,budgetMonth:18e3}}),this.fleetAvailability=vn(()=>{let n=this.assetsSignal();if(n.length===0)return{percentage:100,label:"Excelente",color:"#10b981"};let i=n.filter(s=>s.status.name==="Operativo").length/n.length*100;return{percentage:Math.round(i),label:i>=90?"Excelente":i>=80?"Regular":"Cr\xEDtico",color:i>=90?"#10b981":i>=80?"#f59e0b":"#ef4444"}}),this.topOperators=vn(()=>{let n=this.forkliftFailures(),r={};return n.forEach(i=>{i.reporta&&(r[i.reporta]=(r[i.reporta]||0)+10)}),Object.entries(r).map(([i,s])=>({name:i,points:s})).sort((i,s)=>s.points-i.points).slice(0,3)}),this.safetyStats=rn({daysWithoutAccident:142,record:180,announcement:"Uso obligatorio de EPP en Patio de Maniobras"}),this.crewLeaderboard=rn([{rank:1,name:"Turno 1 (Matutino)",score:98,pallets:1450},{rank:2,name:"Turno 2 (Vespertino)",score:94,pallets:1320},{rank:3,name:"Turno 3 (Nocturno)",score:89,pallets:1105}]),this.initFirebase(),this.syncAssetsWithFailures(this.forkliftFailures()),$c(()=>{this.isKioskMode()?this.startKioskRotation():this.stopKioskRotation()}),window.addEventListener("online",()=>this.updateConnectionStatus()),window.addEventListener("offline",()=>this.updateConnectionStatus())}initFirebase(){try{this.app=Jh(this.firebaseConfig),this.db=zD(this.app);let n=Xo(this.db,".info/connected");_1(n,r=>{r.val()===!0?this.connectionStatus.set("online"):this.connectionStatus.set("offline")}),this.setupListeners()}catch(n){console.error("Firebase init error:",n),this.connectionStatus.set("offline")}}updateConnectionStatus(){this.connectionStatus.set(navigator.onLine?"online":"offline")}setupListeners(){let n=Xo(this.db,"failures");_1(n,i=>{let s=i.val();if(this.lastUpdate.set(new Date),s){let o=Object.values(s);o.sort((a,l)=>new Date(l.fechaIngreso).getTime()-new Date(a.fechaIngreso).getTime()),this.forkliftFailures.set(o),this.syncAssetsWithFailures(o)}else this.seedDatabase()},i=>{console.warn("Using Offline Mode.",i),this.connectionStatus.set("offline")});let r=Xo(this.db,"settings/kioskMode");_1(r,i=>{let s=i.val();s!==null&&this.isKioskMode()!==s&&this.isKioskMode.set(s)})}seedDatabase(){let n={};this.forkliftFailures().forEach(i=>{n["failures/"+i.id]=i}),n["settings/kioskMode"]=!1,bp(Xo(this.db),n).catch(()=>{})}toggleKioskMode(){let n=!this.isKioskMode();this.isKioskMode.set(n),this.connectionStatus()==="online"&&nE(Xo(this.db,"settings/kioskMode"),n).catch(()=>{})}startKioskRotation(){this.kioskInterval&&clearInterval(this.kioskInterval),this.kioskInterval=setInterval(()=>{this.activeSlide.update(n=>(n+1)%3)},15e3)}stopKioskRotation(){this.kioskInterval&&clearInterval(this.kioskInterval),this.activeSlide.set(0)}togglePlantMode(){this.plantMode.update(n=>!n)}getAsset(n){return this.assetsSignal().find(r=>r.id===n)}getAssetHistory(n){return this.reportsSignal().filter(r=>r.assetId===n).sort((r,i)=>new Date(i.entryDate).getTime()-new Date(r.entryDate).getTime())}addLiveFailure(n){let r=Yt(ct({},n),{id:"F-"+Date.now(),fechaIngreso:new Date().toISOString(),seguimiento:[]});this.connectionStatus.set("syncing"),this.forkliftFailures.update(i=>[r,...i]),this.syncAssetsWithFailures(this.forkliftFailures()),this.connectionStatus()!=="offline"&&nE(Xo(this.db,"failures/"+r.id),r).then(()=>this.connectionStatus.set("online")).catch(()=>this.connectionStatus.set("offline"))}addFailureUpdate(n,r,i){let s=this.forkliftFailures().find(a=>a.id===n);if(!s)return;let o=Yt(ct({},s),{estatus:"En Proceso",seguimiento:[...s.seguimiento,{usuario:i,mensaje:r,fecha:new Date().toISOString()}]});this.forkliftFailures.update(a=>a.map(l=>l.id===n?o:l)),this.connectionStatus()!=="offline"&&bp(Xo(this.db,"failures/"+n),o).catch(console.error)}updateToyotaLogistics(n,r,i,s){let o={ordenCompra:r,estatusRefaccion:i,fechaPromesa:s,estatus:"En Proceso"};this.forkliftFailures.update(a=>a.map(l=>l.id===n?Yt(ct(ct({},l),o),{estatus:"En Proceso"}):l)),this.connectionStatus()!=="offline"&&bp(Xo(this.db,"failures/"+n),o).catch(console.error)}closeLiveFailure(n){let r=this.forkliftFailures().find(s=>s.id===n);if(!r)return;let i=Yt(ct({},r),{estatus:"Cerrada",fechaSalida:new Date().toISOString()});this.forkliftFailures.update(s=>s.map(o=>o.id===n?i:o)),this.syncAssetsWithFailures(this.forkliftFailures()),this.connectionStatus()!=="offline"&&bp(Xo(this.db,"failures/"+n),i).catch(console.error)}reportFailure(n,r,i){this.addLiveFailure({economico:n,falla:r,prioridad:"Media",reporta:"Operador (App)",estatus:"Abierta"})}completeRepair(n,r,i,s){let o=this.forkliftFailures().find(a=>a.economico===n&&a.estatus!=="Cerrada");o&&this.closeLiveFailure(o.id)}updateAssetsFromExcel(n){}syncAssetsWithFailures(n){let r=n.filter(l=>l.estatus!=="Cerrada"),i=new Set(r.map(l=>l.economico)),s=new Map(r.map(l=>[l.economico,l])),o=this.statuses.find(l=>l.name==="Taller"),a=this.statuses.find(l=>l.name==="Operativo");this.assetsSignal.update(l=>l.map(c=>{if(i.has(c.id)){if(c.status.name!=="Taller")return Yt(ct({},c),{status:o,statusSince:s.get(c.id)?.fechaIngreso||new Date().toISOString(),lastFailure:s.get(c.id)?.falla})}else if(c.status.name==="Taller"&&!i.has(c.id))return Yt(ct({},c),{status:a,statusSince:new Date().toISOString(),lastFailure:void 0});return c}))}loadRealFleet(){let n=qD(this.statuses);return n.forEach((r,i)=>{r.maintenanceTasks=this.generateMockMaintenance(i)}),n}generateMockMaintenance(n){let r=[],i=Math.floor(Math.random()*45)-5,s=new Date;s.setDate(s.getDate()+i);let o=["Cambio de Aceite","Revisi\xF3n de Frenos","Ajuste de Cadenas","Servicio General","Inspecci\xF3n de Bater\xEDa"][n%5];return r.push({id:`T-${n}-1`,date:s.toISOString(),description:o,status:i<0?"Overdue":"Pending"}),r}generateRealReports(){return[]}generateRealLiveFailures(){return[{id:"FAIL-2026-0001",economico:"35526",falla:"Fuga de aceite hidr\xE1ulico en cilindro de elevaci\xF3n principal.",reporta:"Carlos Eduardo Vazquez Calderon",fechaIngreso:new Date().toISOString(),prioridad:"Alta",estatus:"Abierta",seguimiento:[]}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=wn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var HW,zW;function qW(){return{geminiUrl:HW,vertexUrl:zW}}function $W(e,t,n,r){var i,s;if(!e?.baseUrl){let o=qW();return t?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return e.baseUrl}var Eo=class{};function _t(e,t){let n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){let s=t[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function P(e,t,n){for(let s=0;s<t.length-1;s++){let o=t[s];if(o.endsWith("[]")){let a=o.slice(0,-2);if(!(a in e))if(Array.isArray(n))e[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(e[a])){let l=e[a];if(Array.isArray(n))for(let c=0;c<l.length;c++){let u=l[c];P(u,t.slice(s+1),n[c])}else for(let c of l)P(c,t.slice(s+1),n)}return}else if(o.endsWith("[0]")){let a=o.slice(0,-3);a in e||(e[a]=[{}]);let l=e[a];P(l[0],t.slice(s+1),n);return}(!e[o]||typeof e[o]!="object")&&(e[o]={}),e=e[o]}let r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function A(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;let i=t[r];if(i.endsWith("[]")){let s=i.slice(0,-2);if(s in e){let o=e[s];return Array.isArray(o)?o.map(a=>A(a,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function WW(e,t){for(let[n,r]of Object.entries(t)){let i=n.split("."),s=r.split("."),o=new Set,a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&s.length>a)for(let l=a;l<s.length;l++){let c=s[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&o.add(c)}rE(e,i,s,0,o)}}function rE(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;let s=t[r];if(s.endsWith("[]")){let o=s.slice(0,-2),a=e;if(o in a&&Array.isArray(a[o]))for(let l of a[o])rE(l,t,n,r+1,i)}else if(s==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){let o=e,a=Object.keys(o).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(let c of a)l[c]=o[c];for(let[c,u]of Object.entries(l)){let d=[];for(let h of n.slice(r))h==="*"?d.push(c):d.push(h);P(o,d,u)}for(let c of a)delete o[c]}}else{let o=e;s in o&&rE(o[s],t,n,r+1,i)}}function KE(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function GW(e){let t={},n=A(e,["operationName"]);n!=null&&P(t,["operationName"],n);let r=A(e,["resourceName"]);return r!=null&&P(t,["_url","resourceName"],r),t}function KW(e){let t={},n=A(e,["name"]);n!=null&&P(t,["name"],n);let r=A(e,["metadata"]);r!=null&&P(t,["metadata"],r);let i=A(e,["done"]);i!=null&&P(t,["done"],i);let s=A(e,["error"]);s!=null&&P(t,["error"],s);let o=A(e,["response","generateVideoResponse"]);return o!=null&&P(t,["response"],ZW(o)),t}function YW(e){let t={},n=A(e,["name"]);n!=null&&P(t,["name"],n);let r=A(e,["metadata"]);r!=null&&P(t,["metadata"],r);let i=A(e,["done"]);i!=null&&P(t,["done"],i);let s=A(e,["error"]);s!=null&&P(t,["error"],s);let o=A(e,["response"]);return o!=null&&P(t,["response"],JW(o)),t}function ZW(e){let t={},n=A(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>XW(o))),P(t,["generatedVideos"],s)}let r=A(e,["raiMediaFilteredCount"]);r!=null&&P(t,["raiMediaFilteredCount"],r);let i=A(e,["raiMediaFilteredReasons"]);return i!=null&&P(t,["raiMediaFilteredReasons"],i),t}function JW(e){let t={},n=A(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>QW(o))),P(t,["generatedVideos"],s)}let r=A(e,["raiMediaFilteredCount"]);r!=null&&P(t,["raiMediaFilteredCount"],r);let i=A(e,["raiMediaFilteredReasons"]);return i!=null&&P(t,["raiMediaFilteredReasons"],i),t}function XW(e){let t={},n=A(e,["video"]);return n!=null&&P(t,["video"],sG(n)),t}function QW(e){let t={},n=A(e,["_self"]);return n!=null&&P(t,["video"],oG(n)),t}function eG(e){let t={},n=A(e,["operationName"]);return n!=null&&P(t,["_url","operationName"],n),t}function tG(e){let t={},n=A(e,["operationName"]);return n!=null&&P(t,["_url","operationName"],n),t}function nG(e){let t={},n=A(e,["name"]);n!=null&&P(t,["name"],n);let r=A(e,["metadata"]);r!=null&&P(t,["metadata"],r);let i=A(e,["done"]);i!=null&&P(t,["done"],i);let s=A(e,["error"]);s!=null&&P(t,["error"],s);let o=A(e,["response"]);return o!=null&&P(t,["response"],rG(o)),t}function rG(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["parent"]);r!=null&&P(t,["parent"],r);let i=A(e,["documentName"]);return i!=null&&P(t,["documentName"],i),t}function u8(e){let t={},n=A(e,["name"]);n!=null&&P(t,["name"],n);let r=A(e,["metadata"]);r!=null&&P(t,["metadata"],r);let i=A(e,["done"]);i!=null&&P(t,["done"],i);let s=A(e,["error"]);s!=null&&P(t,["error"],s);let o=A(e,["response"]);return o!=null&&P(t,["response"],iG(o)),t}function iG(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["parent"]);r!=null&&P(t,["parent"],r);let i=A(e,["documentName"]);return i!=null&&P(t,["documentName"],i),t}function sG(e){let t={},n=A(e,["uri"]);n!=null&&P(t,["uri"],n);let r=A(e,["encodedVideo"]);r!=null&&P(t,["videoBytes"],KE(r));let i=A(e,["encoding"]);return i!=null&&P(t,["mimeType"],i),t}function oG(e){let t={},n=A(e,["gcsUri"]);n!=null&&P(t,["uri"],n);let r=A(e,["bytesBase64Encoded"]);r!=null&&P(t,["videoBytes"],KE(r));let i=A(e,["mimeType"]);return i!=null&&P(t,["mimeType"],i),t}var au=function(e){return e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL",e}(au||{});var iE=function(e){return e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO",e}(iE||{});var d8=function(e){return e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",e}(d8||{});var _p=function(e){return e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT",e}(_p||{});var Ep=class{constructor(t){let n={};for(let r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}};var ou=class{get text(){var t,n,r,i,s,o,a,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1,d=[];for(let h of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[f,p]of Object.entries(h))f!=="text"&&f!=="thought"&&f!=="thoughtSignature"&&(p!==null||p!==void 0)&&d.push(f);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,c+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var t,n,r,i,s,o,a,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="",u=[];for(let d of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[h,f]of Object.entries(d))h!=="inlineData"&&(f!==null||f!==void 0)&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(c+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var t,n,r,i,s,o,a,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let c=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if(c?.length!==0)return c}get executableCode(){var t,n,r,i,s,o,a,l,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if(u?.length!==0)return(c=u?.[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,r,i,s,o,a,l,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if(u?.length!==0)return(c=u?.[0])===null||c===void 0?void 0:c.output}},x1=class{},S1=class{},sE=class{},oE=class{},aE=class{},lE=class{},C1=class{},T1=class{},I1=class{},cE=class{};var A1=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,i,s=t;return n?i=YW(s):i=KW(s),Object.assign(r,i),r}},k1=class{},D1=class{},M1=class{},uE=class{},dE=class{},fE=class{};var hE=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,s=nG(t);return Object.assign(r,s),r}},pE=class{},mE=class{},gE=class{};var N1=class{};var yE=class{get text(){var t,n,r;let i="",s=!1,o=[];for(let a of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[l,c]of Object.entries(a))l!=="text"&&l!=="thought"&&c!==null&&o.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;s=!0,i+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var t,n,r;let i="",s=[];for(let o of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[a,l]of Object.entries(o))a!=="inlineData"&&l!==null&&s.push(a);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}};var vE=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var bE=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,s=u8(t);return Object.assign(r,s),r}};function Gn(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){let n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function f8(e,t){let n=Gn(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function h8(e){return Array.isArray(e)?e.map(t=>R1(t)):[R1(e)]}function R1(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function p8(e){let t=R1(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function m8(e){let t=R1(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function $D(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function g8(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>$D(t)):[$D(e)]}function _E(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function WD(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function GD(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Pi(e){if(e==null)throw new Error("ContentUnion is required");return _E(e)?e:{role:"user",parts:g8(e)}}function YE(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{let r=Pi(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){let n=Pi(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Pi(n)):[Pi(t)]}function Xs(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(WD(e)||GD(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pi(e)]}let t=[],n=[],r=_E(e[0]);for(let i of e){let s=_E(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(i);else{if(WD(i)||GD(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:g8(n)}),t}function aG(e,t){e.includes("null")&&(t.nullable=!0);let n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(au).includes(n[0].toUpperCase())?n[0].toUpperCase():au.TYPE_UNSPECIFIED;else{t.anyOf=[];for(let r of n)t.anyOf.push({type:Object.values(au).includes(r.toUpperCase())?r.toUpperCase():au.TYPE_UNSPECIFIED})}}function Rd(e){let t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");let s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&aG(e.type,t);for(let[o,a]of Object.entries(e))if(a!=null)if(o=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(au).includes(a.toUpperCase())?a.toUpperCase():au.TYPE_UNSPECIFIED}else if(n.includes(o))t[o]=Rd(a);else if(r.includes(o)){let l=[];for(let c of a){if(c.type=="null"){t.nullable=!0;continue}l.push(Rd(c))}t[o]=l}else if(i.includes(o)){let l={};for(let[c,u]of Object.entries(a))l[c]=Rd(u);t[o]=l}else{if(o==="additionalProperties")continue;t[o]=a}return t}function ZE(e){return Rd(e)}function JE(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function XE(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ld(e){if(e.functionDeclarations)for(let t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Rd(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Rd(t.response));return e}function Fd(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");let t=[];for(let n of e)t.push(n);return t}function lG(e,t,n,r=1){let i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function il(e,t){if(typeof t!="string")throw new Error("name must be a string");return lG(e,t,"cachedContents")}function y8(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Zl(e){return KE(e)}function cG(e){return e!=null&&typeof e=="object"&&"name"in e}function uG(e){return e!=null&&typeof e=="object"&&"video"in e}function dG(e){return e!=null&&typeof e=="object"&&"uri"in e}function v8(e){var t;let n;if(cG(e)&&(n=e.name),!(dG(e)&&(n=e.uri,n===void 0))&&!(uG(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function b8(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function _8(e){for(let t of["models","tunedModels","publisherModels"])if(fG(e,t))return e[t];return[]}function fG(e,t){return e!==null&&typeof e=="object"&&t in e}function hG(e,t={}){let n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function pG(e,t={}){let n=[],r=new Set;for(let i of e){let s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);let o=hG(i,t);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function w8(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;let r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function mG(e){if(typeof e!="string")return e;let t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function E8(e){if(typeof e!="object"||e===null)return{};let t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;let i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let s=!1;for(let o of i){if(typeof o!="object"||o===null)continue;let l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Bd(e,t){let n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function x8(e){let t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function gG(e){let t={},n=A(e,["responsesFile"]);n!=null&&P(t,["fileName"],n);let r=A(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>ZG(o))),P(t,["inlinedResponses"],s)}let i=A(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(t,["inlinedEmbedContentResponses"],s)}return t}function yG(e){let t={},n=A(e,["predictionsFormat"]);n!=null&&P(t,["format"],n);let r=A(e,["gcsDestination","outputUriPrefix"]);r!=null&&P(t,["gcsUri"],r);let i=A(e,["bigqueryDestination","outputUri"]);return i!=null&&P(t,["bigqueryUri"],i),t}function vG(e){let t={},n=A(e,["format"]);n!=null&&P(t,["predictionsFormat"],n);let r=A(e,["gcsUri"]);r!=null&&P(t,["gcsDestination","outputUriPrefix"],r);let i=A(e,["bigqueryUri"]);if(i!=null&&P(t,["bigqueryDestination","outputUri"],i),A(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(A(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(A(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function w1(e){let t={},n=A(e,["name"]);n!=null&&P(t,["name"],n);let r=A(e,["metadata","displayName"]);r!=null&&P(t,["displayName"],r);let i=A(e,["metadata","state"]);i!=null&&P(t,["state"],x8(i));let s=A(e,["metadata","createTime"]);s!=null&&P(t,["createTime"],s);let o=A(e,["metadata","endTime"]);o!=null&&P(t,["endTime"],o);let a=A(e,["metadata","updateTime"]);a!=null&&P(t,["updateTime"],a);let l=A(e,["metadata","model"]);l!=null&&P(t,["model"],l);let c=A(e,["metadata","output"]);return c!=null&&P(t,["dest"],gG(E8(c))),t}function wE(e){let t={},n=A(e,["name"]);n!=null&&P(t,["name"],n);let r=A(e,["displayName"]);r!=null&&P(t,["displayName"],r);let i=A(e,["state"]);i!=null&&P(t,["state"],x8(i));let s=A(e,["error"]);s!=null&&P(t,["error"],s);let o=A(e,["createTime"]);o!=null&&P(t,["createTime"],o);let a=A(e,["startTime"]);a!=null&&P(t,["startTime"],a);let l=A(e,["endTime"]);l!=null&&P(t,["endTime"],l);let c=A(e,["updateTime"]);c!=null&&P(t,["updateTime"],c);let u=A(e,["model"]);u!=null&&P(t,["model"],u);let d=A(e,["inputConfig"]);d!=null&&P(t,["src"],bG(d));let h=A(e,["outputConfig"]);h!=null&&P(t,["dest"],yG(E8(h)));let f=A(e,["completionStats"]);return f!=null&&P(t,["completionStats"],f),t}function bG(e){let t={},n=A(e,["instancesFormat"]);n!=null&&P(t,["format"],n);let r=A(e,["gcsSource","uris"]);r!=null&&P(t,["gcsUri"],r);let i=A(e,["bigquerySource","inputUri"]);return i!=null&&P(t,["bigqueryUri"],i),t}function _G(e,t){let n={};if(A(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(A(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(A(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let r=A(t,["fileName"]);r!=null&&P(n,["fileName"],r);let i=A(t,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>YG(e,o))),P(n,["requests","requests"],s)}return n}function wG(e){let t={},n=A(e,["format"]);n!=null&&P(t,["instancesFormat"],n);let r=A(e,["gcsUri"]);r!=null&&P(t,["gcsSource","uris"],r);let i=A(e,["bigqueryUri"]);if(i!=null&&P(t,["bigquerySource","inputUri"],i),A(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(A(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function EG(e){let t={},n=A(e,["data"]);if(n!=null&&P(t,["data"],n),A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function xG(e,t){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],Bd(e,r)),n}function SG(e,t){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],Bd(e,r)),n}function CG(e){let t={},n=A(e,["content"]);n!=null&&P(t,["content"],n);let r=A(e,["citationMetadata"]);r!=null&&P(t,["citationMetadata"],TG(r));let i=A(e,["tokenCount"]);i!=null&&P(t,["tokenCount"],i);let s=A(e,["finishReason"]);s!=null&&P(t,["finishReason"],s);let o=A(e,["avgLogprobs"]);o!=null&&P(t,["avgLogprobs"],o);let a=A(e,["groundingMetadata"]);a!=null&&P(t,["groundingMetadata"],a);let l=A(e,["index"]);l!=null&&P(t,["index"],l);let c=A(e,["logprobsResult"]);c!=null&&P(t,["logprobsResult"],c);let u=A(e,["safetyRatings"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(f=>f)),P(t,["safetyRatings"],h)}let d=A(e,["urlContextMetadata"]);return d!=null&&P(t,["urlContextMetadata"],d),t}function TG(e){let t={},n=A(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),P(t,["citations"],r)}return t}function S8(e){let t={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>rK(s))),P(t,["parts"],i)}let r=A(e,["role"]);return r!=null&&P(t,["role"],r),t}function IG(e,t){let n={},r=A(e,["displayName"]);if(t!==void 0&&r!=null&&P(t,["batch","displayName"],r),A(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function AG(e,t){let n={},r=A(e,["displayName"]);t!==void 0&&r!=null&&P(t,["displayName"],r);let i=A(e,["dest"]);return t!==void 0&&i!=null&&P(t,["outputConfig"],vG(mG(i))),n}function KD(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["src"]);i!=null&&P(n,["batch","inputConfig"],_G(e,w8(e,i)));let s=A(t,["config"]);return s!=null&&IG(s,n),n}function kG(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["model"],Gn(e,r));let i=A(t,["src"]);i!=null&&P(n,["inputConfig"],wG(w8(e,i)));let s=A(t,["config"]);return s!=null&&AG(s,n),n}function DG(e,t){let n={},r=A(e,["displayName"]);return t!==void 0&&r!=null&&P(t,["batch","displayName"],r),n}function MG(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["src"]);i!=null&&P(n,["batch","inputConfig"],BG(e,i));let s=A(t,["config"]);return s!=null&&DG(s,n),n}function NG(e,t){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],Bd(e,r)),n}function RG(e,t){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],Bd(e,r)),n}function PG(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["name"]);r!=null&&P(t,["name"],r);let i=A(e,["done"]);i!=null&&P(t,["done"],i);let s=A(e,["error"]);return s!=null&&P(t,["error"],s),t}function OG(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["name"]);r!=null&&P(t,["name"],r);let i=A(e,["done"]);i!=null&&P(t,["done"],i);let s=A(e,["error"]);return s!=null&&P(t,["error"],s),t}function LG(e,t){let n={},r=A(t,["contents"]);if(r!=null){let s=YE(e,r);Array.isArray(s)&&(s=s.map(o=>o)),P(n,["requests[]","request","content"],s)}let i=A(t,["config"]);return i!=null&&(P(n,["_self"],FG(i,n)),WW(n,{"requests[].*":"requests[].request.*"})),n}function FG(e,t){let n={},r=A(e,["taskType"]);t!==void 0&&r!=null&&P(t,["requests[]","taskType"],r);let i=A(e,["title"]);t!==void 0&&i!=null&&P(t,["requests[]","title"],i);let s=A(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&P(t,["requests[]","outputDimensionality"],s),A(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(A(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function BG(e,t){let n={},r=A(t,["fileName"]);r!=null&&P(n,["file_name"],r);let i=A(t,["inlinedRequests"]);return i!=null&&P(n,["requests"],LG(e,i)),n}function UG(e){let t={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=A(e,["fileUri"]);n!=null&&P(t,["fileUri"],n);let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function VG(e){let t={},n=A(e,["id"]);n!=null&&P(t,["id"],n);let r=A(e,["args"]);r!=null&&P(t,["args"],r);let i=A(e,["name"]);if(i!=null&&P(t,["name"],i),A(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(A(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jG(e){let t={},n=A(e,["mode"]);n!=null&&P(t,["mode"],n);let r=A(e,["allowedFunctionNames"]);if(r!=null&&P(t,["allowedFunctionNames"],r),A(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function HG(e,t,n){let r={},i=A(t,["systemInstruction"]);n!==void 0&&i!=null&&P(n,["systemInstruction"],S8(Pi(i)));let s=A(t,["temperature"]);s!=null&&P(r,["temperature"],s);let o=A(t,["topP"]);o!=null&&P(r,["topP"],o);let a=A(t,["topK"]);a!=null&&P(r,["topK"],a);let l=A(t,["candidateCount"]);l!=null&&P(r,["candidateCount"],l);let c=A(t,["maxOutputTokens"]);c!=null&&P(r,["maxOutputTokens"],c);let u=A(t,["stopSequences"]);u!=null&&P(r,["stopSequences"],u);let d=A(t,["responseLogprobs"]);d!=null&&P(r,["responseLogprobs"],d);let h=A(t,["logprobs"]);h!=null&&P(r,["logprobs"],h);let f=A(t,["presencePenalty"]);f!=null&&P(r,["presencePenalty"],f);let p=A(t,["frequencyPenalty"]);p!=null&&P(r,["frequencyPenalty"],p);let m=A(t,["seed"]);m!=null&&P(r,["seed"],m);let g=A(t,["responseMimeType"]);g!=null&&P(r,["responseMimeType"],g);let v=A(t,["responseSchema"]);v!=null&&P(r,["responseSchema"],ZE(v));let x=A(t,["responseJsonSchema"]);if(x!=null&&P(r,["responseJsonSchema"],x),A(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(A(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let I=A(t,["safetySettings"]);if(n!==void 0&&I!=null){let T=I;Array.isArray(T)&&(T=T.map(O=>iK(O))),P(n,["safetySettings"],T)}let R=A(t,["tools"]);if(n!==void 0&&R!=null){let T=Fd(R);Array.isArray(T)&&(T=T.map(O=>oK(Ld(O)))),P(n,["tools"],T)}let $=A(t,["toolConfig"]);if(n!==void 0&&$!=null&&P(n,["toolConfig"],sK($)),A(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let F=A(t,["cachedContent"]);n!==void 0&&F!=null&&P(n,["cachedContent"],il(e,F));let V=A(t,["responseModalities"]);V!=null&&P(r,["responseModalities"],V);let U=A(t,["mediaResolution"]);U!=null&&P(r,["mediaResolution"],U);let q=A(t,["speechConfig"]);if(q!=null&&P(r,["speechConfig"],JE(q)),A(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let j=A(t,["thinkingConfig"]);j!=null&&P(r,["thinkingConfig"],j);let S=A(t,["imageConfig"]);return S!=null&&P(r,["imageConfig"],KG(S)),r}function zG(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>CG(c))),P(t,["candidates"],l)}let i=A(e,["modelVersion"]);i!=null&&P(t,["modelVersion"],i);let s=A(e,["promptFeedback"]);s!=null&&P(t,["promptFeedback"],s);let o=A(e,["responseId"]);o!=null&&P(t,["responseId"],o);let a=A(e,["usageMetadata"]);return a!=null&&P(t,["usageMetadata"],a),t}function qG(e,t){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],Bd(e,r)),n}function $G(e,t){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],Bd(e,r)),n}function WG(e){let t={};if(A(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=A(e,["enableWidget"]);return n!=null&&P(t,["enableWidget"],n),t}function GG(e){let t={};if(A(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(A(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=A(e,["timeRangeFilter"]);return n!=null&&P(t,["timeRangeFilter"],n),t}function KG(e){let t={},n=A(e,["aspectRatio"]);n!=null&&P(t,["aspectRatio"],n);let r=A(e,["imageSize"]);if(r!=null&&P(t,["imageSize"],r),A(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(A(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function YG(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["request","model"],Gn(e,r));let i=A(t,["contents"]);if(i!=null){let a=Xs(i);Array.isArray(a)&&(a=a.map(l=>S8(l))),P(n,["request","contents"],a)}let s=A(t,["metadata"]);s!=null&&P(n,["metadata"],s);let o=A(t,["config"]);return o!=null&&P(n,["request","generationConfig"],HG(e,o,A(n,["request"],{}))),n}function ZG(e){let t={},n=A(e,["response"]);n!=null&&P(t,["response"],zG(n));let r=A(e,["error"]);return r!=null&&P(t,["error"],r),t}function JG(e,t){let n={},r=A(e,["pageSize"]);t!==void 0&&r!=null&&P(t,["_query","pageSize"],r);let i=A(e,["pageToken"]);if(t!==void 0&&i!=null&&P(t,["_query","pageToken"],i),A(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function XG(e,t){let n={},r=A(e,["pageSize"]);t!==void 0&&r!=null&&P(t,["_query","pageSize"],r);let i=A(e,["pageToken"]);t!==void 0&&i!=null&&P(t,["_query","pageToken"],i);let s=A(e,["filter"]);return t!==void 0&&s!=null&&P(t,["_query","filter"],s),n}function QG(e){let t={},n=A(e,["config"]);return n!=null&&JG(n,t),t}function eK(e){let t={},n=A(e,["config"]);return n!=null&&XG(n,t),t}function tK(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["nextPageToken"]);r!=null&&P(t,["nextPageToken"],r);let i=A(e,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>w1(o))),P(t,["batchJobs"],s)}return t}function nK(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["nextPageToken"]);r!=null&&P(t,["nextPageToken"],r);let i=A(e,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>wE(o))),P(t,["batchJobs"],s)}return t}function rK(e){let t={},n=A(e,["mediaResolution"]);n!=null&&P(t,["mediaResolution"],n);let r=A(e,["codeExecutionResult"]);r!=null&&P(t,["codeExecutionResult"],r);let i=A(e,["executableCode"]);i!=null&&P(t,["executableCode"],i);let s=A(e,["fileData"]);s!=null&&P(t,["fileData"],UG(s));let o=A(e,["functionCall"]);o!=null&&P(t,["functionCall"],VG(o));let a=A(e,["functionResponse"]);a!=null&&P(t,["functionResponse"],a);let l=A(e,["inlineData"]);l!=null&&P(t,["inlineData"],EG(l));let c=A(e,["text"]);c!=null&&P(t,["text"],c);let u=A(e,["thought"]);u!=null&&P(t,["thought"],u);let d=A(e,["thoughtSignature"]);d!=null&&P(t,["thoughtSignature"],d);let h=A(e,["videoMetadata"]);return h!=null&&P(t,["videoMetadata"],h),t}function iK(e){let t={},n=A(e,["category"]);if(n!=null&&P(t,["category"],n),A(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=A(e,["threshold"]);return r!=null&&P(t,["threshold"],r),t}function sK(e){let t={},n=A(e,["functionCallingConfig"]);n!=null&&P(t,["functionCallingConfig"],jG(n));let r=A(e,["retrievalConfig"]);return r!=null&&P(t,["retrievalConfig"],r),t}function oK(e){let t={},n=A(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>d)),P(t,["functionDeclarations"],u)}if(A(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=A(e,["googleSearchRetrieval"]);r!=null&&P(t,["googleSearchRetrieval"],r);let i=A(e,["computerUse"]);i!=null&&P(t,["computerUse"],i);let s=A(e,["fileSearch"]);s!=null&&P(t,["fileSearch"],s);let o=A(e,["codeExecution"]);if(o!=null&&P(t,["codeExecution"],o),A(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=A(e,["googleMaps"]);a!=null&&P(t,["googleMaps"],WG(a));let l=A(e,["googleSearch"]);l!=null&&P(t,["googleSearch"],GG(l));let c=A(e,["urlContext"]);return c!=null&&P(t,["urlContext"],c),t}var Jl=function(e){return e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents",e}(Jl||{}),rl=class{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}};var EE=class extends Eo{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new rl(Jl.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){let n=KD(this.apiClient,t),r=n._url,i=_t("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,c=[];for(let u of l){let d=Object.assign({},u);if(d.systemInstruction){let h=d.systemInstruction;delete d.systemInstruction;let f=d.request;f.systemInstruction=h,d.request=f}c.push(d)}return a.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){let r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){let s=this.getGcsUri(t),o=this.getBigqueryUri(t);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=kG(this.apiClient,t);return a=_t("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>wE(u))}else{let c=KD(this.apiClient,t);return a=_t("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>w1(u))}}async createEmbeddingsInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=MG(this.apiClient,t);return s=_t("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>w1(l))}}async get(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=$G(this.apiClient,t);return a=_t("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>wE(u))}else{let c=qG(this.apiClient,t);return a=_t("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>w1(u))}}async cancel(t){var n,r,i,s;let o="",a={};if(this.apiClient.isVertexAI()){let l=SG(this.apiClient,t);o=_t("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{let l=xG(this.apiClient,t);o=_t("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=eK(t);return a=_t("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=nK(u),h=new N1;return Object.assign(h,d),h})}else{let c=QG(t);return a=_t("batches",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=tK(u),h=new N1;return Object.assign(h,d),h})}}async delete(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=RG(this.apiClient,t);return a=_t("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>OG(u))}else{let c=NG(this.apiClient,t);return a=_t("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>PG(u))}}};function aK(e){let t={},n=A(e,["data"]);if(n!=null&&P(t,["data"],n),A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function YD(e){let t={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>DK(s))),P(t,["parts"],i)}let r=A(e,["role"]);return r!=null&&P(t,["role"],r),t}function lK(e,t){let n={},r=A(e,["ttl"]);t!==void 0&&r!=null&&P(t,["ttl"],r);let i=A(e,["expireTime"]);t!==void 0&&i!=null&&P(t,["expireTime"],i);let s=A(e,["displayName"]);t!==void 0&&s!=null&&P(t,["displayName"],s);let o=A(e,["contents"]);if(t!==void 0&&o!=null){let u=Xs(o);Array.isArray(u)&&(u=u.map(d=>YD(d))),P(t,["contents"],u)}let a=A(e,["systemInstruction"]);t!==void 0&&a!=null&&P(t,["systemInstruction"],YD(Pi(a)));let l=A(e,["tools"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>NK(d))),P(t,["tools"],u)}let c=A(e,["toolConfig"]);if(t!==void 0&&c!=null&&P(t,["toolConfig"],MK(c)),A(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function cK(e,t){let n={},r=A(e,["ttl"]);t!==void 0&&r!=null&&P(t,["ttl"],r);let i=A(e,["expireTime"]);t!==void 0&&i!=null&&P(t,["expireTime"],i);let s=A(e,["displayName"]);t!==void 0&&s!=null&&P(t,["displayName"],s);let o=A(e,["contents"]);if(t!==void 0&&o!=null){let d=Xs(o);Array.isArray(d)&&(d=d.map(h=>h)),P(t,["contents"],d)}let a=A(e,["systemInstruction"]);t!==void 0&&a!=null&&P(t,["systemInstruction"],Pi(a));let l=A(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>RK(h))),P(t,["tools"],d)}let c=A(e,["toolConfig"]);t!==void 0&&c!=null&&P(t,["toolConfig"],c);let u=A(e,["kmsKeyName"]);return t!==void 0&&u!=null&&P(t,["encryption_spec","kmsKeyName"],u),n}function uK(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["model"],f8(e,r));let i=A(t,["config"]);return i!=null&&lK(i,n),n}function dK(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["model"],f8(e,r));let i=A(t,["config"]);return i!=null&&cK(i,n),n}function fK(e,t){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],il(e,r)),n}function hK(e,t){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],il(e,r)),n}function pK(e){let t={},n=A(e,["sdkHttpResponse"]);return n!=null&&P(t,["sdkHttpResponse"],n),t}function mK(e){let t={},n=A(e,["sdkHttpResponse"]);return n!=null&&P(t,["sdkHttpResponse"],n),t}function gK(e){let t={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=A(e,["fileUri"]);n!=null&&P(t,["fileUri"],n);let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function yK(e){let t={},n=A(e,["id"]);n!=null&&P(t,["id"],n);let r=A(e,["args"]);r!=null&&P(t,["args"],r);let i=A(e,["name"]);if(i!=null&&P(t,["name"],i),A(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(A(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function vK(e){let t={},n=A(e,["mode"]);n!=null&&P(t,["mode"],n);let r=A(e,["allowedFunctionNames"]);if(r!=null&&P(t,["allowedFunctionNames"],r),A(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function bK(e){let t={};if(A(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=A(e,["description"]);n!=null&&P(t,["description"],n);let r=A(e,["name"]);r!=null&&P(t,["name"],r);let i=A(e,["parameters"]);i!=null&&P(t,["parameters"],i);let s=A(e,["parametersJsonSchema"]);s!=null&&P(t,["parametersJsonSchema"],s);let o=A(e,["response"]);o!=null&&P(t,["response"],o);let a=A(e,["responseJsonSchema"]);return a!=null&&P(t,["responseJsonSchema"],a),t}function _K(e,t){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],il(e,r)),n}function wK(e,t){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],il(e,r)),n}function EK(e){let t={};if(A(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=A(e,["enableWidget"]);return n!=null&&P(t,["enableWidget"],n),t}function xK(e){let t={};if(A(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(A(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=A(e,["timeRangeFilter"]);return n!=null&&P(t,["timeRangeFilter"],n),t}function SK(e,t){let n={},r=A(e,["pageSize"]);t!==void 0&&r!=null&&P(t,["_query","pageSize"],r);let i=A(e,["pageToken"]);return t!==void 0&&i!=null&&P(t,["_query","pageToken"],i),n}function CK(e,t){let n={},r=A(e,["pageSize"]);t!==void 0&&r!=null&&P(t,["_query","pageSize"],r);let i=A(e,["pageToken"]);return t!==void 0&&i!=null&&P(t,["_query","pageToken"],i),n}function TK(e){let t={},n=A(e,["config"]);return n!=null&&SK(n,t),t}function IK(e){let t={},n=A(e,["config"]);return n!=null&&CK(n,t),t}function AK(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["nextPageToken"]);r!=null&&P(t,["nextPageToken"],r);let i=A(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(t,["cachedContents"],s)}return t}function kK(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["nextPageToken"]);r!=null&&P(t,["nextPageToken"],r);let i=A(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(t,["cachedContents"],s)}return t}function DK(e){let t={},n=A(e,["mediaResolution"]);n!=null&&P(t,["mediaResolution"],n);let r=A(e,["codeExecutionResult"]);r!=null&&P(t,["codeExecutionResult"],r);let i=A(e,["executableCode"]);i!=null&&P(t,["executableCode"],i);let s=A(e,["fileData"]);s!=null&&P(t,["fileData"],gK(s));let o=A(e,["functionCall"]);o!=null&&P(t,["functionCall"],yK(o));let a=A(e,["functionResponse"]);a!=null&&P(t,["functionResponse"],a);let l=A(e,["inlineData"]);l!=null&&P(t,["inlineData"],aK(l));let c=A(e,["text"]);c!=null&&P(t,["text"],c);let u=A(e,["thought"]);u!=null&&P(t,["thought"],u);let d=A(e,["thoughtSignature"]);d!=null&&P(t,["thoughtSignature"],d);let h=A(e,["videoMetadata"]);return h!=null&&P(t,["videoMetadata"],h),t}function MK(e){let t={},n=A(e,["functionCallingConfig"]);n!=null&&P(t,["functionCallingConfig"],vK(n));let r=A(e,["retrievalConfig"]);return r!=null&&P(t,["retrievalConfig"],r),t}function NK(e){let t={},n=A(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>d)),P(t,["functionDeclarations"],u)}if(A(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=A(e,["googleSearchRetrieval"]);r!=null&&P(t,["googleSearchRetrieval"],r);let i=A(e,["computerUse"]);i!=null&&P(t,["computerUse"],i);let s=A(e,["fileSearch"]);s!=null&&P(t,["fileSearch"],s);let o=A(e,["codeExecution"]);if(o!=null&&P(t,["codeExecution"],o),A(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=A(e,["googleMaps"]);a!=null&&P(t,["googleMaps"],EK(a));let l=A(e,["googleSearch"]);l!=null&&P(t,["googleSearch"],xK(l));let c=A(e,["urlContext"]);return c!=null&&P(t,["urlContext"],c),t}function RK(e){let t={},n=A(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>bK(h))),P(t,["functionDeclarations"],d)}let r=A(e,["retrieval"]);r!=null&&P(t,["retrieval"],r);let i=A(e,["googleSearchRetrieval"]);i!=null&&P(t,["googleSearchRetrieval"],i);let s=A(e,["computerUse"]);if(s!=null&&P(t,["computerUse"],s),A(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let o=A(e,["codeExecution"]);o!=null&&P(t,["codeExecution"],o);let a=A(e,["enterpriseWebSearch"]);a!=null&&P(t,["enterpriseWebSearch"],a);let l=A(e,["googleMaps"]);l!=null&&P(t,["googleMaps"],l);let c=A(e,["googleSearch"]);c!=null&&P(t,["googleSearch"],c);let u=A(e,["urlContext"]);return u!=null&&P(t,["urlContext"],u),t}function PK(e,t){let n={},r=A(e,["ttl"]);t!==void 0&&r!=null&&P(t,["ttl"],r);let i=A(e,["expireTime"]);return t!==void 0&&i!=null&&P(t,["expireTime"],i),n}function OK(e,t){let n={},r=A(e,["ttl"]);t!==void 0&&r!=null&&P(t,["ttl"],r);let i=A(e,["expireTime"]);return t!==void 0&&i!=null&&P(t,["expireTime"],i),n}function LK(e,t){let n={},r=A(t,["name"]);r!=null&&P(n,["_url","name"],il(e,r));let i=A(t,["config"]);return i!=null&&PK(i,n),n}function FK(e,t){let n={},r=A(t,["name"]);r!=null&&P(n,["_url","name"],il(e,r));let i=A(t,["config"]);return i!=null&&OK(i,n),n}var xE=class extends Eo{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new rl(Jl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=dK(this.apiClient,t);return a=_t("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{let c=uK(this.apiClient,t);return a=_t("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async get(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=wK(this.apiClient,t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{let c=_K(this.apiClient,t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=hK(this.apiClient,t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=mK(u),h=new D1;return Object.assign(h,d),h})}else{let c=fK(this.apiClient,t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=pK(u),h=new D1;return Object.assign(h,d),h})}}async update(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=FK(this.apiClient,t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{let c=LK(this.apiClient,t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async listInternal(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=IK(t);return a=_t("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=kK(u),h=new M1;return Object.assign(h,d),h})}else{let c=TK(t);return a=_t("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=AK(u),h=new M1;return Object.assign(h,d),h})}}};function ZD(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wr(e){return this instanceof wr?(this.v=e,this):new wr(e)}function Pd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(g,v){s.push([f,m,g,v])>1||l(f,m)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(r[f](p))}catch(m){h(s[0][3],m)}}function c(f){f.value instanceof wr?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function wp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ZD=="function"?ZD(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function BK(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;let n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:C8(n)}function C8(e){if(e.parts===void 0||e.parts.length===0)return!1;for(let t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function UK(e){if(e.length!==0){for(let t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function JD(e){if(e===void 0||e.length===0)return[];let t=[],n=e.length,r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{let i=[],s=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),s&&!C8(e[r])&&(s=!1),r++;s?t.push(...i):t.pop()}return t}var SE=class{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new CE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}},CE=class{constructor(t,n,r,i={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),UK(s)}async sendMessage(t){var n;await this.sendPromise;let r=Pi(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,a;let l=await i,c=(o=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,u=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length,h=[];u!=null&&(h=(a=u.slice(d))!==null&&a!==void 0?a:[]);let f=c?[c]:[];this.recordHistory(r,f,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;let r=Pi(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});let s=await i;return this.processStreamResponse(s,r)}getHistory(t=!1){let n=t?JD(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return Pd(this,arguments,function*(){var o,a,l,c;let u=[];try{for(var d=!0,h=wp(t),f;f=yield wr(h.next()),o=f.done,!o;d=!0){c=f.value,d=!1;let p=c;if(BK(p)){let m=(i=(r=p.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;m!==void 0&&u.push(m)}yield yield wr(p)}}catch(p){a={error:p}}finally{try{!d&&!o&&(l=h.return)&&(yield wr(l.call(h)))}finally{if(a)throw a.error}}this.recordHistory(n,u)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...JD(r)):this.history.push(t),this.history.push(...i)}};var P1=class e extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,e.prototype)}};function VK(e){let t={},n=A(e,["file"]);return n!=null&&P(t,["file"],n),t}function jK(e){let t={},n=A(e,["sdkHttpResponse"]);return n!=null&&P(t,["sdkHttpResponse"],n),t}function HK(e){let t={},n=A(e,["name"]);return n!=null&&P(t,["_url","file"],v8(n)),t}function zK(e){let t={},n=A(e,["sdkHttpResponse"]);return n!=null&&P(t,["sdkHttpResponse"],n),t}function qK(e){let t={},n=A(e,["name"]);return n!=null&&P(t,["_url","file"],v8(n)),t}function $K(e,t){let n={},r=A(e,["pageSize"]);t!==void 0&&r!=null&&P(t,["_query","pageSize"],r);let i=A(e,["pageToken"]);return t!==void 0&&i!=null&&P(t,["_query","pageToken"],i),n}function WK(e){let t={},n=A(e,["config"]);return n!=null&&$K(n,t),t}function GK(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["nextPageToken"]);r!=null&&P(t,["nextPageToken"],r);let i=A(e,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(t,["files"],s)}return t}var TE=class extends Eo{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new rl(Jl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=WK(t);return s=_t("files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{let c=GK(l),u=new pE;return Object.assign(u,c),u})}}async createInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=VK(t);return s=_t("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=jK(l),u=new mE;return Object.assign(u,c),u})}}async get(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=qK(t);return s=_t("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=HK(t);return s=_t("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{let c=zK(l),u=new gE;return Object.assign(u,c),u})}}};function E1(e){let t={},n=A(e,["data"]);if(n!=null&&P(t,["data"],n),A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function KK(e){let t={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>uY(s))),P(t,["parts"],i)}let r=A(e,["role"]);return r!=null&&P(t,["role"],r),t}function YK(e){let t={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=A(e,["fileUri"]);n!=null&&P(t,["fileUri"],n);let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function ZK(e){let t={},n=A(e,["id"]);n!=null&&P(t,["id"],n);let r=A(e,["args"]);r!=null&&P(t,["args"],r);let i=A(e,["name"]);if(i!=null&&P(t,["name"],i),A(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(A(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function JK(e){let t={};if(A(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=A(e,["description"]);n!=null&&P(t,["description"],n);let r=A(e,["name"]);r!=null&&P(t,["name"],r);let i=A(e,["parameters"]);i!=null&&P(t,["parameters"],i);let s=A(e,["parametersJsonSchema"]);s!=null&&P(t,["parametersJsonSchema"],s);let o=A(e,["response"]);o!=null&&P(t,["response"],o);let a=A(e,["responseJsonSchema"]);return a!=null&&P(t,["responseJsonSchema"],a),t}function XK(e){let t={},n=A(e,["modelSelectionConfig"]);n!=null&&P(t,["modelConfig"],n);let r=A(e,["responseJsonSchema"]);r!=null&&P(t,["responseJsonSchema"],r);let i=A(e,["audioTimestamp"]);i!=null&&P(t,["audioTimestamp"],i);let s=A(e,["candidateCount"]);s!=null&&P(t,["candidateCount"],s);let o=A(e,["enableAffectiveDialog"]);o!=null&&P(t,["enableAffectiveDialog"],o);let a=A(e,["frequencyPenalty"]);a!=null&&P(t,["frequencyPenalty"],a);let l=A(e,["logprobs"]);l!=null&&P(t,["logprobs"],l);let c=A(e,["maxOutputTokens"]);c!=null&&P(t,["maxOutputTokens"],c);let u=A(e,["mediaResolution"]);u!=null&&P(t,["mediaResolution"],u);let d=A(e,["presencePenalty"]);d!=null&&P(t,["presencePenalty"],d);let h=A(e,["responseLogprobs"]);h!=null&&P(t,["responseLogprobs"],h);let f=A(e,["responseMimeType"]);f!=null&&P(t,["responseMimeType"],f);let p=A(e,["responseModalities"]);p!=null&&P(t,["responseModalities"],p);let m=A(e,["responseSchema"]);m!=null&&P(t,["responseSchema"],m);let g=A(e,["routingConfig"]);g!=null&&P(t,["routingConfig"],g);let v=A(e,["seed"]);v!=null&&P(t,["seed"],v);let x=A(e,["speechConfig"]);x!=null&&P(t,["speechConfig"],T8(x));let I=A(e,["stopSequences"]);I!=null&&P(t,["stopSequences"],I);let R=A(e,["temperature"]);R!=null&&P(t,["temperature"],R);let $=A(e,["thinkingConfig"]);$!=null&&P(t,["thinkingConfig"],$);let F=A(e,["topK"]);F!=null&&P(t,["topK"],F);let V=A(e,["topP"]);if(V!=null&&P(t,["topP"],V),A(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function QK(e){let t={};if(A(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=A(e,["enableWidget"]);return n!=null&&P(t,["enableWidget"],n),t}function eY(e){let t={};if(A(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(A(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=A(e,["timeRangeFilter"]);return n!=null&&P(t,["timeRangeFilter"],n),t}function tY(e,t){let n={},r=A(e,["generationConfig"]);t!==void 0&&r!=null&&P(t,["setup","generationConfig"],r);let i=A(e,["responseModalities"]);t!==void 0&&i!=null&&P(t,["setup","generationConfig","responseModalities"],i);let s=A(e,["temperature"]);t!==void 0&&s!=null&&P(t,["setup","generationConfig","temperature"],s);let o=A(e,["topP"]);t!==void 0&&o!=null&&P(t,["setup","generationConfig","topP"],o);let a=A(e,["topK"]);t!==void 0&&a!=null&&P(t,["setup","generationConfig","topK"],a);let l=A(e,["maxOutputTokens"]);t!==void 0&&l!=null&&P(t,["setup","generationConfig","maxOutputTokens"],l);let c=A(e,["mediaResolution"]);t!==void 0&&c!=null&&P(t,["setup","generationConfig","mediaResolution"],c);let u=A(e,["seed"]);t!==void 0&&u!=null&&P(t,["setup","generationConfig","seed"],u);let d=A(e,["speechConfig"]);t!==void 0&&d!=null&&P(t,["setup","generationConfig","speechConfig"],XE(d));let h=A(e,["thinkingConfig"]);t!==void 0&&h!=null&&P(t,["setup","generationConfig","thinkingConfig"],h);let f=A(e,["enableAffectiveDialog"]);t!==void 0&&f!=null&&P(t,["setup","generationConfig","enableAffectiveDialog"],f);let p=A(e,["systemInstruction"]);t!==void 0&&p!=null&&P(t,["setup","systemInstruction"],KK(Pi(p)));let m=A(e,["tools"]);if(t!==void 0&&m!=null){let F=Fd(m);Array.isArray(F)&&(F=F.map(V=>fY(Ld(V)))),P(t,["setup","tools"],F)}let g=A(e,["sessionResumption"]);t!==void 0&&g!=null&&P(t,["setup","sessionResumption"],dY(g));let v=A(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&P(t,["setup","inputAudioTranscription"],v);let x=A(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&P(t,["setup","outputAudioTranscription"],x);let I=A(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&P(t,["setup","realtimeInputConfig"],I);let R=A(e,["contextWindowCompression"]);t!==void 0&&R!=null&&P(t,["setup","contextWindowCompression"],R);let $=A(e,["proactivity"]);return t!==void 0&&$!=null&&P(t,["setup","proactivity"],$),n}function nY(e,t){let n={},r=A(e,["generationConfig"]);t!==void 0&&r!=null&&P(t,["setup","generationConfig"],XK(r));let i=A(e,["responseModalities"]);t!==void 0&&i!=null&&P(t,["setup","generationConfig","responseModalities"],i);let s=A(e,["temperature"]);t!==void 0&&s!=null&&P(t,["setup","generationConfig","temperature"],s);let o=A(e,["topP"]);t!==void 0&&o!=null&&P(t,["setup","generationConfig","topP"],o);let a=A(e,["topK"]);t!==void 0&&a!=null&&P(t,["setup","generationConfig","topK"],a);let l=A(e,["maxOutputTokens"]);t!==void 0&&l!=null&&P(t,["setup","generationConfig","maxOutputTokens"],l);let c=A(e,["mediaResolution"]);t!==void 0&&c!=null&&P(t,["setup","generationConfig","mediaResolution"],c);let u=A(e,["seed"]);t!==void 0&&u!=null&&P(t,["setup","generationConfig","seed"],u);let d=A(e,["speechConfig"]);t!==void 0&&d!=null&&P(t,["setup","generationConfig","speechConfig"],T8(XE(d)));let h=A(e,["thinkingConfig"]);t!==void 0&&h!=null&&P(t,["setup","generationConfig","thinkingConfig"],h);let f=A(e,["enableAffectiveDialog"]);t!==void 0&&f!=null&&P(t,["setup","generationConfig","enableAffectiveDialog"],f);let p=A(e,["systemInstruction"]);t!==void 0&&p!=null&&P(t,["setup","systemInstruction"],Pi(p));let m=A(e,["tools"]);if(t!==void 0&&m!=null){let F=Fd(m);Array.isArray(F)&&(F=F.map(V=>hY(Ld(V)))),P(t,["setup","tools"],F)}let g=A(e,["sessionResumption"]);t!==void 0&&g!=null&&P(t,["setup","sessionResumption"],g);let v=A(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&P(t,["setup","inputAudioTranscription"],v);let x=A(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&P(t,["setup","outputAudioTranscription"],x);let I=A(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&P(t,["setup","realtimeInputConfig"],I);let R=A(e,["contextWindowCompression"]);t!==void 0&&R!=null&&P(t,["setup","contextWindowCompression"],R);let $=A(e,["proactivity"]);return t!==void 0&&$!=null&&P(t,["setup","proactivity"],$),n}function rY(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["setup","model"],Gn(e,r));let i=A(t,["config"]);return i!=null&&P(n,["config"],tY(i,n)),n}function iY(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["setup","model"],Gn(e,r));let i=A(t,["config"]);return i!=null&&P(n,["config"],nY(i,n)),n}function sY(e){let t={},n=A(e,["musicGenerationConfig"]);return n!=null&&P(t,["musicGenerationConfig"],n),t}function oY(e){let t={},n=A(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),P(t,["weightedPrompts"],r)}return t}function aY(e){let t={},n=A(e,["media"]);if(n!=null){let c=h8(n);Array.isArray(c)&&(c=c.map(u=>E1(u))),P(t,["mediaChunks"],c)}let r=A(e,["audio"]);r!=null&&P(t,["audio"],E1(m8(r)));let i=A(e,["audioStreamEnd"]);i!=null&&P(t,["audioStreamEnd"],i);let s=A(e,["video"]);s!=null&&P(t,["video"],E1(p8(s)));let o=A(e,["text"]);o!=null&&P(t,["text"],o);let a=A(e,["activityStart"]);a!=null&&P(t,["activityStart"],a);let l=A(e,["activityEnd"]);return l!=null&&P(t,["activityEnd"],l),t}function lY(e){let t={},n=A(e,["media"]);if(n!=null){let c=h8(n);Array.isArray(c)&&(c=c.map(u=>u)),P(t,["mediaChunks"],c)}let r=A(e,["audio"]);r!=null&&P(t,["audio"],m8(r));let i=A(e,["audioStreamEnd"]);i!=null&&P(t,["audioStreamEnd"],i);let s=A(e,["video"]);s!=null&&P(t,["video"],p8(s));let o=A(e,["text"]);o!=null&&P(t,["text"],o);let a=A(e,["activityStart"]);a!=null&&P(t,["activityStart"],a);let l=A(e,["activityEnd"]);return l!=null&&P(t,["activityEnd"],l),t}function cY(e){let t={},n=A(e,["setupComplete"]);n!=null&&P(t,["setupComplete"],n);let r=A(e,["serverContent"]);r!=null&&P(t,["serverContent"],r);let i=A(e,["toolCall"]);i!=null&&P(t,["toolCall"],i);let s=A(e,["toolCallCancellation"]);s!=null&&P(t,["toolCallCancellation"],s);let o=A(e,["usageMetadata"]);o!=null&&P(t,["usageMetadata"],pY(o));let a=A(e,["goAway"]);a!=null&&P(t,["goAway"],a);let l=A(e,["sessionResumptionUpdate"]);return l!=null&&P(t,["sessionResumptionUpdate"],l),t}function uY(e){let t={},n=A(e,["mediaResolution"]);n!=null&&P(t,["mediaResolution"],n);let r=A(e,["codeExecutionResult"]);r!=null&&P(t,["codeExecutionResult"],r);let i=A(e,["executableCode"]);i!=null&&P(t,["executableCode"],i);let s=A(e,["fileData"]);s!=null&&P(t,["fileData"],YK(s));let o=A(e,["functionCall"]);o!=null&&P(t,["functionCall"],ZK(o));let a=A(e,["functionResponse"]);a!=null&&P(t,["functionResponse"],a);let l=A(e,["inlineData"]);l!=null&&P(t,["inlineData"],E1(l));let c=A(e,["text"]);c!=null&&P(t,["text"],c);let u=A(e,["thought"]);u!=null&&P(t,["thought"],u);let d=A(e,["thoughtSignature"]);d!=null&&P(t,["thoughtSignature"],d);let h=A(e,["videoMetadata"]);return h!=null&&P(t,["videoMetadata"],h),t}function dY(e){let t={},n=A(e,["handle"]);if(n!=null&&P(t,["handle"],n),A(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function T8(e){let t={},n=A(e,["languageCode"]);n!=null&&P(t,["languageCode"],n);let r=A(e,["voiceConfig"]);if(r!=null&&P(t,["voiceConfig"],r),A(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function fY(e){let t={},n=A(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>d)),P(t,["functionDeclarations"],u)}if(A(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=A(e,["googleSearchRetrieval"]);r!=null&&P(t,["googleSearchRetrieval"],r);let i=A(e,["computerUse"]);i!=null&&P(t,["computerUse"],i);let s=A(e,["fileSearch"]);s!=null&&P(t,["fileSearch"],s);let o=A(e,["codeExecution"]);if(o!=null&&P(t,["codeExecution"],o),A(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=A(e,["googleMaps"]);a!=null&&P(t,["googleMaps"],QK(a));let l=A(e,["googleSearch"]);l!=null&&P(t,["googleSearch"],eY(l));let c=A(e,["urlContext"]);return c!=null&&P(t,["urlContext"],c),t}function hY(e){let t={},n=A(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>JK(h))),P(t,["functionDeclarations"],d)}let r=A(e,["retrieval"]);r!=null&&P(t,["retrieval"],r);let i=A(e,["googleSearchRetrieval"]);i!=null&&P(t,["googleSearchRetrieval"],i);let s=A(e,["computerUse"]);if(s!=null&&P(t,["computerUse"],s),A(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let o=A(e,["codeExecution"]);o!=null&&P(t,["codeExecution"],o);let a=A(e,["enterpriseWebSearch"]);a!=null&&P(t,["enterpriseWebSearch"],a);let l=A(e,["googleMaps"]);l!=null&&P(t,["googleMaps"],l);let c=A(e,["googleSearch"]);c!=null&&P(t,["googleSearch"],c);let u=A(e,["urlContext"]);return u!=null&&P(t,["urlContext"],u),t}function pY(e){let t={},n=A(e,["promptTokenCount"]);n!=null&&P(t,["promptTokenCount"],n);let r=A(e,["cachedContentTokenCount"]);r!=null&&P(t,["cachedContentTokenCount"],r);let i=A(e,["candidatesTokenCount"]);i!=null&&P(t,["responseTokenCount"],i);let s=A(e,["toolUsePromptTokenCount"]);s!=null&&P(t,["toolUsePromptTokenCount"],s);let o=A(e,["thoughtsTokenCount"]);o!=null&&P(t,["thoughtsTokenCount"],o);let a=A(e,["totalTokenCount"]);a!=null&&P(t,["totalTokenCount"],a);let l=A(e,["promptTokensDetails"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>p)),P(t,["promptTokensDetails"],f)}let c=A(e,["cacheTokensDetails"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>p)),P(t,["cacheTokensDetails"],f)}let u=A(e,["candidatesTokensDetails"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),P(t,["responseTokensDetails"],f)}let d=A(e,["toolUsePromptTokensDetails"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>p)),P(t,["toolUsePromptTokensDetails"],f)}let h=A(e,["trafficType"]);return h!=null&&P(t,["trafficType"],h),t}function mY(e){let t={},n=A(e,["data"]);if(n!=null&&P(t,["data"],n),A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function gY(e){let t={},n=A(e,["content"]);n!=null&&P(t,["content"],n);let r=A(e,["citationMetadata"]);r!=null&&P(t,["citationMetadata"],yY(r));let i=A(e,["tokenCount"]);i!=null&&P(t,["tokenCount"],i);let s=A(e,["finishReason"]);s!=null&&P(t,["finishReason"],s);let o=A(e,["avgLogprobs"]);o!=null&&P(t,["avgLogprobs"],o);let a=A(e,["groundingMetadata"]);a!=null&&P(t,["groundingMetadata"],a);let l=A(e,["index"]);l!=null&&P(t,["index"],l);let c=A(e,["logprobsResult"]);c!=null&&P(t,["logprobsResult"],c);let u=A(e,["safetyRatings"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(f=>f)),P(t,["safetyRatings"],h)}let d=A(e,["urlContextMetadata"]);return d!=null&&P(t,["urlContextMetadata"],d),t}function yY(e){let t={},n=A(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),P(t,["citations"],r)}return t}function vY(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["contents"]);if(i!=null){let s=Xs(i);Array.isArray(s)&&(s=s.map(o=>o)),P(n,["contents"],s)}return n}function bY(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),P(t,["tokensInfo"],i)}return t}function _Y(e){let t={},n=A(e,["values"]);n!=null&&P(t,["values"],n);let r=A(e,["statistics"]);return r!=null&&P(t,["statistics"],wY(r)),t}function wY(e){let t={},n=A(e,["truncated"]);n!=null&&P(t,["truncated"],n);let r=A(e,["token_count"]);return r!=null&&P(t,["tokenCount"],r),t}function F1(e){let t={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>DZ(s))),P(t,["parts"],i)}let r=A(e,["role"]);return r!=null&&P(t,["role"],r),t}function EY(e){let t={},n=A(e,["controlType"]);n!=null&&P(t,["controlType"],n);let r=A(e,["enableControlImageComputation"]);return r!=null&&P(t,["computeControl"],r),t}function xY(e){let t={};if(A(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(A(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(A(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function SY(e,t){let n={},r=A(e,["systemInstruction"]);t!==void 0&&r!=null&&P(t,["systemInstruction"],Pi(r));let i=A(e,["tools"]);if(t!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>M8(a))),P(t,["tools"],o)}let s=A(e,["generationConfig"]);return t!==void 0&&s!=null&&P(t,["generationConfig"],mZ(s)),n}function CY(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["contents"]);if(i!=null){let o=Xs(i);Array.isArray(o)&&(o=o.map(a=>F1(a))),P(n,["contents"],o)}let s=A(t,["config"]);return s!=null&&xY(s),n}function TY(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["contents"]);if(i!=null){let o=Xs(i);Array.isArray(o)&&(o=o.map(a=>a)),P(n,["contents"],o)}let s=A(t,["config"]);return s!=null&&SY(s,n),n}function IY(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["totalTokens"]);r!=null&&P(t,["totalTokens"],r);let i=A(e,["cachedContentTokenCount"]);return i!=null&&P(t,["cachedContentTokenCount"],i),t}function AY(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["totalTokens"]);return r!=null&&P(t,["totalTokens"],r),t}function kY(e,t){let n={},r=A(t,["model"]);return r!=null&&P(n,["_url","name"],Gn(e,r)),n}function DY(e,t){let n={},r=A(t,["model"]);return r!=null&&P(n,["_url","name"],Gn(e,r)),n}function MY(e){let t={},n=A(e,["sdkHttpResponse"]);return n!=null&&P(t,["sdkHttpResponse"],n),t}function NY(e){let t={},n=A(e,["sdkHttpResponse"]);return n!=null&&P(t,["sdkHttpResponse"],n),t}function RY(e,t){let n={},r=A(e,["outputGcsUri"]);t!==void 0&&r!=null&&P(t,["parameters","storageUri"],r);let i=A(e,["negativePrompt"]);t!==void 0&&i!=null&&P(t,["parameters","negativePrompt"],i);let s=A(e,["numberOfImages"]);t!==void 0&&s!=null&&P(t,["parameters","sampleCount"],s);let o=A(e,["aspectRatio"]);t!==void 0&&o!=null&&P(t,["parameters","aspectRatio"],o);let a=A(e,["guidanceScale"]);t!==void 0&&a!=null&&P(t,["parameters","guidanceScale"],a);let l=A(e,["seed"]);t!==void 0&&l!=null&&P(t,["parameters","seed"],l);let c=A(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&P(t,["parameters","safetySetting"],c);let u=A(e,["personGeneration"]);t!==void 0&&u!=null&&P(t,["parameters","personGeneration"],u);let d=A(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&P(t,["parameters","includeSafetyAttributes"],d);let h=A(e,["includeRaiReason"]);t!==void 0&&h!=null&&P(t,["parameters","includeRaiReason"],h);let f=A(e,["language"]);t!==void 0&&f!=null&&P(t,["parameters","language"],f);let p=A(e,["outputMimeType"]);t!==void 0&&p!=null&&P(t,["parameters","outputOptions","mimeType"],p);let m=A(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&P(t,["parameters","outputOptions","compressionQuality"],m);let g=A(e,["addWatermark"]);t!==void 0&&g!=null&&P(t,["parameters","addWatermark"],g);let v=A(e,["labels"]);t!==void 0&&v!=null&&P(t,["labels"],v);let x=A(e,["editMode"]);t!==void 0&&x!=null&&P(t,["parameters","editMode"],x);let I=A(e,["baseSteps"]);return t!==void 0&&I!=null&&P(t,["parameters","editConfig","baseSteps"],I),n}function PY(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["prompt"]);i!=null&&P(n,["instances[0]","prompt"],i);let s=A(t,["referenceImages"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>LZ(l))),P(n,["instances[0]","referenceImages"],a)}let o=A(t,["config"]);return o!=null&&RY(o,n),n}function OY(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>B1(s))),P(t,["generatedImages"],i)}return t}function LY(e,t){let n={},r=A(e,["taskType"]);t!==void 0&&r!=null&&P(t,["requests[]","taskType"],r);let i=A(e,["title"]);t!==void 0&&i!=null&&P(t,["requests[]","title"],i);let s=A(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&P(t,["requests[]","outputDimensionality"],s),A(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(A(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function FY(e,t){let n={},r=A(e,["taskType"]);t!==void 0&&r!=null&&P(t,["instances[]","task_type"],r);let i=A(e,["title"]);t!==void 0&&i!=null&&P(t,["instances[]","title"],i);let s=A(e,["outputDimensionality"]);t!==void 0&&s!=null&&P(t,["parameters","outputDimensionality"],s);let o=A(e,["mimeType"]);t!==void 0&&o!=null&&P(t,["instances[]","mimeType"],o);let a=A(e,["autoTruncate"]);return t!==void 0&&a!=null&&P(t,["parameters","autoTruncate"],a),n}function BY(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["contents"]);if(i!=null){let a=YE(e,i);Array.isArray(a)&&(a=a.map(l=>l)),P(n,["requests[]","content"],a)}let s=A(t,["config"]);s!=null&&LY(s,n);let o=A(t,["model"]);return o!==void 0&&P(n,["requests[]","model"],Gn(e,o)),n}function UY(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["contents"]);if(i!=null){let o=YE(e,i);Array.isArray(o)&&(o=o.map(a=>a)),P(n,["instances[]","content"],o)}let s=A(t,["config"]);return s!=null&&FY(s,n),n}function VY(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),P(t,["embeddings"],s)}let i=A(e,["metadata"]);return i!=null&&P(t,["metadata"],i),t}function jY(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>_Y(o))),P(t,["embeddings"],s)}let i=A(e,["metadata"]);return i!=null&&P(t,["metadata"],i),t}function HY(e){let t={},n=A(e,["endpoint"]);n!=null&&P(t,["name"],n);let r=A(e,["deployedModelId"]);return r!=null&&P(t,["deployedModelId"],r),t}function zY(e){let t={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=A(e,["fileUri"]);n!=null&&P(t,["fileUri"],n);let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function qY(e){let t={},n=A(e,["id"]);n!=null&&P(t,["id"],n);let r=A(e,["args"]);r!=null&&P(t,["args"],r);let i=A(e,["name"]);if(i!=null&&P(t,["name"],i),A(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(A(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function $Y(e){let t={},n=A(e,["mode"]);n!=null&&P(t,["mode"],n);let r=A(e,["allowedFunctionNames"]);if(r!=null&&P(t,["allowedFunctionNames"],r),A(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function WY(e){let t={};if(A(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=A(e,["description"]);n!=null&&P(t,["description"],n);let r=A(e,["name"]);r!=null&&P(t,["name"],r);let i=A(e,["parameters"]);i!=null&&P(t,["parameters"],i);let s=A(e,["parametersJsonSchema"]);s!=null&&P(t,["parametersJsonSchema"],s);let o=A(e,["response"]);o!=null&&P(t,["response"],o);let a=A(e,["responseJsonSchema"]);return a!=null&&P(t,["responseJsonSchema"],a),t}function GY(e,t,n){let r={},i=A(t,["systemInstruction"]);n!==void 0&&i!=null&&P(n,["systemInstruction"],F1(Pi(i)));let s=A(t,["temperature"]);s!=null&&P(r,["temperature"],s);let o=A(t,["topP"]);o!=null&&P(r,["topP"],o);let a=A(t,["topK"]);a!=null&&P(r,["topK"],a);let l=A(t,["candidateCount"]);l!=null&&P(r,["candidateCount"],l);let c=A(t,["maxOutputTokens"]);c!=null&&P(r,["maxOutputTokens"],c);let u=A(t,["stopSequences"]);u!=null&&P(r,["stopSequences"],u);let d=A(t,["responseLogprobs"]);d!=null&&P(r,["responseLogprobs"],d);let h=A(t,["logprobs"]);h!=null&&P(r,["logprobs"],h);let f=A(t,["presencePenalty"]);f!=null&&P(r,["presencePenalty"],f);let p=A(t,["frequencyPenalty"]);p!=null&&P(r,["frequencyPenalty"],p);let m=A(t,["seed"]);m!=null&&P(r,["seed"],m);let g=A(t,["responseMimeType"]);g!=null&&P(r,["responseMimeType"],g);let v=A(t,["responseSchema"]);v!=null&&P(r,["responseSchema"],ZE(v));let x=A(t,["responseJsonSchema"]);if(x!=null&&P(r,["responseJsonSchema"],x),A(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(A(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let I=A(t,["safetySettings"]);if(n!==void 0&&I!=null){let T=I;Array.isArray(T)&&(T=T.map(O=>FZ(O))),P(n,["safetySettings"],T)}let R=A(t,["tools"]);if(n!==void 0&&R!=null){let T=Fd(R);Array.isArray(T)&&(T=T.map(O=>qZ(Ld(O)))),P(n,["tools"],T)}let $=A(t,["toolConfig"]);if(n!==void 0&&$!=null&&P(n,["toolConfig"],zZ($)),A(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let F=A(t,["cachedContent"]);n!==void 0&&F!=null&&P(n,["cachedContent"],il(e,F));let V=A(t,["responseModalities"]);V!=null&&P(r,["responseModalities"],V);let U=A(t,["mediaResolution"]);U!=null&&P(r,["mediaResolution"],U);let q=A(t,["speechConfig"]);if(q!=null&&P(r,["speechConfig"],JE(q)),A(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let j=A(t,["thinkingConfig"]);j!=null&&P(r,["thinkingConfig"],j);let S=A(t,["imageConfig"]);return S!=null&&P(r,["imageConfig"],_Z(S)),r}function KY(e,t,n){let r={},i=A(t,["systemInstruction"]);n!==void 0&&i!=null&&P(n,["systemInstruction"],Pi(i));let s=A(t,["temperature"]);s!=null&&P(r,["temperature"],s);let o=A(t,["topP"]);o!=null&&P(r,["topP"],o);let a=A(t,["topK"]);a!=null&&P(r,["topK"],a);let l=A(t,["candidateCount"]);l!=null&&P(r,["candidateCount"],l);let c=A(t,["maxOutputTokens"]);c!=null&&P(r,["maxOutputTokens"],c);let u=A(t,["stopSequences"]);u!=null&&P(r,["stopSequences"],u);let d=A(t,["responseLogprobs"]);d!=null&&P(r,["responseLogprobs"],d);let h=A(t,["logprobs"]);h!=null&&P(r,["logprobs"],h);let f=A(t,["presencePenalty"]);f!=null&&P(r,["presencePenalty"],f);let p=A(t,["frequencyPenalty"]);p!=null&&P(r,["frequencyPenalty"],p);let m=A(t,["seed"]);m!=null&&P(r,["seed"],m);let g=A(t,["responseMimeType"]);g!=null&&P(r,["responseMimeType"],g);let v=A(t,["responseSchema"]);v!=null&&P(r,["responseSchema"],ZE(v));let x=A(t,["responseJsonSchema"]);x!=null&&P(r,["responseJsonSchema"],x);let I=A(t,["routingConfig"]);I!=null&&P(r,["routingConfig"],I);let R=A(t,["modelSelectionConfig"]);R!=null&&P(r,["modelConfig"],R);let $=A(t,["safetySettings"]);if(n!==void 0&&$!=null){let w=$;Array.isArray(w)&&(w=w.map(_=>_)),P(n,["safetySettings"],w)}let F=A(t,["tools"]);if(n!==void 0&&F!=null){let w=Fd(F);Array.isArray(w)&&(w=w.map(_=>M8(Ld(_)))),P(n,["tools"],w)}let V=A(t,["toolConfig"]);n!==void 0&&V!=null&&P(n,["toolConfig"],V);let U=A(t,["labels"]);n!==void 0&&U!=null&&P(n,["labels"],U);let q=A(t,["cachedContent"]);n!==void 0&&q!=null&&P(n,["cachedContent"],il(e,q));let j=A(t,["responseModalities"]);j!=null&&P(r,["responseModalities"],j);let S=A(t,["mediaResolution"]);S!=null&&P(r,["mediaResolution"],S);let T=A(t,["speechConfig"]);T!=null&&P(r,["speechConfig"],D8(JE(T)));let O=A(t,["audioTimestamp"]);O!=null&&P(r,["audioTimestamp"],O);let y=A(t,["thinkingConfig"]);y!=null&&P(r,["thinkingConfig"],y);let b=A(t,["imageConfig"]);return b!=null&&P(r,["imageConfig"],wZ(b)),r}function XD(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["contents"]);if(i!=null){let o=Xs(i);Array.isArray(o)&&(o=o.map(a=>F1(a))),P(n,["contents"],o)}let s=A(t,["config"]);return s!=null&&P(n,["generationConfig"],GY(e,s,n)),n}function QD(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["contents"]);if(i!=null){let o=Xs(i);Array.isArray(o)&&(o=o.map(a=>a)),P(n,["contents"],o)}let s=A(t,["config"]);return s!=null&&P(n,["generationConfig"],KY(e,s,n)),n}function e8(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>gY(c))),P(t,["candidates"],l)}let i=A(e,["modelVersion"]);i!=null&&P(t,["modelVersion"],i);let s=A(e,["promptFeedback"]);s!=null&&P(t,["promptFeedback"],s);let o=A(e,["responseId"]);o!=null&&P(t,["responseId"],o);let a=A(e,["usageMetadata"]);return a!=null&&P(t,["usageMetadata"],a),t}function t8(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>u)),P(t,["candidates"],c)}let i=A(e,["createTime"]);i!=null&&P(t,["createTime"],i);let s=A(e,["modelVersion"]);s!=null&&P(t,["modelVersion"],s);let o=A(e,["promptFeedback"]);o!=null&&P(t,["promptFeedback"],o);let a=A(e,["responseId"]);a!=null&&P(t,["responseId"],a);let l=A(e,["usageMetadata"]);return l!=null&&P(t,["usageMetadata"],l),t}function YY(e,t){let n={};if(A(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(A(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let r=A(e,["numberOfImages"]);t!==void 0&&r!=null&&P(t,["parameters","sampleCount"],r);let i=A(e,["aspectRatio"]);t!==void 0&&i!=null&&P(t,["parameters","aspectRatio"],i);let s=A(e,["guidanceScale"]);if(t!==void 0&&s!=null&&P(t,["parameters","guidanceScale"],s),A(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let o=A(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&P(t,["parameters","safetySetting"],o);let a=A(e,["personGeneration"]);t!==void 0&&a!=null&&P(t,["parameters","personGeneration"],a);let l=A(e,["includeSafetyAttributes"]);t!==void 0&&l!=null&&P(t,["parameters","includeSafetyAttributes"],l);let c=A(e,["includeRaiReason"]);t!==void 0&&c!=null&&P(t,["parameters","includeRaiReason"],c);let u=A(e,["language"]);t!==void 0&&u!=null&&P(t,["parameters","language"],u);let d=A(e,["outputMimeType"]);t!==void 0&&d!=null&&P(t,["parameters","outputOptions","mimeType"],d);let h=A(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&P(t,["parameters","outputOptions","compressionQuality"],h),A(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(A(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let f=A(e,["imageSize"]);if(t!==void 0&&f!=null&&P(t,["parameters","sampleImageSize"],f),A(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ZY(e,t){let n={},r=A(e,["outputGcsUri"]);t!==void 0&&r!=null&&P(t,["parameters","storageUri"],r);let i=A(e,["negativePrompt"]);t!==void 0&&i!=null&&P(t,["parameters","negativePrompt"],i);let s=A(e,["numberOfImages"]);t!==void 0&&s!=null&&P(t,["parameters","sampleCount"],s);let o=A(e,["aspectRatio"]);t!==void 0&&o!=null&&P(t,["parameters","aspectRatio"],o);let a=A(e,["guidanceScale"]);t!==void 0&&a!=null&&P(t,["parameters","guidanceScale"],a);let l=A(e,["seed"]);t!==void 0&&l!=null&&P(t,["parameters","seed"],l);let c=A(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&P(t,["parameters","safetySetting"],c);let u=A(e,["personGeneration"]);t!==void 0&&u!=null&&P(t,["parameters","personGeneration"],u);let d=A(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&P(t,["parameters","includeSafetyAttributes"],d);let h=A(e,["includeRaiReason"]);t!==void 0&&h!=null&&P(t,["parameters","includeRaiReason"],h);let f=A(e,["language"]);t!==void 0&&f!=null&&P(t,["parameters","language"],f);let p=A(e,["outputMimeType"]);t!==void 0&&p!=null&&P(t,["parameters","outputOptions","mimeType"],p);let m=A(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&P(t,["parameters","outputOptions","compressionQuality"],m);let g=A(e,["addWatermark"]);t!==void 0&&g!=null&&P(t,["parameters","addWatermark"],g);let v=A(e,["labels"]);t!==void 0&&v!=null&&P(t,["labels"],v);let x=A(e,["imageSize"]);t!==void 0&&x!=null&&P(t,["parameters","sampleImageSize"],x);let I=A(e,["enhancePrompt"]);return t!==void 0&&I!=null&&P(t,["parameters","enhancePrompt"],I),n}function JY(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["prompt"]);i!=null&&P(n,["instances[0]","prompt"],i);let s=A(t,["config"]);return s!=null&&YY(s,n),n}function XY(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["prompt"]);i!=null&&P(n,["instances[0]","prompt"],i);let s=A(t,["config"]);return s!=null&&ZY(s,n),n}function QY(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>dZ(o))),P(t,["generatedImages"],s)}let i=A(e,["positivePromptSafetyAttributes"]);return i!=null&&P(t,["positivePromptSafetyAttributes"],A8(i)),t}function eZ(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>B1(o))),P(t,["generatedImages"],s)}let i=A(e,["positivePromptSafetyAttributes"]);return i!=null&&P(t,["positivePromptSafetyAttributes"],k8(i)),t}function tZ(e,t){let n={},r=A(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&P(t,["parameters","sampleCount"],r),A(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(A(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let i=A(e,["durationSeconds"]);if(t!==void 0&&i!=null&&P(t,["parameters","durationSeconds"],i),A(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=A(e,["aspectRatio"]);t!==void 0&&s!=null&&P(t,["parameters","aspectRatio"],s);let o=A(e,["resolution"]);t!==void 0&&o!=null&&P(t,["parameters","resolution"],o);let a=A(e,["personGeneration"]);if(t!==void 0&&a!=null&&P(t,["parameters","personGeneration"],a),A(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let l=A(e,["negativePrompt"]);t!==void 0&&l!=null&&P(t,["parameters","negativePrompt"],l);let c=A(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&P(t,["parameters","enhancePrompt"],c),A(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let u=A(e,["lastFrame"]);t!==void 0&&u!=null&&P(t,["instances[0]","lastFrame"],U1(u));let d=A(e,["referenceImages"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(f=>rJ(f))),P(t,["instances[0]","referenceImages"],h)}if(A(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(A(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function nZ(e,t){let n={},r=A(e,["numberOfVideos"]);t!==void 0&&r!=null&&P(t,["parameters","sampleCount"],r);let i=A(e,["outputGcsUri"]);t!==void 0&&i!=null&&P(t,["parameters","storageUri"],i);let s=A(e,["fps"]);t!==void 0&&s!=null&&P(t,["parameters","fps"],s);let o=A(e,["durationSeconds"]);t!==void 0&&o!=null&&P(t,["parameters","durationSeconds"],o);let a=A(e,["seed"]);t!==void 0&&a!=null&&P(t,["parameters","seed"],a);let l=A(e,["aspectRatio"]);t!==void 0&&l!=null&&P(t,["parameters","aspectRatio"],l);let c=A(e,["resolution"]);t!==void 0&&c!=null&&P(t,["parameters","resolution"],c);let u=A(e,["personGeneration"]);t!==void 0&&u!=null&&P(t,["parameters","personGeneration"],u);let d=A(e,["pubsubTopic"]);t!==void 0&&d!=null&&P(t,["parameters","pubsubTopic"],d);let h=A(e,["negativePrompt"]);t!==void 0&&h!=null&&P(t,["parameters","negativePrompt"],h);let f=A(e,["enhancePrompt"]);t!==void 0&&f!=null&&P(t,["parameters","enhancePrompt"],f);let p=A(e,["generateAudio"]);t!==void 0&&p!=null&&P(t,["parameters","generateAudio"],p);let m=A(e,["lastFrame"]);t!==void 0&&m!=null&&P(t,["instances[0]","lastFrame"],xo(m));let g=A(e,["referenceImages"]);if(t!==void 0&&g!=null){let I=g;Array.isArray(I)&&(I=I.map(R=>iJ(R))),P(t,["instances[0]","referenceImages"],I)}let v=A(e,["mask"]);t!==void 0&&v!=null&&P(t,["instances[0]","mask"],nJ(v));let x=A(e,["compressionQuality"]);return t!==void 0&&x!=null&&P(t,["parameters","compressionQuality"],x),n}function rZ(e){let t={},n=A(e,["name"]);n!=null&&P(t,["name"],n);let r=A(e,["metadata"]);r!=null&&P(t,["metadata"],r);let i=A(e,["done"]);i!=null&&P(t,["done"],i);let s=A(e,["error"]);s!=null&&P(t,["error"],s);let o=A(e,["response","generateVideoResponse"]);return o!=null&&P(t,["response"],aZ(o)),t}function iZ(e){let t={},n=A(e,["name"]);n!=null&&P(t,["name"],n);let r=A(e,["metadata"]);r!=null&&P(t,["metadata"],r);let i=A(e,["done"]);i!=null&&P(t,["done"],i);let s=A(e,["error"]);s!=null&&P(t,["error"],s);let o=A(e,["response"]);return o!=null&&P(t,["response"],lZ(o)),t}function sZ(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["prompt"]);i!=null&&P(n,["instances[0]","prompt"],i);let s=A(t,["image"]);s!=null&&P(n,["instances[0]","image"],U1(s));let o=A(t,["video"]);o!=null&&P(n,["instances[0]","video"],N8(o));let a=A(t,["source"]);a!=null&&cZ(a,n);let l=A(t,["config"]);return l!=null&&tZ(l,n),n}function oZ(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["prompt"]);i!=null&&P(n,["instances[0]","prompt"],i);let s=A(t,["image"]);s!=null&&P(n,["instances[0]","image"],xo(s));let o=A(t,["video"]);o!=null&&P(n,["instances[0]","video"],R8(o));let a=A(t,["source"]);a!=null&&uZ(a,n);let l=A(t,["config"]);return l!=null&&nZ(l,n),n}function aZ(e){let t={},n=A(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>hZ(o))),P(t,["generatedVideos"],s)}let r=A(e,["raiMediaFilteredCount"]);r!=null&&P(t,["raiMediaFilteredCount"],r);let i=A(e,["raiMediaFilteredReasons"]);return i!=null&&P(t,["raiMediaFilteredReasons"],i),t}function lZ(e){let t={},n=A(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>pZ(o))),P(t,["generatedVideos"],s)}let r=A(e,["raiMediaFilteredCount"]);r!=null&&P(t,["raiMediaFilteredCount"],r);let i=A(e,["raiMediaFilteredReasons"]);return i!=null&&P(t,["raiMediaFilteredReasons"],i),t}function cZ(e,t){let n={},r=A(e,["prompt"]);t!==void 0&&r!=null&&P(t,["instances[0]","prompt"],r);let i=A(e,["image"]);t!==void 0&&i!=null&&P(t,["instances[0]","image"],U1(i));let s=A(e,["video"]);return t!==void 0&&s!=null&&P(t,["instances[0]","video"],N8(s)),n}function uZ(e,t){let n={},r=A(e,["prompt"]);t!==void 0&&r!=null&&P(t,["instances[0]","prompt"],r);let i=A(e,["image"]);t!==void 0&&i!=null&&P(t,["instances[0]","image"],xo(i));let s=A(e,["video"]);return t!==void 0&&s!=null&&P(t,["instances[0]","video"],R8(s)),n}function dZ(e){let t={},n=A(e,["_self"]);n!=null&&P(t,["image"],EZ(n));let r=A(e,["raiFilteredReason"]);r!=null&&P(t,["raiFilteredReason"],r);let i=A(e,["_self"]);return i!=null&&P(t,["safetyAttributes"],A8(i)),t}function B1(e){let t={},n=A(e,["_self"]);n!=null&&P(t,["image"],I8(n));let r=A(e,["raiFilteredReason"]);r!=null&&P(t,["raiFilteredReason"],r);let i=A(e,["_self"]);i!=null&&P(t,["safetyAttributes"],k8(i));let s=A(e,["prompt"]);return s!=null&&P(t,["enhancedPrompt"],s),t}function fZ(e){let t={},n=A(e,["_self"]);n!=null&&P(t,["mask"],I8(n));let r=A(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),P(t,["labels"],i)}return t}function hZ(e){let t={},n=A(e,["video"]);return n!=null&&P(t,["video"],eJ(n)),t}function pZ(e){let t={},n=A(e,["_self"]);return n!=null&&P(t,["video"],tJ(n)),t}function mZ(e){let t={},n=A(e,["modelSelectionConfig"]);n!=null&&P(t,["modelConfig"],n);let r=A(e,["responseJsonSchema"]);r!=null&&P(t,["responseJsonSchema"],r);let i=A(e,["audioTimestamp"]);i!=null&&P(t,["audioTimestamp"],i);let s=A(e,["candidateCount"]);s!=null&&P(t,["candidateCount"],s);let o=A(e,["enableAffectiveDialog"]);o!=null&&P(t,["enableAffectiveDialog"],o);let a=A(e,["frequencyPenalty"]);a!=null&&P(t,["frequencyPenalty"],a);let l=A(e,["logprobs"]);l!=null&&P(t,["logprobs"],l);let c=A(e,["maxOutputTokens"]);c!=null&&P(t,["maxOutputTokens"],c);let u=A(e,["mediaResolution"]);u!=null&&P(t,["mediaResolution"],u);let d=A(e,["presencePenalty"]);d!=null&&P(t,["presencePenalty"],d);let h=A(e,["responseLogprobs"]);h!=null&&P(t,["responseLogprobs"],h);let f=A(e,["responseMimeType"]);f!=null&&P(t,["responseMimeType"],f);let p=A(e,["responseModalities"]);p!=null&&P(t,["responseModalities"],p);let m=A(e,["responseSchema"]);m!=null&&P(t,["responseSchema"],m);let g=A(e,["routingConfig"]);g!=null&&P(t,["routingConfig"],g);let v=A(e,["seed"]);v!=null&&P(t,["seed"],v);let x=A(e,["speechConfig"]);x!=null&&P(t,["speechConfig"],D8(x));let I=A(e,["stopSequences"]);I!=null&&P(t,["stopSequences"],I);let R=A(e,["temperature"]);R!=null&&P(t,["temperature"],R);let $=A(e,["thinkingConfig"]);$!=null&&P(t,["thinkingConfig"],$);let F=A(e,["topK"]);F!=null&&P(t,["topK"],F);let V=A(e,["topP"]);if(V!=null&&P(t,["topP"],V),A(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function gZ(e,t){let n={},r=A(t,["model"]);return r!=null&&P(n,["_url","name"],Gn(e,r)),n}function yZ(e,t){let n={},r=A(t,["model"]);return r!=null&&P(n,["_url","name"],Gn(e,r)),n}function vZ(e){let t={};if(A(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=A(e,["enableWidget"]);return n!=null&&P(t,["enableWidget"],n),t}function bZ(e){let t={};if(A(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(A(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=A(e,["timeRangeFilter"]);return n!=null&&P(t,["timeRangeFilter"],n),t}function _Z(e){let t={},n=A(e,["aspectRatio"]);n!=null&&P(t,["aspectRatio"],n);let r=A(e,["imageSize"]);if(r!=null&&P(t,["imageSize"],r),A(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(A(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function wZ(e){let t={},n=A(e,["aspectRatio"]);n!=null&&P(t,["aspectRatio"],n);let r=A(e,["imageSize"]);r!=null&&P(t,["imageSize"],r);let i=A(e,["outputMimeType"]);i!=null&&P(t,["imageOutputOptions","mimeType"],i);let s=A(e,["outputCompressionQuality"]);return s!=null&&P(t,["imageOutputOptions","compressionQuality"],s),t}function EZ(e){let t={},n=A(e,["bytesBase64Encoded"]);n!=null&&P(t,["imageBytes"],Zl(n));let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function I8(e){let t={},n=A(e,["gcsUri"]);n!=null&&P(t,["gcsUri"],n);let r=A(e,["bytesBase64Encoded"]);r!=null&&P(t,["imageBytes"],Zl(r));let i=A(e,["mimeType"]);return i!=null&&P(t,["mimeType"],i),t}function U1(e){let t={};if(A(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let n=A(e,["imageBytes"]);n!=null&&P(t,["bytesBase64Encoded"],Zl(n));let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function xo(e){let t={},n=A(e,["gcsUri"]);n!=null&&P(t,["gcsUri"],n);let r=A(e,["imageBytes"]);r!=null&&P(t,["bytesBase64Encoded"],Zl(r));let i=A(e,["mimeType"]);return i!=null&&P(t,["mimeType"],i),t}function xZ(e,t,n){let r={},i=A(t,["pageSize"]);n!==void 0&&i!=null&&P(n,["_query","pageSize"],i);let s=A(t,["pageToken"]);n!==void 0&&s!=null&&P(n,["_query","pageToken"],s);let o=A(t,["filter"]);n!==void 0&&o!=null&&P(n,["_query","filter"],o);let a=A(t,["queryBase"]);return n!==void 0&&a!=null&&P(n,["_url","models_url"],b8(e,a)),r}function SZ(e,t,n){let r={},i=A(t,["pageSize"]);n!==void 0&&i!=null&&P(n,["_query","pageSize"],i);let s=A(t,["pageToken"]);n!==void 0&&s!=null&&P(n,["_query","pageToken"],s);let o=A(t,["filter"]);n!==void 0&&o!=null&&P(n,["_query","filter"],o);let a=A(t,["queryBase"]);return n!==void 0&&a!=null&&P(n,["_url","models_url"],b8(e,a)),r}function CZ(e,t){let n={},r=A(t,["config"]);return r!=null&&xZ(e,r,n),n}function TZ(e,t){let n={},r=A(t,["config"]);return r!=null&&SZ(e,r,n),n}function IZ(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["nextPageToken"]);r!=null&&P(t,["nextPageToken"],r);let i=A(e,["_self"]);if(i!=null){let s=_8(i);Array.isArray(s)&&(s=s.map(o=>IE(o))),P(t,["models"],s)}return t}function AZ(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["nextPageToken"]);r!=null&&P(t,["nextPageToken"],r);let i=A(e,["_self"]);if(i!=null){let s=_8(i);Array.isArray(s)&&(s=s.map(o=>AE(o))),P(t,["models"],s)}return t}function kZ(e){let t={},n=A(e,["maskMode"]);n!=null&&P(t,["maskMode"],n);let r=A(e,["segmentationClasses"]);r!=null&&P(t,["maskClasses"],r);let i=A(e,["maskDilation"]);return i!=null&&P(t,["dilation"],i),t}function IE(e){let t={},n=A(e,["name"]);n!=null&&P(t,["name"],n);let r=A(e,["displayName"]);r!=null&&P(t,["displayName"],r);let i=A(e,["description"]);i!=null&&P(t,["description"],i);let s=A(e,["version"]);s!=null&&P(t,["version"],s);let o=A(e,["_self"]);o!=null&&P(t,["tunedModelInfo"],$Z(o));let a=A(e,["inputTokenLimit"]);a!=null&&P(t,["inputTokenLimit"],a);let l=A(e,["outputTokenLimit"]);l!=null&&P(t,["outputTokenLimit"],l);let c=A(e,["supportedGenerationMethods"]);c!=null&&P(t,["supportedActions"],c);let u=A(e,["temperature"]);u!=null&&P(t,["temperature"],u);let d=A(e,["maxTemperature"]);d!=null&&P(t,["maxTemperature"],d);let h=A(e,["topP"]);h!=null&&P(t,["topP"],h);let f=A(e,["topK"]);f!=null&&P(t,["topK"],f);let p=A(e,["thinking"]);return p!=null&&P(t,["thinking"],p),t}function AE(e){let t={},n=A(e,["name"]);n!=null&&P(t,["name"],n);let r=A(e,["displayName"]);r!=null&&P(t,["displayName"],r);let i=A(e,["description"]);i!=null&&P(t,["description"],i);let s=A(e,["versionId"]);s!=null&&P(t,["version"],s);let o=A(e,["deployedModels"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>HY(h))),P(t,["endpoints"],d)}let a=A(e,["labels"]);a!=null&&P(t,["labels"],a);let l=A(e,["_self"]);l!=null&&P(t,["tunedModelInfo"],WZ(l));let c=A(e,["defaultCheckpointId"]);c!=null&&P(t,["defaultCheckpointId"],c);let u=A(e,["checkpoints"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>h)),P(t,["checkpoints"],d)}return t}function DZ(e){let t={},n=A(e,["mediaResolution"]);n!=null&&P(t,["mediaResolution"],n);let r=A(e,["codeExecutionResult"]);r!=null&&P(t,["codeExecutionResult"],r);let i=A(e,["executableCode"]);i!=null&&P(t,["executableCode"],i);let s=A(e,["fileData"]);s!=null&&P(t,["fileData"],zY(s));let o=A(e,["functionCall"]);o!=null&&P(t,["functionCall"],qY(o));let a=A(e,["functionResponse"]);a!=null&&P(t,["functionResponse"],a);let l=A(e,["inlineData"]);l!=null&&P(t,["inlineData"],mY(l));let c=A(e,["text"]);c!=null&&P(t,["text"],c);let u=A(e,["thought"]);u!=null&&P(t,["thought"],u);let d=A(e,["thoughtSignature"]);d!=null&&P(t,["thoughtSignature"],d);let h=A(e,["videoMetadata"]);return h!=null&&P(t,["videoMetadata"],h),t}function MZ(e){let t={},n=A(e,["productImage"]);return n!=null&&P(t,["image"],xo(n)),t}function NZ(e,t){let n={},r=A(e,["numberOfImages"]);t!==void 0&&r!=null&&P(t,["parameters","sampleCount"],r);let i=A(e,["baseSteps"]);t!==void 0&&i!=null&&P(t,["parameters","baseSteps"],i);let s=A(e,["outputGcsUri"]);t!==void 0&&s!=null&&P(t,["parameters","storageUri"],s);let o=A(e,["seed"]);t!==void 0&&o!=null&&P(t,["parameters","seed"],o);let a=A(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&P(t,["parameters","safetySetting"],a);let l=A(e,["personGeneration"]);t!==void 0&&l!=null&&P(t,["parameters","personGeneration"],l);let c=A(e,["addWatermark"]);t!==void 0&&c!=null&&P(t,["parameters","addWatermark"],c);let u=A(e,["outputMimeType"]);t!==void 0&&u!=null&&P(t,["parameters","outputOptions","mimeType"],u);let d=A(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&P(t,["parameters","outputOptions","compressionQuality"],d);let h=A(e,["enhancePrompt"]);t!==void 0&&h!=null&&P(t,["parameters","enhancePrompt"],h);let f=A(e,["labels"]);return t!==void 0&&f!=null&&P(t,["labels"],f),n}function RZ(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["source"]);i!=null&&OZ(i,n);let s=A(t,["config"]);return s!=null&&NZ(s,n),n}function PZ(e){let t={},n=A(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>B1(i))),P(t,["generatedImages"],r)}return t}function OZ(e,t){let n={},r=A(e,["prompt"]);t!==void 0&&r!=null&&P(t,["instances[0]","prompt"],r);let i=A(e,["personImage"]);t!==void 0&&i!=null&&P(t,["instances[0]","personImage","image"],xo(i));let s=A(e,["productImages"]);if(t!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>MZ(a))),P(t,["instances[0]","productImages"],o)}return n}function LZ(e){let t={},n=A(e,["referenceImage"]);n!=null&&P(t,["referenceImage"],xo(n));let r=A(e,["referenceId"]);r!=null&&P(t,["referenceId"],r);let i=A(e,["referenceType"]);i!=null&&P(t,["referenceType"],i);let s=A(e,["maskImageConfig"]);s!=null&&P(t,["maskImageConfig"],kZ(s));let o=A(e,["controlImageConfig"]);o!=null&&P(t,["controlImageConfig"],EY(o));let a=A(e,["styleImageConfig"]);a!=null&&P(t,["styleImageConfig"],a);let l=A(e,["subjectImageConfig"]);return l!=null&&P(t,["subjectImageConfig"],l),t}function A8(e){let t={},n=A(e,["safetyAttributes","categories"]);n!=null&&P(t,["categories"],n);let r=A(e,["safetyAttributes","scores"]);r!=null&&P(t,["scores"],r);let i=A(e,["contentType"]);return i!=null&&P(t,["contentType"],i),t}function k8(e){let t={},n=A(e,["safetyAttributes","categories"]);n!=null&&P(t,["categories"],n);let r=A(e,["safetyAttributes","scores"]);r!=null&&P(t,["scores"],r);let i=A(e,["contentType"]);return i!=null&&P(t,["contentType"],i),t}function FZ(e){let t={},n=A(e,["category"]);if(n!=null&&P(t,["category"],n),A(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=A(e,["threshold"]);return r!=null&&P(t,["threshold"],r),t}function BZ(e){let t={},n=A(e,["image"]);return n!=null&&P(t,["image"],xo(n)),t}function UZ(e,t){let n={},r=A(e,["mode"]);t!==void 0&&r!=null&&P(t,["parameters","mode"],r);let i=A(e,["maxPredictions"]);t!==void 0&&i!=null&&P(t,["parameters","maxPredictions"],i);let s=A(e,["confidenceThreshold"]);t!==void 0&&s!=null&&P(t,["parameters","confidenceThreshold"],s);let o=A(e,["maskDilation"]);t!==void 0&&o!=null&&P(t,["parameters","maskDilation"],o);let a=A(e,["binaryColorThreshold"]);t!==void 0&&a!=null&&P(t,["parameters","binaryColorThreshold"],a);let l=A(e,["labels"]);return t!==void 0&&l!=null&&P(t,["labels"],l),n}function VZ(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["source"]);i!=null&&HZ(i,n);let s=A(t,["config"]);return s!=null&&UZ(s,n),n}function jZ(e){let t={},n=A(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fZ(i))),P(t,["generatedMasks"],r)}return t}function HZ(e,t){let n={},r=A(e,["prompt"]);t!==void 0&&r!=null&&P(t,["instances[0]","prompt"],r);let i=A(e,["image"]);t!==void 0&&i!=null&&P(t,["instances[0]","image"],xo(i));let s=A(e,["scribbleImage"]);return t!==void 0&&s!=null&&P(t,["instances[0]","scribble"],BZ(s)),n}function D8(e){let t={},n=A(e,["languageCode"]);n!=null&&P(t,["languageCode"],n);let r=A(e,["voiceConfig"]);if(r!=null&&P(t,["voiceConfig"],r),A(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function zZ(e){let t={},n=A(e,["functionCallingConfig"]);n!=null&&P(t,["functionCallingConfig"],$Y(n));let r=A(e,["retrievalConfig"]);return r!=null&&P(t,["retrievalConfig"],r),t}function qZ(e){let t={},n=A(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>d)),P(t,["functionDeclarations"],u)}if(A(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=A(e,["googleSearchRetrieval"]);r!=null&&P(t,["googleSearchRetrieval"],r);let i=A(e,["computerUse"]);i!=null&&P(t,["computerUse"],i);let s=A(e,["fileSearch"]);s!=null&&P(t,["fileSearch"],s);let o=A(e,["codeExecution"]);if(o!=null&&P(t,["codeExecution"],o),A(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=A(e,["googleMaps"]);a!=null&&P(t,["googleMaps"],vZ(a));let l=A(e,["googleSearch"]);l!=null&&P(t,["googleSearch"],bZ(l));let c=A(e,["urlContext"]);return c!=null&&P(t,["urlContext"],c),t}function M8(e){let t={},n=A(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>WY(h))),P(t,["functionDeclarations"],d)}let r=A(e,["retrieval"]);r!=null&&P(t,["retrieval"],r);let i=A(e,["googleSearchRetrieval"]);i!=null&&P(t,["googleSearchRetrieval"],i);let s=A(e,["computerUse"]);if(s!=null&&P(t,["computerUse"],s),A(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let o=A(e,["codeExecution"]);o!=null&&P(t,["codeExecution"],o);let a=A(e,["enterpriseWebSearch"]);a!=null&&P(t,["enterpriseWebSearch"],a);let l=A(e,["googleMaps"]);l!=null&&P(t,["googleMaps"],l);let c=A(e,["googleSearch"]);c!=null&&P(t,["googleSearch"],c);let u=A(e,["urlContext"]);return u!=null&&P(t,["urlContext"],u),t}function $Z(e){let t={},n=A(e,["baseModel"]);n!=null&&P(t,["baseModel"],n);let r=A(e,["createTime"]);r!=null&&P(t,["createTime"],r);let i=A(e,["updateTime"]);return i!=null&&P(t,["updateTime"],i),t}function WZ(e){let t={},n=A(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&P(t,["baseModel"],n);let r=A(e,["createTime"]);r!=null&&P(t,["createTime"],r);let i=A(e,["updateTime"]);return i!=null&&P(t,["updateTime"],i),t}function GZ(e,t){let n={},r=A(e,["displayName"]);t!==void 0&&r!=null&&P(t,["displayName"],r);let i=A(e,["description"]);t!==void 0&&i!=null&&P(t,["description"],i);let s=A(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&P(t,["defaultCheckpointId"],s),n}function KZ(e,t){let n={},r=A(e,["displayName"]);t!==void 0&&r!=null&&P(t,["displayName"],r);let i=A(e,["description"]);t!==void 0&&i!=null&&P(t,["description"],i);let s=A(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&P(t,["defaultCheckpointId"],s),n}function YZ(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","name"],Gn(e,r));let i=A(t,["config"]);return i!=null&&GZ(i,n),n}function ZZ(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["config"]);return i!=null&&KZ(i,n),n}function JZ(e,t){let n={},r=A(e,["outputGcsUri"]);t!==void 0&&r!=null&&P(t,["parameters","storageUri"],r);let i=A(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&P(t,["parameters","safetySetting"],i);let s=A(e,["personGeneration"]);t!==void 0&&s!=null&&P(t,["parameters","personGeneration"],s);let o=A(e,["includeRaiReason"]);t!==void 0&&o!=null&&P(t,["parameters","includeRaiReason"],o);let a=A(e,["outputMimeType"]);t!==void 0&&a!=null&&P(t,["parameters","outputOptions","mimeType"],a);let l=A(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&P(t,["parameters","outputOptions","compressionQuality"],l);let c=A(e,["enhanceInputImage"]);t!==void 0&&c!=null&&P(t,["parameters","upscaleConfig","enhanceInputImage"],c);let u=A(e,["imagePreservationFactor"]);t!==void 0&&u!=null&&P(t,["parameters","upscaleConfig","imagePreservationFactor"],u);let d=A(e,["labels"]);t!==void 0&&d!=null&&P(t,["labels"],d);let h=A(e,["numberOfImages"]);t!==void 0&&h!=null&&P(t,["parameters","sampleCount"],h);let f=A(e,["mode"]);return t!==void 0&&f!=null&&P(t,["parameters","mode"],f),n}function XZ(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["_url","model"],Gn(e,r));let i=A(t,["image"]);i!=null&&P(n,["instances[0]","image"],xo(i));let s=A(t,["upscaleFactor"]);s!=null&&P(n,["parameters","upscaleConfig","upscaleFactor"],s);let o=A(t,["config"]);return o!=null&&JZ(o,n),n}function QZ(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>B1(s))),P(t,["generatedImages"],i)}return t}function eJ(e){let t={},n=A(e,["uri"]);n!=null&&P(t,["uri"],n);let r=A(e,["encodedVideo"]);r!=null&&P(t,["videoBytes"],Zl(r));let i=A(e,["encoding"]);return i!=null&&P(t,["mimeType"],i),t}function tJ(e){let t={},n=A(e,["gcsUri"]);n!=null&&P(t,["uri"],n);let r=A(e,["bytesBase64Encoded"]);r!=null&&P(t,["videoBytes"],Zl(r));let i=A(e,["mimeType"]);return i!=null&&P(t,["mimeType"],i),t}function nJ(e){let t={},n=A(e,["image"]);n!=null&&P(t,["_self"],xo(n));let r=A(e,["maskMode"]);return r!=null&&P(t,["maskMode"],r),t}function rJ(e){let t={},n=A(e,["image"]);n!=null&&P(t,["image"],U1(n));let r=A(e,["referenceType"]);return r!=null&&P(t,["referenceType"],r),t}function iJ(e){let t={},n=A(e,["image"]);n!=null&&P(t,["image"],xo(n));let r=A(e,["referenceType"]);return r!=null&&P(t,["referenceType"],r),t}function N8(e){let t={},n=A(e,["uri"]);n!=null&&P(t,["uri"],n);let r=A(e,["videoBytes"]);r!=null&&P(t,["encodedVideo"],Zl(r));let i=A(e,["mimeType"]);return i!=null&&P(t,["encoding"],i),t}function R8(e){let t={},n=A(e,["uri"]);n!=null&&P(t,["gcsUri"],n);let r=A(e,["videoBytes"]);r!=null&&P(t,["bytesBase64Encoded"],Zl(r));let i=A(e,["mimeType"]);return i!=null&&P(t,["mimeType"],i),t}var sJ="Content-Type",oJ="X-Server-Timeout",aJ="User-Agent",kE="x-goog-api-client",lJ="1.30.0",cJ=`google-genai-sdk/${lJ}`,uJ="v1beta1",dJ="v1beta",n8=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/,DE=class{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});let i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:uJ,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:dJ,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){let i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));let r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(let[o,a]of Object.entries(t.queryParams))i.searchParams.append(o,String(a));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),t.abortSignal),this.unaryApiCall(i,s,t.httpMethod)}patchHttpOptions(t,n){let r=JSON.parse(JSON.stringify(t));for(let[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));let r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),t.abortSignal),this.streamApiCall(i,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){let s=new AbortController,o=s.signal;if(n.timeout&&n?.timeout>0){let a=setTimeout(()=>s.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),t.signal=o}return n&&n.extraBody!==null&&fJ(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await r8(i),new Ep(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await r8(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return Pd(this,arguments,function*(){let i=(n=t?.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){let{done:a,value:l}=yield wr(i.read());if(a){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let c=s.decode(l,{stream:!0});try{let d=JSON.parse(c);if("error"in d){let h=JSON.parse(JSON.stringify(d.error)),f=h.status,p=h.code,m=`got status: ${f}. ${JSON.stringify(d)}`;if(p>=400&&p<600)throw new P1({message:m,status:p})}}catch(d){if(d.name==="ApiError")throw d}o+=c;let u=o.match(n8);for(;u;){let d=u[1];try{let h=new Response(d,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield wr(new Ep(h)),o=o.slice(u[0].length),u=o.match(n8)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){let t={},n=cJ+" "+this.clientOptions.userAgentExtra;return t[aJ]=n,t[kE]=n,t[sJ]="application/json",t}async getHeadersInternal(t,n){let r=new Headers;if(t&&t.headers){for(let[i,s]of Object.entries(t.headers))r.append(i,s);t.timeout&&t.timeout>0&&r.append(oJ,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;let i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);let s=this.clientOptions.uploader,o=await s.stat(t);i.sizeBytes=String(o.size);let a=(r=n?.mimeType)!==null&&r!==void 0?r:o.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;let l={file:i},c=this.getFileName(t),u=_t("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(u,i.sizeBytes,i.mimeType,c,l,n?.httpOptions);return s.upload(t,d,this)}async uploadFileToFileSearchStore(t,n,r){var i;let s=this.clientOptions.uploader,o=await s.stat(n),a=String(o.size),l=(i=r?.mimeType)!==null&&i!==void 0?i:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let c=`upload/v1beta/${t}:uploadToFileSearchStore`,u=this.getFileName(n),d={};r?.customMetadata&&(d.customMetadata=r.customMetadata),r?.chunkingConfig&&(d.chunkingConfig=r.chunkingConfig);let h=await this.fetchUploadUrl(c,a,l,u,d,r?.httpOptions);return s.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,s,o){var a;let l={};o?l=o:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};let c=await this.request({path:t,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!c||!c?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let u=(a=c?.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}};async function r8(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){let n=e.status,r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};let i=JSON.stringify(r);throw n>=400&&n<600?new P1({message:i,status:n}):new Error(i)}}function fJ(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{let s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){let a=Object.assign({},s);for(let l in o)if(Object.prototype.hasOwnProperty.call(o,l)){let c=o[l],u=a[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?a[l]=r(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),a[l]=c)}return a}let i=r(n,t);e.body=JSON.stringify(i)}var hJ="mcp_used/unknown",pJ=!1;function P8(e){for(let t of e)if(mJ(t)||typeof t=="object"&&"inputSchema"in t)return!0;return pJ}function O8(e){var t;let n=(t=e[kE])!==null&&t!==void 0?t:"";e[kE]=(n+` ${hJ}`).trimStart()}function mJ(e){return e!==null&&typeof e=="object"&&e instanceof ME}function gJ(e,t=100){return Pd(this,arguments,function*(){let r,i=0;for(;i<t;){let s=yield wr(e.listTools({cursor:r}));for(let o of s.tools)yield yield wr(o),i++;if(!s.nextCursor)break;r=s.nextCursor}})}var ME=class e{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new e(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;let s={},o=[];for(let u of this.mcpClients)try{for(var a=!0,l=(n=void 0,wp(gJ(u))),c;c=await l.next(),t=c.done,!t;a=!0){i=c.value,a=!1;let d=i;o.push(d);let h=d.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=u}}catch(d){n={error:d}}finally{try{!a&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),pG(this.mcpTools,this.config)}async callTool(t){await this.initialize();let n=[];for(let r of t)if(r.name in this.functionNameToMcpClient){let i=this.functionNameToMcpClient[r.name],s;this.config.timeout&&(s={timeout:this.config.timeout});let o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}};async function yJ(e,t,n){let r=new vE,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}var NE=class{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=bJ(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${a}`,c=()=>{},u=new Promise(I=>{c=I}),d=t.callbacks,h=function(){c({})},f=this.apiClient,p={onopen:h,onmessage:I=>{yJ(f,d.onmessage,I)},onerror:(n=d?.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=d?.onclose)!==null&&r!==void 0?r:function(I){}},m=this.webSocketFactory.create(l,vJ(o),p);m.connect(),await u;let x={setup:{model:Gn(this.apiClient,t.model)}};return m.send(JSON.stringify(x)),new RE(m,this.apiClient)}},RE=class{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=oY(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});let n=sY(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){let n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_p.PLAY)}pause(){this.sendPlaybackControl(_p.PAUSE)}stop(){this.sendPlaybackControl(_p.STOP)}resetContext(){this.sendPlaybackControl(_p.RESET_CONTEXT)}close(){this.conn.close()}};function vJ(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function bJ(e){let t=new Headers;for(let[n,r]of Object.entries(e))t.append(n,r);return t}var _J="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function wJ(e,t,n){let r=new yE,i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;let s=JSON.parse(i);if(e.isVertexAI()){let o=cY(s);Object.assign(r,o)}else Object.assign(r,s);t(r)}var PE=class{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new NE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,s,o,a;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),u,d=this.apiClient.getHeaders();t.config&&t.config.tools&&P8(t.config.tools)&&O8(d);let h=SJ(d);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,u);else{let q=this.apiClient.getApiKey(),j="BidiGenerateContent",S="key";q?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",S="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${j}?${S}=${q}`}let f=()=>{},p=new Promise(q=>{f=q}),m=t.callbacks,g=function(){var q;(q=m?.onopen)===null||q===void 0||q.call(m),f({})},v=this.apiClient,x={onopen:g,onmessage:q=>{wJ(v,m.onmessage,q)},onerror:(n=m?.onerror)!==null&&n!==void 0?n:function(q){},onclose:(r=m?.onclose)!==null&&r!==void 0?r:function(q){}},I=this.webSocketFactory.create(u,xJ(h),x);I.connect(),await p;let R=Gn(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){let q=this.apiClient.getProject(),j=this.apiClient.getLocation();R=`projects/${q}/locations/${j}/`+R}let $={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[iE.AUDIO]}:t.config.responseModalities=[iE.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let F=(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[],V=[];for(let q of F)if(this.isCallableTool(q)){let j=q;V.push(await j.tool())}else V.push(q);V.length>0&&(t.config.tools=V);let U={model:R,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?$=iY(this.apiClient,U):$=rY(this.apiClient,U),delete $.config,I.send(JSON.stringify($)),new OE(I,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}},EJ={turnComplete:!0},OE=class{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Xs(n.turns),t.isVertexAI()||(r=r.map(i=>F1(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(let s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(_J)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},EJ),t);let n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:lY(t)}:n={realtimeInput:aY(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function xJ(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function SJ(e){let t=new Headers;for(let[n,r]of Object.entries(e))t.append(n,r);return t}var i8=10;function s8(e){var t,n,r;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(let o of(n=e?.tools)!==null&&n!==void 0?n:[])if(Od(o)){i=!0;break}if(!i)return!0;let s=(r=e?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Od(e){return"callTool"in e&&typeof e.callTool=="function"}function CJ(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Od(i)))!==null&&r!==void 0?r:!1}function o8(e){var t;let n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Od(r))return;let s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function a8(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}var LE=class extends Eo{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,s,o,a;let l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!CJ(n)||s8(n.config))return await this.generateContentInternal(l);let c=o8(n);if(c.length>0){let m=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${m}.`)}let u,d,h=Xs(l.contents),f=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:i8,p=0;for(;p<f&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){let m=u.candidates[0].content,g=[];for(let v of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Od(v)){let I=await v.callTool(u.functionCalls);g.push(...I)}p++,d={role:"user",parts:g},l.contents=Xs(l.contents),l.contents.push(m),l.contents.push(d),a8(l.config)&&(h.push(m),h.push(d))}return a8(l.config)&&(u.automaticFunctionCallingHistory=h),u},this.generateContentStream=async n=>{var r,i,s,o,a;if(this.maybeMoveToResponseJsonSchem(n),s8(n.config)){let d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}let l=o8(n);if(l.length>0){let d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let c=(s=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,u=(a=(o=n?.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(c&&!u)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s,o=[];if(r?.generatedImages)for(let l of r.generatedImages)l&&l?.safetyAttributes&&((i=l?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l?.safetyAttributes:o.push(l);let a;return s?a={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;let o={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new rl(Jl.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(o),o)},this.editImage=async n=>{let r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));let i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;let s=(n=t.config)===null||n===void 0?void 0:n.tools;if(!s)return t;let o=await Promise.all(s.map(async l=>Od(l)?await l.tool():l)),a={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:o})};if(a.config.tools=o,t.config&&t.config.tools&&P8(t.config.tools)){let l=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{},c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),O8(c),a.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(t){var n,r,i;let s=new Map;for(let o of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Od(o)){let a=o,l=await a.tool();for(let c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,a)}}return s}async processAfcStream(t){var n,r,i;let s=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:i8,o=!1,a=0,l=await this.initAfcToolsMap(t);return function(c,u,d){var h,f;return Pd(this,arguments,function*(){for(var p,m,g,v;a<s;){o&&(a++,o=!1);let $=yield wr(c.processParamsMaybeAddMcpUsage(d)),F=yield wr(c.generateContentStreamInternal($)),V=[],U=[];try{for(var x=!0,I=(m=void 0,wp(F)),R;R=yield wr(I.next()),p=R.done,!p;x=!0){v=R.value,x=!1;let q=v;if(yield yield wr(q),q.candidates&&(!((h=q.candidates[0])===null||h===void 0)&&h.content)){U.push(q.candidates[0].content);for(let j of(f=q.candidates[0].content.parts)!==null&&f!==void 0?f:[])if(a<s&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(j.functionCall.name)){let S=yield wr(u.get(j.functionCall.name).callTool([j.functionCall]));V.push(...S)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(q){m={error:q}}finally{try{!x&&!p&&(g=I.return)&&(yield wr(g.call(I)))}finally{if(m)throw m.error}}if(V.length>0){o=!0;let q=new ou;q.candidates=[{content:{role:"user",parts:V}}],yield yield wr(q);let j=[];j.push(...U),j.push({role:"user",parts:V});let S=Xs(d.contents).concat(j);d.contents=S}else break}})}(this,l,t)}async generateContentInternal(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=QD(this.apiClient,t);return a=_t("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=t8(u),h=new ou;return Object.assign(h,d),h})}else{let c=XD(this.apiClient,t);return a=_t("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=e8(u),h=new ou;return Object.assign(h,d),h})}}async generateContentStreamInternal(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=QD(this.apiClient,t);return a=_t("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(d){return Pd(this,arguments,function*(){var h,f,p,m;try{for(var g=!0,v=wp(d),x;x=yield wr(v.next()),h=x.done,!h;g=!0){m=x.value,g=!1;let I=m,R=t8(yield wr(I.json()));R.sdkHttpResponse={headers:I.headers};let $=new ou;Object.assign($,R),yield yield wr($)}}catch(I){f={error:I}}finally{try{!g&&!h&&(p=v.return)&&(yield wr(p.call(v)))}finally{if(f)throw f.error}}})})}else{let c=XD(this.apiClient,t);return a=_t("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(d){return Pd(this,arguments,function*(){var h,f,p,m;try{for(var g=!0,v=wp(d),x;x=yield wr(v.next()),h=x.done,!h;g=!0){m=x.value,g=!1;let I=m,R=e8(yield wr(I.json()));R.sdkHttpResponse={headers:I.headers};let $=new ou;Object.assign($,R),yield yield wr($)}}catch(I){f={error:I}}finally{try{!g&&!h&&(p=v.return)&&(yield wr(p.call(v)))}finally{if(f)throw f.error}}})})}}async embedContent(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=UY(this.apiClient,t);return a=_t("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=jY(u),h=new x1;return Object.assign(h,d),h})}else{let c=BY(this.apiClient,t);return a=_t("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=VY(u),h=new x1;return Object.assign(h,d),h})}}async generateImagesInternal(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=XY(this.apiClient,t);return a=_t("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=eZ(u),h=new S1;return Object.assign(h,d),h})}else{let c=JY(this.apiClient,t);return a=_t("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=QY(u),h=new S1;return Object.assign(h,d),h})}}async editImageInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=PY(this.apiClient,t);return s=_t("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{let c=OY(l),u=new sE;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=XZ(this.apiClient,t);return s=_t("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{let c=QZ(l),u=new oE;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=RZ(this.apiClient,t);return s=_t("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=PZ(l),u=new aE;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=VZ(this.apiClient,t);return s=_t("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=jZ(l),u=new lE;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=yZ(this.apiClient,t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>AE(u))}else{let c=gZ(this.apiClient,t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>IE(u))}}async listInternal(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=TZ(this.apiClient,t);return a=_t("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=AZ(u),h=new C1;return Object.assign(h,d),h})}else{let c=CZ(this.apiClient,t);return a=_t("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=IZ(u),h=new C1;return Object.assign(h,d),h})}}async update(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=ZZ(this.apiClient,t);return a=_t("{model}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>AE(u))}else{let c=YZ(this.apiClient,t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>IE(u))}}async delete(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=DY(this.apiClient,t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=NY(u),h=new T1;return Object.assign(h,d),h})}else{let c=kY(this.apiClient,t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=MY(u),h=new T1;return Object.assign(h,d),h})}}async countTokens(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=TY(this.apiClient,t);return a=_t("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=AY(u),h=new I1;return Object.assign(h,d),h})}else{let c=CY(this.apiClient,t);return a=_t("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=IY(u),h=new I1;return Object.assign(h,d),h})}}async computeTokens(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=vY(this.apiClient,t);return s=_t("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{let c=bY(l),u=new cE;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=oZ(this.apiClient,t);return a=_t("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{let d=iZ(u),h=new A1;return Object.assign(h,d),h})}else{let c=sZ(this.apiClient,t);return a=_t("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>{let d=rZ(u),h=new A1;return Object.assign(h,d),h})}}};var FE=class extends Eo{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){let n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let i=n.name.split("/operations/")[0],s;r&&"httpOptions"in r&&(s=r.httpOptions);let o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{let i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){let n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let i=n.name.split("/operations/")[0],s;r&&"httpOptions"in r&&(s=r.httpOptions);let o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{let i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=tG(t);return a=_t("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o}else{let c=eG(t);return a=_t("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o}}async fetchPredictVideosOperationInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=GW(t);return s=_t("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}};function TJ(e){let t={},n=A(e,["data"]);if(n!=null&&P(t,["data"],n),A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function IJ(e){let t={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>LJ(s))),P(t,["parts"],i)}let r=A(e,["role"]);return r!=null&&P(t,["role"],r),t}function AJ(e,t,n){let r={},i=A(t,["expireTime"]);n!==void 0&&i!=null&&P(n,["expireTime"],i);let s=A(t,["newSessionExpireTime"]);n!==void 0&&s!=null&&P(n,["newSessionExpireTime"],s);let o=A(t,["uses"]);n!==void 0&&o!=null&&P(n,["uses"],o);let a=A(t,["liveConnectConstraints"]);n!==void 0&&a!=null&&P(n,["bidiGenerateContentSetup"],OJ(e,a));let l=A(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&P(n,["fieldMask"],l),r}function kJ(e,t){let n={},r=A(t,["config"]);return r!=null&&P(n,["config"],AJ(e,r,n)),n}function DJ(e){let t={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=A(e,["fileUri"]);n!=null&&P(t,["fileUri"],n);let r=A(e,["mimeType"]);return r!=null&&P(t,["mimeType"],r),t}function MJ(e){let t={},n=A(e,["id"]);n!=null&&P(t,["id"],n);let r=A(e,["args"]);r!=null&&P(t,["args"],r);let i=A(e,["name"]);if(i!=null&&P(t,["name"],i),A(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(A(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function NJ(e){let t={};if(A(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=A(e,["enableWidget"]);return n!=null&&P(t,["enableWidget"],n),t}function RJ(e){let t={};if(A(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(A(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=A(e,["timeRangeFilter"]);return n!=null&&P(t,["timeRangeFilter"],n),t}function PJ(e,t){let n={},r=A(e,["generationConfig"]);t!==void 0&&r!=null&&P(t,["setup","generationConfig"],r);let i=A(e,["responseModalities"]);t!==void 0&&i!=null&&P(t,["setup","generationConfig","responseModalities"],i);let s=A(e,["temperature"]);t!==void 0&&s!=null&&P(t,["setup","generationConfig","temperature"],s);let o=A(e,["topP"]);t!==void 0&&o!=null&&P(t,["setup","generationConfig","topP"],o);let a=A(e,["topK"]);t!==void 0&&a!=null&&P(t,["setup","generationConfig","topK"],a);let l=A(e,["maxOutputTokens"]);t!==void 0&&l!=null&&P(t,["setup","generationConfig","maxOutputTokens"],l);let c=A(e,["mediaResolution"]);t!==void 0&&c!=null&&P(t,["setup","generationConfig","mediaResolution"],c);let u=A(e,["seed"]);t!==void 0&&u!=null&&P(t,["setup","generationConfig","seed"],u);let d=A(e,["speechConfig"]);t!==void 0&&d!=null&&P(t,["setup","generationConfig","speechConfig"],XE(d));let h=A(e,["thinkingConfig"]);t!==void 0&&h!=null&&P(t,["setup","generationConfig","thinkingConfig"],h);let f=A(e,["enableAffectiveDialog"]);t!==void 0&&f!=null&&P(t,["setup","generationConfig","enableAffectiveDialog"],f);let p=A(e,["systemInstruction"]);t!==void 0&&p!=null&&P(t,["setup","systemInstruction"],IJ(Pi(p)));let m=A(e,["tools"]);if(t!==void 0&&m!=null){let F=Fd(m);Array.isArray(F)&&(F=F.map(V=>BJ(Ld(V)))),P(t,["setup","tools"],F)}let g=A(e,["sessionResumption"]);t!==void 0&&g!=null&&P(t,["setup","sessionResumption"],FJ(g));let v=A(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&P(t,["setup","inputAudioTranscription"],v);let x=A(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&P(t,["setup","outputAudioTranscription"],x);let I=A(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&P(t,["setup","realtimeInputConfig"],I);let R=A(e,["contextWindowCompression"]);t!==void 0&&R!=null&&P(t,["setup","contextWindowCompression"],R);let $=A(e,["proactivity"]);return t!==void 0&&$!=null&&P(t,["setup","proactivity"],$),n}function OJ(e,t){let n={},r=A(t,["model"]);r!=null&&P(n,["setup","model"],Gn(e,r));let i=A(t,["config"]);return i!=null&&P(n,["config"],PJ(i,n)),n}function LJ(e){let t={},n=A(e,["mediaResolution"]);n!=null&&P(t,["mediaResolution"],n);let r=A(e,["codeExecutionResult"]);r!=null&&P(t,["codeExecutionResult"],r);let i=A(e,["executableCode"]);i!=null&&P(t,["executableCode"],i);let s=A(e,["fileData"]);s!=null&&P(t,["fileData"],DJ(s));let o=A(e,["functionCall"]);o!=null&&P(t,["functionCall"],MJ(o));let a=A(e,["functionResponse"]);a!=null&&P(t,["functionResponse"],a);let l=A(e,["inlineData"]);l!=null&&P(t,["inlineData"],TJ(l));let c=A(e,["text"]);c!=null&&P(t,["text"],c);let u=A(e,["thought"]);u!=null&&P(t,["thought"],u);let d=A(e,["thoughtSignature"]);d!=null&&P(t,["thoughtSignature"],d);let h=A(e,["videoMetadata"]);return h!=null&&P(t,["videoMetadata"],h),t}function FJ(e){let t={},n=A(e,["handle"]);if(n!=null&&P(t,["handle"],n),A(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function BJ(e){let t={},n=A(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>d)),P(t,["functionDeclarations"],u)}if(A(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=A(e,["googleSearchRetrieval"]);r!=null&&P(t,["googleSearchRetrieval"],r);let i=A(e,["computerUse"]);i!=null&&P(t,["computerUse"],i);let s=A(e,["fileSearch"]);s!=null&&P(t,["fileSearch"],s);let o=A(e,["codeExecution"]);if(o!=null&&P(t,["codeExecution"],o),A(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=A(e,["googleMaps"]);a!=null&&P(t,["googleMaps"],NJ(a));let l=A(e,["googleSearch"]);l!=null&&P(t,["googleSearch"],RJ(l));let c=A(e,["urlContext"]);return c!=null&&P(t,["urlContext"],c),t}function UJ(e){let t=[];for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){let i=Object.keys(r).map(s=>`${n}.${s}`);t.push(...i)}else t.push(n)}return t.join(",")}function VJ(e,t){let n=null,r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){let s=r.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,n=s):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;let i=e.fieldMask;if(n){let s=UJ(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)s?e.fieldMask=s:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){let o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],a=[];i.length>0&&(a=i.map(c=>o.includes(c)?`generationConfig.${c}`:c));let l=[];s&&l.push(s),a.length>0&&l.push(...a),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}var BE=class extends Eo{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let a=kJ(this.apiClient,t);s=_t("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;let l=VJ(a,t.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}};function jJ(e,t){let n={},r=A(e,["displayName"]);return t!==void 0&&r!=null&&P(t,["displayName"],r),n}function HJ(e){let t={},n=A(e,["config"]);return n!=null&&jJ(n,t),t}function zJ(e,t){let n={},r=A(e,["force"]);return t!==void 0&&r!=null&&P(t,["_query","force"],r),n}function qJ(e){let t={},n=A(e,["name"]);n!=null&&P(t,["_url","name"],n);let r=A(e,["config"]);return r!=null&&zJ(r,t),t}function $J(e){let t={},n=A(e,["name"]);return n!=null&&P(t,["_url","name"],n),t}function WJ(e,t){let n={},r=A(e,["customMetadata"]);if(t!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),P(t,["customMetadata"],s)}let i=A(e,["chunkingConfig"]);return t!==void 0&&i!=null&&P(t,["chunkingConfig"],i),n}function GJ(e){let t={},n=A(e,["name"]);n!=null&&P(t,["name"],n);let r=A(e,["metadata"]);r!=null&&P(t,["metadata"],r);let i=A(e,["done"]);i!=null&&P(t,["done"],i);let s=A(e,["error"]);s!=null&&P(t,["error"],s);let o=A(e,["response"]);return o!=null&&P(t,["response"],YJ(o)),t}function KJ(e){let t={},n=A(e,["fileSearchStoreName"]);n!=null&&P(t,["_url","file_search_store_name"],n);let r=A(e,["fileName"]);r!=null&&P(t,["fileName"],r);let i=A(e,["config"]);return i!=null&&WJ(i,t),t}function YJ(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["parent"]);r!=null&&P(t,["parent"],r);let i=A(e,["documentName"]);return i!=null&&P(t,["documentName"],i),t}function ZJ(e,t){let n={},r=A(e,["pageSize"]);t!==void 0&&r!=null&&P(t,["_query","pageSize"],r);let i=A(e,["pageToken"]);return t!==void 0&&i!=null&&P(t,["_query","pageToken"],i),n}function JJ(e){let t={},n=A(e,["config"]);return n!=null&&ZJ(n,t),t}function XJ(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["nextPageToken"]);r!=null&&P(t,["nextPageToken"],r);let i=A(e,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(t,["fileSearchStores"],s)}return t}function QJ(e,t){let n={},r=A(e,["mimeType"]);t!==void 0&&r!=null&&P(t,["mimeType"],r);let i=A(e,["displayName"]);t!==void 0&&i!=null&&P(t,["displayName"],i);let s=A(e,["customMetadata"]);if(t!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),P(t,["customMetadata"],a)}let o=A(e,["chunkingConfig"]);return t!==void 0&&o!=null&&P(t,["chunkingConfig"],o),n}function eX(e){let t={},n=A(e,["fileSearchStoreName"]);n!=null&&P(t,["_url","file_search_store_name"],n);let r=A(e,["config"]);return r!=null&&QJ(r,t),t}function tX(e){let t={},n=A(e,["sdkHttpResponse"]);return n!=null&&P(t,["sdkHttpResponse"],n),t}function nX(e,t){let n={},r=A(e,["force"]);return t!==void 0&&r!=null&&P(t,["_query","force"],r),n}function rX(e){let t={},n=A(e,["name"]);n!=null&&P(t,["_url","name"],n);let r=A(e,["config"]);return r!=null&&nX(r,t),t}function iX(e){let t={},n=A(e,["name"]);return n!=null&&P(t,["_url","name"],n),t}function sX(e,t){let n={},r=A(e,["pageSize"]);t!==void 0&&r!=null&&P(t,["_query","pageSize"],r);let i=A(e,["pageToken"]);return t!==void 0&&i!=null&&P(t,["_query","pageToken"],i),n}function oX(e){let t={},n=A(e,["parent"]);n!=null&&P(t,["_url","parent"],n);let r=A(e,["config"]);return r!=null&&sX(r,t),t}function aX(e){let t={},n=A(e,["sdkHttpResponse"]);n!=null&&P(t,["sdkHttpResponse"],n);let r=A(e,["nextPageToken"]);r!=null&&P(t,["nextPageToken"],r);let i=A(e,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(t,["documents"],s)}return t}var UE=class extends Eo{constructor(t){super(),this.apiClient=t,this.list=async n=>new rl(Jl.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=iX(t);return s=_t("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let o=rX(t);i=_t("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=oX(t);return s=_t("{parent}/documents",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=aX(l),u=new uE;return Object.assign(u,c),u})}}};var VE=class extends Eo{constructor(t,n=new UE(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new rl(Jl.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=HJ(t);return s=_t("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=$J(t);return s=_t("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let o=qJ(t);i=_t("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=JJ(t);return s=_t("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=XJ(l),u=new dE;return Object.assign(u,c),u})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=eX(t);return s=_t("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=tX(l),u=new fE;return Object.assign(u,c),u})}}async importFile(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=KJ(t);return s=_t("{file_search_store_name}:importFile",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=GJ(l),u=new hE;return Object.assign(u,c),u})}}};function lX(e,t){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],r),n}function cX(e,t){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],r),n}function uX(e,t,n){let r={};if(A(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let i=A(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&P(t,["displayName"],i),A(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let s=A(e,["epochCount"]);t!==void 0&&s!=null&&P(t,["tuningTask","hyperparameters","epochCount"],s);let o=A(e,["learningRateMultiplier"]);if(o!=null&&P(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),A(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(A(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(A(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let a=A(e,["batchSize"]);t!==void 0&&a!=null&&P(t,["tuningTask","hyperparameters","batchSize"],a);let l=A(e,["learningRate"]);if(t!==void 0&&l!=null&&P(t,["tuningTask","hyperparameters","learningRate"],l),A(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(A(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function dX(e,t,n){let r={},i=A(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let f=A(e,["validationDataset"]);t!==void 0&&f!=null&&P(t,["supervisedTuningSpec"],l8(f))}else if(i==="PREFERENCE_TUNING"){let f=A(e,["validationDataset"]);t!==void 0&&f!=null&&P(t,["preferenceOptimizationSpec"],l8(f))}let s=A(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&P(t,["tunedModelDisplayName"],s);let o=A(e,["description"]);t!==void 0&&o!=null&&P(t,["description"],o);let a=A(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){let f=A(e,["epochCount"]);t!==void 0&&f!=null&&P(t,["supervisedTuningSpec","hyperParameters","epochCount"],f)}else if(a==="PREFERENCE_TUNING"){let f=A(e,["epochCount"]);t!==void 0&&f!=null&&P(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],f)}let l=A(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let f=A(e,["learningRateMultiplier"]);t!==void 0&&f!=null&&P(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f)}else if(l==="PREFERENCE_TUNING"){let f=A(e,["learningRateMultiplier"]);t!==void 0&&f!=null&&P(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],f)}let c=A(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let f=A(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&P(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f)}else if(c==="PREFERENCE_TUNING"){let f=A(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&P(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],f)}let u=A(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){let f=A(e,["adapterSize"]);t!==void 0&&f!=null&&P(t,["supervisedTuningSpec","hyperParameters","adapterSize"],f)}else if(u==="PREFERENCE_TUNING"){let f=A(e,["adapterSize"]);t!==void 0&&f!=null&&P(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],f)}if(A(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(A(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let d=A(e,["labels"]);t!==void 0&&d!=null&&P(t,["labels"],d);let h=A(e,["beta"]);return t!==void 0&&h!=null&&P(t,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function fX(e,t){let n={},r=A(e,["baseModel"]);r!=null&&P(n,["baseModel"],r);let i=A(e,["preTunedModel"]);i!=null&&P(n,["preTunedModel"],i);let s=A(e,["trainingDataset"]);s!=null&&xX(s);let o=A(e,["config"]);return o!=null&&uX(o,n),n}function hX(e,t){let n={},r=A(e,["baseModel"]);r!=null&&P(n,["baseModel"],r);let i=A(e,["preTunedModel"]);i!=null&&P(n,["preTunedModel"],i);let s=A(e,["trainingDataset"]);s!=null&&SX(s,n,t);let o=A(e,["config"]);return o!=null&&dX(o,n,t),n}function pX(e,t){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],r),n}function mX(e,t){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],r),n}function gX(e,t,n){let r={},i=A(e,["pageSize"]);t!==void 0&&i!=null&&P(t,["_query","pageSize"],i);let s=A(e,["pageToken"]);t!==void 0&&s!=null&&P(t,["_query","pageToken"],s);let o=A(e,["filter"]);return t!==void 0&&o!=null&&P(t,["_query","filter"],o),r}function yX(e,t,n){let r={},i=A(e,["pageSize"]);t!==void 0&&i!=null&&P(t,["_query","pageSize"],i);let s=A(e,["pageToken"]);t!==void 0&&s!=null&&P(t,["_query","pageToken"],s);let o=A(e,["filter"]);return t!==void 0&&o!=null&&P(t,["_query","filter"],o),r}function vX(e,t){let n={},r=A(e,["config"]);return r!=null&&gX(r,n),n}function bX(e,t){let n={},r=A(e,["config"]);return r!=null&&yX(r,n),n}function _X(e,t){let n={},r=A(e,["sdkHttpResponse"]);r!=null&&P(n,["sdkHttpResponse"],r);let i=A(e,["nextPageToken"]);i!=null&&P(n,["nextPageToken"],i);let s=A(e,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>L8(a))),P(n,["tuningJobs"],o)}return n}function wX(e,t){let n={},r=A(e,["sdkHttpResponse"]);r!=null&&P(n,["sdkHttpResponse"],r);let i=A(e,["nextPageToken"]);i!=null&&P(n,["nextPageToken"],i);let s=A(e,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>jE(a))),P(n,["tuningJobs"],o)}return n}function EX(e,t){let n={},r=A(e,["name"]);r!=null&&P(n,["model"],r);let i=A(e,["name"]);return i!=null&&P(n,["endpoint"],i),n}function xX(e,t){let n={};if(A(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(A(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let r=A(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),P(n,["examples","examples"],i)}return n}function SX(e,t,n){let r={},i=A(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let o=A(e,["gcsUri"]);t!==void 0&&o!=null&&P(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){let o=A(e,["gcsUri"]);t!==void 0&&o!=null&&P(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let s=A(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){let o=A(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&P(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){let o=A(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&P(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(A(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function L8(e,t){let n={},r=A(e,["sdkHttpResponse"]);r!=null&&P(n,["sdkHttpResponse"],r);let i=A(e,["name"]);i!=null&&P(n,["name"],i);let s=A(e,["state"]);s!=null&&P(n,["state"],y8(s));let o=A(e,["createTime"]);o!=null&&P(n,["createTime"],o);let a=A(e,["tuningTask","startTime"]);a!=null&&P(n,["startTime"],a);let l=A(e,["tuningTask","completeTime"]);l!=null&&P(n,["endTime"],l);let c=A(e,["updateTime"]);c!=null&&P(n,["updateTime"],c);let u=A(e,["description"]);u!=null&&P(n,["description"],u);let d=A(e,["baseModel"]);d!=null&&P(n,["baseModel"],d);let h=A(e,["_self"]);return h!=null&&P(n,["tunedModel"],EX(h)),n}function jE(e,t){let n={},r=A(e,["sdkHttpResponse"]);r!=null&&P(n,["sdkHttpResponse"],r);let i=A(e,["name"]);i!=null&&P(n,["name"],i);let s=A(e,["state"]);s!=null&&P(n,["state"],y8(s));let o=A(e,["createTime"]);o!=null&&P(n,["createTime"],o);let a=A(e,["startTime"]);a!=null&&P(n,["startTime"],a);let l=A(e,["endTime"]);l!=null&&P(n,["endTime"],l);let c=A(e,["updateTime"]);c!=null&&P(n,["updateTime"],c);let u=A(e,["error"]);u!=null&&P(n,["error"],u);let d=A(e,["description"]);d!=null&&P(n,["description"],d);let h=A(e,["baseModel"]);h!=null&&P(n,["baseModel"],h);let f=A(e,["tunedModel"]);f!=null&&P(n,["tunedModel"],f);let p=A(e,["preTunedModel"]);p!=null&&P(n,["preTunedModel"],p);let m=A(e,["supervisedTuningSpec"]);m!=null&&P(n,["supervisedTuningSpec"],m);let g=A(e,["preferenceOptimizationSpec"]);g!=null&&P(n,["preferenceOptimizationSpec"],g);let v=A(e,["tuningDataStats"]);v!=null&&P(n,["tuningDataStats"],v);let x=A(e,["encryptionSpec"]);x!=null&&P(n,["encryptionSpec"],x);let I=A(e,["partnerModelTuningSpec"]);I!=null&&P(n,["partnerModelTuningSpec"],I);let R=A(e,["customBaseModel"]);R!=null&&P(n,["customBaseModel"],R);let $=A(e,["experiment"]);$!=null&&P(n,["experiment"],$);let F=A(e,["labels"]);F!=null&&P(n,["labels"],F);let V=A(e,["outputUri"]);V!=null&&P(n,["outputUri"],V);let U=A(e,["pipelineJob"]);U!=null&&P(n,["pipelineJob"],U);let q=A(e,["serviceAccount"]);q!=null&&P(n,["serviceAccount"],q);let j=A(e,["tunedModelDisplayName"]);j!=null&&P(n,["tunedModelDisplayName"],j);let S=A(e,["veoTuningSpec"]);return S!=null&&P(n,["veoTuningSpec"],S),n}function CX(e,t){let n={},r=A(e,["sdkHttpResponse"]);r!=null&&P(n,["sdkHttpResponse"],r);let i=A(e,["name"]);i!=null&&P(n,["name"],i);let s=A(e,["metadata"]);s!=null&&P(n,["metadata"],s);let o=A(e,["done"]);o!=null&&P(n,["done"],o);let a=A(e,["error"]);return a!=null&&P(n,["error"],a),n}function l8(e,t){let n={},r=A(e,["gcsUri"]);r!=null&&P(n,["validationDatasetUri"],r);let i=A(e,["vertexDatasetResource"]);return i!=null&&P(n,["validationDatasetUri"],i),n}var HE=class extends Eo{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new rl(Jl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);let s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{let i=Object.assign({},n);return await this.tuneInternal(i)}else{let i=Object.assign({},n),s=await this.tuneMldevInternal(i),o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:d8.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=mX(t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>jE(u))}else{let c=pX(t);return a=_t("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>L8(u))}}async listInternal(t){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=bX(t);return a=_t("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=wX(u),h=new k1;return Object.assign(h,d),h})}else{let c=vX(t);return a=_t("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(d=>{let h=d;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{let d=_X(u),h=new k1;return Object.assign(h,d),h})}}async cancel(t){var n,r,i,s;let o="",a={};if(this.apiClient.isVertexAI()){let l=cX(t);o=_t("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{let l=lX(t);o=_t("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=hX(t,t);return s=_t("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>jE(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=fX(t);return s=_t("tunedModels",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>CX(l))}}};var zE=class{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},TX=1024*1024*8,IX=3,AX=1e3,kX=2,O1="x-goog-upload-status";async function DX(e,t,n){var r;let i=await F8(e,t,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[O1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function MX(e,t,n){var r;let i=await F8(e,t,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[O1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let o=u8(s),a=new bE;return Object.assign(a,o),a}async function F8(e,t,n){var r,i;let s=0,o=0,a=new Ep(new Response),l="upload";for(s=e.size;o<s;){let c=Math.min(TX,s-o),u=e.slice(o,o+c);o+c>=s&&(l+=", finalize");let d=0,h=AX;for(;d<IX&&(a=await n.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(c)}}}),!(!((r=a?.headers)===null||r===void 0)&&r[O1]));)d++,await RX(h),h=h*kX;if(o+=c,((i=a?.headers)===null||i===void 0?void 0:i[O1])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function NX(e){return{size:e.size,type:e.type}}function RX(e){return new Promise(t=>setTimeout(t,e))}var qE=class{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await DX(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await MX(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await NX(t)}};var $E=class{create(t,n,r){return new WE(t,n,r)}},WE=class{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var c8="x-goog-api-key",GE=class{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(c8)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(c8,this.apiKey)}}};var PX="gl-node/",L1=class{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;let r=$W(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;let i=new GE(this.apiKey);this.apiClient=new DE({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:PX+"web",uploader:new qE,downloader:new zE}),this.models=new LE(this.apiClient),this.live=new PE(this.apiClient,i,new $E),this.batches=new EE(this.apiClient),this.chats=new SE(this.models,this.apiClient),this.caches=new xE(this.apiClient),this.files=new TE(this.apiClient),this.operations=new FE(this.apiClient),this.authTokens=new BE(this.apiClient),this.tunings=new HE(this.apiClient),this.fileSearchStores=new VE(this.apiClient)}};var Ud={production:!1,firebase:{apiKey:"AIzaSyBWFB68YUKo6BJ6sOcI9ToyINvZ8QhO8nI",authDomain:"sample-firebase-ai-app-c84d2.firebaseapp.com",databaseURL:"https://sample-firebase-ai-app-c84d2-default-rtdb.firebaseio.com",projectId:"sample-firebase-ai-app-c84d2",storageBucket:"sample-firebase-ai-app-c84d2.firebasestorage.app",messagingSenderId:"572595334513",appId:"1:572595334513:web:d1d78bc8de1f2ceadc9ad0"},geminiApiKey:""};var Vd=(()=>{class e{constructor(){this.ai=null,this.isConfigured=!1,Ud.geminiApiKey&&Ud.geminiApiKey!==""?(this.ai=new L1({apiKey:Ud.geminiApiKey}),this.isConfigured=!0):console.warn("\u26A0\uFE0F Gemini API Key no configurada. Las funciones de IA no estar\xE1n disponibles.")}async analyzeMaintenanceHistory(n,r){if(!this.isConfigured||!this.ai)return'<p class="text-amber-400">\u26A0\uFE0F Servicio de IA no disponible. Configure la API Key de Gemini.</p>';try{let i=`
        Act\xFAa como Analista de Mantenimiento Predictivo con especializaci\xF3n en Machine Learning aplicado a activos industriales.

        ENTRADA DE DATOS:
        Activo: ${n.brand} ${n.model} (ID: ${n.id})
        Historial de Fallas:
        ${JSON.stringify(r.map(o=>({fecha:o.entryDate,tipo:o.type,componente:o.failureDescription,severidad:o.estimatedCost>2e3?"Alta":"Media"})))}

        AN\xC1LISIS REQUERIDO:
        1. \u{1F52E} DETECCI\xD3N DE PATRONES: Identifica fallas recurrentes y calcula MTBF aproximado.
        2. \u{1F4C8} PREDICCI\xD3N: Estima qu\xE9 componente tiene mayor probabilidad de fallar pr\xF3ximamente.
        3. \u2699\uFE0F RECOMENDACIONES: Sugiere inspecciones o reemplazos preventivos.

        FORMATO DE SALIDA:
        HTML limpio (sin markdown \`\`\`html). Usa iconos y negritas.
        Estructura:
        <div class="space-y-4">
          <div><h4 class="font-bold text-red-400">\u{1F52E} Patrones Detectados</h4>...</div>
          <div><h4 class="font-bold text-orange-400">\u26A0\uFE0F Riesgo Inminente</h4>...</div>
          <div><h4 class="font-bold text-green-400">\u2705 Acci\xF3n Recomendada</h4>...</div>
        </div>
      `;return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:i})).text||"<p>Datos insuficientes para predicci\xF3n.</p>"}catch(i){return console.error("Gemini Error:",i),'<p class="text-red-500">Error conectando con el servicio de IA.</p>'}}async generateExecutiveReport(n,r,i){if(!this.isConfigured||!this.ai)return'<p class="text-amber-400">\u26A0\uFE0F Servicio de IA no disponible. Configure la API Key de Gemini.</p>';try{let s=`
        Analiza el estado actual de AssetGuard CMMS y genera un resumen ejecutivo profesional para Gerencia de Operaciones.

        DATOS:
        - Disponibilidad: ${i.percentage}% (Meta: 95%)
        - MTTR Promedio: ${n.mttr} horas
        - Gasto Mes: $${n.totalCostMonth} USD
        - Equipos Detenidos (Top 3): ${JSON.stringify(r.slice(0,3).map(a=>`${a.economico} (${a.falla})`))}

        ESTRUCTURA DEL REPORTE (HTML simple para renderizar):

        <h3>\u{1F4CA} 1. KPIs DE DISPONIBILIDAD</h3>
        <p>Resumen de estado vs meta.</p>

        <h3>\u{1F534} 2. AN\xC1LISIS DE PARETO (Top Problemas)</h3>
        <p>Menciona los equipos cr\xEDticos detenidos actualmente.</p>

        <h3>\u{1F4A1} 3. RECOMENDACIONES ESTRAT\xC9GICAS</h3>
        <ul>
          <li>Acci\xF3n 1 para reducir downtime</li>
          <li>Acci\xF3n 2 para optimizar costos</li>
        </ul>

        <h3>\u26A0\uFE0F 4. ALERTAS CR\xCDTICAS</h3>
        <p>Si disponibilidad < 90%, resalta urgencia.</p>

        TONO: Profesional, directo, espa\xF1ol mexicano empresarial. Sin saludos.
      `;return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:s})).text||"No se pudo generar el reporte ejecutivo."}catch(s){return console.error("Gemini Error:",s),"Error conectando con IA para el reporte."}}async generateLotoProcedure(n,r){if(!this.isConfigured||!this.ai)return'<p class="text-amber-400">\u26A0\uFE0F Servicio de IA no disponible. Configure la API Key de Gemini.</p>';try{let i=`
        Act\xFAa como Ingeniero de Seguridad Industrial certificado en LOTO (NOM-004-STPS-1999).
        Genera un procedimiento de bloqueo/etiquetado para:
        Equipo: ${n.brand} ${n.model} (${n.fuelType})
        Tarea: Reparaci\xF3n de ${r}

        ESTRUCTURA HTML (Lista de verificaci\xF3n):
        <div class="loto-card">
          <h3 class="text-red-600 font-bold mb-2">\u{1F6A8} IDENTIFICACI\xD3N DE PELIGROS</h3>
          [Lista de energ\xEDas peligrosas: El\xE9ctrica, Hidr\xE1ulica, etc.]

          <h3 class="text-blue-600 font-bold mt-4 mb-2">\u{1F512} SECUENCIA DE BLOQUEO</h3>
          <ol class="list-decimal pl-4 space-y-2">
            <li>Paso 1...</li>
            <li>Paso 2...</li>
          </ol>

          <h3 class="text-green-600 font-bold mt-4 mb-2">\u2705 VERIFICACI\xD3N ENERG\xCDA CERO</h3>
          [C\xF3mo verificar que es seguro trabajar]
        </div>

        Resalta ADVERTENCIAS DE SEGURIDAD en negritas.
      `;return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:i})).text||"Error generando LOTO."}catch{return"<p>No disponible.</p>"}}async analyzeImageInspection(n){if(!this.isConfigured||!this.ai)return console.warn("\u26A0\uFE0F Servicio de IA no disponible."),null;try{let i=await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:[{inlineData:{mimeType:"image/jpeg",data:n}},{text:`
        Analiza esta imagen capturada por un operador en planta industrial. Act\xFAa como Inspector de Mantenimiento Certificado.

        IDENTIFICA CON PRECISI\xD3N:
        1. Componente afectado
        2. Tipo de da\xF1o visible
        3. Nivel de severidad (BAJA, MEDIA, ALTA, CR\xCDTICA)
        4. Posible causa ra\xEDz
        5. Refacciones estimadas

        FORMATO DE RESPUESTA:
        Responde \xDANICAMENTE con un objeto JSON v\xE1lido siguiendo esta estructura exacta:
        {
          "inspection": {
            "timestamp": "ISO string",
            "asset": { "component_affected": "String", "visual_condition": "String" },
            "damage_analysis": { "damage_type": "String", "visible_signs": ["String"], "affected_area_percentage": "String" },
            "severity": { "level": "String", "risk_score": "String", "safety_impact": "String", "operational_impact": "String" },
            "root_cause_analysis": { "probable_cause": "String", "why_analysis": "String" },
            "immediate_actions": { "safety_measures": ["String"] },
            "repair_plan": {
              "estimated_parts": [{ "part_name": "String", "generic_code": "String", "quantity": "String" }],
              "estimated_mttr_hours": "String",
              "estimated_cost_usd": { "min": number, "max": number }
            }
          }
        }
      `}],config:{responseMimeType:"application/json"}});return i.text?JSON.parse(i.text):null}catch(r){return console.error("Vision Error:",r),null}}async generateDailySummary(n,r,i){return this.generateExecutiveReport({availability:n.percentage,mttr:4.5,totalCostMonth:12500,budgetMonth:15e3},r,n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=wn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Q8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eM=Q8,tM=new Xa("auth","Firebase",Q8());var $1=new Hl("@firebase/auth");function OX(e,...t){$1.logLevel<=ir.WARN&&$1.warn(`Auth (${$l}): ${e}`,...t)}function j1(e,...t){$1.logLevel<=ir.ERROR&&$1.error(`Auth (${$l}): ${e}`,...t)}function ea(e,...t){throw xx(e,...t)}function lu(e,...t){return xx(e,...t)}function nM(e,t,n){let r=Yt(ct({},eM()),{[t]:n});return new Xa("auth","Firebase",r).create(t,{appName:e.name})}function al(e){return nM(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xx(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return tM.create(e,...t)}function en(e,t,...n){if(!e)throw xx(t,...n)}function sl(e){let t="INTERNAL ASSERTION FAILED: "+e;throw j1(t),new Error(t)}function ec(e,t){e||sl(t)}function nx(){return typeof self<"u"&&self.location?.href||""}function LX(){return B8()==="http:"||B8()==="https:"}function B8(){return typeof self<"u"&&self.location?.protocol||null}function FX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LX()||B6()||"connection"in navigator)?navigator.onLine:!0}function BX(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var cu=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,ec(n>t,"Short delay should be less than long delay!"),this.isMobile=Hh()||B0()}get(){return FX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Sx(e,t){ec(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var W1=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var UX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var VX=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jX=new cu(3e4,6e4);function tc(e,t){return e.tenantId&&!t.tenantId?Yt(ct({},t),{tenantId:e.tenantId}):t}async function ll(e,t,n,r,i={}){return rM(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});let a=Jc(ct({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);let c=ct({method:t,headers:l},s);return F6()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&jl(e.emulatorConfig.host)&&(c.credentials="include"),W1.fetch()(await iM(e,e.config.apiHost,n,a),c)})}async function rM(e,t,n){e._canInitEmulator=!1;let r=ct(ct({},UX),t);try{let i=new rx(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw V1(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw V1(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw V1(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw V1(e,"user-disabled",o);let u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw nM(e,u,c);ea(e,u)}}catch(i){if(i instanceof go)throw i;ea(e,"network-request-failed",{message:String(i)})}}async function Dp(e,t,n,r,i={}){let s=await ll(e,t,n,r,i);return"mfaPendingCredential"in s&&ea(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function iM(e,t,n,r){let i=`${t}${n}?${r}`,s=e,o=s.config.emulator?Sx(e.config,i):`${e.config.apiScheme}://${i}`;return VX.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function HX(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var rx=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lu(this.auth,"network-request-failed")),jX.get())})}};function V1(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=lu(e,t,r);return i.customData._tokenResponse=n,i}function U8(e){return e!==void 0&&e.enterprise!==void 0}var ix=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return HX(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function zX(e,t){return ll(e,"GET","/v2/recaptchaConfig",tc(e,t))}async function qX(e,t){return ll(e,"POST","/v1/accounts:delete",t)}async function G1(e,t){return ll(e,"POST","/v1/accounts:lookup",t)}function Sp(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sM(e,t=!1){let n=_i(e),r=await n.getIdToken(t),i=Cx(r);en(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Sp(QE(i.auth_time)),issuedAtTime:Sp(QE(i.iat)),expirationTime:Sp(QE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function QE(e){return Number(e)*1e3}function Cx(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return j1("JWT malformed, contained fewer than 3 sections"),null;try{let i=fd(n);return i?JSON.parse(i):(j1("Failed to decode base64 JWT payload"),null)}catch(i){return j1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function V8(e){let t=Cx(e);return en(t,"internal-error"),en(typeof t.exp<"u","internal-error"),en(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jd(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof go&&$X(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function $X({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var sx=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Tp=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sp(this.lastLoginAt),this.creationTime=Sp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function K1(e){let t=e.auth,n=await e.getIdToken(),r=await jd(e,G1(t,{idToken:n}));en(r?.users.length,t,"internal-error");let i=r.users[0];e._notifyReloadListener(i);let s=i.providerUserInfo?.length?aM(i.providerUserInfo):[],o=WX(e.providerData,s),a=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!o?.length,c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Tp(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function oM(e){let t=_i(e);await K1(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function WX(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function aM(e){return e.map(r=>{var i=r,{providerId:t}=i,n=Fu(i,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function GX(e,t){let n=await rM(e,{},async()=>{let r=Jc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await iM(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return e.emulatorConfig&&jl(e.emulatorConfig.host)&&(l.credentials="include"),W1.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KX(e,t){return ll(e,"POST","/v2/accounts:revokeToken",tc(e,t))}var Cp=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){en(t.idToken,"internal-error"),en(typeof t.idToken<"u","internal-error"),en(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):V8(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){en(t.length!==0,"internal-error");let n=V8(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(en(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){let{accessToken:r,refreshToken:i,expiresIn:s}=await GX(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new e;return r&&(en(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(en(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(en(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return sl("not implemented")}};function Xl(e,t){en(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Ql=class e{constructor(s){var o=s,{uid:t,auth:n,stsTokenManager:r}=o,i=Fu(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Tp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){let n=await jd(this,this.stsTokenManager.getToken(this.auth,t));return en(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return sM(this,t)}reload(){return oM(this)}_assign(t){this!==t&&(en(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>ct({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Yt(ct({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){en(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await K1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(al(this.auth));let t=await this.getIdToken();return await jd(this,qX(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Yt(ct({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>ct({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:f,providerData:p,stsTokenManager:m}=n;en(d&&m,t,"internal-error");let g=Cp.fromJSON(this.name,m);en(typeof d=="string",t,"internal-error"),Xl(r,t.name),Xl(i,t.name),en(typeof h=="boolean",t,"internal-error"),en(typeof f=="boolean",t,"internal-error"),Xl(s,t.name),Xl(o,t.name),Xl(a,t.name),Xl(l,t.name),Xl(c,t.name),Xl(u,t.name);let v=new e({uid:d,auth:t,email:i,emailVerified:h,displayName:r,isAnonymous:f,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:g,createdAt:c,lastLoginAt:u});return p&&Array.isArray(p)&&(v.providerData=p.map(x=>ct({},x))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(t,n,r=!1){let i=new Cp;i.updateFromServerResponse(n);let s=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await K1(s),s}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];en(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?aM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Cp;a.updateFromIdToken(r);let l=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Tp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l}};var j8=new Map;function ol(e){ec(e instanceof Function,"Expected a class definition");let t=j8.get(e);return t?(ec(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,j8.set(e,t),t)}var YX=(()=>{class e{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),ox=YX;function H1(e,t,n){return`firebase:${e}:${t}:${n}`}var Y1=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=H1(this.userKey,i.apiKey,s),this.fullPersistenceKey=H1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){let t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=await G1(this.auth,{idToken:t}).catch(()=>{});return n?Ql._fromGetAccountInfoResponse(this.auth,n,t):null}return Ql._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new e(ol(ox),t,r);let i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c),s=i[0]||ol(ox),o=H1(r,t.config.apiKey,t.name),a=null;for(let c of n)try{let u=await c._get(o);if(u){let d;if(typeof u=="string"){let h=await G1(t,{idToken:u}).catch(()=>{});if(!h)break;d=await Ql._fromGetAccountInfoResponse(t,h,u)}else d=Ql._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new e(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new e(s,t,r))}};function H8(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hM(t))return"Blackberry";if(pM(t))return"Webos";if(cM(t))return"Safari";if((t.includes("chrome/")||uM(t))&&!t.includes("edge/"))return"Chrome";if(fM(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function lM(e=Ri()){return/firefox\//i.test(e)}function cM(e=Ri()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uM(e=Ri()){return/crios\//i.test(e)}function dM(e=Ri()){return/iemobile/i.test(e)}function fM(e=Ri()){return/android/i.test(e)}function hM(e=Ri()){return/blackberry/i.test(e)}function pM(e=Ri()){return/webos/i.test(e)}function Tx(e=Ri()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ZX(e=Ri()){return Tx(e)&&!!window.navigator?.standalone}function JX(){return U6()&&document.documentMode===10}function mM(e=Ri()){return Tx(e)||fM(e)||pM(e)||hM(e)||/windows phone/i.test(e)||dM(e)}function gM(e,t=[]){let n;switch(e){case"Browser":n=H8(Ri());break;case"Worker":n=`${H8(Ri())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$l}/${r}`}var ax=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=s=>new Promise((o,a)=>{try{let l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function XX(e,t={}){return ll(e,"GET","/v2/passwordPolicy",tc(e,t))}var QX=6,lx=class{constructor(t){let n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QX,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var cx=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z1(this),this.idTokenSubscription=new Z1(this),this.beforeStateQueue=new ax(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ol(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Y1.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{let n=await G1(this,{idToken:t}),r=await Ql._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(fs(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(t);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return en(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await K1(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BX()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fs(this.app))return Promise.reject(al(this));let n=t?_i(t):null;return n&&en(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&en(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(al(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fs(this.app)?Promise.reject(al(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ol(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let t=await XX(this),n=new lx(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xa("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KX(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){let r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){let n=t&&ol(t)||this._popupRedirectResolver;en(n,this,"argument-error"),this.redirectPersistenceManager=await Y1.create(this,[ol(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(en(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return en(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=gM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&OX(`Error while retrieving App Check token: ${t.error}`),t?.token}};function du(e){return _i(e)}var Z1=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=$6(n=>this.observer=n)}get next(){return en(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ry={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eQ(e){ry=e}function yM(e){return ry.loadJS(e)}function tQ(){return ry.recaptchaEnterpriseScript}function nQ(){return ry.gapiScript}function vM(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var ux=class{constructor(){this.enterprise=new dx}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}},dx=class{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}};var rQ="recaptcha-enterprise",bM="NO_RECAPTCHA",fx=class{constructor(t){this.type=rQ,this.auth=du(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{zX(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new ix(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){let l=window.grecaptcha;U8(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o(bM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ux().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&U8(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tQ();l.length!==0&&(l+=a),yM(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}};async function xp(e,t,n,r=!1,i=!1){let s=new fx(e),o;if(i)o=bM;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}let a=ct({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function hx(e,t,n,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=await xp(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=await xp(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let s=await xp(e,t,n);return r(e,s).catch(async o=>{if(e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(o.code==="auth/missing-recaptcha-token"||o.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let a=await xp(e,t,n,!1,!0);return r(e,a)}return Promise.reject(o)})}else{let s=await xp(e,t,n,!1,!0);return r(e,s)}else return Promise.reject(i+" provider is not supported.")}function _M(e,t){let n=Zh(e,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Yo(s,t??{}))return i;ea(i,"already-initialized")}return n.initialize({options:t})}function iQ(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ol);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function wM(e,t,n){let r=du(e);en(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=EM(t),{host:o,port:a}=sQ(t),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){en(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),en(Yo(c,r.config.emulator)&&Yo(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,jl(o)?(L0(`${s}//${o}${l}`),F0("Auth",!0)):i||oQ()}function EM(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sQ(e){let t=EM(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:z8(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:z8(o)}}}function z8(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function oQ(){function e(){let t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var Ip=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return sl("not implemented")}_getIdTokenResponse(t){return sl("not implemented")}_linkToIdToken(t,n){return sl("not implemented")}_getReauthenticationResolver(t){return sl("not implemented")}};async function aQ(e,t){return ll(e,"POST","/v1/accounts:signUp",t)}async function lQ(e,t){return Dp(e,"POST","/v1/accounts:signInWithPassword",tc(e,t))}async function cQ(e,t){return Dp(e,"POST","/v1/accounts:signInWithEmailLink",tc(e,t))}async function uQ(e,t){return Dp(e,"POST","/v1/accounts:signInWithEmailLink",tc(e,t))}var Ap=class e extends Ip{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new e(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new e(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hx(t,n,"signInWithPassword",lQ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return cQ(t,{email:this._email,oobCode:this._password});default:ea(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hx(t,r,"signUpPassword",aQ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return uQ(t,{idToken:n,email:this._email,oobCode:this._password});default:ea(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};async function ex(e,t){return Dp(e,"POST","/v1/accounts:signInWithIdp",tc(e,t))}function dQ(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fQ(e){let t=pd(md(e)).link,n=t?pd(md(t)).deep_link_id:null,r=pd(md(e)).deep_link_id;return(r?pd(md(r)).link:null)||r||n||t||e}var J1=class e{constructor(t){let n=pd(md(t)),r=n.apiKey??null,i=n.oobCode??null,s=dQ(n.mode??null);en(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){let n=fQ(t);try{return new e(n)}catch{return null}}};var xM=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,r){return Ap._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=J1.parseLink(r);return en(i,"argument-error"),Ap._fromEmailAndCode(n,i.code,i.tenantId)}}e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return e})(),X1=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var px=class extends X1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};async function hQ(e,t){return Dp(e,"POST","/v1/accounts:signUp",tc(e,t))}var Hd=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){let s=await Ql._fromIdTokenResponse(t,r,i),o=q8(r);return new e({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);let i=q8(r);return new e({user:t,providerId:i,_tokenResponse:r,operationType:n})}};function q8(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var mx=class e extends go{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function SM(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mx._fromErrorAndOperation(e,s,t,r):s})}async function pQ(e,t,n=!1){let r=await jd(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Hd._forOperation(e,"link",r)}async function mQ(e,t,n=!1){let{auth:r}=e;if(fs(r.app))return Promise.reject(al(r));let i="reauthenticate";try{let s=await jd(e,SM(r,i,t,e),n);en(s.idToken,r,"internal-error");let o=Cx(s.idToken);en(o,r,"internal-error");let{sub:a}=o;return en(e.uid===a,r,"user-mismatch"),Hd._forOperation(e,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ea(r,"user-mismatch"),s}}async function CM(e,t,n=!1){if(fs(e.app))return Promise.reject(al(e));let r="signIn",i=await SM(e,r,t),s=await Hd._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function TM(e,t){return CM(du(e),t)}async function IM(e){let t=du(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ix(e,t,n){if(fs(e.app))return Promise.reject(al(e));let r=du(e),o=await hx(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hQ,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&IM(e),l}),a=await Hd._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Ax(e,t,n){return fs(e.app)?Promise.reject(al(e)):TM(_i(e),xM.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IM(e),r})}async function gQ(e,t){return ll(e,"POST","/v1/accounts:update",t)}async function kx(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;let r=_i(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await jd(r,gQ(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;let a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function AM(e,t,n,r){return _i(e).onIdTokenChanged(t,n,r)}function kM(e,t,n){return _i(e).beforeAuthStateChanged(t,n)}function Dx(e,t,n,r){return _i(e).onAuthStateChanged(t,n,r)}function Mx(e){return _i(e).signOut()}var Q1="__sak";var ey=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Q1,"1"),this.storage.removeItem(Q1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var yQ=1e3,vQ=10,bQ=(()=>{class e extends ey{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);JX()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,vQ):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},yQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return e.type="LOCAL",e})(),DM=bQ;var _Q=(()=>{class e extends ey{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})(),Nx=_Q;function wQ(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}var EQ=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(async u=>u(r.origin,o)),c=await wQ(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function MM(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}var gx=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=MM("",20);i.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function Qo(){return window}function xQ(e){Qo().location.href=e}function NM(){return typeof Qo().WorkerGlobalScope<"u"&&typeof Qo().importScripts=="function"}async function SQ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CQ(){return navigator?.serviceWorker?.controller||null}function TQ(){return NM()?self:null}var RM="firebaseLocalStorageDb",IQ=1,ty="firebaseLocalStorage",PM="fbase_key",uu=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function iy(e,t){return e.transaction([ty],t?"readwrite":"readonly").objectStore(ty)}function AQ(){let e=indexedDB.deleteDatabase(RM);return new uu(e).toPromise()}function yx(){let e=indexedDB.open(RM,IQ);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let r=e.result;try{r.createObjectStore(ty,{keyPath:PM})}catch(i){n(i)}}),e.addEventListener("success",async()=>{let r=e.result;r.objectStoreNames.contains(ty)?t(r):(r.close(),await AQ(),t(await yx()))})})}async function $8(e,t,n){let r=iy(e,!0).put({[PM]:t,value:n});return new uu(r).toPromise()}async function kQ(e,t){let n=iy(e,!1).get(t),r=await new uu(n).toPromise();return r===void 0?null:r.value}function W8(e,t){let n=iy(e,!0).delete(t);return new uu(n).toPromise()}var DQ=800,MQ=3,NQ=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yx(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>MQ)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=EQ._getInstance(TQ()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SQ(),!this.activeServiceWorker)return;this.sender=new gx(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||CQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await yx();return await $8(n,Q1,"1"),await W8(n,Q1),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>$8(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>kQ(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W8(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(s=>{let o=iy(s,!1).getAll();return new uu(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),OM=NQ;var Mme=vM("rcb"),Nme=new cu(3e4,6e4);function RQ(e,t){return t?ol(t):(en(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var kp=class extends Ip{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ex(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ex(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ex(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function PQ(e){return CM(e.auth,new kp(e),e.bypassAuthState)}function OQ(e){let{auth:t,user:n}=e;return en(n,t,"internal-error"),mQ(n,new kp(e),e.bypassAuthState)}async function LQ(e){let{auth:t,user:n}=e;return en(n,t,"internal-error"),pQ(n,new kp(e),e.bypassAuthState)}var vx=class{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return PQ;case"linkViaPopup":case"linkViaRedirect":return LQ;case"reauthViaPopup":case"reauthViaRedirect":return OQ;default:ea(this.auth,"internal-error")}}resolve(t){ec(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ec(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Rme=new cu(2e3,1e4);var FQ="pendingRedirect",z1=new Map,bx=class extends vx{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=z1.get(this.auth._key());if(!t){try{let r=await BQ(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}z1.set(this.auth._key(),t)}return this.bypassAuthState||z1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function BQ(e,t){let n=jQ(t),r=VQ(e);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function UQ(e,t){z1.set(e._key(),t)}function VQ(e){return ol(e._redirectPersistence)}function jQ(e){return H1(FQ,e.config.apiKey,e.name)}async function HQ(e,t,n=!1){if(fs(e.app))return Promise.reject(al(e));let r=du(e),i=RQ(r,t),o=await new bx(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}var zQ=10*60*1e3,_x=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qQ(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!LM(t)){let r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(lu(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(G8(t))}saveEventToCache(t){this.cachedEventUids.add(G8(t)),this.lastProcessedEventTime=Date.now()}};function G8(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function LM({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function qQ(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LM(e);default:return!1}}async function $Q(e,t={}){return ll(e,"GET","/v1/projects",t)}var WQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GQ=/^https?/;async function KQ(e){if(e.config.emulator)return;let{authorizedDomains:t}=await $Q(e);for(let n of t)try{if(YQ(n))return}catch{}ea(e,"unauthorized-domain")}function YQ(e){let t=nx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GQ.test(n))return!1;if(WQ.test(e))return r===e;let i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var ZQ=new cu(3e4,6e4);function K8(){let e=Qo().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function JQ(e){return new Promise((t,n)=>{function r(){K8(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{K8(),n(lu(e,"network-request-failed"))},timeout:ZQ.get()})}if(Qo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Qo().gapi?.load)r();else{let i=vM("iframefcb");return Qo()[i]=()=>{gapi.load?r():n(lu(e,"network-request-failed"))},yM(`${nQ()}?onload=${i}`).catch(s=>n(s))}}).catch(t=>{throw q1=null,t})}var q1=null;function XQ(e){return q1=q1||JQ(e),q1}var QQ=new cu(5e3,15e3),eee="__/auth/iframe",tee="emulator/auth/iframe",nee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ree=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iee(e){let t=e.config;en(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?Sx(t,tee):`https://${e.config.authDomain}/${eee}`,r={apiKey:t.apiKey,appName:e.name,v:$l},i=ree.get(e.config.apiHost);i&&(r.eid=i);let s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jc(r).slice(1)}`}async function see(e){let t=await XQ(e),n=Qo().gapi;return en(n,e,"internal-error"),t.open({where:document.body,url:iee(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nee,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=lu(e,"network-request-failed"),a=Qo().setTimeout(()=>{s(o)},QQ.get());function l(){Qo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}var oee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aee=500,lee=600,cee="_blank",uee="http://localhost",ny=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function dee(e,t,n,r=aee,i=lee){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Yt(ct({},oee),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ri().toLowerCase();n&&(a=uM(c)?cee:n),lM(c)&&(t=t||uee,l.scrollbars="yes");let u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(ZX(c)&&a!=="_self")return fee(t||"",a),new ny(null);let d=window.open(t||"",a,u);en(d,e,"popup-blocked");try{d.focus()}catch{}return new ny(d)}function fee(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var hee="__/auth/handler",pee="emulator/auth/handler",mee=encodeURIComponent("fac");async function Y8(e,t,n,r,i,s){en(e.config.authDomain,e,"auth-domain-config-required"),en(e.config.apiKey,e,"invalid-api-key");let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$l,eventId:i};if(t instanceof X1){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",zh(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(t instanceof px){let u=t.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=await e._getAppCheckToken(),c=l?`#${mee}=${encodeURIComponent(l)}`:"";return`${gee(e)}?${Jc(a).slice(1)}${c}`}function gee({config:e}){return e.emulator?Sx(e,pee):`https://${e.authDomain}/${hee}`}var tx="webStorageSupport",wx=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nx,this._completeRedirectFn=HQ,this._overrideRedirectResult=UQ}async _openPopup(t,n,r,i){ec(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");let s=await Y8(t,n,r,nx(),i);return dee(t,s,MM())}async _openRedirect(t,n,r,i){await this._originValidation(t);let s=await Y8(t,n,r,nx(),i);return xQ(s),new Promise(()=>{})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ec(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){let n=await see(t),r=new _x(t);return n.register("authEvent",i=>(en(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(tx,{type:tx},i=>{let s=i?.[0]?.[tx];s!==void 0&&n(!!s),ea(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KQ(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return mM()||cM()||Tx()}},FM=wx;var Z8="@firebase/auth",J8="1.12.0";var Ex=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){en(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function yee(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vee(e){ql(new Ys("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;en(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gM(e)},c=new cx(r,i,s,l);return iQ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ql(new Ys("auth-internal",t=>{let n=du(t.getProvider("auth").getImmediate());return(r=>new Ex(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vo(Z8,J8,yee(e)),vo(Z8,J8,"esm2020")}var bee=5*60,_ee=uw("authIdTokenMaxAge")||bee,X8=null,wee=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_ee)return;let i=n?.token;X8!==i&&(X8=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Rx(e=gd()){let t=Zh(e,"auth");if(t.isInitialized())return t.getImmediate();let n=_M(e,{popupRedirectResolver:FM,persistence:[OM,DM,Nx]}),r=uw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=wee(s.toString());kM(n,o,()=>o(n.currentUser)),AM(n,a=>o(a))}}let i=lw("auth");return i&&wM(n,`http://${i}`),n}function Eee(){return document.getElementsByTagName("head")?.[0]??document}eQ({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let s=lu("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Eee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vee("Browser");var sy=(()=>{class e{constructor(){this.app=sk().length>0?gd():Jh(Ud.firebase),this.auth=Rx(this.app),this.currentUser=rn(null),this.isLoading=rn(!0),this.error=rn(null),this.isAuthenticated=vn(()=>this.currentUser()!==null),Dx(this.auth,n=>{n?this.currentUser.set({uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL}):this.currentUser.set(null),this.isLoading.set(!1)})}async login(n,r){this.error.set(null),this.isLoading.set(!0);try{let i=await Ax(this.auth,n,r);return this.currentUser.set({uid:i.user.uid,email:i.user.email,displayName:i.user.displayName,photoURL:i.user.photoURL}),this.isLoading.set(!1),!0}catch(i){return this.handleAuthError(i),this.isLoading.set(!1),!1}}async register(n,r,i){this.error.set(null),this.isLoading.set(!0);try{let s=await Ix(this.auth,n,r);return await kx(s.user,{displayName:i}),this.currentUser.set({uid:s.user.uid,email:s.user.email,displayName:i,photoURL:s.user.photoURL}),this.isLoading.set(!1),!0}catch(s){return this.handleAuthError(s),this.isLoading.set(!1),!1}}async logout(){try{await Mx(this.auth),this.currentUser.set(null)}catch(n){console.error("Error al cerrar sesi\xF3n:",n)}}handleAuthError(n){let r=n.code,i="Error desconocido. Intenta de nuevo.";switch(r){case"auth/invalid-email":i="El correo electr\xF3nico no es v\xE1lido.";break;case"auth/user-disabled":i="Esta cuenta ha sido deshabilitada.";break;case"auth/user-not-found":i="No existe una cuenta con este correo.";break;case"auth/wrong-password":i="Contrase\xF1a incorrecta.";break;case"auth/invalid-credential":i="Credenciales inv\xE1lidas. Verifica tu correo y contrase\xF1a.";break;case"auth/email-already-in-use":i="Ya existe una cuenta con este correo.";break;case"auth/weak-password":i="La contrase\xF1a debe tener al menos 6 caracteres.";break;case"auth/too-many-requests":i="Demasiados intentos. Espera un momento.";break}this.error.set(i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=wn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var BM=(()=>{class e{constructor(){this.title="",this.subtitle="",this.value="",this.unit="",this.status="neutral",this.statusText="",this.footerLabel="",this.footerValue="",this.trendLabel="",this.containerClasses=vn(()=>"bg-white dark:bg-slate-900/60 border-slate-200 dark:border-slate-700/60"),this.badgeClasses=vn(()=>{let n="inline-flex items-center gap-1.5 rounded-full text-[10px] font-bold px-2.5 py-1 border backdrop-blur-sm ";switch(this.status){case"success":return n+"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-500/10 dark:text-emerald-300 dark:border-emerald-500/40";case"warning":return n+"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-500/10 dark:text-amber-300 dark:border-amber-500/40";case"danger":return n+"bg-red-50 text-red-700 border-red-200 dark:bg-red-500/10 dark:text-red-300 dark:border-red-500/40";case"info":return n+"bg-sky-50 text-sky-700 border-sky-200 dark:bg-sky-500/10 dark:text-sky-300 dark:border-sky-500/40";default:return n+"bg-slate-50 text-slate-600 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}}),this.dotColor=vn(()=>{switch(this.status){case"success":return"bg-emerald-500";case"warning":return"bg-amber-500";case"danger":return"bg-red-500";case"info":return"bg-sky-500";default:return"bg-slate-400"}}),this.trendClass=vn(()=>this.trendLabel.includes("+")&&this.status==="success"?"text-emerald-600 dark:text-emerald-400 font-medium":this.trendLabel.includes("-")&&this.status==="danger"?"text-red-600 dark:text-red-400 font-medium":this.status==="warning"?"text-amber-600 dark:text-amber-400 font-medium":"text-emerald-600 dark:text-emerald-400 font-medium")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ui({type:e,selectors:[["app-kpi-card"]],inputs:{title:"title",subtitle:"subtitle",value:"value",unit:"unit",status:"status",statusText:"statusText",footerLabel:"footerLabel",footerValue:"footerValue",trendLabel:"trendLabel"},decls:23,vars:15,consts:[[1,"h-full","rounded-2xl","border","shadow-lg","p-4","flex","flex-col","gap-3","transition-all","hover:shadow-xl","relative","overflow-hidden","group",3,"ngClass"],[1,"absolute","inset-0","bg-gradient-to-br","from-white/5","to-transparent","pointer-events-none"],[1,"flex","items-start","justify-between","relative","z-10"],[1,"text-sm","font-medium","text-slate-500","dark:text-slate-300"],[1,"text-xs","text-slate-400","mt-0.5"],[1,"flex","items-baseline","gap-2","mt-1","relative","z-10"],[1,"text-3xl","font-bold","tracking-tight","text-slate-800","dark:text-slate-50"],[1,"text-xs","font-bold","text-slate-400","uppercase","tracking-wide"],[1,"mt-auto","flex","items-center","justify-between","text-xs","text-slate-500","dark:text-slate-400","pt-3","border-t","border-slate-100","dark:border-slate-700/50","relative","z-10"],[1,"text-slate-700","dark:text-slate-200","font-medium"]],template:function(r,i){r&1&&(ae(0,"article",0),We(1,"div",1),ae(2,"header",2)(3,"div")(4,"h2",3),we(5),ue(),ae(6,"p",4),we(7),ue()(),ae(8,"span"),We(9,"span"),we(10),ue()(),ae(11,"div",5)(12,"span",6),we(13),ue(),ae(14,"span",7),we(15),ue()(),ae(16,"footer",8)(17,"span"),we(18),ae(19,"span",9),we(20),ue()(),ae(21,"span"),we(22),ue()()()),r&2&&(Qn("ngClass",i.containerClasses()),Me(5),yn(i.title),Me(2),yn(i.subtitle),Me(),_r(i.badgeClasses()),Me(),_r("h-1.5 w-1.5 rounded-full "+i.dotColor()),Me(),dn(" ",i.statusText," "),Me(3),yn(i.value),Me(2),yn(i.unit),Me(3),dn("",i.footerLabel,": "),Me(2),yn(i.footerValue),Me(),_r(i.trendClass()),Me(),yn(i.trendLabel))},dependencies:[Zr,Ah],encapsulation:2})}}return e})();var xee=(e,t)=>t.id;function See(e,t){if(e&1&&(ae(0,"span",25),we(1),ue()),e&2){let n=kt();Me(),wh(" ",n.activeFailures().length," ",n.activeFailures().length===1?"unidad":"unidades"," en atenci\xF3n ")}}function Cee(e,t){if(e&1){let n=xr();ae(0,"tr",34)(1,"td",29)(2,"div",60),We(3,"div"),ae(4,"div")(5,"div",61),we(6),ue(),ae(7,"span"),we(8),ue()()()(),ae(9,"td",30)(10,"div",62),we(11),Gs(12,"date"),ue(),ae(13,"div",63),we(14),ue()(),ae(15,"td",30)(16,"span"),We(17,"span"),we(18),ue()(),ae(19,"td",31)(20,"div",64)(21,"span",65),we(22),ue(),ae(23,"span"),we(24),ue()()(),ae(25,"td",66)(26,"button",67),Ft("click",function(){let i=cn(n).$implicit,s=kt();return un(s.selectAsset(i.economico))}),we(27," Ver Detalle "),We(28,"i",68),ue()()()}if(e&2){let n=t.$implicit,r=kt();Me(3),_r("w-1.5 h-10 rounded-full "+r.getPriorityColor(n.prioridad)),Me(3),yn(n.economico),Me(),_r("text-[10px] font-bold uppercase px-1.5 py-0.5 rounded border "+r.getPriorityBadgeClass(n.prioridad)),Me(),dn(" ",n.prioridad," "),Me(3),dn(" ",Wo(12,18,n.fechaIngreso,"dd MMM, HH:mm")," "),Me(2),Qn("title",n.falla),Me(),dn(" ",n.falla," "),Me(2),_r("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border "+r.getStatusBadgeClass(n)),Me(),_r("w-1.5 h-1.5 rounded-full "+r.getStatusDotClass(n)),Me(),dn(" ",n.estatus==="Abierta"?"Diagn\xF3stico":"En Reparaci\xF3n"," "),Me(4),dn(" ",r.getTimeInShop(n.fechaIngreso).text," "),Me(),_r("text-[10px] font-bold uppercase "+r.getTimeInShop(n.fechaIngreso).color),Me(),dn(" ",r.getTimeInShop(n.fechaIngreso).label," ")}}function Tee(e,t){e&1&&(ae(0,"tr")(1,"td",69)(2,"div",70)(3,"div",71),We(4,"i",72),ue(),ae(5,"h3",73),we(6,"Sin unidades en taller"),ue(),ae(7,"p",74),we(8,"La flota opera al 100% de capacidad."),ue()()()())}function Iee(e,t){if(e&1&&(ae(0,"div",59)(1,"div",75),We(2,"i"),ue(),ae(3,"p",76),we(4),ue(),ae(5,"div",77)(6,"span",78),we(7),ue(),ae(8,"span",79),we(9),ue()()()),e&2){let n=t.$implicit;Me(),Qn("ngClass",n.color),Me(),_r("fas "+n.icon),Me(2),yn(n.title),Me(3),yn(n.time),Me(2),yn(n.user)}}var UM=(()=>{class e{constructor(){this.dataService=Pt(ps),this.kpi=this.dataService.kpiData,this.safetyStats=this.dataService.safetyStats,this.fleetAvailability=this.dataService.fleetAvailability,this.activeFailures=vn(()=>this.dataService.forkliftFailures().filter(n=>n.estatus!=="Cerrada")),this.operativeCount=vn(()=>this.dataService.assets().filter(n=>n.status.name==="Operativo").length),this.totalAssets=vn(()=>this.dataService.assets().length),this.lastUpdate=this.dataService.lastUpdate,this.availabilityStatus=vn(()=>{let n=this.fleetAvailability().percentage;return n>=95?"success":n>=85?"warning":"danger"}),this.availabilityStatusText=vn(()=>{let n=this.fleetAvailability().percentage;return n>=95?"Meta Cumplida":n>=85?"En Riesgo":"Cr\xEDtico"}),this.availabilityGap=vn(()=>{let r=this.fleetAvailability().percentage-95;return`Brecha: ${r>0?"+":""}${r.toFixed(0)} pts`}),this.fleetCapacityLabel=vn(()=>{let n=this.totalAssets();if(n===0)return"0% capacidad";let r=this.operativeCount();return`${Math.round(r/n*100)}% de capacidad operativa`}),this.formattedCost=vn(()=>{let n=this.kpi().totalCostMonth;return n===0?"Sin gastos":"$"+n.toLocaleString("en-US")}),this.costUnit=vn(()=>this.kpi().totalCostMonth===0?"registrados este mes":"USD"),this.budgetStatus=vn(()=>{let n=this.kpi().totalCostMonth,r=this.kpi().budgetMonth;return n===0?"neutral":n>r?"danger":n>r*.9?"warning":"success"}),this.budgetStatusText=vn(()=>{let n=this.kpi().totalCostMonth,r=this.kpi().budgetMonth;return n===0?"Presupuesto Intacto":n>r?"Excedido":"Bajo presupuesto"}),this.budgetVariance=vn(()=>{let n=this.kpi().totalCostMonth,r=this.kpi().budgetMonth;if(n===0)return"Disponible: 100%";let i=(n-r)/r*100;return i>0?`+${i.toFixed(1)}% vs Presupuesto`:`${i.toFixed(1)}% vs Presupuesto`}),this.recentEvents=vn(()=>[{title:"Unidad 35526 ingres\xF3 a Taller",time:"Hace 15 min",user:"Op. M\xF3vil",color:"bg-red-500",icon:"fa-exclamation-circle"},{title:'Refacci\xF3n "Kit Sellos" solicitada',time:"Hace 45 min",user:"Toyota Tech",color:"bg-blue-500",icon:"fa-box-open"},{title:"Turno Matutino inici\xF3 operaciones",time:"06:00 AM",user:"Sistema",color:"bg-emerald-500",icon:"fa-check"}])}selectAsset(n){window.dispatchEvent(new CustomEvent("asset-selected",{detail:n}))}filterByIssue(n){alert(`[DEMO] Filtrando activos con fallas en: ${n}`)}downloadReport(){window.print()}getTimeInShop(n){let r=new Date(n).getTime(),i=new Date().getTime(),s=Math.floor((i-r)/(1e3*60*60)),o="",a="",l="";return s<1?(o="< 1h",a="A tiempo",l="text-emerald-500"):s<24?(o=`${s}h`,a="En proceso",l="text-blue-500"):(o=`${Math.floor(s/24)}d ${s%24}h`,a="Demorado",l="text-amber-500"),s>48&&(a="Cr\xEDtico",l="text-red-500"),{text:o,label:a,color:l}}getStatusBadgeClass(n){return n.estatus==="Abierta"?"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-500/10 dark:text-amber-400 dark:border-amber-500/20":"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-500/10 dark:text-blue-400 dark:border-blue-500/20"}getStatusDotClass(n){return n.estatus==="Abierta"?"bg-amber-500":"bg-blue-500"}getPriorityColor(n){return n==="Alta"?"bg-red-500":n==="Media"?"bg-amber-400":"bg-blue-400"}getPriorityBadgeClass(n){return n==="Alta"?"bg-red-50 text-red-600 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800":n==="Media"?"bg-amber-50 text-amber-600 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800":"bg-blue-50 text-blue-600 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ui({type:e,selectors:[["app-dashboard"]],decls:100,vars:25,consts:[[1,"space-y-6","pb-10"],[1,"flex","flex-col","md:flex-row","md:items-center","justify-between","gap-4","mb-2"],[1,"text-2xl","font-black","text-slate-800","dark:text-white","tracking-tight"],[1,"text-sm","text-slate-500","dark:text-slate-400","flex","items-center","gap-2"],[1,"relative","flex","h-2.5","w-2.5"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-emerald-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2.5","w-2.5","bg-emerald-500"],[1,"font-bold","text-slate-700","dark:text-slate-300"],[1,"mx-1","text-slate-300"],[1,"far","fa-clock","text-slate-400"],[1,"text-xs"],[1,"flex","gap-2"],[1,"bg-white","dark:bg-slate-800","border","border-slate-200","dark:border-slate-700","text-slate-600","dark:text-slate-300","px-4","py-2","rounded-lg","text-xs","font-bold","uppercase","hover:bg-slate-50","transition","shadow-sm",3,"click"],[1,"fas","fa-download","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["title","Seguridad","subtitle","D\xEDas sin incidentes","unit","d\xEDas","status","success","statusText","En buen nivel","footerLabel","Meta Hist\xF3rica",3,"value","footerValue","trendLabel"],["title","Disponibilidad","subtitle","Flota operativa efectiva","unit","%","footerLabel","Meta 95%","footerValue","",3,"value","status","statusText","trendLabel"],["title","Flota Activa","subtitle","Estado actual de montacargas","status","info","statusText","Vista general","footerLabel","En Taller",3,"value","unit","footerValue","trendLabel"],["title","Costo Mensual","subtitle","Mantenimiento y refacciones","footerLabel","Presupuesto",3,"value","unit","status","statusText","footerValue","trendLabel"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2","bg-white","dark:bg-[#1e293b]","rounded-2xl","shadow-sm","border","border-slate-200","dark:border-slate-700/60","flex","flex-col","overflow-hidden","h-[500px]"],[1,"p-5","border-b","border-slate-100","dark:border-slate-700/50","flex","justify-between","items-center","bg-slate-50/50","dark:bg-slate-800/20"],[1,"font-bold","text-slate-800","dark:text-white","flex","items-center","gap-2"],[1,"fas","fa-wrench","text-slate-400"],[1,"text-xs","text-slate-500","mt-1"],[1,"text-xs","font-bold","text-red-600","bg-red-50","dark:bg-red-500/10","px-3","py-1","rounded-full","border","border-red-100","dark:border-red-500/20","animate-pulse"],[1,"flex-1","overflow-y-auto","custom-scroll","relative"],[1,"w-full","text-left","text-sm"],[1,"bg-slate-50","dark:bg-slate-800","text-slate-500","font-bold","text-xs","uppercase","sticky","top-0","z-10","shadow-sm"],[1,"p-4","pl-6"],[1,"p-4"],[1,"p-4","text-center"],[1,"p-4","text-right","pr-6"],[1,"divide-y","divide-slate-100","dark:divide-slate-700/50"],[1,"hover:bg-slate-50","dark:hover:bg-slate-800/50","transition-colors","group"],[1,"flex","flex-col","gap-6"],[1,"bg-white","dark:bg-[#1e293b]","rounded-2xl","shadow-sm","border","border-slate-200","dark:border-slate-700/60","p-5"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-bold","text-slate-800","dark:text-white","text-sm"],[1,"text-[10px]","font-bold","text-slate-400","uppercase","bg-slate-100","dark:bg-slate-800","px-2","py-1","rounded"],[1,"space-y-3"],[1,"w-full","text-left","p-3","rounded-xl","bg-slate-50","dark:bg-slate-800/50","border","border-slate-100","dark:border-slate-700","group","hover:border-red-200","transition-colors","cursor-pointer","relative",3,"click"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-xs","font-bold","text-slate-700","dark:text-slate-200","group-hover:text-[#ce1126]","transition-colors"],[1,"text-xs","font-black","text-red-500"],[1,"w-full","bg-slate-200","dark:bg-slate-700","h-1.5","rounded-full","overflow-hidden","mb-3"],[1,"bg-red-500","h-full","w-[45%]"],[1,"flex","justify-between","items-center"],[1,"text-[10px]","text-slate-400","font-medium"],[1,"text-[10px]","bg-white","dark:bg-slate-700","border","border-slate-200","dark:border-slate-600","px-3","py-1.5","rounded-lg","text-slate-600","group-hover:text-[#ce1126]","group-hover:border-red-100","font-bold","shadow-sm","transition-all","group-hover:shadow-md","flex","items-center","gap-1"],[1,"fas","fa-arrow-right","text-[9px]"],[1,"w-full","text-left","p-3","rounded-xl","bg-slate-50","dark:bg-slate-800/50","border","border-slate-100","dark:border-slate-700","group","hover:border-amber-200","transition-colors","cursor-pointer","relative",3,"click"],[1,"text-xs","font-bold","text-slate-700","dark:text-slate-200","group-hover:text-amber-600","transition-colors"],[1,"text-xs","font-black","text-amber-500"],[1,"bg-amber-500","h-full","w-[20%]"],[1,"text-[10px]","bg-white","dark:bg-slate-700","border","border-slate-200","dark:border-slate-600","px-3","py-1.5","rounded-lg","text-slate-600","group-hover:text-amber-600","group-hover:border-amber-100","font-bold","shadow-sm","transition-all","group-hover:shadow-md","flex","items-center","gap-1"],[1,"flex-1","bg-white","dark:bg-[#1e293b]","rounded-2xl","shadow-sm","border","border-slate-200","dark:border-slate-700/60","p-5","flex","flex-col"],[1,"text-[10px]","font-bold","text-[#ce1126]","hover:underline"],[1,"relative","pl-4","border-l","border-slate-200","dark:border-slate-700","space-y-6"],[1,"relative","group"],[1,"flex","items-center","gap-3"],[1,"font-black","text-slate-800","dark:text-white","text-base"],[1,"text-xs","text-slate-500","font-medium"],[1,"text-sm","font-bold","text-slate-700","dark:text-slate-300","max-w-[220px]","truncate","cursor-help",3,"title"],[1,"flex","flex-col","items-center"],[1,"font-mono","text-sm","font-bold","text-slate-700","dark:text-slate-200"],[1,"p-4","pr-6","text-right"],[1,"bg-white","dark:bg-slate-700","border","border-slate-200","dark:border-slate-600","text-slate-600","dark:text-slate-200","hover:text-[#ce1126]","hover:border-[#ce1126]","px-3","py-1.5","rounded-lg","text-xs","font-bold","transition","shadow-sm","group-hover:shadow-md",3,"click"],[1,"fas","fa-arrow-right","ml-1"],["colspan","5",1,"py-20","text-center"],[1,"flex","flex-col","items-center","justify-center","opacity-60"],[1,"w-16","h-16","bg-emerald-50","dark:bg-emerald-500/10","rounded-full","flex","items-center","justify-center","mb-4","border","border-emerald-100"],[1,"fas","fa-check","text-2xl","text-emerald-500"],[1,"text-slate-800","dark:text-white","font-bold","text-lg"],[1,"text-slate-500","text-sm","mt-1","mb-4"],[1,"absolute","-left-[25px]","top-0","h-7","w-7","rounded-full","border-2","border-white","dark:border-slate-900","flex","items-center","justify-center","text-[10px]","text-white","shadow-sm","transition-transform","group-hover:scale-110",3,"ngClass"],[1,"text-xs","font-bold","text-slate-700","dark:text-slate-300","leading-tight"],[1,"flex","items-center","gap-2","mt-1"],[1,"text-[10px]","text-slate-400","font-mono"],[1,"text-[10px]","bg-slate-100","dark:bg-slate-800","px-1.5","py-0.5","rounded","text-slate-500","font-bold","uppercase"]],template:function(r,i){r&1&&(ae(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),we(4,"Centro de Monitoreo (NOC)"),ue(),ae(5,"p",3)(6,"span",4),We(7,"span",5)(8,"span",6),ue(),ae(9,"span",7),we(10,"Operaci\xF3n Estable"),ue(),ae(11,"span",8),we(12,"|"),ue(),We(13,"i",9),ae(14,"span",10),we(15),Gs(16,"date"),ue()()(),ae(17,"div",11)(18,"button",12),Ft("click",function(){return i.downloadReport()}),We(19,"i",13),we(20," Reporte PDF "),ue()()(),ae(21,"div",14),We(22,"app-kpi-card",15)(23,"app-kpi-card",16)(24,"app-kpi-card",17)(25,"app-kpi-card",18),Gs(26,"currency"),ue(),ae(27,"div",19)(28,"div",20)(29,"div",21)(30,"div")(31,"h3",22),We(32,"i",23),we(33," Taller en Vivo "),ue(),ae(34,"p",24),we(35,"\xD3rdenes activas y tiempos de respuesta"),ue()(),Un(36,See,2,2,"span",25),ue(),ae(37,"div",26)(38,"table",27)(39,"thead",28)(40,"tr")(41,"th",29),we(42,"Prioridad / Unidad"),ue(),ae(43,"th",30),we(44,"Falla Reportada"),ue(),ae(45,"th",30),we(46,"Estado"),ue(),ae(47,"th",31),we(48,"SLA (Tiempo)"),ue(),ae(49,"th",32),we(50,"Acci\xF3n"),ue()()(),ae(51,"tbody",33),Wi(52,Cee,29,21,"tr",34,xee,!1,Tee,9,0,"tr"),ue()()()(),ae(55,"div",35)(56,"div",36)(57,"div",37)(58,"h3",38),we(59,"Top 3 Problemas"),ue(),ae(60,"span",39),we(61,"\xDAltimos 30 d\xEDas"),ue()(),ae(62,"div",40)(63,"button",41),Ft("click",function(){return i.filterByIssue("Hidr\xE1ulico")}),ae(64,"div",42)(65,"span",43),we(66,"Sistema Hidr\xE1ulico"),ue(),ae(67,"span",44),we(68,"45%"),ue()(),ae(69,"div",45),We(70,"div",46),ue(),ae(71,"div",47)(72,"span",48),we(73,"12 incidentes reportados"),ue(),ae(74,"span",49),we(75," Ver equipos "),We(76,"i",50),ue()()(),ae(77,"button",51),Ft("click",function(){return i.filterByIssue("Frenos")}),ae(78,"div",42)(79,"span",52),we(80,"Frenos / Desgaste"),ue(),ae(81,"span",53),we(82,"20%"),ue()(),ae(83,"div",45),We(84,"div",54),ue(),ae(85,"div",47)(86,"span",48),we(87,"8 incidentes reportados"),ue(),ae(88,"span",55),we(89," Ver equipos "),We(90,"i",50),ue()()()()(),ae(91,"div",56)(92,"div",37)(93,"h3",38),we(94,"Eventos Recientes"),ue(),ae(95,"button",57),we(96,"Ver todo"),ue()(),ae(97,"div",58),Wi(98,Iee,10,6,"div",59,f0),ue()()()()()),r&2&&(Me(15),dn("Actualizado: ",Wo(16,20,i.lastUpdate(),"HH:mm:ss"),""),Me(7),Qn("value",i.safetyStats().daysWithoutAccident)("footerValue",i.safetyStats().record+" d\xEDas")("trendLabel","Faltan "+(i.safetyStats().record-i.safetyStats().daysWithoutAccident)+" para r\xE9cord"),Me(),Qn("value",i.fleetAvailability().percentage)("status",i.availabilityStatus())("statusText",i.availabilityStatusText())("trendLabel",i.availabilityGap()),Me(),Qn("value",i.operativeCount())("unit","de "+i.totalAssets())("footerValue",i.activeFailures().length+(i.activeFailures().length===1?" unidad":" unidades"))("trendLabel",i.fleetCapacityLabel()),Me(),Qn("value",i.formattedCost())("unit",i.costUnit())("status",i.budgetStatus())("statusText",i.budgetStatusText())("footerValue",p0(26,23,i.kpi().budgetMonth)||"$0")("trendLabel",i.budgetVariance()),Me(11),Vn(i.activeFailures().length>0?36:-1),Me(16),Gi(i.activeFailures()),Me(46),Gi(i.recentEvents()))},dependencies:[Zr,Ah,kh,Za,BM],encapsulation:2})}}return e})();var Aee=(e,t)=>t.id;function kee(e,t){e&1&&(ae(0,"div",26),We(1,"i",37),we(2," > 48h "),ue())}function Dee(e,t){e&1&&We(0,"i",32)}function Mee(e,t){if(e&1&&(ae(0,"div",33),we(1),Gs(2,"date"),ue()),e&2){let n=kt().$implicit;Me(),dn(" Desde: ",Wo(2,1,n.statusSince,"dd MMM HH:mm")," ")}}function Nee(e,t){if(e&1){let n=xr();ae(0,"tr",24),Ft("click",function(){let i=cn(n).$implicit,s=kt();return un(s.selectAsset(i))}),ae(1,"td",25),we(2),Un(3,kee,3,0,"div",26),ue(),ae(4,"td",20)(5,"div",12),we(6),ue(),ae(7,"div",27),we(8),ue()(),ae(9,"td",28),We(10,"i",29),we(11),ue(),ae(12,"td",20)(13,"div",30)(14,"span"),We(15,"span",31),we(16),ue(),Un(17,Dee,1,0,"i",32),ue(),Un(18,Mee,3,4,"div",33),ue(),ae(19,"td",34),we(20),ue(),ae(21,"td",21)(22,"button",35),We(23,"i",36),ue()()()}if(e&2){let n=t.$implicit,r=kt();br("hover:bg-slate-50",!r.isCriticalMaintenance(n))("border-transparent",!r.isCriticalMaintenance(n))("border-red-500",r.isCriticalMaintenance(n))("bg-red-50",r.isCriticalMaintenance(n)),Me(2),dn(" ",n.id," "),Me(),Vn(r.isCriticalMaintenance(n)?3:-1),Me(3),wh("",n.brand," ",n.model,""),Me(2),dn("SN: ",n.serial,""),Me(3),dn(" ",n.location," "),Me(3),_r("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold border "+n.status.color),Me(2),dn(" ",n.status.name," "),Me(),Vn(r.isCriticalMaintenance(n)?17:-1),Me(),Vn(n.status.name!=="Operativo"?18:-1),Me(2),dn(" ",n.supervisor||"N/A"," ")}}function Ree(e,t){e&1&&(ae(0,"tr")(1,"td",38),we(2,"No se encontraron activos."),ue()())}var VM=(()=>{class e{constructor(){this.dataService=Pt(ps),this.filter=rn(""),this.filteredAssets=vn(()=>{let n=this.filter().toLowerCase();return this.dataService.assets().filter(r=>r.id.toLowerCase().includes(n)||r.brand.toLowerCase().includes(n)||r.serial.toLowerCase().includes(n))}),this.stats=vn(()=>{let n=this.dataService.assets();return{total:n.length,operative:n.filter(r=>r.status.name==="Operativo").length,maintenance:n.filter(r=>r.status.name==="Taller").length,preventive:n.filter(r=>r.status.name==="Preventivo").length}})}selectAsset(n){window.dispatchEvent(new CustomEvent("asset-selected",{detail:n.id}))}isCriticalMaintenance(n){if(n.status.name!=="Taller"||!n.statusSince)return!1;let r=new Date(n.statusSince).getTime();return new Date().getTime()-r>1728e5}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ui({type:e,selectors:[["app-asset-list"]],decls:49,vars:5,consts:[[1,"space-y-6"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"bg-white","p-4","rounded-xl","border","border-slate-200","shadow-sm"],[1,"text-xs","text-slate-500","uppercase","font-bold"],[1,"text-2xl","font-black","text-slate-800"],[1,"bg-white","p-4","rounded-xl","border-l-4","border-emerald-500","shadow-sm"],[1,"text-2xl","font-black","text-emerald-600"],[1,"bg-white","p-4","rounded-xl","border-l-4","border-red-500","shadow-sm"],[1,"text-2xl","font-black","text-red-600"],[1,"bg-white","p-4","rounded-xl","border-l-4","border-amber-500","shadow-sm"],[1,"text-2xl","font-black","text-amber-600"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-4","bg-white","p-4","rounded-xl","border","border-slate-200","shadow-sm"],[1,"font-bold","text-slate-700"],[1,"relative","w-full","md:w-64"],[1,"fas","fa-search","absolute","left-3","top-3","text-slate-400","text-xs"],["type","text","placeholder","Buscar por ID, Serie o Marca...",1,"w-full","pl-8","pr-4","py-2","bg-slate-50","border","border-slate-200","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input"],[1,"bg-white","rounded-xl","shadow-sm","border","border-slate-200","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left"],[1,"bg-slate-50","text-slate-500","font-bold","text-xs","uppercase","border-b","border-slate-200"],[1,"p-4"],[1,"p-4","text-right"],[1,"divide-y","divide-slate-100"],[1,"transition-colors","group","cursor-pointer","border-l-4",3,"hover:bg-slate-50","border-transparent","border-red-500","bg-red-50"],[1,"transition-colors","group","cursor-pointer","border-l-4",3,"click"],[1,"p-4","font-black","text-slate-800"],[1,"mt-1","inline-flex","items-center","gap-1","text-[9px]","uppercase","font-bold","text-red-600","animate-pulse"],[1,"text-xs","text-slate-400","font-mono"],[1,"p-4","text-slate-600"],[1,"fas","fa-map-marker-alt","text-slate-300","mr-1"],[1,"flex","items-center","gap-2"],[1,"w-1.5","h-1.5","rounded-full","bg-current","mr-1.5"],["title","Atenci\xF3n requerida: Tiempo excedido",1,"fas","fa-exclamation-triangle","text-red-500","text-sm","animate-bounce"],[1,"text-[10px]","text-slate-400","mt-1","pl-1"],[1,"p-4","text-slate-600","text-xs"],[1,"text-slate-400","hover:text-blue-600","group-hover:translate-x-1","transition-transform"],[1,"fas","fa-arrow-right"],[1,"fas","fa-clock"],["colspan","6",1,"p-8","text-center","text-slate-400","italic"]],template:function(r,i){r&1&&(ae(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),we(4,"Total Flota"),ue(),ae(5,"p",4),we(6),ue()(),ae(7,"div",5)(8,"p",3),we(9,"Operativos"),ue(),ae(10,"p",6),we(11),ue()(),ae(12,"div",7)(13,"p",3),we(14,"En Taller"),ue(),ae(15,"p",8),we(16),ue()(),ae(17,"div",9)(18,"p",3),we(19,"Preventivo"),ue(),ae(20,"p",10),we(21),ue()()(),ae(22,"div",11)(23,"h2",12),we(24,"Inventario Detallado"),ue(),ae(25,"div",13),We(26,"i",14),ae(27,"input",15),Ft("input",function(o){return i.filter.set(o.target.value)}),ue()()(),ae(28,"div",16)(29,"div",17)(30,"table",18)(31,"thead",19)(32,"tr")(33,"th",20),we(34,"ID Economico"),ue(),ae(35,"th",20),we(36,"Detalles"),ue(),ae(37,"th",20),we(38,"Ubicaci\xF3n"),ue(),ae(39,"th",20),we(40,"Estatus Actual"),ue(),ae(41,"th",20),we(42,"Supervisor"),ue(),ae(43,"th",21),we(44,"Acci\xF3n"),ue()()(),ae(45,"tbody",22),Wi(46,Nee,24,20,"tr",23,Aee,!1,Ree,3,0,"tr"),ue()()()()()),r&2&&(Me(6),yn(i.stats().total),Me(5),yn(i.stats().operative),Me(5),yn(i.stats().maintenance),Me(5),yn(i.stats().preventive),Me(25),Gi(i.filteredAssets()))},dependencies:[Zr,Za],encapsulation:2})}}return e})();var ZM=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(On(qc),On(Bl))};static \u0275dir=di({type:e})}return e})(),Fx=(()=>{class e extends ZM{static \u0275fac=(()=>{let n;return function(i){return(n||(n=od(e)))(i||e)}})();static \u0275dir=di({type:e,features:[qs]})}return e})(),hy=new Wt("");var Pee={provide:hy,useExisting:Ho(()=>rc),multi:!0};function Oee(){let e=Ka()?Ka().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Lee=new Wt(""),rc=(()=>{class e extends ZM{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Oee())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(On(qc),On(Bl),On(Lee,8))};static \u0275dir=di({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ft("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Ul([Pee]),qs]})}return e})();function Fee(e){return e==null||JM(e)===0}function JM(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var py=new Wt(""),XM=new Wt("");function Bee(e){return Fee(e.value)?{required:!0}:null}function Uee(e){return t=>{let n=t.value?.length??JM(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function jM(e){return null}function QM(e){return e!=null}function eN(e){return _h(e)?Mc(e):e}function tN(e){let t={};return e.forEach(n=>{t=n!=null?ct(ct({},t),n):t}),Object.keys(t).length===0?null:t}function nN(e,t){return t.map(n=>n(e))}function Vee(e){return!e.validate}function rN(e){return e.map(t=>Vee(t)?t:n=>t.validate(n))}function jee(e){if(!e)return null;let t=e.filter(QM);return t.length==0?null:function(n){return tN(nN(n,t))}}function Bx(e){return e!=null?jee(rN(e)):null}function Hee(e){if(!e)return null;let t=e.filter(QM);return t.length==0?null:function(n){let r=nN(n,t).map(eN);return xb(r).pipe(is(tN))}}function Ux(e){return e!=null?Hee(rN(e)):null}function HM(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function zee(e){return e._rawValidators}function qee(e){return e._rawAsyncValidators}function Px(e){return e?Array.isArray(e)?e:[e]:[]}function ay(e,t){return Array.isArray(e)?e.includes(t):e===t}function zM(e,t){let n=Px(t);return Px(e).forEach(i=>{ay(n,i)||n.push(i)}),n}function qM(e,t){return Px(t).filter(n=>!ay(e,n))}var ly=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Bx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ux(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},$d=class extends ly{name;get formDirective(){return null}get path(){return null}},Lp=class extends ly{_parent=null;name=null;valueAccessor=null},cy=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$ee={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},B0e=Yt(ct({},$ee),{"[class.ng-submitted]":"isSubmitted"}),Wd=(()=>{class e extends cy{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(On(Lp,2))};static \u0275dir=di({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&br("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[qs]})}return e})(),iN=(()=>{class e extends cy{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(On($d,10))};static \u0275dir=di({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&br("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[qs]})}return e})();var Mp="VALID",oy="INVALID",zd="PENDING",Np="DISABLED",nc=class{},uy=class extends nc{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Pp=class extends nc{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Op=class extends nc{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},qd=class extends nc{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Ox=class extends nc{source;constructor(t){super(),this.source=t}},Lx=class extends nc{source;constructor(t){super(),this.source=t}};function sN(e){return(my(e)?e.validators:e)||null}function Wee(e){return Array.isArray(e)?Bx(e):e||null}function oN(e,t){return(my(t)?t.asyncValidators:e)||null}function Gee(e){return Array.isArray(e)?Ux(e):e||null}function my(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Kee(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new dt(1e3,"");if(!r[n])throw new dt(1001,"")}function Yee(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new dt(1002,"")})}var dy=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ga(this.statusReactive)}set status(t){Ga(()=>this.statusReactive.set(t))}_status=vn(()=>this.statusReactive());statusReactive=rn(void 0);get valid(){return this.status===Mp}get invalid(){return this.status===oy}get pending(){return this.status==zd}get disabled(){return this.status===Np}get enabled(){return this.status!==Np}errors;get pristine(){return Ga(this.pristineReactive)}set pristine(t){Ga(()=>this.pristineReactive.set(t))}_pristine=vn(()=>this.pristineReactive());pristineReactive=rn(!0);get dirty(){return!this.pristine}get touched(){return Ga(this.touchedReactive)}set touched(t){Ga(()=>this.touchedReactive.set(t))}_touched=vn(()=>this.touchedReactive());touchedReactive=rn(!1);get untouched(){return!this.touched}_events=new Ma;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(zM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(qM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(qM(t,this._rawAsyncValidators))}hasValidator(t){return ay(this._rawValidators,t)}hasAsyncValidator(t){return ay(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Yt(ct({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Op(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Op(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Yt(ct({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Pp(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Pp(!0,r))}markAsPending(t={}){this.status=zd;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new qd(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Yt(ct({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Np,this.errors=null,this._forEachChild(i=>{i.disable(Yt(ct({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new uy(this.value,r)),this._events.next(new qd(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Yt(ct({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Mp,this._forEachChild(r=>{r.enable(Yt(ct({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Yt(ct({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mp||this.status===zd)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new uy(this.value,n)),this._events.next(new qd(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Yt(ct({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Np:Mp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=zd,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=eN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new qd(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Is,this.statusChanges=new Is}_calculateStatus(){return this._allControlsDisabled()?Np:this.errors?oy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zd)?zd:this._anyControlsHaveStatus(oy)?oy:Mp}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Pp(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Op(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){my(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Wee(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Gee(this._rawAsyncValidators)}},fy=class extends dy{constructor(t,n,r){super(sN(n),oN(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Yee(this,!0,t),Object.keys(t).forEach(r=>{Kee(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Vx=new Wt("",{providedIn:"root",factory:()=>jx}),jx="always";function Zee(e,t){return[...t.path,e]}function aN(e,t,n=jx){lN(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Xee(e,t),ete(e,t),Qee(e,t),Jee(e,t)}function $M(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Jee(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function lN(e,t){let n=zee(e);t.validator!==null?e.setValidators(HM(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=qee(e);t.asyncValidator!==null?e.setAsyncValidators(HM(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();$M(t._rawValidators,i),$M(t._rawAsyncValidators,i)}function Xee(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&cN(e,t)})}function Qee(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&cN(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function cN(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ete(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function tte(e,t){e==null,lN(e,t)}function nte(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function rte(e){return Object.getPrototypeOf(e.constructor)===Fx}function ite(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ste(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(s=>{s.constructor===rc?n=s:rte(s)?r=s:i=s}),i||r||n||null}var ote={provide:$d,useExisting:Ho(()=>Hx)},Rp=Promise.resolve(),Hx=(()=>{class e extends $d{callSetDisabledState;get submitted(){return Ga(this.submittedReactive)}_submitted=vn(()=>this.submittedReactive());submittedReactive=rn(!1);_directives=new Set;form;ngSubmit=new Is;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new fy({},Bx(n),Ux(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Rp.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),aN(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Rp.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Rp.then(()=>{let r=this._findContainer(n.path),i=new fy({});tte(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Rp.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Rp.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),ite(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Ox(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Lx(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(On(py,10),On(XM,10),On(Vx,8))};static \u0275dir=di({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ft("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ul([ote]),qs]})}return e})();function WM(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function GM(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var ate=class extends dy{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(sN(n),oN(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),my(n)&&(n.nonNullable||n.initialValueIsDefault)&&(GM(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){WM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){WM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){GM(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var lte={provide:Lp,useExisting:Ho(()=>fu)},KM=Promise.resolve(),fu=(()=>{class e extends Lp{_changeDetectorRef;callSetDisabledState;control=new ate;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Is;constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ste(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),nte(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){aN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){KM.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&L2(r);KM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Zee(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(On($d,9),On(py,10),On(XM,10),On(hy,10),On(O2,8),On(Vx,8))};static \u0275dir=di({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ul([lte]),qs,n0]})}return e})();var uN=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=di({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var cte={provide:hy,useExisting:Ho(()=>gy),multi:!0};function dN(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function ute(e){return e.split(":")[0]}var gy=(()=>{class e extends Fx{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=dN(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=ute(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=od(e)))(i||e)}})();static \u0275dir=di({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ft("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ul([cte]),qs]})}return e})(),Gd=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(dN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(On(Bl),On(qc),On(gy,9))};static \u0275dir=di({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),dte={provide:hy,useExisting:Ho(()=>fN),multi:!0};function YM(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function fte(e){return e.split(":")[0]}var fN=(()=>{class e extends Fx{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);i.push(c)}}else{let o=r.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=fte(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=od(e)))(i||e)}})();static \u0275dir=di({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ft("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ul([dte]),qs]})}return e})(),Kd=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(YM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(YM(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(On(Bl),On(qc),On(fN,9))};static \u0275dir=di({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function hte(e){return typeof e=="number"?e:parseInt(e,10)}var hN=(()=>{class e{_validator=jM;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):jM,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=di({type:e,features:[n0]})}return e})();var pte={provide:py,useExisting:Ho(()=>zx),multi:!0};var zx=(()=>{class e extends hN{required;inputName="required";normalizeInput=L2;createValidator=n=>Bee;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=od(e)))(i||e)}})();static \u0275dir=di({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&d0("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ul([pte]),qs]})}return e})();var mte={provide:py,useExisting:Ho(()=>qx),multi:!0},qx=(()=>{class e extends hN{minlength;inputName="minlength";normalizeInput=n=>hte(n);createValidator=n=>Uee(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=od(e)))(i||e)}})();static \u0275dir=di({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&d0("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Ul([mte]),qs]})}return e})();var gte=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wa({type:e});static \u0275inj=Va({})}return e})();var ta=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Vx,useValue:n.callSetDisabledState??jx}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wa({type:e});static \u0275inj=Va({imports:[gte]})}return e})();function tr(e){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(e)}var So=Uint8Array,As=Uint16Array,Yx=Int32Array,Zx=new So([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Jx=new So([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),pN=new So([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vN=function(e,t){for(var n=new As(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Yx(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},bN=vN(Zx,2),yte=bN.b,Wx=bN.r;yte[28]=258,Wx[258]=28;var _N=vN(Jx,0),H0e=_N.b,mN=_N.r,Gx=new As(32768);for(Yn=0;Yn<32768;++Yn)cl=(Yn&43690)>>1|(Yn&21845)<<1,cl=(cl&52428)>>2|(cl&13107)<<2,cl=(cl&61680)>>4|(cl&3855)<<4,Gx[Yn]=((cl&65280)>>8|(cl&255)<<8)>>1;var cl,Yn,Vp=function(e,t,n){for(var r=e.length,i=0,s=new As(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new As(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new As(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=o[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)a[Gx[d]>>l]=c}else for(a=new As(r),i=0;i<r;++i)e[i]&&(a[i]=Gx[o[e[i]-1]++]>>15-e[i]);return a},hu=new So(288);for(Yn=0;Yn<144;++Yn)hu[Yn]=8;var Yn;for(Yn=144;Yn<256;++Yn)hu[Yn]=9;var Yn;for(Yn=256;Yn<280;++Yn)hu[Yn]=7;var Yn;for(Yn=280;Yn<288;++Yn)hu[Yn]=8;var Yn,yy=new So(32);for(Yn=0;Yn<32;++Yn)yy[Yn]=5;var Yn,vte=Vp(hu,9,0);var bte=Vp(yy,5,0);var wN=function(e){return(e+7)/8|0},_te=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new So(e.subarray(t,n))};var ul=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Bp=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},$x=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:xN,l:0};if(i==1){var o=new So(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function($,F){return $.f-F.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=s[0].s,r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var f=new As(h+1),p=Kx(n[u-1],f,0);if(p>t){var r=0,m=0,g=p-t,v=1<<g;for(s.sort(function(F,V){return f[V.s]-f[F.s]||F.f-V.f});r<i;++r){var x=s[r].s;if(f[x]>t)m+=v-(1<<p-f[x]),f[x]=t;else break}for(m>>=g;m>0;){var I=s[r].s;f[I]<t?m-=1<<t-f[I]++-1:++r}for(;r>=0&&m;--r){var R=s[r].s;f[R]==t&&(--f[R],++m)}p=t}return{t:new So(f),l:p}},Kx=function(e,t,n){return e.s==-1?Math.max(Kx(e.l,t,n+1),Kx(e.r,t,n+1)):t[e.s]=n},gN=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new As(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},Up=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},EN=function(e,t,n){var r=n.length,i=wN(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},yN=function(e,t,n,r,i,s,o,a,l,c,u){ul(t,u++,n),++i[256];for(var d=$x(i,15),h=d.t,f=d.l,p=$x(s,15),m=p.t,g=p.l,v=gN(h),x=v.c,I=v.n,R=gN(m),$=R.c,F=R.n,V=new As(19),U=0;U<x.length;++U)++V[x[U]&31];for(var U=0;U<$.length;++U)++V[$[U]&31];for(var q=$x(V,7),j=q.t,S=q.l,T=19;T>4&&!j[pN[T-1]];--T);var O=c+5<<3,y=Up(i,hu)+Up(s,yy)+o,b=Up(i,h)+Up(s,m)+o+14+3*T+Up(V,j)+2*V[16]+3*V[17]+7*V[18];if(l>=0&&O<=y&&O<=b)return EN(t,u,e.subarray(l,l+c));var w,_,E,C;if(ul(t,u,1+(b<y)),u+=2,b<y){w=Vp(h,f,0),_=h,E=Vp(m,g,0),C=m;var L=Vp(j,S,0);ul(t,u,I-257),ul(t,u+5,F-1),ul(t,u+10,T-4),u+=14;for(var U=0;U<T;++U)ul(t,u+3*U,j[pN[U]]);u+=3*T;for(var W=[x,$],B=0;B<2;++B)for(var G=W[B],U=0;U<G.length;++U){var M=G[U]&31;ul(t,u,L[M]),u+=j[M],M>15&&(ul(t,u,G[U]>>5&127),u+=G[U]>>12)}}else w=vte,_=hu,E=bte,C=yy;for(var U=0;U<a;++U){var K=r[U];if(K>255){var M=K>>18&31;Bp(t,u,w[M+257]),u+=_[M+257],M>7&&(ul(t,u,K>>23&31),u+=Zx[M]);var D=K&31;Bp(t,u,E[D]),u+=C[D],D>3&&(Bp(t,u,K>>5&8191),u+=Jx[D])}else Bp(t,u,w[K]),u+=_[K]}return Bp(t,u,w[256]),u+_[256]},wte=new Yx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xN=new So(0),Ete=function(e,t,n,r,i,s){var o=s.z||e.length,a=new So(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(t){u&&(l[0]=s.r>>3);for(var d=wte[t-1],h=d>>13,f=d&8191,p=(1<<n)-1,m=s.p||new As(32768),g=s.h||new As(p+1),v=Math.ceil(n/3),x=2*v,I=function(de){return(e[de]^e[de+1]<<v^e[de+2]<<x)&p},R=new Yx(25e3),$=new As(288),F=new As(32),V=0,U=0,q=s.i||0,j=0,S=s.w||0,T=0;q+2<o;++q){var O=I(q),y=q&32767,b=g[O];if(m[y]=b,g[O]=y,S<=q){var w=o-q;if((V>7e3||j>24576)&&(w>423||!c)){u=yN(e,l,0,R,$,F,U,j,T,q-T,u),j=V=U=0,T=q;for(var _=0;_<286;++_)$[_]=0;for(var _=0;_<30;++_)F[_]=0}var E=2,C=0,L=f,W=y-b&32767;if(w>2&&O==I(q-W))for(var B=Math.min(h,w)-1,G=Math.min(32767,q),M=Math.min(258,w);W<=G&&--L&&y!=b;){if(e[q+E]==e[q+E-W]){for(var K=0;K<M&&e[q+K]==e[q+K-W];++K);if(K>E){if(E=K,C=W,K>B)break;for(var D=Math.min(W,K-2),k=0,_=0;_<D;++_){var z=q-W+_&32767,J=m[z],Q=z-J&32767;Q>k&&(k=Q,b=z)}}}y=b,b=m[y],W+=y-b&32767}if(C){R[j++]=268435456|Wx[E]<<18|mN[C];var ee=Wx[E]&31,ne=mN[C]&31;U+=Zx[ee]+Jx[ne],++$[257+ee],++F[ne],S=q+E,++V}else R[j++]=e[q],++$[e[q]]}}for(q=Math.max(q,S);q<o;++q)R[j++]=e[q],++$[e[q]];u=yN(e,l,c,R,$,F,U,j,T,q-T,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=g,s.p=m,s.i=q,s.w=S)}else{for(var q=s.w||0;q<o+c;q+=65535){var he=q+65535;he>=o&&(l[u/8|0]=c,he=o),u=EN(l,u+1,e.subarray(q,he))}s.i=o}return _te(a,0,r+wN(u)+i)};var SN=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},xte=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new So(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return Ete(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)};var CN=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};var Ste=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=SN();i.p(t.dictionary),CN(e,2,i.d())}};function vy(e,t){t||(t={});var n=SN();n.p(e);var r=xte(e,t,t.dictionary?6:2,4);return Ste(r,t),CN(r,r.length-4,n.d()),r}var Cte=typeof TextDecoder<"u"&&new TextDecoder,Tte=0;try{Cte.decode(xN,{stream:!0}),Tte=1}catch{}function TN(e){if(Array.isArray(e))return e}function IN(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Xx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function AN(e,t){if(e){if(typeof e=="string")return Xx(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xx(e,t):void 0}}function kN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qx(e,t){return TN(e)||IN(e,t)||AN(e,t)||kN()}function eS(e,t="utf8"){return new TextDecoder(t).decode(e)}var Ite=new TextEncoder;function DN(e){return Ite.encode(e)}var Ate=1024*8,kte=(()=>{let e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),tS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},jp=class e{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=Ate,n={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);let i=n.offset?n.offset>>>0:0,s=t.byteLength-i,o=i;(ArrayBuffer.isView(t)||t instanceof e)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){let r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){let r=tS[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===kte&&n!=="uint8"&&n!=="int8"){let a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();let l=new tS[n](a.buffer);return this.offset+=r,l.reverse(),l}let o=new tS[n](s);return this.offset+=r,o}readInt16(){let t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){let t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){let t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){let t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){let t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){let t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){let t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){let t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return eS(this.readBytes(t))}decodeText(t=1,n="utf8"){return eS(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(DN(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function ef(e){let t=e.length;for(;--t>=0;)e[t]=0}var Dte=0,mR=1,Mte=2,Nte=3,Rte=258,CS=29,nm=256,Kp=nm+1+CS,Jd=30,TS=19,gR=2*Kp+1,pu=15,nS=16,Pte=7,IS=256,yR=16,vR=17,bR=18,gS=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Sy=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ote=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Lte=512,fl=new Array((Kp+2)*2);ef(fl);var $p=new Array(Jd*2);ef($p);var Yp=new Array(Lte);ef(Yp);var Zp=new Array(Rte-Nte+1);ef(Zp);var AS=new Array(CS);ef(AS);var Cy=new Array(Jd);ef(Cy);function rS(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var wR,ER,xR;function iS(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}var SR=e=>e<256?Yp[e]:Yp[256+(e>>>7)],Jp=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},ms=(e,t,n)=>{e.bi_valid>nS-n?(e.bi_buf|=t<<e.bi_valid&65535,Jp(e,e.bi_buf),e.bi_buf=t>>nS-e.bi_valid,e.bi_valid+=n-nS):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},ra=(e,t,n)=>{ms(e,n[t*2],n[t*2+1])},CR=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},Fte=e=>{e.bi_valid===16?(Jp(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Bte=(e,t)=>{let n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,u,d,h,f,p,m=0;for(h=0;h<=pu;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<gR;c++)u=e.heap[c],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,m++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,f=0,u>=a&&(f=o[u-a]),p=n[u*2],e.opt_len+=p*(h+f),s&&(e.static_len+=p*(i[u*2+1]+f)));if(m!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==h&&(e.opt_len+=(h-n[d*2+1])*n[d*2],n[d*2+1]=h),u--)}},TR=(e,t,n)=>{let r=new Array(pu+1),i=0,s,o;for(s=1;s<=pu;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=CR(r[a]++,a))}},Ute=()=>{let e,t,n,r,i,s=new Array(pu+1);for(n=0,r=0;r<CS-1;r++)for(AS[r]=n,e=0;e<1<<gS[r];e++)Zp[n++]=r;for(Zp[n-1]=r,i=0,r=0;r<16;r++)for(Cy[r]=i,e=0;e<1<<Sy[r];e++)Yp[i++]=r;for(i>>=7;r<Jd;r++)for(Cy[r]=i<<7,e=0;e<1<<Sy[r]-7;e++)Yp[256+i++]=r;for(t=0;t<=pu;t++)s[t]=0;for(e=0;e<=143;)fl[e*2+1]=8,e++,s[8]++;for(;e<=255;)fl[e*2+1]=9,e++,s[9]++;for(;e<=279;)fl[e*2+1]=7,e++,s[7]++;for(;e<=287;)fl[e*2+1]=8,e++,s[8]++;for(TR(fl,Kp+1,s),e=0;e<Jd;e++)$p[e*2+1]=5,$p[e*2]=CR(e,5);wR=new rS(fl,gS,nm+1,Kp,pu),ER=new rS($p,Sy,0,Jd,pu),xR=new rS(new Array(0),Ote,0,TS,Pte)},IR=e=>{let t;for(t=0;t<Kp;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Jd;t++)e.dyn_dtree[t*2]=0;for(t=0;t<TS;t++)e.bl_tree[t*2]=0;e.dyn_ltree[IS*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},AR=e=>{e.bi_valid>8?Jp(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},MN=(e,t,n,r)=>{let i=t*2,s=n*2;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},sS=(e,t,n)=>{let r=e.heap[n],i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&MN(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!MN(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},NN=(e,t,n)=>{let r,i,s=0,o,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+s++]&255,r+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],r===0?ra(e,i,t):(o=Zp[i],ra(e,o+nm+1,t),a=gS[o],a!==0&&(i-=AS[o],ms(e,i,a)),r--,o=SR(r),ra(e,o,n),a=Sy[o],a!==0&&(r-=Cy[o],ms(e,r,a)));while(s<e.sym_next);ra(e,IS,t)},yS=(e,t)=>{let n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems,o,a,l=-1,c;for(e.heap_len=0,e.heap_max=gR,o=0;o<s;o++)n[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)sS(e,n,o);c=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],sS(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,n[c*2]=n[o*2]+n[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,n[o*2+1]=n[a*2+1]=c,e.heap[1]=c++,sS(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Bte(e,t),TR(n,l,e.bl_count)},RN=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=t[(r+1)*2+1],!(++a<l&&s===o)&&(a<c?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[yR*2]++):a<=10?e.bl_tree[vR*2]++:e.bl_tree[bR*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},PN=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(s=o,o=t[(r+1)*2+1],!(++a<l&&s===o)){if(a<c)do ra(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(ra(e,s,e.bl_tree),a--),ra(e,yR,e.bl_tree),ms(e,a-3,2)):a<=10?(ra(e,vR,e.bl_tree),ms(e,a-3,3)):(ra(e,bR,e.bl_tree),ms(e,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},Vte=e=>{let t;for(RN(e,e.dyn_ltree,e.l_desc.max_code),RN(e,e.dyn_dtree,e.d_desc.max_code),yS(e,e.bl_desc),t=TS-1;t>=3&&e.bl_tree[_R[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},jte=(e,t,n,r)=>{let i;for(ms(e,t-257,5),ms(e,n-1,5),ms(e,r-4,4),i=0;i<r;i++)ms(e,e.bl_tree[_R[i]*2+1],3);PN(e,e.dyn_ltree,t-1),PN(e,e.dyn_dtree,n-1)},Hte=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(n=32;n<nm;n++)if(e.dyn_ltree[n*2]!==0)return 1;return 0},ON=!1,zte=e=>{ON||(Ute(),ON=!0),e.l_desc=new iS(e.dyn_ltree,wR),e.d_desc=new iS(e.dyn_dtree,ER),e.bl_desc=new iS(e.bl_tree,xR),e.bi_buf=0,e.bi_valid=0,IR(e)},kR=(e,t,n,r)=>{ms(e,(Dte<<1)+(r?1:0),3),AR(e),Jp(e,n),Jp(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},qte=e=>{ms(e,mR<<1,3),ra(e,IS,fl),Fte(e)},$te=(e,t,n,r)=>{let i,s,o=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=Hte(e)),yS(e,e.l_desc),yS(e,e.d_desc),o=Vte(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&t!==-1?kR(e,t,n,r):e.strategy===4||s===i?(ms(e,(mR<<1)+(r?1:0),3),NN(e,fl,$p)):(ms(e,(Mte<<1)+(r?1:0),3),jte(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),NN(e,e.dyn_ltree,e.dyn_dtree)),IR(e),r&&AR(e)},Wte=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Zp[n]+nm+1)*2]++,e.dyn_dtree[SR(t)*2]++),e.sym_next===e.sym_end),Gte=zte,Kte=kR,Yte=$te,Zte=Wte,Jte=qte,Xte={_tr_init:Gte,_tr_stored_block:Kte,_tr_flush_block:Yte,_tr_tally:Zte,_tr_align:Jte},Qte=(e,t,n,r)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0},Xp=Qte,ene=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},tne=new Uint32Array(ene()),nne=(e,t,n,r)=>{let i=tne,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1},hi=nne,yu={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tf={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:rne,_tr_stored_block:vS,_tr_flush_block:ine,_tr_tally:oc,_tr_align:sne}=Xte,{Z_NO_FLUSH:ac,Z_PARTIAL_FLUSH:one,Z_FULL_FLUSH:ane,Z_FINISH:Qs,Z_BLOCK:LN,Z_OK:xi,Z_STREAM_END:FN,Z_STREAM_ERROR:ia,Z_DATA_ERROR:lne,Z_BUF_ERROR:oS,Z_DEFAULT_COMPRESSION:cne,Z_FILTERED:une,Z_HUFFMAN_ONLY:by,Z_RLE:dne,Z_FIXED:fne,Z_DEFAULT_STRATEGY:hne,Z_UNKNOWN:pne,Z_DEFLATED:Ay}=tf,mne=9,gne=15,yne=8,vne=29,bne=256,bS=bne+1+vne,_ne=30,wne=19,Ene=2*bS+1,xne=15,Ln=3,sc=258,sa=sc+Ln+1,Sne=32,Xd=42,kS=57,_S=69,wS=73,ES=91,xS=103,mu=113,zp=666,Zi=1,nf=2,vu=3,rf=4,Cne=3,gu=(e,t)=>(e.msg=yu[t],t),BN=e=>e*2-(e>4?9:0),ic=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Tne=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)},Ine=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,lc=Ine,ks=e=>{let t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Ds=(e,t)=>{ine(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ks(e.strm)},Zn=(e,t)=>{e.pending_buf[e.pending++]=t},Hp=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},SS=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=Xp(e.adler,t,i,n):e.state.wrap===2&&(e.adler=hi(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},DR=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,s,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-sa?e.strstart-(e.w_size-sa):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+sc,f=c[r+o-1],p=c[r+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+o]!==p||c[i+o-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(s=sc-(h-r),r=h-sc,s>o){if(e.match_start=t,o=s,s>=a)break;f=c[r+o-1],p=c[r+o]}}while((t=d[t&u])>l&&--n!==0);return o<=e.lookahead?o:e.lookahead},Qd=e=>{let t=e.w_size,n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-sa)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Tne(e),r+=t),e.strm.avail_in===0)break;if(n=SS(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Ln)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=lc(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=lc(e,e.ins_h,e.window[i+Ln-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Ln)););}while(e.lookahead<sa&&e.strm.avail_in!==0)},MR=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,s,o=0,a=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&t!==Qs||t===ac||r!==i+e.strm.avail_in)))break;o=t===Qs&&r===i+e.strm.avail_in?1:0,vS(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,ks(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(SS(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?rf:t!==ac&&t!==Qs&&e.strm.avail_in===0&&e.strstart===e.block_start?nf:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(SS(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=n||(i||t===Qs)&&t!==ac&&e.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=t===Qs&&e.strm.avail_in===0&&r===i?1:0,vS(e,e.block_start,r,o),e.block_start+=r,ks(e.strm)),o?vu:Zi)},aS=(e,t)=>{let n,r;for(;;){if(e.lookahead<sa){if(Qd(e),e.lookahead<sa&&t===ac)return Zi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Ln&&(e.ins_h=lc(e,e.ins_h,e.window[e.strstart+Ln-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-sa&&(e.match_length=DR(e,n)),e.match_length>=Ln)if(r=oc(e,e.strstart-e.match_start,e.match_length-Ln),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ln){e.match_length--;do e.strstart++,e.ins_h=lc(e,e.ins_h,e.window[e.strstart+Ln-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=lc(e,e.ins_h,e.window[e.strstart+1]);else r=oc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ds(e,!1),e.strm.avail_out===0))return Zi}return e.insert=e.strstart<Ln-1?e.strstart:Ln-1,t===Qs?(Ds(e,!0),e.strm.avail_out===0?vu:rf):e.sym_next&&(Ds(e,!1),e.strm.avail_out===0)?Zi:nf},Yd=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<sa){if(Qd(e),e.lookahead<sa&&t===ac)return Zi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Ln&&(e.ins_h=lc(e,e.ins_h,e.window[e.strstart+Ln-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ln-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-sa&&(e.match_length=DR(e,n),e.match_length<=5&&(e.strategy===une||e.match_length===Ln&&e.strstart-e.match_start>4096)&&(e.match_length=Ln-1)),e.prev_length>=Ln&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ln,r=oc(e,e.strstart-1-e.prev_match,e.prev_length-Ln),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=lc(e,e.ins_h,e.window[e.strstart+Ln-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ln-1,e.strstart++,r&&(Ds(e,!1),e.strm.avail_out===0))return Zi}else if(e.match_available){if(r=oc(e,0,e.window[e.strstart-1]),r&&Ds(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Zi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=oc(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ln-1?e.strstart:Ln-1,t===Qs?(Ds(e,!0),e.strm.avail_out===0?vu:rf):e.sym_next&&(Ds(e,!1),e.strm.avail_out===0)?Zi:nf},Ane=(e,t)=>{let n,r,i,s,o=e.window;for(;;){if(e.lookahead<=sc){if(Qd(e),e.lookahead<=sc&&t===ac)return Zi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ln&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=e.strstart+sc;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);e.match_length=sc-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ln?(n=oc(e,1,e.match_length-Ln),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=oc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ds(e,!1),e.strm.avail_out===0))return Zi}return e.insert=0,t===Qs?(Ds(e,!0),e.strm.avail_out===0?vu:rf):e.sym_next&&(Ds(e,!1),e.strm.avail_out===0)?Zi:nf},kne=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Qd(e),e.lookahead===0)){if(t===ac)return Zi;break}if(e.match_length=0,n=oc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ds(e,!1),e.strm.avail_out===0))return Zi}return e.insert=0,t===Qs?(Ds(e,!0),e.strm.avail_out===0?vu:rf):e.sym_next&&(Ds(e,!1),e.strm.avail_out===0)?Zi:nf};function na(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var qp=[new na(0,0,0,0,MR),new na(4,4,8,4,aS),new na(4,5,16,8,aS),new na(4,6,32,32,aS),new na(4,4,16,16,Yd),new na(8,16,32,32,Yd),new na(8,16,128,128,Yd),new na(8,32,128,256,Yd),new na(32,128,258,1024,Yd),new na(32,258,258,4096,Yd)],Dne=e=>{e.window_size=2*e.w_size,ic(e.head),e.max_lazy_match=qp[e.level].max_lazy,e.good_match=qp[e.level].good_length,e.nice_match=qp[e.level].nice_length,e.max_chain_length=qp[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ln-1,e.match_available=0,e.ins_h=0};function Mne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ay,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Ene*2),this.dyn_dtree=new Uint16Array((2*_ne+1)*2),this.bl_tree=new Uint16Array((2*wne+1)*2),ic(this.dyn_ltree),ic(this.dyn_dtree),ic(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(xne+1),this.heap=new Uint16Array(2*bS+1),ic(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*bS+1),ic(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var rm=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.status!==Xd&&t.status!==kS&&t.status!==_S&&t.status!==wS&&t.status!==ES&&t.status!==xS&&t.status!==mu&&t.status!==zp?1:0},NR=e=>{if(rm(e))return gu(e,ia);e.total_in=e.total_out=0,e.data_type=pne;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?kS:t.wrap?Xd:mu,e.adler=t.wrap===2?0:1,t.last_flush=-2,rne(t),xi},RR=e=>{let t=NR(e);return t===xi&&Dne(e.state),t},Nne=(e,t)=>rm(e)||e.state.wrap!==2?ia:(e.state.gzhead=t,xi),PR=(e,t,n,r,i,s)=>{if(!e)return ia;let o=1;if(t===cne&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>mne||n!==Ay||r<8||r>15||t<0||t>9||s<0||s>fne||r===8&&o!==1)return gu(e,ia);r===8&&(r=9);let a=new Mne;return e.state=a,a.strm=e,a.status=Xd,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Ln-1)/Ln),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=s,a.method=n,RR(e)},Rne=(e,t)=>PR(e,t,Ay,gne,yne,hne),Pne=(e,t)=>{if(rm(e)||t>LN||t<0)return e?gu(e,ia):ia;let n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===zp&&t!==Qs)return gu(e,e.avail_out===0?oS:ia);let r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(ks(e),e.avail_out===0)return n.last_flush=-1,xi}else if(e.avail_in===0&&BN(t)<=BN(r)&&t!==Qs)return gu(e,oS);if(n.status===zp&&e.avail_in!==0)return gu(e,oS);if(n.status===Xd&&n.wrap===0&&(n.status=mu),n.status===Xd){let i=Ay+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=by||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=Sne),i+=31-i%31,Hp(n,i),n.strstart!==0&&(Hp(n,e.adler>>>16),Hp(n,e.adler&65535)),e.adler=1,n.status=mu,ks(e),n.pending!==0)return n.last_flush=-1,xi}if(n.status===kS){if(e.adler=0,Zn(n,31),Zn(n,139),Zn(n,8),n.gzhead)Zn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Zn(n,n.gzhead.time&255),Zn(n,n.gzhead.time>>8&255),Zn(n,n.gzhead.time>>16&255),Zn(n,n.gzhead.time>>24&255),Zn(n,n.level===9?2:n.strategy>=by||n.level<2?4:0),Zn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Zn(n,n.gzhead.extra.length&255),Zn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=hi(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=_S;else if(Zn(n,0),Zn(n,0),Zn(n,0),Zn(n,0),Zn(n,0),Zn(n,n.level===9?2:n.strategy>=by||n.level<2?4:0),Zn(n,Cne),n.status=mu,ks(e),n.pending!==0)return n.last_flush=-1,xi}if(n.status===_S){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=hi(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,ks(e),n.pending!==0)return n.last_flush=-1,xi;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(e.adler=hi(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=wS}if(n.status===wS){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=hi(e.adler,n.pending_buf,n.pending-i,i)),ks(e),n.pending!==0)return n.last_flush=-1,xi;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Zn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=hi(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=ES}if(n.status===ES){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=hi(e.adler,n.pending_buf,n.pending-i,i)),ks(e),n.pending!==0)return n.last_flush=-1,xi;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Zn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=hi(e.adler,n.pending_buf,n.pending-i,i))}n.status=xS}if(n.status===xS){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ks(e),n.pending!==0))return n.last_flush=-1,xi;Zn(n,e.adler&255),Zn(n,e.adler>>8&255),e.adler=0}if(n.status=mu,ks(e),n.pending!==0)return n.last_flush=-1,xi}if(e.avail_in!==0||n.lookahead!==0||t!==ac&&n.status!==zp){let i=n.level===0?MR(n,t):n.strategy===by?kne(n,t):n.strategy===dne?Ane(n,t):qp[n.level].func(n,t);if((i===vu||i===rf)&&(n.status=zp),i===Zi||i===vu)return e.avail_out===0&&(n.last_flush=-1),xi;if(i===nf&&(t===one?sne(n):t!==LN&&(vS(n,0,0,!1),t===ane&&(ic(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ks(e),e.avail_out===0))return n.last_flush=-1,xi}return t!==Qs?xi:n.wrap<=0?FN:(n.wrap===2?(Zn(n,e.adler&255),Zn(n,e.adler>>8&255),Zn(n,e.adler>>16&255),Zn(n,e.adler>>24&255),Zn(n,e.total_in&255),Zn(n,e.total_in>>8&255),Zn(n,e.total_in>>16&255),Zn(n,e.total_in>>24&255)):(Hp(n,e.adler>>>16),Hp(n,e.adler&65535)),ks(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?xi:FN)},One=e=>{if(rm(e))return ia;let t=e.state.status;return e.state=null,t===mu?gu(e,lne):xi},Lne=(e,t)=>{let n=t.length;if(rm(e))return ia;let r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==Xd||r.lookahead)return ia;if(i===1&&(e.adler=Xp(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(ic(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}let s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Qd(r);r.lookahead>=Ln;){let l=r.strstart,c=r.lookahead-(Ln-1);do r.ins_h=lc(r,r.ins_h,r.window[l+Ln-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=Ln-1,Qd(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Ln-1,r.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,r.wrap=i,xi},Fne=Rne,Bne=PR,Une=RR,Vne=NR,jne=Nne,Hne=Pne,zne=One,qne=Lne,$ne="pako deflate (from Nodeca project)",Wp={deflateInit:Fne,deflateInit2:Bne,deflateReset:Une,deflateResetKeep:Vne,deflateSetHeader:jne,deflate:Hne,deflateEnd:zne,deflateSetDictionary:qne,deflateInfo:$ne},Wne=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Gne=function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(let r in n)Wne(n,r)&&(e[r]=n[r])}}return e},Kne=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;let n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let o=e[r];n.set(o,i),i+=o.length}return n},ky={assign:Gne,flattenChunks:Kne},OR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{OR=!1}var Qp=new Uint8Array(256);for(let e=0;e<256;e++)Qp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Qp[254]=Qp[254]=1;var Yne=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,o=e.length,a=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t},Zne=(e,t)=>{if(t<65534&&e.subarray&&OR)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},Jne=(e,t)=>{let n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i,s=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){s[i++]=o;continue}let a=Qp[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|e[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return Zne(s,i)},Xne=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Qp[e[n]]>t?n:t},em={string2buf:Yne,buf2string:Jne,utf8border:Xne};function Qne(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var LR=Qne,FR=Object.prototype.toString,{Z_NO_FLUSH:ere,Z_SYNC_FLUSH:tre,Z_FULL_FLUSH:nre,Z_FINISH:rre,Z_OK:Ty,Z_STREAM_END:ire,Z_DEFAULT_COMPRESSION:sre,Z_DEFAULT_STRATEGY:ore,Z_DEFLATED:are}=tf;function im(e){this.options=ky.assign({level:sre,method:are,chunkSize:16384,windowBits:15,memLevel:8,strategy:ore},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LR,this.strm.avail_out=0;let n=Wp.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Ty)throw new Error(yu[n]);if(t.header&&Wp.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=em.string2buf(t.dictionary):FR.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Wp.deflateSetDictionary(this.strm,r),n!==Ty)throw new Error(yu[n]);this._dict_set=!0}}im.prototype.push=function(e,t){let n=this.strm,r=this.options.chunkSize,i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?rre:ere,typeof e=="string"?n.input=em.string2buf(e):FR.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===tre||s===nre)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Wp.deflate(n,s),i===ire)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Wp.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Ty;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};im.prototype.onData=function(e){this.chunks.push(e)};im.prototype.onEnd=function(e){e===Ty&&(this.result=ky.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function DS(e,t){let n=new im(t);if(n.push(e,!0),n.err)throw n.msg||yu[n.err];return n.result}function lre(e,t){return t=t||{},t.raw=!0,DS(e,t)}function cre(e,t){return t=t||{},t.gzip=!0,DS(e,t)}var ure=im,dre=DS,fre=lre,hre=cre,pre=tf,mre={Deflate:ure,deflate:dre,deflateRaw:fre,gzip:hre,constants:pre},_y=16209,gre=16191,yre=function(t,n){let r,i,s,o,a,l,c,u,d,h,f,p,m,g,v,x,I,R,$,F,V,U,q,j,S=t.state;r=t.next_in,q=t.input,i=r+(t.avail_in-5),s=t.next_out,j=t.output,o=s-(n-t.avail_out),a=s+(t.avail_out-257),l=S.dmax,c=S.wsize,u=S.whave,d=S.wnext,h=S.window,f=S.hold,p=S.bits,m=S.lencode,g=S.distcode,v=(1<<S.lenbits)-1,x=(1<<S.distbits)-1;e:do{p<15&&(f+=q[r++]<<p,p+=8,f+=q[r++]<<p,p+=8),I=m[f&v];t:for(;;){if(R=I>>>24,f>>>=R,p-=R,R=I>>>16&255,R===0)j[s++]=I&65535;else if(R&16){$=I&65535,R&=15,R&&(p<R&&(f+=q[r++]<<p,p+=8),$+=f&(1<<R)-1,f>>>=R,p-=R),p<15&&(f+=q[r++]<<p,p+=8,f+=q[r++]<<p,p+=8),I=g[f&x];n:for(;;){if(R=I>>>24,f>>>=R,p-=R,R=I>>>16&255,R&16){if(F=I&65535,R&=15,p<R&&(f+=q[r++]<<p,p+=8,p<R&&(f+=q[r++]<<p,p+=8)),F+=f&(1<<R)-1,F>l){t.msg="invalid distance too far back",S.mode=_y;break e}if(f>>>=R,p-=R,R=s-o,F>R){if(R=F-R,R>u&&S.sane){t.msg="invalid distance too far back",S.mode=_y;break e}if(V=0,U=h,d===0){if(V+=c-R,R<$){$-=R;do j[s++]=h[V++];while(--R);V=s-F,U=j}}else if(d<R){if(V+=c+d-R,R-=d,R<$){$-=R;do j[s++]=h[V++];while(--R);if(V=0,d<$){R=d,$-=R;do j[s++]=h[V++];while(--R);V=s-F,U=j}}}else if(V+=d-R,R<$){$-=R;do j[s++]=h[V++];while(--R);V=s-F,U=j}for(;$>2;)j[s++]=U[V++],j[s++]=U[V++],j[s++]=U[V++],$-=3;$&&(j[s++]=U[V++],$>1&&(j[s++]=U[V++]))}else{V=s-F;do j[s++]=j[V++],j[s++]=j[V++],j[s++]=j[V++],$-=3;while($>2);$&&(j[s++]=j[V++],$>1&&(j[s++]=j[V++]))}}else if((R&64)===0){I=g[(I&65535)+(f&(1<<R)-1)];continue n}else{t.msg="invalid distance code",S.mode=_y;break e}break}}else if((R&64)===0){I=m[(I&65535)+(f&(1<<R)-1)];continue t}else if(R&32){S.mode=gre;break e}else{t.msg="invalid literal/length code",S.mode=_y;break e}break}}while(r<i&&s<a);$=p>>3,r-=$,p-=$<<3,f&=(1<<p)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<a?257+(a-s):257-(s-a),S.hold=f,S.bits=p},Zd=15,UN=852,VN=592,jN=0,lS=1,HN=2,vre=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bre=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_re=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wre=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ere=(e,t,n,r,i,s,o,a)=>{let l=a.bits,c=0,u=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,x=0,I,R,$,F,V,U=null,q,j=new Uint16Array(Zd+1),S=new Uint16Array(Zd+1),T=null,O,y,b;for(c=0;c<=Zd;c++)j[c]=0;for(u=0;u<r;u++)j[t[n+u]]++;for(f=l,h=Zd;h>=1&&j[h]===0;h--);if(f>h&&(f=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<h&&j[d]===0;d++);for(f<d&&(f=d),g=1,c=1;c<=Zd;c++)if(g<<=1,g-=j[c],g<0)return-1;if(g>0&&(e===jN||h!==1))return-1;for(S[1]=0,c=1;c<Zd;c++)S[c+1]=S[c]+j[c];for(u=0;u<r;u++)t[n+u]!==0&&(o[S[t[n+u]]++]=u);if(e===jN?(U=T=o,q=20):e===lS?(U=vre,T=bre,q=257):(U=_re,T=wre,q=0),x=0,u=0,c=d,V=s,p=f,m=0,$=-1,v=1<<f,F=v-1,e===lS&&v>UN||e===HN&&v>VN)return 1;for(;;){O=c-m,o[u]+1<q?(y=0,b=o[u]):o[u]>=q?(y=T[o[u]-q],b=U[o[u]-q]):(y=96,b=0),I=1<<c-m,R=1<<p,d=R;do R-=I,i[V+(x>>m)+R]=O<<24|y<<16|b|0;while(R!==0);for(I=1<<c-1;x&I;)I>>=1;if(I!==0?(x&=I-1,x+=I):x=0,u++,--j[c]===0){if(c===h)break;c=t[n+o[u]]}if(c>f&&(x&F)!==$){for(m===0&&(m=f),V+=d,p=c-m,g=1<<p;p+m<h&&(g-=j[p+m],!(g<=0));)p++,g<<=1;if(v+=1<<p,e===lS&&v>UN||e===HN&&v>VN)return 1;$=x&F,i[$]=f<<24|p<<16|V-s|0}}return x!==0&&(i[V+x]=c-m<<24|64<<16|0),a.bits=f,0},Gp=Ere,xre=0,BR=1,UR=2,{Z_FINISH:zN,Z_BLOCK:Sre,Z_TREES:wy,Z_OK:bu,Z_STREAM_END:Cre,Z_NEED_DICT:Tre,Z_STREAM_ERROR:eo,Z_DATA_ERROR:VR,Z_MEM_ERROR:jR,Z_BUF_ERROR:Ire,Z_DEFLATED:qN}=tf,Dy=16180,$N=16181,WN=16182,GN=16183,KN=16184,YN=16185,ZN=16186,JN=16187,XN=16188,QN=16189,Iy=16190,dl=16191,cS=16192,eR=16193,uS=16194,tR=16195,nR=16196,rR=16197,iR=16198,Ey=16199,xy=16200,sR=16201,oR=16202,aR=16203,lR=16204,cR=16205,dS=16206,uR=16207,dR=16208,Sr=16209,HR=16210,zR=16211,Are=852,kre=592,Dre=15,Mre=Dre,fR=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Nre(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var _u=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.mode<Dy||t.mode>zR?1:0},qR=e=>{if(_u(e))return eo;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Dy,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Are),t.distcode=t.distdyn=new Int32Array(kre),t.sane=1,t.back=-1,bu},$R=e=>{if(_u(e))return eo;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,qR(e)},WR=(e,t)=>{let n;if(_u(e))return eo;let r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?eo:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,$R(e))},GR=(e,t)=>{if(!e)return eo;let n=new Nre;e.state=n,n.strm=e,n.window=null,n.mode=Dy;let r=WR(e,t);return r!==bu&&(e.state=null),r},Rre=e=>GR(e,Mre),hR=!0,fS,hS,Pre=e=>{if(hR){fS=new Int32Array(512),hS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Gp(BR,e.lens,0,288,fS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Gp(UR,e.lens,0,32,hS,0,e.work,{bits:5}),hR=!1}e.lencode=fS,e.lenbits=9,e.distcode=hS,e.distbits=5},KR=(e,t,n,r)=>{let i,s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Ore=(e,t)=>{let n,r,i,s,o,a,l,c,u,d,h,f,p,m,g=0,v,x,I,R,$,F,V,U,q=new Uint8Array(4),j,S,T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_u(e)||!e.output||!e.input&&e.avail_in!==0)return eo;n=e.state,n.mode===dl&&(n.mode=cS),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,h=l,U=bu;e:for(;;)switch(n.mode){case Dy:if(n.wrap===0){n.mode=cS;break}for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,q[0]=c&255,q[1]=c>>>8&255,n.check=hi(n.check,q,2,0),c=0,u=0,n.mode=$N;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Sr;break}if((c&15)!==qN){e.msg="unknown compression method",n.mode=Sr;break}if(c>>>=4,u-=4,V=(c&15)+8,n.wbits===0&&(n.wbits=V),V>15||V>n.wbits){e.msg="invalid window size",n.mode=Sr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?QN:dl,c=0,u=0;break;case $N:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==qN){e.msg="unknown compression method",n.mode=Sr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Sr;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,n.check=hi(n.check,q,2,0)),c=0,u=0,n.mode=WN;case WN:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,q[2]=c>>>16&255,q[3]=c>>>24&255,n.check=hi(n.check,q,4,0)),c=0,u=0,n.mode=GN;case GN:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,n.check=hi(n.check,q,2,0)),c=0,u=0,n.mode=KN;case KN:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(q[0]=c&255,q[1]=c>>>8&255,n.check=hi(n.check,q,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=YN;case YN:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(V=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+f),V)),n.flags&512&&n.wrap&4&&(n.check=hi(n.check,r,f,s)),a-=f,s+=f,n.length-=f),n.length))break e;n.length=0,n.mode=ZN;case ZN:if(n.flags&2048){if(a===0)break e;f=0;do V=r[s+f++],n.head&&V&&n.length<65536&&(n.head.name+=String.fromCharCode(V));while(V&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=hi(n.check,r,f,s)),a-=f,s+=f,V)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=JN;case JN:if(n.flags&4096){if(a===0)break e;f=0;do V=r[s+f++],n.head&&V&&n.length<65536&&(n.head.comment+=String.fromCharCode(V));while(V&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=hi(n.check,r,f,s)),a-=f,s+=f,V)break e}else n.head&&(n.head.comment=null);n.mode=XN;case XN:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Sr;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=dl;break;case QN:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}e.adler=n.check=fR(c),c=0,u=0,n.mode=Iy;case Iy:if(n.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,Tre;e.adler=n.check=1,n.mode=dl;case dl:if(t===Sre||t===wy)break e;case cS:if(n.last){c>>>=u&7,u-=u&7,n.mode=dS;break}for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=eR;break;case 1:if(Pre(n),n.mode=Ey,t===wy){c>>>=2,u-=2;break e}break;case 2:n.mode=nR;break;case 3:e.msg="invalid block type",n.mode=Sr}c>>>=2,u-=2;break;case eR:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Sr;break}if(n.length=c&65535,c=0,u=0,n.mode=uS,t===wy)break e;case uS:n.mode=tR;case tR:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(r.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,n.length-=f;break}n.mode=dl;break;case nR:for(;u<14;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Sr;break}n.have=0,n.mode=rR;case rR:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.lens[T[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},U=Gp(xre,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,U){e.msg="invalid code lengths set",n.mode=Sr;break}n.have=0,n.mode=iR;case iR:for(;n.have<n.nlen+n.ndist;){for(;g=n.lencode[c&(1<<n.lenbits)-1],v=g>>>24,x=g>>>16&255,I=g&65535,!(v<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(I<16)c>>>=v,u-=v,n.lens[n.have++]=I;else{if(I===16){for(S=v+2;u<S;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(c>>>=v,u-=v,n.have===0){e.msg="invalid bit length repeat",n.mode=Sr;break}V=n.lens[n.have-1],f=3+(c&3),c>>>=2,u-=2}else if(I===17){for(S=v+3;u<S;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=v,u-=v,V=0,f=3+(c&7),c>>>=3,u-=3}else{for(S=v+7;u<S;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=v,u-=v,V=0,f=11+(c&127),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Sr;break}for(;f--;)n.lens[n.have++]=V}}if(n.mode===Sr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Sr;break}if(n.lenbits=9,j={bits:n.lenbits},U=Gp(BR,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,U){e.msg="invalid literal/lengths set",n.mode=Sr;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},U=Gp(UR,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,U){e.msg="invalid distances set",n.mode=Sr;break}if(n.mode=Ey,t===wy)break e;case Ey:n.mode=xy;case xy:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,yre(e,h),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===dl&&(n.back=-1);break}for(n.back=0;g=n.lencode[c&(1<<n.lenbits)-1],v=g>>>24,x=g>>>16&255,I=g&65535,!(v<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(x&&(x&240)===0){for(R=v,$=x,F=I;g=n.lencode[F+((c&(1<<R+$)-1)>>R)],v=g>>>24,x=g>>>16&255,I=g&65535,!(R+v<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=R,u-=R,n.back+=R}if(c>>>=v,u-=v,n.back+=v,n.length=I,x===0){n.mode=cR;break}if(x&32){n.back=-1,n.mode=dl;break}if(x&64){e.msg="invalid literal/length code",n.mode=Sr;break}n.extra=x&15,n.mode=sR;case sR:if(n.extra){for(S=n.extra;u<S;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oR;case oR:for(;g=n.distcode[c&(1<<n.distbits)-1],v=g>>>24,x=g>>>16&255,I=g&65535,!(v<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((x&240)===0){for(R=v,$=x,F=I;g=n.distcode[F+((c&(1<<R+$)-1)>>R)],v=g>>>24,x=g>>>16&255,I=g&65535,!(R+v<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=R,u-=R,n.back+=R}if(c>>>=v,u-=v,n.back+=v,x&64){e.msg="invalid distance code",n.mode=Sr;break}n.offset=I,n.extra=x&15,n.mode=aR;case aR:if(n.extra){for(S=n.extra;u<S;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Sr;break}n.mode=lR;case lR:if(l===0)break e;if(f=h-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Sr;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=i,p=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[o++]=m[p++];while(--f);n.length===0&&(n.mode=xy);break;case cR:if(l===0)break e;i[o++]=n.length,l--,n.mode=xy;break;case dS:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[s++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?hi(n.check,i,h,o-h):Xp(n.check,i,h,o-h)),h=l,n.wrap&4&&(n.flags?c:fR(c))!==n.check){e.msg="incorrect data check",n.mode=Sr;break}c=0,u=0}n.mode=uR;case uR:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Sr;break}c=0,u=0}n.mode=dR;case dR:U=Cre;break e;case Sr:U=VR;break e;case HR:return jR;case zR:default:return eo}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<Sr&&(n.mode<dS||t!==zN))&&KR(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?hi(n.check,i,h,e.next_out-h):Xp(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===dl?128:0)+(n.mode===Ey||n.mode===uS?256:0),(d===0&&h===0||t===zN)&&U===bu&&(U=Ire),U},Lre=e=>{if(_u(e))return eo;let t=e.state;return t.window&&(t.window=null),e.state=null,bu},Fre=(e,t)=>{if(_u(e))return eo;let n=e.state;return(n.wrap&2)===0?eo:(n.head=t,t.done=!1,bu)},Bre=(e,t)=>{let n=t.length,r,i,s;return _u(e)||(r=e.state,r.wrap!==0&&r.mode!==Iy)?eo:r.mode===Iy&&(i=1,i=Xp(i,t,n,0),i!==r.check)?VR:(s=KR(e,t,n,n),s?(r.mode=HR,jR):(r.havedict=1,bu))},Ure=$R,Vre=WR,jre=qR,Hre=Rre,zre=GR,qre=Ore,$re=Lre,Wre=Fre,Gre=Bre,Kre="pako inflate (from Nodeca project)",hl={inflateReset:Ure,inflateReset2:Vre,inflateResetKeep:jre,inflateInit:Hre,inflateInit2:zre,inflate:qre,inflateEnd:$re,inflateGetHeader:Wre,inflateSetDictionary:Gre,inflateInfo:Kre};function Yre(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Zre=Yre,YR=Object.prototype.toString,{Z_NO_FLUSH:Jre,Z_FINISH:Xre,Z_OK:tm,Z_STREAM_END:pS,Z_NEED_DICT:mS,Z_STREAM_ERROR:Qre,Z_DATA_ERROR:pR,Z_MEM_ERROR:eie}=tf;function sm(e){this.options=ky.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LR,this.strm.avail_out=0;let n=hl.inflateInit2(this.strm,t.windowBits);if(n!==tm)throw new Error(yu[n]);if(this.header=new Zre,hl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=em.string2buf(t.dictionary):YR.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=hl.inflateSetDictionary(this.strm,t.dictionary),n!==tm)))throw new Error(yu[n])}sm.prototype.push=function(e,t){let n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Xre:Jre,YR.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=hl.inflate(n,o),s===mS&&i&&(s=hl.inflateSetDictionary(n,i),s===tm?s=hl.inflate(n,o):s===pR&&(s=mS));n.avail_in>0&&s===pS&&n.state.wrap>0&&e[n.next_in]!==0;)hl.inflateReset(n),s=hl.inflate(n,o);switch(s){case Qre:case pR:case mS:case eie:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===pS))if(this.options.to==="string"){let l=em.utf8border(n.output,n.next_out),c=n.next_out-l,u=em.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===tm&&a===0)){if(s===pS)return s=hl.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};sm.prototype.onData=function(e){this.chunks.push(e)};sm.prototype.onEnd=function(e){e===tm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ky.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function MS(e,t){let n=new sm(t);if(n.push(e),n.err)throw n.msg||yu[n.err];return n.result}function tie(e,t){return t=t||{},t.raw=!0,MS(e,t)}var nie=sm,rie=MS,iie=tie,sie=MS,oie=tf,aie={Inflate:nie,inflate:rie,inflateRaw:iie,ungzip:sie,constants:oie},{Deflate:i1e,deflate:s1e,deflateRaw:o1e,gzip:a1e}=mre,{Inflate:lie,inflate:cie,inflateRaw:l1e,ungzip:c1e}=aie;var NS=lie,ZR=cie;var XR=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;XR[e]=t}var JR=4294967295;function uie(e,t,n){let r=e;for(let i=0;i<n;i++)r=XR[(r^t[i])&255]^r>>>8;return r}function die(e,t){return(uie(JR,e,t)^JR)>>>0}function RS(e,t,n){let r=e.readUint32(),i=die(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function My(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function Ny(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function Ry(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function Py(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-i]+n[s]>>1)&255}}function Oy(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+n[s]&255;for(;s<r;s++)t[s]=e[s]+fie(t[s-i],n[s],n[s-i])&255}}function fie(e,t,n){let r=e+t-n,i=Math.abs(r-e),s=Math.abs(r-t),o=Math.abs(r-n);return i<=s&&i<=o?e:s<=o?t:n}function QR(e,t,n,r,i,s){switch(e){case 0:My(t,n,i);break;case 1:Ny(t,n,i,s);break;case 2:Ry(t,n,r,i);break;case 3:Py(t,n,r,i,s);break;case 4:Oy(t,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}var hie=new Uint16Array([255]),pie=new Uint8Array(hie.buffer),mie=pie[0]===255;function eP(e){let{data:t,width:n,height:r,channels:i,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a),c=0;for(let u=0;u<7;u++){let d=o[u],h=Math.ceil((n-d.x)/d.xStep),f=Math.ceil((r-d.y)/d.yStep);if(h<=0||f<=0)continue;let p=h*a,m=new Uint8Array(p);for(let g=0;g<f;g++){let v=t[c++],x=t.subarray(c,c+p);c+=p;let I=new Uint8Array(p);QR(v,x,I,m,p,a),m.set(I);for(let R=0;R<h;R++){let $=d.x+R*d.xStep,F=d.y+g*d.yStep;if(!($>=n||F>=r))for(let V=0;V<a;V++)l[(F*n+$)*a+V]=I[R*a+V]}}}if(s===16){let u=new Uint16Array(l.buffer);if(mie)for(let d=0;d<u.length;d++)u[d]=gie(u[d]);return u}else return l}function gie(e){return(e&255)<<8|e>>8&255}var yie=new Uint16Array([255]),vie=new Uint8Array(yie.buffer),bie=vie[0]===255,_ie=new Uint8Array(0);function PS(e){let{data:t,width:n,height:r,channels:i,depth:s}=e,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a),c=_ie,u=0,d,h;for(let f=0;f<r;f++){switch(d=t.subarray(u+1,u+1+a),h=l.subarray(f*a,(f+1)*a),t[u]){case 0:My(d,h,a);break;case 1:Ny(d,h,a,o);break;case 2:Ry(d,h,c,a);break;case 3:Py(d,h,c,a,o);break;case 4:Oy(d,h,c,a,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=h,u+=a+1}if(s===16){let f=new Uint16Array(l.buffer);if(bie)for(let p=0;p<f.length;p++)f[p]=wie(f[p]);return f}else return l}function wie(e){return(e&255)<<8|e>>8&255}var Ly=Uint8Array.of(137,80,78,71,13,10,26,10);function OS(e){if(!tP(e.readBytes(Ly.length)))throw new Error("wrong PNG signature")}function tP(e){if(e.length<Ly.length)return!1;for(let t=0;t<Ly.length;t++)if(e[t]!==Ly[t])return!1;return!0}var nP="tEXt",xie=0,rP=new TextDecoder("latin1");function Sie(e){if(Tie(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}var Cie=/^[\u0000-\u00FF]*$/;function Tie(e){if(!Cie.test(e))throw new Error("invalid latin1 text")}function iP(e,t,n){let r=LS(t);e[r]=Iie(t,n-r.length-1)}function LS(e){for(e.mark();e.readByte()!==xie;);let t=e.offset;e.reset();let n=rP.decode(e.readBytes(t-e.offset-1));return e.skip(1),Sie(n),n}function Iie(e,t){return rP.decode(e.readBytes(t))}var Ji={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},om={UNKNOWN:-1,DEFLATE:0},Fy={UNKNOWN:-1,ADAPTIVE:0},am={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},lm={NONE:0,BACKGROUND:1,PREVIOUS:2},By={SOURCE:0,OVER:1};var Uy=class extends jp{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,n={}){super(t);let{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new NS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=om.UNKNOWN,this._filterMethod=Fy.UNKNOWN,this._interlaceMethod=am.UNKNOWN,this._colorType=Ji.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(OS(this);!this._end;){let t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(OS(this);!this._end;){let t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){let r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case nP:iP(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?RS(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){let r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?RS(this,t+4,n):this.skip(4)}decodeIHDR(){let t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Aie(this.readUint8());let n=this.readUint8();this._colorType=n;let r;switch(n){case Ji.GREYSCALE:r=1;break;case Ji.TRUECOLOUR:r=3;break;case Ji.INDEXED_COLOUR:r=1;break;case Ji.GREYSCALE_ALPHA:r=2;break;case Ji.TRUECOLOUR_ALPHA:r=4;break;case Ji.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==om.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);let n=t/3;this._hasPalette=!0;let r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;let n=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Ji.GREYSCALE:case Ji.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case Ji.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){let r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ji.UNKNOWN:case Ji.GREYSCALE_ALPHA:case Ji.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){let n=LS(this),r=this.readUint8();if(r!==om.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);let i=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:ZR(i)}}decodepHYs(){let t=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){let n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=PS({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{let i=this._apng.frames.at(t-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,r){switch(t.disposeOp){case lm.NONE:break;case lm.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){let o=(i*t.width+s)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[o+a]=0}break;case lm.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){let r=1<<this._png.depth,i=(s,o)=>{let a=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,l=(s*n.width+o)*this._png.channels;return{index:a,frameIndex:l}};switch(n.blendOp){case By.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){let{index:a,frameIndex:l}=i(s,o);for(let c=0;c<this._png.channels;c++)t.data[a+c]=n.data[l+c]}break;case By.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){let{index:a,frameIndex:l}=i(s,o);for(let c=0;c<this._png.channels;c++){let u=n.data[l+this._png.channels-1]/r,d=c%(this._png.channels-1)===0?1:n.data[l+c],h=Math.floor(u*d+(1-u)*t.data[a+c]);t.data[a+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Fy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===am.NO_INTERLACE)this._png.data=PS({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===am.ADAM7)this._png.data=eP({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:lm.NONE,blendOp:By.SOURCE,data:t}),this._inflator=new NS,this._writingDataChunks=!1}};function Aie(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}function sP(e,t){return new Uy(e,t).decode()}var tn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function FS(){tn.console&&typeof tn.console.log=="function"&&tn.console.log.apply(tn.console,arguments)}var cr={log:FS,warn:function(e){tn.console&&(typeof tn.console.warn=="function"?tn.console.warn.apply(tn.console,arguments):FS.call(null,arguments))},error:function(e){tn.console&&(typeof tn.console.error=="function"?tn.console.error.apply(tn.console,arguments):FS(e))}};function BS(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){wu(r.response,t,n)},r.onerror=function(){cr.error("could not download file")},r.send()}function oP(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Vy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var wu=tn.saveAs||((typeof window>"u"?"undefined":tr(window))!=="object"||window!==tn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=tn.URL||tn.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?oP(i.href)?BS(e,t,n):Vy(i,i.target="_blank"):Vy(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Vy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(oP(e))BS(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Vy(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:tr(s)!=="object"&&(cr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return BS(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(tn.HTMLElement)||tn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":tr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(e)}else{var l=tn.URL||tn.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function AP(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var zy=tn.atob.bind(tn),aP=tn.btoa.bind(tn);function US(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Oi(n,r,i,s,t[0],7,-680876936),s=Oi(s,n,r,i,t[1],12,-389564586),i=Oi(i,s,n,r,t[2],17,606105819),r=Oi(r,i,s,n,t[3],22,-1044525330),n=Oi(n,r,i,s,t[4],7,-176418897),s=Oi(s,n,r,i,t[5],12,1200080426),i=Oi(i,s,n,r,t[6],17,-1473231341),r=Oi(r,i,s,n,t[7],22,-45705983),n=Oi(n,r,i,s,t[8],7,1770035416),s=Oi(s,n,r,i,t[9],12,-1958414417),i=Oi(i,s,n,r,t[10],17,-42063),r=Oi(r,i,s,n,t[11],22,-1990404162),n=Oi(n,r,i,s,t[12],7,1804603682),s=Oi(s,n,r,i,t[13],12,-40341101),i=Oi(i,s,n,r,t[14],17,-1502002290),n=Li(n,r=Oi(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Li(s,n,r,i,t[6],9,-1069501632),i=Li(i,s,n,r,t[11],14,643717713),r=Li(r,i,s,n,t[0],20,-373897302),n=Li(n,r,i,s,t[5],5,-701558691),s=Li(s,n,r,i,t[10],9,38016083),i=Li(i,s,n,r,t[15],14,-660478335),r=Li(r,i,s,n,t[4],20,-405537848),n=Li(n,r,i,s,t[9],5,568446438),s=Li(s,n,r,i,t[14],9,-1019803690),i=Li(i,s,n,r,t[3],14,-187363961),r=Li(r,i,s,n,t[8],20,1163531501),n=Li(n,r,i,s,t[13],5,-1444681467),s=Li(s,n,r,i,t[2],9,-51403784),i=Li(i,s,n,r,t[7],14,1735328473),n=Fi(n,r=Li(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Fi(s,n,r,i,t[8],11,-2022574463),i=Fi(i,s,n,r,t[11],16,1839030562),r=Fi(r,i,s,n,t[14],23,-35309556),n=Fi(n,r,i,s,t[1],4,-1530992060),s=Fi(s,n,r,i,t[4],11,1272893353),i=Fi(i,s,n,r,t[7],16,-155497632),r=Fi(r,i,s,n,t[10],23,-1094730640),n=Fi(n,r,i,s,t[13],4,681279174),s=Fi(s,n,r,i,t[0],11,-358537222),i=Fi(i,s,n,r,t[3],16,-722521979),r=Fi(r,i,s,n,t[6],23,76029189),n=Fi(n,r,i,s,t[9],4,-640364487),s=Fi(s,n,r,i,t[12],11,-421815835),i=Fi(i,s,n,r,t[15],16,530742520),n=Bi(n,r=Fi(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Bi(s,n,r,i,t[7],10,1126891415),i=Bi(i,s,n,r,t[14],15,-1416354905),r=Bi(r,i,s,n,t[5],21,-57434055),n=Bi(n,r,i,s,t[12],6,1700485571),s=Bi(s,n,r,i,t[3],10,-1894986606),i=Bi(i,s,n,r,t[10],15,-1051523),r=Bi(r,i,s,n,t[1],21,-2054922799),n=Bi(n,r,i,s,t[8],6,1873313359),s=Bi(s,n,r,i,t[15],10,-30611744),i=Bi(i,s,n,r,t[6],15,-1560198380),r=Bi(r,i,s,n,t[13],21,1309151649),n=Bi(n,r,i,s,t[4],6,-145523070),s=Bi(s,n,r,i,t[11],10,-1120210379),i=Bi(i,s,n,r,t[2],15,718787259),r=Bi(r,i,s,n,t[9],21,-343485551),e[0]=uc(n,e[0]),e[1]=uc(r,e[1]),e[2]=uc(i,e[2]),e[3]=uc(s,e[3])}function Jy(e,t,n,r,i,s){return t=uc(uc(t,e),uc(r,s)),uc(t<<i|t>>>32-i,n)}function Oi(e,t,n,r,i,s,o){return Jy(t&n|~t&r,e,t,i,s,o)}function Li(e,t,n,r,i,s,o){return Jy(t&r|n&~r,e,t,i,s,o)}function Fi(e,t,n,r,i,s,o){return Jy(t^n^r,e,t,i,s,o)}function Bi(e,t,n,r,i,s,o){return Jy(n^(t|~r),e,t,i,s,o)}function kP(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)US(r,kie(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(US(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,US(r,i),r}function kie(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var lP="0123456789abcdef".split("");function Die(e){for(var t="",n=0;n<4;n++)t+=lP[e>>8*n+4&15]+lP[e>>8*n&15];return t}function Mie(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function $S(e){return kP(e).map(Mie).join("")}var Nie=function(e){for(var t=0;t<e.length;t++)e[t]=Die(e[t]);return e.join("")}(kP("hello"))!="5d41402abc4b2a76b9719d911017c592";function uc(e,t){if(Nie){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function WS(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=e,r=a}else a=r;var d=t.length,h=0,f=0,p="";for(l=0;l<d;l++)f=(f+(u=a[h=(h+1)%256]))%256,a[h]=a[f],a[f]=u,o=a[(a[h]+a[f])%256],p+=String.fromCharCode(t.charCodeAt(l)^o);return p}var cP={print:4,modify:8,copy:16,"annot-forms":32};function af(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(cP.perm!==void 0)throw new Error("Invalid permission: "+a);i+=cP[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=$S(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=WS(this.encryptionKey,this.padding)}function lf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function uP(e){if(tr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){tn.console&&cr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ky(e){if(!(this instanceof Ky))return new Ky(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function DP(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Eu(e,t,n,r,i){if(!(this instanceof Eu))return new Eu(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,DP.call(this,r,i)}function cf(e,t,n,r,i){if(!(this instanceof cf))return new cf(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,DP.call(this,r,i)}function Vt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;tr(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=uP;var p="1.3",m=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(Y){p=Y};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var v=f.__private__.getPageFormat=function(Y){return g[Y]};i=i||"a4";var x="compat",I="advanced",R=x;function $(){this.saveGraphicsState(),Z(new Rt($e,0,0,-$e,0,vc()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),c="n",R=I}function F(){this.restoreGraphicsState(),c="S",R=x}var V=f.__private__.combineFontStyleAndFontWeight=function(Y,re){if(Y=="bold"&&re=="normal"||Y=="bold"&&re==400||Y=="normal"&&re=="italic"||Y=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(Y=re==400||re==="normal"?Y==="italic"?"italic":"normal":re!=700&&re!=="bold"||Y!=="normal"?(re==700?"bold":re)+""+Y:"bold"),Y};f.advancedAPI=function(Y){var re=R===x;return re&&$.call(this),typeof Y!="function"||(Y(this),re&&F.call(this)),this},f.compatAPI=function(Y){var re=R===I;return re&&F.call(this),typeof Y!="function"||(Y(this),re&&$.call(this)),this},f.isAdvancedAPI=function(){return R===I};var U,q=function(Y){if(R!==I)throw new Error(Y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=f.roundToPrecision=f.__private__.roundToPrecision=function(Y,re){var _e=t||re;if(isNaN(Y)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Y.toFixed(_e).replace(/0+$/,"")};U=f.hpf=f.__private__.hpf=typeof l=="number"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return j(Y,l)}:l==="smart"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return j(Y,Y>-1&&Y<1?16:5)}:function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return j(Y,16)};var S=f.f2=f.__private__.f2=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f2");return j(Y,2)},T=f.__private__.f3=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f3");return j(Y,3)},O=f.scale=f.__private__.scale=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.scale");return R===x?Y*$e:R===I?Y:void 0},y=function(Y){return O(function(re){return R===x?vc()-re:R===I?re:void 0}(Y))};f.__private__.setPrecision=f.setPrecision=function(Y){typeof parseInt(Y,10)=="number"&&(t=parseInt(Y,10))};var b,w="00000000000000000000000000000000",_=f.__private__.getFileId=function(){return w},E=f.__private__.setFileId=function(Y){return w=Y!==void 0&&/^[a-fA-F0-9]{32}$/.test(Y)?Y.toUpperCase():w.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Er=new af(u.userPermissions,u.userPassword,u.ownerPassword,w)),w};f.setFileId=function(Y){return E(Y),this},f.getFileId=function(){return _()};var C=f.__private__.convertDateToPDFDate=function(Y){var re=Y.getTimezoneOffset(),_e=re<0?"+":"-",Ce=Math.floor(Math.abs(re/60)),Ae=Math.abs(re%60),Ke=[_e,M(Ce),"'",M(Ae),"'"].join("");return["D:",Y.getFullYear(),M(Y.getMonth()+1),M(Y.getDate()),M(Y.getHours()),M(Y.getMinutes()),M(Y.getSeconds()),Ke].join("")},L=f.__private__.convertPDFDateToDate=function(Y){var re=parseInt(Y.substr(2,4),10),_e=parseInt(Y.substr(6,2),10)-1,Ce=parseInt(Y.substr(8,2),10),Ae=parseInt(Y.substr(10,2),10),Ke=parseInt(Y.substr(12,2),10),tt=parseInt(Y.substr(14,2),10);return new Date(re,_e,Ce,Ae,Ke,tt,0)},W=f.__private__.setCreationDate=function(Y){var re;if(Y===void 0&&(Y=new Date),Y instanceof Date)re=C(Y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=Y}return b=re},B=f.__private__.getCreationDate=function(Y){var re=b;return Y==="jsDate"&&(re=L(b)),re};f.setCreationDate=function(Y){return W(Y),this},f.getCreationDate=function(Y){return B(Y)};var G,M=f.__private__.padd2=function(Y){return("0"+parseInt(Y)).slice(-2)},K=f.__private__.padd2Hex=function(Y){return("00"+(Y=Y.toString())).substr(Y.length)},D=0,k=[],z=[],J=0,Q=[],ee=[],ne=!1,he=z;f.__private__.setCustomOutputDestination=function(Y){ne=!0,he=Y};var de=function(Y){ne||(he=Y)};f.__private__.resetCustomOutputDestination=function(){ne=!1,he=z};var Z=f.__private__.out=function(Y){return Y=Y.toString(),J+=Y.length+1,he.push(Y),he},le=f.__private__.write=function(Y){return Z(arguments.length===1?Y.toString():Array.prototype.join.call(arguments," "))},fe=f.__private__.getArrayBuffer=function(Y){for(var re=Y.length,_e=new ArrayBuffer(re),Ce=new Uint8Array(_e);re--;)Ce[re]=Y.charCodeAt(re);return _e},ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ve};var me=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(Y){return me=R===I?Y/$e:Y,this};var Se,xe=f.__private__.getFontSize=f.getFontSize=function(){return R===x?me:me*$e},ke=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(Y){return ke=Y,this},f.__private__.getR2L=f.getR2L=function(){return ke};var Re,je=f.__private__.setZoomMode=function(Y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Y))Se=Y;else if(isNaN(Y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Y+'" is not recognized.');Se=Y}else Se=parseInt(Y,10)};f.__private__.getZoomMode=function(){return Se};var st,Ve=f.__private__.setPageMode=function(Y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Y+'" is not recognized.');Re=Y};f.__private__.getPageMode=function(){return Re};var Qe=f.__private__.setLayoutMode=function(Y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Y+'" is not recognized.');st=Y};f.__private__.getLayoutMode=function(){return st},f.__private__.setDisplayMode=f.setDisplayMode=function(Y,re,_e){return je(Y),Qe(re),Ve(_e),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(Y){if(Object.keys(ht).indexOf(Y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[Y]},f.__private__.getDocumentProperties=function(){return ht},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(Y){for(var re in ht)ht.hasOwnProperty(re)&&Y[re]&&(ht[re]=Y[re]);return this},f.__private__.setDocumentProperty=function(Y,re){if(Object.keys(ht).indexOf(Y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[Y]=re};var Ge,$e,Ze,et,Be,lt={},Xe={},mt=[],Ct={},pt={},it={},It={},wt=null,ft=0,At=[],gt=new uP(f),Bt=e.hotfixes||[],Fn={},Ht={},Mt=[],Rt=function Y(re,_e,Ce,Ae,Ke,tt){if(!(this instanceof Y))return new Y(re,_e,Ce,Ae,Ke,tt);isNaN(re)&&(re=1),isNaN(_e)&&(_e=0),isNaN(Ce)&&(Ce=0),isNaN(Ae)&&(Ae=1),isNaN(Ke)&&(Ke=0),isNaN(tt)&&(tt=0),this._matrix=[re,_e,Ce,Ae,Ke,tt]};Object.defineProperty(Rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(Rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(Rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(Rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(Rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(Rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(Rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(Rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(Rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(Rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(Rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(Rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(Rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Rt.prototype.join=function(Y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(Y)},Rt.prototype.multiply=function(Y){var re=Y.sx*this.sx+Y.shy*this.shx,_e=Y.sx*this.shy+Y.shy*this.sy,Ce=Y.shx*this.sx+Y.sy*this.shx,Ae=Y.shx*this.shy+Y.sy*this.sy,Ke=Y.tx*this.sx+Y.ty*this.shx+this.tx,tt=Y.tx*this.shy+Y.ty*this.sy+this.ty;return new Rt(re,_e,Ce,Ae,Ke,tt)},Rt.prototype.decompose=function(){var Y=this.sx,re=this.shy,_e=this.shx,Ce=this.sy,Ae=this.tx,Ke=this.ty,tt=Math.sqrt(Y*Y+re*re),Nt=(Y/=tt)*_e+(re/=tt)*Ce;_e-=Y*Nt,Ce-=re*Nt;var Ut=Math.sqrt(_e*_e+Ce*Ce);return Nt/=Ut,Y*(Ce/=Ut)<re*(_e/=Ut)&&(Y=-Y,re=-re,Nt=-Nt,tt=-tt),{scale:new Rt(tt,0,0,Ut,0,0),translate:new Rt(1,0,0,1,Ae,Ke),rotate:new Rt(Y,re,-re,Y,0,0),skew:new Rt(1,0,Nt,1,0,0)}},Rt.prototype.toString=function(Y){return this.join(" ")},Rt.prototype.inversed=function(){var Y=this.sx,re=this.shy,_e=this.shx,Ce=this.sy,Ae=this.tx,Ke=this.ty,tt=1/(Y*Ce-re*_e),Nt=Ce*tt,Ut=-re*tt,nn=-_e*tt,hn=Y*tt;return new Rt(Nt,Ut,nn,hn,-Nt*Ae-nn*Ke,-Ut*Ae-hn*Ke)},Rt.prototype.applyToPoint=function(Y){var re=Y.x*this.sx+Y.y*this.shx+this.tx,_e=Y.x*this.shy+Y.y*this.sy+this.ty;return new ma(re,_e)},Rt.prototype.applyToRectangle=function(Y){var re=this.applyToPoint(Y),_e=this.applyToPoint(new ma(Y.x+Y.w,Y.y+Y.h));return new xf(re.x,re.y,_e.x-re.x,_e.y-re.y)},Rt.prototype.clone=function(){var Y=this.sx,re=this.shy,_e=this.shx,Ce=this.sy,Ae=this.tx,Ke=this.ty;return new Rt(Y,re,_e,Ce,Ae,Ke)},f.Matrix=Rt;var zt=f.matrixMult=function(Y,re){return re.multiply(Y)},Ee=new Rt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ee;var Pe=function(Y,re){if(!pt[Y]){var _e=(re instanceof Eu?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);re.id=_e,pt[Y]=_e,Ct[_e]=re,gt.publish("addPattern",re)}};f.ShadingPattern=Eu,f.TilingPattern=cf,f.addShadingPattern=function(Y,re){return q("addShadingPattern()"),Pe(Y,re),this},f.beginTilingPattern=function(Y){q("beginTilingPattern()"),Sf(Y.boundingBox[0],Y.boundingBox[1],Y.boundingBox[2]-Y.boundingBox[0],Y.boundingBox[3]-Y.boundingBox[1],Y.matrix)},f.endTilingPattern=function(Y,re){q("endTilingPattern()"),re.stream=ee[G].join(`
`),Pe(Y,re),gt.publish("endTilingPattern",re),Mt.pop().restore()};var Fe,ze=f.__private__.newObject=function(){var Y=$t();return ot(Y,!0),Y},$t=f.__private__.newObjectDeferred=function(){return D++,k[D]=function(){return J},D},ot=function(Y,re){return re=typeof re=="boolean"&&re,k[Y]=J,re&&Z(Y+" 0 obj"),Y},bt=f.__private__.newAdditionalObject=function(){var Y={objId:$t(),content:""};return Q.push(Y),Y},Sn=$t(),xt=$t(),yt=f.__private__.decodeColorString=function(Y){var re=Y.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length!==5||re[4]!=="k"&&re[4]!=="K"||(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var _e=parseFloat(re[0]);re=[_e,_e,_e,"r"]}for(var Ce="#",Ae=0;Ae<3;Ae++)Ce+=("0"+Math.floor(255*parseFloat(re[Ae])).toString(16)).slice(-2);return Ce},fn=f.__private__.encodeColorString=function(Y){var re;typeof Y=="string"&&(Y={ch1:Y});var _e=Y.ch1,Ce=Y.ch2,Ae=Y.ch3,Ke=Y.ch4,tt=Y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Nt=new AP(_e);if(Nt.ok)_e=Nt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Ut=parseInt(_e.substr(1),16);_e=Ut>>16&255,Ce=Ut>>8&255,Ae=255&Ut}if(Ce===void 0||Ke===void 0&&_e===Ce&&Ce===Ae)re=typeof _e=="string"?_e+" "+tt[0]:Y.precision===2?S(_e/255)+" "+tt[0]:T(_e/255)+" "+tt[0];else if(Ke===void 0||tr(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return["1.","1.","1.",tt[1]].join(" ");re=typeof _e=="string"?[_e,Ce,Ae,tt[1]].join(" "):Y.precision===2?[S(_e/255),S(Ce/255),S(Ae/255),tt[1]].join(" "):[T(_e/255),T(Ce/255),T(Ae/255),tt[1]].join(" ")}else re=typeof _e=="string"?[_e,Ce,Ae,Ke,tt[2]].join(" "):Y.precision===2?[S(_e),S(Ce),S(Ae),S(Ke),tt[2]].join(" "):[T(_e),T(Ce),T(Ae),T(Ke),tt[2]].join(" ");return re},Zt=f.__private__.getFilters=function(){return o},Gt=f.__private__.putStream=function(Y){var re=(Y=Y||{}).data||"",_e=Y.filters||Zt(),Ce=Y.alreadyAppliedFilters||[],Ae=Y.addLength1||!1,Ke=re.length,tt=Y.objectId,Nt=function(Xr){return Xr};if(u!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Nt=Er.encryptor(tt,0));var Ut={};_e===!0&&(_e=["FlateEncode"]);var nn=Y.additionalKeyValues||[],hn=(Ut=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(re,_e):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(Ut.data.length!==0&&(nn.push({key:"Length",value:Ut.data.length}),Ae===!0&&nn.push({key:"Length1",value:Ke})),hn.length!=0)if(hn.split("/").length-1==1)nn.push({key:"Filter",value:hn});else{nn.push({key:"Filter",value:"["+hn+"]"});for(var qn=0;qn<nn.length;qn+=1)if(nn[qn].key==="DecodeParms"){for(var Tr=[],$r=0;$r<Ut.reverseChain.split("/").length-1;$r+=1)Tr.push("null");Tr.push(nn[qn].value),nn[qn].value="["+Tr.join(" ")+"]"}}Z("<<");for(var fr=0;fr<nn.length;fr++)Z("/"+nn[fr].key+" "+nn[fr].value);Z(">>"),Ut.data.length!==0&&(Z("stream"),Z(Nt(Ut.data)),Z("endstream"))},Mn=f.__private__.putPage=function(Y){var re=Y.number,_e=Y.data,Ce=Y.objId,Ae=Y.contentsObjId;ot(Ce,!0),Z("<</Type /Page"),Z("/Parent "+Y.rootDictionaryObjId+" 0 R"),Z("/Resources "+Y.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(U(Y.mediaBox.bottomLeftX))+" "+parseFloat(U(Y.mediaBox.bottomLeftY))+" "+U(Y.mediaBox.topRightX)+" "+U(Y.mediaBox.topRightY)+"]"),Y.cropBox!==null&&Z("/CropBox ["+U(Y.cropBox.bottomLeftX)+" "+U(Y.cropBox.bottomLeftY)+" "+U(Y.cropBox.topRightX)+" "+U(Y.cropBox.topRightY)+"]"),Y.bleedBox!==null&&Z("/BleedBox ["+U(Y.bleedBox.bottomLeftX)+" "+U(Y.bleedBox.bottomLeftY)+" "+U(Y.bleedBox.topRightX)+" "+U(Y.bleedBox.topRightY)+"]"),Y.trimBox!==null&&Z("/TrimBox ["+U(Y.trimBox.bottomLeftX)+" "+U(Y.trimBox.bottomLeftY)+" "+U(Y.trimBox.topRightX)+" "+U(Y.trimBox.topRightY)+"]"),Y.artBox!==null&&Z("/ArtBox ["+U(Y.artBox.bottomLeftX)+" "+U(Y.artBox.bottomLeftY)+" "+U(Y.artBox.topRightX)+" "+U(Y.artBox.topRightY)+"]"),typeof Y.userUnit=="number"&&Y.userUnit!==1&&Z("/UserUnit "+Y.userUnit),gt.publish("putPage",{objId:Ce,pageContext:At[re],pageNumber:re,page:_e}),Z("/Contents "+Ae+" 0 R"),Z(">>"),Z("endobj");var Ke=_e.join(`
`);return R===I&&(Ke+=`
Q`),ot(Ae,!0),Gt({data:Ke,filters:Zt(),objectId:Ae}),Z("endobj"),Ce},jn=f.__private__.putPages=function(){var Y,re,_e=[];for(Y=1;Y<=ft;Y++)At[Y].objId=$t(),At[Y].contentsObjId=$t();for(Y=1;Y<=ft;Y++)_e.push(Mn({number:Y,data:ee[Y],objId:At[Y].objId,contentsObjId:At[Y].contentsObjId,mediaBox:At[Y].mediaBox,cropBox:At[Y].cropBox,bleedBox:At[Y].bleedBox,trimBox:At[Y].trimBox,artBox:At[Y].artBox,userUnit:At[Y].userUnit,rootDictionaryObjId:Sn,resourceDictionaryObjId:xt}));ot(Sn,!0),Z("<</Type /Pages");var Ce="/Kids [";for(re=0;re<ft;re++)Ce+=_e[re]+" 0 R ";Z(Ce+"]"),Z("/Count "+ft),Z(">>"),Z("endobj"),gt.publish("postPutPages")},ur=function(Y){gt.publish("putFont",{font:Y,out:Z,newObject:ze,putStream:Gt}),Y.isAlreadyPutted!==!0&&(Y.objectNumber=ze(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+lf(Y.postScriptName)),Z("/Subtype /Type1"),typeof Y.encoding=="string"&&Z("/Encoding /"+Y.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Pr=function(Y){Y.objectNumber=ze();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[U(Y.x),U(Y.y),U(Y.x+Y.width),U(Y.y+Y.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"});var _e=Y.pages[1].join(`
`);Gt({data:_e,additionalKeyValues:re,objectId:Y.objectNumber}),Z("endobj")},dr=function(Y,re){re||(re=21);var _e=ze(),Ce=function(tt,Nt){var Ut,nn=[],hn=1/(Nt-1);for(Ut=0;Ut<1;Ut+=hn)nn.push(Ut);if(nn.push(1),tt[0].offset!=0){var qn={offset:0,color:tt[0].color};tt.unshift(qn)}if(tt[tt.length-1].offset!=1){var Tr={offset:1,color:tt[tt.length-1].color};tt.push(Tr)}for(var $r="",fr=0,Xr=0;Xr<nn.length;Xr++){for(Ut=nn[Xr];Ut>tt[fr+1].offset;)fr++;var Wr=tt[fr].offset,mi=(Ut-Wr)/(tt[fr+1].offset-Wr),va=tt[fr].color,no=tt[fr+1].color;$r+=K(Math.round((1-mi)*va[0]+mi*no[0]).toString(16))+K(Math.round((1-mi)*va[1]+mi*no[1]).toString(16))+K(Math.round((1-mi)*va[2]+mi*no[2]).toString(16))}return $r.trim()}(Y.colors,re),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+re+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gt({data:Ce,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),Z("endobj"),Y.objectNumber=ze(),Z("<< /ShadingType "+Y.type),Z("/ColorSpace /DeviceRGB");var Ke="/Coords ["+U(parseFloat(Y.coords[0]))+" "+U(parseFloat(Y.coords[1]))+" ";Y.type===2?Ke+=U(parseFloat(Y.coords[2]))+" "+U(parseFloat(Y.coords[3])):Ke+=U(parseFloat(Y.coords[2]))+" "+U(parseFloat(Y.coords[3]))+" "+U(parseFloat(Y.coords[4]))+" "+U(parseFloat(Y.coords[5])),Z(Ke+="]"),Y.matrix&&Z("/Matrix ["+Y.matrix.toString()+"]"),Z("/Function "+_e+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Ar=function(Y,re){var _e=$t(),Ce=ze();re.push({resourcesOid:_e,objectOid:Ce}),Y.objectNumber=Ce;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+Y.boundingBox.map(U).join(" ")+"]"}),Ae.push({key:"XStep",value:U(Y.xStep)}),Ae.push({key:"YStep",value:U(Y.yStep)}),Ae.push({key:"Resources",value:_e+" 0 R"}),Y.matrix&&Ae.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"}),Gt({data:Y.stream,additionalKeyValues:Ae,objectId:Y.objectNumber}),Z("endobj")},be=function(Y){for(var re in Y.objectNumber=ze(),Z("<<"),Y)switch(re){case"opacity":Z("/ca "+S(Y[re]));break;case"stroke-opacity":Z("/CA "+S(Y[re]))}Z(">>"),Z("endobj")},Ne=function(Y){ot(Y.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var re in Z("/Font <<"),lt)lt.hasOwnProperty(re)&&(d===!1||d===!0&&h.hasOwnProperty(re))&&Z("/"+re+" "+lt[re].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(Ct).length>0){for(var re in Z("/Shading <<"),Ct)Ct.hasOwnProperty(re)&&Ct[re]instanceof Eu&&Ct[re].objectNumber>=0&&Z("/"+re+" "+Ct[re].objectNumber+" 0 R");gt.publish("putShadingPatternDict"),Z(">>")}}(),function(re){if(Object.keys(Ct).length>0){for(var _e in Z("/Pattern <<"),Ct)Ct.hasOwnProperty(_e)&&Ct[_e]instanceof f.TilingPattern&&Ct[_e].objectNumber>=0&&Ct[_e].objectNumber<re&&Z("/"+_e+" "+Ct[_e].objectNumber+" 0 R");gt.publish("putTilingPatternDict"),Z(">>")}}(Y.objectOid),function(){if(Object.keys(it).length>0){var re;for(re in Z("/ExtGState <<"),it)it.hasOwnProperty(re)&&it[re].objectNumber>=0&&Z("/"+re+" "+it[re].objectNumber+" 0 R");gt.publish("putGStateDict"),Z(">>")}}(),function(){for(var re in Z("/XObject <<"),Fn)Fn.hasOwnProperty(re)&&Fn[re].objectNumber>=0&&Z("/"+re+" "+Fn[re].objectNumber+" 0 R");gt.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},Je=function(Y){Xe[Y.fontName]=Xe[Y.fontName]||{},Xe[Y.fontName][Y.fontStyle]=Y.id},Ue=function(Y,re,_e,Ce,Ae){var Ke={id:"F"+(Object.keys(lt).length+1).toString(10),postScriptName:Y,fontName:re,fontStyle:_e,encoding:Ce,isStandardFont:Ae||!1,metadata:{}};return gt.publish("addFont",{font:Ke,instance:this}),lt[Ke.id]=Ke,Je(Ke),Ke.id},rt=f.__private__.pdfEscape=f.pdfEscape=function(Y,re){return function(_e,Ce){var Ae,Ke,tt,Nt,Ut,nn,hn,qn,Tr;if(tt=(Ce=Ce||{}).sourceEncoding||"Unicode",Ut=Ce.outputEncoding,(Ce.autoencode||Ut)&&lt[Ge].metadata&&lt[Ge].metadata[tt]&&lt[Ge].metadata[tt].encoding&&(Nt=lt[Ge].metadata[tt].encoding,!Ut&&lt[Ge].encoding&&(Ut=lt[Ge].encoding),!Ut&&Nt.codePages&&(Ut=Nt.codePages[0]),typeof Ut=="string"&&(Ut=Nt[Ut]),Ut)){for(hn=!1,nn=[],Ae=0,Ke=_e.length;Ae<Ke;Ae++)(qn=Ut[_e.charCodeAt(Ae)])?nn.push(String.fromCharCode(qn)):nn.push(_e[Ae]),nn[Ae].charCodeAt(0)>>8&&(hn=!0);_e=nn.join("")}for(Ae=_e.length;hn===void 0&&Ae!==0;)_e.charCodeAt(Ae-1)>>8&&(hn=!0),Ae--;if(!hn)return _e;for(nn=Ce.noBOM?[]:[254,255],Ae=0,Ke=_e.length;Ae<Ke;Ae++){if((Tr=(qn=_e.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nn.push(Tr),nn.push(qn-(Tr<<8))}return String.fromCharCode.apply(void 0,nn)}(Y,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Et=f.__private__.beginPage=function(Y){ee[++ft]=[],At[ft]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Y[0]),topRightY:Number(Y[1])}},Kt(ft),de(ee[G])},St=function(Y,re){var _e,Ce,Ae;switch(n=re||n,typeof Y=="string"&&(_e=v(Y.toLowerCase()),Array.isArray(_e)&&(Ce=_e[0],Ae=_e[1])),Array.isArray(Y)&&(Ce=Y[0]*$e,Ae=Y[1]*$e),isNaN(Ce)&&(Ce=i[0],Ae=i[1]),(Ce>14400||Ae>14400)&&(cr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Ae=Math.min(14400,Ae)),i=[Ce,Ae],n.substr(0,1)){case"l":Ae>Ce&&(i=[Ae,Ce]);break;case"p":Ce>Ae&&(i=[Ae,Ce])}Et(i),Xt(No),Z(Du),wf!==0&&Z(wf+" J"),Ef!==0&&Z(Ef+" j"),gt.publish("addPage",{pageNumber:ft})},on=function(Y){Y>0&&Y<=ft&&(ee.splice(Y,1),At.splice(Y,1),ft--,G>ft&&(G=ft),this.setPage(G))},Kt=function(Y){Y>0&&Y<=ft&&(G=Y)},qt=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ee.length-1},Jt=function(Y,re,_e){var Ce,Ae=void 0;return _e=_e||{},Y=Y!==void 0?Y:lt[Ge].fontName,re=re!==void 0?re:lt[Ge].fontStyle,Ce=Y.toLowerCase(),Xe[Ce]!==void 0&&Xe[Ce][re]!==void 0?Ae=Xe[Ce][re]:Xe[Y]!==void 0&&Xe[Y][re]!==void 0?Ae=Xe[Y][re]:_e.disableWarning===!1&&cr.warn("Unable to look up font label for font '"+Y+"', '"+re+"'. Refer to getFontList() for available fonts."),Ae||_e.noFallback||(Ae=Xe.times[re])==null&&(Ae=Xe.times.normal),Ae},Hn=f.__private__.putInfo=function(){var Y=ze(),re=function(Ce){return Ce};for(var _e in u!==null&&(re=Er.encryptor(Y,0)),Z("<<"),Z("/Producer ("+rt(re("jsPDF "+Vt.version))+")"),ht)ht.hasOwnProperty(_e)&&ht[_e]&&Z("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+rt(re(ht[_e]))+")");Z("/CreationDate ("+rt(re(b))+")"),Z(">>"),Z("endobj")},sr=f.__private__.putCatalog=function(Y){var re=(Y=Y||{}).rootDictionaryObjId||Sn;switch(ze(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+re+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+Se;_e.substr(_e.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+S(Se)+"]")}switch(st||(st="continuous"),st){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Re&&Z("/PageMode /"+Re),gt.publish("putCatalog"),Z(">>"),Z("endobj")},Rn=f.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(D+1)),Z("/Root "+D+" 0 R"),Z("/Info "+(D-1)+" 0 R"),u!==null&&Z("/Encrypt "+Er.oid+" 0 R"),Z("/ID [ <"+w+"> <"+w+"> ]"),Z(">>")},Qt=f.__private__.putHeader=function(){Z("%PDF-"+p),Z("%\xBA\xDF\xAC\xE0")},Or=f.__private__.putXRef=function(){var Y="0000000000";Z("xref"),Z("0 "+(D+1)),Z("0000000000 65535 f ");for(var re=1;re<=D;re++)typeof k[re]=="function"?Z((Y+k[re]()).slice(-10)+" 00000 n "):k[re]!==void 0?Z((Y+k[re]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Cr=f.__private__.buildDocument=function(){var Y;D=0,J=0,z=[],k=[],Q=[],Sn=$t(),xt=$t(),de(z),gt.publish("buildDocument"),Qt(),jn(),function(){gt.publish("putAdditionalObjects");for(var _e=0;_e<Q.length;_e++){var Ce=Q[_e];ot(Ce.objId,!0),Z(Ce.content),Z("endobj")}gt.publish("postPutAdditionalObjects")}(),Y=[],function(){for(var _e in lt)lt.hasOwnProperty(_e)&&(d===!1||d===!0&&h.hasOwnProperty(_e))&&ur(lt[_e])}(),function(){var _e;for(_e in it)it.hasOwnProperty(_e)&&be(it[_e])}(),function(){for(var _e in Fn)Fn.hasOwnProperty(_e)&&Pr(Fn[_e])}(),function(_e){var Ce;for(Ce in Ct)Ct.hasOwnProperty(Ce)&&(Ct[Ce]instanceof Eu?dr(Ct[Ce]):Ct[Ce]instanceof cf&&Ar(Ct[Ce],_e))}(Y),gt.publish("putResources"),Y.forEach(Ne),Ne({resourcesOid:xt,objectOid:Number.MAX_SAFE_INTEGER}),gt.publish("postPutResources"),u!==null&&(Er.oid=ze(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Er.v),Z("/R "+Er.r),Z("/U <"+Er.toHexString(Er.U)+">"),Z("/O <"+Er.toHexString(Er.O)+">"),Z("/P "+Er.P),Z(">>"),Z("endobj")),Hn(),sr();var re=J;return Or(),Rn(),Z("startxref"),Z(""+re),Z("%%EOF"),de(ee[G]),z.join(`
`)},Jr=f.__private__.getBlob=function(Y){return new Blob([fe(Y)],{type:"application/pdf"})},Ui=f.output=f.__private__.output=(Fe=function(Y,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",Y){case void 0:return Cr();case"save":f.save(re.filename);break;case"arraybuffer":return fe(Cr());case"blob":return Jr(Cr());case"bloburi":case"bloburl":if(tn.URL!==void 0&&typeof tn.URL.createObjectURL=="function")return tn.URL&&tn.URL.createObjectURL(Jr(Cr()))||void 0;cr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Ce=Cr();try{_e=aP(Ce)}catch{_e=aP(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+re.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(tn)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Ae=re.pdfObjectUrl,Ke="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Nt=tn.open();return Nt!==null&&Nt.document.write(tt),Nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(tn)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',nn=tn.open();if(nn!==null){nn.document.write(Ut);var hn=this;nn.document.documentElement.querySelector("#pdfViewer").onload=function(){nn.document.title=re.filename,nn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(hn.output("bloburl"))}}return nn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(tn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',Tr=tn.open();if(Tr!==null&&(Tr.document.write(qn),Tr.document.title=re.filename),Tr||typeof safari>"u")return Tr;break;case"datauri":case"dataurl":return tn.document.location.href=this.output("datauristring",re);default:return null}},Fe.foo=function(){try{return Fe.apply(this,arguments)}catch(_e){var Y=_e.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var re="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+_e.message;if(!tn.console)throw new Error(re);tn.console.error(re,_e),tn.alert&&alert(re)}},Fe.foo.bar=Fe,Fe.foo),qr=function(Y){return Array.isArray(Bt)===!0&&Bt.indexOf(Y)>-1};switch(r){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=qr("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);$e=r}var Er=null;W(),E();var Si=f.__private__.getPageInfo=f.getPageInfo=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[Y].objId,pageNumber:Y,pageContext:At[Y]}},An=f.__private__.getPageInfoByObjId=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in At)if(At[re].objId===Y)break;return Si(re)},zn=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:At[G].objId,pageNumber:G,pageContext:At[G]}};f.addPage=function(){return St.apply(this,arguments),this},f.setPage=function(){return Kt.apply(this,arguments),de.call(this,ee[G]),this},f.insertPage=function(Y){return this.addPage(),this.movePage(G,Y),this},f.movePage=function(Y,re){var _e,Ce;if(Y>re){_e=ee[Y],Ce=At[Y];for(var Ae=Y;Ae>re;Ae--)ee[Ae]=ee[Ae-1],At[Ae]=At[Ae-1];ee[re]=_e,At[re]=Ce,this.setPage(re)}else if(Y<re){_e=ee[Y],Ce=At[Y];for(var Ke=Y;Ke<re;Ke++)ee[Ke]=ee[Ke+1],At[Ke]=At[Ke+1];ee[re]=_e,At[re]=Ce,this.setPage(re)}return this},f.deletePage=function(){return on.apply(this,arguments),this},f.__private__.text=f.text=function(Y,re,_e,Ce,Ae){var Ke,tt,Nt,Ut,nn,hn,qn,Tr,$r,fr=(Ce=Ce||{}).scope||this;if(typeof Y=="number"&&typeof re=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Xr=_e;_e=re,re=Y,Y=Xr}if(arguments[3]instanceof Rt==0?(Nt=arguments[4],Ut=arguments[5],tr(qn=arguments[3])==="object"&&qn!==null||(typeof Nt=="string"&&(Ut=Nt,Nt=null),typeof qn=="string"&&(Ut=qn,qn=null),typeof qn=="number"&&(Nt=qn,qn=null),Ce={flags:qn,angle:Nt,align:Ut})):(q("The transform parameter of text() with a Matrix value"),$r=Ae),isNaN(re)||isNaN(_e)||Y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Y.length===0)return fr;var Wr,mi="",va=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:Ms,no=fr.internal.scaleFactor;function ba(Jn){return Jn=Jn.split("	").join(Array(Ce.TabLen||9).join(" ")),rt(Jn,qn)}function Tf(Jn){for(var ar,Fr=Jn.concat(),Qr=[],Ea=Fr.length;Ea--;)typeof(ar=Fr.shift())=="string"?Qr.push(ar):Array.isArray(Jn)&&(ar.length===1||ar[1]===void 0&&ar[2]===void 0)?Qr.push(ar[0]):Qr.push([ar[0],ar[1],ar[2]]);return Qr}function Nu(Jn,ar){var Fr;if(typeof Jn=="string")Fr=ar(Jn)[0];else if(Array.isArray(Jn)){for(var Qr,Ea,Lf=Jn.concat(),Ou=[],Cm=Lf.length;Cm--;)typeof(Qr=Lf.shift())=="string"?Ou.push(ar(Qr)[0]):Array.isArray(Qr)&&typeof Qr[0]=="string"&&(Ea=ar(Qr[0],Qr[1],Qr[2]),Ou.push([Ea[0],Ea[1],Ea[2]]));Fr=Ou}return Fr}var _l=!1,bc=!0;if(typeof Y=="string")_l=!0;else if(Array.isArray(Y)){var _c=Y.concat();tt=[];for(var wl,gi=_c.length;gi--;)(typeof(wl=_c.shift())!="string"||Array.isArray(wl)&&typeof wl[0]!="string")&&(bc=!1);_l=bc}if(_l===!1)throw new Error('Type of text must be string or Array. "'+Y+'" is not recognized.');typeof Y=="string"&&(Y=Y.match(/[\r?\n]/)?Y.split(/\r\n|\r|\n/g):[Y]);var wc=me/fr.internal.scaleFactor,Ec=wc*(va-1);switch(Ce.baseline){case"bottom":_e-=Ec;break;case"top":_e+=wc-Ec;break;case"hanging":_e+=wc-2*Ec;break;case"middle":_e+=wc/2-Ec}if((hn=Ce.maxWidth||0)>0&&(typeof Y=="string"?Y=fr.splitTextToSize(Y,hn):Object.prototype.toString.call(Y)==="[object Array]"&&(Y=Y.reduce(function(Jn,ar){return Jn.concat(fr.splitTextToSize(ar,hn))},[]))),Ke={text:Y,x:re,y:_e,options:Ce,mutex:{pdfEscape:rt,activeFontKey:Ge,fonts:lt,activeFontSize:me}},gt.publish("preProcessText",Ke),Y=Ke.text,Nt=(Ce=Ke.options).angle,$r instanceof Rt==0&&Nt&&typeof Nt=="number"){Nt*=Math.PI/180,Ce.rotationDirection===0&&(Nt=-Nt),R===I&&(Nt=-Nt);var If=Math.cos(Nt),Af=Math.sin(Nt);$r=new Rt(If,Af,-Af,If,0,0)}else Nt&&Nt instanceof Rt&&($r=Nt);R!==I||$r||($r=Ee),(nn=Ce.charSpace||pa)!==void 0&&(mi+=U(O(nn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tr=Ce.horizontalScale)!==void 0&&(mi+=U(100*Tr)+` Tz
`),Ce.lang;var Vi=-1,_a=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,Ru=fr.internal.getCurrentPageInfo().pageContext;switch(_a){case 0:case!1:case"fill":Vi=0;break;case 1:case!0:case"stroke":Vi=1;break;case 2:case"fillThenStroke":Vi=2;break;case 3:case"invisible":Vi=3;break;case 4:case"fillAndAddForClipping":Vi=4;break;case 5:case"strokeAndAddPathForClipping":Vi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vi=6;break;case 7:case"addToPathForClipping":Vi=7}var xm=Ru.usedRenderingMode!==void 0?Ru.usedRenderingMode:-1;Vi!==-1?mi+=Vi+` Tr
`:xm!==-1&&(mi+=`0 Tr
`),Vi!==-1&&(Ru.usedRenderingMode=Vi),Ut=Ce.align||"left";var Ns,xc=me*va,kf=fr.internal.pageSize.getWidth(),Df=lt[Ge];nn=Ce.charSpace||pa,hn=Ce.maxWidth||0,qn=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var El=[],Sc=function(Jn){return fr.getStringUnitWidth(Jn,{font:Df,charSpace:nn,fontSize:me,doKerning:!1})*me/no};if(Object.prototype.toString.call(Y)==="[object Array]"){var bs;tt=Tf(Y),Ut!=="left"&&(Ns=tt.map(Sc));var _s,xl=0;if(Ut==="right"){re-=Ns[0],Y=[],gi=tt.length;for(var wa=0;wa<gi;wa++)wa===0?(_s=fa(re),bs=ha(_e)):(_s=O(xl-Ns[wa]),bs=-xc),Y.push([tt[wa],_s,bs]),xl=Ns[wa]}else if(Ut==="center"){re-=Ns[0]/2,Y=[],gi=tt.length;for(var Sl=0;Sl<gi;Sl++)Sl===0?(_s=fa(re),bs=ha(_e)):(_s=O((xl-Ns[Sl])/2),bs=-xc),Y.push([tt[Sl],_s,bs]),xl=Ns[Sl]}else if(Ut==="left"){Y=[],gi=tt.length;for(var Mf=0;Mf<gi;Mf++)Y.push(tt[Mf])}else if(Ut==="justify"&&Df.encoding==="Identity-H"){Y=[],gi=tt.length,hn=hn!==0?hn:kf;for(var Pu=0,Lr=0;Lr<gi;Lr++)if(bs=Lr===0?ha(_e):-xc,_s=Lr===0?fa(re):Pu,Lr<gi-1){var Sm=O((hn-Ns[Lr])/(tt[Lr].split(" ").length-1)),Ro=tt[Lr].split(" ");Y.push([Ro[0]+" ",_s,bs]),Pu=0;for(var Po=1;Po<Ro.length;Po++){var Nf=(Sc(Ro[Po-1]+" "+Ro[Po])-Sc(Ro[Po]))*no+Sm;Po==Ro.length-1?Y.push([Ro[Po],Nf,0]):Y.push([Ro[Po]+" ",Nf,0]),Pu-=Nf}}else Y.push([tt[Lr],_s,bs]);Y.push(["",Pu,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Y=[],gi=tt.length,hn=hn!==0?hn:kf,Lr=0;Lr<gi;Lr++){bs=Lr===0?ha(_e):-xc,_s=Lr===0?fa(re):0;var Rf=tt[Lr].split(" ").length-1,Pf=Rf>0?(hn-Ns[Lr])/Rf:0;Lr<gi-1?El.push(U(O(Pf))):El.push(0),Y.push([tt[Lr],_s,bs])}}}(typeof Ce.R2L=="boolean"?Ce.R2L:ke)===!0&&(Y=Nu(Y,function(Jn,ar,Fr){return[Jn.split("").reverse().join(""),ar,Fr]})),Ke={text:Y,x:re,y:_e,options:Ce,mutex:{pdfEscape:rt,activeFontKey:Ge,fonts:lt,activeFontSize:me}},gt.publish("postProcessText",Ke),Y=Ke.text,Wr=Ke.mutex.isHex||!1;var Of=lt[Ge].encoding;Of!=="WinAnsiEncoding"&&Of!=="StandardEncoding"||(Y=Nu(Y,function(Jn,ar,Fr){return[ba(Jn),ar,Fr]})),tt=Tf(Y),Y=[];for(var Cl,Tl,Il,Cc=Array.isArray(tt[0])?1:0,Al="",Tc=function(Jn,ar,Fr){var Qr="";return Fr instanceof Rt?(Fr=typeof Ce.angle=="number"?zt(Fr,new Rt(1,0,0,1,Jn,ar)):zt(new Rt(1,0,0,1,Jn,ar),Fr),R===I&&(Fr=zt(new Rt(1,0,0,-1,0,0),Fr)),Qr=Fr.join(" ")+` Tm
`):Qr=U(Jn)+" "+U(ar)+` Td
`,Qr},Rs=0;Rs<tt.length;Rs++){switch(Al="",Cc){case 1:Il=(Wr?"<":"(")+tt[Rs][0]+(Wr?">":")"),Cl=parseFloat(tt[Rs][1]),Tl=parseFloat(tt[Rs][2]);break;case 0:Il=(Wr?"<":"(")+tt[Rs]+(Wr?">":")"),Cl=fa(re),Tl=ha(_e)}El!==void 0&&El[Rs]!==void 0&&(Al=El[Rs]+` Tw
`),Rs===0?Y.push(Al+Tc(Cl,Tl,$r)+Il):Cc===0?Y.push(Al+Il):Cc===1&&Y.push(Al+Tc(Cl,Tl,$r)+Il)}Y=Cc===0?Y.join(` Tj
T* `):Y.join(` Tj
`),Y+=` Tj
`;var Oo=`BT
/`;return Oo+=Ge+" "+me+` Tf
`,Oo+=U(me*va)+` TL
`,Oo+=gc+`
`,Oo+=mi,Oo+=Y,Z(Oo+="ET"),h[Ge]=!0,fr};var hc=f.__private__.clip=f.clip=function(Y){return Z(Y==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return hc("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Z("n"),this};var li=f.__private__.isValidStyle=function(Y){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Y)!==-1&&(re=!0),re};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(Y){return li(Y)&&(c=Y),this};var ua=f.__private__.getStyle=f.getStyle=function(Y){var re=c;switch(Y){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=Y}return re},ci=f.close=function(){return Z("h"),this};f.stroke=function(){return Z("S"),this},f.fill=function(Y){return Ci("f",Y),this},f.fillEvenOdd=function(Y){return Ci("f*",Y),this},f.fillStroke=function(Y){return Ci("B",Y),this},f.fillStrokeEvenOdd=function(Y){return Ci("B*",Y),this};var Ci=function(Y,re){tr(re)==="object"?vl(re,Y):Z(Y)},Ti=function(Y){Y===null||R===I&&Y===void 0||(Y=ua(Y),Z(Y))};function da(Y,re,_e,Ce,Ae){var Ke=new cf(re||this.boundingBox,_e||this.xStep,Ce||this.yStep,this.gState,Ae||this.matrix);Ke.stream=this.stream;var tt=Y+"$$"+this.cloneIndex+++"$$";return Pe(tt,Ke),Ke}var vl=function(Y,re){var _e=pt[Y.key],Ce=Ct[_e];if(Ce instanceof Eu)Z("q"),Z(Mo(re)),Ce.gState&&f.setGState(Ce.gState),Z(Y.matrix.toString()+" cm"),Z("/"+_e+" sh"),Z("Q");else if(Ce instanceof cf){var Ae=new Rt(1,0,0,-1,0,vc());Y.matrix&&(Ae=Ae.multiply(Y.matrix||Ee),_e=da.call(Ce,Y.key,Y.boundingBox,Y.xStep,Y.yStep,Ae).id),Z("q"),Z("/Pattern cs"),Z("/"+_e+" scn"),Ce.gState&&f.setGState(Ce.gState),Z(re),Z("Q")}},Mo=function(Y){switch(Y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xi=f.moveTo=function(Y,re){return Z(U(O(Y))+" "+U(y(re))+" m"),this},pc=f.lineTo=function(Y,re){return Z(U(O(Y))+" "+U(y(re))+" l"),this},Ii=f.curveTo=function(Y,re,_e,Ce,Ae,Ke){return Z([U(O(Y)),U(y(re)),U(O(_e)),U(y(Ce)),U(O(Ae)),U(y(Ke)),"c"].join(" ")),this};f.__private__.line=f.line=function(Y,re,_e,Ce,Ae){if(isNaN(Y)||isNaN(re)||isNaN(_e)||isNaN(Ce)||!li(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return R===x?this.lines([[_e-Y,Ce-re]],Y,re,[1,1],Ae||"S"):this.lines([[_e-Y,Ce-re]],Y,re,[1,1]).stroke()},f.__private__.lines=f.lines=function(Y,re,_e,Ce,Ae,Ke){var tt,Nt,Ut,nn,hn,qn,Tr,$r,fr,Xr,Wr,mi;if(typeof Y=="number"&&(mi=_e,_e=re,re=Y,Y=mi),Ce=Ce||[1,1],Ke=Ke||!1,isNaN(re)||isNaN(_e)||!Array.isArray(Y)||!Array.isArray(Ce)||!li(Ae)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xi(re,_e),tt=Ce[0],Nt=Ce[1],nn=Y.length,Xr=re,Wr=_e,Ut=0;Ut<nn;Ut++)(hn=Y[Ut]).length===2?(Xr=hn[0]*tt+Xr,Wr=hn[1]*Nt+Wr,pc(Xr,Wr)):(qn=hn[0]*tt+Xr,Tr=hn[1]*Nt+Wr,$r=hn[2]*tt+Xr,fr=hn[3]*Nt+Wr,Xr=hn[4]*tt+Xr,Wr=hn[5]*Nt+Wr,Ii(qn,Tr,$r,fr,Xr,Wr));return Ke&&ci(),Ti(Ae),this},f.path=function(Y){for(var re=0;re<Y.length;re++){var _e=Y[re],Ce=_e.c;switch(_e.op){case"m":Xi(Ce[0],Ce[1]);break;case"l":pc(Ce[0],Ce[1]);break;case"c":Ii.apply(this,Ce);break;case"h":ci()}}return this},f.__private__.rect=f.rect=function(Y,re,_e,Ce,Ae){if(isNaN(Y)||isNaN(re)||isNaN(_e)||isNaN(Ce)||!li(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return R===x&&(Ce=-Ce),Z([U(O(Y)),U(y(re)),U(O(_e)),U(O(Ce)),"re"].join(" ")),Ti(Ae),this},f.__private__.triangle=f.triangle=function(Y,re,_e,Ce,Ae,Ke,tt){if(isNaN(Y)||isNaN(re)||isNaN(_e)||isNaN(Ce)||isNaN(Ae)||isNaN(Ke)||!li(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-Y,Ce-re],[Ae-_e,Ke-Ce],[Y-Ae,re-Ke]],Y,re,[1,1],tt,!0),this},f.__private__.roundedRect=f.roundedRect=function(Y,re,_e,Ce,Ae,Ke,tt){if(isNaN(Y)||isNaN(re)||isNaN(_e)||isNaN(Ce)||isNaN(Ae)||isNaN(Ke)||!li(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*_e),Ke=Math.min(Ke,.5*Ce),this.lines([[_e-2*Ae,0],[Ae*Nt,0,Ae,Ke-Ke*Nt,Ae,Ke],[0,Ce-2*Ke],[0,Ke*Nt,-Ae*Nt,Ke,-Ae,Ke],[2*Ae-_e,0],[-Ae*Nt,0,-Ae,-Ke*Nt,-Ae,-Ke],[0,2*Ke-Ce],[0,-Ke*Nt,Ae*Nt,-Ke,Ae,-Ke]],Y+Ae,re,[1,1],tt,!0),this},f.__private__.ellipse=f.ellipse=function(Y,re,_e,Ce,Ae){if(isNaN(Y)||isNaN(re)||isNaN(_e)||isNaN(Ce)||!li(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*_e,tt=4/3*(Math.SQRT2-1)*Ce;return Xi(Y+_e,re),Ii(Y+_e,re-tt,Y+Ke,re-Ce,Y,re-Ce),Ii(Y-Ke,re-Ce,Y-_e,re-tt,Y-_e,re),Ii(Y-_e,re+tt,Y-Ke,re+Ce,Y,re+Ce),Ii(Y+Ke,re+Ce,Y+_e,re+tt,Y+_e,re),Ti(Ae),this},f.__private__.circle=f.circle=function(Y,re,_e,Ce){if(isNaN(Y)||isNaN(re)||isNaN(_e)||!li(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Y,re,_e,_e,Ce)},f.setFont=function(Y,re,_e){return _e&&(re=V(re,_e)),Ge=Jt(Y,re,{disableWarning:!1}),this};var mc=f.__private__.getFont=f.getFont=function(){return lt[Jt.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var Y,re,_e={};for(Y in Xe)if(Xe.hasOwnProperty(Y))for(re in _e[Y]=[],Xe[Y])Xe[Y].hasOwnProperty(re)&&_e[Y].push(re);return _e},f.addFont=function(Y,re,_e,Ce,Ae){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(_e=V(_e,Ce)),Ue.call(this,Y,re,_e,Ae=Ae||"Identity-H")};var Ms,No=e.lineWidth||.200025,ku=f.__private__.getLineWidth=f.getLineWidth=function(){return No},Xt=f.__private__.setLineWidth=f.setLineWidth=function(Y){return No=Y,Z(U(O(Y))+" w"),this};f.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(Y,re){if(Y=Y||[],re=re||0,isNaN(re)||!Array.isArray(Y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Y=Y.map(function(_e){return U(O(_e))}).join(" "),re=U(O(re)),Z("["+Y+"] "+re+" d"),this};var bl=f.__private__.getLineHeight=f.getLineHeight=function(){return me*Ms};f.__private__.getLineHeight=f.getLineHeight=function(){return me*Ms};var wv=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(Y){return typeof(Y=Y||1.15)=="number"&&(Ms=Y),this},Ev=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ms};wv(e.lineHeight);var fa=f.__private__.getHorizontalCoordinate=function(Y){return O(Y)},ha=f.__private__.getVerticalCoordinate=function(Y){return R===I?Y:At[G].mediaBox.topRightY-At[G].mediaBox.bottomLeftY-O(Y)},xv=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(Y){return U(fa(Y))},Sv=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(Y){return U(ha(Y))},Du=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return yt(Du)},f.__private__.setStrokeColor=f.setDrawColor=function(Y,re,_e,Ce){return Du=fn({ch1:Y,ch2:re,ch3:_e,ch4:Ce,pdfColorType:"draw",precision:2}),Z(Du),this};var _f=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return yt(_f)},f.__private__.setFillColor=f.setFillColor=function(Y,re,_e,Ce){return _f=fn({ch1:Y,ch2:re,ch3:_e,ch4:Ce,pdfColorType:"fill",precision:2}),Z(_f),this};var gc=e.textColor||"0 g",Cv=f.__private__.getTextColor=f.getTextColor=function(){return yt(gc)};f.__private__.setTextColor=f.setTextColor=function(Y,re,_e,Ce){return gc=fn({ch1:Y,ch2:re,ch3:_e,ch4:Ce,pdfColorType:"text",precision:3}),this};var pa=e.charSpace,Tv=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(pa||0)};f.__private__.setCharSpace=f.setCharSpace=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return pa=Y,this};var wf=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(Y){var re=f.CapJoinStyles[Y];if(re===void 0)throw new Error("Line cap style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wf=re,Z(re+" J"),this};var Ef=0;f.__private__.setLineJoin=f.setLineJoin=function(Y){var re=f.CapJoinStyles[Y];if(re===void 0)throw new Error("Line join style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ef=re,Z(re+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(Y){if(Y=Y||0,isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(U(O(Y))+" M"),this},f.GState=Ky,f.setGState=function(Y){(Y=typeof Y=="string"?it[It[Y]]:vm(null,Y)).equals(wt)||(Z("/"+Y.id+" gs"),wt=Y)};var vm=function(Y,re){if(!Y||!It[Y]){var _e=!1;for(var Ce in it)if(it.hasOwnProperty(Ce)&&it[Ce].equals(re)){_e=!0;break}if(_e)re=it[Ce];else{var Ae="GS"+(Object.keys(it).length+1).toString(10);it[Ae]=re,re.id=Ae}return Y&&(It[Y]=re.id),gt.publish("addGState",re),re}};f.addGState=function(Y,re){return vm(Y,re),this},f.saveGraphicsState=function(){return Z("q"),mt.push({key:Ge,size:me,color:gc}),this},f.restoreGraphicsState=function(){Z("Q");var Y=mt.pop();return Ge=Y.key,me=Y.size,gc=Y.color,wt=null,this},f.setCurrentTransformationMatrix=function(Y){return Z(Y.toString()+" cm"),this},f.comment=function(Y){return Z("#"+Y),this};var ma=function(Y,re){var _e=Y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(Ke){isNaN(Ke)||(_e=parseFloat(Ke))}});var Ce=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Ke){isNaN(Ke)||(Ce=parseFloat(Ke))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Ke){Ae=Ke.toString()}}),this},xf=function(Y,re,_e,Ce){ma.call(this,Y,re),this.type="rect";var Ae=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(tt){isNaN(tt)||(Ae=parseFloat(tt))}});var Ke=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(tt){isNaN(tt)||(Ke=parseFloat(tt))}}),this},Mu=function(){this.page=ft,this.currentPage=G,this.pages=ee.slice(0),this.pagesContext=At.slice(0),this.x=Ze,this.y=et,this.matrix=Be,this.width=Cf(G),this.height=_m(G),this.outputDestination=he,this.id="",this.objectNumber=-1};Mu.prototype.restore=function(){ft=this.page,G=this.currentPage,At=this.pagesContext,ee=this.pages,Ze=this.x,et=this.y,Be=this.matrix,bm(G,this.width),ga(G,this.height),he=this.outputDestination};var Sf=function(Y,re,_e,Ce,Ae){Mt.push(new Mu),ft=G=0,ee=[],Ze=Y,et=re,Be=Ae,Et([_e,Ce])};for(var yc in f.beginFormObject=function(Y,re,_e,Ce,Ae){return Sf(Y,re,_e,Ce,Ae),this},f.endFormObject=function(Y){return function(re){if(Ht[re])Mt.pop().restore();else{var _e=new Mu,Ce="Xo"+(Object.keys(Fn).length+1).toString(10);_e.id=Ce,Ht[re]=Ce,Fn[Ce]=_e,gt.publish("addFormObject",_e),Mt.pop().restore()}}(Y),this},f.doFormObject=function(Y,re){var _e=Fn[Ht[Y]];return Z("q"),Z(re.toString()+" cm"),Z("/"+_e.id+" Do"),Z("Q"),this},f.getFormObject=function(Y){var re=Fn[Ht[Y]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},f.save=function(Y,re){return Y=Y||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(wu(Jr(Cr()),Y),typeof wu.unload=="function"&&tn.setTimeout&&setTimeout(wu.unload,911),this):new Promise(function(_e,Ce){try{var Ae=wu(Jr(Cr()),Y);typeof wu.unload=="function"&&tn.setTimeout&&setTimeout(wu.unload,911),_e(Ae)}catch(Ke){Ce(Ke.message)}})},Vt.API)Vt.API.hasOwnProperty(yc)&&(yc==="events"&&Vt.API.events.length?function(Y,re){var _e,Ce,Ae;for(Ae=re.length-1;Ae!==-1;Ae--)_e=re[Ae][0],Ce=re[Ae][1],Y.subscribe.apply(Y,[_e].concat(typeof Ce=="function"?[Ce]:Ce))}(gt,Vt.API.events):f[yc]=Vt.API[yc]);function Cf(Y){return At[Y].mediaBox.topRightX-At[Y].mediaBox.bottomLeftX}function bm(Y,re){At[Y].mediaBox.topRightX=re+At[Y].mediaBox.bottomLeftX}function _m(Y){return At[Y].mediaBox.topRightY-At[Y].mediaBox.bottomLeftY}function ga(Y,re){At[Y].mediaBox.topRightY=re+At[Y].mediaBox.bottomLeftY}var ya=f.getPageWidth=function(Y){return Cf(Y=Y||G)/$e},wm=f.setPageWidth=function(Y,re){bm(Y,re*$e)},vc=f.getPageHeight=function(Y){return _m(Y=Y||G)/$e},Em=f.setPageHeight=function(Y,re){ga(Y,re*$e)};return f.internal={pdfEscape:rt,getStyle:ua,getFont:mc,getFontSize:xe,getCharSpace:Tv,getTextColor:Cv,getLineHeight:bl,getLineHeightFactor:Ev,getLineWidth:ku,write:le,getHorizontalCoordinate:fa,getVerticalCoordinate:ha,getCoordinateString:xv,getVerticalCoordinateString:Sv,collections:{},newObject:ze,newAdditionalObject:bt,newObjectDeferred:$t,newObjectDeferredBegin:ot,getFilters:Zt,putStream:Gt,events:gt,scaleFactor:$e,pageSize:{getWidth:function(){return ya(G)},setWidth:function(Y){wm(G,Y)},getHeight:function(){return vc(G)},setHeight:function(Y){Em(G,Y)}},encryptionOptions:u,encryption:Er,getEncryptor:function(Y){return u!==null?Er.encryptor(Y,0):function(re){return re}},output:Ui,getNumberOfPages:qt,get pages(){return ee},out:Z,f2:S,f3:T,getPageInfo:Si,getPageInfoByObjId:An,getCurrentPageInfo:zn,getPDFVersion:m,Point:ma,Rectangle:xf,Matrix:Rt,hasHotfix:qr},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ya(G)},set:function(Y){wm(G,Y)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return vc(G)},set:function(Y){Em(G,Y)},enumerable:!0,configurable:!0}),function(Y){for(var re=0,_e=ve.length;re<_e;re++){var Ce=Ue.call(this,Y[re][0],Y[re][1],Y[re][2],ve[re][3],!0);d===!1&&(h[Ce]=!0);var Ae=Y[re][0].split("-");Je({id:Ce,fontName:Ae[0],fontStyle:Ae[1]||""})}gt.publish("addFonts",{fonts:lt,dictionary:Xe})}.call(f,ve),Ge="F1",St(i,n),gt.publish("initialized"),f}af.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},af.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},af.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},af.prototype.processOwnerPassword=function(e,t){return WS($S(t).substr(0,5),e)},af.prototype.encryptor=function(e,t){var n=$S(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return WS(n,r)}},Ky.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||tr(e)!==tr(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Vt.API={events:[]},Vt.version="4.1.0";var Rr=Vt.API,YS=1,Su=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yy=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var n=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},sn=function(e){return e.toFixed(2)},cc=function(e){return e.toFixed(5)};Rr.__acroform__={};var gs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},dP=function(e){return e*YS},oa=function(e){var t=new NP,n=Dt.internal.getHeight(e)||0,r=Dt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(sn(r)),Number(sn(n))],t},Rie=Rr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Pie=Rr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Oie=Rr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},jr=Rr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Oie(e,t-1)},Hr=Rr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Rie(e,t-1)},zr=Rr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Pie(e,t-1)},Lie=Rr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(sn(l.lowerLeft_X)),Number(sn(l.lowerLeft_Y)),Number(sn(l.upperRight_X)),Number(sn(l.upperRight_Y))]},Fie=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=GS(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+sn(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=oa(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},GS=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var s=n,o=Dt.internal.getHeight(e)||0;o=o<0?-o:o;var a=Dt.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(S,T,O){if(S+1<i.length){var y=T+" "+i[S+1][0];return jy(y,e,O).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var c,u,d=jy("3",e,s).height,h=e.multiline?o-s:(o-d)/2,f=h+=2,p=0,m=0,g=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+jy(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var v="",x=0,I=0;I<i.length;I++)if(i.hasOwnProperty(I)){var R=!1;if(i[I].length!==1&&g!==i[I].length-1){if((d+2)*(x+2)+2>o)continue e;v+=i[I][g],R=!0,m=I,I--}else{v=(v+=i[I][g]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var $=parseInt(I),F=l($,v,s),V=I>=i.length-1;if(F&&!V){v+=" ",g=0;continue}if(F||V){if(V)m=$;else if(e.multiline&&(d+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(d+2)*(x+2)+2>o)continue e;m=$}}for(var U="",q=p;q<=m;q++){var j=i[q];if(e.multiline){if(q===m){U+=j[g]+" ",g=(g+1)%j.length;continue}if(q===p){U+=j[j.length-1]+" ";continue}}U+=j[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,u=jy(U,e,s).width,e.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}t+=sn(c)+" "+sn(f)+` Td
`,t+="("+Su(U)+`) Tj
`,t+=-sn(c)+` 0 Td
`,f=-(s+2),u=0,p=R?m:m+1,x++,v=""}break}return r.text=t,r.fontSize=s,r},jy=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Bie={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Uie=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Vie=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(To.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Bie)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");YS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new RP,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Uie(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Lie(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Dt.createDefaultAppearanceStream(a),tr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Fie(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var f=a.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var p=f[o];typeof p=="function"&&(p=p.call(i,a)),d+="/"+o+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=f)=="function"&&(p=p.call(i,a)),d+="/"+o+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(m,g){for(var v in m)if(m.hasOwnProperty(v)){var x=v,I=m[v];g.internal.newObjectDeferredBegin(I.objId,!0),tr(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete m[x]}}(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},MP=Rr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),tr(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)==="/"?i+="/"+Yy(e[s].substr(1)):(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Su(r(e[s].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},VS=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Su(r(e))+")"},aa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};aa.prototype.toString=function(){return this.objId+" 0 R"},aa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},aa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:MP(i,this.objId,this.scope)}):i instanceof aa?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var NP=function(){aa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};gs(NP,aa);var RP=function(){aa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Su(n(e))+")"}},set:function(n){e=n}})};gs(RP,aa);var To=function e(){aa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!jr(t,3)},set:function(v){v?this.F=Hr(t,3):this.F=zr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Zy)return;s="FieldObject"+e.FieldNum++}var v=function(x){return x};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Su(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/YS:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Zy||this instanceof xu))return VS(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof pi==0?VS(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof pi==0?v.substr(0,1)==="("?sf(v.substr(1,v.length-2)):sf(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi==1?sf(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof pi==1?"/"+Yy(v):v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof pi==0?VS(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof pi==0?v.substr(0,1)==="("?sf(v.substr(1,v.length-2)):sf(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi==1?sf(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof pi==1?"/"+Yy(v):v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(v){v=!!v,m=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(v){p=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,1)},set:function(v){v?this.Ff=Hr(this.Ff,1):this.Ff=zr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,2)},set:function(v){v?this.Ff=Hr(this.Ff,2):this.Ff=zr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,3)},set:function(v){v?this.Ff=Hr(this.Ff,3):this.Ff=zr(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');g=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(g){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};gs(To,aa);var uf=function(){To.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return MP(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,18)},set:function(n){n?this.Ff=Hr(this.Ff,18):this.Ff=zr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Hr(this.Ff,19):this.Ff=zr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,20)},set:function(n){n?(this.Ff=Hr(this.Ff,20),t.sort()):this.Ff=zr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,22)},set:function(n){n?this.Ff=Hr(this.Ff,22):this.Ff=zr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(n){n?this.Ff=Hr(this.Ff,23):this.Ff=zr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,27)},set:function(n){n?this.Ff=Hr(this.Ff,27):this.Ff=zr(this.Ff,27)}}),this.hasAppearanceStream=!1};gs(uf,To);var df=function(){uf.call(this),this.fontName="helvetica",this.combo=!1};gs(df,uf);var ff=function(){df.call(this),this.combo=!0};gs(ff,df);var qy=function(){ff.call(this),this.edit=!0};gs(qy,ff);var pi=function(){To.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,15)},set:function(n){n?this.Ff=Hr(this.Ff,15):this.Ff=zr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,16)},set:function(n){n?this.Ff=Hr(this.Ff,16):this.Ff=zr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,17)},set:function(n){n?this.Ff=Hr(this.Ff,17):this.Ff=zr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(n){n?this.Ff=Hr(this.Ff,26):this.Ff=zr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Su(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){tr(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+Yy(n)}})};gs(pi,To);var $y=function(){pi.call(this),this.pushButton=!0};gs($y,pi);var hf=function(){pi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};gs(hf,pi);var Zy=function(){var e,t;To.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Su(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){tr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};gs(Zy,To),hf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},hf.prototype.createOption=function(e){var t=new Zy;return t.Parent=this,t.optionName=e,this.Kids.push(t),jie.call(this.scope,t),t};var Wy=function(){pi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};gs(Wy,pi);var xu=function(){To.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,13)},set:function(t){t?this.Ff=Hr(this.Ff,13):this.Ff=zr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,21)},set:function(t){t?this.Ff=Hr(this.Ff,21):this.Ff=zr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(t){t?this.Ff=Hr(this.Ff,23):this.Ff=zr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,24)},set:function(t){t?this.Ff=Hr(this.Ff,24):this.Ff=zr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,25)},set:function(t){t?this.Ff=Hr(this.Ff,25):this.Ff=zr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(t){t?this.Ff=Hr(this.Ff,26):this.Ff=zr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};gs(xu,To);var Gy=function(){xu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,14)},set:function(e){e?this.Ff=Hr(this.Ff,14):this.Ff=zr(this.Ff,14)}}),this.password=!0};gs(Gy,xu);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=oa(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=GS(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+sn(Dt.internal.getWidth(e))+" "+sn(Dt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+sn(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=oa(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Dt.internal.getHeight(e),o=Dt.internal.getWidth(e),a=GS(e,e.caption);return i.push("1 g"),i.push("0 0 "+sn(o)+" "+sn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+sn(o-1)+" "+sn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+sn(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=oa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+sn(Dt.internal.getWidth(e))+" "+sn(Dt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Dt.RadioButton.Circle.YesNormal,t.D[e]=Dt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=oa(e);t.scope=e.scope;var n=[],r=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Dt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+cc(Dt.internal.getWidth(e)/2)+" "+cc(Dt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=oa(e);t.scope=e.scope;var n=[],r=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Dt.internal.Bezier_C).toFixed(5)),o=Number((r*Dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cc(Dt.internal.getWidth(e)/2)+" "+cc(Dt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+cc(Dt.internal.getWidth(e)/2)+" "+cc(Dt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=oa(e);t.scope=e.scope;var n=[],r=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cc(Dt.internal.getWidth(e)/2)+" "+cc(Dt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Dt.RadioButton.Cross.YesNormal,t.D[e]=Dt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=oa(e);t.scope=e.scope;var n=[],r=Dt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+sn(Dt.internal.getWidth(e)-2)+" "+sn(Dt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(sn(r.x1.x)+" "+sn(r.x1.y)+" m"),n.push(sn(r.x2.x)+" "+sn(r.x2.y)+" l"),n.push(sn(r.x4.x)+" "+sn(r.x4.y)+" m"),n.push(sn(r.x3.x)+" "+sn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=oa(e);t.scope=e.scope;var n=Dt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+sn(Dt.internal.getWidth(e))+" "+sn(Dt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+sn(Dt.internal.getWidth(e)-2)+" "+sn(Dt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(sn(n.x1.x)+" "+sn(n.x1.y)+" m"),r.push(sn(n.x2.x)+" "+sn(n.x2.y)+" l"),r.push(sn(n.x4.x)+" "+sn(n.x4.y)+" m"),r.push(sn(n.x3.x)+" "+sn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=oa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+sn(Dt.internal.getWidth(e))+" "+sn(Dt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Dt.internal.getWidth(e),n=Dt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Dt.internal.getWidth=function(e){var t=0;return tr(e)==="object"&&(t=dP(e.Rect[2])),t},Dt.internal.getHeight=function(e){var t=0;return tr(e)==="object"&&(t=dP(e.Rect[3])),t};var jie=Rr.addField=function(e){if(Vie(this,e),!(e instanceof To))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Rr.AcroFormChoiceField=uf,Rr.AcroFormListBox=df,Rr.AcroFormComboBox=ff,Rr.AcroFormEditBox=qy,Rr.AcroFormButton=pi,Rr.AcroFormPushButton=$y,Rr.AcroFormRadioButton=hf,Rr.AcroFormCheckBox=Wy,Rr.AcroFormTextField=xu,Rr.AcroFormPasswordField=Gy,Rr.AcroFormAppearance=Dt,Rr.AcroForm={ChoiceField:uf,ListBox:df,ComboBox:ff,EditBox:qy,Button:pi,PushButton:$y,RadioButton:hf,CheckBox:Wy,TextField:xu,PasswordField:Gy,Appearance:Dt},Vt.AcroForm={ChoiceField:uf,ListBox:df,ComboBox:ff,EditBox:qy,Button:pi,PushButton:$y,RadioButton:hf,CheckBox:Wy,TextField:xu,PasswordField:Gy,Appearance:Dt};var rye=Vt.AcroForm;function PP(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(S,T){var O,y,b,w,_,E=n;if((T=T||n)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(F(S))for(_ in r)for(b=r[_],O=0;O<b.length;O+=1){for(w=!0,y=0;y<b[O].length;y+=1)if(b[O][y]!==void 0&&b[O][y]!==S[y]){w=!1;break}if(w===!0){E=_;break}}else for(_ in r)for(b=r[_],O=0;O<b.length;O+=1){for(w=!0,y=0;y<b[O].length;y+=1)if(b[O][y]!==void 0&&b[O][y]!==S.charCodeAt(y)){w=!1;break}if(w===!0){E=_;break}}return E===n&&T!==n&&(E=T),E},s=function S(T){for(var O=this.internal.write,y=this.internal.putStream,b=(0,this.internal.getFilters)();b.indexOf("FlateEncode")!==-1;)b.splice(b.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var w=[];if(w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Image"}),w.push({key:"Width",value:T.width}),w.push({key:"Height",value:T.height}),T.colorSpace===v.INDEXED?w.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(w.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===v.DEVICE_CMYK&&w.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),w.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&w.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var _="",E=0,C=T.transparency.length;E<C;E++)_+=T.transparency[E]+" "+T.transparency[E]+" ";w.push({key:"Mask",value:"["+_+"]"})}T.sMask!==void 0&&w.push({key:"SMask",value:T.objectId+1+" 0 R"});var L=T.filter!==void 0?["/"+T.filter]:void 0;if(y({data:T.data,additionalKeyValues:w,alreadyAppliedFilters:L,objectId:T.objectId}),O("endobj"),"sMask"in T&&T.sMask!==void 0){var W,B=(W=T.sMaskBitsPerComponent)!==null&&W!==void 0?W:T.bitsPerComponent,G={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:T.sMask};"filter"in T&&(G.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(T.width),G.filter=T.filter),S.call(this,G)}if(T.colorSpace===v.INDEXED){var M=this.internal.newObject();y({data:U(new Uint8Array(T.palette)),objectId:M}),O("endobj")}},o=function(){var S=this.internal.collections[t+"images"];for(var T in S)s.call(this,S[T])},a=function(){var S,T=this.internal.collections[t+"images"],O=this.internal.write;for(var y in T)O("/I"+(S=T[y]).index,S.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var S=this.internal.collections[t+"images"];return l.call(this),S},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(S){return typeof e["process"+S.toUpperCase()]=="function"},h=function(S){return tr(S)==="object"&&S.nodeType===1},f=function(S,T){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var O=""+S.getAttribute("src");if(O.indexOf("data:image/")===0)return zy(unescape(O).split("base64,").pop());var y=e.loadFile(O,!0);if(y!==void 0)return y}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var b;switch(T){case"PNG":b="image/png";break;case"WEBP":b="image/webp";break;default:b="image/jpeg"}return zy(S.toDataURL(b,1).split("base64,").pop())}},p=function(S){var T=this.internal.collections[t+"images"];if(T){for(var O in T)if(S===T[O].alias)return T[O]}},m=function(S,T,O){return S||T||(S=-96,T=-96),S<0&&(S=-1*O.width*72/S/this.internal.scaleFactor),T<0&&(T=-1*O.height*72/T/this.internal.scaleFactor),S===0&&(S=T*O.width/O.height),T===0&&(T=S*O.height/O.width),[S,T]},g=function(S,T,O,y,b,w){var _=m.call(this,O,y,b),E=this.internal.getCoordinateString,C=this.internal.getVerticalCoordinateString,L=c.call(this);if(O=_[0],y=_[1],L[b.index]=b,w){w*=Math.PI/180;var W=Math.cos(w),B=Math.sin(w),G=function(K){return K.toFixed(4)},M=[G(W),G(B),G(-1*B),G(W),0,0,"cm"]}this.internal.write("q"),w?(this.internal.write([1,"0","0",1,E(S),C(T+y),"cm"].join(" ")),this.internal.write(M.join(" ")),this.internal.write([E(O),"0","0",E(y),"0","0","cm"].join(" "))):this.internal.write([E(O),"0","0",E(y),E(S),C(T+y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+b.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=e.__addimage__.sHashCode=function(S){var T,O,y=0;if(typeof S=="string")for(O=S.length,T=0;T<O;T++)y=(y<<5)-y+S.charCodeAt(T),y|=0;else if(F(S))for(O=S.byteLength/2,T=0;T<O;T++)y=(y<<5)-y+S[T],y|=0;return y},R=e.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var T=!0;return S.length===0&&(T=!1),S.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(T=!1),T},$=e.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var T=S.indexOf(",");return T<0?null:S.substring(0,T).trim().endsWith("base64")?S.substring(T+1):null};e.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},V=e.__addimage__.binaryStringToUint8Array=function(S){for(var T=S.length,O=new Uint8Array(T),y=0;y<T;y++)O[y]=S.charCodeAt(y);return O},U=e.__addimage__.arrayBufferToBinaryString=function(S){for(var T="",O=F(S)?S:new Uint8Array(S),y=0;y<O.length;y+=8192)T+=String.fromCharCode.apply(null,O.subarray(y,y+8192));return T};e.addImage=function(){var S,T,O,y,b,w,_,E,C;if(typeof arguments[1]=="number"?(T=n,O=arguments[1],y=arguments[2],b=arguments[3],w=arguments[4],_=arguments[5],E=arguments[6],C=arguments[7]):(T=arguments[1],O=arguments[2],y=arguments[3],b=arguments[4],w=arguments[5],_=arguments[6],E=arguments[7],C=arguments[8]),tr(S=arguments[0])==="object"&&!h(S)&&"imageData"in S){var L=S;S=L.imageData,T=L.format||T||n,O=L.x||O||0,y=L.y||y||0,b=L.w||L.width||b,w=L.h||L.height||w,_=L.alias||_,E=L.compression||E,C=L.rotation||L.angle||C}var W=this.internal.getFilters();if(E===void 0&&W.indexOf("FlateEncode")!==-1&&(E="SLOW"),isNaN(O)||isNaN(y))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=q.call(this,S,T,_,E);return g.call(this,O,y,b,w,B,C),this};var q=function(S,T,O,y){var b,w,_;if(typeof S=="string"&&i(S)===n){S=unescape(S);var E=j(S,!1);(E!==""||(E=e.loadFile(S,!0))!==void 0)&&(S=E)}if(h(S)&&(S=f(S,T)),T=i(S,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((_=O)==null||_.length===0)&&(O=function(C){return typeof C=="string"||F(C)?I(C):F(C.data)?I(C.data):null}(S)),(b=p.call(this,O))||(S instanceof Uint8Array||T==="RGBA"||(w=S,S=V(S)),b=this["process"+T.toUpperCase()](S,u.call(this),O,function(C){return C&&typeof C=="string"&&(C=C.toUpperCase()),C in e.image_compression?C:x.NONE}(y),w)),!b)throw new Error("An unknown error occurred whilst processing the image.");return b},j=e.__addimage__.convertBase64ToBinaryString=function(S,T){T=typeof T!="boolean"||T;var O,y="";if(typeof S=="string"){var b;O=(b=$(S))!==null&&b!==void 0?b:S;try{y=zy(O)}catch(w){if(T)throw R(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+w.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return y};e.getImageProperties=function(S){var T,O,y="";if(h(S)&&(S=f(S)),typeof S=="string"&&i(S)===n&&((y=j(S,!1))===""&&(y=e.loadFile(S)||""),S=y),O=i(S),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(S instanceof Uint8Array||(S=V(S)),!(T=this["process"+O.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=O,T}})(Vt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Vt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var f=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(m.objId),x=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(v(r.contents))+")",s+=" /Popup "+g.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(v(x))+") >>",m.content=s;var I=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+I,r.open&&(s+=" /Open true"),s+=" >>",g.content=s,this.internal.write(m.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(p(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var $=this.annotations._nameMap[r.options.name];r.options.pageNumber=$.page,r.options.top=$.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var F=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+F+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Vt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},a=e.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&i.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(m){var g=0,v=n,x="",I=0;for(g=0;g<m.length;g+=1)v[m.charCodeAt(g)]!==void 0?(I++,typeof(v=v[m.charCodeAt(g)])=="number"&&(x+=String.fromCharCode(v),v=n,I=0),g===m.length-1&&(v=n,x+=m.charAt(g-(I-1)),g-=I-1,I=0)):(v=n,x+=m.charAt(g-I),g-=I,I=0);return x};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&r[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,g,v){return o(m)?s(m)===!1?-1:!c(m)||!o(g)&&!o(v)||!o(v)&&a(g)||a(m)&&!o(g)||a(m)&&l(g)||a(m)&&a(g)?0:u(m)&&o(g)&&!a(g)&&o(v)&&c(v)?3:a(m)||!o(v)?1:2:-1},f=function(m){var g=0,v=0,x=0,I="",R="",$="",F=(m=m||"").split("\\s+"),V=[];for(g=0;g<F.length;g+=1){for(V.push(""),v=0;v<F[g].length;v+=1)I=F[g][v],R=F[g][v-1],$=F[g][v+1],o(I)?(x=h(I,R,$),V[g]+=x!==-1?String.fromCharCode(t[I.charCodeAt(0)][x]):I):V[g]+=I;V[g]=d(V[g])}return V.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var m,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(g)){var x=0;for(v=[],x=0;x<g.length;x+=1)Array.isArray(g[x])?v.push([f(g[x][0]),g[x][1],g[x][2]]):v.push([f(g[x])]);m=v}else m=f(g);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",p])}(Vt.API),Vt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Vt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,p=0,m=0,g=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(I,R){return I.concat(g.splitTextToSize(R,v))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)f<(m=this.getStringUnitWidth(l[x],{font:d})*u)&&(f=m);return f!==0&&(p=l.length),{w:f/=h,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,d,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,p,m,g,v=[],x=[],I=[],R={},$={},F=[],V=[],U=(h=h||{}).autoSize||!1,q=h.printHeaders!==!1,j=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,S=h.margins||Object.assign({width:this.getPageWidth()},t),T=typeof h.padding=="number"?h.padding:3,O=h.headerBackgroundColor||"#c8c8c8",y=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=y,this.setFontSize(j),d==null)x=v=Object.keys(u[0]),I=v.map(function(){return"left"});else if(Array.isArray(d)&&tr(d[0])==="object")for(v=d.map(function(L){return L.name}),x=d.map(function(L){return L.prompt||L.name||""}),I=d.map(function(L){return L.align||"left"}),f=0;f<d.length;f+=1)$[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(x=v=d,I=v.map(function(){return"left"}));if(U||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<v.length;f+=1){for(R[g=v[f]]=u.map(function(L){return L[g]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=R[g],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)F.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[g]=Math.max.apply(null,F)+T+T,F=[]}if(q){var b={};for(f=0;f<v.length;f+=1)b[v[f]]={},b[v[f]].text=x[f],b[v[f]].align=I[f];var w=a.call(this,b,$);V=v.map(function(L){return new s(l,c,$[L],w,b[L].text,void 0,b[L].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var _=d.reduce(function(L,W){return L[W.name]=W.align,L},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var E=a.call(this,u[f],$);for(m=0;m<v.length;m+=1){var C=u[f][v[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:m,data:C},this),o.call(this,new s(l,c,$[v[m]],E,C,f+2,_[v[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var p=l[f];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,p){return Math.max(f,p)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(Vt.API);var OP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},LP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],KS=PP(LP),FP=[100,200,300,400,500,600,700,800,900],Hie=PP(FP);function jS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return OP[s=s||"normal"]?s:"normal"}(e.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof KS[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function fP(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var zie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function pP(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function mP(e){return e.trimLeft()}function qie(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function $ie(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var of,Hy,gP,yP,vP,HS=["times"];function bP(e,t,n,r,i){var s=4,o=wP;switch(i){case Vt.API.image_compression.FAST:s=1,o=_P;break;case Vt.API.image_compression.MEDIUM:s=6,o=EP;break;case Vt.API.image_compression.SLOW:s=9,o=xP}e=function(l,c,u,d){for(var h,f=l.length/c,p=new Uint8Array(l.length+f),m=[Wie,_P,wP,EP,xP],g=0;g<f;g+=1){var v=g*c,x=l.subarray(v,v+c);if(d)p.set(d(x,u,h),v+g);else{for(var I=m.length,R=[],$=0;$<I;$+=1)R[$]=m[$](x,u,h);var F=Kie(R.concat());p.set(R[F],v+g)}h=x}return p}(e,t,Math.ceil(n*r/8),o);var a=vy(e,{level:s});return Vt.API.__addimage__.arrayBufferToBinaryString(a)}function Wie(e){var t=Array.apply([],e);return t.unshift(0),t}function _P(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=e[i-t]||0;r[i+1]=e[i]-s+256&255}return r}function wP(e,t,n){var r=e.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=e[s]-o+256&255}return i}function EP(e,t,n){var r=e.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=e[s-t]||0,a=n&&n[s]||0;i[s+1]=e[s]+256-(o+a>>>1)&255}return i}function xP(e,t,n){var r=e.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=Gie(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);i[s+1]=e[s]-o+256&255}return i}function Gie(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=i&&r<=s?e:i<=s?t:n}function Kie(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function zS(e,t,n){var r=t*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return BP(e,i)>>s&o}function SP(e,t,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(t&a)<<o;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var h=d>>8&255;c.setUint8(u,h)}})(e,s,BP(e,s)&~(a<<o)&65535|l)}function BP(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Yie(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<1+(7&i);e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,u=[],d=0,h=null,f=0,p=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],1&m||(h=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,R=e[t++],$=R>>6&1,F=1<<1+(7&R),V=a,U=l,q=!1;R>>7&&(q=!0,V=t,U=F,t+=3*F);var j=t;for(t++;;){var S;if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}u.push({x:g,y:v,width:x,height:I,has_local_palette:q,palette_offset:V,palette_size:U,data_offset:j,data_length:t-j,transparent_index:h,interlaced:!!$,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,O){var y=this.frameInfo(T),b=y.width*y.height,w=new Uint8Array(b);CP(e,y.data_offset,w,b);var _=y.palette_offset,E=y.transparent_index;E===null&&(E=256);var C=y.width,L=n-C,W=C,B=4*(y.y*n+y.x),G=4*((y.y+y.height)*n+y.x),M=B,K=4*L;y.interlaced===!0&&(K+=4*n*7);for(var D=8,k=0,z=w.length;k<z;++k){var J=w[k];if(W===0&&(W=C,(M+=K)>=G&&(K=4*L+4*n*(D-1),M=B+(C+L)*(D<<1),D>>=1)),J===E)M+=4;else{var Q=e[_+3*J],ee=e[_+3*J+1],ne=e[_+3*J+2];O[M++]=ne,O[M++]=ee,O[M++]=Q,O[M++]=255}--W}},this.decodeAndBlitFrameRGBA=function(T,O){var y=this.frameInfo(T),b=y.width*y.height,w=new Uint8Array(b);CP(e,y.data_offset,w,b);var _=y.palette_offset,E=y.transparent_index;E===null&&(E=256);var C=y.width,L=n-C,W=C,B=4*(y.y*n+y.x),G=4*((y.y+y.height)*n+y.x),M=B,K=4*L;y.interlaced===!0&&(K+=4*n*7);for(var D=8,k=0,z=w.length;k<z;++k){var J=w[k];if(W===0&&(W=C,(M+=K)>=G&&(K=4*L+4*n*(D-1),M=B+(C+L)*(D<<1),D>>=1)),J===E)M+=4;else{var Q=e[_+3*J],ee=e[_+3*J+1],ne=e[_+3*J+2];O[M++]=Q,O[M++]=ee,O[M++]=ne,O[M++]=255}--W}}}function CP(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,d=0,h=0,f=e[t++],p=new Int32Array(4096),m=null;;){for(;u<16&&f!==0;)d|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<l)break;var g=d&c;if(d>>=l,u-=l,g!==s){if(g===o)break;for(var v=g<a?g:m,x=0,I=v;I>s;)I=p[I]>>8,++x;var R=I;if(h+x+(v!==g?1:0)>r)return void cr.log("Warning, gif stream longer than expected.");n[h++]=R;var $=h+=x;for(v!==g&&(n[h++]=R),I=v;x--;)I=p[I],n[--$]=255&I,I>>=8;m!==null&&a<4096&&(p[a++]=m<<8|R,a>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else a=o+1,c=(1<<(l=i+1))-1,m=null}return h!==r&&cr.log("Warning, gif stream shorter than expected."),n}function qS(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),p=new Array(64),m=[],g=0,v=7,x=new Array(64),I=new Array(64),R=new Array(64),$=new Array(256),F=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],b=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function w(B,G){for(var M=0,K=0,D=new Array,k=1;k<=16;k++){for(var z=1;z<=B[k];z++)D[G[K]]=[],D[G[K]][0]=M,D[G[K]][1]=k,K++,M++;M*=2}return D}function _(B){for(var G=B[0],M=B[1]-1;M>=0;)G&1<<M&&(g|=1<<v),M--,--v<0&&(g==255?(E(255),E(0)):E(g),v=7,g=0)}function E(B){m.push(B)}function C(B){E(B>>8&255),E(255&B)}function L(B,G,M,K,D){for(var k,z=D[0],J=D[240],Q=function(me,Se){var xe,ke,Re,je,st,Ve,Qe,ht,Ge,$e,Ze=0;for(Ge=0;Ge<8;++Ge){xe=me[Ze],ke=me[Ze+1],Re=me[Ze+2],je=me[Ze+3],st=me[Ze+4],Ve=me[Ze+5],Qe=me[Ze+6];var et=xe+(ht=me[Ze+7]),Be=xe-ht,lt=ke+Qe,Xe=ke-Qe,mt=Re+Ve,Ct=Re-Ve,pt=je+st,it=je-st,It=et+pt,wt=et-pt,ft=lt+mt,At=lt-mt;me[Ze]=It+ft,me[Ze+4]=It-ft;var gt=.707106781*(At+wt);me[Ze+2]=wt+gt,me[Ze+6]=wt-gt;var Bt=.382683433*((It=it+Ct)-(At=Xe+Be)),Fn=.5411961*It+Bt,Ht=1.306562965*At+Bt,Mt=.707106781*(ft=Ct+Xe),Rt=Be+Mt,zt=Be-Mt;me[Ze+5]=zt+Fn,me[Ze+3]=zt-Fn,me[Ze+1]=Rt+Ht,me[Ze+7]=Rt-Ht,Ze+=8}for(Ze=0,Ge=0;Ge<8;++Ge){xe=me[Ze],ke=me[Ze+8],Re=me[Ze+16],je=me[Ze+24],st=me[Ze+32],Ve=me[Ze+40],Qe=me[Ze+48];var Ee=xe+(ht=me[Ze+56]),Pe=xe-ht,Fe=ke+Qe,ze=ke-Qe,$t=Re+Ve,ot=Re-Ve,bt=je+st,Sn=je-st,xt=Ee+bt,yt=Ee-bt,fn=Fe+$t,Zt=Fe-$t;me[Ze]=xt+fn,me[Ze+32]=xt-fn;var Gt=.707106781*(Zt+yt);me[Ze+16]=yt+Gt,me[Ze+48]=yt-Gt;var Mn=.382683433*((xt=Sn+ot)-(Zt=ze+Pe)),jn=.5411961*xt+Mn,ur=1.306562965*Zt+Mn,Pr=.707106781*(fn=ot+ze),dr=Pe+Pr,Ar=Pe-Pr;me[Ze+40]=Ar+jn,me[Ze+24]=Ar-jn,me[Ze+8]=dr+ur,me[Ze+56]=dr-ur,Ze++}for(Ge=0;Ge<64;++Ge)$e=me[Ge]*Se[Ge],f[Ge]=$e>0?$e+.5|0:$e-.5|0;return f}(B,G),ee=0;ee<64;++ee)p[V[ee]]=Q[ee];var ne=p[0]-M;M=p[0],ne==0?_(K[0]):(_(K[h[k=32767+ne]]),_(d[k]));for(var he=63;he>0&&p[he]==0;)he--;if(he==0)return _(z),M;for(var de,Z=1;Z<=he;){for(var le=Z;p[Z]==0&&Z<=he;)++Z;var fe=Z-le;if(fe>=16){de=fe>>4;for(var ve=1;ve<=de;++ve)_(J);fe&=15}k=32767+p[Z],_(D[(fe<<4)+h[k]]),_(d[k]),Z++}return he!=63&&_(z),M}function W(B){B=Math.min(Math.max(B,1),100),s!=B&&(function(G){for(var M=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var D=o((M[K]*G+50)/100);D=Math.min(Math.max(D,1),255),a[V[K]]=D}for(var k=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],z=0;z<64;z++){var J=o((k[z]*G+50)/100);J=Math.min(Math.max(J,1),255),l[V[z]]=J}for(var Q=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ee=0,ne=0;ne<8;ne++)for(var he=0;he<8;he++)c[ee]=1/(a[V[ee]]*Q[ne]*Q[he]*8),u[ee]=1/(l[V[ee]]*Q[ne]*Q[he]*8),ee++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),s=B)}this.encode=function(B,G){G&&W(G),m=new Array,g=0,v=7,C(65496),C(65504),C(16),E(74),E(70),E(73),E(70),E(0),E(1),E(1),E(0),C(1),C(1),E(0),E(0),function(){C(65499),C(132),E(0);for(var ke=0;ke<64;ke++)E(a[ke]);E(1);for(var Re=0;Re<64;Re++)E(l[Re])}(),function(ke,Re){C(65472),C(17),E(8),C(Re),C(ke),E(3),E(1),E(17),E(0),E(2),E(17),E(1),E(3),E(17),E(1)}(B.width,B.height),function(){C(65476),C(418),E(0);for(var ke=0;ke<16;ke++)E(U[ke+1]);for(var Re=0;Re<=11;Re++)E(q[Re]);E(16);for(var je=0;je<16;je++)E(j[je+1]);for(var st=0;st<=161;st++)E(S[st]);E(1);for(var Ve=0;Ve<16;Ve++)E(T[Ve+1]);for(var Qe=0;Qe<=11;Qe++)E(O[Qe]);E(17);for(var ht=0;ht<16;ht++)E(y[ht+1]);for(var Ge=0;Ge<=161;Ge++)E(b[Ge])}(),C(65498),C(12),E(3),E(1),E(0),E(2),E(17),E(3),E(17),E(0),E(63),E(0);var M=0,K=0,D=0;g=0,v=7,this.encode.displayName="_encode_";for(var k,z,J,Q,ee,ne,he,de,Z,le=B.data,fe=B.width,ve=B.height,me=4*fe,Se=0;Se<ve;){for(k=0;k<me;){for(ee=me*Se+k,he=-1,de=0,Z=0;Z<64;Z++)ne=ee+(de=Z>>3)*me+(he=4*(7&Z)),Se+de>=ve&&(ne-=me*(Se+1+de-ve)),k+he>=me&&(ne-=k+he-me+4),z=le[ne++],J=le[ne++],Q=le[ne++],x[Z]=(F[z]+F[J+256|0]+F[Q+512|0]>>16)-128,I[Z]=(F[z+768|0]+F[J+1024|0]+F[Q+1280|0]>>16)-128,R[Z]=(F[z+1280|0]+F[J+1536|0]+F[Q+1792|0]>>16)-128;M=L(x,c,M,t,r),K=L(I,u,K,n,i),D=L(R,u,D,n,i),k+=32}Se+=8}if(v>=0){var xe=[];xe[1]=v+1,xe[0]=(1<<v+1)-1,_(xe)}return C(65497),new Uint8Array(m)},e=e||50,function(){for(var B=String.fromCharCode,G=0;G<256;G++)$[G]=B(G)}(),t=w(U,q),n=w(T,O),r=w(j,S),i=w(y,b),function(){for(var B=1,G=2,M=1;M<=15;M++){for(var K=B;K<G;K++)h[32767+K]=M,d[32767+K]=[],d[32767+K][1]=M,d[32767+K][0]=K;for(var D=-(G-1);D<=-B;D++)h[32767+D]=M,d[32767+D]=[],d[32767+D][1]=M,d[32767+D][0]=G-1+D;B<<=1,G<<=1}}(),function(){for(var B=0;B<256;B++)F[B]=19595*B,F[B+256|0]=38470*B,F[B+512|0]=7471*B+32768,F[B+768|0]=-11059*B,F[B+1024|0]=-21709*B,F[B+1280|0]=32768*B+8421375,F[B+1536|0]=-27439*B,F[B+1792|0]=-5329*B}(),W(e)}function Co(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function TP(e){function t(q){if(!q)throw Error("assert :P")}function n(q,j,S){for(var T=0;4>T;T++)if(q[j+T]!=S.charCodeAt(T))return!0;return!1}function r(q,j,S,T,O){for(var y=0;y<O;y++)q[j+y]=S[T+y]}function i(q,j,S,T){for(var O=0;O<T;O++)q[j+O]=S}function s(q){return new Int32Array(q)}function o(q,j){for(var S=[],T=0;T<q;T++)S.push(new j);return S}function a(q,j){var S=[];return function T(O,y,b){for(var w=b[y],_=0;_<w&&(O.push(b.length>y+1?[]:new j),!(b.length<y+1));_++)T(O[_],y+1,b)}(S,0,q),S}var l=function(){var q=this;function j(N,H){for(var X=1<<H-1>>>0;N&X;)X>>>=1;return X?(N&X-1)+X:N}function S(N,H,X,te,ie){t(!(te%X));do N[H+(te-=X)]=ie;while(0<te)}function T(N,H,X,te,ie){if(t(2328>=ie),512>=ie)var se=s(512);else if((se=s(ie))==null)return 0;return function(oe,ce,pe,ge,Te,Le){var ye,Ie,De=ce,He=1<<pe,Oe=s(16),qe=s(16);for(t(Te!=0),t(ge!=null),t(oe!=null),t(0<pe),Ie=0;Ie<Te;++Ie){if(15<ge[Ie])return 0;++Oe[ge[Ie]]}if(Oe[0]==Te)return 0;for(qe[1]=0,ye=1;15>ye;++ye){if(Oe[ye]>1<<ye)return 0;qe[ye+1]=qe[ye]+Oe[ye]}for(Ie=0;Ie<Te;++Ie)ye=ge[Ie],0<ge[Ie]&&(Le[qe[ye]++]=Ie);if(qe[15]==1)return(ge=new O).g=0,ge.value=Le[0],S(oe,De,1,He,ge),He;var Ye,at=-1,nt=He-1,jt=0,Tt=1,mn=1,Ot=1<<pe;for(Ie=0,ye=1,Te=2;ye<=pe;++ye,Te<<=1){if(Tt+=mn<<=1,0>(mn-=Oe[ye]))return 0;for(;0<Oe[ye];--Oe[ye])(ge=new O).g=ye,ge.value=Le[Ie++],S(oe,De+jt,Te,Ot,ge),jt=j(jt,ye)}for(ye=pe+1,Te=2;15>=ye;++ye,Te<<=1){if(Tt+=mn<<=1,0>(mn-=Oe[ye]))return 0;for(;0<Oe[ye];--Oe[ye]){if(ge=new O,(jt&nt)!=at){for(De+=Ot,Ye=1<<(at=ye)-pe;15>at&&!(0>=(Ye-=Oe[at]));)++at,Ye<<=1;He+=Ot=1<<(Ye=at-pe),oe[ce+(at=jt&nt)].g=Ye+pe,oe[ce+at].value=De-ce-at}ge.g=ye-pe,ge.value=Le[Ie++],S(oe,De+(jt>>pe),Te,Ot,ge),jt=j(jt,ye)}}return Tt!=2*qe[15]-1?0:He}(N,H,X,te,ie,se)}function O(){this.value=this.g=0}function y(){this.value=this.g=0}function b(){this.G=o(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Sc,y)}function w(N,H,X,te){t(N!=null),t(H!=null),t(2147483648>te),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=H,N.pa=X,N.Jd=H,N.Yc=X+te,N.Zc=4<=te?X+te-4+1:X,z(N)}function _(N,H){for(var X=0;0<H--;)X|=Q(N,128)<<H;return X}function E(N,H){var X=_(N,H);return J(N)?-X:X}function C(N,H,X,te){var ie,se=0;for(t(N!=null),t(H!=null),t(4294967288>te),N.Sb=te,N.Ra=0,N.u=0,N.h=0,4<te&&(te=4),ie=0;ie<te;++ie)se+=H[X+ie]<<8*ie;N.Ra=se,N.bb=te,N.oa=H,N.pa=X}function L(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<xl-8>>>0,++N.bb,N.u-=8;K(N)&&(N.h=1,N.u=0)}function W(N,H){if(t(0<=H),!N.h&&H<=_s){var X=M(N)&bs[H];return N.u+=H,L(N),X}return N.h=1,N.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(N){return N.Ra>>>(N.u&xl-1)>>>0}function K(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>xl}function D(N,H){N.u=H,N.h=K(N)}function k(N){N.u>=wa&&(t(N.u>=wa),L(N))}function z(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function J(N){return _(N,1)}function Q(N,H){var X=N.Ca;0>N.b&&z(N);var te=N.b,ie=X*H>>>8,se=(N.I>>>te>ie)+0;for(se?(X-=ie,N.I-=ie+1<<te>>>0):X=ie+1,te=X,ie=0;256<=te;)ie+=8,te>>=8;return te=7^ie+Sl[te],N.b-=te,N.Ca=(X<<te)-1,se}function ee(N,H,X){N[H+0]=X>>24&255,N[H+1]=X>>16&255,N[H+2]=X>>8&255,N[H+3]=255&X}function ne(N,H){return N[H+0]|N[H+1]<<8}function he(N,H){return ne(N,H)|N[H+2]<<16}function de(N,H){return ne(N,H)|ne(N,H+2)<<16}function Z(N,H){var X=1<<H;return t(N!=null),t(0<H),N.X=s(X),N.X==null?0:(N.Mb=32-H,N.Xa=H,1)}function le(N,H){t(N!=null),t(H!=null),t(N.Xa==H.Xa),r(H.X,0,N.X,0,1<<H.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function ve(N,H,X,te){t(X!=null),t(te!=null);var ie=X[0],se=te[0];return ie==0&&(ie=(N*se+H/2)/H),se==0&&(se=(H*ie+N/2)/N),0>=ie||0>=se?0:(X[0]=ie,te[0]=se,1)}function me(N,H){return N+(1<<H)-1>>>H}function Se(N,H){return((4278255360&N)+(4278255360&H)>>>0&4278255360)+((16711935&N)+(16711935&H)>>>0&16711935)>>>0}function xe(N,H){q[H]=function(X,te,ie,se,oe,ce,pe){var ge;for(ge=0;ge<oe;++ge){var Te=q[N](ce[pe+ge-1],ie,se+ge);ce[pe+ge]=Se(X[te+ge],Te)}}}function ke(){this.ud=this.hd=this.jd=0}function Re(N,H){return((4278124286&(N^H))>>>1)+(N&H)>>>0}function je(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function st(N,H){return je(N+(N-H+.5>>1))}function Ve(N,H,X){return Math.abs(H-X)-Math.abs(N-X)}function Qe(N,H,X,te,ie,se,oe){for(te=se[oe-1],X=0;X<ie;++X)se[oe+X]=te=Se(N[H+X],te)}function ht(N,H,X,te,ie){var se;for(se=0;se<X;++se){var oe=N[H+se],ce=oe>>8&255,pe=16711935&(pe=(pe=16711935&oe)+((ce<<16)+ce));te[ie+se]=(4278255360&oe)+pe>>>0}}function Ge(N,H){H.jd=255&N,H.hd=N>>8&255,H.ud=N>>16&255}function $e(N,H,X,te,ie,se){var oe;for(oe=0;oe<te;++oe){var ce=H[X+oe],pe=ce>>>8,ge=ce,Te=255&(Te=(Te=ce>>>16)+((N.jd<<24>>24)*(pe<<24>>24)>>>5));ge=255&(ge=(ge+=(N.hd<<24>>24)*(pe<<24>>24)>>>5)+((N.ud<<24>>24)*(Te<<24>>24)>>>5)),ie[se+oe]=(4278255360&ce)+(Te<<16)+ge}}function Ze(N,H,X,te,ie){q[H]=function(se,oe,ce,pe,ge,Te,Le,ye,Ie){for(pe=Le;pe<ye;++pe)for(Le=0;Le<Ie;++Le)ge[Te++]=ie(ce[te(se[oe++])])},q[N]=function(se,oe,ce,pe,ge,Te,Le){var ye=8>>se.b,Ie=se.Ea,De=se.K[0],He=se.w;if(8>ye)for(se=(1<<se.b)-1,He=(1<<ye)-1;oe<ce;++oe){var Oe,qe=0;for(Oe=0;Oe<Ie;++Oe)Oe&se||(qe=te(pe[ge++])),Te[Le++]=ie(De[qe&He]),qe>>=ye}else q["VP8LMapColor"+X](pe,ge,De,He,Te,Le,oe,ce,Ie)}}function et(N,H,X,te,ie){for(X=H+X;H<X;){var se=N[H++];te[ie++]=se>>16&255,te[ie++]=se>>8&255,te[ie++]=255&se}}function Be(N,H,X,te,ie){for(X=H+X;H<X;){var se=N[H++];te[ie++]=se>>16&255,te[ie++]=se>>8&255,te[ie++]=255&se,te[ie++]=se>>24&255}}function lt(N,H,X,te,ie){for(X=H+X;H<X;){var se=(oe=N[H++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;te[ie++]=se,te[ie++]=oe}}function Xe(N,H,X,te,ie){for(X=H+X;H<X;){var se=(oe=N[H++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;te[ie++]=se,te[ie++]=oe}}function mt(N,H,X,te,ie){for(X=H+X;H<X;){var se=N[H++];te[ie++]=255&se,te[ie++]=se>>8&255,te[ie++]=se>>16&255}}function Ct(N,H,X,te,ie,se){if(se==0)for(X=H+X;H<X;)ee(te,((se=N[H++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),ie+=32;else r(te,ie,N,H,X)}function pt(N,H){q[H][0]=q[N+"0"],q[H][1]=q[N+"1"],q[H][2]=q[N+"2"],q[H][3]=q[N+"3"],q[H][4]=q[N+"4"],q[H][5]=q[N+"5"],q[H][6]=q[N+"6"],q[H][7]=q[N+"7"],q[H][8]=q[N+"8"],q[H][9]=q[N+"9"],q[H][10]=q[N+"10"],q[H][11]=q[N+"11"],q[H][12]=q[N+"12"],q[H][13]=q[N+"13"],q[H][14]=q[N+"0"],q[H][15]=q[N+"0"]}function it(N){return N==kv||N==Dv||N==Mm||N==Mv}function It(){this.eb=[],this.size=this.A=this.fb=0}function wt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ft(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new wt,this.sd=null}function At(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Fn(N,H){var X=N.T,te=H.ba.f.RGBA,ie=te.eb,se=te.fb+N.ka*te.A,oe=Os[H.ba.S],ce=N.y,pe=N.O,ge=N.f,Te=N.N,Le=N.ea,ye=N.W,Ie=H.cc,De=H.dc,He=H.Mc,Oe=H.Nc,qe=N.ka,Ye=N.ka+N.T,at=N.U,nt=at+1>>1;for(qe==0?oe(ce,pe,null,null,ge,Te,Le,ye,ge,Te,Le,ye,ie,se,null,null,at):(oe(H.ec,H.fc,ce,pe,Ie,De,He,Oe,ge,Te,Le,ye,ie,se-te.A,ie,se,at),++X);qe+2<Ye;qe+=2)Ie=ge,De=Te,He=Le,Oe=ye,Te+=N.Rc,ye+=N.Rc,se+=2*te.A,oe(ce,(pe+=2*N.fa)-N.fa,ce,pe,Ie,De,He,Oe,ge,Te,Le,ye,ie,se-te.A,ie,se,at);return pe+=N.fa,N.j+Ye<N.o?(r(H.ec,H.fc,ce,pe,at),r(H.cc,H.dc,ge,Te,nt),r(H.Mc,H.Nc,Le,ye,nt),X--):1&Ye||oe(ce,pe,null,null,ge,Te,Le,ye,ge,Te,Le,ye,ie,se+te.A,null,null,at),X}function Ht(N,H,X){var te=N.F,ie=[N.J];if(te!=null){var se=N.U,oe=H.ba.S,ce=oe==Dm||oe==Mm;H=H.ba.f.RGBA;var pe=[0],ge=N.ka;pe[0]=N.T,N.Kb&&(ge==0?--pe[0]:(--ge,ie[0]-=N.width),N.j+N.ka+N.T==N.o&&(pe[0]=N.o-N.j-ge));var Te=H.eb;ge=H.fb+ge*H.A,N=qC(te,ie[0],N.width,se,pe,Te,ge+(ce?0:3),H.A),t(X==pe),N&&it(oe)&&Ff(Te,ge,ce,se,pe,H.A)}return 0}function Mt(N){var H=N.ma,X=H.ba.S,te=11>X,ie=X==Am||X==km||X==Dm||X==Av||X==12||it(X);if(H.memory=null,H.Ib=null,H.Jb=null,H.Nd=null,!kf(H.Oa,N,ie?11:12))return 0;if(ie&&it(X)&&Tf(),N.da)alert("todo:use_scaling");else{if(te){if(H.Ib=Bt,N.Kb){if(X=N.U+1>>1,H.memory=s(N.U+2*X),H.memory==null)return 0;H.ec=H.memory,H.fc=0,H.cc=H.ec,H.dc=H.fc+N.U,H.Mc=H.cc,H.Nc=H.dc+X,H.Ib=Fn,Tf()}}else alert("todo:EmitYUV");ie&&(H.Jb=Ht,te&&no())}if(te&&!a3){for(N=0;256>N;++N)N9[N]=89858*(N-128)+Rm>>Nm,O9[N]=-22014*(N-128)+Rm,P9[N]=-45773*(N-128),R9[N]=113618*(N-128)+Rm>>Nm;for(N=Uf;N<Pv;++N)H=76283*(N-16)+Rm>>Nm,L9[N-Uf]=Hn(H,255),F9[N-Uf]=Hn(H+8>>4,15);a3=1}return 1}function Rt(N){var H=N.ma,X=N.U,te=N.T;return t(!(1&N.ka)),0>=X||0>=te?0:(X=H.Ib(N,H),H.Jb!=null&&H.Jb(N,H,X),H.Dc+=X,1)}function zt(N){N.ma.memory=null}function Ee(N,H,X,te){return W(N,8)!=47?0:(H[0]=W(N,14)+1,X[0]=W(N,14)+1,te[0]=W(N,1),W(N,3)!=0?0:!N.h)}function Pe(N,H){if(4>N)return N+1;var X=N-2>>1;return(2+(1&N)<<X)+W(H,X)+1}function Fe(N,H){return 120<H?H-120:1<=(X=((X=v9[H-1])>>4)*N+(8-(15&X)))?X:1;var X}function ze(N,H,X){var te=M(X),ie=N[H+=255&te].g-8;return 0<ie&&(D(X,X.u+8),te=M(X),H+=N[H].value,H+=te&(1<<ie)-1),D(X,X.u+N[H].g),N[H].value}function $t(N,H,X){return X.g+=N.g,X.value+=N.value<<H>>>0,t(8>=X.g),N.g}function ot(N,H,X){var te=N.xc;return t((H=te==0?0:N.vc[N.md*(X>>te)+(H>>te)])<N.Wb),N.Ya[H]}function bt(N,H,X,te){var ie=N.ab,se=N.c*H,oe=N.C;H=oe+H;var ce=X,pe=te;for(te=N.Ta,X=N.Ua;0<ie--;){var ge=N.gc[ie],Te=oe,Le=H,ye=ce,Ie=pe,De=(pe=te,ce=X,ge.Ea);switch(t(Te<Le),t(Le<=ge.nc),ge.hc){case 2:Lr(ye,Ie,(Le-Te)*De,pe,ce);break;case 0:var He=Te,Oe=Le,qe=pe,Ye=ce,at=(Ot=ge).Ea;He==0&&(Mf(ye,Ie,null,null,1,qe,Ye),Qe(ye,Ie+1,0,0,at-1,qe,Ye+1),Ie+=at,Ye+=at,++He);for(var nt=1<<Ot.b,jt=nt-1,Tt=me(at,Ot.b),mn=Ot.K,Ot=Ot.w+(He>>Ot.b)*Tt;He<Oe;){var Pn=mn,ei=Ot,gn=1;for(Pu(ye,Ie,qe,Ye-at,1,qe,Ye);gn<at;){var Lt=(gn&~jt)+nt;Lt>at&&(Lt=at),(0,Rf[Pn[ei++]>>8&15])(ye,Ie+ +gn,qe,Ye+gn-at,Lt-gn,qe,Ye+gn),gn=Lt}Ie+=at,Ye+=at,++He&jt||(Ot+=Tt)}Le!=ge.nc&&r(pe,ce-De,pe,ce+(Le-Te-1)*De,De);break;case 1:for(De=ye,Oe=Ie,at=(ye=ge.Ea)-(Ye=ye&~(qe=(Ie=1<<ge.b)-1)),He=me(ye,ge.b),nt=ge.K,ge=ge.w+(Te>>ge.b)*He;Te<Le;){for(jt=nt,Tt=ge,mn=new ke,Ot=Oe+Ye,Pn=Oe+ye;Oe<Ot;)Ge(jt[Tt++],mn),Pf(mn,De,Oe,Ie,pe,ce),Oe+=Ie,ce+=Ie;Oe<Pn&&(Ge(jt[Tt++],mn),Pf(mn,De,Oe,at,pe,ce),Oe+=at,ce+=at),++Te&qe||(ge+=He)}break;case 3:if(ye==pe&&Ie==ce&&0<ge.b){for(Oe=pe,ye=De=ce+(Le-Te)*De-(Ye=(Le-Te)*me(ge.Ea,ge.b)),Ie=pe,qe=ce,He=[],Ye=(at=Ye)-1;0<=Ye;--Ye)He[Ye]=Ie[qe+Ye];for(Ye=at-1;0<=Ye;--Ye)Oe[ye+Ye]=He[Ye];Sm(ge,Te,Le,pe,De,pe,ce)}else Sm(ge,Te,Le,ye,Ie,pe,ce)}ce=te,pe=X}pe!=X&&r(te,X,ce,pe,se)}function Sn(N,H){var X=N.V,te=N.Ba+N.c*N.C,ie=H-N.C;if(t(H<=N.l.o),t(16>=ie),0<ie){var se=N.l,oe=N.Ta,ce=N.Ua,pe=se.width;if(bt(N,ie,X,te),ie=ce=[ce],t((X=N.C)<(te=H)),t(se.v<se.va),te>se.o&&(te=se.o),X<se.j){var ge=se.j-X;X=se.j,ie[0]+=ge*pe}if(X>=te?X=0:(ie[0]+=4*se.v,se.ka=X-se.j,se.U=se.va-se.v,se.T=te-X,X=1),X){if(ce=ce[0],11>(X=N.ca).S){var Te=X.f.RGBA,Le=(te=X.S,ie=se.U,se=se.T,ge=Te.eb,Te.A),ye=se;for(Te=Te.fb+N.Ma*Te.A;0<ye--;){var Ie=oe,De=ce,He=ie,Oe=ge,qe=Te;switch(te){case Im:Of(Ie,De,He,Oe,qe);break;case Am:Cl(Ie,De,He,Oe,qe);break;case kv:Cl(Ie,De,He,Oe,qe),Ff(Oe,qe,0,He,1,0);break;case JC:Cc(Ie,De,He,Oe,qe);break;case km:Ct(Ie,De,He,Oe,qe,1);break;case Dv:Ct(Ie,De,He,Oe,qe,1),Ff(Oe,qe,0,He,1,0);break;case Dm:Ct(Ie,De,He,Oe,qe,0);break;case Mm:Ct(Ie,De,He,Oe,qe,0),Ff(Oe,qe,1,He,1,0);break;case Av:Tl(Ie,De,He,Oe,qe);break;case Mv:Tl(Ie,De,He,Oe,qe),zC(Oe,qe,He,1,0);break;case XC:Il(Ie,De,He,Oe,qe);break;default:t(0)}ce+=pe,Te+=Le}N.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=X.height)}}N.C=H,t(N.C<=N.i)}function xt(N){var H;if(0<N.ua)return 0;for(H=0;H<N.Wb;++H){var X=N.Ya[H].G,te=N.Ya[H].H;if(0<X[1][te[1]+0].g||0<X[2][te[2]+0].g||0<X[3][te[3]+0].g)return 0}return 1}function yt(N,H,X,te,ie,se){if(N.Z!=0){var oe=N.qd,ce=N.rd;for(t(Dl[N.Z]!=null);H<X;++H)Dl[N.Z](oe,ce,te,ie,te,ie,se),oe=te,ce=ie,ie+=se;N.qd=oe,N.rd=ce}}function fn(N,H){var X=N.l.ma,te=X.Z==0||X.Z==1?N.l.j:N.C;if(te=N.C<te?te:N.C,t(H<=N.l.o),H>te){var ie=N.l.width,se=X.ca,oe=X.tb+ie*te,ce=N.V,pe=N.Ba+N.c*te,ge=N.gc;t(N.ab==1),t(ge[0].hc==3),Po(ge[0],te,H,ce,pe,se,oe),yt(X,te,H,se,oe,ie)}N.C=N.Ma=H}function Zt(N,H,X,te,ie,se,oe){var ce=N.$/te,pe=N.$%te,ge=N.m,Te=N.s,Le=X+N.$,ye=Le;ie=X+te*ie;var Ie=X+te*se,De=280+Te.ua,He=N.Pb?ce:16777216,Oe=0<Te.ua?Te.Wa:null,qe=Te.wc,Ye=Le<Ie?ot(Te,pe,ce):null;t(N.C<se),t(Ie<=ie);var at=!1;e:for(;;){for(;at||Le<Ie;){var nt=0;if(ce>=He){var jt=Le-X;t((He=N).Pb),He.wd=He.m,He.xd=jt,0<He.s.ua&&le(He.s.Wa,He.s.vb),He=ce+_9}if(pe&qe||(Ye=ot(Te,pe,ce)),t(Ye!=null),Ye.Qb&&(H[Le]=Ye.qb,at=!0),!at)if(k(ge),Ye.jc){nt=ge,jt=H;var Tt=Le,mn=Ye.pd[M(nt)&Sc-1];t(Ye.jc),256>mn.g?(D(nt,nt.u+mn.g),jt[Tt]=mn.value,nt=0):(D(nt,nt.u+mn.g-256),t(256<=mn.value),nt=mn.value),nt==0&&(at=!0)}else nt=ze(Ye.G[0],Ye.H[0],ge);if(ge.h)break;if(at||256>nt){if(!at)if(Ye.nd)H[Le]=(Ye.qb|nt<<8)>>>0;else{if(k(ge),at=ze(Ye.G[1],Ye.H[1],ge),k(ge),jt=ze(Ye.G[2],Ye.H[2],ge),Tt=ze(Ye.G[3],Ye.H[3],ge),ge.h)break;H[Le]=(Tt<<24|at<<16|nt<<8|jt)>>>0}if(at=!1,++Le,++pe>=te&&(pe=0,++ce,oe!=null&&ce<=se&&!(ce%16)&&oe(N,ce),Oe!=null))for(;ye<Le;)nt=H[ye++],Oe.X[(506832829*nt&4294967295)>>>Oe.Mb]=nt}else if(280>nt){if(nt=Pe(nt-256,ge),jt=ze(Ye.G[4],Ye.H[4],ge),k(ge),jt=Fe(te,jt=Pe(jt,ge)),ge.h)break;if(Le-X<jt||ie-Le<nt)break e;for(Tt=0;Tt<nt;++Tt)H[Le+Tt]=H[Le+Tt-jt];for(Le+=nt,pe+=nt;pe>=te;)pe-=te,++ce,oe!=null&&ce<=se&&!(ce%16)&&oe(N,ce);if(t(Le<=ie),pe&qe&&(Ye=ot(Te,pe,ce)),Oe!=null)for(;ye<Le;)nt=H[ye++],Oe.X[(506832829*nt&4294967295)>>>Oe.Mb]=nt}else{if(!(nt<De))break e;for(at=nt-280,t(Oe!=null);ye<Le;)nt=H[ye++],Oe.X[(506832829*nt&4294967295)>>>Oe.Mb]=nt;nt=Le,t(!(at>>>(jt=Oe).Xa)),H[nt]=jt.X[at],at=!0}at||t(ge.h==K(ge))}if(N.Pb&&ge.h&&Le<ie)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&le(N.s.vb,N.s.Wa);else{if(ge.h)break e;oe?.(N,ce>se?se:ce),N.a=0,N.$=Le-X}return 1}return N.a=3,0}function Gt(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var H=N.Wa;H!=null&&(H.X=null),N.vb=null,t(N!=null)}function Mn(){var N=new nn;return N==null?null:(N.a=0,N.xb=t3,pt("Predictor","VP8LPredictors"),pt("Predictor","VP8LPredictors_C"),pt("PredictorAdd","VP8LPredictorsAdd"),pt("PredictorAdd","VP8LPredictorsAdd_C"),Lr=ht,Pf=$e,Of=et,Cl=Be,Tl=lt,Il=Xe,Cc=mt,q.VP8LMapColor32b=Ro,q.VP8LMapColor8b=Nf,N)}function jn(N,H,X,te,ie){var se=1,oe=[N],ce=[H],pe=te.m,ge=te.s,Te=null,Le=0;e:for(;;){if(X)for(;se&&W(pe,1);){var ye=oe,Ie=ce,De=te,He=1,Oe=De.m,qe=De.gc[De.ab],Ye=W(Oe,2);if(De.Oc&1<<Ye)se=0;else{switch(De.Oc|=1<<Ye,qe.hc=Ye,qe.Ea=ye[0],qe.nc=Ie[0],qe.K=[null],++De.ab,t(4>=De.ab),Ye){case 0:case 1:qe.b=W(Oe,3)+2,He=jn(me(qe.Ea,qe.b),me(qe.nc,qe.b),0,De,qe.K),qe.K=qe.K[0];break;case 3:var at,nt=W(Oe,8)+1,jt=16<nt?0:4<nt?1:2<nt?2:3;if(ye[0]=me(qe.Ea,jt),qe.b=jt,at=He=jn(nt,1,0,De,qe.K)){var Tt,mn=nt,Ot=qe,Pn=1<<(8>>Ot.b),ei=s(Pn);if(ei==null)at=0;else{var gn=Ot.K[0],Lt=Ot.w;for(ei[0]=Ot.K[0][0],Tt=1;Tt<1*mn;++Tt)ei[Tt]=Se(gn[Lt+Tt],ei[Tt-1]);for(;Tt<4*Pn;++Tt)ei[Tt]=0;Ot.K[0]=null,Ot.K[0]=ei,at=1}}He=at;break;case 2:break;default:t(0)}se=He}}if(oe=oe[0],ce=ce[0],se&&W(pe,1)&&!(se=1<=(Le=W(pe,4))&&11>=Le)){te.a=3;break e}var vt;if(vt=se)t:{var Br,an,Bn,yr=te,yi=oe,ji=ce,kr=Le,Ai=X,Hi=yr.m,ti=yr.s,$n=[null],nr=1,Dr=0,rr=b9[kr];n:for(;;){if(Ai&&W(Hi,1)){var vi=W(Hi,3)+2,io=me(yi,vi),Ur=me(ji,vi),Qi=io*Ur;if(!jn(io,Ur,0,yr,$n))break n;for($n=$n[0],ti.xc=vi,Br=0;Br<Qi;++Br){var lr=$n[Br]>>8&65535;$n[Br]=lr,lr>=nr&&(nr=lr+1)}}if(Hi.h)break n;for(an=0;5>an;++an){var ni=QC[an];!an&&0<kr&&(ni+=1<<kr),Dr<ni&&(Dr=ni)}var Es=o(nr*rr,O),zi=nr,xs=o(zi,b);if(xs==null)var Ss=null;else t(65536>=zi),Ss=xs;var es=s(Dr);if(Ss==null||es==null||Es==null){yr.a=1;break n}var Cs=Es;for(Br=Bn=0;Br<nr;++Br){var hr=Ss[Br],Ts=hr.G,so=hr.H,Ic=0,Sa=1,bi=0;for(an=0;5>an;++an){ni=QC[an],Ts[an]=Cs,so[an]=Bn,!an&&0<kr&&(ni+=1<<kr);i:{var Om,Ov=ni,Lm=yr,Vf=es,V9=Cs,j9=Bn,Lv=0,Ml=Lm.m,H9=W(Ml,1);if(i(Vf,0,0,Ov),H9){var z9=W(Ml,1)+1,q9=W(Ml,1),u3=W(Ml,q9==0?1:8);Vf[u3]=1,z9==2&&(Vf[u3=W(Ml,8)]=1);var Fm=1}else{var d3=s(19),f3=W(Ml,4)+4;if(19<f3){Lm.a=3;var Bm=0;break i}for(Om=0;Om<f3;++Om)d3[y9[Om]]=W(Ml,3);var Fv=void 0,jf=void 0,h3=Lm,$9=d3,Um=Ov,p3=Vf,Bv=0,Nl=h3.m,m3=8,g3=o(128,O);r:for(;T(g3,0,7,$9,19);){if(W(Nl,1)){var W9=2+2*W(Nl,3);if((Fv=2+W(Nl,W9))>Um)break r}else Fv=Um;for(jf=0;jf<Um&&Fv--;){k(Nl);var y3=g3[0+(127&M(Nl))];D(Nl,Nl.u+y3.g);var Lu=y3.value;if(16>Lu)p3[jf++]=Lu,Lu!=0&&(m3=Lu);else{var G9=Lu==16,v3=Lu-16,K9=m9[v3],b3=W(Nl,p9[v3])+K9;if(jf+b3>Um)break r;for(var Y9=G9?m3:0;0<b3--;)p3[jf++]=Y9}}Bv=1;break r}Bv||(h3.a=3),Fm=Bv}(Fm=Fm&&!Ml.h)&&(Lv=T(V9,j9,8,Vf,Ov)),Fm&&Lv!=0?Bm=Lv:(Lm.a=3,Bm=0)}if(Bm==0)break n;if(Sa&&g9[an]==1&&(Sa=Cs[Bn].g==0),Ic+=Cs[Bn].g,Bn+=Bm,3>=an){var Hf,Uv=es[0];for(Hf=1;Hf<ni;++Hf)es[Hf]>Uv&&(Uv=es[Hf]);bi+=Uv}}if(hr.nd=Sa,hr.Qb=0,Sa&&(hr.qb=(Ts[3][so[3]+0].value<<24|Ts[1][so[1]+0].value<<16|Ts[2][so[2]+0].value)>>>0,Ic==0&&256>Ts[0][so[0]+0].value&&(hr.Qb=1,hr.qb+=Ts[0][so[0]+0].value<<8)),hr.jc=!hr.Qb&&6>bi,hr.jc){var Vm,Ca=hr;for(Vm=0;Vm<Sc;++Vm){var Rl=Vm,Pl=Ca.pd[Rl],jm=Ca.G[0][Ca.H[0]+Rl];256<=jm.value?(Pl.g=jm.g+256,Pl.value=jm.value):(Pl.g=0,Pl.value=0,Rl>>=$t(jm,8,Pl),Rl>>=$t(Ca.G[1][Ca.H[1]+Rl],16,Pl),Rl>>=$t(Ca.G[2][Ca.H[2]+Rl],0,Pl),$t(Ca.G[3][Ca.H[3]+Rl],24,Pl))}}}ti.vc=$n,ti.Wb=nr,ti.Ya=Ss,ti.yc=Es,vt=1;break t}vt=0}if(!(se=vt)){te.a=3;break e}if(0<Le){if(ge.ua=1<<Le,!Z(ge.Wa,Le)){te.a=1,se=0;break e}}else ge.ua=0;var Vv=te,_3=oe,Z9=ce,jv=Vv.s,Hv=jv.xc;if(Vv.c=_3,Vv.i=Z9,jv.md=me(_3,Hv),jv.wc=Hv==0?-1:(1<<Hv)-1,X){te.xb=I9;break e}if((Te=s(oe*ce))==null){te.a=1,se=0;break e}se=(se=Zt(te,Te,0,oe,ce,ce,null))&&!pe.h;break e}return se?(ie!=null?ie[0]=Te:(t(Te==null),t(X)),te.$=0,X||Gt(ge)):Gt(ge),se}function ur(N,H){var X=N.c*N.i,te=X+H+16*H;return t(N.c<=H),N.V=s(te),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+X+H,1)}function Pr(N,H){var X=N.C,te=H-X,ie=N.V,se=N.Ba+N.c*X;for(t(H<=N.l.o);0<te;){var oe=16<te?16:te,ce=N.l.ma,pe=N.l.width,ge=pe*oe,Te=ce.ca,Le=ce.tb+pe*X,ye=N.Ta,Ie=N.Ua;bt(N,oe,ie,se),$C(ye,Ie,Te,Le,ge),yt(ce,X,X+oe,Te,Le,pe),te-=oe,ie+=oe*N.c,X+=oe}t(X==H),N.C=N.Ma=H}function dr(){this.ub=this.yd=this.td=this.Rb=0}function Ar(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function be(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ne(){this.Yb=function(){var N=[];return function H(X,te,ie){for(var se=ie[te],oe=0;oe<se&&(X.push(ie.length>te+1?[]:0),!(ie.length<te+1));oe++)H(X[oe],te+1,ie)}(N,0,[3,11]),N}()}function Je(){this.jb=s(3),this.Wc=a([4,8],Ne),this.Xc=a([4,17],Ne)}function Ue(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function rt(){this.ld=this.La=this.dd=this.tc=0}function Et(){this.Na=this.la=0}function St(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function on(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kt(){this.uc=this.M=this.Nb=0,this.wa=Array(new rt),this.Y=0,this.ya=Array(new on),this.aa=0,this.l=new sr}function qt(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Jt(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new dr,this.Kc=new Ar,this.ed=new Ue,this.Qa=new be,this.Ic=this.$c=this.Aa=0,this.D=new Kt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,St),this.Pa=new Je,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qt),this.Hd=0,this.rb=Array(new Et),this.sb=0,this.wa=Array(new rt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new on),this.L=this.aa=0,this.gd=a([4,2],rt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hn(N,H){return 0>N?0:N>H?H:N}function sr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rn(){var N=new Jt;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Bf||(Bf=Jr)),N}function Qt(N,H,X){return N.a==0&&(N.a=H,N.sc=X,N.cb=0),0}function Or(N,H,X){return 3<=X&&N[H+0]==157&&N[H+1]==1&&N[H+2]==42}function Cr(N,H){if(N==null)return 0;if(N.a=0,N.sc="OK",H==null)return Qt(N,2,"null VP8Io passed to VP8GetHeaders()");var X=H.data,te=H.w,ie=H.ha;if(4>ie)return Qt(N,7,"Truncated header.");var se=X[te+0]|X[te+1]<<8|X[te+2]<<16,oe=N.Od;if(oe.Rb=!(1&se),oe.td=se>>1&7,oe.yd=se>>4&1,oe.ub=se>>5,3<oe.td)return Qt(N,3,"Incorrect keyframe parameters.");if(!oe.yd)return Qt(N,4,"Frame not displayable.");te+=3,ie-=3;var ce=N.Kc;if(oe.Rb){if(7>ie)return Qt(N,7,"cannot parse picture header");if(!Or(X,te,ie))return Qt(N,3,"Bad code word");ce.c=16383&(X[te+4]<<8|X[te+3]),ce.Td=X[te+4]>>6,ce.i=16383&(X[te+6]<<8|X[te+5]),ce.Ud=X[te+6]>>6,te+=7,ie-=7,N.za=ce.c+15>>4,N.Ub=ce.i+15>>4,H.width=ce.c,H.height=ce.i,H.Da=0,H.j=0,H.v=0,H.va=H.width,H.o=H.height,H.da=0,H.ib=H.width,H.hb=H.height,H.U=H.width,H.T=H.height,i((se=N.Pa).jb,0,255,se.jb.length),t((se=N.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,i(se.Zb,0,0,se.Zb.length),i(se.Lb,0,0,se.Lb)}if(oe.ub>ie)return Qt(N,7,"bad partition length");w(se=N.m,X,te,oe.ub),te+=oe.ub,ie-=oe.ub,oe.Rb&&(ce.Ld=J(se),ce.Kd=J(se)),ce=N.Qa;var pe,ge=N.Pa;if(t(se!=null),t(ce!=null),ce.Cb=J(se),ce.Cb){if(ce.Bb=J(se),J(se)){for(ce.Fb=J(se),pe=0;4>pe;++pe)ce.Zb[pe]=J(se)?E(se,7):0;for(pe=0;4>pe;++pe)ce.Lb[pe]=J(se)?E(se,6):0}if(ce.Bb)for(pe=0;3>pe;++pe)ge.jb[pe]=J(se)?_(se,8):255}else ce.Bb=0;if(se.Ka)return Qt(N,3,"cannot parse segment header");if((ce=N.ed).zd=J(se),ce.Tb=_(se,6),ce.wb=_(se,3),ce.Pc=J(se),ce.Pc&&J(se)){for(ge=0;4>ge;++ge)J(se)&&(ce.vd[ge]=E(se,6));for(ge=0;4>ge;++ge)J(se)&&(ce.od[ge]=E(se,6))}if(N.L=ce.Tb==0?0:ce.zd?1:2,se.Ka)return Qt(N,3,"cannot parse filter header");var Te=ie;if(ie=pe=te,te=pe+Te,ce=Te,N.Xb=(1<<_(N.m,2))-1,Te<3*(ge=N.Xb))X=7;else{for(pe+=3*ge,ce-=3*ge,Te=0;Te<ge;++Te){var Le=X[ie+0]|X[ie+1]<<8|X[ie+2]<<16;Le>ce&&(Le=ce),w(N.Jc[+Te],X,pe,Le),pe+=Le,ce-=Le,ie+=3}w(N.Jc[+ge],X,pe,ce),X=pe<te?0:5}if(X!=0)return Qt(N,X,"cannot parse partitions");for(X=_(pe=N.m,7),ie=J(pe)?E(pe,4):0,te=J(pe)?E(pe,4):0,ce=J(pe)?E(pe,4):0,ge=J(pe)?E(pe,4):0,pe=J(pe)?E(pe,4):0,Te=N.Qa,Le=0;4>Le;++Le){if(Te.Cb){var ye=Te.Zb[Le];Te.Fb||(ye+=X)}else{if(0<Le){N.pb[Le]=N.pb[0];continue}ye=X}var Ie=N.pb[Le];Ie.Sc[0]=Nv[Hn(ye+ie,127)],Ie.Sc[1]=Rv[Hn(ye+0,127)],Ie.Eb[0]=2*Nv[Hn(ye+te,127)],Ie.Eb[1]=101581*Rv[Hn(ye+ce,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=Nv[Hn(ye+ge,117)],Ie.Qc[1]=Rv[Hn(ye+pe,127)],Ie.lc=ye+pe}if(!oe.Rb)return Qt(N,4,"Not a key frame.");for(J(se),oe=N.Pa,X=0;4>X;++X){for(ie=0;8>ie;++ie)for(te=0;3>te;++te)for(ce=0;11>ce;++ce)ge=Q(se,C9[X][ie][te][ce])?_(se,8):x9[X][ie][te][ce],oe.Wc[X][ie].Yb[te][ce]=ge;for(ie=0;17>ie;++ie)oe.Xc[X][ie]=oe.Wc[X][T9[ie]]}return N.kc=J(se),N.kc&&(N.Bd=_(se,8)),N.cb=1}function Jr(N,H,X,te,ie,se,oe){var ce=H[ie].Yb[X];for(X=0;16>ie;++ie){if(!Q(N,ce[X+0]))return ie;for(;!Q(N,ce[X+1]);)if(ce=H[++ie].Yb[0],X=0,ie==16)return 16;var pe=H[ie+1].Yb;if(Q(N,ce[X+2])){var ge=N,Te=0;if(Q(ge,(ye=ce)[(Le=X)+3]))if(Q(ge,ye[Le+6])){for(ce=0,Le=2*(Te=Q(ge,ye[Le+8]))+(ye=Q(ge,ye[Le+9+Te])),Te=0,ye=w9[Le];ye[ce];++ce)Te+=Te+Q(ge,ye[ce]);Te+=3+(8<<Le)}else Q(ge,ye[Le+7])?(Te=7+2*Q(ge,165),Te+=Q(ge,145)):Te=5+Q(ge,159);else Te=Q(ge,ye[Le+4])?3+Q(ge,ye[Le+5]):2;ce=pe[2]}else Te=1,ce=pe[1];pe=oe+E9[ie],0>(ge=N).b&&z(ge);var Le,ye=ge.b,Ie=(Le=ge.Ca>>1)-(ge.I>>ye)>>31;--ge.b,ge.Ca+=Ie,ge.Ca|=1,ge.I-=(Le+1&Ie)<<ye,se[pe]=((Te^Ie)-Ie)*te[(0<ie)+0]}return 16}function Ui(N){var H=N.rb[N.sb-1];H.la=0,H.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function qr(N,H,X,te,ie){ie=N[H+X+32*te]+(ie>>3),N[H+X+32*te]=-256&ie?0>ie?0:255:ie}function Er(N,H,X,te,ie,se){qr(N,H,0,X,te+ie),qr(N,H,1,X,te+se),qr(N,H,2,X,te-se),qr(N,H,3,X,te-ie)}function Si(N){return(20091*N>>16)+N}function An(N,H,X,te){var ie,se=0,oe=s(16);for(ie=0;4>ie;++ie){var ce=N[H+0]+N[H+8],pe=N[H+0]-N[H+8],ge=(35468*N[H+4]>>16)-Si(N[H+12]),Te=Si(N[H+4])+(35468*N[H+12]>>16);oe[se+0]=ce+Te,oe[se+1]=pe+ge,oe[se+2]=pe-ge,oe[se+3]=ce-Te,se+=4,H++}for(ie=se=0;4>ie;++ie)ce=(N=oe[se+0]+4)+oe[se+8],pe=N-oe[se+8],ge=(35468*oe[se+4]>>16)-Si(oe[se+12]),qr(X,te,0,0,ce+(Te=Si(oe[se+4])+(35468*oe[se+12]>>16))),qr(X,te,1,0,pe+ge),qr(X,te,2,0,pe-ge),qr(X,te,3,0,ce-Te),se++,te+=32}function zn(N,H,X,te){var ie=N[H+0]+4,se=35468*N[H+4]>>16,oe=Si(N[H+4]),ce=35468*N[H+1]>>16;Er(X,te,0,ie+oe,N=Si(N[H+1]),ce),Er(X,te,1,ie+se,N,ce),Er(X,te,2,ie-se,N,ce),Er(X,te,3,ie-oe,N,ce)}function hc(N,H,X,te,ie){An(N,H,X,te),ie&&An(N,H+16,X,te+4)}function li(N,H,X,te){Tc(N,H+0,X,te,1),Tc(N,H+32,X,te+128,1)}function ua(N,H,X,te){var ie;for(N=N[H+0]+4,ie=0;4>ie;++ie)for(H=0;4>H;++H)qr(X,te,H,ie,N)}function ci(N,H,X,te){N[H+0]&&Jn(N,H+0,X,te),N[H+16]&&Jn(N,H+16,X,te+4),N[H+32]&&Jn(N,H+32,X,te+128),N[H+48]&&Jn(N,H+48,X,te+128+4)}function Ci(N,H,X,te){var ie,se=s(16);for(ie=0;4>ie;++ie){var oe=N[H+0+ie]+N[H+12+ie],ce=N[H+4+ie]+N[H+8+ie],pe=N[H+4+ie]-N[H+8+ie],ge=N[H+0+ie]-N[H+12+ie];se[0+ie]=oe+ce,se[8+ie]=oe-ce,se[4+ie]=ge+pe,se[12+ie]=ge-pe}for(ie=0;4>ie;++ie)oe=(N=se[0+4*ie]+3)+se[3+4*ie],ce=se[1+4*ie]+se[2+4*ie],pe=se[1+4*ie]-se[2+4*ie],ge=N-se[3+4*ie],X[te+0]=oe+ce>>3,X[te+16]=ge+pe>>3,X[te+32]=oe-ce>>3,X[te+48]=ge-pe>>3,te+=64}function Ti(N,H,X){var te,ie=H-32,se=ws,oe=255-N[ie-1];for(te=0;te<X;++te){var ce,pe=se,ge=oe+N[H-1];for(ce=0;ce<X;++ce)N[H+ce]=pe[ge+N[ie+ce]];H+=32}}function da(N,H){Ti(N,H,4)}function vl(N,H){Ti(N,H,8)}function Mo(N,H){Ti(N,H,16)}function Xi(N,H){var X;for(X=0;16>X;++X)r(N,H+32*X,N,H-32,16)}function pc(N,H){var X;for(X=16;0<X;--X)i(N,H,N[H-1],16),H+=32}function Ii(N,H,X){var te;for(te=0;16>te;++te)i(H,X+32*te,N,16)}function mc(N,H){var X,te=16;for(X=0;16>X;++X)te+=N[H-1+32*X]+N[H+X-32];Ii(te>>5,N,H)}function Ms(N,H){var X,te=8;for(X=0;16>X;++X)te+=N[H-1+32*X];Ii(te>>4,N,H)}function No(N,H){var X,te=8;for(X=0;16>X;++X)te+=N[H+X-32];Ii(te>>4,N,H)}function ku(N,H){Ii(128,N,H)}function Xt(N,H,X){return N+2*H+X+2>>2}function bl(N,H){var X,te=H-32;for(te=new Uint8Array([Xt(N[te-1],N[te+0],N[te+1]),Xt(N[te+0],N[te+1],N[te+2]),Xt(N[te+1],N[te+2],N[te+3]),Xt(N[te+2],N[te+3],N[te+4])]),X=0;4>X;++X)r(N,H+32*X,te,0,te.length)}function wv(N,H){var X=N[H-1],te=N[H-1+32],ie=N[H-1+64],se=N[H-1+96];ee(N,H+0,16843009*Xt(N[H-1-32],X,te)),ee(N,H+32,16843009*Xt(X,te,ie)),ee(N,H+64,16843009*Xt(te,ie,se)),ee(N,H+96,16843009*Xt(ie,se,se))}function Ev(N,H){var X,te=4;for(X=0;4>X;++X)te+=N[H+X-32]+N[H-1+32*X];for(te>>=3,X=0;4>X;++X)i(N,H+32*X,te,4)}function fa(N,H){var X=N[H-1+0],te=N[H-1+32],ie=N[H-1+64],se=N[H-1-32],oe=N[H+0-32],ce=N[H+1-32],pe=N[H+2-32],ge=N[H+3-32];N[H+0+96]=Xt(te,ie,N[H-1+96]),N[H+1+96]=N[H+0+64]=Xt(X,te,ie),N[H+2+96]=N[H+1+64]=N[H+0+32]=Xt(se,X,te),N[H+3+96]=N[H+2+64]=N[H+1+32]=N[H+0+0]=Xt(oe,se,X),N[H+3+64]=N[H+2+32]=N[H+1+0]=Xt(ce,oe,se),N[H+3+32]=N[H+2+0]=Xt(pe,ce,oe),N[H+3+0]=Xt(ge,pe,ce)}function ha(N,H){var X=N[H+1-32],te=N[H+2-32],ie=N[H+3-32],se=N[H+4-32],oe=N[H+5-32],ce=N[H+6-32],pe=N[H+7-32];N[H+0+0]=Xt(N[H+0-32],X,te),N[H+1+0]=N[H+0+32]=Xt(X,te,ie),N[H+2+0]=N[H+1+32]=N[H+0+64]=Xt(te,ie,se),N[H+3+0]=N[H+2+32]=N[H+1+64]=N[H+0+96]=Xt(ie,se,oe),N[H+3+32]=N[H+2+64]=N[H+1+96]=Xt(se,oe,ce),N[H+3+64]=N[H+2+96]=Xt(oe,ce,pe),N[H+3+96]=Xt(ce,pe,pe)}function xv(N,H){var X=N[H-1+0],te=N[H-1+32],ie=N[H-1+64],se=N[H-1-32],oe=N[H+0-32],ce=N[H+1-32],pe=N[H+2-32],ge=N[H+3-32];N[H+0+0]=N[H+1+64]=se+oe+1>>1,N[H+1+0]=N[H+2+64]=oe+ce+1>>1,N[H+2+0]=N[H+3+64]=ce+pe+1>>1,N[H+3+0]=pe+ge+1>>1,N[H+0+96]=Xt(ie,te,X),N[H+0+64]=Xt(te,X,se),N[H+0+32]=N[H+1+96]=Xt(X,se,oe),N[H+1+32]=N[H+2+96]=Xt(se,oe,ce),N[H+2+32]=N[H+3+96]=Xt(oe,ce,pe),N[H+3+32]=Xt(ce,pe,ge)}function Sv(N,H){var X=N[H+0-32],te=N[H+1-32],ie=N[H+2-32],se=N[H+3-32],oe=N[H+4-32],ce=N[H+5-32],pe=N[H+6-32],ge=N[H+7-32];N[H+0+0]=X+te+1>>1,N[H+1+0]=N[H+0+64]=te+ie+1>>1,N[H+2+0]=N[H+1+64]=ie+se+1>>1,N[H+3+0]=N[H+2+64]=se+oe+1>>1,N[H+0+32]=Xt(X,te,ie),N[H+1+32]=N[H+0+96]=Xt(te,ie,se),N[H+2+32]=N[H+1+96]=Xt(ie,se,oe),N[H+3+32]=N[H+2+96]=Xt(se,oe,ce),N[H+3+64]=Xt(oe,ce,pe),N[H+3+96]=Xt(ce,pe,ge)}function Du(N,H){var X=N[H-1+0],te=N[H-1+32],ie=N[H-1+64],se=N[H-1+96];N[H+0+0]=X+te+1>>1,N[H+2+0]=N[H+0+32]=te+ie+1>>1,N[H+2+32]=N[H+0+64]=ie+se+1>>1,N[H+1+0]=Xt(X,te,ie),N[H+3+0]=N[H+1+32]=Xt(te,ie,se),N[H+3+32]=N[H+1+64]=Xt(ie,se,se),N[H+3+64]=N[H+2+64]=N[H+0+96]=N[H+1+96]=N[H+2+96]=N[H+3+96]=se}function _f(N,H){var X=N[H-1+0],te=N[H-1+32],ie=N[H-1+64],se=N[H-1+96],oe=N[H-1-32],ce=N[H+0-32],pe=N[H+1-32],ge=N[H+2-32];N[H+0+0]=N[H+2+32]=X+oe+1>>1,N[H+0+32]=N[H+2+64]=te+X+1>>1,N[H+0+64]=N[H+2+96]=ie+te+1>>1,N[H+0+96]=se+ie+1>>1,N[H+3+0]=Xt(ce,pe,ge),N[H+2+0]=Xt(oe,ce,pe),N[H+1+0]=N[H+3+32]=Xt(X,oe,ce),N[H+1+32]=N[H+3+64]=Xt(te,X,oe),N[H+1+64]=N[H+3+96]=Xt(ie,te,X),N[H+1+96]=Xt(se,ie,te)}function gc(N,H){var X;for(X=0;8>X;++X)r(N,H+32*X,N,H-32,8)}function Cv(N,H){var X;for(X=0;8>X;++X)i(N,H,N[H-1],8),H+=32}function pa(N,H,X){var te;for(te=0;8>te;++te)i(H,X+32*te,N,8)}function Tv(N,H){var X,te=8;for(X=0;8>X;++X)te+=N[H+X-32]+N[H-1+32*X];pa(te>>4,N,H)}function wf(N,H){var X,te=4;for(X=0;8>X;++X)te+=N[H+X-32];pa(te>>3,N,H)}function Ef(N,H){var X,te=4;for(X=0;8>X;++X)te+=N[H-1+32*X];pa(te>>3,N,H)}function vm(N,H){pa(128,N,H)}function ma(N,H,X){var te=N[H-X],ie=N[H+0],se=3*(ie-te)+Iv[1020+N[H-2*X]-N[H+X]],oe=Tm[112+(se+4>>3)];N[H-X]=ws[255+te+Tm[112+(se+3>>3)]],N[H+0]=ws[255+ie-oe]}function xf(N,H,X,te){var ie=N[H+0],se=N[H+X];return Ps[255+N[H-2*X]-N[H-X]]>te||Ps[255+se-ie]>te}function Mu(N,H,X,te){return 4*Ps[255+N[H-X]-N[H+0]]+Ps[255+N[H-2*X]-N[H+X]]<=te}function Sf(N,H,X,te,ie){var se=N[H-3*X],oe=N[H-2*X],ce=N[H-X],pe=N[H+0],ge=N[H+X],Te=N[H+2*X],Le=N[H+3*X];return 4*Ps[255+ce-pe]+Ps[255+oe-ge]>te?0:Ps[255+N[H-4*X]-se]<=ie&&Ps[255+se-oe]<=ie&&Ps[255+oe-ce]<=ie&&Ps[255+Le-Te]<=ie&&Ps[255+Te-ge]<=ie&&Ps[255+ge-pe]<=ie}function yc(N,H,X,te){var ie=2*te+1;for(te=0;16>te;++te)Mu(N,H+te,X,ie)&&ma(N,H+te,X)}function Cf(N,H,X,te){var ie=2*te+1;for(te=0;16>te;++te)Mu(N,H+te*X,1,ie)&&ma(N,H+te*X,1)}function bm(N,H,X,te){var ie;for(ie=3;0<ie;--ie)yc(N,H+=4*X,X,te)}function _m(N,H,X,te){var ie;for(ie=3;0<ie;--ie)Cf(N,H+=4,X,te)}function ga(N,H,X,te,ie,se,oe,ce){for(se=2*se+1;0<ie--;){if(Sf(N,H,X,se,oe))if(xf(N,H,X,ce))ma(N,H,X);else{var pe=N,ge=H,Te=X,Le=pe[ge-2*Te],ye=pe[ge-Te],Ie=pe[ge+0],De=pe[ge+Te],He=pe[ge+2*Te],Oe=27*(Ye=Iv[1020+3*(Ie-ye)+Iv[1020+Le-De]])+63>>7,qe=18*Ye+63>>7,Ye=9*Ye+63>>7;pe[ge-3*Te]=ws[255+pe[ge-3*Te]+Ye],pe[ge-2*Te]=ws[255+Le+qe],pe[ge-Te]=ws[255+ye+Oe],pe[ge+0]=ws[255+Ie-Oe],pe[ge+Te]=ws[255+De-qe],pe[ge+2*Te]=ws[255+He-Ye]}H+=te}}function ya(N,H,X,te,ie,se,oe,ce){for(se=2*se+1;0<ie--;){if(Sf(N,H,X,se,oe))if(xf(N,H,X,ce))ma(N,H,X);else{var pe=N,ge=H,Te=X,Le=pe[ge-Te],ye=pe[ge+0],Ie=pe[ge+Te],De=Tm[112+(4+(He=3*(ye-Le))>>3)],He=Tm[112+(He+3>>3)],Oe=De+1>>1;pe[ge-2*Te]=ws[255+pe[ge-2*Te]+Oe],pe[ge-Te]=ws[255+Le+He],pe[ge+0]=ws[255+ye-De],pe[ge+Te]=ws[255+Ie-Oe]}H+=te}}function wm(N,H,X,te,ie,se){ga(N,H,X,1,16,te,ie,se)}function vc(N,H,X,te,ie,se){ga(N,H,1,X,16,te,ie,se)}function Em(N,H,X,te,ie,se){var oe;for(oe=3;0<oe;--oe)ya(N,H+=4*X,X,1,16,te,ie,se)}function Y(N,H,X,te,ie,se){var oe;for(oe=3;0<oe;--oe)ya(N,H+=4,1,X,16,te,ie,se)}function re(N,H,X,te,ie,se,oe,ce){ga(N,H,ie,1,8,se,oe,ce),ga(X,te,ie,1,8,se,oe,ce)}function _e(N,H,X,te,ie,se,oe,ce){ga(N,H,1,ie,8,se,oe,ce),ga(X,te,1,ie,8,se,oe,ce)}function Ce(N,H,X,te,ie,se,oe,ce){ya(N,H+4*ie,ie,1,8,se,oe,ce),ya(X,te+4*ie,ie,1,8,se,oe,ce)}function Ae(N,H,X,te,ie,se,oe,ce){ya(N,H+4,1,ie,8,se,oe,ce),ya(X,te+4,1,ie,8,se,oe,ce)}function Ke(){this.ba=new ft,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ut(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new b,this.yc=new O}function nn(){this.xb=this.a=0,this.l=new sr,this.ca=new ft,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ut,this.ab=0,this.gc=o(4,Nt),this.Oc=0}function hn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function qn(N,H,X,te,ie,se,oe){for(N=N==null?0:N[H+0],H=0;H<oe;++H)ie[se+H]=N+X[te+H]&255,N=ie[se+H]}function Tr(N,H,X,te,ie,se,oe){var ce;if(N==null)qn(null,null,X,te,ie,se,oe);else for(ce=0;ce<oe;++ce)ie[se+ce]=N[H+ce]+X[te+ce]&255}function $r(N,H,X,te,ie,se,oe){if(N==null)qn(null,null,X,te,ie,se,oe);else{var ce,pe=N[H+0],ge=pe,Te=pe;for(ce=0;ce<oe;++ce)ge=Te+(pe=N[H+ce])-ge,Te=X[te+ce]+(-256&ge?0>ge?0:255:ge)&255,ge=pe,ie[se+ce]=Te}}function fr(N,H,X,te){var ie=H.width,se=H.o;if(t(N!=null&&H!=null),0>X||0>=te||X+te>se)return null;if(!N.Cc){if(N.ga==null){var oe;if(N.ga=new hn,(oe=N.ga==null)||(oe=H.width*H.o,t(N.Gb.length==0),N.Gb=s(oe),N.Uc=0,N.Gb==null?oe=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,oe=1),oe=!oe),!oe){oe=N.ga;var ce=N.Fa,pe=N.P,ge=N.qc,Te=N.mb,Le=N.nb,ye=pe+1,Ie=ge-1,De=oe.l;if(t(ce!=null&&Te!=null&&H!=null),Dl[0]=null,Dl[1]=qn,Dl[2]=Tr,Dl[3]=$r,oe.ca=Te,oe.tb=Le,oe.c=H.width,oe.i=H.height,t(0<oe.c&&0<oe.i),1>=ge)H=0;else if(oe.$a=3&ce[pe+0],oe.Z=ce[pe+0]>>2&3,oe.Lc=ce[pe+0]>>4&3,pe=ce[pe+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||pe)H=0;else if(De.put=Rt,De.ac=Mt,De.bc=zt,De.ma=oe,De.width=H.width,De.height=H.height,De.Da=H.Da,De.v=H.v,De.va=H.va,De.j=H.j,De.o=H.o,oe.$a)e:{t(oe.$a==1),H=Mn();t:for(;;){if(H==null){H=0;break e}if(t(oe!=null),oe.mc=H,H.c=oe.c,H.i=oe.i,H.l=oe.l,H.l.ma=oe,H.l.width=oe.c,H.l.height=oe.i,H.a=0,C(H.m,ce,ye,Ie),!jn(oe.c,oe.i,1,H,null)||(H.ab==1&&H.gc[0].hc==3&&xt(H.s)?(oe.ic=1,ce=H.c*H.i,H.Ta=null,H.Ua=0,H.V=s(ce),H.Ba=0,H.V==null?(H.a=1,H=0):H=1):(oe.ic=0,H=ur(H,oe.c)),!H))break t;H=1;break e}oe.mc=null,H=0}else H=Ie>=oe.c*oe.i;oe=!H}if(oe)return null;N.ga.Lc!=1?N.Ga=0:te=se-X}t(N.ga!=null),t(X+te<=se);e:{if(H=(ce=N.ga).c,se=ce.l.o,ce.$a==0){if(ye=N.rc,Ie=N.Vc,De=N.Fa,pe=N.P+1+X*H,ge=N.mb,Te=N.nb+X*H,t(pe<=N.P+N.qc),ce.Z!=0)for(t(Dl[ce.Z]!=null),oe=0;oe<te;++oe)Dl[ce.Z](ye,Ie,De,pe,ge,Te,H),ye=ge,Ie=Te,Te+=H,pe+=H;else for(oe=0;oe<te;++oe)r(ge,Te,De,pe,H),ye=ge,Ie=Te,Te+=H,pe+=H;N.rc=ye,N.Vc=Ie}else{if(t(ce.mc!=null),H=X+te,t((oe=ce.mc)!=null),t(H<=oe.i),oe.C>=H)H=1;else if(ce.ic||no(),ce.ic){ce=oe.V,ye=oe.Ba,Ie=oe.c;var He=oe.i,Oe=(De=1,pe=oe.$/Ie,ge=oe.$%Ie,Te=oe.m,Le=oe.s,oe.$),qe=Ie*He,Ye=Ie*H,at=Le.wc,nt=Oe<Ye?ot(Le,ge,pe):null;t(Oe<=qe),t(H<=He),t(xt(Le));t:for(;;){for(;!Te.h&&Oe<Ye;){if(ge&at||(nt=ot(Le,ge,pe)),t(nt!=null),k(Te),256>(He=ze(nt.G[0],nt.H[0],Te)))ce[ye+Oe]=He,++Oe,++ge>=Ie&&(ge=0,++pe<=H&&!(pe%16)&&fn(oe,pe));else{if(!(280>He)){De=0;break t}He=Pe(He-256,Te);var jt,Tt=ze(nt.G[4],nt.H[4],Te);if(k(Te),!(Oe>=(Tt=Fe(Ie,Tt=Pe(Tt,Te)))&&qe-Oe>=He)){De=0;break t}for(jt=0;jt<He;++jt)ce[ye+Oe+jt]=ce[ye+Oe+jt-Tt];for(Oe+=He,ge+=He;ge>=Ie;)ge-=Ie,++pe<=H&&!(pe%16)&&fn(oe,pe);Oe<Ye&&ge&at&&(nt=ot(Le,ge,pe))}t(Te.h==K(Te))}fn(oe,pe>H?H:pe);break t}!De||Te.h&&Oe<qe?(De=0,oe.a=Te.h?5:3):oe.$=Oe,H=De}else H=Zt(oe,oe.V,oe.Ba,oe.c,oe.i,H,Pr);if(!H){te=0;break e}}X+te>=se&&(N.Cc=1),te=1}if(!te)return null;if(N.Cc&&((te=N.ga)!=null&&(te.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+X*ie}function Xr(N,H,X,te,ie,se){for(;0<ie--;){var oe,ce=N,pe=H+(X?1:0),ge=N,Te=H+(X?0:3);for(oe=0;oe<te;++oe){var Le=ge[Te+4*oe];Le!=255&&(Le*=32897,ce[pe+4*oe+0]=ce[pe+4*oe+0]*Le>>23,ce[pe+4*oe+1]=ce[pe+4*oe+1]*Le>>23,ce[pe+4*oe+2]=ce[pe+4*oe+2]*Le>>23)}H+=se}}function Wr(N,H,X,te,ie){for(;0<te--;){var se;for(se=0;se<X;++se){var oe=N[H+2*se+0],ce=15&(ge=N[H+2*se+1]),pe=4369*ce,ge=(240&ge|ge>>4)*pe>>16;N[H+2*se+0]=(240&oe|oe>>4)*pe>>16&240|(15&oe|oe<<4)*pe>>16>>4&15,N[H+2*se+1]=240&ge|ce}H+=ie}}function mi(N,H,X,te,ie,se,oe,ce){var pe,ge,Te=255;for(ge=0;ge<ie;++ge){for(pe=0;pe<te;++pe){var Le=N[H+pe];se[oe+4*pe]=Le,Te&=Le}H+=X,oe+=ce}return Te!=255}function va(N,H,X,te,ie){var se;for(se=0;se<ie;++se)X[te+se]=N[H+se]>>8}function no(){Ff=Xr,zC=Wr,qC=mi,$C=va}function ba(N,H,X){q[N]=function(te,ie,se,oe,ce,pe,ge,Te,Le,ye,Ie,De,He,Oe,qe,Ye,at){var nt,jt=at-1>>1,Tt=ce[pe+0]|ge[Te+0]<<16,mn=Le[ye+0]|Ie[De+0]<<16;t(te!=null);var Ot=3*Tt+mn+131074>>2;for(H(te[ie+0],255&Ot,Ot>>16,He,Oe),se!=null&&(Ot=3*mn+Tt+131074>>2,H(se[oe+0],255&Ot,Ot>>16,qe,Ye)),nt=1;nt<=jt;++nt){var Pn=ce[pe+nt]|ge[Te+nt]<<16,ei=Le[ye+nt]|Ie[De+nt]<<16,gn=Tt+Pn+mn+ei+524296,Lt=gn+2*(Pn+mn)>>3;Ot=Lt+Tt>>1,Tt=(gn=gn+2*(Tt+ei)>>3)+Pn>>1,H(te[ie+2*nt-1],255&Ot,Ot>>16,He,Oe+(2*nt-1)*X),H(te[ie+2*nt-0],255&Tt,Tt>>16,He,Oe+(2*nt-0)*X),se!=null&&(Ot=gn+mn>>1,Tt=Lt+ei>>1,H(se[oe+2*nt-1],255&Ot,Ot>>16,qe,Ye+(2*nt-1)*X),H(se[oe+2*nt+0],255&Tt,Tt>>16,qe,Ye+(2*nt+0)*X)),Tt=Pn,mn=ei}1&at||(Ot=3*Tt+mn+131074>>2,H(te[ie+at-1],255&Ot,Ot>>16,He,Oe+(at-1)*X),se!=null&&(Ot=3*mn+Tt+131074>>2,H(se[oe+at-1],255&Ot,Ot>>16,qe,Ye+(at-1)*X)))}}function Tf(){Os[Im]=A9,Os[Am]=n3,Os[JC]=k9,Os[km]=r3,Os[Dm]=i3,Os[Av]=s3,Os[XC]=D9,Os[kv]=n3,Os[Dv]=r3,Os[Mm]=i3,Os[Mv]=s3}function Nu(N){return N&~M9?0>N?0:255:N>>o3}function _l(N,H){return Nu((19077*N>>8)+(26149*H>>8)-14234)}function bc(N,H,X){return Nu((19077*N>>8)-(6419*H>>8)-(13320*X>>8)+8708)}function _c(N,H){return Nu((19077*N>>8)+(33050*H>>8)-17685)}function wl(N,H,X,te,ie){te[ie+0]=_l(N,X),te[ie+1]=bc(N,H,X),te[ie+2]=_c(N,H)}function gi(N,H,X,te,ie){te[ie+0]=_c(N,H),te[ie+1]=bc(N,H,X),te[ie+2]=_l(N,X)}function wc(N,H,X,te,ie){var se=bc(N,H,X);H=se<<3&224|_c(N,H)>>3,te[ie+0]=248&_l(N,X)|se>>5,te[ie+1]=H}function Ec(N,H,X,te,ie){var se=240&_c(N,H)|15;te[ie+0]=240&_l(N,X)|bc(N,H,X)>>4,te[ie+1]=se}function If(N,H,X,te,ie){te[ie+0]=255,wl(N,H,X,te,ie+1)}function Af(N,H,X,te,ie){gi(N,H,X,te,ie),te[ie+3]=255}function Vi(N,H,X,te,ie){wl(N,H,X,te,ie),te[ie+3]=255}function _a(N,H,X){q[N]=function(te,ie,se,oe,ce,pe,ge,Te,Le){for(var ye=Te+(-2&Le)*X;Te!=ye;)H(te[ie+0],se[oe+0],ce[pe+0],ge,Te),H(te[ie+1],se[oe+0],ce[pe+0],ge,Te+X),ie+=2,++oe,++pe,Te+=2*X;1&Le&&H(te[ie+0],se[oe+0],ce[pe+0],ge,Te)}}function Ru(N,H,X){return X==0?N==0?H==0?6:5:H==0?4:0:X}function xm(N,H,X,te,ie){switch(N>>>30){case 3:Tc(H,X,te,ie,0);break;case 2:Rs(H,X,te,ie);break;case 1:Jn(H,X,te,ie)}}function Ns(N,H){var X,te,ie=H.M,se=H.Nb,oe=N.oc,ce=N.pc+40,pe=N.oc,ge=N.pc+584,Te=N.oc,Le=N.pc+600;for(X=0;16>X;++X)oe[ce+32*X-1]=129;for(X=0;8>X;++X)pe[ge+32*X-1]=129,Te[Le+32*X-1]=129;for(0<ie?oe[ce-1-32]=pe[ge-1-32]=Te[Le-1-32]=129:(i(oe,ce-32-1,127,21),i(pe,ge-32-1,127,9),i(Te,Le-32-1,127,9)),te=0;te<N.za;++te){var ye=H.ya[H.aa+te];if(0<te){for(X=-1;16>X;++X)r(oe,ce+32*X-4,oe,ce+32*X+12,4);for(X=-1;8>X;++X)r(pe,ge+32*X-4,pe,ge+32*X+4,4),r(Te,Le+32*X-4,Te,Le+32*X+4,4)}var Ie=N.Gd,De=N.Hd+te,He=ye.ad,Oe=ye.Hc;if(0<ie&&(r(oe,ce-32,Ie[De].y,0,16),r(pe,ge-32,Ie[De].f,0,8),r(Te,Le-32,Ie[De].ea,0,8)),ye.Za){var qe=oe,Ye=ce-32+16;for(0<ie&&(te>=N.za-1?i(qe,Ye,Ie[De].y[15],4):r(qe,Ye,Ie[De+1].y,0,4)),X=0;4>X;X++)qe[Ye+128+X]=qe[Ye+256+X]=qe[Ye+384+X]=qe[Ye+0+X];for(X=0;16>X;++X,Oe<<=2)qe=oe,Ye=ce+l3[X],ro[ye.Ob[X]](qe,Ye),xm(Oe,He,16*+X,qe,Ye)}else if(qe=Ru(te,ie,ye.Ob[0]),kl[qe](oe,ce),Oe!=0)for(X=0;16>X;++X,Oe<<=2)xm(Oe,He,16*+X,oe,ce+l3[X]);for(X=ye.Gc,qe=Ru(te,ie,ye.Dd),xa[qe](pe,ge),xa[qe](Te,Le),Oe=He,qe=pe,Ye=ge,255&(ye=0|X)&&(170&ye?Oo(Oe,256,qe,Ye):ar(Oe,256,qe,Ye)),ye=Te,Oe=Le,255&(X>>=8)&&(170&X?Oo(He,320,ye,Oe):ar(He,320,ye,Oe)),ie<N.Ub-1&&(r(Ie[De].y,0,oe,ce+480,16),r(Ie[De].f,0,pe,ge+224,8),r(Ie[De].ea,0,Te,Le+224,8)),X=8*se*N.B,Ie=N.sa,De=N.ta+16*te+16*se*N.R,He=N.qa,ye=N.ra+8*te+X,Oe=N.Ha,qe=N.Ia+8*te+X,X=0;16>X;++X)r(Ie,De+X*N.R,oe,ce+32*X,16);for(X=0;8>X;++X)r(He,ye+X*N.B,pe,ge+32*X,8),r(Oe,qe+X*N.B,Te,Le+32*X,8)}}function xc(N,H,X,te,ie,se,oe,ce,pe){var ge=[0],Te=[0],Le=0,ye=pe!=null?pe.kd:0,Ie=pe??new tt;if(N==null||12>X)return 7;Ie.data=N,Ie.w=H,Ie.ha=X,H=[H],X=[X],Ie.gb=[Ie.gb];e:{var De=H,He=X,Oe=Ie.gb;if(t(N!=null),t(He!=null),t(Oe!=null),Oe[0]=0,12<=He[0]&&!n(N,De[0],"RIFF")){if(n(N,De[0]+8,"WEBP")){Oe=3;break e}var qe=de(N,De[0]+4);if(12>qe||4294967286<qe){Oe=3;break e}if(ye&&qe>He[0]-8){Oe=7;break e}Oe[0]=qe,De[0]+=12,He[0]-=12}Oe=0}if(Oe!=0)return Oe;for(qe=0<Ie.gb[0],X=X[0];;){e:{var Ye=N;He=H,Oe=X;var at=ge,nt=Te,jt=De=[0];if((Ot=Le=[Le])[0]=0,8>Oe[0])Oe=7;else{if(!n(Ye,He[0],"VP8X")){if(de(Ye,He[0]+4)!=10){Oe=3;break e}if(18>Oe[0]){Oe=7;break e}var Tt=de(Ye,He[0]+8),mn=1+he(Ye,He[0]+12);if(2147483648<=mn*(Ye=1+he(Ye,He[0]+15))){Oe=3;break e}jt!=null&&(jt[0]=Tt),at!=null&&(at[0]=mn),nt!=null&&(nt[0]=Ye),He[0]+=18,Oe[0]-=18,Ot[0]=1}Oe=0}}if(Le=Le[0],De=De[0],Oe!=0)return Oe;if(He=!!(2&De),!qe&&Le)return 3;if(se!=null&&(se[0]=!!(16&De)),oe!=null&&(oe[0]=He),ce!=null&&(ce[0]=0),oe=ge[0],De=Te[0],Le&&He&&pe==null){Oe=0;break}if(4>X){Oe=7;break}if(qe&&Le||!qe&&!Le&&!n(N,H[0],"ALPH")){X=[X],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{Tt=N,Oe=H,qe=X;var Ot=Ie.gb;at=Ie.na,nt=Ie.P,jt=Ie.Sa,mn=22,t(Tt!=null),t(qe!=null),Ye=Oe[0];var Pn=qe[0];for(t(at!=null),t(jt!=null),at[0]=null,nt[0]=null,jt[0]=0;;){if(Oe[0]=Ye,qe[0]=Pn,8>Pn){Oe=7;break e}var ei=de(Tt,Ye+4);if(4294967286<ei){Oe=3;break e}var gn=8+ei+1&-2;if(mn+=gn,0<Ot&&mn>Ot){Oe=3;break e}if(!n(Tt,Ye,"VP8 ")||!n(Tt,Ye,"VP8L")){Oe=0;break e}if(Pn[0]<gn){Oe=7;break e}n(Tt,Ye,"ALPH")||(at[0]=Tt,nt[0]=Ye+8,jt[0]=ei),Ye+=gn,Pn-=gn}}if(X=X[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Oe!=0)break}X=[X],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(Ot=N,Oe=H,qe=X,at=Ie.gb[0],nt=Ie.Ja,jt=Ie.xa,Tt=Oe[0],Ye=!n(Ot,Tt,"VP8 "),mn=!n(Ot,Tt,"VP8L"),t(Ot!=null),t(qe!=null),t(nt!=null),t(jt!=null),8>qe[0])Oe=7;else{if(Ye||mn){if(Ot=de(Ot,Tt+4),12<=at&&Ot>at-12){Oe=3;break e}if(ye&&Ot>qe[0]-8){Oe=7;break e}nt[0]=Ot,Oe[0]+=8,qe[0]-=8,jt[0]=mn}else jt[0]=5<=qe[0]&&Ot[Tt+0]==47&&!(Ot[Tt+4]>>5),nt[0]=qe[0];Oe=0}if(X=X[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],H=H[0],Oe!=0)break;if(4294967286<Ie.Ja)return 3;if(ce==null||He||(ce[0]=Ie.xa?2:1),oe=[oe],De=[De],Ie.xa){if(5>X){Oe=7;break}ce=oe,ye=De,He=se,N==null||5>X?N=0:5<=X&&N[H+0]==47&&!(N[H+4]>>5)?(qe=[0],Ot=[0],at=[0],C(nt=new G,N,H,X),Ee(nt,qe,Ot,at)?(ce!=null&&(ce[0]=qe[0]),ye!=null&&(ye[0]=Ot[0]),He!=null&&(He[0]=at[0]),N=1):N=0):N=0}else{if(10>X){Oe=7;break}ce=De,N==null||10>X||!Or(N,H+3,X-3)?N=0:(ye=N[H+0]|N[H+1]<<8|N[H+2]<<16,He=16383&(N[H+7]<<8|N[H+6]),N=16383&(N[H+9]<<8|N[H+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=Ie.Ja||!He||!N?N=0:(oe&&(oe[0]=He),ce&&(ce[0]=N),N=1))}if(!N||(oe=oe[0],De=De[0],Le&&(ge[0]!=oe||Te[0]!=De)))return 3;pe!=null&&(pe[0]=Ie,pe.offset=H-pe.w,t(4294967286>H-pe.w),t(pe.offset==pe.ha-X));break}return Oe==0||Oe==7&&Le&&pe==null?(se!=null&&(se[0]|=Ie.na!=null&&0<Ie.na.length),te!=null&&(te[0]=oe),ie!=null&&(ie[0]=De),0):Oe}function kf(N,H,X){var te=H.width,ie=H.height,se=0,oe=0,ce=te,pe=ie;if(H.Da=N!=null&&0<N.Da,H.Da&&(ce=N.cd,pe=N.bd,se=N.v,oe=N.j,11>X||(se&=-2,oe&=-2),0>se||0>oe||0>=ce||0>=pe||se+ce>te||oe+pe>ie))return 0;if(H.v=se,H.j=oe,H.va=se+ce,H.o=oe+pe,H.U=ce,H.T=pe,H.da=N!=null&&0<N.da,H.da){if(!ve(ce,pe,X=[N.ib],se=[N.hb]))return 0;H.ib=X[0],H.hb=se[0]}return H.ob=N!=null&&N.ob,H.Kb=N==null||!N.Sd,H.da&&(H.ob=H.ib<3*te/4&&H.hb<3*ie/4,H.Kb=0),1}function Df(N){if(N==null)return 2;if(11>N.S){var H=N.f.RGBA;H.fb+=(N.height-1)*H.A,H.A=-H.A}else H=N.f.kb,N=N.height,H.O+=(N-1)*H.fa,H.fa=-H.fa,H.N+=(N-1>>1)*H.Ab,H.Ab=-H.Ab,H.W+=(N-1>>1)*H.Db,H.Db=-H.Db,H.F!=null&&(H.J+=(N-1)*H.lb,H.lb=-H.lb);return 0}function El(N,H,X,te){if(te==null||0>=N||0>=H)return 2;if(X!=null){if(X.Da){var ie=X.cd,se=X.bd,oe=-2&X.v,ce=-2&X.j;if(0>oe||0>ce||0>=ie||0>=se||oe+ie>N||ce+se>H)return 2;N=ie,H=se}if(X.da){if(!ve(N,H,ie=[X.ib],se=[X.hb]))return 2;N=ie[0],H=se[0]}}te.width=N,te.height=H;e:{var pe=te.width,ge=te.height;if(N=te.S,0>=pe||0>=ge||!(N>=Im&&13>N))N=2;else{if(0>=te.Rd&&te.sd==null){oe=se=ie=H=0;var Te=(ce=pe*c3[N])*ge;if(11>N||(se=(ge+1)/2*(H=(pe+1)/2),N==12&&(oe=(ie=pe)*ge)),(ge=s(Te+2*se+oe))==null){N=1;break e}te.sd=ge,11>N?((pe=te.f.RGBA).eb=ge,pe.fb=0,pe.A=ce,pe.size=Te):((pe=te.f.kb).y=ge,pe.O=0,pe.fa=ce,pe.Fd=Te,pe.f=ge,pe.N=0+Te,pe.Ab=H,pe.Cd=se,pe.ea=ge,pe.W=0+Te+se,pe.Db=H,pe.Ed=se,N==12&&(pe.F=ge,pe.J=0+Te+2*se),pe.Tc=oe,pe.lb=ie)}if(H=1,ie=te.S,se=te.width,oe=te.height,ie>=Im&&13>ie)if(11>ie)N=te.f.RGBA,H&=(ce=Math.abs(N.A))*(oe-1)+se<=N.size,H&=ce>=se*c3[ie],H&=N.eb!=null;else{N=te.f.kb,ce=(se+1)/2,Te=(oe+1)/2,pe=Math.abs(N.fa),ge=Math.abs(N.Ab);var Le=Math.abs(N.Db),ye=Math.abs(N.lb),Ie=ye*(oe-1)+se;H&=pe*(oe-1)+se<=N.Fd,H&=ge*(Te-1)+ce<=N.Cd,H=(H&=Le*(Te-1)+ce<=N.Ed)&pe>=se&ge>=ce&Le>=ce,H&=N.y!=null,H&=N.f!=null,H&=N.ea!=null,ie==12&&(H&=ye>=se,H&=Ie<=N.Tc,H&=N.F!=null)}else H=0;N=H?0:2}}return N!=0||X!=null&&X.fd&&(N=Df(te)),N}var Sc=64,bs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_s=24,xl=32,wa=8,Sl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xe("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(N){return N},q.Predictor2=function(N,H,X){return H[X+0]},q.Predictor3=function(N,H,X){return H[X+1]},q.Predictor4=function(N,H,X){return H[X-1]},q.Predictor5=function(N,H,X){return Re(Re(N,H[X+1]),H[X+0])},q.Predictor6=function(N,H,X){return Re(N,H[X-1])},q.Predictor7=function(N,H,X){return Re(N,H[X+0])},q.Predictor8=function(N,H,X){return Re(H[X-1],H[X+0])},q.Predictor9=function(N,H,X){return Re(H[X+0],H[X+1])},q.Predictor10=function(N,H,X){return Re(Re(N,H[X-1]),Re(H[X+0],H[X+1]))},q.Predictor11=function(N,H,X){var te=H[X+0];return 0>=Ve(te>>24&255,N>>24&255,(H=H[X-1])>>24&255)+Ve(te>>16&255,N>>16&255,H>>16&255)+Ve(te>>8&255,N>>8&255,H>>8&255)+Ve(255&te,255&N,255&H)?te:N},q.Predictor12=function(N,H,X){var te=H[X+0];return(je((N>>24&255)+(te>>24&255)-((H=H[X-1])>>24&255))<<24|je((N>>16&255)+(te>>16&255)-(H>>16&255))<<16|je((N>>8&255)+(te>>8&255)-(H>>8&255))<<8|je((255&N)+(255&te)-(255&H)))>>>0},q.Predictor13=function(N,H,X){var te=H[X-1];return(st((N=Re(N,H[X+0]))>>24&255,te>>24&255)<<24|st(N>>16&255,te>>16&255)<<16|st(N>>8&255,te>>8&255)<<8|st(255&N,255&te))>>>0};var Mf=q.PredictorAdd0;q.PredictorAdd1=Qe,xe("Predictor2","PredictorAdd2"),xe("Predictor3","PredictorAdd3"),xe("Predictor4","PredictorAdd4"),xe("Predictor5","PredictorAdd5"),xe("Predictor6","PredictorAdd6"),xe("Predictor7","PredictorAdd7"),xe("Predictor8","PredictorAdd8"),xe("Predictor9","PredictorAdd9"),xe("Predictor10","PredictorAdd10"),xe("Predictor11","PredictorAdd11"),xe("Predictor12","PredictorAdd12"),xe("Predictor13","PredictorAdd13");var Pu=q.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Lr,Sm=q.ColorIndexInverseTransform,Ro=q.MapARGB,Po=q.VP8LColorIndexInverseTransformAlpha,Nf=q.MapAlpha,Rf=q.VP8LPredictorsAdd=[];Rf.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var Pf,Of,Cl,Tl,Il,Cc,Al,Tc,Rs,Oo,Jn,ar,Fr,Qr,Ea,Lf,Ou,Cm,FC,BC,UC,VC,jC,HC,Ff,zC,qC,$C,WC=s(511),GC=s(2041),KC=s(225),YC=s(767),ZC=0,Iv=GC,Tm=KC,ws=YC,Ps=WC,Im=0,Am=1,JC=2,km=3,Dm=4,Av=5,XC=6,kv=7,Dv=8,Mm=9,Mv=10,p9=[2,3,7],m9=[3,3,11],QC=[280,256,256,256,40],g9=[0,1,1,1,0],y9=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],v9=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],b9=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_9=8,Nv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bf=null,w9=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],E9=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],e3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],x9=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],S9=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],C9=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],T9=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],kl=[],ro=[],xa=[],I9=1,t3=2,Dl=[],Os=[];ba("UpsampleRgbLinePair",wl,3),ba("UpsampleBgrLinePair",gi,3),ba("UpsampleRgbaLinePair",Vi,4),ba("UpsampleBgraLinePair",Af,4),ba("UpsampleArgbLinePair",If,4),ba("UpsampleRgba4444LinePair",Ec,2),ba("UpsampleRgb565LinePair",wc,2);var A9=q.UpsampleRgbLinePair,k9=q.UpsampleBgrLinePair,n3=q.UpsampleRgbaLinePair,r3=q.UpsampleBgraLinePair,i3=q.UpsampleArgbLinePair,s3=q.UpsampleRgba4444LinePair,D9=q.UpsampleRgb565LinePair,Nm=16,Rm=1<<Nm-1,Uf=-227,Pv=482,o3=6,M9=(256<<o3)-1,a3=0,N9=s(256),R9=s(256),P9=s(256),O9=s(256),L9=s(Pv-Uf),F9=s(Pv-Uf);_a("YuvToRgbRow",wl,3),_a("YuvToBgrRow",gi,3),_a("YuvToRgbaRow",Vi,4),_a("YuvToBgraRow",Af,4),_a("YuvToArgbRow",If,4),_a("YuvToRgba4444Row",Ec,2),_a("YuvToRgb565Row",wc,2);var l3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pm=[0,2,8],B9=[8,7,6,4,4,2,2,2,1,1,1,1],U9=1;this.WebPDecodeRGBA=function(N,H,X,te,ie){var se=Am,oe=new Ke,ce=new ft;oe.ba=ce,ce.S=se,ce.width=[ce.width],ce.height=[ce.height];var pe=ce.width,ge=ce.height,Te=new At;if(Te==null||N==null)var Le=2;else t(Te!=null),Le=xc(N,H,X,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(Le!=0?pe=0:(pe!=null&&(pe[0]=Te.width[0]),ge!=null&&(ge[0]=Te.height[0]),pe=1),pe){ce.width=ce.width[0],ce.height=ce.height[0],te!=null&&(te[0]=ce.width),ie!=null&&(ie[0]=ce.height);e:{if(te=new sr,(ie=new tt).data=N,ie.w=H,ie.ha=X,ie.kd=1,H=[0],t(ie!=null),((N=xc(ie.data,ie.w,ie.ha,null,null,null,H,null,ie))==0||N==7)&&H[0]&&(N=4),(H=N)==0){if(t(oe!=null),te.data=ie.data,te.w=ie.w+ie.offset,te.ha=ie.ha-ie.offset,te.put=Rt,te.ac=Mt,te.bc=zt,te.ma=oe,ie.xa){if((N=Mn())==null){oe=1;break e}if(function(ye,Ie){var De=[0],He=[0],Oe=[0];t:for(;;){if(ye==null)return 0;if(Ie==null)return ye.a=2,0;if(ye.l=Ie,ye.a=0,C(ye.m,Ie.data,Ie.w,Ie.ha),!Ee(ye.m,De,He,Oe)){ye.a=3;break t}if(ye.xb=t3,Ie.width=De[0],Ie.height=He[0],!jn(De[0],He[0],1,ye,null))break t;return 1}return t(ye.a!=0),0}(N,te)){if(te=(H=El(te.width,te.height,oe.Oa,oe.ba))==0){t:{te=N;n:for(;;){if(te==null){te=0;break t}if(t(te.s.yc!=null),t(te.s.Ya!=null),t(0<te.s.Wb),t((X=te.l)!=null),t((ie=X.ma)!=null),te.xb!=0){if(te.ca=ie.ba,te.tb=ie.tb,t(te.ca!=null),!kf(ie.Oa,X,km)){te.a=2;break n}if(!ur(te,X.width)||X.da)break n;if((X.da||it(te.ca.S))&&no(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&no()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!Z(te.s.vb,te.s.Wa.Xa)){te.a=1;break n}te.xb=0}if(!Zt(te,te.V,te.Ba,te.c,te.i,X.o,Sn))break n;ie.Dc=te.Ma,te=1;break t}t(te.a!=0),te=0}te=!te}te&&(H=N.a)}else H=N.a}else{if((N=new Rn)==null){oe=1;break e}if(N.Fa=ie.na,N.P=ie.P,N.qc=ie.Sa,Cr(N,te)){if((H=El(te.width,te.height,oe.Oa,oe.ba))==0){if(N.Aa=0,X=oe.Oa,t((ie=N)!=null),X!=null){if(0<(pe=0>(pe=X.Md)?0:100<pe?255:255*pe/100)){for(ge=Te=0;4>ge;++ge)12>(Le=ie.pb[ge]).lc&&(Le.ia=pe*B9[0>Le.lc?0:Le.lc]>>3),Te|=Le.ia;Te&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=X.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}(function(ye,Ie){if(ye==null)return 0;if(Ie==null)return Qt(ye,2,"NULL VP8Io parameter in VP8Decode().");if(!ye.cb&&!Cr(ye,Ie))return 0;if(t(ye.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(ye.L=0);var De=Pm[ye.L];if(ye.L==2?(ye.yb=0,ye.zb=0):(ye.yb=Ie.v-De>>4,ye.zb=Ie.j-De>>4,0>ye.yb&&(ye.yb=0),0>ye.zb&&(ye.zb=0)),ye.Va=Ie.o+15+De>>4,ye.Hb=Ie.va+15+De>>4,ye.Hb>ye.za&&(ye.Hb=ye.za),ye.Va>ye.Ub&&(ye.Va=ye.Ub),0<ye.L){var He=ye.ed;for(De=0;4>De;++De){var Oe;if(ye.Qa.Cb){var qe=ye.Qa.Lb[De];ye.Qa.Fb||(qe+=He.Tb)}else qe=He.Tb;for(Oe=0;1>=Oe;++Oe){var Ye=ye.gd[De][Oe],at=qe;if(He.Pc&&(at+=He.vd[0],Oe&&(at+=He.od[0])),0<(at=0>at?0:63<at?63:at)){var nt=at;0<He.wb&&(nt=4<He.wb?nt>>2:nt>>1)>9-He.wb&&(nt=9-He.wb),1>nt&&(nt=1),Ye.dd=nt,Ye.tc=2*at+nt,Ye.ld=40<=at?2:15<=at?1:0}else Ye.tc=0;Ye.La=Oe}}}De=0}else Qt(ye,6,"Frame setup failed"),De=ye.a;if(De=De==0){if(De){ye.$c=0,0<ye.Aa||(ye.Ic=U9);t:{De=ye.Ic,He=4*(nt=ye.za);var jt=32*nt,Tt=nt+1,mn=0<ye.L?nt*(0<ye.Aa?2:1):0,Ot=(ye.Aa==2?2:1)*nt;if((Ye=He+832+(Oe=3*(16*De+Pm[ye.L])/2*jt)+(qe=ye.Fa!=null&&0<ye.Fa.length?ye.Kc.c*ye.Kc.i:0))!=Ye)De=0;else{if(Ye>ye.Vb){if(ye.Vb=0,ye.Ec=s(Ye),ye.Fc=0,ye.Ec==null){De=Qt(ye,1,"no memory during frame initialization.");break t}ye.Vb=Ye}Ye=ye.Ec,at=ye.Fc,ye.Ac=Ye,ye.Bc=at,at+=He,ye.Gd=o(jt,qt),ye.Hd=0,ye.rb=o(Tt+1,Et),ye.sb=1,ye.wa=mn?o(mn,rt):null,ye.Y=0,ye.D.Nb=0,ye.D.wa=ye.wa,ye.D.Y=ye.Y,0<ye.Aa&&(ye.D.Y+=nt),t(!0),ye.oc=Ye,ye.pc=at,at+=832,ye.ya=o(Ot,on),ye.aa=0,ye.D.ya=ye.ya,ye.D.aa=ye.aa,ye.Aa==2&&(ye.D.aa+=nt),ye.R=16*nt,ye.B=8*nt,nt=(jt=Pm[ye.L])*ye.R,jt=jt/2*ye.B,ye.sa=Ye,ye.ta=at+nt,ye.qa=ye.sa,ye.ra=ye.ta+16*De*ye.R+jt,ye.Ha=ye.qa,ye.Ia=ye.ra+8*De*ye.B+jt,ye.$c=0,at+=Oe,ye.mb=qe?Ye:null,ye.nb=qe?at:null,t(at+qe<=ye.Fc+ye.Vb),Ui(ye),i(ye.Ac,ye.Bc,0,He),De=1}}if(De){if(Ie.ka=0,Ie.y=ye.sa,Ie.O=ye.ta,Ie.f=ye.qa,Ie.N=ye.ra,Ie.ea=ye.Ha,Ie.Vd=ye.Ia,Ie.fa=ye.R,Ie.Rc=ye.B,Ie.F=null,Ie.J=0,!ZC){for(De=-255;255>=De;++De)WC[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)GC[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)KC[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)YC[255+De]=0>De?0:255<De?255:De;ZC=1}Al=Ci,Tc=hc,Oo=li,Jn=ua,ar=ci,Rs=zn,Fr=wm,Qr=vc,Ea=re,Lf=_e,Ou=Em,Cm=Y,FC=Ce,BC=Ae,UC=yc,VC=Cf,jC=bm,HC=_m,ro[0]=Ev,ro[1]=da,ro[2]=bl,ro[3]=wv,ro[4]=fa,ro[5]=xv,ro[6]=ha,ro[7]=Sv,ro[8]=_f,ro[9]=Du,kl[0]=mc,kl[1]=Mo,kl[2]=Xi,kl[3]=pc,kl[4]=Ms,kl[5]=No,kl[6]=ku,xa[0]=Tv,xa[1]=vl,xa[2]=gc,xa[3]=Cv,xa[4]=Ef,xa[5]=wf,xa[6]=vm,De=1}else De=0}De&&(De=function(Pn,ei){for(Pn.M=0;Pn.M<Pn.Va;++Pn.M){var gn,Lt=Pn.Jc[Pn.M&Pn.Xb],vt=Pn.m,Br=Pn;for(gn=0;gn<Br.za;++gn){var an=vt,Bn=Br,yr=Bn.Ac,yi=Bn.Bc+4*gn,ji=Bn.zc,kr=Bn.ya[Bn.aa+gn];if(Bn.Qa.Bb?kr.$b=Q(an,Bn.Pa.jb[0])?2+Q(an,Bn.Pa.jb[2]):Q(an,Bn.Pa.jb[1]):kr.$b=0,Bn.kc&&(kr.Ad=Q(an,Bn.Bd)),kr.Za=!Q(an,145)+0,kr.Za){var Ai=kr.Ob,Hi=0;for(Bn=0;4>Bn;++Bn){var ti,$n=ji[0+Bn];for(ti=0;4>ti;++ti){$n=S9[yr[yi+ti]][$n];for(var nr=e3[Q(an,$n[0])];0<nr;)nr=e3[2*nr+Q(an,$n[nr])];$n=-nr,yr[yi+ti]=$n}r(Ai,Hi,yr,yi,4),Hi+=4,ji[0+Bn]=$n}}else $n=Q(an,156)?Q(an,128)?1:3:Q(an,163)?2:0,kr.Ob[0]=$n,i(yr,yi,$n,4),i(ji,0,$n,4);kr.Dd=Q(an,142)?Q(an,114)?Q(an,183)?1:3:2:0}if(Br.m.Ka)return Qt(Pn,7,"Premature end-of-partition0 encountered.");for(;Pn.ja<Pn.za;++Pn.ja){if(Br=Lt,an=(vt=Pn).rb[vt.sb-1],yr=vt.rb[vt.sb+vt.ja],gn=vt.ya[vt.aa+vt.ja],yi=vt.kc?gn.Ad:0)an.la=yr.la=0,gn.Za||(an.Na=yr.Na=0),gn.Hc=0,gn.Gc=0,gn.ia=0;else{var Dr,rr;if(an=yr,yr=Br,yi=vt.Pa.Xc,ji=vt.ya[vt.aa+vt.ja],kr=vt.pb[ji.$b],Bn=ji.ad,Ai=0,Hi=vt.rb[vt.sb-1],$n=ti=0,i(Bn,Ai,0,384),ji.Za)var vi=0,io=yi[3];else{nr=s(16);var Ur=an.Na+Hi.Na;if(Ur=Bf(yr,yi[1],Ur,kr.Eb,0,nr,0),an.Na=Hi.Na=(0<Ur)+0,1<Ur)Al(nr,0,Bn,Ai);else{var Qi=nr[0]+3>>3;for(nr=0;256>nr;nr+=16)Bn[Ai+nr]=Qi}vi=1,io=yi[0]}var lr=15&an.la,ni=15&Hi.la;for(nr=0;4>nr;++nr){var Es=1&ni;for(Qi=rr=0;4>Qi;++Qi)lr=lr>>1|(Es=(Ur=Bf(yr,io,Ur=Es+(1&lr),kr.Sc,vi,Bn,Ai))>vi)<<7,rr=rr<<2|(3<Ur?3:1<Ur?2:Bn[Ai+0]!=0),Ai+=16;lr>>=4,ni=ni>>1|Es<<7,ti=(ti<<8|rr)>>>0}for(io=lr,vi=ni>>4,Dr=0;4>Dr;Dr+=2){for(rr=0,lr=an.la>>4+Dr,ni=Hi.la>>4+Dr,nr=0;2>nr;++nr){for(Es=1&ni,Qi=0;2>Qi;++Qi)Ur=Es+(1&lr),lr=lr>>1|(Es=0<(Ur=Bf(yr,yi[2],Ur,kr.Qc,0,Bn,Ai)))<<3,rr=rr<<2|(3<Ur?3:1<Ur?2:Bn[Ai+0]!=0),Ai+=16;lr>>=2,ni=ni>>1|Es<<5}$n|=rr<<4*Dr,io|=lr<<4<<Dr,vi|=(240&ni)<<Dr}an.la=io,Hi.la=vi,ji.Hc=ti,ji.Gc=$n,ji.ia=43690&$n?0:kr.ia,yi=!(ti|$n)}if(0<vt.L&&(vt.wa[vt.Y+vt.ja]=vt.gd[gn.$b][gn.Za],vt.wa[vt.Y+vt.ja].La|=!yi),Br.Ka)return Qt(Pn,7,"Premature end-of-file encountered.")}if(Ui(Pn),vt=ei,Br=1,gn=(Lt=Pn).D,an=0<Lt.L&&Lt.M>=Lt.zb&&Lt.M<=Lt.Va,Lt.Aa==0)t:{if(gn.M=Lt.M,gn.uc=an,Ns(Lt,gn),Br=1,gn=(rr=Lt.D).Nb,an=($n=Pm[Lt.L])*Lt.R,yr=$n/2*Lt.B,nr=16*gn*Lt.R,Qi=8*gn*Lt.B,yi=Lt.sa,ji=Lt.ta-an+nr,kr=Lt.qa,Bn=Lt.ra-yr+Qi,Ai=Lt.Ha,Hi=Lt.Ia-yr+Qi,ni=(lr=rr.M)==0,ti=lr>=Lt.Va-1,Lt.Aa==2&&Ns(Lt,rr),rr.uc)for(Es=(Ur=Lt).D.M,t(Ur.D.uc),rr=Ur.yb;rr<Ur.Hb;++rr){vi=rr,io=Es;var zi=(xs=(bi=Ur).D).Nb;Dr=bi.R;var xs=xs.wa[xs.Y+vi],Ss=bi.sa,es=bi.ta+16*zi*Dr+16*vi,Cs=xs.dd,hr=xs.tc;if(hr!=0)if(t(3<=hr),bi.L==1)0<vi&&VC(Ss,es,Dr,hr+4),xs.La&&HC(Ss,es,Dr,hr),0<io&&UC(Ss,es,Dr,hr+4),xs.La&&jC(Ss,es,Dr,hr);else{var Ts=bi.B,so=bi.qa,Ic=bi.ra+8*zi*Ts+8*vi,Sa=bi.Ha,bi=bi.Ia+8*zi*Ts+8*vi;zi=xs.ld,0<vi&&(Qr(Ss,es,Dr,hr+4,Cs,zi),Lf(so,Ic,Sa,bi,Ts,hr+4,Cs,zi)),xs.La&&(Cm(Ss,es,Dr,hr,Cs,zi),BC(so,Ic,Sa,bi,Ts,hr,Cs,zi)),0<io&&(Fr(Ss,es,Dr,hr+4,Cs,zi),Ea(so,Ic,Sa,bi,Ts,hr+4,Cs,zi)),xs.La&&(Ou(Ss,es,Dr,hr,Cs,zi),FC(so,Ic,Sa,bi,Ts,hr,Cs,zi))}}if(Lt.ia&&alert("todo:DitherRow"),vt.put!=null){if(rr=16*lr,lr=16*(lr+1),ni?(vt.y=Lt.sa,vt.O=Lt.ta+nr,vt.f=Lt.qa,vt.N=Lt.ra+Qi,vt.ea=Lt.Ha,vt.W=Lt.Ia+Qi):(rr-=$n,vt.y=yi,vt.O=ji,vt.f=kr,vt.N=Bn,vt.ea=Ai,vt.W=Hi),ti||(lr-=$n),lr>vt.o&&(lr=vt.o),vt.F=null,vt.J=null,Lt.Fa!=null&&0<Lt.Fa.length&&rr<lr&&(vt.J=fr(Lt,vt,rr,lr-rr),vt.F=Lt.mb,vt.F==null&&vt.F.length==0)){Br=Qt(Lt,3,"Could not decode alpha data.");break t}rr<vt.j&&($n=vt.j-rr,rr=vt.j,t(!(1&$n)),vt.O+=Lt.R*$n,vt.N+=Lt.B*($n>>1),vt.W+=Lt.B*($n>>1),vt.F!=null&&(vt.J+=vt.width*$n)),rr<lr&&(vt.O+=vt.v,vt.N+=vt.v>>1,vt.W+=vt.v>>1,vt.F!=null&&(vt.J+=vt.v),vt.ka=rr-vt.j,vt.U=vt.va-vt.v,vt.T=lr-rr,Br=vt.put(vt))}gn+1!=Lt.Ic||ti||(r(Lt.sa,Lt.ta-an,yi,ji+16*Lt.R,an),r(Lt.qa,Lt.ra-yr,kr,Bn+8*Lt.B,yr),r(Lt.Ha,Lt.Ia-yr,Ai,Hi+8*Lt.B,yr))}if(!Br)return Qt(Pn,6,"Output aborted.")}return 1}(ye,Ie)),Ie.bc!=null&&Ie.bc(Ie),De&=1}return De?(ye.cb=0,De):0})(N,te)||(H=N.a)}}else H=N.a}H==0&&oe.Oa!=null&&oe.Oa.fd&&(H=Df(oe.ba))}oe=H}se=oe!=0?null:11>se?ce.f.RGBA.eb:ce.f.kb.y}else se=null;return se};var c3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(q,j){for(var S="",T=0;T<4;T++)S+=String.fromCharCode(q[j++]);return S}function u(q,j){return q[j+0]|q[j+1]<<8}function d(q,j){return(q[j+0]|q[j+1]<<8|q[j+2]<<16)>>>0}function h(q,j){return(q[j+0]|q[j+1]<<8|q[j+2]<<16|q[j+3]<<24)>>>0}new l;var f=[0],p=[0],m=[],g=new l,v=e,x=function(q,j){var S={},T=0,O=!1,y=0,b=0;if(S.frames=[],!function(B,G){for(var M=0;M<4;M++)if(B[G+M]!="RIFF".charCodeAt(M))return!0;return!1}(q,j)){for(h(q,j+=4),j+=8;j<q.length;){var w=c(q,j),_=h(q,j+=4);j+=4;var E=_+(1&_);switch(w){case"VP8 ":case"VP8L":S.frames[T]===void 0&&(S.frames[T]={}),(W=S.frames[T]).src_off=O?b:j-8,W.src_size=y+_+8,T++,O&&(O=!1,y=0,b=0);break;case"VP8X":(W=S.header={}).feature_flags=q[j];var C=j+4;W.canvas_width=1+d(q,C),C+=3,W.canvas_height=1+d(q,C),C+=3;break;case"ALPH":O=!0,y=E+8,b=j-8;break;case"ANIM":(W=S.header).bgcolor=h(q,j),C=j+4,W.loop_count=u(q,C),C+=2;break;case"ANMF":var L,W;(W=S.frames[T]={}).offset_x=2*d(q,j),j+=3,W.offset_y=2*d(q,j),j+=3,W.width=1+d(q,j),j+=3,W.height=1+d(q,j),j+=3,W.duration=d(q,j),j+=3,L=q[j++],W.dispose=1&L,W.blend=L>>1&1}w!="ANMF"&&(j+=E)}return S}}(v,0);x.response=v,x.rgbaoutput=!0,x.dataurl=!1;var I=x.header?x.header:null,R=x.frames?x.frames:null;if(I){I.loop_counter=I.loop_count,f=[I.canvas_height],p=[I.canvas_width];for(var $=0;$<R.length&&R[$].blend!=0;$++);}var F=R[0],V=g.WebPDecodeRGBA(v,F.src_off,F.src_size,p,f);F.rgba=V,F.imgwidth=p[0],F.imgheight=f[0];for(var U=0;U<p[0]*f[0]*4;U++)m[U]=V[U];return this.width=p,this.height=f,this.data=m,this}function Zie(){var e,t=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function Jie(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,n,r,i,s,o,a,l,c,u=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=B;Object.defineProperty(this,"pdf",{get:function(){return G}});var M=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return M},set:function(Z){M=!!Z}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(Z){K=!!Z}});var D=0;Object.defineProperty(this,"posX",{get:function(){return D},set:function(Z){isNaN(Z)||(D=Z)}});var k=0;Object.defineProperty(this,"posY",{get:function(){return k},set:function(Z){isNaN(Z)||(k=Z)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Z){var le;typeof Z=="number"?le=[Z,Z,Z,Z]:((le=new Array(4))[0]=Z[0],le[1]=Z.length>=2?Z[1]:le[0],le[2]=Z.length>=3?Z[2]:le[0],le[3]=Z.length>=4?Z[3]:le[1]),c.margin=le}});var z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return z},set:function(Z){z=Z}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(Z){J=Z}});var Q=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Q},set:function(Z){Q=Z}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Z){Z instanceof u&&(c=Z)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Z){c.path=Z}});var ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return ee},set:function(Z){ee=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var le;le=h(Z),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var le=h(Z);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var ne=null,he=null,de=null;Object.defineProperty(this,"fontFaces",{get:function(){return de},set:function(Z){ne=null,he=null,de=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var le;if(this.ctx.font=Z,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var fe=le[1];le[2];var ve=le[3],me=le[4];le[5];var Se=le[6],xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(me)[2];me=Math.floor(xe==="px"?parseFloat(me)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat(me)*this.pdf.getFontSize():parseFloat(me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(me);var ke=function(Ze){var et,Be,lt=[],Xe=Ze.trim();if(Xe==="")return HS;if(Xe in hP)return[hP[Xe]];for(;Xe!=="";){switch(Be=null,et=(Xe=mP(Xe)).charAt(0)){case'"':case"'":Be=qie(Xe.substring(1),et);break;default:Be=$ie(Xe)}if(Be===null||(lt.push(Be[0]),(Xe=mP(Be[1]))!==""&&Xe.charAt(0)!==","))return HS;Xe=Xe.replace(/^,/,"")}return lt}(Se);if(this.fontFaces){var Re=function(Ze,et){var Be=Ze.getFontList(),lt=JSON.stringify(Be);if(ne===null||he!==lt){var Xe=function(mt){var Ct=[];return Object.keys(mt).forEach(function(pt){mt[pt].forEach(function(it){var It=null;switch(it){case"bold":It={family:pt,weight:"bold"};break;case"italic":It={family:pt,style:"italic"};break;case"bolditalic":It={family:pt,weight:"bold",style:"italic"};break;case"":case"normal":It={family:pt}}It!==null&&(It.ref={name:pt,style:it},Ct.push(It))})}),Ct}(Be);ne=function(mt){for(var Ct={},pt=0;pt<mt.length;++pt){var it=jS(mt[pt]),It=it.family,wt=it.stretch,ft=it.style,At=it.weight;Ct[It]=Ct[It]||{},Ct[It][wt]=Ct[It][wt]||{},Ct[It][wt][ft]=Ct[It][wt][ft]||{},Ct[It][wt][ft][At]=it}return Ct}(Xe.concat(et)),he=lt}return ne}(this.pdf,this.fontFaces),je=ke.map(function(Ze){return{family:Ze,stretch:"normal",weight:ve,style:fe}}),st=function(Ze,et,Be){for(var lt=(Be=Be||{}).defaultFontFamily||"times",Xe=Object.assign({},zie,Be.genericFontFamilies||{}),mt=null,Ct=null,pt=0;pt<et.length;++pt)if(Xe[(mt=jS(et[pt])).family]&&(mt.family=Xe[mt.family]),Ze.hasOwnProperty(mt.family)){Ct=Ze[mt.family];break}if(!(Ct=Ct||Ze[lt]))throw new Error("Could not find a font-family for the rule '"+pP(mt)+"' and default family '"+lt+"'.");if(Ct=function(it,It){if(It[it])return It[it];var wt=KS[it],ft=wt<=KS.normal?-1:1,At=fP(It,LP,wt,ft);if(!At)throw new Error("Could not find a matching font-stretch value for "+it);return At}(mt.stretch,Ct),Ct=function(it,It){if(It[it])return It[it];for(var wt=OP[it],ft=0;ft<wt.length;++ft)if(It[wt[ft]])return It[wt[ft]];throw new Error("Could not find a matching font-style for "+it)}(mt.style,Ct),!(Ct=function(it,It){if(It[it])return It[it];if(it===400&&It[500])return It[500];if(it===500&&It[400])return It[400];var wt=Hie[it],ft=fP(It,FP,wt,it<400?-1:1);if(!ft)throw new Error("Could not find a matching font-weight for value "+it);return ft}(mt.weight,Ct)))throw new Error("Failed to resolve a font for the rule '"+pP(mt)+"'.");return Ct}(Re,je);this.pdf.setFont(st.ref.name,st.ref.style)}else{var Ve="";(ve==="bold"||parseInt(ve,10)>=700||fe==="bold")&&(Ve="bold"),fe==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var Qe="",ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ge=0;Ge<ke.length;Ge++){if(this.pdf.internal.getFont(ke[Ge],Ve,{noFallback:!0,disableWarning:!0})!==void 0){Qe=ke[Ge];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(ke[Ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qe=ke[Ge],Ve="bold";else if(this.pdf.internal.getFont(ke[Ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qe=ke[Ge],Ve="normal";break}}if(Qe===""){for(var $e=0;$e<ke.length;$e++)if(ht[ke[$e]]){Qe=ht[ke[$e]];break}}Qe=Qe===""?"Times":Qe,this.pdf.setFont(Qe,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};d.prototype.setLineDash=function(B){this.lineDash=B},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){R.call(this,"fill",!1)},d.prototype.stroke=function(){R.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(B,G){if(isNaN(B)||isNaN(G))throw cr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var M=this.ctx.transform.applyToPoint(new o(B,G));this.path.push({type:"mt",x:M.x,y:M.y}),this.ctx.lastPoint=new o(B,G)},d.prototype.closePath=function(){var B=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&tr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){B=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},d.prototype.lineTo=function(B,G){if(isNaN(B)||isNaN(G))throw cr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var M=this.ctx.transform.applyToPoint(new o(B,G));this.path.push({type:"lt",x:M.x,y:M.y}),this.ctx.lastPoint=new o(M.x,M.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},d.prototype.quadraticCurveTo=function(B,G,M,K){if(isNaN(M)||isNaN(K)||isNaN(B)||isNaN(G))throw cr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var D=this.ctx.transform.applyToPoint(new o(M,K)),k=this.ctx.transform.applyToPoint(new o(B,G));this.path.push({type:"qct",x1:k.x,y1:k.y,x:D.x,y:D.y}),this.ctx.lastPoint=new o(D.x,D.y)},d.prototype.bezierCurveTo=function(B,G,M,K,D,k){if(isNaN(D)||isNaN(k)||isNaN(B)||isNaN(G)||isNaN(M)||isNaN(K))throw cr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var z=this.ctx.transform.applyToPoint(new o(D,k)),J=this.ctx.transform.applyToPoint(new o(B,G)),Q=this.ctx.transform.applyToPoint(new o(M,K));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:Q.x,y2:Q.y,x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},d.prototype.arc=function(B,G,M,K,D,k){if(isNaN(B)||isNaN(G)||isNaN(M)||isNaN(K)||isNaN(D))throw cr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(k=!!k,!this.ctx.transform.isIdentity){var z=this.ctx.transform.applyToPoint(new o(B,G));B=z.x,G=z.y;var J=this.ctx.transform.applyToPoint(new o(0,M)),Q=this.ctx.transform.applyToPoint(new o(0,0));M=Math.sqrt(Math.pow(J.x-Q.x,2)+Math.pow(J.y-Q.y,2))}Math.abs(D-K)>=2*Math.PI&&(K=0,D=2*Math.PI),this.path.push({type:"arc",x:B,y:G,radius:M,startAngle:K,endAngle:D,counterclockwise:k})},d.prototype.arcTo=function(B,G,M,K,D){throw new Error("arcTo not implemented.")},d.prototype.rect=function(B,G,M,K){if(isNaN(B)||isNaN(G)||isNaN(M)||isNaN(K))throw cr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,G),this.lineTo(B+M,G),this.lineTo(B+M,G+K),this.lineTo(B,G+K),this.lineTo(B,G),this.lineTo(B+M,G),this.lineTo(B,G)},d.prototype.fillRect=function(B,G,M,K){if(isNaN(B)||isNaN(G)||isNaN(M)||isNaN(K))throw cr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var D={};this.lineCap!=="butt"&&(D.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(D.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,G,M,K),this.fill(),D.hasOwnProperty("lineCap")&&(this.lineCap=D.lineCap),D.hasOwnProperty("lineJoin")&&(this.lineJoin=D.lineJoin)}},d.prototype.strokeRect=function(B,G,M,K){if(isNaN(B)||isNaN(G)||isNaN(M)||isNaN(K))throw cr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(B,G,M,K),this.stroke())},d.prototype.clearRect=function(B,G,M,K){if(isNaN(B)||isNaN(G)||isNaN(M)||isNaN(K))throw cr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,G,M,K))},d.prototype.save=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},d.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("Q");this.pdf.setPage(G),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(B){var G,M,K,D;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))G=0,M=0,K=0,D=0;else{var k=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(k!==null)G=parseInt(k[1]),M=parseInt(k[2]),K=parseInt(k[3]),D=1;else if((k=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)G=parseInt(k[1]),M=parseInt(k[2]),K=parseInt(k[3]),D=parseFloat(k[4]);else{if(D=1,typeof B=="string"&&B.charAt(0)!=="#"){var z=new AP(B);B=z.ok?z.toHex():"#000000"}B.length===4?(G=B.substring(1,2),G+=G,M=B.substring(2,3),M+=M,K=B.substring(3,4),K+=K):(G=B.substring(1,3),M=B.substring(3,5),K=B.substring(5,7)),G=parseInt(G,16),M=parseInt(M,16),K=parseInt(K,16)}}return{r:G,g:M,b:K,a:D,style:B}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(B,G,M,K){if(isNaN(G)||isNaN(M)||typeof B!="string")throw cr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!f.call(this)){var D=E(this.ctx.transform.rotation),k=this.ctx.transform.scaleX;T.call(this,{text:B,x:G,y:M,scale:k,angle:D,align:this.textAlign,maxWidth:K})}},d.prototype.strokeText=function(B,G,M,K){if(isNaN(G)||isNaN(M)||typeof B!="string")throw cr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){K=isNaN(K)?void 0:K;var D=E(this.ctx.transform.rotation),k=this.ctx.transform.scaleX;T.call(this,{text:B,x:G,y:M,scale:k,renderingMode:"stroke",angle:D,align:this.textAlign,maxWidth:K})}},d.prototype.measureText=function(B){if(typeof B!="string")throw cr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,M=this.pdf.internal.scaleFactor,K=G.internal.getFontSize(),D=G.getStringUnitWidth(B)*K/G.internal.scaleFactor;return new function(k){var z=(k=k||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return z}}),this}({width:D*=Math.round(96*M/72*1e4)/1e4})},d.prototype.scale=function(B,G){if(isNaN(B)||isNaN(G))throw cr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var M=new l(B,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.rotate=function(B){if(isNaN(B))throw cr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.translate=function(B,G){if(isNaN(B)||isNaN(G))throw cr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var M=new l(1,0,0,1,B,G);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.transform=function(B,G,M,K,D,k){if(isNaN(B)||isNaN(G)||isNaN(M)||isNaN(K)||isNaN(D)||isNaN(k))throw cr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var z=new l(B,G,M,K,D,k);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.setTransform=function(B,G,M,K,D,k){B=isNaN(B)?1:B,G=isNaN(G)?0:G,M=isNaN(M)?0:M,K=isNaN(K)?1:K,D=isNaN(D)?0:D,k=isNaN(k)?0:k,this.ctx.transform=new l(B,G,M,K,D,k)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(B,G,M,K,D,k,z,J,Q){var ee=this.pdf.getImageProperties(B),ne=1,he=1,de=1,Z=1;K!==void 0&&J!==void 0&&(de=J/K,Z=Q/D,ne=ee.width/K*J/K,he=ee.height/D*Q/D),k===void 0&&(k=G,z=M,G=0,M=0),K!==void 0&&J===void 0&&(J=K,Q=D),K===void 0&&J===void 0&&(J=ee.width,Q=ee.height);var le=this.ctx.transform.decompose(),fe=E(le.rotate.shx),ve=new l,me=(ve=(ve=(ve=ve.multiply(le.translate)).multiply(le.skew)).multiply(le.scale)).applyToRectangle(new a(k-G*de,z-M*Z,K*ne,D*he));if(this.autoPaging){for(var Se,xe=g.call(this,me),ke=[],Re=0;Re<xe.length;Re+=1)ke.indexOf(xe[Re])===-1&&ke.push(xe[Re]);I(ke);for(var je=ke[0],st=ke[ke.length-1],Ve=je;Ve<st+1;Ve++){this.pdf.setPage(Ve);var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=Ve===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=Ve===1?0:Ge+(Ve-2)*$e;if(this.ctx.clip_path.length!==0){var et=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Se,this.posX+this.margin[3],-Ze+ht+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=et}var Be=JSON.parse(JSON.stringify(me));Be=x([Be],this.posX+this.margin[3],-Ze+ht+this.ctx.prevPageLastElemOffset)[0];var lt=(Ve>je||Ve<st)&&m.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,$e,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,fe),lt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",me.x,me.y,me.w,me.h,null,null,fe)};var g=function(B,G,M){var K=[];G=G||this.pdf.internal.pageSize.width,M=M||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var D=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":K.push(Math.floor((B.y+D)/M)+1);break;case"arc":K.push(Math.floor((B.y+D-B.radius)/M)+1),K.push(Math.floor((B.y+D+B.radius)/M)+1);break;case"qct":var k=C(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);K.push(Math.floor((k.y+D)/M)+1),K.push(Math.floor((k.y+k.h+D)/M)+1);break;case"bct":var z=L(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);K.push(Math.floor((z.y+D)/M)+1),K.push(Math.floor((z.y+z.h+D)/M)+1);break;case"rect":K.push(Math.floor((B.y+D)/M)+1),K.push(Math.floor((B.y+B.h+D)/M)+1)}for(var J=0;J<K.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<K[J];)v.call(this);return K},v=function(){var B=this.fillStyle,G=this.strokeStyle,M=this.font,K=this.lineCap,D=this.lineWidth,k=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=G,this.font=M,this.lineCap=K,this.lineWidth=D,this.lineJoin=k},x=function(B,G,M){for(var K=0;K<B.length;K++)switch(B[K].type){case"bct":B[K].x2+=G,B[K].y2+=M;case"qct":B[K].x1+=G,B[K].y1+=M;default:B[K].x+=G,B[K].y+=M}return B},I=function(B){return B.sort(function(G,M){return G-M})},R=function(B,G){var M=this.fillStyle,K=this.strokeStyle,D=this.lineCap,k=this.lineWidth,z=Math.abs(k*this.ctx.transform.scaleX),J=this.lineJoin;if(this.autoPaging){for(var Q,ee,ne=JSON.parse(JSON.stringify(this.path)),he=JSON.parse(JSON.stringify(this.path)),de=[],Z=0;Z<he.length;Z++)if(he[Z].x!==void 0)for(var le=g.call(this,he[Z]),fe=0;fe<le.length;fe+=1)de.indexOf(le[fe])===-1&&de.push(le[fe]);for(var ve=0;ve<de.length;ve++)for(;this.pdf.internal.getNumberOfPages()<de[ve];)v.call(this);I(de);for(var me=de[0],Se=de[de.length-1],xe=me;xe<Se+1;xe++){this.pdf.setPage(xe),this.fillStyle=M,this.strokeStyle=K,this.lineCap=D,this.lineWidth=z,this.lineJoin=J;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=xe===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=xe===1?0:je+(xe-2)*st;if(this.ctx.clip_path.length!==0){var Qe=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Q,this.posX+this.margin[3],-Ve+Re+this.ctx.prevPageLastElemOffset),$.call(this,B,!0),this.path=Qe}if(ee=JSON.parse(JSON.stringify(ne)),this.path=x(ee,this.posX+this.margin[3],-Ve+Re+this.ctx.prevPageLastElemOffset),G===!1||xe===0){var ht=(xe>me||xe<Se)&&m.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,st,null).clip().discardPath()),$.call(this,B,G),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=k}this.path=ne}else this.lineWidth=z,$.call(this,B,G),this.lineWidth=k},$=function(B,G){if((B!=="stroke"||G||!p.call(this))&&(B==="stroke"||G||!f.call(this))){for(var M,K,D=[],k=this.path,z=0;z<k.length;z++){var J=k[z];switch(J.type){case"begin":D.push({begin:!0});break;case"close":D.push({close:!0});break;case"mt":D.push({start:J,deltas:[],abs:[]});break;case"lt":var Q=D.length;if(k[z-1]&&!isNaN(k[z-1].x)&&(M=[J.x-k[z-1].x,J.y-k[z-1].y],Q>0)){for(;Q>=0;Q--)if(D[Q-1].close!==!0&&D[Q-1].begin!==!0){D[Q-1].deltas.push(M),D[Q-1].abs.push(J);break}}break;case"bct":M=[J.x1-k[z-1].x,J.y1-k[z-1].y,J.x2-k[z-1].x,J.y2-k[z-1].y,J.x-k[z-1].x,J.y-k[z-1].y],D[D.length-1].deltas.push(M);break;case"qct":var ee=k[z-1].x+2/3*(J.x1-k[z-1].x),ne=k[z-1].y+2/3*(J.y1-k[z-1].y),he=J.x+2/3*(J.x1-J.x),de=J.y+2/3*(J.y1-J.y),Z=J.x,le=J.y;M=[ee-k[z-1].x,ne-k[z-1].y,he-k[z-1].x,de-k[z-1].y,Z-k[z-1].x,le-k[z-1].y],D[D.length-1].deltas.push(M);break;case"arc":D.push({deltas:[],abs:[],arc:!0}),Array.isArray(D[D.length-1].abs)&&D[D.length-1].abs.push(J)}}K=G?null:B==="stroke"?"stroke":"fill";for(var fe=!1,ve=0;ve<D.length;ve++)if(D[ve].arc)for(var me=D[ve].abs,Se=0;Se<me.length;Se++){var xe=me[Se];xe.type==="arc"?U.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,G,!fe):O.call(this,xe.x,xe.y),fe=!0}else if(D[ve].close===!0)this.pdf.internal.out("h"),fe=!1;else if(D[ve].begin!==!0){var ke=D[ve].start.x,Re=D[ve].start.y;y.call(this,D[ve].deltas,ke,Re),fe=!0}K&&q.call(this,K),G&&j.call(this)}},F=function(B){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,M=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-M;case"top":return B+G-M;case"hanging":return B+G-2*M;case"middle":return B+G/2-M;default:return B}},V=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(G,M){this.colorStops.push([G,M])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(B,G,M,K,D,k,z,J,Q){for(var ee=w.call(this,M,K,D,k),ne=0;ne<ee.length;ne++){var he=ee[ne];ne===0&&(Q?S.call(this,he.x1+B,he.y1+G):O.call(this,he.x1+B,he.y1+G)),b.call(this,B,G,he.x2,he.y2,he.x3,he.y3,he.x4,he.y4)}J?j.call(this):q.call(this,z)},q=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(B,G){this.pdf.internal.out(n(B)+" "+r(G)+" m")},T=function(B){var G;switch(B.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var M,K,D,k=this.pdf.getTextDimensions(B.text),z=F.call(this,B.y),J=V.call(this,z)-k.h,Q=this.ctx.transform.applyToPoint(new o(B.x,z));if(this.autoPaging){var ee=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale);for(var he=this.ctx.transform.applyToRectangle(new a(B.x,z,k.w,k.h)),de=ne.applyToRectangle(new a(B.x,J,k.w,k.h)),Z=g.call(this,de),le=[],fe=0;fe<Z.length;fe+=1)le.indexOf(Z[fe])===-1&&le.push(Z[fe]);I(le);for(var ve=le[0],me=le[le.length-1],Se=ve;Se<me+1;Se++){this.pdf.setPage(Se);var xe=Se===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[2],je=Re-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],Ve=st-this.margin[3],Qe=Se===1?0:ke+(Se-2)*je;if(this.ctx.clip_path.length!==0){var ht=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(M,this.posX+this.margin[3],-1*Qe+xe),$.call(this,"fill",!0),this.path=ht}var Ge=x([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-Qe+xe+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*B.scale),D=this.lineWidth,this.lineWidth=D*B.scale);var $e=this.autoPaging!=="text";if($e||Ge.y+Ge.h<=Re){if($e||Ge.y>=xe&&Ge.x<=st){var Ze=$e?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||st-Ge.x)[0],et=x([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-Qe+xe+this.ctx.prevPageLastElemOffset)[0],Be=$e&&(Se>ve||Se<me)&&m.call(this);Be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,je,null).clip().discardPath()),this.pdf.text(Ze,et.x,et.y,{angle:B.angle,align:G,renderingMode:B.renderingMode}),Be&&this.pdf.restoreGraphicsState()}}else Ge.y<Re&&(this.ctx.prevPageLastElemOffset+=Re-Ge.y);B.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=D)}}else B.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*B.scale),D=this.lineWidth,this.lineWidth=D*B.scale),this.pdf.text(B.text,Q.x+this.posX,Q.y+this.posY,{angle:B.angle,align:G,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=D)},O=function(B,G,M,K){M=M||0,K=K||0,this.pdf.internal.out(n(B+M)+" "+r(G+K)+" l")},y=function(B,G,M){return this.pdf.lines(B,G,M,null,null)},b=function(B,G,M,K,D,k,z,J){this.pdf.internal.out([t(i(M+B)),t(s(K+G)),t(i(D+B)),t(s(k+G)),t(i(z+B)),t(s(J+G)),"c"].join(" "))},w=function(B,G,M,K){for(var D=2*Math.PI,k=Math.PI/2;G>M;)G-=D;var z=Math.abs(M-G);z<D&&K&&(z=D-z);for(var J=[],Q=K?-1:1,ee=G;z>1e-5;){var ne=ee+Q*Math.min(z,k);J.push(_.call(this,B,ee,ne)),z-=Math.abs(ne-ee),ee=ne}return J},_=function(B,G,M){var K=(M-G)/2,D=B*Math.cos(K),k=B*Math.sin(K),z=D,J=-k,Q=z*z+J*J,ee=Q+z*D+J*k,ne=4/3*(Math.sqrt(2*Q*ee)-ee)/(z*k-J*D),he=z-ne*J,de=J+ne*z,Z=he,le=-de,fe=K+G,ve=Math.cos(fe),me=Math.sin(fe);return{x1:B*Math.cos(G),y1:B*Math.sin(G),x2:he*ve-de*me,y2:he*me+de*ve,x3:Z*ve-le*me,y3:Z*me+le*ve,x4:B*Math.cos(M),y4:B*Math.sin(M)}},E=function(B){return 180*B/Math.PI},C=function(B,G,M,K,D,k){var z=B+.5*(M-B),J=G+.5*(K-G),Q=D+.5*(M-D),ee=k+.5*(K-k),ne=Math.min(B,D,z,Q),he=Math.max(B,D,z,Q),de=Math.min(G,k,J,ee),Z=Math.max(G,k,J,ee);return new a(ne,de,he-ne,Z-de)},L=function(B,G,M,K,D,k,z,J){var Q,ee,ne,he,de,Z,le,fe,ve,me,Se,xe,ke,Re,je=M-B,st=K-G,Ve=D-M,Qe=k-K,ht=z-D,Ge=J-k;for(ee=0;ee<41;ee++)ve=(le=(ne=B+(Q=ee/40)*je)+Q*((de=M+Q*Ve)-ne))+Q*(de+Q*(D+Q*ht-de)-le),me=(fe=(he=G+Q*st)+Q*((Z=K+Q*Qe)-he))+Q*(Z+Q*(k+Q*Ge-Z)-fe),ee==0?(Se=ve,xe=me,ke=ve,Re=me):(Se=Math.min(Se,ve),xe=Math.min(xe,me),ke=Math.max(ke,ve),Re=Math.max(Re,me));return new a(Math.round(Se),Math.round(xe),Math.round(ke-Se),Math.round(Re-xe))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,G,M=(B=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:G}));this.prevLineDash!==M&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=M)}}})(Vt.API),function(e){var t=function(o){var a,l,c,u,d,h,f,p,m,g;for(/[^\x00-\xFF]/.test(o),l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(d=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(g=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(f=d%85))/85)%85,l.push(h+33,f+33,p+33,m+33,g+33)):l.push(122);return function(v,x){for(var I=x;I>0;I--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,c,u,d,h=String,f="length",p=255,m="charCodeAt",g="slice",v="replace";for(o[g](-2),o=o[g](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,d=(o+=a="uuuuu"[g](o[f]%5||5))[f];d>u;u+=5)l=52200625*(o[m](u)-33)+614125*(o[m](u+1)-33)+7225*(o[m](u+2)-33)+85*(o[m](u+3)-33)+(o[m](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(x,I){for(var R=I;R>0;R--)x.pop()}(c,a[f]),h.fromCharCode.apply(h,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=vy(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Vt.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,h=0,f=function(p){var m=p.length,g=[],v=String.fromCharCode;for(h=0;h<m;h+=1)g.push(v(255&p.charCodeAt(h)));return g.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(Vt.API),function(e){function t(){return(tn.html2canvas?Promise.resolve(tn.html2canvas):import("./chunk-RA2NHJLR.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(tn.DOMPurify?Promise.resolve(tn.DOMPurify):import("./chunk-MO74H3LF.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=tr(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(a(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var p=u[f],m=p.src.find(function(g){return g.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),h=c.call(d,a,l);return o.convert(h,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Vt.getPageSize=function(a,l,c){if(tr(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,m=0,g=0;if(f.hasOwnProperty(h))m=f[h][1]/d,g=f[h][0]/d;else try{m=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",g>m&&(p=g,g=m,m=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",m>g&&(p=g,g=m,m=p)}return{width:g,height:m,unit:l,k:d,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(jS):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(Vt.API),Vt.API.addJS=function(e){var t,n,r=e;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=n.internal.newObject();u.push(d);var h=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Vt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,m={width:0,height:0,numcomponents:1},g=4;g<p;g+=2){if(g+=f,t.indexOf(d.charCodeAt(g+1))!==-1){h=256*d.charCodeAt(g+5)+d.charCodeAt(g+6),m={width:256*d.charCodeAt(g+7)+d.charCodeAt(g+8),height:h,numcomponents:d.charCodeAt(g+9)};break}f=256*d.charCodeAt(g+2)+d.charCodeAt(g+3)}return m}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Vt.API),Vt.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=sP(e,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(U){for(var q=U.width,j=U.height,S=U.data,T=U.palette,O=U.depth,y=!1,b=[],w=[],_=void 0,E=!1,C=0,L=0;L<T.length;L++){var W=Qx(T[L],4),B=W[0],G=W[1],M=W[2],K=W[3];b.push(B,G,M),K!=null&&(K===0?(C++,w.length<1&&w.push(L)):K<255&&(E=!0))}if(E||C>1){y=!0,w=void 0;var D=q*j;_=new Uint8Array(D);for(var k=new DataView(S.buffer),z=0;z<D;z++){var J=zS(k,z,O),Q=Qx(T[J],4)[3];_[z]=Q}}else C===0&&(w=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:y?8:void 0,colorBytes:S,alphaBytes:_,needSMask:y,palette:b,mask:w}}(s):l===2||l===4?function(U){for(var q=U.data,j=U.width,S=U.height,T=U.channels,O=U.depth,y=T===2?"DeviceGray":"DeviceRGB",b=T-1,w=j*S,_=b,E=w*_,C=1*w,L=Math.ceil(E*O/8),W=Math.ceil(C*O/8),B=new Uint8Array(L),G=new Uint8Array(W),M=new DataView(q.buffer),K=new DataView(B.buffer),D=new DataView(G.buffer),k=!1,z=0;z<w;z++){for(var J=z*T,Q=0;Q<_;Q++)SP(K,zS(M,J+Q,O),z*_+Q,O);var ee=zS(M,J+_,O);ee<(1<<O)-1&&(k=!0),SP(D,ee,1*z,O)}return{colorSpace:y,colorsPerPixel:b,sMaskBitsPerComponent:k?O:void 0,colorBytes:B,alphaBytes:G,needSMask:k}}(s):function(U){var q=U.data,j=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:j,colorsPerPixel:j==="DeviceGray"?1:3,colorBytes:q instanceof Uint16Array?function(S){for(var T=S.length,O=new Uint8Array(2*T),y=new DataView(O.buffer,O.byteOffset,O.byteLength),b=0;b<T;b++)y.setUint16(2*b,S[b],!1);return O}(q):q,needSMask:!1}}(s);var d,h,f,p=i,m=p.colorSpace,g=p.colorsPerPixel,v=p.sMaskBitsPerComponent,x=p.colorBytes,I=p.alphaBytes,R=p.needSMask,$=p.palette,F=p.mask,V=null;return r!==Vt.API.image_compression.NONE&&typeof vy=="function"?(V=function(U){var q;switch(U){case Vt.API.image_compression.FAST:q=11;break;case Vt.API.image_compression.MEDIUM:q=13;break;case Vt.API.image_compression.SLOW:q=14;break;default:q=12}return q}(r),d=this.decode.FLATE_DECODE,h="/Predictor ".concat(V," /Colors ").concat(g," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=bP(x,Math.ceil(o*g*u/8),g,u,r),R&&(f=bP(I,Math.ceil(o*v/8),1,v,r))):(d=void 0,h=void 0,e=x,R&&(f=I)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:d,decodeParameters:h,transparency:F,palette:$,sMask:f,predictor:V,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:m}}},function(e){e.processGIF89A=function(t,n,r,i){var s=new Yie(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new qS(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)},e.processGIF87A=e.processGIF89A}(Vt.API),Co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Co.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(n){cr.log("bit decode error:"+n)}},Co.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Co.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Co.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Co.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=e}},Co.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=e}},Co.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Co.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Co.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Co(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new qS(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Vt.API),TP.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new TP(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new qS(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Vt.API),Vt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],h=r[c+2],f=r[c+3];s[a++]=u,s[a++]=d,s[a++]=h,o[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Vt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},of=Vt.API,Hy=of.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,h=0,f=e.length,p=0,m=a[0]||l,g=[];for(n=0;n<f;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(h=d&&tr(c[r])==="object"&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,g.push((a[r]||m)/l+h)),p=r;return g},gP=of.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return of.processArabic&&(e=of.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Hy.apply(this,arguments).reduce(function(s,o){return s+o},0)},yP=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},vP=function(e,t,n){n||(n={});var r,i,s,o,a,l,c,u=[],d=[u],h=n.textIndent||0,f=0,p=0,m=e.split(" "),g=Hy.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?m[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),x=[];m.map(function(R){(R=R.split(/\s*\n/)).length>1?x=x.concat(R.map(function($,F){return(F&&$.length?`
`:"")+$})):x.push(R[0])}),m=x,l=gP.apply(this,[v,n])}for(s=0,o=m.length;s<o;s++){var I=0;if(r=m[s],l&&r[0]==`
`&&(r=r.substr(1),I=1),h+f+(p=(i=Hy.apply(this,[r,n])).reduce(function(R,$){return R+$},0))>t||I){if(p>t){for(a=yP.apply(this,[r,i,t-(h+f),t]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);p=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(R,$){return R+$},0)}else u=[r];d.push(u),h=p+l,f=g}else u.push(r),h+=f+p,f=g}return c=l?function(R,$){return($?v:"")+R.join(" ")}:function(R){return R.join(" ")},d.map(c)},of.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return d.metadata[h]?{widths:d.metadata[h].widths||{0:1},kerning:d.metadata[h].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(vP.apply(this,[r[a],o,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=t[s],i[t[s]]=n[s];var o=function(h){return"0x"+parseInt(h,10).toString(16)},a=e.__fontmetrics__.compress=function(h){var f,p,m,g,v=["{"];for(var x in h){if(f=h[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=o(x).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof f=="number")f<0?(m=o(f).slice(3),g="-"):(m=o(f).slice(2),g=""),m=g+m.slice(0,-1)+i[m.slice(-1)];else{if(tr(f)!=="object")throw new Error("Don't know what to do with value type "+tr(f)+".");m=a(f)}v.push(p+m)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,m,g,v={},x=1,I=v,R=[],$="",F="",V=h.length-1,U=1;U<V;U+=1)(g=h[U])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(g):g=="{"?(R.push([I,m]),I={},m=void 0):g=="}"?((p=R.pop())[0][p[1]]=I,m=void 0,I=p[0]):g=="-"?x=-1:m===void 0?r.hasOwnProperty(g)?($+=r[g],m=parseInt($,16)*x,x=1,$=""):$+=g:r.hasOwnProperty(g)?(F+=r[g],I[m]=parseInt(F,16)*x,x=1,m=void 0,F=""):F+=g;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var f=h.font,p=d.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(Vt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(zy(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Vt),Vt.API.addSvgAsImage=function(e,t,n,r,i,s,o,a){if(isNaN(t)||isNaN(n))throw cr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw cr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(tn.canvg?Promise.resolve(tn.canvg):import("./chunk-HOQGKZEP.js")).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),t,n,r,i,o,a)})},Vt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Vt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function h(p,m){var g,v=!1;for(g=0;g<p.length;g+=1)p[g]===m&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=a.length;for(d=0;d<f;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(tr(e)==="object"){for(i in e)if(s=e[i],h(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&h(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?m.push("/"+p+" /"+n[p].value):m.push("/"+p+" "+n[p].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},Vt.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",Jie),this.internal.events.subscribe("postPutResources",Zie)),this},function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=s.length;d<h;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(a=Object.keys(s).sort(function(f,p){return f-p})).length;d<h;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var m=c();u({data:f,addLength1:!0,objectId:m}),l("endobj");var g=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+lf(a.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+lf(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+lf(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var p=c();u({data:h,addLength1:!0,objectId:p}),l("endobj");var m=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+lf(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+lf(a.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},h=d.pdfEscape,f=d.activeFontKey,p=d.fonts,m=f,g="",v=0,x="",I=p[m].encoding;if(p[m].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(x=a,m=f,Array.isArray(a)&&(x=a[0]),v=0;v<x.length;v+=1)p[m].metadata.hasOwnProperty("cmap")&&(o=p[m].metadata.cmap.unicode.codeMap[x[v].charCodeAt(0)]),o||x[v].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?g+=x[v]:g+="";var R="";return parseInt(m.slice(1))<14||I==="WinAnsiEncoding"?R=h(g,m).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(R=n(g,p[m])),d.isHex=!0,{text:R,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Vt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Vt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,I=0;this.__bidiEngine__={};var R=function(S){var T=S.charCodeAt(),O=T>>8,y=m[O];return y!==void 0?d[256*y+(255&T)]:O===252||O===253?"AL":v.test(O)?"L":O===8?"R":"N"},$=function(S){for(var T,O=0;O<S.length;O++){if((T=R(S.charAt(O)))==="L")return!1;if(T==="R")return!0}return!1},F=function(S,T,O,y){var b,w,_,E,C=T[y];switch(C){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(C="AN");break;case"AL":x=!0,C="R";break;case"WS":case"BN":C="N";break;case"CS":y<1||y+1>=T.length||(b=O[y-1])!=="EN"&&b!=="AN"||(w=T[y+1])!=="EN"&&w!=="AN"?C="N":x&&(w="AN"),C=w===b?w:"N";break;case"ES":C=(b=y>0?O[y-1]:"B")==="EN"&&y+1<T.length&&T[y+1]==="EN"?"EN":"N";break;case"ET":if(y>0&&O[y-1]==="EN"){C="EN";break}if(x){C="N";break}for(_=y+1,E=T.length;_<E&&T[_]==="ET";)_++;C=_<E&&T[_]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(E=T.length,_=y+1;_<E&&T[_]==="NSM";)_++;if(_<E){var L=S[y],W=L>=1425&&L<=2303||L===64286;if(b=T[_],W&&(b==="R"||b==="AL")){C="R";break}}}C=y<1||(b=T[y-1])==="B"?"N":O[y-1];break;case"B":x=!1,i=!0,C=I;break;case"S":s=!0,C="N"}return C},V=function(S,T,O){var y=S.split("");return O&&U(y,O,{hiLevel:I}),y.reverse(),T&&T.reverse(),y.join("")},U=function(S,T,O){var y,b,w,_,E,C=-1,L=S.length,W=0,B=[],G=I?f:h,M=[];for(x=!1,i=!1,s=!1,b=0;b<L;b++)M[b]=R(S[b]);for(w=0;w<L;w++){if(E=W,B[w]=F(S,M,B,w),y=240&(W=G[E][p[B[w]]]),W&=15,T[w]=_=G[W][5],y>0)if(y===16){for(b=C;b<w;b++)T[b]=1;C=-1}else C=-1;if(G[W][6])C===-1&&(C=w);else if(C>-1){for(b=C;b<w;b++)T[b]=_;C=-1}M[w]==="B"&&(T[w]=0),O.hiLevel|=_}s&&function(K,D,k){for(var z=0;z<k;z++)if(K[z]==="S"){D[z]=I;for(var J=z-1;J>=0&&K[J]==="WS";J--)D[J]=I}}(M,T,L)},q=function(S,T,O,y,b){if(!(b.hiLevel<S)){if(S===1&&I===1&&!i)return T.reverse(),void(O&&O.reverse());for(var w,_,E,C,L=T.length,W=0;W<L;){if(y[W]>=S){for(E=W+1;E<L&&y[E]>=S;)E++;for(C=W,_=E-1;C<_;C++,_--)w=T[C],T[C]=T[_],T[_]=w,O&&(w=O[C],O[C]=O[_],O[_]=w);W=E}W++}}},j=function(S,T,O){var y=S.split(""),b={hiLevel:I};return O||(O=[]),U(y,O,b),function(w,_,E){if(E.hiLevel!==0&&u)for(var C,L=0;L<w.length;L++)_[L]===1&&(C=g.indexOf(w[L]))>=0&&(w[L]=g[C+1])}(y,O,b),q(2,y,T,O,b),q(1,y,T,O,b),y.join("")};return this.__bidiEngine__.doBidiReorder=function(S,T,O){if(function(b,w){if(w)for(var _=0;_<b.length;_++)w[_]=_;a===void 0&&(a=$(b)),c===void 0&&(c=$(b))}(S,T),o||!l||c)if(o&&l&&a^c)I=a?1:0,S=V(S,T,O);else if(!o&&l&&c)I=a?1:0,S=j(S,T,O),S=V(S,T);else if(!o||a||l||c){if(o&&!l&&a^c)S=V(S,T),a?(I=0,S=j(S,T,O)):(I=1,S=j(S,T,O),S=V(S,T));else if(o&&a&&!l&&c)I=1,S=j(S,T,O),S=V(S,T);else if(!o&&!l&&a^c){var y=u;a?(I=1,S=j(S,T,O),I=0,u=!1,S=j(S,T,O),u=y):(I=0,S=j(S,T,O),S=V(S,T),I=1,u=!1,S=j(S,T,O),u=y,S=V(S,T))}}else I=0,S=j(S,T,O);else I=a?1:0,S=j(S,T,O);return S},this.__bidiEngine__.setOptions=function(S){S&&(o=S.isInputVisual,l=S.isOutputVisual,a=S.isInputRtl,c=S.isOutputRtl,u=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new dc(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new fse(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Xie(this.contents),this.head=new ese(this),this.name=new sse(this),this.cmap=new UP(this),this.toUnicode={},this.hhea=new tse(this),this.maxp=new ose(this),this.hmtx=new ase(this),this.post=new rse(this),this.os2=new nse(this),this.loca=new dse(this),this.glyf=new lse(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Io,dc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),Xie=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,c,u,d,h,f,p,m;for(m in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),u=16*f-d,(i=new dc).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,p=[],n)for(h=n[m],i.writeString(m),i.writeInt(e(h)),i.writeInt(c),i.writeInt(h.length),p=p.concat(h),m==="head"&&(a=c),c+=h.length;c%4;)p.push(0),c++;return i.write(p),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=VP.call(n);n.length%4;)n.push(0);for(s=new dc(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),Qie={}.hasOwnProperty,la=function(e,t){for(var n in t)Qie.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Io=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var ese=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return la(e,Io),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new dc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),IP=function(){function e(t,n){var r,i,s,o,a,l,c,u,d,h,f,p,m,g,v,x,I;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,s=function(){var R,$;for($=[],l=R=0;0<=h?R<h:R>h;l=0<=h?++R:--R)$.push(t.readUInt16());return $}(),t.pos+=2,m=function(){var R,$;for($=[],l=R=0;0<=h?R<h:R>h;l=0<=h?++R:--R)$.push(t.readUInt16());return $}(),c=function(){var R,$;for($=[],l=R=0;0<=h?R<h:R>h;l=0<=h?++R:--R)$.push(t.readUInt16());return $}(),u=function(){var R,$;for($=[],l=R=0;0<=h?R<h:R>h;l=0<=h?++R:--R)$.push(t.readUInt16());return $}(),i=(this.length-t.pos+this.offset)/2,a=function(){var R,$;for($=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)$.push(t.readUInt16());return $}(),l=v=0,I=s.length;v<I;l=++v)for(g=s[l],r=x=p=m[l];p<=g?x<=g:x>=g;r=p<=g?++x:--x)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-p)-(h-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}t.pos=d}return e.encode=function(t,n){var r,i,s,o,a,l,c,u,d,h,f,p,m,g,v,x,I,R,$,F,V,U,q,j,S,T,O,y,b,w,_,E,C,L,W,B,G,M,K,D,k,z,J,Q,ee,ne;switch(y=new dc,o=Object.keys(t).sort(function(he,de){return he-de}),n){case"macroman":for(m=0,g=function(){var he=[];for(p=0;p<256;++p)he.push(0);return he}(),x={0:0},s={},b=0,C=o.length;b<C;b++)x[J=t[i=o[b]]]==null&&(x[J]=++m),s[i]={old:t[i],new:x[t[i]]},g[i]=x[t[i]];return y.writeUInt16(1),y.writeUInt16(0),y.writeUInt32(12),y.writeUInt16(0),y.writeUInt16(262),y.writeUInt16(0),y.write(g),{charMap:s,subtable:y.data,maxGlyphID:m+1};case"unicode":for(T=[],d=[],I=0,x={},r={},v=c=null,w=0,L=o.length;w<L;w++)x[$=t[i=o[w]]]==null&&(x[$]=++I),r[i]={old:$,new:x[$]},a=x[$]-i,v!=null&&a===c||(v&&d.push(v),T.push(i),c=a),v=i;for(v&&d.push(v),d.push(65535),T.push(65535),j=2*(q=T.length),U=2*Math.pow(Math.log(q)/Math.LN2,2),h=Math.log(U/2)/Math.LN2,V=2*q-U,l=[],F=[],f=[],p=_=0,W=T.length;_<W;p=++_){if(S=T[p],u=d[p],S===65535){l.push(0),F.push(0);break}if(S-(O=r[S].new)>=32768)for(l.push(0),F.push(2*(f.length+q-p)),i=E=S;S<=u?E<=u:E>=u;i=S<=u?++E:--E)f.push(r[i].new);else l.push(O-S),F.push(0)}for(y.writeUInt16(3),y.writeUInt16(1),y.writeUInt32(12),y.writeUInt16(4),y.writeUInt16(16+8*q+2*f.length),y.writeUInt16(0),y.writeUInt16(j),y.writeUInt16(U),y.writeUInt16(h),y.writeUInt16(V),k=0,B=d.length;k<B;k++)i=d[k],y.writeUInt16(i);for(y.writeUInt16(0),z=0,G=T.length;z<G;z++)i=T[z],y.writeUInt16(i);for(Q=0,M=l.length;Q<M;Q++)a=l[Q],y.writeUInt16(a);for(ee=0,K=F.length;ee<K;ee++)R=F[ee],y.writeUInt16(R);for(ne=0,D=f.length;ne<D;ne++)m=f[ne],y.writeUInt16(m);return{charMap:r,subtable:y.data,maxGlyphID:I+1}}},e}(),UP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return la(e,Io),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new IP(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=IP.encode(t,n),(i=new dc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),tse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return la(e,Io),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),nse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return la(e,Io),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),rse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return la(e,Io),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(t.readUInt32());return l}.call(this)}},e}(),ise=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},sse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return la(e,Io),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,s,o,a,l,c,u,d,h;for(t.pos=this.offset,t.readShort(),n=t.readShort(),a=t.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},s=u=0,d=r.length;u<d;s=++u)i=r[s],t.pos=i.offset,c=t.readString(i.length),o=new ise(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),ose=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return la(e,Io),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),ase=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return la(e,Io),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,s,o,a,l;for(t.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(t.readInt16());return u}(),this.widths=function(){var c,u,d,h;for(h=[],c=0,u=(d=this.metrics).length;c<u;c++)s=d[c],h.push(s.advance);return h}.call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),VP=[].slice,lse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return la(e,Io),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,s,o,a,l,c,u,d;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,o=(a=new dc(n.read(i))).readShort(),c=a.readShort(),d=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[t]=o===-1?new use(a,c,d,l,u):new cse(a,o,c,d,l,u),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=t[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},e}(),cse=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),use=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new dc(VP.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),dse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return la(e,Io),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*t.readUInt16());return s}.call(this):function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(t.readUInt32());return s}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},e}(),fse=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,c,u,d,h,f,p,m,g,v;for(i in r=UP.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},v=r.charMap)f[(l=v[i]).old]=l.new;for(p in h=r.maxGlyphID,o)p in f||(f[p]=h++);return u=function(x){var I,R;for(I in R={},x)R[x[I]]=I;return R}(f),d=Object.keys(u).sort(function(x,I){return x-I}),m=function(){var x,I,R;for(R=[],x=0,I=d.length;x<I;x++)a=d[x],R.push(u[a]);return R}(),s=this.font.glyf.encode(o,m,f),c=this.font.loca.encode(s.offsets,m),g={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e}();Vt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();function WP(e,t,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=a*l,u=/\r\n|\r|\n/g,d="",h=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof e=="string"?e.split(u):e,h=d.length||1),n+=a*(2-s),r.valign==="middle"?n-=h/2*c:r.valign==="bottom"&&(n-=h*c),r.halign==="center"||r.halign==="right"){var f=a;if(r.halign==="center"&&(f*=.5),d&&h>=1){for(var p=0;p<d.length;p++)i.text(d[p],t-i.getStringUnitWidth(d[p])*f,n),n+=c;return i}t-=i.getStringUnitWidth(e)*f}return r.halign==="justify"?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}var jP={},pf=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:jP=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,i,s;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){a=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var u=e.unifyColor(t.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),u=e.unifyColor(t.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=e.unifyColor(t.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,i,s){return this.jsPDFDocument.rect(t,n,r,i,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return jP||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),nC=function(e,t){return nC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},nC(e,t)};function GP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nC(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var KP=function(e){GP(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t}(Array);function hse(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function pse(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Xy(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function YP(e,t,n,r){var i=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:s});var o=ZP(i,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,o)}function ZP(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function ev(e,t){var n,r,i,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function JP(e,t){var n=ev(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function mse(e,t,n,r,i){var s={},o=1.3333333333333333,a=ZS(t,function(I){return i.getComputedStyle(I).backgroundColor});a!=null&&(s.fillColor=a);var l=ZS(t,function(I){return i.getComputedStyle(I).color});l!=null&&(s.textColor=l);var c=yse(r,n);c&&(s.cellPadding=c);var u="borderTopColor",d=o*n,h=r.borderTopWidth;if(r.borderBottomWidth===h&&r.borderRightWidth===h&&r.borderLeftWidth===h){var f=(parseFloat(h)||0)/d;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var p=ZS(t,function(I){return i.getComputedStyle(I)[u]});p!=null&&(s.lineColor=p);var m=["left","right","center","justify"];m.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),m=["middle","bottom","top"],m.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var g=parseInt(r.fontSize||"");isNaN(g)||(s.fontSize=g/o);var v=gse(r);v&&(s.fontStyle=v);var x=(r.fontFamily||"").toLowerCase();return e.indexOf(x)!==-1&&(s.font=x),s}function gse(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function ZS(e,t){var n=XP(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function XP(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:XP(e.parentElement,t):n}function yse(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=ev(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function QP(e,t,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof t=="string"?a=n.document.querySelector(t):a=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],d=[],h=[];if(!a)return console.error("Html table could not be found with input: ",t),{head:u,body:d,foot:h};for(var f=0;f<a.rows.length;f++){var p=a.rows[f],m=(o=(s=p?.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),g=vse(l,c,n,p,r,i);g&&(m==="thead"?u.push(g):m==="tfoot"?h.push(g):d.push(g))}return{head:u,body:d,foot:h}}function vse(e,t,n,r,i,s){for(var o=new KP(r),a=0;a<r.cells.length;a++){var l=r.cells[a],c=n.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;s&&(u=mse(e,l,t,c,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:bse(l)})}}var d=n.getComputedStyle(r);if(o.length>0&&(i||d.display!=="none"))return o}function bse(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function _se(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function pl(e,t,n,r,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function e7(e,t){var n=new pf(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();_se(i,r,t);var s=pl({},i,r,t),o;typeof window<"u"&&(o=window);var a=wse(i,r,t),l=Ese(i,r,t),c=xse(n,s),u=Cse(n,s,o);return{id:t.tableId,content:u,hooks:l,styles:a,settings:c}}function wse(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],d=n[l];r.columnStyles=pl({},c,u,d)}else{var h=[e,t,n],f=h.map(function(p){return p[l]||{}});r[l]=pl({},f[0],f[1],f[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function Ese(e,t,n){for(var r=[e,t,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function xse(e,t){var n,r,i,s,o,a,l,c,u,d,h,f,p=ev(t.margin,40/e.scaleFactor()),m=(n=Sse(e,t.startY))!==null&&n!==void 0?n:p.top,g;t.showFoot===!0?g="everyPage":t.showFoot===!1?g="never":g=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var x=(s=t.useCss)!==null&&s!==void 0?s:!1,I=t.theme||(x?"plain":"striped"),R=!!t.horizontalPageBreak,$=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=t.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:x,theme:I,startY:m,margin:p,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:g,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:R,horizontalPageBreakRepeat:$,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Sse(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof t=="number"?t:(t==null||t===!1)&&s&&n?.finalY!=null?n.finalY+20/r:null}function Cse(e,t,n){var r=t.head||[],i=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var a=QP(e,t.html,n,o,t.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=t.columns||Tse(r,i,s);return{columns:l,head:r,body:i,foot:s}}function Tse(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=a?.colSpan||1);for(var l=0;l<o;l++){var c=void 0;Array.isArray(r)?c=i.length:c=s+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var rC=function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e}(),Ise=function(e){GP(t,e);function t(n,r,i,s,o,a){var l=e.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return t}(rC),Ase=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var c=l[a],u=new Ise(t,this,r,i,s,o),d=c(u)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new rC(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new rC(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e}(),t7=function(){function e(t,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof KP&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),c=l+a;return c>i?c:i},0)},e}(),n7=function(){function e(t,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=ev(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),kse=function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,i=t.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e}();function Dse(e,t){Mse(e,t);var n=[],r=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=iC(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=iC(n,i,function(s){return s.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),Rse(t),Pse(t,e),Nse(t)}function Mse(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=JP(e,t);t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,s,l,null);var d=c.padding("horizontal");c.contentWidth=Xy(c.text,c.styles,e)+d;var h=Xy(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||r===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/n;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function iC(e,t,n){for(var r=t,i=e.reduce(function(f,p){return f+p.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],a=o.wrappedWidth/i,l=r*a,c=o.width+l,u=n(o),d=c<u?u:c;t-=d-o.width,o.width=d}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(f){return t<0?f.width>n(f):!0});h.length&&(t=iC(h,t,n))}return t}function Nse(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=e.columns;o<a.length;o++){var l=a[o],c=t[l.index];if(n>1)n--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,n=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var d=r.length-i,h=u.rowSpan>d?d:u.rowSpan;t[l.index]={cell:u,left:h,row:s}}}}}function Rse(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,s=0,o=0,a=0;a<e.columns.length;a++){var l=e.columns[a];if(o-=1,o>1&&e.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var c=i;delete r.cells[l.index],i=null,c.width=l.width+s}else{var c=r.cells[l.index];if(!c)continue;if(o=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function Pse(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var s=i[r],o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=HP(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=HP(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<h*c.rowSpan?n={height:h,count:c.rowSpan}:n&&n.count>0&&n.height>h&&(h=n.height),h>s.height&&(s.height=h)}}n.count--}}function HP(e,t,n,r,i){return e.map(function(s){return Ose(s,t,n,r,i)})}function Ose(e,t,n,r,i){var s=1e4*r.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Xy(e,n,r))return e;for(;t<Xy(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function r7(e,t){var n=new pf(e),r=Lse(t,n.scaleFactor()),i=new Ase(t,r);return Dse(n,i),n.applyStyles(n.userStyles),i}function Lse(e,t){var n=e.content,r=Bse(n.columns);if(n.head.length===0){var i=zP(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=zP(r,"foot");i&&n.foot.push(i)}var s=e.settings.theme,o=e.styles;return{columns:r,head:JS("head",n.head,r,o,s,t),body:JS("body",n.body,r,o,s,t),foot:JS("foot",n.foot,r,o,s,t)}}function JS(e,t,n,r,i,s){var o={},a=t.map(function(l,c){for(var u=0,d={},h=0,f=0,p=0,m=n;p<m.length;p++){var g=m[p];if(o[g.index]==null||o[g.index].left===0)if(f===0){var v=void 0;Array.isArray(l)?v=l[g.index-h-u]:v=l[g.dataKey];var x={};typeof v=="object"&&!Array.isArray(v)&&(x=v?.styles||{});var I=Use(e,g,c,i,r,s,x),R=new n7(v,I,e);d[g.dataKey]=R,d[g.index]=R,f=R.colSpan-1,o[g.index]={left:R.rowSpan-1,times:f}}else f--,h++;else o[g.index].left--,f=o[g.index].times,u++}return new t7(l,c,e,d)});return a}function zP(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var i=Fse(t,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function Fse(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Bse(e){return e.map(function(t,n){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:n:i=n,new kse(i,t,n)})}function Use(e,t,n,r,i,s,o){var a=pse(r),l;e==="head"?l=i.headStyles:e==="body"?l=i.bodyStyles:e==="foot"&&(l=i.footStyles);var c=pl({},a.table,a[e],i.styles,l),u=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},d=e==="body"?u:{},h=e==="body"&&n%2===0?pl({},a.alternateRow,i.alternateRowStyles):{},f=hse(s),p=pl({},f,c,h,d);return pl(p,o)}function Vse(e,t,n){var r;n===void 0&&(n={});var i=JP(e,t),s=new Map,o=[],a=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var f=t.columns.find(function(p){return p.dataKey===h||p.index===h});f&&!s.has(f.index)&&(s.set(f.index,!0),o.push(f.index),a.push(t.columns[f.index]),i-=f.wrappedWidth)});for(var c=!0,u=(r=n?.start)!==null&&r!==void 0?r:0;u<t.columns.length;){if(s.has(u)){u++;continue}var d=t.columns[u].wrappedWidth;if(c||i>=d)c=!1,o.push(u),a.push(t.columns[u]),i-=d;else break;u++}return{colIndexes:o,columns:a,lastIndex:u-1}}function jse(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=Vse(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function i7(e,t){var n=t.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,f){return h+f.height},0);a+=c}var u=new pf(e);(n.pageBreak==="always"||n.startY!=null&&a>u.pageSize().height)&&(o7(u),s.y=i.top),t.callWillDrawPageHooks(u,s);var d=pl({},s);t.startPageNumber=u.pageNumber(),n.horizontalPageBreak?Hse(u,t,d,s):(u.applyStyles(u.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(h){return ml(u,t,h,s,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,f){var p=f===t.body.length-1;Qy(u,t,h,p,d,s,t.columns)}),u.applyStyles(u.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(h){return ml(u,t,h,s,t.columns)})),YP(u,t,d,s),t.callEndPageHooks(u,s),t.finalY=s.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function Hse(e,t,n,r){var i=jse(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?cm(e,t,n,r,c.columns,!0):qP(e,t,r,c.columns),zse(e,t,n,r,c.columns),XS(e,t,r,c.columns)});else for(var o=-1,a=i[0],l=function(){var c=o;if(a){e.applyStyles(e.userStyles);var u=a.columns;o>=0?cm(e,t,n,r,u,!0):qP(e,t,r,u),c=$P(e,t,o+1,r,u),XS(e,t,r,u)}var d=c-o;i.slice(1).forEach(function(h){e.applyStyles(e.userStyles),cm(e,t,n,r,h.columns,!0),$P(e,t,o+1,r,h.columns,d),XS(e,t,r,h.columns)}),o=c};o<t.body.length-1;)l()}function qP(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(s){return ml(e,t,s,n,r)})}function zse(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var a=o===t.body.length-1;Qy(e,t,s,a,n,r,i)})}function $P(e,t,n,r,i,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(n+s,t.body.length),a=-1;return t.body.slice(n,o).forEach(function(l,c){var u=n+c===t.body.length-1,d=s7(e,t,u,r);l.canEntireRowFit(d,i)&&(ml(e,t,l,r,i),a=n+c)}),a}function XS(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(s){return ml(e,t,s,n,r)})}function qse(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),s=Math.floor((t-i)/r);return Math.max(0,s)}function $se(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new n7(c.raw,c.styles,c.section);u=pl(u,c),u.text=[];var d=qse(c,t,r);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var h=r.scaleFactor(),f=r.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,f),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,f),u.contentHeight>s&&(s=u.contentHeight),i[l.index]=u}}var p=new t7(e.raw,-1,e.section,i,!0);p.height=s;for(var m=0,g=n.columns;m<g.length;m++){var l=g[m],u=p.cells[l.index];u&&(u.height=p.height);var c=e.cells[l.index];c&&(c.height=e.height)}return p}function Wse(e,t,n,r){var i=e.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;t.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=t.getMinimumRowHeight(r.columns,e),c=l<n;if(l>a)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(r.columns),d=t.getMaxCellHeight(r.columns)>a;return d?(u&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||r.settings.rowPageBreak==="avoid")}function Qy(e,t,n,r,i,s,o){var a=s7(e,t,r,s);if(n.canEntireRowFit(a,o))ml(e,t,n,s,o);else if(Wse(e,n,a,t)){var l=$se(n,a,t,e);ml(e,t,n,s,o),cm(e,t,i,s,o),Qy(e,t,l,r,i,s,o)}else cm(e,t,i,s,o),Qy(e,t,n,r,i,s,o)}function ml(e,t,n,r,i){r.x=t.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}e.applyStyles(l.styles),l.x=r.x,l.y=r.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,n,a,r);if(c===!1){r.x+=a.width;continue}Gse(e,l,r);var u=l.getTextPos();WP(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function Gse(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=ZP(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),Kse(e,t,n,r.lineWidth))}function Kse(e,t,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+t.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+t.height,o=n.x+t.width,a=n.y+t.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+t.width,s=n.y,o=n.x+t.width,a=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(c,u,d,h,f){e.getDocument().setLineWidth(c),e.getDocument().line(u,d,h,f,"S")}}function s7(e,t,n,r){var i=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function cm(e,t,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(a){return ml(e,t,a,r,i)}),t.callEndPageHooks(e,r);var o=t.settings.margin;YP(e,t,n,r),o7(e),t.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(a){return ml(e,t,a,r,i)}),e.applyStyles(e.userStyles))}function o7(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function Yse(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=e7(this,r),s=r7(this,i);return i7(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,i){WP(t,n,r,i,this)},e.API.autoTableSetDefaults=function(t){return pf.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){pf.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new pf(this),s=QP(i,t,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var QS;function a7(e,t){var n=e7(e,t),r=r7(e,n);i7(e,r)}try{typeof window<"u"&&window&&(eC=window,tC=eC.jsPDF||((QS=eC.jspdf)===null||QS===void 0?void 0:QS.jsPDF),tC&&Yse(tC))}catch(e){console.error("Could not apply autoTable plugin",e)}var eC,tC;var Zse=(e,t)=>t.id,Jse=(e,t)=>t.part_name;function Xse(e,t){e&1&&(ae(0,"div",6),We(1,"i",53),we(2," Prioridad Alta "),ue())}function Qse(e,t){e&1&&(ae(0,"div",62),We(1,"i",74),we(2," Analizando da\xF1os... "),ue())}function eoe(e,t){if(e&1&&(ae(0,"li"),we(1),ue()),e&2){let n=t.$implicit;Me(),h0("",n.quantity,"x ",n.part_name," (",n.generic_code,")")}}function toe(e,t){if(e&1&&(ae(0,"div",72)(1,"p")(2,"strong",75),we(3,"Severidad Detectada:"),ue(),we(4),ue(),ae(5,"p")(6,"strong",75),we(7,"Refacciones Sugeridas:"),ue()(),ae(8,"ul",76),Wi(9,eoe,2,3,"li",null,Jse),ue()()),e&2){let n,r,i=kt(3);Me(4),dn(" ",(n=i.inspectionData())==null||n.inspection==null||n.inspection.severity==null?null:n.inspection.severity.level,""),Me(5),Gi((r=i.inspectionData())==null||r.inspection==null||r.inspection.repair_plan==null?null:r.inspection.repair_plan.estimated_parts)}}function noe(e,t){if(e&1){let n=xr();ae(0,"div",32)(1,"h4",54),We(2,"i",55),we(3," Registrar Ingreso a Taller "),ue(),ae(4,"div",56)(5,"input",57),Ft("change",function(i){cn(n);let s=kt(2);return un(s.handleImageUpload(i))}),ue(),ae(6,"div",58),We(7,"i",59),ae(8,"p",60),we(9,"Inspecci\xF3n Visual IA"),ue(),ae(10,"p",61),we(11,"Sube una foto de la aver\xEDa para autocompletar"),ue()(),Un(12,Qse,3,0,"div",62),ue(),ae(13,"div",63)(14,"select",64,0)(16,"option",65),we(17,"Falla Mec\xE1nica"),ue(),ae(18,"option",66),we(19,"Falla El\xE9ctrica"),ue(),ae(20,"option",67),we(21,"Sistema Hidr\xE1ulico"),ue(),ae(22,"option",68),we(23,"Llantas / Rodaje"),ue(),ae(24,"option",69),we(25,"Estructural"),ue(),ae(26,"option",70),we(27,"Da\xF1o por Operaci\xF3n"),ue()(),We(28,"textarea",71,1),Un(30,toe,11,1,"div",72),ae(31,"button",73),Ft("click",function(){cn(n);let i=$o(15),s=$o(29),o=kt(2);return un(o.reportFailure(s.value,i.value))}),we(32," Confirmar Ingreso "),ue()()()}if(e&2){let n,r,i=kt(2);Me(12),Vn(i.analyzingImage()?12:-1),Me(2),Qn("value",((n=i.inspectionData())==null||n.inspection==null||n.inspection.damage_analysis==null?null:n.inspection.damage_analysis.damage_type)||"Mec\xE1nico"),Me(14),Qn("value",i.inspectionData()?((r=i.inspectionData())==null||r.inspection==null||r.inspection.asset==null?null:r.inspection.asset.visual_condition)+" - Causa Probable: "+((r=i.inspectionData())==null||r.inspection==null||r.inspection.root_cause_analysis==null?null:r.inspection.root_cause_analysis.probable_cause):""),Me(2),Vn(i.inspectionData()?30:-1)}}function roe(e,t){if(e&1){let n=xr();ae(0,"div",33)(1,"h4",77),We(2,"i",78),we(3," Finalizar y Liberar Equipo "),ue(),ae(4,"div",63),We(5,"textarea",79,2),ae(7,"div",80),We(8,"input",81,3)(10,"input",82,4),ue(),ae(12,"button",83),Ft("click",function(){cn(n);let i=$o(6),s=$o(9),o=$o(11),a=kt(2);return un(a.finishRepair(i.value,s.value,o.value))}),we(13," Liberar Equipo a Operaci\xF3n "),ue()()()}}function ioe(e,t){e&1&&(ae(0,"span",86),we(1," ABIERTO "),ue())}function soe(e,t){if(e&1&&(ae(0,"span",94),we(1),ue()),e&2){let n=t.$implicit;Me(),dn(" ",n," ")}}function ooe(e,t){if(e&1&&(ae(0,"div",89),Wi(1,soe,2,1,"span",94,f0),ue()),e&2){let n=kt().$implicit;Me(),Gi(n.partsUsed)}}function aoe(e,t){e&1&&(ae(0,"span",90),we(1,"N/A"),ue())}function loe(e,t){if(e&1&&(ae(0,"tr",84)(1,"td",85),we(2),Gs(3,"date"),Un(4,ioe,2,0,"span",86),ue(),ae(5,"td",87),we(6),ue(),ae(7,"td",88),we(8),ue(),ae(9,"td",88),Un(10,ooe,3,0,"div",89)(11,aoe,2,0,"span",90),ue(),ae(12,"td",91)(13,"span",92),we(14),ue()(),ae(15,"td",93),we(16),Gs(17,"currency"),ue()()),e&2){let n=t.$implicit;br("bg-red-50",!n.exitDate)("border-l-4",!n.exitDate)("border-[#ce1126]",!n.exitDate),Me(2),dn(" ",Wo(3,13,n.entryDate,"shortDate")," "),Me(2),Vn(n.exitDate?-1:4),Me(2),dn(" ",n.failureDescription," "),Me(2),dn(" ",n.diagnosis||"-"," "),Me(2),Vn(n.partsUsed&&n.partsUsed.length>0?10:11),Me(4),yn(n.type),Me(2),yn(p0(17,16,n.estimatedCost))}}function coe(e,t){e&1&&(ae(0,"div",51)(1,"div",95),We(2,"i",96)(3,"i",97),ue(),ae(4,"p",98),we(5,"Analizando historial y sensores..."),ue()())}function uoe(e,t){if(e&1){let n=xr();We(0,"div",99),ae(1,"button",100),Ft("click",function(){cn(n);let i=kt(2);return un(i.runAnalysis())}),we(2," Regenerar An\xE1lisis "),ue()}if(e&2){let n=kt(2);Qn("innerHTML",n.aiResult(),zc)}}function doe(e,t){if(e&1){let n=xr();ae(0,"div",101)(1,"p",102),We(2,"i",103),we(3," Esto enviar\xE1 los \xFAltimos 20 reportes a Gemini."),ue()(),ae(4,"button",104),Ft("click",function(){cn(n);let i=kt(2);return un(i.runAnalysis())}),We(5,"i",105),we(6," Ejecutar Predicci\xF3n con IA "),ue()}}function foe(e,t){if(e&1){let n=xr();ae(0,"div",52)(1,"div",106)(2,"h3",107),We(3,"i",108),we(4," Procedimiento LOTO"),ue(),ae(5,"button",109),Ft("click",function(){cn(n);let i=kt(2);return un(i.lotoResult.set(null))}),We(6,"i",110),ue()(),We(7,"div",111),ae(8,"button",112),Ft("click",function(){cn(n);let i=kt(2);return un(i.printLoto())}),We(9,"i",113),we(10," Imprimir Etiqueta "),ue()()}if(e&2){let n=kt(2);Me(7),Qn("innerHTML",n.lotoResult(),zc)}}function hoe(e,t){if(e&1){let n=xr();ae(0,"div",5),Un(1,Xse,3,0,"div",6),ae(2,"div",7)(3,"div")(4,"div",8)(5,"h2",9),we(6),ue(),ae(7,"span",10),we(8),ue()(),ae(9,"p",11),we(10),ue(),ae(11,"div",12)(12,"span"),We(13,"i",13),we(14),ue(),We(15,"span",14),ae(16,"span"),We(17,"i",15),we(18),ue()()(),ae(19,"div",16)(20,"button",17),Ft("click",function(){cn(n);let i=kt();return un(i.close())}),We(21,"i",18),ue(),ae(22,"button",19),Ft("click",function(){cn(n);let i=kt();return un(i.exportPdf())}),We(23,"i",20),we(24," PDF "),ue(),ae(25,"button",21),Ft("click",function(){cn(n);let i=kt();return un(i.generateLoto())}),We(26,"i",22),we(27," Generar LOTO "),ue()()(),ae(28,"div",23)(29,"div",24)(30,"div",25)(31,"div",26)(32,"div",27),we(33,"Combustible"),ue(),ae(34,"div",28),we(35),ue()(),ae(36,"div",26)(37,"div",27),we(38,"Adquisici\xF3n"),ue(),ae(39,"div",28),we(40),Gs(41,"date"),ue()(),ae(42,"div",26)(43,"div",27),we(44,"Total Fallas"),ue(),ae(45,"div",28),we(46),ue()()(),ae(47,"div",29)(48,"h3",30),We(49,"i",31),we(50," Panel de Control Operativo "),ue(),Un(51,noe,33,4,"div",32)(52,roe,14,0,"div",33),ue(),ae(53,"div")(54,"div",34),We(55,"div",35),ae(56,"h3",36),we(57,"Historial Cl\xEDnico"),ue()(),ae(58,"div",37)(59,"table",38)(60,"thead",39)(61,"tr")(62,"th",40),we(63,"Fecha"),ue(),ae(64,"th",41),we(65,"Falla"),ue(),ae(66,"th",41),we(67,"Diagn\xF3stico"),ue(),ae(68,"th",41),we(69,"Refacciones"),ue(),ae(70,"th",41),we(71,"Tipo"),ue(),ae(72,"th",42),we(73,"Costo"),ue()()(),ae(74,"tbody",43),Wi(75,loe,18,18,"tr",44,Zse),ue()()()()(),ae(77,"div",45)(78,"div",46)(79,"div",34)(80,"div",47),We(81,"i",48),ue(),ae(82,"h3",49),we(83,"Mantenimiento Predictivo"),ue()(),ae(84,"p",50),we(85," Gemini AI analiza patrones de desgaste, MTBF y condiciones de uso para predecir fallas futuras. "),ue(),Un(86,coe,6,0,"div",51)(87,uoe,3,1)(88,doe,7,0),ue(),Un(89,foe,11,1,"div",52),ue()()()}if(e&2){let n=kt();Me(),Vn(n.asset().critical?1:-1),Me(5),yn(n.asset().id),Me(2),dn(" ",n.asset().status.name," "),Me(2),h0("",n.asset().brand," ",n.asset().model," | SN: ",n.asset().serial,""),Me(4),yn(n.asset().location),Me(4),yn(n.asset().fuelType),Me(17),yn(n.asset().fuelType),Me(5),yn(Wo(41,14,n.asset().acquisitionDate,"MM/yyyy")),Me(6),yn(n.history().length),Me(5),Vn(n.asset().status.name==="Operativo"?51:n.asset().status.name==="Taller"?52:-1),Me(24),Gi(n.history()),Me(11),Vn(n.aiLoading()?86:n.aiResult()?87:88),Me(3),Vn(n.lotoResult()?89:-1)}}var l7=(()=>{class e{constructor(){this.assetId=dI(""),this.dataService=Pt(ps),this.geminiService=Pt(Vd),this.sanitizer=Pt(Kc),this.asset=vn(()=>this.dataService.getAsset(this.assetId())),this.history=vn(()=>this.assetId()?this.dataService.getAssetHistory(this.assetId()):[]),this.aiLoading=rn(!1),this.aiResult=rn(null),this.analyzingImage=rn(!1),this.inspectionData=rn(null),this.lotoResult=rn(null),$c(()=>{this.assetId(),this.aiResult.set(null),this.inspectionData.set(null),this.lotoResult.set(null)},{allowSignalWrites:!0})}handleImageUpload(n){let r=n.target.files[0];if(!r)return;this.analyzingImage.set(!0);let i=new FileReader;i.onload=async s=>{let o=s.target.result.split(",")[1],a=await this.geminiService.analyzeImageInspection(o);this.inspectionData.set(a),this.analyzingImage.set(!1)},i.readAsDataURL(r)}async generateLoto(){let n=this.asset();if(!n)return;let r=n.lastFailure||"Mantenimiento General Preventivo";this.lotoResult.set('<p class="text-gray-500 animate-pulse">Generando procedimiento de seguridad...</p>');let i=await this.geminiService.generateLotoProcedure(n,r);this.lotoResult.set(i)}printLoto(){let n=window.open("","","height=600,width=800");n&&this.lotoResult()&&(n.document.write("<html><head><title>LOTO</title>"),n.document.write('<script src="https://cdn.tailwindcss.com"><\/script>'),n.document.write('</head><body class="p-8">'),n.document.write(this.lotoResult()),n.document.write("</body></html>"),n.document.close(),setTimeout(()=>n.print(),500))}reportFailure(n,r){if(!n)return alert("Por favor describe la falla.");this.dataService.reportFailure(this.assetId(),n,r)}finishRepair(n,r,i){if(!n)return alert("El diagn\xF3stico es requerido.");let s=parseFloat(r)||0,o=i.split(",").map(a=>a.trim()).filter(a=>a);this.dataService.completeRepair(this.assetId(),n,s,o)}async runAnalysis(){let n=this.asset();if(!n)return;this.aiLoading.set(!0);let r=await this.geminiService.analyzeMaintenanceHistory(n,this.history());this.aiResult.set(r),this.aiLoading.set(!1)}exportPdf(){let n=new Vt,r=this.asset();if(!r)return;n.setFontSize(20),n.setTextColor(206,17,38),n.text(`Historial Cl\xEDnico: ${r.id}`,14,20),n.setTextColor(0,0,0),n.setFontSize(10),n.text(`Marca: ${r.brand} | Modelo: ${r.model}`,14,28),n.text(`Serie: ${r.serial} | Estatus: ${r.status.name}`,14,33),n.text(`Generado: ${new Date().toLocaleDateString()}`,14,38);let i=this.history().map(s=>[new Date(s.entryDate).toLocaleDateString(),s.failureDescription,s.diagnosis||"-",(s.partsUsed||[]).join(", "),`$${s.estimatedCost}`]);a7(n,{startY:45,head:[["Fecha","Falla","Diagn\xF3stico","Refacciones","Costo"]],body:i,theme:"grid",headStyles:{fillColor:[206,17,38]}}),n.save(`historial_${r.id}.pdf`)}sendEmail(){let n=this.asset();if(!n)return;let r=encodeURIComponent(`Seguimiento de Activo ${n.id} - ${n.status.name}`),i=`
Hola,

Adjunto el seguimiento para el equipo:
ID: ${n.id}
Marca: ${n.brand}
Modelo: ${n.model}
Serie: ${n.serial}

Estatus Actual: ${n.status.name}
\xDAltima Falla Registrada: ${n.lastFailure||"N/A"}

Favor de revisar el historial en el sistema para m\xE1s detalles.

Saludos,
AssetGuard System
    `.trim(),s=encodeURIComponent(i);window.location.href=`mailto:?subject=${r}&body=${s}`}close(){window.dispatchEvent(new CustomEvent("asset-closed"))}printReport(){window.print()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ui({type:e,selectors:[["app-asset-detail"]],inputs:{assetId:[1,"assetId"]},decls:1,vars:1,consts:[["failType",""],["failDesc",""],["diagnosis",""],["cost",""],["parts",""],[1,"bg-white","rounded-xl","shadow-lg","border","border-gray-200","overflow-hidden","animate-fade-in","relative"],[1,"absolute","top-0","right-0","bg-yellow-400","text-black","text-[10px]","uppercase","font-black","px-4","py-2","rounded-bl-lg","z-10","shadow-sm","tracking-wide"],[1,"bg-[#ce1126]","text-white","p-6","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-4"],[1,"flex","items-center","gap-3"],[1,"text-3xl","font-black","tracking-tight"],[1,"px-3","py-0.5","rounded-full","text-xs","font-bold","uppercase","bg-white/20","border","border-white/30","backdrop-blur-sm"],[1,"text-red-100","font-medium","mt-1"],[1,"text-xs","text-red-200","mt-2","flex","gap-2","items-center"],[1,"fas","fa-map-marker-alt","mr-1"],[1,"w-1","h-1","rounded-full","bg-white","opacity-50"],[1,"fas","fa-gas-pump","mr-1"],[1,"flex","flex-wrap","gap-2"],["title","Volver",1,"px-4","py-2","rounded-lg","bg-white/10","hover:bg-white/20","text-white","text-sm","font-bold","transition","border","border-white/10",3,"click"],[1,"fas","fa-arrow-left"],[1,"px-4","py-2","rounded-lg","bg-white","text-[#ce1126]","hover:bg-gray-100","text-sm","font-bold","transition","shadow-md","flex","items-center",3,"click"],[1,"fas","fa-file-pdf","mr-2"],[1,"px-4","py-2","rounded-lg","bg-yellow-400","text-black","hover:bg-yellow-300","text-sm","font-bold","transition","shadow-md","flex","items-center",3,"click"],[1,"fas","fa-lock","mr-2"],[1,"p-6","grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-6"],[1,"grid","grid-cols-3","gap-4"],[1,"p-4","bg-gray-50","rounded-lg","border","border-gray-100","text-center"],[1,"text-[10px]","text-gray-500","uppercase","font-bold","tracking-wider"],[1,"font-bold","text-gray-800","text-lg"],[1,"bg-white","p-6","rounded-xl","border","border-gray-200","shadow-sm"],[1,"text-sm","font-bold","text-gray-400","uppercase","tracking-widest","mb-4","flex","items-center","gap-2"],[1,"fas","fa-cogs"],[1,"bg-red-50","p-5","rounded-lg","border","border-red-100","relative"],[1,"bg-green-50","p-5","rounded-lg","border","border-green-100"],[1,"flex","items-center","gap-3","mb-4"],[1,"h-6","w-1","bg-[#ce1126]"],[1,"text-lg","font-bold","text-gray-800"],[1,"overflow-x-auto","rounded-lg","border","border-gray-200"],[1,"w-full","text-sm","text-left","min-w-[800px]"],[1,"bg-gray-50","text-gray-500","font-bold","text-xs","uppercase","tracking-wider"],[1,"p-3","whitespace-nowrap"],[1,"p-3"],[1,"p-3","text-right"],[1,"divide-y","divide-gray-100"],[1,"hover:bg-gray-50","transition",3,"bg-red-50","border-l-4","border-[#ce1126]"],[1,"space-y-6"],[1,"bg-gradient-to-br","from-gray-900","to-black","p-6","rounded-xl","border","border-gray-800","text-white","shadow-xl"],[1,"p-2","bg-[#ce1126]","text-white","rounded","shadow-sm"],[1,"fas","fa-robot","text-lg"],[1,"text-lg","font-bold"],[1,"text-sm","text-gray-400","mb-6","leading-relaxed"],[1,"flex","flex-col","items-center","justify-center","py-6","text-center","space-y-3"],[1,"bg-yellow-50","p-6","rounded-xl","border","border-yellow-200","shadow-lg"],[1,"fas","fa-exclamation-triangle","mr-1"],[1,"text-[#ce1126]","font-bold","mb-3","flex","items-center","gap-2"],[1,"fas","fa-tools"],[1,"mb-4","p-4","border-2","border-dashed","border-red-200","rounded-lg","bg-white/50","text-center","relative","group","hover:border-red-400","transition-colors"],["type","file","accept","image/*",1,"absolute","inset-0","w-full","h-full","opacity-0","cursor-pointer","z-10",3,"change"],[1,"flex","flex-col","items-center","gap-2"],[1,"fas","fa-camera","text-2xl","text-red-300","group-hover:text-red-500"],[1,"text-xs","font-bold","text-red-800","uppercase"],[1,"text-[10px]","text-gray-500"],[1,"absolute","inset-0","bg-white/90","z-20","flex","items-center","justify-center","text-[#ce1126]","font-bold","text-xs","gap-2"],[1,"flex","flex-col","gap-3"],[1,"w-full","p-2.5","border","border-gray-300","rounded","text-sm","bg-white","focus:ring-2","focus:ring-red-500","outline-none",3,"value"],["value","Mec\xE1nico"],["value","El\xE9ctrico"],["value","Hidr\xE1ulico"],["value","Llantas"],["value","Estructural"],["value","Operador"],["rows","3","placeholder","Describe la falla detalladamente...",1,"w-full","p-2.5","border","border-gray-300","rounded","text-sm","bg-white","focus:ring-2","focus:ring-red-500","outline-none",3,"value"],[1,"bg-white","p-3","rounded","border","border-red-100","text-xs","text-gray-600","mb-2"],[1,"w-full","bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","font-bold","py-2.5","rounded","transition","uppercase","tracking-wide","text-xs",3,"click"],[1,"fas","fa-spinner","fa-spin"],[1,"text-red-700"],[1,"list-disc","pl-4","mt-1"],[1,"text-green-800","font-bold","mb-3","flex","items-center","gap-2"],[1,"fas","fa-check-circle"],["rows","2","placeholder","Diagn\xF3stico final y soluci\xF3n...",1,"w-full","p-2.5","border","border-green-200","rounded","text-sm","bg-white","focus:ring-2","focus:ring-green-500","outline-none"],[1,"grid","grid-cols-2","gap-3"],["type","number","placeholder","Costo Refacciones ($)",1,"p-2.5","border","border-green-200","rounded","text-sm","bg-white"],["type","text","placeholder","Refacciones (separar por coma)",1,"p-2.5","border","border-green-200","rounded","text-sm","bg-white"],[1,"w-full","bg-green-600","hover:bg-green-700","text-white","font-bold","py-2.5","rounded","transition","uppercase","tracking-wide","text-xs",3,"click"],[1,"hover:bg-gray-50","transition"],[1,"p-3","text-gray-600","align-top","whitespace-nowrap","font-medium"],[1,"inline-block","px-2","py-0.5","rounded","bg-[#ce1126]","text-white","text-[10px]","font-bold","mt-1","ml-2"],[1,"p-3","text-gray-900","align-top","font-medium"],[1,"p-3","text-gray-600","text-xs","align-top","max-w-[200px]"],[1,"flex","flex-wrap","gap-1.5"],[1,"text-gray-400","italic","text-xs"],[1,"p-3","align-top"],[1,"px-2","py-1","bg-gray-100","text-gray-600","text-[10px]","font-bold","uppercase","rounded","whitespace-nowrap"],[1,"p-3","text-right","font-mono","text-gray-900","font-bold","align-top","whitespace-nowrap"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-[10px]","font-bold","bg-gray-100","text-gray-600","border","border-gray-200"],[1,"relative"],[1,"fas","fa-circle-notch","fa-spin","text-3xl","text-[#ce1126]"],[1,"fas","fa-brain","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","text-[10px]","text-white"],[1,"text-xs","font-bold","text-gray-300","animate-pulse","uppercase","tracking-wide"],[1,"prose","prose-sm","prose-invert","bg-white/5","p-4","rounded-lg","border","border-white/10","max-h-96","overflow-y-auto","custom-scroll","text-sm",3,"innerHTML"],[1,"mt-4","w-full","py-2","text-xs","font-bold","text-gray-400","hover:text-white","uppercase","tracking-wide","border","border-gray-700","rounded","hover:bg-gray-800","transition",3,"click"],[1,"bg-white/5","rounded-lg","p-3","mb-4","border","border-white/10"],[1,"text-[10px]","text-gray-400","italic","mb-1"],[1,"fas","fa-info-circle","mr-1"],[1,"w-full","py-3","bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","rounded-lg","font-bold","shadow-lg","shadow-red-900/20","transition","flex","items-center","justify-center","gap-2","uppercase","tracking-wide","text-xs",3,"click"],[1,"fas","fa-magic"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-black","text-yellow-800","flex","items-center","gap-2"],[1,"fas","fa-lock"],[1,"text-yellow-600","hover:text-black",3,"click"],[1,"fas","fa-times"],[1,"prose","prose-sm","prose-yellow","max-h-64","overflow-y-auto","custom-scroll",3,"innerHTML"],[1,"w-full","mt-4","py-2","bg-yellow-400","hover:bg-yellow-500","text-black","font-bold","rounded","uppercase","text-xs",3,"click"],[1,"fas","fa-print","mr-1"]],template:function(r,i){r&1&&Un(0,hoe,90,17,"div",5),r&2&&Vn(i.asset()?0:-1)},dependencies:[Zr,kh,Za,ta,Gd,Kd],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}}return e})();var oC=X9(u7(),1);function poe(e,t){e&1&&(We(0,"i",55),we(1," Analizando Flota... "))}function moe(e,t){e&1&&(We(0,"i",56),we(1," Generar Reporte Diario "))}function goe(e,t){if(e&1){let n=xr();ae(0,"button",54),Ft("click",function(){cn(n);let i=kt();return un(i.generateDailyReport())}),Un(1,poe,2,0)(2,moe,2,0),ue()}if(e&2){let n=kt();Qn("disabled",n.isAnalyzing()),Me(),Vn(n.isAnalyzing()?1:2)}}function yoe(e,t){if(e&1){let n=xr();ae(0,"div",26),We(1,"div",57),ae(2,"div",58)(3,"button",59),Ft("click",function(){cn(n);let i=kt();return un(i.aiReport.set(null))}),we(4," Cerrar "),ue(),ae(5,"button",60),Ft("click",function(){cn(n);let i=kt();return un(i.copyReport())}),We(6,"i",61),we(7," Copiar "),ue()()()}if(e&2){let n=kt();Me(),Qn("innerHTML",n.aiReport(),zc)}}var d7=(()=>{class e{constructor(){this.dataService=Pt(ps),this.geminiService=Pt(Vd),this.sanitizer=Pt(Kc),this.failureForm={economico:"",falla:"",prioridad:"Media",reporta:""},this.isAnalyzing=rn(!1),this.aiReport=rn(null),this.isKioskMode=this.dataService.isKioskMode}toggleKiosk(){this.dataService.toggleKioskMode()}registerFailure(){if(!this.failureForm.economico||!this.failureForm.falla){alert("Por favor complete los datos de la unidad y la falla.");return}this.dataService.addLiveFailure({economico:this.failureForm.economico.toUpperCase(),falla:this.failureForm.falla,prioridad:this.failureForm.prioridad,reporta:this.failureForm.reporta||"NOC Admin",estatus:"Abierta"}),this.failureForm={economico:"",falla:"",prioridad:"Media",reporta:""}}async generateDailyReport(){this.isAnalyzing.set(!0);let n=this.dataService.fleetAvailability(),r=this.dataService.forkliftFailures().filter(o=>o.estatus!=="Cerrada"),i=this.dataService.forkliftFailures().slice(0,10),s=await this.geminiService.generateDailySummary(n,r,i);this.aiReport.set(s),this.isAnalyzing.set(!1)}copyReport(){if(this.aiReport()){let n=document.createElement("div");n.innerHTML=this.aiReport();let r=new Blob([n.innerText],{type:"text/plain"}),i=new ClipboardItem({"text/plain":r});navigator.clipboard.write([i]).then(()=>alert("Reporte copiado al portapapeles!"))}}async handleFileInput(n){let r=n.target.files[0];if(!r)return;let i=new FileReader;i.onload=async s=>{try{let o=new oC.default.Workbook;await o.xlsx.load(s.target.result);let a=o.worksheets[0],l=[];a.eachRow((c,u)=>{u>1&&l.push({Economico:c.getCell(1).value,Marca:c.getCell(2).value,Modelo:c.getCell(3).value,Estatus:c.getCell(4).value})}),this.dataService.updateAssetsFromExcel(l),alert(`Se procesaron ${l.length} registros exitosamente.`)}catch(o){alert("Error al procesar el archivo Excel."),console.error(o)}},i.readAsArrayBuffer(r)}async exportData(){let n=this.dataService.forkliftFailures().map(d=>({ID:d.id,Unidad:d.economico,Falla:d.falla,Prioridad:d.prioridad,Estatus:d.estatus,Reporto:d.reporta,FechaIngreso:d.fechaIngreso,FechaCierre:d.fechaSalida||"-"})),r=this.dataService.assets().map(d=>({Economico:d.id,Marca:d.brand,Modelo:d.model,Serie:d.serial,Estatus:d.status.name,Desde:d.statusSince})),i=new oC.default.Workbook,s=i.addWorksheet("Inventario");r.length>0&&(s.columns=Object.keys(r[0]).map(d=>({header:d,key:d})),r.forEach(d=>s.addRow(d)));let o=i.addWorksheet("Reporte de Fallas");n.length>0&&(o.columns=Object.keys(n[0]).map(d=>({header:d,key:d})),n.forEach(d=>o.addRow(d)));let a=await i.xlsx.writeBuffer(),l=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=`AssetGuard_Reporte_${new Date().toISOString().slice(0,10)}.xlsx`,u.click(),window.URL.revokeObjectURL(c)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ui({type:e,selectors:[["app-admin"]],decls:90,vars:18,consts:[[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-8","max-w-5xl","mx-auto"],[1,"mb-8","border-b","border-gray-100","pb-4"],[1,"text-3xl","font-black","text-gray-800","tracking-tight"],[1,"text-gray-500"],[1,"bg-indigo-50","p-6","rounded-xl","shadow-sm","border","border-indigo-100","mb-8","flex","flex-col","md:flex-row","items-center","justify-between","gap-4","animate-fade-in","relative","overflow-hidden"],[1,"absolute","-right-6","-top-6","text-indigo-100","opacity-50"],[1,"fas","fa-broadcast-tower","text-9xl"],[1,"relative","z-10"],[1,"text-xl","font-bold","text-indigo-900","flex","items-center","gap-2"],[1,"bg-indigo-600","text-white","p-1.5","rounded-lg","text-xs","shadow-md"],[1,"fas","fa-desktop"],[1,"text-sm","text-indigo-700","mt-1","max-w-lg"],[1,"flex","items-center","gap-4","relative","z-10","bg-white","px-6","py-3","rounded-2xl","shadow-sm","border","border-indigo-100"],[1,"text-right"],[1,"text-[10px]","font-bold","uppercase","tracking-wider","text-gray-500"],[1,"text-sm","font-black","transition-colors"],[1,"relative","inline-flex","h-8","w-14","items-center","rounded-full","transition-colors","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","cursor-pointer",3,"click"],[1,"inline-block","h-6","w-6","transform","rounded-full","bg-white","transition-transform","shadow-md"],[1,"bg-gradient-to-r","from-gray-900","to-slate-800","rounded-xl","p-6","text-white","shadow-xl","mb-8","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10"],[1,"fas","fa-brain","text-9xl","text-white"],[1,"text-xl","font-bold","flex","items-center","gap-2","mb-2"],[1,"bg-[#ce1126]","p-1.5","rounded","text-xs"],[1,"fas","fa-robot"],[1,"text-gray-400","text-sm","mb-6","max-w-2xl"],[1,"bg-white","text-gray-900","px-6","py-3","rounded-lg","font-bold","shadow","hover:bg-gray-100","transition","flex","items-center","gap-2","disabled:opacity-50",3,"disabled"],[1,"bg-white/10","rounded-lg","p-6","border","border-white/10","backdrop-blur-sm","animate-fade-in"],[1,"bg-white","p-6","rounded-xl","shadow-lg","mb-8","border-t-4","border-[#ce1126]","border","border-gray-100"],[1,"text-lg","font-bold","mb-4","flex","items-center","gap-2","text-gray-800"],[1,"text-[#ce1126]"],[1,"fas","fa-broadcast-tower"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],[1,"block","text-xs","font-bold","text-gray-500","uppercase","tracking-wide","mb-1"],["type","text","placeholder","Ej: M-105",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"lg:col-span-2"],["type","text","placeholder","Describe el problema...",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none","bg-white",3,"ngModelChange","ngModel"],["value","Baja"],["value","Media"],["value","Alta"],[1,"flex","justify-between","items-center"],[1,"w-1/3"],["type","text","placeholder","Nombre Supervisor",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","px-8","py-3","rounded-lg","font-bold","shadow-md","transition","transform","hover:scale-105","flex","items-center","gap-2",3,"click"],[1,"fas","fa-paper-plane"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"p-6","border","border-gray-200","rounded-xl","bg-gray-50"],[1,"font-bold","text-gray-700","mb-2"],[1,"fas","fa-file-excel","text-green-600","mr-2"],[1,"text-xs","text-gray-500","mb-4"],["type","file","accept",".xlsx, .xls",1,"block","w-full","text-sm","text-gray-500","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-green-50","file:text-green-700","hover:file:bg-green-100","mb-2","cursor-pointer",3,"change"],[1,"text-[10px]","text-gray-400","italic"],[1,"fas","fa-download","text-blue-600","mr-2"],[1,"w-full","py-2","bg-white","border","border-gray-300","rounded","text-gray-700","font-bold","text-sm","hover:bg-gray-100","transition",3,"click"],[1,"bg-white","text-gray-900","px-6","py-3","rounded-lg","font-bold","shadow","hover:bg-gray-100","transition","flex","items-center","gap-2","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-magic"],[1,"prose","prose-invert","prose-sm","max-w-none",3,"innerHTML"],[1,"mt-4","flex","gap-3"],[1,"text-gray-400","hover:text-white","text-xs","font-bold","underline",3,"click"],[1,"text-[#ce1126]","hover:text-red-400","text-xs","font-bold","uppercase",3,"click"],[1,"fas","fa-copy","mr-1"]],template:function(r,i){r&1&&(ae(0,"div",0)(1,"div",1)(2,"h2",2),we(3,"Panel de Administraci\xF3n"),ue(),ae(4,"p",3),we(5,"Gesti\xF3n de fallas en vivo, control de pantallas y reportes IA."),ue()(),ae(6,"div",4)(7,"div",5),We(8,"i",6),ue(),ae(9,"div",7)(10,"h3",8)(11,"span",9),We(12,"i",10),ue(),we(13," Control Maestro de Pantallas "),ue(),ae(14,"p",11),we(15," Activa remotamente el "),ae(16,"strong"),we(17,"Modo Quiosco"),ue(),we(18," en las Smart TVs de la planta. Esto iniciar\xE1 la rotaci\xF3n autom\xE1tica de KPIs, Mejores Tripulaciones y Seguridad. "),ue()(),ae(19,"div",12)(20,"div",13)(21,"p",14),we(22," Estatus Transmisi\xF3n "),ue(),ae(23,"p",15),we(24),ue()(),ae(25,"button",16),Ft("click",function(){return i.toggleKiosk()}),We(26,"span",17),ue()()(),ae(27,"div",18)(28,"div",19),We(29,"i",20),ue(),ae(30,"div",7)(31,"h3",21)(32,"span",22),We(33,"i",23),we(34," GEMINI 2.0"),ue(),we(35," Centro de Inteligencia "),ue(),ae(36,"p",24),we(37," Genera un resumen ejecutivo instant\xE1neo analizando KPIs, fallas activas y tiempos de respuesta para la junta diaria. "),ue(),Un(38,goe,3,2,"button",25)(39,yoe,8,1,"div",26),ue()(),ae(40,"div",27)(41,"h3",28)(42,"span",29),We(43,"i",30),ue(),we(44," Registro de Falla (Torre de Control) "),ue(),ae(45,"div",31)(46,"div")(47,"label",32),we(48,"Unidad (ID)"),ue(),ae(49,"input",33),Ws("ngModelChange",function(o){return po(i.failureForm.economico,o)||(i.failureForm.economico=o),o}),ue()(),ae(50,"div",34)(51,"label",32),we(52,"Descripci\xF3n de Falla"),ue(),ae(53,"input",35),Ws("ngModelChange",function(o){return po(i.failureForm.falla,o)||(i.failureForm.falla=o),o}),ue()(),ae(54,"div")(55,"label",32),we(56,"Prioridad"),ue(),ae(57,"select",36),Ws("ngModelChange",function(o){return po(i.failureForm.prioridad,o)||(i.failureForm.prioridad=o),o}),ae(58,"option",37),we(59,"Baja"),ue(),ae(60,"option",38),we(61,"Media"),ue(),ae(62,"option",39),we(63,"Alta (Cr\xEDtica)"),ue()()()(),ae(64,"div",40)(65,"div",41)(66,"label",32),we(67,"Reporta"),ue(),ae(68,"input",42),Ws("ngModelChange",function(o){return po(i.failureForm.reporta,o)||(i.failureForm.reporta=o),o}),ue()(),ae(69,"button",43),Ft("click",function(){return i.registerFailure()}),We(70,"i",44),we(71," ENVIAR ALERTA "),ue()()(),ae(72,"div",45)(73,"div",46)(74,"h3",47),We(75,"i",48),we(76," Importaci\xF3n Masiva "),ue(),ae(77,"p",49),we(78," Carga tu inventario o estatus desde Excel (.xlsx) "),ue(),ae(79,"input",50),Ft("change",function(o){return i.handleFileInput(o)}),ue(),ae(80,"p",51),we(81," Columnas requeridas: Economico, Marca, Modelo, Estatus "),ue()(),ae(82,"div",46)(83,"h3",47),We(84,"i",52),we(85," Exportar Datos "),ue(),ae(86,"p",49),we(87,"Descarga el reporte completo de KPIs y Fallas."),ue(),ae(88,"button",53),Ft("click",function(){return i.exportData()}),we(89," Descargar Excel "),ue()()()()),r&2&&(Me(23),br("text-green-500",i.isKioskMode())("text-gray-400",!i.isKioskMode()),Me(),dn(" ",i.isKioskMode()?"EN VIVO (ON AIR)":"OFFLINE"," "),Me(),br("bg-indigo-600",i.isKioskMode())("bg-gray-300",!i.isKioskMode()),Me(),br("translate-x-7",i.isKioskMode())("translate-x-1",!i.isKioskMode()),Me(12),Vn(i.aiReport()?39:38),Me(11),$s("ngModel",i.failureForm.economico),Me(4),$s("ngModel",i.failureForm.falla),Me(4),$s("ngModel",i.failureForm.prioridad),Me(11),$s("ngModel",i.failureForm.reporta))},dependencies:[Zr,ta,Gd,Kd,rc,gy,Wd,fu],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}}return e})();var voe=(e,t)=>t.id,boe=(e,t)=>t.fecha;function _oe(e,t){if(e&1&&(ae(0,"div",32)(1,"span",51),we(2),ue(),we(3),ue()),e&2){let n=t.$implicit;Me(2),dn("",n.usuario,":"),Me(),dn(" ",n.mensaje," ")}}function woe(e,t){if(e&1){let n=xr();ae(0,"div",17)(1,"div",19)(2,"div",20)(3,"div",21),we(4),ue(),ae(5,"div")(6,"h4",22),we(7),ue(),ae(8,"p",23),we(9),Gs(10,"date"),ue()()(),ae(11,"div",24)(12,"span"),we(13),ue(),ae(14,"span",25),we(15),ue()()(),ae(16,"div",26)(17,"div",27)(18,"p",28),we(19,"Diagn\xF3stico Reportado"),ue(),ae(20,"div",29),we(21),ue(),ae(22,"div",30)(23,"p",28),we(24,"Historial T\xE9cnico"),ue(),ae(25,"div",31),Wi(26,_oe,4,2,"div",32,boe),ue()()(),ae(28,"div",33)(29,"h5",34),We(30,"i",35),we(31," Log\xEDstica de Refacciones "),ue(),ae(32,"div",36)(33,"div")(34,"label",37),we(35,"Orden de Compra (PO)"),ue(),We(36,"input",38,0),ue(),ae(38,"div")(39,"label",37),we(40,"Estatus Refacci\xF3n"),ue(),ae(41,"select",39,1)(43,"option",40),we(44,"N/A (Solo Mano de Obra)"),ue(),ae(45,"option",41),we(46,"En Stock"),ue(),ae(47,"option",42),we(48,"Pedida a Planta"),ue(),ae(49,"option",43),we(50,"En Tr\xE1nsito"),ue()()()(),ae(51,"div",44),We(52,"input",45,2),ae(54,"button",46),Ft("click",function(){let i=cn(n).$implicit,s=$o(53);return kt().addNote(i.id,s.value),un(s.value="")}),We(55,"i",47),ue()(),ae(56,"div",48)(57,"button",49),Ft("click",function(){let i=cn(n).$implicit,s=$o(37),o=$o(42),a=kt();return un(a.saveLogistics(i.id,s.value,o.value))}),we(58," Guardar Cambios "),ue(),ae(59,"button",50),Ft("click",function(){let i=cn(n).$implicit,s=kt();return un(s.closeTicket(i.id))}),we(60," Liberar "),ue()()()()()}if(e&2){let n=t.$implicit;Me(4),dn(" ",n.economico.slice(-3)," "),Me(3),yn(n.economico),Me(2),yn(Wo(10,10,n.fechaIngreso,"medium")),Me(3),_r("px-3 py-1 rounded text-xs font-bold uppercase "+(n.prioridad==="Alta"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-600")),Me(),dn(" ",n.prioridad," "),Me(2),dn(" ",n.estatus," "),Me(6),dn(" ",n.falla," "),Me(5),Gi(n.seguimiento),Me(10),Qn("value",n.ordenCompra||""),Me(5),Qn("value",n.estatusRefaccion||"N/A")}}function Eoe(e,t){e&1&&(ae(0,"div",18)(1,"div",52),We(2,"i",53),ue(),ae(3,"h3",54),we(4,"Todo limpio"),ue(),ae(5,"p",55),we(6,"No hay unidades pendientes en taller."),ue()())}var f7=(()=>{class e{constructor(){this.dataService=Pt(ps),this.openFailures=this.dataService.forkliftFailures,this.pendingParts=vn(()=>this.dataService.forkliftFailures().filter(n=>n.estatusRefaccion==="Pedida").length),this.criticalCount=vn(()=>this.dataService.forkliftFailures().filter(n=>n.prioridad==="Alta"&&n.estatus!=="Cerrada").length)}saveLogistics(n,r,i){this.dataService.updateToyotaLogistics(n,r,i)}addNote(n,r){r&&this.dataService.addFailureUpdate(n,r,"Toyota Tech")}closeTicket(n){confirm("\xBFConfirmar liberaci\xF3n de equipo?")&&this.dataService.closeLiveFailure(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ui({type:e,selectors:[["app-service-panel"]],decls:26,vars:4,consts:[["po",""],["status",""],["note",""],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-orange-600","text-white","p-6","rounded-xl","shadow-lg","relative","overflow-hidden"],[1,"fas","fa-wrench","absolute","-right-4","-bottom-4","text-8xl","text-orange-700","opacity-50"],[1,"text-xs","uppercase","font-bold","text-orange-100"],[1,"text-4xl","font-black","mt-2"],[1,"bg-white","p-6","rounded-xl","border","border-slate-200","shadow-sm","flex","flex-col","justify-center"],[1,"text-xs","uppercase","font-bold","text-slate-400"],[1,"text-3xl","font-black","text-slate-700","mt-1"],[1,"text-3xl","font-black","text-red-500","mt-1"],[1,"bg-white","rounded-xl","shadow-sm","border","border-slate-200","overflow-hidden","min-h-[500px]"],[1,"p-4","border-b","border-slate-100","bg-slate-50","flex","justify-between","items-center"],[1,"font-bold","text-slate-700","uppercase","tracking-wide","text-sm"],[1,"divide-y","divide-slate-100"],[1,"p-6","hover:bg-slate-50","transition-colors"],[1,"py-20","text-center"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","mb-4","gap-4"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","rounded-lg","bg-slate-900","text-white","flex","items-center","justify-center","font-black","text-lg"],[1,"font-black","text-xl","text-slate-800"],[1,"text-xs","text-slate-500"],[1,"flex","gap-2"],[1,"px-3","py-1","rounded","text-xs","font-bold","uppercase","bg-blue-100","text-blue-700"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-1"],[1,"text-xs","font-bold","text-slate-400","uppercase","mb-2"],[1,"bg-slate-50","p-3","rounded-lg","border","border-slate-200","text-sm","text-slate-700","font-medium"],[1,"mt-4"],[1,"space-y-2","max-h-32","overflow-y-auto","custom-scroll","text-xs"],[1,"p-2","rounded","bg-slate-50","border","border-slate-100"],[1,"lg:col-span-2","bg-slate-50","rounded-xl","p-5","border","border-slate-200"],[1,"font-bold","text-slate-700","mb-4","flex","items-center","gap-2"],[1,"fas","fa-box-open"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],[1,"text-xs","font-bold","text-slate-400","uppercase"],["type","text",1,"w-full","mt-1","p-2","rounded","border","border-slate-300","text-sm","focus:ring-2","focus:ring-orange-500",3,"value"],[1,"w-full","mt-1","p-2","rounded","border","border-slate-300","text-sm","bg-white",3,"value"],["value","N/A"],["value","En Stock"],["value","Pedida"],["value","Por Recibir"],[1,"flex","gap-2","mt-4"],["type","text","placeholder","Agregar nota t\xE9cnica...",1,"flex-1","p-2","rounded","border","border-slate-300","text-sm"],[1,"px-4","py-2","bg-slate-200","text-slate-700","font-bold","rounded","text-xs","hover:bg-slate-300","transition",3,"click"],[1,"fas","fa-comment"],[1,"flex","gap-3","mt-4","pt-4","border-t","border-slate-200"],[1,"flex-1","py-2","bg-slate-800","text-white","rounded","font-bold","text-xs","uppercase","hover:bg-slate-900","transition",3,"click"],[1,"px-6","py-2","bg-green-600","text-white","rounded","font-bold","text-xs","uppercase","hover:bg-green-700","transition",3,"click"],[1,"font-bold","text-orange-600"],[1,"inline-flex","items-center","justify-center","w-20","h-20","rounded-full","bg-slate-100","text-slate-300","mb-4"],[1,"fas","fa-check","text-4xl"],[1,"font-bold","text-slate-600"],[1,"text-slate-400","text-sm"]],template:function(r,i){r&1&&(ae(0,"div",3)(1,"div",4)(2,"div",5),We(3,"i",6),ae(4,"p",7),we(5,"Unidades en Taller"),ue(),ae(6,"p",8),we(7),ue()(),ae(8,"div",9)(9,"p",10),we(10,"Refacciones Pendientes"),ue(),ae(11,"p",11),we(12),ue()(),ae(13,"div",9)(14,"p",10),we(15,"Prioridad Alta"),ue(),ae(16,"p",12),we(17),ue()()(),ae(18,"div",13)(19,"div",14)(20,"h3",15),we(21,"\xD3rdenes de Trabajo Activas"),ue()(),ae(22,"div",16),Wi(23,woe,61,13,"div",17,voe,!1,Eoe,7,0,"div",18),ue()()()),r&2&&(Me(7),yn(i.openFailures().length),Me(5),yn(i.pendingParts()),Me(5),yn(i.criticalCount()),Me(6),Gi(i.openFailures()))},dependencies:[Zr,Za,ta,Gd,Kd],encapsulation:2})}}return e})();var xoe=(e,t)=>t.id,Soe=(e,t)=>t.name;function Coe(e,t){e&1&&(ae(0,"span",19),We(1,"span",27)(2,"span",28),ue())}function Toe(e,t){e&1&&We(0,"span",20)}function Ioe(e,t){e&1&&(ae(0,"div",26)(1,"div",29),We(2,"i",30),ue(),ae(3,"span",31),we(4,"En Reparaci\xF3n"),ue()())}function Aoe(e,t){if(e&1){let n=xr();ae(0,"button",17),Ft("click",function(){let i=cn(n).$implicit,s=kt(2);return un(s.selectAsset(i.id))}),ae(1,"div",18),Un(2,Coe,3,0,"span",19)(3,Toe,1,0,"span",20),ue(),ae(4,"div",21),We(5,"i",22),ue(),ae(6,"div",23)(7,"span",24),we(8),ue(),ae(9,"span",25),we(10),ue()(),Un(11,Ioe,5,0,"div",26),ue()}if(e&2){let n=t.$implicit;Me(2),Vn(n.status.name==="Taller"?2:3),Me(6),yn(n.id),Me(2),yn(n.model),Me(),Vn(n.status.name!=="Operativo"?11:-1)}}function koe(e,t){if(e&1&&(ae(0,"div",12)(1,"h3",14),we(2,"1. Selecciona la unidad a reportar"),ue(),ae(3,"div",15),Wi(4,Aoe,12,4,"button",16,xoe),ue()()),e&2){let n=kt();Me(4),Gi(n.assets())}}function Doe(e,t){if(e&1){let n=xr();ae(0,"button",50),Ft("click",function(){let i=cn(n).$implicit,s=kt(2);return un(s.category.set(i.name))}),We(1,"i"),ae(2,"span",51),we(3),ue()()}if(e&2){let n=t.$implicit,r=kt(2);_r(r.getCategoryClass(n.name)),Me(),_r("fas "+n.icon+" text-2xl mb-1"),Me(2),yn(n.name)}}function Moe(e,t){if(e&1){let n=xr();ae(0,"div",13)(1,"div",32)(2,"div",33),We(3,"i",34),ue(),ae(4,"h3",35),we(5),ue(),ae(6,"span",36),we(7," Reportando Falla "),ue(),ae(8,"div",37)(9,"button",38),Ft("click",function(){cn(n);let i=kt();return un(i.step.set(1))}),We(10,"i",39),we(11," Cambiar Unidad "),ue()()(),ae(12,"div",40)(13,"div",41)(14,"label",42)(15,"span",43),we(16,"1"),ue(),we(17," Selecciona el Sistema Afectado "),ue(),ae(18,"div",44),Wi(19,Doe,4,5,"button",45,Soe),ue()(),ae(21,"div",46)(22,"label",42)(23,"span",43),we(24,"2"),ue(),we(25," Detalles Adicionales (Opcional) "),ue(),ae(26,"textarea",47),Ws("ngModelChange",function(i){cn(n);let s=kt();return po(s.notes,i)||(s.notes=i),un(i)}),ue()(),ae(27,"button",48),Ft("click",function(){cn(n);let i=kt();return un(i.submitReport())}),ae(28,"span"),we(29,"ENVIAR REPORTE"),ue(),We(30,"i",49),ue()()()}if(e&2){let n=kt();Me(5),yn(n.selectedId()),Me(14),Gi(n.categories),Me(7),$s("ngModel",n.notes),Me(),Qn("disabled",!n.category())}}var h7=(()=>{class e{constructor(){this.dataService=Pt(ps),this.assets=this.dataService.assets,this.step=rn(1),this.selectedId=rn(""),this.category=rn(""),this.notes="",this.categories=[{name:"Llantas",icon:"fa-truck-monster"},{name:"Frenos",icon:"fa-ban"},{name:"Motor",icon:"fa-cogs"},{name:"Hidr\xE1ulico",icon:"fa-oil-can"},{name:"El\xE9ctrico",icon:"fa-bolt"},{name:"Da\xF1o F\xEDsico",icon:"fa-car-crash"}]}selectAsset(n){this.dataService.getAsset(n)?.status.name!=="Taller"&&(this.selectedId.set(n),this.step.set(2))}submitReport(){if(!this.category())return;let n=`[${this.category()}] ${this.notes||"Sin detalles adicionales."}`;this.dataService.addLiveFailure({economico:this.selectedId(),falla:n,prioridad:this.category()==="Frenos"?"Alta":"Media",reporta:"Operador M\xF3vil",estatus:"Abierta"}),alert("Reporte enviado exitosamente. Toyota ha sido notificado."),this.step.set(1),this.category.set(""),this.notes="",this.selectedId.set("")}getCategoryClass(n){return this.category()===n?"bg-gradient-to-br from-[#ce1126] to-[#a30d1d] border-transparent text-white shadow-lg shadow-red-900/30 scale-105 z-10":"bg-white border-slate-200 text-slate-500 hover:border-red-200 hover:bg-red-50 hover:text-red-600"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ui({type:e,selectors:[["app-solicitor-panel"]],decls:19,vars:7,consts:[[1,"w-full","h-full","bg-slate-50","flex","flex-col","overflow-hidden"],[1,"bg-[#ce1126]","text-white","px-6","py-3","shadow-md","flex","justify-between","items-center","shrink-0","z-20"],[1,"flex","items-center","gap-3"],[1,"w-8","h-8","bg-white/20","rounded-lg","flex","items-center","justify-center"],[1,"fas","fa-mobile-alt","text-sm"],[1,"text-base","font-black","uppercase","tracking-widest","leading-none"],[1,"text-[10px]","text-red-100","opacity-90"],[1,"flex","items-center","gap-3","bg-black/10","px-3","py-1","rounded-full"],[1,"text-[10px]","font-bold","opacity-80","uppercase","tracking-wide"],[1,"flex","gap-1.5"],[1,"w-2","h-2","rounded-full","transition-colors","duration-300"],[1,"flex-1","overflow-hidden","relative"],[1,"h-full","overflow-y-auto","custom-scroll","p-4","md:p-6","bg-slate-100/50"],[1,"h-full","flex","flex-col","md:flex-row","animate-fade-in","divide-y","md:divide-y-0","md:divide-x","divide-slate-200"],[1,"text-sm","font-bold","text-slate-500","uppercase","tracking-wide","mb-4","pl-1"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-4"],[1,"group","relative","bg-white","rounded-xl","shadow-sm","border-2","border-transparent","hover:border-red-500","focus:border-red-500","transition-all","p-4","flex","flex-col","items-center","justify-between","h-36","md:h-40","hover:shadow-md"],[1,"group","relative","bg-white","rounded-xl","shadow-sm","border-2","border-transparent","hover:border-red-500","focus:border-red-500","transition-all","p-4","flex","flex-col","items-center","justify-between","h-36","md:h-40","hover:shadow-md",3,"click"],[1,"absolute","top-3","right-3","flex","gap-1"],[1,"flex","h-2.5","w-2.5"],["title","Operativo",1,"w-2.5","h-2.5","rounded-full","bg-emerald-500","shadow-sm"],[1,"mt-2","text-slate-200","group-hover:text-red-50","transition-colors","duration-300"],[1,"fas","fa-truck-loading","text-5xl"],[1,"text-center","z-10","w-full"],[1,"block","text-xl","md:text-2xl","font-black","text-slate-800","tracking-tighter","group-hover:scale-110","transition-transform"],[1,"block","text-[10px]","text-slate-500","font-mono","mt-1","border-t","border-slate-100","pt-1","mx-4"],[1,"absolute","inset-0","bg-slate-50/90","backdrop-blur-[1px]","rounded-[10px]","flex","flex-col","items-center","justify-center","z-20","cursor-not-allowed","border-2","border-slate-100"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-red-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2.5","w-2.5","bg-red-500"],[1,"bg-white","p-2","rounded-full","shadow-sm","mb-2"],[1,"fas","fa-lock","text-slate-400","text-lg"],[1,"text-[10px]","font-bold","text-slate-500","uppercase","tracking-wide"],[1,"md:w-1/3","lg:w-1/4","bg-white","p-6","flex","flex-col","justify-center","items-center","text-center","shrink-0","shadow-[4px_0_24px_rgba(0,0,0,0.02)]","z-10"],[1,"w-24","h-24","rounded-full","bg-slate-50","border","border-slate-100","shadow-inner","flex","items-center","justify-center","mb-6"],[1,"fas","fa-truck-moving","text-4xl","text-slate-700"],[1,"text-4xl","font-black","text-slate-800","tracking-tight"],[1,"inline-block","mt-2","px-3","py-1","rounded-full","bg-red-50","text-red-600","text-[10px]","font-bold","uppercase","tracking-widest","border","border-red-100"],[1,"mt-auto","w-full","pt-8"],[1,"w-full","px-6","py-3","rounded-xl","border","border-slate-200","text-slate-500","text-xs","font-bold","hover:bg-slate-50","hover:text-slate-800","transition","flex","items-center","justify-center","gap-2","group",3,"click"],[1,"fas","fa-arrow-left","group-hover:-translate-x-1","transition-transform"],[1,"flex-1","bg-[#f8fafc]","p-6","md:p-8","overflow-y-auto","custom-scroll","flex","flex-col","h-full"],[1,"mb-6","shrink-0"],[1,"flex","items-center","gap-2","text-xs","font-bold","text-slate-400","uppercase","mb-3","px-1"],[1,"w-5","h-5","rounded-full","bg-slate-200","text-slate-500","flex","items-center","justify-center","text-[10px]"],[1,"grid","grid-cols-2","sm:grid-cols-3","lg:grid-cols-6","gap-3"],[1,"p-2","rounded-xl","border","transition-all","duration-200","flex","flex-col","items-center","justify-center","gap-2","h-24","hover:shadow-lg",3,"class"],[1,"mb-6","flex-1","min-h-[120px]","flex","flex-col"],["placeholder","Ej: Ruidos extra\xF1os al elevar la carga...",1,"w-full","flex-1","p-4","bg-white","border","border-slate-200","rounded-xl","focus:ring-2","focus:ring-[#ce1126]/20","focus:border-[#ce1126]","outline-none","resize-none","text-sm","transition-shadow","shadow-sm","placeholder:text-slate-300",3,"ngModelChange","ngModel"],[1,"w-full","py-4","bg-gradient-to-r","from-[#ce1126]","to-[#a30d1d]","hover:from-[#a30d1d]","hover:to-[#8a0b18]","disabled:from-slate-300","disabled:to-slate-300","disabled:text-slate-500","text-white","rounded-xl","font-bold","text-lg","shadow-xl","shadow-red-900/20","hover:shadow-red-900/40","transition-all","flex","items-center","justify-center","gap-3","transform","hover:-translate-y-0.5","active:translate-y-0","disabled:transform-none",3,"click","disabled"],[1,"fas","fa-paper-plane"],[1,"p-2","rounded-xl","border","transition-all","duration-200","flex","flex-col","items-center","justify-center","gap-2","h-24","hover:shadow-lg",3,"click"],[1,"text-[10px]","font-bold","uppercase","leading-tight","text-center"]],template:function(r,i){r&1&&(ae(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),We(4,"i",4),ue(),ae(5,"div")(6,"h2",5),we(7,"Reporte R\xE1pido"),ue(),ae(8,"p",6),we(9,"Terminal Operador"),ue()()(),ae(10,"div",7)(11,"span",8),we(12),ue(),ae(13,"div",9),We(14,"div",10)(15,"div",10),ue()()(),ae(16,"div",11),Un(17,koe,6,0,"div",12)(18,Moe,31,3,"div",13),ue()()),r&2&&(Me(12),dn("Paso ",i.step()," de 2"),Me(2),_r(i.step()>=1?"bg-white":"bg-white/30"),Me(),_r(i.step()>=2?"bg-white":"bg-white/30"),Me(2),Vn(i.step()===1?17:-1),Me(),Vn(i.step()===2?18:-1))},dependencies:[Zr,ta,rc,Wd,fu],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}"]})}}return e})();function Noe(e,t){if(e&1&&(ae(0,"div",11),We(1,"i",26),we(2),ue()),e&2){let n=kt();Me(2),dn(" ",n.authService.error()," ")}}function Roe(e,t){if(e&1){let n=xr();ae(0,"div")(1,"label",13),we(2,"Nombre Completo"),ue(),ae(3,"div",14),We(4,"i",27),ae(5,"input",28),Ws("ngModelChange",function(i){cn(n);let s=kt();return po(s.displayName,i)||(s.displayName=i),un(i)}),ue()()()}if(e&2){let n=kt();Me(5),$s("ngModel",n.displayName)}}function Poe(e,t){e&1&&(We(0,"i",29),we(1," Procesando... "))}function Ooe(e,t){if(e&1&&(We(0,"i"),we(1)),e&2){let n=kt();_r(n.isLoginMode()?"fas fa-sign-in-alt":"fas fa-user-plus"),Me(),dn(" ",n.isLoginMode()?"Iniciar Sesi\xF3n":"Crear Cuenta"," ")}}var p7=(()=>{class e{constructor(){this.authService=Pt(sy),this.email="",this.password="",this.displayName="",this.isLoginMode=rn(!0),this.showPassword=rn(!1),this.isSubmitting=rn(!1)}async onSubmit(){if(!(!this.email||!this.password)){if(this.isSubmitting.set(!0),this.isLoginMode())await this.authService.login(this.email,this.password);else{if(!this.displayName){this.isSubmitting.set(!1);return}await this.authService.register(this.email,this.password,this.displayName)}this.isSubmitting.set(!1)}}async loginDemo(){this.isSubmitting.set(!0),await this.authService.login("demo@assetguard.com","demo123456"),this.isSubmitting.set(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ui({type:e,selectors:[["app-login"]],decls:44,vars:14,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-900","via-slate-800","to-red-900","flex","items-center","justify-center","p-4"],[1,"absolute","inset-0","opacity-10","bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)]","bg-[size:40px_40px]"],[1,"relative","w-full","max-w-md"],[1,"text-center","mb-8"],[1,"inline-flex","items-center","justify-center","w-20","h-20","bg-red-600","rounded-2xl","mb-4","shadow-2xl","shadow-red-600/30"],[1,"fas","fa-shield-alt","text-4xl","text-white"],[1,"text-3xl","font-black","text-white","tracking-tight"],[1,"text-slate-400","mt-1"],[1,"bg-white/10","backdrop-blur-xl","rounded-3xl","p-8","shadow-2xl","border","border-white/20"],[1,"flex","gap-2","mb-6"],[3,"click"],[1,"mb-4","p-3","bg-red-500/20","border","border-red-500/50","rounded-xl","flex","items-center","gap-2","text-red-300","text-sm"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-slate-300","mb-1.5"],[1,"relative"],[1,"fas","fa-envelope","absolute","left-4","top-1/2","-translate-y-1/2","text-slate-400"],["type","email","name","email","placeholder","tu@email.com","required","","autocomplete","email",1,"w-full","pl-11","pr-4","py-3","bg-white/10","border","border-white/20","rounded-xl","text-white","placeholder-slate-500","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent","transition-all",3,"ngModelChange","ngModel"],[1,"fas","fa-lock","absolute","left-4","top-1/2","-translate-y-1/2","text-slate-400"],["name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","minlength","6","autocomplete","current-password",1,"w-full","pl-11","pr-12","py-3","bg-white/10","border","border-white/20","rounded-xl","text-white","placeholder-slate-500","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent","transition-all",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","right-4","top-1/2","-translate-y-1/2","text-slate-400","hover:text-white","transition-colors",3,"click"],["type","submit",1,"w-full","py-3.5","bg-gradient-to-r","from-red-600","to-red-500","hover:from-red-500","hover:to-red-400","text-white","font-bold","rounded-xl","shadow-lg","shadow-red-600/30","transition-all","duration-300","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","justify-center","gap-2",3,"disabled"],[1,"mt-6","pt-6","border-t","border-white/10"],[1,"text-center","text-slate-400","text-sm","mb-3"],[1,"w-full","py-2.5","bg-slate-700/50","hover:bg-slate-700","text-slate-300","hover:text-white","font-medium","rounded-xl","transition-all","flex","items-center","justify-center","gap-2",3,"click","disabled"],[1,"fas","fa-play-circle"],[1,"text-center","text-slate-500","text-xs","mt-6"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-user","absolute","left-4","top-1/2","-translate-y-1/2","text-slate-400"],["type","text","name","displayName","placeholder","Tu nombre",1,"w-full","pl-11","pr-4","py-3","bg-white/10","border","border-white/20","rounded-xl","text-white","placeholder-slate-500","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent","transition-all",3,"ngModelChange","ngModel"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(r,i){r&1&&(ae(0,"div",0),We(1,"div",1),ae(2,"div",2)(3,"div",3)(4,"div",4),We(5,"i",5),ue(),ae(6,"h1",6),we(7,"ASSET GUARD"),ue(),ae(8,"p",7),we(9,"Sistema de Gesti\xF3n de Activos"),ue()(),ae(10,"div",8)(11,"div",9)(12,"button",10),Ft("click",function(){return i.isLoginMode.set(!0)}),we(13," Iniciar Sesi\xF3n "),ue(),ae(14,"button",10),Ft("click",function(){return i.isLoginMode.set(!1)}),we(15," Registrarse "),ue()(),Un(16,Noe,3,1,"div",11),ae(17,"form",12),Ft("ngSubmit",function(){return i.onSubmit()}),Un(18,Roe,6,1,"div"),ae(19,"div")(20,"label",13),we(21,"Correo Electr\xF3nico"),ue(),ae(22,"div",14),We(23,"i",15),ae(24,"input",16),Ws("ngModelChange",function(o){return po(i.email,o)||(i.email=o),o}),ue()()(),ae(25,"div")(26,"label",13),we(27,"Contrase\xF1a"),ue(),ae(28,"div",14),We(29,"i",17),ae(30,"input",18),Ws("ngModelChange",function(o){return po(i.password,o)||(i.password=o),o}),ue(),ae(31,"button",19),Ft("click",function(){return i.showPassword.set(!i.showPassword())}),We(32,"i"),ue()()(),ae(33,"button",20),Un(34,Poe,2,0)(35,Ooe,2,3),ue()(),ae(36,"div",21)(37,"p",22),we(38,"\xBFSolo quieres probar?"),ue(),ae(39,"button",23),Ft("click",function(){return i.loginDemo()}),We(40,"i",24),we(41," Acceso Demo "),ue()()(),ae(42,"p",25),we(43," \xA9 2024 Asset Guard Corporate Edition. Todos los derechos reservados. "),ue()()()),r&2&&(Me(12),_r(i.isLoginMode()?"flex-1 py-2.5 rounded-xl font-semibold text-white bg-red-600 shadow-lg":"flex-1 py-2.5 rounded-xl font-semibold text-slate-400 hover:text-white transition-colors"),Me(2),_r(i.isLoginMode()?"flex-1 py-2.5 rounded-xl font-semibold text-slate-400 hover:text-white transition-colors":"flex-1 py-2.5 rounded-xl font-semibold text-white bg-red-600 shadow-lg"),Me(2),Vn(i.authService.error()?16:-1),Me(2),Vn(i.isLoginMode()?-1:18),Me(6),$s("ngModel",i.email),Me(6),Qn("type",i.showPassword()?"text":"password"),$s("ngModel",i.password),Me(2),_r(i.showPassword()?"fas fa-eye-slash":"fas fa-eye"),Me(),Qn("disabled",i.isSubmitting()),Me(),Vn(i.isSubmitting()?34:35),Me(5),Qn("disabled",i.isSubmitting()))},dependencies:[Zr,ta,uN,rc,Wd,iN,zx,qx,fu,Hx],encapsulation:2})}}return e})();function Loe(e,t){e&1&&(ae(0,"span",42),We(1,"span",74)(2,"span",75),ue())}function Foe(e,t){e&1&&We(0,"app-dashboard")}function Boe(e,t){e&1&&We(0,"app-service-panel")}function Uoe(e,t){e&1&&We(0,"app-asset-list")}function Voe(e,t){e&1&&We(0,"app-solicitor-panel")}function joe(e,t){e&1&&We(0,"app-admin")}function Hoe(e,t){e&1&&(ae(0,"div",55)(1,"div",76),We(2,"i",77)(3,"i",78),ue(),ae(4,"p",79),we(5,"Analizando flota en tiempo real..."),ue()())}function zoe(e,t){if(e&1&&We(0,"div",56),e&2){let n=kt(2);Qn("innerHTML",n.aiInsights(),zc)}}function qoe(e,t){e&1&&(ae(0,"div",57)(1,"div",80),We(2,"i",81),ue(),ae(3,"div")(4,"h4",82),we(5,"\xBFC\xF3mo puedo ayudarte?"),ue(),ae(6,"p",83),we(7," Utilizo los datos actuales de fallas, costos y disponibilidad para generarte reportes al instante. "),ue()()())}function $oe(e,t){if(e&1&&(ae(0,"div",73)(1,"div",84),We(2,"app-asset-detail",85),ue()()),e&2){let n=kt(2);Me(2),Qn("assetId",n.selectedAssetId())}}function Woe(e,t){if(e&1){let n=xr();ae(0,"div",1)(1,"aside",2)(2,"div")(3,"div",3),We(4,"i",4),ae(5,"span",5),we(6,"ASSET GUARD"),ue()(),ae(7,"nav",6)(8,"button",7),Ft("click",function(){cn(n);let i=kt();return un(i.setView("dashboard"))}),We(9,"i",8),ae(10,"span",9),we(11,"Resumen Ejecutivo"),ue(),ae(12,"div",10),we(13,"Resumen"),ue()(),ae(14,"button",7),Ft("click",function(){cn(n);let i=kt();return un(i.setView("service"))}),We(15,"i",11),ae(16,"span",9),we(17,"Taller & Fallas"),ue(),ae(18,"div",10),we(19,"Taller"),ue()(),ae(20,"button",7),Ft("click",function(){cn(n);let i=kt();return un(i.setView("assets"))}),We(21,"i",12),ae(22,"span",9),we(23,"Inventario Flota"),ue(),ae(24,"div",10),we(25,"Flota"),ue()(),ae(26,"button",7),Ft("click",function(){cn(n);let i=kt();return un(i.setView("solicitor"))}),We(27,"i",13),ae(28,"span",9),we(29,"App Operador"),ue()()()(),ae(30,"div",14)(31,"button",15),Ft("click",function(){cn(n);let i=kt();return un(i.setView("settings"))}),We(32,"i",16),ae(33,"span",17),we(34,"Configuraci\xF3n"),ue()(),ae(35,"div",18)(36,"p",19),we(37,"Planta Cuautitl\xE1n"),ue(),ae(38,"div",20),we(39,"v2.1.0 Enterprise"),ue()()()(),ae(40,"div",21)(41,"header",22)(42,"div",23)(43,"div",24)(44,"h2",25),we(45),ue(),ae(46,"div",26)(47,"div",27),We(48,"span",28)(49,"span",29),ue(),ae(50,"span",30),we(51),ue(),ae(52,"div",31),we(53," Estado de conexi\xF3n con Firebase Realtime DB "),ue()()()(),ae(54,"div",32)(55,"div",33)(56,"div")(57,"p",34),we(58),ue(),ae(59,"span",35),we(60,"Supervisor Operaciones"),ue()(),ae(61,"div",36),Ft("click",function(){cn(n);let i=kt();return un(i.logout())}),We(62,"i",37),ue()(),We(63,"div",38),ae(64,"button",39),Ft("click",function(){cn(n);let i=kt();return un(i.toggleAiPanel())}),We(65,"i",40),ae(66,"span",41),we(67,"Asistente"),ue(),Un(68,Loe,3,0,"span",42),ue()()(),ae(69,"main",43)(70,"div",44),Un(71,Foe,1,0,"app-dashboard")(72,Boe,1,0,"app-service-panel")(73,Uoe,1,0,"app-asset-list")(74,Voe,1,0,"app-solicitor-panel")(75,joe,1,0,"app-admin"),ue()(),ae(76,"div",45)(77,"div",46)(78,"div",47)(79,"div",48),We(80,"i",49),ue(),ae(81,"div")(82,"h3",50),we(83,"Gemini Assistant"),ue(),ae(84,"p",51),we(85,"AssetGuard Intelligence"),ue()()(),ae(86,"button",52),Ft("click",function(){cn(n);let i=kt();return un(i.toggleAiPanel())}),We(87,"i",53),ue()(),ae(88,"div",54),Un(89,Hoe,6,0,"div",55)(90,zoe,1,1,"div",56)(91,qoe,8,0,"div",57),ue(),ae(92,"div",58)(93,"p",59),we(94,"Acciones Sugeridas"),ue(),ae(95,"button",60),Ft("click",function(){cn(n);let i=kt();return un(i.generateExecutiveSummary())}),ae(96,"div",61),We(97,"i",62),ue(),ae(98,"div")(99,"span",63),we(100,"Resumen Ejecutivo del D\xEDa"),ue(),ae(101,"span",64),we(102,"Estado general y cumplimiento"),ue()()(),ae(103,"button",65),Ft("click",function(){cn(n);let i=kt();return un(i.generateExecutiveSummary())}),ae(104,"div",66),We(105,"i",67),ue(),ae(106,"div")(107,"span",63),we(108,"Explicar Riesgos Operativos"),ue(),ae(109,"span",68),we(110,"Causas de baja disponibilidad"),ue()()(),ae(111,"button",69),Ft("click",function(){cn(n);let i=kt();return un(i.generateExecutiveSummary())}),ae(112,"div",70),We(113,"i",71),ue(),ae(114,"div")(115,"span",63),we(116,"Sugerir Acciones de Mejora"),ue(),ae(117,"span",72),we(118,"Optimizaci\xF3n de flota"),ue()()()()(),Un(119,$oe,3,1,"div",73),ue()()}if(e&2){let n,r,i=kt();br("dark",i.plantMode()),Me(8),br("border-[#ce1126]",i.currentView()==="dashboard")("bg-slate-800",i.currentView()==="dashboard")("text-white",i.currentView()==="dashboard")("border-transparent",i.currentView()!=="dashboard")("hover:bg-slate-800",i.currentView()!=="dashboard"),Me(),br("text-[#ce1126]",i.currentView()==="dashboard"),Me(5),br("border-orange-500",i.currentView()==="service")("bg-slate-800",i.currentView()==="service")("text-white",i.currentView()==="service")("border-transparent",i.currentView()!=="service")("hover:bg-slate-800",i.currentView()!=="service"),Me(),br("text-orange-500",i.currentView()==="service"),Me(5),br("border-blue-500",i.currentView()==="assets")("bg-slate-800",i.currentView()==="assets")("text-white",i.currentView()==="assets")("border-transparent",i.currentView()!=="assets")("hover:bg-slate-800",i.currentView()!=="assets"),Me(),br("text-blue-500",i.currentView()==="assets"),Me(5),br("border-slate-500",i.currentView()==="solicitor")("bg-slate-800",i.currentView()==="solicitor")("text-white",i.currentView()==="solicitor")("border-transparent",i.currentView()!=="solicitor")("hover:bg-slate-800",i.currentView()!=="solicitor"),Me(),br("text-slate-400",i.currentView()==="solicitor"),Me(18),yn(i.viewTitle),Me(3),br("bg-green-500",i.connectionStatus()==="online")("bg-amber-500",i.connectionStatus()==="syncing")("bg-red-500",i.connectionStatus()==="offline"),Me(),br("bg-green-500",i.connectionStatus()==="online")("bg-amber-500",i.connectionStatus()==="syncing")("bg-red-500",i.connectionStatus()==="offline"),Me(2),dn(" ",i.syncText()," "),Me(7),yn(((n=i.currentUser())==null?null:n.displayName)||"Usuario"),Me(10),Vn(i.aiLoading()?68:-1),Me(3),Vn((r=i.currentView())==="dashboard"?71:r==="service"?72:r==="assets"?73:r==="solicitor"?74:r==="settings"?75:-1),Me(5),br("translate-x-full",!i.showAiPanel())("translate-x-0",i.showAiPanel()),Me(13),Vn(i.aiLoading()?89:i.aiInsights()?90:91),Me(30),Vn(i.selectedAssetId()?119:-1)}}function Goe(e,t){e&1&&We(0,"app-login")}var m7=(()=>{class e{constructor(){this.dataService=Pt(ps),this.geminiService=Pt(Vd),this.authService=Pt(sy),this.sanitizer=Pt(Kc),this.isAuthenticated=this.authService.isAuthenticated,this.isAuthLoading=this.authService.isLoading,this.currentUser=this.authService.currentUser,this.currentView=rn("dashboard"),this.selectedAssetId=rn(null),this.showAiPanel=rn(!1),this.connectionStatus=this.dataService.connectionStatus,this.lastUpdate=this.dataService.lastUpdate,this.plantMode=this.dataService.plantMode,this.failures=this.dataService.forkliftFailures,this.aiInsights=rn(null),this.aiLoading=rn(!1),this.previousFailureCount=0,this.syncText=vn(()=>this.connectionStatus()==="online"?"Conectado (Firebase RTDB)":this.connectionStatus()==="syncing"?"Sincronizando...":"Modo Offline (Solo Lectura)"),$c(()=>{let n=this.failures();if(n.length>this.previousFailureCount){let r=n[0];r.estatus==="Abierta"&&this.previousFailureCount>0&&this.playAlert(r.prioridad==="Alta")}this.previousFailureCount=n.length}),window.addEventListener("asset-selected",n=>this.selectedAssetId.set(n.detail)),window.addEventListener("asset-closed",()=>this.selectedAssetId.set(null))}setView(n){this.currentView.set(n),this.selectedAssetId.set(null),n==="dashboard"&&!this.plantMode()&&this.dataService.togglePlantMode(),n!=="dashboard"&&this.plantMode()&&this.dataService.togglePlantMode()}toggleAiPanel(){this.showAiPanel.update(n=>!n),this.showAiPanel()&&this.aiInsights()}async generateExecutiveSummary(){this.aiLoading.set(!0);let n=this.dataService.kpiData(),r=this.dataService.fleetAvailability(),i=this.failures().filter(o=>o.estatus!=="Cerrada"),s=await this.geminiService.generateExecutiveReport(n,i,r);this.aiInsights.set(this.sanitizer.bypassSecurityTrustHtml(s)),this.aiLoading.set(!1)}playAlert(n){new Audio(n?"https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3":"https://assets.mixkit.co/active_storage/sfx/2345/2345-preview.mp3").play().catch(()=>{})}async logout(){await this.authService.logout()}get viewTitle(){switch(this.currentView()){case"dashboard":return"Centro de Monitoreo (NOC)";case"assets":return"Inventario de Flota";case"service":return"Gesti\xF3n T\xE9cnica Toyota";case"solicitor":return"App Operador";case"settings":return"Configuraci\xF3n";default:return"AssetGuard"}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ui({type:e,selectors:[["app-root"]],decls:2,vars:1,consts:[[1,"flex","h-screen","bg-slate-50","dark:bg-[#0f172a]","font-sans","overflow-hidden","transition-colors","duration-500",3,"dark"],[1,"flex","h-screen","bg-slate-50","dark:bg-[#0f172a]","font-sans","overflow-hidden","transition-colors","duration-500"],[1,"w-20","lg:w-64","bg-slate-900","text-slate-300","flex","flex-col","justify-between","shrink-0","z-30","transition-all","duration-300","shadow-xl"],[1,"h-16","flex","items-center","justify-center","lg:justify-start","lg:px-6","border-b","border-slate-800","bg-slate-950"],[1,"fas","fa-network-wired","text-[#ce1126]","text-xl","shadow-lg","shadow-red-900/50","rounded-full"],[1,"ml-3","font-black","text-white","italic","text-lg","hidden","lg:block","tracking-tighter"],[1,"p-2","lg:p-4","space-y-1","mt-2"],[1,"w-full","flex","items-center","p-3","rounded-lg","transition-all","group","relative","border-l-4",3,"click"],[1,"fas","fa-chart-pie","w-6","text-center"],[1,"ml-3","text-sm","font-bold","hidden","lg:block"],[1,"lg:hidden","absolute","left-14","bg-slate-900","text-white","text-xs","px-2","py-1","rounded","shadow-lg","opacity-0","group-hover:opacity-100","transition-opacity","z-50","whitespace-nowrap","border","border-slate-700"],[1,"fas","fa-wrench","w-6","text-center"],[1,"fas","fa-truck-moving","w-6","text-center"],[1,"fas","fa-mobile-alt","w-6","text-center"],[1,"p-2","lg:p-4","border-t","border-slate-800","bg-slate-950"],[1,"w-full","flex","items-center","p-3","rounded-xl","hover:bg-slate-800","transition-colors","text-slate-400","hover:text-white",3,"click"],[1,"fas","fa-cog","w-6","text-center"],[1,"ml-3","text-xs","font-bold","uppercase","hidden","lg:block"],[1,"mt-4","text-center","lg:text-left","lg:px-3"],[1,"text-[10px]","text-slate-500","uppercase","font-bold","tracking-widest","hidden","lg:block"],[1,"text-[10px]","text-slate-600","truncate","mt-1"],[1,"flex-1","flex","flex-col","h-full","overflow-hidden","relative"],[1,"h-16","bg-white","dark:bg-[#1e293b]","border-b","border-slate-200","dark:border-slate-700","flex","items-center","justify-between","px-6","shrink-0","z-20","transition-colors","shadow-sm"],[1,"flex","items-center","gap-4"],[1,"flex","flex-col"],[1,"text-sm","font-bold","text-slate-800","dark:text-white","leading-tight"],[1,"flex","items-center","gap-2","mt-0.5","group","cursor-help"],[1,"relative","flex","h-2","w-2"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2"],[1,"text-[10px]","font-bold","text-slate-400","uppercase","tracking-wide","group-hover:text-slate-600","transition-colors"],[1,"hidden","group-hover:block","absolute","top-10","bg-slate-800","text-white","text-[10px]","p-2","rounded","shadow-lg","whitespace-nowrap","z-50"],[1,"flex","items-center","gap-6"],[1,"flex","items-center","gap-3","text-right","hidden","sm:flex"],[1,"text-xs","font-bold","text-slate-700","dark:text-white"],[1,"inline-block","bg-slate-100","dark:bg-slate-700","text-slate-500","dark:text-slate-300","px-1.5","py-0.5","rounded","text-[9px]","font-bold","uppercase","tracking-wider"],[1,"w-8","h-8","rounded-full","bg-slate-200","dark:bg-slate-600","flex","items-center","justify-center","text-slate-500","dark:text-slate-300","border","border-slate-300","dark:border-slate-500","cursor-pointer",3,"click"],[1,"fas","fa-sign-out-alt","text-xs"],[1,"h-8","w-px","bg-slate-200","dark:bg-slate-700"],["title","Asistente IA",1,"group","relative","flex","items-center","gap-2","px-3","py-1.5","text-slate-500","hover:text-[#ce1126]","transition-colors","rounded-lg","hover:bg-red-50","dark:hover:bg-slate-800",3,"click"],[1,"fas","fa-sparkles","text-lg","group-hover:rotate-12","transition-transform"],[1,"text-xs","font-bold","hidden","md:inline"],[1,"absolute","top-1","right-1","flex","h-2","w-2"],[1,"flex-1","overflow-y-auto","custom-scroll","p-6","relative","bg-[#f8fafc]","dark:bg-[#0f172a]"],[1,"fade-enter","max-w-7xl","mx-auto","h-full","pb-20"],[1,"fixed","inset-y-0","right-0","w-[400px]","bg-white","dark:bg-[#1e293b]","shadow-2xl","transform","transition-transform","duration-300","z-50","border-l","border-slate-200","dark:border-slate-700","flex","flex-col"],[1,"p-6","border-b","border-slate-100","dark:border-slate-700","flex","justify-between","items-center","bg-gradient-to-r","from-slate-900","to-slate-800","text-white"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-gradient-to-br","from-[#ce1126]","to-red-600","flex","items-center","justify-center","shadow-lg","shadow-red-900/50"],[1,"fas","fa-robot","text-lg"],[1,"font-bold","text-lg","leading-tight"],[1,"text-[10px]","text-slate-300","opacity-80","uppercase","tracking-widest"],[1,"text-white/60","hover:text-white","transition",3,"click"],[1,"fas","fa-times","text-xl"],[1,"flex-1","overflow-y-auto","p-6","custom-scroll","bg-slate-50","dark:bg-slate-900/50"],[1,"flex","flex-col","items-center","justify-center","py-10","space-y-4","text-slate-400","h-full"],[1,"prose","prose-sm","prose-slate","dark:prose-invert","max-w-none","bg-white","dark:bg-slate-800","p-5","rounded-xl","shadow-sm","border","border-slate-200","dark:border-slate-700",3,"innerHTML"],[1,"flex","flex-col","items-center","justify-center","h-full","text-center","py-10","opacity-60","space-y-6"],[1,"p-4","border-t","border-slate-100","dark:border-slate-700","bg-white","dark:bg-slate-800","space-y-2.5","shadow-[0_-5px_15px_rgba(0,0,0,0.05)]"],[1,"text-[10px]","font-bold","text-slate-400","uppercase","tracking-wider","mb-2"],[1,"w-full","flex","items-center","p-3","bg-slate-50","dark:bg-slate-700","hover:bg-[#ce1126]","hover:text-white","dark:hover:bg-[#ce1126]","rounded-lg","border","border-slate-200","dark:border-slate-600","hover:border-transparent","transition-all","group","text-left",3,"click"],[1,"w-8","h-8","rounded","bg-white","dark:bg-slate-600","text-slate-600","dark:text-slate-300","flex","items-center","justify-center","mr-3","group-hover:text-[#ce1126]","shadow-sm"],[1,"fas","fa-file-alt"],[1,"block","text-xs","font-bold","text-slate-700","dark:text-white","group-hover:text-white"],[1,"block","text-[10px]","text-slate-400","group-hover:text-red-100"],[1,"w-full","flex","items-center","p-3","bg-slate-50","dark:bg-slate-700","hover:bg-amber-500","hover:text-white","rounded-lg","border","border-slate-200","dark:border-slate-600","hover:border-transparent","transition-all","group","text-left",3,"click"],[1,"w-8","h-8","rounded","bg-white","dark:bg-slate-600","text-slate-600","dark:text-slate-300","flex","items-center","justify-center","mr-3","group-hover:text-amber-500","shadow-sm"],[1,"fas","fa-exclamation-triangle"],[1,"block","text-[10px]","text-slate-400","group-hover:text-amber-100"],[1,"w-full","flex","items-center","p-3","bg-slate-50","dark:bg-slate-700","hover:bg-emerald-600","hover:text-white","rounded-lg","border","border-slate-200","dark:border-slate-600","hover:border-transparent","transition-all","group","text-left",3,"click"],[1,"w-8","h-8","rounded","bg-white","dark:bg-slate-600","text-slate-600","dark:text-slate-300","flex","items-center","justify-center","mr-3","group-hover:text-emerald-600","shadow-sm"],[1,"fas","fa-check-double"],[1,"block","text-[10px]","text-slate-400","group-hover:text-emerald-100"],[1,"fixed","inset-0","z-[60]","bg-slate-900/60","backdrop-blur-sm","flex","items-center","justify-center","p-4","fade-enter"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-red-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2","bg-red-500"],[1,"relative"],[1,"fas","fa-circle-notch","fa-spin","text-4xl","text-[#ce1126]"],[1,"fas","fa-brain","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","text-xs","text-[#ce1126]"],[1,"text-xs","uppercase","font-bold","tracking-widest","animate-pulse","text-center"],[1,"w-20","h-20","bg-slate-100","dark:bg-slate-800","rounded-full","flex","items-center","justify-center"],[1,"fas","fa-lightbulb","text-4xl","text-slate-400","dark:text-slate-500"],[1,"font-bold","text-slate-700","dark:text-slate-300","text-lg"],[1,"text-xs","text-slate-500","mt-2","max-w-[240px]","mx-auto","leading-relaxed"],[1,"w-full","max-w-5xl","max-h-[90vh]","overflow-y-auto","rounded-2xl","shadow-2xl","border","border-white/10"],[3,"assetId"]],template:function(r,i){r&1&&Un(0,Woe,120,73,"div",0)(1,Goe,1,0,"app-login"),r&2&&Vn(i.isAuthenticated()?0:1)},dependencies:[Zr,UM,VM,l7,d7,f7,h7,p7],styles:[".fade-enter[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}"]})}}return e})();var xn=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(xn||{}),Ao="*";function g7(e,t=null){return{type:xn.Sequence,steps:e,options:t}}function aC(e){return{type:xn.Style,styles:e,offset:null}}var gl=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,n=0){this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},mf=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let n=t*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let t=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},um="!";function y7(e){return new dt(3e3,!1)}function Koe(){return new dt(3100,!1)}function Yoe(){return new dt(3101,!1)}function Zoe(e){return new dt(3001,!1)}function Joe(e){return new dt(3003,!1)}function Xoe(e){return new dt(3004,!1)}function b7(e,t){return new dt(3005,!1)}function _7(){return new dt(3006,!1)}function w7(){return new dt(3007,!1)}function E7(e,t){return new dt(3008,!1)}function x7(e){return new dt(3002,!1)}function S7(e,t,n,r,i){return new dt(3010,!1)}function C7(){return new dt(3011,!1)}function T7(){return new dt(3012,!1)}function I7(){return new dt(3200,!1)}function A7(){return new dt(3202,!1)}function k7(){return new dt(3013,!1)}function D7(e){return new dt(3014,!1)}function M7(e){return new dt(3015,!1)}function N7(e){return new dt(3016,!1)}function R7(e,t){return new dt(3404,!1)}function Qoe(e){return new dt(3502,!1)}function P7(e){return new dt(3503,!1)}function O7(){return new dt(3300,!1)}function L7(e){return new dt(3504,!1)}function F7(e){return new dt(3301,!1)}function B7(e,t){return new dt(3302,!1)}function U7(e){return new dt(3303,!1)}function V7(e,t){return new dt(3400,!1)}function j7(e){return new dt(3401,!1)}function H7(e){return new dt(3402,!1)}function z7(e,t){return new dt(3505,!1)}function yl(e){switch(e.length){case 0:return new gl;case 1:return e[0];default:return new mf(e)}}function dC(e,t,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if(f!=="offset")switch(p=e.normalizePropertyName(p,i),m){case um:m=n.get(f);break;case Ao:m=r.get(f);break;default:m=e.normalizeStyleValue(f,p,m,i);break}d.set(p,m)}),u||s.push(d),a=d,o=c}),i.length)throw Qoe(i);return s}function tv(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&lC(n,"start",e)));break;case"done":e.onDone(()=>r(n&&lC(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&lC(n,"destroy",e)));break}}function lC(e,t,n){let r=n.totalTime,i=!!n.disabled,s=nv(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,r??e.totalTime,i),o=e._data;return o!=null&&(s._data=o),s}function nv(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ys(e,t,n){let r=e.get(t);return r||e.set(t,r=n),r}function fC(e){let t=e.indexOf(":"),n=e.substring(1,t),r=e.slice(t+1);return[n,r]}var eae=typeof document>"u"?null:document.documentElement;function rv(e){let t=e.parentNode||e.host||null;return t===eae?null:t}function tae(e){return e.substring(1,6)=="ebkit"}var Cu=null,v7=!1;function q7(e){Cu||(Cu=nae()||{},v7=Cu.style?"WebkitAppearance"in Cu.style:!1);let t=!0;return Cu.style&&!tae(e)&&(t=e in Cu.style,!t&&v7&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Cu.style)),t}function nae(){return typeof document<"u"?document.body:null}function hC(e,t){for(;t;){if(t===e)return!0;t=rv(t)}return!1}function pC(e,t,n){if(n)return Array.from(e.querySelectorAll(t));let r=e.querySelector(t);return r?[r]:[]}var rae=1e3,mC="{{",iae="}}",gC="ng-enter",iv="ng-leave",dm="ng-trigger",fm=".ng-trigger",yC="ng-animating",sv=".ng-animating";function ca(e){if(typeof e=="number")return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:cC(parseFloat(t[1]),t[2])}function cC(e,t){switch(t){case"s":return e*rae;default:return e}}function hm(e,t,n){return e.hasOwnProperty("duration")?e:sae(e,t,n)}function sae(e,t,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof e=="string"){let a=e.match(r);if(a===null)return t.push(y7(e)),{duration:0,delay:0,easing:""};i=cC(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=cC(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=e;if(!n){let a=!1,l=t.length;i<0&&(t.push(Koe()),a=!0),s<0&&(t.push(Yoe()),a=!0),a&&t.splice(l,0,y7(e))}return{duration:i,delay:s,easing:o}}function $7(e){return e.length?e[0]instanceof Map?e:e.map(t=>new Map(Object.entries(t))):[]}function ko(e,t,n){t.forEach((r,i)=>{let s=ov(i);n&&!n.has(i)&&n.set(i,e.style[s]),e.style[s]=r})}function fc(e,t){t.forEach((n,r)=>{let i=ov(r);e.style[i]=""})}function gf(e){return Array.isArray(e)?e.length==1?e[0]:g7(e):e}function W7(e,t,n){let r=t.params||{},i=vC(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(Zoe(s))})}var uC=new RegExp(`${mC}\\s*(.+?)\\s*${iae}`,"g");function vC(e){let t=[];if(typeof e=="string"){let n;for(;n=uC.exec(e);)t.push(n[1]);uC.lastIndex=0}return t}function yf(e,t,n){let r=`${e}`,i=r.replace(uC,(s,o)=>{let a=t[o];return a==null&&(n.push(Joe(o)),a=""),a.toString()});return i==r?e:i}var oae=/-+([a-z0-9])/g;function ov(e){return e.replace(oae,(...t)=>t[1].toUpperCase())}function G7(e,t){return e===0||t===0}function K7(e,t,n){if(n.size&&t.length){let r=t[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<t.length;s++){let o=t[s];i.forEach(a=>o.set(a,av(e,a)))}}return t}function vs(e,t,n){switch(t.type){case xn.Trigger:return e.visitTrigger(t,n);case xn.State:return e.visitState(t,n);case xn.Transition:return e.visitTransition(t,n);case xn.Sequence:return e.visitSequence(t,n);case xn.Group:return e.visitGroup(t,n);case xn.Animate:return e.visitAnimate(t,n);case xn.Keyframes:return e.visitKeyframes(t,n);case xn.Style:return e.visitStyle(t,n);case xn.Reference:return e.visitReference(t,n);case xn.AnimateChild:return e.visitAnimateChild(t,n);case xn.AnimateRef:return e.visitAnimateRef(t,n);case xn.Query:return e.visitQuery(t,n);case xn.Stagger:return e.visitStagger(t,n);default:throw Xoe(t.type)}}function av(e,t){return window.getComputedStyle(e)[t]}var OC=(()=>{class e{validateStyleProperty(n){return q7(n)}containsElement(n,r){return hC(n,r)}getParentElement(n){return rv(n)}query(n,r,i){return pC(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],l){return new gl(i,s)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})(),Iu=class{static NOOP=new OC},Au=class{};var aae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),fv=class extends Au{normalizePropertyName(t,n){return ov(t)}normalizeStyleValue(t,n,r,i){let s="",o=r.toString().trim();if(aae.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(b7(t,r))}return o+s}};var hv="*";function lae(e,t){let n=[];return typeof e=="string"?e.split(/\s*,\s*/).forEach(r=>cae(r,n,t)):n.push(e),n}function cae(e,t,n){if(e[0]==":"){let l=uae(e,n);if(typeof l=="function"){t.push(l);return}e=l}let r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(M7(e)),t;let i=r[1],s=r[2],o=r[3];t.push(Y7(i,o));let a=i==hv&&o==hv;s[0]=="<"&&!a&&t.push(Y7(o,i))}function uae(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return t.push(N7(e)),"* => *"}}var lv=new Set(["true","1"]),cv=new Set(["false","0"]);function Y7(e,t){let n=lv.has(e)||cv.has(e),r=lv.has(t)||cv.has(t);return(i,s)=>{let o=e==hv||e==i,a=t==hv||t==s;return!o&&n&&typeof i=="boolean"&&(o=i?lv.has(e):cv.has(e)),!a&&r&&typeof s=="boolean"&&(a=s?lv.has(t):cv.has(t)),o&&a}}var s9=":self",dae=new RegExp(`s*${s9}s*,?`,"g");function o9(e,t,n,r){return new SC(e).build(t,n,r)}var Z7="",SC=class{_driver;constructor(t){this._driver=t}build(t,n,r){let i=new CC(n);return this._resetContextStyleTimingState(i),vs(this,gf(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=Z7,t.collectedStyles=new Map,t.collectedStyles.set(Z7,new Map),t.currentTime=0}visitTrigger(t,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&n.errors.push(_7()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==xn.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==xn.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(w7())}),{type:xn.Trigger,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,n){let r=this.visitStyle(t.styles,n),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{vC(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(E7(t.name,[...s.values()]))}return{type:xn.State,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;let r=vs(this,gf(t.animation),n),i=lae(t.expr,n.errors);return{type:xn.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Tu(t.options)}}visitSequence(t,n){return{type:xn.Sequence,steps:t.steps.map(r=>vs(this,r,n)),options:Tu(t.options)}}visitGroup(t,n){let r=n.currentTime,i=0,s=t.steps.map(o=>{n.currentTime=r;let a=vs(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:xn.Group,steps:s,options:Tu(t.options)}}visitAnimate(t,n){let r=mae(t.timings,n.errors);n.currentAnimateTimings=r;let i,s=t.styles?t.styles:aC({});if(s.type==xn.Keyframes)i=this.visitKeyframes(s,n);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=aC(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:xn.Animate,timings:r,style:i,options:null}}visitStyle(t,n){let r=this._makeStyleAst(t,n);return this._validateStyleAst(r,n),r}_makeStyleAst(t,n){let r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===Ao?r.push(a):n.errors.push(x7(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(mC)>=0){s=!0;break}}}),{type:xn.Style,styles:r,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(S7(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&W7(a,n.options,n.errors)})})}visitKeyframes(t,n){let r={type:xn.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(C7()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(v=>{let x=this._makeStyleAst(v,n),I=x.offset!=null?x.offset:pae(x.styles),R=0;return I!=null&&(s++,R=x.offset=I),l=l||R<0||R>1,a=a||R<c,c=R,o.push(R),x});l&&n.errors.push(T7()),a&&n.errors.push(I7());let d=t.steps.length,h=0;s>0&&s<d?n.errors.push(A7()):s==0&&(h=i/(d-1));let f=d-1,p=n.currentTime,m=n.currentAnimateTimings,g=m.duration;return u.forEach((v,x)=>{let I=h>0?x==f?1:h*x:o[x],R=I*g;n.currentTime=p+m.delay+R,m.duration=R,this._validateStyleAst(v,n),v.offset=I,r.styles.push(v)}),r}visitReference(t,n){return{type:xn.Reference,animation:vs(this,gf(t.animation),n),options:Tu(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:xn.AnimateChild,options:Tu(t.options)}}visitAnimateRef(t,n){return{type:xn.AnimateRef,animation:this.visitReference(t.animation,n),options:Tu(t.options)}}visitQuery(t,n){let r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;let[s,o]=fae(t.selector);n.currentQuerySelector=r.length?r+" "+s:s,ys(n.collectedStyles,n.currentQuerySelector,new Map);let a=vs(this,gf(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:xn.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Tu(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(k7());let r=t.timings==="full"?{duration:0,delay:0,easing:"full"}:hm(t.timings,n.errors,!0);return{type:xn.Stagger,animation:vs(this,gf(t.animation),n),timings:r,options:null}}};function fae(e){let t=!!e.split(/\s*,\s*/).find(n=>n==s9);return t&&(e=e.replace(dae,"")),e=e.replace(/@\*/g,fm).replace(/@\w+/g,n=>fm+"-"+n.slice(1)).replace(/:animating/g,sv),[e,t]}function hae(e){return e?ct({},e):null}var CC=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function pae(e){if(typeof e=="string")return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}function mae(e,t){if(e.hasOwnProperty("duration"))return e;if(typeof e=="number"){let s=hm(e,t).duration;return bC(s,0,"")}let n=e;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=bC(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=hm(n,t);return bC(i.duration,i.delay,i.easing)}function Tu(e){return e?(e=ct({},e),e.params&&(e.params=hae(e.params))):e={},e}function bC(e,t,n){return{duration:e,delay:t,easing:n}}function LC(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var mm=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,n){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}},gae=1,yae=":enter",vae=new RegExp(yae,"g"),bae=":leave",_ae=new RegExp(bae,"g");function a9(e,t,n,r,i,s=new Map,o=new Map,a,l,c=[]){return new TC().buildKeyframes(e,t,n,r,i,s,o,a,l,c)}var TC=class{buildKeyframes(t,n,r,i,s,o,a,l,c,u=[]){c=c||new mm;let d=new IC(t,n,c,i,s,u,[]);d.options=l;let h=l.delay?ca(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),vs(this,r,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){let g=f[m];if(g.element===n){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[LC(n,[],[],[],0,h,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(t.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=t}visitAnimateRef(t,n){let r=n.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,r),this.visitReference(t.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,r){for(let i of t){let s=i?.delay;if(s){let o=typeof s=="number"?s:ca(yf(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(t,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?ca(r.duration):null,a=r.delay!=null?ca(r.delay):null;return o!==0&&t.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),vs(this,t.animation,n),n.previousNode=t}visitSequence(t,n){let r=n.subContextCount,i=n,s=t.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==xn.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pv);let o=ca(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>vs(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){let r=[],i=n.currentTimeline.currentTime,s=t.options&&t.options.delay?ca(t.options.delay):0;t.steps.forEach(o=>{let a=n.createSubContext(t.options);s&&a.delayNextStep(s),vs(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){let r=t.strValue,i=n.params?yf(r,n.params,n.errors):r;return hm(i,n.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){let r=n.currentAnimateTimings=this._visitTiming(t.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=t.style;s.type==xn.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=t}visitQuery(t,n){let r=n.currentTimeline.currentTime,i=t.options||{},s=i.delay?ca(i.delay):0;s&&(n.previousNode.type===xn.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=pv);let o=r,a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(t.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),vs(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){let r=n.parentContext,i=n.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;vs(this,t.animation,n),n.previousNode=t,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},pv={},IC=class e{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=pv;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,n,r,i,s,o,a,l){this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new mv(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;let r=t,i=this.options;r.duration!=null&&(i.duration=ca(r.duration)),r.delay!=null&&(i.delay=ca(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=yf(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let n=this.options.params;if(n){let r=t.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return t}createSubContext(t=null,n,r){let i=n||this.element,s=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=pv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,r){let i={duration:n??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new AC(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,r,i,s,o){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(vae,"."+this._enterClassName),t=t.replace(_ae,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,t,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(D7(n)),a}},mv=class e{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,n,r,i){this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=gae,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Ao),this._currentKeyframe.set(n,Ao);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=wae(t,this._globalTimelineStyles);for(let[a,l]of o){let c=yf(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ao),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===um?t.add(d):u===Ao&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...t.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return LC(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},AC=class extends mv{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,n,r,i,s,o,a=!1){super(t,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",J7(a)),s.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let h=new Map(t[d]),f=h.get("offset"),p=n+f*r;h.set("offset",J7(p/o)),s.push(h)}r=o,n=0,i="",t=s}return LC(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function J7(e,t=3){let n=Math.pow(10,t-1);return Math.round(e*n)/n}function wae(e,t){let n=new Map,r;return e.forEach(i=>{if(i==="*"){r??=t.keys();for(let s of r)n.set(s,Ao)}else for(let[s,o]of i)n.set(s,o)}),n}function X7(e,t,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var _C={},gv=class{_triggerName;ast;_stateStyles;constructor(t,n,r){this._triggerName=t,this.ast=n,this._stateStyles=r}match(t,n,r,i){return Eae(this.ast.matchers,t,n,r,i)}buildStyles(t,n,r){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(n,r):new Map}build(t,n,r,i,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||_C,f=a&&a.params||_C,p=this.buildStyles(r,f,d),m=l&&l.params||_C,g=this.buildStyles(i,m,d),v=new Set,x=new Map,I=new Map,R=i==="void",$={params:l9(m,h),delay:this.ast.options?.delay},F=u?[]:a9(t,n,this.ast.animation,s,o,p,g,$,c,d),V=0;return F.forEach(U=>{V=Math.max(U.duration+U.delay,V)}),d.length?X7(n,this._triggerName,r,i,R,p,g,[],[],x,I,V,d):(F.forEach(U=>{let q=U.element,j=ys(x,q,new Set);U.preStyleProps.forEach(T=>j.add(T));let S=ys(I,q,new Set);U.postStyleProps.forEach(T=>S.add(T)),q!==n&&v.add(q)}),X7(n,this._triggerName,r,i,R,p,g,F,[...v.values()],x,I,V))}};function Eae(e,t,n,r,i){return e.some(s=>s(t,n,r,i))}function l9(e,t){let n=ct({},t);return Object.entries(e).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var kC=class{styles;defaultParams;normalizer;constructor(t,n,r){this.styles=t,this.defaultParams=n,this.normalizer=r}buildStyles(t,n){let r=new Map,i=l9(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=yf(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function xae(e,t,n){return new DC(e,t,n)}var DC=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,n,r){this.name=t,this.ast=n,this._normalizer=r,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new kC(i.style,s,r))}),Q7(this.states,"true","1"),Q7(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new gv(t,i,this.states))}),this.fallbackTransition=Sae(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,r,i){return this.transitionFactories.find(o=>o.match(t,n,r,i))||null}matchStyles(t,n,r){return this.fallbackTransition.buildStyles(t,n,r)}};function Sae(e,t,n){let r=[(o,a)=>!0],i={type:xn.Sequence,steps:[],options:null},s={type:xn.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new gv(e,s,t)}function Q7(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}var Cae=new mm,MC=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r}register(t,n){let r=[],i=[],s=o9(this._driver,n,r,i);if(r.length)throw P7(r);this._animations.set(t,s)}_buildPlayer(t,n,r){let i=t.element,s=dC(this._normalizer,t.keyframes,n,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,r={}){let i=[],s=this._animations.get(t),o,a=new Map;if(s?(o=a9(this._driver,n,s,gC,iv,new Map,new Map,r,Cae,i),o.forEach(u=>{let d=ys(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(O7()),o=[]),i.length)throw L7(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Ao))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=yl(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(t){let n=this._playersById.get(t);if(!n)throw F7(t);return n}listen(t,n,r,i){let s=nv(n,"","","");return tv(this._getPlayer(t),r,s,i),()=>{}}command(t,n,r,i){if(r=="register"){this.register(t,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(t,n,o);return}let s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},e9="ng-animate-queued",Tae=".ng-animate-queued",wC="ng-animate-disabled",Iae=".ng-animate-disabled",Aae="ng-star-inserted",kae=".ng-star-inserted",Dae=[],c9={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Do="__ng_removed",gm=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;let r=t&&t.hasOwnProperty("value"),i=r?t.value:t;if(this.value=Rae(i),r){let s=t,{value:o}=s,a=Fu(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let n=t.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},pm="void",EC=new gm(pm),NC=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,n,r){this.id=t,this.hostElement=n,this._engine=r,this._hostClassName="ng-tns-"+t,to(n,this._hostClassName)}listen(t,n,r,i){if(!this._triggers.has(n))throw B7(r,n);if(r==null||r.length==0)throw U7(n);if(!Pae(r))throw V7(r,n);let s=ys(this._elementListeners,t,[]),o={name:n,phase:r,callback:i};s.push(o);let a=ys(this._engine.statesByElement,t,new Map);return a.has(n)||(to(t,dm),to(t,dm+"-"+n),a.set(n,EC)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return this._triggers.has(t)?!1:(this._triggers.set(t,n),!0)}_getTrigger(t){let n=this._triggers.get(t);if(!n)throw j7(t);return n}trigger(t,n,r,i=!0){let s=this._getTrigger(n),o=new ym(this.id,n,t),a=this._engine.statesByElement.get(t);a||(to(t,dm),to(t,dm+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n),c=new gm(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=EC),!(c.value===pm)&&l.value===c.value){if(!Fae(l.params,c.params)){let m=[],g=s.matchStyles(l.value,l.params,m),v=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{fc(t,g),ko(t,v)})}return}let h=ys(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(to(t,e9),o.onStart(()=>{vf(t,e9)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let g=this._engine.playersByElement.get(t);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let n=this._engine.playersByElement.get(t);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){let r=this._engine.driver.query(t,fm,!0);r.forEach(i=>{if(i[Do])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,n,r,i){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,pm,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,o),r&&yl(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||EC,u=new gm(pm),d=new ym(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,n){let r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,n);else{let s=t[Do];(!s||s===c9)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,n))}}insertNode(t,n){to(t,this._hostClassName)}drainQueuedTransitions(t){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=nv(s,r.triggerName,r.fromState.value,r.toState.value);l._data=t,tv(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},RC=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,n)=>{};_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,r){this.bodyNode=t,this.driver=n,this._normalizer=r}get queuedPlayers(){let t=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,n){let r=new NC(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(t)}else r.push(t);return i.set(n,t),t}register(t,n){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,n)),r}registerTrigger(t,n,r){let i=this._namespaceLookup[t];i&&i.register(n,r)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let n=new Set,r=this.statesByElement.get(t);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(t,n,r,i){if(uv(n)){let s=this._fetchNamespace(t);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(t,n,r,i){if(!uv(n))return;let s=n[Do];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),to(t,wC)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vf(t,wC))}removeNode(t,n,r){if(uv(n)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,r,i,s){this.collectedLeaveElements.push(n),n[Do]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,r,i,s){return uv(n)?this._fetchNamespace(t).listen(n,r,i,s):()=>{}}_buildInstruction(t,n,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,fm,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(t,sv,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){let n=this.playersByElement.get(t);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){let n=this.playersByQueriedElement.get(t);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return yl(this.players).onDone(()=>t());t()})}processLeaveNode(t){let n=t[Do];if(n&&n.setForRemoval){if(t[Do]=c9,n.namespaceId){this.destroyInnerAnimations(t);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(wC)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Iae,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];to(i,Aae)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?yl(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw H7(t)}_flushAnimations(t,n){let r=new mm,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(w=>{u.add(w);let _=this.driver.query(w,Tae,!0);for(let E=0;E<_.length;E++)u.add(_[E])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=r9(h,this.collectedEnterElements),p=new Map,m=0;f.forEach((w,_)=>{let E=gC+m++;p.set(_,E),w.forEach(C=>to(C,E))});let g=[],v=new Set,x=new Set;for(let w=0;w<this.collectedLeaveElements.length;w++){let _=this.collectedLeaveElements[w],E=_[Do];E&&E.setForRemoval&&(g.push(_),v.add(_),E.hasAnimation?this.driver.query(_,kae,!0).forEach(C=>v.add(C)):x.add(_))}let I=new Map,R=r9(h,Array.from(v));R.forEach((w,_)=>{let E=iv+m++;I.set(_,E),w.forEach(C=>to(C,E))}),t.push(()=>{f.forEach((w,_)=>{let E=p.get(_);w.forEach(C=>vf(C,E))}),R.forEach((w,_)=>{let E=I.get(_);w.forEach(C=>vf(C,E))}),g.forEach(w=>{this.processLeaveNode(w)})});let $=[],F=[];for(let w=this._namespaceList.length-1;w>=0;w--)this._namespaceList[w].drainQueuedTransitions(n).forEach(E=>{let C=E.player,L=E.element;if($.push(C),this.collectedEnterElements.length){let k=L[Do];if(k&&k.setForMove){if(k.previousTriggersValues&&k.previousTriggersValues.has(E.triggerName)){let z=k.previousTriggersValues.get(E.triggerName),J=this.statesByElement.get(E.element);if(J&&J.has(E.triggerName)){let Q=J.get(E.triggerName);Q.value=z,J.set(E.triggerName,Q)}}C.destroy();return}}let W=!d||!this.driver.containsElement(d,L),B=I.get(L),G=p.get(L),M=this._buildInstruction(E,r,G,B,W);if(M.errors&&M.errors.length){F.push(M);return}if(W){C.onStart(()=>fc(L,M.fromStyles)),C.onDestroy(()=>ko(L,M.toStyles)),i.push(C);return}if(E.isFallbackTransition){C.onStart(()=>fc(L,M.fromStyles)),C.onDestroy(()=>ko(L,M.toStyles)),i.push(C);return}let K=[];M.timelines.forEach(k=>{k.stretchStartingKeyframe=!0,this.disabledNodes.has(k.element)||K.push(k)}),M.timelines=K,r.append(L,M.timelines);let D={instruction:M,player:C,element:L};o.push(D),M.queriedElements.forEach(k=>ys(a,k,[]).push(C)),M.preStyleProps.forEach((k,z)=>{if(k.size){let J=l.get(z);J||l.set(z,J=new Set),k.forEach((Q,ee)=>J.add(ee))}}),M.postStyleProps.forEach((k,z)=>{let J=c.get(z);J||c.set(z,J=new Set),k.forEach((Q,ee)=>J.add(ee))})});if(F.length){let w=[];F.forEach(_=>{w.push(z7(_.triggerName,_.errors))}),$.forEach(_=>_.destroy()),this.reportError(w)}let V=new Map,U=new Map;o.forEach(w=>{let _=w.element;r.has(_)&&(U.set(_,_),this._beforeAnimationBuild(w.player.namespaceId,w.instruction,V))}),i.forEach(w=>{let _=w.element;this._getPreviousPlayers(_,!1,w.namespaceId,w.triggerName,null).forEach(C=>{ys(V,_,[]).push(C),C.destroy()})});let q=g.filter(w=>i9(w,l,c)),j=new Map;n9(j,this.driver,x,c,Ao).forEach(w=>{i9(w,l,c)&&q.push(w)});let T=new Map;f.forEach((w,_)=>{n9(T,this.driver,new Set(w),l,um)}),q.forEach(w=>{let _=j.get(w),E=T.get(w);j.set(w,new Map([..._?.entries()??[],...E?.entries()??[]]))});let O=[],y=[],b={};o.forEach(w=>{let{element:_,player:E,instruction:C}=w;if(r.has(_)){if(u.has(_)){E.onDestroy(()=>ko(_,C.toStyles)),E.disabled=!0,E.overrideTotalTime(C.totalTime),i.push(E);return}let L=b;if(U.size>1){let B=_,G=[];for(;B=B.parentNode;){let M=U.get(B);if(M){L=M;break}G.push(B)}G.forEach(M=>U.set(M,L))}let W=this._buildAnimation(E.namespaceId,C,V,s,T,j);if(E.setRealPlayer(W),L===b)O.push(E);else{let B=this.playersByElement.get(L);B&&B.length&&(E.parentPlayer=yl(B)),i.push(E)}}else fc(_,C.fromStyles),E.onDestroy(()=>ko(_,C.toStyles)),y.push(E),u.has(_)&&i.push(E)}),y.forEach(w=>{let _=s.get(w.element);if(_&&_.length){let E=yl(_);w.setRealPlayer(E)}}),i.forEach(w=>{w.parentPlayer?w.syncPlayerEvents(w.parentPlayer):w.destroy()});for(let w=0;w<g.length;w++){let _=g[w],E=_[Do];if(vf(_,iv),E&&E.hasAnimation)continue;let C=[];if(a.size){let W=a.get(_);W&&W.length&&C.push(...W);let B=this.driver.query(_,sv,!0);for(let G=0;G<B.length;G++){let M=a.get(B[G]);M&&M.length&&C.push(...M)}}let L=C.filter(W=>!W.destroyed);L.length?Oae(this,_,L):this.processLeaveNode(_)}return g.length=0,O.forEach(w=>{this.players.push(w),w.onDone(()=>{w.destroy();let _=this.players.indexOf(w);this.players.splice(_,1)}),w.play()}),O}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==pm;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(t,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==s,d=ys(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}fc(s,n.fromStyles)}_buildAnimation(t,n,r,i,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(p=>{let m=p.element;u.add(m);let g=m[Do];if(g&&g.removedBeforeQueried)return new gl(p.duration,p.delay);let v=m!==l,x=Lae((r.get(m)||Dae).map(V=>V.getRealPlayer())).filter(V=>{let U=V;return U.element?U.element===m:!1}),I=s.get(m),R=o.get(m),$=dC(this._normalizer,p.keyframes,I,R),F=this._buildPlayer(p,$,x);if(p.subTimeline&&i&&d.add(m),v){let V=new ym(t,a,m);V.setRealPlayer(F),c.push(V)}return F});c.forEach(p=>{ys(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>Nae(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>to(p,yC));let f=yl(h);return f.onDestroy(()=>{u.forEach(p=>vf(p,yC)),ko(l,n.toStyles)}),d.forEach(p=>{ys(i,p,[]).push(f)}),f}_buildPlayer(t,n,r){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,r):new gl(t.duration,t.delay)}},ym=class{namespaceId;triggerName;element;_player=new gl;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,n,r){this.namespaceId=t,this.triggerName=n,this.element=r}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>tv(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){ys(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let n=this._player;n.triggerCallback&&n.triggerCallback(t)}};function Nae(e,t,n){let r=e.get(t);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&e.delete(t)}return r}function Rae(e){return e??null}function uv(e){return e&&e.nodeType===1}function Pae(e){return e=="start"||e=="done"}function t9(e,t){let n=e.style.display;return e.style.display=t??"none",n}function n9(e,t,n,r,i){let s=[];n.forEach(l=>s.push(t9(l)));let o=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=t.computeStyle(c,d,i);u.set(d,h),(!h||h.length==0)&&(c[Do]=Mae,o.push(c))}),e.set(c,u)});let a=0;return n.forEach(l=>t9(l,s[a++])),o}function r9(e,t){let n=new Map;if(e.forEach(a=>n.set(a,[])),t.length==0)return n;let r=1,i=new Set(t),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function to(e,t){e.classList?.add(t)}function vf(e,t){e.classList?.remove(t)}function Oae(e,t,n){yl(n).onDone(()=>e.processLeaveNode(t))}function Lae(e){let t=[];return u9(e,t),t}function u9(e,t){for(let n=0;n<e.length;n++){let r=e[n];r instanceof mf?u9(r.players,t):t.push(r)}}function Fae(e,t){let n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}function i9(e,t,n){let r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(s=>i.add(s)):t.set(e,r),n.delete(e),!0}var bf=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,n)=>{};constructor(t,n,r){this._driver=n,this._normalizer=r,this._transitionEngine=new RC(t.body,n,r),this._timelineEngine=new MC(t.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,n,r,i,s){let o=t+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=o9(this._driver,s,l,c);if(l.length)throw R7(i,l);a=xae(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,r,i){this._transitionEngine.insertNode(t,n,r,i)}onRemove(t,n,r){this._transitionEngine.removeNode(t,n,r)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,r,i){if(r.charAt(0)=="@"){let[s,o]=fC(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(t,n,r,i)}listen(t,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=fC(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(t,n,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Bae(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=xC(t[0]),t.length>1&&(r=xC(t[t.length-1]))):t instanceof Map&&(n=xC(t)),n||r?new Uae(e,n,r):null}var Uae=(()=>{class e{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i;let s=e.initialStylesByElement.get(n);s||e.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ko(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ko(this._element,this._initialStyles),this._endStyles&&(ko(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(fc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fc(this._element,this._endStyles),this._endStyles=null),ko(this._element,this._initialStyles),this._state=3)}}return e})();function xC(e){let t=null;return e.forEach((n,r)=>{Vae(r)&&(t=t||new Map,t.set(r,n))}),t}function Vae(e){return e==="display"||e==="position"}var yv=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,n,r,i){this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let n=[];return t.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(t,n,r){return t.animate(this._convertKeyframesToObject(n),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&t.set(i,this._finished?r:av(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let n=t==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},vv=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,n){return hC(t,n)}getParentElement(t){return rv(t)}query(t,n,r){return pC(t,n,r)}computeStyle(t,n,r){return av(t,n)}animate(t,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof yv);G7(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=$7(n).map(f=>new Map(f));d=K7(t,d,c);let h=Bae(t,d);return new yv(t,d,l,h)}};var dv="@",d9="@.disabled",bv=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,n,r,i){this.namespaceId=t,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,r,i=!0){this.delegate.insertBefore(t,n,r),this.engine.onInsert(this.namespaceId,n,t,i)}removeChild(t,n,r){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){n.charAt(0)==dv&&n==d9?this.disableAnimations(t,!!r):this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r,i){return this.delegate.listen(t,n,r,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}},PC=class extends bv{factory;constructor(t,n,r,i,s){super(n,r,i,s),this.factory=t,this.namespaceId=n}setProperty(t,n,r){n.charAt(0)==dv?n.charAt(1)=="."&&n==d9?(r=r===void 0?!0:!!r,this.disableAnimations(t,r)):this.engine.process(this.namespaceId,t,n.slice(1),r):this.delegate.setProperty(t,n,r)}listen(t,n,r,i){if(n.charAt(0)==dv){let s=jae(t),o=n.slice(1),a="";return o.charAt(0)!=dv&&([o,a]=Hae(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,r,l)})}return this.delegate.listen(t,n,r,i)}};function jae(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}function Hae(e){let t=e.indexOf("."),n=e.substring(0,t),r=e.slice(t+1);return[n,r]}var _v=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,n,r){this.delegate=t,this.engine=n,this._zone=r,n.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(t,n){let r="",i=this.delegate.createRenderer(t,n);if(!t||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new bv(r,i,this.engine,d),c.set(i,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return n.data.animation.forEach(a),new PC(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,r){if(t>=0&&t<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var qae=(()=>{class e extends bf{constructor(n,r,i){super(n,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||e)(pn(Mi),pn(Iu),pn(Au))};static \u0275prov=wn({token:e,factory:e.\u0275fac})}return e})();function $ae(){return new fv}function Wae(e,t,n){return new _v(e,t,n)}var f9=[{provide:Au,useFactory:$ae},{provide:bf,useClass:qae},{provide:Fl,useFactory:Wae,deps:[Oh,bf,Gr]}],q_e=[{provide:Iu,useClass:OC},{provide:c2,useValue:"NoopAnimations"},...f9],Gae=[{provide:Iu,useFactory:()=>new vv},{provide:c2,useFactory:()=>"BrowserAnimations"},...f9];function h9(){return ld("NgEagerAnimations"),[...Gae]}X2(m7,{providers:[tw(),h9(),RA()]}).catch(e=>console.error(e));
