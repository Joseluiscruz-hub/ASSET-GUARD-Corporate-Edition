import{a as at,b as Zt,c as ff,d as yu,e as f7,f as h7}from"./chunk-HZ6M6AS2.js";var SN=f7((EN,qx)=>{"use strict";(function(e){typeof EN=="object"&&typeof qx<"u"?qx.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).ExcelJS=e()})(function(){return function e(t,n,r){function i(a,l){if(!n[a]){if(!t[a]){var c=typeof ff=="function"&&ff;if(!l&&c)return c(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(h){return i(t[a][1][h]||h)},d,d.exports,e,t,n,r)}return n[a].exports}for(var s=typeof ff=="function"&&ff,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";let r=e("fs"),i=e("fast-csv"),s=e("dayjs/plugin/customParseFormat"),o=e("dayjs/plugin/utc"),a=e("dayjs").extend(s).extend(o),l=e("../utils/stream-buf"),{fs:{exists:c}}=e("../utils/utils"),u={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};t.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,h){if(h=h||{},!await c(d))throw new Error("File not found: "+d);let f=r.createReadStream(d),p=await this.read(f,h);return f.close(),p}read(d,h){return h=h||{},new Promise((f,p)=>{let g=this.workbook.addWorksheet(h.sheetName),y=h.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],v=h.map||function(k){if(k==="")return null;let M=Number(k);if(!Number.isNaN(M)&&M!==1/0)return M;let z=y.reduce((j,B)=>{if(j)return j;let U=a(k,B,!0);return U.isValid()?U:null},null);if(z)return new Date(z.valueOf());let F=u[k];return F!==void 0?F:k},S=i.parse(h.parserOptions).on("data",k=>{g.addRow(k.map(v))}).on("end",()=>{S.emit("worksheet",g)});S.on("worksheet",f).on("error",p),d.pipe(S)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,h){return new Promise((f,p)=>{h=h||{};let g=this.workbook.getWorksheet(h.sheetName||h.sheetId),y=i.format(h.formatterOptions);d.on("finish",()=>{f()}),y.on("error",p),y.pipe(d);let{dateFormat:v,dateUTC:S}=h,k=h.map||(F=>{if(F){if(F.text||F.hyperlink)return F.hyperlink||F.text||"";if(F.formula||F.result)return F.result||"";if(F instanceof Date)return v?S?a.utc(F).format(v):a(F).format(v):S?a.utc(F).format():a(F).format();if(F.error)return F.error;if(typeof F=="object")return JSON.stringify(F)}return F}),M=h.includeEmptyRows===void 0||h.includeEmptyRows,z=1;g&&g.eachRow((F,j)=>{if(M)for(;z++<j-1;)y.write([]);let{values:B}=F;B.shift(),y.write(B.map(k)),z=j}),y.end()})}writeFile(d,h){let f={encoding:(h=h||{}).encoding||"utf8"},p=r.createWriteStream(d,f);return this.write(p,h)}async writeBuffer(d){let h=new l;return await this.write(h,d),h.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,t,n){"use strict";let r=e("../utils/col-cache");class i{constructor(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=o,a)if(typeof a=="string"){let c=r.decodeAddress(a);this.nativeCol=c.col+l,this.nativeColOff=0,this.nativeRow=c.row+l,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+l,this.row=a.row+l):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(o){return o instanceof i||o==null?o:new i(o)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(o){this.nativeCol=Math.floor(o),this.nativeColOff=Math.floor((o-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(o){this.nativeRow=Math.floor(o),this.nativeRowOff=Math.floor((o-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(o){this.nativeCol=o.nativeCol,this.nativeColOff=o.nativeColOff,this.nativeRow=o.nativeRow,this.nativeRowOff=o.nativeRowOff}}t.exports=i},{"../utils/col-cache":19}],3:[function(e,t,n){"use strict";let r=e("../utils/col-cache"),i=e("../utils/under-dash"),s=e("./enums"),{slideFormula:o}=e("../utils/shared-formula"),a=e("./note");class l{constructor(d,h,f){if(!d||!h)throw new Error("A Cell needs a Row");this._row=d,this._column=h,r.validateAddress(f),this._address=f,this._value=c.create(l.Types.Null,this),this.style=this._mergeStyle(d.style,h.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,h,f){let p=d&&d.numFmt||h&&h.numFmt;p&&(f.numFmt=p);let g=d&&d.font||h&&h.font;g&&(f.font=g);let y=d&&d.alignment||h&&h.alignment;y&&(f.alignment=y);let v=d&&d.border||h&&h.border;v&&(f.border=v);let S=d&&d.fill||h&&h.fill;S&&(f.fill=S);let k=d&&d.protection||h&&h.protection;return k&&(f.protection=k),f}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===l.Types.Merge}merge(d,h){this._value.release(),this._value=c.create(l.Types.Merge,this,d),h||(this.style=d.style)}unmerge(){this.type===l.Types.Merge&&(this._value.release(),this._value=c.create(l.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===l.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===l.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===l.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==l.Types.Merge?(this._value.release(),this._value=c.create(c.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new a(d)}get text(){return this._value.toString()}get html(){return i.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===l.Types.String&&(this._value=c.create(l.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){let{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){let{definedNames:h}=this.workbook;h.removeAllNames(this.fullAddress),d.forEach(f=>{h.addEx(this.fullAddress,f)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){let{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=c.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=a.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}l.Types=s.ValueType;let c={getType:u=>u==null?l.Types.Null:u instanceof String||typeof u=="string"?l.Types.String:typeof u=="number"?l.Types.Number:typeof u=="boolean"?l.Types.Boolean:u instanceof Date?l.Types.Date:u.text&&u.hyperlink?l.Types.Hyperlink:u.formula||u.sharedFormula?l.Types.Formula:u.richText?l.Types.RichText:u.sharedString?l.Types.SharedString:u.error?l.Types.Error:l.Types.JSON,types:[{t:l.Types.Null,f:class{constructor(u){this.model={address:u.address,type:l.Types.Null}}get value(){return null}set value(u){}get type(){return l.Types.Null}get effectiveType(){return l.Types.Null}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return""}release(){}toString(){return""}}},{t:l.Types.Number,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Number,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Number}get effectiveType(){return l.Types.Number}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.String,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.String,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:l.Types.Date,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Date,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Date}get effectiveType(){return l.Types.Date}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Hyperlink,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){let u={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(u.tooltip=this.model.tooltip),u}set value(u){this.model={text:u.text,hyperlink:u.hyperlink},u.tooltip&&(this.model.tooltip=u.tooltip)}get text(){return this.model.text}set text(u){this.model.text=u}get hyperlink(){return this.model.hyperlink}set hyperlink(u){this.model.hyperlink=u}get type(){return l.Types.Hyperlink}get effectiveType(){return l.Types.Hyperlink}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:l.Types.Formula,f:class{constructor(u,d){this.cell=u,this.model={address:u.address,type:l.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(u){let d={},h=f=>{let p=u[f];p&&(d[f]=p)};return h("formula"),h("result"),h("ref"),h("shareType"),h("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(u){this.model=this._copyModel(u)}validate(u){switch(c.getType(u)){case l.Types.Null:case l.Types.String:case l.Types.Number:case l.Types.Date:break;case l.Types.Hyperlink:case l.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(u){this.model.formula=u}get formulaType(){return this.model.formula?s.FormulaType.Master:this.model.sharedFormula?s.FormulaType.Shared:s.FormulaType.None}get result(){return this.model.result}set result(u){this.model.result=u}get type(){return l.Types.Formula}get effectiveType(){let u=this.model.result;return u==null?s.ValueType.Null:u instanceof String||typeof u=="string"?s.ValueType.String:typeof u=="number"?s.ValueType.Number:u instanceof Date?s.ValueType.Date:u.text&&u.hyperlink?s.ValueType.Hyperlink:u.formula?s.ValueType.Formula:s.ValueType.Null}get address(){return this.model.address}set address(u){this.model.address=u}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){let{worksheet:u}=this.cell,d=u.findCell(this.model.sharedFormula);this._translatedFormula=d&&o(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:l.Types.Merge,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(u){u instanceof l?(this._master&&this._master.releaseMergeRef(),u.addMergeRef(),this._master=u):this._master.value=u}isMergedTo(u){return u===this._master}get master(){return this._master}get type(){return l.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:l.Types.JSON,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(u){this.model.rawValue=u,this.model.value=JSON.stringify(u)}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:l.Types.SharedString,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.SharedString,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.SharedString}get effectiveType(){return l.Types.SharedString}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.RichText,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.String,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}toString(){return this.model.value.richText.map(u=>u.text).join("")}get type(){return l.Types.RichText}get effectiveType(){return l.Types.RichText}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:l.Types.Boolean,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Boolean,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Boolean}get effectiveType(){return l.Types.Boolean}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Error,f:class{constructor(u,d){this.model={address:u.address,type:l.Types.Error,value:d}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return l.Types.Error}get effectiveType(){return l.Types.Error}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((u,d)=>(u[d.t]=d.f,u),[]),create(u,d,h){let f=this.types[u];if(!f)throw new Error("Could not create Value of type "+u);return new f(d,h)}};t.exports=l},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,t,n){"use strict";let r=e("../utils/under-dash"),i=e("./enums"),s=e("../utils/col-cache");class o{constructor(l,c,u){this._worksheet=l,this._number=c,u!==!1&&(this.defn=u)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return s.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(l){l?(this.key=l.key,this.width=l.width!==void 0?l.width:9,this.outlineLevel=l.outlineLevel,l.style?this.style=l.style:this.style={},this.header=l.header,this._hidden=!!l.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(l){l!==void 0?(this._header=l,this.headers.forEach((c,u)=>{this._worksheet.getCell(u+1,this.number).value=c})):this._header=void 0}get key(){return this._key}set key(l){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=l,l&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(l){return this.width===l.width&&this.hidden===l.hidden&&this.outlineLevel===l.outlineLevel&&r.isEqual(this.style,l.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;let l=this.style;return!l||!(l.font||l.numFmt||l.alignment||l.border||l.fill||l.protection)}get headerCount(){return this.headers.length}eachCell(l,c){let u=this.number;c||(c=l,l=null),this._worksheet.eachRow(l,(d,h)=>{c(d.getCell(u),h)})}get values(){let l=[];return this.eachCell((c,u)=>{c&&c.type!==i.ValueType.Null&&(l[u]=c.value)}),l}set values(l){if(!l)return;let c=this.number,u=0;l.hasOwnProperty("0")&&(u=1),l.forEach((d,h)=>{this._worksheet.getCell(h+u,c).value=d})}_applyStyle(l,c){return this.style[l]=c,this.eachCell(u=>{u[l]=c}),c}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}static toModel(l){let c=[],u=null;return l&&l.forEach((d,h)=>{d.isDefault?u&&(u=null):u&&d.equivalentTo(u)?u.max=h+1:(u={min:h+1,max:h+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},c.push(u))}),c.length?c:void 0}static fromModel(l,c){let u=[],d=1,h=0;for(c=(c=c||[]).sort(function(f,p){return f.min-p.min});h<c.length;){let f=c[h++];for(;d<f.min;)u.push(new o(l,d++));for(;d<=f.max;)u.push(new o(l,d++,f))}return u.length?u:null}}t.exports=o},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,t,n){"use strict";t.exports=class{constructor(r){this.model=r||{}}add(r,i){return this.model[r]=i}find(r){return this.model[r]}remove(r){this.model[r]=void 0}}},{}],6:[function(e,t,n){"use strict";let r=e("../utils/under-dash"),i=e("../utils/col-cache"),s=e("../utils/cell-matrix"),o=e("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;t.exports=class{constructor(){this.matrixMap={}}getMatrix(l){return this.matrixMap[l]||(this.matrixMap[l]=new s)}add(l,c){let u=i.decodeEx(l);this.addEx(u,c)}addEx(l,c){let u=this.getMatrix(c);if(l.top)for(let d=l.left;d<=l.right;d++)for(let h=l.top;h<=l.bottom;h++){let f={sheetName:l.sheetName,address:i.n2l(d)+h,row:h,col:d};u.addCellEx(f)}else u.addCellEx(l)}remove(l,c){let u=i.decodeEx(l);this.removeEx(u,c)}removeEx(l,c){this.getMatrix(c).removeCellEx(l)}removeAllNames(l){r.each(this.matrixMap,c=>{c.removeCellEx(l)})}forEach(l){r.each(this.matrixMap,(c,u)=>{c.forEach(d=>{l(u,d)})})}getNames(l){return this.getNamesEx(i.decodeEx(l))}getNamesEx(l){return r.map(this.matrixMap,(c,u)=>c.findCellEx(l)&&u).filter(Boolean)}_explore(l,c){c.mark=!1;let{sheetName:u}=c,d=new o(c.row,c.col,c.row,c.col,u),h,f;function p(y,v){let S=l.findCellAt(u,y,c.col);return!(!S||!S.mark)&&(d[v]=y,S.mark=!1,!0)}for(f=c.row-1;p(f,"top");f--);for(f=c.row+1;p(f,"bottom");f++);function g(y,v){let S=[];for(f=d.top;f<=d.bottom;f++){let k=l.findCellAt(u,f,y);if(!k||!k.mark)return!1;S.push(k)}d[v]=y;for(let k=0;k<S.length;k++)S[k].mark=!1;return!0}for(h=c.col-1;g(h,"left");h--);for(h=c.col+1;g(h,"right");h++);return d}getRanges(l,c){return(c=c||this.matrixMap[l])?(c.forEach(u=>{u.mark=!0}),{name:l,ranges:c.map(u=>u.mark&&this._explore(c,u)).filter(Boolean).map(u=>u.$shortRange)}):{name:l,ranges:[]}}normaliseMatrix(l,c){l.forEachInSheet(c,(u,d,h)=>{u&&(u.row===d&&u.col===h||(u.row=d,u.col=h,u.address=i.n2l(h)+d))})}spliceRows(l,c,u,d){r.each(this.matrixMap,h=>{h.spliceRows(l,c,u,d),this.normaliseMatrix(h,l)})}spliceColumns(l,c,u,d){r.each(this.matrixMap,h=>{h.spliceColumns(l,c,u,d),this.normaliseMatrix(h,l)})}get model(){return r.map(this.matrixMap,(l,c)=>this.getRanges(c,l)).filter(l=>l.ranges.length)}set model(l){let c=this.matrixMap={};l.forEach(u=>{let d=c[u.name]=new s;u.ranges.forEach(h=>{a.test(h.split("!").pop()||"")&&d.addCell(h)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,t,n){"use strict";t.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,t,n){"use strict";let r=e("../utils/col-cache"),i=e("./anchor");t.exports=class{constructor(s,o){this.worksheet=s,this.model=o}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(s){let{type:o,imageId:a,range:l,hyperlinks:c}=s;if(this.type=o,this.imageId=a,o==="image")if(typeof l=="string"){let u=r.decode(l);this.range={tl:new i(this.worksheet,{col:u.left,row:u.top},-1),br:new i(this.worksheet,{col:u.right,row:u.bottom},0),editAs:"oneCell"}}else this.range={tl:new i(this.worksheet,l.tl,0),br:l.br&&new i(this.worksheet,l.br,0),ext:l.ext,editAs:l.editAs,hyperlinks:c||l.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,t,n){"use strict";let r=e("../utils/under-dash");class i{constructor(o){this.note=o}get model(){let o=null;switch(typeof this.note){case"string":o={type:"note",note:{texts:[{text:this.note}]}};break;default:o={type:"note",note:this.note}}return r.deepMerge({},i.DEFAULT_CONFIGS,o)}set model(o){let{note:a}=o,{texts:l}=a;l.length===1&&Object.keys(l[0]).length===1?this.note=l[0].text:this.note=a}static fromModel(o){let a=new i;return a.model=o,a}}i.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},t.exports=i},{"../utils/under-dash":26}],10:[function(e,t,n){"use strict";let r=e("../utils/col-cache");class i{constructor(){this.decode(arguments)}setTLBR(o,a,l,c,u){if(arguments.length<4){let d=r.decodeAddress(o),h=r.decodeAddress(a);this.model={top:Math.min(d.row,h.row),left:Math.min(d.col,h.col),bottom:Math.max(d.row,h.row),right:Math.max(d.col,h.col),sheetName:l},this.setTLBR(d.row,d.col,h.row,h.col,u)}else this.model={top:Math.min(o,l),left:Math.min(a,c),bottom:Math.max(o,l),right:Math.max(a,c),sheetName:u}}decode(o){switch(o.length){case 5:this.setTLBR(o[0],o[1],o[2],o[3],o[4]);break;case 4:this.setTLBR(o[0],o[1],o[2],o[3]);break;case 3:this.setTLBR(o[0],o[1],o[2]);break;case 2:this.setTLBR(o[0],o[1]);break;case 1:{let a=o[0];if(a instanceof i)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{let l=r.decodeEx(a);l.top?this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName}:this.model={top:l.row,left:l.col,bottom:l.row,right:l.col,sheetName:l.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+o.length)}}get top(){return this.model.top||1}set top(o){this.model.top=o}get left(){return this.model.left||1}set left(o){this.model.left=o}get bottom(){return this.model.bottom||1}set bottom(o){this.model.bottom=o}get right(){return this.model.right||1}set right(o){this.model.right=o}get sheetName(){return this.model.sheetName}set sheetName(o){this.model.sheetName=o}get _serialisedSheetName(){let{sheetName:o}=this.model;return o?/^[a-zA-Z0-9]*$/.test(o)?o+"!":`'${o}'!`:""}expand(o,a,l,c){(!this.model.top||o<this.top)&&(this.top=o),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||l>this.bottom)&&(this.bottom=l),(!this.model.right||c>this.right)&&(this.right=c)}expandRow(o){if(o){let{dimensions:a,number:l}=o;a&&this.expand(l,a.min,l,a.max)}}expandToAddress(o){let a=r.decodeEx(o);this.expand(a.row,a.col,a.row,a.col)}get tl(){return r.n2l(this.left)+this.top}get $t$l(){return`$${r.n2l(this.left)}$${this.top}`}get br(){return r.n2l(this.right)+this.bottom}get $b$r(){return`$${r.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(o){return(!o.sheetName||!this.sheetName||o.sheetName===this.sheetName)&&!(o.bottom<this.top)&&!(o.top>this.bottom)&&!(o.right<this.left)&&!(o.left>this.right)}contains(o){let a=r.decodeEx(o);return this.containsEx(a)}containsEx(o){return(!o.sheetName||!this.sheetName||o.sheetName===this.sheetName)&&o.row>=this.top&&o.row<=this.bottom&&o.col>=this.left&&o.col<=this.right}forEachAddress(o){for(let a=this.left;a<=this.right;a++)for(let l=this.top;l<=this.bottom;l++)o(r.encodeAddress(l,a),l,a)}}t.exports=i},{"../utils/col-cache":19}],11:[function(e,t,n){"use strict";let r=e("../utils/under-dash"),i=e("./enums"),s=e("../utils/col-cache"),o=e("./cell");t.exports=class{constructor(a,l){this._worksheet=a,this._number=l,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let l=this._cells[a.col-1];if(!l){let c=this._worksheet.getColumn(a.col);l=new o(this,c,a.address),this._cells[a.col-1]=l}return l}getCell(a){if(typeof a=="string"){let l=this._worksheet.getColumnKey(a);a=l?l.number:s.l2n(a)}return this._cells[a-1]||this.getCellEx({address:s.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,l){let c=a+l;for(var u=arguments.length,d=new Array(u>2?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];let f=d.length-l,p=this._cells.length,g,y,v;if(f<0)for(g=a+d.length;g<=p;g++)v=this._cells[g-1],y=this._cells[g-f-1],y?(v=this.getCell(g),v.value=y.value,v.style=y.style,v._comment=y._comment):v&&(v.value=null,v.style={},v._comment=void 0);else if(f>0)for(g=p;g>=c;g--)y=this._cells[g-1],y?(v=this.getCell(g+f),v.value=y.value,v.style=y.style,v._comment=y._comment):this._cells[g+f-1]=void 0;for(g=0;g<d.length;g++)v=this.getCell(a+g),v.value=d[g],v.style={},v._comment=void 0}eachCell(a,l){if(l||(l=a,a=null),a&&a.includeEmpty){let c=this._cells.length;for(let u=1;u<=c;u++)l(this.getCell(u),u)}else this._cells.forEach((c,u)=>{c&&c.type!==i.ValueType.Null&&l(c,u+1)})}addPageBreak(a,l){let c=this._worksheet,u=Math.max(0,a-1)||0,d=Math.max(0,l-1)||16838,h={id:this._number,max:d,man:1};u&&(h.min=u),c.rowBreaks.push(h)}get values(){let a=[];return this._cells.forEach(l=>{l&&l.type!==i.ValueType.Null&&(a[l.col]=l.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let l=0;a.hasOwnProperty("0")&&(l=1),a.forEach((c,u)=>{c!==void 0&&(this.getCellEx({address:s.encodeAddress(this._number,u+l),row:this._number,col:u+l}).value=c)})}else this._worksheet.eachColumnKey((l,c)=>{a[c]!==void 0&&(this.getCellEx({address:s.encodeAddress(this._number,l.number),row:this._number,col:l.number}).value=a[c])})}get hasValues(){return r.some(this._cells,a=>a&&a.type!==i.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,l=0;return this._cells.forEach(c=>{c&&c.type!==i.ValueType.Null&&((!a||a>c.col)&&(a=c.col),l<c.col&&(l=c.col))}),a>0?{min:a,max:l}:null}_applyStyle(a,l){return this.style[a]=l,this._cells.forEach(c=>{c&&(c[a]=l)}),l}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){let a=[],l=0,c=0;return this._cells.forEach(u=>{if(u){let d=u.model;d&&((!l||l>u.col)&&(l=u.col),c<u.col&&(c=u.col),a.push(d))}}),this.height||a.length?{cells:a,number:this.number,min:l,max:c,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let l;this._cells=[],a.cells.forEach(c=>{switch(c.type){case o.Types.Merge:break;default:{let u;if(c.address)u=s.decodeAddress(c.address);else if(l){let{row:d}=l,h=l.col+1;u={row:d,col:h,address:s.encodeAddress(d,h),$col$row:`$${s.n2l(h)}$${d}`}}l=u,this.getCellEx(u).model=c;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,t,n){"use strict";let r=e("../utils/col-cache");class i{constructor(o,a,l){this.table=o,this.column=a,this.index=l}_set(o,a){this.table.cacheState(),this.column[o]=a}get name(){return this.column.name}set name(o){this._set("name",o)}get filterButton(){return this.column.filterButton}set filterButton(o){this.column.filterButton=o}get style(){return this.column.style}set style(o){this.column.style=o}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(o){this._set("totalsRowLabel",o)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(o){this._set("totalsRowFunction",o)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(o){this._set("totalsRowResult",o)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(o){this._set("totalsRowFormula",o)}}t.exports=class{constructor(s,o){this.worksheet=s,o&&(this.table=o,this.validate(),this.store())}getFormula(s){switch(s.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${s.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${s.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${s.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${s.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${s.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${s.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${s.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${s.name}])`;case"custom":return s.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+s.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){let{table:s}=this,o=(f,p,g)=>{f[p]===void 0&&(f[p]=g)};o(s,"headerRow",!0),o(s,"totalsRow",!1),o(s,"style",{}),o(s.style,"theme","TableStyleMedium2"),o(s.style,"showFirstColumn",!1),o(s.style,"showLastColumn",!1),o(s.style,"showRowStripes",!1),o(s.style,"showColumnStripes",!1);let a=(f,p)=>{if(!f)throw new Error(p)};a(s.ref,"Table must have ref"),a(s.columns,"Table must have column definitions"),a(s.rows,"Table must have row definitions"),s.tl=r.decodeAddress(s.ref);let{row:l,col:c}=s.tl;a(l>0,"Table must be on valid row"),a(c>0,"Table must be on valid col");let{width:u,filterHeight:d,tableHeight:h}=this;s.autoFilterRef=r.encode(l,c,l+d-1,c+u-1),s.tableRef=r.encode(l,c,l+h-1,c+u-1),s.columns.forEach((f,p)=>{a(f.name,`Column ${p} must have a name`),p===0?o(f,"totalsRowLabel","Total"):(o(f,"totalsRowFunction","none"),f.totalsRowFormula=this.getFormula(f))})}store(){let s=(d,h)=>{h&&Object.keys(h).forEach(f=>{d[f]=h[f]})},{worksheet:o,table:a}=this,{row:l,col:c}=a.tl,u=0;if(a.headerRow){let d=o.getRow(l+u++);a.columns.forEach((h,f)=>{let{style:p,name:g}=h,y=d.getCell(c+f);y.value=g,s(y,p)})}if(a.rows.forEach(d=>{let h=o.getRow(l+u++);d.forEach((f,p)=>{let g=h.getCell(c+p);g.value=f,s(g,a.columns[p].style)})}),a.totalsRow){let d=o.getRow(l+u++);a.columns.forEach((h,f)=>{let p=d.getCell(c+f);if(f===0)p.value=h.totalsRowLabel;else{let g=this.getFormula(h);p.value=g?{formula:h.totalsRowFormula,result:h.totalsRowResult}:null}s(p,h.style)})}}load(s){let{table:o}=this,{row:a,col:l}=o.tl,c=0;if(o.headerRow){let u=s.getRow(a+c++);o.columns.forEach((d,h)=>{u.getCell(l+h).value=d.name})}if(o.rows.forEach(u=>{let d=s.getRow(a+c++);u.forEach((h,f)=>{d.getCell(l+f).value=h})}),o.totalsRow){let u=s.getRow(a+c++);o.columns.forEach((d,h)=>{let f=u.getCell(l+h);h===0?f.value=d.totalsRowLabel:this.getFormula(d)&&(f.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(s){this.table=s}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();let s=r.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let o=0;o<this._cache.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let l=0;l<this._cache.width;l++)a.getCell(s.col+l).value=null}else{for(let o=this.tableHeight;o<this._cache.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let l=0;l<this._cache.width;l++)a.getCell(s.col+l).value=null}for(let o=0;o<this.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let l=this.width;l<this._cache.width;l++)a.getCell(s.col+l).value=null}}this.store()}addRow(s,o){this.cacheState(),o===void 0?this.table.rows.push(s):this.table.rows.splice(o,0,s)}removeRows(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(s,o)}getColumn(s){let o=this.table.columns[s];return new i(this,o,s)}addColumn(s,o,a){this.cacheState(),a===void 0?(this.table.columns.push(s),this.table.rows.forEach((l,c)=>{l.push(o[c])})):(this.table.columns.splice(a,0,s),this.table.rows.forEach((l,c)=>{l.splice(a,0,o[c])}))}removeColumns(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(s,o),this.table.rows.forEach(a=>{a.splice(s,o)})}_assign(s,o,a){this.cacheState(),s[o]=a}get ref(){return this.table.ref}set ref(s){this._assign(this.table,"ref",s)}get name(){return this.table.name}set name(s){this.table.name=s}get displayName(){return this.table.displyName||this.table.name}set displayNamename(s){this.table.displayName=s}get headerRow(){return this.table.headerRow}set headerRow(s){this._assign(this.table,"headerRow",s)}get totalsRow(){return this.table.totalsRow}set totalsRow(s){this._assign(this.table,"totalsRow",s)}get theme(){return this.table.style.name}set theme(s){this.table.style.name=s}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(s){this.table.style.showFirstColumn=s}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(s){this.table.style.showLastColumn=s}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(s){this.table.style.showRowStripes=s}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(s){this.table.style.showColumnStripes=s}}},{"../utils/col-cache":19}],13:[function(e,t,n){"use strict";let r=e("./worksheet"),i=e("./defined-names"),s=e("../xlsx/xlsx"),o=e("../csv/csv");t.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new i}get xlsx(){return this._xlsx||(this._xlsx=new s(this)),this._xlsx}get csv(){return this._csv||(this._csv=new o(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,l){let c=this.nextId;l&&(typeof l=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),l={properties:{tabColor:{argb:l}}}):(l.argb||l.theme||l.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),l={properties:{tabColor:l}}));let u=this._worksheets.reduce((f,p)=>(p&&p.orderNo)>f?p.orderNo:f,0),d=Object.assign({},l,{id:c,name:a,orderNo:u+1,workbook:this}),h=new r(d);return this._worksheets[c]=h,h}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){let l=this.getWorksheet(a);l&&l.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(l=>l&&l.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,l)=>a.orderNo-l.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(l=>{a(l,l.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){let l=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),l}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(l=>{let{id:c,name:u,state:d}=l,h=a.sheets&&a.sheets.findIndex(f=>f.id===c);(this._worksheets[c]=new r({id:c,name:u,orderNo:h,state:d,workbook:this})).model=l}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,t,n){"use strict";let r=e("../utils/under-dash"),i=e("../utils/col-cache"),s=e("./range"),o=e("./row"),a=e("./column"),l=e("./enums"),c=e("./image"),u=e("./table"),d=e("./data-validations"),h=e("../utils/encryptor"),{copyStyle:f}=e("../utils/copy-style");t.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new d,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(g=>g&&g.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){let p=new s;return this._rows.forEach(g=>{if(g){let y=g.dimensions;y&&p.expand(g.number,y.min,g.number,y.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((v,S)=>{let k=(S.header?1:S.headers&&S.headers.length)||0;return Math.max(v,k)},0);let g=1,y=this._columns=[];p.forEach(v=>{let S=new a(this,g++,!1);y.push(S),S.defn=v})}getColumnKey(p){return this._keys[p]}setColumnKey(p,g){this._keys[p]=g}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){r.each(this._keys,p)}getColumn(p){if(typeof p=="string"){let g=this._keys[p];if(g)return g;p=i.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let g=this._columns.length+1;for(;g<=p;)this._columns.push(new a(this,g++))}return this._columns[p-1]}spliceColumns(p,g){let y=this._rows.length;for(var v=arguments.length,S=new Array(v>2?v-2:0),k=2;k<v;k++)S[k-2]=arguments[k];if(S.length>0)for(let j=0;j<y;j++){let B=[p,g];S.forEach(V=>{B.push(V[j]||null)});let U=this.getRow(j+1);U.splice.apply(U,B)}else this._rows.forEach(j=>{j&&j.splice(p,g)});let M=S.length-g,z=p+g,F=this._columns.length;if(M<0)for(let j=p+S.length;j<=F;j++)this.getColumn(j).defn=this.getColumn(j-M).defn;else if(M>0)for(let j=F;j>=z;j--)this.getColumn(j+M).defn=this.getColumn(j).defn;for(let j=p;j<p+S.length;j++)this.getColumn(j).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,g,S.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(g=>{p=Math.max(p,g.cellCount)}),p}get actualColumnCount(){let p=[],g=0;return this.eachRow(y=>{y.eachCell(v=>{let{col:S}=v;p[S]||(p[S]=!0,g++)})}),g}_commitRow(){}get _lastRowNumber(){let p=this._rows,g=p.length;for(;g>0&&p[g-1]===void 0;)g--;return g}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,g){return this._rows.slice(p-1,p-1+g)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let g=this._rows[p-1];return g||(g=this._rows[p-1]=new o(this,p)),g}getRows(p,g){if(g<1)return;let y=[];for(let v=p;v<p+g;v++)y.push(this.getRow(v));return y}addRow(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",y=this._nextRow,v=this.getRow(y);return v.values=p,this._setStyleOption(y,g[0]==="i"?g:"n"),v}addRows(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",y=[];return p.forEach(v=>{y.push(this.addRow(v,g))}),y}insertRow(p,g){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,g),this._setStyleOption(p,y),this.getRow(p)}insertRows(p,g){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...g),y!=="n")for(let v=0;v<g.length;v++)y[0]==="o"&&this.findRow(g.length+p+v)!==void 0?this._copyStyle(g.length+p+v,p+v,y[1]==="+"):y[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+v,y[1]==="+");return this.getRows(p,g.length)}_setStyleOption(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";g[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,g[1]==="+"):g[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,g[1]==="+")}_copyStyle(p,g){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2],v=this.getRow(p),S=this.getRow(g);S.style=f(v.style),v.eachCell({includeEmpty:y},(k,M)=>{S.getCell(M).style=f(k.style)}),S.height=v.height}duplicateRow(p,g){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2],v=this._rows[p-1],S=new Array(g).fill(v.values);this.spliceRows(p+1,y?0:g,...S);for(let k=0;k<g;k++){let M=this._rows[p+k];M.style=v.style,M.height=v.height,v.eachCell({includeEmpty:!0},(z,F)=>{M.getCell(F).style=z.style})}}spliceRows(p,g){let y=p+g;for(var v=arguments.length,S=new Array(v>2?v-2:0),k=2;k<v;k++)S[k-2]=arguments[k];let M=S.length,z=M-g,F=this._rows.length,j,B;if(z<0)for(p===F&&(this._rows[F-1]=void 0),j=y;j<=F;j++)if(B=this._rows[j-1],B){let U=this.getRow(j+z);U.values=B.values,U.style=B.style,U.height=B.height,B.eachCell({includeEmpty:!0},(V,E)=>{U.getCell(E).style=V.style}),this._rows[j-1]=void 0}else this._rows[j+z-1]=void 0;else if(z>0)for(j=F;j>=y;j--)if(B=this._rows[j-1],B){let U=this.getRow(j+z);U.values=B.values,U.style=B.style,U.height=B.height,B.eachCell({includeEmpty:!0},(V,E)=>{if(U.getCell(E).style=V.style,V._value.constructor.name==="MergeValue"){let C=this.getRow(V._row._number+M).getCell(E),R=V._value._master,m=this.getRow(R._row._number+M).getCell(R._column._number);C.merge(m)}})}else this._rows[j+z-1]=void 0;for(j=0;j<M;j++){let U=this.getRow(p+j);U.style={},U.values=S[j]}this.workbook.definedNames.spliceRows(this.name,p,g,M)}eachRow(p,g){if(g||(g=p,p=void 0),p&&p.includeEmpty){let y=this._rows.length;for(let v=1;v<=y;v++)g(this.getRow(v),v)}else this._rows.forEach(y=>{y&&y.hasValues&&g(y,y.number)})}getSheetValues(){let p=[];return this._rows.forEach(g=>{g&&(p[g.number]=g.values)}),p}findCell(p,g){let y=i.getAddress(p,g),v=this._rows[y.row-1];return v?v.findCell(y.col):void 0}getCell(p,g){let y=i.getAddress(p,g);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var p=arguments.length,g=new Array(p),y=0;y<p;y++)g[y]=arguments[y];let v=new s(g);this._mergeCellsInternal(v)}mergeCellsWithoutStyle(){for(var p=arguments.length,g=new Array(p),y=0;y<p;y++)g[y]=arguments[y];let v=new s(g);this._mergeCellsInternal(v,!0)}_mergeCellsInternal(p,g){r.each(this._merges,v=>{if(v.intersects(p))throw new Error("Cannot merge already merged cells")});let y=this.getCell(p.top,p.left);for(let v=p.top;v<=p.bottom;v++)for(let S=p.left;S<=p.right;S++)(v>p.top||S>p.left)&&this.getCell(v,S).merge(y,g);this._merges[y.address]=p}_unMergeMaster(p){let g=this._merges[p.address];if(g){for(let y=g.top;y<=g.bottom;y++)for(let v=g.left;v<=g.right;v++)this.getCell(y,v).unmerge();delete this._merges[p.address]}}get hasMerges(){return r.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,g=new Array(p),y=0;y<p;y++)g[y]=arguments[y];let v=new s(g);for(let S=v.top;S<=v.bottom;S++)for(let k=v.left;k<=v.right;k++){let M=this.findCell(S,k);M&&(M.type===l.ValueType.Merge?this._unMergeMaster(M.master):this._merges[M.address]&&this._unMergeMaster(M))}}fillFormula(p,g,y){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared",S=i.decode(p),{top:k,left:M,bottom:z,right:F}=S,j=F-M+1,B=i.encodeAddress(k,M),U=v==="shared",V;V=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(C,R)=>y[C-k][R-M]:(C,R)=>y[(C-k)*j+(R-M)]:()=>{};let E=!0;for(let C=k;C<=z;C++)for(let R=M;R<=F;R++)E?(this.getCell(C,R).value={shareType:v,formula:g,ref:p,result:V(C,R)},E=!1):this.getCell(C,R).value=U?{sharedFormula:B,result:V(C,R)}:V(C,R)}addImage(p,g){let y={type:"image",imageId:p,range:g};this._media.push(new c(this,y))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){let g={type:"background",imageId:p};this._media.push(new c(this,g))}getBackgroundImageId(){let p=this._media.find(g=>g.type==="background");return p&&p.imageId}protect(p,g){return new Promise(y=>{this.sheetProtection={sheet:!0},g&&"spinCount"in g&&(g.spinCount=Number.isFinite(g.spinCount)?Math.round(Math.max(0,g.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=h.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=g&&"spinCount"in g?g.spinCount:1e5,this.sheetProtection.hashValue=h.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),g&&(this.sheetProtection=Object.assign(this.sheetProtection,g),!p&&"spinCount"in g&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(p){let g=new u(this,p);return this.tables[p.name]=g,g}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){let p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(v=>v.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(v=>v.model),conditionalFormattings:this.conditionalFormattings};p.cols=a.toModel(this.columns);let g=p.rows=[],y=p.dimensions=new s;return this._rows.forEach(v=>{let S=v&&v.model;S&&(y.expand(S.number,S.min,S.number,S.max),g.push(S))}),p.merges=[],r.each(this._merges,v=>{p.merges.push(v.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(g=>{let y=new o(this,g.number);this._rows[y.number-1]=y,y.model=g})}_parseMergeCells(p){r.each(p.mergeCells,g=>{this.mergeCellsWithoutStyle(g)})}set model(p){this.name=p.name,this._columns=a.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new d(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(g=>new c(this,g)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((g,y)=>{let v=new u;return v.model=y,g[y.name]=v,g},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,t,n){"use strict";e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");let r={Workbook:e("./doc/workbook")},i=e("./doc/enums");Object.keys(i).forEach(s=>{r[s]=i[s]}),t.exports=r},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,t,n){"use strict";let r=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");n.bufferToString=function(i){return typeof i=="string"?i:r?r.decode(i):i.toString()}},{}],17:[function(e,t,n){"use strict";let r=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:i}=e("buffer");n.stringToBuffer=function(s){return typeof s!="string"?s:r?i.from(r.encode(s).buffer):i.from(s)}},{buffer:220}],18:[function(e,t,n){"use strict";let r=e("./under-dash"),i=e("./col-cache");t.exports=class{constructor(s){this.template=s,this.sheets={}}addCell(s){this.addCellEx(i.decodeEx(s))}getCell(s){return this.findCellEx(i.decodeEx(s),!0)}findCell(s){return this.findCellEx(i.decodeEx(s),!1)}findCellAt(s,o,a){let l=this.sheets[s],c=l&&l[o];return c&&c[a]}addCellEx(s){if(s.top)for(let o=s.top;o<=s.bottom;o++)for(let a=s.left;a<=s.right;a++)this.getCellAt(s.sheetName,o,a);else this.findCellEx(s,!0)}getCellEx(s){return this.findCellEx(s,!0)}findCellEx(s,o){let a=this.findSheet(s,o),l=this.findSheetRow(a,s,o);return this.findRowCell(l,s,o)}getCellAt(s,o,a){let l=this.sheets[s]||(this.sheets[s]=[]),c=l[o]||(l[o]=[]);return c[a]||(c[a]={sheetName:s,address:i.n2l(a)+o,row:o,col:a})}removeCellEx(s){let o=this.findSheet(s);if(!o)return;let a=this.findSheetRow(o,s);a&&delete a[s.col]}forEachInSheet(s,o){let a=this.sheets[s];a&&a.forEach((l,c)=>{l&&l.forEach((u,d)=>{u&&o(u,c,d)})})}forEach(s){r.each(this.sheets,(o,a)=>{this.forEachInSheet(a,s)})}map(s){let o=[];return this.forEach(a=>{o.push(s(a))}),o}findSheet(s,o){let a=s.sheetName;return this.sheets[a]?this.sheets[a]:o?this.sheets[a]=[]:void 0}findSheetRow(s,o,a){let{row:l}=o;return s&&s[l]?s[l]:a?s[l]=[]:void 0}findRowCell(s,o,a){let{col:l}=o;return s&&s[l]?s[l]:a?s[l]=this.template?Object.assign(o,JSON.parse(JSON.stringify(this.template))):o:void 0}spliceRows(s,o,a,l){let c=this.sheets[s];if(c){let u=[];for(let d=0;d<l;d++)u.push([]);c.splice(o,a,...u)}}spliceColumns(s,o,a,l){let c=this.sheets[s];if(c){let u=[];for(let d=0;d<l;d++)u.push(null);r.each(c,d=>{d.splice(o,a,...u)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,t,n){"use strict";let r=/^[A-Z]+\d+$/,i={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:s=>s<=26?1:s<=676?2:3,_fill(s){let o,a,l,c,u,d=1;if(s>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&s>=1){for(;d<=26;)o=this._dictionary[d-1],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&s>=2){for(d=27;d<=702;)a=d-27,l=a%26,c=Math.floor(a/26),o=this._dictionary[c]+this._dictionary[l],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&s>=3){for(d=703;d<=16384;)a=d-703,l=a%26,c=Math.floor(a/26)%26,u=Math.floor(a/676),o=this._dictionary[u]+this._dictionary[c]+this._dictionary[l],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=3}},l2n(s){if(this._l2n[s]||this._fill(s.length),!this._l2n[s])throw new Error("Out of bounds. Invalid column letter: "+s);return this._l2n[s]},n2l(s){if(s<1||s>16384)throw new Error(s+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[s]||this._fill(this._level(s)),this._n2l[s]},_hash:{},validateAddress(s){if(!r.test(s))throw new Error("Invalid Address: "+s);return!0},decodeAddress(s){let o=s.length<5&&this._hash[s];if(o)return o;let a=!1,l="",c=0,u=!1,d="",h=0;for(let p,g=0;g<s.length;g++)if(p=s.charCodeAt(g),!u&&p>=65&&p<=90)a=!0,l+=s[g],c=26*c+p-64;else if(p>=48&&p<=57)u=!0,d+=s[g],h=10*h+p-48;else if(u&&a&&p!==36)break;if(a){if(c>16384)throw new Error("Out of bounds. Invalid column letter: "+l)}else c=void 0;u||(h=void 0);let f={address:s=l+d,col:c,row:h,$col$row:`$${l}$${d}`};return c<=100&&h<=100&&(this._hash[s]=f,this._hash[f.$col$row]=f),f},getAddress(s,o){if(o){let a=this.n2l(o)+s;return this.decodeAddress(a)}return this.decodeAddress(s)},decode(s){let o=s.split(":");if(o.length===2){let a=this.decodeAddress(o[0]),l=this.decodeAddress(o[1]),c={top:Math.min(a.row,l.row),left:Math.min(a.col,l.col),bottom:Math.max(a.row,l.row),right:Math.max(a.col,l.col)};return c.tl=this.n2l(c.left)+c.top,c.br=this.n2l(c.right)+c.bottom,c.dimensions=`${c.tl}:${c.br}`,c}return this.decodeAddress(s)},decodeEx(s){let o=s.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=o[1]||o[2],l=o[3],c=l.split(":");if(c.length>1){let d=this.decodeAddress(c[0]),h=this.decodeAddress(c[1]),f=Math.min(d.row,h.row),p=Math.min(d.col,h.col),g=Math.max(d.row,h.row),y=Math.max(d.col,h.col);return d=this.n2l(p)+f,h=this.n2l(y)+g,{top:f,left:p,bottom:g,right:y,sheetName:a,tl:{address:d,col:p,row:f,$col$row:`$${this.n2l(p)}$${f}`,sheetName:a},br:{address:h,col:y,row:g,$col$row:`$${this.n2l(y)}$${g}`,sheetName:a},dimensions:`${d}:${h}`}}if(l.startsWith("#"))return a?{sheetName:a,error:l}:{error:l};let u=this.decodeAddress(l);return a?at({sheetName:a},u):u},encodeAddress:(s,o)=>i.n2l(o)+s,encode(){switch(arguments.length){case 2:return i.encodeAddress(arguments[0],arguments[1]);case 4:return`${i.encodeAddress(arguments[0],arguments[1])}:${i.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(s,o){let[a,l,,c,u]=s,[d,h]=o;return d>=a&&d<=c&&h>=l&&h<=u}};t.exports=i},{}],20:[function(e,t,n){"use strict";let r=(s,o)=>at(at({},s),o.reduce((a,l)=>(s[l]&&(a[l]=at({},s[l])),a),{})),i=function(s,o,a){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];s[a]&&(o[a]=r(s[a],l))};n.copyStyle=s=>{if(!s)return s;if(o=s,Object.keys(o).length===0)return{};var o;let a=at({},s);return i(s,a,"font",["color"]),i(s,a,"alignment"),i(s,a,"protection"),s.border&&(i(s,a,"border"),i(s.border,a.border,"top",["color"]),i(s.border,a.border,"left",["color"]),i(s.border,a.border,"bottom",["color"]),i(s.border,a.border,"right",["color"]),i(s.border,a.border,"diagonal",["color"])),s.fill&&(i(s,a,"fill",["fgColor","bgColor","center"]),s.fill.stops&&(a.fill.stops=s.fill.stops.map(l=>r(l,["color"])))),a}},{}],21:[function(e,t,n){(function(r){(function(){"use strict";let i=e("crypto"),s={hash(o){let a=i.createHash(o);for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];return a.update(r.concat(c)),a.digest()},convertPasswordToHash(o,a,l,c){if(a=a.toLowerCase(),i.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);let u=r.from(o,"utf16le"),d=this.hash(a,r.from(l,"base64"),u);for(let h=0;h<c;h++){let f=r.alloc(4);f.writeUInt32LE(h,0),d=this.hash(a,d,f)}return d.toString("base64")},randomBytes:o=>i.randomBytes(o)};t.exports=s}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,t,n){"use strict";let{SaxesParser:r}=e("saxes"),{PassThrough:i}=e("readable-stream"),{bufferToString:s}=e("./browser-buffer-decode");t.exports=async function*(o){o.pipe&&!o[Symbol.asyncIterator]&&(o=o.pipe(new i));let a=new r,l;a.on("error",u=>{l=u});let c=[];a.on("opentag",u=>c.push({eventType:"opentag",value:u})),a.on("text",u=>c.push({eventType:"text",value:u})),a.on("closetag",u=>c.push({eventType:"closetag",value:u}));for await(let u of o){if(a.write(s(u)),l)throw l;yield c,c=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,t,n){"use strict";let r=e("./col-cache"),i=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,s=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;t.exports={slideFormula:function(o,a,l){let c=r.decode(a),u=r.decode(l);return o.replace(i,(d,h,f,p,g)=>{if(g)return d;let y=s.exec(p);if(y){let v=y[1],S=y[2].toUpperCase(),k=y[3],M=y[4];if(S.length>3||S.length===3&&S>"XFD")return d;let z=r.l2n(S),F=parseInt(M,10);return v||(z+=u.col-c.col),k||(F+=u.row-c.row),(h||"")+(v||"")+r.n2l(z)+(k||"")+F}return d})}}},{"./col-cache":19}],24:[function(e,t,n){(function(r,i){(function(){"use strict";let s=e("readable-stream"),o=e("./utils"),a=e("./string-buf");class l{constructor(p,g){this._data=p,this._encoding=g}get length(){return this.toBuffer().length}copy(p,g,y,v){return this.toBuffer().copy(p,g,y,v)}toBuffer(){return this._buffer||(this._buffer=i.from(this._data,this._encoding)),this._buffer}}class c{constructor(p){this._data=p}get length(){return this._data.length}copy(p,g,y,v){return this._data._buf.copy(p,g,y,v)}toBuffer(){return this._data.toBuffer()}}class u{constructor(p){this._data=p}get length(){return this._data.length}copy(p,g,y,v){this._data.copy(p,g,y,v)}toBuffer(){return this._data}}class d{constructor(p){this.size=p,this.buffer=i.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;let p=i.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let g;return p===0?null:p===void 0||p>=this.length?(g=this.toBuffer(),this.iRead=this.iWrite,g):(g=i.alloc(p),this.buffer.copy(g,0,this.iRead,p),this.iRead+=p,g)}write(p,g,y){let v=Math.min(y,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,g,g+v),this.iWrite+=v,v}}let h=function(f){f=f||{},this.bufSize=f.bufSize||1048576,this.buffers=[],this.batch=f.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};o.inherits(h,s.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return i.concat(this.buffers.map(f=>f.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){let p=this.buffers[this.buffers.length-1];if(!p.full)return p}let f=new d(this.bufSize);return this.buffers.push(f),f},async _pipe(f){await Promise.all(this.pipes.map(function(p){return new Promise(g=>{p.write(f.toBuffer(),()=>{g()})})}))},_writeToBuffers(f){let p=0,g=f.length;for(;p<g;)p+=this._getWritableBuffer().write(f,p,g-p)},async write(f,p,g){let y;if(p instanceof Function&&(g=p,p="utf8"),g=g||o.nop,f instanceof a)y=new c(f);else if(f instanceof i)y=new u(f);else{if(!(typeof f=="string"||f instanceof String||f instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new l(f,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),r.nextTick(g)):(await this._pipe(y),g());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(f,p,g){let y=v=>{v?g(v):(this._flush(),this.pipes.forEach(S=>{S.end()}),this.emit("finish"))};f?this.write(f,p,y):y()},read(f){let p;if(f){for(p=[];f&&this.buffers.length&&!this.buffers[0].eod;){let g=this.buffers[0],y=g.read(f);f-=y.length,p.push(y),g.eod&&g.full&&this.buffers.shift()}return i.concat(p)}return p=this.buffers.map(g=>g.toBuffer()).filter(Boolean),this.buffers=[],i.concat(p)},setEncoding(f){this.encoding=f},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(f){this.pipes.push(f),!this.paused&&this.buffers.length&&this.end()},unpipe(f){this.pipes=this.pipes.filter(p=>p!==f)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),t.exports=h}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,t,n){(function(r){(function(){"use strict";t.exports=class{constructor(i){this._buf=r.alloc(i&&i.size||16384),this._encoding=i&&i.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=r.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(i){i=i||0,this._buffer=void 0,this._inPos=i}_grow(i){let s=2*this._buf.length;for(;s<i;)s*=2;let o=r.alloc(s);this._buf.copy(o,0),this._buf=o}addText(i){this._buffer=void 0;let s=this._inPos+this._buf.write(i,this._inPos,this._encoding);for(;s>=this._buf.length-4;)this._grow(this._inPos+i.length),s=this._inPos+this._buf.write(i,this._inPos,this._encoding);this._inPos=s}addStringBuf(i){i.length&&(this._buffer=void 0,this.length+i.length>this.capacity&&this._grow(this.length+i.length),i._buf.copy(this._buf,this._inPos,0,i.length),this._inPos+=i.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,t,n){"use strict";let{toString:r}=Object.prototype,i=/["&<>]/,s={each:function(o,a){o&&(Array.isArray(o)?o.forEach(a):Object.keys(o).forEach(l=>{a(o[l],l)}))},some:function(o,a){return!!o&&(Array.isArray(o)?o.some(a):Object.keys(o).some(l=>a(o[l],l)))},every:function(o,a){return!o||(Array.isArray(o)?o.every(a):Object.keys(o).every(l=>a(o[l],l)))},map:function(o,a){return o?Array.isArray(o)?o.map(a):Object.keys(o).map(l=>a(o[l],l)):[]},keyBy:(o,a)=>o.reduce((l,c)=>(l[c[a]]=c,l),{}),isEqual:function(o,a){let l=typeof o,c=typeof a,u=Array.isArray(o),d=Array.isArray(a),h;if(l!==c)return!1;switch(typeof o){case"object":if(u||d)return!(!u||!d)&&o.length===a.length&&o.every((f,p)=>{let g=a[p];return s.isEqual(f,g)});if(o===null||a===null)return o===a;if(h=Object.keys(o),Object.keys(a).length!==h.length)return!1;for(let f of h)if(!a.hasOwnProperty(f))return!1;return s.every(o,(f,p)=>{let g=a[p];return s.isEqual(f,g)});default:return o===a}},escapeHtml(o){let a=i.exec(o);if(!a)return o;let l="",c="",u=0,d=a.index;for(;d<o.length;d++){switch(o.charAt(d)){case'"':c="&quot;";break;case"&":c="&amp;";break;case"'":c="&apos;";break;case"<":c="&lt;";break;case">":c="&gt;";break;default:continue}u!==d&&(l+=o.substring(u,d)),u=d+1,l+=c}return u!==d?l+o.substring(u,d):l},strcmp:(o,a)=>o<a?-1:o>a?1:0,isUndefined:o=>r.call(o)==="[object Undefined]",isObject:o=>r.call(o)==="[object Object]",deepMerge(){let o=arguments[0]||{},{length:a}=arguments,l,c,u;function d(h,f){l=o[f],u=Array.isArray(h),s.isObject(h)||u?(u?(u=!1,c=l&&Array.isArray(l)?l:[]):c=l&&s.isObject(l)?l:{},o[f]=s.deepMerge(c,h)):s.isUndefined(h)||(o[f]=h)}for(let h=0;h<a;h++)s.each(arguments[h],d);return o}};t.exports=s},{}],27:[function(e,t,n){(function(r,i){(function(){"use strict";let s=e("fs"),o=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:l=>new Promise(c=>{r.setImmediate?i(()=>{c(l)}):setTimeout(()=>{c(l)},1)}),inherits:function(l,c,u,d){l.super_=c,d||(d=u,u=null),u&&Object.keys(u).forEach(f=>{Object.defineProperty(l,f,Object.getOwnPropertyDescriptor(u,f))});let h={constructor:{value:l,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(f=>{h[f]=Object.getOwnPropertyDescriptor(d,f)}),l.prototype=Object.create(c.prototype,h)},dateToExcel:(l,c)=>25569+l.getTime()/864e5-(c?1462:0),excelToDate(l,c){let u=Math.round(24*(l-25569+(c?1462:0))*3600*1e3);return new Date(u)},parsePath(l){let c=l.lastIndexOf("/");return{path:l.substring(0,c),name:l.substring(c+1)}},getRelsPath(l){let c=a.parsePath(l);return`${c.path}/_rels/${c.name}.rels`},xmlEncode(l){let c=o.exec(l);if(!c)return l;let u="",d="",h=0,f=c.index;for(;f<l.length;f++){let p=l.charCodeAt(f);switch(p){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){d="";break}continue}h!==f&&(u+=l.substring(h,f)),h=f+1,d&&(u+=d)}return h!==f?u+l.substring(h,f):u},xmlDecode:l=>l.replace(/&([a-z]*);/g,c=>{switch(c){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return c}}),validInt(l){let c=parseInt(l,10);return Number.isNaN(c)?0:c},isDateFmt(l){return l?(l=(l=l.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:l=>new Promise(c=>{s.access(l,s.constants.F_OK,u=>{c(!u)})})},toIsoDateString:l=>l.toIsoString().subsstr(0,10),parseBoolean:l=>l===!0||l==="true"||l===1||l==="1"};t.exports=a}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,t,n){"use strict";let r=e("./under-dash"),i=e("./utils");function s(l,c,u){l.push(` ${c}="${i.xmlEncode(u.toString())}"`)}function o(l,c){if(c){let u=[];r.each(c,(d,h)=>{d!==void 0&&s(u,h,d)}),l.push(u.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(c){let u=this._xml;u.push("<?xml"),o(u,c),u.push(`?>
`)}openNode(c,u){let d=this.tos,h=this._xml;d&&this.open&&h.push(">"),this._stack.push(c),h.push("<"),h.push(c),o(h,u),this.leaf=!0,this.open=!0}addAttribute(c,u){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u!==void 0&&s(this._xml,c,u)}addAttributes(c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");o(this._xml,c)}writeText(c){let u=this._xml;this.open&&(u.push(">"),this.open=!1),this.leaf=!1,u.push(i.xmlEncode(c.toString()))}writeXml(c){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(c)}closeNode(){let c=this._stack.pop(),u=this._xml;this.leaf?u.push("/>"):(u.push("</"),u.push(c),u.push(">")),this.open=!1,this.leaf=!1}leafNode(c,u,d){this.openNode(c,u),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){let c=this._rollbacks.pop();this._xml.length>c.xml&&this._xml.splice(c.xml,this._xml.length-c.xml),this._stack.length>c.stack&&this._stack.splice(c.stack,this._stack.length-c.stack),this.leaf=c.leaf,this.open=c.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},t.exports=a},{"./under-dash":26,"./utils":27}],29:[function(e,t,n){(function(r){(function(){"use strict";let i=e("events"),s=e("jszip"),o=e("./stream-buf"),{stringToBuffer:a}=e("./browser-buffer-encode");class l extends i.EventEmitter{constructor(u){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},u),this.zip=new s,this.stream=new o}append(u,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,u,{base64:!0}):(r.browser&&typeof u=="string"&&(u=a(u)),this.zip.file(d.name,u))}async finalize(){let u=await this.zip.generateAsync(this.options);this.stream.end(u),this.emit("finish")}read(u){return this.stream.read(u)}setEncoding(u){return this.stream.setEncoding(u)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(u,d){return this.stream.pipe(u,d)}unpipe(u){return this.stream.unpipe(u)}unshift(u){return this.stream.unshift(u)}wrap(u){return this.stream.wrap(u)}}t.exports={ZipWriter:l}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,t,n){"use strict";t.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},28:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ja-jp":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":'yyyy"\uB144" mm"\uC6D4" dd"\uC77C"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65F6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uC2DC" mm"\uBD84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79D2"',"ko-kr":'h"\uC2DC" mm"\uBD84" ss"\uCD08"'},34:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},51:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},58:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,t,n){"use strict";t.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,t,n){"use strict";let r=e("../../utils/parse-sax"),i=e("../../utils/xml-stream");class s{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,l){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof s?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}async parse(a){for await(let l of a)for(let{eventType:c,value:u}of l)if(c==="opentag")this.parseOpen(u);else if(c==="text")this.parseText(u);else if(c==="closetag"&&!this.parseClose(u.name))return this.model;return this.model}async parseStream(a){return this.parse(r(a))}get xml(){return this.toXml(this.model)}toXml(a){let l=new i;return this.render(l,a),l.xml}static toAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(c)return l}else if(c||a!==l)return a.toString()}static toStringAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,l,c)}static toStringValue(a,l){return a===void 0?l:a}static toBoolAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(c)return l}else if(c||a!==l)return a?"1":"0"}static toBoolValue(a,l){return a===void 0?l:a==="1"}static toIntAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,l,c)}static toIntValue(a,l){return a===void 0?l:parseInt(a,10)}static toFloatAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,l,c)}static toFloatValue(a,l){return a===void 0?l:parseFloat(a)}}t.exports=s},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../../../utils/col-cache");function s(a){try{return i.decodeEx(a),!0}catch{return!1}}function o(a){let l=[],c=!1,u="";return a.split(",").forEach(d=>{if(!d)return;let h=(d.match(/'/g)||[]).length;if(!h)return void(c?u+=d+",":s(d)&&l.push(d));let f=h%2==0;!c&&f&&s(d)?l.push(d):c&&!f?(c=!1,s(u+d)&&l.push(u+d),u=""):(c=!0,u+=d+",")}),l}t.exports=class extends r{render(a,l){a.openNode("definedName",{name:l.name,localSheetId:l.localSheetId}),a.writeText(l.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:o(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,t,n){"use strict";let r=e("../../../utils/utils"),i=e("../base-xform");t.exports=class extends i{render(s,o){s.leafNode("sheet",{sheetId:o.id,name:o.name,state:o.state,"r:id":o.rId})}parseOpen(s){return s.name==="sheet"&&(this.model={name:r.xmlDecode(s.attributes.name),id:parseInt(s.attributes.sheetId,10),state:s.attributes.state,rId:s.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){i.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:s.fullCalcOnLoad?1:void 0})}parseOpen(i){return i.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){i.leafNode("workbookPr",{date1904:s.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(i){return i.name==="workbookPr"&&(this.model={date1904:i.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){let o={xWindow:s.x||0,yWindow:s.y||0,windowWidth:s.width||12e3,windowHeight:s.height||24e3,firstSheet:s.firstSheet,activeTab:s.activeTab};s.visibility&&s.visibility!=="visible"&&(o.visibility=s.visibility),i.leafNode("workbookView",o)}parseOpen(i){if(i.name==="workbookView"){let s=this.model={},o=function(l,c,u){let d=c!==void 0?s[l]=c:u;d!==void 0&&(s[l]=d)},a=function(l,c,u){let d=c!==void 0?s[l]=parseInt(c,10):u;d!==void 0&&(s[l]=d)};return a("x",i.attributes.xWindow,0),a("y",i.attributes.yWindow,0),a("width",i.attributes.windowWidth,25e3),a("height",i.attributes.windowHeight,1e4),o("visibility",i.attributes.visibility,"visible"),a("activeTab",i.attributes.activeTab,void 0),a("firstSheet",i.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../../../utils/col-cache"),s=e("../../../utils/xml-stream"),o=e("../base-xform"),a=e("../static-xform"),l=e("../list-xform"),c=e("./defined-name-xform"),u=e("./sheet-xform"),d=e("./workbook-view-xform"),h=e("./workbook-properties-xform"),f=e("./workbook-calc-properties-xform");class p extends o{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new h,bookViews:new l({tag:"bookViews",count:!1,childXform:new d}),sheets:new l({tag:"sheets",count:!1,childXform:new u}),definedNames:new l({tag:"definedNames",count:!1,childXform:new c}),calcPr:new f}}prepare(y){y.sheets=y.worksheets;let v=[],S=0;y.sheets.forEach(k=>{if(k.pageSetup&&k.pageSetup.printArea&&k.pageSetup.printArea.split("&&").forEach(M=>{let z=M.split(":"),F={name:"_xlnm.Print_Area",ranges:[`'${k.name}'!$${z[0]}:$${z[1]}`],localSheetId:S};v.push(F)}),k.pageSetup&&(k.pageSetup.printTitlesRow||k.pageSetup.printTitlesColumn)){let M=[];if(k.pageSetup.printTitlesColumn){let F=k.pageSetup.printTitlesColumn.split(":");M.push(`'${k.name}'!$${F[0]}:$${F[1]}`)}if(k.pageSetup.printTitlesRow){let F=k.pageSetup.printTitlesRow.split(":");M.push(`'${k.name}'!$${F[0]}:$${F[1]}`)}let z={name:"_xlnm.Print_Titles",ranges:M,localSheetId:S};v.push(z)}S++}),v.length&&(y.definedNames=y.definedNames.concat(v)),(y.media||[]).forEach((k,M)=>{k.name=k.type+(M+1)})}render(y,v){y.openXml(s.StdDocAttributes),y.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,v.properties),this.map.bookViews.render(y,v.views),this.map.sheets.render(y,v.sheets),this.map.definedNames.render(y,v.definedNames),this.map.calcPr.render(y,v.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){let v=(y.workbookRels||[]).reduce((F,j)=>(F[j.Id]=j,F),{}),S=[],k,M=0;(y.sheets||[]).forEach(F=>{let j=v[F.rId];j&&(k=y.worksheetHash["xl/"+j.Target.replace(/^(\s|\/xl\/)+/,"")],k&&(k.name=F.name,k.id=F.id,k.state=F.state,S[M++]=k))});let z=[];r.each(y.definedNames,F=>{if(F.name==="_xlnm.Print_Area"){if(k=S[F.localSheetId],k){k.pageSetup||(k.pageSetup={});let j=i.decodeEx(F.ranges[0]);k.pageSetup.printArea=k.pageSetup.printArea?`${k.pageSetup.printArea}&&${j.dimensions}`:j.dimensions}}else if(F.name==="_xlnm.Print_Titles"){if(k=S[F.localSheetId],k){k.pageSetup||(k.pageSetup={});let j=F.ranges.join(","),B=/\$/g,U=/\$\d+:\$\d+/,V=j.match(U);if(V&&V.length){let R=V[0];k.pageSetup.printTitlesRow=R.replace(B,"")}let E=/\$[A-Z]+:\$[A-Z]+/,C=j.match(E);if(C&&C.length){let R=C[0];k.pageSetup.printTitlesColumn=R.replace(B,"")}}}else z.push(F)}),y.definedNames=z,y.media.forEach((F,j)=>{F.index=j})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},t.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,t,n){"use strict";let r=e("../strings/rich-text-xform"),i=e("../../../utils/utils"),s=e("../base-xform"),o=t.exports=function(a){this.model=a};i.inherits(o,s,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new r),this._richTextXform},render(a,l){l=l||this.model,a.openNode("comment",{ref:l.ref,authorId:0}),a.openNode("text"),l&&l.note&&l.note.texts&&l.note.texts.forEach(c=>{this.richTextXform.render(a,c)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model=at({type:"note",note:{texts:[]}},a.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../../../utils/utils"),s=e("../base-xform"),o=e("./comment-xform"),a=t.exports=function(){this.map={comment:new o}};i.inherits(a,s,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(l,c){c=c||this.model,l.openXml(r.StdDocAttributes),l.openNode("comments",a.COMMENTS_ATTRIBUTES),l.openNode("authors"),l.leafNode("author",null,"Author"),l.closeNode(),l.openNode("commentList"),c.comments.forEach(u=>{this.map.comment.render(l,u)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,s,o){(s===o[2]||this.tag==="x:SizeWithCells"&&s===o[1])&&i.leafNode(this.tag)}parseOpen(i){switch(i.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"x:Anchor"}getAnchorRect(i){let s=Math.floor(i.left),o=Math.floor(68*(i.left-s)),a=Math.floor(i.top),l=Math.floor(18*(i.top-a)),c=Math.floor(i.right),u=Math.floor(68*(i.right-c)),d=Math.floor(i.bottom);return[s,o,a,l,c,u,d,Math.floor(18*(i.bottom-d))]}getDefaultRect(i){let s=i.col,o=Math.max(i.row-2,0);return[s,6,o,14,s+2,2,o+4,16]}render(i,s){let o=s.anchor?this.getAnchorRect(s.anchor):this.getDefaultRect(s.refAddress);i.leafNode("x:Anchor",null,o.join(", "))}parseOpen(i){switch(i.name){case this.tag:return this.text="",!0;default:return!1}}parseText(i){this.text=i}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./vml-anchor-xform"),s=e("./style/vml-protection-xform"),o=e("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];t.exports=class extends r{constructor(){super(),this.map={"x:Anchor":new i,"x:Locked":new s({tag:"x:Locked"}),"x:LockText":new s({tag:"x:LockText"}),"x:SizeWithCells":new o({tag:"x:SizeWithCells"}),"x:MoveWithCells":new o({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(l,c){let{protection:u,editAs:d}=c.note;l.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(l,d,a),this.map["x:SizeWithCells"].render(l,d,a),this.map["x:Anchor"].render(l,c),this.map["x:Locked"].render(l,u.locked),l.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(l,u.lockText),l.leafNode("x:Row",null,c.refAddress.row-1),l.leafNode("x:Column",null,c.refAddress.col-1),l.closeNode()}parseOpen(l){switch(l.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){let l=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),c=Object.keys(l).length;this.model.editAs=a[c],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("./vml-shape-xform");class o extends i{constructor(){super(),this.map={"v:shape":new s}}get tag(){return"xml"}render(l,c){l.openXml(r.StdDocAttributes),l.openNode(this.tag,o.DRAWING_ATTRIBUTES),l.openNode("o:shapelayout",{"v:ext":"edit"}),l.leafNode("o:idmap",{"v:ext":"edit",data:1}),l.closeNode(),l.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),l.leafNode("v:stroke",{joinstyle:"miter"}),l.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),l.closeNode(),c.comments.forEach((u,d)=>{this.map["v:shape"].render(l,u,d)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,c){l.anchors.forEach(u=>{u.br?this.map["xdr:twoCellAnchor"].reconcile(u,c):this.map["xdr:oneCellAnchor"].reconcile(u,c)})}}o.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},t.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./vml-textbox-xform"),s=e("./vml-client-data-xform");class o extends r{constructor(){super(),this.map={"v:textbox":new i,"x:ClientData":new s}}get tag(){return"v:shape"}render(l,c,u){l.openNode("v:shape",o.V_SHAPE_ATTRIBUTES(c,u)),l.leafNode("v:fill",{color2:"infoBackground [80]"}),l.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),l.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(l,c),this.map["x:ClientData"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={margins:{insetmode:l.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}o.V_SHAPE_ATTRIBUTES=(a,l)=>({id:"_x0000_s"+(1025+l),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),t.exports=o},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"v:textbox"}conversionUnit(i,s,o){return`${parseFloat(i)*s.toFixed(2)}${o}`}reverseConversionUnit(i){return(i||"").split(",").map(s=>Number(parseFloat(this.conversionUnit(parseFloat(s),.1,"")).toFixed(2)))}render(i,s){let o={style:"mso-direction-alt:auto"};if(s&&s.note){let{inset:a}=s.note&&s.note.margins;Array.isArray(a)&&(a=a.map(l=>this.conversionUnit(l,10,"mm")).join(",")),a&&(o.inset=a)}i.openNode("v:textbox",o),i.leafNode("div",{style:"text-align:left"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:return this.model={inset:this.reverseConversionUnit(i.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,t,n){"use strict";let r=e("./base-xform");t.exports=class extends r{createNewModel(i){return{}}parseOpen(i){return this.parser=this.parser||this.map[i.name],this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag&&(this.model=this.createNewModel(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}onParserClose(i,s){this.model[i]=s.model}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.onParserClose(i,this.parser),this.parser=void 0),!0):i!==this.tag}}},{"./base-xform":32}],49:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){i.openNode("HeadingPairs"),i.openNode("vt:vector",{size:2,baseType:"variant"}),i.openNode("vt:variant"),i.leafNode("vt:lpstr",void 0,"Worksheets"),i.closeNode(),i.openNode("vt:variant"),i.leafNode("vt:i4",void 0,s.length),i.closeNode(),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="HeadingPairs"}parseText(){}parseClose(i){return i!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){i.openNode("TitlesOfParts"),i.openNode("vt:vector",{size:s.length,baseType:"lpstr"}),s.forEach(o=>{i.leafNode("vt:lpstr",void 0,o.name)}),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="TitlesOfParts"}parseText(){}parseClose(i){return i!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("../simple/string-xform"),o=e("./app-heading-pairs-xform"),a=e("./app-titles-of-parts-xform");class l extends i{constructor(){super(),this.map={Company:new s({tag:"Company"}),Manager:new s({tag:"Manager"}),HeadingPairs:new o,TitleOfParts:new a}}render(u,d){u.openXml(r.StdDocAttributes),u.openNode("Properties",l.PROPERTY_ATTRIBUTES),u.leafNode("Application",void 0,"Microsoft Excel"),u.leafNode("DocSecurity",void 0,"0"),u.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(u,d.worksheets),this.map.TitleOfParts.render(u,d.worksheets),this.map.Company.render(u,d.company||""),this.map.Manager.render(u,d.manager),u.leafNode("LinksUpToDate",void 0,"false"),u.leafNode("SharedDoc",void 0,"false"),u.leafNode("HyperlinksChanged",void 0,"false"),u.leafNode("AppVersion",void 0,"16.0300"),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Properties":return!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}l.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3,6}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},t.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform");class s extends i{render(a,l){a.openXml(r.StdDocAttributes),a.openNode("Types",s.PROPERTY_ATTRIBUTES);let c={};(l.media||[]).forEach(u=>{if(u.type==="image"){let d=u.extension;c[d]||(c[d]=!0,a.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),l.worksheets.forEach(u=>{let d=`/xl/worksheets/sheet${u.id}.xml`;a.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),l.sharedStrings&&l.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),l.tables&&l.tables.forEach(u=>{a.leafNode("Override",{PartName:"/xl/tables/"+u.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),l.drawings&&l.drawings.forEach(u=>{a.leafNode("Override",{PartName:`/xl/drawings/${u.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),l.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),l.commentRefs.forEach(u=>{let{commentName:d}=u;a.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}s.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},t.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("../simple/date-xform"),o=e("../simple/string-xform"),a=e("../simple/integer-xform");class l extends i{constructor(){super(),this.map={"dc:creator":new o({tag:"dc:creator"}),"dc:title":new o({tag:"dc:title"}),"dc:subject":new o({tag:"dc:subject"}),"dc:description":new o({tag:"dc:description"}),"dc:identifier":new o({tag:"dc:identifier"}),"dc:language":new o({tag:"dc:language"}),"cp:keywords":new o({tag:"cp:keywords"}),"cp:category":new o({tag:"cp:category"}),"cp:lastModifiedBy":new o({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new s({tag:"cp:lastPrinted",format:l.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new o({tag:"cp:version"}),"cp:contentStatus":new o({tag:"cp:contentStatus"}),"cp:contentType":new o({tag:"cp:contentType"}),"dcterms:created":new s({tag:"dcterms:created",attrs:l.DateAttrs,format:l.DateFormat}),"dcterms:modified":new s({tag:"dcterms:modified",attrs:l.DateAttrs,format:l.DateFormat})}}render(u,d){u.openXml(r.StdDocAttributes),u.openNode("cp:coreProperties",l.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(u,d.creator),this.map["dc:title"].render(u,d.title),this.map["dc:subject"].render(u,d.subject),this.map["dc:description"].render(u,d.description),this.map["dc:identifier"].render(u,d.identifier),this.map["dc:language"].render(u,d.language),this.map["cp:keywords"].render(u,d.keywords),this.map["cp:category"].render(u,d.category),this.map["cp:lastModifiedBy"].render(u,d.lastModifiedBy),this.map["cp:lastPrinted"].render(u,d.lastPrinted),this.map["cp:revision"].render(u,d.revision),this.map["cp:version"].render(u,d.version),this.map["cp:contentStatus"].render(u,d.contentStatus),this.map["cp:contentType"].render(u,d.contentType),this.map["dcterms:created"].render(u,d.created),this.map["dcterms:modified"].render(u,d.modified),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},t.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{render(i,s){i.leafNode("Relationship",s)}parseOpen(i){switch(i.name){case"Relationship":return this.model=i.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("./relationship-xform");class o extends i{constructor(){super(),this.map={Relationship:new s}}render(l,c){c=c||this._values,l.openXml(r.StdDocAttributes),l.openNode("Relationships",o.RELATIONSHIPS_ATTRIBUTES),c.forEach(u=>{this.map.Relationship.render(l,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[l.name],this.parser)return this.parser.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(l){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}o.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},t.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={range:{editAs:i.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(i){this.parser&&this.parser.parseText(i)}reconcilePicture(i,s){if(i&&i.rId){let o=s.rels[i.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(o){let a=o[1],l=s.mediaIndex[a];return s.media[l]}}}}},{"../base-xform":32}],57:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./blip-xform");t.exports=class extends r{constructor(){super(),this.map={"a:blip":new i}}get tag(){return"xdr:blipFill"}render(s,o){s.openNode(this.tag),this.map["a:blip"].render(s,o),s.openNode("a:stretch"),s.leafNode("a:fillRect"),s.closeNode(),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"a:blip"}render(i,s){i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":s.rId,cstate:"print"})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"xdr:cNvPicPr"}render(i){i.openNode(this.tag),i.leafNode("a:picLocks",{noChangeAspect:"1"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./hlink-click-xform"),s=e("./ext-lst-xform");t.exports=class extends r{constructor(){super(),this.map={"a:hlinkClick":new i,"a:extLst":new s}}get tag(){return"xdr:cNvPr"}render(o,a){o.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(o,a),this.map["a:extLst"].render(o,a),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../simple/integer-xform");t.exports=class extends r{constructor(s){super(),this.tag=s.tag,this.map={"xdr:col":new i({tag:"xdr:col",zero:!0}),"xdr:colOff":new i({tag:"xdr:colOff",zero:!0}),"xdr:row":new i({tag:"xdr:row",zero:!0}),"xdr:rowOff":new i({tag:"xdr:rowOff",zero:!0})}}render(s,o){s.openNode(this.tag),this.map["xdr:col"].render(s,o.nativeCol),this.map["xdr:colOff"].render(s,o.nativeColOff),this.map["xdr:row"].render(s,o.nativeRow),this.map["xdr:rowOff"].render(s,o.nativeRowOff),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,t,n){"use strict";let r=e("../../../utils/col-cache"),i=e("../../../utils/xml-stream"),s=e("../base-xform"),o=e("./two-cell-anchor-xform"),a=e("./one-cell-anchor-xform");class l extends s{constructor(){super(),this.map={"xdr:twoCellAnchor":new o,"xdr:oneCellAnchor":new a}}prepare(u){u.anchors.forEach((d,h)=>{d.anchorType=function(f){return(typeof f.range=="string"?r.decode(f.range):f.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(d),this.map[d.anchorType].prepare(d,{index:h})})}get tag(){return"xdr:wsDr"}render(u,d){u.openXml(i.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),d.anchors.forEach(h=>{this.map[h.anchorType].render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,d){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,d):this.map["xdr:oneCellAnchor"].reconcile(h,d)})}}l.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},t.exports=l},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"a:extLst"}render(i){i.openNode(this.tag),i.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),i.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),i.closeNode(),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.map={}}render(i,s){i.openNode(this.tag);let o=Math.floor(9525*s.width),a=Math.floor(9525*s.height);i.addAttribute("cx",o),i.addAttribute("cy",a),i.closeNode()}parseOpen(i){return i.name===this.tag&&(this.model={width:parseInt(i.attributes.cx||"0",10)/9525,height:parseInt(i.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"a:hlinkClick"}render(i,s){s.hyperlinks&&s.hyperlinks.rId&&i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":s.hyperlinks.rId,tooltip:s.hyperlinks.tooltip})}parseOpen(i){switch(i.name){case this.tag:return this.model={hyperlinks:{rId:i.attributes["r:id"],tooltip:i.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./c-nv-pr-xform"),s=e("./c-nv-pic-pr-xform");t.exports=class extends r{constructor(){super(),this.map={"xdr:cNvPr":new i,"xdr:cNvPicPr":new s}}get tag(){return"xdr:nvPicPr"}render(o,a){o.openNode(this.tag),this.map["xdr:cNvPr"].render(o,a),this.map["xdr:cNvPicPr"].render(o,a),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,t,n){"use strict";let r=e("./base-cell-anchor-xform"),i=e("../static-xform"),s=e("./cell-position-xform"),o=e("./ext-xform"),a=e("./pic-xform");t.exports=class extends r{constructor(){super(),this.map={"xdr:from":new s({tag:"xdr:from"}),"xdr:ext":new o({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(l,c){this.map["xdr:pic"].prepare(l.picture,c)}render(l,c){l.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,c.range.tl),this.map["xdr:ext"].render(l,c.range.ext),this.map["xdr:pic"].render(l,c.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,c){l.medium=this.reconcilePicture(l.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../static-xform"),s=e("./blip-fill-xform"),o=e("./nv-pic-pr-xform"),a=e("./sp-pr");t.exports=class extends r{constructor(){super(),this.map={"xdr:nvPicPr":new o,"xdr:blipFill":new s,"xdr:spPr":new i(a)}}get tag(){return"xdr:pic"}prepare(l,c){l.index=c.index+1}render(l,c){l.openNode(this.tag),this.map["xdr:nvPicPr"].render(l,c),this.map["xdr:blipFill"].render(l,c),this.map["xdr:spPr"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,t,n){"use strict";t.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,t,n){"use strict";let r=e("./base-cell-anchor-xform"),i=e("../static-xform"),s=e("./cell-position-xform"),o=e("./pic-xform");t.exports=class extends r{constructor(){super(),this.map={"xdr:from":new s({tag:"xdr:from"}),"xdr:to":new s({tag:"xdr:to"}),"xdr:pic":new o,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,l){this.map["xdr:pic"].prepare(a.picture,l)}render(a,l){a.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,l.range.tl),this.map["xdr:to"].render(a,l.range.br),this.map["xdr:pic"].render(a,l.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,l){a.medium=this.reconcilePicture(a.picture,l)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,t,n){"use strict";let r=e("./base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.always=!!i.always,this.count=i.count,this.empty=i.empty,this.$count=i.$count||"count",this.$=i.$,this.childXform=i.childXform,this.maxItems=i.maxItems}prepare(i,s){let{childXform:o}=this;i&&i.forEach((a,l)=>{s.index=l,o.prepare(a,s)})}render(i,s){if(this.always||s&&s.length){i.openNode(this.tag,this.$),this.count&&i.addAttribute(this.$count,s&&s.length||0);let{childXform:o}=this;(s||[]).forEach((a,l)=>{o.render(i,a,l)}),i.closeNode()}else this.empty&&i.leafNode(this.tag)}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(i)&&(this.parser=this.childXform,!0)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(i,s){if(i){let{childXform:o}=this;i.forEach(a=>{o.reconcile(a,s)})}}}},{"./base-xform":32}],72:[function(e,t,n){"use strict";let r=e("../../../utils/col-cache"),i=e("../base-xform");t.exports=class extends i{get tag(){return"autoFilter"}render(s,o){if(o)if(typeof o=="string")s.leafNode("autoFilter",{ref:o});else{let a=function(u){return typeof u=="string"?u:r.getAddress(u.row,u.column).address},l=a(o.from),c=a(o.to);l&&c&&s.leafNode("autoFilter",{ref:`${l}:${c}`})}}parseOpen(s){s.name==="autoFilter"&&(this.model=s.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,t,n){"use strict";let r=e("../../../utils/utils"),i=e("../base-xform"),s=e("../../../doc/range"),o=e("../../../doc/enums"),a=e("../strings/rich-text-xform");function l(c){if(c==null)return o.ValueType.Null;if(c instanceof String||typeof c=="string")return o.ValueType.String;if(typeof c=="number")return o.ValueType.Number;if(typeof c=="boolean")return o.ValueType.Boolean;if(c instanceof Date)return o.ValueType.Date;if(c.text&&c.hyperlink)return o.ValueType.Hyperlink;if(c.formula)return o.ValueType.Formula;if(c.error)return o.ValueType.Error;throw new Error("I could not understand type of value")}t.exports=class extends i{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(c,u){let d=u.styles.addStyleModel(c.style||{},function(h){switch(h.type){case o.ValueType.Formula:return l(h.result);default:return h.type}}(c));switch(d&&(c.styleId=d),c.comment&&u.comments.push(Zt(at({},c.comment),{ref:c.address})),c.type){case o.ValueType.String:case o.ValueType.RichText:u.sharedStrings&&(c.ssId=u.sharedStrings.add(c.value));break;case o.ValueType.Date:u.date1904&&(c.date1904=!0);break;case o.ValueType.Hyperlink:u.sharedStrings&&c.text!==void 0&&c.text!==null&&(c.ssId=u.sharedStrings.add(c.text)),u.hyperlinks.push({address:c.address,target:c.hyperlink,tooltip:c.tooltip});break;case o.ValueType.Merge:u.merges.add(c);break;case o.ValueType.Formula:if(u.date1904&&(c.date1904=!0),c.shareType==="shared"&&(c.si=u.siFormulae++),c.formula)u.formulae[c.address]=c;else if(c.sharedFormula){let h=u.formulae[c.sharedFormula];if(!h)throw new Error("Shared Formula master must exist above and or left of clone for cell "+c.address);h.si===void 0?(h.shareType="shared",h.si=u.siFormulae++,h.range=new s(h.address,c.address)):h.range&&h.range.expandToAddress(c.address),c.si=h.si}}}renderFormula(c,u){let d=null;switch(u.shareType){case"shared":d={t:"shared",ref:u.ref||u.range.range,si:u.si};break;case"array":d={t:"array",ref:u.ref};break;default:u.si!==void 0&&(d={t:"shared",si:u.si})}switch(l(u.result)){case o.ValueType.Null:c.leafNode("f",d,u.formula);break;case o.ValueType.String:c.addAttribute("t","str"),c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result);break;case o.ValueType.Number:c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result);break;case o.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result?1:0);break;case o.ValueType.Error:c.addAttribute("t","e"),c.leafNode("f",d,u.formula),c.leafNode("v",null,u.result.error);break;case o.ValueType.Date:c.leafNode("f",d,u.formula),c.leafNode("v",null,r.dateToExcel(u.result,u.date1904));break;default:throw new Error("I could not understand type of value")}}render(c,u){if(u.type!==o.ValueType.Null||u.styleId){switch(c.openNode("c"),c.addAttribute("r",u.address),u.styleId&&c.addAttribute("s",u.styleId),u.type){case o.ValueType.Null:break;case o.ValueType.Number:c.leafNode("v",null,u.value);break;case o.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("v",null,u.value?"1":"0");break;case o.ValueType.Error:c.addAttribute("t","e"),c.leafNode("v",null,u.value.error);break;case o.ValueType.String:case o.ValueType.RichText:u.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,u.ssId)):u.value&&u.value.richText?(c.addAttribute("t","inlineStr"),c.openNode("is"),u.value.richText.forEach(d=>{this.richTextXForm.render(c,d)}),c.closeNode("is")):(c.addAttribute("t","str"),c.leafNode("v",null,u.value));break;case o.ValueType.Date:c.leafNode("v",null,r.dateToExcel(u.value,u.date1904));break;case o.ValueType.Hyperlink:u.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,u.ssId)):(c.addAttribute("t","str"),c.leafNode("v",null,u.text));break;case o.ValueType.Formula:this.renderFormula(c,u);break;case o.ValueType.Merge:}c.closeNode()}}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"c":return this.model={address:c.attributes.r},this.t=c.attributes.t,c.attributes.s&&(this.model.styleId=parseInt(c.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=c.attributes.si,this.model.shareType=c.attributes.t,this.model.ref=c.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){if(this.parser)this.parser.parseText(c);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+c:c;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+c:c:this.model.value=this.model.value?this.model.value+c:c}}parseClose(c){switch(c){case"c":{let{model:u}=this;if(u.formula||u.shareType)u.type=o.ValueType.Formula,u.value&&(this.t==="str"?u.result=r.xmlDecode(u.value):this.t==="b"?u.result=parseInt(u.value,10)!==0:this.t==="e"?u.result={error:u.value}:u.result=parseFloat(u.value),u.value=void 0);else if(u.value!==void 0)switch(this.t){case"s":u.type=o.ValueType.String,u.value=parseInt(u.value,10);break;case"str":u.type=o.ValueType.String,u.value=r.xmlDecode(u.value);break;case"inlineStr":u.type=o.ValueType.String;break;case"b":u.type=o.ValueType.Boolean,u.value=parseInt(u.value,10)!==0;break;case"e":u.type=o.ValueType.Error,u.value={error:u.value};break;default:u.type=o.ValueType.Number,u.value=parseFloat(u.value)}else u.styleId?u.type=o.ValueType.Null:u.type=o.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(c),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(c),!0)}}reconcile(c,u){let d=c.styleId&&u.styles&&u.styles.getStyleModel(c.styleId);switch(d&&(c.style=d),c.styleId!==void 0&&(c.styleId=void 0),c.type){case o.ValueType.String:typeof c.value=="number"&&u.sharedStrings&&(c.value=u.sharedStrings.getString(c.value)),c.value.richText&&(c.type=o.ValueType.RichText);break;case o.ValueType.Number:d&&r.isDateFmt(d.numFmt)&&(c.type=o.ValueType.Date,c.value=r.excelToDate(c.value,u.date1904));break;case o.ValueType.Formula:c.result!==void 0&&d&&r.isDateFmt(d.numFmt)&&(c.result=r.excelToDate(c.result,u.date1904)),c.shareType==="shared"&&(c.ref?u.formulae[c.si]=c.address:(c.sharedFormula=u.formulae[c.si],delete c.shareType),delete c.si)}let h=u.hyperlinkMap[c.address];h&&(c.type===o.ValueType.Formula?(c.text=c.result,c.result=void 0):(c.text=c.value,c.value=void 0),c.type=o.ValueType.Hyperlink,c.hyperlink=h);let f=u.commentsMap&&u.commentsMap[c.address];f&&(c.comment=f)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{get tag(){return"x14:cfIcon"}render(i,s){i.leafNode(this.tag,{iconSet:s.iconSet,iconId:s.iconId})}parseOpen(i){let{attributes:s}=i;this.model={iconSet:s.iconSet,iconId:r.toIntValue(s.iconId)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],75:[function(e,t,n){"use strict";let{v4:r}=e("uuid"),i=e("../../base-xform"),s=e("../../composite-xform"),o=e("./databar-ext-xform"),a=e("./icon-set-ext-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class c extends s{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new o,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?o.isExt(d):!(d.type!=="iconSet"||!d.custom&&!l[d.iconSet])}prepare(d){c.isExt(d)&&(d.x14Id=`{${r()}}`.toUpperCase())}render(d,h){if(c.isExt(h))switch(h.type){case"dataBar":this.renderDataBar(d,h);break;case"iconSet":this.renderIconSet(d,h)}}renderDataBar(d,h){d.openNode(this.tag,{type:"dataBar",id:h.x14Id}),this.databarXform.render(d,h),d.closeNode()}renderIconSet(d,h){d.openNode(this.tag,{type:"iconSet",priority:h.priority,id:h.x14Id||`{${r()}}`}),this.iconSetXform.render(d,h),d.closeNode()}createNewModel(d){let{attributes:h}=d;return{type:h.type,x14Id:h.id,priority:i.toIntValue(h.priority)}}onParserClose(d,h){Object.assign(this.model,h.model)}}t.exports=c},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("./f-ext-xform");t.exports=class extends r{constructor(){super(),this.map={"xm:f":this.fExtXform=new i}}get tag(){return"x14:cfvo"}render(s,o){s.openNode(this.tag,{type:o.type}),o.value!==void 0&&this.fExtXform.render(s,o.value),s.closeNode()}createNewModel(s){return{type:s.attributes.type}}onParserClose(s,o){switch(s){case"xm:f":this.model.value=o.model?parseFloat(o.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("./sqref-ext-xform"),s=e("./cf-rule-ext-xform");t.exports=class extends r{constructor(){super(),this.map={"xm:sqref":this.sqRef=new i,"x14:cfRule":this.cfRule=new s}}get tag(){return"x14:conditionalFormatting"}prepare(o,a){o.rules.forEach(l=>{this.cfRule.prepare(l,a)})}render(o,a){a.rules.some(s.isExt)&&(o.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(s.isExt).forEach(l=>this.cfRule.render(o,l)),this.sqRef.render(o,a.ref),o.closeNode())}createNewModel(){return{rules:[]}}onParserClose(o,a){switch(o){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("./cf-rule-ext-xform"),s=e("./conditional-formatting-ext-xform");t.exports=class extends r{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new s}}get tag(){return"x14:conditionalFormattings"}hasContent(o){return o.hasExtContent===void 0&&(o.hasExtContent=o.some(a=>a.rules.some(i.isExt))),o.hasExtContent}prepare(o,a){o.forEach(l=>{this.cfXform.prepare(l,a)})}render(o,a){this.hasContent(a)&&(o.openNode(this.tag),a.forEach(l=>this.cfXform.render(o,l)),o.closeNode())}createNewModel(){return[]}onParserClose(o,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("../../composite-xform"),s=e("../../style/color-xform"),o=e("./cfvo-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:borderColor":this.borderColorXform=new s("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new s("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new s("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new s("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,l){a.openNode(this.tag,{minLength:r.toIntAttribute(l.minLength,0,!0),maxLength:r.toIntAttribute(l.maxLength,100,!0),border:r.toBoolAttribute(l.border,!1),gradient:r.toBoolAttribute(l.gradient,!0),negativeBarColorSameAsPositive:r.toBoolAttribute(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolAttribute(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toAttribute(l.axisPosition,"auto"),direction:r.toAttribute(l.direction,"leftToRight")}),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),this.borderColorXform.render(a,l.borderColor),this.negativeBorderColorXform.render(a,l.negativeBorderColor),this.negativeFillColorXform.render(a,l.negativeFillColor),this.axisColorXform.render(a,l.axisColor),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],minLength:r.toIntValue(l.minLength,0),maxLength:r.toIntValue(l.maxLength,100),border:r.toBoolValue(l.border,!1),gradient:r.toBoolValue(l.gradient,!0),negativeBarColorSameAsPositive:r.toBoolValue(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolValue(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toStringValue(l.axisPosition,"auto"),direction:r.toStringValue(l.direction,"leftToRight")}}onParserClose(a,l){let[,c]=a.split(":");switch(c){case"cfvo":this.model.cfvo.push(l.model);break;default:this.model[c]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{get tag(){return"xm:f"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],81:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("../../composite-xform"),s=e("./cfvo-ext-xform"),o=e("./cf-icon-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:cfIcon":this.cfIconXform=new o}}get tag(){return"x14:iconSet"}render(a,l){a.openNode(this.tag,{iconSet:r.toStringAttribute(l.iconSet),reverse:r.toBoolAttribute(l.reverse,!1),showValue:r.toBoolAttribute(l.showValue,!0),custom:r.toBoolAttribute(l.icons,!1)}),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),l.icons&&l.icons.forEach((c,u)=>{c.iconId=u,this.cfIconXform.render(a,c)}),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],iconSet:r.toStringValue(l.iconSet,"3TrafficLights"),reverse:r.toBoolValue(l.reverse,!1),showValue:r.toBoolValue(l.showValue,!0)}}onParserClose(a,l){let[,c]=a.split(":");switch(c){case"cfvo":this.model.cfvo.push(l.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(l.model);break;default:this.model[c]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{get tag(){return"xm:sqref"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],83:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("../../composite-xform"),s=e("../../../../doc/range"),o=e("./databar-xform"),a=e("./ext-lst-ref-xform"),l=e("./formula-xform"),c=e("./color-scale-xform"),u=e("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},h=p=>{let{type:g,operator:y}=p;switch(g){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:g};default:return{type:g,operator:y}}};class f extends i{constructor(){super(),this.map={dataBar:this.databarXform=new o,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new l,colorScale:this.colorScaleXform=new c,iconSet:this.iconSetXform=new u}}get tag(){return"cfRule"}static isPrimitive(g){return g.type!=="iconSet"||!g.custom&&!d[g.iconSet]}render(g,y){switch(y.type){case"expression":this.renderExpression(g,y);break;case"cellIs":this.renderCellIs(g,y);break;case"top10":this.renderTop10(g,y);break;case"aboveAverage":this.renderAboveAverage(g,y);break;case"dataBar":this.renderDataBar(g,y);break;case"colorScale":this.renderColorScale(g,y);break;case"iconSet":this.renderIconSet(g,y);break;case"containsText":this.renderText(g,y);break;case"timePeriod":this.renderTimePeriod(g,y)}}renderExpression(g,y){g.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(g,y.formulae[0]),g.closeNode()}renderCellIs(g,y){g.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(v=>{this.formulaXform.render(g,v)}),g.closeNode()}renderTop10(g,y){g.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:r.toBoolAttribute(y.percent,!1),bottom:r.toBoolAttribute(y.bottom,!1),rank:r.toIntValue(y.rank,10,!0)})}renderAboveAverage(g,y){g.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:r.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(g,y){g.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(g,y),this.extLstRefXform.render(g,y),g.closeNode()}renderColorScale(g,y){g.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(g,y),g.closeNode()}renderIconSet(g,y){f.isPrimitive(y)&&(g.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(g,y),g.closeNode())}renderText(g,y){g.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:r.toStringAttribute(y.operator,"containsText")});let v=(S=>{if(S.formulae&&S.formulae[0])return S.formulae[0];let k=new s(S.ref),{tl:M}=k;switch(S.operator){case"containsText":return`NOT(ISERROR(SEARCH("${S.text}",${M})))`;case"containsBlanks":return`LEN(TRIM(${M}))=0`;case"notContainsBlanks":return`LEN(TRIM(${M}))>0`;case"containsErrors":return`ISERROR(${M})`;case"notContainsErrors":return`NOT(ISERROR(${M}))`;default:return}})(y);v&&this.formulaXform.render(g,v),g.closeNode()}renderTimePeriod(g,y){g.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});let v=(S=>{if(S.formulae&&S.formulae[0])return S.formulae[0];let k=new s(S.ref),{tl:M}=k;switch(S.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${M},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${M},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${M},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${M},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${M},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${M},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${M},1)=TODAY()-1`;case"today":return`FLOOR(${M},1)=TODAY()`;case"tomorrow":return`FLOOR(${M},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${M},1)<=6,FLOOR(${M},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${M})=MONTH(EDATE(TODAY(),0-1)),YEAR(${M})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${M})=MONTH(TODAY()),YEAR(${M})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${M})=MONTH(EDATE(TODAY(),0+1)),YEAR(${M})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);v&&this.formulaXform.render(g,v),g.closeNode()}createNewModel(g){let{attributes:y}=g;return Zt(at({},h(y)),{dxfId:r.toIntValue(y.dxfId),priority:r.toIntValue(y.priority),timePeriod:y.timePeriod,percent:r.toBoolValue(y.percent),bottom:r.toBoolValue(y.bottom),rank:r.toIntValue(y.rank),aboveAverage:r.toBoolValue(y.aboveAverage)})}onParserClose(g,y){switch(g){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}t.exports=f},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{get tag(){return"cfvo"}render(i,s){i.leafNode(this.tag,{type:s.type,val:s.value})}parseOpen(i){this.model={type:i.attributes.type,value:r.toFloatValue(i.attributes.val)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],85:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("../../style/color-xform"),s=e("./cfvo-xform");t.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new s,color:this.colorXform=new i}}get tag(){return"colorScale"}render(o,a){o.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(o,l)}),a.color.forEach(l=>{this.colorXform.render(o,l)}),o.closeNode()}createNewModel(o){return{cfvo:[],color:[]}}onParserClose(o,a){this.model[o].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("./cf-rule-xform");t.exports=class extends r{constructor(){super(),this.map={cfRule:new i}}get tag(){return"conditionalFormatting"}render(s,o){o.rules.some(i.isPrimitive)&&(s.openNode(this.tag,{sqref:o.ref}),o.rules.forEach(a=>{i.isPrimitive(a)&&(a.ref=o.ref,this.map.cfRule.render(s,a))}),s.closeNode())}createNewModel(s){let{attributes:o}=s;return{ref:o.sqref,rules:[]}}onParserClose(s,o){this.model.rules.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("./conditional-formatting-xform");t.exports=class extends r{constructor(){super(),this.cfXform=new i}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(s,o){let a=s.reduce((l,c)=>Math.max(l,...c.rules.map(u=>u.priority||0)),1);s.forEach(l=>{l.rules.forEach(c=>{c.priority||(c.priority=a++),c.style&&(c.dxfId=o.styles.addDxfStyle(c.style))})})}render(s,o){o.forEach(a=>{this.cfXform.render(s,a)})}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return!!this.parser&&(!!this.parser.parseClose(s)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(s,o){s.forEach(a=>{a.rules.forEach(l=>{l.dxfId!==void 0&&(l.style=o.styles.getDxfStyle(l.dxfId),delete l.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,t,n){"use strict";let r=e("../../composite-xform"),i=e("../../style/color-xform"),s=e("./cfvo-xform");t.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new s,color:this.colorXform=new i}}get tag(){return"dataBar"}render(o,a){o.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(o,l)}),this.colorXform.render(o,a.color),o.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(o,a){switch(o){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("../../composite-xform");class s extends r{get tag(){return"x14:id"}render(l,c){l.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(l){this.model+=l}parseClose(l){return l!==this.tag}}class o extends i{constructor(){super(),this.map={"x14:id":this.idXform=new s}}get tag(){return"ext"}render(l,c){l.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(l,c.x14Id),l.closeNode()}createNewModel(){return{}}onParserClose(l,c){this.model.x14Id=c.model}}t.exports=class extends i{constructor(){super(),this.map={ext:new o}}get tag(){return"extLst"}render(a,l){a.openNode(this.tag),this.map.ext.render(a,l),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){Object.assign(this.model,l.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,t,n){"use strict";let r=e("../../base-xform");t.exports=class extends r{get tag(){return"formula"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],91:[function(e,t,n){"use strict";let r=e("../../base-xform"),i=e("../../composite-xform"),s=e("./cfvo-xform");t.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new s}}get tag(){return"iconSet"}render(o,a){o.openNode(this.tag,{iconSet:r.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:r.toBoolAttribute(a.reverse,!1),showValue:r.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(l=>{this.cfvoXform.render(o,l)}),o.closeNode()}createNewModel(o){let{attributes:a}=o;return{iconSet:r.toStringValue(a.iconSet,"3TrafficLights"),reverse:r.toBoolValue(a.reverse),showValue:r.toBoolValue(a.showValue),cfvo:[]}}onParserClose(o,a){this.model[o].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,t,n){"use strict";let r=e("../../../utils/utils"),i=e("../base-xform");t.exports=class extends i{get tag(){return"col"}prepare(s,o){let a=o.styles.addStyleModel(s.style||{});a&&(s.styleId=a)}render(s,o){s.openNode("col"),s.addAttribute("min",o.min),s.addAttribute("max",o.max),o.width&&s.addAttribute("width",o.width),o.styleId&&s.addAttribute("style",o.styleId),o.hidden&&s.addAttribute("hidden","1"),o.bestFit&&s.addAttribute("bestFit","1"),o.outlineLevel&&s.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&s.addAttribute("collapsed","1"),s.addAttribute("customWidth","1"),s.closeNode()}parseOpen(s){if(s.name==="col"){let o=this.model={min:parseInt(s.attributes.min||"0",10),max:parseInt(s.attributes.max||"0",10),width:s.attributes.width===void 0?void 0:parseFloat(s.attributes.width||"0")};return s.attributes.style&&(o.styleId=parseInt(s.attributes.style,10)),r.parseBoolean(s.attributes.hidden)&&(o.hidden=!0),r.parseBoolean(s.attributes.bestFit)&&(o.bestFit=!0),s.attributes.outlineLevel&&(o.outlineLevel=parseInt(s.attributes.outlineLevel,10)),r.parseBoolean(s.attributes.collapsed)&&(o.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(s,o){s.styleId&&(s.style=o.styles.getStyleModel(s.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../../../utils/utils"),s=e("../../../utils/col-cache"),o=e("../base-xform"),a=e("../../../doc/range");function l(u,d,h,f){let p=d[h];p!==void 0?u[h]=p:f!==void 0&&(u[h]=f)}function c(u,d,h,f){let p=d[h];p!==void 0?u[h]=i.parseBoolean(p):f!==void 0&&(u[h]=f)}t.exports=class extends o{get tag(){return"dataValidations"}render(u,d){let h=function(f){let p=r.map(f,(v,S)=>({address:S,dataValidation:v,marked:!1})).sort((v,S)=>r.strcmp(v.address,S.address)),g=r.keyBy(p,"address"),y=(v,S,k)=>{for(let M=0;M<S;M++){let z=s.encodeAddress(v.row+M,k);if(!f[z]||!r.isEqual(f[v.address],f[z]))return!1}return!0};return p.map(v=>{if(!v.marked){let S=s.decodeEx(v.address);if(S.dimensions)return g[S.dimensions].marked=!0,Zt(at({},v.dataValidation),{sqref:v.address});let k=1,M=s.encodeAddress(S.row+k,S.col);for(;f[M]&&r.isEqual(v.dataValidation,f[M]);)k++,M=s.encodeAddress(S.row+k,S.col);let z=1;for(;y(S,k,S.col+z);)z++;for(let F=0;F<k;F++)for(let j=0;j<z;j++)M=s.encodeAddress(S.row+F,S.col+j),g[M].marked=!0;if(k>1||z>1){let F=S.row+(k-1),j=S.col+(z-1);return Zt(at({},v.dataValidation),{sqref:`${v.address}:${s.encodeAddress(F,j)}`})}return Zt(at({},v.dataValidation),{sqref:v.address})}return null}).filter(Boolean)}(d);h.length&&(u.openNode("dataValidations",{count:h.length}),h.forEach(f=>{u.openNode("dataValidation"),f.type!=="any"&&(u.addAttribute("type",f.type),f.operator&&f.type!=="list"&&f.operator!=="between"&&u.addAttribute("operator",f.operator),f.allowBlank&&u.addAttribute("allowBlank","1")),f.showInputMessage&&u.addAttribute("showInputMessage","1"),f.promptTitle&&u.addAttribute("promptTitle",f.promptTitle),f.prompt&&u.addAttribute("prompt",f.prompt),f.showErrorMessage&&u.addAttribute("showErrorMessage","1"),f.errorStyle&&u.addAttribute("errorStyle",f.errorStyle),f.errorTitle&&u.addAttribute("errorTitle",f.errorTitle),f.error&&u.addAttribute("error",f.error),u.addAttribute("sqref",f.sqref),(f.formulae||[]).forEach((p,g)=>{u.openNode("formula"+(g+1)),f.type==="date"?u.writeText(i.dateToExcel(new Date(p))):u.writeText(p),u.closeNode()}),u.closeNode()}),u.closeNode())}parseOpen(u){switch(u.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=u.attributes.sqref;let d={type:u.attributes.type||"any",formulae:[]};switch(u.attributes.type&&c(d,u.attributes,"allowBlank"),c(d,u.attributes,"showInputMessage"),c(d,u.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:l(d,u.attributes,"operator","between")}return l(d,u.attributes,"promptTitle"),l(d,u.attributes,"prompt"),l(d,u.attributes,"errorStyle"),l(d,u.attributes,"errorTitle"),l(d,u.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(u){this._formula&&this._formula.push(u)}parseClose(u){switch(u){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new a(d).forEachAddress(h=>{this.model[h]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=i.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"dimension"}render(i,s){s&&i.leafNode("dimension",{ref:s})}parseOpen(i){return i.name==="dimension"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"drawing"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,t,n){"use strict";let r=e("../composite-xform"),i=e("./cf-ext/conditional-formattings-ext-xform");class s extends r{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new i}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,l){this.conditionalFormattings.prepare(a.conditionalFormattings,l)}render(a,l){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,l.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){this.model[a]=l.model}}t.exports=class extends r{constructor(){super(),this.map={ext:this.ext=new s}}get tag(){return"extLst"}prepare(o,a){this.ext.prepare(o,a)}hasContent(o){return this.ext.hasContent(o)}render(o,a){this.hasContent(a)&&(o.openNode("extLst"),this.ext.render(o,a),o.closeNode())}createNewModel(){return{}}onParserClose(o,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"headerFooter"}render(i,s){if(s){i.addRollback();let o=!1;i.openNode("headerFooter"),s.differentFirst&&(i.addAttribute("differentFirst","1"),o=!0),s.differentOddEven&&(i.addAttribute("differentOddEven","1"),o=!0),s.oddHeader&&typeof s.oddHeader=="string"&&(i.leafNode("oddHeader",null,s.oddHeader),o=!0),s.oddFooter&&typeof s.oddFooter=="string"&&(i.leafNode("oddFooter",null,s.oddFooter),o=!0),s.evenHeader&&typeof s.evenHeader=="string"&&(i.leafNode("evenHeader",null,s.evenHeader),o=!0),s.evenFooter&&typeof s.evenFooter=="string"&&(i.leafNode("evenFooter",null,s.evenFooter),o=!0),s.firstHeader&&typeof s.firstHeader=="string"&&(i.leafNode("firstHeader",null,s.firstHeader),o=!0),s.firstFooter&&typeof s.firstFooter=="string"&&(i.leafNode("firstFooter",null,s.firstFooter),o=!0),o?(i.closeNode(),i.commit()):i.rollback()}}parseOpen(i){switch(i.name){case"headerFooter":return this.model={},i.attributes.differentFirst&&(this.model.differentFirst=parseInt(i.attributes.differentFirst,0)===1),i.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(i.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(i){switch(this.currentNode){case"oddHeader":this.model.oddHeader=i;break;case"oddFooter":this.model.oddFooter=i;break;case"evenHeader":this.model.evenHeader=i;break;case"evenFooter":this.model.evenFooter=i;break;case"firstHeader":this.model.firstHeader=i;break;case"firstFooter":this.model.firstFooter=i}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"hyperlink"}render(i,s){this.isInternalLink(s)?i.leafNode("hyperlink",{ref:s.address,"r:id":s.rId,tooltip:s.tooltip,location:s.target}):i.leafNode("hyperlink",{ref:s.address,"r:id":s.rId,tooltip:s.tooltip})}parseOpen(i){return i.name==="hyperlink"&&(this.model={address:i.attributes.ref,rId:i.attributes["r:id"],tooltip:i.attributes.tooltip},i.attributes.location&&(this.model.target=i.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(i){return i.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(i.target)}}},{"../base-xform":32}],99:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"mergeCell"}render(i,s){i.leafNode("mergeCell",{ref:s})}parseOpen(i){return i.name==="mergeCell"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../../../doc/range"),s=e("../../../utils/col-cache"),o=e("../../../doc/enums");t.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{let l=`${a.master}:${a.address}`;this.merges[a.master]=new i(l)}}get mergeCells(){return r.map(this.merges,a=>a.range)}reconcile(a,l){r.each(a,c=>{let u=s.decode(c);for(let d=u.top;d<=u.bottom;d++){let h=l[d-1];for(let f=u.left;f<=u.right;f++){let p=h.cells[f-1];p?p.type===o.ValueType.Merge&&(p.master=u.tl):h.cells[f]={type:o.ValueType.Null,address:s.encodeAddress(d,f)}}}})}getMasterAddress(a){let l=this.hash[a];return l&&l.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,t,n){"use strict";let r=e("../base-xform"),i=s=>s!==void 0;t.exports=class extends r{get tag(){return"outlinePr"}render(s,o){return!(!o||!i(o.summaryBelow)&&!i(o.summaryRight))&&(s.leafNode(this.tag,{summaryBelow:i(o.summaryBelow)?Number(o.summaryBelow):void 0,summaryRight:i(o.summaryRight)?Number(o.summaryRight):void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={summaryBelow:i(s.attributes.summaryBelow)?!!Number(s.attributes.summaryBelow):void 0,summaryRight:i(s.attributes.summaryRight)?!!Number(s.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"brk"}render(i,s){i.leafNode("brk",s)}parseOpen(i){return i.name==="brk"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../base-xform");t.exports=class extends i{get tag(){return"pageMargins"}render(s,o){if(o){let a={left:o.left,right:o.right,top:o.top,bottom:o.bottom,header:o.header,footer:o.footer};r.some(a,l=>l!==void 0)&&s.leafNode(this.tag,a)}}parseOpen(s){switch(s.name){case this.tag:return this.model={left:parseFloat(s.attributes.left||.7),right:parseFloat(s.attributes.right||.7),top:parseFloat(s.attributes.top||.75),bottom:parseFloat(s.attributes.bottom||.75),header:parseFloat(s.attributes.header||.3),footer:parseFloat(s.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"pageSetUpPr"}render(i,s){return!(!s||!s.fitToPage)&&(i.leafNode(this.tag,{fitToPage:s.fitToPage?"1":void 0}),!0)}parseOpen(i){return i.name===this.tag&&(this.model={fitToPage:i.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../base-xform");function s(c){return c?"1":void 0}function o(c){switch(c){case"overThenDown":return c;default:return}}function a(c){switch(c){case"atEnd":case"asDisplyed":return c;default:return}}function l(c){switch(c){case"dash":case"blank":case"NA":return c;default:return}}t.exports=class extends i{get tag(){return"pageSetup"}render(c,u){if(u){let d={paperSize:u.paperSize,orientation:u.orientation,horizontalDpi:u.horizontalDpi,verticalDpi:u.verticalDpi,pageOrder:o(u.pageOrder),blackAndWhite:s(u.blackAndWhite),draft:s(u.draft),cellComments:a(u.cellComments),errors:l(u.errors),scale:u.scale,fitToWidth:u.fitToWidth,fitToHeight:u.fitToHeight,firstPageNumber:u.firstPageNumber,useFirstPageNumber:s(u.firstPageNumber),usePrinterDefaults:s(u.usePrinterDefaults),copies:u.copies};r.some(d,h=>h!==void 0)&&c.leafNode(this.tag,d)}}parseOpen(c){switch(c.name){case this.tag:return this.model={paperSize:(u=c.attributes.paperSize,u!==void 0?parseInt(u,10):void 0),orientation:c.attributes.orientation||"portrait",horizontalDpi:parseInt(c.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(c.attributes.verticalDpi||"4294967295",10),pageOrder:c.attributes.pageOrder||"downThenOver",blackAndWhite:c.attributes.blackAndWhite==="1",draft:c.attributes.draft==="1",cellComments:c.attributes.cellComments||"None",errors:c.attributes.errors||"displayed",scale:parseInt(c.attributes.scale||"100",10),fitToWidth:parseInt(c.attributes.fitToWidth||"1",10),fitToHeight:parseInt(c.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(c.attributes.firstPageNumber||"1",10),useFirstPageNumber:c.attributes.useFirstPageNumber==="1",usePrinterDefaults:c.attributes.usePrinterDefaults==="1",copies:parseInt(c.attributes.copies||"1",10)},!0;default:return!1}var u}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"picture"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../base-xform");function s(o){return o?"1":void 0}t.exports=class extends i{get tag(){return"printOptions"}render(o,a){if(a){let l={headings:s(a.showRowColHeaders),gridLines:s(a.showGridLines),horizontalCentered:s(a.horizontalCentered),verticalCentered:s(a.verticalCentered)};r.some(l,c=>c!==void 0)&&o.leafNode(this.tag,l)}}parseOpen(o){switch(o.name){case this.tag:return this.model={showRowColHeaders:o.attributes.headings==="1",showGridLines:o.attributes.gridLines==="1",horizontalCentered:o.attributes.horizontalCentered==="1",verticalCentered:o.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,t,n){"use strict";let r=e("./page-breaks-xform"),i=e("../list-xform");t.exports=class extends i{constructor(){super({tag:"rowBreaks",count:!0,childXform:new r})}render(s,o){if(o&&o.length){s.openNode(this.tag,this.$),this.count&&(s.addAttribute(this.$count,o.length),s.addAttribute("manualBreakCount",o.length));let{childXform:a}=this;o.forEach(l=>{a.render(s,l)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../../../utils/utils"),s=e("./cell-xform");t.exports=class extends r{constructor(o){super(),this.maxItems=o&&o.maxItems,this.map={c:new s}}get tag(){return"row"}prepare(o,a){let l=a.styles.addStyleModel(o.style);l&&(o.styleId=l);let c=this.map.c;o.cells.forEach(u=>{c.prepare(u,a)})}render(o,a,l){o.openNode("row"),o.addAttribute("r",a.number),a.height&&(o.addAttribute("ht",a.height),o.addAttribute("customHeight","1")),a.hidden&&o.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&o.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(o.addAttribute("s",a.styleId),o.addAttribute("customFormat","1")),o.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&o.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&o.addAttribute("collapsed","1");let c=this.map.c;a.cells.forEach(u=>{c.render(o,u,l)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;if(o.name==="row"){this.numRowsSeen+=1;let a=o.attributes.spans?o.attributes.spans.split(":").map(c=>parseInt(c,10)):[void 0,void 0],l=this.model={number:parseInt(o.attributes.r,10),min:a[0],max:a[1],cells:[]};return o.attributes.s&&(l.styleId=parseInt(o.attributes.s,10)),i.parseBoolean(o.attributes.hidden)&&(l.hidden=!0),i.parseBoolean(o.attributes.bestFit)&&(l.bestFit=!0),o.attributes.ht&&(l.height=parseFloat(o.attributes.ht)),o.attributes.outlineLevel&&(l.outlineLevel=parseInt(o.attributes.outlineLevel,10)),i.parseBoolean(o.attributes.collapsed)&&(l.collapsed=!0),!0}return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(o,a){o.style=o.styleId?a.styles.getStyleModel(o.styleId):{},o.styleId!==void 0&&(o.styleId=void 0);let l=this.map.c;o.cells.forEach(c=>{l.reconcile(c,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../base-xform");t.exports=class extends i{get tag(){return"sheetFormatPr"}render(s,o){if(o){let a={defaultRowHeight:o.defaultRowHeight,outlineLevelRow:o.outlineLevelRow,outlineLevelCol:o.outlineLevelCol,"x14ac:dyDescent":o.dyDescent};o.defaultColWidth&&(a.defaultColWidth=o.defaultColWidth),o.defaultRowHeight&&o.defaultRowHeight===15||(a.customHeight="1"),r.some(a,l=>l!==void 0)&&s.leafNode("sheetFormatPr",a)}}parseOpen(s){return s.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(s.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(s.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(s.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(s.attributes.outlineLevelCol||"0",10)},s.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(s.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../style/color-xform"),s=e("./page-setup-properties-xform"),o=e("./outline-properties-xform");t.exports=class extends r{constructor(){super(),this.map={tabColor:new i("tabColor"),pageSetUpPr:new s,outlinePr:new o}}get tag(){return"sheetPr"}render(a,l){if(l){a.addRollback(),a.openNode("sheetPr");let c=!1;c=this.map.tabColor.render(a,l.tabColor)||c,c=this.map.pageSetUpPr.render(a,l.pageSetup)||c,c=this.map.outlinePr.render(a,l.outlineProperties)||c,c?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../base-xform");function s(a,l){return a?l:void 0}function o(a,l){return a===l||void 0}t.exports=class extends i{get tag(){return"sheetProtection"}render(a,l){if(l){let c={sheet:s(l.sheet,"1"),selectLockedCells:l.selectLockedCells===!1?"1":void 0,selectUnlockedCells:l.selectUnlockedCells===!1?"1":void 0,formatCells:s(l.formatCells,"0"),formatColumns:s(l.formatColumns,"0"),formatRows:s(l.formatRows,"0"),insertColumns:s(l.insertColumns,"0"),insertRows:s(l.insertRows,"0"),insertHyperlinks:s(l.insertHyperlinks,"0"),deleteColumns:s(l.deleteColumns,"0"),deleteRows:s(l.deleteRows,"0"),sort:s(l.sort,"0"),autoFilter:s(l.autoFilter,"0"),pivotTables:s(l.pivotTables,"0")};l.sheet&&(c.algorithmName=l.algorithmName,c.hashValue=l.hashValue,c.saltValue=l.saltValue,c.spinCount=l.spinCount,c.objects=s(l.objects===!1,"1"),c.scenarios=s(l.scenarios===!1,"1")),r.some(c,u=>u!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:o(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:o(a.attributes.formatCells,"0"),formatColumns:o(a.attributes.formatColumns,"0"),formatRows:o(a.attributes.formatRows,"0"),insertColumns:o(a.attributes.insertColumns,"0"),insertRows:o(a.attributes.insertRows,"0"),insertHyperlinks:o(a.attributes.insertHyperlinks,"0"),deleteColumns:o(a.attributes.deleteColumns,"0"),deleteRows:o(a.attributes.deleteRows,"0"),sort:o(a.attributes.sort,"0"),autoFilter:o(a.attributes.autoFilter,"0"),pivotTables:o(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,t,n){"use strict";let r=e("../../../utils/col-cache"),i=e("../base-xform"),s={frozen:"frozen",frozenSplit:"frozen",split:"split"};t.exports=class extends i{get tag(){return"sheetView"}prepare(o){switch(o.state){case"frozen":case"split":break;default:o.state="normal"}}render(o,a){o.openNode("sheetView",{workbookViewId:a.workbookViewId||0});let l=function(f,p,g){g&&o.addAttribute(f,p)},c,u,d,h;switch(l("rightToLeft","1",a.rightToLeft===!0),l("tabSelected","1",a.tabSelected),l("showRuler","0",a.showRuler===!1),l("showRowColHeaders","0",a.showRowColHeaders===!1),l("showGridLines","0",a.showGridLines===!1),l("zoomScale",a.zoomScale,a.zoomScale),l("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),l("view",a.style,a.style),a.state){case"frozen":u=a.xSplit||0,d=a.ySplit||0,c=a.topLeftCell||r.getAddress(d+1,u+1).address,h=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",o.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:c,activePane:h,state:"frozen"}),o.leafNode("selection",{pane:h,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),o.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),o.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&o.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}o.closeNode()}parseOpen(o){switch(o.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(o.attributes.workbookViewId,10),rightToLeft:o.attributes.rightToLeft==="1",tabSelected:o.attributes.tabSelected==="1",showRuler:o.attributes.showRuler!=="0",showRowColHeaders:o.attributes.showRowColHeaders!=="0",showGridLines:o.attributes.showGridLines!=="0",zoomScale:parseInt(o.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(o.attributes.zoomScaleNormal||"100",10),style:o.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(o.attributes.xSplit||"0",10),ySplit:parseInt(o.attributes.ySplit||"0",10),topLeftCell:o.attributes.topLeftCell,activePane:o.attributes.activePane||"topLeft",state:o.attributes.state},!0;case"selection":{let a=o.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:o.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(o){let a,l;switch(o){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:s[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),l=this.selections[this.pane.activePane],l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},l=this.selections.topLeft,l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"tablePart"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){switch(i.name){case this.tag:return this.model={rId:i.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../../../utils/col-cache"),s=e("../../../utils/xml-stream"),o=e("../../rel-type"),a=e("./merges"),l=e("../base-xform"),c=e("../list-xform"),u=e("./row-xform"),d=e("./col-xform"),h=e("./dimension-xform"),f=e("./hyperlink-xform"),p=e("./merge-cell-xform"),g=e("./data-validations-xform"),y=e("./sheet-properties-xform"),v=e("./sheet-format-properties-xform"),S=e("./sheet-view-xform"),k=e("./sheet-protection-xform"),M=e("./page-margins-xform"),z=e("./page-setup-xform"),F=e("./print-options-xform"),j=e("./auto-filter-xform"),B=e("./picture-xform"),U=e("./drawing-xform"),V=e("./table-part-xform"),E=e("./row-breaks-xform"),C=e("./header-footer-xform"),R=e("./cf/conditional-formattings-xform"),m=e("./ext-lst-xform"),b=(_,x)=>{if(!x||!x.length)return _;if(!_||!_.length)return x;let I={},O={};return _.forEach($=>{I[$.ref]=$,$.rules.forEach(P=>{let{x14Id:G}=P;G&&(O[G]=P)})}),x.forEach($=>{$.rules.forEach(P=>{let G=O[P.x14Id];G?((D,W)=>{Object.keys(W).forEach(A=>{let T=D[A],H=W[A];T===void 0&&H!==void 0&&(D[A]=H)})})(G,P):I[$.ref]?I[$.ref].rules.push(P):_.push({ref:$.ref,rules:[P]})})}),_};class w extends l{constructor(x){super();let{maxRows:I,maxCols:O,ignoreNodes:$}=x||{};this.ignoreNodes=$||[],this.map={sheetPr:new y,dimension:new h,sheetViews:new c({tag:"sheetViews",count:!1,childXform:new S}),sheetFormatPr:new v,cols:new c({tag:"cols",count:!1,childXform:new d}),sheetData:new c({tag:"sheetData",count:!1,empty:!0,childXform:new u({maxItems:O}),maxItems:I}),autoFilter:new j,mergeCells:new c({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new E,hyperlinks:new c({tag:"hyperlinks",count:!1,childXform:new f}),pageMargins:new M,dataValidations:new g,pageSetup:new z,headerFooter:new C,printOptions:new F,picture:new B,drawing:new U,sheetProtection:new k,tableParts:new c({tag:"tableParts",count:!0,childXform:new V}),conditionalFormatting:new R,extLst:new m}}prepare(x,I){I.merges=new a,x.hyperlinks=I.hyperlinks=[],x.comments=I.comments=[],I.formulae={},I.siFormulae=0,this.map.cols.prepare(x.cols,I),this.map.sheetData.prepare(x.rows,I),this.map.conditionalFormatting.prepare(x.conditionalFormattings,I),x.mergeCells=I.merges.mergeCells;let O=x.rels=[];function $(D){return"rId"+(D.length+1)}if(x.hyperlinks.forEach(D=>{let W=$(O);D.rId=W,O.push({Id:W,Type:o.Hyperlink,Target:D.target,TargetMode:"External"})}),x.comments.length>0){let D={Id:$(O),Type:o.Comments,Target:`../comments${x.id}.xml`};O.push(D);let W={Id:$(O),Type:o.VmlDrawing,Target:`../drawings/vmlDrawing${x.id}.vml`};O.push(W),x.comments.forEach(A=>{A.refAddress=i.decodeAddress(A.ref)}),I.commentRefs.push({commentName:"comments"+x.id,vmlDrawing:"vmlDrawing"+x.id})}let P=[],G;x.media.forEach(D=>{if(D.type==="background"){let W=$(O);G=I.media[D.imageId],O.push({Id:W,Type:o.Image,Target:`../media/${G.name}.${G.extension}`}),x.background={rId:W},x.image=I.media[D.imageId]}else if(D.type==="image"){let{drawing:W}=x;G=I.media[D.imageId],W||(W=x.drawing={rId:$(O),name:"drawing"+ ++I.drawingsCount,anchors:[],rels:[]},I.drawings.push(W),O.push({Id:W.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${W.name}.xml`}));let A=this.preImageId===D.imageId?P[D.imageId]:P[W.rels.length];A||(A=$(W.rels),P[W.rels.length]=A,W.rels.push({Id:A,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${G.name}.${G.extension}`}));let T={picture:{rId:A},range:D.range};if(D.hyperlinks&&D.hyperlinks.hyperlink){let H=$(W.rels);P[W.rels.length]=H,T.picture.hyperlinks={tooltip:D.hyperlinks.tooltip,rId:H},W.rels.push({Id:H,Type:o.Hyperlink,Target:D.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=D.imageId,W.anchors.push(T)}}),x.tables.forEach(D=>{let W=$(O);D.rId=W,O.push({Id:W,Type:o.Table,Target:"../tables/"+D.target}),D.columns.forEach(A=>{let{style:T}=A;T&&(A.dxfId=I.styles.addDxfStyle(T))})}),this.map.extLst.prepare(x,I)}render(x,I){x.openXml(s.StdDocAttributes),x.openNode("worksheet",w.WORKSHEET_ATTRIBUTES);let O=I.properties?{defaultRowHeight:I.properties.defaultRowHeight,dyDescent:I.properties.dyDescent,outlineLevelCol:I.properties.outlineLevelCol,outlineLevelRow:I.properties.outlineLevelRow}:void 0;I.properties&&I.properties.defaultColWidth&&(O.defaultColWidth=I.properties.defaultColWidth);let $={outlineProperties:I.properties&&I.properties.outlineProperties,tabColor:I.properties&&I.properties.tabColor,pageSetup:I.pageSetup&&I.pageSetup.fitToPage?{fitToPage:I.pageSetup.fitToPage}:void 0},P=I.pageSetup&&I.pageSetup.margins,G={showRowColHeaders:I.pageSetup&&I.pageSetup.showRowColHeaders,showGridLines:I.pageSetup&&I.pageSetup.showGridLines,horizontalCentered:I.pageSetup&&I.pageSetup.horizontalCentered,verticalCentered:I.pageSetup&&I.pageSetup.verticalCentered},D=I.sheetProtection;this.map.sheetPr.render(x,$),this.map.dimension.render(x,I.dimensions),this.map.sheetViews.render(x,I.views),this.map.sheetFormatPr.render(x,O),this.map.cols.render(x,I.cols),this.map.sheetData.render(x,I.rows),this.map.sheetProtection.render(x,D),this.map.autoFilter.render(x,I.autoFilter),this.map.mergeCells.render(x,I.mergeCells),this.map.conditionalFormatting.render(x,I.conditionalFormattings),this.map.dataValidations.render(x,I.dataValidations),this.map.hyperlinks.render(x,I.hyperlinks),this.map.printOptions.render(x,G),this.map.pageMargins.render(x,P),this.map.pageSetup.render(x,I.pageSetup),this.map.headerFooter.render(x,I.headerFooter),this.map.rowBreaks.render(x,I.rowBreaks),this.map.drawing.render(x,I.drawing),this.map.picture.render(x,I.background),this.map.tableParts.render(x,I.tables),this.map.extLst.render(x,I),I.rels&&I.rels.forEach(W=>{W.Type===o.VmlDrawing&&x.leafNode("legacyDrawing",{"r:id":W.Id})}),x.closeNode()}parseOpen(x){return this.parser?(this.parser.parseOpen(x),!0):x.name==="worksheet"?(r.each(this.map,I=>{I.reset()}),!0):(this.map[x.name]&&!this.ignoreNodes.includes(x.name)&&(this.parser=this.map[x.name],this.parser.parseOpen(x)),!0)}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"worksheet":{let I=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(I.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(I.outlineProperties=this.map.sheetPr.model.outlineProperties);let O={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},$=Object.assign(O,this.map.pageSetup.model,this.map.printOptions.model),P=b(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:I,views:this.map.sheetViews.model,pageSetup:$,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:P},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(x,I){let O=(x.relationships||[]).reduce((P,G)=>{if(P[G.Id]=G,G.Type===o.Comments&&(x.comments=I.comments[G.Target].comments),G.Type===o.VmlDrawing&&x.comments&&x.comments.length){let D=I.vmlDrawings[G.Target].comments;x.comments.forEach((W,A)=>{W.note=Object.assign({},W.note,D[A])})}return P},{});if(I.commentsMap=(x.comments||[]).reduce((P,G)=>(G.ref&&(P[G.ref]=G),P),{}),I.hyperlinkMap=(x.hyperlinks||[]).reduce((P,G)=>(G.rId&&(P[G.address]=O[G.rId].Target),P),{}),I.formulae={},x.rows=x.rows&&x.rows.filter(Boolean)||[],x.rows.forEach(P=>{P.cells=P.cells&&P.cells.filter(Boolean)||[]}),this.map.cols.reconcile(x.cols,I),this.map.sheetData.reconcile(x.rows,I),this.map.conditionalFormatting.reconcile(x.conditionalFormattings,I),x.media=[],x.drawing){let P=O[x.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(P){let G=P[1];I.drawings[G].anchors.forEach(D=>{if(D.medium){let W={type:"image",imageId:D.medium.index,range:D.range,hyperlinks:D.picture.hyperlinks};x.media.push(W)}})}}let $=x.background&&O[x.background.rId];if($){let P=$.Target.split("/media/")[1],G=I.mediaIndex&&I.mediaIndex[P];G!==void 0&&x.media.push({type:"background",imageId:G})}x.tables=(x.tables||[]).map(P=>{let G=O[P.rId];return I.tables[G.Target]}),delete x.relationships,delete x.hyperlinks,delete x.comments}}w.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},t.exports=w},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr}render(i,s){s&&(i.openNode(this.tag),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this._format=i.format||function(s){try{return Number.isNaN(s.getTime())?"":s.toISOString()}catch{return""}},this._parse=i.parse||function(s){return new Date(s)}}render(i,s){s&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,this._format(s)):i.writeText(this._format(s)),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=this._parse(i.attributes[this.attr]):this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this.zero=i.zero}render(i,s){(s||this.zero)&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,s):i.writeText(s),i.closeNode())}parseOpen(i){return i.name===this.tag&&(this.attr?this.model=parseInt(i.attributes[this.attr],10):this.text=[],!0)}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs}render(i,s){s!==void 0&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,s):i.writeText(s),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=i.attributes[this.attr]:this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,t,n){"use strict";let r=e("./base-xform"),i=e("../../utils/xml-stream");t.exports=class extends r{constructor(s){super(),this._model=s}render(s){if(!this._xml){let o=new i;(function a(l,c){l.openNode(c.tag,c.$),c.c&&c.c.forEach(u=>{a(l,u)}),c.t&&l.writeText(c.t),l.closeNode()})(o,this._model),this._xml=o.xml}s.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(s){switch(s){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,t,n){"use strict";let r=e("./text-xform"),i=e("./rich-text-xform"),s=e("../base-xform");t.exports=class extends s{constructor(){super(),this.map={r:new i,t:new r}}get tag(){return"rPh"}render(o,a){if(o.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){let{r:l}=this.map;a.richText.forEach(c=>{l.render(o,c)})}else a&&this.map.t.render(o,a.text);o.closeNode()}parseOpen(o){let{name:a}=o;return this.parser?(this.parser.parseOpen(o),!0):a===this.tag?(this.model={sb:parseInt(o.attributes.sb,10),eb:parseInt(o.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,t,n){"use strict";let r=e("./text-xform"),i=e("../style/font-xform"),s=e("../base-xform");class o extends s{constructor(l){super(),this.model=l}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new r)}get fontXform(){return this._fontXform||(this._fontXform=new i(o.FONT_OPTIONS))}render(l,c){c=c||this.model,l.openNode("r"),c.font&&this.fontXform.render(l,c.font),this.textXform.render(l,c.text),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(l),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){switch(l){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}}o.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},t.exports=o},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,t,n){"use strict";let r=e("./text-xform"),i=e("./rich-text-xform"),s=e("./phonetic-text-xform"),o=e("../base-xform");t.exports=class extends o{constructor(a){super(),this.model=a,this.map={r:new i,t:new r,rPh:new s}}get tag(){return"si"}render(a,l){a.openNode(this.tag),l&&l.hasOwnProperty("richText")&&l.richText?l.richText.length?l.richText.forEach(c=>{this.map.r.render(a,c)}):this.map.t.render(a,""):l!=null&&this.map.t.render(a,l),a.closeNode()}parseOpen(a){let{name:l}=a;return this.parser?(this.parser.parseOpen(a),!0):l===this.tag?(this.model={},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("./shared-string-xform");t.exports=class extends i{constructor(o){super(),this.model=o||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new s)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(o){return this.model.values[o]}add(o){return o.richText?this.addRichText(o):this.addText(o)}addText(o){let a=this.hash[o];return a===void 0&&(a=this.hash[o]=this.model.values.length,this.model.values.push(o)),this.model.count++,a}addRichText(o){let a=this.sharedStringXform.toXml(o),l=this.rich[a];return l===void 0&&(l=this.rich[a]=this.model.values.length,this.model.values.push(o)),this.model.count++,l}render(o,a){a=a||this._values,o.openXml(r.StdDocAttributes),o.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});let l=this.sharedStringXform;a.values.forEach(c=>{l.render(o,c)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(o),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(o){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"t"}render(i,s){i.openNode("t"),/^\s|\n|\s$/.test(s)&&i.addAttribute("xml:space","preserve"),i.writeText(s),i.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(i,s)=>String.fromCharCode(parseInt(s,16)))}parseOpen(i){switch(i.name){case"t":return this._text=[],!0;default:return!1}}parseText(i){this._text.push(i)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,t,n){"use strict";let r=e("../../../doc/enums"),i=e("../../../utils/utils"),s=e("../base-xform"),o={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((l,c)=>(l[c]=!0,l),{}),horizontal(l){return this.horizontalValues[l]?l:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((l,c)=>(l[c]=!0,l),{}),vertical(l){return l==="middle"?"center":this.verticalValues[l]?l:void 0},wrapText:l=>!!l||void 0,shrinkToFit:l=>!!l||void 0,textRotation(l){switch(l){case"vertical":return l;default:return(l=i.validInt(l))>=-90&&l<=90?l:void 0}},indent:l=>(l=i.validInt(l),Math.max(0,l)),readingOrder(l){switch(l){case"ltr":return r.ReadingOrder.LeftToRight;case"rtl":return r.ReadingOrder.RightToLeft;default:return}}},a={toXml(l){if(l=o.textRotation(l)){if(l==="vertical")return 255;let c=Math.round(l);if(c>=0&&c<=90)return c;if(c<0&&c>=-90)return 90-c}},toModel(l){let c=i.validInt(l);if(c!==void 0){if(c===255)return"vertical";if(c>=0&&c<=90)return c;if(c>90&&c<=180)return 90-c}}};t.exports=class extends s{get tag(){return"alignment"}render(l,c){l.addRollback(),l.openNode("alignment");let u=!1;function d(h,f){f&&(l.addAttribute(h,f),u=!0)}d("horizontal",o.horizontal(c.horizontal)),d("vertical",o.vertical(c.vertical)),d("wrapText",!!o.wrapText(c.wrapText)&&"1"),d("shrinkToFit",!!o.shrinkToFit(c.shrinkToFit)&&"1"),d("indent",o.indent(c.indent)),d("textRotation",a.toXml(c.textRotation)),d("readingOrder",o.readingOrder(c.readingOrder)),l.closeNode(),u?l.commit():l.rollback()}parseOpen(l){let c={},u=!1;function d(h,f,p){h&&(c[f]=p,u=!0)}d(l.attributes.horizontal,"horizontal",l.attributes.horizontal),d(l.attributes.vertical,"vertical",l.attributes.vertical==="center"?"middle":l.attributes.vertical),d(l.attributes.wrapText,"wrapText",i.parseBoolean(l.attributes.wrapText)),d(l.attributes.shrinkToFit,"shrinkToFit",i.parseBoolean(l.attributes.shrinkToFit)),d(l.attributes.indent,"indent",parseInt(l.attributes.indent,10)),d(l.attributes.textRotation,"textRotation",a.toModel(l.attributes.textRotation)),d(l.attributes.readingOrder,"readingOrder",l.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=u?c:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../../../utils/utils"),s=e("./color-xform");class o extends r{constructor(l){super(),this.name=l,this.map={color:new s}}get tag(){return this.name}render(l,c,u){let d=c&&c.color||u||this.defaultColor;l.openNode(this.name),c&&c.style&&(l.addAttribute("style",c.style),d&&this.map.color.render(l,d)),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.name:{let{style:c}=l.attributes;return this.model=c?{style:c}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(l===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(l){return o.validStyleValues[l]}}o.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,l)=>(a[l]=!0,a),{}),t.exports=class extends r{constructor(){super(),this.map={top:new o("top"),left:new o("left"),bottom:new o("bottom"),right:new o("right"),diagonal:new o("diagonal")}}render(a,l){let{color:c}=l;function u(d,h){d&&!d.color&&l.color&&(d=Zt(at({},d),{color:l.color})),h.render(a,d,c)}a.openNode("border"),l.diagonal&&l.diagonal.style&&(l.diagonal.up&&a.addAttribute("diagonalUp","1"),l.diagonal.down&&a.addAttribute("diagonalDown","1")),u(l.left,this.map.left),u(l.right,this.map.right),u(l.top,this.map.top),u(l.bottom,this.map.bottom),u(l.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=i.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=i.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){let l=this.model={},c=function(u,d,h){d&&(h&&Object.assign(d,h),l[u]=d)};c("left",this.map.left.model),c("right",this.map.right.model),c("top",this.map.top.model),c("bottom",this.map.bottom.model),c("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{constructor(i){super(),this.name=i||"color"}get tag(){return this.name}render(i,s){return!!s&&(i.openNode(this.name),s.argb?i.addAttribute("rgb",s.argb):s.theme!==void 0?(i.addAttribute("theme",s.theme),s.tint!==void 0&&i.addAttribute("tint",s.tint)):s.indexed!==void 0?i.addAttribute("indexed",s.indexed):i.addAttribute("auto","1"),i.closeNode(),!0)}parseOpen(i){return i.name===this.name&&(i.attributes.rgb?this.model={argb:i.attributes.rgb}:i.attributes.theme?(this.model={theme:parseInt(i.attributes.theme,10)},i.attributes.tint&&(this.model.tint=parseFloat(i.attributes.tint))):i.attributes.indexed?this.model={indexed:parseInt(i.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./alignment-xform"),s=e("./border-xform"),o=e("./fill-xform"),a=e("./font-xform"),l=e("./numfmt-xform"),c=e("./protection-xform");t.exports=class extends r{constructor(){super(),this.map={alignment:new i,border:new s,fill:new o,font:new a,numFmt:new l,protection:new c}}get tag(){return"dxf"}render(u,d){if(u.openNode(this.tag),d.font&&this.map.font.render(u,d.font),d.numFmt&&d.numFmtId){let h={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(u,h)}d.fill&&this.map.fill.render(u,d.fill),d.alignment&&this.map.alignment.render(u,d.alignment),d.border&&this.map.border.render(u,d.border),d.protection&&this.map.protection.render(u,d.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u),!0}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./color-xform");class s extends r{constructor(){super(),this.map={color:new i}}get tag(){return"stop"}render(u,d){u.openNode("stop"),u.addAttribute("position",d.position),this.map.color.render(u,d.color),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"stop":return this.model={position:parseFloat(u.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(){}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class o extends r{constructor(){super(),this.map={fgColor:new i("fgColor"),bgColor:new i("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(u,d){u.openNode("patternFill"),u.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(u,d.fgColor),d.bgColor&&this.map.bgColor.render(u,d.bgColor),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"patternFill":return this.model={type:"pattern",pattern:u.attributes.patternType},!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.parser.model&&(this.model[u]=this.parser.model),this.parser=void 0),!0)}}class a extends r{constructor(){super(),this.map={stop:new s}}get name(){return"gradient"}get tag(){return"gradientFill"}render(u,d){switch(u.openNode("gradientFill"),d.gradient){case"angle":u.addAttribute("degree",d.degree);break;case"path":u.addAttribute("type","path"),d.center.left&&(u.addAttribute("left",d.center.left),d.center.right===void 0&&u.addAttribute("right",d.center.left)),d.center.right&&u.addAttribute("right",d.center.right),d.center.top&&(u.addAttribute("top",d.center.top),d.center.bottom===void 0&&u.addAttribute("bottom",d.center.top)),d.center.bottom&&u.addAttribute("bottom",d.center.bottom)}let h=this.map.stop;d.stops.forEach(f=>{h.render(u,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"gradientFill":{let d=this.model={stops:[]};return u.attributes.degree?(d.gradient="angle",d.degree=parseInt(u.attributes.degree,10)):u.attributes.type==="path"&&(d.gradient="path",d.center={left:u.attributes.left?parseFloat(u.attributes.left):0,top:u.attributes.top?parseFloat(u.attributes.top):0},u.attributes.right!==u.attributes.left&&(d.center.right=u.attributes.right?parseFloat(u.attributes.right):0),u.attributes.bottom!==u.attributes.top&&(d.center.bottom=u.attributes.bottom?parseFloat(u.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class l extends r{constructor(){super(),this.map={patternFill:new o,gradientFill:new a}}get tag(){return"fill"}render(u,d){switch(u.addRollback(),u.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(u,d);break;case"gradient":this.map.gradientFill.render(u,d);break;default:return void u.rollback()}u.closeNode(),u.commit()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"fill":return this.model={},!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(u){return l.validPatternValues[u]}}l.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((c,u)=>(c[u]=!0,c),{}),l.StopXform=s,l.PatternFillXform=o,l.GradientFillXform=a,t.exports=l},{"../base-xform":32,"./color-xform":128}],131:[function(e,t,n){"use strict";let r=e("./color-xform"),i=e("../simple/boolean-xform"),s=e("../simple/integer-xform"),o=e("../simple/string-xform"),a=e("./underline-xform"),l=e("../../../utils/under-dash"),c=e("../base-xform");class u extends c{constructor(h){super(),this.options=h||u.OPTIONS,this.map={b:{prop:"bold",xform:new i({tag:"b",attr:"val"})},i:{prop:"italic",xform:new i({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new s({tag:"charset",attr:"val"})},color:{prop:"color",xform:new r},condense:{prop:"condense",xform:new i({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new i({tag:"extend",attr:"val"})},family:{prop:"family",xform:new s({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new i({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new o({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new o({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new i({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new i({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new s({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new o({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(h,f){let{map:p}=this;h.openNode(this.options.tagName),l.each(this.map,(g,y)=>{p[y].xform.render(h,f[g.prop])}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;if(this.map[h.name])return this.parser=this.map[h.name].xform,this.parser.parseOpen(h);switch(h.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser&&!this.parser.parseClose(h)){let f=this.map[h];return this.parser.model&&(this.model[f.prop]=this.parser.model),this.parser=void 0,!0}switch(h){case this.options.tagName:return!1;default:return!0}}}u.OPTIONS={tagName:"font",fontNameTag:"name"},t.exports=u},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,t,n){"use strict";let r=e("../../../utils/under-dash"),i=e("../../defaultnumformats"),s=e("../base-xform"),o=function(){let l={};return r.each(i,(c,u)=>{c.f&&(l[c.f]=parseInt(u,10))}),l}();class a extends s{constructor(c,u){super(),this.id=c,this.formatCode=u}get tag(){return"numFmt"}render(c,u){c.leafNode("numFmt",{numFmtId:u.id,formatCode:u.formatCode})}parseOpen(c){switch(c.name){case"numFmt":return this.model={id:parseInt(c.attributes.numFmtId,10),formatCode:c.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(l){return o[l]},a.getDefaultFmtCode=function(l){return i[l]&&i[l].f},t.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,t,n){"use strict";let r=e("../base-xform"),i={boolean:(s,o)=>s===void 0?o:s};t.exports=class extends r{get tag(){return"protection"}render(s,o){s.addRollback(),s.openNode("protection");let a=!1;function l(c,u){u!==void 0&&(s.addAttribute(c,u),a=!0)}l("locked",i.boolean(o.locked,!0)?void 0:"0"),l("hidden",i.boolean(o.hidden,!1)?"1":void 0),s.closeNode(),a?s.commit():s.rollback()}parseOpen(s){let o={locked:s.attributes.locked!=="0",hidden:s.attributes.hidden==="1"},a=!o.locked||o.hidden;this.model=a?o:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./alignment-xform"),s=e("./protection-xform");t.exports=class extends r{constructor(o){super(),this.xfId=!(!o||!o.xfId),this.map={alignment:new i,protection:new s}}get tag(){return"xf"}render(o,a){o.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&o.addAttribute("xfId",a.xfId||0),a.numFmtId&&o.addAttribute("applyNumberFormat","1"),a.fontId&&o.addAttribute("applyFont","1"),a.fillId&&o.addAttribute("applyFill","1"),a.borderId&&o.addAttribute("applyBorder","1"),a.alignment&&o.addAttribute("applyAlignment","1"),a.protection&&o.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(o,a.alignment),a.protection&&this.map.protection.render(o,a.protection),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"xf":return this.model={numFmtId:parseInt(o.attributes.numFmtId,10),fontId:parseInt(o.attributes.fontId,10),fillId:parseInt(o.attributes.fillId,10),borderId:parseInt(o.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(o.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(o),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):o!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,t,n){"use strict";let r=e("../../../doc/enums"),i=e("../../../utils/xml-stream"),s=e("../base-xform"),o=e("../static-xform"),a=e("../list-xform"),l=e("./font-xform"),c=e("./fill-xform"),u=e("./border-xform"),d=e("./numfmt-xform"),h=e("./style-xform"),f=e("./dxf-xform");class p extends s{constructor(y){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new d}),fonts:new a({tag:"fonts",count:!0,childXform:new l,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new c}),borders:new a({tag:"borders",count:!0,childXform:new u}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new h}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new h({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new f}),numFmt:new d,font:new l,fill:new c,border:new u,style:new h({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,v){v=v||this.model,y.openXml(i.StdDocAttributes),y.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(v.numFmts&&v.numFmts.length&&(y.openNode("numFmts",{count:v.numFmts.length}),v.numFmts.forEach(S=>{y.writeXml(S)}),y.closeNode()),v.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:v.fonts.length,"x14ac:knownFonts":1}),v.fonts.forEach(S=>{y.writeXml(S)}),y.closeNode(),y.openNode("fills",{count:v.fills.length}),v.fills.forEach(S=>{y.writeXml(S)}),y.closeNode(),y.openNode("borders",{count:v.borders.length}),v.borders.forEach(S=>{y.writeXml(S)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:v.styles.length}),v.styles.forEach(S=>{y.writeXml(S)}),y.closeNode()):(this.map.numFmts.render(y,v.numFmts),this.map.fonts.render(y,v.fonts),this.map.fills.render(y,v.fills),this.map.borders.render(y,v.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,v.styles)),p.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,v.dxfs),p.STATIC_XFORMS.tableStyles.render(y),p.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};let v=(S,k)=>{k.model&&k.model.length&&(this.model[S]=k.model)};if(v("numFmts",this.map.numFmts),v("fonts",this.map.fonts),v("fills",this.map.fills),v("borders",this.map.borders),v("styles",this.map.cellXfs),v("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){let S=this.index.numFmt;this.model.numFmts.forEach(k=>{S[k.id]=k.formatCode})}return!1}default:return!0}}addStyleModel(y,v){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);let S={};if(v=v||r.ValueType.Number,y.numFmt)S.numFmtId=this._addNumFmtStr(y.numFmt);else switch(v){case r.ValueType.Number:S.numFmtId=this._addNumFmtStr("General");break;case r.ValueType.Date:S.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(S.fontId=this._addFont(y.font)),y.border&&(S.borderId=this._addBorder(y.border)),y.fill&&(S.fillId=this._addFill(y.fill)),y.alignment&&(S.alignment=y.alignment),y.protection&&(S.protection=y.protection);let k=this._addStyle(S);return this.weakMap&&this.weakMap.set(y,k),k}getStyleModel(y){let v=this.model.styles[y];if(!v)return null;let S=this.index.model[y];if(S)return S;if(S=this.index.model[y]={},v.numFmtId){let M=this.index.numFmt[v.numFmtId]||d.getDefaultFmtCode(v.numFmtId);M&&(S.numFmt=M)}function k(M,z,F){if(F||F===0){let j=z[F];j&&(S[M]=j)}}return k("font",this.model.fonts,v.fontId),k("border",this.model.borders,v.borderId),k("fill",this.model.fills,v.fillId),v.alignment&&(S.alignment=v.alignment),v.protection&&(S.protection=v.protection),S}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){let v=this.map.style.toXml(y),S=this.index.style[v];return S===void 0&&(S=this.index.style[v]=this.model.styles.length,this.model.styles.push(v)),S}_addNumFmtStr(y){let v=d.getDefaultFmtId(y);if(v!==void 0||(v=this.index.numFmt[y],v!==void 0))return v;v=this.index.numFmt[y]=164+this.model.numFmts.length;let S=this.map.numFmt.toXml({id:v,formatCode:y});return this.model.numFmts.push(S),v}_addFont(y){let v=this.map.font.toXml(y),S=this.index.font[v];return S===void 0&&(S=this.index.font[v]=this.model.fonts.length,this.model.fonts.push(v)),S}_addBorder(y){let v=this.map.border.toXml(y),S=this.index.border[v];return S===void 0&&(S=this.index.border[v]=this.model.borders.length,this.model.borders.push(v)),S}_addFill(y){let v=this.map.fill.toXml(y),S=this.index.fill[v];return S===void 0&&(S=this.index.fill[v]=this.model.fills.length,this.model.fills.push(v)),S}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new o({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new o({tag:"dxfs",$:{count:0}}),tableStyles:new o({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new o({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(g){return g.autodrain(),Promise.resolve()}addStyleModel(g,y){switch(y){case r.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){let g={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(g)}return this._dateStyleId}getStyleModel(){return{}}},t.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,t,n){"use strict";let r=e("../base-xform");class i extends r{constructor(o){super(),this.model=o}get tag(){return"u"}render(o,a){if((a=a||this.model)===!0)o.leafNode("u");else{let l=i.Attributes[a];l&&o.leafNode("u",l)}}parseOpen(o){o.name==="u"&&(this.model=o.attributes.val||!0)}parseText(){}parseClose(){return!1}}i.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},t.exports=i},{"../base-xform":32}],137:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("./filter-column-xform");t.exports=class extends r{constructor(){super(),this.map={filterColumn:new i}}get tag(){return"autoFilter"}prepare(s){s.columns.forEach((o,a)=>{this.map.filterColumn.prepare(o,{index:a})})}render(s,o){return s.openNode(this.tag,{ref:o.autoFilterRef}),o.columns.forEach(a=>{this.map.filterColumn.render(s,a)}),s.closeNode(),!0}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model={autoFilterRef:s.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[s.name],this.parser)return this.parseOpen(s),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(s){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"customFilter"}render(i,s){i.leafNode(this.tag,{val:s.val,operator:s.operator})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val,operator:i.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,t,n){"use strict";let r=e("../base-xform"),i=e("../list-xform"),s=e("./custom-filter-xform"),o=e("./filter-xform");t.exports=class extends r{constructor(){super(),this.map={customFilters:new i({tag:"customFilters",count:!1,empty:!0,childXform:new s}),filters:new i({tag:"filters",count:!1,empty:!0,childXform:new o})}}get tag(){return"filterColumn"}prepare(a,l){a.colId=l.index.toString()}render(a,l){return l.customFilters?(a.openNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),this.map.customFilters.render(a,l.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;let{attributes:l}=a;switch(a.name){case this.tag:return this.model={filterButton:l.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"filter"}render(i,s){i.leafNode(this.tag,{val:s.val})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"tableColumn"}prepare(i,s){i.id=s.index+1}render(i,s){return i.leafNode(this.tag,{id:s.id.toString(),name:s.name,totalsRowLabel:s.totalsRowLabel,totalsRowFunction:s.totalsRowFunction,dxfId:s.dxfId}),!0}parseOpen(i){if(i.name===this.tag){let{attributes:s}=i;return this.model={name:s.name,totalsRowLabel:s.totalsRowLabel,totalsRowFunction:s.totalsRowFunction,dxfId:s.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,t,n){"use strict";let r=e("../base-xform");t.exports=class extends r{get tag(){return"tableStyleInfo"}render(i,s){return i.leafNode(this.tag,{name:s.theme?s.theme:void 0,showFirstColumn:s.showFirstColumn?"1":"0",showLastColumn:s.showLastColumn?"1":"0",showRowStripes:s.showRowStripes?"1":"0",showColumnStripes:s.showColumnStripes?"1":"0"}),!0}parseOpen(i){if(i.name===this.tag){let{attributes:s}=i;return this.model={theme:s.name?s.name:null,showFirstColumn:s.showFirstColumn==="1",showLastColumn:s.showLastColumn==="1",showRowStripes:s.showRowStripes==="1",showColumnStripes:s.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,t,n){"use strict";let r=e("../../../utils/xml-stream"),i=e("../base-xform"),s=e("../list-xform"),o=e("./auto-filter-xform"),a=e("./table-column-xform"),l=e("./table-style-info-xform");class c extends i{constructor(){super(),this.map={autoFilter:new o,tableColumns:new s({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new l}}prepare(d,h){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,h)}get tag(){return"table"}render(d,h){d.openXml(r.StdDocAttributes),d.openNode(this.tag,Zt(at({},c.TABLE_ATTRIBUTES),{id:h.id,name:h.name,displayName:h.displayName||h.name,ref:h.tableRef,totalsRowCount:h.totalsRow?"1":void 0,totalsRowShown:h.totalsRow?void 0:"1",headerRowCount:h.headerRow?"1":"0"})),this.map.autoFilter.render(d,h),this.map.tableColumns.render(d,h.columns),this.map.tableStyleInfo.render(d,h.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;let{name:h,attributes:f}=d;switch(h){case this.tag:this.reset(),this.model={name:f.name,displayName:f.displayName||f.name,tableRef:f.ref,totalsRow:f.totalsRowCount==="1",headerRow:f.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((h,f)=>{this.model.columns[f].filterButton=h.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,h){d.columns.forEach(f=>{f.dxfId!==void 0&&(f.style=h.styles.getDxfStyle(f.dxfId))})}}c.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},t.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,t,n){(function(r,i){(function(){"use strict";let s=e("fs"),o=e("jszip"),{PassThrough:a}=e("readable-stream"),l=e("../utils/zip-stream"),c=e("../utils/stream-buf"),u=e("../utils/utils"),d=e("../utils/xml-stream"),{bufferToString:h}=e("../utils/browser-buffer-decode"),f=e("./xform/style/styles-xform"),p=e("./xform/core/core-xform"),g=e("./xform/strings/shared-strings-xform"),y=e("./xform/core/relationships-xform"),v=e("./xform/core/content-types-xform"),S=e("./xform/core/app-xform"),k=e("./xform/book/workbook-xform"),M=e("./xform/sheet/worksheet-xform"),z=e("./xform/drawing/drawing-xform"),F=e("./xform/table/table-xform"),j=e("./xform/comment/comments-xform"),B=e("./xform/comment/vml-notes-xform"),U=e("./xml/theme1");class V{constructor(C){this.workbook=C}async readFile(C,R){if(!await u.fs.exists(C))throw new Error("File not found: "+C);let m=s.createReadStream(C);try{let b=await this.read(m,R);return m.close(),b}catch(b){throw m.close(),b}}parseRels(C){return new y().parseStream(C)}parseWorkbook(C){return new k().parseStream(C)}parseSharedStrings(C){return new g().parseStream(C)}reconcile(C,R){let m=new k,b=new M(R),w=new z,_=new F;m.reconcile(C);let x={media:C.media,mediaIndex:C.mediaIndex};Object.keys(C.drawings).forEach($=>{let P=C.drawings[$],G=C.drawingRels[$];G&&(x.rels=G.reduce((D,W)=>(D[W.Id]=W,D),{}),(P.anchors||[]).forEach(D=>{let W=D.picture&&D.picture.hyperlinks;W&&x.rels[W.rId]&&(W.hyperlink=x.rels[W.rId].Target,delete W.rId)}),w.reconcile(P,x))});let I={styles:C.styles};Object.values(C.tables).forEach($=>{_.reconcile($,I)});let O={styles:C.styles,sharedStrings:C.sharedStrings,media:C.media,mediaIndex:C.mediaIndex,date1904:C.properties&&C.properties.date1904,drawings:C.drawings,comments:C.comments,tables:C.tables,vmlDrawings:C.vmlDrawings};C.worksheets.forEach($=>{$.relationships=C.worksheetRels[$.sheetNo],b.reconcile($,O)}),delete C.worksheetHash,delete C.worksheetRels,delete C.globalRels,delete C.sharedStrings,delete C.workbookRels,delete C.sheetDefs,delete C.styles,delete C.mediaIndex,delete C.drawings,delete C.drawingRels,delete C.vmlDrawings}async _processWorksheetEntry(C,R,m,b,w){let _=new M(b),x=await _.parseStream(C);x.sheetNo=m,R.worksheetHash[w]=x,R.worksheets.push(x)}async _processCommentEntry(C,R,m){let b=new j,w=await b.parseStream(C);R.comments[`../${m}.xml`]=w}async _processTableEntry(C,R,m){let b=new F,w=await b.parseStream(C);R.tables[`../tables/${m}.xml`]=w}async _processWorksheetRelsEntry(C,R,m){let b=new y,w=await b.parseStream(C);R.worksheetRels[m]=w}async _processMediaEntry(C,R,m){let b=m.lastIndexOf(".");if(b>=1){let w=m.substr(b+1),_=m.substr(0,b);await new Promise((x,I)=>{let O=new c;O.on("finish",()=>{R.mediaIndex[m]=R.media.length,R.mediaIndex[_]=R.media.length;let $={type:"image",name:_,extension:w,buffer:O.toBuffer()};R.media.push($),x()}),C.on("error",$=>{I($)}),C.pipe(O)})}}async _processDrawingEntry(C,R,m){let b=new z,w=await b.parseStream(C);R.drawings[m]=w}async _processDrawingRelsEntry(C,R,m){let b=new y,w=await b.parseStream(C);R.drawingRels[m]=w}async _processVmlDrawingEntry(C,R,m){let b=new B,w=await b.parseStream(C);R.vmlDrawings[`../drawings/${m}.vml`]=w}async _processThemeEntry(C,R,m){await new Promise((b,w)=>{let _=new c;C.on("error",w),_.on("error",w),_.on("finish",()=>{R.themes[m]=_.read().toString(),b()}),C.pipe(_)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(C,R){!C[Symbol.asyncIterator]&&C.pipe&&(C=C.pipe(new a));let m=[];for await(let b of C)m.push(b);return this.load(i.concat(m),R)}async load(C,R){let m;m=R&&R.base64?i.from(C.toString(),"base64"):C;let b={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},w=await o.loadAsync(m);for(let _ of Object.values(w.files))if(!_.dir){let x,I=_.name;if(I[0]==="/"&&(I=I.substr(1)),I.match(/xl\/media\//)||I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))x=new a,x.write(await _.async("nodebuffer"));else{let O;x=new a({writableObjectMode:!0,readableObjectMode:!0}),O=r.browser?h(await _.async("nodebuffer")):await _.async("string");let $=16384;for(let P=0;P<O.length;P+=$)x.write(O.substring(P,P+$))}switch(x.end(),I){case"_rels/.rels":b.globalRels=await this.parseRels(x);break;case"xl/workbook.xml":{let O=await this.parseWorkbook(x);b.sheets=O.sheets,b.definedNames=O.definedNames,b.views=O.views,b.properties=O.properties,b.calcProperties=O.calcProperties;break}case"xl/_rels/workbook.xml.rels":b.workbookRels=await this.parseRels(x);break;case"xl/sharedStrings.xml":b.sharedStrings=new g,await b.sharedStrings.parseStream(x);break;case"xl/styles.xml":b.styles=new f,await b.styles.parseStream(x);break;case"docProps/app.xml":{let O=new S,$=await O.parseStream(x);b.company=$.company,b.manager=$.manager;break}case"docProps/core.xml":{let O=new p,$=await O.parseStream(x);Object.assign(b,$);break}default:{let O=I.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(O){await this._processWorksheetEntry(x,b,O[1],R,I);break}if(O=I.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),O){await this._processWorksheetRelsEntry(x,b,O[1]);break}if(O=I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),O){await this._processThemeEntry(x,b,O[1]);break}if(O=I.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),O){await this._processMediaEntry(x,b,O[1]);break}if(O=I.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),O){await this._processDrawingEntry(x,b,O[1]);break}if(O=I.match(/xl\/(comments\d+)[.]xml/),O){await this._processCommentEntry(x,b,O[1]);break}if(O=I.match(/xl\/tables\/(table\d+)[.]xml/),O){await this._processTableEntry(x,b,O[1]);break}if(O=I.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),O){await this._processDrawingRelsEntry(x,b,O[1]);break}if(O=I.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),O){await this._processVmlDrawingEntry(x,b,O[1]);break}}}}return this.reconcile(b,R),this.workbook.model=b,this.workbook}async addMedia(C,R){await Promise.all(R.media.map(async m=>{if(m.type==="image"){let b=`xl/media/${m.name}.${m.extension}`;if(m.filename){let w=await function(_,x){return new Promise((I,O)=>{s.readFile(_,x,($,P)=>{$?O($):I(P)})})}(m.filename);return C.append(w,{name:b})}if(m.buffer)return C.append(m.buffer,{name:b});if(m.base64){let w=m.base64,_=w.substring(w.indexOf(",")+1);return C.append(_,{name:b,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(C,R){let m=new z,b=new y;R.worksheets.forEach(w=>{let{drawing:_}=w;if(_){m.prepare(_,{});let x=m.toXml(_);C.append(x,{name:`xl/drawings/${_.name}.xml`}),x=b.toXml(_.rels),C.append(x,{name:`xl/drawings/_rels/${_.name}.xml.rels`})}})}addTables(C,R){let m=new F;R.worksheets.forEach(b=>{let{tables:w}=b;w.forEach(_=>{m.prepare(_,{});let x=m.toXml(_);C.append(x,{name:"xl/tables/"+_.target})})})}async addContentTypes(C,R){let m=new v().toXml(R);C.append(m,{name:"[Content_Types].xml"})}async addApp(C,R){let m=new S().toXml(R);C.append(m,{name:"docProps/app.xml"})}async addCore(C,R){let m=new p;C.append(m.toXml(R),{name:"docProps/core.xml"})}async addThemes(C,R){let m=R.themes||{theme1:U};Object.keys(m).forEach(b=>{let w=m[b],_=`xl/theme/${b}.xml`;C.append(w,{name:_})})}async addOfficeRels(C){let R=new y().toXml([{Id:"rId1",Type:V.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:V.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:V.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);C.append(R,{name:"_rels/.rels"})}async addWorkbookRels(C,R){let m=1,b=[{Id:"rId"+m++,Type:V.RelType.Styles,Target:"styles.xml"},{Id:"rId"+m++,Type:V.RelType.Theme,Target:"theme/theme1.xml"}];R.sharedStrings.count&&b.push({Id:"rId"+m++,Type:V.RelType.SharedStrings,Target:"sharedStrings.xml"}),R.worksheets.forEach(_=>{_.rId="rId"+m++,b.push({Id:_.rId,Type:V.RelType.Worksheet,Target:`worksheets/sheet${_.id}.xml`})});let w=new y().toXml(b);C.append(w,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(C,R){R.sharedStrings&&R.sharedStrings.count&&C.append(R.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(C,R){let{xml:m}=R.styles;m&&C.append(m,{name:"xl/styles.xml"})}async addWorkbook(C,R){let m=new k;C.append(m.toXml(R),{name:"xl/workbook.xml"})}async addWorksheets(C,R){let m=new M,b=new y,w=new j,_=new B;R.worksheets.forEach(x=>{let I=new d;m.render(I,x),C.append(I.xml,{name:`xl/worksheets/sheet${x.id}.xml`}),x.rels&&x.rels.length&&(I=new d,b.render(I,x.rels),C.append(I.xml,{name:`xl/worksheets/_rels/sheet${x.id}.xml.rels`})),x.comments.length>0&&(I=new d,w.render(I,x),C.append(I.xml,{name:`xl/comments${x.id}.xml`}),I=new d,_.render(I,x),C.append(I.xml,{name:`xl/drawings/vmlDrawing${x.id}.vml`}))})}_finalize(C){return new Promise((R,m)=>{C.on("finish",()=>{R(this)}),C.on("error",m),C.finalize()})}prepareModel(C,R){C.creator=C.creator||"ExcelJS",C.lastModifiedBy=C.lastModifiedBy||"ExcelJS",C.created=C.created||new Date,C.modified=C.modified||new Date,C.useSharedStrings=R.useSharedStrings===void 0||R.useSharedStrings,C.useStyles=R.useStyles===void 0||R.useStyles,C.sharedStrings=new g,C.styles=C.useStyles?new f(!0):new f.Mock;let m=new k,b=new M;m.prepare(C);let w={sharedStrings:C.sharedStrings,styles:C.styles,date1904:C.properties.date1904,drawingsCount:0,media:C.media};w.drawings=C.drawings=[],w.commentRefs=C.commentRefs=[];let _=0;C.tables=[],C.worksheets.forEach(x=>{x.tables.forEach(I=>{_++,I.target=`table${_}.xml`,I.id=_,C.tables.push(I)}),b.prepare(x,w)})}async write(C,R){R=R||{};let{model:m}=this.workbook,b=new l.ZipWriter(R.zip);return b.pipe(C),this.prepareModel(m,R),await this.addContentTypes(b,m),await this.addOfficeRels(b,m),await this.addWorkbookRels(b,m),await this.addWorksheets(b,m),await this.addSharedStrings(b,m),await this.addDrawings(b,m),await this.addTables(b,m),await Promise.all([this.addThemes(b,m),this.addStyles(b,m)]),await this.addMedia(b,m),await Promise.all([this.addApp(b,m),this.addCore(b,m)]),await this.addWorkbook(b,m),this._finalize(b)}writeFile(C,R){let m=s.createWriteStream(C);return new Promise((b,w)=>{m.on("finish",()=>{b()}),m.on("error",_=>{w(_)}),this.write(m,R).then(()=>{m.end()}).catch(_=>{w(_)})})}async writeBuffer(C){let R=new c;return await this.write(R,C),R.read()}}V.RelType=e("./rel-type"),t.exports=V}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,t,n){"use strict";t.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,t,n){(function(r){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvFormatterStream=void 0;let i=e("stream"),s=e("./formatter");class o extends i.Transform{constructor(l){super({writableObjectMode:l.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=l,this.rowFormatter=new s.RowFormatter(l),this.hasWrittenBOM=!l.writeBOM}transform(l){return this.rowFormatter.rowTransform=l,this}_transform(l,c,u){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(l,(h,f)=>h?(d=!0,u(h)):(f&&f.forEach(p=>{this.push(r.from(p,"utf8"))}),d=!0,u()))}catch(h){if(d)throw h;u(h)}}_flush(l){this.rowFormatter.finish((c,u)=>c?l(c):(u&&u.forEach(d=>{this.push(r.from(d,"utf8"))}),l()))}}n.CsvFormatterStream=o}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FormatterOptions=void 0,n.FormatterOptions=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var i;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,r||{}),r?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),r?.quote===!0?this.quote='"':r?.quote===!1&&(this.quote=""),typeof r?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((i=r.writeHeaders)===null||i===void 0||i),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,t,n){"use strict";var r=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=void 0;let i=r(e("lodash.isboolean")),s=r(e("lodash.isnil")),o=r(e("lodash.escaperegexp"));n.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");let l=`[${a.delimiter}${o.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(l)}set headers(a){this._headers=a}shouldQuote(a,l){let c=l?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return i.default(c)?c:Array.isArray(c)?c[a]:this._headers!==null&&c[this._headers[a]]}format(a,l,c){let u=(""+(s.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&u.indexOf(d.quote)!==-1?this.quoteField(u.replace(this.REPLACE_REGEXP,d.escapedQuote)):u.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(l,c)?this.quoteField(u):u}quoteField(a){let{quote:l}=this.formatterOptions;return`${l}${a}${l}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,t,n){"use strict";var r=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowFormatter=void 0;let i=r(e("lodash.isfunction")),s=r(e("lodash.isequal")),o=e("./FieldFormatter"),a=e("../types");class l{constructor(u){this.rowCount=0,this.formatterOptions=u,this.fieldFormatter=new o.FieldFormatter(u),this.headers=u.headers,this.shouldWriteHeaders=u.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),u.transform&&(this.rowTransform=u.transform)}static isRowHashArray(u){return!!Array.isArray(u)&&Array.isArray(u[0])&&u[0].length===2}static isRowArray(u){return Array.isArray(u)&&!this.isRowHashArray(u)}static gatherHeaders(u){return l.isRowHashArray(u)?u.map(d=>d[0]):Array.isArray(u)?u:Object.keys(u)}static createTransform(u){return a.isSyncTransform(u)?(d,h)=>{let f=null;try{f=u(d)}catch(p){return h(p)}return h(null,f)}:(d,h)=>{u(d,h)}}set rowTransform(u){if(!i.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}format(u,d){this.callTransformer(u,(h,f)=>{if(h)return d(h);if(!u)return d(null);let p=[];if(f){let{shouldFormatColumns:g,headers:y}=this.checkHeaders(f);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),g){let v=this.gatherColumns(f);p.push(this.formatColumns(v,!1))}}return d(null,p)})}finish(u){let d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return u(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),u(null,d)}checkHeaders(u){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};let d=l.gatherHeaders(u);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!s.default(d,u),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(u){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(u)?l.isRowHashArray(u)?this.headers.map((d,h)=>{let f=u[h];return f?f[1]:""}):l.isRowArray(u)&&!this.shouldWriteHeaders?u:this.headers.map((d,h)=>u[h]):this.headers.map(d=>u[d])}callTransformer(u,d){return this._rowTransform?this._rowTransform(u,d):d(null,u)}formatColumns(u,d){let h=u.map((p,g)=>this.fieldFormatter.format(p,g,d)).join(this.formatterOptions.delimiter),{rowCount:f}=this;return this.rowCount+=1,f?[this.formatterOptions.rowDelimiter,h].join(""):h}}n.RowFormatter=l},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=n.RowFormatter=void 0;var r=e("./RowFormatter");Object.defineProperty(n,"RowFormatter",{enumerable:!0,get:function(){return r.RowFormatter}});var i=e("./FieldFormatter");Object.defineProperty(n,"FieldFormatter",{enumerable:!0,get:function(){return i.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,t,n){(function(r){(function(){"use strict";var i=Object.create?function(g,y,v,S){S===void 0&&(S=v),Object.defineProperty(g,S,{enumerable:!0,get:function(){return y[v]}})}:function(g,y,v,S){S===void 0&&(S=v),g[S]=y[v]},s=Object.create?function(g,y){Object.defineProperty(g,"default",{enumerable:!0,value:y})}:function(g,y){g.default=y},o=function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&i(y,g,v);return s(y,g),y},a=function(g,y){for(var v in g)v==="default"||Object.prototype.hasOwnProperty.call(y,v)||i(y,g,v)};Object.defineProperty(n,"__esModule",{value:!0}),n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=n.FormatterOptions=n.CsvFormatterStream=void 0;let l=e("util"),c=e("stream"),u=o(e("fs")),d=e("./FormatterOptions"),h=e("./CsvFormatterStream");a(e("./types"),n);var f=e("./CsvFormatterStream");Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return f.CsvFormatterStream}});var p=e("./FormatterOptions");Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),n.format=g=>new h.CsvFormatterStream(new d.FormatterOptions(g)),n.write=(g,y)=>{let v=n.format(y),S=l.promisify((k,M)=>{v.write(k,void 0,M)});return g.reduce((k,M)=>k.then(()=>S(M)),Promise.resolve()).then(()=>v.end()).catch(k=>{v.emit("error",k)}),v},n.writeToStream=(g,y,v)=>n.write(y,v).pipe(g),n.writeToBuffer=function(g){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=[],S=new c.Writable({write(k,M,z){v.push(k),z()}});return new Promise((k,M)=>{S.on("error",M).on("finish",()=>k(r.concat(v))),n.write(g,y).pipe(S)})},n.writeToString=(g,y)=>n.writeToBuffer(g,y).then(v=>v.toString()),n.writeToPath=(g,y,v)=>{let S=u.createWriteStream(g,{encoding:"utf8"});return n.write(y,v).pipe(S)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncTransform=void 0,n.isSyncTransform=r=>r.length===1},{}],153:[function(e,t,n){(function(r){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=void 0;let i=e("string_decoder"),s=e("stream"),o=e("./transforms"),a=e("./parser");class l extends s.Transform{constructor(u){super({objectMode:u.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=u,this.parser=new a.Parser(u),this.headerTransformer=new o.HeaderTransformer(u),this.decoder=new i.StringDecoder(u.encoding),this.rowTransformerValidator=new o.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(u){return this.rowTransformerValidator.rowTransform=u,this}validate(u){return this.rowTransformerValidator.rowValidator=u,this}emit(u){if(u==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,h=new Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return super.emit(u,...h)}_transform(u,d,h){if(this.hasHitRowLimit)return h();let f=l.wrapDoneCallback(h);try{let{lines:p}=this,g=p+this.decoder.write(u),y=this.parse(g,!0);return this.processRows(y,f)}catch(p){return f(p)}}_flush(u){let d=l.wrapDoneCallback(u);if(this.hasHitRowLimit)return d();try{let h=this.lines+this.decoder.end(),f=this.parse(h,!1);return this.processRows(f,d)}catch(h){return d(h)}}parse(u,d){if(!u)return[];let{line:h,rows:f}=this.parser.parse(u,d);return this.lines=h,f}processRows(u,d){let h=u.length,f=p=>{let g=S=>S?d(S):p%100!=0?f(p+1):void r(()=>f(p+1));if(this.checkAndEmitHeaders(),p>=h||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return g();let y=u[p];this.rowCount+=1,this.parsedRowCount+=1;let v=this.rowCount;return this.transformRow(y,(S,k)=>{if(S)return this.rowCount-=1,g(S);if(!k)return g(new Error("expected transform result"));if(k.isValid){if(k.row)return this.pushRow(k.row,g)}else this.emit("data-invalid",k.row,v,k.reason);return g()})};f(0)}transformRow(u,d){try{this.headerTransformer.transform(u,(h,f)=>h?d(h):f?f.isValid?f.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(f.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:u}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(h){d(h)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(u){return this.rowCount-=1,u(null,{row:null,isValid:!0})}pushRow(u,d){try{this.parserOptions.objectMode?this.push(u):this.push(JSON.stringify(u)),d()}catch(h){d(h)}}static wrapDoneCallback(u){let d=!1;return function(h){if(h){if(d)throw h;return d=!0,void u(h)}for(var f=arguments.length,p=new Array(f>1?f-1:0),g=1;g<f;g++)p[g-1]=arguments[g];u(...p)}}}n.CsvParserStream=l}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,t,n){"use strict";var r=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParserOptions=void 0;let i=r(e("lodash.escaperegexp")),s=r(e("lodash.isnil"));n.ParserOptions=class{constructor(o){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,o||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=i.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!s.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,t,n){"use strict";var r=Object.create?function(f,p,g,y){y===void 0&&(y=g),Object.defineProperty(f,y,{enumerable:!0,get:function(){return p[g]}})}:function(f,p,g,y){y===void 0&&(y=g),f[y]=p[g]},i=Object.create?function(f,p){Object.defineProperty(f,"default",{enumerable:!0,value:p})}:function(f,p){f.default=p},s=function(f){if(f&&f.__esModule)return f;var p={};if(f!=null)for(var g in f)g!=="default"&&Object.prototype.hasOwnProperty.call(f,g)&&r(p,f,g);return i(p,f),p},o=function(f,p){for(var g in f)g==="default"||Object.prototype.hasOwnProperty.call(p,g)||r(p,f,g)};Object.defineProperty(n,"__esModule",{value:!0}),n.parseString=n.parseFile=n.parseStream=n.parse=n.ParserOptions=n.CsvParserStream=void 0;let a=s(e("fs")),l=e("stream"),c=e("./ParserOptions"),u=e("./CsvParserStream");o(e("./types"),n);var d=e("./CsvParserStream");Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var h=e("./ParserOptions");Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return h.ParserOptions}}),n.parse=f=>new u.CsvParserStream(new c.ParserOptions(f)),n.parseStream=(f,p)=>f.pipe(new u.CsvParserStream(new c.ParserOptions(p))),n.parseFile=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(f).pipe(new u.CsvParserStream(new c.ParserOptions(p)))},n.parseString=(f,p)=>{let g=new l.Readable;return g.push(f),g.push(null),g.pipe(new u.CsvParserStream(new c.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=void 0;let r=e("./Scanner"),i=e("./RowParser"),s=e("./Token");class o{constructor(l){this.parserOptions=l,this.rowParser=new i.RowParser(this.parserOptions)}static removeBOM(l){return l&&l.charCodeAt(0)===65279?l.slice(1):l}parse(l,c){let u=new r.Scanner({line:o.removeBOM(l),parserOptions:this.parserOptions,hasMoreData:c});return this.parserOptions.supportsComments?this.parseWithComments(u):this.parseWithoutComments(u)}parseWithoutComments(l){let c=[],u=!0;for(;u;)u=this.parseRow(l,c);return{line:l.line,rows:c}}parseWithComments(l){let{parserOptions:c}=this,u=[];for(let d=l.nextCharacterToken;d!==null;d=l.nextCharacterToken)if(s.Token.isTokenComment(d,c)){if(l.advancePastLine()===null)return{line:l.lineFromCursor,rows:u};if(!l.hasMoreCharacters)return{line:l.lineFromCursor,rows:u};l.truncateToCursor()}else if(!this.parseRow(l,u))break;return{line:l.line,rows:u}}parseRow(l,c){if(!l.nextNonSpaceToken)return!1;let u=this.rowParser.parse(l);return u!==null&&(this.parserOptions.ignoreEmpty&&i.RowParser.isEmptyRow(u)||c.push(u),!0)}}n.Parser=o},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RowParser=void 0;let r=e("./column"),i=e("./Token");n.RowParser=class{constructor(s){this.parserOptions=s,this.columnParser=new r.ColumnParser(s)}static isEmptyRow(s){return s.join("").replace(/\s+/g,"")===""}parse(s){let{parserOptions:o}=this,{hasMoreData:a}=s,l=s,c=[],u=this.getStartToken(l,c);for(;u;){if(i.Token.isTokenRowDelimiter(u))return l.advancePastToken(u),!l.hasMoreCharacters&&i.Token.isTokenCarriageReturn(u,o)&&a?null:(l.truncateToCursor(),c);if(!this.shouldSkipColumnParse(l,u,c)){let d=this.columnParser.parse(l);if(d===null)return null;c.push(d)}u=l.nextNonSpaceToken}return a?null:(l.truncateToCursor(),c)}getStartToken(s,o){let a=s.nextNonSpaceToken;return a!==null&&i.Token.isTokenDelimiter(a,this.parserOptions)?(o.push(""),s.nextNonSpaceToken):a}shouldSkipColumnParse(s,o,a){let{parserOptions:l}=this;if(i.Token.isTokenDelimiter(o,l)){s.advancePastToken(o);let c=s.nextCharacterToken;if(!s.hasMoreCharacters||c!==null&&i.Token.isTokenRowDelimiter(c)||c!==null&&i.Token.isTokenDelimiter(c,l))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Scanner=void 0;let r=e("./Token"),i=/((?:\r\n)|\n|\r)/;n.Scanner=class{constructor(s){this.cursor=0,this.line=s.line,this.lineLength=this.line.length,this.parserOptions=s.parserOptions,this.hasMoreData=s.hasMoreData,this.cursor=s.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){let{lineFromCursor:s}=this,o=this.parserOptions.NEXT_TOKEN_REGEXP;if(s.search(o)===-1)return null;let a=o.exec(s);if(a==null)return null;let l=a[1],c=this.cursor+(a.index||0);return new r.Token({token:l,startCursor:c,endCursor:c+l.length-1})}get nextCharacterToken(){let{cursor:s,lineLength:o}=this;return o<=s?null:new r.Token({token:this.line[s],startCursor:s,endCursor:s})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){let s=i.exec(this.lineFromCursor);return s?(this.cursor+=(s.index||0)+s[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(s){return this.cursor=s,this}advanceToToken(s){return this.cursor=s.startCursor,this}advancePastToken(s){return this.cursor=s.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0,n.Token=class{constructor(r){this.token=r.token,this.startCursor=r.startCursor,this.endCursor=r.endCursor}static isTokenRowDelimiter(r){let i=r.token;return i==="\r"||i===`
`||i===`\r
`}static isTokenCarriageReturn(r,i){return r.token===i.carriageReturn}static isTokenComment(r,i){return i.supportsComments&&!!r&&r.token===i.comment}static isTokenEscapeCharacter(r,i){return r.token===i.escapeChar}static isTokenQuote(r,i){return r.token===i.quote}static isTokenDelimiter(r,i){return r.token===i.delimiter}}},{}],160:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=void 0,n.ColumnFormatter=class{constructor(r){r.trim?this.format=i=>i.trim():r.ltrim?this.format=i=>i.trimLeft():r.rtrim?this.format=i=>i.trimRight():this.format=i=>i}}},{}],161:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnParser=void 0;let r=e("./NonQuotedColumnParser"),i=e("./QuotedColumnParser"),s=e("../Token");n.ColumnParser=class{constructor(o){this.parserOptions=o,this.quotedColumnParser=new i.QuotedColumnParser(o),this.nonQuotedColumnParser=new r.NonQuotedColumnParser(o)}parse(o){let{nextNonSpaceToken:a}=o;return a!==null&&s.Token.isTokenQuote(a,this.parserOptions)?(o.advanceToToken(a),this.quotedColumnParser.parse(o)):this.nonQuotedColumnParser.parse(o)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NonQuotedColumnParser=void 0;let r=e("./ColumnFormatter"),i=e("../Token");n.NonQuotedColumnParser=class{constructor(s){this.parserOptions=s,this.columnFormatter=new r.ColumnFormatter(s)}parse(s){if(!s.hasMoreCharacters)return null;let{parserOptions:o}=this,a=[],l=s.nextCharacterToken;for(;l&&!i.Token.isTokenDelimiter(l,o)&&!i.Token.isTokenRowDelimiter(l);l=s.nextCharacterToken)a.push(l.token),s.advancePastToken(l);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=void 0;let r=e("./ColumnFormatter"),i=e("../Token");n.QuotedColumnParser=class{constructor(s){this.parserOptions=s,this.columnFormatter=new r.ColumnFormatter(s)}parse(s){if(!s.hasMoreCharacters)return null;let o=s.cursor,{foundClosingQuote:a,col:l}=this.gatherDataBetweenQuotes(s);if(!a){if(s.advanceTo(o),!s.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${s.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(s),l}gatherDataBetweenQuotes(s){let{parserOptions:o}=this,a=!1,l=!1,c=[],u=s.nextCharacterToken;for(;!l&&u!==null;u=s.nextCharacterToken){let d=i.Token.isTokenQuote(u,o);if(!a&&d)a=!0;else if(a)if(i.Token.isTokenEscapeCharacter(u,o)){s.advancePastToken(u);let h=s.nextCharacterToken;h!==null&&(i.Token.isTokenQuote(h,o)||i.Token.isTokenEscapeCharacter(h,o))?(c.push(h.token),u=h):d?l=!0:c.push(u.token)}else d?l=!0:c.push(u.token);s.advancePastToken(u)}return{col:this.columnFormatter.format(c.join("")),foundClosingQuote:l}}checkForMalformedColumn(s){let{parserOptions:o}=this,{nextNonSpaceToken:a}=s;if(a){let l=i.Token.isTokenDelimiter(a,o),c=i.Token.isTokenRowDelimiter(a);if(!l&&!c){let u=s.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${o.escapedDelimiter}' OR new line got: '${a.token}'. at '${u}`)}s.advanceToToken(a)}else s.hasMoreData||s.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=void 0;var r=e("./ColumnParser");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return r.ColumnParser}});var i=e("./NonQuotedColumnParser");Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return i.NonQuotedColumnParser}});var s=e("./QuotedColumnParser");Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return s.QuotedColumnParser}});var o=e("./ColumnFormatter");Object.defineProperty(n,"ColumnFormatter",{enumerable:!0,get:function(){return o.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=n.Token=n.Scanner=n.RowParser=n.Parser=void 0;var r=e("./Parser");Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=e("./RowParser");Object.defineProperty(n,"RowParser",{enumerable:!0,get:function(){return i.RowParser}});var s=e("./Scanner");Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return s.Scanner}});var o=e("./Token");Object.defineProperty(n,"Token",{enumerable:!0,get:function(){return o.Token}});var a=e("./column");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,t,n){"use strict";var r=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=void 0;let i=r(e("lodash.isundefined")),s=r(e("lodash.isfunction")),o=r(e("lodash.uniq")),a=r(e("lodash.groupby"));n.HeaderTransformer=class{constructor(l){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=l,l.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(l.headers)?this.setHeaders(l.headers):s.default(l.headers)&&(this.headersTransform=l.headers)}transform(l,c){return this.shouldMapRow(l)?c(null,this.processRow(l)):c(null,{row:null,isValid:!0})}shouldMapRow(l){let{parserOptions:c}=this;if(!this.headersTransform&&c.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(l)){if(this.headersTransform)this.setHeaders(this.headersTransform(l));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(l)}return!1}return!0}processRow(l){if(!this.headers)return{row:l,isValid:!0};let{parserOptions:c}=this;if(!c.discardUnmappedColumns&&l.length>this.headersLength){if(!c.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${l.length}`);return{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}}return c.strictColumnHandling&&l.length<this.headersLength?{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}:{row:this.mapHeaders(l),isValid:!0}}mapHeaders(l){let c={},{headers:u,headersLength:d}=this;for(let h=0;h<d;h+=1){let f=u[h];if(!i.default(f)){let p=l[h];i.default(p)?c[f]="":c[f]=p}}return c}setHeaders(l){var c;let u=l.filter(d=>!!d);if(o.default(u).length!==u.length){let d=a.default(u),h=Object.keys(d).filter(f=>d[f].length>1);throw new Error("Duplicate headers found "+JSON.stringify(h))}this.headers=l,this.receivedHeaders=!0,this.headersLength=((c=this.headers)===null||c===void 0?void 0:c.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,t,n){"use strict";var r=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowTransformerValidator=void 0;let i=r(e("lodash.isfunction")),s=e("../types");class o{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(l){return s.isSyncTransform(l)?(c,u)=>{let d=null;try{d=l(c)}catch(h){return u(h)}return u(null,d)}:l}static createValidator(l){return s.isSyncValidate(l)?(c,u)=>{u(null,{row:c,isValid:l(c)})}:(c,u)=>{l(c,(d,h,f)=>d?u(d):u(null,h?{row:c,isValid:h,reason:f}:{row:c,isValid:!1,reason:f}))}}set rowTransform(l){if(!i.default(l))throw new TypeError("The transform should be a function");this._rowTransform=o.createTransform(l)}set rowValidator(l){if(!i.default(l))throw new TypeError("The validate should be a function");this._rowValidator=o.createValidator(l)}transformAndValidate(l,c){return this.callTransformer(l,(u,d)=>u?c(u):d?this.callValidator(d,(h,f)=>h?c(h):f&&!f.isValid?c(null,{row:d,isValid:!1,reason:f.reason}):c(null,{row:d,isValid:!0})):c(null,{row:null,isValid:!0}))}callTransformer(l,c){return this._rowTransform?this._rowTransform(l,c):c(null,l)}callValidator(l,c){return this._rowValidator?this._rowValidator(l,c):c(null,{row:l,isValid:!0})}}n.RowTransformerValidator=o},{"../types":169,"lodash.isfunction":446}],168:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=n.RowTransformerValidator=void 0;var r=e("./RowTransformerValidator");Object.defineProperty(n,"RowTransformerValidator",{enumerable:!0,get:function(){return r.RowTransformerValidator}});var i=e("./HeaderTransformer");Object.defineProperty(n,"HeaderTransformer",{enumerable:!0,get:function(){return i.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncValidate=n.isSyncTransform=void 0,n.isSyncTransform=r=>r.length===1,n.isSyncValidate=r=>r.length===1},{}],170:[function(e,t,n){"use strict";let r=n;r.bignum=e("bn.js"),r.define=e("./asn1/api").define,r.base=e("./asn1/base"),r.constants=e("./asn1/constants"),r.decoders=e("./asn1/decoders"),r.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,t,n){"use strict";let r=e("./encoders"),i=e("./decoders"),s=e("inherits");function o(a,l){this.name=a,this.body=l,this.decoders={},this.encoders={}}n.define=function(a,l){return new o(a,l)},o.prototype._createNamed=function(a){let l=this.name;function c(u){this._initNamed(u,l)}return s(c,a),c.prototype._initNamed=function(u,d){a.call(this,u,d)},new c(this)},o.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(i[a])),this.decoders[a]},o.prototype.decode=function(a,l,c){return this._getDecoder(l).decode(a,c)},o.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(r[a])),this.encoders[a]},o.prototype.encode=function(a,l,c){return this._getEncoder(l).encode(a,c)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,t,n){"use strict";let r=e("inherits"),i=e("../base/reporter").Reporter,s=e("safer-buffer").Buffer;function o(l,c){i.call(this,c),s.isBuffer(l)?(this.base=l,this.offset=0,this.length=l.length):this.error("Input not Buffer")}function a(l,c){if(Array.isArray(l))this.length=0,this.value=l.map(function(u){return a.isEncoderBuffer(u)||(u=new a(u,c)),this.length+=u.length,u},this);else if(typeof l=="number"){if(!(0<=l&&l<=255))return c.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if(typeof l=="string")this.value=l,this.length=s.byteLength(l);else{if(!s.isBuffer(l))return c.error("Unsupported type: "+typeof l);this.value=l,this.length=l.length}}r(o,i),n.DecoderBuffer=o,o.isDecoderBuffer=function(l){return l instanceof o?!0:typeof l=="object"&&s.isBuffer(l.base)&&l.constructor.name==="DecoderBuffer"&&typeof l.offset=="number"&&typeof l.length=="number"&&typeof l.save=="function"&&typeof l.restore=="function"&&typeof l.isEmpty=="function"&&typeof l.readUInt8=="function"&&typeof l.skip=="function"&&typeof l.raw=="function"},o.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(l){let c=new o(this.base);return c.offset=l.offset,c.length=this.offset,this.offset=l.offset,i.prototype.restore.call(this,l.reporter),c},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(l){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(l||"DecoderBuffer overrun")},o.prototype.skip=function(l,c){if(!(this.offset+l<=this.length))return this.error(c||"DecoderBuffer overrun");let u=new o(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+l,this.offset+=l,u},o.prototype.raw=function(l){return this.base.slice(l?l.offset:this.offset,this.length)},n.EncoderBuffer=a,a.isEncoderBuffer=function(l){return l instanceof a?!0:typeof l=="object"&&l.constructor.name==="EncoderBuffer"&&typeof l.length=="number"&&typeof l.join=="function"},a.prototype.join=function(l,c){return l||(l=s.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(l,c),c+=u.length}):(typeof this.value=="number"?l[c]=this.value:typeof this.value=="string"?l.write(this.value,c):s.isBuffer(this.value)&&this.value.copy(l,c),c+=this.length)),l}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,t,n){"use strict";let r=n;r.Reporter=e("./reporter").Reporter,r.DecoderBuffer=e("./buffer").DecoderBuffer,r.EncoderBuffer=e("./buffer").EncoderBuffer,r.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,t,n){"use strict";let r=e("../base/reporter").Reporter,i=e("../base/buffer").EncoderBuffer,s=e("../base/buffer").DecoderBuffer,o=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(d,h,f){let p={};this._baseState=p,p.name=f,p.enc=d,p.parent=h||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}t.exports=c;let u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){let d=this._baseState,h={};u.forEach(function(p){h[p]=d[p]});let f=new this.constructor(h.parent);return f._baseState=h,f},c.prototype._wrap=function(){let d=this._baseState;l.forEach(function(h){this[h]=function(){let f=new this.constructor(this);return d.children.push(f),f[h].apply(f,arguments)}},this)},c.prototype._init=function(d){let h=this._baseState;o(h.parent===null),d.call(this),h.children=h.children.filter(function(f){return f._baseState.parent===this},this),o.equal(h.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(d){let h=this._baseState,f=d.filter(function(p){return p instanceof this.constructor},this);d=d.filter(function(p){return!(p instanceof this.constructor)},this),f.length!==0&&(o(h.children===null),h.children=f,f.forEach(function(p){p._baseState.parent=this},this)),d.length!==0&&(o(h.args===null),h.args=d,h.reverseArgs=d.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;let g={};return Object.keys(p).forEach(function(y){y==(0|y)&&(y|=0);let v=p[y];g[v]=y}),g}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){c.prototype[d]=function(){let h=this._baseState;throw new Error(d+" not implemented for encoding: "+h.enc)}}),a.forEach(function(d){c.prototype[d]=function(){let h=this._baseState,f=Array.prototype.slice.call(arguments);return o(h.tag===null),h.tag=d,this._useArgs(f),this}}),c.prototype.use=function(d){o(d);let h=this._baseState;return o(h.use===null),h.use=d,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(d){let h=this._baseState;return o(h.default===null),h.default=d,h.optional=!0,this},c.prototype.explicit=function(d){let h=this._baseState;return o(h.explicit===null&&h.implicit===null),h.explicit=d,this},c.prototype.implicit=function(d){let h=this._baseState;return o(h.explicit===null&&h.implicit===null),h.implicit=d,this},c.prototype.obj=function(){let d=this._baseState,h=Array.prototype.slice.call(arguments);return d.obj=!0,h.length!==0&&this._useArgs(h),this},c.prototype.key=function(d){let h=this._baseState;return o(h.key===null),h.key=d,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(d){let h=this._baseState;return o(h.choice===null),h.choice=d,this._useArgs(Object.keys(d).map(function(f){return d[f]})),this},c.prototype.contains=function(d){let h=this._baseState;return o(h.use===null),h.contains=d,this},c.prototype._decode=function(d,h){let f=this._baseState;if(f.parent===null)return d.wrapResult(f.children[0]._decode(d,h));let p,g=f.default,y=!0,v=null;if(f.key!==null&&(v=d.enterKey(f.key)),f.optional){let S=null;if(f.explicit!==null?S=f.explicit:f.implicit!==null?S=f.implicit:f.tag!==null&&(S=f.tag),S!==null||f.any){if(y=this._peekTag(d,S,f.any),d.isError(y))return y}else{let k=d.save();try{f.choice===null?this._decodeGeneric(f.tag,d,h):this._decodeChoice(d,h),y=!0}catch{y=!1}d.restore(k)}}if(f.obj&&y&&(p=d.enterObject()),y){if(f.explicit!==null){let k=this._decodeTag(d,f.explicit);if(d.isError(k))return k;d=k}let S=d.offset;if(f.use===null&&f.choice===null){let k;f.any&&(k=d.save());let M=this._decodeTag(d,f.implicit!==null?f.implicit:f.tag,f.any);if(d.isError(M))return M;f.any?g=d.raw(k):d=M}if(h&&h.track&&f.tag!==null&&h.track(d.path(),S,d.length,"tagged"),h&&h.track&&f.tag!==null&&h.track(d.path(),d.offset,d.length,"content"),f.any||(g=f.choice===null?this._decodeGeneric(f.tag,d,h):this._decodeChoice(d,h)),d.isError(g))return g;if(f.any||f.choice!==null||f.children===null||f.children.forEach(function(k){k._decode(d,h)}),f.contains&&(f.tag==="octstr"||f.tag==="bitstr")){let k=new s(g);g=this._getUse(f.contains,d._reporterState.obj)._decode(k,h)}}return f.obj&&y&&(g=d.leaveObject(p)),f.key===null||g===null&&y!==!0?v!==null&&d.exitKey(v):d.leaveKey(v,f.key,g),g},c.prototype._decodeGeneric=function(d,h,f){let p=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(h,d,p.args[0],f):/str$/.test(d)?this._decodeStr(h,d,f):d==="objid"&&p.args?this._decodeObjid(h,p.args[0],p.args[1],f):d==="objid"?this._decodeObjid(h,null,null,f):d==="gentime"||d==="utctime"?this._decodeTime(h,d,f):d==="null_"?this._decodeNull(h,f):d==="bool"?this._decodeBool(h,f):d==="objDesc"?this._decodeStr(h,d,f):d==="int"||d==="enum"?this._decodeInt(h,p.args&&p.args[0],f):p.use!==null?this._getUse(p.use,h._reporterState.obj)._decode(h,f):h.error("unknown tag: "+d)},c.prototype._getUse=function(d,h){let f=this._baseState;return f.useDecoder=this._use(d,h),o(f.useDecoder._baseState.parent===null),f.useDecoder=f.useDecoder._baseState.children[0],f.implicit!==f.useDecoder._baseState.implicit&&(f.useDecoder=f.useDecoder.clone(),f.useDecoder._baseState.implicit=f.implicit),f.useDecoder},c.prototype._decodeChoice=function(d,h){let f=this._baseState,p=null,g=!1;return Object.keys(f.choice).some(function(y){let v=d.save(),S=f.choice[y];try{let k=S._decode(d,h);if(d.isError(k))return!1;p={type:y,value:k},g=!0}catch{return d.restore(v),!1}return!0},this),g?p:d.error("Choice not matched")},c.prototype._createEncoderBuffer=function(d){return new i(d,this.reporter)},c.prototype._encode=function(d,h,f){let p=this._baseState;if(p.default!==null&&p.default===d)return;let g=this._encodeValue(d,h,f);return g===void 0||this._skipDefault(g,h,f)?void 0:g},c.prototype._encodeValue=function(d,h,f){let p=this._baseState;if(p.parent===null)return p.children[0]._encode(d,h||new r);let g=null;if(this.reporter=h,p.optional&&d===void 0){if(p.default===null)return;d=p.default}let y=null,v=!1;if(p.any)g=this._createEncoderBuffer(d);else if(p.choice)g=this._encodeChoice(d,h);else if(p.contains)y=this._getUse(p.contains,f)._encode(d,h),v=!0;else if(p.children)y=p.children.map(function(S){if(S._baseState.tag==="null_")return S._encode(null,h,d);if(S._baseState.key===null)return h.error("Child should have a key");let k=h.enterKey(S._baseState.key);if(typeof d!="object")return h.error("Child expected, but input is not object");let M=S._encode(d[S._baseState.key],h,d);return h.leaveKey(k),M},this).filter(function(S){return S}),y=this._createEncoderBuffer(y);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return h.error("Too many args for : "+p.tag);if(!Array.isArray(d))return h.error("seqof/setof, but data is not Array");let S=this.clone();S._baseState.implicit=null,y=this._createEncoderBuffer(d.map(function(k){let M=this._baseState;return this._getUse(M.args[0],d)._encode(k,h)},S))}else p.use!==null?g=this._getUse(p.use,f)._encode(d,h):(y=this._encodePrimitive(p.tag,d),v=!0);if(!p.any&&p.choice===null){let S=p.implicit!==null?p.implicit:p.tag,k=p.implicit===null?"universal":"context";S===null?p.use===null&&h.error("Tag could be omitted only for .use()"):p.use===null&&(g=this._encodeComposite(S,v,k,y))}return p.explicit!==null&&(g=this._encodeComposite(p.explicit,!1,"context",g)),g},c.prototype._encodeChoice=function(d,h){let f=this._baseState,p=f.choice[d.type];return p||o(!1,d.type+" not found in "+JSON.stringify(Object.keys(f.choice))),p._encode(d.value,h)},c.prototype._encodePrimitive=function(d,h){let f=this._baseState;if(/str$/.test(d))return this._encodeStr(h,d);if(d==="objid"&&f.args)return this._encodeObjid(h,f.reverseArgs[0],f.args[1]);if(d==="objid")return this._encodeObjid(h,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(h,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(h,f.args&&f.reverseArgs[0]);if(d==="bool")return this._encodeBool(h);if(d==="objDesc")return this._encodeStr(h,d);throw new Error("Unsupported tag: "+d)},c.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},c.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,t,n){"use strict";let r=e("inherits");function i(o){this._reporterState={obj:null,path:[],options:o||{},errors:[]}}function s(o,a){this.path=o,this.rethrow(a)}n.Reporter=i,i.prototype.isError=function(o){return o instanceof s},i.prototype.save=function(){let o=this._reporterState;return{obj:o.obj,pathLen:o.path.length}},i.prototype.restore=function(o){let a=this._reporterState;a.obj=o.obj,a.path=a.path.slice(0,o.pathLen)},i.prototype.enterKey=function(o){return this._reporterState.path.push(o)},i.prototype.exitKey=function(o){let a=this._reporterState;a.path=a.path.slice(0,o-1)},i.prototype.leaveKey=function(o,a,l){let c=this._reporterState;this.exitKey(o),c.obj!==null&&(c.obj[a]=l)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){let o=this._reporterState,a=o.obj;return o.obj={},a},i.prototype.leaveObject=function(o){let a=this._reporterState,l=a.obj;return a.obj=o,l},i.prototype.error=function(o){let a,l=this._reporterState,c=o instanceof s;if(a=c?o:new s(l.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),o.message||o,o.stack),!l.options.partial)throw a;return c||l.errors.push(a),a},i.prototype.wrapResult=function(o){let a=this._reporterState;return a.options.partial?{result:this.isError(o)?null:o,errors:a.errors}:o},r(s,Error),s.prototype.rethrow=function(o){if(this.message=o+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(e,t,n){"use strict";function r(i){let s={};return Object.keys(i).forEach(function(o){(0|o)==o&&(o|=0);let a=i[o];s[a]=o}),s}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=r(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=r(n.tag)},{}],177:[function(e,t,n){"use strict";let r=n;r._reverse=function(i){let s={};return Object.keys(i).forEach(function(o){(0|o)==o&&(o|=0);let a=i[o];s[a]=o}),s},r.der=e("./der")},{"./der":176}],178:[function(e,t,n){"use strict";let r=e("inherits"),i=e("bn.js"),s=e("../base/buffer").DecoderBuffer,o=e("../base/node"),a=e("../constants/der");function l(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new c,this.tree._init(h.body)}function c(h){o.call(this,"der",h)}function u(h,f){let p=h.readUInt8(f);if(h.isError(p))return p;let g=a.tagClass[p>>6],y=(32&p)==0;if((31&p)==31){let v=p;for(p=0;(128&v)==128;){if(v=h.readUInt8(f),h.isError(v))return v;p<<=7,p|=127&v}}else p&=31;return{cls:g,primitive:y,tag:p,tagStr:a.tag[p]}}function d(h,f,p){let g=h.readUInt8(p);if(h.isError(g))return g;if(!f&&g===128)return null;if((128&g)==0)return g;let y=127&g;if(y>4)return h.error("length octect is too long");g=0;for(let v=0;v<y;v++){g<<=8;let S=h.readUInt8(p);if(h.isError(S))return S;g|=S}return g}t.exports=l,l.prototype.decode=function(h,f){return s.isDecoderBuffer(h)||(h=new s(h,f)),this.tree._decode(h,f)},r(c,o),c.prototype._peekTag=function(h,f,p){if(h.isEmpty())return!1;let g=h.save(),y=u(h,'Failed to peek tag: "'+f+'"');return h.isError(y)?y:(h.restore(g),y.tag===f||y.tagStr===f||y.tagStr+"of"===f||p)},c.prototype._decodeTag=function(h,f,p){let g=u(h,'Failed to decode tag of "'+f+'"');if(h.isError(g))return g;let y=d(h,g.primitive,'Failed to get length of "'+f+'"');if(h.isError(y))return y;if(!p&&g.tag!==f&&g.tagStr!==f&&g.tagStr+"of"!==f)return h.error('Failed to match tag: "'+f+'"');if(g.primitive||y!==null)return h.skip(y,'Failed to match body of: "'+f+'"');let v=h.save(),S=this._skipUntilEnd(h,'Failed to skip indefinite length body: "'+this.tag+'"');return h.isError(S)?S:(y=h.offset-v.offset,h.restore(v),h.skip(y,'Failed to match body of: "'+f+'"'))},c.prototype._skipUntilEnd=function(h,f){for(;;){let p=u(h,f);if(h.isError(p))return p;let g=d(h,p.primitive,f);if(h.isError(g))return g;let y;if(y=p.primitive||g!==null?h.skip(g):this._skipUntilEnd(h,f),h.isError(y))return y;if(p.tagStr==="end")break}},c.prototype._decodeList=function(h,f,p,g){let y=[];for(;!h.isEmpty();){let v=this._peekTag(h,"end");if(h.isError(v))return v;let S=p.decode(h,"der",g);if(h.isError(S)&&v)break;y.push(S)}return y},c.prototype._decodeStr=function(h,f){if(f==="bitstr"){let p=h.readUInt8();return h.isError(p)?p:{unused:p,data:h.raw()}}if(f==="bmpstr"){let p=h.raw();if(p.length%2==1)return h.error("Decoding of string type: bmpstr length mismatch");let g="";for(let y=0;y<p.length/2;y++)g+=String.fromCharCode(p.readUInt16BE(2*y));return g}if(f==="numstr"){let p=h.raw().toString("ascii");return this._isNumstr(p)?p:h.error("Decoding of string type: numstr unsupported characters")}if(f==="octstr"||f==="objDesc")return h.raw();if(f==="printstr"){let p=h.raw().toString("ascii");return this._isPrintstr(p)?p:h.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(f)?h.raw().toString():h.error("Decoding of string type: "+f+" unsupported")},c.prototype._decodeObjid=function(h,f,p){let g,y=[],v=0,S=0;for(;!h.isEmpty();)S=h.readUInt8(),v<<=7,v|=127&S,(128&S)==0&&(y.push(v),v=0);128&S&&y.push(v);let k=y[0]/40|0,M=y[0]%40;if(g=p?y:[k,M].concat(y.slice(1)),f){let z=f[g.join(" ")];z===void 0&&(z=f[g.join(".")]),z!==void 0&&(g=z)}return g},c.prototype._decodeTime=function(h,f){let p=h.raw().toString(),g,y,v,S,k,M;if(f==="gentime")g=0|p.slice(0,4),y=0|p.slice(4,6),v=0|p.slice(6,8),S=0|p.slice(8,10),k=0|p.slice(10,12),M=0|p.slice(12,14);else{if(f!=="utctime")return h.error("Decoding "+f+" time is not supported yet");g=0|p.slice(0,2),y=0|p.slice(2,4),v=0|p.slice(4,6),S=0|p.slice(6,8),k=0|p.slice(8,10),M=0|p.slice(10,12),g=g<70?2e3+g:1900+g}return Date.UTC(g,y-1,v,S,k,M,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(h){let f=h.readUInt8();return h.isError(f)?f:f!==0},c.prototype._decodeInt=function(h,f){let p=h.raw(),g=new i(p);return f&&(g=f[g.toString(10)]||g),g},c.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,t,n){"use strict";let r=n;r.der=e("./der"),r.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,t,n){"use strict";let r=e("inherits"),i=e("safer-buffer").Buffer,s=e("./der");function o(a){s.call(this,a),this.enc="pem"}r(o,s),t.exports=o,o.prototype.decode=function(a,l){let c=a.toString().split(/[\r\n]+/g),u=l.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/,h=-1,f=-1;for(let y=0;y<c.length;y++){let v=c[y].match(d);if(v!==null&&v[2]===u){if(h!==-1){if(v[1]!=="END")break;f=y;break}if(v[1]!=="BEGIN")break;h=y}}if(h===-1||f===-1)throw new Error("PEM section not found for: "+u);let p=c.slice(h+1,f).join("");p.replace(/[^a-z0-9+/=]+/gi,"");let g=i.from(p,"base64");return s.prototype.decode.call(this,g,l)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,t,n){"use strict";let r=e("inherits"),i=e("safer-buffer").Buffer,s=e("../base/node"),o=e("../constants/der");function a(u){this.enc="der",this.name=u.name,this.entity=u,this.tree=new l,this.tree._init(u.body)}function l(u){s.call(this,"der",u)}function c(u){return u<10?"0"+u:u}t.exports=a,a.prototype.encode=function(u,d){return this.tree._encode(u,d).join()},r(l,s),l.prototype._encodeComposite=function(u,d,h,f){let p=function(v,S,k,M){let z;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),o.tagByName.hasOwnProperty(v))z=o.tagByName[v];else{if(typeof v!="number"||(0|v)!==v)return M.error("Unknown tag: "+v);z=v}return z>=31?M.error("Multi-octet tag encoding unsupported"):(S||(z|=32),z|=o.tagClassByName[k||"universal"]<<6,z)}(u,d,h,this.reporter);if(f.length<128){let v=i.alloc(2);return v[0]=p,v[1]=f.length,this._createEncoderBuffer([v,f])}let g=1;for(let v=f.length;v>=256;v>>=8)g++;let y=i.alloc(2+g);y[0]=p,y[1]=128|g;for(let v=1+g,S=f.length;S>0;v--,S>>=8)y[v]=255&S;return this._createEncoderBuffer([y,f])},l.prototype._encodeStr=function(u,d){if(d==="bitstr")return this._createEncoderBuffer([0|u.unused,u.data]);if(d==="bmpstr"){let h=i.alloc(2*u.length);for(let f=0;f<u.length;f++)h.writeUInt16BE(u.charCodeAt(f),2*f);return this._createEncoderBuffer(h)}return d==="numstr"?this._isNumstr(u)?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(u)?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: "+d+" unsupported")},l.prototype._encodeObjid=function(u,d,h){if(typeof u=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(u))return this.reporter.error("objid not found in values map");u=d[u].split(/[\s.]+/g);for(let y=0;y<u.length;y++)u[y]|=0}else if(Array.isArray(u)){u=u.slice();for(let y=0;y<u.length;y++)u[y]|=0}if(!Array.isArray(u))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(u));if(!h){if(u[1]>=40)return this.reporter.error("Second objid identifier OOB");u.splice(0,2,40*u[0]+u[1])}let f=0;for(let y=0;y<u.length;y++){let v=u[y];for(f++;v>=128;v>>=7)f++}let p=i.alloc(f),g=p.length-1;for(let y=u.length-1;y>=0;y--){let v=u[y];for(p[g--]=127&v;(v>>=7)>0;)p[g--]=128|127&v}return this._createEncoderBuffer(p)},l.prototype._encodeTime=function(u,d){let h,f=new Date(u);return d==="gentime"?h=[c(f.getUTCFullYear()),c(f.getUTCMonth()+1),c(f.getUTCDate()),c(f.getUTCHours()),c(f.getUTCMinutes()),c(f.getUTCSeconds()),"Z"].join(""):d==="utctime"?h=[c(f.getUTCFullYear()%100),c(f.getUTCMonth()+1),c(f.getUTCDate()),c(f.getUTCHours()),c(f.getUTCMinutes()),c(f.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(h,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(u,d){if(typeof u=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(u))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(u));u=d[u]}if(typeof u!="number"&&!i.isBuffer(u)){let p=u.toArray();!u.sign&&128&p[0]&&p.unshift(0),u=i.from(p)}if(i.isBuffer(u)){let p=u.length;u.length===0&&p++;let g=i.alloc(p);return u.copy(g),u.length===0&&(g[0]=0),this._createEncoderBuffer(g)}if(u<128)return this._createEncoderBuffer(u);if(u<256)return this._createEncoderBuffer([0,u]);let h=1;for(let p=u;p>=256;p>>=8)h++;let f=new Array(h);for(let p=f.length-1;p>=0;p--)f[p]=255&u,u>>=8;return 128&f[0]&&f.unshift(0),this._createEncoderBuffer(i.from(f))},l.prototype._encodeBool=function(u){return this._createEncoderBuffer(u?255:0)},l.prototype._use=function(u,d){return typeof u=="function"&&(u=u(d)),u._getEncoder("der").tree},l.prototype._skipDefault=function(u,d,h){let f=this._baseState,p;if(f.default===null)return!1;let g=u.join();if(f.defaultBuffer===void 0&&(f.defaultBuffer=this._encodeValue(f.default,d,h).join()),g.length!==f.defaultBuffer.length)return!1;for(p=0;p<g.length;p++)if(g[p]!==f.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,t,n){"use strict";let r=n;r.der=e("./der"),r.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,t,n){"use strict";let r=e("inherits"),i=e("./der");function s(o){i.call(this,o),this.enc="pem"}r(s,i),t.exports=s,s.prototype.encode=function(o,a){let l=i.prototype.encode.call(this,o).toString("base64"),c=["-----BEGIN "+a.label+"-----"];for(let u=0;u<l.length;u+=64)c.push(l.slice(u,u+64));return c.push("-----END "+a.label+"-----"),c.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,t,n){"use strict";(function(r,i){function s(E,C){if(!E)throw new Error(C||"Assertion failed")}function o(E,C){E.super_=C;var R=function(){};R.prototype=C.prototype,E.prototype=new R,E.prototype.constructor=E}function a(E,C,R){if(a.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(C!=="le"&&C!=="be"||(R=C,C=10),this._init(E||0,C||10,R||"be"))}var l;typeof r=="object"?r.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function c(E,C){var R=E.charCodeAt(C);return R>=65&&R<=70?R-55:R>=97&&R<=102?R-87:R-48&15}function u(E,C,R){var m=c(E,R);return R-1>=C&&(m|=c(E,R-1)<<4),m}function d(E,C,R,m){for(var b=0,w=Math.min(E.length,R),_=C;_<w;_++){var x=E.charCodeAt(_)-48;b*=m,b+=x>=49?x-49+10:x>=17?x-17+10:x}return b}a.isBN=function(E){return E instanceof a||E!==null&&typeof E=="object"&&E.constructor.wordSize===a.wordSize&&Array.isArray(E.words)},a.max=function(E,C){return E.cmp(C)>0?E:C},a.min=function(E,C){return E.cmp(C)<0?E:C},a.prototype._init=function(E,C,R){if(typeof E=="number")return this._initNumber(E,C,R);if(typeof E=="object")return this._initArray(E,C,R);C==="hex"&&(C=16),s(C===(0|C)&&C>=2&&C<=36);var m=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(m++,this.negative=1),m<E.length&&(C===16?this._parseHex(E,m,R):(this._parseBase(E,C,m),R==="le"&&this._initArray(this.toArray(),C,R)))},a.prototype._initNumber=function(E,C,R){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(s(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),C,R)},a.prototype._initArray=function(E,C,R){if(s(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b,w,_=0;if(R==="be")for(m=E.length-1,b=0;m>=0;m-=3)w=E[m]|E[m-1]<<8|E[m-2]<<16,this.words[b]|=w<<_&67108863,this.words[b+1]=w>>>26-_&67108863,(_+=24)>=26&&(_-=26,b++);else if(R==="le")for(m=0,b=0;m<E.length;m+=3)w=E[m]|E[m+1]<<8|E[m+2]<<16,this.words[b]|=w<<_&67108863,this.words[b+1]=w>>>26-_&67108863,(_+=24)>=26&&(_-=26,b++);return this.strip()},a.prototype._parseHex=function(E,C,R){this.length=Math.ceil((E.length-C)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var b,w=0,_=0;if(R==="be")for(m=E.length-1;m>=C;m-=2)b=u(E,C,m)<<w,this.words[_]|=67108863&b,w>=18?(w-=18,_+=1,this.words[_]|=b>>>26):w+=8;else for(m=(E.length-C)%2==0?C+1:C;m<E.length;m+=2)b=u(E,C,m)<<w,this.words[_]|=67108863&b,w>=18?(w-=18,_+=1,this.words[_]|=b>>>26):w+=8;this.strip()},a.prototype._parseBase=function(E,C,R){this.words=[0],this.length=1;for(var m=0,b=1;b<=67108863;b*=C)m++;m--,b=b/C|0;for(var w=E.length-R,_=w%m,x=Math.min(w,w-_)+R,I=0,O=R;O<x;O+=m)I=d(E,O,O+m,C),this.imuln(b),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(_!==0){var $=1;for(I=d(E,O,E.length,C),O=0;O<_;O++)$*=C;this.imuln($),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this.strip()},a.prototype.copy=function(E){E.words=new Array(this.length);for(var C=0;C<this.length;C++)E.words[C]=this.words[C];E.length=this.length,E.negative=this.negative,E.red=this.red},a.prototype.clone=function(){var E=new a(null);return this.copy(E),E},a.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(E,C,R){R.negative=C.negative^E.negative;var m=E.length+C.length|0;R.length=m,m=m-1|0;var b=0|E.words[0],w=0|C.words[0],_=b*w,x=67108863&_,I=_/67108864|0;R.words[0]=x;for(var O=1;O<m;O++){for(var $=I>>>26,P=67108863&I,G=Math.min(O,C.length-1),D=Math.max(0,O-E.length+1);D<=G;D++){var W=O-D|0;$+=(_=(b=0|E.words[W])*(w=0|C.words[D])+P)/67108864|0,P=67108863&_}R.words[O]=0|P,I=0|$}return I!==0?R.words[O]=0|I:R.length--,R.strip()}a.prototype.toString=function(E,C){var R;if(C=0|C||1,(E=E||10)===16||E==="hex"){R="";for(var m=0,b=0,w=0;w<this.length;w++){var _=this.words[w],x=(16777215&(_<<m|b)).toString(16);R=(b=_>>>24-m&16777215)!==0||w!==this.length-1?h[6-x.length]+x+R:x+R,(m+=2)>=26&&(m-=26,w--)}for(b!==0&&(R=b.toString(16)+R);R.length%C!=0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(E===(0|E)&&E>=2&&E<=36){var I=f[E],O=p[E];R="";var $=this.clone();for($.negative=0;!$.isZero();){var P=$.modn(O).toString(E);R=($=$.idivn(O)).isZero()?P+R:h[I-P.length]+P+R}for(this.isZero()&&(R="0"+R);R.length%C!=0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(E,C){return s(l!==void 0),this.toArrayLike(l,E,C)},a.prototype.toArray=function(E,C){return this.toArrayLike(Array,E,C)},a.prototype.toArrayLike=function(E,C,R){var m=this.byteLength(),b=R||Math.max(1,m);s(m<=b,"byte array longer than desired length"),s(b>0,"Requested array length <= 0"),this.strip();var w,_,x=C==="le",I=new E(b),O=this.clone();if(x){for(_=0;!O.isZero();_++)w=O.andln(255),O.iushrn(8),I[_]=w;for(;_<b;_++)I[_]=0}else{for(_=0;_<b-m;_++)I[_]=0;for(_=0;!O.isZero();_++)w=O.andln(255),O.iushrn(8),I[b-_-1]=w}return I},Math.clz32?a.prototype._countBits=function(E){return 32-Math.clz32(E)}:a.prototype._countBits=function(E){var C=E,R=0;return C>=4096&&(R+=13,C>>>=13),C>=64&&(R+=7,C>>>=7),C>=8&&(R+=4,C>>>=4),C>=2&&(R+=2,C>>>=2),R+C},a.prototype._zeroBits=function(E){if(E===0)return 26;var C=E,R=0;return(8191&C)==0&&(R+=13,C>>>=13),(127&C)==0&&(R+=7,C>>>=7),(15&C)==0&&(R+=4,C>>>=4),(3&C)==0&&(R+=2,C>>>=2),(1&C)==0&&R++,R},a.prototype.bitLength=function(){var E=this.words[this.length-1],C=this._countBits(E);return 26*(this.length-1)+C},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,C=0;C<this.length;C++){var R=this._zeroBits(this.words[C]);if(E+=R,R!==26)break}return E},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},a.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var C=0;C<E.length;C++)this.words[C]=this.words[C]|E.words[C];return this.strip()},a.prototype.ior=function(E){return s((this.negative|E.negative)==0),this.iuor(E)},a.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},a.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},a.prototype.iuand=function(E){var C;C=this.length>E.length?E:this;for(var R=0;R<C.length;R++)this.words[R]=this.words[R]&E.words[R];return this.length=C.length,this.strip()},a.prototype.iand=function(E){return s((this.negative|E.negative)==0),this.iuand(E)},a.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},a.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},a.prototype.iuxor=function(E){var C,R;this.length>E.length?(C=this,R=E):(C=E,R=this);for(var m=0;m<R.length;m++)this.words[m]=C.words[m]^R.words[m];if(this!==C)for(;m<C.length;m++)this.words[m]=C.words[m];return this.length=C.length,this.strip()},a.prototype.ixor=function(E){return s((this.negative|E.negative)==0),this.iuxor(E)},a.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},a.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},a.prototype.inotn=function(E){s(typeof E=="number"&&E>=0);var C=0|Math.ceil(E/26),R=E%26;this._expand(C),R>0&&C--;for(var m=0;m<C;m++)this.words[m]=67108863&~this.words[m];return R>0&&(this.words[m]=~this.words[m]&67108863>>26-R),this.strip()},a.prototype.notn=function(E){return this.clone().inotn(E)},a.prototype.setn=function(E,C){s(typeof E=="number"&&E>=0);var R=E/26|0,m=E%26;return this._expand(R+1),this.words[R]=C?this.words[R]|1<<m:this.words[R]&~(1<<m),this.strip()},a.prototype.iadd=function(E){var C,R,m;if(this.negative!==0&&E.negative===0)return this.negative=0,C=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,C=this.isub(E),E.negative=1,C._normSign();this.length>E.length?(R=this,m=E):(R=E,m=this);for(var b=0,w=0;w<m.length;w++)C=(0|R.words[w])+(0|m.words[w])+b,this.words[w]=67108863&C,b=C>>>26;for(;b!==0&&w<R.length;w++)C=(0|R.words[w])+b,this.words[w]=67108863&C,b=C>>>26;if(this.length=R.length,b!==0)this.words[this.length]=b,this.length++;else if(R!==this)for(;w<R.length;w++)this.words[w]=R.words[w];return this},a.prototype.add=function(E){var C;return E.negative!==0&&this.negative===0?(E.negative=0,C=this.sub(E),E.negative^=1,C):E.negative===0&&this.negative!==0?(this.negative=0,C=E.sub(this),this.negative=1,C):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},a.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var C=this.iadd(E);return E.negative=1,C._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var R,m,b=this.cmp(E);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;b>0?(R=this,m=E):(R=E,m=this);for(var w=0,_=0;_<m.length;_++)w=(C=(0|R.words[_])-(0|m.words[_])+w)>>26,this.words[_]=67108863&C;for(;w!==0&&_<R.length;_++)w=(C=(0|R.words[_])+w)>>26,this.words[_]=67108863&C;if(w===0&&_<R.length&&R!==this)for(;_<R.length;_++)this.words[_]=R.words[_];return this.length=Math.max(this.length,_),R!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(E){return this.clone().isub(E)};var y=function(E,C,R){var m,b,w,_=E.words,x=C.words,I=R.words,O=0,$=0|_[0],P=8191&$,G=$>>>13,D=0|_[1],W=8191&D,A=D>>>13,T=0|_[2],H=8191&T,Z=T>>>13,Q=0|_[3],J=8191&Q,ne=Q>>>13,ge=0|_[4],ye=8191&ge,K=ge>>>13,ce=0|_[5],ue=8191&ce,ve=ce>>>13,me=0|_[6],xe=8191&me,we=me>>>13,De=0|_[7],Re=8191&De,Fe=De>>>13,rt=0|_[8],je=8191&rt,Ze=rt>>>13,gt=0|_[9],Ge=8191&gt,Ke=gt>>>13,Ye=0|x[0],Xe=8191&Ye,Ve=Ye>>>13,dt=0|x[1],et=8191&dt,ft=dt>>>13,xt=0|x[2],ut=8191&xt,nt=xt>>>13,St=0|x[3],bt=8191&St,ct=St>>>13,Ct=0|x[4],ht=8191&Ct,Ot=Ct>>>13,On=0|x[5],Bt=8191&On,At=On>>>13,Nt=0|x[6],Vt=8191&Nt,_e=Nt>>>13,Ne=0|x[7],Pe=8191&Ne,Ue=Ne>>>13,zt=0|x[8],it=8191&zt,yt=zt>>>13,_n=0|x[9],_t=8191&_n,pt=_n>>>13;R.negative=E.negative^C.negative,R.length=19;var an=(O+(m=Math.imul(P,Xe))|0)+((8191&(b=(b=Math.imul(P,Ve))+Math.imul(G,Xe)|0))<<13)|0;O=((w=Math.imul(G,Ve))+(b>>>13)|0)+(an>>>26)|0,an&=67108863,m=Math.imul(W,Xe),b=(b=Math.imul(W,Ve))+Math.imul(A,Xe)|0,w=Math.imul(A,Ve);var Wt=(O+(m=m+Math.imul(P,et)|0)|0)+((8191&(b=(b=b+Math.imul(P,ft)|0)+Math.imul(G,et)|0))<<13)|0;O=((w=w+Math.imul(G,ft)|0)+(b>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,m=Math.imul(H,Xe),b=(b=Math.imul(H,Ve))+Math.imul(Z,Xe)|0,w=Math.imul(Z,Ve),m=m+Math.imul(W,et)|0,b=(b=b+Math.imul(W,ft)|0)+Math.imul(A,et)|0,w=w+Math.imul(A,ft)|0;var Ht=(O+(m=m+Math.imul(P,ut)|0)|0)+((8191&(b=(b=b+Math.imul(P,nt)|0)+Math.imul(G,ut)|0))<<13)|0;O=((w=w+Math.imul(G,nt)|0)+(b>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,m=Math.imul(J,Xe),b=(b=Math.imul(J,Ve))+Math.imul(ne,Xe)|0,w=Math.imul(ne,Ve),m=m+Math.imul(H,et)|0,b=(b=b+Math.imul(H,ft)|0)+Math.imul(Z,et)|0,w=w+Math.imul(Z,ft)|0,m=m+Math.imul(W,ut)|0,b=(b=b+Math.imul(W,nt)|0)+Math.imul(A,ut)|0,w=w+Math.imul(A,nt)|0;var An=(O+(m=m+Math.imul(P,bt)|0)|0)+((8191&(b=(b=b+Math.imul(P,ct)|0)+Math.imul(G,bt)|0))<<13)|0;O=((w=w+Math.imul(G,ct)|0)+(b>>>13)|0)+(An>>>26)|0,An&=67108863,m=Math.imul(ye,Xe),b=(b=Math.imul(ye,Ve))+Math.imul(K,Xe)|0,w=Math.imul(K,Ve),m=m+Math.imul(J,et)|0,b=(b=b+Math.imul(J,ft)|0)+Math.imul(ne,et)|0,w=w+Math.imul(ne,ft)|0,m=m+Math.imul(H,ut)|0,b=(b=b+Math.imul(H,nt)|0)+Math.imul(Z,ut)|0,w=w+Math.imul(Z,nt)|0,m=m+Math.imul(W,bt)|0,b=(b=b+Math.imul(W,ct)|0)+Math.imul(A,bt)|0,w=w+Math.imul(A,ct)|0;var jn=(O+(m=m+Math.imul(P,ht)|0)|0)+((8191&(b=(b=b+Math.imul(P,Ot)|0)+Math.imul(G,ht)|0))<<13)|0;O=((w=w+Math.imul(G,Ot)|0)+(b>>>13)|0)+(jn>>>26)|0,jn&=67108863,m=Math.imul(ue,Xe),b=(b=Math.imul(ue,Ve))+Math.imul(ve,Xe)|0,w=Math.imul(ve,Ve),m=m+Math.imul(ye,et)|0,b=(b=b+Math.imul(ye,ft)|0)+Math.imul(K,et)|0,w=w+Math.imul(K,ft)|0,m=m+Math.imul(J,ut)|0,b=(b=b+Math.imul(J,nt)|0)+Math.imul(ne,ut)|0,w=w+Math.imul(ne,nt)|0,m=m+Math.imul(H,bt)|0,b=(b=b+Math.imul(H,ct)|0)+Math.imul(Z,bt)|0,w=w+Math.imul(Z,ct)|0,m=m+Math.imul(W,ht)|0,b=(b=b+Math.imul(W,Ot)|0)+Math.imul(A,ht)|0,w=w+Math.imul(A,Ot)|0;var sr=(O+(m=m+Math.imul(P,Bt)|0)|0)+((8191&(b=(b=b+Math.imul(P,At)|0)+Math.imul(G,Bt)|0))<<13)|0;O=((w=w+Math.imul(G,At)|0)+(b>>>13)|0)+(sr>>>26)|0,sr&=67108863,m=Math.imul(xe,Xe),b=(b=Math.imul(xe,Ve))+Math.imul(we,Xe)|0,w=Math.imul(we,Ve),m=m+Math.imul(ue,et)|0,b=(b=b+Math.imul(ue,ft)|0)+Math.imul(ve,et)|0,w=w+Math.imul(ve,ft)|0,m=m+Math.imul(ye,ut)|0,b=(b=b+Math.imul(ye,nt)|0)+Math.imul(K,ut)|0,w=w+Math.imul(K,nt)|0,m=m+Math.imul(J,bt)|0,b=(b=b+Math.imul(J,ct)|0)+Math.imul(ne,bt)|0,w=w+Math.imul(ne,ct)|0,m=m+Math.imul(H,ht)|0,b=(b=b+Math.imul(H,Ot)|0)+Math.imul(Z,ht)|0,w=w+Math.imul(Z,Ot)|0,m=m+Math.imul(W,Bt)|0,b=(b=b+Math.imul(W,At)|0)+Math.imul(A,Bt)|0,w=w+Math.imul(A,At)|0;var Ar=(O+(m=m+Math.imul(P,Vt)|0)|0)+((8191&(b=(b=b+Math.imul(P,_e)|0)+Math.imul(G,Vt)|0))<<13)|0;O=((w=w+Math.imul(G,_e)|0)+(b>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,m=Math.imul(Re,Xe),b=(b=Math.imul(Re,Ve))+Math.imul(Fe,Xe)|0,w=Math.imul(Fe,Ve),m=m+Math.imul(xe,et)|0,b=(b=b+Math.imul(xe,ft)|0)+Math.imul(we,et)|0,w=w+Math.imul(we,ft)|0,m=m+Math.imul(ue,ut)|0,b=(b=b+Math.imul(ue,nt)|0)+Math.imul(ve,ut)|0,w=w+Math.imul(ve,nt)|0,m=m+Math.imul(ye,bt)|0,b=(b=b+Math.imul(ye,ct)|0)+Math.imul(K,bt)|0,w=w+Math.imul(K,ct)|0,m=m+Math.imul(J,ht)|0,b=(b=b+Math.imul(J,Ot)|0)+Math.imul(ne,ht)|0,w=w+Math.imul(ne,Ot)|0,m=m+Math.imul(H,Bt)|0,b=(b=b+Math.imul(H,At)|0)+Math.imul(Z,Bt)|0,w=w+Math.imul(Z,At)|0,m=m+Math.imul(W,Vt)|0,b=(b=b+Math.imul(W,_e)|0)+Math.imul(A,Vt)|0,w=w+Math.imul(A,_e)|0;var or=(O+(m=m+Math.imul(P,Pe)|0)|0)+((8191&(b=(b=b+Math.imul(P,Ue)|0)+Math.imul(G,Pe)|0))<<13)|0;O=((w=w+Math.imul(G,Ue)|0)+(b>>>13)|0)+(or>>>26)|0,or&=67108863,m=Math.imul(je,Xe),b=(b=Math.imul(je,Ve))+Math.imul(Ze,Xe)|0,w=Math.imul(Ze,Ve),m=m+Math.imul(Re,et)|0,b=(b=b+Math.imul(Re,ft)|0)+Math.imul(Fe,et)|0,w=w+Math.imul(Fe,ft)|0,m=m+Math.imul(xe,ut)|0,b=(b=b+Math.imul(xe,nt)|0)+Math.imul(we,ut)|0,w=w+Math.imul(we,nt)|0,m=m+Math.imul(ue,bt)|0,b=(b=b+Math.imul(ue,ct)|0)+Math.imul(ve,bt)|0,w=w+Math.imul(ve,ct)|0,m=m+Math.imul(ye,ht)|0,b=(b=b+Math.imul(ye,Ot)|0)+Math.imul(K,ht)|0,w=w+Math.imul(K,Ot)|0,m=m+Math.imul(J,Bt)|0,b=(b=b+Math.imul(J,At)|0)+Math.imul(ne,Bt)|0,w=w+Math.imul(ne,At)|0,m=m+Math.imul(H,Vt)|0,b=(b=b+Math.imul(H,_e)|0)+Math.imul(Z,Vt)|0,w=w+Math.imul(Z,_e)|0,m=m+Math.imul(W,Pe)|0,b=(b=b+Math.imul(W,Ue)|0)+Math.imul(A,Pe)|0,w=w+Math.imul(A,Ue)|0;var xr=(O+(m=m+Math.imul(P,it)|0)|0)+((8191&(b=(b=b+Math.imul(P,yt)|0)+Math.imul(G,it)|0))<<13)|0;O=((w=w+Math.imul(G,yt)|0)+(b>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(Ge,Xe),b=(b=Math.imul(Ge,Ve))+Math.imul(Ke,Xe)|0,w=Math.imul(Ke,Ve),m=m+Math.imul(je,et)|0,b=(b=b+Math.imul(je,ft)|0)+Math.imul(Ze,et)|0,w=w+Math.imul(Ze,ft)|0,m=m+Math.imul(Re,ut)|0,b=(b=b+Math.imul(Re,nt)|0)+Math.imul(Fe,ut)|0,w=w+Math.imul(Fe,nt)|0,m=m+Math.imul(xe,bt)|0,b=(b=b+Math.imul(xe,ct)|0)+Math.imul(we,bt)|0,w=w+Math.imul(we,ct)|0,m=m+Math.imul(ue,ht)|0,b=(b=b+Math.imul(ue,Ot)|0)+Math.imul(ve,ht)|0,w=w+Math.imul(ve,Ot)|0,m=m+Math.imul(ye,Bt)|0,b=(b=b+Math.imul(ye,At)|0)+Math.imul(K,Bt)|0,w=w+Math.imul(K,At)|0,m=m+Math.imul(J,Vt)|0,b=(b=b+Math.imul(J,_e)|0)+Math.imul(ne,Vt)|0,w=w+Math.imul(ne,_e)|0,m=m+Math.imul(H,Pe)|0,b=(b=b+Math.imul(H,Ue)|0)+Math.imul(Z,Pe)|0,w=w+Math.imul(Z,Ue)|0,m=m+Math.imul(W,it)|0,b=(b=b+Math.imul(W,yt)|0)+Math.imul(A,it)|0,w=w+Math.imul(A,yt)|0;var he=(O+(m=m+Math.imul(P,_t)|0)|0)+((8191&(b=(b=b+Math.imul(P,pt)|0)+Math.imul(G,_t)|0))<<13)|0;O=((w=w+Math.imul(G,pt)|0)+(b>>>13)|0)+(he>>>26)|0,he&=67108863,m=Math.imul(Ge,et),b=(b=Math.imul(Ge,ft))+Math.imul(Ke,et)|0,w=Math.imul(Ke,ft),m=m+Math.imul(je,ut)|0,b=(b=b+Math.imul(je,nt)|0)+Math.imul(Ze,ut)|0,w=w+Math.imul(Ze,nt)|0,m=m+Math.imul(Re,bt)|0,b=(b=b+Math.imul(Re,ct)|0)+Math.imul(Fe,bt)|0,w=w+Math.imul(Fe,ct)|0,m=m+Math.imul(xe,ht)|0,b=(b=b+Math.imul(xe,Ot)|0)+Math.imul(we,ht)|0,w=w+Math.imul(we,Ot)|0,m=m+Math.imul(ue,Bt)|0,b=(b=b+Math.imul(ue,At)|0)+Math.imul(ve,Bt)|0,w=w+Math.imul(ve,At)|0,m=m+Math.imul(ye,Vt)|0,b=(b=b+Math.imul(ye,_e)|0)+Math.imul(K,Vt)|0,w=w+Math.imul(K,_e)|0,m=m+Math.imul(J,Pe)|0,b=(b=b+Math.imul(J,Ue)|0)+Math.imul(ne,Pe)|0,w=w+Math.imul(ne,Ue)|0,m=m+Math.imul(H,it)|0,b=(b=b+Math.imul(H,yt)|0)+Math.imul(Z,it)|0,w=w+Math.imul(Z,yt)|0;var Ae=(O+(m=m+Math.imul(W,_t)|0)|0)+((8191&(b=(b=b+Math.imul(W,pt)|0)+Math.imul(A,_t)|0))<<13)|0;O=((w=w+Math.imul(A,pt)|0)+(b>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,m=Math.imul(Ge,ut),b=(b=Math.imul(Ge,nt))+Math.imul(Ke,ut)|0,w=Math.imul(Ke,nt),m=m+Math.imul(je,bt)|0,b=(b=b+Math.imul(je,ct)|0)+Math.imul(Ze,bt)|0,w=w+Math.imul(Ze,ct)|0,m=m+Math.imul(Re,ht)|0,b=(b=b+Math.imul(Re,Ot)|0)+Math.imul(Fe,ht)|0,w=w+Math.imul(Fe,Ot)|0,m=m+Math.imul(xe,Bt)|0,b=(b=b+Math.imul(xe,At)|0)+Math.imul(we,Bt)|0,w=w+Math.imul(we,At)|0,m=m+Math.imul(ue,Vt)|0,b=(b=b+Math.imul(ue,_e)|0)+Math.imul(ve,Vt)|0,w=w+Math.imul(ve,_e)|0,m=m+Math.imul(ye,Pe)|0,b=(b=b+Math.imul(ye,Ue)|0)+Math.imul(K,Pe)|0,w=w+Math.imul(K,Ue)|0,m=m+Math.imul(J,it)|0,b=(b=b+Math.imul(J,yt)|0)+Math.imul(ne,it)|0,w=w+Math.imul(ne,yt)|0;var We=(O+(m=m+Math.imul(H,_t)|0)|0)+((8191&(b=(b=b+Math.imul(H,pt)|0)+Math.imul(Z,_t)|0))<<13)|0;O=((w=w+Math.imul(Z,pt)|0)+(b>>>13)|0)+(We>>>26)|0,We&=67108863,m=Math.imul(Ge,bt),b=(b=Math.imul(Ge,ct))+Math.imul(Ke,bt)|0,w=Math.imul(Ke,ct),m=m+Math.imul(je,ht)|0,b=(b=b+Math.imul(je,Ot)|0)+Math.imul(Ze,ht)|0,w=w+Math.imul(Ze,Ot)|0,m=m+Math.imul(Re,Bt)|0,b=(b=b+Math.imul(Re,At)|0)+Math.imul(Fe,Bt)|0,w=w+Math.imul(Fe,At)|0,m=m+Math.imul(xe,Vt)|0,b=(b=b+Math.imul(xe,_e)|0)+Math.imul(we,Vt)|0,w=w+Math.imul(we,_e)|0,m=m+Math.imul(ue,Pe)|0,b=(b=b+Math.imul(ue,Ue)|0)+Math.imul(ve,Pe)|0,w=w+Math.imul(ve,Ue)|0,m=m+Math.imul(ye,it)|0,b=(b=b+Math.imul(ye,yt)|0)+Math.imul(K,it)|0,w=w+Math.imul(K,yt)|0;var Le=(O+(m=m+Math.imul(J,_t)|0)|0)+((8191&(b=(b=b+Math.imul(J,pt)|0)+Math.imul(ne,_t)|0))<<13)|0;O=((w=w+Math.imul(ne,pt)|0)+(b>>>13)|0)+(Le>>>26)|0,Le&=67108863,m=Math.imul(Ge,ht),b=(b=Math.imul(Ge,Ot))+Math.imul(Ke,ht)|0,w=Math.imul(Ke,Ot),m=m+Math.imul(je,Bt)|0,b=(b=b+Math.imul(je,At)|0)+Math.imul(Ze,Bt)|0,w=w+Math.imul(Ze,At)|0,m=m+Math.imul(Re,Vt)|0,b=(b=b+Math.imul(Re,_e)|0)+Math.imul(Fe,Vt)|0,w=w+Math.imul(Fe,_e)|0,m=m+Math.imul(xe,Pe)|0,b=(b=b+Math.imul(xe,Ue)|0)+Math.imul(we,Pe)|0,w=w+Math.imul(we,Ue)|0,m=m+Math.imul(ue,it)|0,b=(b=b+Math.imul(ue,yt)|0)+Math.imul(ve,it)|0,w=w+Math.imul(ve,yt)|0;var tt=(O+(m=m+Math.imul(ye,_t)|0)|0)+((8191&(b=(b=b+Math.imul(ye,pt)|0)+Math.imul(K,_t)|0))<<13)|0;O=((w=w+Math.imul(K,pt)|0)+(b>>>13)|0)+(tt>>>26)|0,tt&=67108863,m=Math.imul(Ge,Bt),b=(b=Math.imul(Ge,At))+Math.imul(Ke,Bt)|0,w=Math.imul(Ke,At),m=m+Math.imul(je,Vt)|0,b=(b=b+Math.imul(je,_e)|0)+Math.imul(Ze,Vt)|0,w=w+Math.imul(Ze,_e)|0,m=m+Math.imul(Re,Pe)|0,b=(b=b+Math.imul(Re,Ue)|0)+Math.imul(Fe,Pe)|0,w=w+Math.imul(Fe,Ue)|0,m=m+Math.imul(xe,it)|0,b=(b=b+Math.imul(xe,yt)|0)+Math.imul(we,it)|0,w=w+Math.imul(we,yt)|0;var vt=(O+(m=m+Math.imul(ue,_t)|0)|0)+((8191&(b=(b=b+Math.imul(ue,pt)|0)+Math.imul(ve,_t)|0))<<13)|0;O=((w=w+Math.imul(ve,pt)|0)+(b>>>13)|0)+(vt>>>26)|0,vt&=67108863,m=Math.imul(Ge,Vt),b=(b=Math.imul(Ge,_e))+Math.imul(Ke,Vt)|0,w=Math.imul(Ke,_e),m=m+Math.imul(je,Pe)|0,b=(b=b+Math.imul(je,Ue)|0)+Math.imul(Ze,Pe)|0,w=w+Math.imul(Ze,Ue)|0,m=m+Math.imul(Re,it)|0,b=(b=b+Math.imul(Re,yt)|0)+Math.imul(Fe,it)|0,w=w+Math.imul(Fe,yt)|0;var wt=(O+(m=m+Math.imul(xe,_t)|0)|0)+((8191&(b=(b=b+Math.imul(xe,pt)|0)+Math.imul(we,_t)|0))<<13)|0;O=((w=w+Math.imul(we,pt)|0)+(b>>>13)|0)+(wt>>>26)|0,wt&=67108863,m=Math.imul(Ge,Pe),b=(b=Math.imul(Ge,Ue))+Math.imul(Ke,Pe)|0,w=Math.imul(Ke,Ue),m=m+Math.imul(je,it)|0,b=(b=b+Math.imul(je,yt)|0)+Math.imul(Ze,it)|0,w=w+Math.imul(Ze,yt)|0;var rn=(O+(m=m+Math.imul(Re,_t)|0)|0)+((8191&(b=(b=b+Math.imul(Re,pt)|0)+Math.imul(Fe,_t)|0))<<13)|0;O=((w=w+Math.imul(Fe,pt)|0)+(b>>>13)|0)+(rn>>>26)|0,rn&=67108863,m=Math.imul(Ge,it),b=(b=Math.imul(Ge,yt))+Math.imul(Ke,it)|0,w=Math.imul(Ke,yt);var $t=(O+(m=m+Math.imul(je,_t)|0)|0)+((8191&(b=(b=b+Math.imul(je,pt)|0)+Math.imul(Ze,_t)|0))<<13)|0;O=((w=w+Math.imul(Ze,pt)|0)+(b>>>13)|0)+($t>>>26)|0,$t&=67108863;var Ut=(O+(m=Math.imul(Ge,_t))|0)+((8191&(b=(b=Math.imul(Ge,pt))+Math.imul(Ke,_t)|0))<<13)|0;return O=((w=Math.imul(Ke,pt))+(b>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,I[0]=an,I[1]=Wt,I[2]=Ht,I[3]=An,I[4]=jn,I[5]=sr,I[6]=Ar,I[7]=or,I[8]=xr,I[9]=he,I[10]=Ae,I[11]=We,I[12]=Le,I[13]=tt,I[14]=vt,I[15]=wt,I[16]=rn,I[17]=$t,I[18]=Ut,O!==0&&(I[19]=O,R.length++),R};function v(E,C,R){return new S().mulp(E,C,R)}function S(E,C){this.x=E,this.y=C}Math.imul||(y=g),a.prototype.mulTo=function(E,C){var R=this.length+E.length;return this.length===10&&E.length===10?y(this,E,C):R<63?g(this,E,C):R<1024?function(m,b,w){w.negative=b.negative^m.negative,w.length=m.length+b.length;for(var _=0,x=0,I=0;I<w.length-1;I++){var O=x;x=0;for(var $=67108863&_,P=Math.min(I,b.length-1),G=Math.max(0,I-m.length+1);G<=P;G++){var D=I-G,W=(0|m.words[D])*(0|b.words[G]),A=67108863&W;$=67108863&(A=A+$|0),x+=(O=(O=O+(W/67108864|0)|0)+(A>>>26)|0)>>>26,O&=67108863}w.words[I]=$,_=O,O=x}return _!==0?w.words[I]=_:w.length--,w.strip()}(this,E,C):v(this,E,C)},S.prototype.makeRBT=function(E){for(var C=new Array(E),R=a.prototype._countBits(E)-1,m=0;m<E;m++)C[m]=this.revBin(m,R,E);return C},S.prototype.revBin=function(E,C,R){if(E===0||E===R-1)return E;for(var m=0,b=0;b<C;b++)m|=(1&E)<<C-b-1,E>>=1;return m},S.prototype.permute=function(E,C,R,m,b,w){for(var _=0;_<w;_++)m[_]=C[E[_]],b[_]=R[E[_]]},S.prototype.transform=function(E,C,R,m,b,w){this.permute(w,E,C,R,m,b);for(var _=1;_<b;_<<=1)for(var x=_<<1,I=Math.cos(2*Math.PI/x),O=Math.sin(2*Math.PI/x),$=0;$<b;$+=x)for(var P=I,G=O,D=0;D<_;D++){var W=R[$+D],A=m[$+D],T=R[$+D+_],H=m[$+D+_],Z=P*T-G*H;H=P*H+G*T,T=Z,R[$+D]=W+T,m[$+D]=A+H,R[$+D+_]=W-T,m[$+D+_]=A-H,D!==x&&(Z=I*P-O*G,G=I*G+O*P,P=Z)}},S.prototype.guessLen13b=function(E,C){var R=1|Math.max(C,E),m=1&R,b=0;for(R=R/2|0;R;R>>>=1)b++;return 1<<b+1+m},S.prototype.conjugate=function(E,C,R){if(!(R<=1))for(var m=0;m<R/2;m++){var b=E[m];E[m]=E[R-m-1],E[R-m-1]=b,b=C[m],C[m]=-C[R-m-1],C[R-m-1]=-b}},S.prototype.normalize13b=function(E,C){for(var R=0,m=0;m<C/2;m++){var b=8192*Math.round(E[2*m+1]/C)+Math.round(E[2*m]/C)+R;E[m]=67108863&b,R=b<67108864?0:b/67108864|0}return E},S.prototype.convert13b=function(E,C,R,m){for(var b=0,w=0;w<C;w++)b+=0|E[w],R[2*w]=8191&b,b>>>=13,R[2*w+1]=8191&b,b>>>=13;for(w=2*C;w<m;++w)R[w]=0;s(b===0),s((-8192&b)==0)},S.prototype.stub=function(E){for(var C=new Array(E),R=0;R<E;R++)C[R]=0;return C},S.prototype.mulp=function(E,C,R){var m=2*this.guessLen13b(E.length,C.length),b=this.makeRBT(m),w=this.stub(m),_=new Array(m),x=new Array(m),I=new Array(m),O=new Array(m),$=new Array(m),P=new Array(m),G=R.words;G.length=m,this.convert13b(E.words,E.length,_,m),this.convert13b(C.words,C.length,O,m),this.transform(_,w,x,I,m,b),this.transform(O,w,$,P,m,b);for(var D=0;D<m;D++){var W=x[D]*$[D]-I[D]*P[D];I[D]=x[D]*P[D]+I[D]*$[D],x[D]=W}return this.conjugate(x,I,m),this.transform(x,I,G,w,m,b),this.conjugate(G,w,m),this.normalize13b(G,m),R.negative=E.negative^C.negative,R.length=E.length+C.length,R.strip()},a.prototype.mul=function(E){var C=new a(null);return C.words=new Array(this.length+E.length),this.mulTo(E,C)},a.prototype.mulf=function(E){var C=new a(null);return C.words=new Array(this.length+E.length),v(this,E,C)},a.prototype.imul=function(E){return this.clone().mulTo(E,this)},a.prototype.imuln=function(E){s(typeof E=="number"),s(E<67108864);for(var C=0,R=0;R<this.length;R++){var m=(0|this.words[R])*E,b=(67108863&m)+(67108863&C);C>>=26,C+=m/67108864|0,C+=b>>>26,this.words[R]=67108863&b}return C!==0&&(this.words[R]=C,this.length++),this},a.prototype.muln=function(E){return this.clone().imuln(E)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(E){var C=function(w){for(var _=new Array(w.bitLength()),x=0;x<_.length;x++){var I=x/26|0,O=x%26;_[x]=(w.words[I]&1<<O)>>>O}return _}(E);if(C.length===0)return new a(1);for(var R=this,m=0;m<C.length&&C[m]===0;m++,R=R.sqr());if(++m<C.length)for(var b=R.sqr();m<C.length;m++,b=b.sqr())C[m]!==0&&(R=R.mul(b));return R},a.prototype.iushln=function(E){s(typeof E=="number"&&E>=0);var C,R=E%26,m=(E-R)/26,b=67108863>>>26-R<<26-R;if(R!==0){var w=0;for(C=0;C<this.length;C++){var _=this.words[C]&b,x=(0|this.words[C])-_<<R;this.words[C]=x|w,w=_>>>26-R}w&&(this.words[C]=w,this.length++)}if(m!==0){for(C=this.length-1;C>=0;C--)this.words[C+m]=this.words[C];for(C=0;C<m;C++)this.words[C]=0;this.length+=m}return this.strip()},a.prototype.ishln=function(E){return s(this.negative===0),this.iushln(E)},a.prototype.iushrn=function(E,C,R){var m;s(typeof E=="number"&&E>=0),m=C?(C-C%26)/26:0;var b=E%26,w=Math.min((E-b)/26,this.length),_=67108863^67108863>>>b<<b,x=R;if(m-=w,m=Math.max(0,m),x){for(var I=0;I<w;I++)x.words[I]=this.words[I];x.length=w}if(w!==0)if(this.length>w)for(this.length-=w,I=0;I<this.length;I++)this.words[I]=this.words[I+w];else this.words[0]=0,this.length=1;var O=0;for(I=this.length-1;I>=0&&(O!==0||I>=m);I--){var $=0|this.words[I];this.words[I]=O<<26-b|$>>>b,O=$&_}return x&&O!==0&&(x.words[x.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(E,C,R){return s(this.negative===0),this.iushrn(E,C,R)},a.prototype.shln=function(E){return this.clone().ishln(E)},a.prototype.ushln=function(E){return this.clone().iushln(E)},a.prototype.shrn=function(E){return this.clone().ishrn(E)},a.prototype.ushrn=function(E){return this.clone().iushrn(E)},a.prototype.testn=function(E){s(typeof E=="number"&&E>=0);var C=E%26,R=(E-C)/26,m=1<<C;return!(this.length<=R)&&!!(this.words[R]&m)},a.prototype.imaskn=function(E){s(typeof E=="number"&&E>=0);var C=E%26,R=(E-C)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(C!==0&&R++,this.length=Math.min(R,this.length),C!==0){var m=67108863^67108863>>>C<<C;this.words[this.length-1]&=m}return this.strip()},a.prototype.maskn=function(E){return this.clone().imaskn(E)},a.prototype.iaddn=function(E){return s(typeof E=="number"),s(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},a.prototype._iaddn=function(E){this.words[0]+=E;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},a.prototype.isubn=function(E){if(s(typeof E=="number"),s(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this.strip()},a.prototype.addn=function(E){return this.clone().iaddn(E)},a.prototype.subn=function(E){return this.clone().isubn(E)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(E,C,R){var m,b,w=E.length+R;this._expand(w);var _=0;for(m=0;m<E.length;m++){b=(0|this.words[m+R])+_;var x=(0|E.words[m])*C;_=((b-=67108863&x)>>26)-(x/67108864|0),this.words[m+R]=67108863&b}for(;m<this.length-R;m++)_=(b=(0|this.words[m+R])+_)>>26,this.words[m+R]=67108863&b;if(_===0)return this.strip();for(s(_===-1),_=0,m=0;m<this.length;m++)_=(b=-(0|this.words[m])+_)>>26,this.words[m]=67108863&b;return this.negative=1,this.strip()},a.prototype._wordDiv=function(E,C){var R=(this.length,E.length),m=this.clone(),b=E,w=0|b.words[b.length-1];(R=26-this._countBits(w))!==0&&(b=b.ushln(R),m.iushln(R),w=0|b.words[b.length-1]);var _,x=m.length-b.length;if(C!=="mod"){(_=new a(null)).length=x+1,_.words=new Array(_.length);for(var I=0;I<_.length;I++)_.words[I]=0}var O=m.clone()._ishlnsubmul(b,1,x);O.negative===0&&(m=O,_&&(_.words[x]=1));for(var $=x-1;$>=0;$--){var P=67108864*(0|m.words[b.length+$])+(0|m.words[b.length+$-1]);for(P=Math.min(P/w|0,67108863),m._ishlnsubmul(b,P,$);m.negative!==0;)P--,m.negative=0,m._ishlnsubmul(b,1,$),m.isZero()||(m.negative^=1);_&&(_.words[$]=P)}return _&&_.strip(),m.strip(),C!=="div"&&R!==0&&m.iushrn(R),{div:_||null,mod:m}},a.prototype.divmod=function(E,C,R){return s(!E.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&E.negative===0?(w=this.neg().divmod(E,C),C!=="mod"&&(m=w.div.neg()),C!=="div"&&(b=w.mod.neg(),R&&b.negative!==0&&b.iadd(E)),{div:m,mod:b}):this.negative===0&&E.negative!==0?(w=this.divmod(E.neg(),C),C!=="mod"&&(m=w.div.neg()),{div:m,mod:w.mod}):(this.negative&E.negative)!=0?(w=this.neg().divmod(E.neg(),C),C!=="div"&&(b=w.mod.neg(),R&&b.negative!==0&&b.isub(E)),{div:w.div,mod:b}):E.length>this.length||this.cmp(E)<0?{div:new a(0),mod:this}:E.length===1?C==="div"?{div:this.divn(E.words[0]),mod:null}:C==="mod"?{div:null,mod:new a(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new a(this.modn(E.words[0]))}:this._wordDiv(E,C);var m,b,w},a.prototype.div=function(E){return this.divmod(E,"div",!1).div},a.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},a.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},a.prototype.divRound=function(E){var C=this.divmod(E);if(C.mod.isZero())return C.div;var R=C.div.negative!==0?C.mod.isub(E):C.mod,m=E.ushrn(1),b=E.andln(1),w=R.cmp(m);return w<0||b===1&&w===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},a.prototype.modn=function(E){s(E<=67108863);for(var C=(1<<26)%E,R=0,m=this.length-1;m>=0;m--)R=(C*R+(0|this.words[m]))%E;return R},a.prototype.idivn=function(E){s(E<=67108863);for(var C=0,R=this.length-1;R>=0;R--){var m=(0|this.words[R])+67108864*C;this.words[R]=m/E|0,C=m%E}return this.strip()},a.prototype.divn=function(E){return this.clone().idivn(E)},a.prototype.egcd=function(E){s(E.negative===0),s(!E.isZero());var C=this,R=E.clone();C=C.negative!==0?C.umod(E):C.clone();for(var m=new a(1),b=new a(0),w=new a(0),_=new a(1),x=0;C.isEven()&&R.isEven();)C.iushrn(1),R.iushrn(1),++x;for(var I=R.clone(),O=C.clone();!C.isZero();){for(var $=0,P=1;(C.words[0]&P)==0&&$<26;++$,P<<=1);if($>0)for(C.iushrn($);$-- >0;)(m.isOdd()||b.isOdd())&&(m.iadd(I),b.isub(O)),m.iushrn(1),b.iushrn(1);for(var G=0,D=1;(R.words[0]&D)==0&&G<26;++G,D<<=1);if(G>0)for(R.iushrn(G);G-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(I),_.isub(O)),w.iushrn(1),_.iushrn(1);C.cmp(R)>=0?(C.isub(R),m.isub(w),b.isub(_)):(R.isub(C),w.isub(m),_.isub(b))}return{a:w,b:_,gcd:R.iushln(x)}},a.prototype._invmp=function(E){s(E.negative===0),s(!E.isZero());var C=this,R=E.clone();C=C.negative!==0?C.umod(E):C.clone();for(var m,b=new a(1),w=new a(0),_=R.clone();C.cmpn(1)>0&&R.cmpn(1)>0;){for(var x=0,I=1;(C.words[0]&I)==0&&x<26;++x,I<<=1);if(x>0)for(C.iushrn(x);x-- >0;)b.isOdd()&&b.iadd(_),b.iushrn(1);for(var O=0,$=1;(R.words[0]&$)==0&&O<26;++O,$<<=1);if(O>0)for(R.iushrn(O);O-- >0;)w.isOdd()&&w.iadd(_),w.iushrn(1);C.cmp(R)>=0?(C.isub(R),b.isub(w)):(R.isub(C),w.isub(b))}return(m=C.cmpn(1)===0?b:w).cmpn(0)<0&&m.iadd(E),m},a.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var C=this.clone(),R=E.clone();C.negative=0,R.negative=0;for(var m=0;C.isEven()&&R.isEven();m++)C.iushrn(1),R.iushrn(1);for(;;){for(;C.isEven();)C.iushrn(1);for(;R.isEven();)R.iushrn(1);var b=C.cmp(R);if(b<0){var w=C;C=R,R=w}else if(b===0||R.cmpn(1)===0)break;C.isub(R)}return R.iushln(m)},a.prototype.invm=function(E){return this.egcd(E).a.umod(E)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(E){return this.words[0]&E},a.prototype.bincn=function(E){s(typeof E=="number");var C=E%26,R=(E-C)/26,m=1<<C;if(this.length<=R)return this._expand(R+1),this.words[R]|=m,this;for(var b=m,w=R;b!==0&&w<this.length;w++){var _=0|this.words[w];b=(_+=b)>>>26,_&=67108863,this.words[w]=_}return b!==0&&(this.words[w]=b,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(E){var C,R=E<0;if(this.negative!==0&&!R)return-1;if(this.negative===0&&R)return 1;if(this.strip(),this.length>1)C=1;else{R&&(E=-E),s(E<=67108863,"Number is too big");var m=0|this.words[0];C=m===E?0:m<E?-1:1}return this.negative!==0?0|-C:C},a.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var C=this.ucmp(E);return this.negative!==0?0|-C:C},a.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var C=0,R=this.length-1;R>=0;R--){var m=0|this.words[R],b=0|E.words[R];if(m!==b){m<b?C=-1:m>b&&(C=1);break}}return C},a.prototype.gtn=function(E){return this.cmpn(E)===1},a.prototype.gt=function(E){return this.cmp(E)===1},a.prototype.gten=function(E){return this.cmpn(E)>=0},a.prototype.gte=function(E){return this.cmp(E)>=0},a.prototype.ltn=function(E){return this.cmpn(E)===-1},a.prototype.lt=function(E){return this.cmp(E)===-1},a.prototype.lten=function(E){return this.cmpn(E)<=0},a.prototype.lte=function(E){return this.cmp(E)<=0},a.prototype.eqn=function(E){return this.cmpn(E)===0},a.prototype.eq=function(E){return this.cmp(E)===0},a.red=function(E){return new U(E)},a.prototype.toRed=function(E){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(E){return this.red=E,this},a.prototype.forceRed=function(E){return s(!this.red,"Already a number in reduction context"),this._forceRed(E)},a.prototype.redAdd=function(E){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},a.prototype.redIAdd=function(E){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},a.prototype.redSub=function(E){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},a.prototype.redISub=function(E){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},a.prototype.redShl=function(E){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},a.prototype.redMul=function(E){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},a.prototype.redIMul=function(E){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(E){return s(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var k={k256:null,p224:null,p192:null,p25519:null};function M(E,C){this.name=E,this.p=new a(C,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function z(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function j(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function U(E){if(typeof E=="string"){var C=a._prime(E);this.m=C.p,this.prime=C}else s(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function V(E){U.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}M.prototype._tmp=function(){var E=new a(null);return E.words=new Array(Math.ceil(this.n/13)),E},M.prototype.ireduce=function(E){var C,R=E;do this.split(R,this.tmp),C=(R=(R=this.imulK(R)).iadd(this.tmp)).bitLength();while(C>this.n);var m=C<this.n?-1:R.ucmp(this.p);return m===0?(R.words[0]=0,R.length=1):m>0?R.isub(this.p):R.strip!==void 0?R.strip():R._strip(),R},M.prototype.split=function(E,C){E.iushrn(this.n,0,C)},M.prototype.imulK=function(E){return E.imul(this.k)},o(z,M),z.prototype.split=function(E,C){for(var R=Math.min(E.length,9),m=0;m<R;m++)C.words[m]=E.words[m];if(C.length=R,E.length<=9)return E.words[0]=0,void(E.length=1);var b=E.words[9];for(C.words[C.length++]=4194303&b,m=10;m<E.length;m++){var w=0|E.words[m];E.words[m-10]=(4194303&w)<<4|b>>>22,b=w}b>>>=22,E.words[m-10]=b,b===0&&E.length>10?E.length-=10:E.length-=9},z.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var C=0,R=0;R<E.length;R++){var m=0|E.words[R];C+=977*m,E.words[R]=67108863&C,C=64*m+(C/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},o(F,M),o(j,M),o(B,M),B.prototype.imulK=function(E){for(var C=0,R=0;R<E.length;R++){var m=19*(0|E.words[R])+C,b=67108863&m;m>>>=26,E.words[R]=b,C=m}return C!==0&&(E.words[E.length++]=C),E},a._prime=function(E){if(k[E])return k[E];var C;if(E==="k256")C=new z;else if(E==="p224")C=new F;else if(E==="p192")C=new j;else{if(E!=="p25519")throw new Error("Unknown prime "+E);C=new B}return k[E]=C,C},U.prototype._verify1=function(E){s(E.negative===0,"red works only with positives"),s(E.red,"red works only with red numbers")},U.prototype._verify2=function(E,C){s((E.negative|C.negative)==0,"red works only with positives"),s(E.red&&E.red===C.red,"red works only with red numbers")},U.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},U.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},U.prototype.add=function(E,C){this._verify2(E,C);var R=E.add(C);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},U.prototype.iadd=function(E,C){this._verify2(E,C);var R=E.iadd(C);return R.cmp(this.m)>=0&&R.isub(this.m),R},U.prototype.sub=function(E,C){this._verify2(E,C);var R=E.sub(C);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},U.prototype.isub=function(E,C){this._verify2(E,C);var R=E.isub(C);return R.cmpn(0)<0&&R.iadd(this.m),R},U.prototype.shl=function(E,C){return this._verify1(E),this.imod(E.ushln(C))},U.prototype.imul=function(E,C){return this._verify2(E,C),this.imod(E.imul(C))},U.prototype.mul=function(E,C){return this._verify2(E,C),this.imod(E.mul(C))},U.prototype.isqr=function(E){return this.imul(E,E.clone())},U.prototype.sqr=function(E){return this.mul(E,E)},U.prototype.sqrt=function(E){if(E.isZero())return E.clone();var C=this.m.andln(3);if(s(C%2==1),C===3){var R=this.m.add(new a(1)).iushrn(2);return this.pow(E,R)}for(var m=this.m.subn(1),b=0;!m.isZero()&&m.andln(1)===0;)b++,m.iushrn(1);s(!m.isZero());var w=new a(1).toRed(this),_=w.redNeg(),x=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new a(2*I*I).toRed(this);this.pow(I,x).cmp(_)!==0;)I.redIAdd(_);for(var O=this.pow(I,m),$=this.pow(E,m.addn(1).iushrn(1)),P=this.pow(E,m),G=b;P.cmp(w)!==0;){for(var D=P,W=0;D.cmp(w)!==0;W++)D=D.redSqr();s(W<G);var A=this.pow(O,new a(1).iushln(G-W-1));$=$.redMul(A),O=A.redSqr(),P=P.redMul(O),G=W}return $},U.prototype.invm=function(E){var C=E._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},U.prototype.pow=function(E,C){if(C.isZero())return new a(1).toRed(this);if(C.cmpn(1)===0)return E.clone();var R=new Array(16);R[0]=new a(1).toRed(this),R[1]=E;for(var m=2;m<R.length;m++)R[m]=this.mul(R[m-1],E);var b=R[0],w=0,_=0,x=C.bitLength()%26;for(x===0&&(x=26),m=C.length-1;m>=0;m--){for(var I=C.words[m],O=x-1;O>=0;O--){var $=I>>O&1;b!==R[0]&&(b=this.sqr(b)),$!==0||w!==0?(w<<=1,w|=$,(++_===4||m===0&&O===0)&&(b=this.mul(b,R[w]),_=0,w=0)):_=0}x=26}return b},U.prototype.convertTo=function(E){var C=E.umod(this.m);return C===E?C.clone():C},U.prototype.convertFrom=function(E){var C=E.clone();return C.red=null,C},a.mont=function(E){return new V(E)},o(V,U),V.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},V.prototype.convertFrom=function(E){var C=this.imod(E.mul(this.rinv));return C.red=null,C},V.prototype.imul=function(E,C){if(E.isZero()||C.isZero())return E.words[0]=0,E.length=1,E;var R=E.imul(C),m=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=R.isub(m).iushrn(this.shift),w=b;return b.cmp(this.m)>=0?w=b.isub(this.m):b.cmpn(0)<0&&(w=b.iadd(this.m)),w._forceRed(this)},V.prototype.mul=function(E,C){if(E.isZero()||C.isZero())return new a(0)._forceRed(this);var R=E.mul(C),m=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=R.isub(m).iushrn(this.shift),w=b;return b.cmp(this.m)>=0?w=b.isub(this.m):b.cmpn(0)<0&&(w=b.iadd(this.m)),w._forceRed(this)},V.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(t===void 0||t)},{buffer:188}],185:[function(e,t,n){"use strict";n.byteLength=function(d){var h=c(d),f=h[0],p=h[1];return 3*(f+p)/4-p},n.toByteArray=function(d){var h,f,p=c(d),g=p[0],y=p[1],v=new s(function(M,z,F){return 3*(z+F)/4-F}(0,g,y)),S=0,k=y>0?g-4:g;for(f=0;f<k;f+=4)h=i[d.charCodeAt(f)]<<18|i[d.charCodeAt(f+1)]<<12|i[d.charCodeAt(f+2)]<<6|i[d.charCodeAt(f+3)],v[S++]=h>>16&255,v[S++]=h>>8&255,v[S++]=255&h;return y===2&&(h=i[d.charCodeAt(f)]<<2|i[d.charCodeAt(f+1)]>>4,v[S++]=255&h),y===1&&(h=i[d.charCodeAt(f)]<<10|i[d.charCodeAt(f+1)]<<4|i[d.charCodeAt(f+2)]>>2,v[S++]=h>>8&255,v[S++]=255&h),v},n.fromByteArray=function(d){for(var h,f=d.length,p=f%3,g=[],y=0,v=f-p;y<v;y+=16383)g.push(u(d,y,y+16383>v?v:y+16383));return p===1?(h=d[f-1],g.push(r[h>>2]+r[h<<4&63]+"==")):p===2&&(h=(d[f-2]<<8)+d[f-1],g.push(r[h>>10]+r[h>>4&63]+r[h<<2&63]+"=")),g.join("")};for(var r=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function c(d){var h=d.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=d.indexOf("=");return f===-1&&(f=h),[f,f===h?0:4-f%4]}function u(d,h,f){for(var p,g,y=[],v=h;v<f;v+=3)p=(d[v]<<16&16711680)+(d[v+1]<<8&65280)+(255&d[v+2]),y.push(r[(g=p)>>18&63]+r[g>>12&63]+r[g>>6&63]+r[63&g]);return y.join("")}i[45]=62,i[95]=63},{}],186:[function(e,t,n){"use strict";(function(r,i){function s(m,b){if(!m)throw new Error(b||"Assertion failed")}function o(m,b){m.super_=b;var w=function(){};w.prototype=b.prototype,m.prototype=new w,m.prototype.constructor=m}function a(m,b,w){if(a.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&(b!=="le"&&b!=="be"||(w=b,b=10),this._init(m||0,b||10,w||"be"))}var l;typeof r=="object"?r.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function c(m,b){var w=m.charCodeAt(b);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void s(!1,"Invalid character in "+m)}function u(m,b,w){var _=c(m,w);return w-1>=b&&(_|=c(m,w-1)<<4),_}function d(m,b,w,_){for(var x=0,I=0,O=Math.min(m.length,w),$=b;$<O;$++){var P=m.charCodeAt($)-48;x*=_,I=P>=49?P-49+10:P>=17?P-17+10:P,s(P>=0&&I<_,"Invalid character"),x+=I}return x}function h(m,b){m.words=b.words,m.length=b.length,m.negative=b.negative,m.red=b.red}if(a.isBN=function(m){return m instanceof a||m!==null&&typeof m=="object"&&m.constructor.wordSize===a.wordSize&&Array.isArray(m.words)},a.max=function(m,b){return m.cmp(b)>0?m:b},a.min=function(m,b){return m.cmp(b)<0?m:b},a.prototype._init=function(m,b,w){if(typeof m=="number")return this._initNumber(m,b,w);if(typeof m=="object")return this._initArray(m,b,w);b==="hex"&&(b=16),s(b===(0|b)&&b>=2&&b<=36);var _=0;(m=m.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<m.length&&(b===16?this._parseHex(m,_,w):(this._parseBase(m,b,_),w==="le"&&this._initArray(this.toArray(),b,w)))},a.prototype._initNumber=function(m,b,w){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[67108863&m],this.length=1):m<4503599627370496?(this.words=[67108863&m,m/67108864&67108863],this.length=2):(s(m<9007199254740992),this.words=[67108863&m,m/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),b,w)},a.prototype._initArray=function(m,b,w){if(s(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var x,I,O=0;if(w==="be")for(_=m.length-1,x=0;_>=0;_-=3)I=m[_]|m[_-1]<<8|m[_-2]<<16,this.words[x]|=I<<O&67108863,this.words[x+1]=I>>>26-O&67108863,(O+=24)>=26&&(O-=26,x++);else if(w==="le")for(_=0,x=0;_<m.length;_+=3)I=m[_]|m[_+1]<<8|m[_+2]<<16,this.words[x]|=I<<O&67108863,this.words[x+1]=I>>>26-O&67108863,(O+=24)>=26&&(O-=26,x++);return this._strip()},a.prototype._parseHex=function(m,b,w){this.length=Math.ceil((m.length-b)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var x,I=0,O=0;if(w==="be")for(_=m.length-1;_>=b;_-=2)x=u(m,b,_)<<I,this.words[O]|=67108863&x,I>=18?(I-=18,O+=1,this.words[O]|=x>>>26):I+=8;else for(_=(m.length-b)%2==0?b+1:b;_<m.length;_+=2)x=u(m,b,_)<<I,this.words[O]|=67108863&x,I>=18?(I-=18,O+=1,this.words[O]|=x>>>26):I+=8;this._strip()},a.prototype._parseBase=function(m,b,w){this.words=[0],this.length=1;for(var _=0,x=1;x<=67108863;x*=b)_++;_--,x=x/b|0;for(var I=m.length-w,O=I%_,$=Math.min(I,I-O)+w,P=0,G=w;G<$;G+=_)P=d(m,G,G+_,b),this.imuln(x),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(O!==0){var D=1;for(P=d(m,G,m.length,b),G=0;G<O;G++)D*=b;this.imuln(D),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this._strip()},a.prototype.copy=function(m){m.words=new Array(this.length);for(var b=0;b<this.length;b++)m.words[b]=this.words[b];m.length=this.length,m.negative=this.negative,m.red=this.red},a.prototype._move=function(m){h(m,this)},a.prototype.clone=function(){var m=new a(null);return this.copy(m),m},a.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{a.prototype.inspect=f}else a.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(m,b){var w;if(b=0|b||1,(m=m||10)===16||m==="hex"){w="";for(var _=0,x=0,I=0;I<this.length;I++){var O=this.words[I],$=(16777215&(O<<_|x)).toString(16);x=O>>>24-_&16777215,(_+=2)>=26&&(_-=26,I--),w=x!==0||I!==this.length-1?p[6-$.length]+$+w:$+w}for(x!==0&&(w=x.toString(16)+w);w.length%b!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(m===(0|m)&&m>=2&&m<=36){var P=g[m],G=y[m];w="";var D=this.clone();for(D.negative=0;!D.isZero();){var W=D.modrn(G).toString(m);w=(D=D.idivn(G)).isZero()?W+w:p[P-W.length]+W+w}for(this.isZero()&&(w="0"+w);w.length%b!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=67108864*this.words[1]:this.length===3&&this.words[2]===1?m+=4503599627370496+67108864*this.words[1]:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},a.prototype.toJSON=function(){return this.toString(16,2)},l&&(a.prototype.toBuffer=function(m,b){return this.toArrayLike(l,m,b)}),a.prototype.toArray=function(m,b){return this.toArrayLike(Array,m,b)};function v(m,b,w){w.negative=b.negative^m.negative;var _=m.length+b.length|0;w.length=_,_=_-1|0;var x=0|m.words[0],I=0|b.words[0],O=x*I,$=67108863&O,P=O/67108864|0;w.words[0]=$;for(var G=1;G<_;G++){for(var D=P>>>26,W=67108863&P,A=Math.min(G,b.length-1),T=Math.max(0,G-m.length+1);T<=A;T++){var H=G-T|0;D+=(O=(x=0|m.words[H])*(I=0|b.words[T])+W)/67108864|0,W=67108863&O}w.words[G]=0|W,P=0|D}return P!==0?w.words[G]=0|P:w.length--,w._strip()}a.prototype.toArrayLike=function(m,b,w){this._strip();var _=this.byteLength(),x=w||Math.max(1,_);s(_<=x,"byte array longer than desired length"),s(x>0,"Requested array length <= 0");var I=function(O,$){return O.allocUnsafe?O.allocUnsafe($):new O($)}(m,x);return this["_toArrayLike"+(b==="le"?"LE":"BE")](I,_),I},a.prototype._toArrayLikeLE=function(m,b){for(var w=0,_=0,x=0,I=0;x<this.length;x++){var O=this.words[x]<<I|_;m[w++]=255&O,w<m.length&&(m[w++]=O>>8&255),w<m.length&&(m[w++]=O>>16&255),I===6?(w<m.length&&(m[w++]=O>>24&255),_=0,I=0):(_=O>>>24,I+=2)}if(w<m.length)for(m[w++]=_;w<m.length;)m[w++]=0},a.prototype._toArrayLikeBE=function(m,b){for(var w=m.length-1,_=0,x=0,I=0;x<this.length;x++){var O=this.words[x]<<I|_;m[w--]=255&O,w>=0&&(m[w--]=O>>8&255),w>=0&&(m[w--]=O>>16&255),I===6?(w>=0&&(m[w--]=O>>24&255),_=0,I=0):(_=O>>>24,I+=2)}if(w>=0)for(m[w--]=_;w>=0;)m[w--]=0},Math.clz32?a.prototype._countBits=function(m){return 32-Math.clz32(m)}:a.prototype._countBits=function(m){var b=m,w=0;return b>=4096&&(w+=13,b>>>=13),b>=64&&(w+=7,b>>>=7),b>=8&&(w+=4,b>>>=4),b>=2&&(w+=2,b>>>=2),w+b},a.prototype._zeroBits=function(m){if(m===0)return 26;var b=m,w=0;return(8191&b)==0&&(w+=13,b>>>=13),(127&b)==0&&(w+=7,b>>>=7),(15&b)==0&&(w+=4,b>>>=4),(3&b)==0&&(w+=2,b>>>=2),(1&b)==0&&w++,w},a.prototype.bitLength=function(){var m=this.words[this.length-1],b=this._countBits(m);return 26*(this.length-1)+b},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,b=0;b<this.length;b++){var w=this._zeroBits(this.words[b]);if(m+=w,w!==26)break}return m},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},a.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var b=0;b<m.length;b++)this.words[b]=this.words[b]|m.words[b];return this._strip()},a.prototype.ior=function(m){return s((this.negative|m.negative)==0),this.iuor(m)},a.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},a.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},a.prototype.iuand=function(m){var b;b=this.length>m.length?m:this;for(var w=0;w<b.length;w++)this.words[w]=this.words[w]&m.words[w];return this.length=b.length,this._strip()},a.prototype.iand=function(m){return s((this.negative|m.negative)==0),this.iuand(m)},a.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},a.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},a.prototype.iuxor=function(m){var b,w;this.length>m.length?(b=this,w=m):(b=m,w=this);for(var _=0;_<w.length;_++)this.words[_]=b.words[_]^w.words[_];if(this!==b)for(;_<b.length;_++)this.words[_]=b.words[_];return this.length=b.length,this._strip()},a.prototype.ixor=function(m){return s((this.negative|m.negative)==0),this.iuxor(m)},a.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},a.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},a.prototype.inotn=function(m){s(typeof m=="number"&&m>=0);var b=0|Math.ceil(m/26),w=m%26;this._expand(b),w>0&&b--;for(var _=0;_<b;_++)this.words[_]=67108863&~this.words[_];return w>0&&(this.words[_]=~this.words[_]&67108863>>26-w),this._strip()},a.prototype.notn=function(m){return this.clone().inotn(m)},a.prototype.setn=function(m,b){s(typeof m=="number"&&m>=0);var w=m/26|0,_=m%26;return this._expand(w+1),this.words[w]=b?this.words[w]|1<<_:this.words[w]&~(1<<_),this._strip()},a.prototype.iadd=function(m){var b,w,_;if(this.negative!==0&&m.negative===0)return this.negative=0,b=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,b=this.isub(m),m.negative=1,b._normSign();this.length>m.length?(w=this,_=m):(w=m,_=this);for(var x=0,I=0;I<_.length;I++)b=(0|w.words[I])+(0|_.words[I])+x,this.words[I]=67108863&b,x=b>>>26;for(;x!==0&&I<w.length;I++)b=(0|w.words[I])+x,this.words[I]=67108863&b,x=b>>>26;if(this.length=w.length,x!==0)this.words[this.length]=x,this.length++;else if(w!==this)for(;I<w.length;I++)this.words[I]=w.words[I];return this},a.prototype.add=function(m){var b;return m.negative!==0&&this.negative===0?(m.negative=0,b=this.sub(m),m.negative^=1,b):m.negative===0&&this.negative!==0?(this.negative=0,b=m.sub(this),this.negative=1,b):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},a.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var b=this.iadd(m);return m.negative=1,b._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var w,_,x=this.cmp(m);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;x>0?(w=this,_=m):(w=m,_=this);for(var I=0,O=0;O<_.length;O++)I=(b=(0|w.words[O])-(0|_.words[O])+I)>>26,this.words[O]=67108863&b;for(;I!==0&&O<w.length;O++)I=(b=(0|w.words[O])+I)>>26,this.words[O]=67108863&b;if(I===0&&O<w.length&&w!==this)for(;O<w.length;O++)this.words[O]=w.words[O];return this.length=Math.max(this.length,O),w!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(m){return this.clone().isub(m)};var S=function(m,b,w){var _,x,I,O=m.words,$=b.words,P=w.words,G=0,D=0|O[0],W=8191&D,A=D>>>13,T=0|O[1],H=8191&T,Z=T>>>13,Q=0|O[2],J=8191&Q,ne=Q>>>13,ge=0|O[3],ye=8191&ge,K=ge>>>13,ce=0|O[4],ue=8191&ce,ve=ce>>>13,me=0|O[5],xe=8191&me,we=me>>>13,De=0|O[6],Re=8191&De,Fe=De>>>13,rt=0|O[7],je=8191&rt,Ze=rt>>>13,gt=0|O[8],Ge=8191&gt,Ke=gt>>>13,Ye=0|O[9],Xe=8191&Ye,Ve=Ye>>>13,dt=0|$[0],et=8191&dt,ft=dt>>>13,xt=0|$[1],ut=8191&xt,nt=xt>>>13,St=0|$[2],bt=8191&St,ct=St>>>13,Ct=0|$[3],ht=8191&Ct,Ot=Ct>>>13,On=0|$[4],Bt=8191&On,At=On>>>13,Nt=0|$[5],Vt=8191&Nt,_e=Nt>>>13,Ne=0|$[6],Pe=8191&Ne,Ue=Ne>>>13,zt=0|$[7],it=8191&zt,yt=zt>>>13,_n=0|$[8],_t=8191&_n,pt=_n>>>13,an=0|$[9],Wt=8191&an,Ht=an>>>13;w.negative=m.negative^b.negative,w.length=19;var An=(G+(_=Math.imul(W,et))|0)+((8191&(x=(x=Math.imul(W,ft))+Math.imul(A,et)|0))<<13)|0;G=((I=Math.imul(A,ft))+(x>>>13)|0)+(An>>>26)|0,An&=67108863,_=Math.imul(H,et),x=(x=Math.imul(H,ft))+Math.imul(Z,et)|0,I=Math.imul(Z,ft);var jn=(G+(_=_+Math.imul(W,ut)|0)|0)+((8191&(x=(x=x+Math.imul(W,nt)|0)+Math.imul(A,ut)|0))<<13)|0;G=((I=I+Math.imul(A,nt)|0)+(x>>>13)|0)+(jn>>>26)|0,jn&=67108863,_=Math.imul(J,et),x=(x=Math.imul(J,ft))+Math.imul(ne,et)|0,I=Math.imul(ne,ft),_=_+Math.imul(H,ut)|0,x=(x=x+Math.imul(H,nt)|0)+Math.imul(Z,ut)|0,I=I+Math.imul(Z,nt)|0;var sr=(G+(_=_+Math.imul(W,bt)|0)|0)+((8191&(x=(x=x+Math.imul(W,ct)|0)+Math.imul(A,bt)|0))<<13)|0;G=((I=I+Math.imul(A,ct)|0)+(x>>>13)|0)+(sr>>>26)|0,sr&=67108863,_=Math.imul(ye,et),x=(x=Math.imul(ye,ft))+Math.imul(K,et)|0,I=Math.imul(K,ft),_=_+Math.imul(J,ut)|0,x=(x=x+Math.imul(J,nt)|0)+Math.imul(ne,ut)|0,I=I+Math.imul(ne,nt)|0,_=_+Math.imul(H,bt)|0,x=(x=x+Math.imul(H,ct)|0)+Math.imul(Z,bt)|0,I=I+Math.imul(Z,ct)|0;var Ar=(G+(_=_+Math.imul(W,ht)|0)|0)+((8191&(x=(x=x+Math.imul(W,Ot)|0)+Math.imul(A,ht)|0))<<13)|0;G=((I=I+Math.imul(A,Ot)|0)+(x>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,_=Math.imul(ue,et),x=(x=Math.imul(ue,ft))+Math.imul(ve,et)|0,I=Math.imul(ve,ft),_=_+Math.imul(ye,ut)|0,x=(x=x+Math.imul(ye,nt)|0)+Math.imul(K,ut)|0,I=I+Math.imul(K,nt)|0,_=_+Math.imul(J,bt)|0,x=(x=x+Math.imul(J,ct)|0)+Math.imul(ne,bt)|0,I=I+Math.imul(ne,ct)|0,_=_+Math.imul(H,ht)|0,x=(x=x+Math.imul(H,Ot)|0)+Math.imul(Z,ht)|0,I=I+Math.imul(Z,Ot)|0;var or=(G+(_=_+Math.imul(W,Bt)|0)|0)+((8191&(x=(x=x+Math.imul(W,At)|0)+Math.imul(A,Bt)|0))<<13)|0;G=((I=I+Math.imul(A,At)|0)+(x>>>13)|0)+(or>>>26)|0,or&=67108863,_=Math.imul(xe,et),x=(x=Math.imul(xe,ft))+Math.imul(we,et)|0,I=Math.imul(we,ft),_=_+Math.imul(ue,ut)|0,x=(x=x+Math.imul(ue,nt)|0)+Math.imul(ve,ut)|0,I=I+Math.imul(ve,nt)|0,_=_+Math.imul(ye,bt)|0,x=(x=x+Math.imul(ye,ct)|0)+Math.imul(K,bt)|0,I=I+Math.imul(K,ct)|0,_=_+Math.imul(J,ht)|0,x=(x=x+Math.imul(J,Ot)|0)+Math.imul(ne,ht)|0,I=I+Math.imul(ne,Ot)|0,_=_+Math.imul(H,Bt)|0,x=(x=x+Math.imul(H,At)|0)+Math.imul(Z,Bt)|0,I=I+Math.imul(Z,At)|0;var xr=(G+(_=_+Math.imul(W,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(W,_e)|0)+Math.imul(A,Vt)|0))<<13)|0;G=((I=I+Math.imul(A,_e)|0)+(x>>>13)|0)+(xr>>>26)|0,xr&=67108863,_=Math.imul(Re,et),x=(x=Math.imul(Re,ft))+Math.imul(Fe,et)|0,I=Math.imul(Fe,ft),_=_+Math.imul(xe,ut)|0,x=(x=x+Math.imul(xe,nt)|0)+Math.imul(we,ut)|0,I=I+Math.imul(we,nt)|0,_=_+Math.imul(ue,bt)|0,x=(x=x+Math.imul(ue,ct)|0)+Math.imul(ve,bt)|0,I=I+Math.imul(ve,ct)|0,_=_+Math.imul(ye,ht)|0,x=(x=x+Math.imul(ye,Ot)|0)+Math.imul(K,ht)|0,I=I+Math.imul(K,Ot)|0,_=_+Math.imul(J,Bt)|0,x=(x=x+Math.imul(J,At)|0)+Math.imul(ne,Bt)|0,I=I+Math.imul(ne,At)|0,_=_+Math.imul(H,Vt)|0,x=(x=x+Math.imul(H,_e)|0)+Math.imul(Z,Vt)|0,I=I+Math.imul(Z,_e)|0;var he=(G+(_=_+Math.imul(W,Pe)|0)|0)+((8191&(x=(x=x+Math.imul(W,Ue)|0)+Math.imul(A,Pe)|0))<<13)|0;G=((I=I+Math.imul(A,Ue)|0)+(x>>>13)|0)+(he>>>26)|0,he&=67108863,_=Math.imul(je,et),x=(x=Math.imul(je,ft))+Math.imul(Ze,et)|0,I=Math.imul(Ze,ft),_=_+Math.imul(Re,ut)|0,x=(x=x+Math.imul(Re,nt)|0)+Math.imul(Fe,ut)|0,I=I+Math.imul(Fe,nt)|0,_=_+Math.imul(xe,bt)|0,x=(x=x+Math.imul(xe,ct)|0)+Math.imul(we,bt)|0,I=I+Math.imul(we,ct)|0,_=_+Math.imul(ue,ht)|0,x=(x=x+Math.imul(ue,Ot)|0)+Math.imul(ve,ht)|0,I=I+Math.imul(ve,Ot)|0,_=_+Math.imul(ye,Bt)|0,x=(x=x+Math.imul(ye,At)|0)+Math.imul(K,Bt)|0,I=I+Math.imul(K,At)|0,_=_+Math.imul(J,Vt)|0,x=(x=x+Math.imul(J,_e)|0)+Math.imul(ne,Vt)|0,I=I+Math.imul(ne,_e)|0,_=_+Math.imul(H,Pe)|0,x=(x=x+Math.imul(H,Ue)|0)+Math.imul(Z,Pe)|0,I=I+Math.imul(Z,Ue)|0;var Ae=(G+(_=_+Math.imul(W,it)|0)|0)+((8191&(x=(x=x+Math.imul(W,yt)|0)+Math.imul(A,it)|0))<<13)|0;G=((I=I+Math.imul(A,yt)|0)+(x>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,_=Math.imul(Ge,et),x=(x=Math.imul(Ge,ft))+Math.imul(Ke,et)|0,I=Math.imul(Ke,ft),_=_+Math.imul(je,ut)|0,x=(x=x+Math.imul(je,nt)|0)+Math.imul(Ze,ut)|0,I=I+Math.imul(Ze,nt)|0,_=_+Math.imul(Re,bt)|0,x=(x=x+Math.imul(Re,ct)|0)+Math.imul(Fe,bt)|0,I=I+Math.imul(Fe,ct)|0,_=_+Math.imul(xe,ht)|0,x=(x=x+Math.imul(xe,Ot)|0)+Math.imul(we,ht)|0,I=I+Math.imul(we,Ot)|0,_=_+Math.imul(ue,Bt)|0,x=(x=x+Math.imul(ue,At)|0)+Math.imul(ve,Bt)|0,I=I+Math.imul(ve,At)|0,_=_+Math.imul(ye,Vt)|0,x=(x=x+Math.imul(ye,_e)|0)+Math.imul(K,Vt)|0,I=I+Math.imul(K,_e)|0,_=_+Math.imul(J,Pe)|0,x=(x=x+Math.imul(J,Ue)|0)+Math.imul(ne,Pe)|0,I=I+Math.imul(ne,Ue)|0,_=_+Math.imul(H,it)|0,x=(x=x+Math.imul(H,yt)|0)+Math.imul(Z,it)|0,I=I+Math.imul(Z,yt)|0;var We=(G+(_=_+Math.imul(W,_t)|0)|0)+((8191&(x=(x=x+Math.imul(W,pt)|0)+Math.imul(A,_t)|0))<<13)|0;G=((I=I+Math.imul(A,pt)|0)+(x>>>13)|0)+(We>>>26)|0,We&=67108863,_=Math.imul(Xe,et),x=(x=Math.imul(Xe,ft))+Math.imul(Ve,et)|0,I=Math.imul(Ve,ft),_=_+Math.imul(Ge,ut)|0,x=(x=x+Math.imul(Ge,nt)|0)+Math.imul(Ke,ut)|0,I=I+Math.imul(Ke,nt)|0,_=_+Math.imul(je,bt)|0,x=(x=x+Math.imul(je,ct)|0)+Math.imul(Ze,bt)|0,I=I+Math.imul(Ze,ct)|0,_=_+Math.imul(Re,ht)|0,x=(x=x+Math.imul(Re,Ot)|0)+Math.imul(Fe,ht)|0,I=I+Math.imul(Fe,Ot)|0,_=_+Math.imul(xe,Bt)|0,x=(x=x+Math.imul(xe,At)|0)+Math.imul(we,Bt)|0,I=I+Math.imul(we,At)|0,_=_+Math.imul(ue,Vt)|0,x=(x=x+Math.imul(ue,_e)|0)+Math.imul(ve,Vt)|0,I=I+Math.imul(ve,_e)|0,_=_+Math.imul(ye,Pe)|0,x=(x=x+Math.imul(ye,Ue)|0)+Math.imul(K,Pe)|0,I=I+Math.imul(K,Ue)|0,_=_+Math.imul(J,it)|0,x=(x=x+Math.imul(J,yt)|0)+Math.imul(ne,it)|0,I=I+Math.imul(ne,yt)|0,_=_+Math.imul(H,_t)|0,x=(x=x+Math.imul(H,pt)|0)+Math.imul(Z,_t)|0,I=I+Math.imul(Z,pt)|0;var Le=(G+(_=_+Math.imul(W,Wt)|0)|0)+((8191&(x=(x=x+Math.imul(W,Ht)|0)+Math.imul(A,Wt)|0))<<13)|0;G=((I=I+Math.imul(A,Ht)|0)+(x>>>13)|0)+(Le>>>26)|0,Le&=67108863,_=Math.imul(Xe,ut),x=(x=Math.imul(Xe,nt))+Math.imul(Ve,ut)|0,I=Math.imul(Ve,nt),_=_+Math.imul(Ge,bt)|0,x=(x=x+Math.imul(Ge,ct)|0)+Math.imul(Ke,bt)|0,I=I+Math.imul(Ke,ct)|0,_=_+Math.imul(je,ht)|0,x=(x=x+Math.imul(je,Ot)|0)+Math.imul(Ze,ht)|0,I=I+Math.imul(Ze,Ot)|0,_=_+Math.imul(Re,Bt)|0,x=(x=x+Math.imul(Re,At)|0)+Math.imul(Fe,Bt)|0,I=I+Math.imul(Fe,At)|0,_=_+Math.imul(xe,Vt)|0,x=(x=x+Math.imul(xe,_e)|0)+Math.imul(we,Vt)|0,I=I+Math.imul(we,_e)|0,_=_+Math.imul(ue,Pe)|0,x=(x=x+Math.imul(ue,Ue)|0)+Math.imul(ve,Pe)|0,I=I+Math.imul(ve,Ue)|0,_=_+Math.imul(ye,it)|0,x=(x=x+Math.imul(ye,yt)|0)+Math.imul(K,it)|0,I=I+Math.imul(K,yt)|0,_=_+Math.imul(J,_t)|0,x=(x=x+Math.imul(J,pt)|0)+Math.imul(ne,_t)|0,I=I+Math.imul(ne,pt)|0;var tt=(G+(_=_+Math.imul(H,Wt)|0)|0)+((8191&(x=(x=x+Math.imul(H,Ht)|0)+Math.imul(Z,Wt)|0))<<13)|0;G=((I=I+Math.imul(Z,Ht)|0)+(x>>>13)|0)+(tt>>>26)|0,tt&=67108863,_=Math.imul(Xe,bt),x=(x=Math.imul(Xe,ct))+Math.imul(Ve,bt)|0,I=Math.imul(Ve,ct),_=_+Math.imul(Ge,ht)|0,x=(x=x+Math.imul(Ge,Ot)|0)+Math.imul(Ke,ht)|0,I=I+Math.imul(Ke,Ot)|0,_=_+Math.imul(je,Bt)|0,x=(x=x+Math.imul(je,At)|0)+Math.imul(Ze,Bt)|0,I=I+Math.imul(Ze,At)|0,_=_+Math.imul(Re,Vt)|0,x=(x=x+Math.imul(Re,_e)|0)+Math.imul(Fe,Vt)|0,I=I+Math.imul(Fe,_e)|0,_=_+Math.imul(xe,Pe)|0,x=(x=x+Math.imul(xe,Ue)|0)+Math.imul(we,Pe)|0,I=I+Math.imul(we,Ue)|0,_=_+Math.imul(ue,it)|0,x=(x=x+Math.imul(ue,yt)|0)+Math.imul(ve,it)|0,I=I+Math.imul(ve,yt)|0,_=_+Math.imul(ye,_t)|0,x=(x=x+Math.imul(ye,pt)|0)+Math.imul(K,_t)|0,I=I+Math.imul(K,pt)|0;var vt=(G+(_=_+Math.imul(J,Wt)|0)|0)+((8191&(x=(x=x+Math.imul(J,Ht)|0)+Math.imul(ne,Wt)|0))<<13)|0;G=((I=I+Math.imul(ne,Ht)|0)+(x>>>13)|0)+(vt>>>26)|0,vt&=67108863,_=Math.imul(Xe,ht),x=(x=Math.imul(Xe,Ot))+Math.imul(Ve,ht)|0,I=Math.imul(Ve,Ot),_=_+Math.imul(Ge,Bt)|0,x=(x=x+Math.imul(Ge,At)|0)+Math.imul(Ke,Bt)|0,I=I+Math.imul(Ke,At)|0,_=_+Math.imul(je,Vt)|0,x=(x=x+Math.imul(je,_e)|0)+Math.imul(Ze,Vt)|0,I=I+Math.imul(Ze,_e)|0,_=_+Math.imul(Re,Pe)|0,x=(x=x+Math.imul(Re,Ue)|0)+Math.imul(Fe,Pe)|0,I=I+Math.imul(Fe,Ue)|0,_=_+Math.imul(xe,it)|0,x=(x=x+Math.imul(xe,yt)|0)+Math.imul(we,it)|0,I=I+Math.imul(we,yt)|0,_=_+Math.imul(ue,_t)|0,x=(x=x+Math.imul(ue,pt)|0)+Math.imul(ve,_t)|0,I=I+Math.imul(ve,pt)|0;var wt=(G+(_=_+Math.imul(ye,Wt)|0)|0)+((8191&(x=(x=x+Math.imul(ye,Ht)|0)+Math.imul(K,Wt)|0))<<13)|0;G=((I=I+Math.imul(K,Ht)|0)+(x>>>13)|0)+(wt>>>26)|0,wt&=67108863,_=Math.imul(Xe,Bt),x=(x=Math.imul(Xe,At))+Math.imul(Ve,Bt)|0,I=Math.imul(Ve,At),_=_+Math.imul(Ge,Vt)|0,x=(x=x+Math.imul(Ge,_e)|0)+Math.imul(Ke,Vt)|0,I=I+Math.imul(Ke,_e)|0,_=_+Math.imul(je,Pe)|0,x=(x=x+Math.imul(je,Ue)|0)+Math.imul(Ze,Pe)|0,I=I+Math.imul(Ze,Ue)|0,_=_+Math.imul(Re,it)|0,x=(x=x+Math.imul(Re,yt)|0)+Math.imul(Fe,it)|0,I=I+Math.imul(Fe,yt)|0,_=_+Math.imul(xe,_t)|0,x=(x=x+Math.imul(xe,pt)|0)+Math.imul(we,_t)|0,I=I+Math.imul(we,pt)|0;var rn=(G+(_=_+Math.imul(ue,Wt)|0)|0)+((8191&(x=(x=x+Math.imul(ue,Ht)|0)+Math.imul(ve,Wt)|0))<<13)|0;G=((I=I+Math.imul(ve,Ht)|0)+(x>>>13)|0)+(rn>>>26)|0,rn&=67108863,_=Math.imul(Xe,Vt),x=(x=Math.imul(Xe,_e))+Math.imul(Ve,Vt)|0,I=Math.imul(Ve,_e),_=_+Math.imul(Ge,Pe)|0,x=(x=x+Math.imul(Ge,Ue)|0)+Math.imul(Ke,Pe)|0,I=I+Math.imul(Ke,Ue)|0,_=_+Math.imul(je,it)|0,x=(x=x+Math.imul(je,yt)|0)+Math.imul(Ze,it)|0,I=I+Math.imul(Ze,yt)|0,_=_+Math.imul(Re,_t)|0,x=(x=x+Math.imul(Re,pt)|0)+Math.imul(Fe,_t)|0,I=I+Math.imul(Fe,pt)|0;var $t=(G+(_=_+Math.imul(xe,Wt)|0)|0)+((8191&(x=(x=x+Math.imul(xe,Ht)|0)+Math.imul(we,Wt)|0))<<13)|0;G=((I=I+Math.imul(we,Ht)|0)+(x>>>13)|0)+($t>>>26)|0,$t&=67108863,_=Math.imul(Xe,Pe),x=(x=Math.imul(Xe,Ue))+Math.imul(Ve,Pe)|0,I=Math.imul(Ve,Ue),_=_+Math.imul(Ge,it)|0,x=(x=x+Math.imul(Ge,yt)|0)+Math.imul(Ke,it)|0,I=I+Math.imul(Ke,yt)|0,_=_+Math.imul(je,_t)|0,x=(x=x+Math.imul(je,pt)|0)+Math.imul(Ze,_t)|0,I=I+Math.imul(Ze,pt)|0;var Ut=(G+(_=_+Math.imul(Re,Wt)|0)|0)+((8191&(x=(x=x+Math.imul(Re,Ht)|0)+Math.imul(Fe,Wt)|0))<<13)|0;G=((I=I+Math.imul(Fe,Ht)|0)+(x>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,_=Math.imul(Xe,it),x=(x=Math.imul(Xe,yt))+Math.imul(Ve,it)|0,I=Math.imul(Ve,yt),_=_+Math.imul(Ge,_t)|0,x=(x=x+Math.imul(Ge,pt)|0)+Math.imul(Ke,_t)|0,I=I+Math.imul(Ke,pt)|0;var Gt=(G+(_=_+Math.imul(je,Wt)|0)|0)+((8191&(x=(x=x+Math.imul(je,Ht)|0)+Math.imul(Ze,Wt)|0))<<13)|0;G=((I=I+Math.imul(Ze,Ht)|0)+(x>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,_=Math.imul(Xe,_t),x=(x=Math.imul(Xe,pt))+Math.imul(Ve,_t)|0,I=Math.imul(Ve,pt);var Bn=(G+(_=_+Math.imul(Ge,Wt)|0)|0)+((8191&(x=(x=x+Math.imul(Ge,Ht)|0)+Math.imul(Ke,Wt)|0))<<13)|0;G=((I=I+Math.imul(Ke,Ht)|0)+(x>>>13)|0)+(Bn>>>26)|0,Bn&=67108863;var er=(G+(_=Math.imul(Xe,Wt))|0)+((8191&(x=(x=Math.imul(Xe,Ht))+Math.imul(Ve,Wt)|0))<<13)|0;return G=((I=Math.imul(Ve,Ht))+(x>>>13)|0)+(er>>>26)|0,er&=67108863,P[0]=An,P[1]=jn,P[2]=sr,P[3]=Ar,P[4]=or,P[5]=xr,P[6]=he,P[7]=Ae,P[8]=We,P[9]=Le,P[10]=tt,P[11]=vt,P[12]=wt,P[13]=rn,P[14]=$t,P[15]=Ut,P[16]=Gt,P[17]=Bn,P[18]=er,G!==0&&(P[19]=G,w.length++),w};function k(m,b,w){w.negative=b.negative^m.negative,w.length=m.length+b.length;for(var _=0,x=0,I=0;I<w.length-1;I++){var O=x;x=0;for(var $=67108863&_,P=Math.min(I,b.length-1),G=Math.max(0,I-m.length+1);G<=P;G++){var D=I-G,W=(0|m.words[D])*(0|b.words[G]),A=67108863&W;$=67108863&(A=A+$|0),x+=(O=(O=O+(W/67108864|0)|0)+(A>>>26)|0)>>>26,O&=67108863}w.words[I]=$,_=O,O=x}return _!==0?w.words[I]=_:w.length--,w._strip()}function M(m,b,w){return k(m,b,w)}function z(m,b){this.x=m,this.y=b}Math.imul||(S=v),a.prototype.mulTo=function(m,b){var w=this.length+m.length;return this.length===10&&m.length===10?S(this,m,b):w<63?v(this,m,b):w<1024?k(this,m,b):M(this,m,b)},z.prototype.makeRBT=function(m){for(var b=new Array(m),w=a.prototype._countBits(m)-1,_=0;_<m;_++)b[_]=this.revBin(_,w,m);return b},z.prototype.revBin=function(m,b,w){if(m===0||m===w-1)return m;for(var _=0,x=0;x<b;x++)_|=(1&m)<<b-x-1,m>>=1;return _},z.prototype.permute=function(m,b,w,_,x,I){for(var O=0;O<I;O++)_[O]=b[m[O]],x[O]=w[m[O]]},z.prototype.transform=function(m,b,w,_,x,I){this.permute(I,m,b,w,_,x);for(var O=1;O<x;O<<=1)for(var $=O<<1,P=Math.cos(2*Math.PI/$),G=Math.sin(2*Math.PI/$),D=0;D<x;D+=$)for(var W=P,A=G,T=0;T<O;T++){var H=w[D+T],Z=_[D+T],Q=w[D+T+O],J=_[D+T+O],ne=W*Q-A*J;J=W*J+A*Q,Q=ne,w[D+T]=H+Q,_[D+T]=Z+J,w[D+T+O]=H-Q,_[D+T+O]=Z-J,T!==$&&(ne=P*W-G*A,A=P*A+G*W,W=ne)}},z.prototype.guessLen13b=function(m,b){var w=1|Math.max(b,m),_=1&w,x=0;for(w=w/2|0;w;w>>>=1)x++;return 1<<x+1+_},z.prototype.conjugate=function(m,b,w){if(!(w<=1))for(var _=0;_<w/2;_++){var x=m[_];m[_]=m[w-_-1],m[w-_-1]=x,x=b[_],b[_]=-b[w-_-1],b[w-_-1]=-x}},z.prototype.normalize13b=function(m,b){for(var w=0,_=0;_<b/2;_++){var x=8192*Math.round(m[2*_+1]/b)+Math.round(m[2*_]/b)+w;m[_]=67108863&x,w=x<67108864?0:x/67108864|0}return m},z.prototype.convert13b=function(m,b,w,_){for(var x=0,I=0;I<b;I++)x+=0|m[I],w[2*I]=8191&x,x>>>=13,w[2*I+1]=8191&x,x>>>=13;for(I=2*b;I<_;++I)w[I]=0;s(x===0),s((-8192&x)==0)},z.prototype.stub=function(m){for(var b=new Array(m),w=0;w<m;w++)b[w]=0;return b},z.prototype.mulp=function(m,b,w){var _=2*this.guessLen13b(m.length,b.length),x=this.makeRBT(_),I=this.stub(_),O=new Array(_),$=new Array(_),P=new Array(_),G=new Array(_),D=new Array(_),W=new Array(_),A=w.words;A.length=_,this.convert13b(m.words,m.length,O,_),this.convert13b(b.words,b.length,G,_),this.transform(O,I,$,P,_,x),this.transform(G,I,D,W,_,x);for(var T=0;T<_;T++){var H=$[T]*D[T]-P[T]*W[T];P[T]=$[T]*W[T]+P[T]*D[T],$[T]=H}return this.conjugate($,P,_),this.transform($,P,A,I,_,x),this.conjugate(A,I,_),this.normalize13b(A,_),w.negative=m.negative^b.negative,w.length=m.length+b.length,w._strip()},a.prototype.mul=function(m){var b=new a(null);return b.words=new Array(this.length+m.length),this.mulTo(m,b)},a.prototype.mulf=function(m){var b=new a(null);return b.words=new Array(this.length+m.length),M(this,m,b)},a.prototype.imul=function(m){return this.clone().mulTo(m,this)},a.prototype.imuln=function(m){var b=m<0;b&&(m=-m),s(typeof m=="number"),s(m<67108864);for(var w=0,_=0;_<this.length;_++){var x=(0|this.words[_])*m,I=(67108863&x)+(67108863&w);w>>=26,w+=x/67108864|0,w+=I>>>26,this.words[_]=67108863&I}return w!==0&&(this.words[_]=w,this.length++),b?this.ineg():this},a.prototype.muln=function(m){return this.clone().imuln(m)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(m){var b=function(I){for(var O=new Array(I.bitLength()),$=0;$<O.length;$++){var P=$/26|0,G=$%26;O[$]=I.words[P]>>>G&1}return O}(m);if(b.length===0)return new a(1);for(var w=this,_=0;_<b.length&&b[_]===0;_++,w=w.sqr());if(++_<b.length)for(var x=w.sqr();_<b.length;_++,x=x.sqr())b[_]!==0&&(w=w.mul(x));return w},a.prototype.iushln=function(m){s(typeof m=="number"&&m>=0);var b,w=m%26,_=(m-w)/26,x=67108863>>>26-w<<26-w;if(w!==0){var I=0;for(b=0;b<this.length;b++){var O=this.words[b]&x,$=(0|this.words[b])-O<<w;this.words[b]=$|I,I=O>>>26-w}I&&(this.words[b]=I,this.length++)}if(_!==0){for(b=this.length-1;b>=0;b--)this.words[b+_]=this.words[b];for(b=0;b<_;b++)this.words[b]=0;this.length+=_}return this._strip()},a.prototype.ishln=function(m){return s(this.negative===0),this.iushln(m)},a.prototype.iushrn=function(m,b,w){var _;s(typeof m=="number"&&m>=0),_=b?(b-b%26)/26:0;var x=m%26,I=Math.min((m-x)/26,this.length),O=67108863^67108863>>>x<<x,$=w;if(_-=I,_=Math.max(0,_),$){for(var P=0;P<I;P++)$.words[P]=this.words[P];$.length=I}if(I!==0)if(this.length>I)for(this.length-=I,P=0;P<this.length;P++)this.words[P]=this.words[P+I];else this.words[0]=0,this.length=1;var G=0;for(P=this.length-1;P>=0&&(G!==0||P>=_);P--){var D=0|this.words[P];this.words[P]=G<<26-x|D>>>x,G=D&O}return $&&G!==0&&($.words[$.length++]=G),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(m,b,w){return s(this.negative===0),this.iushrn(m,b,w)},a.prototype.shln=function(m){return this.clone().ishln(m)},a.prototype.ushln=function(m){return this.clone().iushln(m)},a.prototype.shrn=function(m){return this.clone().ishrn(m)},a.prototype.ushrn=function(m){return this.clone().iushrn(m)},a.prototype.testn=function(m){s(typeof m=="number"&&m>=0);var b=m%26,w=(m-b)/26,_=1<<b;return!(this.length<=w)&&!!(this.words[w]&_)},a.prototype.imaskn=function(m){s(typeof m=="number"&&m>=0);var b=m%26,w=(m-b)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(b!==0&&w++,this.length=Math.min(w,this.length),b!==0){var _=67108863^67108863>>>b<<b;this.words[this.length-1]&=_}return this._strip()},a.prototype.maskn=function(m){return this.clone().imaskn(m)},a.prototype.iaddn=function(m){return s(typeof m=="number"),s(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(0|this.words[0])<=m?(this.words[0]=m-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},a.prototype._iaddn=function(m){this.words[0]+=m;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},a.prototype.isubn=function(m){if(s(typeof m=="number"),s(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},a.prototype.addn=function(m){return this.clone().iaddn(m)},a.prototype.subn=function(m){return this.clone().isubn(m)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(m,b,w){var _,x,I=m.length+w;this._expand(I);var O=0;for(_=0;_<m.length;_++){x=(0|this.words[_+w])+O;var $=(0|m.words[_])*b;O=((x-=67108863&$)>>26)-($/67108864|0),this.words[_+w]=67108863&x}for(;_<this.length-w;_++)O=(x=(0|this.words[_+w])+O)>>26,this.words[_+w]=67108863&x;if(O===0)return this._strip();for(s(O===-1),O=0,_=0;_<this.length;_++)O=(x=-(0|this.words[_])+O)>>26,this.words[_]=67108863&x;return this.negative=1,this._strip()},a.prototype._wordDiv=function(m,b){var w=(this.length,m.length),_=this.clone(),x=m,I=0|x.words[x.length-1];(w=26-this._countBits(I))!==0&&(x=x.ushln(w),_.iushln(w),I=0|x.words[x.length-1]);var O,$=_.length-x.length;if(b!=="mod"){(O=new a(null)).length=$+1,O.words=new Array(O.length);for(var P=0;P<O.length;P++)O.words[P]=0}var G=_.clone()._ishlnsubmul(x,1,$);G.negative===0&&(_=G,O&&(O.words[$]=1));for(var D=$-1;D>=0;D--){var W=67108864*(0|_.words[x.length+D])+(0|_.words[x.length+D-1]);for(W=Math.min(W/I|0,67108863),_._ishlnsubmul(x,W,D);_.negative!==0;)W--,_.negative=0,_._ishlnsubmul(x,1,D),_.isZero()||(_.negative^=1);O&&(O.words[D]=W)}return O&&O._strip(),_._strip(),b!=="div"&&w!==0&&_.iushrn(w),{div:O||null,mod:_}},a.prototype.divmod=function(m,b,w){return s(!m.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&m.negative===0?(I=this.neg().divmod(m,b),b!=="mod"&&(_=I.div.neg()),b!=="div"&&(x=I.mod.neg(),w&&x.negative!==0&&x.iadd(m)),{div:_,mod:x}):this.negative===0&&m.negative!==0?(I=this.divmod(m.neg(),b),b!=="mod"&&(_=I.div.neg()),{div:_,mod:I.mod}):(this.negative&m.negative)!=0?(I=this.neg().divmod(m.neg(),b),b!=="div"&&(x=I.mod.neg(),w&&x.negative!==0&&x.isub(m)),{div:I.div,mod:x}):m.length>this.length||this.cmp(m)<0?{div:new a(0),mod:this}:m.length===1?b==="div"?{div:this.divn(m.words[0]),mod:null}:b==="mod"?{div:null,mod:new a(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new a(this.modrn(m.words[0]))}:this._wordDiv(m,b);var _,x,I},a.prototype.div=function(m){return this.divmod(m,"div",!1).div},a.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},a.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},a.prototype.divRound=function(m){var b=this.divmod(m);if(b.mod.isZero())return b.div;var w=b.div.negative!==0?b.mod.isub(m):b.mod,_=m.ushrn(1),x=m.andln(1),I=w.cmp(_);return I<0||x===1&&I===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},a.prototype.modrn=function(m){var b=m<0;b&&(m=-m),s(m<=67108863);for(var w=(1<<26)%m,_=0,x=this.length-1;x>=0;x--)_=(w*_+(0|this.words[x]))%m;return b?-_:_},a.prototype.modn=function(m){return this.modrn(m)},a.prototype.idivn=function(m){var b=m<0;b&&(m=-m),s(m<=67108863);for(var w=0,_=this.length-1;_>=0;_--){var x=(0|this.words[_])+67108864*w;this.words[_]=x/m|0,w=x%m}return this._strip(),b?this.ineg():this},a.prototype.divn=function(m){return this.clone().idivn(m)},a.prototype.egcd=function(m){s(m.negative===0),s(!m.isZero());var b=this,w=m.clone();b=b.negative!==0?b.umod(m):b.clone();for(var _=new a(1),x=new a(0),I=new a(0),O=new a(1),$=0;b.isEven()&&w.isEven();)b.iushrn(1),w.iushrn(1),++$;for(var P=w.clone(),G=b.clone();!b.isZero();){for(var D=0,W=1;(b.words[0]&W)==0&&D<26;++D,W<<=1);if(D>0)for(b.iushrn(D);D-- >0;)(_.isOdd()||x.isOdd())&&(_.iadd(P),x.isub(G)),_.iushrn(1),x.iushrn(1);for(var A=0,T=1;(w.words[0]&T)==0&&A<26;++A,T<<=1);if(A>0)for(w.iushrn(A);A-- >0;)(I.isOdd()||O.isOdd())&&(I.iadd(P),O.isub(G)),I.iushrn(1),O.iushrn(1);b.cmp(w)>=0?(b.isub(w),_.isub(I),x.isub(O)):(w.isub(b),I.isub(_),O.isub(x))}return{a:I,b:O,gcd:w.iushln($)}},a.prototype._invmp=function(m){s(m.negative===0),s(!m.isZero());var b=this,w=m.clone();b=b.negative!==0?b.umod(m):b.clone();for(var _,x=new a(1),I=new a(0),O=w.clone();b.cmpn(1)>0&&w.cmpn(1)>0;){for(var $=0,P=1;(b.words[0]&P)==0&&$<26;++$,P<<=1);if($>0)for(b.iushrn($);$-- >0;)x.isOdd()&&x.iadd(O),x.iushrn(1);for(var G=0,D=1;(w.words[0]&D)==0&&G<26;++G,D<<=1);if(G>0)for(w.iushrn(G);G-- >0;)I.isOdd()&&I.iadd(O),I.iushrn(1);b.cmp(w)>=0?(b.isub(w),x.isub(I)):(w.isub(b),I.isub(x))}return(_=b.cmpn(1)===0?x:I).cmpn(0)<0&&_.iadd(m),_},a.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var b=this.clone(),w=m.clone();b.negative=0,w.negative=0;for(var _=0;b.isEven()&&w.isEven();_++)b.iushrn(1),w.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;w.isEven();)w.iushrn(1);var x=b.cmp(w);if(x<0){var I=b;b=w,w=I}else if(x===0||w.cmpn(1)===0)break;b.isub(w)}return w.iushln(_)},a.prototype.invm=function(m){return this.egcd(m).a.umod(m)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(m){return this.words[0]&m},a.prototype.bincn=function(m){s(typeof m=="number");var b=m%26,w=(m-b)/26,_=1<<b;if(this.length<=w)return this._expand(w+1),this.words[w]|=_,this;for(var x=_,I=w;x!==0&&I<this.length;I++){var O=0|this.words[I];x=(O+=x)>>>26,O&=67108863,this.words[I]=O}return x!==0&&(this.words[I]=x,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(m){var b,w=m<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this._strip(),this.length>1)b=1;else{w&&(m=-m),s(m<=67108863,"Number is too big");var _=0|this.words[0];b=_===m?0:_<m?-1:1}return this.negative!==0?0|-b:b},a.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var b=this.ucmp(m);return this.negative!==0?0|-b:b},a.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var b=0,w=this.length-1;w>=0;w--){var _=0|this.words[w],x=0|m.words[w];if(_!==x){_<x?b=-1:_>x&&(b=1);break}}return b},a.prototype.gtn=function(m){return this.cmpn(m)===1},a.prototype.gt=function(m){return this.cmp(m)===1},a.prototype.gten=function(m){return this.cmpn(m)>=0},a.prototype.gte=function(m){return this.cmp(m)>=0},a.prototype.ltn=function(m){return this.cmpn(m)===-1},a.prototype.lt=function(m){return this.cmp(m)===-1},a.prototype.lten=function(m){return this.cmpn(m)<=0},a.prototype.lte=function(m){return this.cmp(m)<=0},a.prototype.eqn=function(m){return this.cmpn(m)===0},a.prototype.eq=function(m){return this.cmp(m)===0},a.red=function(m){return new C(m)},a.prototype.toRed=function(m){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(m){return this.red=m,this},a.prototype.forceRed=function(m){return s(!this.red,"Already a number in reduction context"),this._forceRed(m)},a.prototype.redAdd=function(m){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},a.prototype.redIAdd=function(m){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},a.prototype.redSub=function(m){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},a.prototype.redISub=function(m){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},a.prototype.redShl=function(m){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},a.prototype.redMul=function(m){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},a.prototype.redIMul=function(m){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(m){return s(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var F={k256:null,p224:null,p192:null,p25519:null};function j(m,b){this.name=m,this.p=new a(b,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function U(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function V(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(m){if(typeof m=="string"){var b=a._prime(m);this.m=b.p,this.prime=b}else s(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}function R(m){C.call(this,m),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}j.prototype._tmp=function(){var m=new a(null);return m.words=new Array(Math.ceil(this.n/13)),m},j.prototype.ireduce=function(m){var b,w=m;do this.split(w,this.tmp),b=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(b>this.n);var _=b<this.n?-1:w.ucmp(this.p);return _===0?(w.words[0]=0,w.length=1):_>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},j.prototype.split=function(m,b){m.iushrn(this.n,0,b)},j.prototype.imulK=function(m){return m.imul(this.k)},o(B,j),B.prototype.split=function(m,b){for(var w=Math.min(m.length,9),_=0;_<w;_++)b.words[_]=m.words[_];if(b.length=w,m.length<=9)return m.words[0]=0,void(m.length=1);var x=m.words[9];for(b.words[b.length++]=4194303&x,_=10;_<m.length;_++){var I=0|m.words[_];m.words[_-10]=(4194303&I)<<4|x>>>22,x=I}x>>>=22,m.words[_-10]=x,x===0&&m.length>10?m.length-=10:m.length-=9},B.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var b=0,w=0;w<m.length;w++){var _=0|m.words[w];b+=977*_,m.words[w]=67108863&b,b=64*_+(b/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m},o(U,j),o(V,j),o(E,j),E.prototype.imulK=function(m){for(var b=0,w=0;w<m.length;w++){var _=19*(0|m.words[w])+b,x=67108863&_;_>>>=26,m.words[w]=x,b=_}return b!==0&&(m.words[m.length++]=b),m},a._prime=function(m){if(F[m])return F[m];var b;if(m==="k256")b=new B;else if(m==="p224")b=new U;else if(m==="p192")b=new V;else{if(m!=="p25519")throw new Error("Unknown prime "+m);b=new E}return F[m]=b,b},C.prototype._verify1=function(m){s(m.negative===0,"red works only with positives"),s(m.red,"red works only with red numbers")},C.prototype._verify2=function(m,b){s((m.negative|b.negative)==0,"red works only with positives"),s(m.red&&m.red===b.red,"red works only with red numbers")},C.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(h(m,m.umod(this.m)._forceRed(this)),m)},C.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},C.prototype.add=function(m,b){this._verify2(m,b);var w=m.add(b);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},C.prototype.iadd=function(m,b){this._verify2(m,b);var w=m.iadd(b);return w.cmp(this.m)>=0&&w.isub(this.m),w},C.prototype.sub=function(m,b){this._verify2(m,b);var w=m.sub(b);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},C.prototype.isub=function(m,b){this._verify2(m,b);var w=m.isub(b);return w.cmpn(0)<0&&w.iadd(this.m),w},C.prototype.shl=function(m,b){return this._verify1(m),this.imod(m.ushln(b))},C.prototype.imul=function(m,b){return this._verify2(m,b),this.imod(m.imul(b))},C.prototype.mul=function(m,b){return this._verify2(m,b),this.imod(m.mul(b))},C.prototype.isqr=function(m){return this.imul(m,m.clone())},C.prototype.sqr=function(m){return this.mul(m,m)},C.prototype.sqrt=function(m){if(m.isZero())return m.clone();var b=this.m.andln(3);if(s(b%2==1),b===3){var w=this.m.add(new a(1)).iushrn(2);return this.pow(m,w)}for(var _=this.m.subn(1),x=0;!_.isZero()&&_.andln(1)===0;)x++,_.iushrn(1);s(!_.isZero());var I=new a(1).toRed(this),O=I.redNeg(),$=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new a(2*P*P).toRed(this);this.pow(P,$).cmp(O)!==0;)P.redIAdd(O);for(var G=this.pow(P,_),D=this.pow(m,_.addn(1).iushrn(1)),W=this.pow(m,_),A=x;W.cmp(I)!==0;){for(var T=W,H=0;T.cmp(I)!==0;H++)T=T.redSqr();s(H<A);var Z=this.pow(G,new a(1).iushln(A-H-1));D=D.redMul(Z),G=Z.redSqr(),W=W.redMul(G),A=H}return D},C.prototype.invm=function(m){var b=m._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},C.prototype.pow=function(m,b){if(b.isZero())return new a(1).toRed(this);if(b.cmpn(1)===0)return m.clone();var w=new Array(16);w[0]=new a(1).toRed(this),w[1]=m;for(var _=2;_<w.length;_++)w[_]=this.mul(w[_-1],m);var x=w[0],I=0,O=0,$=b.bitLength()%26;for($===0&&($=26),_=b.length-1;_>=0;_--){for(var P=b.words[_],G=$-1;G>=0;G--){var D=P>>G&1;x!==w[0]&&(x=this.sqr(x)),D!==0||I!==0?(I<<=1,I|=D,(++O===4||_===0&&G===0)&&(x=this.mul(x,w[I]),O=0,I=0)):O=0}$=26}return x},C.prototype.convertTo=function(m){var b=m.umod(this.m);return b===m?b.clone():b},C.prototype.convertFrom=function(m){var b=m.clone();return b.red=null,b},a.mont=function(m){return new R(m)},o(R,C),R.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},R.prototype.convertFrom=function(m){var b=this.imod(m.mul(this.rinv));return b.red=null,b},R.prototype.imul=function(m,b){if(m.isZero()||b.isZero())return m.words[0]=0,m.length=1,m;var w=m.imul(b),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=w.isub(_).iushrn(this.shift),I=x;return x.cmp(this.m)>=0?I=x.isub(this.m):x.cmpn(0)<0&&(I=x.iadd(this.m)),I._forceRed(this)},R.prototype.mul=function(m,b){if(m.isZero()||b.isZero())return new a(0)._forceRed(this);var w=m.mul(b),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=w.isub(_).iushrn(this.shift),I=x;return x.cmp(this.m)>=0?I=x.isub(this.m):x.cmpn(0)<0&&(I=x.iadd(this.m)),I._forceRed(this)},R.prototype.invm=function(m){return this.imod(m._invmp(this.m).mul(this.r2))._forceRed(this)}})(t===void 0||t)},{buffer:188}],187:[function(e,t,n){"use strict";var r;function i(o){this.rand=o}if(t.exports=function(o){return r||(r=new i(null)),r.generate(o)},t.exports.Rand=i,i.prototype.generate=function(o){return this._rand(o)},i.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var a=new Uint8Array(o),l=0;l<a.length;l++)a[l]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(o){var a=new Uint8Array(o);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(o){var a=new Uint8Array(o);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=e("crypto");if(typeof s.randomBytes!="function")throw new Error("Not supported");i.prototype._rand=function(o){return s.randomBytes(o)}}catch{}},{crypto:188}],188:[function(e,t,n){},{}],189:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer;function i(u){r.isBuffer(u)||(u=r.from(u));for(var d=u.length/4|0,h=new Array(d),f=0;f<d;f++)h[f]=u.readUInt32BE(4*f);return h}function s(u){for(;0<u.length;u++)u[0]=0}function o(u,d,h,f,p){for(var g,y,v,S,k=h[0],M=h[1],z=h[2],F=h[3],j=u[0]^d[0],B=u[1]^d[1],U=u[2]^d[2],V=u[3]^d[3],E=4,C=1;C<p;C++)g=k[j>>>24]^M[B>>>16&255]^z[U>>>8&255]^F[255&V]^d[E++],y=k[B>>>24]^M[U>>>16&255]^z[V>>>8&255]^F[255&j]^d[E++],v=k[U>>>24]^M[V>>>16&255]^z[j>>>8&255]^F[255&B]^d[E++],S=k[V>>>24]^M[j>>>16&255]^z[B>>>8&255]^F[255&U]^d[E++],j=g,B=y,U=v,V=S;return g=(f[j>>>24]<<24|f[B>>>16&255]<<16|f[U>>>8&255]<<8|f[255&V])^d[E++],y=(f[B>>>24]<<24|f[U>>>16&255]<<16|f[V>>>8&255]<<8|f[255&j])^d[E++],v=(f[U>>>24]<<24|f[V>>>16&255]<<16|f[j>>>8&255]<<8|f[255&B])^d[E++],S=(f[V>>>24]<<24|f[j>>>16&255]<<16|f[B>>>8&255]<<8|f[255&U])^d[E++],[g>>>=0,y>>>=0,v>>>=0,S>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var u=new Array(256),d=0;d<256;d++)u[d]=d<128?d<<1:d<<1^283;for(var h=[],f=[],p=[[],[],[],[]],g=[[],[],[],[]],y=0,v=0,S=0;S<256;++S){var k=v^v<<1^v<<2^v<<3^v<<4;k=k>>>8^255&k^99,h[y]=k,f[k]=y;var M=u[y],z=u[M],F=u[z],j=257*u[k]^16843008*k;p[0][y]=j<<24|j>>>8,p[1][y]=j<<16|j>>>16,p[2][y]=j<<8|j>>>24,p[3][y]=j,j=16843009*F^65537*z^257*M^16843008*y,g[0][k]=j<<24|j>>>8,g[1][k]=j<<16|j>>>16,g[2][k]=j<<8|j>>>24,g[3][k]=j,y===0?y=v=1:(y=M^u[u[u[F^M]]],v^=u[u[v]])}return{SBOX:h,INV_SBOX:f,SUB_MIX:p,INV_SUB_MIX:g}}();function c(u){this._key=i(u),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var u=this._key,d=u.length,h=d+6,f=4*(h+1),p=[],g=0;g<d;g++)p[g]=u[g];for(g=d;g<f;g++){var y=p[g-1];g%d==0?(y=y<<8|y>>>24,y=l.SBOX[y>>>24]<<24|l.SBOX[y>>>16&255]<<16|l.SBOX[y>>>8&255]<<8|l.SBOX[255&y],y^=a[g/d|0]<<24):d>6&&g%d==4&&(y=l.SBOX[y>>>24]<<24|l.SBOX[y>>>16&255]<<16|l.SBOX[y>>>8&255]<<8|l.SBOX[255&y]),p[g]=p[g-d]^y}for(var v=[],S=0;S<f;S++){var k=f-S,M=p[k-(S%4?0:4)];v[S]=S<4||k<=4?M:l.INV_SUB_MIX[0][l.SBOX[M>>>24]]^l.INV_SUB_MIX[1][l.SBOX[M>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[M>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&M]]}this._nRounds=h,this._keySchedule=p,this._invKeySchedule=v},c.prototype.encryptBlockRaw=function(u){return o(u=i(u),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},c.prototype.encryptBlock=function(u){var d=this.encryptBlockRaw(u),h=r.allocUnsafe(16);return h.writeUInt32BE(d[0],0),h.writeUInt32BE(d[1],4),h.writeUInt32BE(d[2],8),h.writeUInt32BE(d[3],12),h},c.prototype.decryptBlock=function(u){var d=(u=i(u))[1];u[1]=u[3],u[3]=d;var h=o(u,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),f=r.allocUnsafe(16);return f.writeUInt32BE(h[0],0),f.writeUInt32BE(h[3],4),f.writeUInt32BE(h[2],8),f.writeUInt32BE(h[1],12),f},c.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},t.exports.AES=c},{"safe-buffer":494}],190:[function(e,t,n){"use strict";var r=e("./aes"),i=e("safe-buffer").Buffer,s=e("cipher-base"),o=e("inherits"),a=e("./ghash"),l=e("buffer-xor"),c=e("./incr32");function u(d,h,f,p){s.call(this);var g=i.alloc(4,0);this._cipher=new r.AES(h);var y=this._cipher.encryptBlock(g);this._ghash=new a(y),f=function(v,S,k){if(S.length===12)return v._finID=i.concat([S,i.from([0,0,0,1])]),i.concat([S,i.from([0,0,0,2])]);var M=new a(k),z=S.length,F=z%16;M.update(S),F&&(F=16-F,M.update(i.alloc(F,0))),M.update(i.alloc(8,0));var j=8*z,B=i.alloc(8);B.writeUIntBE(j,0,8),M.update(B),v._finID=M.state;var U=i.from(v._finID);return c(U),U}(this,f,y),this._prev=i.from(f),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}o(u,s),u.prototype._update=function(d){if(!this._called&&this._alen){var h=16-this._alen%16;h<16&&(h=i.alloc(h,0),this._ghash.update(h))}this._called=!0;var f=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(f),this._len+=d.length,f},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(h,f){var p=0;h.length!==f.length&&p++;for(var g=Math.min(h.length,f.length),y=0;y<g;++y)p+=h[y]^f[y];return p}(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},u.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},t.exports=u},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,t,n){"use strict";var r=e("./encrypter"),i=e("./decrypter"),s=e("./modes/list.json");n.createCipher=n.Cipher=r.createCipher,n.createCipheriv=n.Cipheriv=r.createCipheriv,n.createDecipher=n.Decipher=i.createDecipher,n.createDecipheriv=n.Decipheriv=i.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(s)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,t,n){"use strict";var r=e("./authCipher"),i=e("safe-buffer").Buffer,s=e("./modes"),o=e("./streamCipher"),a=e("cipher-base"),l=e("./aes"),c=e("evp_bytestokey");function u(f,p,g){a.call(this),this._cache=new d,this._last=void 0,this._cipher=new l.AES(p),this._prev=i.from(g),this._mode=f,this._autopadding=!0}function d(){this.cache=i.allocUnsafe(0)}function h(f,p,g){var y=s[f.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=i.from(g)),y.mode!=="GCM"&&g.length!==y.iv)throw new TypeError("invalid iv length "+g.length);if(typeof p=="string"&&(p=i.from(p)),p.length!==y.key/8)throw new TypeError("invalid key length "+p.length);return y.type==="stream"?new o(y.module,p,g,!0):y.type==="auth"?new r(y.module,p,g,!0):new u(y.module,p,g)}e("inherits")(u,a),u.prototype._update=function(f){var p,g;this._cache.add(f);for(var y=[];p=this._cache.get(this._autopadding);)g=this._mode.decrypt(this,p),y.push(g);return i.concat(y)},u.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return function(p){var g=p[15];if(g<1||g>16)throw new Error("unable to decrypt data");for(var y=-1;++y<g;)if(p[y+(16-g)]!==g)throw new Error("unable to decrypt data");if(g!==16)return p.slice(0,16-g)}(this._mode.decrypt(this,f));if(f)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},d.prototype.add=function(f){this.cache=i.concat([this.cache,f])},d.prototype.get=function(f){var p;if(f){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(f,p){var g=s[f.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var y=c(p,!1,g.key,g.iv);return h(f,y.key,y.iv)},n.createDecipheriv=h},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,t,n){"use strict";var r=e("./modes"),i=e("./authCipher"),s=e("safe-buffer").Buffer,o=e("./streamCipher"),a=e("cipher-base"),l=e("./aes"),c=e("evp_bytestokey");function u(p,g,y){a.call(this),this._cache=new h,this._cipher=new l.AES(g),this._prev=s.from(y),this._mode=p,this._autopadding=!0}e("inherits")(u,a),u.prototype._update=function(p){var g,y;this._cache.add(p);for(var v=[];g=this._cache.get();)y=this._mode.encrypt(this,g),v.push(y);return s.concat(v)};var d=s.alloc(16,16);function h(){this.cache=s.allocUnsafe(0)}function f(p,g,y){var v=r[p.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=s.from(g)),g.length!==v.key/8)throw new TypeError("invalid key length "+g.length);if(typeof y=="string"&&(y=s.from(y)),v.mode!=="GCM"&&y.length!==v.iv)throw new TypeError("invalid iv length "+y.length);return v.type==="stream"?new o(v.module,g,y):v.type==="auth"?new i(v.module,g,y):new u(v.module,g,y)}u.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},h.prototype.add=function(p){this.cache=s.concat([this.cache,p])},h.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},h.prototype.flush=function(){for(var p=16-this.cache.length,g=s.allocUnsafe(p),y=-1;++y<p;)g.writeUInt8(p,y);return s.concat([this.cache,g])},n.createCipheriv=f,n.createCipher=function(p,g){var y=r[p.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var v=c(g,!1,y.key,y.iv);return f(p,v.key,v.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.alloc(16,0);function s(a){var l=r.allocUnsafe(16);return l.writeUInt32BE(a[0]>>>0,0),l.writeUInt32BE(a[1]>>>0,4),l.writeUInt32BE(a[2]>>>0,8),l.writeUInt32BE(a[3]>>>0,12),l}function o(a){this.h=a,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}o.prototype.ghash=function(a){for(var l=-1;++l<a.length;)this.state[l]^=a[l];this._multiply()},o.prototype._multiply=function(){for(var a,l,c,u=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],d=[0,0,0,0],h=-1;++h<128;){for((this.state[~~(h/8)]&1<<7-h%8)!=0&&(d[0]^=u[0],d[1]^=u[1],d[2]^=u[2],d[3]^=u[3]),c=(1&u[3])!=0,l=3;l>0;l--)u[l]=u[l]>>>1|(1&u[l-1])<<31;u[0]=u[0]>>>1,c&&(u[0]=u[0]^225<<24)}this.state=s(d)},o.prototype.update=function(a){var l;for(this.cache=r.concat([this.cache,a]);this.cache.length>=16;)l=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(l)},o.prototype.final=function(a,l){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(s([0,a,0,l])),this.state},t.exports=o},{"safe-buffer":494}],195:[function(e,t,n){"use strict";t.exports=function(r){for(var i,s=r.length;s--;){if((i=r.readUInt8(s))!==255){i++,r.writeUInt8(i,s);break}r.writeUInt8(0,s)}}},{}],196:[function(e,t,n){"use strict";var r=e("buffer-xor");n.encrypt=function(i,s){var o=r(s,i._prev);return i._prev=i._cipher.encryptBlock(o),i._prev},n.decrypt=function(i,s){var o=i._prev;i._prev=s;var a=i._cipher.decryptBlock(s);return r(a,o)}},{"buffer-xor":219}],197:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("buffer-xor");function s(o,a,l){var c=a.length,u=i(a,o._cache);return o._cache=o._cache.slice(c),o._prev=r.concat([o._prev,l?a:u]),u}n.encrypt=function(o,a,l){for(var c,u=r.allocUnsafe(0);a.length;){if(o._cache.length===0&&(o._cache=o._cipher.encryptBlock(o._prev),o._prev=r.allocUnsafe(0)),!(o._cache.length<=a.length)){u=r.concat([u,s(o,a,l)]);break}c=o._cache.length,u=r.concat([u,s(o,a.slice(0,c),l)]),a=a.slice(c)}return u}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer;function i(o,a,l){for(var c,u,d=-1,h=0;++d<8;)c=a&1<<7-d?128:0,h+=(128&(u=o._cipher.encryptBlock(o._prev)[0]^c))>>d%8,o._prev=s(o._prev,l?c:u);return h}function s(o,a){var l=o.length,c=-1,u=r.allocUnsafe(o.length);for(o=r.concat([o,r.from([a])]);++c<l;)u[c]=o[c]<<1|o[c+1]>>7;return u}n.encrypt=function(o,a,l){for(var c=a.length,u=r.allocUnsafe(c),d=-1;++d<c;)u[d]=i(o,a[d],l);return u}},{"safe-buffer":494}],199:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer;function i(s,o,a){var l=s._cipher.encryptBlock(s._prev)[0]^o;return s._prev=r.concat([s._prev.slice(1),r.from([a?o:l])]),l}n.encrypt=function(s,o,a){for(var l=o.length,c=r.allocUnsafe(l),u=-1;++u<l;)c[u]=i(s,o[u],a);return c}},{"safe-buffer":494}],200:[function(e,t,n){"use strict";var r=e("buffer-xor"),i=e("safe-buffer").Buffer,s=e("../incr32");function o(a){var l=a._cipher.encryptBlockRaw(a._prev);return s(a._prev),l}n.encrypt=function(a,l){var c=Math.ceil(l.length/16),u=a._cache.length;a._cache=i.concat([a._cache,i.allocUnsafe(16*c)]);for(var d=0;d<c;d++){var h=o(a),f=u+16*d;a._cache.writeUInt32BE(h[0],f+0),a._cache.writeUInt32BE(h[1],f+4),a._cache.writeUInt32BE(h[2],f+8),a._cache.writeUInt32BE(h[3],f+12)}var p=a._cache.slice(0,l.length);return a._cache=a._cache.slice(l.length),r(l,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,t,n){"use strict";n.encrypt=function(r,i){return r._cipher.encryptBlock(i)},n.decrypt=function(r,i){return r._cipher.decryptBlock(i)}},{}],202:[function(e,t,n){"use strict";var r={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},i=e("./list.json");for(var s in i)i[s].module=r[i[s].mode];t.exports=i},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,t,n){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,t,n){(function(r){(function(){"use strict";var i=e("buffer-xor");function s(o){return o._prev=o._cipher.encryptBlock(o._prev),o._prev}n.encrypt=function(o,a){for(;o._cache.length<a.length;)o._cache=r.concat([o._cache,s(o)]);var l=o._cache.slice(0,a.length);return o._cache=o._cache.slice(a.length),i(a,l)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,t,n){"use strict";var r=e("./aes"),i=e("safe-buffer").Buffer,s=e("cipher-base");function o(a,l,c,u){s.call(this),this._cipher=new r.AES(l),this._prev=i.from(c),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=u,this._mode=a}e("inherits")(o,s),o.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,t,n){"use strict";var r=e("browserify-des"),i=e("browserify-aes/browser"),s=e("browserify-aes/modes"),o=e("browserify-des/modes"),a=e("evp_bytestokey");function l(u,d,h){if(u=u.toLowerCase(),s[u])return i.createCipheriv(u,d,h);if(o[u])return new r({key:d,iv:h,mode:u});throw new TypeError("invalid suite type")}function c(u,d,h){if(u=u.toLowerCase(),s[u])return i.createDecipheriv(u,d,h);if(o[u])return new r({key:d,iv:h,mode:u,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(u,d){var h,f;if(u=u.toLowerCase(),s[u])h=s[u].key,f=s[u].iv;else{if(!o[u])throw new TypeError("invalid suite type");h=8*o[u].key,f=o[u].iv}var p=a(d,!1,h,f);return l(u,p.key,p.iv)},n.createCipheriv=n.Cipheriv=l,n.createDecipher=n.Decipher=function(u,d){var h,f;if(u=u.toLowerCase(),s[u])h=s[u].key,f=s[u].iv;else{if(!o[u])throw new TypeError("invalid suite type");h=8*o[u].key,f=o[u].iv}var p=a(d,!1,h,f);return c(u,p.key,p.iv)},n.createDecipheriv=n.Decipheriv=c,n.listCiphers=n.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,t,n){"use strict";var r=e("cipher-base"),i=e("des.js"),s=e("inherits"),o=e("safe-buffer").Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function l(c){r.call(this);var u,d=c.mode.toLowerCase(),h=a[d];u=c.decrypt?"decrypt":"encrypt";var f=c.key;o.isBuffer(f)||(f=o.from(f)),d!=="des-ede"&&d!=="des-ede-cbc"||(f=o.concat([f,f.slice(0,8)]));var p=c.iv;o.isBuffer(p)||(p=o.from(p)),this._des=h.create({key:f,iv:p,type:u})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=l,s(l,r),l.prototype._update=function(c){return o.from(this._des.update(c))},l.prototype._final=function(){return o.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,t,n){"use strict";n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],209:[function(e,t,n){(function(r){(function(){"use strict";var i=e("bn.js"),s=e("randombytes");function o(l){var c,u=l.modulus.byteLength();do c=new i(s(u));while(c.cmp(l.modulus)>=0||!c.umod(l.prime1)||!c.umod(l.prime2));return c}function a(l,c){var u=function(z){var F=o(z);return{blinder:F.toRed(i.mont(z.modulus)).redPow(new i(z.publicExponent)).fromRed(),unblinder:F.invm(z.modulus)}}(c),d=c.modulus.byteLength(),h=new i(l).mul(u.blinder).umod(c.modulus),f=h.toRed(i.mont(c.prime1)),p=h.toRed(i.mont(c.prime2)),g=c.coefficient,y=c.prime1,v=c.prime2,S=f.redPow(c.exponent1).fromRed(),k=p.redPow(c.exponent2).fromRed(),M=S.isub(k).imul(g).umod(y).imul(v);return k.iadd(M).imul(u.unblinder).umod(c.modulus).toArrayLike(r,"be",d)}a.getr=o,t.exports=a}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,t,n){"use strict";t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,t,n){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,t,n){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("create-hash"),s=e("readable-stream"),o=e("inherits"),a=e("./sign"),l=e("./verify"),c=e("./algorithms.json");function u(p){s.Writable.call(this);var g=c[p];if(!g)throw new Error("Unknown message digest");this._hashType=g.hash,this._hash=i(g.hash),this._tag=g.id,this._signType=g.sign}function d(p){s.Writable.call(this);var g=c[p];if(!g)throw new Error("Unknown message digest");this._hash=i(g.hash),this._tag=g.id,this._signType=g.sign}function h(p){return new u(p)}function f(p){return new d(p)}Object.keys(c).forEach(function(p){c[p].id=r.from(c[p].id,"hex"),c[p.toLowerCase()]=c[p]}),o(u,s.Writable),u.prototype._write=function(p,g,y){this._hash.update(p),y()},u.prototype.update=function(p,g){return typeof p=="string"&&(p=r.from(p,g)),this._hash.update(p),this},u.prototype.sign=function(p,g){this.end();var y=this._hash.digest(),v=a(y,p,this._hashType,this._signType,this._tag);return g?v.toString(g):v},o(d,s.Writable),d.prototype._write=function(p,g,y){this._hash.update(p),y()},d.prototype.update=function(p,g){return typeof p=="string"&&(p=r.from(p,g)),this._hash.update(p),this},d.prototype.verify=function(p,g,y){typeof g=="string"&&(g=r.from(g,y)),this.end();var v=this._hash.digest();return l(g,v,p,this._signType,this._tag)},t.exports={Sign:h,Verify:f,createSign:h,createVerify:f}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("create-hmac"),s=e("browserify-rsa"),o=e("elliptic").ec,a=e("bn.js"),l=e("parse-asn1"),c=e("./curves.json");function u(p,g,y,v){if((p=r.from(p.toArray())).length<g.byteLength()){var S=r.alloc(g.byteLength()-p.length);p=r.concat([S,p])}var k=y.length,M=function(j,B){j=(j=d(j,B)).mod(B);var U=r.from(j.toArray());if(U.length<B.byteLength()){var V=r.alloc(B.byteLength()-U.length);U=r.concat([V,U])}return U}(y,g),z=r.alloc(k);z.fill(1);var F=r.alloc(k);return F=i(v,F).update(z).update(r.from([0])).update(p).update(M).digest(),z=i(v,F).update(z).digest(),{k:F=i(v,F).update(z).update(r.from([1])).update(p).update(M).digest(),v:z=i(v,F).update(z).digest()}}function d(p,g){var y=new a(p),v=(p.length<<3)-g.bitLength();return v>0&&y.ishrn(v),y}function h(p,g,y){var v,S;do{for(v=r.alloc(0);8*v.length<p.bitLength();)g.v=i(y,g.k).update(g.v).digest(),v=r.concat([v,g.v]);S=d(v,p),g.k=i(y,g.k).update(g.v).update(r.from([0])).digest(),g.v=i(y,g.k).update(g.v).digest()}while(S.cmp(p)!==-1);return S}function f(p,g,y,v){return p.toRed(a.mont(y)).redPow(g).fromRed().mod(v)}t.exports=function(p,g,y,v,S){var k=l(g);if(k.curve){if(v!=="ecdsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");return function(j,B){var U=c[B.curve.join(".")];if(!U)throw new Error("unknown curve "+B.curve.join("."));var V=new o(U).keyFromPrivate(B.privateKey).sign(j);return r.from(V.toDER())}(p,k)}if(k.type==="dsa"){if(v!=="dsa")throw new Error("wrong private key type");return function(j,B,U){for(var V,E=B.params.priv_key,C=B.params.p,R=B.params.q,m=B.params.g,b=new a(0),w=d(j,R).mod(R),_=!1,x=u(E,R,j,U);_===!1;)V=h(R,x,U),b=f(m,V,C,R),(_=V.invm(R).imul(w.add(E.mul(b))).mod(R)).cmpn(0)===0&&(_=!1,b=new a(0));return function(I,O){I=I.toArray(),O=O.toArray(),128&I[0]&&(I=[0].concat(I)),128&O[0]&&(O=[0].concat(O));var $=[48,I.length+O.length+4,2,I.length];return $=$.concat(I,[2,O.length],O),r.from($)}(b,_)}(p,k,y)}if(v!=="rsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");p=r.concat([S,p]);for(var M=k.modulus.byteLength(),z=[0,1];p.length+z.length+1<M;)z.push(255);z.push(0);for(var F=-1;++F<p.length;)z.push(p[F]);return s(z,k)},t.exports.getKey=u,t.exports.makeKey=h},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("bn.js"),s=e("elliptic").ec,o=e("parse-asn1"),a=e("./curves.json");function l(c,u){if(c.cmpn(0)<=0)throw new Error("invalid sig");if(c.cmp(u)>=u)throw new Error("invalid sig")}t.exports=function(c,u,d,h,f){var p=o(d);if(p.type==="ec"){if(h!=="ecdsa"&&h!=="ecdsa/rsa")throw new Error("wrong public key type");return function(z,F,j){var B=a[j.data.algorithm.curve.join(".")];if(!B)throw new Error("unknown curve "+j.data.algorithm.curve.join("."));var U=new s(B),V=j.data.subjectPrivateKey.data;return U.verify(F,z,V)}(c,u,p)}if(p.type==="dsa"){if(h!=="dsa")throw new Error("wrong public key type");return function(z,F,j){var B=j.data.p,U=j.data.q,V=j.data.g,E=j.data.pub_key,C=o.signature.decode(z,"der"),R=C.s,m=C.r;l(R,U),l(m,U);var b=i.mont(B),w=R.invm(U);return V.toRed(b).redPow(new i(F).mul(w).mod(U)).fromRed().mul(E.toRed(b).redPow(m.mul(w).mod(U)).fromRed()).mod(B).mod(U).cmp(m)===0}(c,u,p)}if(h!=="rsa"&&h!=="ecdsa/rsa")throw new Error("wrong public key type");u=r.concat([f,u]);for(var g=p.modulus.byteLength(),y=[1],v=0;u.length+y.length+2<g;)y.push(255),v++;y.push(0);for(var S=-1;++S<u.length;)y.push(u[S]);y=r.from(y);var k=i.mont(p.modulus);c=(c=new i(c).toRed(k)).redPow(new i(p.publicExponent)),c=r.from(c.fromRed().toArray());var M=v<8?1:0;for(g=Math.min(c.length,y.length),c.length!==y.length&&(M=1),S=-1;++S<g;)M|=c[S]^y[S];return M===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,t,n){},{}],217:[function(e,t,n){"use strict";var r=e("buffer"),i=r.Buffer;function s(a,l){for(var c in a)l[c]=a[c]}function o(a,l,c){return i(a,l,c)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,n),n.Buffer=o),s(i,o),o.from=function(a,l,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,l,c)},o.alloc=function(a,l,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=i(a);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:220}],218:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(p){var g;switch(this.encoding=function(y){var v=function(S){if(!S)return"utf8";for(var k;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(k)return;S=(""+S).toLowerCase(),k=!0}}(y);if(typeof v!="string"&&(r.isEncoding===i||!i(y)))throw new Error("Unknown encoding: "+y);return v||y}(p),this.encoding){case"utf16le":this.text=l,this.end=c,g=4;break;case"utf8":this.fillLast=a,g=4;break;case"base64":this.text=u,this.end=d,g=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(g)}function o(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function a(p){var g=this.lastTotal-this.lastNeed,y=function(v,S,k){if((192&S[0])!=128)return v.lastNeed=0,"\uFFFD";if(v.lastNeed>1&&S.length>1){if((192&S[1])!=128)return v.lastNeed=1,"\uFFFD";if(v.lastNeed>2&&S.length>2&&(192&S[2])!=128)return v.lastNeed=2,"\uFFFD"}}(this,p);return y!==void 0?y:this.lastNeed<=p.length?(p.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,g,0,p.length),void(this.lastNeed-=p.length))}function l(p,g){if((p.length-g)%2==0){var y=p.toString("utf16le",g);if(y){var v=y.charCodeAt(y.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",g,p.length-1)}function c(p){var g=p&&p.length?this.write(p):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,y)}return g}function u(p,g){var y=(p.length-g)%3;return y===0?p.toString("base64",g):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",g,p.length-y))}function d(p){var g=p&&p.length?this.write(p):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function h(p){return p.toString(this.encoding)}function f(p){return p&&p.length?this.write(p):""}n.StringDecoder=s,s.prototype.write=function(p){if(p.length===0)return"";var g,y;if(this.lastNeed){if((g=this.fillLast(p))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<p.length?g?g+this.text(p,y):this.text(p,y):g||""},s.prototype.end=function(p){var g=p&&p.length?this.write(p):"";return this.lastNeed?g+"\uFFFD":g},s.prototype.text=function(p,g){var y=function(S,k,M){var z=k.length-1;if(z<M)return 0;var F=o(k[z]);return F>=0?(F>0&&(S.lastNeed=F-1),F):--z<M||F===-2?0:(F=o(k[z]))>=0?(F>0&&(S.lastNeed=F-2),F):--z<M||F===-2?0:(F=o(k[z]))>=0?(F>0&&(F===2?F=0:S.lastNeed=F-3),F):0}(this,p,g);if(!this.lastNeed)return p.toString("utf8",g);this.lastTotal=y;var v=p.length-(y-this.lastNeed);return p.copy(this.lastChar,0,v),p.toString("utf8",g,v)},s.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(e,t,n){(function(r){(function(){"use strict";t.exports=function(i,s){for(var o=Math.min(i.length,s.length),a=new r(o),l=0;l<o;++l)a[l]=i[l]^s[l];return a}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,t,n){(function(r){(function(){"use strict";var i=e("base64-js"),s=e("ieee754");n.Buffer=a,n.SlowBuffer=function(A){return+A!=A&&(A=0),a.alloc(+A)},n.INSPECT_MAX_BYTES=50;function o(A){if(A>2147483647)throw new RangeError('The value "'+A+'" is invalid for option "size"');var T=new Uint8Array(A);return T.__proto__=a.prototype,T}function a(A,T,H){if(typeof A=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(A)}return l(A,T,H)}function l(A,T,H){if(typeof A=="string")return function(J,ne){if(typeof ne=="string"&&ne!==""||(ne="utf8"),!a.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);var ge=0|f(J,ne),ye=o(ge),K=ye.write(J,ne);return K!==ge&&(ye=ye.slice(0,K)),ye}(A,T);if(ArrayBuffer.isView(A))return d(A);if(A==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(D(A,ArrayBuffer)||A&&D(A.buffer,ArrayBuffer))return function(J,ne,ge){if(ne<0||J.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<ne+(ge||0))throw new RangeError('"length" is outside of buffer bounds');var ye;return ye=ne===void 0&&ge===void 0?new Uint8Array(J):ge===void 0?new Uint8Array(J,ne):new Uint8Array(J,ne,ge),ye.__proto__=a.prototype,ye}(A,T,H);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=A.valueOf&&A.valueOf();if(Z!=null&&Z!==A)return a.from(Z,T,H);var Q=function(J){if(a.isBuffer(J)){var ne=0|h(J.length),ge=o(ne);return ge.length===0||J.copy(ge,0,0,ne),ge}if(J.length!==void 0)return typeof J.length!="number"||W(J.length)?o(0):d(J);if(J.type==="Buffer"&&Array.isArray(J.data))return d(J.data)}(A);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),T,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function c(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function u(A){return c(A),o(A<0?0:0|h(A))}function d(A){for(var T=A.length<0?0:0|h(A.length),H=o(T),Z=0;Z<T;Z+=1)H[Z]=255&A[Z];return H}function h(A){if(A>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|A}function f(A,T){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||D(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);var H=A.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&H===0)return 0;for(var Q=!1;;)switch(T){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return $(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return P(A).length;default:if(Q)return Z?-1:$(A).length;T=(""+T).toLowerCase(),Q=!0}}function p(A,T,H){var Z=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0)<=(T>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return C(this,T,H);case"utf8":case"utf-8":return U(this,T,H);case"ascii":return V(this,T,H);case"latin1":case"binary":return E(this,T,H);case"base64":return B(this,T,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,T,H);default:if(Z)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),Z=!0}}function g(A,T,H){var Z=A[T];A[T]=A[H],A[H]=Z}function y(A,T,H,Z,Q){if(A.length===0)return-1;if(typeof H=="string"?(Z=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),W(H=+H)&&(H=Q?0:A.length-1),H<0&&(H=A.length+H),H>=A.length){if(Q)return-1;H=A.length-1}else if(H<0){if(!Q)return-1;H=0}if(typeof T=="string"&&(T=a.from(T,Z)),a.isBuffer(T))return T.length===0?-1:v(A,T,H,Z,Q);if(typeof T=="number")return T&=255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(A,T,H):Uint8Array.prototype.lastIndexOf.call(A,T,H):v(A,[T],H,Z,Q);throw new TypeError("val must be string, number or Buffer")}function v(A,T,H,Z,Q){var J,ne=1,ge=A.length,ye=T.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(A.length<2||T.length<2)return-1;ne=2,ge/=2,ye/=2,H/=2}function K(me,xe){return ne===1?me[xe]:me.readUInt16BE(xe*ne)}if(Q){var ce=-1;for(J=H;J<ge;J++)if(K(A,J)===K(T,ce===-1?0:J-ce)){if(ce===-1&&(ce=J),J-ce+1===ye)return ce*ne}else ce!==-1&&(J-=J-ce),ce=-1}else for(H+ye>ge&&(H=ge-ye),J=H;J>=0;J--){for(var ue=!0,ve=0;ve<ye;ve++)if(K(A,J+ve)!==K(T,ve)){ue=!1;break}if(ue)return J}return-1}function S(A,T,H,Z){H=Number(H)||0;var Q=A.length-H;Z?(Z=Number(Z))>Q&&(Z=Q):Z=Q;var J=T.length;Z>J/2&&(Z=J/2);for(var ne=0;ne<Z;++ne){var ge=parseInt(T.substr(2*ne,2),16);if(W(ge))return ne;A[H+ne]=ge}return ne}function k(A,T,H,Z){return G($(T,A.length-H),A,H,Z)}function M(A,T,H,Z){return G(function(Q){for(var J=[],ne=0;ne<Q.length;++ne)J.push(255&Q.charCodeAt(ne));return J}(T),A,H,Z)}function z(A,T,H,Z){return M(A,T,H,Z)}function F(A,T,H,Z){return G(P(T),A,H,Z)}function j(A,T,H,Z){return G(function(Q,J){for(var ne,ge,ye,K=[],ce=0;ce<Q.length&&!((J-=2)<0);++ce)ne=Q.charCodeAt(ce),ge=ne>>8,ye=ne%256,K.push(ye),K.push(ge);return K}(T,A.length-H),A,H,Z)}function B(A,T,H){return T===0&&H===A.length?i.fromByteArray(A):i.fromByteArray(A.slice(T,H))}function U(A,T,H){H=Math.min(A.length,H);for(var Z=[],Q=T;Q<H;){var J,ne,ge,ye,K=A[Q],ce=null,ue=K>239?4:K>223?3:K>191?2:1;if(Q+ue<=H)switch(ue){case 1:K<128&&(ce=K);break;case 2:(192&(J=A[Q+1]))==128&&(ye=(31&K)<<6|63&J)>127&&(ce=ye);break;case 3:J=A[Q+1],ne=A[Q+2],(192&J)==128&&(192&ne)==128&&(ye=(15&K)<<12|(63&J)<<6|63&ne)>2047&&(ye<55296||ye>57343)&&(ce=ye);break;case 4:J=A[Q+1],ne=A[Q+2],ge=A[Q+3],(192&J)==128&&(192&ne)==128&&(192&ge)==128&&(ye=(15&K)<<18|(63&J)<<12|(63&ne)<<6|63&ge)>65535&&ye<1114112&&(ce=ye)}ce===null?(ce=65533,ue=1):ce>65535&&(ce-=65536,Z.push(ce>>>10&1023|55296),ce=56320|1023&ce),Z.push(ce),Q+=ue}return function(ve){var me=ve.length;if(me<=4096)return String.fromCharCode.apply(String,ve);for(var xe="",we=0;we<me;)xe+=String.fromCharCode.apply(String,ve.slice(we,we+=4096));return xe}(Z)}n.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var A=new Uint8Array(1);return A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},A.foo()===42}catch{return!1}}(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(A,T,H){return l(A,T,H)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(A,T,H){return function(Z,Q,J){return c(Z),Z<=0?o(Z):Q!==void 0?typeof J=="string"?o(Z).fill(Q,J):o(Z).fill(Q):o(Z)}(A,T,H)},a.allocUnsafe=function(A){return u(A)},a.allocUnsafeSlow=function(A){return u(A)},a.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==a.prototype},a.compare=function(A,T){if(D(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),D(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),!a.isBuffer(A)||!a.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===T)return 0;for(var H=A.length,Z=T.length,Q=0,J=Math.min(H,Z);Q<J;++Q)if(A[Q]!==T[Q]){H=A[Q],Z=T[Q];break}return H<Z?-1:Z<H?1:0},a.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(A,T){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return a.alloc(0);var H;if(T===void 0)for(T=0,H=0;H<A.length;++H)T+=A[H].length;var Z=a.allocUnsafe(T),Q=0;for(H=0;H<A.length;++H){var J=A[H];if(D(J,Uint8Array)&&(J=a.from(J)),!a.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');J.copy(Z,Q),Q+=J.length}return Z},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<A;T+=2)g(this,T,T+1);return this},a.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<A;T+=4)g(this,T,T+3),g(this,T+1,T+2);return this},a.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<A;T+=8)g(this,T,T+7),g(this,T+1,T+6),g(this,T+2,T+5),g(this,T+3,T+4);return this},a.prototype.toString=function(){var A=this.length;return A===0?"":arguments.length===0?U(this,0,A):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(A){if(!a.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||a.compare(this,A)===0},a.prototype.inspect=function(){var A="",T=n.INSPECT_MAX_BYTES;return A=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(A+=" ... "),"<Buffer "+A+">"},a.prototype.compare=function(A,T,H,Z,Q){if(D(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(T===void 0&&(T=0),H===void 0&&(H=A?A.length:0),Z===void 0&&(Z=0),Q===void 0&&(Q=this.length),T<0||H>A.length||Z<0||Q>this.length)throw new RangeError("out of range index");if(Z>=Q&&T>=H)return 0;if(Z>=Q)return-1;if(T>=H)return 1;if(this===A)return 0;for(var J=(Q>>>=0)-(Z>>>=0),ne=(H>>>=0)-(T>>>=0),ge=Math.min(J,ne),ye=this.slice(Z,Q),K=A.slice(T,H),ce=0;ce<ge;++ce)if(ye[ce]!==K[ce]){J=ye[ce],ne=K[ce];break}return J<ne?-1:ne<J?1:0},a.prototype.includes=function(A,T,H){return this.indexOf(A,T,H)!==-1},a.prototype.indexOf=function(A,T,H){return y(this,A,T,H,!0)},a.prototype.lastIndexOf=function(A,T,H){return y(this,A,T,H,!1)},a.prototype.write=function(A,T,H,Z){if(T===void 0)Z="utf8",H=this.length,T=0;else if(H===void 0&&typeof T=="string")Z=T,H=this.length,T=0;else{if(!isFinite(T))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");T>>>=0,isFinite(H)?(H>>>=0,Z===void 0&&(Z="utf8")):(Z=H,H=void 0)}var Q=this.length-T;if((H===void 0||H>Q)&&(H=Q),A.length>0&&(H<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var J=!1;;)switch(Z){case"hex":return S(this,A,T,H);case"utf8":case"utf-8":return k(this,A,T,H);case"ascii":return M(this,A,T,H);case"latin1":case"binary":return z(this,A,T,H);case"base64":return F(this,A,T,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,A,T,H);default:if(J)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),J=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(A,T,H){var Z="";H=Math.min(A.length,H);for(var Q=T;Q<H;++Q)Z+=String.fromCharCode(127&A[Q]);return Z}function E(A,T,H){var Z="";H=Math.min(A.length,H);for(var Q=T;Q<H;++Q)Z+=String.fromCharCode(A[Q]);return Z}function C(A,T,H){var Z=A.length;(!T||T<0)&&(T=0),(!H||H<0||H>Z)&&(H=Z);for(var Q="",J=T;J<H;++J)Q+=O(A[J]);return Q}function R(A,T,H){for(var Z=A.slice(T,H),Q="",J=0;J<Z.length;J+=2)Q+=String.fromCharCode(Z[J]+256*Z[J+1]);return Q}function m(A,T,H){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+T>H)throw new RangeError("Trying to access beyond buffer length")}function b(A,T,H,Z,Q,J){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>Q||T<J)throw new RangeError('"value" argument is out of bounds');if(H+Z>A.length)throw new RangeError("Index out of range")}function w(A,T,H,Z,Q,J){if(H+Z>A.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function _(A,T,H,Z,Q){return T=+T,H>>>=0,Q||w(A,0,H,4),s.write(A,T,H,Z,23,4),H+4}function x(A,T,H,Z,Q){return T=+T,H>>>=0,Q||w(A,0,H,8),s.write(A,T,H,Z,52,8),H+8}a.prototype.slice=function(A,T){var H=this.length;(A=~~A)<0?(A+=H)<0&&(A=0):A>H&&(A=H),(T=T===void 0?H:~~T)<0?(T+=H)<0&&(T=0):T>H&&(T=H),T<A&&(T=A);var Z=this.subarray(A,T);return Z.__proto__=a.prototype,Z},a.prototype.readUIntLE=function(A,T,H){A>>>=0,T>>>=0,H||m(A,T,this.length);for(var Z=this[A],Q=1,J=0;++J<T&&(Q*=256);)Z+=this[A+J]*Q;return Z},a.prototype.readUIntBE=function(A,T,H){A>>>=0,T>>>=0,H||m(A,T,this.length);for(var Z=this[A+--T],Q=1;T>0&&(Q*=256);)Z+=this[A+--T]*Q;return Z},a.prototype.readUInt8=function(A,T){return A>>>=0,T||m(A,1,this.length),this[A]},a.prototype.readUInt16LE=function(A,T){return A>>>=0,T||m(A,2,this.length),this[A]|this[A+1]<<8},a.prototype.readUInt16BE=function(A,T){return A>>>=0,T||m(A,2,this.length),this[A]<<8|this[A+1]},a.prototype.readUInt32LE=function(A,T){return A>>>=0,T||m(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},a.prototype.readUInt32BE=function(A,T){return A>>>=0,T||m(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},a.prototype.readIntLE=function(A,T,H){A>>>=0,T>>>=0,H||m(A,T,this.length);for(var Z=this[A],Q=1,J=0;++J<T&&(Q*=256);)Z+=this[A+J]*Q;return Z>=(Q*=128)&&(Z-=Math.pow(2,8*T)),Z},a.prototype.readIntBE=function(A,T,H){A>>>=0,T>>>=0,H||m(A,T,this.length);for(var Z=T,Q=1,J=this[A+--Z];Z>0&&(Q*=256);)J+=this[A+--Z]*Q;return J>=(Q*=128)&&(J-=Math.pow(2,8*T)),J},a.prototype.readInt8=function(A,T){return A>>>=0,T||m(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},a.prototype.readInt16LE=function(A,T){A>>>=0,T||m(A,2,this.length);var H=this[A]|this[A+1]<<8;return 32768&H?4294901760|H:H},a.prototype.readInt16BE=function(A,T){A>>>=0,T||m(A,2,this.length);var H=this[A+1]|this[A]<<8;return 32768&H?4294901760|H:H},a.prototype.readInt32LE=function(A,T){return A>>>=0,T||m(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},a.prototype.readInt32BE=function(A,T){return A>>>=0,T||m(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},a.prototype.readFloatLE=function(A,T){return A>>>=0,T||m(A,4,this.length),s.read(this,A,!0,23,4)},a.prototype.readFloatBE=function(A,T){return A>>>=0,T||m(A,4,this.length),s.read(this,A,!1,23,4)},a.prototype.readDoubleLE=function(A,T){return A>>>=0,T||m(A,8,this.length),s.read(this,A,!0,52,8)},a.prototype.readDoubleBE=function(A,T){return A>>>=0,T||m(A,8,this.length),s.read(this,A,!1,52,8)},a.prototype.writeUIntLE=function(A,T,H,Z){A=+A,T>>>=0,H>>>=0,Z||b(this,A,T,H,Math.pow(2,8*H)-1,0);var Q=1,J=0;for(this[T]=255&A;++J<H&&(Q*=256);)this[T+J]=A/Q&255;return T+H},a.prototype.writeUIntBE=function(A,T,H,Z){A=+A,T>>>=0,H>>>=0,Z||b(this,A,T,H,Math.pow(2,8*H)-1,0);var Q=H-1,J=1;for(this[T+Q]=255&A;--Q>=0&&(J*=256);)this[T+Q]=A/J&255;return T+H},a.prototype.writeUInt8=function(A,T,H){return A=+A,T>>>=0,H||b(this,A,T,1,255,0),this[T]=255&A,T+1},a.prototype.writeUInt16LE=function(A,T,H){return A=+A,T>>>=0,H||b(this,A,T,2,65535,0),this[T]=255&A,this[T+1]=A>>>8,T+2},a.prototype.writeUInt16BE=function(A,T,H){return A=+A,T>>>=0,H||b(this,A,T,2,65535,0),this[T]=A>>>8,this[T+1]=255&A,T+2},a.prototype.writeUInt32LE=function(A,T,H){return A=+A,T>>>=0,H||b(this,A,T,4,4294967295,0),this[T+3]=A>>>24,this[T+2]=A>>>16,this[T+1]=A>>>8,this[T]=255&A,T+4},a.prototype.writeUInt32BE=function(A,T,H){return A=+A,T>>>=0,H||b(this,A,T,4,4294967295,0),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=255&A,T+4},a.prototype.writeIntLE=function(A,T,H,Z){if(A=+A,T>>>=0,!Z){var Q=Math.pow(2,8*H-1);b(this,A,T,H,Q-1,-Q)}var J=0,ne=1,ge=0;for(this[T]=255&A;++J<H&&(ne*=256);)A<0&&ge===0&&this[T+J-1]!==0&&(ge=1),this[T+J]=(A/ne>>0)-ge&255;return T+H},a.prototype.writeIntBE=function(A,T,H,Z){if(A=+A,T>>>=0,!Z){var Q=Math.pow(2,8*H-1);b(this,A,T,H,Q-1,-Q)}var J=H-1,ne=1,ge=0;for(this[T+J]=255&A;--J>=0&&(ne*=256);)A<0&&ge===0&&this[T+J+1]!==0&&(ge=1),this[T+J]=(A/ne>>0)-ge&255;return T+H},a.prototype.writeInt8=function(A,T,H){return A=+A,T>>>=0,H||b(this,A,T,1,127,-128),A<0&&(A=255+A+1),this[T]=255&A,T+1},a.prototype.writeInt16LE=function(A,T,H){return A=+A,T>>>=0,H||b(this,A,T,2,32767,-32768),this[T]=255&A,this[T+1]=A>>>8,T+2},a.prototype.writeInt16BE=function(A,T,H){return A=+A,T>>>=0,H||b(this,A,T,2,32767,-32768),this[T]=A>>>8,this[T+1]=255&A,T+2},a.prototype.writeInt32LE=function(A,T,H){return A=+A,T>>>=0,H||b(this,A,T,4,2147483647,-2147483648),this[T]=255&A,this[T+1]=A>>>8,this[T+2]=A>>>16,this[T+3]=A>>>24,T+4},a.prototype.writeInt32BE=function(A,T,H){return A=+A,T>>>=0,H||b(this,A,T,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=255&A,T+4},a.prototype.writeFloatLE=function(A,T,H){return _(this,A,T,!0,H)},a.prototype.writeFloatBE=function(A,T,H){return _(this,A,T,!1,H)},a.prototype.writeDoubleLE=function(A,T,H){return x(this,A,T,!0,H)},a.prototype.writeDoubleBE=function(A,T,H){return x(this,A,T,!1,H)},a.prototype.copy=function(A,T,H,Z){if(!a.isBuffer(A))throw new TypeError("argument should be a Buffer");if(H||(H=0),Z||Z===0||(Z=this.length),T>=A.length&&(T=A.length),T||(T=0),Z>0&&Z<H&&(Z=H),Z===H||A.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),A.length-T<Z-H&&(Z=A.length-T+H);var Q=Z-H;if(this===A&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(T,H,Z);else if(this===A&&H<T&&T<Z)for(var J=Q-1;J>=0;--J)A[J+T]=this[J+H];else Uint8Array.prototype.set.call(A,this.subarray(H,Z),T);return Q},a.prototype.fill=function(A,T,H,Z){if(typeof A=="string"){if(typeof T=="string"?(Z=T,T=0,H=this.length):typeof H=="string"&&(Z=H,H=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(A.length===1){var Q=A.charCodeAt(0);(Z==="utf8"&&Q<128||Z==="latin1")&&(A=Q)}}else typeof A=="number"&&(A&=255);if(T<0||this.length<T||this.length<H)throw new RangeError("Out of range index");if(H<=T)return this;var J;if(T>>>=0,H=H===void 0?this.length:H>>>0,A||(A=0),typeof A=="number")for(J=T;J<H;++J)this[J]=A;else{var ne=a.isBuffer(A)?A:a.from(A,Z),ge=ne.length;if(ge===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(J=0;J<H-T;++J)this[J+T]=ne[J%ge]}return this};var I=/[^+/0-9A-Za-z-_]/g;function O(A){return A<16?"0"+A.toString(16):A.toString(16)}function $(A,T){var H;T=T||1/0;for(var Z=A.length,Q=null,J=[],ne=0;ne<Z;++ne){if((H=A.charCodeAt(ne))>55295&&H<57344){if(!Q){if(H>56319){(T-=3)>-1&&J.push(239,191,189);continue}if(ne+1===Z){(T-=3)>-1&&J.push(239,191,189);continue}Q=H;continue}if(H<56320){(T-=3)>-1&&J.push(239,191,189),Q=H;continue}H=65536+(Q-55296<<10|H-56320)}else Q&&(T-=3)>-1&&J.push(239,191,189);if(Q=null,H<128){if((T-=1)<0)break;J.push(H)}else if(H<2048){if((T-=2)<0)break;J.push(H>>6|192,63&H|128)}else if(H<65536){if((T-=3)<0)break;J.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;J.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return J}function P(A){return i.toByteArray(function(T){if((T=(T=T.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;T.length%4!=0;)T+="=";return T}(A))}function G(A,T,H,Z){for(var Q=0;Q<Z&&!(Q+H>=T.length||Q>=A.length);++Q)T[Q+H]=A[Q];return Q}function D(A,T){return A instanceof T||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===T.name}function W(A){return A!=A}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("stream").Transform,s=e("string_decoder").StringDecoder;function o(a){i.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(o,i),o.prototype.update=function(a,l,c){typeof a=="string"&&(a=r.from(a,l));var u=this._update(a);return this.hashMode?this:(c&&(u=this._toString(u,c)),u)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(a,l,c){var u;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(d){u=d}finally{c(u)}},o.prototype._flush=function(a){var l;try{this.push(this.__final())}catch(c){l=c}a(l)},o.prototype._finalOrDigest=function(a){var l=this.__final()||r.alloc(0);return a&&(l=this._toString(l,a,!0)),l},o.prototype._toString=function(a,l,c){if(this._decoder||(this._decoder=new s(l),this._encoding=l),this._encoding!==l)throw new Error("can't switch encodings");var u=this._decoder.write(a);return c&&(u+=this._decoder.end()),u},t.exports=o},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,t,n){"use strict";var r=e("../internals/is-callable"),i=e("../internals/try-to-string"),s=TypeError;t.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,t,n){"use strict";var r=e("../internals/is-constructor"),i=e("../internals/try-to-string"),s=TypeError;t.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,t,n){"use strict";var r=e("../internals/is-callable"),i=String,s=TypeError;t.exports=function(o){if(typeof o=="object"||r(o))return o;throw new s("Can't set "+i(o)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,t,n){"use strict";var r=e("../internals/well-known-symbol"),i=e("../internals/object-create"),s=e("../internals/object-define-property").f,o=r("unscopables"),a=Array.prototype;a[o]===void 0&&s(a,o,{configurable:!0,value:i(null)}),t.exports=function(l){a[o][l]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,t,n){"use strict";var r=e("../internals/object-is-prototype-of"),i=TypeError;t.exports=function(s,o){if(r(o,s))return s;throw new i("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,t,n){"use strict";var r=e("../internals/is-object"),i=String,s=TypeError;t.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,t,n){"use strict";var r=e("../internals/to-indexed-object"),i=e("../internals/to-absolute-index"),s=e("../internals/length-of-array-like"),o=function(a){return function(l,c,u){var d,h=r(l),f=s(h),p=i(u,f);if(a&&c!=c){for(;f>p;)if((d=h[p++])!=d)return!0}else for(;f>p;p++)if((a||p in h)&&h[p]===c)return a||p||0;return!a&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,t,n){"use strict";var r=e("../internals/function-bind-context"),i=e("../internals/function-uncurry-this"),s=e("../internals/indexed-object"),o=e("../internals/to-object"),a=e("../internals/length-of-array-like"),l=e("../internals/array-species-create"),c=i([].push),u=function(d){var h=d===1,f=d===2,p=d===3,g=d===4,y=d===6,v=d===7,S=d===5||y;return function(k,M,z,F){for(var j,B,U=o(k),V=s(U),E=r(M,z),C=a(V),R=0,m=F||l,b=h?m(k,C):f||v?m(k,0):void 0;C>R;R++)if((S||R in V)&&(B=E(j=V[R],R,U),d))if(h)b[R]=B;else if(B)switch(d){case 3:return!0;case 5:return j;case 6:return R;case 2:c(b,j)}else switch(d){case 4:return!1;case 7:c(b,j)}return y?-1:p||g?g:b}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,t,n){"use strict";var r=e("../internals/to-absolute-index"),i=e("../internals/length-of-array-like"),s=e("../internals/create-property"),o=Array,a=Math.max;t.exports=function(l,c,u){for(var d=i(l),h=r(c,d),f=r(u===void 0?d:u,d),p=o(a(f-h,0)),g=0;h<f;h++,g++)s(p,g,l[h]);return p.length=g,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this");t.exports=r([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,t,n){"use strict";var r=e("../internals/is-array"),i=e("../internals/is-constructor"),s=e("../internals/is-object"),o=e("../internals/well-known-symbol")("species"),a=Array;t.exports=function(l){var c;return r(l)&&(c=l.constructor,(i(c)&&(c===a||r(c.prototype))||s(c)&&(c=c[o])===null)&&(c=void 0)),c===void 0?a:c}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,t,n){"use strict";var r=e("../internals/array-species-constructor");t.exports=function(i,s){return new(r(i))(s===0?0:s)}},{"../internals/array-species-constructor":232}],234:[function(e,t,n){"use strict";var r=e("../internals/well-known-symbol")("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,function(){throw 2})}catch{}t.exports=function(a,l){try{if(!l&&!i)return!1}catch{return!1}var c=!1;try{var u={};u[r]=function(){return{next:function(){return{done:c=!0}}}},a(u)}catch{}return c}},{"../internals/well-known-symbol":357}],235:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=r({}.toString),s=r("".slice);t.exports=function(o){return s(i(o),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,t,n){"use strict";var r=e("../internals/to-string-tag-support"),i=e("../internals/is-callable"),s=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("toStringTag"),a=Object,l=s(function(){return arguments}())==="Arguments";t.exports=r?s:function(c){var u,d,h;return c===void 0?"Undefined":c===null?"Null":typeof(d=function(f,p){try{return f[p]}catch{}}(u=a(c),o))=="string"?d:l?s(u):(h=s(u))==="Object"&&i(u.callee)?"Arguments":h}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,t,n){"use strict";var r=e("../internals/has-own-property"),i=e("../internals/own-keys"),s=e("../internals/object-get-own-property-descriptor"),o=e("../internals/object-define-property");t.exports=function(a,l,c){for(var u=i(l),d=o.f,h=s.f,f=0;f<u.length;f++){var p=u[f];r(a,p)||c&&r(c,p)||d(a,p,h(l,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,t,n){"use strict";var r=e("../internals/well-known-symbol")("match");t.exports=function(i){var s=/./;try{"/./"[i](s)}catch{try{return s[r]=!1,"/./"[i](s)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,t,n){"use strict";var r=e("../internals/fails");t.exports=!r(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},{"../internals/fails":260}],240:[function(e,t,n){"use strict";t.exports=function(r,i){return{value:r,done:i}}},{}],241:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/object-define-property"),s=e("../internals/create-property-descriptor");t.exports=r?function(o,a,l){return i.f(o,a,s(1,l))}:function(o,a,l){return o[a]=l,o}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,t,n){"use strict";t.exports=function(r,i){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:i}}},{}],243:[function(e,t,n){"use strict";var r=e("../internals/to-property-key"),i=e("../internals/object-define-property"),s=e("../internals/create-property-descriptor");t.exports=function(o,a,l){var c=r(a);c in o?i.f(o,c,s(0,l)):o[c]=l}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,t,n){"use strict";var r=e("../internals/make-built-in"),i=e("../internals/object-define-property");t.exports=function(s,o,a){return a.get&&r(a.get,o,{getter:!0}),a.set&&r(a.set,o,{setter:!0}),i.f(s,o,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,t,n){"use strict";var r=e("../internals/is-callable"),i=e("../internals/object-define-property"),s=e("../internals/make-built-in"),o=e("../internals/define-global-property");t.exports=function(a,l,c,u){u||(u={});var d=u.enumerable,h=u.name!==void 0?u.name:l;if(r(c)&&s(c,h,u),u.global)d?a[l]=c:o(l,c);else{try{u.unsafe?a[l]&&(d=!0):delete a[l]}catch{}d?a[l]=c:i.f(a,l,{value:c,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,t,n){"use strict";var r=e("../internals/global"),i=Object.defineProperty;t.exports=function(s,o){try{i(r,s,{value:o,configurable:!0,writable:!0})}catch{r[s]=o}return o}},{"../internals/global":274}],247:[function(e,t,n){"use strict";var r=e("../internals/fails");t.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,t,n){"use strict";var r=typeof document=="object"&&document.all,i=r===void 0&&r!==void 0;t.exports={all:r,IS_HTMLDDA:i}},{}],249:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/is-object"),s=r.document,o=i(s)&&i(s.createElement);t.exports=function(a){return o?s.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,t,n){"use strict";var r=e("../internals/engine-is-deno"),i=e("../internals/engine-is-node");t.exports=!r&&!i&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,t,n){"use strict";t.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,t,n){"use strict";var r=e("../internals/engine-user-agent");t.exports=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,t,n){"use strict";var r=e("../internals/engine-user-agent");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},{"../internals/engine-user-agent":256}],254:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/classof-raw");t.exports=i(r.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,t,n){"use strict";var r=e("../internals/engine-user-agent");t.exports=/web0s(?!.*chrome)/i.test(r)},{"../internals/engine-user-agent":256}],256:[function(e,t,n){"use strict";t.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,t,n){"use strict";var r,i,s=e("../internals/global"),o=e("../internals/engine-user-agent"),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,t,n){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,s=e("../internals/create-non-enumerable-property"),o=e("../internals/define-built-in"),a=e("../internals/define-global-property"),l=e("../internals/copy-constructor-properties"),c=e("../internals/is-forced");t.exports=function(u,d){var h,f,p,g,y,v=u.target,S=u.global,k=u.stat;if(h=S?r:k?r[v]||a(v,{}):(r[v]||{}).prototype)for(f in d){if(g=d[f],p=u.dontCallGetSet?(y=i(h,f))&&y.value:h[f],!c(S?f:v+(k?".":"#")+f,u.forced)&&p!==void 0){if(typeof g==typeof p)continue;l(g,p)}(u.sham||p&&p.sham)&&s(g,"sham",!0),o(h,f,g,u)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,t,n){"use strict";t.exports=function(r){try{return!!r()}catch{return!0}}},{}],261:[function(e,t,n){"use strict";var r=e("../internals/function-bind-native"),i=Function.prototype,s=i.apply,o=i.call;t.exports=typeof Reflect=="object"&&Reflect.apply||(r?o.bind(s):function(){return o.apply(s,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this-clause"),i=e("../internals/a-callable"),s=e("../internals/function-bind-native"),o=r(r.bind);t.exports=function(a,l){return i(a),l===void 0?a:s?o(a,l):function(){return a.apply(l,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,t,n){"use strict";var r=e("../internals/fails");t.exports=!r(function(){var i=function(){}.bind();return typeof i!="function"||i.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,t,n){"use strict";var r=e("../internals/function-bind-native"),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/has-own-property"),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),l=a&&function(){}.name==="something",c=a&&(!r||r&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/a-callable");t.exports=function(s,o,a){try{return r(i(Object.getOwnPropertyDescriptor(s,o)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,t,n){"use strict";var r=e("../internals/classof-raw"),i=e("../internals/function-uncurry-this");t.exports=function(s){if(r(s)==="Function")return i(s)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,t,n){"use strict";var r=e("../internals/function-bind-native"),i=Function.prototype,s=i.call,o=r&&i.bind.bind(s,s);t.exports=r?o:function(a){return function(){return s.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/is-callable"),s=function(o){return i(o)?o:void 0};t.exports=function(o,a){return arguments.length<2?s(r[o]):r[o]&&r[o][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,t,n){"use strict";var r=e("../internals/classof"),i=e("../internals/get-method"),s=e("../internals/is-null-or-undefined"),o=e("../internals/iterators"),a=e("../internals/well-known-symbol")("iterator");t.exports=function(l){if(!s(l))return i(l,a)||i(l,"@@iterator")||o[r(l)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,t,n){"use strict";var r=e("../internals/function-call"),i=e("../internals/a-callable"),s=e("../internals/an-object"),o=e("../internals/try-to-string"),a=e("../internals/get-iterator-method"),l=TypeError;t.exports=function(c,u){var d=arguments.length<2?a(c):u;if(i(d))return s(r(d,c));throw new l(o(c)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/is-array"),s=e("../internals/is-callable"),o=e("../internals/classof-raw"),a=e("../internals/to-string"),l=r([].push);t.exports=function(c){if(s(c))return c;if(i(c)){for(var u=c.length,d=[],h=0;h<u;h++){var f=c[h];typeof f=="string"?l(d,f):typeof f!="number"&&o(f)!=="Number"&&o(f)!=="String"||l(d,a(f))}var p=d.length,g=!0;return function(y,v){if(g)return g=!1,v;if(i(this))return v;for(var S=0;S<p;S++)if(d[S]===y)return v}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,t,n){"use strict";var r=e("../internals/a-callable"),i=e("../internals/is-null-or-undefined");t.exports=function(s,o){var a=s[o];return i(a)?void 0:r(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,t,n){(function(r){(function(){"use strict";var i=function(s){return s&&s.Math===Math&&s};t.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof r=="object"&&r)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/to-object"),s=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(o,a){return s(i(o),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,t,n){"use strict";t.exports={}},{}],277:[function(e,t,n){"use strict";t.exports=function(r,i){try{arguments.length===1?console.error(r):console.error(r,i)}catch{}}},{}],278:[function(e,t,n){"use strict";var r=e("../internals/get-built-in");t.exports=r("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/fails"),s=e("../internals/document-create-element");t.exports=!r&&!i(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/fails"),s=e("../internals/classof-raw"),o=Object,a=r("".split);t.exports=i(function(){return!o("z").propertyIsEnumerable(0)})?function(l){return s(l)==="String"?a(l,""):o(l)}:o},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/is-callable"),s=e("../internals/shared-store"),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(a){return o(a)}),t.exports=s.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,t,n){"use strict";var r,i,s,o=e("../internals/weak-map-basic-detection"),a=e("../internals/global"),l=e("../internals/is-object"),c=e("../internals/create-non-enumerable-property"),u=e("../internals/has-own-property"),d=e("../internals/shared-store"),h=e("../internals/shared-key"),f=e("../internals/hidden-keys"),p=a.TypeError,g=a.WeakMap;if(o||d.state){var y=d.state||(d.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,r=function(S,k){if(y.has(S))throw new p("Object already initialized");return k.facade=S,y.set(S,k),k},i=function(S){return y.get(S)||{}},s=function(S){return y.has(S)}}else{var v=h("state");f[v]=!0,r=function(S,k){if(u(S,v))throw new p("Object already initialized");return k.facade=S,c(S,v,k),k},i=function(S){return u(S,v)?S[v]:{}},s=function(S){return u(S,v)}}t.exports={set:r,get:i,has:s,enforce:function(S){return s(S)?i(S):r(S,{})},getterFor:function(S){return function(k){var M;if(!l(k)||(M=i(k)).type!==S)throw new p("Incompatible receiver, "+S+" required");return M}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,t,n){"use strict";var r=e("../internals/well-known-symbol"),i=e("../internals/iterators"),s=r("iterator"),o=Array.prototype;t.exports=function(a){return a!==void 0&&(i.Array===a||o[s]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,t,n){"use strict";var r=e("../internals/classof-raw");t.exports=Array.isArray||function(i){return r(i)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,t,n){"use strict";var r=e("../internals/document-all"),i=r.all;t.exports=r.IS_HTMLDDA?function(s){return typeof s=="function"||s===i}:function(s){return typeof s=="function"}},{"../internals/document-all":248}],286:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/fails"),s=e("../internals/is-callable"),o=e("../internals/classof"),a=e("../internals/get-built-in"),l=e("../internals/inspect-source"),c=function(){},u=[],d=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=r(h.exec),p=!h.test(c),g=function(v){if(!s(v))return!1;try{return d(c,u,v),!0}catch{return!1}},y=function(v){if(!s(v))return!1;switch(o(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(h,l(v))}catch{return!0}};y.sham=!0,t.exports=!d||i(function(){var v;return g(g.call)||!g(Object)||!g(function(){v=!0})||v})?y:g},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,t,n){"use strict";var r=e("../internals/fails"),i=e("../internals/is-callable"),s=/#|\.prototype\./,o=function(d,h){var f=l[a(d)];return f===u||f!==c&&(i(h)?r(h):!!h)},a=o.normalize=function(d){return String(d).replace(s,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,t,n){"use strict";t.exports=function(r){return r==null}},{}],289:[function(e,t,n){"use strict";var r=e("../internals/is-callable"),i=e("../internals/document-all"),s=i.all;t.exports=i.IS_HTMLDDA?function(o){return typeof o=="object"?o!==null:r(o)||o===s}:function(o){return typeof o=="object"?o!==null:r(o)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,t,n){"use strict";t.exports=!1},{}],291:[function(e,t,n){"use strict";var r=e("../internals/is-object"),i=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("match");t.exports=function(o){var a;return r(o)&&((a=o[s])!==void 0?!!a:i(o)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,t,n){"use strict";var r=e("../internals/get-built-in"),i=e("../internals/is-callable"),s=e("../internals/object-is-prototype-of"),o=e("../internals/use-symbol-as-uid"),a=Object;t.exports=o?function(l){return typeof l=="symbol"}:function(l){var c=r("Symbol");return i(c)&&s(c.prototype,a(l))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,t,n){"use strict";var r=e("../internals/function-bind-context"),i=e("../internals/function-call"),s=e("../internals/an-object"),o=e("../internals/try-to-string"),a=e("../internals/is-array-iterator-method"),l=e("../internals/length-of-array-like"),c=e("../internals/object-is-prototype-of"),u=e("../internals/get-iterator"),d=e("../internals/get-iterator-method"),h=e("../internals/iterator-close"),f=TypeError,p=function(y,v){this.stopped=y,this.result=v},g=p.prototype;t.exports=function(y,v,S){var k,M,z,F,j,B,U,V=S&&S.that,E=!(!S||!S.AS_ENTRIES),C=!(!S||!S.IS_RECORD),R=!(!S||!S.IS_ITERATOR),m=!(!S||!S.INTERRUPTED),b=r(v,V),w=function(x){return k&&h(k,"normal",x),new p(!0,x)},_=function(x){return E?(s(x),m?b(x[0],x[1],w):b(x[0],x[1])):m?b(x,w):b(x)};if(C)k=y.iterator;else if(R)k=y;else{if(!(M=d(y)))throw new f(o(y)+" is not iterable");if(a(M)){for(z=0,F=l(y);F>z;z++)if((j=_(y[z]))&&c(g,j))return j;return new p(!1)}k=u(y,M)}for(B=C?y.next:k.next;!(U=i(B,k)).done;){try{j=_(U.value)}catch(x){h(k,"throw",x)}if(typeof j=="object"&&j&&c(g,j))return j}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,t,n){"use strict";var r=e("../internals/function-call"),i=e("../internals/an-object"),s=e("../internals/get-method");t.exports=function(o,a,l){var c,u;i(o);try{if(!(c=s(o,"return"))){if(a==="throw")throw l;return l}c=r(c,o)}catch(d){u=!0,c=d}if(a==="throw")throw l;if(u)throw c;return i(c),l}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,t,n){"use strict";var r=e("../internals/iterators-core").IteratorPrototype,i=e("../internals/object-create"),s=e("../internals/create-property-descriptor"),o=e("../internals/set-to-string-tag"),a=e("../internals/iterators"),l=function(){return this};t.exports=function(c,u,d,h){var f=u+" Iterator";return c.prototype=i(r,{next:s(+!h,d)}),o(c,f,!1,!0),a[f]=l,c}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-call"),s=e("../internals/is-pure"),o=e("../internals/function-name"),a=e("../internals/is-callable"),l=e("../internals/iterator-create-constructor"),c=e("../internals/object-get-prototype-of"),u=e("../internals/object-set-prototype-of"),d=e("../internals/set-to-string-tag"),h=e("../internals/create-non-enumerable-property"),f=e("../internals/define-built-in"),p=e("../internals/well-known-symbol"),g=e("../internals/iterators"),y=e("../internals/iterators-core"),v=o.PROPER,S=o.CONFIGURABLE,k=y.IteratorPrototype,M=y.BUGGY_SAFARI_ITERATORS,z=p("iterator"),F=function(){return this};t.exports=function(j,B,U,V,E,C,R){l(U,B,V);var m,b,w,_=function(D){if(D===E&&P)return P;if(!M&&D&&D in O)return O[D];switch(D){case"keys":case"values":case"entries":return function(){return new U(this,D)}}return function(){return new U(this)}},x=B+" Iterator",I=!1,O=j.prototype,$=O[z]||O["@@iterator"]||E&&O[E],P=!M&&$||_(E),G=B==="Array"&&O.entries||$;if(G&&(m=c(G.call(new j)))!==Object.prototype&&m.next&&(s||c(m)===k||(u?u(m,k):a(m[z])||f(m,z,F)),d(m,x,!0,!0),s&&(g[x]=F)),v&&E==="values"&&$&&$.name!=="values"&&(!s&&S?h(O,"name","values"):(I=!0,P=function(){return i($,this)})),E)if(b={values:_("values"),keys:C?P:_("keys"),entries:_("entries")},R)for(w in b)(M||I||!(w in O))&&f(O,w,b[w]);else r({target:B,proto:!0,forced:M||I},b);return s&&!R||O[z]===P||f(O,z,P,{name:E}),g[B]=P,b}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,t,n){"use strict";var r,i,s,o=e("../internals/fails"),a=e("../internals/is-callable"),l=e("../internals/is-object"),c=e("../internals/object-create"),u=e("../internals/object-get-prototype-of"),d=e("../internals/define-built-in"),h=e("../internals/well-known-symbol"),f=e("../internals/is-pure"),p=h("iterator"),g=!1;[].keys&&("next"in(s=[].keys())?(i=u(u(s)))!==Object.prototype&&(r=i):g=!0),!l(r)||o(function(){var y={};return r[p].call(y)!==y})?r={}:f&&(r=c(r)),a(r[p])||d(r,p,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,t,n){arguments[4][276][0].apply(n,arguments)},{dup:276}],299:[function(e,t,n){"use strict";var r=e("../internals/to-length");t.exports=function(i){return r(i.length)}},{"../internals/to-length":343}],300:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/fails"),s=e("../internals/is-callable"),o=e("../internals/has-own-property"),a=e("../internals/descriptors"),l=e("../internals/function-name").CONFIGURABLE,c=e("../internals/inspect-source"),u=e("../internals/internal-state"),d=u.enforce,h=u.get,f=String,p=Object.defineProperty,g=r("".slice),y=r("".replace),v=r([].join),S=a&&!i(function(){return p(function(){},"length",{value:8}).length!==8}),k=String(String).split("String"),M=t.exports=function(z,F,j){g(f(F),0,7)==="Symbol("&&(F="["+y(f(F),/^Symbol\(([^)]*)\)/,"$1")+"]"),j&&j.getter&&(F="get "+F),j&&j.setter&&(F="set "+F),(!o(z,"name")||l&&z.name!==F)&&(a?p(z,"name",{value:F,configurable:!0}):z.name=F),S&&j&&o(j,"arity")&&z.length!==j.arity&&p(z,"length",{value:j.arity});try{j&&o(j,"constructor")&&j.constructor?a&&p(z,"prototype",{writable:!1}):z.prototype&&(z.prototype=void 0)}catch{}var B=d(z);return o(B,"source")||(B.source=v(k,typeof F=="string"?F:"")),z};Function.prototype.toString=M(function(){return s(this)&&h(this).source||c(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,t,n){"use strict";var r=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(s){var o=+s;return(o>0?i:r)(o)}},{}],302:[function(e,t,n){"use strict";var r,i,s,o,a,l=e("../internals/global"),c=e("../internals/function-bind-context"),u=e("../internals/object-get-own-property-descriptor").f,d=e("../internals/task").set,h=e("../internals/queue"),f=e("../internals/engine-is-ios"),p=e("../internals/engine-is-ios-pebble"),g=e("../internals/engine-is-webos-webkit"),y=e("../internals/engine-is-node"),v=l.MutationObserver||l.WebKitMutationObserver,S=l.document,k=l.process,M=l.Promise,z=u(l,"queueMicrotask"),F=z&&z.value;if(!F){var j=new h,B=function(){var U,V;for(y&&(U=k.domain)&&U.exit();V=j.get();)try{V()}catch(E){throw j.head&&r(),E}U&&U.enter()};f||y||g||!v||!S?!p&&M&&M.resolve?((o=M.resolve(void 0)).constructor=M,a=c(o.then,o),r=function(){a(B)}):y?r=function(){k.nextTick(B)}:(d=c(d,l),r=function(){d(B)}):(i=!0,s=S.createTextNode(""),new v(B).observe(s,{characterData:!0}),r=function(){s.data=i=!i}),F=function(U){j.head||r(),j.add(U)}}t.exports=F},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,t,n){"use strict";var r=e("../internals/a-callable"),i=TypeError,s=function(o){var a,l;this.promise=new o(function(c,u){if(a!==void 0||l!==void 0)throw new i("Bad Promise constructor");a=c,l=u}),this.resolve=r(a),this.reject=r(l)};t.exports.f=function(o){return new s(o)}},{"../internals/a-callable":222}],304:[function(e,t,n){"use strict";var r=e("../internals/is-regexp"),i=TypeError;t.exports=function(s){if(r(s))throw new i("The method doesn't accept regular expressions");return s}},{"../internals/is-regexp":291}],305:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/function-uncurry-this"),s=e("../internals/function-call"),o=e("../internals/fails"),a=e("../internals/object-keys"),l=e("../internals/object-get-own-property-symbols"),c=e("../internals/object-property-is-enumerable"),u=e("../internals/to-object"),d=e("../internals/indexed-object"),h=Object.assign,f=Object.defineProperty,p=i([].concat);t.exports=!h||o(function(){if(r&&h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},y={},v=Symbol("assign detection");return g[v]=7,"abcdefghijklmnopqrst".split("").forEach(function(S){y[S]=S}),h({},g)[v]!==7||a(h({},y)).join("")!=="abcdefghijklmnopqrst"})?function(g,y){for(var v=u(g),S=arguments.length,k=1,M=l.f,z=c.f;S>k;)for(var F,j=d(arguments[k++]),B=M?p(a(j),M(j)):a(j),U=B.length,V=0;U>V;)F=B[V++],r&&!s(z,j,F)||(v[F]=j[F]);return v}:h},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,t,n){"use strict";var r,i=e("../internals/an-object"),s=e("../internals/object-define-properties"),o=e("../internals/enum-bug-keys"),a=e("../internals/hidden-keys"),l=e("../internals/html"),c=e("../internals/document-create-element"),u=e("../internals/shared-key"),d=u("IE_PROTO"),h=function(){},f=function(y){return"<script>"+y+"<\/script>"},p=function(y){y.write(f("")),y.close();var v=y.parentWindow.Object;return y=null,v},g=function(){try{r=new ActiveXObject("htmlfile")}catch{}var y,v;g=typeof document<"u"?document.domain&&r?p(r):((v=c("iframe")).style.display="none",l.appendChild(v),v.src="javascript:",(y=v.contentWindow.document).open(),y.write(f("document.F=Object")),y.close(),y.F):p(r);for(var S=o.length;S--;)delete g.prototype[o[S]];return g()};a[d]=!0,t.exports=Object.create||function(y,v){var S;return y!==null?(h.prototype=i(y),S=new h,h.prototype=null,S[d]=y):S=g(),v===void 0?S:s.f(S,v)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/v8-prototype-define-bug"),s=e("../internals/object-define-property"),o=e("../internals/an-object"),a=e("../internals/to-indexed-object"),l=e("../internals/object-keys");n.f=r&&!i?Object.defineProperties:function(c,u){o(c);for(var d,h=a(u),f=l(u),p=f.length,g=0;p>g;)s.f(c,d=f[g++],h[d]);return c}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/ie8-dom-define"),s=e("../internals/v8-prototype-define-bug"),o=e("../internals/an-object"),a=e("../internals/to-property-key"),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor;n.f=r?s?function(d,h,f){if(o(d),h=a(h),o(f),typeof d=="function"&&h==="prototype"&&"value"in f&&"writable"in f&&!f.writable){var p=u(d,h);p&&p.writable&&(d[h]=f.value,f={configurable:"configurable"in f?f.configurable:p.configurable,enumerable:"enumerable"in f?f.enumerable:p.enumerable,writable:!1})}return c(d,h,f)}:c:function(d,h,f){if(o(d),h=a(h),o(f),i)try{return c(d,h,f)}catch{}if("get"in f||"set"in f)throw new l("Accessors not supported");return"value"in f&&(d[h]=f.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/function-call"),s=e("../internals/object-property-is-enumerable"),o=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),l=e("../internals/to-property-key"),c=e("../internals/has-own-property"),u=e("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;n.f=r?d:function(h,f){if(h=a(h),f=l(f),u)try{return d(h,f)}catch{}if(c(h,f))return o(!i(s.f,h,f),h[f])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,t,n){"use strict";var r=e("../internals/classof-raw"),i=e("../internals/to-indexed-object"),s=e("../internals/object-get-own-property-names").f,o=e("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(l){return a&&r(l)==="Window"?function(c){try{return s(c)}catch{return o(a)}}(l):s(i(l))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,t,n){"use strict";var r=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(s){return r(s,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,t,n){"use strict";n.f=Object.getOwnPropertySymbols},{}],313:[function(e,t,n){"use strict";var r=e("../internals/has-own-property"),i=e("../internals/is-callable"),s=e("../internals/to-object"),o=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),l=o("IE_PROTO"),c=Object,u=c.prototype;t.exports=a?c.getPrototypeOf:function(d){var h=s(d);if(r(h,l))return h[l];var f=h.constructor;return i(f)&&h instanceof f?f.prototype:h instanceof c?u:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this");t.exports=r({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=e("../internals/has-own-property"),s=e("../internals/to-indexed-object"),o=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys"),l=r([].push);t.exports=function(c,u){var d,h=s(c),f=0,p=[];for(d in h)!i(a,d)&&i(h,d)&&l(p,d);for(;u.length>f;)i(h,d=u[f++])&&(~o(p,d)||l(p,d));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,t,n){"use strict";var r=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");t.exports=Object.keys||function(s){return r(s,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!r.call({1:2},1);n.f=s?function(o){var a=i(this,o);return!!a&&a.enumerable}:r},{}],318:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this-accessor"),i=e("../internals/an-object"),s=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o,a=!1,l={};try{(o=r(Object.prototype,"__proto__","set"))(l,[]),a=l instanceof Array}catch{}return function(c,u){return i(c),s(u),a?o(c,u):c.__proto__=u,c}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/fails"),s=e("../internals/function-uncurry-this"),o=e("../internals/object-get-prototype-of"),a=e("../internals/object-keys"),l=e("../internals/to-indexed-object"),c=s(e("../internals/object-property-is-enumerable").f),u=s([].push),d=r&&i(function(){var f=Object.create(null);return f[2]=2,!c(f,2)}),h=function(f){return function(p){for(var g,y=l(p),v=a(y),S=d&&o(y)===null,k=v.length,M=0,z=[];k>M;)g=v[M++],r&&!(S?g in y:c(y,g))||u(z,f?[g,y[g]]:y[g]);return z}};t.exports={entries:h(!0),values:h(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,t,n){"use strict";var r=e("../internals/function-call"),i=e("../internals/is-callable"),s=e("../internals/is-object"),o=TypeError;t.exports=function(a,l){var c,u;if(l==="string"&&i(c=a.toString)&&!s(u=r(c,a))||i(c=a.valueOf)&&!s(u=r(c,a))||l!=="string"&&i(c=a.toString)&&!s(u=r(c,a)))return u;throw new o("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,t,n){"use strict";var r=e("../internals/get-built-in"),i=e("../internals/function-uncurry-this"),s=e("../internals/object-get-own-property-names"),o=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object"),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(c){var u=s.f(a(c)),d=o.f;return d?l(u,d(c)):u}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,t,n){"use strict";var r=e("../internals/global");t.exports=r},{"../internals/global":274}],323:[function(e,t,n){"use strict";t.exports=function(r){try{return{error:!1,value:r()}}catch(i){return{error:!0,value:i}}}},{}],324:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/promise-native-constructor"),s=e("../internals/is-callable"),o=e("../internals/is-forced"),a=e("../internals/inspect-source"),l=e("../internals/well-known-symbol"),c=e("../internals/engine-is-browser"),u=e("../internals/engine-is-deno"),d=e("../internals/is-pure"),h=e("../internals/engine-v8-version"),f=i&&i.prototype,p=l("species"),g=!1,y=s(r.PromiseRejectionEvent),v=o("Promise",function(){var S=a(i),k=S!==String(i);if(!k&&h===66||d&&(!f.catch||!f.finally))return!0;if(!h||h<51||!/native code/.test(S)){var M=new i(function(F){F(1)}),z=function(F){F(function(){},function(){})};if((M.constructor={})[p]=z,!(g=M.then(function(){})instanceof z))return!0}return!k&&(c||u)&&!y});t.exports={CONSTRUCTOR:v,REJECTION_EVENT:y,SUBCLASSING:g}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,t,n){"use strict";var r=e("../internals/global");t.exports=r.Promise},{"../internals/global":274}],326:[function(e,t,n){"use strict";var r=e("../internals/an-object"),i=e("../internals/is-object"),s=e("../internals/new-promise-capability");t.exports=function(o,a){if(r(o),i(a)&&a.constructor===o)return a;var l=s.f(o);return(0,l.resolve)(a),l.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,t,n){"use strict";var r=e("../internals/promise-native-constructor"),i=e("../internals/check-correctness-of-iteration"),s=e("../internals/promise-constructor-detection").CONSTRUCTOR;t.exports=s||!i(function(o){r.all(o).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,t,n){"use strict";var r=function(){this.head=null,this.tail=null};r.prototype={add:function(i){var s={item:i,next:null},o=this.tail;o?o.next=s:this.head=s,this.tail=s},get:function(){var i=this.head;if(i)return(this.head=i.next)===null&&(this.tail=null),i.item}},t.exports=r},{}],329:[function(e,t,n){"use strict";var r=e("../internals/is-null-or-undefined"),i=TypeError;t.exports=function(s){if(r(s))throw new i("Can't call method on "+s);return s}},{"../internals/is-null-or-undefined":288}],330:[function(e,t,n){"use strict";var r=e("../internals/get-built-in"),i=e("../internals/define-built-in-accessor"),s=e("../internals/well-known-symbol"),o=e("../internals/descriptors"),a=s("species");t.exports=function(l){var c=r(l);o&&c&&!c[a]&&i(c,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,t,n){"use strict";var r=e("../internals/object-define-property").f,i=e("../internals/has-own-property"),s=e("../internals/well-known-symbol")("toStringTag");t.exports=function(o,a,l){o&&!l&&(o=o.prototype),o&&!i(o,s)&&r(o,s,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,t,n){"use strict";var r=e("../internals/shared"),i=e("../internals/uid"),s=r("keys");t.exports=function(o){return s[o]||(s[o]=i(o))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/define-global-property"),s=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=s},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,t,n){"use strict";var r=e("../internals/is-pure"),i=e("../internals/shared-store");(t.exports=function(s,o){return i[s]||(i[s]=o!==void 0?o:{})})("versions",[]).push({version:"3.33.0",mode:r?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,t,n){"use strict";var r=e("../internals/an-object"),i=e("../internals/a-constructor"),s=e("../internals/is-null-or-undefined"),o=e("../internals/well-known-symbol")("species");t.exports=function(a,l){var c,u=r(a).constructor;return u===void 0||s(c=r(u)[o])?l:i(c)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,t,n){"use strict";var r=e("../internals/engine-v8-version"),i=e("../internals/fails"),s=e("../internals/global").String;t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var o=Symbol("symbol detection");return!s(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&r&&r<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,t,n){"use strict";var r=e("../internals/function-call"),i=e("../internals/get-built-in"),s=e("../internals/well-known-symbol"),o=e("../internals/define-built-in");t.exports=function(){var a=i("Symbol"),l=a&&a.prototype,c=l&&l.valueOf,u=s("toPrimitive");l&&!l[u]&&o(l,u,function(d){return r(c,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,t,n){"use strict";var r=e("../internals/symbol-constructor-detection");t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,t,n){"use strict";var r,i,s,o,a=e("../internals/global"),l=e("../internals/function-apply"),c=e("../internals/function-bind-context"),u=e("../internals/is-callable"),d=e("../internals/has-own-property"),h=e("../internals/fails"),f=e("../internals/html"),p=e("../internals/array-slice"),g=e("../internals/document-create-element"),y=e("../internals/validate-arguments-length"),v=e("../internals/engine-is-ios"),S=e("../internals/engine-is-node"),k=a.setImmediate,M=a.clearImmediate,z=a.process,F=a.Dispatch,j=a.Function,B=a.MessageChannel,U=a.String,V=0,E={};h(function(){r=a.location});var C=function(w){if(d(E,w)){var _=E[w];delete E[w],_()}},R=function(w){return function(){C(w)}},m=function(w){C(w.data)},b=function(w){a.postMessage(U(w),r.protocol+"//"+r.host)};k&&M||(k=function(w){y(arguments.length,1);var _=u(w)?w:j(w),x=p(arguments,1);return E[++V]=function(){l(_,void 0,x)},i(V),V},M=function(w){delete E[w]},S?i=function(w){z.nextTick(R(w))}:F&&F.now?i=function(w){F.now(R(w))}:B&&!v?(o=(s=new B).port2,s.port1.onmessage=m,i=c(o.postMessage,o)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&r&&r.protocol!=="file:"&&!h(b)?(i=b,a.addEventListener("message",m,!1)):i="onreadystatechange"in g("script")?function(w){f.appendChild(g("script")).onreadystatechange=function(){f.removeChild(this),C(w)}}:function(w){setTimeout(R(w),0)}),t.exports={set:k,clear:M}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,t,n){"use strict";var r=e("../internals/to-integer-or-infinity"),i=Math.max,s=Math.min;t.exports=function(o,a){var l=r(o);return l<0?i(l+a,0):s(l,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,t,n){"use strict";var r=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");t.exports=function(s){return r(i(s))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,t,n){"use strict";var r=e("../internals/math-trunc");t.exports=function(i){var s=+i;return s!=s||s===0?0:r(s)}},{"../internals/math-trunc":301}],343:[function(e,t,n){"use strict";var r=e("../internals/to-integer-or-infinity"),i=Math.min;t.exports=function(s){return s>0?i(r(s),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,t,n){"use strict";var r=e("../internals/require-object-coercible"),i=Object;t.exports=function(s){return i(r(s))}},{"../internals/require-object-coercible":329}],345:[function(e,t,n){"use strict";var r=e("../internals/function-call"),i=e("../internals/is-object"),s=e("../internals/is-symbol"),o=e("../internals/get-method"),a=e("../internals/ordinary-to-primitive"),l=e("../internals/well-known-symbol"),c=TypeError,u=l("toPrimitive");t.exports=function(d,h){if(!i(d)||s(d))return d;var f,p=o(d,u);if(p){if(h===void 0&&(h="default"),f=r(p,d,h),!i(f)||s(f))return f;throw new c("Can't convert object to primitive value")}return h===void 0&&(h="number"),a(d,h)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,t,n){"use strict";var r=e("../internals/to-primitive"),i=e("../internals/is-symbol");t.exports=function(s){var o=r(s,"string");return i(o)?o:o+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,t,n){"use strict";var r={};r[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports=String(r)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,t,n){"use strict";var r=e("../internals/classof"),i=String;t.exports=function(s){if(r(s)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return i(s)}},{"../internals/classof":236}],349:[function(e,t,n){"use strict";var r=String;t.exports=function(i){try{return r(i)}catch{return"Object"}}},{}],350:[function(e,t,n){"use strict";var r=e("../internals/function-uncurry-this"),i=0,s=Math.random(),o=r(1 .toString);t.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+o(++i+s,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,t,n){"use strict";var r=e("../internals/symbol-constructor-detection");t.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/fails");t.exports=r&&i(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,t,n){"use strict";var r=TypeError;t.exports=function(i,s){if(i<s)throw new r("Not enough arguments");return i}},{}],354:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/is-callable"),s=r.WeakMap;t.exports=i(s)&&/native code/.test(String(s))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,t,n){"use strict";var r=e("../internals/path"),i=e("../internals/has-own-property"),s=e("../internals/well-known-symbol-wrapped"),o=e("../internals/object-define-property").f;t.exports=function(a){var l=r.Symbol||(r.Symbol={});i(l,a)||o(l,a,{value:s.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,t,n){"use strict";var r=e("../internals/well-known-symbol");n.f=r},{"../internals/well-known-symbol":357}],357:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/shared"),s=e("../internals/has-own-property"),o=e("../internals/uid"),a=e("../internals/symbol-constructor-detection"),l=e("../internals/use-symbol-as-uid"),c=r.Symbol,u=i("wks"),d=l?c.for||c:c&&c.withoutSetter||o;t.exports=function(h){return s(u,h)||(u[h]=a&&s(c,h)?c[h]:d("Symbol."+h)),u[h]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").findIndex,s=e("../internals/add-to-unscopables"),o=!0;"findIndex"in[]&&Array(1).findIndex(function(){o=!1}),r({target:"Array",proto:!0,forced:o},{findIndex:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),s("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").find,s=e("../internals/add-to-unscopables"),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r({target:"Array",proto:!0,forced:o},{find:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),s("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-includes").includes,s=e("../internals/fails"),o=e("../internals/add-to-unscopables");r({target:"Array",proto:!0,forced:s(function(){return!Array(1).includes()})},{includes:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),o("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,t,n){"use strict";var r=e("../internals/to-indexed-object"),i=e("../internals/add-to-unscopables"),s=e("../internals/iterators"),o=e("../internals/internal-state"),a=e("../internals/object-define-property").f,l=e("../internals/iterator-define"),c=e("../internals/create-iter-result-object"),u=e("../internals/is-pure"),d=e("../internals/descriptors"),h=o.set,f=o.getterFor("Array Iterator");t.exports=l(Array,"Array",function(g,y){h(this,{type:"Array Iterator",target:r(g),index:0,kind:y})},function(){var g=f(this),y=g.target,v=g.kind,S=g.index++;if(!y||S>=y.length)return g.target=void 0,c(void 0,!0);switch(v){case"keys":return c(S,!1);case"values":return c(y[S],!1)}return c([S,y[S]],!1)},"values");var p=s.Arguments=s.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&p.name!=="values")try{a(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/get-built-in"),s=e("../internals/function-apply"),o=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),l=e("../internals/fails"),c=e("../internals/is-callable"),u=e("../internals/is-symbol"),d=e("../internals/array-slice"),h=e("../internals/get-json-replacer-function"),f=e("../internals/symbol-constructor-detection"),p=String,g=i("JSON","stringify"),y=a(/./.exec),v=a("".charAt),S=a("".charCodeAt),k=a("".replace),M=a(1 .toString),z=/[\uD800-\uDFFF]/g,F=/^[\uD800-\uDBFF]$/,j=/^[\uDC00-\uDFFF]$/,B=!f||l(function(){var C=i("Symbol")("stringify detection");return g([C])!=="[null]"||g({a:C})!=="{}"||g(Object(C))!=="{}"}),U=l(function(){return g("\uDF06\uD834")!=='"\\udf06\\ud834"'||g("\uDEAD")!=='"\\udead"'}),V=function(C,R){var m=d(arguments),b=h(R);if(c(b)||C!==void 0&&!u(C))return m[1]=function(w,_){if(c(b)&&(_=o(b,this,p(w),_)),!u(_))return _},s(g,null,m)},E=function(C,R,m){var b=v(m,R-1),w=v(m,R+1);return y(F,C)&&!y(j,w)||y(j,C)&&!y(F,b)?"\\u"+M(S(C,0),16):C};g&&r({target:"JSON",stat:!0,arity:3,forced:B||U},{stringify:function(C,R,m){var b=d(arguments),w=s(B?V:g,null,b);return U&&typeof w=="string"?k(w,z,E):w}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,t,n){"use strict";e("../internals/export")({target:"Number",stat:!0},{isNaN:function(r){return r!=r}})},{"../internals/export":259}],364:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/object-assign");r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/symbol-constructor-detection"),s=e("../internals/fails"),o=e("../internals/object-get-own-property-symbols"),a=e("../internals/to-object");r({target:"Object",stat:!0,forced:!i||s(function(){o.f(1)})},{getOwnPropertySymbols:function(l){var c=o.f;return c?c(a(l)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/to-object"),s=e("../internals/object-keys");r({target:"Object",stat:!0,forced:e("../internals/fails")(function(){s(1)})},{keys:function(o){return s(i(o))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/object-to-array").values;r({target:"Object",stat:!0},{values:function(s){return i(s)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-call"),s=e("../internals/a-callable"),o=e("../internals/new-promise-capability"),a=e("../internals/perform"),l=e("../internals/iterate");r({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(c){var u=this,d=o.f(u),h=d.resolve,f=d.reject,p=a(function(){var g=s(u.resolve),y=[],v=0,S=1;l(c,function(k){var M=v++,z=!1;S++,i(g,u,k).then(function(F){z||(z=!0,y[M]=F,--S||h(y))},f)}),--S||h(y)});return p.error&&f(p.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/is-pure"),s=e("../internals/promise-constructor-detection").CONSTRUCTOR,o=e("../internals/promise-native-constructor"),a=e("../internals/get-built-in"),l=e("../internals/is-callable"),c=e("../internals/define-built-in"),u=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(h){return this.then(void 0,h)}}),!i&&l(o)){var d=a("Promise").prototype.catch;u.catch!==d&&c(u,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,t,n){"use strict";var r,i,s,o=e("../internals/export"),a=e("../internals/is-pure"),l=e("../internals/engine-is-node"),c=e("../internals/global"),u=e("../internals/function-call"),d=e("../internals/define-built-in"),h=e("../internals/object-set-prototype-of"),f=e("../internals/set-to-string-tag"),p=e("../internals/set-species"),g=e("../internals/a-callable"),y=e("../internals/is-callable"),v=e("../internals/is-object"),S=e("../internals/an-instance"),k=e("../internals/species-constructor"),M=e("../internals/task").set,z=e("../internals/microtask"),F=e("../internals/host-report-errors"),j=e("../internals/perform"),B=e("../internals/queue"),U=e("../internals/internal-state"),V=e("../internals/promise-native-constructor"),E=e("../internals/promise-constructor-detection"),C=e("../internals/new-promise-capability"),R=E.CONSTRUCTOR,m=E.REJECTION_EVENT,b=E.SUBCLASSING,w=U.getterFor("Promise"),_=U.set,x=V&&V.prototype,I=V,O=x,$=c.TypeError,P=c.document,G=c.process,D=C.f,W=D,A=!!(P&&P.createEvent&&c.dispatchEvent),T=function(ue){var ve;return!(!v(ue)||!y(ve=ue.then))&&ve},H=function(ue,ve){var me,xe,we,De=ve.value,Re=ve.state===1,Fe=Re?ue.ok:ue.fail,rt=ue.resolve,je=ue.reject,Ze=ue.domain;try{Fe?(Re||(ve.rejection===2&&ge(ve),ve.rejection=1),Fe===!0?me=De:(Ze&&Ze.enter(),me=Fe(De),Ze&&(Ze.exit(),we=!0)),me===ue.promise?je(new $("Promise-chain cycle")):(xe=T(me))?u(xe,me,rt,je):rt(me)):je(De)}catch(gt){Ze&&!we&&Ze.exit(),je(gt)}},Z=function(ue,ve){ue.notified||(ue.notified=!0,z(function(){for(var me,xe=ue.reactions;me=xe.get();)H(me,ue);ue.notified=!1,ve&&!ue.rejection&&J(ue)}))},Q=function(ue,ve,me){var xe,we;A?((xe=P.createEvent("Event")).promise=ve,xe.reason=me,xe.initEvent(ue,!1,!0),c.dispatchEvent(xe)):xe={promise:ve,reason:me},!m&&(we=c["on"+ue])?we(xe):ue==="unhandledrejection"&&F("Unhandled promise rejection",me)},J=function(ue){u(M,c,function(){var ve,me=ue.facade,xe=ue.value;if(ne(ue)&&(ve=j(function(){l?G.emit("unhandledRejection",xe,me):Q("unhandledrejection",me,xe)}),ue.rejection=l||ne(ue)?2:1,ve.error))throw ve.value})},ne=function(ue){return ue.rejection!==1&&!ue.parent},ge=function(ue){u(M,c,function(){var ve=ue.facade;l?G.emit("rejectionHandled",ve):Q("rejectionhandled",ve,ue.value)})},ye=function(ue,ve,me){return function(xe){ue(ve,xe,me)}},K=function(ue,ve,me){ue.done||(ue.done=!0,me&&(ue=me),ue.value=ve,ue.state=2,Z(ue,!0))},ce=function(ue,ve,me){if(!ue.done){ue.done=!0,me&&(ue=me);try{if(ue.facade===ve)throw new $("Promise can't be resolved itself");var xe=T(ve);xe?z(function(){var we={done:!1};try{u(xe,ve,ye(ce,we,ue),ye(K,we,ue))}catch(De){K(we,De,ue)}}):(ue.value=ve,ue.state=1,Z(ue,!1))}catch(we){K({done:!1},we,ue)}}};if(R&&(O=(I=function(ue){S(this,O),g(ue),u(r,this);var ve=w(this);try{ue(ye(ce,ve),ye(K,ve))}catch(me){K(ve,me)}}).prototype,(r=function(ue){_(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new B,rejection:!1,state:0,value:void 0})}).prototype=d(O,"then",function(ue,ve){var me=w(this),xe=D(k(this,I));return me.parent=!0,xe.ok=!y(ue)||ue,xe.fail=y(ve)&&ve,xe.domain=l?G.domain:void 0,me.state===0?me.reactions.add(xe):z(function(){H(xe,me)}),xe.promise}),i=function(){var ue=new r,ve=w(ue);this.promise=ue,this.resolve=ye(ce,ve),this.reject=ye(K,ve)},C.f=D=function(ue){return ue===I||ue===void 0?new i(ue):W(ue)},!a&&y(V)&&x!==Object.prototype)){s=x.then,b||d(x,"then",function(ue,ve){var me=this;return new I(function(xe,we){u(s,me,xe,we)}).then(ue,ve)},{unsafe:!0});try{delete x.constructor}catch{}h&&h(x,O)}o({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:I}),f(I,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/is-pure"),s=e("../internals/promise-native-constructor"),o=e("../internals/fails"),a=e("../internals/get-built-in"),l=e("../internals/is-callable"),c=e("../internals/species-constructor"),u=e("../internals/promise-resolve"),d=e("../internals/define-built-in"),h=s&&s.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!s&&o(function(){h.finally.call({then:function(){}},function(){})})},{finally:function(p){var g=c(this,a("Promise")),y=l(p);return this.then(y?function(v){return u(g,p()).then(function(){return v})}:p,y?function(v){return u(g,p()).then(function(){throw v})}:p)}}),!i&&l(s)){var f=a("Promise").prototype.finally;h.finally!==f&&d(h,"finally",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,t,n){"use strict";e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-call"),s=e("../internals/a-callable"),o=e("../internals/new-promise-capability"),a=e("../internals/perform"),l=e("../internals/iterate");r({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(c){var u=this,d=o.f(u),h=d.reject,f=a(function(){var p=s(u.resolve);l(c,function(g){i(p,u,g).then(d.resolve,h)})});return f.error&&h(f.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-call"),s=e("../internals/new-promise-capability");r({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(o){var a=s.f(this);return i(a.reject,void 0,o),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/get-built-in"),s=e("../internals/is-pure"),o=e("../internals/promise-native-constructor"),a=e("../internals/promise-constructor-detection").CONSTRUCTOR,l=e("../internals/promise-resolve"),c=i("Promise"),u=s&&!a;r({target:"Promise",stat:!0,forced:s||a},{resolve:function(d){return l(u&&this===c?o:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-uncurry-this"),s=e("../internals/to-absolute-index"),o=RangeError,a=String.fromCharCode,l=String.fromCodePoint,c=i([].join);r({target:"String",stat:!0,arity:1,forced:!!l&&l.length!==1},{fromCodePoint:function(u){for(var d,h=[],f=arguments.length,p=0;f>p;){if(d=+arguments[p++],s(d,1114111)!==d)throw new o(d+" is not a valid code point");h[p]=d<65536?a(d):a(55296+((d-=65536)>>10),d%1024+56320)}return c(h,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/function-uncurry-this"),s=e("../internals/not-a-regexp"),o=e("../internals/require-object-coercible"),a=e("../internals/to-string"),l=e("../internals/correct-is-regexp-logic"),c=i("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(u){return!!~c(a(o(this)),a(s(u)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,t,n){"use strict";e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/global"),s=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),a=e("../internals/is-pure"),l=e("../internals/descriptors"),c=e("../internals/symbol-constructor-detection"),u=e("../internals/fails"),d=e("../internals/has-own-property"),h=e("../internals/object-is-prototype-of"),f=e("../internals/an-object"),p=e("../internals/to-indexed-object"),g=e("../internals/to-property-key"),y=e("../internals/to-string"),v=e("../internals/create-property-descriptor"),S=e("../internals/object-create"),k=e("../internals/object-keys"),M=e("../internals/object-get-own-property-names"),z=e("../internals/object-get-own-property-names-external"),F=e("../internals/object-get-own-property-symbols"),j=e("../internals/object-get-own-property-descriptor"),B=e("../internals/object-define-property"),U=e("../internals/object-define-properties"),V=e("../internals/object-property-is-enumerable"),E=e("../internals/define-built-in"),C=e("../internals/define-built-in-accessor"),R=e("../internals/shared"),m=e("../internals/shared-key"),b=e("../internals/hidden-keys"),w=e("../internals/uid"),_=e("../internals/well-known-symbol"),x=e("../internals/well-known-symbol-wrapped"),I=e("../internals/well-known-symbol-define"),O=e("../internals/symbol-define-to-primitive"),$=e("../internals/set-to-string-tag"),P=e("../internals/internal-state"),G=e("../internals/array-iteration").forEach,D=m("hidden"),W=P.set,A=P.getterFor("Symbol"),T=Object.prototype,H=i.Symbol,Z=H&&H.prototype,Q=i.RangeError,J=i.TypeError,ne=i.QObject,ge=j.f,ye=B.f,K=z.f,ce=V.f,ue=o([].push),ve=R("symbols"),me=R("op-symbols"),xe=R("wks"),we=!ne||!ne.prototype||!ne.prototype.findChild,De=function(Ye,Xe,Ve){var dt=ge(T,Xe);dt&&delete T[Xe],ye(Ye,Xe,Ve),dt&&Ye!==T&&ye(T,Xe,dt)},Re=l&&u(function(){return S(ye({},"a",{get:function(){return ye(this,"a",{value:7}).a}})).a!==7})?De:ye,Fe=function(Ye,Xe){var Ve=ve[Ye]=S(Z);return W(Ve,{type:"Symbol",tag:Ye,description:Xe}),l||(Ve.description=Xe),Ve},rt=function(Ye,Xe,Ve){Ye===T&&rt(me,Xe,Ve),f(Ye);var dt=g(Xe);return f(Ve),d(ve,dt)?(Ve.enumerable?(d(Ye,D)&&Ye[D][dt]&&(Ye[D][dt]=!1),Ve=S(Ve,{enumerable:v(0,!1)})):(d(Ye,D)||ye(Ye,D,v(1,{})),Ye[D][dt]=!0),Re(Ye,dt,Ve)):ye(Ye,dt,Ve)},je=function(Ye,Xe){f(Ye);var Ve=p(Xe),dt=k(Ve).concat(Ke(Ve));return G(dt,function(et){l&&!s(Ze,Ve,et)||rt(Ye,et,Ve[et])}),Ye},Ze=function(Ye){var Xe=g(Ye),Ve=s(ce,this,Xe);return!(this===T&&d(ve,Xe)&&!d(me,Xe))&&(!(Ve||!d(this,Xe)||!d(ve,Xe)||d(this,D)&&this[D][Xe])||Ve)},gt=function(Ye,Xe){var Ve=p(Ye),dt=g(Xe);if(Ve!==T||!d(ve,dt)||d(me,dt)){var et=ge(Ve,dt);return!et||!d(ve,dt)||d(Ve,D)&&Ve[D][dt]||(et.enumerable=!0),et}},Ge=function(Ye){var Xe=K(p(Ye)),Ve=[];return G(Xe,function(dt){d(ve,dt)||d(b,dt)||ue(Ve,dt)}),Ve},Ke=function(Ye){var Xe=Ye===T,Ve=K(Xe?me:p(Ye)),dt=[];return G(Ve,function(et){!d(ve,et)||Xe&&!d(T,et)||ue(dt,ve[et])}),dt};c||(E(Z=(H=function(){if(h(Z,this))throw new J("Symbol is not a constructor");var Ye=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,Xe=w(Ye),Ve=function(dt){this===T&&s(Ve,me,dt),d(this,D)&&d(this[D],Xe)&&(this[D][Xe]=!1);var et=v(1,dt);try{Re(this,Xe,et)}catch(ft){if(!(ft instanceof Q))throw ft;De(this,Xe,et)}};return l&&we&&Re(T,Xe,{configurable:!0,set:Ve}),Fe(Xe,Ye)}).prototype,"toString",function(){return A(this).tag}),E(H,"withoutSetter",function(Ye){return Fe(w(Ye),Ye)}),V.f=Ze,B.f=rt,U.f=je,j.f=gt,M.f=z.f=Ge,F.f=Ke,x.f=function(Ye){return Fe(_(Ye),Ye)},l&&(C(Z,"description",{configurable:!0,get:function(){return A(this).description}}),a||E(T,"propertyIsEnumerable",Ze,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),G(k(xe),function(Ye){I(Ye)}),r({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){we=!0},useSimple:function(){we=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(Ye,Xe){return Xe===void 0?S(Ye):je(S(Ye),Xe)},defineProperty:rt,defineProperties:je,getOwnPropertyDescriptor:gt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:Ge}),O(),$(H,"Symbol"),b[D]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/get-built-in"),s=e("../internals/has-own-property"),o=e("../internals/to-string"),a=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),c=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(d){var h=o(d);if(s(c,h))return c[h];var f=i("Symbol")(h);return c[h]=f,u[f]=h,f}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,t,n){"use strict";e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/has-own-property"),s=e("../internals/is-symbol"),o=e("../internals/try-to-string"),a=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),c=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(u){if(!s(u))throw new TypeError(o(u)+" is not a symbol");if(i(c,u))return c[u]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,t,n){"use strict";function r(i){return Object.prototype.toString.call(i)}n.isArray=function(i){return Array.isArray?Array.isArray(i):r(i)==="[object Array]"},n.isBoolean=function(i){return typeof i=="boolean"},n.isNull=function(i){return i===null},n.isNullOrUndefined=function(i){return i==null},n.isNumber=function(i){return typeof i=="number"},n.isString=function(i){return typeof i=="string"},n.isSymbol=function(i){return typeof i=="symbol"},n.isUndefined=function(i){return i===void 0},n.isRegExp=function(i){return r(i)==="[object RegExp]"},n.isObject=function(i){return typeof i=="object"&&i!==null},n.isDate=function(i){return r(i)==="[object Date]"},n.isError=function(i){return r(i)==="[object Error]"||i instanceof Error},n.isFunction=function(i){return typeof i=="function"},n.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},n.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,t,n){(function(r){(function(){"use strict";var i=e("elliptic"),s=e("bn.js");t.exports=function(c){return new a(c)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(c){this.curveType=o[c],this.curveType||(this.curveType={name:c}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function l(c,u,d){Array.isArray(c)||(c=c.toArray());var h=new r(c);if(d&&h.length<d){var f=new r(d-h.length);f.fill(0),h=r.concat([f,h])}return u?h.toString(u):h}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(c,u){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,u)},a.prototype.computeSecret=function(c,u,d){return u=u||"utf8",r.isBuffer(c)||(c=new r(c,u)),l(this.curve.keyFromPublic(c).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},a.prototype.getPublicKey=function(c,u){var d=this.keys.getPublic(u==="compressed",!0);return u==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),l(d,c)},a.prototype.getPrivateKey=function(c){return l(this.keys.getPrivate(),c)},a.prototype.setPublicKey=function(c,u){return u=u||"utf8",r.isBuffer(c)||(c=new r(c,u)),this.keys._importPublic(c),this},a.prototype.setPrivateKey=function(c,u){u=u||"utf8",r.isBuffer(c)||(c=new r(c,u));var d=new s(c);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],386:[function(e,t,n){"use strict";var r=e("inherits"),i=e("md5.js"),s=e("ripemd160"),o=e("sha.js"),a=e("cipher-base");function l(c){a.call(this,"digest"),this._hash=c}r(l,a),l.prototype._update=function(c){this._hash.update(c)},l.prototype._final=function(){return this._hash.digest()},t.exports=function(c){return(c=c.toLowerCase())==="md5"?new i:c==="rmd160"||c==="ripemd160"?new s:new l(o(c))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,t,n){"use strict";var r=e("md5.js");t.exports=function(i){return new r().update(i).digest()}},{"md5.js":450}],388:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./legacy"),s=e("cipher-base"),o=e("safe-buffer").Buffer,a=e("create-hash/md5"),l=e("ripemd160"),c=e("sha.js"),u=o.alloc(128);function d(h,f){s.call(this,"digest"),typeof f=="string"&&(f=o.from(f));var p=h==="sha512"||h==="sha384"?128:64;this._alg=h,this._key=f,f.length>p?f=(h==="rmd160"?new l:c(h)).update(f).digest():f.length<p&&(f=o.concat([f,u],p));for(var g=this._ipad=o.allocUnsafe(p),y=this._opad=o.allocUnsafe(p),v=0;v<p;v++)g[v]=54^f[v],y[v]=92^f[v];this._hash=h==="rmd160"?new l:c(h),this._hash.update(g)}r(d,s),d.prototype._update=function(h){this._hash.update(h)},d.prototype._final=function(){var h=this._hash.digest();return(this._alg==="rmd160"?new l:c(this._alg)).update(this._opad).update(h).digest()},t.exports=function(h,f){return(h=h.toLowerCase())==="rmd160"||h==="ripemd160"?new d("rmd160",f):h==="md5"?new i(a,f):new d(h,f)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,t,n){"use strict";var r=e("inherits"),i=e("safe-buffer").Buffer,s=e("cipher-base"),o=i.alloc(128);function a(l,c){s.call(this,"digest"),typeof c=="string"&&(c=i.from(c)),this._alg=l,this._key=c,c.length>64?c=l(c):c.length<64&&(c=i.concat([c,o],64));for(var u=this._ipad=i.allocUnsafe(64),d=this._opad=i.allocUnsafe(64),h=0;h<64;h++)u[h]=54^c[h],d[h]=92^c[h];this._hash=[u]}r(a,s),a.prototype._update=function(l){this._hash.push(l)},a.prototype._final=function(){var l=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,l]))},t.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,t,n){"use strict";n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=e("randombytes"),n.createHash=n.Hash=e("create-hash"),n.createHmac=n.Hmac=e("create-hmac");var r=e("browserify-sign/algos"),i=Object.keys(r),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);n.getHashes=function(){return s};var o=e("pbkdf2");n.pbkdf2=o.pbkdf2,n.pbkdf2Sync=o.pbkdf2Sync;var a=e("browserify-cipher");n.Cipher=a.Cipher,n.createCipher=a.createCipher,n.Cipheriv=a.Cipheriv,n.createCipheriv=a.createCipheriv,n.Decipher=a.Decipher,n.createDecipher=a.createDecipher,n.Decipheriv=a.Decipheriv,n.createDecipheriv=a.createDecipheriv,n.getCiphers=a.getCiphers,n.listCiphers=a.listCiphers;var l=e("diffie-hellman");n.DiffieHellmanGroup=l.DiffieHellmanGroup,n.createDiffieHellmanGroup=l.createDiffieHellmanGroup,n.getDiffieHellman=l.getDiffieHellman,n.createDiffieHellman=l.createDiffieHellman,n.DiffieHellman=l.DiffieHellman;var c=e("browserify-sign");n.createSign=c.createSign,n.Sign=c.Sign,n.createVerify=c.createVerify,n.Verify=c.Verify,n.createECDH=e("create-ecdh");var u=e("public-encrypt");n.publicEncrypt=u.publicEncrypt,n.privateEncrypt=u.privateEncrypt,n.publicDecrypt=u.publicDecrypt,n.privateDecrypt=u.privateDecrypt;var d=e("randomfill");n.randomFill=d.randomFill,n.randomFillSync=d.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,t,n){"use strict";(function(r,i){typeof n=="object"&&t!==void 0?t.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs=i()})(void 0,function(){var r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",f="year",p="date",g="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(m){var b=["th","st","nd","rd"],w=m%100;return"["+m+(b[(w-20)%10]||b[w]||b[0])+"]"}},k=function(m,b,w){var _=String(m);return!_||_.length>=b?m:""+Array(b+1-_.length).join(w)+m},M={s:k,z:function(m){var b=-m.utcOffset(),w=Math.abs(b),_=Math.floor(w/60),x=w%60;return(b<=0?"+":"-")+k(_,2,"0")+":"+k(x,2,"0")},m:function m(b,w){if(b.date()<w.date())return-m(w,b);var _=12*(w.year()-b.year())+(w.month()-b.month()),x=b.clone().add(_,d),I=w-x<0,O=b.clone().add(_+(I?-1:1),d);return+(-(_+(w-x)/(I?x-O:O-x))||0)},a:function(m){return m<0?Math.ceil(m)||0:Math.floor(m)},p:function(m){return{M:d,y:f,w:u,d:c,D:p,h:l,m:a,s:o,ms:s,Q:h}[m]||String(m||"").toLowerCase().replace(/s$/,"")},u:function(m){return m===void 0}},z="en",F={};F[z]=S;var j="$isDayjsObject",B=function(m){return m instanceof C||!(!m||!m[j])},U=function m(b,w,_){var x;if(!b)return z;if(typeof b=="string"){var I=b.toLowerCase();F[I]&&(x=I),w&&(F[I]=w,x=I);var O=b.split("-");if(!x&&O.length>1)return m(O[0])}else{var $=b.name;F[$]=b,x=$}return!_&&x&&(z=x),x||!_&&z},V=function(m,b){if(B(m))return m.clone();var w=typeof b=="object"?b:{};return w.date=m,w.args=arguments,new C(w)},E=M;E.l=U,E.i=B,E.w=function(m,b){return V(m,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var C=function(){function m(w){this.$L=U(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[j]=!0}var b=m.prototype;return b.parse=function(w){this.$d=function(_){var x=_.date,I=_.utc;if(x===null)return new Date(NaN);if(E.u(x))return new Date;if(x instanceof Date)return new Date(x);if(typeof x=="string"&&!/Z$/i.test(x)){var O=x.match(y);if(O){var $=O[2]-1||0,P=(O[7]||"0").substring(0,3);return I?new Date(Date.UTC(O[1],$,O[3]||1,O[4]||0,O[5]||0,O[6]||0,P)):new Date(O[1],$,O[3]||1,O[4]||0,O[5]||0,O[6]||0,P)}}return new Date(x)}(w),this.init()},b.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},b.$utils=function(){return E},b.isValid=function(){return this.$d.toString()!==g},b.isSame=function(w,_){var x=V(w);return this.startOf(_)<=x&&x<=this.endOf(_)},b.isAfter=function(w,_){return V(w)<this.startOf(_)},b.isBefore=function(w,_){return this.endOf(_)<V(w)},b.$g=function(w,_,x){return E.u(w)?this[_]:this.set(x,w)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(w,_){var x=this,I=!!E.u(_)||_,O=E.p(w),$=function(Z,Q){var J=E.w(x.$u?Date.UTC(x.$y,Q,Z):new Date(x.$y,Q,Z),x);return I?J:J.endOf(c)},P=function(Z,Q){return E.w(x.toDate()[Z].apply(x.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(Q)),x)},G=this.$W,D=this.$M,W=this.$D,A="set"+(this.$u?"UTC":"");switch(O){case f:return I?$(1,0):$(31,11);case d:return I?$(1,D):$(0,D+1);case u:var T=this.$locale().weekStart||0,H=(G<T?G+7:G)-T;return $(I?W-H:W+(6-H),D);case c:case p:return P(A+"Hours",0);case l:return P(A+"Minutes",1);case a:return P(A+"Seconds",2);case o:return P(A+"Milliseconds",3);default:return this.clone()}},b.endOf=function(w){return this.startOf(w,!1)},b.$set=function(w,_){var x,I=E.p(w),O="set"+(this.$u?"UTC":""),$=(x={},x[c]=O+"Date",x[p]=O+"Date",x[d]=O+"Month",x[f]=O+"FullYear",x[l]=O+"Hours",x[a]=O+"Minutes",x[o]=O+"Seconds",x[s]=O+"Milliseconds",x)[I],P=I===c?this.$D+(_-this.$W):_;if(I===d||I===f){var G=this.clone().set(p,1);G.$d[$](P),G.init(),this.$d=G.set(p,Math.min(this.$D,G.daysInMonth())).$d}else $&&this.$d[$](P);return this.init(),this},b.set=function(w,_){return this.clone().$set(w,_)},b.get=function(w){return this[E.p(w)]()},b.add=function(w,_){var x,I=this;w=Number(w);var O=E.p(_),$=function(D){var W=V(I);return E.w(W.date(W.date()+Math.round(D*w)),I)};if(O===d)return this.set(d,this.$M+w);if(O===f)return this.set(f,this.$y+w);if(O===c)return $(1);if(O===u)return $(7);var P=(x={},x[a]=r,x[l]=i,x[o]=1e3,x)[O]||1,G=this.$d.getTime()+w*P;return E.w(G,this)},b.subtract=function(w,_){return this.add(-1*w,_)},b.format=function(w){var _=this,x=this.$locale();if(!this.isValid())return x.invalidDate||g;var I=w||"YYYY-MM-DDTHH:mm:ssZ",O=E.z(this),$=this.$H,P=this.$m,G=this.$M,D=x.weekdays,W=x.months,A=x.meridiem,T=function(Q,J,ne,ge){return Q&&(Q[J]||Q(_,I))||ne[J].slice(0,ge)},H=function(Q){return E.s($%12||12,Q,"0")},Z=A||function(Q,J,ne){var ge=Q<12?"AM":"PM";return ne?ge.toLowerCase():ge};return I.replace(v,function(Q,J){return J||function(ne){switch(ne){case"YY":return String(_.$y).slice(-2);case"YYYY":return E.s(_.$y,4,"0");case"M":return G+1;case"MM":return E.s(G+1,2,"0");case"MMM":return T(x.monthsShort,G,W,3);case"MMMM":return T(W,G);case"D":return _.$D;case"DD":return E.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return T(x.weekdaysMin,_.$W,D,2);case"ddd":return T(x.weekdaysShort,_.$W,D,3);case"dddd":return D[_.$W];case"H":return String($);case"HH":return E.s($,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return Z($,P,!0);case"A":return Z($,P,!1);case"m":return String(P);case"mm":return E.s(P,2,"0");case"s":return String(_.$s);case"ss":return E.s(_.$s,2,"0");case"SSS":return E.s(_.$ms,3,"0");case"Z":return O}return null}(Q)||O.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(w,_,x){var I,O=this,$=E.p(_),P=V(w),G=(P.utcOffset()-this.utcOffset())*r,D=this-P,W=function(){return E.m(O,P)};switch($){case f:I=W()/12;break;case d:I=W();break;case h:I=W()/3;break;case u:I=(D-G)/6048e5;break;case c:I=(D-G)/864e5;break;case l:I=D/i;break;case a:I=D/r;break;case o:I=D/1e3;break;default:I=D}return x?I:E.a(I)},b.daysInMonth=function(){return this.endOf(d).$D},b.$locale=function(){return F[this.$L]},b.locale=function(w,_){if(!w)return this.$L;var x=this.clone(),I=U(w,_,!0);return I&&(x.$L=I),x},b.clone=function(){return E.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},m}(),R=C.prototype;return V.prototype=R,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",f],["$D",p]].forEach(function(m){R[m[1]]=function(b){return this.$g(b,m[0],m[1])}}),V.extend=function(m,b){return m.$i||(m(b,C,V),m.$i=!0),V},V.locale=U,V.isDayjs=B,V.unix=function(m){return V(1e3*m)},V.en=F[z],V.Ls=F,V.p={},V})},{}],392:[function(e,t,n){"use strict";(function(r,i){typeof n=="object"&&t!==void 0?t.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=i()})(void 0,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,o=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},c=function(y){return(y=+y)+(y>68?1900:2e3)},u=function(y){return function(v){this[y]=+v}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var S=v.match(/([+-]|\d\d)/g),k=60*S[1]+(+S[2]||0);return k===0?0:S[0]==="+"?-k:k}(y)}],h=function(y){var v=l[y];return v&&(v.indexOf?v:v.s.concat(v.f))},f=function(y,v){var S,k=l.meridiem;if(k){for(var M=1;M<=24;M+=1)if(y.indexOf(k(M,0,v))>-1){S=M>12;break}}else S=y===(v?"pm":"PM");return S},p={A:[a,function(y){this.afternoon=f(y,!1)}],a:[a,function(y){this.afternoon=f(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[s,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[s,u("day")],Do:[a,function(y){var v=l.ordinal,S=y.match(/\d+/);if(this.day=S[0],v)for(var k=1;k<=31;k+=1)v(k).replace(/\[|\]/g,"")===y&&(this.day=k)}],M:[o,u("month")],MM:[s,u("month")],MMM:[a,function(y){var v=h("months"),S=(h("monthsShort")||v.map(function(k){return k.slice(0,3)})).indexOf(y)+1;if(S<1)throw new Error;this.month=S%12||S}],MMMM:[a,function(y){var v=h("months").indexOf(y)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,u("year")],YY:[s,function(y){this.year=c(y)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function g(y){var v,S;v=y,S=l&&l.formats;for(var k=(y=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(V,E,C){var R=C&&C.toUpperCase();return E||S[C]||r[C]||S[R].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,b,w){return b||w.slice(1)})})).match(i),M=k.length,z=0;z<M;z+=1){var F=k[z],j=p[F],B=j&&j[0],U=j&&j[1];k[z]=U?{regex:B,parser:U}:F.replace(/^\[|\]$/g,"")}return function(V){for(var E={},C=0,R=0;C<M;C+=1){var m=k[C];if(typeof m=="string")R+=m.length;else{var b=m.regex,w=m.parser,_=V.slice(R),x=b.exec(_)[0];w.call(E,x),V=V.replace(x,"")}}return function(I){var O=I.afternoon;if(O!==void 0){var $=I.hours;O?$<12&&(I.hours+=12):$===12&&(I.hours=0),delete I.afternoon}}(E),E}}return function(y,v,S){S.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(c=y.parseTwoDigitYear);var k=v.prototype,M=k.parse;k.parse=function(z){var F=z.date,j=z.utc,B=z.args;this.$u=j;var U=B[1];if(typeof U=="string"){var V=B[2]===!0,E=B[3]===!0,C=V||E,R=B[2];E&&(R=B[2]),l=this.$locale(),!V&&R&&(l=S.Ls[R]),this.$d=function(_,x,I){try{if(["x","X"].indexOf(x)>-1)return new Date((x==="X"?1e3:1)*_);var O=g(x)(_),$=O.year,P=O.month,G=O.day,D=O.hours,W=O.minutes,A=O.seconds,T=O.milliseconds,H=O.zone,Z=new Date,Q=G||($||P?1:Z.getDate()),J=$||Z.getFullYear(),ne=0;$&&!P||(ne=P>0?P-1:Z.getMonth());var ge=D||0,ye=W||0,K=A||0,ce=T||0;return H?new Date(Date.UTC(J,ne,Q,ge,ye,K,ce+60*H.offset*1e3)):I?new Date(Date.UTC(J,ne,Q,ge,ye,K,ce)):new Date(J,ne,Q,ge,ye,K,ce)}catch{return new Date("")}}(F,U,j),this.init(),R&&R!==!0&&(this.$L=this.locale(R).$L),C&&F!=this.format(U)&&(this.$d=new Date("")),l={}}else if(U instanceof Array)for(var m=U.length,b=1;b<=m;b+=1){B[1]=U[b-1];var w=S.apply(this,B);if(w.isValid()){this.$d=w.$d,this.$L=w.$L,this.init();break}b===m&&(this.$d=new Date(""))}else M.call(this,z)}}})},{}],393:[function(e,t,n){"use strict";(function(r,i){typeof n=="object"&&t!==void 0?t.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_utc=i()})(void 0,function(){var r="minute",i=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(o,a,l){var c=a.prototype;l.utc=function(y){var v={date:y,utc:!0,args:arguments};return new a(v)},c.utc=function(y){var v=l(this.toDate(),{locale:this.$L,utc:!0});return y?v.add(this.utcOffset(),r):v},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),u.call(this,y)};var d=c.init;c.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else d.call(this)};var h=c.utcOffset;c.utcOffset=function(y,v){var S=this.$utils().u;if(S(y))return this.$u?0:S(this.$offset)?h.call(this):this.$offset;if(typeof y=="string"&&(y=function(F){F===void 0&&(F="");var j=F.match(i);if(!j)return null;var B=(""+j[0]).match(s)||["-",0,0],U=B[0],V=60*+B[1]+ +B[2];return V===0?0:U==="+"?V:-V}(y))===null)return this;var k=Math.abs(y)<=16?60*y:y,M=this;if(v)return M.$offset=k,M.$u=y===0,M;if(y!==0){var z=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(M=this.local().add(k+z,r)).$offset=k,M.$x.$localOffset=z}else M=this.utc();return M};var f=c.format;c.format=function(y){var v=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,v)},c.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var p=c.toDate;c.toDate=function(y){return y==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var g=c.diff;c.diff=function(y,v,S){if(y&&this.$u===y.$u)return g.call(this,y,v,S);var k=this.local(),M=l(y).local();return g.call(k,M,v,S)}}})},{}],394:[function(e,t,n){"use strict";n.utils=e("./des/utils"),n.Cipher=e("./des/cipher"),n.DES=e("./des/des"),n.CBC=e("./des/cbc"),n.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,t,n){"use strict";var r=e("minimalistic-assert"),i=e("inherits"),s={};function o(a){r.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var l=0;l<this.iv.length;l++)this.iv[l]=a[l]}n.instantiate=function(a){function l(h){a.call(this,h),this._cbcInit()}i(l,a);for(var c=Object.keys(s),u=0;u<c.length;u++){var d=c[u];l.prototype[d]=s[d]}return l.create=function(h){return new l(h)},l},s._cbcInit=function(){var a=new o(this.options.iv);this._cbcState=a},s._update=function(a,l,c,u){var d=this._cbcState,h=this.constructor.super_.prototype,f=d.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)f[p]^=a[l+p];for(h._update.call(this,f,0,c,u),p=0;p<this.blockSize;p++)f[p]=c[u+p]}else{for(h._update.call(this,a,l,c,u),p=0;p<this.blockSize;p++)c[u+p]^=f[p];for(p=0;p<this.blockSize;p++)f[p]=a[l+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,t,n){"use strict";var r=e("minimalistic-assert");function i(s){this.options=s,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=s.padding!==!1}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(s){return s.length===0?[]:this.type==="decrypt"?this._updateDecrypt(s):this._updateEncrypt(s)},i.prototype._buffer=function(s,o){for(var a=Math.min(this.buffer.length-this.bufferOff,s.length-o),l=0;l<a;l++)this.buffer[this.bufferOff+l]=s[o+l];return this.bufferOff+=a,a},i.prototype._flushBuffer=function(s,o){return this._update(this.buffer,0,s,o),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(s){var o=0,a=0,l=(this.bufferOff+s.length)/this.blockSize|0,c=new Array(l*this.blockSize);this.bufferOff!==0&&(o+=this._buffer(s,o),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(c,a)));for(var u=s.length-(s.length-o)%this.blockSize;o<u;o+=this.blockSize)this._update(s,o,c,a),a+=this.blockSize;for(;o<s.length;o++,this.bufferOff++)this.buffer[this.bufferOff]=s[o];return c},i.prototype._updateDecrypt=function(s){for(var o=0,a=0,l=Math.ceil((this.bufferOff+s.length)/this.blockSize)-1,c=new Array(l*this.blockSize);l>0;l--)o+=this._buffer(s,o),a+=this._flushBuffer(c,a);return o+=this._buffer(s,o),c},i.prototype.final=function(s){var o,a;return s&&(o=this.update(s)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),o?o.concat(a):a},i.prototype._pad=function(s,o){if(o===0)return!1;for(;o<s.length;)s[o++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var s=new Array(this.blockSize);return this._update(this.buffer,0,s,0),s},i.prototype._unpad=function(s){return s},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var s=new Array(this.blockSize);return this._flushBuffer(s,0),this._unpad(s)}},{"minimalistic-assert":453}],397:[function(e,t,n){"use strict";var r=e("minimalistic-assert"),i=e("inherits"),s=e("./utils"),o=e("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function l(u){o.call(this,u);var d=new a;this._desState=d,this.deriveKeys(d,u.key)}i(l,o),t.exports=l,l.create=function(u){return new l(u)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(u,d){u.keys=new Array(32),r.equal(d.length,this.blockSize,"Invalid key length");var h=s.readUInt32BE(d,0),f=s.readUInt32BE(d,4);s.pc1(h,f,u.tmp,0),h=u.tmp[0],f=u.tmp[1];for(var p=0;p<u.keys.length;p+=2){var g=c[p>>>1];h=s.r28shl(h,g),f=s.r28shl(f,g),s.pc2(h,f,u.keys,p)}},l.prototype._update=function(u,d,h,f){var p=this._desState,g=s.readUInt32BE(u,d),y=s.readUInt32BE(u,d+4);s.ip(g,y,p.tmp,0),g=p.tmp[0],y=p.tmp[1],this.type==="encrypt"?this._encrypt(p,g,y,p.tmp,0):this._decrypt(p,g,y,p.tmp,0),g=p.tmp[0],y=p.tmp[1],s.writeUInt32BE(h,g,f),s.writeUInt32BE(h,y,f+4)},l.prototype._pad=function(u,d){if(this.padding===!1)return!1;for(var h=u.length-d,f=d;f<u.length;f++)u[f]=h;return!0},l.prototype._unpad=function(u){if(this.padding===!1)return u;for(var d=u[u.length-1],h=u.length-d;h<u.length;h++)r.equal(u[h],d);return u.slice(0,u.length-d)},l.prototype._encrypt=function(u,d,h,f,p){for(var g=d,y=h,v=0;v<u.keys.length;v+=2){var S=u.keys[v],k=u.keys[v+1];s.expand(y,u.tmp,0),S^=u.tmp[0],k^=u.tmp[1];var M=s.substitute(S,k),z=y;y=(g^s.permute(M))>>>0,g=z}s.rip(y,g,f,p)},l.prototype._decrypt=function(u,d,h,f,p){for(var g=h,y=d,v=u.keys.length-2;v>=0;v-=2){var S=u.keys[v],k=u.keys[v+1];s.expand(g,u.tmp,0),S^=u.tmp[0],k^=u.tmp[1];var M=s.substitute(S,k),z=g;g=(y^s.permute(M))>>>0,y=z}s.rip(g,y,f,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,t,n){"use strict";var r=e("minimalistic-assert"),i=e("inherits"),s=e("./cipher"),o=e("./des");function a(c,u){r.equal(u.length,24,"Invalid key length");var d=u.slice(0,8),h=u.slice(8,16),f=u.slice(16,24);this.ciphers=c==="encrypt"?[o.create({type:"encrypt",key:d}),o.create({type:"decrypt",key:h}),o.create({type:"encrypt",key:f})]:[o.create({type:"decrypt",key:f}),o.create({type:"encrypt",key:h}),o.create({type:"decrypt",key:d})]}function l(c){s.call(this,c);var u=new a(this.type,this.options.key);this._edeState=u}i(l,s),t.exports=l,l.create=function(c){return new l(c)},l.prototype._update=function(c,u,d,h){var f=this._edeState;f.ciphers[0]._update(c,u,d,h),f.ciphers[1]._update(d,h,d,h),f.ciphers[2]._update(d,h,d,h)},l.prototype._pad=o.prototype._pad,l.prototype._unpad=o.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,t,n){"use strict";n.readUInt32BE=function(o,a){return(o[0+a]<<24|o[1+a]<<16|o[2+a]<<8|o[3+a])>>>0},n.writeUInt32BE=function(o,a,l){o[0+l]=a>>>24,o[1+l]=a>>>16&255,o[2+l]=a>>>8&255,o[3+l]=255&a},n.ip=function(o,a,l,c){for(var u=0,d=0,h=6;h>=0;h-=2){for(var f=0;f<=24;f+=8)u<<=1,u|=a>>>f+h&1;for(f=0;f<=24;f+=8)u<<=1,u|=o>>>f+h&1}for(h=6;h>=0;h-=2){for(f=1;f<=25;f+=8)d<<=1,d|=a>>>f+h&1;for(f=1;f<=25;f+=8)d<<=1,d|=o>>>f+h&1}l[c+0]=u>>>0,l[c+1]=d>>>0},n.rip=function(o,a,l,c){for(var u=0,d=0,h=0;h<4;h++)for(var f=24;f>=0;f-=8)u<<=1,u|=a>>>f+h&1,u<<=1,u|=o>>>f+h&1;for(h=4;h<8;h++)for(f=24;f>=0;f-=8)d<<=1,d|=a>>>f+h&1,d<<=1,d|=o>>>f+h&1;l[c+0]=u>>>0,l[c+1]=d>>>0},n.pc1=function(o,a,l,c){for(var u=0,d=0,h=7;h>=5;h--){for(var f=0;f<=24;f+=8)u<<=1,u|=a>>f+h&1;for(f=0;f<=24;f+=8)u<<=1,u|=o>>f+h&1}for(f=0;f<=24;f+=8)u<<=1,u|=a>>f+h&1;for(h=1;h<=3;h++){for(f=0;f<=24;f+=8)d<<=1,d|=a>>f+h&1;for(f=0;f<=24;f+=8)d<<=1,d|=o>>f+h&1}for(f=0;f<=24;f+=8)d<<=1,d|=o>>f+h&1;l[c+0]=u>>>0,l[c+1]=d>>>0},n.r28shl=function(o,a){return o<<a&268435455|o>>>28-a};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(o,a,l,c){for(var u=0,d=0,h=r.length>>>1,f=0;f<h;f++)u<<=1,u|=o>>>r[f]&1;for(f=h;f<r.length;f++)d<<=1,d|=a>>>r[f]&1;l[c+0]=u>>>0,l[c+1]=d>>>0},n.expand=function(o,a,l){var c=0,u=0;c=(1&o)<<5|o>>>27;for(var d=23;d>=15;d-=4)c<<=6,c|=o>>>d&63;for(d=11;d>=3;d-=4)u|=o>>>d&63,u<<=6;u|=(31&o)<<1|o>>>31,a[l+0]=c>>>0,a[l+1]=u>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(o,a){for(var l=0,c=0;c<4;c++)l<<=4,l|=i[64*c+(o>>>18-6*c&63)];for(c=0;c<4;c++)l<<=4,l|=i[256+64*c+(a>>>18-6*c&63)];return l>>>0};var s=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(o){for(var a=0,l=0;l<s.length;l++)a<<=1,a|=o>>>s[l]&1;return a>>>0},n.padSplit=function(o,a,l){for(var c=o.toString(2);c.length<a;)c="0"+c;for(var u=[],d=0;d<a;d+=l)u.push(c.slice(d,d+l));return u.join(" ")}},{}],400:[function(e,t,n){(function(r){(function(){"use strict";var i=e("./lib/generatePrime"),s=e("./lib/primes.json"),o=e("./lib/dh"),a={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(l){var c=new r(s[l].prime,"hex"),u=new r(s[l].gen,"hex");return new o(c,u)},n.createDiffieHellman=n.DiffieHellman=function l(c,u,d,h){return r.isBuffer(u)||a[u]===void 0?l(c,"binary",u,d):(u=u||"binary",h=h||"binary",d=d||new r([2]),r.isBuffer(d)||(d=new r(d,h)),typeof c=="number"?new o(i(c,d),d,!0):(r.isBuffer(c)||(c=new r(c,u)),new o(c,d,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,t,n){(function(r){(function(){"use strict";var i=e("bn.js"),s=new(e("miller-rabin")),o=new i(24),a=new i(11),l=new i(10),c=new i(3),u=new i(7),d=e("./generatePrime"),h=e("randombytes");function f(S,k){return k=k||"utf8",r.isBuffer(S)||(S=new r(S,k)),this._pub=new i(S),this}function p(S,k){return k=k||"utf8",r.isBuffer(S)||(S=new r(S,k)),this._priv=new i(S),this}t.exports=y;var g={};function y(S,k,M){this.setGenerator(k),this.__prime=new i(S),this._prime=i.mont(this.__prime),this._primeLen=S.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,M?(this.setPublicKey=f,this.setPrivateKey=p):this._primeCode=8}function v(S,k){var M=new r(S.toArray());return k?M.toString(k):M}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(S,k){var M=k.toString("hex"),z=[M,S.toString(16)].join("_");if(z in g)return g[z];var F,j=0;if(S.isEven()||!d.simpleSieve||!d.fermatTest(S)||!s.test(S))return j+=1,j+=M==="02"||M==="05"?8:4,g[z]=j,j;switch(s.test(S.shrn(1))||(j+=2),M){case"02":S.mod(o).cmp(a)&&(j+=8);break;case"05":(F=S.mod(l)).cmp(c)&&F.cmp(u)&&(j+=8);break;default:j+=4}return g[z]=j,j}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new i(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(S){var k=(S=(S=new i(S)).toRed(this._prime)).redPow(this._priv).fromRed(),M=new r(k.toArray()),z=this.getPrime();if(M.length<z.length){var F=new r(z.length-M.length);F.fill(0),M=r.concat([F,M])}return M},y.prototype.getPublicKey=function(S){return v(this._pub,S)},y.prototype.getPrivateKey=function(S){return v(this._priv,S)},y.prototype.getPrime=function(S){return v(this.__prime,S)},y.prototype.getGenerator=function(S){return v(this._gen,S)},y.prototype.setGenerator=function(S,k){return k=k||"utf8",r.isBuffer(S)||(S=new r(S,k)),this.__gen=S,this._gen=new i(S),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,t,n){"use strict";var r=e("randombytes");t.exports=S,S.simpleSieve=y,S.fermatTest=v;var i=e("bn.js"),s=new i(24),o=new(e("miller-rabin")),a=new i(1),l=new i(2),c=new i(5),u=(new i(16),new i(8),new i(10)),d=new i(3),h=(new i(7),new i(11)),f=new i(4),p=(new i(12),null);function g(){if(p!==null)return p;var k=[];k[0]=2;for(var M=1,z=3;z<1048576;z+=2){for(var F=Math.ceil(Math.sqrt(z)),j=0;j<M&&k[j]<=F&&z%k[j]!=0;j++);M!==j&&k[j]<=F||(k[M++]=z)}return p=k,k}function y(k){for(var M=g(),z=0;z<M.length;z++)if(k.modn(M[z])===0)return k.cmpn(M[z])===0;return!0}function v(k){var M=i.mont(k);return l.toRed(M).redPow(k.subn(1)).fromRed().cmpn(1)===0}function S(k,M){if(k<16)return new i(M===2||M===5?[140,123]:[140,39]);var z,F;for(M=new i(M);;){for(z=new i(r(Math.ceil(k/8)));z.bitLength()>k;)z.ishrn(1);if(z.isEven()&&z.iadd(a),z.testn(1)||z.iadd(l),M.cmp(l)){if(!M.cmp(c))for(;z.mod(u).cmp(d);)z.iadd(f)}else for(;z.mod(s).cmp(h);)z.iadd(f);if(y(F=z.shrn(1))&&y(z)&&v(F)&&v(z)&&o.test(F)&&o.test(z))return z}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,t,n){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],405:[function(e,t,n){"use strict";var r=n;r.version=e("../package.json").version,r.utils=e("./elliptic/utils"),r.rand=e("brorand"),r.curve=e("./elliptic/curve"),r.curves=e("./elliptic/curves"),r.ec=e("./elliptic/ec"),r.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("../utils"),s=i.getNAF,o=i.getJSF,a=i.assert;function l(u,d){this.type=u,this.p=new r(d.p,16),this.red=d.prime?r.red(d.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=d.n&&new r(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var h=this.n&&this.p.div(this.n);!h||h.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(u,d){this.curve=u,this.type=d,this.precomputed=null}t.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(u,d){a(u.precomputed);var h=u._getDoubles(),f=s(d,1,this._bitLength),p=(1<<h.step+1)-(h.step%2==0?2:1);p/=3;var g,y,v=[];for(g=0;g<f.length;g+=h.step){y=0;for(var S=g+h.step-1;S>=g;S--)y=(y<<1)+f[S];v.push(y)}for(var k=this.jpoint(null,null,null),M=this.jpoint(null,null,null),z=p;z>0;z--){for(g=0;g<v.length;g++)(y=v[g])===z?M=M.mixedAdd(h.points[g]):y===-z&&(M=M.mixedAdd(h.points[g].neg()));k=k.add(M)}return k.toP()},l.prototype._wnafMul=function(u,d){var h=4,f=u._getNAFPoints(h);h=f.wnd;for(var p=f.points,g=s(d,h,this._bitLength),y=this.jpoint(null,null,null),v=g.length-1;v>=0;v--){for(var S=0;v>=0&&g[v]===0;v--)S++;if(v>=0&&S++,y=y.dblp(S),v<0)break;var k=g[v];a(k!==0),y=u.type==="affine"?k>0?y.mixedAdd(p[k-1>>1]):y.mixedAdd(p[-k-1>>1].neg()):k>0?y.add(p[k-1>>1]):y.add(p[-k-1>>1].neg())}return u.type==="affine"?y.toP():y},l.prototype._wnafMulAdd=function(u,d,h,f,p){var g,y,v,S=this._wnafT1,k=this._wnafT2,M=this._wnafT3,z=0;for(g=0;g<f;g++){var F=(v=d[g])._getNAFPoints(u);S[g]=F.wnd,k[g]=F.points}for(g=f-1;g>=1;g-=2){var j=g-1,B=g;if(S[j]===1&&S[B]===1){var U=[d[j],null,null,d[B]];d[j].y.cmp(d[B].y)===0?(U[1]=d[j].add(d[B]),U[2]=d[j].toJ().mixedAdd(d[B].neg())):d[j].y.cmp(d[B].y.redNeg())===0?(U[1]=d[j].toJ().mixedAdd(d[B]),U[2]=d[j].add(d[B].neg())):(U[1]=d[j].toJ().mixedAdd(d[B]),U[2]=d[j].toJ().mixedAdd(d[B].neg()));var V=[-3,-1,-5,-7,0,7,5,1,3],E=o(h[j],h[B]);for(z=Math.max(E[0].length,z),M[j]=new Array(z),M[B]=new Array(z),y=0;y<z;y++){var C=0|E[0][y],R=0|E[1][y];M[j][y]=V[3*(C+1)+(R+1)],M[B][y]=0,k[j]=U}}else M[j]=s(h[j],S[j],this._bitLength),M[B]=s(h[B],S[B],this._bitLength),z=Math.max(M[j].length,z),z=Math.max(M[B].length,z)}var m=this.jpoint(null,null,null),b=this._wnafT4;for(g=z;g>=0;g--){for(var w=0;g>=0;){var _=!0;for(y=0;y<f;y++)b[y]=0|M[y][g],b[y]!==0&&(_=!1);if(!_)break;w++,g--}if(g>=0&&w++,m=m.dblp(w),g<0)break;for(y=0;y<f;y++){var x=b[y];x!==0&&(x>0?v=k[y][x-1>>1]:x<0&&(v=k[y][-x-1>>1].neg()),m=v.type==="affine"?m.mixedAdd(v):m.add(v))}}for(g=0;g<f;g++)k[g]=null;return p?m:m.toP()},l.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(u,d){u=i.toArray(u,d);var h=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1==2*h)return u[0]===6?a(u[u.length-1]%2==0):u[0]===7&&a(u[u.length-1]%2==1),this.point(u.slice(1,1+h),u.slice(1+h,1+2*h));if((u[0]===2||u[0]===3)&&u.length-1===h)return this.pointFromX(u.slice(1,1+h),u[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(u){return this.encode(u,!0)},c.prototype._encode=function(u){var d=this.curve.p.byteLength(),h=this.getX().toArray("be",d);return u?[this.getY().isEven()?2:3].concat(h):[4].concat(h,this.getY().toArray("be",d))},c.prototype.encode=function(u,d){return i.encode(this._encode(d),u)},c.prototype.precompute=function(u){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,u),d.beta=this._getBeta(),this.precomputed=d,this},c.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((u.bitLength()+1)/d.step)},c.prototype._getDoubles=function(u,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var h=[this],f=this,p=0;p<d;p+=u){for(var g=0;g<u;g++)f=f.dbl();h.push(f)}return{step:u,points:h}},c.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],h=(1<<u)-1,f=h===1?null:this.dbl(),p=1;p<h;p++)d[p]=d[p-1].add(f);return{wnd:u,points:d}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(u){for(var d=this,h=0;h<u;h++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(e,t,n){"use strict";var r=e("../utils"),i=e("bn.js"),s=e("inherits"),o=e("./base"),a=r.assert;function l(u){this.twisted=(0|u.a)!=1,this.mOneA=this.twisted&&(0|u.a)==-1,this.extended=this.mOneA,o.call(this,"edwards",u),this.a=new i(u.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(u.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(u.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|u.c)==1}function c(u,d,h,f,p){o.BasePoint.call(this,u,"projective"),d===null&&h===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(d,16),this.y=new i(h,16),this.z=f?new i(f,16):this.curve.one,this.t=p&&new i(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(l,o),t.exports=l,l.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},l.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},l.prototype.jpoint=function(u,d,h,f){return this.point(u,d,h,f)},l.prototype.pointFromX=function(u,d){(u=new i(u,16)).red||(u=u.toRed(this.red));var h=u.redSqr(),f=this.c2.redSub(this.a.redMul(h)),p=this.one.redSub(this.c2.redMul(this.d).redMul(h)),g=f.redMul(p.redInvm()),y=g.redSqrt();if(y.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var v=y.fromRed().isOdd();return(d&&!v||!d&&v)&&(y=y.redNeg()),this.point(u,y)},l.prototype.pointFromY=function(u,d){(u=new i(u,16)).red||(u=u.toRed(this.red));var h=u.redSqr(),f=h.redSub(this.c2),p=h.redMul(this.d).redMul(this.c2).redSub(this.a),g=f.redMul(p.redInvm());if(g.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,u)}var y=g.redSqrt();if(y.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==d&&(y=y.redNeg()),this.point(y,u)},l.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var d=u.x.redSqr(),h=u.y.redSqr(),f=d.redMul(this.a).redAdd(h),p=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(h)));return f.cmp(p)===0},s(c,o.BasePoint),l.prototype.pointFromJSON=function(u){return c.fromJSON(this,u)},l.prototype.point=function(u,d,h,f){return new c(this,u,d,h,f)},c.fromJSON=function(u,d){return new c(u,d[0],d[1],d[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var u=this.x.redSqr(),d=this.y.redSqr(),h=this.z.redSqr();h=h.redIAdd(h);var f=this.curve._mulA(u),p=this.x.redAdd(this.y).redSqr().redISub(u).redISub(d),g=f.redAdd(d),y=g.redSub(h),v=f.redSub(d),S=p.redMul(y),k=g.redMul(v),M=p.redMul(v),z=y.redMul(g);return this.curve.point(S,k,z,M)},c.prototype._projDbl=function(){var u,d,h,f,p,g,y=this.x.redAdd(this.y).redSqr(),v=this.x.redSqr(),S=this.y.redSqr();if(this.curve.twisted){var k=(f=this.curve._mulA(v)).redAdd(S);this.zOne?(u=y.redSub(v).redSub(S).redMul(k.redSub(this.curve.two)),d=k.redMul(f.redSub(S)),h=k.redSqr().redSub(k).redSub(k)):(p=this.z.redSqr(),g=k.redSub(p).redISub(p),u=y.redSub(v).redISub(S).redMul(g),d=k.redMul(f.redSub(S)),h=k.redMul(g))}else f=v.redAdd(S),p=this.curve._mulC(this.z).redSqr(),g=f.redSub(p).redSub(p),u=this.curve._mulC(y.redISub(f)).redMul(g),d=this.curve._mulC(f).redMul(v.redISub(S)),h=f.redMul(g);return this.curve.point(u,d,h)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(u){var d=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),h=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),f=this.t.redMul(this.curve.dd).redMul(u.t),p=this.z.redMul(u.z.redAdd(u.z)),g=h.redSub(d),y=p.redSub(f),v=p.redAdd(f),S=h.redAdd(d),k=g.redMul(y),M=v.redMul(S),z=g.redMul(S),F=y.redMul(v);return this.curve.point(k,M,F,z)},c.prototype._projAdd=function(u){var d,h,f=this.z.redMul(u.z),p=f.redSqr(),g=this.x.redMul(u.x),y=this.y.redMul(u.y),v=this.curve.d.redMul(g).redMul(y),S=p.redSub(v),k=p.redAdd(v),M=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(g).redISub(y),z=f.redMul(S).redMul(M);return this.curve.twisted?(d=f.redMul(k).redMul(y.redSub(this.curve._mulA(g))),h=S.redMul(k)):(d=f.redMul(k).redMul(y.redSub(g)),h=this.curve._mulC(S).redMul(k)),this.curve.point(z,d,h)},c.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},c.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},c.prototype.mulAdd=function(u,d,h){return this.curve._wnafMulAdd(1,[this,d],[u,h],2,!1)},c.prototype.jmulAdd=function(u,d,h){return this.curve._wnafMulAdd(1,[this,d],[u,h],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},c.prototype.eqXToP=function(u){var d=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var h=u.clone(),f=this.curve.redN.redMul(this.z);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(f),this.x.cmp(d)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,t,n){"use strict";var r=n;r.base=e("./base"),r.short=e("./short"),r.mont=e("./mont"),r.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("inherits"),s=e("./base"),o=e("../utils");function a(c){s.call(this,"mont",c),this.a=new r(c.a,16).toRed(this.red),this.b=new r(c.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(c,u,d){s.BasePoint.call(this,c,"projective"),u===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(u,16),this.z=new r(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),t.exports=a,a.prototype.validate=function(c){var u=c.normalize().x,d=u.redSqr(),h=d.redMul(u).redAdd(d.redMul(this.a)).redAdd(u);return h.redSqrt().redSqr().cmp(h)===0},i(l,s.BasePoint),a.prototype.decodePoint=function(c,u){return this.point(o.toArray(c,u),1)},a.prototype.point=function(c,u){return new l(this,c,u)},a.prototype.pointFromJSON=function(c){return l.fromJSON(this,c)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(c,u){return new l(c,u[0],u[1]||c.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var c=this.x.redAdd(this.z).redSqr(),u=this.x.redSub(this.z).redSqr(),d=c.redSub(u),h=c.redMul(u),f=d.redMul(u.redAdd(this.curve.a24.redMul(d)));return this.curve.point(h,f)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(c,u){var d=this.x.redAdd(this.z),h=this.x.redSub(this.z),f=c.x.redAdd(c.z),p=c.x.redSub(c.z).redMul(d),g=f.redMul(h),y=u.z.redMul(p.redAdd(g).redSqr()),v=u.x.redMul(p.redISub(g).redSqr());return this.curve.point(y,v)},l.prototype.mul=function(c){for(var u=c.clone(),d=this,h=this.curve.point(null,null),f=[];u.cmpn(0)!==0;u.iushrn(1))f.push(u.andln(1));for(var p=f.length-1;p>=0;p--)f[p]===0?(d=d.diffAdd(h,this),h=h.dbl()):(h=d.diffAdd(h,this),d=d.dbl());return h},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,t,n){"use strict";var r=e("../utils"),i=e("bn.js"),s=e("inherits"),o=e("./base"),a=r.assert;function l(d){o.call(this,"short",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(d,h,f,p){o.BasePoint.call(this,d,"affine"),h===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(h,16),this.y=new i(f,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(d,h,f,p){o.BasePoint.call(this,d,"jacobian"),h===null&&f===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(h,16),this.y=new i(f,16),this.z=new i(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(l,o),t.exports=l,l.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var h,f;if(d.beta)h=new i(d.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);h=(h=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(d.lambda)f=new i(d.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(h))===0?f=g[0]:(f=g[1],a(this.g.mul(f).x.cmp(this.g.x.redMul(h))===0))}return{beta:h,lambda:f,basis:d.basis?d.basis.map(function(y){return{a:new i(y.a,16),b:new i(y.b,16)}}):this._getEndoBasis(f)}}},l.prototype._getEndoRoots=function(d){var h=d===this.p?this.red:i.mont(d),f=new i(2).toRed(h).redInvm(),p=f.redNeg(),g=new i(3).toRed(h).redNeg().redSqrt().redMul(f);return[p.redAdd(g).fromRed(),p.redSub(g).fromRed()]},l.prototype._getEndoBasis=function(d){for(var h,f,p,g,y,v,S,k,M,z=this.n.ushrn(Math.floor(this.n.bitLength()/2)),F=d,j=this.n.clone(),B=new i(1),U=new i(0),V=new i(0),E=new i(1),C=0;F.cmpn(0)!==0;){var R=j.div(F);k=j.sub(R.mul(F)),M=V.sub(R.mul(B));var m=E.sub(R.mul(U));if(!p&&k.cmp(z)<0)h=S.neg(),f=B,p=k.neg(),g=M;else if(p&&++C==2)break;S=k,j=F,F=k,V=B,B=M,E=U,U=m}y=k.neg(),v=M;var b=p.sqr().add(g.sqr());return y.sqr().add(v.sqr()).cmp(b)>=0&&(y=h,v=f),p.negative&&(p=p.neg(),g=g.neg()),y.negative&&(y=y.neg(),v=v.neg()),[{a:p,b:g},{a:y,b:v}]},l.prototype._endoSplit=function(d){var h=this.endo.basis,f=h[0],p=h[1],g=p.b.mul(d).divRound(this.n),y=f.b.neg().mul(d).divRound(this.n),v=g.mul(f.a),S=y.mul(p.a),k=g.mul(f.b),M=y.mul(p.b);return{k1:d.sub(v).sub(S),k2:k.add(M).neg()}},l.prototype.pointFromX=function(d,h){(d=new i(d,16)).red||(d=d.toRed(this.red));var f=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),p=f.redSqrt();if(p.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var g=p.fromRed().isOdd();return(h&&!g||!h&&g)&&(p=p.redNeg()),this.point(d,p)},l.prototype.validate=function(d){if(d.inf)return!0;var h=d.x,f=d.y,p=this.a.redMul(h),g=h.redSqr().redMul(h).redIAdd(p).redIAdd(this.b);return f.redSqr().redISub(g).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(d,h,f){for(var p=this._endoWnafT1,g=this._endoWnafT2,y=0;y<d.length;y++){var v=this._endoSplit(h[y]),S=d[y],k=S._getBeta();v.k1.negative&&(v.k1.ineg(),S=S.neg(!0)),v.k2.negative&&(v.k2.ineg(),k=k.neg(!0)),p[2*y]=S,p[2*y+1]=k,g[2*y]=v.k1,g[2*y+1]=v.k2}for(var M=this._wnafMulAdd(1,p,g,2*y,f),z=0;z<2*y;z++)p[z]=null,g[z]=null;return M},s(c,o.BasePoint),l.prototype.point=function(d,h,f){return new c(this,d,h,f)},l.prototype.pointFromJSON=function(d,h){return c.fromJSON(this,d,h)},c.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var h=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var f=this.curve,p=function(g){return f.point(g.x.redMul(f.endo.beta),g.y)};d.beta=h,h.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(p)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(p)}}}return h}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(d,h,f){typeof h=="string"&&(h=JSON.parse(h));var p=d.point(h[0],h[1],f);if(!h[2])return p;function g(v){return d.point(v[0],v[1],f)}var y=h[2];return p.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[p].concat(y.doubles.points.map(g))},naf:y.naf&&{wnd:y.naf.wnd,points:[p].concat(y.naf.points.map(g))}},p},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var h=this.y.redSub(d.y);h.cmpn(0)!==0&&(h=h.redMul(this.x.redSub(d.x).redInvm()));var f=h.redSqr().redISub(this.x).redISub(d.x),p=h.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,p)},c.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var h=this.curve.a,f=this.x.redSqr(),p=d.redInvm(),g=f.redAdd(f).redIAdd(f).redIAdd(h).redMul(p),y=g.redSqr().redISub(this.x.redAdd(this.x)),v=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,v)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(d){return d=new i(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},c.prototype.mulAdd=function(d,h,f){var p=[this,h],g=[d,f];return this.curve.endo?this.curve._endoWnafMulAdd(p,g):this.curve._wnafMulAdd(1,p,g,2)},c.prototype.jmulAdd=function(d,h,f){var p=[this,h],g=[d,f];return this.curve.endo?this.curve._endoWnafMulAdd(p,g,!0):this.curve._wnafMulAdd(1,p,g,2,!0)},c.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},c.prototype.neg=function(d){if(this.inf)return this;var h=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var f=this.precomputed,p=function(g){return g.neg()};h.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(p)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(p)}}}return h},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(u,o.BasePoint),l.prototype.jpoint=function(d,h,f){return new u(this,d,h,f)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),h=d.redSqr(),f=this.x.redMul(h),p=this.y.redMul(h).redMul(d);return this.curve.point(f,p)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var h=d.z.redSqr(),f=this.z.redSqr(),p=this.x.redMul(h),g=d.x.redMul(f),y=this.y.redMul(h.redMul(d.z)),v=d.y.redMul(f.redMul(this.z)),S=p.redSub(g),k=y.redSub(v);if(S.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var M=S.redSqr(),z=M.redMul(S),F=p.redMul(M),j=k.redSqr().redIAdd(z).redISub(F).redISub(F),B=k.redMul(F.redISub(j)).redISub(y.redMul(z)),U=this.z.redMul(d.z).redMul(S);return this.curve.jpoint(j,B,U)},u.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var h=this.z.redSqr(),f=this.x,p=d.x.redMul(h),g=this.y,y=d.y.redMul(h).redMul(this.z),v=f.redSub(p),S=g.redSub(y);if(v.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=v.redSqr(),M=k.redMul(v),z=f.redMul(k),F=S.redSqr().redIAdd(M).redISub(z).redISub(z),j=S.redMul(z.redISub(F)).redISub(g.redMul(M)),B=this.z.redMul(v);return this.curve.jpoint(F,j,B)},u.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var h;if(this.curve.zeroA||this.curve.threeA){var f=this;for(h=0;h<d;h++)f=f.dbl();return f}var p=this.curve.a,g=this.curve.tinv,y=this.x,v=this.y,S=this.z,k=S.redSqr().redSqr(),M=v.redAdd(v);for(h=0;h<d;h++){var z=y.redSqr(),F=M.redSqr(),j=F.redSqr(),B=z.redAdd(z).redIAdd(z).redIAdd(p.redMul(k)),U=y.redMul(F),V=B.redSqr().redISub(U.redAdd(U)),E=U.redISub(V),C=B.redMul(E);C=C.redIAdd(C).redISub(j);var R=M.redMul(S);h+1<d&&(k=k.redMul(j)),y=V,S=R,M=C}return this.curve.jpoint(y,M.redMul(g),S)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var d,h,f;if(this.zOne){var p=this.x.redSqr(),g=this.y.redSqr(),y=g.redSqr(),v=this.x.redAdd(g).redSqr().redISub(p).redISub(y);v=v.redIAdd(v);var S=p.redAdd(p).redIAdd(p),k=S.redSqr().redISub(v).redISub(v),M=y.redIAdd(y);M=(M=M.redIAdd(M)).redIAdd(M),d=k,h=S.redMul(v.redISub(k)).redISub(M),f=this.y.redAdd(this.y)}else{var z=this.x.redSqr(),F=this.y.redSqr(),j=F.redSqr(),B=this.x.redAdd(F).redSqr().redISub(z).redISub(j);B=B.redIAdd(B);var U=z.redAdd(z).redIAdd(z),V=U.redSqr(),E=j.redIAdd(j);E=(E=E.redIAdd(E)).redIAdd(E),d=V.redISub(B).redISub(B),h=U.redMul(B.redISub(d)).redISub(E),f=(f=this.y.redMul(this.z)).redIAdd(f)}return this.curve.jpoint(d,h,f)},u.prototype._threeDbl=function(){var d,h,f;if(this.zOne){var p=this.x.redSqr(),g=this.y.redSqr(),y=g.redSqr(),v=this.x.redAdd(g).redSqr().redISub(p).redISub(y);v=v.redIAdd(v);var S=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),k=S.redSqr().redISub(v).redISub(v);d=k;var M=y.redIAdd(y);M=(M=M.redIAdd(M)).redIAdd(M),h=S.redMul(v.redISub(k)).redISub(M),f=this.y.redAdd(this.y)}else{var z=this.z.redSqr(),F=this.y.redSqr(),j=this.x.redMul(F),B=this.x.redSub(z).redMul(this.x.redAdd(z));B=B.redAdd(B).redIAdd(B);var U=j.redIAdd(j),V=(U=U.redIAdd(U)).redAdd(U);d=B.redSqr().redISub(V),f=this.y.redAdd(this.z).redSqr().redISub(F).redISub(z);var E=F.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),h=B.redMul(U.redISub(d)).redISub(E)}return this.curve.jpoint(d,h,f)},u.prototype._dbl=function(){var d=this.curve.a,h=this.x,f=this.y,p=this.z,g=p.redSqr().redSqr(),y=h.redSqr(),v=f.redSqr(),S=y.redAdd(y).redIAdd(y).redIAdd(d.redMul(g)),k=h.redAdd(h),M=(k=k.redIAdd(k)).redMul(v),z=S.redSqr().redISub(M.redAdd(M)),F=M.redISub(z),j=v.redSqr();j=(j=(j=j.redIAdd(j)).redIAdd(j)).redIAdd(j);var B=S.redMul(F).redISub(j),U=f.redAdd(f).redMul(p);return this.curve.jpoint(z,B,U)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),h=this.y.redSqr(),f=this.z.redSqr(),p=h.redSqr(),g=d.redAdd(d).redIAdd(d),y=g.redSqr(),v=this.x.redAdd(h).redSqr().redISub(d).redISub(p),S=(v=(v=(v=v.redIAdd(v)).redAdd(v).redIAdd(v)).redISub(y)).redSqr(),k=p.redIAdd(p);k=(k=(k=k.redIAdd(k)).redIAdd(k)).redIAdd(k);var M=g.redIAdd(v).redSqr().redISub(y).redISub(S).redISub(k),z=h.redMul(M);z=(z=z.redIAdd(z)).redIAdd(z);var F=this.x.redMul(S).redISub(z);F=(F=F.redIAdd(F)).redIAdd(F);var j=this.y.redMul(M.redMul(k.redISub(M)).redISub(v.redMul(S)));j=(j=(j=j.redIAdd(j)).redIAdd(j)).redIAdd(j);var B=this.z.redAdd(v).redSqr().redISub(f).redISub(S);return this.curve.jpoint(F,j,B)},u.prototype.mul=function(d,h){return d=new i(d,h),this.curve._wnafMul(this,d)},u.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var h=this.z.redSqr(),f=d.z.redSqr();if(this.x.redMul(f).redISub(d.x.redMul(h)).cmpn(0)!==0)return!1;var p=h.redMul(this.z),g=f.redMul(d.z);return this.y.redMul(g).redISub(d.y.redMul(p)).cmpn(0)===0},u.prototype.eqXToP=function(d){var h=this.z.redSqr(),f=d.toRed(this.curve.red).redMul(h);if(this.x.cmp(f)===0)return!0;for(var p=d.clone(),g=this.curve.redN.redMul(h);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(g),this.x.cmp(f)===0)return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,t,n){"use strict";var r,i=n,s=e("hash.js"),o=e("./curve"),a=e("./utils").assert;function l(u){u.type==="short"?this.curve=new o.short(u):u.type==="edwards"?this.curve=new o.edwards(u):this.curve=new o.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(u,d){Object.defineProperty(i,u,{configurable:!0,enumerable:!0,get:function(){var h=new l(d);return Object.defineProperty(i,u,{configurable:!0,enumerable:!0,value:h}),h}})}i.PresetCurve=l,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=e("./precomputed/secp256k1")}catch{r=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("hmac-drbg"),s=e("../utils"),o=e("../curves"),a=e("brorand"),l=s.assert,c=e("./key"),u=e("./signature");function d(h){if(!(this instanceof d))return new d(h);typeof h=="string"&&(l(Object.prototype.hasOwnProperty.call(o,h),"Unknown curve "+h),h=o[h]),h instanceof o.PresetCurve&&(h={curve:h}),this.curve=h.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=h.curve.g,this.g.precompute(h.curve.n.bitLength()+1),this.hash=h.hash||h.curve.hash}t.exports=d,d.prototype.keyPair=function(h){return new c(this,h)},d.prototype.keyFromPrivate=function(h,f){return c.fromPrivate(this,h,f)},d.prototype.keyFromPublic=function(h,f){return c.fromPublic(this,h,f)},d.prototype.genKeyPair=function(h){h||(h={});for(var f=new i({hash:this.hash,pers:h.pers,persEnc:h.persEnc||"utf8",entropy:h.entropy||a(this.hash.hmacStrength),entropyEnc:h.entropy&&h.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),g=this.n.sub(new r(2));;){var y=new r(f.generate(p));if(!(y.cmp(g)>0))return y.iaddn(1),this.keyFromPrivate(y)}},d.prototype._truncateToN=function(h,f){var p=8*h.byteLength()-this.n.bitLength();return p>0&&(h=h.ushrn(p)),!f&&h.cmp(this.n)>=0?h.sub(this.n):h},d.prototype.sign=function(h,f,p,g){typeof p=="object"&&(g=p,p=null),g||(g={}),f=this.keyFromPrivate(f,p),h=this._truncateToN(new r(h,16));for(var y=this.n.byteLength(),v=f.getPrivate().toArray("be",y),S=h.toArray("be",y),k=new i({hash:this.hash,entropy:v,nonce:S,pers:g.pers,persEnc:g.persEnc||"utf8"}),M=this.n.sub(new r(1)),z=0;;z++){var F=g.k?g.k(z):new r(k.generate(this.n.byteLength()));if(!((F=this._truncateToN(F,!0)).cmpn(1)<=0||F.cmp(M)>=0)){var j=this.g.mul(F);if(!j.isInfinity()){var B=j.getX(),U=B.umod(this.n);if(U.cmpn(0)!==0){var V=F.invm(this.n).mul(U.mul(f.getPrivate()).iadd(h));if((V=V.umod(this.n)).cmpn(0)!==0){var E=(j.getY().isOdd()?1:0)|(B.cmp(U)!==0?2:0);return g.canonical&&V.cmp(this.nh)>0&&(V=this.n.sub(V),E^=1),new u({r:U,s:V,recoveryParam:E})}}}}}},d.prototype.verify=function(h,f,p,g){h=this._truncateToN(new r(h,16)),p=this.keyFromPublic(p,g);var y=(f=new u(f,"hex")).r,v=f.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var S,k=v.invm(this.n),M=k.mul(h).umod(this.n),z=k.mul(y).umod(this.n);return this.curve._maxwellTrick?!(S=this.g.jmulAdd(M,p.getPublic(),z)).isInfinity()&&S.eqXToP(y):!(S=this.g.mulAdd(M,p.getPublic(),z)).isInfinity()&&S.getX().umod(this.n).cmp(y)===0},d.prototype.recoverPubKey=function(h,f,p,g){l((3&p)===p,"The recovery param is more than two bits"),f=new u(f,g);var y=this.n,v=new r(h),S=f.r,k=f.s,M=1&p,z=p>>1;if(S.cmp(this.curve.p.umod(this.curve.n))>=0&&z)throw new Error("Unable to find sencond key candinate");S=z?this.curve.pointFromX(S.add(this.curve.n),M):this.curve.pointFromX(S,M);var F=f.r.invm(y),j=y.sub(v).mul(F).umod(y),B=k.mul(F).umod(y);return this.g.mulAdd(j,S,B)},d.prototype.getKeyRecoveryParam=function(h,f,p,g){if((f=new u(f,g)).recoveryParam!==null)return f.recoveryParam;for(var y=0;y<4;y++){var v;try{v=this.recoverPubKey(h,f,y)}catch{continue}if(v.eq(p))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("../utils").assert;function s(o,a){this.ec=o,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}t.exports=s,s.fromPublic=function(o,a,l){return a instanceof s?a:new s(o,{pub:a,pubEnc:l})},s.fromPrivate=function(o,a,l){return a instanceof s?a:new s(o,{priv:a,privEnc:l})},s.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(o,a){return typeof o=="string"&&(a=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,o):this.pub},s.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(o,a){this.priv=new r(o,a||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(o,a){if(o.x||o.y)return this.ec.curve.type==="mont"?i(o.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||i(o.x&&o.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(o.x,o.y));this.pub=this.ec.curve.decodePoint(o,a)},s.prototype.derive=function(o){return o.validate()||i(o.validate(),"public point not validated"),o.mul(this.priv).getX()},s.prototype.sign=function(o,a,l){return this.ec.sign(o,this,a,l)},s.prototype.verify=function(o,a){return this.ec.verify(o,a,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("../utils"),s=i.assert;function o(d,h){if(d instanceof o)return d;this._importDER(d,h)||(s(d.r&&d.s,"Signature without r or s"),this.r=new r(d.r,16),this.s=new r(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function a(){this.place=0}function l(d,h){var f=d[h.place++];if(!(128&f))return f;var p=15&f;if(p===0||p>4)return!1;for(var g=0,y=0,v=h.place;y<p;y++,v++)g<<=8,g|=d[v],g>>>=0;return!(g<=127)&&(h.place=v,g)}function c(d){for(var h=0,f=d.length-1;!d[h]&&!(128&d[h+1])&&h<f;)h++;return h===0?d:d.slice(h)}function u(d,h){if(h<128)d.push(h);else{var f=1+(Math.log(h)/Math.LN2>>>3);for(d.push(128|f);--f;)d.push(h>>>(f<<3)&255);d.push(h)}}t.exports=o,o.prototype._importDER=function(d,h){d=i.toArray(d,h);var f=new a;if(d[f.place++]!==48)return!1;var p=l(d,f);if(p===!1||p+f.place!==d.length||d[f.place++]!==2)return!1;var g=l(d,f);if(g===!1)return!1;var y=d.slice(f.place,g+f.place);if(f.place+=g,d[f.place++]!==2)return!1;var v=l(d,f);if(v===!1||d.length!==v+f.place)return!1;var S=d.slice(f.place,v+f.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(S[0]===0){if(!(128&S[1]))return!1;S=S.slice(1)}return this.r=new r(y),this.s=new r(S),this.recoveryParam=null,!0},o.prototype.toDER=function(d){var h=this.r.toArray(),f=this.s.toArray();for(128&h[0]&&(h=[0].concat(h)),128&f[0]&&(f=[0].concat(f)),h=c(h),f=c(f);!(f[0]||128&f[1]);)f=f.slice(1);var p=[2];u(p,h.length),(p=p.concat(h)).push(2),u(p,f.length);var g=p.concat(f),y=[48];return u(y,g.length),y=y.concat(g),i.encode(y,d)}},{"../utils":419,"bn.js":420}],415:[function(e,t,n){"use strict";var r=e("hash.js"),i=e("../curves"),s=e("../utils"),o=s.assert,a=s.parseBytes,l=e("./key"),c=e("./signature");function u(d){if(o(d==="ed25519","only tested with ed25519 so far"),!(this instanceof u))return new u(d);d=i[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=r.sha512}t.exports=u,u.prototype.sign=function(d,h){d=a(d);var f=this.keyFromSecret(h),p=this.hashInt(f.messagePrefix(),d),g=this.g.mul(p),y=this.encodePoint(g),v=this.hashInt(y,f.pubBytes(),d).mul(f.priv()),S=p.add(v).umod(this.curve.n);return this.makeSignature({R:g,S,Rencoded:y})},u.prototype.verify=function(d,h,f){d=a(d),h=this.makeSignature(h);var p=this.keyFromPublic(f),g=this.hashInt(h.Rencoded(),p.pubBytes(),d),y=this.g.mul(h.S());return h.R().add(p.pub().mul(g)).eq(y)},u.prototype.hashInt=function(){for(var d=this.hash(),h=0;h<arguments.length;h++)d.update(arguments[h]);return s.intFromLE(d.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(d){return l.fromPublic(this,d)},u.prototype.keyFromSecret=function(d){return l.fromSecret(this,d)},u.prototype.makeSignature=function(d){return d instanceof c?d:new c(this,d)},u.prototype.encodePoint=function(d){var h=d.getY().toArray("le",this.encodingLength);return h[this.encodingLength-1]|=d.getX().isOdd()?128:0,h},u.prototype.decodePoint=function(d){var h=(d=s.parseBytes(d)).length-1,f=d.slice(0,h).concat(-129&d[h]),p=(128&d[h])!=0,g=s.intFromLE(f);return this.curve.pointFromY(g,p)},u.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(d){return s.intFromLE(d)},u.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,t,n){"use strict";var r=e("../utils"),i=r.assert,s=r.parseBytes,o=r.cachedProperty;function a(l,c){this.eddsa=l,this._secret=s(c.secret),l.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=s(c.pub)}a.fromPublic=function(l,c){return c instanceof a?c:new a(l,{pub:c})},a.fromSecret=function(l,c){return c instanceof a?c:new a(l,{secret:c})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(a,"privBytes",function(){var l=this.eddsa,c=this.hash(),u=l.encodingLength-1,d=c.slice(0,l.encodingLength);return d[0]&=248,d[u]&=127,d[u]|=64,d}),o(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(l){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},a.prototype.verify=function(l,c){return this.eddsa.verify(l,c,this)},a.prototype.getSecret=function(l){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),l)},a.prototype.getPublic=function(l){return r.encode(this.pubBytes(),l)},t.exports=a},{"../utils":419}],417:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("../utils"),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function l(c,u){this.eddsa=c,typeof u!="object"&&(u=a(u)),Array.isArray(u)&&(u={R:u.slice(0,c.encodingLength),S:u.slice(c.encodingLength)}),s(u.R&&u.S,"Signature without R or S"),c.isPoint(u.R)&&(this._R=u.R),u.S instanceof r&&(this._S=u.S),this._Rencoded=Array.isArray(u.R)?u.R:u.Rencoded,this._Sencoded=Array.isArray(u.S)?u.S:u.Sencoded}o(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=l},{"../utils":419,"bn.js":420}],418:[function(e,t,n){"use strict";t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,t,n){"use strict";var r=n,i=e("bn.js"),s=e("minimalistic-assert"),o=e("minimalistic-crypto-utils");r.assert=s,r.toArray=o.toArray,r.zero2=o.zero2,r.toHex=o.toHex,r.encode=o.encode,r.getNAF=function(a,l,c){var u=new Array(Math.max(a.bitLength(),c)+1);u.fill(0);for(var d=1<<l+1,h=a.clone(),f=0;f<u.length;f++){var p,g=h.andln(d-1);h.isOdd()?(p=g>(d>>1)-1?(d>>1)-g:g,h.isubn(p)):p=0,u[f]=p,h.iushrn(1)}return u},r.getJSF=function(a,l){var c=[[],[]];a=a.clone(),l=l.clone();for(var u,d=0,h=0;a.cmpn(-d)>0||l.cmpn(-h)>0;){var f,p,g=a.andln(3)+d&3,y=l.andln(3)+h&3;g===3&&(g=-1),y===3&&(y=-1),f=(1&g)==0?0:(u=a.andln(7)+d&7)!==3&&u!==5||y!==2?g:-g,c[0].push(f),p=(1&y)==0?0:(u=l.andln(7)+h&7)!==3&&u!==5||g!==2?y:-y,c[1].push(p),2*d===f+1&&(d=1-d),2*h===p+1&&(h=1-h),a.iushrn(1),l.iushrn(1)}return c},r.cachedProperty=function(a,l,c){var u="_"+l;a.prototype[l]=function(){return this[u]!==void 0?this[u]:this[u]=c.call(this)}},r.parseBytes=function(a){return typeof a=="string"?r.toArray(a,"hex"):a},r.intFromLE=function(a){return new i(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],421:[function(e,t,n){t.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,t,n){"use strict";var r=Object.create||function(F){var j=function(){};return j.prototype=F,new j},i=Object.keys||function(F){var j=[];for(var B in F)Object.prototype.hasOwnProperty.call(F,B)&&j.push(B);return B},s=Function.prototype.bind||function(F){var j=this;return function(){return j.apply(F,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0;var a,l=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),a=c.x===0}catch{a=!1}function u(F){return F._maxListeners===void 0?o.defaultMaxListeners:F._maxListeners}function d(F,j,B){if(j)F.call(B);else for(var U=F.length,V=z(F,U),E=0;E<U;++E)V[E].call(B)}function h(F,j,B,U){if(j)F.call(B,U);else for(var V=F.length,E=z(F,V),C=0;C<V;++C)E[C].call(B,U)}function f(F,j,B,U,V){if(j)F.call(B,U,V);else for(var E=F.length,C=z(F,E),R=0;R<E;++R)C[R].call(B,U,V)}function p(F,j,B,U,V,E){if(j)F.call(B,U,V,E);else for(var C=F.length,R=z(F,C),m=0;m<C;++m)R[m].call(B,U,V,E)}function g(F,j,B,U){if(j)F.apply(B,U);else for(var V=F.length,E=z(F,V),C=0;C<V;++C)E[C].apply(B,U)}function y(F,j,B,U){var V,E,C;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if((E=F._events)?(E.newListener&&(F.emit("newListener",j,B.listener?B.listener:B),E=F._events),C=E[j]):(E=F._events=r(null),F._eventsCount=0),C){if(typeof C=="function"?C=E[j]=U?[B,C]:[C,B]:U?C.unshift(B):C.push(B),!C.warned&&(V=u(F))&&V>0&&C.length>V){C.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+C.length+' "'+String(j)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');R.name="MaxListenersExceededWarning",R.emitter=F,R.type=j,R.count=C.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",R.name,R.message)}}else C=E[j]=B,++F._eventsCount;return F}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var F=new Array(arguments.length),j=0;j<F.length;++j)F[j]=arguments[j];this.listener.apply(this.target,F)}}function S(F,j,B){var U={fired:!1,wrapFn:void 0,target:F,type:j,listener:B},V=s.call(v,U);return V.listener=B,U.wrapFn=V,V}function k(F,j,B){var U=F._events;if(!U)return[];var V=U[j];return V?typeof V=="function"?B?[V.listener||V]:[V]:B?function(E){for(var C=new Array(E.length),R=0;R<C.length;++R)C[R]=E[R].listener||E[R];return C}(V):z(V,V.length):[]}function M(F){var j=this._events;if(j){var B=j[F];if(typeof B=="function")return 1;if(B)return B.length}return 0}function z(F,j){for(var B=new Array(j),U=0;U<j;++U)B[U]=F[U];return B}a?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(F){if(typeof F!="number"||F<0||F!=F)throw new TypeError('"defaultMaxListeners" must be a positive number');l=F}}):o.defaultMaxListeners=l,o.prototype.setMaxListeners=function(F){if(typeof F!="number"||F<0||isNaN(F))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=F,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(F){var j,B,U,V,E,C,R=F==="error";if(C=this._events)R=R&&C.error==null;else if(!R)return!1;if(R){if(arguments.length>1&&(j=arguments[1]),j instanceof Error)throw j;var m=new Error('Unhandled "error" event. ('+j+")");throw m.context=j,m}if(!(B=C[F]))return!1;var b=typeof B=="function";switch(U=arguments.length){case 1:d(B,b,this);break;case 2:h(B,b,this,arguments[1]);break;case 3:f(B,b,this,arguments[1],arguments[2]);break;case 4:p(B,b,this,arguments[1],arguments[2],arguments[3]);break;default:for(V=new Array(U-1),E=1;E<U;E++)V[E-1]=arguments[E];g(B,b,this,V)}return!0},o.prototype.addListener=function(F,j){return y(this,F,j,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(F,j){return y(this,F,j,!0)},o.prototype.once=function(F,j){if(typeof j!="function")throw new TypeError('"listener" argument must be a function');return this.on(F,S(this,F,j)),this},o.prototype.prependOnceListener=function(F,j){if(typeof j!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(F,S(this,F,j)),this},o.prototype.removeListener=function(F,j){var B,U,V,E,C;if(typeof j!="function")throw new TypeError('"listener" argument must be a function');if(!(U=this._events))return this;if(!(B=U[F]))return this;if(B===j||B.listener===j)--this._eventsCount==0?this._events=r(null):(delete U[F],U.removeListener&&this.emit("removeListener",F,B.listener||j));else if(typeof B!="function"){for(V=-1,E=B.length-1;E>=0;E--)if(B[E]===j||B[E].listener===j){C=B[E].listener,V=E;break}if(V<0)return this;V===0?B.shift():function(R,m){for(var b=m,w=b+1,_=R.length;w<_;b+=1,w+=1)R[b]=R[w];R.pop()}(B,V),B.length===1&&(U[F]=B[0]),U.removeListener&&this.emit("removeListener",F,C||j)}return this},o.prototype.removeAllListeners=function(F){var j,B,U;if(!(B=this._events))return this;if(!B.removeListener)return arguments.length===0?(this._events=r(null),this._eventsCount=0):B[F]&&(--this._eventsCount==0?this._events=r(null):delete B[F]),this;if(arguments.length===0){var V,E=i(B);for(U=0;U<E.length;++U)(V=E[U])!=="removeListener"&&this.removeAllListeners(V);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if(typeof(j=B[F])=="function")this.removeListener(F,j);else if(j)for(U=j.length-1;U>=0;U--)this.removeListener(F,j[U]);return this},o.prototype.listeners=function(F){return k(this,F,!0)},o.prototype.rawListeners=function(F){return k(this,F,!1)},o.listenerCount=function(F,j){return typeof F.listenerCount=="function"?F.listenerCount(j):M.call(F,j)},o.prototype.listenerCount=M,o.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("md5.js");t.exports=function(s,o,a,l){if(r.isBuffer(s)||(s=r.from(s,"binary")),o&&(r.isBuffer(o)||(o=r.from(o,"binary")),o.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=a/8,u=r.alloc(c),d=r.alloc(l||0),h=r.alloc(0);c>0||l>0;){var f=new i;f.update(h),f.update(s),o&&f.update(o),h=f.digest();var p=0;if(c>0){var g=u.length-c;p=Math.min(c,h.length),h.copy(u,g,0,p),c-=p}if(p<h.length&&l>0){var y=d.length-l,v=Math.min(l,h.length-p);h.copy(d,y,p,p+v),l-=v}}return h.fill(0),{key:u,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=n.ParserOptions=n.parseFile=n.parseStream=n.parseString=n.parse=n.FormatterOptions=n.CsvFormatterStream=n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=void 0;var r=e("@fast-csv/format");Object.defineProperty(n,"format",{enumerable:!0,get:function(){return r.format}}),Object.defineProperty(n,"write",{enumerable:!0,get:function(){return r.write}}),Object.defineProperty(n,"writeToStream",{enumerable:!0,get:function(){return r.writeToStream}}),Object.defineProperty(n,"writeToBuffer",{enumerable:!0,get:function(){return r.writeToBuffer}}),Object.defineProperty(n,"writeToString",{enumerable:!0,get:function(){return r.writeToString}}),Object.defineProperty(n,"writeToPath",{enumerable:!0,get:function(){return r.writeToPath}}),Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return r.CsvFormatterStream}}),Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return r.FormatterOptions}});var i=e("@fast-csv/parse");Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return i.parse}}),Object.defineProperty(n,"parseString",{enumerable:!0,get:function(){return i.parseString}}),Object.defineProperty(n,"parseStream",{enumerable:!0,get:function(){return i.parseStream}}),Object.defineProperty(n,"parseFile",{enumerable:!0,get:function(){return i.parseFile}}),Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return i.ParserOptions}}),Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return i.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("readable-stream").Transform;function s(o){i.call(this),this._block=r.allocUnsafe(o),this._blockSize=o,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(s,i),s.prototype._transform=function(o,a,l){var c=null;try{this.update(o,a)}catch(u){c=u}l(c)},s.prototype._flush=function(o){var a=null;try{this.push(this.digest())}catch(l){a=l}o(a)},s.prototype.update=function(o,a){if(function(f,p){if(!r.isBuffer(f)&&typeof f!="string")throw new TypeError(p+" must be a string or a buffer")}(o,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(o)||(o=r.from(o,a));for(var l=this._block,c=0;this._blockOffset+o.length-c>=this._blockSize;){for(var u=this._blockOffset;u<this._blockSize;)l[u++]=o[c++];this._update(),this._blockOffset=0}for(;c<o.length;)l[this._blockOffset++]=o[c++];for(var d=0,h=8*o.length;h>0;++d)this._length[d]+=h,(h=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*h);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(o){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();o!==void 0&&(a=a.toString(o)),this._block.fill(0),this._blockOffset=0;for(var l=0;l<4;++l)this._length[l]=0;return a},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,t,n){"use strict";var r=n;r.utils=e("./hash/utils"),r.common=e("./hash/common"),r.sha=e("./hash/sha"),r.ripemd=e("./hash/ripemd"),r.hmac=e("./hash/hmac"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,t,n){"use strict";var r=e("./utils"),i=e("minimalistic-assert");function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=s,s.prototype.update=function(o,a){if(o=r.toArray(o,a),this.pending?this.pending=this.pending.concat(o):this.pending=o,this.pendingTotal+=o.length,this.pending.length>=this._delta8){var l=(o=this.pending).length%this._delta8;this.pending=o.slice(o.length-l,o.length),this.pending.length===0&&(this.pending=null),o=r.join32(o,0,o.length-l,this.endian);for(var c=0;c<o.length;c+=this._delta32)this._update(o,c,c+this._delta32)}return this},s.prototype.digest=function(o){return this.update(this._pad()),i(this.pending===null),this._digest(o)},s.prototype._pad=function(){var o=this.pendingTotal,a=this._delta8,l=a-(o+this.padLength)%a,c=new Array(l+this.padLength);c[0]=128;for(var u=1;u<l;u++)c[u]=0;if(o<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)c[u++]=0;c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=o>>>24&255,c[u++]=o>>>16&255,c[u++]=o>>>8&255,c[u++]=255&o}else for(c[u++]=255&o,c[u++]=o>>>8&255,c[u++]=o>>>16&255,c[u++]=o>>>24&255,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,d=8;d<this.padLength;d++)c[u++]=0;return c}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,t,n){"use strict";var r=e("./utils"),i=e("minimalistic-assert");function s(o,a,l){if(!(this instanceof s))return new s(o,a,l);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(a,l))}t.exports=s,s.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),i(o.length<=this.blockSize);for(var a=o.length;a<this.blockSize;a++)o.push(0);for(a=0;a<o.length;a++)o[a]^=54;for(this.inner=new this.Hash().update(o),a=0;a<o.length;a++)o[a]^=106;this.outer=new this.Hash().update(o)},s.prototype.update=function(o,a){return this.inner.update(o,a),this},s.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./common"),s=r.rotl32,o=r.sum32,a=r.sum32_3,l=r.sum32_4,c=i.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(S,k,M,z){return S<=15?k^M^z:S<=31?k&M|~k&z:S<=47?(k|~M)^z:S<=63?k&z|M&~z:k^(M|~z)}function h(S){return S<=15?0:S<=31?1518500249:S<=47?1859775393:S<=63?2400959708:2840853838}function f(S){return S<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0}r.inherits(u,c),n.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(S,k){for(var M=this.h[0],z=this.h[1],F=this.h[2],j=this.h[3],B=this.h[4],U=M,V=z,E=F,C=j,R=B,m=0;m<80;m++){var b=o(s(l(M,d(m,z,F,j),S[p[m]+k],h(m)),y[m]),B);M=B,B=j,j=s(F,10),F=z,z=b,b=o(s(l(U,d(79-m,V,E,C),S[g[m]+k],f(m)),v[m]),R),U=R,R=C,C=s(E,10),E=V,V=b}b=a(this.h[1],F,C),this.h[1]=a(this.h[2],j,R),this.h[2]=a(this.h[3],B,U),this.h[3]=a(this.h[4],M,V),this.h[4]=a(this.h[0],z,E),this.h[0]=b},u.prototype._digest=function(S){return S==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,t,n){"use strict";n.sha1=e("./sha/1"),n.sha224=e("./sha/224"),n.sha256=e("./sha/256"),n.sha384=e("./sha/384"),n.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../common"),s=e("./common"),o=r.rotl32,a=r.sum32,l=r.sum32_5,c=s.ft_1,u=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(h,u),t.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(f,p){for(var g=this.W,y=0;y<16;y++)g[y]=f[p+y];for(;y<g.length;y++)g[y]=o(g[y-3]^g[y-8]^g[y-14]^g[y-16],1);var v=this.h[0],S=this.h[1],k=this.h[2],M=this.h[3],z=this.h[4];for(y=0;y<g.length;y++){var F=~~(y/20),j=l(o(v,5),c(F,S,k,M),z,g[y],d[F]);z=M,M=k,k=o(S,30),S=v,v=j}this.h[0]=a(this.h[0],v),this.h[1]=a(this.h[1],S),this.h[2]=a(this.h[2],k),this.h[3]=a(this.h[3],M),this.h[4]=a(this.h[4],z)},h.prototype._digest=function(f){return f==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./256");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(s,i),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(o){return o==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../common"),s=e("./common"),o=e("minimalistic-assert"),a=r.sum32,l=r.sum32_4,c=r.sum32_5,u=s.ch32,d=s.maj32,h=s.s0_256,f=s.s1_256,p=s.g0_256,g=s.g1_256,y=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}r.inherits(S,y),t.exports=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=function(k,M){for(var z=this.W,F=0;F<16;F++)z[F]=k[M+F];for(;F<z.length;F++)z[F]=l(g(z[F-2]),z[F-7],p(z[F-15]),z[F-16]);var j=this.h[0],B=this.h[1],U=this.h[2],V=this.h[3],E=this.h[4],C=this.h[5],R=this.h[6],m=this.h[7];for(o(this.k.length===z.length),F=0;F<z.length;F++){var b=c(m,f(E),u(E,C,R),this.k[F],z[F]),w=a(h(j),d(j,B,U));m=R,R=C,C=E,E=a(V,b),V=U,U=B,B=j,j=a(b,w)}this.h[0]=a(this.h[0],j),this.h[1]=a(this.h[1],B),this.h[2]=a(this.h[2],U),this.h[3]=a(this.h[3],V),this.h[4]=a(this.h[4],E),this.h[5]=a(this.h[5],C),this.h[6]=a(this.h[6],R),this.h[7]=a(this.h[7],m)},S.prototype._digest=function(k){return k==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./512");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(s,i),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(o){return o==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../common"),s=e("minimalistic-assert"),o=r.rotr64_hi,a=r.rotr64_lo,l=r.shr64_hi,c=r.shr64_lo,u=r.sum64,d=r.sum64_hi,h=r.sum64_lo,f=r.sum64_4_hi,p=r.sum64_4_lo,g=r.sum64_5_hi,y=r.sum64_5_lo,v=i.BlockHash,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function k(){if(!(this instanceof k))return new k;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=S,this.W=new Array(160)}function M(w,_,x,I,O){var $=w&x^~w&O;return $<0&&($+=4294967296),$}function z(w,_,x,I,O,$){var P=_&I^~_&$;return P<0&&(P+=4294967296),P}function F(w,_,x,I,O){var $=w&x^w&O^x&O;return $<0&&($+=4294967296),$}function j(w,_,x,I,O,$){var P=_&I^_&$^I&$;return P<0&&(P+=4294967296),P}function B(w,_){var x=o(w,_,28)^o(_,w,2)^o(_,w,7);return x<0&&(x+=4294967296),x}function U(w,_){var x=a(w,_,28)^a(_,w,2)^a(_,w,7);return x<0&&(x+=4294967296),x}function V(w,_){var x=o(w,_,14)^o(w,_,18)^o(_,w,9);return x<0&&(x+=4294967296),x}function E(w,_){var x=a(w,_,14)^a(w,_,18)^a(_,w,9);return x<0&&(x+=4294967296),x}function C(w,_){var x=o(w,_,1)^o(w,_,8)^l(w,_,7);return x<0&&(x+=4294967296),x}function R(w,_){var x=a(w,_,1)^a(w,_,8)^c(w,_,7);return x<0&&(x+=4294967296),x}function m(w,_){var x=o(w,_,19)^o(_,w,29)^l(w,_,6);return x<0&&(x+=4294967296),x}function b(w,_){var x=a(w,_,19)^a(_,w,29)^c(w,_,6);return x<0&&(x+=4294967296),x}r.inherits(k,v),t.exports=k,k.blockSize=1024,k.outSize=512,k.hmacStrength=192,k.padLength=128,k.prototype._prepareBlock=function(w,_){for(var x=this.W,I=0;I<32;I++)x[I]=w[_+I];for(;I<x.length;I+=2){var O=m(x[I-4],x[I-3]),$=b(x[I-4],x[I-3]),P=x[I-14],G=x[I-13],D=C(x[I-30],x[I-29]),W=R(x[I-30],x[I-29]),A=x[I-32],T=x[I-31];x[I]=f(O,$,P,G,D,W,A,T),x[I+1]=p(O,$,P,G,D,W,A,T)}},k.prototype._update=function(w,_){this._prepareBlock(w,_);var x=this.W,I=this.h[0],O=this.h[1],$=this.h[2],P=this.h[3],G=this.h[4],D=this.h[5],W=this.h[6],A=this.h[7],T=this.h[8],H=this.h[9],Z=this.h[10],Q=this.h[11],J=this.h[12],ne=this.h[13],ge=this.h[14],ye=this.h[15];s(this.k.length===x.length);for(var K=0;K<x.length;K+=2){var ce=ge,ue=ye,ve=V(T,H),me=E(T,H),xe=M(T,H,Z,Q,J),we=z(T,H,Z,Q,J,ne),De=this.k[K],Re=this.k[K+1],Fe=x[K],rt=x[K+1],je=g(ce,ue,ve,me,xe,we,De,Re,Fe,rt),Ze=y(ce,ue,ve,me,xe,we,De,Re,Fe,rt);ce=B(I,O),ue=U(I,O),ve=F(I,O,$,P,G),me=j(I,O,$,P,G,D);var gt=d(ce,ue,ve,me),Ge=h(ce,ue,ve,me);ge=J,ye=ne,J=Z,ne=Q,Z=T,Q=H,T=d(W,A,je,Ze),H=h(A,A,je,Ze),W=G,A=D,G=$,D=P,$=I,P=O,I=d(je,Ze,gt,Ge),O=h(je,Ze,gt,Ge)}u(this.h,0,I,O),u(this.h,2,$,P),u(this.h,4,G,D),u(this.h,6,W,A),u(this.h,8,T,H),u(this.h,10,Z,Q),u(this.h,12,J,ne),u(this.h,14,ge,ye)},k.prototype._digest=function(w){return w==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,t,n){"use strict";var r=e("../utils").rotr32;function i(a,l,c){return a&l^~a&c}function s(a,l,c){return a&l^a&c^l&c}function o(a,l,c){return a^l^c}n.ft_1=function(a,l,c,u){return a===0?i(l,c,u):a===1||a===3?o(l,c,u):a===2?s(l,c,u):void 0},n.ch32=i,n.maj32=s,n.p32=o,n.s0_256=function(a){return r(a,2)^r(a,13)^r(a,22)},n.s1_256=function(a){return r(a,6)^r(a,11)^r(a,25)},n.g0_256=function(a){return r(a,7)^r(a,18)^a>>>3},n.g1_256=function(a){return r(a,17)^r(a,19)^a>>>10}},{"../utils":437}],437:[function(e,t,n){"use strict";var r=e("minimalistic-assert"),i=e("inherits");function s(c,u){return(64512&c.charCodeAt(u))==55296&&!(u<0||u+1>=c.length)&&(64512&c.charCodeAt(u+1))==56320}function o(c){return(c>>>24|c>>>8&65280|c<<8&16711680|(255&c)<<24)>>>0}function a(c){return c.length===1?"0"+c:c}function l(c){return c.length===7?"0"+c:c.length===6?"00"+c:c.length===5?"000"+c:c.length===4?"0000"+c:c.length===3?"00000"+c:c.length===2?"000000"+c:c.length===1?"0000000"+c:c}n.inherits=i,n.toArray=function(c,u){if(Array.isArray(c))return c.slice();if(!c)return[];var d=[];if(typeof c=="string")if(u){if(u==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),f=0;f<c.length;f+=2)d.push(parseInt(c[f]+c[f+1],16))}else for(var h=0,f=0;f<c.length;f++){var p=c.charCodeAt(f);p<128?d[h++]=p:p<2048?(d[h++]=p>>6|192,d[h++]=63&p|128):s(c,f)?(p=65536+((1023&p)<<10)+(1023&c.charCodeAt(++f)),d[h++]=p>>18|240,d[h++]=p>>12&63|128,d[h++]=p>>6&63|128,d[h++]=63&p|128):(d[h++]=p>>12|224,d[h++]=p>>6&63|128,d[h++]=63&p|128)}else for(f=0;f<c.length;f++)d[f]=0|c[f];return d},n.toHex=function(c){for(var u="",d=0;d<c.length;d++)u+=a(c[d].toString(16));return u},n.htonl=o,n.toHex32=function(c,u){for(var d="",h=0;h<c.length;h++){var f=c[h];u==="little"&&(f=o(f)),d+=l(f.toString(16))}return d},n.zero2=a,n.zero8=l,n.join32=function(c,u,d,h){var f=d-u;r(f%4==0);for(var p=new Array(f/4),g=0,y=u;g<p.length;g++,y+=4){var v;v=h==="big"?c[y]<<24|c[y+1]<<16|c[y+2]<<8|c[y+3]:c[y+3]<<24|c[y+2]<<16|c[y+1]<<8|c[y],p[g]=v>>>0}return p},n.split32=function(c,u){for(var d=new Array(4*c.length),h=0,f=0;h<c.length;h++,f+=4){var p=c[h];u==="big"?(d[f]=p>>>24,d[f+1]=p>>>16&255,d[f+2]=p>>>8&255,d[f+3]=255&p):(d[f+3]=p>>>24,d[f+2]=p>>>16&255,d[f+1]=p>>>8&255,d[f]=255&p)}return d},n.rotr32=function(c,u){return c>>>u|c<<32-u},n.rotl32=function(c,u){return c<<u|c>>>32-u},n.sum32=function(c,u){return c+u>>>0},n.sum32_3=function(c,u,d){return c+u+d>>>0},n.sum32_4=function(c,u,d,h){return c+u+d+h>>>0},n.sum32_5=function(c,u,d,h,f){return c+u+d+h+f>>>0},n.sum64=function(c,u,d,h){var f=c[u],p=h+c[u+1]>>>0,g=(p<h?1:0)+d+f;c[u]=g>>>0,c[u+1]=p},n.sum64_hi=function(c,u,d,h){return(u+h>>>0<u?1:0)+c+d>>>0},n.sum64_lo=function(c,u,d,h){return u+h>>>0},n.sum64_4_hi=function(c,u,d,h,f,p,g,y){var v=0,S=u;return v+=(S=S+h>>>0)<u?1:0,v+=(S=S+p>>>0)<p?1:0,c+d+f+g+(v+=(S=S+y>>>0)<y?1:0)>>>0},n.sum64_4_lo=function(c,u,d,h,f,p,g,y){return u+h+p+y>>>0},n.sum64_5_hi=function(c,u,d,h,f,p,g,y,v,S){var k=0,M=u;return k+=(M=M+h>>>0)<u?1:0,k+=(M=M+p>>>0)<p?1:0,k+=(M=M+y>>>0)<y?1:0,c+d+f+g+v+(k+=(M=M+S>>>0)<S?1:0)>>>0},n.sum64_5_lo=function(c,u,d,h,f,p,g,y,v,S){return u+h+p+y+S>>>0},n.rotr64_hi=function(c,u,d){return(u<<32-d|c>>>d)>>>0},n.rotr64_lo=function(c,u,d){return(c<<32-d|u>>>d)>>>0},n.shr64_hi=function(c,u,d){return c>>>d},n.shr64_lo=function(c,u,d){return(c<<32-d|u>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,t,n){"use strict";var r=e("hash.js"),i=e("minimalistic-crypto-utils"),s=e("minimalistic-assert");function o(a){if(!(this instanceof o))return new o(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=i.toArray(a.entropy,a.entropyEnc||"hex"),c=i.toArray(a.nonce,a.nonceEnc||"hex"),u=i.toArray(a.pers,a.persEnc||"hex");s(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,c,u)}t.exports=o,o.prototype._init=function(a,l,c){var u=a.concat(l).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},o.prototype._update=function(a){var l=this._hmac().update(this.V).update([0]);a&&(l=l.update(a)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(a,l,c,u){typeof l!="string"&&(u=c,c=l,l=null),a=i.toArray(a,l),c=i.toArray(c,u),s(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(c||[])),this._reseed=1},o.prototype.generate=function(a,l,c,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof l!="string"&&(u=c,c=l,l=null),c&&(c=i.toArray(c,u||"hex"),this._update(c));for(var d=[];d.length<a;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var h=d.slice(0,a);return this._update(c),this._reseed++,i.encode(h,l)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,t,n){"use strict";n.read=function(r,i,s,o,a){var l,c,u=8*a-o-1,d=(1<<u)-1,h=d>>1,f=-7,p=s?a-1:0,g=s?-1:1,y=r[i+p];for(p+=g,l=y&(1<<-f)-1,y>>=-f,f+=u;f>0;l=256*l+r[i+p],p+=g,f-=8);for(c=l&(1<<-f)-1,l>>=-f,f+=o;f>0;c=256*c+r[i+p],p+=g,f-=8);if(l===0)l=1-h;else{if(l===d)return c?NaN:1/0*(y?-1:1);c+=Math.pow(2,o),l-=h}return(y?-1:1)*c*Math.pow(2,l-o)},n.write=function(r,i,s,o,a,l){var c,u,d,h=8*l-a-1,f=(1<<h)-1,p=f>>1,g=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=o?0:l-1,v=o?1:-1,S=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(u=isNaN(i)?1:0,c=f):(c=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-c))<1&&(c--,d*=2),(i+=c+p>=1?g/d:g*Math.pow(2,1-p))*d>=2&&(c++,d/=2),c+p>=f?(u=0,c=f):c+p>=1?(u=(i*d-1)*Math.pow(2,a),c+=p):(u=i*Math.pow(2,p-1)*Math.pow(2,a),c=0));a>=8;r[s+y]=255&u,y+=v,u/=256,a-=8);for(c=c<<a|u,h+=a;h>0;r[s+y]=255&c,y+=v,c/=256,h-=8);r[s+y-v]|=128*S}},{}],440:[function(e,t,n){"use strict";typeof Object.create=="function"?t.exports=function(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,i){if(i){r.super_=i;var s=function(){};s.prototype=i.prototype,r.prototype=new s,r.prototype.constructor=r}}},{}],441:[function(e,t,n){(function(r,i,s,o,a,l,c,u){(function(){"use strict";(function(d){typeof n=="object"&&t!==void 0?t.exports=d():(typeof window<"u"?window:i!==void 0?i:typeof self<"u"?self:this).JSZip=d()})(function(){return function d(h,f,p){function g(S,k){if(!f[S]){if(!h[S]){var M=typeof e=="function"&&e;if(!k&&M)return M(S,!0);if(y)return y(S,!0);var z=new Error("Cannot find module '"+S+"'");throw z.code="MODULE_NOT_FOUND",z}var F=f[S]={exports:{}};h[S][0].call(F.exports,function(j){return g(h[S][1][j]||j)},F,F.exports,d,h,f,p)}return f[S].exports}for(var y=typeof e=="function"&&e,v=0;v<p.length;v++)g(p[v]);return g}({1:[function(d,h,f){var p=d("./utils"),g=d("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.encode=function(v){for(var S,k,M,z,F,j,B,U=[],V=0,E=v.length,C=E,R=p.getTypeOf(v)!=="string";V<v.length;)C=E-V,M=R?(S=v[V++],k=V<E?v[V++]:0,V<E?v[V++]:0):(S=v.charCodeAt(V++),k=V<E?v.charCodeAt(V++):0,V<E?v.charCodeAt(V++):0),z=S>>2,F=(3&S)<<4|k>>4,j=1<C?(15&k)<<2|M>>6:64,B=2<C?63&M:64,U.push(y.charAt(z)+y.charAt(F)+y.charAt(j)+y.charAt(B));return U.join("")},f.decode=function(v){var S,k,M,z,F,j,B=0,U=0,V="data:";if(v.substr(0,V.length)===V)throw new Error("Invalid base64 input, it looks like a data url.");var E,C=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===y.charAt(64)&&C--,v.charAt(v.length-2)===y.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=g.uint8array?new Uint8Array(0|C):new Array(0|C);B<v.length;)S=y.indexOf(v.charAt(B++))<<2|(z=y.indexOf(v.charAt(B++)))>>4,k=(15&z)<<4|(F=y.indexOf(v.charAt(B++)))>>2,M=(3&F)<<6|(j=y.indexOf(v.charAt(B++))),E[U++]=S,F!==64&&(E[U++]=k),j!==64&&(E[U++]=M);return E}},{"./support":30,"./utils":32}],2:[function(d,h,f){var p=d("./external"),g=d("./stream/DataWorker"),y=d("./stream/Crc32Probe"),v=d("./stream/DataLengthProbe");function S(k,M,z,F,j){this.compressedSize=k,this.uncompressedSize=M,this.crc32=z,this.compression=F,this.compressedContent=j}S.prototype={getContentWorker:function(){var k=new g(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),M=this;return k.on("end",function(){if(this.streamInfo.data_length!==M.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),k},getCompressedWorker:function(){return new g(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},S.createWorkerFrom=function(k,M,z){return k.pipe(new y).pipe(new v("uncompressedSize")).pipe(M.compressWorker(z)).pipe(new v("compressedSize")).withStreamInfo("compression",M)},h.exports=S},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,h,f){var p=d("./stream/GenericWorker");f.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},f.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,h,f){var p=d("./utils"),g=function(){for(var y,v=[],S=0;S<256;S++){y=S;for(var k=0;k<8;k++)y=1&y?3988292384^y>>>1:y>>>1;v[S]=y}return v}();h.exports=function(y,v){return y!==void 0&&y.length?p.getTypeOf(y)!=="string"?function(S,k,M,z){var F=g,j=0+M;S^=-1;for(var B=0;B<j;B++)S=S>>>8^F[255&(S^k[B])];return-1^S}(0|v,y,y.length):function(S,k,M,z){var F=g,j=0+M;S^=-1;for(var B=0;B<j;B++)S=S>>>8^F[255&(S^k.charCodeAt(B))];return-1^S}(0|v,y,y.length):0}},{"./utils":32}],5:[function(d,h,f){f.base64=!1,f.binary=!1,f.dir=!1,f.createFolders=!0,f.date=null,f.compression=null,f.compressionOptions=null,f.comment=null,f.unixPermissions=null,f.dosPermissions=null},{}],6:[function(d,h,f){var p;p=typeof Promise<"u"?Promise:d("lie"),h.exports={Promise:p}},{lie:37}],7:[function(d,h,f){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",g=d("pako"),y=d("./utils"),v=d("./stream/GenericWorker"),S=p?"uint8array":"array";function k(M,z){v.call(this,"FlateWorker/"+M),this._pako=null,this._pakoAction=M,this._pakoOptions=z,this.meta={}}f.magic="\b\0",y.inherits(k,v),k.prototype.processChunk=function(M){this.meta=M.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(S,M.data),!1)},k.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},k.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},k.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var M=this;this._pako.onData=function(z){M.push({data:z,meta:M.meta})}},f.compressWorker=function(M){return new k("Deflate",M)},f.uncompressWorker=function(){return new k("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,h,f){function p(F,j){var B,U="";for(B=0;B<j;B++)U+=String.fromCharCode(255&F),F>>>=8;return U}function g(F,j,B,U,V,E){var C,R,m=F.file,b=F.compression,w=E!==S.utf8encode,_=y.transformTo("string",E(m.name)),x=y.transformTo("string",S.utf8encode(m.name)),I=m.comment,O=y.transformTo("string",E(I)),$=y.transformTo("string",S.utf8encode(I)),P=x.length!==m.name.length,G=$.length!==I.length,D="",W="",A="",T=m.dir,H=m.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};j&&!B||(Z.crc32=F.crc32,Z.compressedSize=F.compressedSize,Z.uncompressedSize=F.uncompressedSize);var Q=0;j&&(Q|=8),w||!P&&!G||(Q|=2048);var J=0,ne=0;T&&(J|=16),V==="UNIX"?(ne=798,J|=function(ye,K){var ce=ye;return ye||(ce=K?16893:33204),(65535&ce)<<16}(m.unixPermissions,T)):(ne=20,J|=function(ye){return 63&(ye||0)}(m.dosPermissions)),C=H.getUTCHours(),C<<=6,C|=H.getUTCMinutes(),C<<=5,C|=H.getUTCSeconds()/2,R=H.getUTCFullYear()-1980,R<<=4,R|=H.getUTCMonth()+1,R<<=5,R|=H.getUTCDate(),P&&(W=p(1,1)+p(k(_),4)+x,D+="up"+p(W.length,2)+W),G&&(A=p(1,1)+p(k(O),4)+$,D+="uc"+p(A.length,2)+A);var ge="";return ge+=`
\0`,ge+=p(Q,2),ge+=b.magic,ge+=p(C,2),ge+=p(R,2),ge+=p(Z.crc32,4),ge+=p(Z.compressedSize,4),ge+=p(Z.uncompressedSize,4),ge+=p(_.length,2),ge+=p(D.length,2),{fileRecord:M.LOCAL_FILE_HEADER+ge+_+D,dirRecord:M.CENTRAL_FILE_HEADER+p(ne,2)+ge+p(O.length,2)+"\0\0\0\0"+p(J,4)+p(U,4)+_+D+O}}var y=d("../utils"),v=d("../stream/GenericWorker"),S=d("../utf8"),k=d("../crc32"),M=d("../signature");function z(F,j,B,U){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=B,this.encodeFileName=U,this.streamFiles=F,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(z,v),z.prototype.push=function(F){var j=F.meta.percent||0,B=this.entriesCount,U=this._sources.length;this.accumulate?this.contentBuffer.push(F):(this.bytesWritten+=F.data.length,v.prototype.push.call(this,{data:F.data,meta:{currentFile:this.currentFile,percent:B?(j+100*(B-U-1))/B:100}}))},z.prototype.openedSource=function(F){this.currentSourceOffset=this.bytesWritten,this.currentFile=F.file.name;var j=this.streamFiles&&!F.file.dir;if(j){var B=g(F,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:B.fileRecord,meta:{percent:0}})}else this.accumulate=!0},z.prototype.closedSource=function(F){this.accumulate=!1;var j=this.streamFiles&&!F.file.dir,B=g(F,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(B.dirRecord),j)this.push({data:function(U){return M.DATA_DESCRIPTOR+p(U.crc32,4)+p(U.compressedSize,4)+p(U.uncompressedSize,4)}(F),meta:{percent:100}});else for(this.push({data:B.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},z.prototype.flush=function(){for(var F=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var B=this.bytesWritten-F,U=function(V,E,C,R,m){var b=y.transformTo("string",m(R));return M.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(V,2)+p(V,2)+p(E,4)+p(C,4)+p(b.length,2)+b}(this.dirRecords.length,B,F,this.zipComment,this.encodeFileName);this.push({data:U,meta:{percent:100}})},z.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},z.prototype.registerPrevious=function(F){this._sources.push(F);var j=this;return F.on("data",function(B){j.processChunk(B)}),F.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),F.on("error",function(B){j.error(B)}),this},z.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},z.prototype.error=function(F){var j=this._sources;if(!v.prototype.error.call(this,F))return!1;for(var B=0;B<j.length;B++)try{j[B].error(F)}catch{}return!0},z.prototype.lock=function(){v.prototype.lock.call(this);for(var F=this._sources,j=0;j<F.length;j++)F[j].lock()},h.exports=z},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,h,f){var p=d("../compressions"),g=d("./ZipFileWorker");f.generateWorker=function(y,v,S){var k=new g(v.streamFiles,S,v.platform,v.encodeFileName),M=0;try{y.forEach(function(z,F){M++;var j=function(E,C){var R=E||C,m=p[R];if(!m)throw new Error(R+" is not a valid compression method !");return m}(F.options.compression,v.compression),B=F.options.compressionOptions||v.compressionOptions||{},U=F.dir,V=F.date;F._compressWorker(j,B).withStreamInfo("file",{name:z,dir:U,date:V,comment:F.comment||"",unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions}).pipe(k)}),k.entriesCount=M}catch(z){k.error(z)}return k}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,h,f){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new p;for(var y in this)typeof this[y]!="function"&&(g[y]=this[y]);return g}}(p.prototype=d("./object")).loadAsync=d("./load"),p.support=d("./support"),p.defaults=d("./defaults"),p.version="3.10.1",p.loadAsync=function(g,y){return new p().loadAsync(g,y)},p.external=d("./external"),h.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,h,f){var p=d("./utils"),g=d("./external"),y=d("./utf8"),v=d("./zipEntries"),S=d("./stream/Crc32Probe"),k=d("./nodejsUtils");function M(z){return new g.Promise(function(F,j){var B=z.decompressed.getContentWorker().pipe(new S);B.on("error",function(U){j(U)}).on("end",function(){B.streamInfo.crc32!==z.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):F()}).resume()})}h.exports=function(z,F){var j=this;return F=p.extend(F||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),k.isNode&&k.isStream(z)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",z,!0,F.optimizedBinaryString,F.base64).then(function(B){var U=new v(F);return U.load(B),U}).then(function(B){var U=[g.Promise.resolve(B)],V=B.files;if(F.checkCRC32)for(var E=0;E<V.length;E++)U.push(M(V[E]));return g.Promise.all(U)}).then(function(B){for(var U=B.shift(),V=U.files,E=0;E<V.length;E++){var C=V[E],R=C.fileNameStr,m=p.resolve(C.fileNameStr);j.file(m,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:F.createFolders}),C.dir||(j.file(m).unsafeOriginalName=R)}return U.zipComment.length&&(j.comment=U.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,h,f){var p=d("../utils"),g=d("../stream/GenericWorker");function y(v,S){g.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(S)}p.inherits(y,g),y.prototype._bindStream=function(v){var S=this;(this._stream=v).pause(),v.on("data",function(k){S.push({data:k,meta:{percent:0}})}).on("error",function(k){S.isPaused?this.generatedError=k:S.error(k)}).on("end",function(){S.isPaused?S._upstreamEnded=!0:S.end()})},y.prototype.pause=function(){return!!g.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},h.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,h,f){var p=d("readable-stream").Readable;function g(y,v,S){p.call(this,v),this._helper=y;var k=this;y.on("data",function(M,z){k.push(M)||k._helper.pause(),S&&S(z)}).on("error",function(M){k.emit("error",M)}).on("end",function(){k.push(null)})}d("../utils").inherits(g,p),g.prototype._read=function(){this._helper.resume()},h.exports=g},{"../utils":32,"readable-stream":16}],14:[function(d,h,f){h.exports={isNode:s!==void 0,newBufferFrom:function(p,g){if(s.from&&s.from!==Uint8Array.from)return s.from(p,g);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new s(p,g)},allocBuffer:function(p){if(s.alloc)return s.alloc(p);var g=new s(p);return g.fill(0),g},isBuffer:function(p){return s.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(d,h,f){function p(m,b,w){var _,x=y.getTypeOf(b),I=y.extend(w||{},k);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(m=V(m)),I.createFolders&&(_=U(m))&&E.call(this,_,!0);var O=x==="string"&&I.binary===!1&&I.base64===!1;w&&w.binary!==void 0||(I.binary=!O),(b instanceof M&&b.uncompressedSize===0||I.dir||!b||b.length===0)&&(I.base64=!1,I.binary=!0,b="",I.compression="STORE",x="string");var $;$=b instanceof M||b instanceof v?b:j.isNode&&j.isStream(b)?new B(m,b):y.prepareContent(m,b,I.binary,I.optimizedBinaryString,I.base64);var P=new z(m,$,I);this.files[m]=P}var g=d("./utf8"),y=d("./utils"),v=d("./stream/GenericWorker"),S=d("./stream/StreamHelper"),k=d("./defaults"),M=d("./compressedObject"),z=d("./zipObject"),F=d("./generate"),j=d("./nodejsUtils"),B=d("./nodejs/NodejsStreamInputAdapter"),U=function(m){m.slice(-1)==="/"&&(m=m.substring(0,m.length-1));var b=m.lastIndexOf("/");return 0<b?m.substring(0,b):""},V=function(m){return m.slice(-1)!=="/"&&(m+="/"),m},E=function(m,b){return b=b!==void 0?b:k.createFolders,m=V(m),this.files[m]||p.call(this,m,null,{dir:!0,createFolders:b}),this.files[m]};function C(m){return Object.prototype.toString.call(m)==="[object RegExp]"}var R={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(m){var b,w,_;for(b in this.files)_=this.files[b],(w=b.slice(this.root.length,b.length))&&b.slice(0,this.root.length)===this.root&&m(w,_)},filter:function(m){var b=[];return this.forEach(function(w,_){m(w,_)&&b.push(_)}),b},file:function(m,b,w){if(arguments.length!==1)return m=this.root+m,p.call(this,m,b,w),this;if(C(m)){var _=m;return this.filter(function(I,O){return!O.dir&&_.test(I)})}var x=this.files[this.root+m];return x&&!x.dir?x:null},folder:function(m){if(!m)return this;if(C(m))return this.filter(function(x,I){return I.dir&&m.test(x)});var b=this.root+m,w=E.call(this,b),_=this.clone();return _.root=w.name,_},remove:function(m){m=this.root+m;var b=this.files[m];if(b||(m.slice(-1)!=="/"&&(m+="/"),b=this.files[m]),b&&!b.dir)delete this.files[m];else for(var w=this.filter(function(x,I){return I.name.slice(0,m.length)===m}),_=0;_<w.length;_++)delete this.files[w[_].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(m){var b,w={};try{if((w=y.extend(m||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");y.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var _=w.comment||this.comment||"";b=F.generateWorker(this,w,_)}catch(x){(b=new v("error")).error(x)}return new S(b,w.type||"string",w.mimeType)},generateAsync:function(m,b){return this.generateInternalStream(m).accumulate(b)},generateNodeStream:function(m,b){return(m=m||{}).type||(m.type="nodebuffer"),this.generateInternalStream(m).toNodejsStream(b)}};h.exports=R},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,h,f){h.exports=d("stream")},{stream:void 0}],17:[function(d,h,f){var p=d("./DataReader");function g(y){p.call(this,y);for(var v=0;v<this.data.length;v++)y[v]=255&y[v]}d("../utils").inherits(g,p),g.prototype.byteAt=function(y){return this.data[this.zero+y]},g.prototype.lastIndexOfSignature=function(y){for(var v=y.charCodeAt(0),S=y.charCodeAt(1),k=y.charCodeAt(2),M=y.charCodeAt(3),z=this.length-4;0<=z;--z)if(this.data[z]===v&&this.data[z+1]===S&&this.data[z+2]===k&&this.data[z+3]===M)return z-this.zero;return-1},g.prototype.readAndCheckSignature=function(y){var v=y.charCodeAt(0),S=y.charCodeAt(1),k=y.charCodeAt(2),M=y.charCodeAt(3),z=this.readData(4);return v===z[0]&&S===z[1]&&k===z[2]&&M===z[3]},g.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,v},h.exports=g},{"../utils":32,"./DataReader":18}],18:[function(d,h,f){var p=d("../utils");function g(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}g.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var v,S=0;for(this.checkOffset(y),v=this.index+y-1;v>=this.index;v--)S=(S<<8)+this.byteAt(v);return this.index+=y,S},readString:function(y){return p.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},h.exports=g},{"../utils":32}],19:[function(d,h,f){var p=d("./Uint8ArrayReader");function g(y){p.call(this,y)}d("../utils").inherits(g,p),g.prototype.readData=function(y){this.checkOffset(y);var v=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,v},h.exports=g},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,h,f){var p=d("./DataReader");function g(y){p.call(this,y)}d("../utils").inherits(g,p),g.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},g.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},g.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},g.prototype.readData=function(y){this.checkOffset(y);var v=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,v},h.exports=g},{"../utils":32,"./DataReader":18}],21:[function(d,h,f){var p=d("./ArrayReader");function g(y){p.call(this,y)}d("../utils").inherits(g,p),g.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,v},h.exports=g},{"../utils":32,"./ArrayReader":17}],22:[function(d,h,f){var p=d("../utils"),g=d("../support"),y=d("./ArrayReader"),v=d("./StringReader"),S=d("./NodeBufferReader"),k=d("./Uint8ArrayReader");h.exports=function(M){var z=p.getTypeOf(M);return p.checkSupport(z),z!=="string"||g.uint8array?z==="nodebuffer"?new S(M):g.uint8array?new k(p.transformTo("uint8array",M)):new y(p.transformTo("array",M)):new v(M)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,h,f){f.LOCAL_FILE_HEADER="PK",f.CENTRAL_FILE_HEADER="PK",f.CENTRAL_DIRECTORY_END="PK",f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",f.ZIP64_CENTRAL_DIRECTORY_END="PK",f.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,h,f){var p=d("./GenericWorker"),g=d("../utils");function y(v){p.call(this,"ConvertWorker to "+v),this.destType=v}g.inherits(y,p),y.prototype.processChunk=function(v){this.push({data:g.transformTo(this.destType,v.data),meta:v.meta})},h.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(d,h,f){var p=d("./GenericWorker"),g=d("../crc32");function y(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(y,p),y.prototype.processChunk=function(v){this.streamInfo.crc32=g(v.data,this.streamInfo.crc32||0),this.push(v)},h.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,h,f){var p=d("../utils"),g=d("./GenericWorker");function y(v){g.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}p.inherits(y,g),y.prototype.processChunk=function(v){if(v){var S=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=S+v.data.length}g.prototype.processChunk.call(this,v)},h.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(d,h,f){var p=d("../utils"),g=d("./GenericWorker");function y(v){g.call(this,"DataWorker");var S=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(k){S.dataIsReady=!0,S.data=k,S.max=k&&k.length||0,S.type=p.getTypeOf(k),S.isPaused||S._tickAndRepeat()},function(k){S.error(k)})}p.inherits(y,g),y.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,S=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,S);break;case"uint8array":v=this.data.subarray(this.index,S);break;case"array":case"nodebuffer":v=this.data.slice(this.index,S)}return this.index=S,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},h.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(d,h,f){function p(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(g){this.emit("data",g)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0},error:function(g){return!this.isFinished&&(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)},on:function(g,y){return this._listeners[g].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(g,y){if(this._listeners[g])for(var v=0;v<this._listeners[g].length;v++)this._listeners[g][v].call(this,y)},pipe:function(g){return g.registerPrevious(this)},registerPrevious:function(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var y=this;return g.on("data",function(v){y.processChunk(v)}),g.on("end",function(){y.end()}),g.on("error",function(v){y.error(v)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var g=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g},flush:function(){},processChunk:function(g){this.push(g)},withStreamInfo:function(g,y){return this.extraStreamInfo[g]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var g in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,g)&&(this.streamInfo[g]=this.extraStreamInfo[g])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}},h.exports=p},{}],29:[function(d,h,f){var p=d("../utils"),g=d("./ConvertWorker"),y=d("./GenericWorker"),v=d("../base64"),S=d("../support"),k=d("../external"),M=null;if(S.nodestream)try{M=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function z(F,j,B){var U=j;switch(j){case"blob":case"arraybuffer":U="uint8array";break;case"base64":U="string"}try{this._internalType=U,this._outputType=j,this._mimeType=B,p.checkSupport(U),this._worker=F.pipe(new g(U)),F.lock()}catch(V){this._worker=new y("error"),this._worker.error(V)}}z.prototype={accumulate:function(F){return function(j,B){return new k.Promise(function(U,V){var E=[],C=j._internalType,R=j._outputType,m=j._mimeType;j.on("data",function(b,w){E.push(b),B&&B(w)}).on("error",function(b){E=[],V(b)}).on("end",function(){try{var b=function(w,_,x){switch(w){case"blob":return p.newBlob(p.transformTo("arraybuffer",_),x);case"base64":return v.encode(_);default:return p.transformTo(w,_)}}(R,function(w,_){var x,I=0,O=null,$=0;for(x=0;x<_.length;x++)$+=_[x].length;switch(w){case"string":return _.join("");case"array":return Array.prototype.concat.apply([],_);case"uint8array":for(O=new Uint8Array($),x=0;x<_.length;x++)O.set(_[x],I),I+=_[x].length;return O;case"nodebuffer":return s.concat(_);default:throw new Error("concat : unsupported type '"+w+"'")}}(C,E),m);U(b)}catch(w){V(w)}E=[]}).resume()})}(this,F)},on:function(F,j){var B=this;return F==="data"?this._worker.on(F,function(U){j.call(B,U.data,U.meta)}):this._worker.on(F,function(){p.delay(j,arguments,B)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(F){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new M(this,{objectMode:this._outputType!=="nodebuffer"},F)}},h.exports=z},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,h,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",f.nodebuffer=s!==void 0,f.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")f.blob=!1;else{var p=new ArrayBuffer(0);try{f.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(p),f.blob=g.getBlob("application/zip").size===0}catch{f.blob=!1}}}try{f.nodestream=!!d("readable-stream").Readable}catch{f.nodestream=!1}},{"readable-stream":16}],31:[function(d,h,f){for(var p=d("./utils"),g=d("./support"),y=d("./nodejsUtils"),v=d("./stream/GenericWorker"),S=new Array(256),k=0;k<256;k++)S[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function M(){v.call(this,"utf-8 decode"),this.leftOver=null}function z(){v.call(this,"utf-8 encode")}S[254]=S[254]=1,f.utf8encode=function(F){return g.nodebuffer?y.newBufferFrom(F,"utf-8"):function(j){var B,U,V,E,C,R=j.length,m=0;for(E=0;E<R;E++)(64512&(U=j.charCodeAt(E)))==55296&&E+1<R&&(64512&(V=j.charCodeAt(E+1)))==56320&&(U=65536+(U-55296<<10)+(V-56320),E++),m+=U<128?1:U<2048?2:U<65536?3:4;for(B=g.uint8array?new Uint8Array(m):new Array(m),E=C=0;C<m;E++)(64512&(U=j.charCodeAt(E)))==55296&&E+1<R&&(64512&(V=j.charCodeAt(E+1)))==56320&&(U=65536+(U-55296<<10)+(V-56320),E++),U<128?B[C++]=U:(U<2048?B[C++]=192|U>>>6:(U<65536?B[C++]=224|U>>>12:(B[C++]=240|U>>>18,B[C++]=128|U>>>12&63),B[C++]=128|U>>>6&63),B[C++]=128|63&U);return B}(F)},f.utf8decode=function(F){return g.nodebuffer?p.transformTo("nodebuffer",F).toString("utf-8"):function(j){var B,U,V,E,C=j.length,R=new Array(2*C);for(B=U=0;B<C;)if((V=j[B++])<128)R[U++]=V;else if(4<(E=S[V]))R[U++]=65533,B+=E-1;else{for(V&=E===2?31:E===3?15:7;1<E&&B<C;)V=V<<6|63&j[B++],E--;1<E?R[U++]=65533:V<65536?R[U++]=V:(V-=65536,R[U++]=55296|V>>10&1023,R[U++]=56320|1023&V)}return R.length!==U&&(R.subarray?R=R.subarray(0,U):R.length=U),p.applyFromCharCode(R)}(F=p.transformTo(g.uint8array?"uint8array":"array",F))},p.inherits(M,v),M.prototype.processChunk=function(F){var j=p.transformTo(g.uint8array?"uint8array":"array",F.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var B=j;(j=new Uint8Array(B.length+this.leftOver.length)).set(this.leftOver,0),j.set(B,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var U=function(E,C){var R;for((C=C||E.length)>E.length&&(C=E.length),R=C-1;0<=R&&(192&E[R])==128;)R--;return R<0||R===0?C:R+S[E[R]]>C?R:C}(j),V=j;U!==j.length&&(g.uint8array?(V=j.subarray(0,U),this.leftOver=j.subarray(U,j.length)):(V=j.slice(0,U),this.leftOver=j.slice(U,j.length))),this.push({data:f.utf8decode(V),meta:F.meta})},M.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},f.Utf8DecodeWorker=M,p.inherits(z,v),z.prototype.processChunk=function(F){this.push({data:f.utf8encode(F.data),meta:F.meta})},f.Utf8EncodeWorker=z},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,h,f){var p=d("./support"),g=d("./base64"),y=d("./nodejsUtils"),v=d("./external");function S(B){return B}function k(B,U){for(var V=0;V<B.length;++V)U[V]=255&B.charCodeAt(V);return U}d("setimmediate"),f.newBlob=function(B,U){f.checkSupport("blob");try{return new Blob([B],{type:U})}catch{try{var V=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return V.append(B),V.getBlob(U)}catch{throw new Error("Bug : can't construct the Blob.")}}};var M={stringifyByChunk:function(B,U,V){var E=[],C=0,R=B.length;if(R<=V)return String.fromCharCode.apply(null,B);for(;C<R;)U==="array"||U==="nodebuffer"?E.push(String.fromCharCode.apply(null,B.slice(C,Math.min(C+V,R)))):E.push(String.fromCharCode.apply(null,B.subarray(C,Math.min(C+V,R)))),C+=V;return E.join("")},stringifyByChar:function(B){for(var U="",V=0;V<B.length;V++)U+=String.fromCharCode(B[V]);return U},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function z(B){var U=65536,V=f.getTypeOf(B),E=!0;if(V==="uint8array"?E=M.applyCanBeUsed.uint8array:V==="nodebuffer"&&(E=M.applyCanBeUsed.nodebuffer),E)for(;1<U;)try{return M.stringifyByChunk(B,V,U)}catch{U=Math.floor(U/2)}return M.stringifyByChar(B)}function F(B,U){for(var V=0;V<B.length;V++)U[V]=B[V];return U}f.applyFromCharCode=z;var j={};j.string={string:S,array:function(B){return k(B,new Array(B.length))},arraybuffer:function(B){return j.string.uint8array(B).buffer},uint8array:function(B){return k(B,new Uint8Array(B.length))},nodebuffer:function(B){return k(B,y.allocBuffer(B.length))}},j.array={string:z,array:S,arraybuffer:function(B){return new Uint8Array(B).buffer},uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return y.newBufferFrom(B)}},j.arraybuffer={string:function(B){return z(new Uint8Array(B))},array:function(B){return F(new Uint8Array(B),new Array(B.byteLength))},arraybuffer:S,uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return y.newBufferFrom(new Uint8Array(B))}},j.uint8array={string:z,array:function(B){return F(B,new Array(B.length))},arraybuffer:function(B){return B.buffer},uint8array:S,nodebuffer:function(B){return y.newBufferFrom(B)}},j.nodebuffer={string:z,array:function(B){return F(B,new Array(B.length))},arraybuffer:function(B){return j.nodebuffer.uint8array(B).buffer},uint8array:function(B){return F(B,new Uint8Array(B.length))},nodebuffer:S},f.transformTo=function(B,U){if(U=U||"",!B)return U;f.checkSupport(B);var V=f.getTypeOf(U);return j[V][B](U)},f.resolve=function(B){for(var U=B.split("/"),V=[],E=0;E<U.length;E++){var C=U[E];C==="."||C===""&&E!==0&&E!==U.length-1||(C===".."?V.pop():V.push(C))}return V.join("/")},f.getTypeOf=function(B){return typeof B=="string"?"string":Object.prototype.toString.call(B)==="[object Array]"?"array":p.nodebuffer&&y.isBuffer(B)?"nodebuffer":p.uint8array&&B instanceof Uint8Array?"uint8array":p.arraybuffer&&B instanceof ArrayBuffer?"arraybuffer":void 0},f.checkSupport=function(B){if(!p[B.toLowerCase()])throw new Error(B+" is not supported by this platform")},f.MAX_VALUE_16BITS=65535,f.MAX_VALUE_32BITS=-1,f.pretty=function(B){var U,V,E="";for(V=0;V<(B||"").length;V++)E+="\\x"+((U=B.charCodeAt(V))<16?"0":"")+U.toString(16).toUpperCase();return E},f.delay=function(B,U,V){u(function(){B.apply(V||null,U||[])})},f.inherits=function(B,U){function V(){}V.prototype=U.prototype,B.prototype=new V},f.extend=function(){var B,U,V={};for(B=0;B<arguments.length;B++)for(U in arguments[B])Object.prototype.hasOwnProperty.call(arguments[B],U)&&V[U]===void 0&&(V[U]=arguments[B][U]);return V},f.prepareContent=function(B,U,V,E,C){return v.Promise.resolve(U).then(function(R){return p.blob&&(R instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(R))!==-1)&&typeof FileReader<"u"?new v.Promise(function(m,b){var w=new FileReader;w.onload=function(_){m(_.target.result)},w.onerror=function(_){b(_.target.error)},w.readAsArrayBuffer(R)}):R}).then(function(R){var m=f.getTypeOf(R);return m?(m==="arraybuffer"?R=f.transformTo("uint8array",R):m==="string"&&(C?R=g.decode(R):V&&E!==!0&&(R=function(b){return k(b,p.uint8array?new Uint8Array(b.length):new Array(b.length))}(R))),R):v.Promise.reject(new Error("Can't read the data of '"+B+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,h,f){var p=d("./reader/readerFor"),g=d("./utils"),y=d("./signature"),v=d("./zipEntry"),S=d("./support");function k(M){this.files=[],this.loadOptions=M}k.prototype={checkSignature:function(M){if(!this.reader.readAndCheckSignature(M)){this.reader.index-=4;var z=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty(z)+", expected "+g.pretty(M)+")")}},isSignature:function(M,z){var F=this.reader.index;this.reader.setIndex(M);var j=this.reader.readString(4)===z;return this.reader.setIndex(F),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var M=this.reader.readData(this.zipCommentLength),z=S.uint8array?"uint8array":"array",F=g.transformTo(z,M);this.zipComment=this.loadOptions.decodeFileName(F)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var M,z,F,j=this.zip64EndOfCentralSize-44;0<j;)M=this.reader.readInt(2),z=this.reader.readInt(4),F=this.reader.readData(z),this.zip64ExtensibleData[M]={id:M,length:z,value:F}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var M,z;for(M=0;M<this.files.length;M++)z=this.files[M],this.reader.setIndex(z.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),z.readLocalPart(this.reader),z.handleUTF8(),z.processAttributes()},readCentralDir:function(){var M;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(M=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(M);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var M=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(M<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(M);var z=M;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,(M=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(M),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var F=this.centralDirOffset+this.centralDirSize;this.zip64&&(F+=20,F+=12+this.zip64EndOfCentralSize);var j=z-F;if(0<j)this.isSignature(z,y.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(M){this.reader=p(M)},load:function(M){this.prepareReader(M),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},h.exports=k},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,h,f){var p=d("./reader/readerFor"),g=d("./utils"),y=d("./compressedObject"),v=d("./crc32"),S=d("./utf8"),k=d("./compressions"),M=d("./support");function z(F,j){this.options=F,this.loadOptions=j}z.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(F){var j,B;if(F.skip(22),this.fileNameLength=F.readInt(2),B=F.readInt(2),this.fileName=F.readData(this.fileNameLength),F.skip(B),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=function(U){for(var V in k)if(Object.prototype.hasOwnProperty.call(k,V)&&k[V].magic===U)return k[V];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,j,F.readData(this.compressedSize))},readCentralPart:function(F){this.versionMadeBy=F.readInt(2),F.skip(2),this.bitFlag=F.readInt(2),this.compressionMethod=F.readString(2),this.date=F.readDate(),this.crc32=F.readInt(4),this.compressedSize=F.readInt(4),this.uncompressedSize=F.readInt(4);var j=F.readInt(2);if(this.extraFieldsLength=F.readInt(2),this.fileCommentLength=F.readInt(2),this.diskNumberStart=F.readInt(2),this.internalFileAttributes=F.readInt(2),this.externalFileAttributes=F.readInt(4),this.localHeaderOffset=F.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");F.skip(j),this.readExtraFields(F),this.parseZIP64ExtraField(F),this.fileComment=F.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var F=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),F==0&&(this.dosPermissions=63&this.externalFileAttributes),F==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var F=p(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=F.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=F.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=F.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=F.readInt(4))}},readExtraFields:function(F){var j,B,U,V=F.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});F.index+4<V;)j=F.readInt(2),B=F.readInt(2),U=F.readData(B),this.extraFields[j]={id:j,length:B,value:U};F.setIndex(V)},handleUTF8:function(){var F=M.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=S.utf8decode(this.fileName),this.fileCommentStr=S.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var B=g.transformTo(F,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(B)}var U=this.findExtraFieldUnicodeComment();if(U!==null)this.fileCommentStr=U;else{var V=g.transformTo(F,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(V)}}},findExtraFieldUnicodePath:function(){var F=this.extraFields[28789];if(F){var j=p(F.value);return j.readInt(1)!==1||v(this.fileName)!==j.readInt(4)?null:S.utf8decode(j.readData(F.length-5))}return null},findExtraFieldUnicodeComment:function(){var F=this.extraFields[25461];if(F){var j=p(F.value);return j.readInt(1)!==1||v(this.fileComment)!==j.readInt(4)?null:S.utf8decode(j.readData(F.length-5))}return null}},h.exports=z},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,h,f){function p(j,B,U){this.name=j,this.dir=U.dir,this.date=U.date,this.comment=U.comment,this.unixPermissions=U.unixPermissions,this.dosPermissions=U.dosPermissions,this._data=B,this._dataBinary=U.binary,this.options={compression:U.compression,compressionOptions:U.compressionOptions}}var g=d("./stream/StreamHelper"),y=d("./stream/DataWorker"),v=d("./utf8"),S=d("./compressedObject"),k=d("./stream/GenericWorker");p.prototype={internalStream:function(j){var B=null,U="string";try{if(!j)throw new Error("No output type specified.");var V=(U=j.toLowerCase())==="string"||U==="text";U!=="binarystring"&&U!=="text"||(U="string"),B=this._decompressWorker();var E=!this._dataBinary;E&&!V&&(B=B.pipe(new v.Utf8EncodeWorker)),!E&&V&&(B=B.pipe(new v.Utf8DecodeWorker))}catch(C){(B=new k("error")).error(C)}return new g(B,U,"")},async:function(j,B){return this.internalStream(j).accumulate(B)},nodeStream:function(j,B){return this.internalStream(j||"nodebuffer").toNodejsStream(B)},_compressWorker:function(j,B){if(this._data instanceof S&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var U=this._decompressWorker();return this._dataBinary||(U=U.pipe(new v.Utf8EncodeWorker)),S.createWorkerFrom(U,j,B)},_decompressWorker:function(){return this._data instanceof S?this._data.getContentWorker():this._data instanceof k?this._data:new y(this._data)}};for(var M=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],z=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},F=0;F<M.length;F++)p.prototype[M[F]]=z;h.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,h,f){(function(p){var g,y,v=p.MutationObserver||p.WebKitMutationObserver;if(v){var S=0,k=new v(j),M=p.document.createTextNode("");k.observe(M,{characterData:!0}),g=function(){M.data=S=++S%2}}else if(p.setImmediate||p.MessageChannel===void 0)g="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var B=p.document.createElement("script");B.onreadystatechange=function(){j(),B.onreadystatechange=null,B.parentNode.removeChild(B),B=null},p.document.documentElement.appendChild(B)}:function(){setTimeout(j,0)};else{var z=new p.MessageChannel;z.port1.onmessage=j,g=function(){z.port2.postMessage(0)}}var F=[];function j(){var B,U;y=!0;for(var V=F.length;V;){for(U=F,F=[],B=-1;++B<V;)U[B]();V=F.length}y=!1}h.exports=function(B){F.push(B)!==1||y||g()}}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,h,f){var p=d("immediate");function g(){}var y={},v=["REJECTED"],S=["FULFILLED"],k=["PENDING"];function M(V){if(typeof V!="function")throw new TypeError("resolver must be a function");this.state=k,this.queue=[],this.outcome=void 0,V!==g&&B(this,V)}function z(V,E,C){this.promise=V,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function F(V,E,C){p(function(){var R;try{R=E(C)}catch(m){return y.reject(V,m)}R===V?y.reject(V,new TypeError("Cannot resolve promise with itself")):y.resolve(V,R)})}function j(V){var E=V&&V.then;if(V&&(typeof V=="object"||typeof V=="function")&&typeof E=="function")return function(){E.apply(V,arguments)}}function B(V,E){var C=!1;function R(w){C||(C=!0,y.reject(V,w))}function m(w){C||(C=!0,y.resolve(V,w))}var b=U(function(){E(m,R)});b.status==="error"&&R(b.value)}function U(V,E){var C={};try{C.value=V(E),C.status="success"}catch(R){C.status="error",C.value=R}return C}(h.exports=M).prototype.finally=function(V){if(typeof V!="function")return this;var E=this.constructor;return this.then(function(C){return E.resolve(V()).then(function(){return C})},function(C){return E.resolve(V()).then(function(){throw C})})},M.prototype.catch=function(V){return this.then(null,V)},M.prototype.then=function(V,E){if(typeof V!="function"&&this.state===S||typeof E!="function"&&this.state===v)return this;var C=new this.constructor(g);return this.state!==k?F(C,this.state===S?V:E,this.outcome):this.queue.push(new z(C,V,E)),C},z.prototype.callFulfilled=function(V){y.resolve(this.promise,V)},z.prototype.otherCallFulfilled=function(V){F(this.promise,this.onFulfilled,V)},z.prototype.callRejected=function(V){y.reject(this.promise,V)},z.prototype.otherCallRejected=function(V){F(this.promise,this.onRejected,V)},y.resolve=function(V,E){var C=U(j,E);if(C.status==="error")return y.reject(V,C.value);var R=C.value;if(R)B(V,R);else{V.state=S,V.outcome=E;for(var m=-1,b=V.queue.length;++m<b;)V.queue[m].callFulfilled(E)}return V},y.reject=function(V,E){V.state=v,V.outcome=E;for(var C=-1,R=V.queue.length;++C<R;)V.queue[C].callRejected(E);return V},M.resolve=function(V){return V instanceof this?V:y.resolve(new this(g),V)},M.reject=function(V){var E=new this(g);return y.reject(E,V)},M.all=function(V){var E=this;if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=V.length,R=!1;if(!C)return this.resolve([]);for(var m=new Array(C),b=0,w=-1,_=new this(g);++w<C;)x(V[w],w);return _;function x(I,O){E.resolve(I).then(function($){m[O]=$,++b!==C||R||(R=!0,y.resolve(_,m))},function($){R||(R=!0,y.reject(_,$))})}},M.race=function(V){if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=V.length,C=!1;if(!E)return this.resolve([]);for(var R,m=-1,b=new this(g);++m<E;)R=V[m],this.resolve(R).then(function(w){C||(C=!0,y.resolve(b,w))},function(w){C||(C=!0,y.reject(b,w))});return b}},{immediate:36}],38:[function(d,h,f){var p={};(0,d("./lib/utils/common").assign)(p,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),h.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,h,f){var p=d("./zlib/deflate"),g=d("./utils/common"),y=d("./utils/strings"),v=d("./zlib/messages"),S=d("./zlib/zstream"),k=Object.prototype.toString;function M(F){if(!(this instanceof M))return new M(F);this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},F||{});var j=this.options;j.raw&&0<j.windowBits?j.windowBits=-j.windowBits:j.gzip&&0<j.windowBits&&j.windowBits<16&&(j.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var B=p.deflateInit2(this.strm,j.level,j.method,j.windowBits,j.memLevel,j.strategy);if(B!==0)throw new Error(v[B]);if(j.header&&p.deflateSetHeader(this.strm,j.header),j.dictionary){var U;if(U=typeof j.dictionary=="string"?y.string2buf(j.dictionary):k.call(j.dictionary)==="[object ArrayBuffer]"?new Uint8Array(j.dictionary):j.dictionary,(B=p.deflateSetDictionary(this.strm,U))!==0)throw new Error(v[B]);this._dict_set=!0}}function z(F,j){var B=new M(j);if(B.push(F,!0),B.err)throw B.msg||v[B.err];return B.result}M.prototype.push=function(F,j){var B,U,V=this.strm,E=this.options.chunkSize;if(this.ended)return!1;U=j===~~j?j:j===!0?4:0,typeof F=="string"?V.input=y.string2buf(F):k.call(F)==="[object ArrayBuffer]"?V.input=new Uint8Array(F):V.input=F,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new g.Buf8(E),V.next_out=0,V.avail_out=E),(B=p.deflate(V,U))!==1&&B!==0)return this.onEnd(B),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||U!==4&&U!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(g.shrinkBuf(V.output,V.next_out))):this.onData(g.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&B!==1);return U===4?(B=p.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===0):U!==2||(this.onEnd(0),!(V.avail_out=0))},M.prototype.onData=function(F){this.chunks.push(F)},M.prototype.onEnd=function(F){F===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},f.Deflate=M,f.deflate=z,f.deflateRaw=function(F,j){return(j=j||{}).raw=!0,z(F,j)},f.gzip=function(F,j){return(j=j||{}).gzip=!0,z(F,j)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,h,f){var p=d("./zlib/inflate"),g=d("./utils/common"),y=d("./utils/strings"),v=d("./zlib/constants"),S=d("./zlib/messages"),k=d("./zlib/zstream"),M=d("./zlib/gzheader"),z=Object.prototype.toString;function F(B){if(!(this instanceof F))return new F(B);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},B||{});var U=this.options;U.raw&&0<=U.windowBits&&U.windowBits<16&&(U.windowBits=-U.windowBits,U.windowBits===0&&(U.windowBits=-15)),!(0<=U.windowBits&&U.windowBits<16)||B&&B.windowBits||(U.windowBits+=32),15<U.windowBits&&U.windowBits<48&&(15&U.windowBits)==0&&(U.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var V=p.inflateInit2(this.strm,U.windowBits);if(V!==v.Z_OK)throw new Error(S[V]);this.header=new M,p.inflateGetHeader(this.strm,this.header)}function j(B,U){var V=new F(U);if(V.push(B,!0),V.err)throw V.msg||S[V.err];return V.result}F.prototype.push=function(B,U){var V,E,C,R,m,b,w=this.strm,_=this.options.chunkSize,x=this.options.dictionary,I=!1;if(this.ended)return!1;E=U===~~U?U:U===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof B=="string"?w.input=y.binstring2buf(B):z.call(B)==="[object ArrayBuffer]"?w.input=new Uint8Array(B):w.input=B,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new g.Buf8(_),w.next_out=0,w.avail_out=_),(V=p.inflate(w,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&x&&(b=typeof x=="string"?y.string2buf(x):z.call(x)==="[object ArrayBuffer]"?new Uint8Array(x):x,V=p.inflateSetDictionary(this.strm,b)),V===v.Z_BUF_ERROR&&I===!0&&(V=v.Z_OK,I=!1),V!==v.Z_STREAM_END&&V!==v.Z_OK)return this.onEnd(V),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&V!==v.Z_STREAM_END&&(w.avail_in!==0||E!==v.Z_FINISH&&E!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=y.utf8border(w.output,w.next_out),R=w.next_out-C,m=y.buf2string(w.output,C),w.next_out=R,w.avail_out=_-R,R&&g.arraySet(w.output,w.output,C,R,0),this.onData(m)):this.onData(g.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(I=!0)}while((0<w.avail_in||w.avail_out===0)&&V!==v.Z_STREAM_END);return V===v.Z_STREAM_END&&(E=v.Z_FINISH),E===v.Z_FINISH?(V=p.inflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===v.Z_OK):E!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(w.avail_out=0))},F.prototype.onData=function(B){this.chunks.push(B)},F.prototype.onEnd=function(B){B===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},f.Inflate=F,f.inflate=j,f.inflateRaw=function(B,U){return(U=U||{}).raw=!0,j(B,U)},f.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,h,f){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";f.assign=function(v){for(var S=Array.prototype.slice.call(arguments,1);S.length;){var k=S.shift();if(k){if(typeof k!="object")throw new TypeError(k+"must be non-object");for(var M in k)k.hasOwnProperty(M)&&(v[M]=k[M])}}return v},f.shrinkBuf=function(v,S){return v.length===S?v:v.subarray?v.subarray(0,S):(v.length=S,v)};var g={arraySet:function(v,S,k,M,z){if(S.subarray&&v.subarray)v.set(S.subarray(k,k+M),z);else for(var F=0;F<M;F++)v[z+F]=S[k+F]},flattenChunks:function(v){var S,k,M,z,F,j;for(S=M=0,k=v.length;S<k;S++)M+=v[S].length;for(j=new Uint8Array(M),S=z=0,k=v.length;S<k;S++)F=v[S],j.set(F,z),z+=F.length;return j}},y={arraySet:function(v,S,k,M,z){for(var F=0;F<M;F++)v[z+F]=S[k+F]},flattenChunks:function(v){return[].concat.apply([],v)}};f.setTyped=function(v){v?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,g)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,y))},f.setTyped(p)},{}],42:[function(d,h,f){var p=d("./common"),g=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var v=new p.Buf8(256),S=0;S<256;S++)v[S]=252<=S?6:248<=S?5:240<=S?4:224<=S?3:192<=S?2:1;function k(M,z){if(z<65537&&(M.subarray&&y||!M.subarray&&g))return String.fromCharCode.apply(null,p.shrinkBuf(M,z));for(var F="",j=0;j<z;j++)F+=String.fromCharCode(M[j]);return F}v[254]=v[254]=1,f.string2buf=function(M){var z,F,j,B,U,V=M.length,E=0;for(B=0;B<V;B++)(64512&(F=M.charCodeAt(B)))==55296&&B+1<V&&(64512&(j=M.charCodeAt(B+1)))==56320&&(F=65536+(F-55296<<10)+(j-56320),B++),E+=F<128?1:F<2048?2:F<65536?3:4;for(z=new p.Buf8(E),B=U=0;U<E;B++)(64512&(F=M.charCodeAt(B)))==55296&&B+1<V&&(64512&(j=M.charCodeAt(B+1)))==56320&&(F=65536+(F-55296<<10)+(j-56320),B++),F<128?z[U++]=F:(F<2048?z[U++]=192|F>>>6:(F<65536?z[U++]=224|F>>>12:(z[U++]=240|F>>>18,z[U++]=128|F>>>12&63),z[U++]=128|F>>>6&63),z[U++]=128|63&F);return z},f.buf2binstring=function(M){return k(M,M.length)},f.binstring2buf=function(M){for(var z=new p.Buf8(M.length),F=0,j=z.length;F<j;F++)z[F]=M.charCodeAt(F);return z},f.buf2string=function(M,z){var F,j,B,U,V=z||M.length,E=new Array(2*V);for(F=j=0;F<V;)if((B=M[F++])<128)E[j++]=B;else if(4<(U=v[B]))E[j++]=65533,F+=U-1;else{for(B&=U===2?31:U===3?15:7;1<U&&F<V;)B=B<<6|63&M[F++],U--;1<U?E[j++]=65533:B<65536?E[j++]=B:(B-=65536,E[j++]=55296|B>>10&1023,E[j++]=56320|1023&B)}return k(E,j)},f.utf8border=function(M,z){var F;for((z=z||M.length)>M.length&&(z=M.length),F=z-1;0<=F&&(192&M[F])==128;)F--;return F<0||F===0?z:F+v[M[F]]>z?F:z}},{"./common":41}],43:[function(d,h,f){h.exports=function(p,g,y,v){for(var S=65535&p|0,k=p>>>16&65535|0,M=0;y!==0;){for(y-=M=2e3<y?2e3:y;k=k+(S=S+g[v++]|0)|0,--M;);S%=65521,k%=65521}return S|k<<16|0}},{}],44:[function(d,h,f){h.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,h,f){var p=function(){for(var g,y=[],v=0;v<256;v++){g=v;for(var S=0;S<8;S++)g=1&g?3988292384^g>>>1:g>>>1;y[v]=g}return y}();h.exports=function(g,y,v,S){var k=p,M=S+v;g^=-1;for(var z=S;z<M;z++)g=g>>>8^k[255&(g^y[z])];return-1^g}},{}],46:[function(d,h,f){var p,g=d("../utils/common"),y=d("./trees"),v=d("./adler32"),S=d("./crc32"),k=d("./messages"),M=-2,z=258,F=262,j=113;function B(D,W){return D.msg=k[W],W}function U(D){return(D<<1)-(4<D?9:0)}function V(D){for(var W=D.length;0<=--W;)D[W]=0}function E(D){var W=D.state,A=W.pending;A>D.avail_out&&(A=D.avail_out),A!==0&&(g.arraySet(D.output,W.pending_buf,W.pending_out,A,D.next_out),D.next_out+=A,W.pending_out+=A,D.total_out+=A,D.avail_out-=A,W.pending-=A,W.pending===0&&(W.pending_out=0))}function C(D,W){y._tr_flush_block(D,0<=D.block_start?D.block_start:-1,D.strstart-D.block_start,W),D.block_start=D.strstart,E(D.strm)}function R(D,W){D.pending_buf[D.pending++]=W}function m(D,W){D.pending_buf[D.pending++]=W>>>8&255,D.pending_buf[D.pending++]=255&W}function b(D,W){var A,T,H=D.max_chain_length,Z=D.strstart,Q=D.prev_length,J=D.nice_match,ne=D.strstart>D.w_size-F?D.strstart-(D.w_size-F):0,ge=D.window,ye=D.w_mask,K=D.prev,ce=D.strstart+z,ue=ge[Z+Q-1],ve=ge[Z+Q];D.prev_length>=D.good_match&&(H>>=2),J>D.lookahead&&(J=D.lookahead);do if(ge[(A=W)+Q]===ve&&ge[A+Q-1]===ue&&ge[A]===ge[Z]&&ge[++A]===ge[Z+1]){Z+=2,A++;do;while(ge[++Z]===ge[++A]&&ge[++Z]===ge[++A]&&ge[++Z]===ge[++A]&&ge[++Z]===ge[++A]&&ge[++Z]===ge[++A]&&ge[++Z]===ge[++A]&&ge[++Z]===ge[++A]&&ge[++Z]===ge[++A]&&Z<ce);if(T=z-(ce-Z),Z=ce-z,Q<T){if(D.match_start=W,J<=(Q=T))break;ue=ge[Z+Q-1],ve=ge[Z+Q]}}while((W=K[W&ye])>ne&&--H!=0);return Q<=D.lookahead?Q:D.lookahead}function w(D){var W,A,T,H,Z,Q,J,ne,ge,ye,K=D.w_size;do{if(H=D.window_size-D.lookahead-D.strstart,D.strstart>=K+(K-F)){for(g.arraySet(D.window,D.window,K,K,0),D.match_start-=K,D.strstart-=K,D.block_start-=K,W=A=D.hash_size;T=D.head[--W],D.head[W]=K<=T?T-K:0,--A;);for(W=A=K;T=D.prev[--W],D.prev[W]=K<=T?T-K:0,--A;);H+=K}if(D.strm.avail_in===0)break;if(Q=D.strm,J=D.window,ne=D.strstart+D.lookahead,ye=void 0,(ge=H)<(ye=Q.avail_in)&&(ye=ge),A=ye===0?0:(Q.avail_in-=ye,g.arraySet(J,Q.input,Q.next_in,ye,ne),Q.state.wrap===1?Q.adler=v(Q.adler,J,ye,ne):Q.state.wrap===2&&(Q.adler=S(Q.adler,J,ye,ne)),Q.next_in+=ye,Q.total_in+=ye,ye),D.lookahead+=A,D.lookahead+D.insert>=3)for(Z=D.strstart-D.insert,D.ins_h=D.window[Z],D.ins_h=(D.ins_h<<D.hash_shift^D.window[Z+1])&D.hash_mask;D.insert&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[Z+3-1])&D.hash_mask,D.prev[Z&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=Z,Z++,D.insert--,!(D.lookahead+D.insert<3)););}while(D.lookahead<F&&D.strm.avail_in!==0)}function _(D,W){for(var A,T;;){if(D.lookahead<F){if(w(D),D.lookahead<F&&W===0)return 1;if(D.lookahead===0)break}if(A=0,D.lookahead>=3&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,A=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),A!==0&&D.strstart-A<=D.w_size-F&&(D.match_length=b(D,A)),D.match_length>=3)if(T=y._tr_tally(D,D.strstart-D.match_start,D.match_length-3),D.lookahead-=D.match_length,D.match_length<=D.max_lazy_match&&D.lookahead>=3){for(D.match_length--;D.strstart++,D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,A=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart,--D.match_length!=0;);D.strstart++}else D.strstart+=D.match_length,D.match_length=0,D.ins_h=D.window[D.strstart],D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+1])&D.hash_mask;else T=y._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++;if(T&&(C(D,!1),D.strm.avail_out===0))return 1}return D.insert=D.strstart<2?D.strstart:2,W===4?(C(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(C(D,!1),D.strm.avail_out===0)?1:2}function x(D,W){for(var A,T,H;;){if(D.lookahead<F){if(w(D),D.lookahead<F&&W===0)return 1;if(D.lookahead===0)break}if(A=0,D.lookahead>=3&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,A=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),D.prev_length=D.match_length,D.prev_match=D.match_start,D.match_length=2,A!==0&&D.prev_length<D.max_lazy_match&&D.strstart-A<=D.w_size-F&&(D.match_length=b(D,A),D.match_length<=5&&(D.strategy===1||D.match_length===3&&4096<D.strstart-D.match_start)&&(D.match_length=2)),D.prev_length>=3&&D.match_length<=D.prev_length){for(H=D.strstart+D.lookahead-3,T=y._tr_tally(D,D.strstart-1-D.prev_match,D.prev_length-3),D.lookahead-=D.prev_length-1,D.prev_length-=2;++D.strstart<=H&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+3-1])&D.hash_mask,A=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),--D.prev_length!=0;);if(D.match_available=0,D.match_length=2,D.strstart++,T&&(C(D,!1),D.strm.avail_out===0))return 1}else if(D.match_available){if((T=y._tr_tally(D,0,D.window[D.strstart-1]))&&C(D,!1),D.strstart++,D.lookahead--,D.strm.avail_out===0)return 1}else D.match_available=1,D.strstart++,D.lookahead--}return D.match_available&&(T=y._tr_tally(D,0,D.window[D.strstart-1]),D.match_available=0),D.insert=D.strstart<2?D.strstart:2,W===4?(C(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(C(D,!1),D.strm.avail_out===0)?1:2}function I(D,W,A,T,H){this.good_length=D,this.max_lazy=W,this.nice_length=A,this.max_chain=T,this.func=H}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(1146),this.dyn_dtree=new g.Buf16(122),this.bl_tree=new g.Buf16(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(16),this.heap=new g.Buf16(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $(D){var W;return D&&D.state?(D.total_in=D.total_out=0,D.data_type=2,(W=D.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?42:j,D.adler=W.wrap===2?0:1,W.last_flush=0,y._tr_init(W),0):B(D,M)}function P(D){var W=$(D);return W===0&&function(A){A.window_size=2*A.w_size,V(A.head),A.max_lazy_match=p[A.level].max_lazy,A.good_match=p[A.level].good_length,A.nice_match=p[A.level].nice_length,A.max_chain_length=p[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=2,A.match_available=0,A.ins_h=0}(D.state),W}function G(D,W,A,T,H,Z){if(!D)return M;var Q=1;if(W===-1&&(W=6),T<0?(Q=0,T=-T):15<T&&(Q=2,T-=16),H<1||9<H||A!==8||T<8||15<T||W<0||9<W||Z<0||4<Z)return B(D,M);T===8&&(T=9);var J=new O;return(D.state=J).strm=D,J.wrap=Q,J.gzhead=null,J.w_bits=T,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=H+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+3-1)/3),J.window=new g.Buf8(2*J.w_size),J.head=new g.Buf16(J.hash_size),J.prev=new g.Buf16(J.w_size),J.lit_bufsize=1<<H+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new g.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=W,J.strategy=Z,J.method=A,P(D)}p=[new I(0,0,0,0,function(D,W){var A=65535;for(A>D.pending_buf_size-5&&(A=D.pending_buf_size-5);;){if(D.lookahead<=1){if(w(D),D.lookahead===0&&W===0)return 1;if(D.lookahead===0)break}D.strstart+=D.lookahead,D.lookahead=0;var T=D.block_start+A;if((D.strstart===0||D.strstart>=T)&&(D.lookahead=D.strstart-T,D.strstart=T,C(D,!1),D.strm.avail_out===0)||D.strstart-D.block_start>=D.w_size-F&&(C(D,!1),D.strm.avail_out===0))return 1}return D.insert=0,W===4?(C(D,!0),D.strm.avail_out===0?3:4):(D.strstart>D.block_start&&(C(D,!1),D.strm.avail_out),1)}),new I(4,4,8,4,_),new I(4,5,16,8,_),new I(4,6,32,32,_),new I(4,4,16,16,x),new I(8,16,32,32,x),new I(8,16,128,128,x),new I(8,32,128,256,x),new I(32,128,258,1024,x),new I(32,258,258,4096,x)],f.deflateInit=function(D,W){return G(D,W,8,15,8,0)},f.deflateInit2=G,f.deflateReset=P,f.deflateResetKeep=$,f.deflateSetHeader=function(D,W){return D&&D.state?D.state.wrap!==2?M:(D.state.gzhead=W,0):M},f.deflate=function(D,W){var A,T,H,Z;if(!D||!D.state||5<W||W<0)return D?B(D,M):M;if(T=D.state,!D.output||!D.input&&D.avail_in!==0||T.status===666&&W!==4)return B(D,D.avail_out===0?-5:M);if(T.strm=D,A=T.last_flush,T.last_flush=W,T.status===42)if(T.wrap===2)D.adler=0,R(T,31),R(T,139),R(T,8),T.gzhead?(R(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),R(T,255&T.gzhead.time),R(T,T.gzhead.time>>8&255),R(T,T.gzhead.time>>16&255),R(T,T.gzhead.time>>24&255),R(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),R(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(R(T,255&T.gzhead.extra.length),R(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(D.adler=S(D.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(R(T,0),R(T,0),R(T,0),R(T,0),R(T,0),R(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),R(T,3),T.status=j);else{var Q=8+(T.w_bits-8<<4)<<8;Q|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(Q|=32),Q+=31-Q%31,T.status=j,m(T,Q),T.strstart!==0&&(m(T,D.adler>>>16),m(T,65535&D.adler)),D.adler=1}if(T.status===69)if(T.gzhead.extra){for(H=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>H&&(D.adler=S(D.adler,T.pending_buf,T.pending-H,H)),E(D),H=T.pending,T.pending!==T.pending_buf_size));)R(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>H&&(D.adler=S(D.adler,T.pending_buf,T.pending-H,H)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){H=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>H&&(D.adler=S(D.adler,T.pending_buf,T.pending-H,H)),E(D),H=T.pending,T.pending===T.pending_buf_size)){Z=1;break}Z=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,R(T,Z)}while(Z!==0);T.gzhead.hcrc&&T.pending>H&&(D.adler=S(D.adler,T.pending_buf,T.pending-H,H)),Z===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){H=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>H&&(D.adler=S(D.adler,T.pending_buf,T.pending-H,H)),E(D),H=T.pending,T.pending===T.pending_buf_size)){Z=1;break}Z=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,R(T,Z)}while(Z!==0);T.gzhead.hcrc&&T.pending>H&&(D.adler=S(D.adler,T.pending_buf,T.pending-H,H)),Z===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&E(D),T.pending+2<=T.pending_buf_size&&(R(T,255&D.adler),R(T,D.adler>>8&255),D.adler=0,T.status=j)):T.status=j),T.pending!==0){if(E(D),D.avail_out===0)return T.last_flush=-1,0}else if(D.avail_in===0&&U(W)<=U(A)&&W!==4)return B(D,-5);if(T.status===666&&D.avail_in!==0)return B(D,-5);if(D.avail_in!==0||T.lookahead!==0||W!==0&&T.status!==666){var J=T.strategy===2?function(ne,ge){for(var ye;;){if(ne.lookahead===0&&(w(ne),ne.lookahead===0)){if(ge===0)return 1;break}if(ne.match_length=0,ye=y._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,ye&&(C(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,ge===4?(C(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(C(ne,!1),ne.strm.avail_out===0)?1:2}(T,W):T.strategy===3?function(ne,ge){for(var ye,K,ce,ue,ve=ne.window;;){if(ne.lookahead<=z){if(w(ne),ne.lookahead<=z&&ge===0)return 1;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=3&&0<ne.strstart&&(K=ve[ce=ne.strstart-1])===ve[++ce]&&K===ve[++ce]&&K===ve[++ce]){ue=ne.strstart+z;do;while(K===ve[++ce]&&K===ve[++ce]&&K===ve[++ce]&&K===ve[++ce]&&K===ve[++ce]&&K===ve[++ce]&&K===ve[++ce]&&K===ve[++ce]&&ce<ue);ne.match_length=z-(ue-ce),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=3?(ye=y._tr_tally(ne,1,ne.match_length-3),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(ye=y._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),ye&&(C(ne,!1),ne.strm.avail_out===0))return 1}return ne.insert=0,ge===4?(C(ne,!0),ne.strm.avail_out===0?3:4):ne.last_lit&&(C(ne,!1),ne.strm.avail_out===0)?1:2}(T,W):p[T.level].func(T,W);if(J!==3&&J!==4||(T.status=666),J===1||J===3)return D.avail_out===0&&(T.last_flush=-1),0;if(J===2&&(W===1?y._tr_align(T):W!==5&&(y._tr_stored_block(T,0,0,!1),W===3&&(V(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),E(D),D.avail_out===0))return T.last_flush=-1,0}return W!==4?0:T.wrap<=0?1:(T.wrap===2?(R(T,255&D.adler),R(T,D.adler>>8&255),R(T,D.adler>>16&255),R(T,D.adler>>24&255),R(T,255&D.total_in),R(T,D.total_in>>8&255),R(T,D.total_in>>16&255),R(T,D.total_in>>24&255)):(m(T,D.adler>>>16),m(T,65535&D.adler)),E(D),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?0:1)},f.deflateEnd=function(D){var W;return D&&D.state?(W=D.state.status)!==42&&W!==69&&W!==73&&W!==91&&W!==103&&W!==j&&W!==666?B(D,M):(D.state=null,W===j?B(D,-3):0):M},f.deflateSetDictionary=function(D,W){var A,T,H,Z,Q,J,ne,ge,ye=W.length;if(!D||!D.state||(Z=(A=D.state).wrap)===2||Z===1&&A.status!==42||A.lookahead)return M;for(Z===1&&(D.adler=v(D.adler,W,ye,0)),A.wrap=0,ye>=A.w_size&&(Z===0&&(V(A.head),A.strstart=0,A.block_start=0,A.insert=0),ge=new g.Buf8(A.w_size),g.arraySet(ge,W,ye-A.w_size,A.w_size,0),W=ge,ye=A.w_size),Q=D.avail_in,J=D.next_in,ne=D.input,D.avail_in=ye,D.next_in=0,D.input=W,w(A);A.lookahead>=3;){for(T=A.strstart,H=A.lookahead-2;A.ins_h=(A.ins_h<<A.hash_shift^A.window[T+3-1])&A.hash_mask,A.prev[T&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=T,T++,--H;);A.strstart=T,A.lookahead=2,w(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=2,A.match_available=0,D.next_in=J,D.input=ne,D.avail_in=Q,A.wrap=Z,0},f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,h,f){h.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,h,f){h.exports=function(p,g){var y,v,S,k,M,z,F,j,B,U,V,E,C,R,m,b,w,_,x,I,O,$,P,G,D;y=p.state,v=p.next_in,G=p.input,S=v+(p.avail_in-5),k=p.next_out,D=p.output,M=k-(g-p.avail_out),z=k+(p.avail_out-257),F=y.dmax,j=y.wsize,B=y.whave,U=y.wnext,V=y.window,E=y.hold,C=y.bits,R=y.lencode,m=y.distcode,b=(1<<y.lenbits)-1,w=(1<<y.distbits)-1;e:do{C<15&&(E+=G[v++]<<C,C+=8,E+=G[v++]<<C,C+=8),_=R[E&b];t:for(;;){if(E>>>=x=_>>>24,C-=x,(x=_>>>16&255)==0)D[k++]=65535&_;else{if(!(16&x)){if((64&x)==0){_=R[(65535&_)+(E&(1<<x)-1)];continue t}if(32&x){y.mode=12;break e}p.msg="invalid literal/length code",y.mode=30;break e}I=65535&_,(x&=15)&&(C<x&&(E+=G[v++]<<C,C+=8),I+=E&(1<<x)-1,E>>>=x,C-=x),C<15&&(E+=G[v++]<<C,C+=8,E+=G[v++]<<C,C+=8),_=m[E&w];n:for(;;){if(E>>>=x=_>>>24,C-=x,!(16&(x=_>>>16&255))){if((64&x)==0){_=m[(65535&_)+(E&(1<<x)-1)];continue n}p.msg="invalid distance code",y.mode=30;break e}if(O=65535&_,C<(x&=15)&&(E+=G[v++]<<C,(C+=8)<x&&(E+=G[v++]<<C,C+=8)),F<(O+=E&(1<<x)-1)){p.msg="invalid distance too far back",y.mode=30;break e}if(E>>>=x,C-=x,(x=k-M)<O){if(B<(x=O-x)&&y.sane){p.msg="invalid distance too far back",y.mode=30;break e}if(P=V,($=0)===U){if($+=j-x,x<I){for(I-=x;D[k++]=V[$++],--x;);$=k-O,P=D}}else if(U<x){if($+=j+U-x,(x-=U)<I){for(I-=x;D[k++]=V[$++],--x;);if($=0,U<I){for(I-=x=U;D[k++]=V[$++],--x;);$=k-O,P=D}}}else if($+=U-x,x<I){for(I-=x;D[k++]=V[$++],--x;);$=k-O,P=D}for(;2<I;)D[k++]=P[$++],D[k++]=P[$++],D[k++]=P[$++],I-=3;I&&(D[k++]=P[$++],1<I&&(D[k++]=P[$++]))}else{for($=k-O;D[k++]=D[$++],D[k++]=D[$++],D[k++]=D[$++],2<(I-=3););I&&(D[k++]=D[$++],1<I&&(D[k++]=D[$++]))}break}}break}}while(v<S&&k<z);v-=I=C>>3,E&=(1<<(C-=I<<3))-1,p.next_in=v,p.next_out=k,p.avail_in=v<S?S-v+5:5-(v-S),p.avail_out=k<z?z-k+257:257-(k-z),y.hold=E,y.bits=C}},{}],49:[function(d,h,f){var p=d("../utils/common"),g=d("./adler32"),y=d("./crc32"),v=d("./inffast"),S=d("./inftrees"),k=-2;function M(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function z(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function F(b){var w;return b&&b.state?(w=b.state,b.total_in=b.total_out=w.total=0,b.msg="",w.wrap&&(b.adler=1&w.wrap),w.mode=1,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new p.Buf32(852),w.distcode=w.distdyn=new p.Buf32(592),w.sane=1,w.back=-1,0):k}function j(b){var w;return b&&b.state?((w=b.state).wsize=0,w.whave=0,w.wnext=0,F(b)):k}function B(b,w){var _,x;return b&&b.state?(x=b.state,w<0?(_=0,w=-w):(_=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?k:(x.window!==null&&x.wbits!==w&&(x.window=null),x.wrap=_,x.wbits=w,j(b))):k}function U(b,w){var _,x;return b?(x=new z,(b.state=x).window=null,(_=B(b,w))!==0&&(b.state=null),_):k}var V,E,C=!0;function R(b){if(C){var w;for(V=new p.Buf32(512),E=new p.Buf32(32),w=0;w<144;)b.lens[w++]=8;for(;w<256;)b.lens[w++]=9;for(;w<280;)b.lens[w++]=7;for(;w<288;)b.lens[w++]=8;for(S(1,b.lens,0,288,V,0,b.work,{bits:9}),w=0;w<32;)b.lens[w++]=5;S(2,b.lens,0,32,E,0,b.work,{bits:5}),C=!1}b.lencode=V,b.lenbits=9,b.distcode=E,b.distbits=5}function m(b,w,_,x){var I,O=b.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new p.Buf8(O.wsize)),x>=O.wsize?(p.arraySet(O.window,w,_-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(x<(I=O.wsize-O.wnext)&&(I=x),p.arraySet(O.window,w,_-x,I,O.wnext),(x-=I)?(p.arraySet(O.window,w,_-x,x,0),O.wnext=x,O.whave=O.wsize):(O.wnext+=I,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=I))),0}f.inflateReset=j,f.inflateReset2=B,f.inflateResetKeep=F,f.inflateInit=function(b){return U(b,15)},f.inflateInit2=U,f.inflate=function(b,w){var _,x,I,O,$,P,G,D,W,A,T,H,Z,Q,J,ne,ge,ye,K,ce,ue,ve,me,xe,we=0,De=new p.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return k;(_=b.state).mode===12&&(_.mode=13),$=b.next_out,I=b.output,G=b.avail_out,O=b.next_in,x=b.input,P=b.avail_in,D=_.hold,W=_.bits,A=P,T=G,ve=0;e:for(;;)switch(_.mode){case 1:if(_.wrap===0){_.mode=13;break}for(;W<16;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}if(2&_.wrap&&D===35615){De[_.check=0]=255&D,De[1]=D>>>8&255,_.check=y(_.check,De,2,0),W=D=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&D)<<8)+(D>>8))%31){b.msg="incorrect header check",_.mode=30;break}if((15&D)!=8){b.msg="unknown compression method",_.mode=30;break}if(W-=4,ue=8+(15&(D>>>=4)),_.wbits===0)_.wbits=ue;else if(ue>_.wbits){b.msg="invalid window size",_.mode=30;break}_.dmax=1<<ue,b.adler=_.check=1,_.mode=512&D?10:12,W=D=0;break;case 2:for(;W<16;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}if(_.flags=D,(255&_.flags)!=8){b.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){b.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=D>>8&1),512&_.flags&&(De[0]=255&D,De[1]=D>>>8&255,_.check=y(_.check,De,2,0)),W=D=0,_.mode=3;case 3:for(;W<32;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}_.head&&(_.head.time=D),512&_.flags&&(De[0]=255&D,De[1]=D>>>8&255,De[2]=D>>>16&255,De[3]=D>>>24&255,_.check=y(_.check,De,4,0)),W=D=0,_.mode=4;case 4:for(;W<16;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}_.head&&(_.head.xflags=255&D,_.head.os=D>>8),512&_.flags&&(De[0]=255&D,De[1]=D>>>8&255,_.check=y(_.check,De,2,0)),W=D=0,_.mode=5;case 5:if(1024&_.flags){for(;W<16;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}_.length=D,_.head&&(_.head.extra_len=D),512&_.flags&&(De[0]=255&D,De[1]=D>>>8&255,_.check=y(_.check,De,2,0)),W=D=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(P<(H=_.length)&&(H=P),H&&(_.head&&(ue=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),p.arraySet(_.head.extra,x,O,H,ue)),512&_.flags&&(_.check=y(_.check,x,H,O)),P-=H,O+=H,_.length-=H),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(P===0)break e;for(H=0;ue=x[O+H++],_.head&&ue&&_.length<65536&&(_.head.name+=String.fromCharCode(ue)),ue&&H<P;);if(512&_.flags&&(_.check=y(_.check,x,H,O)),P-=H,O+=H,ue)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(P===0)break e;for(H=0;ue=x[O+H++],_.head&&ue&&_.length<65536&&(_.head.comment+=String.fromCharCode(ue)),ue&&H<P;);if(512&_.flags&&(_.check=y(_.check,x,H,O)),P-=H,O+=H,ue)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;W<16;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}if(D!==(65535&_.check)){b.msg="header crc mismatch",_.mode=30;break}W=D=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),b.adler=_.check=0,_.mode=12;break;case 10:for(;W<32;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}b.adler=_.check=M(D),W=D=0,_.mode=11;case 11:if(_.havedict===0)return b.next_out=$,b.avail_out=G,b.next_in=O,b.avail_in=P,_.hold=D,_.bits=W,2;b.adler=_.check=1,_.mode=12;case 12:if(w===5||w===6)break e;case 13:if(_.last){D>>>=7&W,W-=7&W,_.mode=27;break}for(;W<3;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}switch(_.last=1&D,W-=1,3&(D>>>=1)){case 0:_.mode=14;break;case 1:if(R(_),_.mode=20,w!==6)break;D>>>=2,W-=2;break e;case 2:_.mode=17;break;case 3:b.msg="invalid block type",_.mode=30}D>>>=2,W-=2;break;case 14:for(D>>>=7&W,W-=7&W;W<32;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}if((65535&D)!=(D>>>16^65535)){b.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&D,W=D=0,_.mode=15,w===6)break e;case 15:_.mode=16;case 16:if(H=_.length){if(P<H&&(H=P),G<H&&(H=G),H===0)break e;p.arraySet(I,x,O,H,$),P-=H,O+=H,G-=H,$+=H,_.length-=H;break}_.mode=12;break;case 17:for(;W<14;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}if(_.nlen=257+(31&D),D>>>=5,W-=5,_.ndist=1+(31&D),D>>>=5,W-=5,_.ncode=4+(15&D),D>>>=4,W-=4,286<_.nlen||30<_.ndist){b.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;W<3;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}_.lens[Re[_.have++]]=7&D,D>>>=3,W-=3}for(;_.have<19;)_.lens[Re[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,me={bits:_.lenbits},ve=S(0,_.lens,0,19,_.lencode,0,_.work,me),_.lenbits=me.bits,ve){b.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;ne=(we=_.lencode[D&(1<<_.lenbits)-1])>>>16&255,ge=65535&we,!((J=we>>>24)<=W);){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}if(ge<16)D>>>=J,W-=J,_.lens[_.have++]=ge;else{if(ge===16){for(xe=J+2;W<xe;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}if(D>>>=J,W-=J,_.have===0){b.msg="invalid bit length repeat",_.mode=30;break}ue=_.lens[_.have-1],H=3+(3&D),D>>>=2,W-=2}else if(ge===17){for(xe=J+3;W<xe;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}W-=J,ue=0,H=3+(7&(D>>>=J)),D>>>=3,W-=3}else{for(xe=J+7;W<xe;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}W-=J,ue=0,H=11+(127&(D>>>=J)),D>>>=7,W-=7}if(_.have+H>_.nlen+_.ndist){b.msg="invalid bit length repeat",_.mode=30;break}for(;H--;)_.lens[_.have++]=ue}}if(_.mode===30)break;if(_.lens[256]===0){b.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,me={bits:_.lenbits},ve=S(1,_.lens,0,_.nlen,_.lencode,0,_.work,me),_.lenbits=me.bits,ve){b.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,me={bits:_.distbits},ve=S(2,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,me),_.distbits=me.bits,ve){b.msg="invalid distances set",_.mode=30;break}if(_.mode=20,w===6)break e;case 20:_.mode=21;case 21:if(6<=P&&258<=G){b.next_out=$,b.avail_out=G,b.next_in=O,b.avail_in=P,_.hold=D,_.bits=W,v(b,T),$=b.next_out,I=b.output,G=b.avail_out,O=b.next_in,x=b.input,P=b.avail_in,D=_.hold,W=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;ne=(we=_.lencode[D&(1<<_.lenbits)-1])>>>16&255,ge=65535&we,!((J=we>>>24)<=W);){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}if(ne&&(240&ne)==0){for(ye=J,K=ne,ce=ge;ne=(we=_.lencode[ce+((D&(1<<ye+K)-1)>>ye)])>>>16&255,ge=65535&we,!(ye+(J=we>>>24)<=W);){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}D>>>=ye,W-=ye,_.back+=ye}if(D>>>=J,W-=J,_.back+=J,_.length=ge,ne===0){_.mode=26;break}if(32&ne){_.back=-1,_.mode=12;break}if(64&ne){b.msg="invalid literal/length code",_.mode=30;break}_.extra=15&ne,_.mode=22;case 22:if(_.extra){for(xe=_.extra;W<xe;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}_.length+=D&(1<<_.extra)-1,D>>>=_.extra,W-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;ne=(we=_.distcode[D&(1<<_.distbits)-1])>>>16&255,ge=65535&we,!((J=we>>>24)<=W);){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}if((240&ne)==0){for(ye=J,K=ne,ce=ge;ne=(we=_.distcode[ce+((D&(1<<ye+K)-1)>>ye)])>>>16&255,ge=65535&we,!(ye+(J=we>>>24)<=W);){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}D>>>=ye,W-=ye,_.back+=ye}if(D>>>=J,W-=J,_.back+=J,64&ne){b.msg="invalid distance code",_.mode=30;break}_.offset=ge,_.extra=15&ne,_.mode=24;case 24:if(_.extra){for(xe=_.extra;W<xe;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}_.offset+=D&(1<<_.extra)-1,D>>>=_.extra,W-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){b.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(G===0)break e;if(H=T-G,_.offset>H){if((H=_.offset-H)>_.whave&&_.sane){b.msg="invalid distance too far back",_.mode=30;break}Z=H>_.wnext?(H-=_.wnext,_.wsize-H):_.wnext-H,H>_.length&&(H=_.length),Q=_.window}else Q=I,Z=$-_.offset,H=_.length;for(G<H&&(H=G),G-=H,_.length-=H;I[$++]=Q[Z++],--H;);_.length===0&&(_.mode=21);break;case 26:if(G===0)break e;I[$++]=_.length,G--,_.mode=21;break;case 27:if(_.wrap){for(;W<32;){if(P===0)break e;P--,D|=x[O++]<<W,W+=8}if(T-=G,b.total_out+=T,_.total+=T,T&&(b.adler=_.check=_.flags?y(_.check,I,T,$-T):g(_.check,I,T,$-T)),T=G,(_.flags?D:M(D))!==_.check){b.msg="incorrect data check",_.mode=30;break}W=D=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;W<32;){if(P===0)break e;P--,D+=x[O++]<<W,W+=8}if(D!==(4294967295&_.total)){b.msg="incorrect length check",_.mode=30;break}W=D=0}_.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return k}return b.next_out=$,b.avail_out=G,b.next_in=O,b.avail_in=P,_.hold=D,_.bits=W,(_.wsize||T!==b.avail_out&&_.mode<30&&(_.mode<27||w!==4))&&m(b,b.output,b.next_out,T-b.avail_out)?(_.mode=31,-4):(A-=b.avail_in,T-=b.avail_out,b.total_in+=A,b.total_out+=T,_.total+=T,_.wrap&&T&&(b.adler=_.check=_.flags?y(_.check,I,T,b.next_out-T):g(_.check,I,T,b.next_out-T)),b.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(A==0&&T===0||w===4)&&ve===0&&(ve=-5),ve)},f.inflateEnd=function(b){if(!b||!b.state)return k;var w=b.state;return w.window&&(w.window=null),b.state=null,0},f.inflateGetHeader=function(b,w){var _;return b&&b.state?(2&(_=b.state).wrap)==0?k:((_.head=w).done=!1,0):k},f.inflateSetDictionary=function(b,w){var _,x=w.length;return b&&b.state?(_=b.state).wrap!==0&&_.mode!==11?k:_.mode===11&&g(1,w,x,0)!==_.check?-3:m(b,w,x,x)?(_.mode=31,-4):(_.havedict=1,0):k},f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,h,f){var p=d("../utils/common"),g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],S=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];h.exports=function(k,M,z,F,j,B,U,V){var E,C,R,m,b,w,_,x,I,O=V.bits,$=0,P=0,G=0,D=0,W=0,A=0,T=0,H=0,Z=0,Q=0,J=null,ne=0,ge=new p.Buf16(16),ye=new p.Buf16(16),K=null,ce=0;for($=0;$<=15;$++)ge[$]=0;for(P=0;P<F;P++)ge[M[z+P]]++;for(W=O,D=15;1<=D&&ge[D]===0;D--);if(D<W&&(W=D),D===0)return j[B++]=20971520,j[B++]=20971520,V.bits=1,0;for(G=1;G<D&&ge[G]===0;G++);for(W<G&&(W=G),$=H=1;$<=15;$++)if(H<<=1,(H-=ge[$])<0)return-1;if(0<H&&(k===0||D!==1))return-1;for(ye[1]=0,$=1;$<15;$++)ye[$+1]=ye[$]+ge[$];for(P=0;P<F;P++)M[z+P]!==0&&(U[ye[M[z+P]]++]=P);if(w=k===0?(J=K=U,19):k===1?(J=g,ne-=257,K=y,ce-=257,256):(J=v,K=S,-1),$=G,b=B,T=P=Q=0,R=-1,m=(Z=1<<(A=W))-1,k===1&&852<Z||k===2&&592<Z)return 1;for(;;){for(_=$-T,I=U[P]<w?(x=0,U[P]):U[P]>w?(x=K[ce+U[P]],J[ne+U[P]]):(x=96,0),E=1<<$-T,G=C=1<<A;j[b+(Q>>T)+(C-=E)]=_<<24|x<<16|I|0,C!==0;);for(E=1<<$-1;Q&E;)E>>=1;if(E!==0?(Q&=E-1,Q+=E):Q=0,P++,--ge[$]==0){if($===D)break;$=M[z+U[P]]}if(W<$&&(Q&m)!==R){for(T===0&&(T=W),b+=G,H=1<<(A=$-T);A+T<D&&!((H-=ge[A+T])<=0);)A++,H<<=1;if(Z+=1<<A,k===1&&852<Z||k===2&&592<Z)return 1;j[R=Q&m]=W<<24|A<<16|b-B|0}}return Q!==0&&(j[b+Q]=$-T<<24|64<<16|0),V.bits=W,0}},{"../utils/common":41}],51:[function(d,h,f){h.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,h,f){var p=d("../utils/common");function g(K){for(var ce=K.length;0<=--ce;)K[ce]=0}var y=256,v=286,S=30,k=15,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(576);g(B);var U=new Array(60);g(U);var V=new Array(512);g(V);var E=new Array(256);g(E);var C=new Array(29);g(C);var R,m,b,w=new Array(S);function _(K,ce,ue,ve,me){this.static_tree=K,this.extra_bits=ce,this.extra_base=ue,this.elems=ve,this.max_length=me,this.has_stree=K&&K.length}function x(K,ce){this.dyn_tree=K,this.max_code=0,this.stat_desc=ce}function I(K){return K<256?V[K]:V[256+(K>>>7)]}function O(K,ce){K.pending_buf[K.pending++]=255&ce,K.pending_buf[K.pending++]=ce>>>8&255}function $(K,ce,ue){K.bi_valid>16-ue?(K.bi_buf|=ce<<K.bi_valid&65535,O(K,K.bi_buf),K.bi_buf=ce>>16-K.bi_valid,K.bi_valid+=ue-16):(K.bi_buf|=ce<<K.bi_valid&65535,K.bi_valid+=ue)}function P(K,ce,ue){$(K,ue[2*ce],ue[2*ce+1])}function G(K,ce){for(var ue=0;ue|=1&K,K>>>=1,ue<<=1,0<--ce;);return ue>>>1}function D(K,ce,ue){var ve,me,xe=new Array(16),we=0;for(ve=1;ve<=k;ve++)xe[ve]=we=we+ue[ve-1]<<1;for(me=0;me<=ce;me++){var De=K[2*me+1];De!==0&&(K[2*me]=G(xe[De]++,De))}}function W(K){var ce;for(ce=0;ce<v;ce++)K.dyn_ltree[2*ce]=0;for(ce=0;ce<S;ce++)K.dyn_dtree[2*ce]=0;for(ce=0;ce<19;ce++)K.bl_tree[2*ce]=0;K.dyn_ltree[512]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function A(K){8<K.bi_valid?O(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function T(K,ce,ue,ve){var me=2*ce,xe=2*ue;return K[me]<K[xe]||K[me]===K[xe]&&ve[ce]<=ve[ue]}function H(K,ce,ue){for(var ve=K.heap[ue],me=ue<<1;me<=K.heap_len&&(me<K.heap_len&&T(ce,K.heap[me+1],K.heap[me],K.depth)&&me++,!T(ce,ve,K.heap[me],K.depth));)K.heap[ue]=K.heap[me],ue=me,me<<=1;K.heap[ue]=ve}function Z(K,ce,ue){var ve,me,xe,we,De=0;if(K.last_lit!==0)for(;ve=K.pending_buf[K.d_buf+2*De]<<8|K.pending_buf[K.d_buf+2*De+1],me=K.pending_buf[K.l_buf+De],De++,ve===0?P(K,me,ce):(P(K,(xe=E[me])+y+1,ce),(we=M[xe])!==0&&$(K,me-=C[xe],we),P(K,xe=I(--ve),ue),(we=z[xe])!==0&&$(K,ve-=w[xe],we)),De<K.last_lit;);P(K,256,ce)}function Q(K,ce){var ue,ve,me,xe=ce.dyn_tree,we=ce.stat_desc.static_tree,De=ce.stat_desc.has_stree,Re=ce.stat_desc.elems,Fe=-1;for(K.heap_len=0,K.heap_max=573,ue=0;ue<Re;ue++)xe[2*ue]!==0?(K.heap[++K.heap_len]=Fe=ue,K.depth[ue]=0):xe[2*ue+1]=0;for(;K.heap_len<2;)xe[2*(me=K.heap[++K.heap_len]=Fe<2?++Fe:0)]=1,K.depth[me]=0,K.opt_len--,De&&(K.static_len-=we[2*me+1]);for(ce.max_code=Fe,ue=K.heap_len>>1;1<=ue;ue--)H(K,xe,ue);for(me=Re;ue=K.heap[1],K.heap[1]=K.heap[K.heap_len--],H(K,xe,1),ve=K.heap[1],K.heap[--K.heap_max]=ue,K.heap[--K.heap_max]=ve,xe[2*me]=xe[2*ue]+xe[2*ve],K.depth[me]=(K.depth[ue]>=K.depth[ve]?K.depth[ue]:K.depth[ve])+1,xe[2*ue+1]=xe[2*ve+1]=me,K.heap[1]=me++,H(K,xe,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],function(rt,je){var Ze,gt,Ge,Ke,Ye,Xe,Ve=je.dyn_tree,dt=je.max_code,et=je.stat_desc.static_tree,ft=je.stat_desc.has_stree,xt=je.stat_desc.extra_bits,ut=je.stat_desc.extra_base,nt=je.stat_desc.max_length,St=0;for(Ke=0;Ke<=k;Ke++)rt.bl_count[Ke]=0;for(Ve[2*rt.heap[rt.heap_max]+1]=0,Ze=rt.heap_max+1;Ze<573;Ze++)nt<(Ke=Ve[2*Ve[2*(gt=rt.heap[Ze])+1]+1]+1)&&(Ke=nt,St++),Ve[2*gt+1]=Ke,dt<gt||(rt.bl_count[Ke]++,Ye=0,ut<=gt&&(Ye=xt[gt-ut]),Xe=Ve[2*gt],rt.opt_len+=Xe*(Ke+Ye),ft&&(rt.static_len+=Xe*(et[2*gt+1]+Ye)));if(St!==0){do{for(Ke=nt-1;rt.bl_count[Ke]===0;)Ke--;rt.bl_count[Ke]--,rt.bl_count[Ke+1]+=2,rt.bl_count[nt]--,St-=2}while(0<St);for(Ke=nt;Ke!==0;Ke--)for(gt=rt.bl_count[Ke];gt!==0;)dt<(Ge=rt.heap[--Ze])||(Ve[2*Ge+1]!==Ke&&(rt.opt_len+=(Ke-Ve[2*Ge+1])*Ve[2*Ge],Ve[2*Ge+1]=Ke),gt--)}}(K,ce),D(xe,Fe,K.bl_count)}function J(K,ce,ue){var ve,me,xe=-1,we=ce[1],De=0,Re=7,Fe=4;for(we===0&&(Re=138,Fe=3),ce[2*(ue+1)+1]=65535,ve=0;ve<=ue;ve++)me=we,we=ce[2*(ve+1)+1],++De<Re&&me===we||(De<Fe?K.bl_tree[2*me]+=De:me!==0?(me!==xe&&K.bl_tree[2*me]++,K.bl_tree[32]++):De<=10?K.bl_tree[34]++:K.bl_tree[36]++,xe=me,Fe=(De=0)===we?(Re=138,3):me===we?(Re=6,3):(Re=7,4))}function ne(K,ce,ue){var ve,me,xe=-1,we=ce[1],De=0,Re=7,Fe=4;for(we===0&&(Re=138,Fe=3),ve=0;ve<=ue;ve++)if(me=we,we=ce[2*(ve+1)+1],!(++De<Re&&me===we)){if(De<Fe)for(;P(K,me,K.bl_tree),--De!=0;);else me!==0?(me!==xe&&(P(K,me,K.bl_tree),De--),P(K,16,K.bl_tree),$(K,De-3,2)):De<=10?(P(K,17,K.bl_tree),$(K,De-3,3)):(P(K,18,K.bl_tree),$(K,De-11,7));xe=me,Fe=(De=0)===we?(Re=138,3):me===we?(Re=6,3):(Re=7,4)}}g(w);var ge=!1;function ye(K,ce,ue,ve){$(K,0+(ve?1:0),3),function(me,xe,we,De){A(me),O(me,we),O(me,~we),p.arraySet(me.pending_buf,me.window,xe,we,me.pending),me.pending+=we}(K,ce,ue)}f._tr_init=function(K){ge||(function(){var ce,ue,ve,me,xe,we=new Array(16);for(me=ve=0;me<28;me++)for(C[me]=ve,ce=0;ce<1<<M[me];ce++)E[ve++]=me;for(E[ve-1]=me,me=xe=0;me<16;me++)for(w[me]=xe,ce=0;ce<1<<z[me];ce++)V[xe++]=me;for(xe>>=7;me<S;me++)for(w[me]=xe<<7,ce=0;ce<1<<z[me]-7;ce++)V[256+xe++]=me;for(ue=0;ue<=k;ue++)we[ue]=0;for(ce=0;ce<=143;)B[2*ce+1]=8,ce++,we[8]++;for(;ce<=255;)B[2*ce+1]=9,ce++,we[9]++;for(;ce<=279;)B[2*ce+1]=7,ce++,we[7]++;for(;ce<=287;)B[2*ce+1]=8,ce++,we[8]++;for(D(B,287,we),ce=0;ce<S;ce++)U[2*ce+1]=5,U[2*ce]=G(ce,5);R=new _(B,M,257,v,k),m=new _(U,z,0,S,k),b=new _(new Array(0),F,0,19,7)}(),ge=!0),K.l_desc=new x(K.dyn_ltree,R),K.d_desc=new x(K.dyn_dtree,m),K.bl_desc=new x(K.bl_tree,b),K.bi_buf=0,K.bi_valid=0,W(K)},f._tr_stored_block=ye,f._tr_flush_block=function(K,ce,ue,ve){var me,xe,we=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=function(De){var Re,Fe=4093624447;for(Re=0;Re<=31;Re++,Fe>>>=1)if(1&Fe&&De.dyn_ltree[2*Re]!==0)return 0;if(De.dyn_ltree[18]!==0||De.dyn_ltree[20]!==0||De.dyn_ltree[26]!==0)return 1;for(Re=32;Re<y;Re++)if(De.dyn_ltree[2*Re]!==0)return 1;return 0}(K)),Q(K,K.l_desc),Q(K,K.d_desc),we=function(De){var Re;for(J(De,De.dyn_ltree,De.l_desc.max_code),J(De,De.dyn_dtree,De.d_desc.max_code),Q(De,De.bl_desc),Re=18;3<=Re&&De.bl_tree[2*j[Re]+1]===0;Re--);return De.opt_len+=3*(Re+1)+5+5+4,Re}(K),me=K.opt_len+3+7>>>3,(xe=K.static_len+3+7>>>3)<=me&&(me=xe)):me=xe=ue+5,ue+4<=me&&ce!==-1?ye(K,ce,ue,ve):K.strategy===4||xe===me?($(K,2+(ve?1:0),3),Z(K,B,U)):($(K,4+(ve?1:0),3),function(De,Re,Fe,rt){var je;for($(De,Re-257,5),$(De,Fe-1,5),$(De,rt-4,4),je=0;je<rt;je++)$(De,De.bl_tree[2*j[je]+1],3);ne(De,De.dyn_ltree,Re-1),ne(De,De.dyn_dtree,Fe-1)}(K,K.l_desc.max_code+1,K.d_desc.max_code+1,we+1),Z(K,K.dyn_ltree,K.dyn_dtree)),W(K),ve&&A(K)},f._tr_tally=function(K,ce,ue){return K.pending_buf[K.d_buf+2*K.last_lit]=ce>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&ce,K.pending_buf[K.l_buf+K.last_lit]=255&ue,K.last_lit++,ce===0?K.dyn_ltree[2*ue]++:(K.matches++,ce--,K.dyn_ltree[2*(E[ue]+y+1)]++,K.dyn_dtree[2*I(ce)]++),K.last_lit===K.lit_bufsize-1},f._tr_align=function(K){$(K,2,3),P(K,256,B),function(ce){ce.bi_valid===16?(O(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):8<=ce.bi_valid&&(ce.pending_buf[ce.pending++]=255&ce.bi_buf,ce.bi_buf>>=8,ce.bi_valid-=8)}(K)}},{"../utils/common":41}],53:[function(d,h,f){h.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,h,f){(function(p){(function(g,y){if(!g.setImmediate){var v,S,k,M,z=1,F={},j=!1,B=g.document,U=Object.getPrototypeOf&&Object.getPrototypeOf(g);U=U&&U.setTimeout?U:g,v={}.toString.call(g.process)==="[object process]"?function(R){r.nextTick(function(){E(R)})}:function(){if(g.postMessage&&!g.importScripts){var R=!0,m=g.onmessage;return g.onmessage=function(){R=!1},g.postMessage("","*"),g.onmessage=m,R}}()?(M="setImmediate$"+Math.random()+"$",g.addEventListener?g.addEventListener("message",C,!1):g.attachEvent("onmessage",C),function(R){g.postMessage(M+R,"*")}):g.MessageChannel?((k=new MessageChannel).port1.onmessage=function(R){E(R.data)},function(R){k.port2.postMessage(R)}):B&&"onreadystatechange"in B.createElement("script")?(S=B.documentElement,function(R){var m=B.createElement("script");m.onreadystatechange=function(){E(R),m.onreadystatechange=null,S.removeChild(m),m=null},S.appendChild(m)}):function(R){setTimeout(E,0,R)},U.setImmediate=function(R){typeof R!="function"&&(R=new Function(""+R));for(var m=new Array(arguments.length-1),b=0;b<m.length;b++)m[b]=arguments[b+1];var w={callback:R,args:m};return F[z]=w,v(z),z++},U.clearImmediate=V}function V(R){delete F[R]}function E(R){if(j)setTimeout(E,0,R);else{var m=F[R];if(m){j=!0;try{(function(b){var w=b.callback,_=b.args;switch(_.length){case 0:w();break;case 1:w(_[0]);break;case 2:w(_[0],_[1]);break;case 3:w(_[0],_[1],_[2]);break;default:w.apply(void 0,_)}})(m)}finally{V(R),j=!1}}}}function C(R){R.source===g&&typeof R.data=="string"&&R.data.indexOf(M)===0&&E(+R.data.slice(M.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,t,n){(function(r){(function(){"use strict";var i=/[\\^$.*+?()[\]{}|]/g,s=RegExp(i.source),o=typeof r=="object"&&r&&r.Object===Object&&r,a=typeof self=="object"&&self&&self.Object===Object&&self,l=o||a||Function("return this")(),c=Object.prototype.toString,u=l.Symbol,d=u?u.prototype:void 0,h=d?d.toString:void 0;function f(p){if(typeof p=="string")return p;if(function(y){return typeof y=="symbol"||function(v){return!!v&&typeof v=="object"}(y)&&c.call(y)=="[object Symbol]"}(p))return h?h.call(p):"";var g=p+"";return g=="0"&&1/p==-1/0?"-0":g}t.exports=function(p){var g;return(p=(g=p)==null?"":f(g))&&s.test(p)?p.replace(i,"\\$&"):p}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,t,n){(function(r){(function(){"use strict";var i="[object Arguments]",s="[object Map]",o="[object Object]",a="[object Set]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[i]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[s]=g["[object Number]"]=g[o]=g["[object RegExp]"]=g[a]=g["[object String]"]=g["[object WeakMap]"]=!1;var y=typeof r=="object"&&r&&r.Object===Object&&r,v=typeof self=="object"&&self&&self.Object===Object&&self,S=y||v||Function("return this")(),k=typeof n=="object"&&n&&!n.nodeType&&n,M=k&&typeof t=="object"&&t&&!t.nodeType&&t,z=M&&M.exports===k&&y.process,F=function(){try{return z&&z.binding("util")}catch{}}(),j=F&&F.isTypedArray;function B(he,Ae,We,Le){for(var tt=-1,vt=he?he.length:0;++tt<vt;){var wt=he[tt];Ae(Le,wt,We(wt),he)}return Le}function U(he,Ae){for(var We=-1,Le=he?he.length:0;++We<Le;)if(Ae(he[We],We,he))return!0;return!1}function V(he){var Ae=!1;if(he!=null&&typeof he.toString!="function")try{Ae=!!(he+"")}catch{}return Ae}function E(he){var Ae=-1,We=Array(he.size);return he.forEach(function(Le,tt){We[++Ae]=[tt,Le]}),We}function C(he){var Ae=-1,We=Array(he.size);return he.forEach(function(Le){We[++Ae]=Le}),We}var R,m,b,w=Array.prototype,_=Function.prototype,x=Object.prototype,I=S["__core-js_shared__"],O=(R=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",$=_.toString,P=x.hasOwnProperty,G=x.toString,D=RegExp("^"+$.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=S.Symbol,A=S.Uint8Array,T=x.propertyIsEnumerable,H=w.splice,Z=(m=Object.keys,b=Object,function(he){return m(b(he))}),Q=Ot(S,"DataView"),J=Ot(S,"Map"),ne=Ot(S,"Promise"),ge=Ot(S,"Set"),ye=Ot(S,"WeakMap"),K=Ot(Object,"create"),ce=Pe(Q),ue=Pe(J),ve=Pe(ne),me=Pe(ge),xe=Pe(ye),we=W?W.prototype:void 0,De=we?we.valueOf:void 0,Re=we?we.toString:void 0;function Fe(he){var Ae=-1,We=he?he.length:0;for(this.clear();++Ae<We;){var Le=he[Ae];this.set(Le[0],Le[1])}}function rt(he){var Ae=-1,We=he?he.length:0;for(this.clear();++Ae<We;){var Le=he[Ae];this.set(Le[0],Le[1])}}function je(he){var Ae=-1,We=he?he.length:0;for(this.clear();++Ae<We;){var Le=he[Ae];this.set(Le[0],Le[1])}}function Ze(he){var Ae=-1,We=he?he.length:0;for(this.__data__=new je;++Ae<We;)this.add(he[Ae])}function gt(he){this.__data__=new rt(he)}function Ge(he,Ae){var We=pt(he)||_t(he)?function(wt,rn){for(var $t=-1,Ut=Array(wt);++$t<wt;)Ut[$t]=rn($t);return Ut}(he.length,String):[],Le=We.length,tt=!!Le;for(var vt in he)!Ae&&!P.call(he,vt)||tt&&(vt=="length"||Bt(vt,Le))||We.push(vt);return We}function Ke(he,Ae){for(var We=he.length;We--;)if(_n(he[We][0],Ae))return We;return-1}function Ye(he,Ae,We,Le){return dt(he,function(tt,vt,wt){Ae(Le,tt,We(tt),wt)}),Le}Fe.prototype.clear=function(){this.__data__=K?K(null):{}},Fe.prototype.delete=function(he){return this.has(he)&&delete this.__data__[he]},Fe.prototype.get=function(he){var Ae=this.__data__;if(K){var We=Ae[he];return We==="__lodash_hash_undefined__"?void 0:We}return P.call(Ae,he)?Ae[he]:void 0},Fe.prototype.has=function(he){var Ae=this.__data__;return K?Ae[he]!==void 0:P.call(Ae,he)},Fe.prototype.set=function(he,Ae){return this.__data__[he]=K&&Ae===void 0?"__lodash_hash_undefined__":Ae,this},rt.prototype.clear=function(){this.__data__=[]},rt.prototype.delete=function(he){var Ae=this.__data__,We=Ke(Ae,he);return!(We<0)&&(We==Ae.length-1?Ae.pop():H.call(Ae,We,1),!0)},rt.prototype.get=function(he){var Ae=this.__data__,We=Ke(Ae,he);return We<0?void 0:Ae[We][1]},rt.prototype.has=function(he){return Ke(this.__data__,he)>-1},rt.prototype.set=function(he,Ae){var We=this.__data__,Le=Ke(We,he);return Le<0?We.push([he,Ae]):We[Le][1]=Ae,this},je.prototype.clear=function(){this.__data__={hash:new Fe,map:new(J||rt),string:new Fe}},je.prototype.delete=function(he){return ht(this,he).delete(he)},je.prototype.get=function(he){return ht(this,he).get(he)},je.prototype.has=function(he){return ht(this,he).has(he)},je.prototype.set=function(he,Ae){return ht(this,he).set(he,Ae),this},Ze.prototype.add=Ze.prototype.push=function(he){return this.__data__.set(he,"__lodash_hash_undefined__"),this},Ze.prototype.has=function(he){return this.__data__.has(he)},gt.prototype.clear=function(){this.__data__=new rt},gt.prototype.delete=function(he){return this.__data__.delete(he)},gt.prototype.get=function(he){return this.__data__.get(he)},gt.prototype.has=function(he){return this.__data__.has(he)},gt.prototype.set=function(he,Ae){var We=this.__data__;if(We instanceof rt){var Le=We.__data__;if(!J||Le.length<199)return Le.push([he,Ae]),this;We=this.__data__=new je(Le)}return We.set(he,Ae),this};var Xe,Ve,dt=(Xe=function(he,Ae){return he&&et(he,Ae,or)},function(he,Ae){if(he==null)return he;if(!an(he))return Xe(he,Ae);for(var We=he.length,Le=Ve?We:-1,tt=Object(he);(Ve?Le--:++Le<We)&&Ae(tt[Le],Le,tt)!==!1;);return he}),et=function(he){return function(Ae,We,Le){for(var tt=-1,vt=Object(Ae),wt=Le(Ae),rn=wt.length;rn--;){var $t=wt[he?rn:++tt];if(We(vt[$t],$t,vt)===!1)break}return Ae}}();function ft(he,Ae){for(var We=0,Le=(Ae=At(Ae,he)?[Ae]:ct(Ae)).length;he!=null&&We<Le;)he=he[Ne(Ae[We++])];return We&&We==Le?he:void 0}function xt(he,Ae){return he!=null&&Ae in Object(he)}function ut(he,Ae,We,Le,tt){return he===Ae||(he==null||Ae==null||!An(he)&&!jn(Ae)?he!=he&&Ae!=Ae:function(vt,wt,rn,$t,Ut,Gt){var Bn=pt(vt),er=pt(wt),Dn="[object Array]",Yt="[object Array]";Bn||(Dn=(Dn=On(vt))==i?o:Dn),er||(Yt=(Yt=On(wt))==i?o:Yt);var kr=Dn==o&&!V(vt),vr=Yt==o&&!V(wt),qr=Dn==Yt;if(qr&&!kr)return Gt||(Gt=new gt),Bn||Ar(vt)?Ct(vt,wt,rn,$t,Ut,Gt):function(Cn,Vn,Zl,ti,Qo,ni,bi){switch(Zl){case"[object DataView]":if(Cn.byteLength!=Vn.byteLength||Cn.byteOffset!=Vn.byteOffset)return!1;Cn=Cn.buffer,Vn=Vn.buffer;case"[object ArrayBuffer]":return!(Cn.byteLength!=Vn.byteLength||!ti(new A(Cn),new A(Vn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _n(+Cn,+Vn);case"[object Error]":return Cn.name==Vn.name&&Cn.message==Vn.message;case"[object RegExp]":case"[object String]":return Cn==Vn+"";case s:var vi=E;case a:var ea=2&ni;if(vi||(vi=C),Cn.size!=Vn.size&&!ea)return!1;var Ja=bi.get(Cn);if(Ja)return Ja==Vn;ni|=1,bi.set(Cn,Vn);var bo=Ct(vi(Cn),vi(Vn),ti,Qo,ni,bi);return bi.delete(Cn),bo;case"[object Symbol]":if(De)return De.call(Cn)==De.call(Vn)}return!1}(vt,wt,Dn,rn,$t,Ut,Gt);if(!(2&Ut)){var Mi=kr&&P.call(vt,"__wrapped__"),Br=vr&&P.call(wt,"__wrapped__");if(Mi||Br){var gr=Mi?vt.value():vt,yi=Br?wt.value():wt;return Gt||(Gt=new gt),rn(gr,yi,$t,Ut,Gt)}}return qr?(Gt||(Gt=new gt),function(Cn,Vn,Zl,ti,Qo,ni){var bi=2&Qo,vi=or(Cn),ea=vi.length,Ja=or(Vn).length;if(ea!=Ja&&!bi)return!1;for(var bo=ea;bo--;){var Wi=vi[bo];if(!(bi?Wi in Vn:P.call(Vn,Wi)))return!1}var Xl=ni.get(Cn);if(Xl&&ni.get(Vn))return Xl==Vn;var _i=!0;ni.set(Cn,Vn),ni.set(Vn,Cn);for(var Jl=bi;++bo<ea;){Wi=vi[bo];var Ss=Cn[Wi],vo=Vn[Wi];if(ti)var cu=bi?ti(vo,Ss,Wi,Vn,Cn,ni):ti(Ss,vo,Wi,Cn,Vn,ni);if(!(cu===void 0?Ss===vo||Zl(Ss,vo,ti,Qo,ni):cu)){_i=!1;break}Jl||(Jl=Wi=="constructor")}if(_i&&!Jl){var Kt=Cn.constructor,Qa=Vn.constructor;Kt==Qa||!("constructor"in Cn)||!("constructor"in Vn)||typeof Kt=="function"&&Kt instanceof Kt&&typeof Qa=="function"&&Qa instanceof Qa||(_i=!1)}return ni.delete(Cn),ni.delete(Vn),_i}(vt,wt,rn,$t,Ut,Gt)):!1}(he,Ae,ut,We,Le,tt))}function nt(he){return!(!An(he)||function(Ae){return!!O&&O in Ae}(he))&&(Wt(he)||V(he)?D:f).test(Pe(he))}function St(he){return typeof he=="function"?he:he==null?xr:typeof he=="object"?pt(he)?function(Le,tt){return At(Le)&&Nt(tt)?Vt(Ne(Le),tt):function(vt){var wt=function(rn,$t,Ut){var Gt=rn==null?void 0:ft(rn,$t);return Gt===void 0?Ut:Gt}(vt,Le);return wt===void 0&&wt===tt?function(rn,$t){return rn!=null&&function(Ut,Gt,Bn){Gt=At(Gt,Ut)?[Gt]:ct(Gt);for(var er,Dn=-1,Yt=Gt.length;++Dn<Yt;){var kr=Ne(Gt[Dn]);if(!(er=Ut!=null&&Bn(Ut,kr)))break;Ut=Ut[kr]}return er||!!(Yt=Ut?Ut.length:0)&&Ht(Yt)&&Bt(kr,Yt)&&(pt(Ut)||_t(Ut))}(rn,$t,xt)}(vt,Le):ut(tt,wt,void 0,3)}}(he[0],he[1]):function(Le){var tt=function(vt){for(var wt=or(vt),rn=wt.length;rn--;){var $t=wt[rn],Ut=vt[$t];wt[rn]=[$t,Ut,Nt(Ut)]}return wt}(Le);return tt.length==1&&tt[0][2]?Vt(tt[0][0],tt[0][1]):function(vt){return vt===Le||function(wt,rn,$t,Ut){var Gt=$t.length,Bn=Gt,er=!Ut;if(wt==null)return!Bn;for(wt=Object(wt);Gt--;){var Dn=$t[Gt];if(er&&Dn[2]?Dn[1]!==wt[Dn[0]]:!(Dn[0]in wt))return!1}for(;++Gt<Bn;){var Yt=(Dn=$t[Gt])[0],kr=wt[Yt],vr=Dn[1];if(er&&Dn[2]){if(kr===void 0&&!(Yt in wt))return!1}else{var qr=new gt;if(Ut)var Mi=Ut(kr,vr,Yt,wt,rn,qr);if(!(Mi===void 0?ut(vr,kr,Ut,3,qr):Mi))return!1}}return!0}(vt,Le,tt)}}(he):At(Ae=he)?(We=Ne(Ae),function(Le){return Le?.[We]}):function(Le){return function(tt){return ft(tt,Le)}}(Ae);var Ae,We}function bt(he){if(We=(Ae=he)&&Ae.constructor,Le=typeof We=="function"&&We.prototype||x,Ae!==Le)return Z(he);var Ae,We,Le,tt=[];for(var vt in Object(he))P.call(he,vt)&&vt!="constructor"&&tt.push(vt);return tt}function ct(he){return pt(he)?he:_e(he)}function Ct(he,Ae,We,Le,tt,vt){var wt=2&tt,rn=he.length,$t=Ae.length;if(rn!=$t&&!(wt&&$t>rn))return!1;var Ut=vt.get(he);if(Ut&&vt.get(Ae))return Ut==Ae;var Gt=-1,Bn=!0,er=1&tt?new Ze:void 0;for(vt.set(he,Ae),vt.set(Ae,he);++Gt<rn;){var Dn=he[Gt],Yt=Ae[Gt];if(Le)var kr=wt?Le(Yt,Dn,Gt,Ae,he,vt):Le(Dn,Yt,Gt,he,Ae,vt);if(kr!==void 0){if(kr)continue;Bn=!1;break}if(er){if(!U(Ae,function(vr,qr){if(!er.has(qr)&&(Dn===vr||We(Dn,vr,Le,tt,vt)))return er.add(qr)})){Bn=!1;break}}else if(Dn!==Yt&&!We(Dn,Yt,Le,tt,vt)){Bn=!1;break}}return vt.delete(he),vt.delete(Ae),Bn}function ht(he,Ae){var We,Le,tt=he.__data__;return((Le=typeof(We=Ae))=="string"||Le=="number"||Le=="symbol"||Le=="boolean"?We!=="__proto__":We===null)?tt[typeof Ae=="string"?"string":"hash"]:tt.map}function Ot(he,Ae){var We=function(Le,tt){return Le?.[tt]}(he,Ae);return nt(We)?We:void 0}var On=function(he){return G.call(he)};function Bt(he,Ae){return!!(Ae=Ae??9007199254740991)&&(typeof he=="number"||p.test(he))&&he>-1&&he%1==0&&he<Ae}function At(he,Ae){if(pt(he))return!1;var We=typeof he;return!(We!="number"&&We!="symbol"&&We!="boolean"&&he!=null&&!sr(he))||c.test(he)||!l.test(he)||Ae!=null&&he in Object(Ae)}function Nt(he){return he==he&&!An(he)}function Vt(he,Ae){return function(We){return We!=null&&We[he]===Ae&&(Ae!==void 0||he in Object(We))}}(Q&&On(new Q(new ArrayBuffer(1)))!="[object DataView]"||J&&On(new J)!=s||ne&&On(ne.resolve())!="[object Promise]"||ge&&On(new ge)!=a||ye&&On(new ye)!="[object WeakMap]")&&(On=function(he){var Ae=G.call(he),We=Ae==o?he.constructor:void 0,Le=We?Pe(We):void 0;if(Le)switch(Le){case ce:return"[object DataView]";case ue:return s;case ve:return"[object Promise]";case me:return a;case xe:return"[object WeakMap]"}return Ae});var _e=yt(function(he){var Ae;he=(Ae=he)==null?"":function(Le){if(typeof Le=="string")return Le;if(sr(Le))return Re?Re.call(Le):"";var tt=Le+"";return tt=="0"&&1/Le==-1/0?"-0":tt}(Ae);var We=[];return u.test(he)&&We.push(""),he.replace(d,function(Le,tt,vt,wt){We.push(vt?wt.replace(h,"$1"):tt||Le)}),We});function Ne(he){if(typeof he=="string"||sr(he))return he;var Ae=he+"";return Ae=="0"&&1/he==-1/0?"-0":Ae}function Pe(he){if(he!=null){try{return $.call(he)}catch{}try{return he+""}catch{}}return""}var Ue,zt,it=(Ue=function(he,Ae,We){P.call(he,We)?he[We].push(Ae):he[We]=[Ae]},function(he,Ae){var We=pt(he)?B:Ye,Le=zt?zt():{};return We(he,Ue,St(Ae),Le)});function yt(he,Ae){if(typeof he!="function"||Ae&&typeof Ae!="function")throw new TypeError("Expected a function");var We=function(){var Le=arguments,tt=Ae?Ae.apply(this,Le):Le[0],vt=We.cache;if(vt.has(tt))return vt.get(tt);var wt=he.apply(this,Le);return We.cache=vt.set(tt,wt),wt};return We.cache=new(yt.Cache||je),We}function _n(he,Ae){return he===Ae||he!=he&&Ae!=Ae}function _t(he){return function(Ae){return jn(Ae)&&an(Ae)}(he)&&P.call(he,"callee")&&(!T.call(he,"callee")||G.call(he)==i)}yt.Cache=je;var pt=Array.isArray;function an(he){return he!=null&&Ht(he.length)&&!Wt(he)}function Wt(he){var Ae=An(he)?G.call(he):"";return Ae=="[object Function]"||Ae=="[object GeneratorFunction]"}function Ht(he){return typeof he=="number"&&he>-1&&he%1==0&&he<=9007199254740991}function An(he){var Ae=typeof he;return!!he&&(Ae=="object"||Ae=="function")}function jn(he){return!!he&&typeof he=="object"}function sr(he){return typeof he=="symbol"||jn(he)&&G.call(he)=="[object Symbol]"}var Ar=j?function(he){return function(Ae){return he(Ae)}}(j):function(he){return jn(he)&&Ht(he.length)&&!!g[G.call(he)]};function or(he){return an(he)?Ge(he):bt(he)}function xr(he){return he}t.exports=it}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(i){return i===!0||i===!1||function(s){return!!s&&typeof s=="object"}(i)&&r.call(i)=="[object Boolean]"}},{}],445:[function(e,t,n){(function(r){(function(){"use strict";var i="[object Arguments]",s="[object Map]",o="[object Object]",a="[object Set]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[i]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[s]=u["[object Number]"]=u[o]=u["[object RegExp]"]=u[a]=u["[object String]"]=u["[object WeakMap]"]=!1;var d=typeof r=="object"&&r&&r.Object===Object&&r,h=typeof self=="object"&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),p=typeof n=="object"&&n&&!n.nodeType&&n,g=p&&typeof t=="object"&&t&&!t.nodeType&&t,y=g&&g.exports===p,v=y&&d.process,S=function(){try{return v&&v.binding&&v.binding("util")}catch{}}(),k=S&&S.isTypedArray;function M(_e,Ne){for(var Pe=-1,Ue=_e==null?0:_e.length;++Pe<Ue;)if(Ne(_e[Pe],Pe,_e))return!0;return!1}function z(_e){var Ne=-1,Pe=Array(_e.size);return _e.forEach(function(Ue,zt){Pe[++Ne]=[zt,Ue]}),Pe}function F(_e){var Ne=-1,Pe=Array(_e.size);return _e.forEach(function(Ue){Pe[++Ne]=Ue}),Pe}var j,B,U,V=Array.prototype,E=Function.prototype,C=Object.prototype,R=f["__core-js_shared__"],m=E.toString,b=C.hasOwnProperty,w=(j=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",_=C.toString,x=RegExp("^"+m.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=y?f.Buffer:void 0,O=f.Symbol,$=f.Uint8Array,P=C.propertyIsEnumerable,G=V.splice,D=O?O.toStringTag:void 0,W=Object.getOwnPropertySymbols,A=I?I.isBuffer:void 0,T=(B=Object.keys,U=Object,function(_e){return B(U(_e))}),H=ft(f,"DataView"),Z=ft(f,"Map"),Q=ft(f,"Promise"),J=ft(f,"Set"),ne=ft(f,"WeakMap"),ge=ft(Object,"create"),ye=St(H),K=St(Z),ce=St(Q),ue=St(J),ve=St(ne),me=O?O.prototype:void 0,xe=me?me.valueOf:void 0;function we(_e){var Ne=-1,Pe=_e==null?0:_e.length;for(this.clear();++Ne<Pe;){var Ue=_e[Ne];this.set(Ue[0],Ue[1])}}function De(_e){var Ne=-1,Pe=_e==null?0:_e.length;for(this.clear();++Ne<Pe;){var Ue=_e[Ne];this.set(Ue[0],Ue[1])}}function Re(_e){var Ne=-1,Pe=_e==null?0:_e.length;for(this.clear();++Ne<Pe;){var Ue=_e[Ne];this.set(Ue[0],Ue[1])}}function Fe(_e){var Ne=-1,Pe=_e==null?0:_e.length;for(this.__data__=new Re;++Ne<Pe;)this.add(_e[Ne])}function rt(_e){var Ne=this.__data__=new De(_e);this.size=Ne.size}function je(_e,Ne){var Pe=Ct(_e),Ue=!Pe&&ct(_e),zt=!Pe&&!Ue&&ht(_e),it=!Pe&&!Ue&&!zt&&Nt(_e),yt=Pe||Ue||zt||it,_n=yt?function(an,Wt){for(var Ht=-1,An=Array(an);++Ht<an;)An[Ht]=Wt(Ht);return An}(_e.length,String):[],_t=_n.length;for(var pt in _e)!Ne&&!b.call(_e,pt)||yt&&(pt=="length"||zt&&(pt=="offset"||pt=="parent")||it&&(pt=="buffer"||pt=="byteLength"||pt=="byteOffset")||nt(pt,_t))||_n.push(pt);return _n}function Ze(_e,Ne){for(var Pe=_e.length;Pe--;)if(bt(_e[Pe][0],Ne))return Pe;return-1}function gt(_e){return _e==null?_e===void 0?"[object Undefined]":"[object Null]":D&&D in Object(_e)?function(Ne){var Pe=b.call(Ne,D),Ue=Ne[D];try{Ne[D]=void 0;var zt=!0}catch{}var it=_.call(Ne);return zt&&(Pe?Ne[D]=Ue:delete Ne[D]),it}(_e):function(Ne){return _.call(Ne)}(_e)}function Ge(_e){return At(_e)&&gt(_e)==i}function Ke(_e,Ne,Pe,Ue,zt){return _e===Ne||(_e==null||Ne==null||!At(_e)&&!At(Ne)?_e!=_e&&Ne!=Ne:function(it,yt,_n,_t,pt,an){var Wt=Ct(it),Ht=Ct(yt),An=Wt?"[object Array]":ut(it),jn=Ht?"[object Array]":ut(yt),sr=(An=An==i?o:An)==o,Ar=(jn=jn==i?o:jn)==o,or=An==jn;if(or&&ht(it)){if(!ht(yt))return!1;Wt=!0,sr=!1}if(or&&!sr)return an||(an=new rt),Wt||Nt(it)?Ve(it,yt,_n,_t,pt,an):function(Le,tt,vt,wt,rn,$t,Ut){switch(vt){case"[object DataView]":if(Le.byteLength!=tt.byteLength||Le.byteOffset!=tt.byteOffset)return!1;Le=Le.buffer,tt=tt.buffer;case"[object ArrayBuffer]":return!(Le.byteLength!=tt.byteLength||!$t(new $(Le),new $(tt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return bt(+Le,+tt);case"[object Error]":return Le.name==tt.name&&Le.message==tt.message;case"[object RegExp]":case"[object String]":return Le==tt+"";case s:var Gt=z;case a:var Bn=1&wt;if(Gt||(Gt=F),Le.size!=tt.size&&!Bn)return!1;var er=Ut.get(Le);if(er)return er==tt;wt|=2,Ut.set(Le,tt);var Dn=Ve(Gt(Le),Gt(tt),wt,rn,$t,Ut);return Ut.delete(Le),Dn;case"[object Symbol]":if(xe)return xe.call(Le)==xe.call(tt)}return!1}(it,yt,An,_n,_t,pt,an);if(!(1&_n)){var xr=sr&&b.call(it,"__wrapped__"),he=Ar&&b.call(yt,"__wrapped__");if(xr||he){var Ae=xr?it.value():it,We=he?yt.value():yt;return an||(an=new rt),pt(Ae,We,_n,_t,an)}}return or?(an||(an=new rt),function(Le,tt,vt,wt,rn,$t){var Ut=1&vt,Gt=dt(Le),Bn=Gt.length,er=dt(tt).length;if(Bn!=er&&!Ut)return!1;for(var Dn=Bn;Dn--;){var Yt=Gt[Dn];if(!(Ut?Yt in tt:b.call(tt,Yt)))return!1}var kr=$t.get(Le);if(kr&&$t.get(tt))return kr==tt;var vr=!0;$t.set(Le,tt),$t.set(tt,Le);for(var qr=Ut;++Dn<Bn;){Yt=Gt[Dn];var Mi=Le[Yt],Br=tt[Yt];if(wt)var gr=Ut?wt(Br,Mi,Yt,tt,Le,$t):wt(Mi,Br,Yt,Le,tt,$t);if(!(gr===void 0?Mi===Br||rn(Mi,Br,vt,wt,$t):gr)){vr=!1;break}qr||(qr=Yt=="constructor")}if(vr&&!qr){var yi=Le.constructor,Cn=tt.constructor;yi==Cn||!("constructor"in Le)||!("constructor"in tt)||typeof yi=="function"&&yi instanceof yi&&typeof Cn=="function"&&Cn instanceof Cn||(vr=!1)}return $t.delete(Le),$t.delete(tt),vr}(it,yt,_n,_t,pt,an)):!1}(_e,Ne,Pe,Ue,Ke,zt))}function Ye(_e){return!(!Bt(_e)||function(Ne){return!!w&&w in Ne}(_e))&&(Ot(_e)?x:l).test(St(_e))}function Xe(_e){if(Pe=(Ne=_e)&&Ne.constructor,Ue=typeof Pe=="function"&&Pe.prototype||C,Ne!==Ue)return T(_e);var Ne,Pe,Ue,zt=[];for(var it in Object(_e))b.call(_e,it)&&it!="constructor"&&zt.push(it);return zt}function Ve(_e,Ne,Pe,Ue,zt,it){var yt=1&Pe,_n=_e.length,_t=Ne.length;if(_n!=_t&&!(yt&&_t>_n))return!1;var pt=it.get(_e);if(pt&&it.get(Ne))return pt==Ne;var an=-1,Wt=!0,Ht=2&Pe?new Fe:void 0;for(it.set(_e,Ne),it.set(Ne,_e);++an<_n;){var An=_e[an],jn=Ne[an];if(Ue)var sr=yt?Ue(jn,An,an,Ne,_e,it):Ue(An,jn,an,_e,Ne,it);if(sr!==void 0){if(sr)continue;Wt=!1;break}if(Ht){if(!M(Ne,function(Ar,or){if(xr=or,!Ht.has(xr)&&(An===Ar||zt(An,Ar,Pe,Ue,it)))return Ht.push(or);var xr})){Wt=!1;break}}else if(An!==jn&&!zt(An,jn,Pe,Ue,it)){Wt=!1;break}}return it.delete(_e),it.delete(Ne),Wt}function dt(_e){return function(Ne,Pe,Ue){var zt=Pe(Ne);return Ct(Ne)?zt:function(it,yt){for(var _n=-1,_t=yt.length,pt=it.length;++_n<_t;)it[pt+_n]=yt[_n];return it}(zt,Ue(Ne))}(_e,Vt,xt)}function et(_e,Ne){var Pe,Ue,zt=_e.__data__;return((Ue=typeof(Pe=Ne))=="string"||Ue=="number"||Ue=="symbol"||Ue=="boolean"?Pe!=="__proto__":Pe===null)?zt[typeof Ne=="string"?"string":"hash"]:zt.map}function ft(_e,Ne){var Pe=function(Ue,zt){return Ue?.[zt]}(_e,Ne);return Ye(Pe)?Pe:void 0}we.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},we.prototype.delete=function(_e){var Ne=this.has(_e)&&delete this.__data__[_e];return this.size-=Ne?1:0,Ne},we.prototype.get=function(_e){var Ne=this.__data__;if(ge){var Pe=Ne[_e];return Pe==="__lodash_hash_undefined__"?void 0:Pe}return b.call(Ne,_e)?Ne[_e]:void 0},we.prototype.has=function(_e){var Ne=this.__data__;return ge?Ne[_e]!==void 0:b.call(Ne,_e)},we.prototype.set=function(_e,Ne){var Pe=this.__data__;return this.size+=this.has(_e)?0:1,Pe[_e]=ge&&Ne===void 0?"__lodash_hash_undefined__":Ne,this},De.prototype.clear=function(){this.__data__=[],this.size=0},De.prototype.delete=function(_e){var Ne=this.__data__,Pe=Ze(Ne,_e);return!(Pe<0)&&(Pe==Ne.length-1?Ne.pop():G.call(Ne,Pe,1),--this.size,!0)},De.prototype.get=function(_e){var Ne=this.__data__,Pe=Ze(Ne,_e);return Pe<0?void 0:Ne[Pe][1]},De.prototype.has=function(_e){return Ze(this.__data__,_e)>-1},De.prototype.set=function(_e,Ne){var Pe=this.__data__,Ue=Ze(Pe,_e);return Ue<0?(++this.size,Pe.push([_e,Ne])):Pe[Ue][1]=Ne,this},Re.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(Z||De),string:new we}},Re.prototype.delete=function(_e){var Ne=et(this,_e).delete(_e);return this.size-=Ne?1:0,Ne},Re.prototype.get=function(_e){return et(this,_e).get(_e)},Re.prototype.has=function(_e){return et(this,_e).has(_e)},Re.prototype.set=function(_e,Ne){var Pe=et(this,_e),Ue=Pe.size;return Pe.set(_e,Ne),this.size+=Pe.size==Ue?0:1,this},Fe.prototype.add=Fe.prototype.push=function(_e){return this.__data__.set(_e,"__lodash_hash_undefined__"),this},Fe.prototype.has=function(_e){return this.__data__.has(_e)},rt.prototype.clear=function(){this.__data__=new De,this.size=0},rt.prototype.delete=function(_e){var Ne=this.__data__,Pe=Ne.delete(_e);return this.size=Ne.size,Pe},rt.prototype.get=function(_e){return this.__data__.get(_e)},rt.prototype.has=function(_e){return this.__data__.has(_e)},rt.prototype.set=function(_e,Ne){var Pe=this.__data__;if(Pe instanceof De){var Ue=Pe.__data__;if(!Z||Ue.length<199)return Ue.push([_e,Ne]),this.size=++Pe.size,this;Pe=this.__data__=new Re(Ue)}return Pe.set(_e,Ne),this.size=Pe.size,this};var xt=W?function(_e){return _e==null?[]:(_e=Object(_e),function(Ne,Pe){for(var Ue=-1,zt=Ne==null?0:Ne.length,it=0,yt=[];++Ue<zt;){var _n=Ne[Ue];Pe(_n,Ue,Ne)&&(yt[it++]=_n)}return yt}(W(_e),function(Ne){return P.call(_e,Ne)}))}:function(){return[]},ut=gt;function nt(_e,Ne){return!!(Ne=Ne??9007199254740991)&&(typeof _e=="number"||c.test(_e))&&_e>-1&&_e%1==0&&_e<Ne}function St(_e){if(_e!=null){try{return m.call(_e)}catch{}try{return _e+""}catch{}}return""}function bt(_e,Ne){return _e===Ne||_e!=_e&&Ne!=Ne}(H&&ut(new H(new ArrayBuffer(1)))!="[object DataView]"||Z&&ut(new Z)!=s||Q&&ut(Q.resolve())!="[object Promise]"||J&&ut(new J)!=a||ne&&ut(new ne)!="[object WeakMap]")&&(ut=function(_e){var Ne=gt(_e),Pe=Ne==o?_e.constructor:void 0,Ue=Pe?St(Pe):"";if(Ue)switch(Ue){case ye:return"[object DataView]";case K:return s;case ce:return"[object Promise]";case ue:return a;case ve:return"[object WeakMap]"}return Ne});var ct=Ge(function(){return arguments}())?Ge:function(_e){return At(_e)&&b.call(_e,"callee")&&!P.call(_e,"callee")},Ct=Array.isArray,ht=A||function(){return!1};function Ot(_e){if(!Bt(_e))return!1;var Ne=gt(_e);return Ne=="[object Function]"||Ne=="[object GeneratorFunction]"||Ne=="[object AsyncFunction]"||Ne=="[object Proxy]"}function On(_e){return typeof _e=="number"&&_e>-1&&_e%1==0&&_e<=9007199254740991}function Bt(_e){var Ne=typeof _e;return _e!=null&&(Ne=="object"||Ne=="function")}function At(_e){return _e!=null&&typeof _e=="object"}var Nt=k?function(_e){return function(Ne){return _e(Ne)}}(k):function(_e){return At(_e)&&On(_e.length)&&!!u[gt(_e)]};function Vt(_e){return(Ne=_e)!=null&&On(Ne.length)&&!Ot(Ne)?je(_e):Xe(_e);var Ne}t.exports=function(_e,Ne){return Ke(_e,Ne)}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,t,n){(function(r){(function(){"use strict";var i=typeof r=="object"&&r&&r.Object===Object&&r,s=typeof self=="object"&&self&&self.Object===Object&&self,o=i||s||Function("return this")(),a=Object.prototype,l=a.hasOwnProperty,c=a.toString,u=o.Symbol,d=u?u.toStringTag:void 0;function h(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":d&&d in Object(f)?function(p){var g=l.call(p,d),y=p[d];try{p[d]=void 0;var v=!0}catch{}var S=c.call(p);return v&&(g?p[d]=y:delete p[d]),S}(f):function(p){return c.call(p)}(f)}t.exports=function(f){if(!function(g){var y=typeof g;return g!=null&&(y=="object"||y=="function")}(f))return!1;var p=h(f);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,t,n){"use strict";t.exports=function(r){return r==null}},{}],448:[function(e,t,n){"use strict";t.exports=function(r){return r===void 0}},{}],449:[function(e,t,n){(function(r){(function(){"use strict";var i=/^\[object .+?Constructor\]$/,s=typeof r=="object"&&r&&r.Object===Object&&r,o=typeof self=="object"&&self&&self.Object===Object&&self,a=s||o||Function("return this")();function l($,P){return!!($&&$.length)&&function(G,D,W){if(D!=D)return function(H,Z,Q,J){for(var ne=H.length,ge=Q+(J?1:-1);J?ge--:++ge<ne;)if(Z(H[ge],ge,H))return ge;return-1}(G,u,W);for(var A=W-1,T=G.length;++A<T;)if(G[A]===D)return A;return-1}($,P,0)>-1}function c($,P,G){for(var D=-1,W=$?$.length:0;++D<W;)if(G(P,$[D]))return!0;return!1}function u($){return $!=$}function d($,P){return $.has(P)}function h($){var P=-1,G=Array($.size);return $.forEach(function(D){G[++P]=D}),G}var f,p=Array.prototype,g=Function.prototype,y=Object.prototype,v=a["__core-js_shared__"],S=(f=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",k=g.toString,M=y.hasOwnProperty,z=y.toString,F=RegExp("^"+k.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=p.splice,B=I(a,"Map"),U=I(a,"Set"),V=I(Object,"create");function E($){var P=-1,G=$?$.length:0;for(this.clear();++P<G;){var D=$[P];this.set(D[0],D[1])}}function C($){var P=-1,G=$?$.length:0;for(this.clear();++P<G;){var D=$[P];this.set(D[0],D[1])}}function R($){var P=-1,G=$?$.length:0;for(this.clear();++P<G;){var D=$[P];this.set(D[0],D[1])}}function m($){var P=-1,G=$?$.length:0;for(this.__data__=new R;++P<G;)this.add($[P])}function b($,P){for(var G,D,W=$.length;W--;)if((G=$[W][0])===(D=P)||G!=G&&D!=D)return W;return-1}function w($){return!(!O($)||(P=$,S&&S in P))&&(function(G){var D=O(G)?z.call(G):"";return D=="[object Function]"||D=="[object GeneratorFunction]"}($)||function(G){var D=!1;if(G!=null&&typeof G.toString!="function")try{D=!!(G+"")}catch{}return D}($)?F:i).test(function(G){if(G!=null){try{return k.call(G)}catch{}try{return G+""}catch{}}return""}($));var P}E.prototype.clear=function(){this.__data__=V?V(null):{}},E.prototype.delete=function($){return this.has($)&&delete this.__data__[$]},E.prototype.get=function($){var P=this.__data__;if(V){var G=P[$];return G==="__lodash_hash_undefined__"?void 0:G}return M.call(P,$)?P[$]:void 0},E.prototype.has=function($){var P=this.__data__;return V?P[$]!==void 0:M.call(P,$)},E.prototype.set=function($,P){return this.__data__[$]=V&&P===void 0?"__lodash_hash_undefined__":P,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function($){var P=this.__data__,G=b(P,$);return!(G<0)&&(G==P.length-1?P.pop():j.call(P,G,1),!0)},C.prototype.get=function($){var P=this.__data__,G=b(P,$);return G<0?void 0:P[G][1]},C.prototype.has=function($){return b(this.__data__,$)>-1},C.prototype.set=function($,P){var G=this.__data__,D=b(G,$);return D<0?G.push([$,P]):G[D][1]=P,this},R.prototype.clear=function(){this.__data__={hash:new E,map:new(B||C),string:new E}},R.prototype.delete=function($){return x(this,$).delete($)},R.prototype.get=function($){return x(this,$).get($)},R.prototype.has=function($){return x(this,$).has($)},R.prototype.set=function($,P){return x(this,$).set($,P),this},m.prototype.add=m.prototype.push=function($){return this.__data__.set($,"__lodash_hash_undefined__"),this},m.prototype.has=function($){return this.__data__.has($)};var _=U&&1/h(new U([,-0]))[1]==1/0?function($){return new U($)}:function(){};function x($,P){var G,D,W=$.__data__;return((D=typeof(G=P))=="string"||D=="number"||D=="symbol"||D=="boolean"?G!=="__proto__":G===null)?W[typeof P=="string"?"string":"hash"]:W.map}function I($,P){var G=function(D,W){return D?.[W]}($,P);return w(G)?G:void 0}function O($){var P=typeof $;return!!$&&(P=="object"||P=="function")}t.exports=function($){return $&&$.length?function(P,G,D){var W=-1,A=l,T=P.length,H=!0,Z=[],Q=Z;if(D)H=!1,A=c;else if(T>=200){var J=G?null:_(P);if(J)return h(J);H=!1,A=d,Q=new m}else Q=G?[]:Z;e:for(;++W<T;){var ne=P[W],ge=G?G(ne):ne;if(ne=D||ne!==0?ne:0,H&&ge==ge){for(var ye=Q.length;ye--;)if(Q[ye]===ge)continue e;G&&Q.push(ge),Z.push(ne)}else A(Q,ge,D)||(Q!==Z&&Q.push(ge),Z.push(ne))}return Z}($):[]}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,t,n){"use strict";var r=e("inherits"),i=e("hash-base"),s=e("safe-buffer").Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(f,p){return f<<p|f>>>32-p}function c(f,p,g,y,v,S,k){return l(f+(p&g|~p&y)+v+S|0,k)+p|0}function u(f,p,g,y,v,S,k){return l(f+(p&y|g&~y)+v+S|0,k)+p|0}function d(f,p,g,y,v,S,k){return l(f+(p^g^y)+v+S|0,k)+p|0}function h(f,p,g,y,v,S,k){return l(f+(g^(p|~y))+v+S|0,k)+p|0}r(a,i),a.prototype._update=function(){for(var f=o,p=0;p<16;++p)f[p]=this._block.readInt32LE(4*p);var g=this._a,y=this._b,v=this._c,S=this._d;g=c(g,y,v,S,f[0],3614090360,7),S=c(S,g,y,v,f[1],3905402710,12),v=c(v,S,g,y,f[2],606105819,17),y=c(y,v,S,g,f[3],3250441966,22),g=c(g,y,v,S,f[4],4118548399,7),S=c(S,g,y,v,f[5],1200080426,12),v=c(v,S,g,y,f[6],2821735955,17),y=c(y,v,S,g,f[7],4249261313,22),g=c(g,y,v,S,f[8],1770035416,7),S=c(S,g,y,v,f[9],2336552879,12),v=c(v,S,g,y,f[10],4294925233,17),y=c(y,v,S,g,f[11],2304563134,22),g=c(g,y,v,S,f[12],1804603682,7),S=c(S,g,y,v,f[13],4254626195,12),v=c(v,S,g,y,f[14],2792965006,17),g=u(g,y=c(y,v,S,g,f[15],1236535329,22),v,S,f[1],4129170786,5),S=u(S,g,y,v,f[6],3225465664,9),v=u(v,S,g,y,f[11],643717713,14),y=u(y,v,S,g,f[0],3921069994,20),g=u(g,y,v,S,f[5],3593408605,5),S=u(S,g,y,v,f[10],38016083,9),v=u(v,S,g,y,f[15],3634488961,14),y=u(y,v,S,g,f[4],3889429448,20),g=u(g,y,v,S,f[9],568446438,5),S=u(S,g,y,v,f[14],3275163606,9),v=u(v,S,g,y,f[3],4107603335,14),y=u(y,v,S,g,f[8],1163531501,20),g=u(g,y,v,S,f[13],2850285829,5),S=u(S,g,y,v,f[2],4243563512,9),v=u(v,S,g,y,f[7],1735328473,14),g=d(g,y=u(y,v,S,g,f[12],2368359562,20),v,S,f[5],4294588738,4),S=d(S,g,y,v,f[8],2272392833,11),v=d(v,S,g,y,f[11],1839030562,16),y=d(y,v,S,g,f[14],4259657740,23),g=d(g,y,v,S,f[1],2763975236,4),S=d(S,g,y,v,f[4],1272893353,11),v=d(v,S,g,y,f[7],4139469664,16),y=d(y,v,S,g,f[10],3200236656,23),g=d(g,y,v,S,f[13],681279174,4),S=d(S,g,y,v,f[0],3936430074,11),v=d(v,S,g,y,f[3],3572445317,16),y=d(y,v,S,g,f[6],76029189,23),g=d(g,y,v,S,f[9],3654602809,4),S=d(S,g,y,v,f[12],3873151461,11),v=d(v,S,g,y,f[15],530742520,16),g=h(g,y=d(y,v,S,g,f[2],3299628645,23),v,S,f[0],4096336452,6),S=h(S,g,y,v,f[7],1126891415,10),v=h(v,S,g,y,f[14],2878612391,15),y=h(y,v,S,g,f[5],4237533241,21),g=h(g,y,v,S,f[12],1700485571,6),S=h(S,g,y,v,f[3],2399980690,10),v=h(v,S,g,y,f[10],4293915773,15),y=h(y,v,S,g,f[1],2240044497,21),g=h(g,y,v,S,f[8],1873313359,6),S=h(S,g,y,v,f[15],4264355552,10),v=h(v,S,g,y,f[6],2734768916,15),y=h(y,v,S,g,f[13],1309151649,21),g=h(g,y,v,S,f[4],4149444226,6),S=h(S,g,y,v,f[11],3174756917,10),v=h(v,S,g,y,f[2],718787259,15),y=h(y,v,S,g,f[9],3951481745,21),this._a=this._a+g|0,this._b=this._b+y|0,this._c=this._c+v|0,this._d=this._d+S|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=s.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f},t.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("brorand");function s(o){this.rand=o||new i.Rand}t.exports=s,s.create=function(o){return new s(o)},s.prototype._randbelow=function(o){var a=o.bitLength(),l=Math.ceil(a/8);do var c=new r(this.rand.generate(l));while(c.cmp(o)>=0);return c},s.prototype._randrange=function(o,a){var l=a.sub(o);return o.add(this._randbelow(l))},s.prototype.test=function(o,a,l){var c=o.bitLength(),u=r.mont(o),d=new r(1).toRed(u);a||(a=Math.max(1,c/48|0));for(var h=o.subn(1),f=0;!h.testn(f);f++);for(var p=o.shrn(f),g=h.toRed(u);a>0;a--){var y=this._randrange(new r(2),h);l&&l(y);var v=y.toRed(u).redPow(p);if(v.cmp(d)!==0&&v.cmp(g)!==0){for(var S=1;S<f;S++){if((v=v.redSqr()).cmp(d)===0)return!1;if(v.cmp(g)===0)break}if(S===f)return!1}}return!0},s.prototype.getDivisor=function(o,a){var l=o.bitLength(),c=r.mont(o),u=new r(1).toRed(c);a||(a=Math.max(1,l/48|0));for(var d=o.subn(1),h=0;!d.testn(h);h++);for(var f=o.shrn(h),p=d.toRed(c);a>0;a--){var g=this._randrange(new r(2),d),y=o.gcd(g);if(y.cmpn(1)!==0)return y;var v=g.toRed(c).redPow(f);if(v.cmp(u)!==0&&v.cmp(p)!==0){for(var S=1;S<h;S++){if((v=v.redSqr()).cmp(u)===0)return v.fromRed().subn(1).gcd(o);if(v.cmp(p)===0)break}if(S===h)return(v=v.redSqr()).fromRed().subn(1).gcd(o)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],453:[function(e,t,n){"use strict";function r(i,s){if(!i)throw new Error(s||"Assertion failed")}t.exports=r,r.equal=function(i,s,o){if(i!=s)throw new Error(o||"Assertion failed: "+i+" != "+s)}},{}],454:[function(e,t,n){"use strict";var r=n;function i(o){return o.length===1?"0"+o:o}function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}r.toArray=function(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=0|o[c];return l}if(a==="hex")for((o=o.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(o="0"+o),c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16));else for(c=0;c<o.length;c++){var u=o.charCodeAt(c),d=u>>8,h=255&u;d?l.push(d,h):l.push(h)}return l},r.zero2=i,r.toHex=s,r.encode=function(o,a){return a==="hex"?s(o):o}},{}],455:[function(e,t,n){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,t,n){"use strict";var r=e("asn1.js");n.certificate=e("./certificate");var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});n.RSAPrivateKey=i;var s=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});n.RSAPublicKey=s;var o=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});n.PublicKey=o;var a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});n.PrivateKey=l;var c=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});n.EncryptedPrivateKey=c;var u=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});n.DSAPrivateKey=u,n.DSAparam=r.define("DSAparam",function(){this.int()});var d=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=d;var h=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});n.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,t,n){"use strict";var r=e("asn1.js"),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),l=r.define("RelativeDistinguishedName",function(){this.setof(s)}),c=r.define("RDNSequence",function(){this.seqof(l)}),u=r.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),d=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),h=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(u),this.key("validity").use(d),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});t.exports=p},{"asn1.js":170}],458:[function(e,t,n){"use strict";var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=e("evp_bytestokey"),a=e("browserify-aes"),l=e("safe-buffer").Buffer;t.exports=function(c,u){var d,h=c.toString(),f=h.match(r);if(f){var p="aes"+f[1],g=l.from(f[2],"hex"),y=l.from(f[3].replace(/[\r\n]/g,""),"base64"),v=o(u,g.slice(0,8),parseInt(f[1],10)).key,S=[],k=a.createDecipheriv(p,v,g);S.push(k.update(y)),S.push(k.final()),d=l.concat(S)}else{var M=h.match(s);d=l.from(M[2].replace(/[\r\n]/g,""),"base64")}return{tag:h.match(i)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,t,n){"use strict";var r=e("./asn1"),i=e("./aesid.json"),s=e("./fixProc"),o=e("browserify-aes"),a=e("pbkdf2"),l=e("safe-buffer").Buffer;function c(u){var d;typeof u!="object"||l.isBuffer(u)||(d=u.passphrase,u=u.key),typeof u=="string"&&(u=l.from(u));var h,f,p=s(u,d),g=p.tag,y=p.data;switch(g){case"CERTIFICATE":f=r.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=r.PublicKey.decode(y,"der")),h=f.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=r.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+h)}case"ENCRYPTED PRIVATE KEY":y=function(v,S){var k=v.algorithm.decrypt.kde.kdeparams.salt,M=parseInt(v.algorithm.decrypt.kde.kdeparams.iters.toString(),10),z=i[v.algorithm.decrypt.cipher.algo.join(".")],F=v.algorithm.decrypt.cipher.iv,j=v.subjectPrivateKey,B=parseInt(z.split("-")[1],10)/8,U=a.pbkdf2Sync(S,k,M,B,"sha1"),V=o.createDecipheriv(z,U,F),E=[];return E.push(V.update(j)),E.push(V.final()),l.concat(E)}(y=r.EncryptedPrivateKey.decode(y,"der"),d);case"PRIVATE KEY":switch(h=(f=r.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:r.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=r.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+h)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=r.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+g)}}t.exports=c,c.signature=r.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,t,n){"use strict";n.pbkdf2=e("./lib/async"),n.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,t,n){(function(r){(function(){"use strict";var i,s,o=e("safe-buffer").Buffer,a=e("./precondition"),l=e("./default-encoding"),c=e("./sync"),u=e("./to-buffer"),d=r.crypto&&r.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function p(){return s||(s=r.process&&r.process.nextTick?r.process.nextTick:r.queueMicrotask?r.queueMicrotask:r.setImmediate?r.setImmediate:r.setTimeout)}function g(y,v,S,k,M){return d.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(z){return d.deriveBits({name:"PBKDF2",salt:v,iterations:S,hash:{name:M}},z,k<<3)}).then(function(z){return o.from(z)})}t.exports=function(y,v,S,k,M,z){typeof M=="function"&&(z=M,M=void 0);var F=h[(M=M||"sha1").toLowerCase()];if(F&&typeof r.Promise=="function"){if(a(S,k),y=u(y,l,"Password"),v=u(v,l,"Salt"),typeof z!="function")throw new Error("No callback provided to pbkdf2");(function(j,B){j.then(function(U){p()(function(){B(null,U)})},function(U){p()(function(){B(U)})})})(function(j){if(r.process&&!r.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(f[j]!==void 0)return f[j];var B=g(i=i||o.alloc(8),i,10,128,j).then(function(){return!0}).catch(function(){return!1});return f[j]=B,B}(F).then(function(j){return j?g(y,v,S,k,F):c(y,v,S,k,M)}),z)}else p()(function(){var j;try{j=c(y,v,S,k,M)}catch(B){return z(B)}z(null,j)})}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,t,n){(function(r,i){(function(){"use strict";var s;i.process&&i.process.browser?s="utf-8":i.process&&i.process.version?s=parseInt(r.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":s="utf-8",t.exports=s}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,t,n){"use strict";var r=Math.pow(2,30)-1;t.exports=function(i,s){if(typeof i!="number")throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if(typeof s!="number")throw new TypeError("Key length not a number");if(s<0||s>r||s!=s)throw new TypeError("Bad key length")}},{}],464:[function(e,t,n){"use strict";var r=e("create-hash/md5"),i=e("ripemd160"),s=e("sha.js"),o=e("safe-buffer").Buffer,a=e("./precondition"),l=e("./default-encoding"),c=e("./to-buffer"),u=o.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(f,p,g){var y=function(F){function j(B){return s(F).update(B).digest()}return F==="rmd160"||F==="ripemd160"?function(B){return new i().update(B).digest()}:F==="md5"?r:j}(f),v=f==="sha512"||f==="sha384"?128:64;p.length>v?p=y(p):p.length<v&&(p=o.concat([p,u],v));for(var S=o.allocUnsafe(v+d[f]),k=o.allocUnsafe(v+d[f]),M=0;M<v;M++)S[M]=54^p[M],k[M]=92^p[M];var z=o.allocUnsafe(v+g+4);S.copy(z,0,0,v),this.ipad1=z,this.ipad2=S,this.opad=k,this.alg=f,this.blocksize=v,this.hash=y,this.size=d[f]}h.prototype.run=function(f,p){return f.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(f,p,g,y,v){a(g,y);var S=new h(v=v||"sha1",f=c(f,l,"Password"),(p=c(p,l,"Salt")).length),k=o.allocUnsafe(y),M=o.allocUnsafe(p.length+4);p.copy(M,0,0,p.length);for(var z=0,F=d[v],j=Math.ceil(y/F),B=1;B<=j;B++){M.writeUInt32BE(B,p.length);for(var U=S.run(M,S.ipad1),V=U,E=1;E<g;E++){V=S.run(V,S.ipad2);for(var C=0;C<F;C++)U[C]^=V[C]}U.copy(k,z),z+=F}return k}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer;t.exports=function(i,s,o){if(r.isBuffer(i))return i;if(typeof i=="string")return r.from(i,s);if(ArrayBuffer.isView(i))return r.from(i.buffer);throw new TypeError(o+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,t,n){(function(r){(function(){"use strict";r===void 0||!r.version||r.version.indexOf("v0.")===0||r.version.indexOf("v1.")===0&&r.version.indexOf("v1.8.")!==0?t.exports={nextTick:function(i,s,o,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var l,c,u=arguments.length;switch(u){case 0:case 1:return r.nextTick(i);case 2:return r.nextTick(function(){i.call(null,s)});case 3:return r.nextTick(function(){i.call(null,s,o)});case 4:return r.nextTick(function(){i.call(null,s,o,a)});default:for(l=new Array(u-1),c=0;c<l.length;)l[c++]=arguments[c];return r.nextTick(function(){i.apply(null,l)})}}}:t.exports=r}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,t,n){"use strict";var r,i,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(v){if(r===setTimeout)return setTimeout(v,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(v,0);try{return r(v,0)}catch{try{return r.call(null,v,0)}catch{return r.call(this,v,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:o}catch{r=o}try{i=typeof clearTimeout=="function"?clearTimeout:a}catch{i=a}})();var c,u=[],d=!1,h=-1;function f(){d&&c&&(d=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!d){var v=l(f);d=!0;for(var S=u.length;S;){for(c=u,u=[];++h<S;)c&&c[h].run();h=-1,S=u.length}c=null,d=!1,function(k){if(i===clearTimeout)return clearTimeout(k);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(k);try{i(k)}catch{try{return i.call(null,k)}catch{return i.call(this,k)}}}(v)}}function g(v,S){this.fun=v,this.array=S}function y(){}s.nextTick=function(v){var S=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)S[k-1]=arguments[k];u.push(new g(v,S)),u.length!==1||d||l(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=y,s.addListener=y,s.once=y,s.off=y,s.removeListener=y,s.removeAllListeners=y,s.emit=y,s.prependListener=y,s.prependOnceListener=y,s.listeners=function(v){return[]},s.binding=function(v){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(v){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],468:[function(e,t,n){"use strict";n.publicEncrypt=e("./publicEncrypt"),n.privateDecrypt=e("./privateDecrypt"),n.privateEncrypt=function(r,i){return n.publicEncrypt(r,i,!0)},n.publicDecrypt=function(r,i){return n.privateDecrypt(r,i,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,t,n){"use strict";var r=e("create-hash"),i=e("safe-buffer").Buffer;function s(o){var a=i.allocUnsafe(4);return a.writeUInt32BE(o,0),a}t.exports=function(o,a){for(var l,c=i.alloc(0),u=0;c.length<a;)l=s(u++),c=i.concat([c,r("sha1").update(o).update(l).digest()]);return c.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],471:[function(e,t,n){"use strict";var r=e("parse-asn1"),i=e("./mgf"),s=e("./xor"),o=e("bn.js"),a=e("browserify-rsa"),l=e("create-hash"),c=e("./withPublic"),u=e("safe-buffer").Buffer;t.exports=function(d,h,f){var p;p=d.padding?d.padding:f?1:4;var g,y=r(d),v=y.modulus.byteLength();if(h.length>v||new o(h).cmp(y.modulus)>=0)throw new Error("decryption error");g=f?c(new o(h),y):a(h,y);var S=u.alloc(v-g.length);if(g=u.concat([S,g],v),p===4)return function(k,M){var z=k.modulus.byteLength(),F=l("sha1").update(u.alloc(0)).digest(),j=F.length;if(M[0]!==0)throw new Error("decryption error");var B=M.slice(1,j+1),U=M.slice(j+1),V=s(B,i(U,j)),E=s(U,i(V,z-j-1));if(function(R,m){R=u.from(R),m=u.from(m);var b=0,w=R.length;R.length!==m.length&&(b++,w=Math.min(R.length,m.length));for(var _=-1;++_<w;)b+=R[_]^m[_];return b}(F,E.slice(0,j)))throw new Error("decryption error");for(var C=j;E[C]===0;)C++;if(E[C++]!==1)throw new Error("decryption error");return E.slice(C)}(y,g);if(p===1)return function(k,M,z){for(var F=M.slice(0,2),j=2,B=0;M[j++]!==0;)if(j>=M.length){B++;break}var U=M.slice(2,j-1);if((F.toString("hex")!=="0002"&&!z||F.toString("hex")!=="0001"&&z)&&B++,U.length<8&&B++,B)throw new Error("decryption error");return M.slice(j)}(0,g,f);if(p===3)return g;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,t,n){"use strict";var r=e("parse-asn1"),i=e("randombytes"),s=e("create-hash"),o=e("./mgf"),a=e("./xor"),l=e("bn.js"),c=e("./withPublic"),u=e("browserify-rsa"),d=e("safe-buffer").Buffer;t.exports=function(h,f,p){var g;g=h.padding?h.padding:p?1:4;var y,v=r(h);if(g===4)y=function(S,k){var M=S.modulus.byteLength(),z=k.length,F=s("sha1").update(d.alloc(0)).digest(),j=F.length,B=2*j;if(z>M-B-2)throw new Error("message too long");var U=d.alloc(M-z-B-2),V=M-j-1,E=i(j),C=a(d.concat([F,U,d.alloc(1,1),k],V),o(E,V)),R=a(E,o(C,j));return new l(d.concat([d.alloc(1),R,C],M))}(v,f);else if(g===1)y=function(S,k,M){var z,F=k.length,j=S.modulus.byteLength();if(F>j-11)throw new Error("message too long");return z=M?d.alloc(j-F-3,255):function(B){for(var U,V=d.allocUnsafe(B),E=0,C=i(2*B),R=0;E<B;)R===C.length&&(C=i(2*B),R=0),(U=C[R++])&&(V[E++]=U);return V}(j-F-3),new l(d.concat([d.from([0,M?1:2]),z,d.alloc(1),k],j))}(v,f,p);else{if(g!==3)throw new Error("unknown padding");if((y=new l(f)).cmp(v.modulus)>=0)throw new Error("data too long for modulus")}return p?u(y,v):c(y,v)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("safe-buffer").Buffer;t.exports=function(s,o){return i.from(s.toRed(r.mont(o.modulus)).redPow(new r(o.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,t,n){"use strict";t.exports=function(r,i){for(var s=r.length,o=-1;++o<s;)r[o]^=i[o];return r}},{}],475:[function(e,t,n){(function(r,i){(function(){"use strict";var s=e("safe-buffer").Buffer,o=i.crypto||i.msCrypto;o&&o.getRandomValues?t.exports=function(a,l){if(a>4294967295)throw new RangeError("requested too many random bytes");var c=s.allocUnsafe(a);if(a>0)if(a>65536)for(var u=0;u<a;u+=65536)o.getRandomValues(c.slice(u,u+65536));else o.getRandomValues(c);return typeof l=="function"?r.nextTick(function(){l(null,c)}):c}:t.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,t,n){(function(r,i){(function(){"use strict";function s(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var o=e("safe-buffer"),a=e("randombytes"),l=o.Buffer,c=o.kMaxLength,u=i.crypto||i.msCrypto,d=Math.pow(2,32)-1;function h(g,y){if(typeof g!="number"||g!=g)throw new TypeError("offset must be a number");if(g>d||g<0)throw new TypeError("offset must be a uint32");if(g>c||g>y)throw new RangeError("offset out of range")}function f(g,y,v){if(typeof g!="number"||g!=g)throw new TypeError("size must be a number");if(g>d||g<0)throw new TypeError("size must be a uint32");if(g+y>v||g>c)throw new RangeError("buffer too small")}function p(g,y,v,S){if(r.browser){var k=g.buffer,M=new Uint8Array(k,y,v);return u.getRandomValues(M),S?void r.nextTick(function(){S(null,g)}):g}if(!S)return a(v).copy(g,y),g;a(v,function(z,F){if(z)return S(z);F.copy(g,y),S(null,g)})}u&&u.getRandomValues||!r.browser?(n.randomFill=function(g,y,v,S){if(!(l.isBuffer(g)||g instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")S=y,y=0,v=g.length;else if(typeof v=="function")S=v,v=g.length-y;else if(typeof S!="function")throw new TypeError('"cb" argument must be a function');return h(y,g.length),f(v,y,g.length),p(g,y,v,S)},n.randomFillSync=function(g,y,v){if(y===void 0&&(y=0),!(l.isBuffer(g)||g instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return h(y,g.length),v===void 0&&(v=g.length-y),f(v,y,g.length),p(g,y,v)}):(n.randomFill=s,n.randomFillSync=s)}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,t,n){"use strict";var r={};function i(o,a,l){l||(l=Error);var c=function(u){var d,h;function f(p,g,y){return u.call(this,function(v,S,k){return typeof a=="string"?a:a(v,S,k)}(p,g,y))||this}return h=u,(d=f).prototype=Object.create(h.prototype),d.prototype.constructor=d,d.__proto__=h,f}(l);c.prototype.name=l.name,c.prototype.code=o,r[o]=c}function s(o,a){if(Array.isArray(o)){var l=o.length;return o=o.map(function(c){return String(c)}),l>2?"one of ".concat(a," ").concat(o.slice(0,l-1).join(", "),", or ")+o[l-1]:l===2?"one of ".concat(a," ").concat(o[0]," or ").concat(o[1]):"of ".concat(a," ").concat(o[0])}return"of ".concat(a," ").concat(String(o))}i("ERR_INVALID_OPT_VALUE",function(o,a){return'The value "'+a+'" is invalid for option "'+o+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(o,a,l){var c,u,d,h;if(typeof a=="string"&&(u="not ",a.substr(!d||d<0?0:+d,u.length)===u)?(c="must not be",a=a.replace(/^not /,"")):c="must be",function(p,g,y){return(y===void 0||y>p.length)&&(y=p.length),p.substring(y-g.length,y)===g}(o," argument"))h="The ".concat(o," ").concat(c," ").concat(s(a,"type"));else{var f=function(p,g,y){return typeof y!="number"&&(y=0),!(y+g.length>p.length)&&p.indexOf(g,y)!==-1}(o,".")?"property":"argument";h='The "'.concat(o,'" ').concat(f," ").concat(c," ").concat(s(a,"type"))}return h+=". Received type ".concat(typeof l)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},{}],478:[function(e,t,n){(function(r){(function(){"use strict";var i=Object.keys||function(f){var p=[];for(var g in f)p.push(g);return p};t.exports=u;var s=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(u,s);for(var a=i(o.prototype),l=0;l<a.length;l++){var c=a[l];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(f){if(!(this instanceof u))return new u(f);s.call(this,f),o.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||r.nextTick(h,this)}function h(f){f.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform");function i(s){if(!(this instanceof i))return new i(s);r.call(this,s)}e("inherits")(i,r),i.prototype._transform=function(s,o,a){a(null,s)}},{"./_stream_transform":481,inherits:440}],480:[function(e,t,n){(function(r,i){(function(){"use strict";var s;t.exports=V,V.ReadableState=U,e("events").EventEmitter;var o=function(A,T){return A.listeners(T).length},a=e("./internal/streams/stream"),l=e("buffer").Buffer,c=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},u,d=e("util");u=d&&d.debuglog?d.debuglog("stream"):function(){};var h,f,p,g=e("./internal/streams/buffer_list"),y=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,S=e("../errors").codes,k=S.ERR_INVALID_ARG_TYPE,M=S.ERR_STREAM_PUSH_AFTER_EOF,z=S.ERR_METHOD_NOT_IMPLEMENTED,F=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(V,a);var j=y.errorOrDestroy,B=["error","close","destroy","pause","resume"];function U(A,T,H){s=s||e("./_stream_duplex"),A=A||{},typeof H!="boolean"&&(H=T instanceof s),this.objectMode=!!A.objectMode,H&&(this.objectMode=this.objectMode||!!A.readableObjectMode),this.highWaterMark=v(this,A,"readableHighWaterMark",H),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.destroyed=!1,this.defaultEncoding=A.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,A.encoding&&(h||(h=e("string_decoder/").StringDecoder),this.decoder=new h(A.encoding),this.encoding=A.encoding)}function V(A){if(s=s||e("./_stream_duplex"),!(this instanceof V))return new V(A);var T=this instanceof s;this._readableState=new U(A,this,T),this.readable=!0,A&&(typeof A.read=="function"&&(this._read=A.read),typeof A.destroy=="function"&&(this._destroy=A.destroy)),a.call(this)}function E(A,T,H,Z,Q){u("readableAddChunk",T);var J,ne=A._readableState;if(T===null)ne.reading=!1,function(ge,ye){if(u("onEofChunk"),!ye.ended){if(ye.decoder){var K=ye.decoder.end();K&&K.length&&(ye.buffer.push(K),ye.length+=ye.objectMode?1:K.length)}ye.ended=!0,ye.sync?m(ge):(ye.needReadable=!1,ye.emittedReadable||(ye.emittedReadable=!0,b(ge)))}}(A,ne);else if(Q||(J=function(ge,ye){var K;ce=ye,l.isBuffer(ce)||ce instanceof c||typeof ye=="string"||ye===void 0||ge.objectMode||(K=new k("chunk",["string","Buffer","Uint8Array"],ye));var ce;return K}(ne,T)),J)j(A,J);else if(ne.objectMode||T&&T.length>0)if(typeof T=="string"||ne.objectMode||Object.getPrototypeOf(T)===l.prototype||(T=function(ge){return l.from(ge)}(T)),Z)ne.endEmitted?j(A,new F):C(A,ne,T,!0);else if(ne.ended)j(A,new M);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!H?(T=ne.decoder.write(T),ne.objectMode||T.length!==0?C(A,ne,T,!1):w(A,ne)):C(A,ne,T,!1)}else Z||(ne.reading=!1,w(A,ne));return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function C(A,T,H,Z){T.flowing&&T.length===0&&!T.sync?(T.awaitDrain=0,A.emit("data",H)):(T.length+=T.objectMode?1:H.length,Z?T.buffer.unshift(H):T.buffer.push(H),T.needReadable&&m(A)),w(A,T)}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(A){this._readableState&&(this._readableState.destroyed=A)}}),V.prototype.destroy=y.destroy,V.prototype._undestroy=y.undestroy,V.prototype._destroy=function(A,T){T(A)},V.prototype.push=function(A,T){var H,Z=this._readableState;return Z.objectMode?H=!0:typeof A=="string"&&((T=T||Z.defaultEncoding)!==Z.encoding&&(A=l.from(A,T),T=""),H=!0),E(this,A,T,!1,H)},V.prototype.unshift=function(A){return E(this,A,null,!0,!1)},V.prototype.isPaused=function(){return this._readableState.flowing===!1},V.prototype.setEncoding=function(A){h||(h=e("string_decoder/").StringDecoder);var T=new h(A);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,Z="";H!==null;)Z+=T.write(H.data),H=H.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};function R(A,T){return A<=0||T.length===0&&T.ended?0:T.objectMode?1:A!=A?T.flowing&&T.length?T.buffer.head.data.length:T.length:(A>T.highWaterMark&&(T.highWaterMark=function(H){return H>=1073741824?H=1073741824:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}(A)),A<=T.length?A:T.ended?T.length:(T.needReadable=!0,0))}function m(A){var T=A._readableState;u("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,T.emittedReadable||(u("emitReadable",T.flowing),T.emittedReadable=!0,r.nextTick(b,A))}function b(A){var T=A._readableState;u("emitReadable_",T.destroyed,T.length,T.ended),T.destroyed||!T.length&&!T.ended||(A.emit("readable"),T.emittedReadable=!1),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,$(A)}function w(A,T){T.readingMore||(T.readingMore=!0,r.nextTick(_,A,T))}function _(A,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){var H=T.length;if(u("maybeReadMore read 0"),A.read(0),H===T.length)break}T.readingMore=!1}function x(A){var T=A._readableState;T.readableListening=A.listenerCount("readable")>0,T.resumeScheduled&&!T.paused?T.flowing=!0:A.listenerCount("data")>0&&A.resume()}function I(A){u("readable nexttick read 0"),A.read(0)}function O(A,T){u("resume",T.reading),T.reading||A.read(0),T.resumeScheduled=!1,A.emit("resume"),$(A),T.flowing&&!T.reading&&A.read(0)}function $(A){var T=A._readableState;for(u("flow",T.flowing);T.flowing&&A.read()!==null;);}function P(A,T){return T.length===0?null:(T.objectMode?H=T.buffer.shift():!A||A>=T.length?(H=T.decoder?T.buffer.join(""):T.buffer.length===1?T.buffer.first():T.buffer.concat(T.length),T.buffer.clear()):H=T.buffer.consume(A,T.decoder),H);var H}function G(A){var T=A._readableState;u("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,r.nextTick(D,T,A))}function D(A,T){if(u("endReadableNT",A.endEmitted,A.length),!A.endEmitted&&A.length===0&&(A.endEmitted=!0,T.readable=!1,T.emit("end"),A.autoDestroy)){var H=T._writableState;(!H||H.autoDestroy&&H.finished)&&T.destroy()}}function W(A,T){for(var H=0,Z=A.length;H<Z;H++)if(A[H]===T)return H;return-1}V.prototype.read=function(A){u("read",A),A=parseInt(A,10);var T=this._readableState,H=A;if(A!==0&&(T.emittedReadable=!1),A===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return u("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?G(this):m(this),null;if((A=R(A,T))===0&&T.ended)return T.length===0&&G(this),null;var Z,Q=T.needReadable;return u("need readable",Q),(T.length===0||T.length-A<T.highWaterMark)&&u("length less than watermark",Q=!0),T.ended||T.reading?u("reading or ended",Q=!1):Q&&(u("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(A=R(H,T))),(Z=A>0?P(A,T):null)===null?(T.needReadable=T.length<=T.highWaterMark,A=0):(T.length-=A,T.awaitDrain=0),T.length===0&&(T.ended||(T.needReadable=!0),H!==A&&T.ended&&G(this)),Z!==null&&this.emit("data",Z),Z},V.prototype._read=function(A){j(this,new z("_read()"))},V.prototype.pipe=function(A,T){var H=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=A;break;case 1:Z.pipes=[Z.pipes,A];break;default:Z.pipes.push(A)}Z.pipesCount+=1,u("pipe count=%d opts=%j",Z.pipesCount,T);var Q=(!T||T.end!==!1)&&A!==r.stdout&&A!==r.stderr?ne:me;function J(xe,we){u("onunpipe"),xe===H&&we&&we.hasUnpiped===!1&&(we.hasUnpiped=!0,u("cleanup"),A.removeListener("close",ue),A.removeListener("finish",ve),A.removeListener("drain",ge),A.removeListener("error",ce),A.removeListener("unpipe",J),H.removeListener("end",ne),H.removeListener("end",me),H.removeListener("data",K),ye=!0,!Z.awaitDrain||A._writableState&&!A._writableState.needDrain||ge())}function ne(){u("onend"),A.end()}Z.endEmitted?r.nextTick(Q):H.once("end",Q),A.on("unpipe",J);var ge=function(xe){return function(){var we=xe._readableState;u("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&o(xe,"data")&&(we.flowing=!0,$(xe))}}(H);A.on("drain",ge);var ye=!1;function K(xe){u("ondata");var we=A.write(xe);u("dest.write",we),we===!1&&((Z.pipesCount===1&&Z.pipes===A||Z.pipesCount>1&&W(Z.pipes,A)!==-1)&&!ye&&(u("false write response, pause",Z.awaitDrain),Z.awaitDrain++),H.pause())}function ce(xe){u("onerror",xe),me(),A.removeListener("error",ce),o(A,"error")===0&&j(A,xe)}function ue(){A.removeListener("finish",ve),me()}function ve(){u("onfinish"),A.removeListener("close",ue),me()}function me(){u("unpipe"),H.unpipe(A)}return H.on("data",K),function(xe,we,De){if(typeof xe.prependListener=="function")return xe.prependListener(we,De);xe._events&&xe._events[we]?Array.isArray(xe._events[we])?xe._events[we].unshift(De):xe._events[we]=[De,xe._events[we]]:xe.on(we,De)}(A,"error",ce),A.once("close",ue),A.once("finish",ve),A.emit("pipe",H),Z.flowing||(u("pipe resume"),H.resume()),A},V.prototype.unpipe=function(A){var T=this._readableState,H={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return A&&A!==T.pipes||(A||(A=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,A&&A.emit("unpipe",this,H)),this;if(!A){var Z=T.pipes,Q=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var J=0;J<Q;J++)Z[J].emit("unpipe",this,{hasUnpiped:!1});return this}var ne=W(T.pipes,A);return ne===-1||(T.pipes.splice(ne,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),A.emit("unpipe",this,H)),this},V.prototype.on=function(A,T){var H=a.prototype.on.call(this,A,T),Z=this._readableState;return A==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):A==="readable"&&(Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,u("on readable",Z.length,Z.reading),Z.length?m(this):Z.reading||r.nextTick(I,this))),H},V.prototype.addListener=V.prototype.on,V.prototype.removeListener=function(A,T){var H=a.prototype.removeListener.call(this,A,T);return A==="readable"&&r.nextTick(x,this),H},V.prototype.removeAllListeners=function(A){var T=a.prototype.removeAllListeners.apply(this,arguments);return A!=="readable"&&A!==void 0||r.nextTick(x,this),T},V.prototype.resume=function(){var A=this._readableState;return A.flowing||(u("resume"),A.flowing=!A.readableListening,function(T,H){H.resumeScheduled||(H.resumeScheduled=!0,r.nextTick(O,T,H))}(this,A)),A.paused=!1,this},V.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},V.prototype.wrap=function(A){var T=this,H=this._readableState,Z=!1;for(var Q in A.on("end",function(){if(u("wrapped end"),H.decoder&&!H.ended){var ne=H.decoder.end();ne&&ne.length&&T.push(ne)}T.push(null)}),A.on("data",function(ne){u("wrapped data"),H.decoder&&(ne=H.decoder.write(ne)),H.objectMode&&ne==null||(H.objectMode||ne&&ne.length)&&(T.push(ne)||(Z=!0,A.pause()))}),A)this[Q]===void 0&&typeof A[Q]=="function"&&(this[Q]=function(ne){return function(){return A[ne].apply(A,arguments)}}(Q));for(var J=0;J<B.length;J++)A.on(B[J],this.emit.bind(this,B[J]));return this._read=function(ne){u("wrapped _read",ne),Z&&(Z=!1,A.resume())},this},typeof Symbol=="function"&&(V.prototype[Symbol.asyncIterator]=function(){return f===void 0&&(f=e("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(V.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(V.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(V.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(A){this._readableState&&(this._readableState.flowing=A)}}),V._fromList=P,Object.defineProperty(V.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(V.from=function(A,T){return p===void 0&&(p=e("./internal/streams/from")),p(V,A,T)})}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,t,n){"use strict";t.exports=u;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function c(f,p){var g=this._transformState;g.transforming=!1;var y=g.writecb;if(y===null)return this.emit("error",new s);g.writechunk=null,g.writecb=null,p!=null&&this.push(p),y(f);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function u(f){if(!(this instanceof u))return new u(f);l.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",d)}function d(){var f=this;typeof this._flush!="function"||this._readableState.destroyed?h(this,null,null):this._flush(function(p,g){h(f,p,g)})}function h(f,p,g){if(p)return f.emit("error",p);if(g!=null&&f.push(g),f._writableState.length)throw new a;if(f._transformState.transforming)throw new o;return f.push(null)}e("inherits")(u,l),u.prototype.push=function(f,p){return this._transformState.needTransform=!1,l.prototype.push.call(this,f,p)},u.prototype._transform=function(f,p,g){g(new i("_transform()"))},u.prototype._write=function(f,p,g){var y=this._transformState;if(y.writecb=g,y.writechunk=f,y.writeencoding=p,!y.transforming){var v=this._readableState;(y.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},u.prototype._read=function(f){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},u.prototype._destroy=function(f,p){l.prototype._destroy.call(this,f,function(g){p(g)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,t,n){(function(r,i){(function(){"use strict";function s(_){var x=this;this.next=null,this.entry=null,this.finish=function(){(function(I,O,$){var P=I.entry;for(I.entry=null;P;){var G=P.callback;O.pendingcb--,G($),P=P.next}O.corkedRequestsFree.next=I})(x,_)}}var o;t.exports=V,V.WritableState=U;var a={deprecate:e("util-deprecate")},l=e("./internal/streams/stream"),c=e("buffer").Buffer,u=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,h=e("./internal/streams/destroy"),f=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,g=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,S=p.ERR_STREAM_CANNOT_PIPE,k=p.ERR_STREAM_DESTROYED,M=p.ERR_STREAM_NULL_VALUES,z=p.ERR_STREAM_WRITE_AFTER_END,F=p.ERR_UNKNOWN_ENCODING,j=h.errorOrDestroy;function B(){}function U(_,x,I){o=o||e("./_stream_duplex"),_=_||{},typeof I!="boolean"&&(I=x instanceof o),this.objectMode=!!_.objectMode,I&&(this.objectMode=this.objectMode||!!_.writableObjectMode),this.highWaterMark=f(this,_,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=_.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){(function(P,G){var D=P._writableState,W=D.sync,A=D.writecb;if(typeof A!="function")throw new v;if(function(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}(D),G)(function(H,Z,Q,J,ne){--Z.pendingcb,Q?(r.nextTick(ne,J),r.nextTick(w,H,Z),H._writableState.errorEmitted=!0,j(H,J)):(ne(J),H._writableState.errorEmitted=!0,j(H,J),w(H,Z))})(P,D,W,G,A);else{var T=m(D)||P.destroyed;T||D.corked||D.bufferProcessing||!D.bufferedRequest||R(P,D),W?r.nextTick(C,P,D,T,A):C(P,D,T,A)}})(x,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function V(_){var x=this instanceof(o=o||e("./_stream_duplex"));if(!x&&!d.call(V,this))return new V(_);this._writableState=new U(_,this,x),this.writable=!0,_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final)),l.call(this)}function E(_,x,I,O,$,P,G){x.writelen=O,x.writecb=G,x.writing=!0,x.sync=!0,x.destroyed?x.onwrite(new k("write")):I?_._writev($,x.onwrite):_._write($,P,x.onwrite),x.sync=!1}function C(_,x,I,O){I||function($,P){P.length===0&&P.needDrain&&(P.needDrain=!1,$.emit("drain"))}(_,x),x.pendingcb--,O(),w(_,x)}function R(_,x){x.bufferProcessing=!0;var I=x.bufferedRequest;if(_._writev&&I&&I.next){var O=x.bufferedRequestCount,$=new Array(O),P=x.corkedRequestsFree;P.entry=I;for(var G=0,D=!0;I;)$[G]=I,I.isBuf||(D=!1),I=I.next,G+=1;$.allBuffers=D,E(_,x,!0,x.length,$,"",P.finish),x.pendingcb++,x.lastBufferedRequest=null,P.next?(x.corkedRequestsFree=P.next,P.next=null):x.corkedRequestsFree=new s(x),x.bufferedRequestCount=0}else{for(;I;){var W=I.chunk,A=I.encoding,T=I.callback;if(E(_,x,!1,x.objectMode?1:W.length,W,A,T),I=I.next,x.bufferedRequestCount--,x.writing)break}I===null&&(x.lastBufferedRequest=null)}x.bufferedRequest=I,x.bufferProcessing=!1}function m(_){return _.ending&&_.length===0&&_.bufferedRequest===null&&!_.finished&&!_.writing}function b(_,x){_._final(function(I){x.pendingcb--,I&&j(_,I),x.prefinished=!0,_.emit("prefinish"),w(_,x)})}function w(_,x){var I=m(x);if(I&&(function($,P){P.prefinished||P.finalCalled||(typeof $._final!="function"||P.destroyed?(P.prefinished=!0,$.emit("prefinish")):(P.pendingcb++,P.finalCalled=!0,r.nextTick(b,$,P)))}(_,x),x.pendingcb===0&&(x.finished=!0,_.emit("finish"),x.autoDestroy))){var O=_._readableState;(!O||O.autoDestroy&&O.endEmitted)&&_.destroy()}return I}e("inherits")(V,l),U.prototype.getBuffer=function(){for(var _=this.bufferedRequest,x=[];_;)x.push(_),_=_.next;return x},function(){try{Object.defineProperty(U.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(_){return!!d.call(this,_)||this===V&&_&&_._writableState instanceof U}})):d=function(_){return _ instanceof this},V.prototype.pipe=function(){j(this,new S)},V.prototype.write=function(_,x,I){var O,$=this._writableState,P=!1,G=!$.objectMode&&(O=_,c.isBuffer(O)||O instanceof u);return G&&!c.isBuffer(_)&&(_=function(D){return c.from(D)}(_)),typeof x=="function"&&(I=x,x=null),G?x="buffer":x||(x=$.defaultEncoding),typeof I!="function"&&(I=B),$.ending?function(D,W){var A=new z;j(D,A),r.nextTick(W,A)}(this,I):(G||function(D,W,A,T){var H;return A===null?H=new M:typeof A=="string"||W.objectMode||(H=new g("chunk",["string","Buffer"],A)),!H||(j(D,H),r.nextTick(T,H),!1)}(this,$,_,I))&&($.pendingcb++,P=function(D,W,A,T,H,Z){if(!A){var Q=function(ye,K,ce){return ye.objectMode||ye.decodeStrings===!1||typeof K!="string"||(K=c.from(K,ce)),K}(W,T,H);T!==Q&&(A=!0,H="buffer",T=Q)}var J=W.objectMode?1:T.length;W.length+=J;var ne=W.length<W.highWaterMark;if(ne||(W.needDrain=!0),W.writing||W.corked){var ge=W.lastBufferedRequest;W.lastBufferedRequest={chunk:T,encoding:H,isBuf:A,callback:Z,next:null},ge?ge.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else E(D,W,!1,J,T,H,Z);return ne}(this,$,G,_,x,I)),P},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var _=this._writableState;_.corked&&(_.corked--,_.writing||_.corked||_.bufferProcessing||!_.bufferedRequest||R(this,_))},V.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new F(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),V.prototype._write=function(_,x,I){I(new y("_write()"))},V.prototype._writev=null,V.prototype.end=function(_,x,I){var O=this._writableState;return typeof _=="function"?(I=_,_=null,x=null):typeof x=="function"&&(I=x,x=null),_!=null&&this.write(_,x),O.corked&&(O.corked=1,this.uncork()),O.ending||function($,P,G){P.ending=!0,w($,P),G&&(P.finished?r.nextTick(G):$.once("finish",G)),P.ended=!0,$.writable=!1}(this,O,I),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),V.prototype.destroy=h.destroy,V.prototype._undestroy=h.undestroy,V.prototype._destroy=function(_,x){x(_)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,t,n){(function(r){(function(){"use strict";var i;function s(k,M,z){return(M=function(F){var j=function(B,U){if(typeof B!="object"||B===null)return B;var V=B[Symbol.toPrimitive];if(V!==void 0){var E=V.call(B,U||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(B)}(F,"string");return typeof j=="symbol"?j:String(j)}(M))in k?Object.defineProperty(k,M,{value:z,enumerable:!0,configurable:!0,writable:!0}):k[M]=z,k}var o=e("./end-of-stream"),a=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(k,M){return{value:k,done:M}}function g(k){var M=k[a];if(M!==null){var z=k[f].read();z!==null&&(k[d]=null,k[a]=null,k[l]=null,M(p(z,!1)))}}function y(k){r.nextTick(g,k)}var v=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((s(i={get stream(){return this[f]},next:function(){var k=this,M=this[c];if(M!==null)return Promise.reject(M);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise(function(B,U){r.nextTick(function(){k[c]?U(k[c]):B(p(void 0,!0))})});var z,F=this[d];if(F)z=new Promise(function(B,U){return function(V,E){B.then(function(){U[u]?V(p(void 0,!0)):U[h](V,E)},E)}}(F,this));else{var j=this[f].read();if(j!==null)return Promise.resolve(p(j,!1));z=new Promise(this[h])}return this[d]=z,z}},Symbol.asyncIterator,function(){return this}),s(i,"return",function(){var k=this;return new Promise(function(M,z){k[f].destroy(null,function(F){F?z(F):M(p(void 0,!0))})})}),i),v);t.exports=function(k){var M,z=Object.create(S,(s(M={},f,{value:k,writable:!0}),s(M,a,{value:null,writable:!0}),s(M,l,{value:null,writable:!0}),s(M,c,{value:null,writable:!0}),s(M,u,{value:k._readableState.endEmitted,writable:!0}),s(M,h,{value:function(F,j){var B=z[f].read();B?(z[d]=null,z[a]=null,z[l]=null,F(p(B,!1))):(z[a]=F,z[l]=j)},writable:!0}),M));return z[d]=null,o(k,function(F){if(F&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=z[l];return j!==null&&(z[d]=null,z[a]=null,z[l]=null,j(F)),void(z[c]=F)}var B=z[a];B!==null&&(z[d]=null,z[a]=null,z[l]=null,B(p(void 0,!0))),z[u]=!0}),k.on("readable",y.bind(null,z)),z}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,t,n){"use strict";function r(d,h){var f=Object.keys(d);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(d);h&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(d,g).enumerable})),f.push.apply(f,p)}return f}function i(d){for(var h=1;h<arguments.length;h++){var f=arguments[h]!=null?arguments[h]:{};h%2?r(Object(f),!0).forEach(function(p){s(d,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(f)):r(Object(f)).forEach(function(p){Object.defineProperty(d,p,Object.getOwnPropertyDescriptor(f,p))})}return d}function s(d,h,f){return(h=a(h))in d?Object.defineProperty(d,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[h]=f,d}function o(d,h){for(var f=0;f<h.length;f++){var p=h[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,a(p.key),p)}}function a(d){var h=function(f,p){if(typeof f!="object"||f===null)return f;var g=f[Symbol.toPrimitive];if(g!==void 0){var y=g.call(f,p||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(f)}(d,"string");return typeof h=="symbol"?h:String(h)}var l=e("buffer").Buffer,c=e("util").inspect,u=c&&c.custom||"inspect";t.exports=function(){function d(){(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var h,f,p;return h=d,(f=[{key:"push",value:function(g){var y={data:g,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(g){var y={data:g,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var y=this.head,v=""+y.data;y=y.next;)v+=g+y.data;return v}},{key:"concat",value:function(g){if(this.length===0)return l.alloc(0);for(var y,v,S,k=l.allocUnsafe(g>>>0),M=this.head,z=0;M;)y=M.data,v=k,S=z,l.prototype.copy.call(y,v,S),z+=M.data.length,M=M.next;return k}},{key:"consume",value:function(g,y){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):v=g===this.head.data.length?this.shift():y?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var y=this.head,v=1,S=y.data;for(g-=S.length;y=y.next;){var k=y.data,M=g>k.length?k.length:g;if(M===k.length?S+=k:S+=k.slice(0,g),(g-=M)==0){M===k.length?(++v,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=k.slice(M));break}++v}return this.length-=v,S}},{key:"_getBuffer",value:function(g){var y=l.allocUnsafe(g),v=this.head,S=1;for(v.data.copy(y),g-=v.data.length;v=v.next;){var k=v.data,M=g>k.length?k.length:g;if(k.copy(y,y.length-g,0,M),(g-=M)==0){M===k.length?(++S,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=k.slice(M));break}++S}return this.length-=S,y}},{key:u,value:function(g,y){return c(this,i(i({},y),{},{depth:0,customInspect:!1}))}}])&&o(h.prototype,f),p&&o(h,p),Object.defineProperty(h,"prototype",{writable:!1}),d}()},{buffer:220,util:188}],485:[function(e,t,n){(function(r){(function(){"use strict";function i(a,l){o(a,l),s(a)}function s(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function o(a,l){a.emit("error",l)}t.exports={destroy:function(a,l){var c=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(o,this,a)):r.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!l&&h?c._writableState?c._writableState.errorEmitted?r.nextTick(s,c):(c._writableState.errorEmitted=!0,r.nextTick(i,c,h)):r.nextTick(i,c,h):l?(r.nextTick(s,c),l(h)):r.nextTick(s,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,l){var c=a._readableState,u=a._writableState;c&&c.autoDestroy||u&&u.autoDestroy?a.destroy(l):a.emit("error",l)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function s(o,a,l){if(typeof a=="function")return s(o,null,a);a||(a={}),l=function(k){var M=!1;return function(){if(!M){M=!0;for(var z=arguments.length,F=new Array(z),j=0;j<z;j++)F[j]=arguments[j];k.apply(this,F)}}}(l||i);var c=a.readable||a.readable!==!1&&o.readable,u=a.writable||a.writable!==!1&&o.writable,d=function(){o.writable||f()},h=o._writableState&&o._writableState.finished,f=function(){u=!1,h=!0,c||l.call(o)},p=o._readableState&&o._readableState.endEmitted,g=function(){c=!1,p=!0,u||l.call(o)},y=function(k){l.call(o,k)},v=function(){var k;return c&&!p?(o._readableState&&o._readableState.ended||(k=new r),l.call(o,k)):u&&!h?(o._writableState&&o._writableState.ended||(k=new r),l.call(o,k)):void 0},S=function(){o.req.on("finish",f)};return function(k){return k.setHeader&&typeof k.abort=="function"}(o)?(o.on("complete",f),o.on("abort",v),o.req?S():o.on("request",S)):u&&!o._writableState&&(o.on("end",d),o.on("close",d)),o.on("end",g),o.on("finish",f),a.error!==!1&&o.on("error",y),o.on("close",v),function(){o.removeListener("complete",f),o.removeListener("abort",v),o.removeListener("request",S),o.req&&o.req.removeListener("finish",f),o.removeListener("end",d),o.removeListener("close",d),o.removeListener("finish",f),o.removeListener("end",g),o.removeListener("error",y),o.removeListener("close",v)}}},{"../../../errors":477}],487:[function(e,t,n){"use strict";t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,t,n){"use strict";var r,i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(h){if(h)throw h}function l(h,f,p,g){g=function(S){var k=!1;return function(){k||(k=!0,S.apply(void 0,arguments))}}(g);var y=!1;h.on("close",function(){y=!0}),r===void 0&&(r=e("./end-of-stream")),r(h,{readable:f,writable:p},function(S){if(S)return g(S);y=!0,g()});var v=!1;return function(S){if(!y&&!v)return v=!0,function(k){return k.setHeader&&typeof k.abort=="function"}(h)?h.abort():typeof h.destroy=="function"?h.destroy():void g(S||new o("pipe"))}}function c(h){h()}function u(h,f){return h.pipe(f)}function d(h){return h.length?typeof h[h.length-1]!="function"?a:h.pop():a}t.exports=function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];var g,y=d(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new s("streams");var v=f.map(function(S,k){var M=k<f.length-1;return l(S,M,k>0,function(z){g||(g=z),z&&v.forEach(c),M||(v.forEach(c),y(g))})});return f.reduce(u)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(i,s,o,a){var l=function(c,u,d){return c.highWaterMark!=null?c.highWaterMark:u?c[d]:null}(s,a,o);if(l!=null){if(!isFinite(l)||Math.floor(l)!==l||l<0)throw new r(a?o:"highWaterMark",l);return Math.floor(l)}return i.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,t,n){"use strict";t.exports=e("events").EventEmitter},{events:422}],491:[function(e,t,n){"use strict";(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,t,n){"use strict";var r=function(i){var s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(w,_,x){w[_]=x.value},l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function h(w,_,x){return Object.defineProperty(w,_,{value:x,enumerable:!0,configurable:!0,writable:!0}),w[_]}try{h({},"")}catch{h=function(_,x,I){return _[x]=I}}function f(w,_,x,I){var O=_&&_.prototype instanceof y?_:y,$=Object.create(O.prototype),P=new R(I||[]);return a($,"_invoke",{value:U(w,x,P)}),$}function p(w,_,x){try{return{type:"normal",arg:w.call(_,x)}}catch(I){return{type:"throw",arg:I}}}i.wrap=f;var g={};function y(){}function v(){}function S(){}var k={};h(k,c,function(){return this});var M=Object.getPrototypeOf,z=M&&M(M(m([])));z&&z!==s&&o.call(z,c)&&(k=z);var F=S.prototype=y.prototype=Object.create(k);function j(w){["next","throw","return"].forEach(function(_){h(w,_,function(x){return this._invoke(_,x)})})}function B(w,_){var x;a(this,"_invoke",{value:function(I,O){function $(){return new _(function(P,G){(function D(W,A,T,H){var Z=p(w[W],w,A);if(Z.type!=="throw"){var Q=Z.arg,J=Q.value;return J&&typeof J=="object"&&o.call(J,"__await")?_.resolve(J.__await).then(function(ne){D("next",ne,T,H)},function(ne){D("throw",ne,T,H)}):_.resolve(J).then(function(ne){Q.value=ne,T(Q)},function(ne){return D("throw",ne,T,H)})}H(Z.arg)})(I,O,P,G)})}return x=x?x.then($,$):$()}})}function U(w,_,x){var I="suspendedStart";return function(O,$){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(O==="throw")throw $;return b()}for(x.method=O,x.arg=$;;){var P=x.delegate;if(P){var G=V(P,x);if(G){if(G===g)continue;return G}}if(x.method==="next")x.sent=x._sent=x.arg;else if(x.method==="throw"){if(I==="suspendedStart")throw I="completed",x.arg;x.dispatchException(x.arg)}else x.method==="return"&&x.abrupt("return",x.arg);I="executing";var D=p(w,_,x);if(D.type==="normal"){if(I=x.done?"completed":"suspendedYield",D.arg===g)continue;return{value:D.arg,done:x.done}}D.type==="throw"&&(I="completed",x.method="throw",x.arg=D.arg)}}}function V(w,_){var x=_.method,I=w.iterator[x];if(I===void 0)return _.delegate=null,x==="throw"&&w.iterator.return&&(_.method="return",_.arg=void 0,V(w,_),_.method==="throw")||x!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+x+"' method")),g;var O=p(I,w.iterator,_.arg);if(O.type==="throw")return _.method="throw",_.arg=O.arg,_.delegate=null,g;var $=O.arg;return $?$.done?(_[w.resultName]=$.value,_.next=w.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,g):$:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,g)}function E(w){var _={tryLoc:w[0]};1 in w&&(_.catchLoc=w[1]),2 in w&&(_.finallyLoc=w[2],_.afterLoc=w[3]),this.tryEntries.push(_)}function C(w){var _=w.completion||{};_.type="normal",delete _.arg,w.completion=_}function R(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(E,this),this.reset(!0)}function m(w){if(w){var _=w[c];if(_)return _.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var x=-1,I=function O(){for(;++x<w.length;)if(o.call(w,x))return O.value=w[x],O.done=!1,O;return O.value=void 0,O.done=!0,O};return I.next=I}}return{next:b}}function b(){return{value:void 0,done:!0}}return v.prototype=S,a(F,"constructor",{value:S,configurable:!0}),a(S,"constructor",{value:v,configurable:!0}),v.displayName=h(S,d,"GeneratorFunction"),i.isGeneratorFunction=function(w){var _=typeof w=="function"&&w.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},i.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,S):(w.__proto__=S,h(w,d,"GeneratorFunction")),w.prototype=Object.create(F),w},i.awrap=function(w){return{__await:w}},j(B.prototype),h(B.prototype,u,function(){return this}),i.AsyncIterator=B,i.async=function(w,_,x,I,O){O===void 0&&(O=Promise);var $=new B(f(w,_,x,I),O);return i.isGeneratorFunction(_)?$:$.next().then(function(P){return P.done?P.value:$.next()})},j(F),h(F,d,"Generator"),h(F,c,function(){return this}),h(F,"toString",function(){return"[object Generator]"}),i.keys=function(w){var _=Object(w),x=[];for(var I in _)x.push(I);return x.reverse(),function O(){for(;x.length;){var $=x.pop();if($ in _)return O.value=$,O.done=!1,O}return O.done=!0,O}},i.values=m,R.prototype={constructor:R,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!w)for(var _ in this)_.charAt(0)==="t"&&o.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var _=this;function x(D,W){return $.type="throw",$.arg=w,_.next=D,W&&(_.method="next",_.arg=void 0),!!W}for(var I=this.tryEntries.length-1;I>=0;--I){var O=this.tryEntries[I],$=O.completion;if(O.tryLoc==="root")return x("end");if(O.tryLoc<=this.prev){var P=o.call(O,"catchLoc"),G=o.call(O,"finallyLoc");if(P&&G){if(this.prev<O.catchLoc)return x(O.catchLoc,!0);if(this.prev<O.finallyLoc)return x(O.finallyLoc)}else if(P){if(this.prev<O.catchLoc)return x(O.catchLoc,!0)}else{if(!G)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return x(O.finallyLoc)}}}},abrupt:function(w,_){for(var x=this.tryEntries.length-1;x>=0;--x){var I=this.tryEntries[x];if(I.tryLoc<=this.prev&&o.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var O=I;break}}O&&(w==="break"||w==="continue")&&O.tryLoc<=_&&_<=O.finallyLoc&&(O=null);var $=O?O.completion:{};return $.type=w,$.arg=_,O?(this.method="next",this.next=O.finallyLoc,g):this.complete($)},complete:function(w,_){if(w.type==="throw")throw w.arg;return w.type==="break"||w.type==="continue"?this.next=w.arg:w.type==="return"?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):w.type==="normal"&&_&&(this.next=_),g},finish:function(w){for(var _=this.tryEntries.length-1;_>=0;--_){var x=this.tryEntries[_];if(x.finallyLoc===w)return this.complete(x.completion,x.afterLoc),C(x),g}},catch:function(w){for(var _=this.tryEntries.length-1;_>=0;--_){var x=this.tryEntries[_];if(x.tryLoc===w){var I=x.completion;if(I.type==="throw"){var O=I.arg;C(x)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(w,_,x){return this.delegate={iterator:m(w),resultName:_,nextLoc:x},this.method==="next"&&(this.arg=void 0),g}},i}(typeof t=="object"?t.exports:{});try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},{}],493:[function(e,t,n){"use strict";var r=e("buffer").Buffer,i=e("inherits"),s=e("hash-base"),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function f(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(M,z){return M<<z|M>>>32-z}function g(M,z,F,j,B,U,V,E){return p(M+(z^F^j)+U+V|0,E)+B|0}function y(M,z,F,j,B,U,V,E){return p(M+(z&F|~z&j)+U+V|0,E)+B|0}function v(M,z,F,j,B,U,V,E){return p(M+((z|~F)^j)+U+V|0,E)+B|0}function S(M,z,F,j,B,U,V,E){return p(M+(z&j|F&~j)+U+V|0,E)+B|0}function k(M,z,F,j,B,U,V,E){return p(M+(z^(F|~j))+U+V|0,E)+B|0}i(f,s),f.prototype._update=function(){for(var M=o,z=0;z<16;++z)M[z]=this._block.readInt32LE(4*z);for(var F=0|this._a,j=0|this._b,B=0|this._c,U=0|this._d,V=0|this._e,E=0|this._a,C=0|this._b,R=0|this._c,m=0|this._d,b=0|this._e,w=0;w<80;w+=1){var _,x;w<16?(_=g(F,j,B,U,V,M[a[w]],d[0],c[w]),x=k(E,C,R,m,b,M[l[w]],h[0],u[w])):w<32?(_=y(F,j,B,U,V,M[a[w]],d[1],c[w]),x=S(E,C,R,m,b,M[l[w]],h[1],u[w])):w<48?(_=v(F,j,B,U,V,M[a[w]],d[2],c[w]),x=v(E,C,R,m,b,M[l[w]],h[2],u[w])):w<64?(_=S(F,j,B,U,V,M[a[w]],d[3],c[w]),x=y(E,C,R,m,b,M[l[w]],h[3],u[w])):(_=k(F,j,B,U,V,M[a[w]],d[4],c[w]),x=g(E,C,R,m,b,M[l[w]],h[4],u[w])),F=V,V=U,U=p(B,10),B=j,j=_,E=b,b=m,m=p(R,10),R=C,C=x}var I=this._b+B+m|0;this._b=this._c+U+b|0,this._c=this._d+V+E|0,this._d=this._e+F+C|0,this._e=this._a+j+R|0,this._a=I},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var M=r.alloc?r.alloc(20):new r(20);return M.writeInt32LE(this._a,0),M.writeInt32LE(this._b,4),M.writeInt32LE(this._c,8),M.writeInt32LE(this._d,12),M.writeInt32LE(this._e,16),M},t.exports=f},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,t,n){"use strict";var r=e("buffer"),i=r.Buffer;function s(a,l){for(var c in a)l[c]=a[c]}function o(a,l,c){return i(a,l,c)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,n),n.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(a,l,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,l,c)},o.alloc=function(a,l,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=i(a);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:220}],495:[function(e,t,n){(function(r){(function(){"use strict";var i,s=e("buffer"),o=s.Buffer,a={};for(i in s)s.hasOwnProperty(i)&&i!=="SlowBuffer"&&i!=="Buffer"&&(a[i]=s[i]);var l=a.Buffer={};for(i in o)o.hasOwnProperty(i)&&i!=="allocUnsafe"&&i!=="allocUnsafeSlow"&&(l[i]=o[i]);if(a.Buffer.prototype=o.prototype,l.from&&l.from!==Uint8Array.from||(l.from=function(c,u,d){if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof c);if(c&&c.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);return o(c,u,d)}),l.alloc||(l.alloc=function(c,u,d){if(typeof c!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof c);if(c<0||c>=2*(1<<30))throw new RangeError('The value "'+c+'" is invalid for option "size"');var h=o(c);return u&&u.length!==0?typeof d=="string"?h.fill(u,d):h.fill(u):h.fill(0),h}),!a.kStringMaxLength)try{a.kStringMaxLength=r.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let r=e("xmlchars/xml/1.0/ed5"),i=e("xmlchars/xml/1.1/ed2"),s=e("xmlchars/xmlns/1.0/ed3");var o=r.isS,a=r.isChar,l=r.isNameStartChar,c=r.isNameChar,u=r.S_LIST,d=r.NAME_RE,h=i.isChar,f=s.isNCNameStartChar,p=s.isNCNameChar,g=s.NC_NAME_RE;let y="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",S={__proto__:null,xml:y,xmlns:v},k={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},M=m=>m===34||m===39,z=[34,39],F=[...z,91,62],j=[...z,60,93],B=[61,63,...u],U=[...u,62,38,60];function V(m,b,w){switch(b){case"xml":w!==y&&m.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":w!==v&&m.fail(`xmlns prefix must be bound to ${v}.`)}switch(w){case v:m.fail(b===""?`the default namespace may not be set to ${w}.`:`may not assign a prefix (even "xmlns") to the URI ${v}.`);break;case y:switch(b){case"xml":break;case"":m.fail(`the default namespace may not be set to ${w}.`);break;default:m.fail("may not assign the xml namespace to another prefix.")}}}let E=m=>g.test(m),C=m=>d.test(m);n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];let R={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(m){this.opt=m??{},this.fragmentOpt=!!this.opt.fragment;let b=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,b){this.nameStartCheck=f,this.nameCheck=p,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},S);let w=this.opt.additionalNamespaces;w!=null&&(function(_,x){for(let I of Object.keys(x))V(_,I,x[I])}(this,w),Object.assign(this.ns,w))}else this.nameStartCheck=l,this.nameCheck=c,this.isName=C,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var m;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:b}=this;this.state=b?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=b,this.xmlDeclPossible=!b,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:w}=this.opt;if(w===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");w="1.0"}this.setXMLVersion(w),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(k),(m=this.readyHandler)===null||m===void 0||m.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(m,b){this[R[m]]=b}off(m){this[R[m]]=void 0}makeError(m){var b;let w=(b=this.fileName)!==null&&b!==void 0?b:"";return this.trackPosition&&(w.length>0&&(w+=":"),w+=`${this.line}:${this.column}`),w.length>0&&(w+=": "),new Error(w+m)}fail(m){let b=this.makeError(m),w=this.errorHandler;if(w===void 0)throw b;return w(b),this}write(m){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let b=!1;m===null?(b=!0,m=""):typeof m=="object"&&(m=m.toString()),this.carriedFromPrevious!==void 0&&(m=`${this.carriedFromPrevious}${m}`,this.carriedFromPrevious=void 0);let w=m.length,_=m.charCodeAt(w-1);!b&&(_===13||_>=55296&&_<=56319)&&(this.carriedFromPrevious=m[w-1],w--,m=m.slice(0,w));let{stateTable:x}=this;for(this.chunk=m,this.i=0;this.i<w;)x[this.state].call(this);return this.chunkPosition+=w,b?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:m,i:b}=this;if(this.prevI=b,this.i=b+1,b>=m.length)return-1;let w=m.charCodeAt(b);if(this.column++,w<55296){if(w>=32||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return m.charCodeAt(b+1)===10&&(this.i=b+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;let _=65536+1024*(w-55296)+(m.charCodeAt(b+1)-56320);return this.i=b+2,_>1114111&&this.fail("disallowed character."),_}getCode11(){let{chunk:m,i:b}=this;if(this.prevI=b,this.i=b+1,b>=m.length)return-1;let w=m.charCodeAt(b);if(this.column++,w<55296){if(w>31&&w<127||w>159&&w!==8232||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let x=m.charCodeAt(b+1);x!==10&&x!==133||(this.i=b+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;let _=65536+1024*(w-55296)+(m.charCodeAt(b+1)-56320);return this.i=b+2,_>1114111&&this.fail("disallowed character."),_}getCodeNorm(){let m=this.getCode();return m===-2?10:m}unget(){this.i=this.prevI,this.column--}captureTo(m){let{i:b}=this,{chunk:w}=this;for(;;){let _=this.getCode(),x=_===-2,I=x?10:_;if(I===-1||m.includes(I))return this.text+=w.slice(b,this.prevI),I;x&&(this.text+=w.slice(b,this.prevI)+`
`,b=this.i)}}captureToChar(m){let{i:b}=this,{chunk:w}=this;for(;;){let _=this.getCode();switch(_){case-2:this.text+=w.slice(b,this.prevI)+`
`,b=this.i,_=10;break;case-1:return this.text+=w.slice(b),!1}if(_===m)return this.text+=w.slice(b,this.prevI),!0}}captureNameChars(){let{chunk:m,i:b}=this;for(;;){let w=this.getCode();if(w===-1)return this.name+=m.slice(b),-1;if(!c(w))return this.name+=m.slice(b,this.prevI),w===-2?10:w}}skipSpaces(){for(;;){let m=this.getCodeNorm();if(m===-1||!o(m))return m}}setXMLVersion(m){this.currentXMLVersion=m,m==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let m=this.i,b=this.skipSpaces();switch(this.prevI!==m&&(this.xmlDeclPossible=!1),b){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var m;let b=this.captureTo(F);switch(b){case 62:(m=this.doctypeHandler)===null||m===void 0||m.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(b),b===91?this.state=4:M(b)&&(this.state=3,this.q=b)}}sDoctypeQuote(){let m=this.q;this.captureToChar(m)&&(this.text+=String.fromCodePoint(m),this.q=null,this.state=2)}sDTD(){let m=this.captureTo(j);m!==-1&&(this.text+=String.fromCodePoint(m),m===93?this.state=2:m===60?this.state=6:M(m)&&(this.state=5,this.q=m))}sDTDQuoted(){let m=this.q;this.captureToChar(m)&&(this.text+=String.fromCodePoint(m),this.state=4,this.q=null)}sDTDOpenWaka(){let m=this.getCodeNorm();switch(this.text+=String.fromCodePoint(m),m){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let m=String.fromCodePoint(this.getCodeNorm()),b=this.openWakaBang+=m;this.text+=m,b!=="-"&&(this.state=b==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let m=this.getCodeNorm();this.text+=String.fromCodePoint(m),this.state=m===45?10:8}sDTDCommentEnded(){let m=this.getCodeNorm();this.text+=String.fromCodePoint(m),m===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let m=this.getCodeNorm();this.text+=String.fromCodePoint(m),m===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:m}=this,{chunk:b}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=b.slice(m,this.prevI)+`
`,m=this.i;break;case 59:{let{entityReturnState:w}=this,_=this.entity+b.slice(m,this.prevI),x;this.state=w,_===""?(this.fail("empty entity name."),x="&;"):(x=this.parseEntity(_),this.entity=""),w===13&&this.textHandler===void 0||(this.text+=x);break e}case-1:this.entity+=b.slice(m);break e}}sOpenWaka(){let m=this.getCode();if(l(m))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(m){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var m;let b=this.getCodeNorm();b===45?(this.state=19,(m=this.commentHandler)===null||m===void 0||m.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(b),this.state=17)}sCommentEnded(){let m=this.getCodeNorm();m!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(m),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let m=this.getCodeNorm();m===93?this.state=22:(this.text+="]"+String.fromCodePoint(m),this.state=20)}sCDataEnding2(){var m;let b=this.getCodeNorm();switch(b){case 62:(m=this.cdataHandler)===null||m===void 0||m.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(b),this.state=20}}sPIFirstChar(){let m=this.getCodeNorm();this.nameStartCheck(m)?(this.piTarget+=String.fromCodePoint(m),this.state=24):m===63||o(m)?(this.fail("processing instruction without a target."),this.state=m===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(m),this.state=24)}sPIRest(){let{chunk:m,i:b}=this;for(;;){let w=this.getCodeNorm();if(w===-1)return void(this.piTarget+=m.slice(b));if(!this.nameCheck(w)){this.piTarget+=m.slice(b,this.prevI);let _=w===63;_||o(w)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=_?33:27):this.state=_?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w));break}}}sPIBody(){if(this.text.length===0){let m=this.getCodeNorm();m===63?this.state=26:o(m)||(this.text=String.fromCodePoint(m))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var m;let b=this.getCodeNorm();if(b===62){let{piTarget:w}=this;w.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(m=this.piHandler)===null||m===void 0||m.call(this,{target:w,body:this.text}),this.piTarget=this.text="",this.state=13}else b===63?this.text+="?":(this.text+="?"+String.fromCodePoint(b),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let m=this.skipSpaces();m!==63?m!==-1&&(this.state=28,this.name=String.fromCodePoint(m)):this.state=33}sXMLDeclName(){let m=this.captureTo(B);if(m===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(o(m)||m===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=m===61?30:29}}sXMLDeclEq(){let m=this.getCodeNorm();if(m===63)return this.state=33,void this.fail("XML declaration is incomplete.");o(m)||(m!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let m=this.getCodeNorm();if(m===63)return this.state=33,void this.fail("XML declaration is incomplete.");o(m)||(M(m)?this.q=m:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let m=this.captureTo([this.q,63]);if(m===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(m===-1)return;let b=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let w=b;this.xmlDecl.version=w,/^1\.[0-9]+$/.test(w)?this.opt.forceXMLVersion||this.setXMLVersion(w):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(b)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=b;break;case"standalone":b!=="yes"&&b!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=b}this.name="",this.state=32}sXMLDeclSeparator(){let m=this.getCodeNorm();m!==63?(o(m)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var m;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(m=this.xmldeclHandler)===null||m===void 0||m.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var m;let b=this.captureNameChars();if(b===-1)return;let w=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=w.ns=Object.create(null)),(m=this.openTagStartHandler)===null||m===void 0||m.call(this,w),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),b){case 62:this.openTag();break;case 47:this.state=35;break;default:o(b)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let m=this.skipSpaces();m!==-1&&(l(m)?(this.unget(),this.state=37):m===62?this.openTag():m===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let m=this.captureNameChars();m===61?this.state=39:o(m)?this.state=38:m===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):m!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let m=this.skipSpaces();switch(m){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",m===62?this.openTag():l(m)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let m=this.getCodeNorm();M(m)?(this.q=m,this.state=40):o(m)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:m,chunk:b}=this,{i:w}=this;for(;;)switch(this.getCode()){case m:return this.pushAttrib(this.name,this.text+b.slice(w,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=b.slice(w,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=b.slice(w,this.prevI)+" ",w=this.i;break;case 60:return this.text+=b.slice(w,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=b.slice(w))}}sAttribValueClosed(){let m=this.getCodeNorm();o(m)?this.state=36:m===62?this.openTag():m===47?this.state=35:l(m)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let m=this.captureTo(U);switch(m){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",m===62?this.openTag():this.state=36}}sCloseTag(){let m=this.captureNameChars();m===62?this.closeTag():o(m)?this.state=44:m!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:m,forbiddenState:b}=this,{chunk:w,textHandler:_}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,_!==void 0){let{text:x}=this,I=w.slice(m,this.prevI);x.length!==0?(_(x+I),this.text=""):I.length!==0&&_(I)}b=0;break e;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=w.slice(m,this.prevI)),b=0;break e;case 93:switch(b){case 0:b=1;break;case 1:b=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:b===2&&this.fail('the string "]]>" is disallowed in char data.'),b=0;break;case-2:_!==void 0&&(this.text+=w.slice(m,this.prevI)+`
`),m=this.i,b=0;break;case-1:_!==void 0&&(this.text+=w.slice(m));break e;default:b=0}this.forbiddenState=b}handleTextOutsideRoot(){let{i:m}=this,{chunk:b,textHandler:w}=this,_=!1;e:for(;;){let x=this.getCode();switch(x){case 60:if(this.state=15,w!==void 0){let{text:I}=this,O=b.slice(m,this.prevI);I.length!==0?(w(I+O),this.text=""):O.length!==0&&w(O)}break e;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=b.slice(m,this.prevI)),_=!0;break e;case-2:w!==void 0&&(this.text+=b.slice(m,this.prevI)+`
`),m=this.i;break;case-1:w!==void 0&&(this.text+=b.slice(m));break e;default:o(x)||(_=!0)}}_&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(m,b){var w;let{prefix:_,local:x}=this.qname(m),I={name:m,prefix:_,local:x,value:b};if(this.attribList.push(I),(w=this.attributeHandler)===null||w===void 0||w.call(this,I),_==="xmlns"){let O=b.trim();this.currentXMLVersion==="1.0"&&O===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[x]=O,V(this,x,O)}else if(m==="xmlns"){let O=b.trim();this.topNS[""]=O,V(this,"",O)}}pushAttribPlain(m,b){var w;let _={name:m,value:b};this.attribList.push(_),(w=this.attributeHandler)===null||w===void 0||w.call(this,_)}end(){var m,b;this.sawRoot||this.fail("document must contain a root element.");let{tags:w}=this;for(;w.length>0;){let x=w.pop();this.fail("unclosed tag: "+x.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");let{text:_}=this;return _.length!==0&&((m=this.textHandler)===null||m===void 0||m.call(this,_),this.text=""),this._closed=!0,(b=this.endHandler)===null||b===void 0||b.call(this),this._init(),this}resolve(m){var b,w;let _=this.topNS[m];if(_!==void 0)return _;let{tags:x}=this;for(let I=x.length-1;I>=0;I--)if(_=x[I].ns[m],_!==void 0)return _;return _=this.ns[m],_!==void 0?_:(w=(b=this.opt).resolvePrefix)===null||w===void 0?void 0:w.call(b,m)}qname(m){let b=m.indexOf(":");if(b===-1)return{prefix:"",local:m};let w=m.slice(b+1),_=m.slice(0,b);return(_===""||w===""||w.includes(":"))&&this.fail(`malformed name: ${m}.`),{prefix:_,local:w}}processAttribsNS(){var m;let{attribList:b}=this,w=this.tag;{let{prefix:I,local:O}=this.qname(w.name);w.prefix=I,w.local=O;let $=w.uri=(m=this.resolve(I))!==null&&m!==void 0?m:"";I!==""&&(I==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),$===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(I)}.`),w.uri=I))}if(b.length===0)return;let{attributes:_}=w,x=new Set;for(let I of b){let{name:O,prefix:$,local:P}=I,G,D;$===""?(G=O==="xmlns"?v:"",D=O):(G=this.resolve($),G===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify($)}.`),G=$),D=`{${G}}${P}`),x.has(D)&&this.fail(`duplicate attribute: ${D}.`),x.add(D),I.uri=G,_[O]=I}this.attribList=[]}processAttribsPlain(){let{attribList:m}=this,b=this.tag.attributes;for(let{name:w,value:_}of m)b[w]!==void 0&&this.fail(`duplicate attribute: ${w}.`),b[w]=_;this.attribList=[]}openTag(){var m;this.processAttribs();let{tags:b}=this,w=this.tag;w.isSelfClosing=!1,(m=this.openTagHandler)===null||m===void 0||m.call(this,w),b.push(w),this.state=13,this.name=""}openSelfClosingTag(){var m,b,w;this.processAttribs();let{tags:_}=this,x=this.tag;x.isSelfClosing=!0,(m=this.openTagHandler)===null||m===void 0||m.call(this,x),(b=this.closeTagHandler)===null||b===void 0||b.call(this,x),(this.tag=(w=_[_.length-1])!==null&&w!==void 0?w:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:m,name:b}=this;if(this.state=13,this.name="",b==="")return this.fail("weird empty close tag."),void(this.text+="</>");let w=this.closeTagHandler,_=m.length;for(;_-- >0;){let x=this.tag=m.pop();if(this.topNS=x.ns,w?.(x),x.name===b)break;this.fail("unexpected close tag.")}_===0?this.closedRoot=!0:_<0&&(this.fail(`unmatched closing tag: ${b}.`),this.text+=`</${b}>`)}parseEntity(m){if(m[0]!=="#"){let w=this.ENTITIES[m];return w!==void 0?w:(this.fail(this.isName(m)?"undefined entity.":"disallowed character in entity name."),`&${m};`)}let b=NaN;return m[1]==="x"&&/^#x[0-9a-f]+$/i.test(m)?b=parseInt(m.slice(2),16):/^#[0-9]+$/.test(m)&&(b=parseInt(m.slice(1),10)),this.isChar(b)?String.fromCodePoint(b):(this.fail("malformed character entity."),`&${m};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer;function i(s,o){this._block=r.alloc(s),this._finalSize=o,this._blockSize=s,this._len=0}i.prototype.update=function(s,o){typeof s=="string"&&(o=o||"utf8",s=r.from(s,o));for(var a=this._block,l=this._blockSize,c=s.length,u=this._len,d=0;d<c;){for(var h=u%l,f=Math.min(c-d,l-h),p=0;p<f;p++)a[h+p]=s[d+p];d+=f,(u+=f)%l==0&&this._update(a)}return this._len+=c,this},i.prototype.digest=function(s){var o=this._len%this._blockSize;this._block[o]=128,this._block.fill(0,o+1),o>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var l=(4294967295&a)>>>0,c=(a-l)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var u=this._hash();return s?u.toString(s):u},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},{"safe-buffer":494}],498:[function(e,t,n){"use strict";var r=t.exports=function(i){i=i.toLowerCase();var s=r[i];if(!s)throw new Error(i+" is not supported (we accept pull requests)");return new s};r.sha=e("./sha"),r.sha1=e("./sha1"),r.sha224=e("./sha224"),r.sha256=e("./sha256"),r.sha384=e("./sha384"),r.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(d){return d<<30|d>>>2}function u(d,h,f,p){return d===0?h&f|~h&p:d===2?h&f|h&p|f&p:h^f^p}r(l,i),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(d){for(var h,f=this._w,p=0|this._a,g=0|this._b,y=0|this._c,v=0|this._d,S=0|this._e,k=0;k<16;++k)f[k]=d.readInt32BE(4*k);for(;k<80;++k)f[k]=f[k-3]^f[k-8]^f[k-14]^f[k-16];for(var M=0;M<80;++M){var z=~~(M/20),F=0|((h=p)<<5|h>>>27)+u(z,g,y,v)+S+f[M]+o[z];S=v,v=y,y=c(g),g=p,p=F}this._a=p+this._a|0,this._b=g+this._b|0,this._c=y+this._c|0,this._d=v+this._d|0,this._e=S+this._e|0},l.prototype._hash=function(){var d=s.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(h){return h<<5|h>>>27}function u(h){return h<<30|h>>>2}function d(h,f,p,g){return h===0?f&p|~f&g:h===2?f&p|f&g|p&g:f^p^g}r(l,i),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(h){for(var f,p=this._w,g=0|this._a,y=0|this._b,v=0|this._c,S=0|this._d,k=0|this._e,M=0;M<16;++M)p[M]=h.readInt32BE(4*M);for(;M<80;++M)p[M]=(f=p[M-3]^p[M-8]^p[M-14]^p[M-16])<<1|f>>>31;for(var z=0;z<80;++z){var F=~~(z/20),j=c(g)+d(F,y,v,S)+k+p[z]+o[F]|0;k=S,S=v,v=u(y),y=g,g=j}this._a=g+this._a|0,this._b=y+this._b|0,this._c=v+this._c|0,this._d=S+this._d|0,this._e=k+this._e|0},l.prototype._hash=function(){var h=s.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./sha256"),s=e("./hash"),o=e("safe-buffer").Buffer,a=new Array(64);function l(){this.init(),this._w=a,s.call(this,64,56)}r(l,i),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var c=o.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},t.exports=l},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(p,g,y){return y^p&(g^y)}function u(p,g,y){return p&g|y&(p|g)}function d(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function h(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function f(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}r(l,i),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(p){for(var g,y=this._w,v=0|this._a,S=0|this._b,k=0|this._c,M=0|this._d,z=0|this._e,F=0|this._f,j=0|this._g,B=0|this._h,U=0;U<16;++U)y[U]=p.readInt32BE(4*U);for(;U<64;++U)y[U]=0|(((g=y[U-2])>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)+y[U-7]+f(y[U-15])+y[U-16];for(var V=0;V<64;++V){var E=B+h(z)+c(z,F,j)+o[V]+y[V]|0,C=d(v)+u(v,S,k)|0;B=j,j=F,F=z,z=M+E|0,M=k,k=S,S=v,v=E+C|0}this._a=v+this._a|0,this._b=S+this._b|0,this._c=k+this._c|0,this._d=M+this._d|0,this._e=z+this._e|0,this._f=F+this._f|0,this._g=j+this._g|0,this._h=B+this._h|0},l.prototype._hash=function(){var p=s.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./sha512"),s=e("./hash"),o=e("safe-buffer").Buffer,a=new Array(160);function l(){this.init(),this._w=a,s.call(this,128,112)}r(l,i),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var c=o.allocUnsafe(48);function u(d,h,f){c.writeInt32BE(d,f),c.writeInt32BE(h,f+4)}return u(this._ah,this._al,0),u(this._bh,this._bl,8),u(this._ch,this._cl,16),u(this._dh,this._dl,24),u(this._eh,this._el,32),u(this._fh,this._fl,40),c},t.exports=l},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,i.call(this,128,112)}function c(S,k,M){return M^S&(k^M)}function u(S,k,M){return S&k|M&(S|k)}function d(S,k){return(S>>>28|k<<4)^(k>>>2|S<<30)^(k>>>7|S<<25)}function h(S,k){return(S>>>14|k<<18)^(S>>>18|k<<14)^(k>>>9|S<<23)}function f(S,k){return(S>>>1|k<<31)^(S>>>8|k<<24)^S>>>7}function p(S,k){return(S>>>1|k<<31)^(S>>>8|k<<24)^(S>>>7|k<<25)}function g(S,k){return(S>>>19|k<<13)^(k>>>29|S<<3)^S>>>6}function y(S,k){return(S>>>19|k<<13)^(k>>>29|S<<3)^(S>>>6|k<<26)}function v(S,k){return S>>>0<k>>>0?1:0}r(l,i),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(S){for(var k=this._w,M=0|this._ah,z=0|this._bh,F=0|this._ch,j=0|this._dh,B=0|this._eh,U=0|this._fh,V=0|this._gh,E=0|this._hh,C=0|this._al,R=0|this._bl,m=0|this._cl,b=0|this._dl,w=0|this._el,_=0|this._fl,x=0|this._gl,I=0|this._hl,O=0;O<32;O+=2)k[O]=S.readInt32BE(4*O),k[O+1]=S.readInt32BE(4*O+4);for(;O<160;O+=2){var $=k[O-30],P=k[O-30+1],G=f($,P),D=p(P,$),W=g($=k[O-4],P=k[O-4+1]),A=y(P,$),T=k[O-14],H=k[O-14+1],Z=k[O-32],Q=k[O-32+1],J=D+H|0,ne=G+T+v(J,D)|0;ne=(ne=ne+W+v(J=J+A|0,A)|0)+Z+v(J=J+Q|0,Q)|0,k[O]=ne,k[O+1]=J}for(var ge=0;ge<160;ge+=2){ne=k[ge],J=k[ge+1];var ye=u(M,z,F),K=u(C,R,m),ce=d(M,C),ue=d(C,M),ve=h(B,w),me=h(w,B),xe=o[ge],we=o[ge+1],De=c(B,U,V),Re=c(w,_,x),Fe=I+me|0,rt=E+ve+v(Fe,I)|0;rt=(rt=(rt=rt+De+v(Fe=Fe+Re|0,Re)|0)+xe+v(Fe=Fe+we|0,we)|0)+ne+v(Fe=Fe+J|0,J)|0;var je=ue+K|0,Ze=ce+ye+v(je,ue)|0;E=V,I=x,V=U,x=_,U=B,_=w,B=j+rt+v(w=b+Fe|0,b)|0,j=F,b=m,F=z,m=R,z=M,R=C,M=rt+Ze+v(C=Fe+je|0,Fe)|0}this._al=this._al+C|0,this._bl=this._bl+R|0,this._cl=this._cl+m|0,this._dl=this._dl+b|0,this._el=this._el+w|0,this._fl=this._fl+_|0,this._gl=this._gl+x|0,this._hl=this._hl+I|0,this._ah=this._ah+M+v(this._al,C)|0,this._bh=this._bh+z+v(this._bl,R)|0,this._ch=this._ch+F+v(this._cl,m)|0,this._dh=this._dh+j+v(this._dl,b)|0,this._eh=this._eh+B+v(this._el,w)|0,this._fh=this._fh+U+v(this._fl,_)|0,this._gh=this._gh+V+v(this._gl,x)|0,this._hh=this._hh+E+v(this._hl,I)|0},l.prototype._hash=function(){var S=s.allocUnsafe(64);function k(M,z,F){S.writeInt32BE(M,F),S.writeInt32BE(z,F+4)}return k(this._ah,this._al,0),k(this._bh,this._bl,8),k(this._ch,this._cl,16),k(this._dh,this._dl,24),k(this._eh,this._el,32),k(this._fh,this._fl,40),k(this._gh,this._gl,48),k(this._hh,this._hl,56),S},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,t,n){"use strict";t.exports=i;var r=e("events").EventEmitter;function i(){r.call(this)}e("inherits")(i,r),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(s,o){var a=this;function l(g){s.writable&&s.write(g)===!1&&a.pause&&a.pause()}function c(){a.readable&&a.resume&&a.resume()}a.on("data",l),s.on("drain",c),s._isStdio||o&&o.end===!1||(a.on("end",d),a.on("close",h));var u=!1;function d(){u||(u=!0,s.end())}function h(){u||(u=!0,typeof s.destroy=="function"&&s.destroy())}function f(g){if(p(),r.listenerCount(this,"error")===0)throw g}function p(){a.removeListener("data",l),s.removeListener("drain",c),a.removeListener("end",d),a.removeListener("close",h),a.removeListener("error",f),s.removeListener("error",f),a.removeListener("end",p),a.removeListener("close",p),s.removeListener("close",p)}return a.on("error",f),s.on("error",f),a.on("end",p),a.on("close",p),s.on("close",p),s.emit("pipe",a),s}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,t,n){"use strict";var r={}.toString;t.exports=Array.isArray||function(i){return r.call(i)=="[object Array]"}},{}],507:[function(e,t,n){"use strict";t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,t,n){"use strict";var r=e("process-nextick-args"),i=Object.keys||function(p){var g=[];for(var y in p)g.push(y);return g};t.exports=d;var s=Object.create(e("core-util-is"));s.inherits=e("inherits");var o=e("./_stream_readable"),a=e("./_stream_writable");s.inherits(d,o);for(var l=i(a.prototype),c=0;c<l.length;c++){var u=l[c];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(p){if(!(this instanceof d))return new d(p);o.call(this,p),a.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(p){p.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),d.prototype._destroy=function(p,g){this.push(null),this.end(),r.nextTick(g,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,t,n){"use strict";t.exports=s;var r=e("./_stream_transform"),i=Object.create(e("core-util-is"));function s(o){if(!(this instanceof s))return new s(o);r.call(this,o)}i.inherits=e("inherits"),i.inherits(s,r),s.prototype._transform=function(o,a,l){l(null,o)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,t,n){(function(r,i){(function(){"use strict";var s=e("process-nextick-args");t.exports=M;var o,a=e("isarray");M.ReadableState=k,e("events").EventEmitter;var l=function(I,O){return I.listeners(O).length},c=e("./internal/streams/stream"),u=e("safe-buffer").Buffer,d=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h=Object.create(e("core-util-is"));h.inherits=e("inherits");var f=e("util"),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var g,y=e("./internal/streams/BufferList"),v=e("./internal/streams/destroy");h.inherits(M,c);var S=["error","close","destroy","pause","resume"];function k(I,O){I=I||{};var $=O instanceof(o=o||e("./_stream_duplex"));this.objectMode=!!I.objectMode,$&&(this.objectMode=this.objectMode||!!I.readableObjectMode);var P=I.highWaterMark,G=I.readableHighWaterMark,D=this.objectMode?16:16384;this.highWaterMark=P||P===0?P:$&&(G||G===0)?G:D,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(I.encoding),this.encoding=I.encoding)}function M(I){if(o=o||e("./_stream_duplex"),!(this instanceof M))return new M(I);this._readableState=new k(I,this),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),c.call(this)}function z(I,O,$,P,G){var D,W=I._readableState;return O===null?(W.reading=!1,function(A,T){if(!T.ended){if(T.decoder){var H=T.decoder.end();H&&H.length&&(T.buffer.push(H),T.length+=T.objectMode?1:H.length)}T.ended=!0,B(A)}}(I,W)):(G||(D=function(A,T){var H;Z=T,u.isBuffer(Z)||Z instanceof d||typeof T=="string"||T===void 0||A.objectMode||(H=new TypeError("Invalid non-string/buffer chunk"));var Z;return H}(W,O)),D?I.emit("error",D):W.objectMode||O&&O.length>0?(typeof O=="string"||W.objectMode||Object.getPrototypeOf(O)===u.prototype||(O=function(A){return u.from(A)}(O)),P?W.endEmitted?I.emit("error",new Error("stream.unshift() after end event")):F(I,W,O,!0):W.ended?I.emit("error",new Error("stream.push() after EOF")):(W.reading=!1,W.decoder&&!$?(O=W.decoder.write(O),W.objectMode||O.length!==0?F(I,W,O,!1):V(I,W)):F(I,W,O,!1))):P||(W.reading=!1)),function(A){return!A.ended&&(A.needReadable||A.length<A.highWaterMark||A.length===0)}(W)}function F(I,O,$,P){O.flowing&&O.length===0&&!O.sync?(I.emit("data",$),I.read(0)):(O.length+=O.objectMode?1:$.length,P?O.buffer.unshift($):O.buffer.push($),O.needReadable&&B(I)),V(I,O)}Object.defineProperty(M.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),M.prototype.destroy=v.destroy,M.prototype._undestroy=v.undestroy,M.prototype._destroy=function(I,O){this.push(null),O(I)},M.prototype.push=function(I,O){var $,P=this._readableState;return P.objectMode?$=!0:typeof I=="string"&&((O=O||P.defaultEncoding)!==P.encoding&&(I=u.from(I,O),O=""),$=!0),z(this,I,O,!1,$)},M.prototype.unshift=function(I){return z(this,I,null,!0,!1)},M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(I){return g||(g=e("string_decoder/").StringDecoder),this._readableState.decoder=new g(I),this._readableState.encoding=I,this};function j(I,O){return I<=0||O.length===0&&O.ended?0:O.objectMode?1:I!=I?O.flowing&&O.length?O.buffer.head.data.length:O.length:(I>O.highWaterMark&&(O.highWaterMark=function($){return $>=8388608?$=8388608:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}(I)),I<=O.length?I:O.ended?O.length:(O.needReadable=!0,0))}function B(I){var O=I._readableState;O.needReadable=!1,O.emittedReadable||(p("emitReadable",O.flowing),O.emittedReadable=!0,O.sync?s.nextTick(U,I):U(I))}function U(I){p("emit readable"),I.emit("readable"),m(I)}function V(I,O){O.readingMore||(O.readingMore=!0,s.nextTick(E,I,O))}function E(I,O){for(var $=O.length;!O.reading&&!O.flowing&&!O.ended&&O.length<O.highWaterMark&&(p("maybeReadMore read 0"),I.read(0),$!==O.length);)$=O.length;O.readingMore=!1}function C(I){p("readable nexttick read 0"),I.read(0)}function R(I,O){O.reading||(p("resume read 0"),I.read(0)),O.resumeScheduled=!1,O.awaitDrain=0,I.emit("resume"),m(I),O.flowing&&!O.reading&&I.read(0)}function m(I){var O=I._readableState;for(p("flow",O.flowing);O.flowing&&I.read()!==null;);}function b(I,O){return O.length===0?null:(O.objectMode?$=O.buffer.shift():!I||I>=O.length?($=O.decoder?O.buffer.join(""):O.buffer.length===1?O.buffer.head.data:O.buffer.concat(O.length),O.buffer.clear()):$=function(P,G,D){var W;return P<G.head.data.length?(W=G.head.data.slice(0,P),G.head.data=G.head.data.slice(P)):W=P===G.head.data.length?G.shift():D?function(A,T){var H=T.head,Z=1,Q=H.data;for(A-=Q.length;H=H.next;){var J=H.data,ne=A>J.length?J.length:A;if(ne===J.length?Q+=J:Q+=J.slice(0,A),(A-=ne)===0){ne===J.length?(++Z,H.next?T.head=H.next:T.head=T.tail=null):(T.head=H,H.data=J.slice(ne));break}++Z}return T.length-=Z,Q}(P,G):function(A,T){var H=u.allocUnsafe(A),Z=T.head,Q=1;for(Z.data.copy(H),A-=Z.data.length;Z=Z.next;){var J=Z.data,ne=A>J.length?J.length:A;if(J.copy(H,H.length-A,0,ne),(A-=ne)===0){ne===J.length?(++Q,Z.next?T.head=Z.next:T.head=T.tail=null):(T.head=Z,Z.data=J.slice(ne));break}++Q}return T.length-=Q,H}(P,G),W}(I,O.buffer,O.decoder),$);var $}function w(I){var O=I._readableState;if(O.length>0)throw new Error('"endReadable()" called on non-empty stream');O.endEmitted||(O.ended=!0,s.nextTick(_,O,I))}function _(I,O){I.endEmitted||I.length!==0||(I.endEmitted=!0,O.readable=!1,O.emit("end"))}function x(I,O){for(var $=0,P=I.length;$<P;$++)if(I[$]===O)return $;return-1}M.prototype.read=function(I){p("read",I),I=parseInt(I,10);var O=this._readableState,$=I;if(I!==0&&(O.emittedReadable=!1),I===0&&O.needReadable&&(O.length>=O.highWaterMark||O.ended))return p("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?w(this):B(this),null;if((I=j(I,O))===0&&O.ended)return O.length===0&&w(this),null;var P,G=O.needReadable;return p("need readable",G),(O.length===0||O.length-I<O.highWaterMark)&&p("length less than watermark",G=!0),O.ended||O.reading?p("reading or ended",G=!1):G&&(p("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(I=j($,O))),(P=I>0?b(I,O):null)===null?(O.needReadable=!0,I=0):O.length-=I,O.length===0&&(O.ended||(O.needReadable=!0),$!==I&&O.ended&&w(this)),P!==null&&this.emit("data",P),P},M.prototype._read=function(I){this.emit("error",new Error("_read() is not implemented"))},M.prototype.pipe=function(I,O){var $=this,P=this._readableState;switch(P.pipesCount){case 0:P.pipes=I;break;case 1:P.pipes=[P.pipes,I];break;default:P.pipes.push(I)}P.pipesCount+=1,p("pipe count=%d opts=%j",P.pipesCount,O);var G=(!O||O.end!==!1)&&I!==r.stdout&&I!==r.stderr?W:ge;function D(ye,K){p("onunpipe"),ye===$&&K&&K.hasUnpiped===!1&&(K.hasUnpiped=!0,p("cleanup"),I.removeListener("close",J),I.removeListener("finish",ne),I.removeListener("drain",A),I.removeListener("error",Q),I.removeListener("unpipe",D),$.removeListener("end",W),$.removeListener("end",ge),$.removeListener("data",Z),T=!0,!P.awaitDrain||I._writableState&&!I._writableState.needDrain||A())}function W(){p("onend"),I.end()}P.endEmitted?s.nextTick(G):$.once("end",G),I.on("unpipe",D);var A=function(ye){return function(){var K=ye._readableState;p("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&l(ye,"data")&&(K.flowing=!0,m(ye))}}($);I.on("drain",A);var T=!1,H=!1;function Z(ye){p("ondata"),H=!1,I.write(ye)!==!1||H||((P.pipesCount===1&&P.pipes===I||P.pipesCount>1&&x(P.pipes,I)!==-1)&&!T&&(p("false write response, pause",P.awaitDrain),P.awaitDrain++,H=!0),$.pause())}function Q(ye){p("onerror",ye),ge(),I.removeListener("error",Q),l(I,"error")===0&&I.emit("error",ye)}function J(){I.removeListener("finish",ne),ge()}function ne(){p("onfinish"),I.removeListener("close",J),ge()}function ge(){p("unpipe"),$.unpipe(I)}return $.on("data",Z),function(ye,K,ce){if(typeof ye.prependListener=="function")return ye.prependListener(K,ce);ye._events&&ye._events[K]?a(ye._events[K])?ye._events[K].unshift(ce):ye._events[K]=[ce,ye._events[K]]:ye.on(K,ce)}(I,"error",Q),I.once("close",J),I.once("finish",ne),I.emit("pipe",$),P.flowing||(p("pipe resume"),$.resume()),I},M.prototype.unpipe=function(I){var O=this._readableState,$={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return I&&I!==O.pipes||(I||(I=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,I&&I.emit("unpipe",this,$)),this;if(!I){var P=O.pipes,G=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var D=0;D<G;D++)P[D].emit("unpipe",this,{hasUnpiped:!1});return this}var W=x(O.pipes,I);return W===-1||(O.pipes.splice(W,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),I.emit("unpipe",this,$)),this},M.prototype.on=function(I,O){var $=c.prototype.on.call(this,I,O);if(I==="data")this._readableState.flowing!==!1&&this.resume();else if(I==="readable"){var P=this._readableState;P.endEmitted||P.readableListening||(P.readableListening=P.needReadable=!0,P.emittedReadable=!1,P.reading?P.length&&B(this):s.nextTick(C,this))}return $},M.prototype.addListener=M.prototype.on,M.prototype.resume=function(){var I=this._readableState;return I.flowing||(p("resume"),I.flowing=!0,function(O,$){$.resumeScheduled||($.resumeScheduled=!0,s.nextTick(R,O,$))}(this,I)),this},M.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},M.prototype.wrap=function(I){var O=this,$=this._readableState,P=!1;for(var G in I.on("end",function(){if(p("wrapped end"),$.decoder&&!$.ended){var W=$.decoder.end();W&&W.length&&O.push(W)}O.push(null)}),I.on("data",function(W){p("wrapped data"),$.decoder&&(W=$.decoder.write(W)),$.objectMode&&W==null||($.objectMode||W&&W.length)&&(O.push(W)||(P=!0,I.pause()))}),I)this[G]===void 0&&typeof I[G]=="function"&&(this[G]=function(W){return function(){return I[W].apply(I,arguments)}}(G));for(var D=0;D<S.length;D++)I.on(S[D],this.emit.bind(this,S[D]));return this._read=function(W){p("wrapped _read",W),P&&(P=!1,I.resume())},this},Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),M._fromList=b}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,t,n){"use strict";t.exports=o;var r=e("./_stream_duplex"),i=Object.create(e("core-util-is"));function s(c,u){var d=this._transformState;d.transforming=!1;var h=d.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,u!=null&&this.push(u),h(c);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function o(c){if(!(this instanceof o))return new o(c);r.call(this,c),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",a)}function a(){var c=this;typeof this._flush=="function"?this._flush(function(u,d){l(c,u,d)}):l(this,null,null)}function l(c,u,d){if(u)return c.emit("error",u);if(d!=null&&c.push(d),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}i.inherits=e("inherits"),i.inherits(o,r),o.prototype.push=function(c,u){return this._transformState.needTransform=!1,r.prototype.push.call(this,c,u)},o.prototype._transform=function(c,u,d){throw new Error("_transform() is not implemented")},o.prototype._write=function(c,u,d){var h=this._transformState;if(h.writecb=d,h.writechunk=c,h.writeencoding=u,!h.transforming){var f=this._readableState;(h.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},o.prototype._read=function(c){var u=this._transformState;u.writechunk!==null&&u.writecb&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},o.prototype._destroy=function(c,u){var d=this;r.prototype._destroy.call(this,c,function(h){u(h),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,t,n){(function(r,i,s){(function(){"use strict";var o=e("process-nextick-args");function a(V){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(C,R,m){var b=C.entry;for(C.entry=null;b;){var w=b.callback;R.pendingcb--,w(m),b=b.next}R.corkedRequestsFree.next=C})(E,V)}}t.exports=k;var l,c=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?s:o.nextTick;k.WritableState=S;var u=Object.create(e("core-util-is"));u.inherits=e("inherits");var d={deprecate:e("util-deprecate")},h=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,p=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g,y=e("./internal/streams/destroy");function v(){}function S(V,E){l=l||e("./_stream_duplex"),V=V||{};var C=E instanceof l;this.objectMode=!!V.objectMode,C&&(this.objectMode=this.objectMode||!!V.writableObjectMode);var R=V.highWaterMark,m=V.writableHighWaterMark,b=this.objectMode?16:16384;this.highWaterMark=R||R===0?R:C&&(m||m===0)?m:b,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var w=V.decodeStrings===!1;this.decodeStrings=!w,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_){(function(x,I){var O=x._writableState,$=O.sync,P=O.writecb;if(function(D){D.writing=!1,D.writecb=null,D.length-=D.writelen,D.writelen=0}(O),I)(function(D,W,A,T,H){--W.pendingcb,A?(o.nextTick(H,T),o.nextTick(U,D,W),D._writableState.errorEmitted=!0,D.emit("error",T)):(H(T),D._writableState.errorEmitted=!0,D.emit("error",T),U(D,W))})(x,O,$,I,P);else{var G=j(O);G||O.corked||O.bufferProcessing||!O.bufferedRequest||F(x,O),$?c(z,x,O,G,P):z(x,O,G,P)}})(E,_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function k(V){if(l=l||e("./_stream_duplex"),!(g.call(k,this)||this instanceof l))return new k(V);this._writableState=new S(V,this),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),h.call(this)}function M(V,E,C,R,m,b,w){E.writelen=R,E.writecb=w,E.writing=!0,E.sync=!0,C?V._writev(m,E.onwrite):V._write(m,b,E.onwrite),E.sync=!1}function z(V,E,C,R){C||function(m,b){b.length===0&&b.needDrain&&(b.needDrain=!1,m.emit("drain"))}(V,E),E.pendingcb--,R(),U(V,E)}function F(V,E){E.bufferProcessing=!0;var C=E.bufferedRequest;if(V._writev&&C&&C.next){var R=E.bufferedRequestCount,m=new Array(R),b=E.corkedRequestsFree;b.entry=C;for(var w=0,_=!0;C;)m[w]=C,C.isBuf||(_=!1),C=C.next,w+=1;m.allBuffers=_,M(V,E,!0,E.length,m,"",b.finish),E.pendingcb++,E.lastBufferedRequest=null,b.next?(E.corkedRequestsFree=b.next,b.next=null):E.corkedRequestsFree=new a(E),E.bufferedRequestCount=0}else{for(;C;){var x=C.chunk,I=C.encoding,O=C.callback;if(M(V,E,!1,E.objectMode?1:x.length,x,I,O),C=C.next,E.bufferedRequestCount--,E.writing)break}C===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=C,E.bufferProcessing=!1}function j(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function B(V,E){V._final(function(C){E.pendingcb--,C&&V.emit("error",C),E.prefinished=!0,V.emit("prefinish"),U(V,E)})}function U(V,E){var C=j(E);return C&&(function(R,m){m.prefinished||m.finalCalled||(typeof R._final=="function"?(m.pendingcb++,m.finalCalled=!0,o.nextTick(B,R,m)):(m.prefinished=!0,R.emit("prefinish")))}(V,E),E.pendingcb===0&&(E.finished=!0,V.emit("finish"))),C}u.inherits(k,h),S.prototype.getBuffer=function(){for(var V=this.bufferedRequest,E=[];V;)E.push(V),V=V.next;return E},function(){try{Object.defineProperty(S.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(V){return!!g.call(this,V)||this===k&&V&&V._writableState instanceof S}})):g=function(V){return V instanceof this},k.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},k.prototype.write=function(V,E,C){var R,m=this._writableState,b=!1,w=!m.objectMode&&(R=V,f.isBuffer(R)||R instanceof p);return w&&!f.isBuffer(V)&&(V=function(_){return f.from(_)}(V)),typeof E=="function"&&(C=E,E=null),w?E="buffer":E||(E=m.defaultEncoding),typeof C!="function"&&(C=v),m.ended?function(_,x){var I=new Error("write after end");_.emit("error",I),o.nextTick(x,I)}(this,C):(w||function(_,x,I,O){var $=!0,P=!1;return I===null?P=new TypeError("May not write null values to stream"):typeof I=="string"||I===void 0||x.objectMode||(P=new TypeError("Invalid non-string/buffer chunk")),P&&(_.emit("error",P),o.nextTick(O,P),$=!1),$}(this,m,V,C))&&(m.pendingcb++,b=function(_,x,I,O,$,P){if(!I){var G=function(T,H,Z){return T.objectMode||T.decodeStrings===!1||typeof H!="string"||(H=f.from(H,Z)),H}(x,O,$);O!==G&&(I=!0,$="buffer",O=G)}var D=x.objectMode?1:O.length;x.length+=D;var W=x.length<x.highWaterMark;if(W||(x.needDrain=!0),x.writing||x.corked){var A=x.lastBufferedRequest;x.lastBufferedRequest={chunk:O,encoding:$,isBuf:I,callback:P,next:null},A?A.next=x.lastBufferedRequest:x.bufferedRequest=x.lastBufferedRequest,x.bufferedRequestCount+=1}else M(_,x,!1,D,O,$,P);return W}(this,m,w,V,E,C)),b},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,V.writing||V.corked||V.bufferProcessing||!V.bufferedRequest||F(this,V))},k.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(V,E,C){C(new Error("_write() is not implemented"))},k.prototype._writev=null,k.prototype.end=function(V,E,C){var R=this._writableState;typeof V=="function"?(C=V,V=null,E=null):typeof E=="function"&&(C=E,E=null),V!=null&&this.write(V,E),R.corked&&(R.corked=1,this.uncork()),R.ending||function(m,b,w){b.ending=!0,U(m,b),w&&(b.finished?o.nextTick(w):m.once("finish",w)),b.ended=!0,m.writable=!1}(this,R,C)},Object.defineProperty(k.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),k.prototype.destroy=y.destroy,k.prototype._undestroy=y.undestroy,k.prototype._destroy=function(V,E){this.end(),E(V)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("util");t.exports=function(){function s(){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(o){var a={data:o,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},s.prototype.unshift=function(o){var a={data:o,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},s.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(o){if(this.length===0)return"";for(var a=this.head,l=""+a.data;a=a.next;)l+=o+a.data;return l},s.prototype.concat=function(o){if(this.length===0)return r.alloc(0);for(var a,l,c,u=r.allocUnsafe(o>>>0),d=this.head,h=0;d;)a=d.data,l=u,c=h,a.copy(l,c),h+=d.data.length,d=d.next;return u},s}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var s=i.inspect({length:this.length});return this.constructor.name+" "+s})},{"safe-buffer":520,util:188}],514:[function(e,t,n){"use strict";var r=e("process-nextick-args");function i(s,o){s.emit("error",o)}t.exports={destroy:function(s,o){var a=this,l=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return l||c?(o?o(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(i,this,s)):r.nextTick(i,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(u){!o&&u?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,r.nextTick(i,a,u)):r.nextTick(i,a,u):o&&o(u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,t,n){arguments[4][490][0].apply(n,arguments)},{dup:490,events:422}],516:[function(e,t,n){"use strict";t.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,t,n){"use strict";(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,t,n){"use strict";t.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,t,n){"use strict";t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,t,n){arguments[4][217][0].apply(n,arguments)},{buffer:220,dup:217}],521:[function(e,t,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,t,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,t,n){(function(r,i){(function(){"use strict";var s=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,l={},c=0;function u(d,h){this._id=d,this._clearFn=h}n.setTimeout=function(){return new u(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(d){d.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(d,h){clearTimeout(d._idleTimeoutId),d._idleTimeout=h},n.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},n._unrefActive=n.active=function(d){clearTimeout(d._idleTimeoutId);var h=d._idleTimeout;h>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},h))},n.setImmediate=typeof r=="function"?r:function(d){var h=c++,f=!(arguments.length<2)&&a.call(arguments,1);return l[h]=!0,s(function(){l[h]&&(f?d.apply(null,f):d.call(null),n.clearImmediate(h))}),h},n.clearImmediate=typeof i=="function"?i:function(d){delete l[d]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,t,n){(function(r){(function(){"use strict";function i(s){try{if(!r.localStorage)return!1}catch{return!1}var o=r.localStorage[s];return o!=null&&String(o).toLowerCase()==="true"}t.exports=function(s,o){if(i("noDeprecation"))return s;var a=!1;return function(){if(!a){if(i("throwDeprecation"))throw new Error(o);i("traceDeprecation")?console.trace(o):console.warn(o),a=!0}return s.apply(this,arguments)}}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,t,n){"use strict";typeof Object.create=="function"?t.exports=function(r,i){r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,i){r.super_=i;var s=function(){};s.prototype=i.prototype,r.prototype=new s,r.prototype.constructor=r}},{}],526:[function(e,t,n){"use strict";t.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}},{}],527:[function(e,t,n){(function(r,i){(function(){"use strict";var s=/%[sdj%]/g;n.format=function(m){if(!S(m)){for(var b=[],w=0;w<arguments.length;w++)b.push(l(arguments[w]));return b.join(" ")}w=1;for(var _=arguments,x=_.length,I=String(m).replace(s,function($){if($==="%%")return"%";if(w>=x)return $;switch($){case"%s":return String(_[w++]);case"%d":return Number(_[w++]);case"%j":try{return JSON.stringify(_[w++])}catch{return"[Circular]"}default:return $}}),O=_[w];w<x;O=_[++w])y(O)||!z(O)?I+=" "+O:I+=" "+l(O);return I},n.deprecate=function(m,b){if(k(i.process))return function(){return n.deprecate(m,b).apply(this,arguments)};if(r.noDeprecation===!0)return m;var w=!1;return function(){if(!w){if(r.throwDeprecation)throw new Error(b);r.traceDeprecation?console.trace(b):console.error(b),w=!0}return m.apply(this,arguments)}};var o,a={};function l(m,b){var w={seen:[],stylize:u};return arguments.length>=3&&(w.depth=arguments[2]),arguments.length>=4&&(w.colors=arguments[3]),g(b)?w.showHidden=b:b&&n._extend(w,b),k(w.showHidden)&&(w.showHidden=!1),k(w.depth)&&(w.depth=2),k(w.colors)&&(w.colors=!1),k(w.customInspect)&&(w.customInspect=!0),w.colors&&(w.stylize=c),d(w,m,w.depth)}function c(m,b){var w=l.styles[b];return w?"\x1B["+l.colors[w][0]+"m"+m+"\x1B["+l.colors[w][1]+"m":m}function u(m,b){return m}function d(m,b,w){if(m.customInspect&&b&&B(b.inspect)&&b.inspect!==n.inspect&&(!b.constructor||b.constructor.prototype!==b)){var _=b.inspect(w,m);return S(_)||(_=d(m,_,w)),_}var x=function(A,T){if(k(T))return A.stylize("undefined","undefined");if(S(T)){var H="'"+JSON.stringify(T).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return A.stylize(H,"string")}if(v(T))return A.stylize(""+T,"number");if(g(T))return A.stylize(""+T,"boolean");if(y(T))return A.stylize("null","null")}(m,b);if(x)return x;var I=Object.keys(b),O=function(A){var T={};return A.forEach(function(H,Z){T[H]=!0}),T}(I);if(m.showHidden&&(I=Object.getOwnPropertyNames(b)),j(b)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return h(b);if(I.length===0){if(B(b)){var $=b.name?": "+b.name:"";return m.stylize("[Function"+$+"]","special")}if(M(b))return m.stylize(RegExp.prototype.toString.call(b),"regexp");if(F(b))return m.stylize(Date.prototype.toString.call(b),"date");if(j(b))return h(b)}var P,G="",D=!1,W=["{","}"];return p(b)&&(D=!0,W=["[","]"]),B(b)&&(G=" [Function"+(b.name?": "+b.name:"")+"]"),M(b)&&(G=" "+RegExp.prototype.toString.call(b)),F(b)&&(G=" "+Date.prototype.toUTCString.call(b)),j(b)&&(G=" "+h(b)),I.length!==0||D&&b.length!=0?w<0?M(b)?m.stylize(RegExp.prototype.toString.call(b),"regexp"):m.stylize("[Object]","special"):(m.seen.push(b),P=D?function(A,T,H,Z,Q){for(var J=[],ne=0,ge=T.length;ne<ge;++ne)R(T,String(ne))?J.push(f(A,T,H,Z,String(ne),!0)):J.push("");return Q.forEach(function(ye){ye.match(/^\d+$/)||J.push(f(A,T,H,Z,ye,!0))}),J}(m,b,w,O,I):I.map(function(A){return f(m,b,w,O,A,D)}),m.seen.pop(),function(A,T,H){return A.reduce(function(Z,Q){return Q.indexOf(`
`)>=0,Z+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?H[0]+(T===""?"":T+`
 `)+" "+A.join(`,
  `)+" "+H[1]:H[0]+T+" "+A.join(", ")+" "+H[1]}(P,G,W)):W[0]+G+W[1]}function h(m){return"["+Error.prototype.toString.call(m)+"]"}function f(m,b,w,_,x,I){var O,$,P;if((P=Object.getOwnPropertyDescriptor(b,x)||{value:b[x]}).get?$=P.set?m.stylize("[Getter/Setter]","special"):m.stylize("[Getter]","special"):P.set&&($=m.stylize("[Setter]","special")),R(_,x)||(O="["+x+"]"),$||(m.seen.indexOf(P.value)<0?($=y(w)?d(m,P.value,null):d(m,P.value,w-1)).indexOf(`
`)>-1&&($=I?$.split(`
`).map(function(G){return"  "+G}).join(`
`).substr(2):`
`+$.split(`
`).map(function(G){return"   "+G}).join(`
`)):$=m.stylize("[Circular]","special")),k(O)){if(I&&x.match(/^\d+$/))return $;(O=JSON.stringify(""+x)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.substr(1,O.length-2),O=m.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=m.stylize(O,"string"))}return O+": "+$}function p(m){return Array.isArray(m)}function g(m){return typeof m=="boolean"}function y(m){return m===null}function v(m){return typeof m=="number"}function S(m){return typeof m=="string"}function k(m){return m===void 0}function M(m){return z(m)&&U(m)==="[object RegExp]"}function z(m){return typeof m=="object"&&m!==null}function F(m){return z(m)&&U(m)==="[object Date]"}function j(m){return z(m)&&(U(m)==="[object Error]"||m instanceof Error)}function B(m){return typeof m=="function"}function U(m){return Object.prototype.toString.call(m)}function V(m){return m<10?"0"+m.toString(10):m.toString(10)}n.debuglog=function(m){if(k(o)&&(o=r.env.NODE_DEBUG||""),m=m.toUpperCase(),!a[m])if(new RegExp("\\b"+m+"\\b","i").test(o)){var b=r.pid;a[m]=function(){var w=n.format.apply(n,arguments);console.error("%s %d: %s",m,b,w)}}else a[m]=function(){};return a[m]},n.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=g,n.isNull=y,n.isNullOrUndefined=function(m){return m==null},n.isNumber=v,n.isString=S,n.isSymbol=function(m){return typeof m=="symbol"},n.isUndefined=k,n.isRegExp=M,n.isObject=z,n.isDate=F,n.isError=j,n.isFunction=B,n.isPrimitive=function(m){return m===null||typeof m=="boolean"||typeof m=="number"||typeof m=="string"||typeof m=="symbol"||m===void 0},n.isBuffer=e("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var m=new Date,b=[V(m.getHours()),V(m.getMinutes()),V(m.getSeconds())].join(":");return[m.getDate(),E[m.getMonth()],b].join(" ")}function R(m,b){return Object.prototype.hasOwnProperty.call(m,b)}n.log=function(){console.log("%s - %s",C(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(m,b){if(!b||!z(b))return m;for(var w=Object.keys(b),_=w.length;_--;)m[w[_]]=b[w[_]];return m}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return d.default}});var r=h(e("./v1.js")),i=h(e("./v3.js")),s=h(e("./v4.js")),o=h(e("./v5.js")),a=h(e("./nil.js")),l=h(e("./version.js")),c=h(e("./validate.js")),u=h(e("./stringify.js")),d=h(e("./parse.js"));function h(f){return f&&f.__esModule?f:{default:f}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,t,n){"use strict";function r(d){return 14+(d+64>>>9<<4)+1}function i(d,h){let f=(65535&d)+(65535&h);return(d>>16)+(h>>16)+(f>>16)<<16|65535&f}function s(d,h,f,p,g,y){return i((v=i(i(h,d),i(p,y)))<<(S=g)|v>>>32-S,f);var v,S}function o(d,h,f,p,g,y,v){return s(h&f|~h&p,d,h,g,y,v)}function a(d,h,f,p,g,y,v){return s(h&p|f&~p,d,h,g,y,v)}function l(d,h,f,p,g,y,v){return s(h^f^p,d,h,g,y,v)}function c(d,h,f,p,g,y,v){return s(f^(h|~p),d,h,g,y,v)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=function(d){if(typeof d=="string"){let h=unescape(encodeURIComponent(d));d=new Uint8Array(h.length);for(let f=0;f<h.length;++f)d[f]=h.charCodeAt(f)}return function(h){let f=[],p=32*h.length;for(let g=0;g<p;g+=8){let y=h[g>>5]>>>g%32&255,v=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);f.push(v)}return f}(function(h,f){h[f>>5]|=128<<f%32,h[r(f)-1]=f;let p=1732584193,g=-271733879,y=-1732584194,v=271733878;for(let S=0;S<h.length;S+=16){let k=p,M=g,z=y,F=v;p=o(p,g,y,v,h[S],7,-680876936),v=o(v,p,g,y,h[S+1],12,-389564586),y=o(y,v,p,g,h[S+2],17,606105819),g=o(g,y,v,p,h[S+3],22,-1044525330),p=o(p,g,y,v,h[S+4],7,-176418897),v=o(v,p,g,y,h[S+5],12,1200080426),y=o(y,v,p,g,h[S+6],17,-1473231341),g=o(g,y,v,p,h[S+7],22,-45705983),p=o(p,g,y,v,h[S+8],7,1770035416),v=o(v,p,g,y,h[S+9],12,-1958414417),y=o(y,v,p,g,h[S+10],17,-42063),g=o(g,y,v,p,h[S+11],22,-1990404162),p=o(p,g,y,v,h[S+12],7,1804603682),v=o(v,p,g,y,h[S+13],12,-40341101),y=o(y,v,p,g,h[S+14],17,-1502002290),g=o(g,y,v,p,h[S+15],22,1236535329),p=a(p,g,y,v,h[S+1],5,-165796510),v=a(v,p,g,y,h[S+6],9,-1069501632),y=a(y,v,p,g,h[S+11],14,643717713),g=a(g,y,v,p,h[S],20,-373897302),p=a(p,g,y,v,h[S+5],5,-701558691),v=a(v,p,g,y,h[S+10],9,38016083),y=a(y,v,p,g,h[S+15],14,-660478335),g=a(g,y,v,p,h[S+4],20,-405537848),p=a(p,g,y,v,h[S+9],5,568446438),v=a(v,p,g,y,h[S+14],9,-1019803690),y=a(y,v,p,g,h[S+3],14,-187363961),g=a(g,y,v,p,h[S+8],20,1163531501),p=a(p,g,y,v,h[S+13],5,-1444681467),v=a(v,p,g,y,h[S+2],9,-51403784),y=a(y,v,p,g,h[S+7],14,1735328473),g=a(g,y,v,p,h[S+12],20,-1926607734),p=l(p,g,y,v,h[S+5],4,-378558),v=l(v,p,g,y,h[S+8],11,-2022574463),y=l(y,v,p,g,h[S+11],16,1839030562),g=l(g,y,v,p,h[S+14],23,-35309556),p=l(p,g,y,v,h[S+1],4,-1530992060),v=l(v,p,g,y,h[S+4],11,1272893353),y=l(y,v,p,g,h[S+7],16,-155497632),g=l(g,y,v,p,h[S+10],23,-1094730640),p=l(p,g,y,v,h[S+13],4,681279174),v=l(v,p,g,y,h[S],11,-358537222),y=l(y,v,p,g,h[S+3],16,-722521979),g=l(g,y,v,p,h[S+6],23,76029189),p=l(p,g,y,v,h[S+9],4,-640364487),v=l(v,p,g,y,h[S+12],11,-421815835),y=l(y,v,p,g,h[S+15],16,530742520),g=l(g,y,v,p,h[S+2],23,-995338651),p=c(p,g,y,v,h[S],6,-198630844),v=c(v,p,g,y,h[S+7],10,1126891415),y=c(y,v,p,g,h[S+14],15,-1416354905),g=c(g,y,v,p,h[S+5],21,-57434055),p=c(p,g,y,v,h[S+12],6,1700485571),v=c(v,p,g,y,h[S+3],10,-1894986606),y=c(y,v,p,g,h[S+10],15,-1051523),g=c(g,y,v,p,h[S+1],21,-2054922799),p=c(p,g,y,v,h[S+8],6,1873313359),v=c(v,p,g,y,h[S+15],10,-30611744),y=c(y,v,p,g,h[S+6],15,-1560198380),g=c(g,y,v,p,h[S+13],21,1309151649),p=c(p,g,y,v,h[S+4],6,-145523070),v=c(v,p,g,y,h[S+11],10,-1120210379),y=c(y,v,p,g,h[S+2],15,718787259),g=c(g,y,v,p,h[S+9],21,-343485551),p=i(p,k),g=i(g,M),y=i(y,z),v=i(v,F)}return[p,g,y,v]}(function(h){if(h.length===0)return[];let f=8*h.length,p=new Uint32Array(r(f));for(let g=0;g<f;g+=8)p[g>>5]|=(255&h[g/8])<<g%32;return p}(d),8*d.length))};n.default=u},{}],530:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r},s=function(o){if(!(0,i.default)(o))throw TypeError("Invalid UUID");let a,l=new Uint8Array(16);return l[0]=(a=parseInt(o.slice(0,8),16))>>>24,l[1]=a>>>16&255,l[2]=a>>>8&255,l[3]=255&a,l[4]=(a=parseInt(o.slice(9,13),16))>>>8,l[5]=255&a,l[6]=(a=parseInt(o.slice(14,18),16))>>>8,l[7]=255&a,l[8]=(a=parseInt(o.slice(19,23),16))>>>8,l[9]=255&a,l[10]=(a=parseInt(o.slice(24,36),16))/1099511627776&255,l[11]=a/4294967296&255,l[12]=a>>>24&255,l[13]=a>>>16&255,l[14]=a>>>8&255,l[15]=255&a,l};n.default=s},{"./validate.js":541}],532:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,t,n){"use strict";let r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!r&&(r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)};let i=new Uint8Array(16)},{}],534:[function(e,t,n){"use strict";function r(o,a,l,c){switch(o){case 0:return a&l^~a&c;case 1:return a^l^c;case 2:return a&l^a&c^l&c;case 3:return a^l^c}}function i(o,a){return o<<a|o>>>32-a}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(o){let a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof o=="string"){let h=unescape(encodeURIComponent(o));o=[];for(let f=0;f<h.length;++f)o.push(h.charCodeAt(f))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);let c=o.length/4+2,u=Math.ceil(c/16),d=new Array(u);for(let h=0;h<u;++h){let f=new Uint32Array(16);for(let p=0;p<16;++p)f[p]=o[64*h+4*p]<<24|o[64*h+4*p+1]<<16|o[64*h+4*p+2]<<8|o[64*h+4*p+3];d[h]=f}d[u-1][14]=8*(o.length-1)/Math.pow(2,32),d[u-1][14]=Math.floor(d[u-1][14]),d[u-1][15]=8*(o.length-1)&4294967295;for(let h=0;h<u;++h){let f=new Uint32Array(80);for(let k=0;k<16;++k)f[k]=d[h][k];for(let k=16;k<80;++k)f[k]=i(f[k-3]^f[k-8]^f[k-14]^f[k-16],1);let p=l[0],g=l[1],y=l[2],v=l[3],S=l[4];for(let k=0;k<80;++k){let M=Math.floor(k/20),z=i(p,5)+r(M,g,y,v)+S+a[M]+f[k]>>>0;S=v,v=y,y=i(g,30)>>>0,g=p,p=z}l[0]=l[0]+p>>>0,l[1]=l[1]+g>>>0,l[2]=l[2]+y>>>0,l[3]=l[3]+v>>>0,l[4]=l[4]+S>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,255&l[0],l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,255&l[1],l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,255&l[2],l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,255&l[3],l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,255&l[4]]};n.default=s},{}],535:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};let s=[];for(let a=0;a<256;++a)s.push((a+256).toString(16).substr(1));var o=function(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=(s[a[l+0]]+s[a[l+1]]+s[a[l+2]]+s[a[l+3]]+"-"+s[a[l+4]]+s[a[l+5]]+"-"+s[a[l+6]]+s[a[l+7]]+"-"+s[a[l+8]]+s[a[l+9]]+"-"+s[a[l+10]]+s[a[l+11]]+s[a[l+12]]+s[a[l+13]]+s[a[l+14]]+s[a[l+15]]).toLowerCase();if(!(0,i.default)(c))throw TypeError("Stringified UUID is invalid");return c};n.default=o},{"./validate.js":541}],536:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./rng.js")),i=s(e("./stringify.js"));function s(d){return d&&d.__esModule?d:{default:d}}let o,a,l=0,c=0;var u=function(d,h,f){let p=h&&f||0,g=h||new Array(16),y=(d=d||{}).node||o,v=d.clockseq!==void 0?d.clockseq:a;if(y==null||v==null){let j=d.random||(d.rng||r.default)();y==null&&(y=o=[1|j[0],j[1],j[2],j[3],j[4],j[5]]),v==null&&(v=a=16383&(j[6]<<8|j[7]))}let S=d.msecs!==void 0?d.msecs:Date.now(),k=d.nsecs!==void 0?d.nsecs:c+1,M=S-l+(k-c)/1e4;if(M<0&&d.clockseq===void 0&&(v=v+1&16383),(M<0||S>l)&&d.nsecs===void 0&&(k=0),k>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=S,c=k,a=v,S+=122192928e5;let z=(1e4*(268435455&S)+k)%4294967296;g[p++]=z>>>24&255,g[p++]=z>>>16&255,g[p++]=z>>>8&255,g[p++]=255&z;let F=S/4294967296*1e4&268435455;g[p++]=F>>>8&255,g[p++]=255&F,g[p++]=F>>>24&15|16,g[p++]=F>>>16&255,g[p++]=v>>>8|128,g[p++]=255&v;for(let j=0;j<6;++j)g[p+j]=y[j];return h||(0,i.default)(g)};n.default=u},{"./rng.js":533,"./stringify.js":535}],537:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./v35.js")),i=s(e("./md5.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v3",48,i.default);n.default=o},{"./md5.js":529,"./v35.js":538}],538:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(l,c,u){function d(h,f,p,g){if(typeof h=="string"&&(h=function(v){v=unescape(encodeURIComponent(v));let S=[];for(let k=0;k<v.length;++k)S.push(v.charCodeAt(k));return S}(h)),typeof f=="string"&&(f=(0,i.default)(f)),f.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+h.length);if(y.set(f),y.set(h,f.length),y=u(y),y[6]=15&y[6]|c,y[8]=63&y[8]|128,p){g=g||0;for(let v=0;v<16;++v)p[g+v]=y[v];return p}return(0,r.default)(y)}try{d.name=l}catch{}return d.DNS=o,d.URL=a,d},n.URL=n.DNS=void 0;var r=s(e("./stringify.js")),i=s(e("./parse.js"));function s(l){return l&&l.__esModule?l:{default:l}}let o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=o;let a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./rng.js")),i=s(e("./stringify.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=function(a,l,c){let u=(a=a||{}).random||(a.rng||r.default)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,l){c=c||0;for(let d=0;d<16;++d)l[c+d]=u[d];return l}return(0,i.default)(u)};n.default=o},{"./rng.js":533,"./stringify.js":535}],540:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./v35.js")),i=s(e("./sha1.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v5",80,i.default);n.default=o},{"./sha1.js":534,"./v35.js":538}],541:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./regex.js"))&&r.__esModule?r:{default:r},s=function(o){return typeof o=="string"&&i.default.test(o)};n.default=s},{"./regex.js":532}],542:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r},s=function(o){if(!(0,i.default)(o))throw TypeError("Invalid UUID");return parseInt(o.substr(14,1),16)};n.default=s},{"./validate.js":541}],543:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`,n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function r(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(i){return i>=32&&i<=55295||i===10||i===13||i===9||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isS=function(i){return i===32||i===10||i===13||i===9},n.isNameStartChar=r,n.isNameChar=function(i){return r(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],544:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}",n.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F",n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function r(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(i){return i>=1&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isRestrictedChar=function(i){return i>=1&&i<=8||i===11||i===12||i>=14&&i<=31||i>=127&&i<=132||i>=134&&i<=159},n.isCharAndNotRestricted=function(i){return i===9||i===10||i===13||i>31&&i<127||i===133||i>159&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isS=function(i){return i===32||i===10||i===13||i===9},n.isNameStartChar=r,n.isNameChar=function(i){return r(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],545:[function(e,t,n){"use strict";function r(i){return i>=65&&i<=90||i===95||i>=97&&i<=122||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8204&&i<=8205||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=r,n.isNCNameChar=function(i){return r(i)||i===45||i===46||i>=48&&i<=57||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}]},{},[15])(15)})});function Hy(e,t){return Object.is(e,t)}var Xr=null,lm=!1,$y=1,ks=Symbol("SIGNAL");function gn(e){let t=Xr;return Xr=e,t}function qy(){return Xr}var bu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pf(e){if(lm)throw new Error("");if(Xr===null)return;Xr.consumerOnSignalRead(e);let t=Xr.nextProducerIndex++;if(hm(Xr),t<Xr.producerNode.length&&Xr.producerNode[t]!==e&&hf(Xr)){let n=Xr.producerNode[t];fm(n,Xr.producerIndexOfThis[t])}Xr.producerNode[t]!==e&&(Xr.producerNode[t]=e,Xr.producerIndexOfThis[t]=hf(Xr)?aE(e,Xr,t):0),Xr.producerLastReadVersion[t]=e.version}function oE(){$y++}function Wy(e){if(!(hf(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===$y)){if(!e.producerMustRecompute(e)&&!dm(e)){zy(e);return}e.producerRecomputeValue(e),zy(e)}}function Gy(e){if(e.liveConsumerNode===void 0)return;let t=lm;lm=!0;try{for(let n of e.liveConsumerNode)n.dirty||p7(n)}finally{lm=t}}function Ky(){return Xr?.consumerAllowSignalWrites!==!1}function p7(e){e.dirty=!0,Gy(e),e.consumerMarkedDirty?.(e)}function zy(e){e.dirty=!1,e.lastCleanEpoch=$y}function mf(e){return e&&(e.nextProducerIndex=0),gn(e)}function um(e,t){if(gn(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(hf(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)fm(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function dm(e){hm(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Wy(n),r!==n.version))return!0}return!1}function gf(e){if(hm(e),hf(e))for(let t=0;t<e.producerNode.length;t++)fm(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function aE(e,t,n){if(lE(e),e.liveConsumerNode.length===0&&cE(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=aE(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function fm(e,t){if(lE(e),e.liveConsumerNode.length===1&&cE(e))for(let r=0;r<e.producerNode.length;r++)fm(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];hm(i),i.producerIndexOfThis[r]=t}}function hf(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function hm(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function lE(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function cE(e){return e.producerNode!==void 0}function Yy(e,t){let n=Object.create(m7);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Wy(n),pf(n),n.value===cm)throw n.error;return n.value};return r[ks]=n,r}var Vy=Symbol("UNSET"),Uy=Symbol("COMPUTING"),cm=Symbol("ERRORED"),m7=Zt(at({},bu),{value:Vy,dirty:!0,error:null,equal:Hy,kind:"computed",producerMustRecompute(e){return e.value===Vy||e.value===Uy},producerRecomputeValue(e){if(e.value===Uy)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Uy;let n=mf(e),r,i=!1;try{r=e.computation(),gn(null),i=t!==Vy&&t!==cm&&r!==cm&&e.equal(t,r)}catch(s){r=cm,e.error=s}finally{um(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function g7(){throw new Error}var uE=g7;function dE(e){uE(e)}function Zy(e){uE=e}var y7=null;function Xy(e,t){let n=Object.create(pm);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(pf(n),n.value);return r[ks]=n,r}function yf(e,t){Ky()||dE(e),e.equal(e.value,t)||(e.value=t,b7(e))}function Jy(e,t){Ky()||dE(e),yf(e,t(e.value))}var pm=Zt(at({},bu),{equal:Hy,value:void 0,kind:"signal"});function b7(e){e.version++,oE(),Gy(e),y7?.()}function Qy(e){let t=gn(null);try{return e()}finally{gn(t)}}var eb;function bf(){return eb}function ma(e){let t=eb;return eb=e,t}var mm=Symbol("NotFound");function kn(e){return typeof e=="function"}function gm(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ym=gm(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vf(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Fi=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(kn(r))try{r()}catch(s){t=s instanceof ym?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{fE(s)}catch(o){t=t??[],o instanceof ym?t=[...t,...o.errors]:t.push(o)}}if(t)throw new ym(t)}}add(t){var n;if(t&&t!==this)if(this.closed)fE(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&vf(n,t)}remove(t){let{_finalizers:n}=this;n&&vf(n,t),t instanceof e&&t._removeParent(this)}};Fi.EMPTY=(()=>{let e=new Fi;return e.closed=!0,e})();var tb=Fi.EMPTY;function bm(e){return e instanceof Fi||e&&"closed"in e&&kn(e.remove)&&kn(e.add)&&kn(e.unsubscribe)}function fE(e){kn(e)?e():e.unsubscribe()}var Zs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vu={setTimeout(e,t,...n){let{delegate:r}=vu;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=vu;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function vm(e){vu.setTimeout(()=>{let{onUnhandledError:t}=Zs;if(t)t(e);else throw e})}function nb(){}var hE=rb("C",void 0,void 0);function pE(e){return rb("E",void 0,e)}function mE(e){return rb("N",e,void 0)}function rb(e,t,n){return{kind:e,value:t,error:n}}var dc=null;function _u(e){if(Zs.useDeprecatedSynchronousErrorHandling){let t=!dc;if(t&&(dc={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=dc;if(dc=null,n)throw r}}else e()}function gE(e){Zs.useDeprecatedSynchronousErrorHandling&&dc&&(dc.errorThrown=!0,dc.error=e)}var fc=class extends Fi{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,bm(t)&&t.add(this)):this.destination=S7}static create(t,n,r){return new wu(t,n,r)}next(t){this.isStopped?sb(mE(t),this):this._next(t)}error(t){this.isStopped?sb(pE(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?sb(hE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},x7=Function.prototype.bind;function ib(e,t){return x7.call(e,t)}var ob=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){_m(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){_m(r)}else _m(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){_m(n)}}},wu=class extends fc{constructor(t,n,r){super();let i;if(kn(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Zs.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ib(t.next,s),error:t.error&&ib(t.error,s),complete:t.complete&&ib(t.complete,s)}):i=t}this.destination=new ob(i)}};function _m(e){Zs.useDeprecatedSynchronousErrorHandling?gE(e):vm(e)}function E7(e){throw e}function sb(e,t){let{onStoppedNotification:n}=Zs;n&&vu.setTimeout(()=>n(e,t))}var S7={closed:!0,next:nb,error:E7,complete:nb};var xu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yE(e){return e}function bE(e){return e.length===0?yE:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Or=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=I7(n)?n:new wu(n,r,i);return _u(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=vE(r),new r((i,s)=>{let o=new wu({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[xu](){return this}pipe(...n){return bE(n)(this)}toPromise(n){return n=vE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function vE(e){var t;return(t=e??Zs.Promise)!==null&&t!==void 0?t:Promise}function C7(e){return e&&kn(e.next)&&kn(e.error)&&kn(e.complete)}function I7(e){return e&&e instanceof fc||C7(e)&&bm(e)}function T7(e){return kn(e?.lift)}function Yi(e){return t=>{if(T7(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Zi(e,t,n,r,i){return new ab(e,t,n,r,i)}var ab=class extends fc{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var _E=gm(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ga=(()=>{class e extends Or{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new wm(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _E}next(n){_u(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){_u(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_u(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?tb:(this.currentObservers=null,s.push(n),new Fi(()=>{this.currentObservers=null,vf(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Or;return n.source=this,n}}return e.create=(t,n)=>new wm(t,n),e})(),wm=class extends ga{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:tb}};var _f=class extends ga{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};function wE(e){return e&&kn(e.schedule)}function xE(e){return e[e.length-1]}function EE(e){return kn(xE(e))?e.pop():void 0}function SE(e){return wE(xE(e))?e.pop():void 0}function IE(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function CE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function hc(e){return this instanceof hc?(this.v=e,this):new hc(e)}function TE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(g){return new Promise(function(y,v){s.push([f,g,y,v])>1||l(f,g)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(r[f](p))}catch(g){h(s[0][3],g)}}function c(f){f.value instanceof hc?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function AE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof CE=="function"?CE(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var xm=e=>e&&typeof e.length=="number"&&typeof e!="function";function Em(e){return kn(e?.then)}function Sm(e){return kn(e[xu])}function Cm(e){return Symbol.asyncIterator&&kn(e?.[Symbol.asyncIterator])}function Im(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function A7(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tm=A7();function Am(e){return kn(e?.[Tm])}function km(e){return TE(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield hc(n.read());if(i)return yield hc(void 0);yield yield hc(r)}}finally{n.releaseLock()}})}function Dm(e){return kn(e?.getReader)}function Xi(e){if(e instanceof Or)return e;if(e!=null){if(Sm(e))return k7(e);if(xm(e))return D7(e);if(Em(e))return N7(e);if(Cm(e))return kE(e);if(Am(e))return M7(e);if(Dm(e))return R7(e)}throw Im(e)}function k7(e){return new Or(t=>{let n=e[xu]();if(kn(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function D7(e){return new Or(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function N7(e){return new Or(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,vm)})}function M7(e){return new Or(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function kE(e){return new Or(t=>{O7(e,t).catch(n=>t.error(n))})}function R7(e){return kE(km(e))}function O7(e,t){var n,r,i,s;return IE(this,void 0,void 0,function*(){try{for(n=AE(e);r=yield n.next(),!r.done;){let o=r.value;if(t.next(o),t.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ds(e,t,n,r=0,i=!1){let s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Nm(e,t=0){return Yi((n,r)=>{n.subscribe(Zi(r,i=>Ds(r,e,()=>r.next(i),t),()=>Ds(r,e,()=>r.complete(),t),i=>Ds(r,e,()=>r.error(i),t)))})}function Mm(e,t=0){return Yi((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function DE(e,t){return Xi(e).pipe(Mm(t),Nm(t))}function NE(e,t){return Xi(e).pipe(Mm(t),Nm(t))}function ME(e,t){return new Or(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function RE(e,t){return new Or(n=>{let r;return Ds(n,t,()=>{r=e[Tm](),Ds(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>kn(r?.return)&&r.return()})}function Rm(e,t){if(!e)throw new Error("Iterable cannot be null");return new Or(n=>{Ds(n,t,()=>{let r=e[Symbol.asyncIterator]();Ds(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function OE(e,t){return Rm(km(e),t)}function PE(e,t){if(e!=null){if(Sm(e))return DE(e,t);if(xm(e))return ME(e,t);if(Em(e))return NE(e,t);if(Cm(e))return Rm(e,t);if(Am(e))return RE(e,t);if(Dm(e))return OE(e,t)}throw Im(e)}function pc(e,t){return t?PE(e,t):Xi(e)}function Om(...e){let t=SE(e);return pc(e,t)}function Ji(e,t){return Yi((n,r)=>{let i=0;n.subscribe(Zi(r,s=>{r.next(e.call(t,s,i++))}))})}var{isArray:P7}=Array;function L7(e,t){return P7(t)?e(...t):e(t)}function LE(e){return Ji(t=>L7(e,t))}var{isArray:F7}=Array,{getPrototypeOf:j7,prototype:B7,keys:V7}=Object;function FE(e){if(e.length===1){let t=e[0];if(F7(t))return{args:t,keys:null};if(U7(t)){let n=V7(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function U7(e){return e&&typeof e=="object"&&j7(e)===B7}function jE(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function BE(e,t,n,r,i,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{s&&t.next(g),c++;let y=!1;Xi(n(g,u++)).subscribe(Zi(t,v=>{i?.(v),s?f(v):t.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){let v=l.shift();o?Ds(t,o,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return e.subscribe(Zi(t,f,()=>{d=!0,h()})),()=>{a?.()}}function Pm(e,t,n=1/0){return kn(t)?Pm((r,i)=>Ji((s,o)=>t(r,s,i,o))(Xi(e(r,i))),n):(typeof t=="number"&&(n=t),Yi((r,i)=>BE(r,i,e,n)))}function lb(...e){let t=EE(e),{args:n,keys:r}=FE(e),i=new Or(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;Xi(n[u]).subscribe(Zi(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?jE(r,a):a),s.complete())}))}});return t?i.pipe(LE(t)):i}function cb(e,t){return Yi((n,r)=>{let i=0;n.subscribe(Zi(r,s=>e.call(t,s,i++)&&r.next(s)))})}function ub(e,t){return kn(t)?Pm(e,t,1):Pm(e,1)}function db(e){return Yi((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function fb(e,t){return Yi((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Zi(r,l=>{i?.unsubscribe();let c=0,u=s++;Xi(e(l,u)).subscribe(i=Zi(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}var I4="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",lt=class extends Error{code;constructor(t,n){super(T4(t,n)),this.code=t}};function z7(e){return`NG0${Math.abs(e)}`}function T4(e,t){return`${z7(e)}${t?": "+t:""}`}var A4=Symbol("InputSignalNode#UNSET"),H7=Zt(at({},pm),{transformFn:void 0,applyValueToInputSignal(e,t){yf(e,t)}});function k4(e,t){let n=Object.create(H7);n.value=e,n.transformFn=t?.transform;function r(){if(pf(n),n.value===A4){let i=null;throw new lt(-950,i)}return n.value}return r[ks]=n,r}function f0(e){return{toString:e}.toString()}var Eo=globalThis;function hr(e){for(let t in e)if(e[t]===hr)return t;throw Error("Could not find renamed property on target object.")}function $7(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ns(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ns).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ab(e,t){return e?t?`${e} ${t}`:e:t||""}var q7=hr({__forward_ref__:hr});function Ao(e){return e.__forward_ref__=Ao,e.toString=function(){return Ns(this())},e}function ji(e){return D4(e)?e():e}function D4(e){return typeof e=="function"&&e.hasOwnProperty(q7)&&e.__forward_ref__===Ao}function yn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ca(e){return{providers:e.providers||[],imports:e.imports||[]}}function Av(e){return VE(e,N4)||VE(e,M4)}function VE(e,t){return e.hasOwnProperty(t)?e[t]:null}function W7(e){let t=e&&(e[N4]||e[M4]);return t||null}function UE(e){return e&&(e.hasOwnProperty(zE)||e.hasOwnProperty(G7))?e[zE]:null}var N4=hr({\u0275prov:hr}),zE=hr({\u0275inj:hr}),M4=hr({ngInjectableDef:hr}),G7=hr({ngInjectorDef:hr}),qt=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=yn({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function R4(e){return e&&!!e.\u0275providers}var K7=hr({\u0275cmp:hr}),Y7=hr({\u0275dir:hr}),Z7=hr({\u0275pipe:hr});var qm=hr({\u0275fac:hr}),Sf=hr({__NG_ELEMENT_ID__:hr}),HE=hr({__NG_ENV_ID__:hr});function ya(e){return typeof e=="string"?e:e==null?"":String(e)}function X7(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ya(e)}function O4(e,t){throw new lt(-200,e)}function kv(e,t){throw new lt(-201,!1)}var wn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(wn||{}),kb;function P4(){return kb}function Qi(e){let t=kb;return kb=e,t}function L4(e,t,n){let r=Av(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&wn.Optional)return null;if(t!==void 0)return t;kv(e,"Injector")}var J7={},gc=J7,Q7="__NG_DI_FLAG__",Wm=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?mm:gc,r)}},Gm="ngTempTokenPath",eR="ngTokenPath",tR=/\n/gm,nR="\u0275",$E="__source";function rR(e,t=wn.Default){if(bf()===void 0)throw new lt(-203,!1);if(bf()===null)return L4(e,void 0,t);{let n=bf(),r;return n instanceof Wm?r=n.injector:r=n,r.get(e,t&wn.Optional?null:void 0,t)}}function cn(e,t=wn.Default){return(P4()||rR)(ji(e),t)}function It(e,t=wn.Default){return cn(e,h0(t))}function h0(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Db(e){let t=[];for(let n=0;n<e.length;n++){let r=ji(e[n]);if(Array.isArray(r)){if(r.length===0)throw new lt(900,!1);let i,s=wn.Default;for(let o=0;o<r.length;o++){let a=r[o],l=iR(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}t.push(cn(i,s))}else t.push(cn(r))}return t}function iR(e){return e[Q7]}function sR(e,t,n,r){let i=e[Gm];throw t[$E]&&i.unshift(t[$E]),e.message=oR(`
`+e.message,i,n,r),e[eR]=i,e[Gm]=null,e}function oR(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==nR?e.slice(2):e;let i=Ns(t);if(Array.isArray(t))i=t.map(Ns).join(" -> ");else if(typeof t=="object"){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ns(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(tR,`
  `)}`}function yc(e,t){let n=e.hasOwnProperty(qm);return n?e[qm]:null}function Dv(e,t){e.forEach(n=>Array.isArray(n)?Dv(n,t):t(n))}function aR(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function F4(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function lR(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let s=i-2;e[i]=e[s],i--}e[t]=n,e[t+1]=r}}function Nv(e,t,n){let r=Rf(e,t);return r>=0?e[r|1]=n:(r=~r,lR(e,r,t,n)),r}function hb(e,t){let n=Rf(e,t);if(n>=0)return e[n|1]}function Rf(e,t){return cR(e,t,1)}function cR(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}var bc={},es=[],Cf=new qt(""),j4=new qt("",-1),B4=new qt(""),Km=class{get(t,n=gc){if(n===gc){let r=new Error(`NullInjectorError: No provider for ${Ns(t)}!`);throw r.name="NullInjectorError",r}return n}};function Mv(e){return e[K7]||null}function uR(e){return e[Y7]||null}function dR(e){return e[Z7]||null}function Rv(e){return{\u0275providers:e}}function fR(...e){return{\u0275providers:V4(!0,e),\u0275fromNgModule:!0}}function V4(e,...t){let n=[],r=new Set,i,s=o=>{n.push(o)};return Dv(t,o=>{let a=o;Nb(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&U4(i,s),n}function U4(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Ov(i,s=>{t(s,r)})}}function Nb(e,t,n,r){if(e=ji(e),!e)return!1;let i=null,s=UE(e),o=!s&&Mv(e);if(!s&&!o){let l=e.ngModule;if(s=UE(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=e}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Nb(c,t,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{Dv(s.imports,u=>{Nb(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&U4(c,t)}if(!a){let c=yc(i)||(()=>new i);t({provide:i,useFactory:c,deps:es},i),t({provide:B4,useValue:i,multi:!0},i),t({provide:Cf,useValue:()=>cn(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=e;Ov(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Ov(e,t){for(let n of e)R4(n)&&(n=n.\u0275providers),Array.isArray(n)?Ov(n,t):t(n)}var hR=hr({provide:String,useValue:hr});function z4(e){return e!==null&&typeof e=="object"&&hR in e}function pR(e){return!!(e&&e.useExisting)}function mR(e){return!!(e&&e.useFactory)}function Tu(e){return typeof e=="function"}function gR(e){return!!e.useClass}var p0=new qt(""),Vm={},qE={},pb;function Pv(){return pb===void 0&&(pb=new Km),pb}var ba=class{},If=class extends ba{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Rb(t,o=>this.processProvider(o)),this.records.set(j4,Eu(void 0,this)),i.has("environment")&&this.records.set(ba,Eu(void 0,this));let s=this.records.get(p0);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(B4,es,wn.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?mm:gc,r)}destroy(){xf(this),this._destroyed=!0;let t=gn(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),gn(t)}}onDestroy(t){return xf(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){xf(this);let n=ma(this),r=Qi(void 0),i;try{return t()}finally{ma(n),Qi(r)}}get(t,n=gc,r=wn.Default){if(xf(this),t.hasOwnProperty(HE))return t[HE](this);r=h0(r);let i,s=ma(this),o=Qi(void 0);try{if(!(r&wn.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=wR(t)&&Av(t);c&&this.injectableDefInScope(c)?l=Eu(Mb(t),Vm):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&wn.Self?Pv():this.parent;return n=r&wn.Optional&&n===gc?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Gm]=a[Gm]||[]).unshift(Ns(t)),s)throw a;return sR(a,t,"R3InjectorError",this.source)}else throw a}finally{Qi(o),ma(s)}}resolveInjectorInitializers(){let t=gn(null),n=ma(this),r=Qi(void 0),i;try{let s=this.get(Cf,es,wn.Self);for(let o of s)o()}finally{ma(n),Qi(r),gn(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Ns(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ji(t);let n=Tu(t)?t:ji(t&&t.provide),r=bR(t);if(!Tu(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Eu(void 0,Vm,!0),i.factory=()=>Db(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=gn(null);try{return n.value===qE?O4(Ns(t)):n.value===Vm&&(n.value=qE,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&_R(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{gn(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ji(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Mb(e){let t=Av(e),n=t!==null?t.factory:yc(e);if(n!==null)return n;if(e instanceof qt)throw new lt(204,!1);if(e instanceof Function)return yR(e);throw new lt(204,!1)}function yR(e){if(e.length>0)throw new lt(204,!1);let n=W7(e);return n!==null?()=>n.factory(e):()=>new e}function bR(e){if(z4(e))return Eu(void 0,e.useValue);{let t=H4(e);return Eu(t,Vm)}}function H4(e,t,n){let r;if(Tu(e)){let i=ji(e);return yc(i)||Mb(i)}else if(z4(e))r=()=>ji(e.useValue);else if(mR(e))r=()=>e.useFactory(...Db(e.deps||[]));else if(pR(e))r=(i,s)=>cn(ji(e.useExisting),s!==void 0&&s&wn.Optional?wn.Optional:void 0);else{let i=ji(e&&(e.useClass||e.provide));if(vR(e))r=()=>new i(...Db(e.deps));else return yc(i)||Mb(i)}return r}function xf(e){if(e.destroyed)throw new lt(205,!1)}function Eu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function vR(e){return!!e.deps}function _R(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function wR(e){return typeof e=="function"||typeof e=="object"&&e instanceof qt}function Rb(e,t){for(let n of e)Array.isArray(n)?Rb(n,t):n&&R4(n)?Rb(n.\u0275providers,t):t(n)}function m0(e,t){let n;e instanceof If?(xf(e),n=e):n=new Wm(e);let r,i=ma(n),s=Qi(void 0);try{return t()}finally{ma(i),Qi(s)}}function $4(){return P4()!==void 0||bf()!=null}function xR(e){if(!$4())throw new lt(-203,!1)}var Ia=0,In=1,on=2,Rs=3,Qs=4,ko=5,Tf=6,Ym=7,Jr=8,Au=9,va=10,Qr=11,Af=12,WE=13,Pu=14,eo=15,ku=16,Su=17,Du=18,g0=19,q4=20,ml=21,mb=22,vc=23,Ms=24,gb=25,xi=26,W4=1;var kf=7,ER=8,Zm=9,ts=10;function gl(e){return Array.isArray(e)&&typeof e[W4]=="object"}function Sc(e){return Array.isArray(e)&&e[W4]===!0}function G4(e){return(e.flags&4)!==0}function Lu(e){return e.componentOffset>-1}function Lv(e){return(e.flags&1)===1}function Co(e){return!!e.template}function Xm(e){return(e[on]&512)!==0}function Fu(e){return(e[on]&256)===256}var Ob=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function K4(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var y0=(()=>{let e=()=>Y4;return e.ngInherit=!0,e})();function Y4(e){return e.type.prototype.ngOnChanges&&(e.setInput=CR),SR}function SR(){let e=X4(this),t=e?.current;if(t){let n=e.previous;if(n===bc)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function CR(e,t,n,r,i){let s=this.declaredInputs[r],o=X4(e)||IR(e,{previous:bc,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Ob(c&&c.currentValue,n,l===bc),K4(e,t,i,n)}var Z4="__ngSimpleChanges__";function X4(e){return e[Z4]||null}function IR(e,t){return e[Z4]=t}var GE=null;var cr=function(e,t=null,n){GE?.(e,t,n)},TR="svg",AR="math";function _a(e){for(;Array.isArray(e);)e=e[Ia];return e}function J4(e,t){return _a(t[e])}function Ta(e,t){return _a(t[e.index])}function Fv(e,t){return e.data[t]}function jv(e,t){return e[t]}function kR(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Io(e,t){let n=t[e];return gl(n)?n:n[Ia]}function Bv(e){return(e[on]&128)===128}function Nu(e,t){return t==null?null:e[t]}function Q4(e){e[Su]=0}function eS(e){e[on]&1024||(e[on]|=1024,Bv(e)&&Of(e))}function DR(e,t){for(;e>0;)t=t[Pu],e--;return t}function b0(e){return!!(e[on]&9216||e[Ms]?.dirty)}function Pb(e){e[va].changeDetectionScheduler?.notify(8),e[on]&64&&(e[on]|=1024),b0(e)&&Of(e)}function Of(e){e[va].changeDetectionScheduler?.notify(0);let t=_c(e);for(;t!==null&&!(t[on]&8192||(t[on]|=8192,!Bv(t)));)t=_c(t)}function tS(e,t){if(Fu(e))throw new lt(911,!1);e[ml]===null&&(e[ml]=[]),e[ml].push(t)}function NR(e,t){if(e[ml]===null)return;let n=e[ml].indexOf(t);n!==-1&&e[ml].splice(n,1)}function _c(e){let t=e[Rs];return Sc(t)?t[Rs]:t}function nS(e){return e[Ym]??=[]}function rS(e){return e.cleanup??=[]}var bn={lFrame:hS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Lb=!1;function MR(){return bn.lFrame.elementDepthCount}function RR(){bn.lFrame.elementDepthCount++}function OR(){bn.lFrame.elementDepthCount--}function iS(){return bn.bindingsEnabled}function PR(){return bn.skipHydrationRootTNode!==null}function LR(e){return bn.skipHydrationRootTNode===e}function FR(){bn.skipHydrationRootTNode=null}function Hn(){return bn.lFrame.lView}function Ei(){return bn.lFrame.tView}function un(e){return bn.lFrame.contextLView=e,e[Jr]}function dn(e){return bn.lFrame.contextLView=null,e}function to(){let e=sS();for(;e!==null&&e.type===64;)e=e.parent;return e}function sS(){return bn.lFrame.currentTNode}function jR(){let e=bn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Pf(e,t){let n=bn.lFrame;n.currentTNode=e,n.isParent=t}function oS(){return bn.lFrame.isParent}function BR(){bn.lFrame.isParent=!1}function VR(){return bn.lFrame.contextLView}function aS(){return Lb}function Jm(e){let t=Lb;return Lb=e,t}function lS(){let e=bn.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function cS(){return bn.lFrame.bindingIndex}function UR(e){return bn.lFrame.bindingIndex=e}function ju(){return bn.lFrame.bindingIndex++}function v0(e){let t=bn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function zR(){return bn.lFrame.inI18n}function HR(e,t){let n=bn.lFrame;n.bindingIndex=n.bindingRootIndex=e,Fb(t)}function $R(){return bn.lFrame.currentDirectiveIndex}function Fb(e){bn.lFrame.currentDirectiveIndex=e}function qR(e){let t=bn.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function uS(e){bn.lFrame.currentQueryIndex=e}function WR(e){let t=e[In];return t.type===2?t.declTNode:t.type===1?e[ko]:null}function dS(e,t,n){if(n&wn.SkipSelf){let i=t,s=e;for(;i=i.parent,i===null&&!(n&wn.Host);)if(i=WR(s),i===null||(s=s[Pu],i.type&10))break;if(i===null)return!1;t=i,e=s}let r=bn.lFrame=fS();return r.currentTNode=t,r.lView=e,!0}function Vv(e){let t=fS(),n=e[In];bn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function fS(){let e=bn.lFrame,t=e===null?null:e.child;return t===null?hS(e):t}function hS(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function pS(){let e=bn.lFrame;return bn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var mS=pS;function Uv(){let e=pS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function GR(e){return(bn.lFrame.contextLView=DR(e,bn.lFrame.contextLView))[Jr]}function Do(){return bn.lFrame.selectedIndex}function wc(e){bn.lFrame.selectedIndex=e}function zv(){let e=bn.lFrame;return Fv(e.tView,e.selectedIndex)}function KR(){return bn.lFrame.currentNamespace}var gS=!0;function Hv(){return gS}function $v(e){gS=e}function YR(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){let o=Y4(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}function yS(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Um(e,t,n){bS(e,t,3,n)}function zm(e,t,n,r){(e[on]&3)===n&&bS(e,t,n,r)}function yb(e,t){let n=e[on];(n&3)===t&&(n&=16383,n+=1,e[on]=n)}function bS(e,t,n,r){let i=r!==void 0?e[Su]&65535:0,s=r??-1,o=t.length-1,a=0;for(let l=i;l<o;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[Su]+=65536),(a<s||s==-1)&&(ZR(e,n,t,l),e[Su]=(e[Su]&4294901760)+l+2),l++}function KE(e,t){cr(4,e,t);let n=gn(null);try{t.call(e)}finally{gn(n),cr(5,e,t)}}function ZR(e,t,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=e[o];i?e[on]>>14<e[Su]>>16&&(e[on]&3)===t&&(e[on]+=16384,KE(a,s)):KE(a,s)}var Iu=-1,xc=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function XR(e){return(e.flags&8)!==0}function JR(e){return(e.flags&16)!==0}function QR(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{let s=i,o=n[++r];tO(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function eO(e){return e===3||e===4||e===6}function tO(e){return e.charCodeAt(0)===64}function Df(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?YE(e,n,i,null,t[++r]):YE(e,n,i,null,null))}}return e}function YE(e,t,n,r,i){let s=0,o=e.length;if(t===-1)o=-1;else for(;s<e.length;){let a=e[s++];if(typeof a=="number"){if(a===t){o=-1;break}else if(a>t){o=s-1;break}}}for(;s<e.length;){let a=e[s];if(typeof a=="number")break;if(a===n){i!==null&&(e[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),i!==null&&e.splice(s++,0,i)}function nO(e){return e!==Iu}function jb(e){return e&32767}function rO(e){return e>>16}function Bb(e,t){let n=rO(e),r=t;for(;n>0;)r=r[Pu],n--;return r}var Vb=!0;function Qm(e){let t=Vb;return Vb=e,t}var iO=256,vS=iO-1,_S=5,sO=0,So={};function oO(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sf)&&(r=n[Sf]),r==null&&(r=n[Sf]=sO++);let i=r&vS,s=1<<i;t.data[e+(i>>_S)]|=s}function e0(e,t){let n=wS(e,t);if(n!==-1)return n;let r=t[In];r.firstCreatePass&&(e.injectorIndex=t.length,bb(r.data,e),bb(t,null),bb(r.blueprint,null));let i=xS(e,t),s=e.injectorIndex;if(nO(i)){let o=jb(i),a=Bb(i,t),l=a[In].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=i,s}function bb(e,t){e.push(0,0,0,0,0,0,0,0,t)}function wS(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function xS(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=TS(i),r===null)return Iu;if(n++,i=i[Pu],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Iu}function Ub(e,t,n){oO(e,t,n)}function ES(e,t,n){if(n&wn.Optional||e!==void 0)return e;kv(t,"NodeInjector")}function SS(e,t,n,r){if(n&wn.Optional&&r===void 0&&(r=null),(n&(wn.Self|wn.Host))===0){let i=e[Au],s=Qi(void 0);try{return i?i.get(t,r,n&wn.Optional):L4(t,r,n&wn.Optional)}finally{Qi(s)}}return ES(r,t,n)}function CS(e,t,n,r=wn.Default,i){if(e!==null){if(t[on]&2048&&!(r&wn.Self)){let o=dO(e,t,n,r,So);if(o!==So)return o}let s=IS(e,t,n,r,So);if(s!==So)return s}return SS(t,n,r,i)}function IS(e,t,n,r,i){let s=cO(n);if(typeof s=="function"){if(!dS(t,e,r))return r&wn.Host?ES(i,n,r):SS(t,n,r,i);try{let o;if(o=s(r),o==null&&!(r&wn.Optional))kv(n);else return o}finally{mS()}}else if(typeof s=="number"){let o=null,a=wS(e,t),l=Iu,c=r&wn.Host?t[eo][ko]:null;for((a===-1||r&wn.SkipSelf)&&(l=a===-1?xS(e,t):t[a+8],l===Iu||!XE(r,!1)?a=-1:(o=t[In],a=jb(l),t=Bb(l,t)));a!==-1;){let u=t[In];if(ZE(s,a,u.data)){let d=aO(a,t,n,o,r,c);if(d!==So)return d}l=t[a+8],l!==Iu&&XE(r,t[In].data[a+8]===c)&&ZE(s,a,t)?(o=u,a=jb(l),t=Bb(l,t)):a=-1}}return i}function aO(e,t,n,r,i,s){let o=t[In],a=o.data[e+8],l=r==null?Lu(a)&&Vb:r!=o&&(a.type&3)!==0,c=i&wn.Host&&s===a,u=lO(a,o,n,l,c);return u!==null?t0(t,o,u,a,i):So}function lO(e,t,n,r,i){let s=e.providerIndexes,o=t.data,a=s&1048575,l=e.directiveStart,c=e.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){let f=o[l];if(f&&Co(f)&&f.type===n)return l}return null}function t0(e,t,n,r,i){let s=e[n],o=t.data;if(s instanceof xc){let a=s;a.resolving&&O4(X7(o[n]));let l=Qm(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?Qi(a.injectImpl):null,d=dS(e,r,wn.Default);try{s=e[n]=a.factory(void 0,i,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&YR(n,o[n],t)}finally{u!==null&&Qi(u),Qm(l),a.resolving=!1,mS()}}return s}function cO(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Sf)?e[Sf]:void 0;return typeof t=="number"?t>=0?t&vS:uO:t}function ZE(e,t,n){let r=1<<e;return!!(n[t+(e>>_S)]&r)}function XE(e,t){return!(e&wn.Self)&&!(e&wn.Host&&t)}var n0=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return CS(this._tNode,this._lView,t,h0(r),n)}};function uO(){return new n0(to(),Hn())}function Bu(e){return f0(()=>{let t=e.prototype.constructor,n=t[qm]||zb(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let s=i[qm]||zb(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function zb(e){return D4(e)?()=>{let t=zb(ji(e));return t&&t()}:yc(e)}function dO(e,t,n,r,i){let s=e,o=t;for(;s!==null&&o!==null&&o[on]&2048&&!Xm(o);){let a=IS(s,o,n,r|wn.Self,So);if(a!==So)return a;let l=s.parent;if(!l){let c=o[q4];if(c){let u=c.get(n,So,r);if(u!==So)return u}l=TS(o),o=o[Pu]}s=l}return i}function TS(e){let t=e[In],n=t.type;return n===2?t.declTNode:n===1?e[ko]:null}function JE(e,t=null,n=null,r){let i=fO(e,t,n,r);return i.resolveInjectorInitializers(),i}function fO(e,t=null,n=null,r,i=new Set){let s=[n||es,fR(e)];return r=r||(typeof e=="object"?void 0:Ns(e)),new If(s,t||Pv(),r||null,i)}var wa=class e{static THROW_IF_NOT_FOUND=gc;static NULL=new Km;static create(t,n){if(Array.isArray(t))return JE({name:""},n,t,"");{let r=t.name??"";return JE({name:r},t.parent,t.providers,r)}}static \u0275prov=yn({token:e,providedIn:"any",factory:()=>cn(j4)});static __NG_ELEMENT_ID__=-1};var hO=new qt("");hO.__NG_ELEMENT_ID__=e=>{let t=to();if(t===null)throw new lt(204,!1);if(t.type&2)return t.value;if(e&wn.Optional)return null;throw new lt(204,!1)};var AS=!1,_0=(()=>{class e{static __NG_ELEMENT_ID__=pO;static __NG_ENV_ID__=n=>n}return e})(),r0=class extends _0{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return Fu(n)?(t(),()=>{}):(tS(n,t),()=>NR(n,t))}};function pO(){return new r0(Hn())}var Mu=class{},qv=new qt("",{providedIn:"root",factory:()=>!1});var kS=new qt(""),DS=new qt(""),Vu=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new _f(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=yn({token:e,providedIn:"root",factory:()=>new e})}return e})();var Hb=class extends ga{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,$4()&&(this.destroyRef=It(_0,{optional:!0})??void 0,this.pendingTasks=It(Vu,{optional:!0})??void 0)}emit(t){let n=gn(null);try{super.next(t)}finally{gn(n)}}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return t instanceof Fi&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},_s=Hb;function Nf(...e){}function NS(e){let t,n;function r(){e=Nf;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function QE(e){return queueMicrotask(()=>e()),()=>{e=Nf}}var Wv="isAngularZone",i0=Wv+"_ID",mO=0,Pr=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _s(!1);onMicrotaskEmpty=new _s(!1);onStable=new _s(!1);onError=new _s(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=AS}=t;if(typeof Zone>"u")throw new lt(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,bO(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wv)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new lt(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new lt(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,gO,Nf,Nf);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},gO={};function Gv(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yO(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){NS(()=>{e.callbackScheduled=!1,$b(e),e.isCheckStableRunning=!0,Gv(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),$b(e)}function bO(e){let t=()=>{yO(e)},n=mO++;e._inner=e._inner.fork({name:"angular",properties:{[Wv]:!0,[i0]:n,[i0+n]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(vO(l))return r.invokeTask(s,o,a,l);try{return e4(e),r.invokeTask(s,o,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),t4(e)}},onInvoke:(r,i,s,o,a,l,c)=>{try{return e4(e),r.invoke(s,o,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!_O(l)&&t(),t4(e)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,$b(e),Gv(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function $b(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function e4(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function t4(e){e._nesting--,Gv(e)}var qb=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _s;onMicrotaskEmpty=new _s;onStable=new _s;onError=new _s;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function vO(e){return MS(e,"__ignore_ng_zone__")}function _O(e){return MS(e,"__scheduler_tick__")}function MS(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var xa=class{_console=console;handleError(t){this._console.error("ERROR",t)}},wO=new qt("",{providedIn:"root",factory:()=>{let e=It(Pr),t=It(xa);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function n4(e,t){return k4(e,t)}function xO(e){return k4(A4,e)}var RS=(n4.required=xO,n4);function EO(){return OS(to(),Hn())}function OS(e,t){return new bl(Ta(e,t))}var bl=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=EO}return e})();function SO(e){return typeof e=="function"&&e[ks]!==void 0}function en(e,t){let n=Xy(e,t?.equal),r=n[ks];return n.set=i=>yf(r,i),n.update=i=>Jy(r,i),n.asReadonly=CO.bind(n),n}function CO(){let e=this[ks];if(e.readonlyFn===void 0){let t=()=>this();t[ks]=e,e.readonlyFn=t}return e.readonlyFn}function PS(e){return SO(e)&&typeof e.set=="function"}function LS(e){return(e.flags&128)===128}var FS=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(FS||{}),jS=new Map,IO=0;function TO(){return IO++}function AO(e){jS.set(e[g0],e)}function Wb(e){jS.delete(e[g0])}var r4="__ngContext__";function Lf(e,t){gl(t)?(e[r4]=t[g0],AO(t)):e[r4]=t}function BS(e){return US(e[Af])}function VS(e){return US(e[Qs])}function US(e){for(;e!==null&&!Sc(e);)e=e[Qs];return e}var Gb;function zS(e){Gb=e}function HS(){if(Gb!==void 0)return Gb;if(typeof document<"u")return document;throw new lt(210,!1)}var Kv=new qt("",{providedIn:"root",factory:()=>kO}),kO="ng",Yv=new qt(""),Ff=new qt("",{providedIn:"platform",factory:()=>"unknown"});var Zv=new qt(""),Xv=new qt("",{providedIn:"root",factory:()=>HS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var DO="h",NO="b";var $S=!1,MO=new qt("",{providedIn:"root",factory:()=>$S});var qS=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(qS||{}),w0=new qt(""),i4=new Set;function jf(e){i4.has(e)||(i4.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var WS=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=RO}return e})();function RO(){return new WS(Hn(),to())}var OO=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=yn({token:e,providedIn:"root",factory:()=>new e})}return e})();var PO=(e,t,n,r)=>{};function LO(e,t,n,r){PO(e,t,n,r)}var FO=()=>null;function GS(e,t,n=!1){return FO(e,t,n)}function KS(e,t){let n=e.contentQueries;if(n!==null){let r=gn(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=e.data[o];uS(s),a.contentQueries(2,t[o],o)}}}finally{gn(r)}}}function Kb(e,t,n){uS(0);let r=gn(null);try{t(e,n)}finally{gn(r)}}function YS(e,t,n){if(G4(t)){let r=gn(null);try{let i=t.directiveStart,s=t.directiveEnd;for(let o=i;o<s;o++){let a=e.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{gn(r)}}}var To=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(To||{});var Lm;function jO(){if(Lm===void 0&&(Lm=null,Eo.trustedTypes))try{Lm=Eo.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Lm}function x0(e){return jO()?.createHTML(e)||e}var Fm;function BO(){if(Fm===void 0&&(Fm=null,Eo.trustedTypes))try{Fm=Eo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Fm}function s4(e){return BO()?.createHTML(e)||e}var Ea=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${I4})`}},Yb=class extends Ea{getTypeName(){return"HTML"}},Zb=class extends Ea{getTypeName(){return"Style"}},Xb=class extends Ea{getTypeName(){return"Script"}},Jb=class extends Ea{getTypeName(){return"URL"}},Qb=class extends Ea{getTypeName(){return"ResourceURL"}};function Aa(e){return e instanceof Ea?e.changingThisBreaksApplicationSecurity:e}function Cc(e,t){let n=VO(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${I4})`)}return n===t}function VO(e){return e instanceof Ea&&e.getTypeName()||null}function ZS(e){return new Yb(e)}function XS(e){return new Zb(e)}function JS(e){return new Xb(e)}function QS(e){return new Jb(e)}function e6(e){return new Qb(e)}function UO(e){let t=new tv(e);return zO()?new ev(t):t}var ev=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(x0(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},tv=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=x0(t),n}};function zO(){try{return!!new window.DOMParser().parseFromString(x0(""),"text/html")}catch{return!1}}var HO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jv(e){return e=String(e),e.match(HO)?e:"unsafe:"+e}function ka(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function Bf(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var t6=ka("area,br,col,hr,img,wbr"),n6=ka("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),r6=ka("rp,rt"),$O=Bf(r6,n6),qO=Bf(n6,ka("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),WO=Bf(r6,ka("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),o4=Bf(t6,qO,WO,$O),i6=ka("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),GO=ka("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),KO=ka("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),YO=Bf(i6,GO,KO),ZO=ka("script,style,template"),nv=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=QO(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=JO(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(t){let n=a4(t).toLowerCase();if(!o4.hasOwnProperty(n))return this.sanitizedSomething=!0,!ZO.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!YO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;i6[a]&&(l=Jv(l)),this.buf.push(" ",o,'="',l4(l),'"')}return this.buf.push(">"),!0}endElement(t){let n=a4(t).toLowerCase();o4.hasOwnProperty(n)&&!t6.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(l4(t))}};function XO(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function JO(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw s6(t);return t}function QO(e){let t=e.firstChild;if(t&&XO(e,t))throw s6(t);return t}function a4(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function s6(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var e9=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t9=/([^\#-~ |!])/g;function l4(e){return e.replace(/&/g,"&amp;").replace(e9,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(t9,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var jm;function Qv(e,t){let n=null;try{jm=jm||UO(e);let r=t?String(t):"";n=jm.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=jm.getInertBodyElement(r)}while(r!==s);let a=new nv().sanitizeChildren(c4(n)||n);return x0(a)}finally{if(n){let r=c4(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function c4(e){return"content"in e&&n9(e)?e.content:null}function n9(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}function r9(e,t){return e.createText(t)}function i9(e,t,n){e.setValue(t,n)}function o6(e,t,n){return e.createElement(t,n)}function rv(e,t,n,r,i){e.insertBefore(t,n,r,i)}function a6(e,t,n){e.appendChild(t,n)}function u4(e,t,n,r,i){r!==null?rv(e,t,n,r,i):a6(e,t,n)}function s9(e,t,n){e.removeChild(null,t,n)}function o9(e,t,n){e.setAttribute(t,"style",n)}function a9(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function l6(e,t,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&QR(e,t,r),i!==null&&a9(e,t,i),s!==null&&o9(e,t,s)}var Da=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Da||{});function Ic(e){let t=l9();return t?s4(t.sanitize(Da.HTML,e)||""):Cc(e,"HTML")?s4(Aa(e)):Qv(HS(),ya(e))}function l9(){let e=Hn();return e&&e[va].sanitizer}function c9(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}var c6="ng-template";function u9(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&c9(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(e2(e))return!1;if(i=t.indexOf(1,i),i>-1){let s;for(;++i<t.length&&typeof(s=t[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function e2(e){return e.type===4&&e.value!==c6}function d9(e,t,n){let r=e.type===4&&!n?c6:e.value;return t===r}function f9(e,t,n){let r=4,i=e.attrs,s=i!==null?m9(i):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!o&&!Xs(r)&&!Xs(l))return!1;if(o&&Xs(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!d9(e,l,n)||l===""&&t.length===1){if(Xs(r))return!1;o=!0}}else if(r&8){if(i===null||!u9(e,i,l,n)){if(Xs(r))return!1;o=!0}}else{let c=t[++a],u=h9(l,i,e2(e),n);if(u===-1){if(Xs(r))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Xs(r))return!1;o=!0}}}}return Xs(r)||o}function Xs(e){return(e&1)===0}function h9(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){let o=t[i];if(o===e)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return g9(t,e)}function p9(e,t,n=!1){for(let r=0;r<t.length;r++)if(f9(e,t[r],n))return!0;return!1}function m9(e){for(let t=0;t<e.length;t++){let n=e[t];if(eO(n))return t}return e.length}function g9(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function d4(e,t){return e?":not("+t.trim()+")":t}function y9(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if(typeof o=="string")if(r&2){let a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Xs(o)&&(t+=d4(s,i),i=""),r=o,s=s||!Xs(r);n++}return i!==""&&(t+=d4(s,i)),t}function b9(e){return e.map(y9).join(",")}function v9(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let s=e[r];if(typeof s=="string")i===2?s!==""&&t.push(s,e[++r]):i===8&&n.push(s);else{if(!Xs(i))break;i=s}r++}return n.length&&t.push(1,...n),t}var ns={};function t2(e,t,n,r,i,s,o,a,l,c,u){let d=xi+r,h=d+i,f=_9(d,h),p=typeof c=="function"?c():c;return f[In]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function _9(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:ns);return n}function w9(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=t2(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function n2(e,t,n,r,i,s,o,a,l,c,u){let d=t.blueprint.slice();return d[Ia]=i,d[on]=r|4|128|8|64|1024,(c!==null||e&&e[on]&2048)&&(d[on]|=2048),Q4(d),d[Rs]=d[Pu]=e,d[Jr]=n,d[va]=o||e&&e[va],d[Qr]=a||e&&e[Qr],d[Au]=l||e&&e[Au]||null,d[ko]=s,d[g0]=TO(),d[Tf]=u,d[q4]=c,d[eo]=t.type==2?e[eo]:d,d}function x9(e,t,n){let r=Ta(t,e),i=w9(n),s=e[va].rendererFactory,o=f6(e,n2(e,i,null,u6(n),r,t,null,s.createRenderer(r,n),null,null,null));return e[t.index]=o}function u6(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function d6(e,t,n,r){if(n===0)return-1;let i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function f6(e,t){return e[Af]?e[WE][Qs]=t:e[Af]=t,e[WE]=t,t}function ke(e=1){h6(Ei(),Hn(),Do()+e,!1)}function h6(e,t,n,r){if(!r)if((t[on]&3)===3){let s=e.preOrderCheckHooks;s!==null&&Um(t,s,n)}else{let s=e.preOrderHooks;s!==null&&zm(t,s,0,n)}wc(n)}var E0=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(E0||{});function iv(e,t,n,r){let i=gn(null);try{let[s,o,a]=e.inputs[n],l=null;(o&E0.SignalBased)!==0&&(l=t[s][ks]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,s):K4(t,l,s,r)}finally{gn(i)}}function p6(e,t,n,r,i){let s=Do(),o=r&2;try{wc(-1),o&&t.length>xi&&h6(e,t,xi,!1),cr(o?2:0,i),n(r,i)}finally{wc(s),cr(o?3:1,i)}}function r2(e,t,n){A9(e,t,n),(n.flags&64)===64&&k9(e,t,n)}function m6(e,t,n=Ta){let r=t.localNames;if(r!==null){let i=t.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(t,e):e[o];e[i++]=a}}}function E9(e,t,n,r){let s=r.get(MO,$S)||n===To.ShadowDom,o=e.selectRootElement(t,s);return S9(o),o}function S9(e){C9(e)}var C9=()=>null;function I9(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function g6(e,t,n,r,i,s,o,a){if(!a&&i2(t,e,n,r,i)){Lu(t)&&T9(n,t.index);return}if(t.type&3){let l=Ta(t,n);r=I9(r),i=o!=null?o(i,t.value||"",r):i,s.setProperty(l,r,i)}else t.type&12}function T9(e,t){let n=Io(t,e);n[on]&16||(n[on]|=64)}function A9(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Lu(n)&&x9(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||e0(n,t);let s=n.initialInputs;for(let o=r;o<i;o++){let a=e.data[o],l=t0(t,e,o,n);if(Lf(l,t),s!==null&&R9(t,o-r,l,a,n,s),Co(a)){let c=Io(n.index,t);c[Jr]=t0(t,e,o,n)}}}function k9(e,t,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=$R();try{wc(s);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];Fb(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&D9(l,c)}}finally{wc(-1),Fb(o)}}function D9(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function y6(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];p9(t,s.selectors,!1)&&(r??=[],Co(s)?r.unshift(s):r.push(s))}return r}function N9(e,t,n,r,i,s){let o=Ta(e,t);M9(t[Qr],o,s,e.value,n,r,i)}function M9(e,t,n,r,i,s,o){if(s==null)e.removeAttribute(t,i,n);else{let a=o==null?ya(s):o(s,r||"",i);e.setAttribute(t,i,a,n)}}function R9(e,t,n,r,i,s){let o=s[t];if(o!==null)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1];iv(r,n,l,c)}}function O9(e,t){let n=e[Au],r=n?n.get(xa,null):null;r&&r.handleError(t)}function i2(e,t,n,r,i){let s=e.inputs?.[r],o=e.hostDirectiveInputs?.[r],a=!1;if(o)for(let l=0;l<o.length;l+=2){let c=o[l],u=o[l+1],d=t.data[c];iv(d,n[c],u,i),a=!0}if(s)for(let l of s){let c=n[l],u=t.data[l];iv(u,c,r,i),a=!0}return a}function P9(e,t){let n=Io(t,e),r=n[In];L9(r,n);let i=n[Ia];i!==null&&n[Tf]===null&&(n[Tf]=GS(i,n[Au])),cr(18),s2(r,n,n[Jr]),cr(19,n[Jr])}function L9(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function s2(e,t,n){Vv(t);try{let r=e.viewQuery;r!==null&&Kb(1,r,n);let i=e.template;i!==null&&p6(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Du]?.finishViewCreation(e),e.staticContentQueries&&KS(e,t),e.staticViewQueries&&Kb(2,e.viewQuery,n);let s=e.components;s!==null&&F9(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[on]&=-5,Uv()}}function F9(e,t){for(let n=0;n<t.length;n++)P9(e,t[n])}function o2(e,t,n,r){let i=gn(null);try{let s=t.tView,a=e[on]&4096?4096:16,l=n2(e,s,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[ku]=c;let u=e[Du];return u!==null&&(l[Du]=u.createEmbeddedView(s)),s2(s,l,n),l}finally{gn(i)}}function a2(e,t){return!t||t.firstChild===null||LS(e)}var j9;function l2(e,t){return j9(e,t)}var Sa=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Sa||{});function b6(e){return(e.flags&32)===32}function Cu(e,t,n,r,i){if(r!=null){let s,o=!1;Sc(r)?s=r:gl(r)&&(o=!0,r=r[Ia]);let a=_a(r);e===0&&n!==null?i==null?a6(t,n,a):rv(t,n,a,i||null,!0):e===1&&n!==null?rv(t,n,a,i||null,!0):e===2?s9(t,a,o):e===3&&t.destroyNode(a),s!=null&&Z9(t,e,s,n,i)}}function B9(e,t){v6(e,t),t[Ia]=null,t[ko]=null}function V9(e,t,n,r,i,s){r[Ia]=i,r[ko]=t,S0(e,r,n,1,i,s)}function v6(e,t){t[va].changeDetectionScheduler?.notify(9),S0(e,t,t[Qr],2,null,null)}function U9(e){let t=e[Af];if(!t)return vb(e[In],e);for(;t;){let n=null;if(gl(t))n=t[Af];else{let r=t[ts];r&&(n=r)}if(!n){for(;t&&!t[Qs]&&t!==e;)gl(t)&&vb(t[In],t),t=t[Rs];t===null&&(t=e),gl(t)&&vb(t[In],t),n=t&&t[Qs]}t=n}}function c2(e,t){let n=e[Zm],r=n.indexOf(t);n.splice(r,1)}function u2(e,t){if(Fu(t))return;let n=t[Qr];n.destroyNode&&S0(e,t,n,3,null,null),U9(t)}function vb(e,t){if(Fu(t))return;let n=gn(null);try{t[on]&=-129,t[on]|=256,t[Ms]&&gf(t[Ms]),H9(e,t),z9(e,t),t[In].type===1&&t[Qr].destroy();let r=t[ku];if(r!==null&&Sc(t[Rs])){r!==t[Rs]&&c2(r,t);let i=t[Du];i!==null&&i.detachView(e)}Wb(t)}finally{gn(n)}}function z9(e,t){let n=e.cleanup,r=t[Ym];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[n[o+1]];n[o].call(a)}r!==null&&(t[Ym]=null);let i=t[ml];if(i!==null){t[ml]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=t[vc];if(s!==null){t[vc]=null;for(let o of s)o.destroy()}}function H9(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof xc)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];cr(4,a,l);try{l.call(a)}finally{cr(5,a,l)}}else{cr(4,i,s);try{s.call(i)}finally{cr(5,i,s)}}}}}function $9(e,t,n){return q9(e,t.parent,n)}function q9(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Ia];if(Lu(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===To.None||i===To.Emulated)return null}return Ta(r,n)}function W9(e,t,n){return K9(e,t,n)}function G9(e,t,n){return e.type&40?Ta(e,n):null}var K9=G9,f4;function d2(e,t,n,r){let i=$9(e,r,t),s=t[Qr],o=r.parent||t[ko],a=W9(o,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)u4(s,i,n[l],a,!1);else u4(s,i,n,a,!1);f4!==void 0&&f4(s,r,t,n,i)}function Ef(e,t){if(t!==null){let n=t.type;if(n&3)return Ta(t,e);if(n&4)return sv(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ef(e,r);{let i=e[t.index];return Sc(i)?sv(-1,i):_a(i)}}else{if(n&128)return Ef(e,t.next);if(n&32)return l2(t,e)()||_a(e[t.index]);{let r=_6(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=_c(e[eo]);return Ef(i,r)}else return Ef(e,t.next)}}}return null}function _6(e,t){if(t!==null){let r=e[eo][ko],i=t.projection;return r.projection[i]}return null}function sv(e,t){let n=ts+e+1;if(n<t.length){let r=t[n],i=r[In].firstChild;if(i!==null)return Ef(r,i)}return t[kf]}function f2(e,t,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(o&&t===0&&(a&&Lf(_a(a),r),n.flags|=2),!b6(n))if(l&8)f2(e,t,n.child,r,i,s,!1),Cu(t,e,i,a,s);else if(l&32){let c=l2(n,r),u;for(;u=c();)Cu(t,e,i,u,s);Cu(t,e,i,a,s)}else l&16?Y9(e,t,r,n,i,s):Cu(t,e,i,a,s);n=o?n.projectionNext:n.next}}function S0(e,t,n,r,i,s){f2(n,r,e.firstChild,t,i,s,!1)}function Y9(e,t,n,r,i,s){let o=n[eo],l=o[ko].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Cu(t,e,i,u,s)}else{let c=l,u=o[Rs];LS(r)&&(c.flags|=128),f2(e,t,c,u,i,s,!0)}}function Z9(e,t,n,r,i){let s=n[kf],o=_a(n);s!==o&&Cu(t,e,r,s,i);for(let a=ts;a<n.length;a++){let l=n[a];S0(l[In],l,e,t,r,s)}}function X9(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Sa.DashCase;i==null?e.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Sa.Important),e.setStyle(n,r,i,s))}}function s0(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=t[n.index];s!==null&&r.push(_a(s)),Sc(s)&&J9(s,r);let o=n.type;if(o&8)s0(e,t,n.child,r);else if(o&32){let a=l2(n,t),l;for(;l=a();)r.push(l)}else if(o&16){let a=_6(t,n);if(Array.isArray(a))r.push(...a);else{let l=_c(t[eo]);s0(l[In],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function J9(e,t){for(let n=ts;n<e.length;n++){let r=e[n],i=r[In].firstChild;i!==null&&s0(r[In],r,i,t)}e[kf]!==e[Ia]&&t.push(e[kf])}function w6(e){if(e[gb]!==null){for(let t of e[gb])t.impl.addSequence(t);e[gb].length=0}}var x6=[];function Q9(e){return e[Ms]??eP(e)}function eP(e){let t=x6.pop()??Object.create(nP);return t.lView=e,t}function tP(e){e.lView[Ms]!==e&&(e.lView=null,x6.push(e))}var nP=Zt(at({},bu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Of(e.lView)},consumerOnSignalRead(){this.lView[Ms]=this}});function rP(e){let t=e[Ms]??Object.create(iP);return t.lView=e,t}var iP=Zt(at({},bu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=_c(e.lView);for(;t&&!E6(t[In]);)t=_c(t);t&&eS(t)},consumerOnSignalRead(){this.lView[Ms]=this}});function E6(e){return e.type!==2}function S6(e){if(e[vc]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[vc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[on]&8192)}}var sP=100;function C6(e,t=!0,n=0){let i=e[va].rendererFactory,s=!1;s||i.begin?.();try{oP(e,n)}catch(o){throw t&&O9(e,o),o}finally{s||i.end?.()}}function oP(e,t){let n=aS();try{Jm(!0),ov(e,t);let r=0;for(;b0(e);){if(r===sP)throw new lt(103,!1);r++,ov(e,1)}}finally{Jm(n)}}function aP(e,t,n,r){if(Fu(t))return;let i=t[on],s=!1,o=!1;Vv(t);let a=!0,l=null,c=null;s||(E6(e)?(c=Q9(t),l=mf(c)):qy()===null?(a=!1,c=rP(t),l=mf(c)):t[Ms]&&(gf(t[Ms]),t[Ms]=null));try{Q4(t),UR(e.bindingStartIndex),n!==null&&p6(e,t,n,2,r);let u=(i&3)===3;if(!s)if(u){let f=e.preOrderCheckHooks;f!==null&&Um(t,f,null)}else{let f=e.preOrderHooks;f!==null&&zm(t,f,0,null),yb(t,0)}if(o||lP(t),S6(t),I6(t,0),e.contentQueries!==null&&KS(e,t),!s)if(u){let f=e.contentCheckHooks;f!==null&&Um(t,f)}else{let f=e.contentHooks;f!==null&&zm(t,f,1),yb(t,1)}uP(e,t);let d=e.components;d!==null&&A6(t,d,0);let h=e.viewQuery;if(h!==null&&Kb(2,h,r),!s)if(u){let f=e.viewCheckHooks;f!==null&&Um(t,f)}else{let f=e.viewHooks;f!==null&&zm(t,f,2),yb(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[mb]){for(let f of t[mb])f();t[mb]=null}s||(w6(t),t[on]&=-73)}catch(u){throw s||Of(t),u}finally{c!==null&&(um(c,l),a&&tP(c)),Uv()}}function I6(e,t){for(let n=BS(e);n!==null;n=VS(n))for(let r=ts;r<n.length;r++){let i=n[r];T6(i,t)}}function lP(e){for(let t=BS(e);t!==null;t=VS(t)){if(!(t[on]&2))continue;let n=t[Zm];for(let r=0;r<n.length;r++){let i=n[r];eS(i)}}}function cP(e,t,n){cr(18);let r=Io(t,e);T6(r,n),cr(19,r[Jr])}function T6(e,t){Bv(e)&&ov(e,t)}function ov(e,t){let r=e[In],i=e[on],s=e[Ms],o=!!(t===0&&i&16);if(o||=!!(i&64&&t===0),o||=!!(i&1024),o||=!!(s?.dirty&&dm(s)),o||=!1,s&&(s.dirty=!1),e[on]&=-9217,o)aP(r,e,r.template,e[Jr]);else if(i&8192){S6(e),I6(e,1);let a=r.components;a!==null&&A6(e,a,1),w6(e)}}function A6(e,t,n){for(let r=0;r<t.length;r++)cP(e,t[r],n)}function uP(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)wc(~i);else{let s=i,o=n[++r],a=n[++r];HR(o,s);let l=t[s];cr(24,l),a(2,l),cr(25,l)}}}finally{wc(-1)}}function h2(e,t){let n=aS()?64:1088;for(e[va].changeDetectionScheduler?.notify(t);e;){e[on]|=n;let r=_c(e);if(Xm(e)&&!r)return e;e=r}return null}function dP(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function k6(e,t){let n=ts+t;if(n<e.length)return e[n]}function p2(e,t,n,r=!0){let i=t[In];if(fP(i,t,e,n),r){let o=sv(n,e),a=t[Qr],l=a.parentNode(e[kf]);l!==null&&V9(i,e[ko],a,t,l,o)}let s=t[Tf];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function D6(e,t){let n=m2(e,t);return n!==void 0&&u2(n[In],n),n}function m2(e,t){if(e.length<=ts)return;let n=ts+t,r=e[n];if(r){let i=r[ku];i!==null&&i!==e&&c2(i,r),t>0&&(e[n-1][Qs]=r[Qs]);let s=F4(e,ts+t);B9(r[In],r);let o=s[Du];o!==null&&o.detachView(s[In]),r[Rs]=null,r[Qs]=null,r[on]&=-129}return r}function fP(e,t,n,r){let i=ts+r,s=n.length;r>0&&(n[i-1][Qs]=t),r<s-ts?(t[Qs]=n[i],aR(n,ts+r,t)):(n.push(t),t[Qs]=null),t[Rs]=n;let o=t[ku];o!==null&&n!==o&&N6(o,t);let a=t[Du];a!==null&&a.insertView(e),Pb(t),t[on]|=128}function N6(e,t){let n=e[Zm],r=t[Rs];if(gl(r))e[on]|=2;else{let i=r[Rs][eo];t[eo]!==i&&(e[on]|=2)}n===null?e[Zm]=[t]:n.push(t)}var av=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[In];return s0(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Jr]}set context(t){this._lView[Jr]=t}get destroyed(){return Fu(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Rs];if(Sc(t)){let n=t[ER],r=n?n.indexOf(this):-1;r>-1&&(m2(t,r),F4(n,r))}this._attachedToViewContainer=!1}u2(this._lView[In],this._lView)}onDestroy(t){tS(this._lView,t)}markForCheck(){h2(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[on]&=-129}reattach(){Pb(this._lView),this._lView[on]|=128}detectChanges(){this._lView[on]|=1024,C6(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Xm(this._lView),n=this._lView[ku];n!==null&&!t&&c2(n,this._lView),v6(this._lView[In],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new lt(902,!1);this._appRef=t;let n=Xm(this._lView),r=this._lView[ku];r!==null&&!n&&N6(r,this._lView),Pb(this._lView)}};function g2(e,t,n,r,i){let s=e.data[t];if(s===null)s=hP(e,t,n,r,i),zR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=jR();s.injectorIndex=o===null?-1:o.injectorIndex}return Pf(s,!0),s}function hP(e,t,n,r,i){let s=sS(),o=oS(),a=o?s:s&&s.parent,l=e.data[t]=mP(e,a,n,t,r,i);return pP(e,l,s,o),l}function pP(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function mP(e,t,n,r,i,s){let o=t?t.injectorIndex:-1,a=0;return PR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var kte=new RegExp(`^(\\d+)*(${NO}|${DO})*(.*)`);var gP=()=>null;function y2(e,t){return gP(e,t)}var yP=class{},M6=class{},lv=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Ns(t)}.`)}},b2=class{static NULL=new lv},yl=class{},Tc=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>bP()}return e})();function bP(){let e=Hn(),t=to(),n=Io(t.index,e);return(gl(n)?n:e)[Qr]}var vP=(()=>{class e{static \u0275prov=yn({token:e,providedIn:"root",factory:()=>null})}return e})();var _b={},cv=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=h0(r);let i=this.injector.get(t,_b,r);return i!==_b||n===_b?i:this.parentInjector.get(t,n,r)}};function h4(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")s=a;else if(s==1)i=Ab(i,a);else if(s==2){let l=a,c=t[++o];r=Ab(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Mn(e,t=wn.Default){let n=Hn();if(n===null)return cn(e,t);let r=to();return CS(r,n,ji(e),t)}function R6(e,t,n,r,i){let s=r===null?null:{"":-1},o=i(e,n);if(o!==null){let a,l=null,c=null,u=wP(o);u===null?a=o:[a,l,c]=u,SP(e,t,n,a,s,l,c)}s!==null&&r!==null&&_P(n,r,s)}function _P(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let s=n[t[i+1]];if(s==null)throw new lt(-301,!1);r.push(t[i],s)}}function wP(e){let t=null,n=!1;for(let o=0;o<e.length;o++){let a=e[o];if(o===0&&Co(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,s=null;for(let o of e)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,xP(o,r,s,i)),o===t&&(r??=[],r.push(o));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,s]):null}function xP(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function EP(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function SP(e,t,n,r,i,s,o){let a=r.length,l=!1;for(let h=0;h<a;h++){let f=r[h];!l&&Co(f)&&(l=!0,EP(e,n,h)),Ub(e0(n,t),e,f.type)}DP(n,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=d6(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=Df(n.mergedAttrs,f.hostAttrs),IP(e,n,t,d,f),kP(d,f,i),o!==null&&o.has(f)){let[g,y]=o.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,y+n.directiveStart])}else(s===null||!s.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}CP(e,n,s)}function CP(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))p4(0,t,i,r),p4(1,t,i,r),g4(t,r,!1);else{let s=n.get(i);m4(0,t,s,r),m4(1,t,s,r),g4(t,r,!0)}}}function p4(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;e===0?o=t.inputs??={}:o=t.outputs??={},o[s]??=[],o[s].push(r),O6(t,s)}}function m4(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),O6(t,o)}}function O6(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function g4(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=e;if(r===null||!n&&i===null||n&&s===null||e2(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===t){o??=[],o.push(l,r[a+1]);break}}else if(n&&s.hasOwnProperty(l)){let c=s[l];for(let u=0;u<c.length;u+=2)if(c[u]===t){o??=[],o.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(o)}function IP(e,t,n,r,i){e.data[r]=i;let s=i.factory||(i.factory=yc(i.type,!0)),o=new xc(s,Co(i),Mn);e.blueprint[r]=o,n[r]=o,TP(e,t,r,d6(e,n,i.hostVars,ns),i)}function TP(e,t,n,r,i){let s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;o===null&&(o=e.hostBindingOpCodes=[]);let a=~t.index;AP(o)!=a&&o.push(a),o.push(n,r,s)}}function AP(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function kP(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Co(t)&&(n[""]=e)}}function DP(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function P6(e,t,n,r,i,s,o,a){let l=t.consts,c=Nu(l,o),u=g2(t,e,2,r,c);return s&&R6(t,n,u,Nu(l,a),i),u.mergedAttrs=Df(u.mergedAttrs,u.attrs),u.attrs!==null&&h4(u,u.attrs,!1),u.mergedAttrs!==null&&h4(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function L6(e,t){yS(e,t),G4(t)&&e.queries.elementEnd(t)}var uv=class extends b2{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Mv(t);return new dv(n,this.ngModule)}};function NP(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],s={propName:n,templateName:t,isSignal:(r&E0.SignalBased)!==0};return i&&(s.transform=i),s})}function MP(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function RP(e,t,n){let r=t instanceof ba?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new cv(n,r):n}function OP(e){let t=e.get(yl,null);if(t===null)throw new lt(407,!1);let n=e.get(vP,null),r=e.get(Mu,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function PP(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return o6(t,n,n==="svg"?TR:n==="math"?AR:null)}var dv=class extends M6{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=NP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=MP(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=b9(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){cr(22);let s=gn(null);try{let o=this.componentDef,a=r?["ng-version","19.2.18"]:v9(this.componentDef.selectors[0]),l=t2(0,null,null,1,0,null,null,null,null,[a],null),c=RP(o,i||this.ngModule,t),u=OP(c),d=u.rendererFactory.createRenderer(null,o),h=r?E9(d,r,o.encapsulation,c):PP(o,d),f=n2(null,l,null,512|u6(o),null,null,u,d,c,null,GS(h,c,!0));f[xi]=h,Vv(f);let p=null;try{let g=P6(xi,l,f,"#host",()=>[this.componentDef],!0,0);h&&(l6(d,h,g),Lf(h,f)),r2(l,f,g),YS(l,g,f),L6(l,g),n!==void 0&&LP(g,this.ngContentSelectors,n),p=Io(g.index,f),f[Jr]=p[Jr],s2(l,f,null)}catch(g){throw p!==null&&Wb(p),Wb(f),g}finally{cr(23),Uv()}return new fv(this.componentType,f)}finally{gn(s)}}},fv=class extends yP{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=Fv(n[In],xi),this.location=OS(this._tNode,n),this.instance=Io(this._tNode.index,n)[Jr],this.hostView=this.changeDetectorRef=new av(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,s=i2(r,i[In],i,t,n);this.previousInputValues.set(t,n);let o=Io(r.index,i);h2(o,1)}get injector(){return new n0(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function LP(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var FP=()=>!1;function jP(e,t,n){return FP(e,t,n)}var o0=class{};var a0=class extends o0{injector;componentFactoryResolver=new uv(this);instance=null;constructor(t){super();let n=new If([...t.providers,{provide:o0,useValue:this},{provide:b2,useValue:this.componentFactoryResolver}],t.parent||Pv(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function BP(e,t,n=null){return new a0({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var VP=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=V4(!1,n.type),i=r.length>0?BP([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=yn({token:e,providedIn:"environment",factory:()=>new e(cn(ba))})}return e})();function ri(e){return f0(()=>{let t=F6(e),n=Zt(at({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===FS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(VP).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||To.Emulated,styles:e.styles||es,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&jf("NgStandalone"),j6(n);let r=e.dependencies;return n.directiveDefs=y4(r,!1),n.pipeDefs=y4(r,!0),n.id=qP(n),n})}function UP(e){return Mv(e)||uR(e)}function zP(e){return e!==null}function Na(e){return f0(()=>({type:e.type,bootstrap:e.bootstrap||es,declarations:e.declarations||es,imports:e.imports||es,exports:e.exports||es,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function HP(e,t){if(e==null)return bc;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],s,o,a,l;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,a=E0.None,l=null),n[s]=[r,a,l],t[s]=o}return n}function $P(e){if(e==null)return bc;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ii(e){return f0(()=>{let t=F6(e);return j6(t),t})}function v2(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function F6(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||bc,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||es,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:HP(e.inputs,t),outputs:$P(e.outputs),debugInfo:null}}function j6(e){e.features?.forEach(t=>t(e))}function y4(e,t){if(!e)return null;let n=t?dR:UP;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(zP)}function qP(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let s of r.join("|"))t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function WP(e){return Object.getPrototypeOf(e.prototype).constructor}function Ps(e){let t=WP(e.type),n=!0,r=[e];for(;t;){let i;if(Co(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new lt(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let o=e;o.inputs=wb(e.inputs),o.declaredInputs=wb(e.declaredInputs),o.outputs=wb(e.outputs);let a=i.hostBindings;a&&XP(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&YP(e,l),c&&ZP(e,c),GP(e,i),$7(e.outputs,i.outputs),Co(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(e),a===Ps&&(n=!1)}}t=Object.getPrototypeOf(t)}KP(r)}function GP(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function KP(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Df(i.hostAttrs,n=Df(n,i.hostAttrs))}}function wb(e){return e===bc?{}:e===es?[]:e}function YP(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function ZP(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,s)=>{t(r,i,s),n(r,i,s)}:e.contentQueries=t}function XP(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function B6(e,t,n){return e[t]=n}function Os(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function _2(e,t,n,r){let i=Os(e,t,n);return Os(e,t+1,r)||i}function JP(e,t,n,r,i){let s=_2(e,t,n,r);return Os(e,t+2,i)||s}function QP(e,t,n,r,i,s,o,a,l){let c=t.consts,u=g2(t,e,4,o||null,a||null);iS()&&R6(t,n,u,Nu(c,l),y6),u.mergedAttrs=Df(u.mergedAttrs,u.attrs),yS(t,u);let d=u.tView=t2(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function hv(e,t,n,r,i,s,o,a,l,c){let u=n+xi,d=t.firstCreatePass?QP(u,t,e,r,i,s,o,a,l):t.data[u];Pf(d,!1);let h=eL(t,e,d,n);Hv()&&d2(t,e,h,d),Lf(h,e);let f=dP(h,e,h,d);return e[u]=f,f6(e,f),jP(f,d,e),Lv(d)&&r2(t,e,d),l!=null&&m6(e,d,c),d}function Ln(e,t,n,r,i,s,o,a){let l=Hn(),c=Ei(),u=Nu(c.consts,s);return hv(l,c,e,t,n,r,i,u,o,a),Ln}var eL=tL;function tL(e,t,n,r){return $v(!0),t[Qr].createComment("")}var V6=new qt("");var U6=(()=>{class e{static \u0275prov=yn({token:e,providedIn:"root",factory:()=>new pv})}return e})(),pv=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Vf(e){return!!e&&typeof e.then=="function"}function z6(e){return!!e&&typeof e.subscribe=="function"}var nL=new qt("");var H6=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=It(nL,{optional:!0})??[];injector=It(wa);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=m0(this.injector,i);if(Vf(s))n.push(s);else if(z6(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rL=new qt("");function iL(){Zy(()=>{throw new lt(600,!1)})}function sL(e){return e.isBoundToModule}var oL=10;var Ru=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=It(wO);afterRenderManager=It(OO);zonelessEnabled=It(qv);rootEffectScheduler=It(U6);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ga;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=It(Vu).hasPendingTasks.pipe(Ji(n=>!n));constructor(){It(w0,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=It(ba);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=wa.NULL){cr(10);let s=n instanceof M6;if(!this._injector.get(H6).done){let f="";throw new lt(405,f)}let a;s?a=n:a=this._injector.get(b2).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=sL(a)?void 0:this._injector.get(o0),c=r||a.selector,u=a.create(i,[],c,l),d=u.location.nativeElement,h=u.injector.get(V6,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Hm(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),cr(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){cr(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qS.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new lt(101,!1);let n=gn(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,gn(n),this.afterTick.next(),cr(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(yl,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<oL;)cr(14),this.synchronizeOnce(),cr(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)aL(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>b0(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Hm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(rL,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new lt(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hm(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function aL(e,t,n,r){if(!n&&!b0(e))return;C6(e,t,n&&!r?0:1)}function C0(e,t,n,r){let i=Hn(),s=ju();if(Os(i,s,t)){let o=Ei(),a=zv();N9(a,i,e,t,n,r)}return C0}function lL(e,t,n,r){return Os(e,ju(),n)?t+ya(n)+r:ns}function cL(e,t,n,r,i,s){let o=cS(),a=_2(e,o,n,i);return v0(2),a?t+ya(n)+r+ya(i)+s:ns}function uL(e,t,n,r,i,s,o,a){let l=cS(),c=JP(e,l,n,i,o);return v0(3),c?t+ya(n)+r+ya(i)+s+ya(o)+a:ns}function Bm(e,t){return e<<17|t<<2}function Ec(e){return e>>17&32767}function dL(e){return(e&2)==2}function fL(e,t){return e&131071|t<<17}function mv(e){return e|2}function Ou(e){return(e&131068)>>2}function xb(e,t){return e&-131069|t<<2}function hL(e){return(e&1)===1}function gv(e){return e|1}function pL(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=Ec(o),l=Ou(o);e[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Rf(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let h=Ec(e[a+1]);e[r+1]=Bm(h,a),h!==0&&(e[h+1]=xb(e[h+1],r)),e[a+1]=fL(e[a+1],r)}else e[r+1]=Bm(a,0),a!==0&&(e[a+1]=xb(e[a+1],r)),a=r;else e[r+1]=Bm(l,0),a===0?a=r:e[l+1]=xb(e[l+1],r),l=r;c&&(e[r+1]=mv(e[r+1])),b4(e,u,r,!0),b4(e,u,r,!1),mL(t,u,e,r,s),o=Bm(a,l),s?t.classBindings=o:t.styleBindings=o}function mL(e,t,n,r,i){let s=i?e.residualClasses:e.residualStyles;s!=null&&typeof t=="string"&&Rf(s,t)>=0&&(n[r+1]=gv(n[r+1]))}function b4(e,t,n,r){let i=e[n+1],s=t===null,o=r?Ec(i):Ou(i),a=!1;for(;o!==0&&(a===!1||s);){let l=e[o],c=e[o+1];gL(l,t)&&(a=!0,e[o+1]=r?gv(c):mv(c)),o=r?Ec(c):Ou(c)}a&&(e[n+1]=r?mv(i):gv(i))}function gL(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Rf(e,t)>=0:!1}var Js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yL(e){return e.substring(Js.key,Js.keyEnd)}function bL(e){return vL(e),$6(e,q6(e,0,Js.textEnd))}function $6(e,t){let n=Js.textEnd;return n===t?-1:(t=Js.keyEnd=_L(e,Js.key=t,n),q6(e,t,n))}function vL(e){Js.key=0,Js.keyEnd=0,Js.value=0,Js.valueEnd=0,Js.textEnd=e.length}function q6(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function _L(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Kn(e,t,n){let r=Hn(),i=ju();if(Os(r,i,t)){let s=Ei(),o=zv();g6(s,o,r,e,t,r[Qr],n,!1)}return Kn}function yv(e,t,n,r,i){i2(t,e,n,i?"class":"style",r)}function pr(e,t){return xL(e,t,null,!0),pr}function mr(e){EL(kL,wL,e,!0)}function wL(e,t){for(let n=bL(t);n>=0;n=$6(t,n))Nv(e,yL(t),!0)}function xL(e,t,n,r){let i=Hn(),s=Ei(),o=v0(2);if(s.firstUpdatePass&&G6(s,e,o,r),t!==ns&&Os(i,o,t)){let a=s.data[Do()];K6(s,a,i,i[Qr],e,i[o+1]=NL(t,n),r,o)}}function EL(e,t,n,r){let i=Ei(),s=v0(2);i.firstUpdatePass&&G6(i,null,s,r);let o=Hn();if(n!==ns&&Os(o,s,n)){let a=i.data[Do()];if(Y6(a,r)&&!W6(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Ab(l,n||"")),yv(i,a,o,n,r)}else DL(i,a,o,o[Qr],o[s+1],o[s+1]=AL(e,t,n),r,s)}}function W6(e,t){return t>=e.expandoStartIndex}function G6(e,t,n,r){let i=e.data;if(i[n+1]===null){let s=i[Do()],o=W6(e,n);Y6(s,r)&&t===null&&!o&&(t=!1),t=SL(i,s,t,r),pL(i,s,t,n,o,r)}}function SL(e,t,n,r){let i=qR(e),s=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Eb(null,e,t,n,r),n=Mf(n,t.attrs,r),s=null);else{let o=t.directiveStylingLast;if(o===-1||e[o]!==i)if(n=Eb(i,e,t,n,r),s===null){let l=CL(e,t,r);l!==void 0&&Array.isArray(l)&&(l=Eb(null,e,t,l[1],r),l=Mf(l,t.attrs,r),IL(e,t,r,l))}else s=TL(e,t,r)}return s!==void 0&&(r?t.residualClasses=s:t.residualStyles=s),n}function CL(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Ou(r)!==0)return e[Ec(r)]}function IL(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Ec(i)]=r}function TL(e,t,n){let r,i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++){let o=e[s].hostAttrs;r=Mf(r,o,n)}return Mf(r,t.attrs,n)}function Eb(e,t,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=t[a],r=Mf(r,s.hostAttrs,i),s!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Mf(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let s=0;s<t.length;s++){let o=t[s];typeof o=="number"?i=o:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Nv(e,o,n?!0:t[++s]))}return e===void 0?null:e}function AL(e,t,n){if(n==null||n==="")return es;let r=[],i=Aa(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else typeof i=="string"&&t(r,i);return r}function kL(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Nv(e,r,n)}function DL(e,t,n,r,i,s,o,a){i===ns&&(i=es);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0,p=null,g;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),p!==null&&K6(e,t,n,r,p,g,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}function K6(e,t,n,r,i,s,o,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=hL(c)?v4(l,t,n,i,Ou(c),o):void 0;if(!l0(u)){l0(s)||dL(c)&&(s=v4(l,null,n,i,a,o));let d=J4(Do(),n);X9(r,o,d,i,s)}}function v4(e,t,n,r,i,s){let o=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[i+1];h===ns&&(h=d?es:void 0);let f=d?hb(h,r):u===r?h:void 0;if(c&&!l0(f)&&(f=hb(l,r)),l0(f)&&(a=f,o))return a;let p=e[i+1];i=o?Ec(p):Ou(p)}if(t!==null){let l=s?t.residualClasses:t.residualStyles;l!=null&&(a=hb(l,r))}return a}function l0(e){return e!==void 0}function NL(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Ns(Aa(e)))),e}function Y6(e,t){return(e.flags&(t?8:16))!==0}var bv=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(t,n){this.attach(n,this.detach(t))}};function Sb(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function ML(e,t,n){let r,i,s=0,o=e.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;s<=o&&s<=l;){let c=e.at(s),u=t[s],d=Sb(s,c,s,u,n);if(d!==0){d<0&&e.updateValue(s,u),s++;continue}let h=e.at(o),f=t[l],p=Sb(o,h,l,f,n);if(p!==0){p<0&&e.updateValue(o,f),o--,l--;continue}let g=n(s,c),y=n(o,h),v=n(s,u);if(Object.is(v,y)){let S=n(l,f);Object.is(S,g)?(e.swap(s,o),e.updateValue(o,f),l--,o--):e.move(o,s),e.updateValue(s,u),s++;continue}if(r??=new c0,i??=w4(e,s,o,n),vv(e,r,s,v))e.updateValue(s,u),s++,o++;else if(i.has(v))r.set(g,e.detach(s)),o--;else{let S=e.create(s,t[s]);e.attach(s,S),s++,o++}}for(;s<=l;)_4(e,r,n,s,t[s]),s++}else if(t!=null){let l=t[Symbol.iterator](),c=l.next();for(;!c.done&&s<=o;){let u=e.at(s),d=c.value,h=Sb(s,u,s,d,n);if(h!==0)h<0&&e.updateValue(s,d),s++,c=l.next();else{r??=new c0,i??=w4(e,s,o,n);let f=n(s,d);if(vv(e,r,s,f))e.updateValue(s,d),s++,o++,c=l.next();else if(!i.has(f))e.attach(s,e.create(s,d)),s++,o++,c=l.next();else{let p=n(s,u);r.set(p,e.detach(s)),o--}}}for(;!c.done;)_4(e,r,n,e.length,c.value),c=l.next()}for(;s<=o;)e.destroy(e.detach(o--));r?.forEach(l=>{e.destroy(l)})}function vv(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function _4(e,t,n,r,i){if(vv(e,t,r,n(r,i)))e.updateValue(r,i);else{let s=e.create(r,i);e.attach(r,s)}}function w4(e,t,n,r){let i=new Set;for(let s=t;s<=n;s++)i.add(r(s,e.at(s)));return i}var c0=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function Fn(e,t){jf("NgControlFlow");let n=Hn(),r=ju(),i=n[r]!==ns?n[r]:-1,s=i!==-1?u0(n,xi+i):void 0,o=0;if(Os(n,r,e)){let a=gn(null);try{if(s!==void 0&&D6(s,o),e!==-1){let l=xi+e,c=u0(n,l),u=Ev(n[In],l),d=y2(c,u.tView.ssrId),h=o2(n,u,t,{dehydratedView:d});p2(c,h,o,a2(u,d))}}finally{gn(a)}}else if(s!==void 0){let a=k6(s,o);a!==void 0&&(a[Jr]=t)}}var _v=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ts}};function I0(e){return e}var wv=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Bi(e,t,n,r,i,s,o,a,l,c,u,d,h){jf("NgControlFlow");let f=Hn(),p=Ei(),g=l!==void 0,y=Hn(),v=a?o.bind(y[eo][Jr]):o,S=new wv(g,v);y[xi+e]=S,hv(f,p,e+1,t,n,r,i,Nu(p.consts,s)),g&&hv(f,p,e+2,l,c,u,d,Nu(p.consts,h))}var xv=class extends bv{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-ts}at(t){return this.getLView(t)[Jr].$implicit}attach(t,n){let r=n[Tf];this.needsIndexUpdate||=t!==this.length,p2(this.lContainer,n,t,a2(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,RL(this.lContainer,t)}create(t,n){let r=y2(this.lContainer,this.templateTNode.tView.ssrId),i=o2(this.hostLView,this.templateTNode,new _v(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){u2(t[In],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[Jr].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Jr].$index=t}getLView(t){return OL(this.lContainer,t)}};function Vi(e){let t=gn(null),n=Do();try{let r=Hn(),i=r[In],s=r[n],o=n+1,a=u0(r,o);if(s.liveCollection===void 0){let c=Ev(i,o);s.liveCollection=new xv(a,r,c)}else s.liveCollection.reset();let l=s.liveCollection;if(ML(l,e,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let c=ju(),u=l.length===0;if(Os(r,c,u)){let d=n+2,h=u0(r,d);if(u){let f=Ev(i,d),p=y2(h,f.tView.ssrId),g=o2(r,f,void 0,{dehydratedView:p});p2(h,g,0,a2(f,p))}else D6(h,0)}}}finally{gn(t)}}function u0(e,t){return e[t]}function RL(e,t){return m2(e,t)}function OL(e,t){return k6(e,t)}function Ev(e,t){return Fv(e,t)}function se(e,t,n,r){let i=Hn(),s=Ei(),o=xi+e,a=i[Qr],l=s.firstCreatePass?P6(o,s,i,t,y6,iS(),n,r):s.data[o],c=PL(s,i,l,a,t,e);i[o]=c;let u=Lv(l);return Pf(l,!0),l6(a,c,l),!b6(l)&&Hv()&&d2(s,i,c,l),(MR()===0||u)&&Lf(c,i),RR(),u&&(r2(s,i,l),YS(s,l,i)),r!==null&&m6(i,l),se}function ae(){let e=to();oS()?BR():(e=e.parent,Pf(e,!1));let t=e;LR(t)&&FR(),OR();let n=Ei();return n.firstCreatePass&&L6(n,t),t.classesWithoutHost!=null&&XR(t)&&yv(n,t,Hn(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&JR(t)&&yv(n,t,Hn(),t.stylesWithoutHost,!1),ae}function He(e,t,n,r){return se(e,t,n,r),ae(),He}var PL=(e,t,n,r,i,s)=>($v(!0),o6(r,i,KR()));function yr(){return Hn()}var mc=void 0;function LL(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var FL=["en",[["a","p"],["AM","PM"],mc],[["AM","PM"],mc,mc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mc,"{1} 'at' {0}",mc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",LL],Cb={};function rs(e){let t=jL(e),n=x4(t);if(n)return n;let r=t.split("-")[0];if(n=x4(r),n)return n;if(r==="en")return FL;throw new lt(701,!1)}function x4(e){return e in Cb||(Cb[e]=Eo.ng&&Eo.ng.common&&Eo.ng.common.locales&&Eo.ng.common.locales[e]),Cb[e]}var wr=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(wr||{});function jL(e){return e.toLowerCase().replace(/_/g,"-")}var d0="en-US",BL="USD";var VL=d0;function UL(e){typeof e=="string"&&(VL=e.toLowerCase().replace(/_/g,"-"))}function E4(e,t,n){return function r(i){if(i===Function)return n;let s=Lu(e)?Io(e.index,t):t;h2(s,5);let o=t[Jr],a=S4(t,o,n,i),l=r.__ngNextListenerFn__;for(;l;)a=S4(t,o,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function S4(e,t,n,r){let i=gn(null);try{return cr(6,t,n),n(r)!==!1}catch(s){return zL(e,s),!1}finally{cr(7,t,n),gn(i)}}function zL(e,t){let n=e[Au],r=n?n.get(xa,null):null;r&&r.handleError(t)}function C4(e,t,n,r,i,s){let o=t[n],a=t[In],c=a.data[n].outputs[r],u=o[c],d=a.firstCreatePass?rS(a):null,h=nS(t),f=u.subscribe(s),p=h.length;h.push(s,f),d&&d.push(i,e.index,p,-(p+1))}function Lt(e,t,n,r){let i=Hn(),s=Ei(),o=to();return Z6(s,i,i[Qr],o,e,t,r),Lt}function HL(e,t,n,r){let i=e.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=t[Ym],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function Z6(e,t,n,r,i,s,o){let a=Lv(r),c=e.firstCreatePass?rS(e):null,u=nS(t),d=!0;if(r.type&3||o){let h=Ta(r,t),f=o?o(h):h,p=u.length,g=o?v=>o(_a(v[r.index])):r.index,y=null;if(!o&&a&&(y=HL(e,t,i,r.index)),y!==null){let v=y.__ngLastListenerFn__||y;v.__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,d=!1}else{s=E4(r,t,s),LO(t,f,i,s);let v=n.listen(f,i,s);u.push(s,v),c&&c.push(i,g,p,p+1)}}else s=E4(r,t,s);if(d){let h=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let g=f[p],y=f[p+1];C4(r,t,g,y,i,s)}if(h&&h.length)for(let p of h)C4(r,t,p,i,i,s)}}function Dt(e=1){return GR(e)}function No(e){let t=VR();return jv(t,xi+e)}function be(e,t=""){let n=Hn(),r=Ei(),i=e+xi,s=r.firstCreatePass?g2(r,i,1,t,null):r.data[i],o=$L(r,n,s,t,e);n[i]=o,Hv()&&d2(r,n,o,s),Pf(s,!1)}var $L=(e,t,n,r,i)=>($v(!0),r9(t[Qr],r));function xn(e){return tn("",e,""),xn}function tn(e,t,n){let r=Hn(),i=lL(r,e,t,n);return i!==ns&&w2(r,Do(),i),tn}function Uf(e,t,n,r,i){let s=Hn(),o=cL(s,e,t,n,r,i);return o!==ns&&w2(s,Do(),o),Uf}function T0(e,t,n,r,i,s,o){let a=Hn(),l=uL(a,e,t,n,r,i,s,o);return l!==ns&&w2(a,Do(),l),T0}function w2(e,t,n){let r=J4(t,e);i9(e[Qr],r,n)}function Ls(e,t,n){PS(t)&&(t=t());let r=Hn(),i=ju();if(Os(r,i,t)){let s=Ei(),o=zv();g6(s,o,r,e,t,r[Qr],n,!1)}return Ls}function no(e,t){let n=PS(e);return n&&e.set(t),n}function Fs(e,t){let n=Hn(),r=Ei(),i=to();return Z6(r,n,n[Qr],i,e,t),Fs}function qL(e,t,n){let r=Ei();if(r.firstCreatePass){let i=Co(e);Sv(n,r.data,r.blueprint,i,!0),Sv(t,r.data,r.blueprint,i,!1)}}function Sv(e,t,n,r,i){if(e=ji(e),Array.isArray(e))for(let s=0;s<e.length;s++)Sv(e[s],t,n,r,i);else{let s=Ei(),o=Hn(),a=to(),l=Tu(e)?e:ji(e.provide),c=H4(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Tu(e)||!e.multi){let f=new xc(c,i,Mn),p=Tb(l,t,i?u:u+h,d);p===-1?(Ub(e0(a,o),s,l),Ib(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=Tb(l,t,u+h,d),p=Tb(l,t,u,u+h),g=f>=0&&n[f],y=p>=0&&n[p];if(i&&!y||!i&&!g){Ub(e0(a,o),s,l);let v=KL(i?GL:WL,n.length,i,r,c);!i&&y&&(n[p].providerFactory=v),Ib(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else{let v=X6(n[i?p:f],c,!i&&r);Ib(s,e,f>-1?f:p,v)}!i&&r&&y&&n[p].componentProviders++}}}function Ib(e,t,n,r){let i=Tu(t),s=gR(t);if(i||s){let l=(s?ji(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function X6(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Tb(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function WL(e,t,n,r,i){return Cv(this.multi,[])}function GL(e,t,n,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=t0(r,r[In],this.providerFactory.index,i);o=l.slice(0,a),Cv(s,o);for(let c=a;c<l.length;c++)o.push(l[c])}else o=[],Cv(s,o);return o}function Cv(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function KL(e,t,n,r,i){let s=new xc(e,n,Mn);return s.multi=[],s.index=t,s.componentProviders=0,X6(s,i,r&&!n),s}function vl(e,t=[]){return n=>{n.providersResolver=(r,i)=>qL(r,i?i(e):e,t)}}function J6(e,t){let n=e[t];return n===ns?void 0:n}function YL(e,t,n,r,i,s){let o=t+n;return Os(e,o,i)?B6(e,o+1,s?r.call(s,i):r(i)):J6(e,o+1)}function ZL(e,t,n,r,i,s,o){let a=t+n;return _2(e,a,i,s)?B6(e,a+2,o?r.call(o,i,s):r(i,s)):J6(e,a+2)}function js(e,t){let n=Ei(),r,i=e+xi;n.firstCreatePass?(r=XL(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=yc(r.type,!0)),o,a=Qi(Mn);try{let l=Qm(!1),c=s();return Qm(l),kR(n,Hn(),i,c),c}finally{Qi(a)}}function XL(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function A0(e,t,n){let r=e+xi,i=Hn(),s=jv(i,r);return Q6(i,r)?YL(i,lS(),t,s.transform,n,s):s.transform(n)}function Mo(e,t,n,r){let i=e+xi,s=Hn(),o=jv(s,i);return Q6(s,i)?ZL(s,lS(),t,o.transform,n,r,o):o.transform(n,r)}function Q6(e,t){return e[In].data[t].pure}var JL=(()=>{class e{zone=It(Pr);changeDetectionScheduler=It(Mu);applicationRef=It(Ru);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function QL({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Pr(Zt(at({},eF()),{scheduleInRootZone:n})),[{provide:Pr,useFactory:e},{provide:Cf,multi:!0,useFactory:()=>{let r=It(JL,{optional:!0});return()=>r.initialize()}},{provide:Cf,multi:!0,useFactory:()=>{let r=It(tF);return()=>{r.initialize()}}},t===!0?{provide:kS,useValue:!0}:[],{provide:DS,useValue:n??AS}]}function eF(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var tF=(()=>{class e{subscription=new Fi;initialized=!1;zone=It(Pr);pendingTasks=It(Vu);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pr.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pr.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var nF=(()=>{class e{appRef=It(Ru);taskService=It(Vu);ngZone=It(Pr);zonelessEnabled=It(qv);tracing=It(w0,{optional:!0});disableScheduling=It(kS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fi;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(i0):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(It(DS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof qb||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?QE:NS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(i0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,QE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rF(){return typeof $localize<"u"&&$localize.locale||d0}var zf=new qt("",{providedIn:"root",factory:()=>It(zf,wn.Optional|wn.SkipSelf)||rF()}),eC=new qt("",{providedIn:"root",factory:()=>BL});var Iv=new qt(""),iF=new qt("");function wf(e){return!e.moduleRef}function sF(e){let t=wf(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Pr);return n.run(()=>{wf(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(xa,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),wf(e)){let s=()=>t.destroy(),o=e.platformInjector.get(Iv);o.add(s),t.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>e.moduleRef.destroy(),o=e.platformInjector.get(Iv);o.add(s),e.moduleRef.onDestroy(()=>{Hm(e.allPlatformModules,e.moduleRef),i.unsubscribe(),o.delete(s)})}return aF(r,n,()=>{let s=t.get(H6);return s.runInitializers(),s.donePromise.then(()=>{let o=t.get(zf,d0);if(UL(o||d0),!t.get(iF,!0))return wf(e)?t.get(Ru):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(wf(e)){let l=t.get(Ru);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return oF(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function oF(e,t){let n=e.injector.get(Ru);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new lt(-403,!1);t.push(e)}function aF(e,t,n){try{let r=n();return Vf(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var $m=null;function lF(e=[],t){return wa.create({name:t,providers:[{provide:p0,useValue:"platform"},{provide:Iv,useValue:new Set([()=>$m=null])},...e]})}function cF(e=[]){if($m)return $m;let t=lF(e);return $m=t,iL(),uF(t),t}function uF(e){let t=e.get(Yv,null);m0(e,()=>{t?.forEach(n=>n())})}var x2=(()=>{class e{static __NG_ELEMENT_ID__=dF}return e})();function dF(e){return fF(to(),Hn(),(e&16)===16)}function fF(e,t,n){if(Lu(e)&&!n){let r=Io(e.index,t);return new av(r,r)}else if(e.type&175){let r=t[eo];return new av(r,t)}return null}function tC(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;cr(8);try{let s=i?.injector??cF(r),o=[QL({}),{provide:Mu,useExisting:nF},...n||[]],a=new a0({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return sF({r3Injector:a.injector,platformInjector:s,rootComponent:t})}catch(s){return Promise.reject(s)}finally{cr(9)}}function E2(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Ma(e){return Qy(e)}function pn(e,t){return Yy(e,t?.equal)}var Tv=class{[ks];constructor(t){this[ks]=t}destroy(){this[ks].destroy()}};function Ac(e,t){!t?.injector&&xR(Ac);let n=t?.injector??It(wa),r=t?.manualCleanup!==!0?n.get(_0):null,i,s=n.get(WS,null,{optional:!0}),o=n.get(Mu);return s!==null&&!t?.forceRoot?(i=mF(s.view,o,e),r instanceof r0&&r._lView===s.view&&(r=null)):i=gF(e,n.get(U6),o),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Tv(i)}var nC=Zt(at({},bu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Nf,run(){if(this.dirty=!1,this.hasRun&&!dm(this))return;this.hasRun=!0;let e=r=>(this.cleanupFns??=[]).push(r),t=mf(this),n=Jm(!1);try{this.maybeCleanup(),this.fn(e)}finally{Jm(n),um(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),hF=Zt(at({},nC),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){gf(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),pF=Zt(at({},nC),{consumerMarkedDirty(){this.view[on]|=8192,Of(this.view),this.notifier.notify(13)},destroy(){gf(this),this.onDestroyFn(),this.maybeCleanup(),this.view[vc]?.delete(this)}});function mF(e,t,n){let r=Object.create(pF);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=n,e[vc]??=new Set,e[vc].add(r),r.consumerMarkedDirty(r),r}function gF(e,t,n){let r=Object.create(hF);return r.fn=e,r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var Si=new qt("");var rC=null;function Ra(){return rC}function S2(e){rC??=e}var Hf=class{};var lC={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},N2=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(N2||{});var Ci=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Ci||{}),tr=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(tr||{}),is=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(is||{}),ss={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function cC(e){return rs(e)[wr.LocaleId]}function uC(e,t,n){let r=rs(e),i=[r[wr.DayPeriodsFormat],r[wr.DayPeriodsStandalone]],s=Bs(i,t);return Bs(s,n)}function dC(e,t,n){let r=rs(e),i=[r[wr.DaysFormat],r[wr.DaysStandalone]],s=Bs(i,t);return Bs(s,n)}function fC(e,t,n){let r=rs(e),i=[r[wr.MonthsFormat],r[wr.MonthsStandalone]],s=Bs(i,t);return Bs(s,n)}function hC(e,t){let r=rs(e)[wr.Eras];return Bs(r,t)}function $f(e,t){let n=rs(e);return Bs(n[wr.DateFormat],t)}function qf(e,t){let n=rs(e);return Bs(n[wr.TimeFormat],t)}function Wf(e,t){let r=rs(e)[wr.DateTimeFormat];return Bs(r,t)}function Ro(e,t){let n=rs(e),r=n[wr.NumberSymbols][t];if(typeof r>"u"){if(t===ss.CurrencyDecimal)return n[wr.NumberSymbols][ss.Decimal];if(t===ss.CurrencyGroup)return n[wr.NumberSymbols][ss.Group]}return r}function pC(e,t){return rs(e)[wr.NumberFormats][t]}function yF(e){return rs(e)[wr.Currencies]}function mC(e){if(!e[wr.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[wr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function gC(e){let t=rs(e);return mC(t),(t[wr.ExtraData][2]||[]).map(r=>typeof r=="string"?C2(r):[C2(r[0]),C2(r[1])])}function yC(e,t,n){let r=rs(e);mC(r);let i=[r[wr.ExtraData][0],r[wr.ExtraData][1]],s=Bs(i,t)||[];return Bs(s,n)||[]}function Bs(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function C2(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}function bC(e,t,n="en"){let r=yF(n)[e]||lC[e]||[],i=r[1];return t==="narrow"&&typeof i=="string"?i:r[0]||e}var bF=2;function vC(e){let t,n=lC[e];return n&&(t=n[2]),typeof t=="number"?t:bF}var vF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,k0={},_F=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function _C(e,t,n,r){let i=kF(e);t=Oa(n,t)||t;let o=[],a;for(;t;)if(a=_F.exec(t),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;t=u}else{o.push(t);break}let l=i.getTimezoneOffset();r&&(l=xC(r,l),i=AF(i,r));let c="";return o.forEach(u=>{let d=IF(u);c+=d?d(i,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function O0(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Oa(e,t){let n=cC(e);if(k0[n]??={},k0[n][t])return k0[n][t];let r="";switch(t){case"shortDate":r=$f(e,is.Short);break;case"mediumDate":r=$f(e,is.Medium);break;case"longDate":r=$f(e,is.Long);break;case"fullDate":r=$f(e,is.Full);break;case"shortTime":r=qf(e,is.Short);break;case"mediumTime":r=qf(e,is.Medium);break;case"longTime":r=qf(e,is.Long);break;case"fullTime":r=qf(e,is.Full);break;case"short":let i=Oa(e,"shortTime"),s=Oa(e,"shortDate");r=D0(Wf(e,is.Short),[i,s]);break;case"medium":let o=Oa(e,"mediumTime"),a=Oa(e,"mediumDate");r=D0(Wf(e,is.Medium),[o,a]);break;case"long":let l=Oa(e,"longTime"),c=Oa(e,"longDate");r=D0(Wf(e,is.Long),[l,c]);break;case"full":let u=Oa(e,"fullTime"),d=Oa(e,"fullDate");r=D0(Wf(e,is.Full),[u,d]);break}return r&&(k0[n][t]=r),r}function D0(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function ro(e,t,n="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.slice(o.length-t)),s+o}function wF(e,t){return ro(e,3).substring(0,t)}function Hr(e,t,n=0,r=!1,i=!1){return function(s,o){let a=xF(e,s);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return wF(a,t);let l=Ro(o,ss.MinusSign);return ro(a,t,l,r,i)}}function xF(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function ur(e,t,n=Ci.Format,r=!1){return function(i,s){return EF(i,s,e,t,n,r)}}function EF(e,t,n,r,i,s){switch(n){case 2:return fC(t,i,r)[e.getMonth()];case 1:return dC(t,i,r)[e.getDay()];case 0:let o=e.getHours(),a=e.getMinutes();if(s){let c=gC(t),u=yC(t,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,g=o>=f.hours&&a>=f.minutes,y=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&y)return!0}else if(g||y)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return uC(t,i,r)[o<12?0:1];case 3:return hC(t,r)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function N0(e){return function(t,n,r){let i=-1*r,s=Ro(n,ss.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+ro(o,2,s)+ro(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+ro(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+ro(o,2,s)+":"+ro(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+ro(o,2,s)+":"+ro(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}var SF=0,R0=4;function CF(e){let t=O0(e,SF,1).getDay();return O0(e,0,1+(t<=R0?R0:R0+7)-t)}function wC(e){let t=e.getDay(),n=t===0?-3:R0-t;return O0(e.getFullYear(),e.getMonth(),e.getDate()+n)}function I2(e,t=!1){return function(n,r){let i;if(t){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=wC(n),o=CF(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return ro(i,e,Ro(r,ss.MinusSign))}}function M0(e,t=!1){return function(n,r){let s=wC(n).getFullYear();return ro(s,e,Ro(r,ss.MinusSign),t)}}var T2={};function IF(e){if(T2[e])return T2[e];let t;switch(e){case"G":case"GG":case"GGG":t=ur(3,tr.Abbreviated);break;case"GGGG":t=ur(3,tr.Wide);break;case"GGGGG":t=ur(3,tr.Narrow);break;case"y":t=Hr(0,1,0,!1,!0);break;case"yy":t=Hr(0,2,0,!0,!0);break;case"yyy":t=Hr(0,3,0,!1,!0);break;case"yyyy":t=Hr(0,4,0,!1,!0);break;case"Y":t=M0(1);break;case"YY":t=M0(2,!0);break;case"YYY":t=M0(3);break;case"YYYY":t=M0(4);break;case"M":case"L":t=Hr(1,1,1);break;case"MM":case"LL":t=Hr(1,2,1);break;case"MMM":t=ur(2,tr.Abbreviated);break;case"MMMM":t=ur(2,tr.Wide);break;case"MMMMM":t=ur(2,tr.Narrow);break;case"LLL":t=ur(2,tr.Abbreviated,Ci.Standalone);break;case"LLLL":t=ur(2,tr.Wide,Ci.Standalone);break;case"LLLLL":t=ur(2,tr.Narrow,Ci.Standalone);break;case"w":t=I2(1);break;case"ww":t=I2(2);break;case"W":t=I2(1,!0);break;case"d":t=Hr(2,1);break;case"dd":t=Hr(2,2);break;case"c":case"cc":t=Hr(7,1);break;case"ccc":t=ur(1,tr.Abbreviated,Ci.Standalone);break;case"cccc":t=ur(1,tr.Wide,Ci.Standalone);break;case"ccccc":t=ur(1,tr.Narrow,Ci.Standalone);break;case"cccccc":t=ur(1,tr.Short,Ci.Standalone);break;case"E":case"EE":case"EEE":t=ur(1,tr.Abbreviated);break;case"EEEE":t=ur(1,tr.Wide);break;case"EEEEE":t=ur(1,tr.Narrow);break;case"EEEEEE":t=ur(1,tr.Short);break;case"a":case"aa":case"aaa":t=ur(0,tr.Abbreviated);break;case"aaaa":t=ur(0,tr.Wide);break;case"aaaaa":t=ur(0,tr.Narrow);break;case"b":case"bb":case"bbb":t=ur(0,tr.Abbreviated,Ci.Standalone,!0);break;case"bbbb":t=ur(0,tr.Wide,Ci.Standalone,!0);break;case"bbbbb":t=ur(0,tr.Narrow,Ci.Standalone,!0);break;case"B":case"BB":case"BBB":t=ur(0,tr.Abbreviated,Ci.Format,!0);break;case"BBBB":t=ur(0,tr.Wide,Ci.Format,!0);break;case"BBBBB":t=ur(0,tr.Narrow,Ci.Format,!0);break;case"h":t=Hr(3,1,-12);break;case"hh":t=Hr(3,2,-12);break;case"H":t=Hr(3,1);break;case"HH":t=Hr(3,2);break;case"m":t=Hr(4,1);break;case"mm":t=Hr(4,2);break;case"s":t=Hr(5,1);break;case"ss":t=Hr(5,2);break;case"S":t=Hr(6,1);break;case"SS":t=Hr(6,2);break;case"SSS":t=Hr(6,3);break;case"Z":case"ZZ":case"ZZZ":t=N0(0);break;case"ZZZZZ":t=N0(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=N0(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=N0(2);break;default:return null}return T2[e]=t,t}function xC(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function TF(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function AF(e,t,n){let i=e.getTimezoneOffset(),s=xC(t,i);return TF(e,-1*(s-i))}function kF(e){if(iC(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,s=1,o=1]=e.split("-").map(a=>+a);return O0(i,s-1,o)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(vF))return DF(r)}let t=new Date(e);if(!iC(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function DF(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return s.call(t,o,a,l,c),t}function iC(e){return e instanceof Date&&!isNaN(e.valueOf())}var NF=/^(\d+)?\.((\d+)(-(\d+))?)?$/,sC=22,P0=".",Gf="0",MF=";",RF=",",A2="#",oC="\xA4";function OF(e,t,n,r,i,s,o=!1){let a="",l=!1;if(!isFinite(e))a=Ro(n,ss.Infinity);else{let c=FF(e);o&&(c=LF(c));let u=t.minInt,d=t.minFrac,h=t.maxFrac;if(s){let S=s.match(NF);if(S===null)throw new Error(`${s} is not a valid digit info`);let k=S[1],M=S[3],z=S[5];k!=null&&(u=k2(k)),M!=null&&(d=k2(M)),z!=null?h=k2(z):M!=null&&d>h&&(h=d)}jF(c,d,h);let f=c.digits,p=c.integerLen,g=c.exponent,y=[];for(l=f.every(S=>!S);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?y=f.splice(p,f.length):(y=f,f=[0]);let v=[];for(f.length>=t.lgSize&&v.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)v.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),a=v.join(Ro(n,r)),y.length&&(a+=Ro(n,i)+y.join("")),g&&(a+=Ro(n,ss.Exponential)+"+"+g)}return e<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function EC(e,t,n,r,i){let s=pC(t,N2.Currency),o=PF(s,Ro(t,ss.MinusSign));return o.minFrac=vC(r),o.maxFrac=o.minFrac,OF(e,o,t,ss.CurrencyGroup,ss.CurrencyDecimal,i).replace(oC,n).replace(oC,"").trim()}function PF(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(MF),i=r[0],s=r[1],o=i.indexOf(P0)!==-1?i.split(P0):[i.substring(0,i.lastIndexOf(Gf)+1),i.substring(i.lastIndexOf(Gf)+1)],a=o[0],l=o[1]||"";n.posPre=a.substring(0,a.indexOf(A2));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Gf?n.minFrac=n.maxFrac=u+1:d===A2?n.maxFrac=u+1:n.posSuf+=d}let c=a.split(RF);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){let u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(A2);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function LF(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function FF(e){let t=Math.abs(e)+"",n=0,r,i,s,o,a;for((i=t.indexOf(P0))>-1&&(t=t.replace(P0,"")),(s=t.search(/e/i))>0?(i<0&&(i=s),i+=+t.slice(s+1),t=t.substring(0,s)):i<0&&(i=t.length),s=0;t.charAt(s)===Gf;s++);if(s===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===Gf;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(t.charAt(s))}return i>sC&&(r=r.splice(0,sC-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function jF(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen,s=Math.min(Math.max(t,i),n),o=s+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=s!==0,c=t+e.integerLen,u=r.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,l&&(p[f]===0&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}function k2(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var D2=/\s+/,aC=[],Kf=(()=>{class e{_ngEl;_renderer;initialClasses=aC;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(D2):aC}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(D2):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(D2).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(Mn(bl),Mn(Tc))};static \u0275dir=ii({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();function SC(e,t){return new lt(2100,!1)}var BF="mediumDate",CC=new qt(""),IC=new qt(""),Pa=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??BF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return _C(n,o,s||this.locale,a)}catch(o){throw SC(e,o.message)}}static \u0275fac=function(r){return new(r||e)(Mn(zf,16),Mn(CC,24),Mn(IC,24))};static \u0275pipe=v2({name:"date",type:e,pure:!0})}return e})();var Yf=(()=>{class e{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!VF(n))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=bC(a,i==="symbol"?"wide":"narrow",o):a=i);try{let l=UF(n);return EC(l,o,a,r,s)}catch(l){throw SC(e,l.message)}}static \u0275fac=function(r){return new(r||e)(Mn(zf,16),Mn(eC,16))};static \u0275pipe=v2({name:"currency",type:e,pure:!0})}return e})();function VF(e){return!(e==null||e===""||e!==e)}function UF(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var $r=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Na({type:e});static \u0275inj=Ca({})}return e})();function Zf(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}var M2="browser",TC="server";function L0(e){return e===TC}var kc=class{};var B0=new qt(""),L2=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new lt(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(cn(B0),cn(Pr))};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})(),Jf=class{_doc;constructor(t){this._doc=t}manager},F0="ng-app-id";function AC(e){for(let t of e)t.remove()}function kC(e,t){let n=t.createElement("style");return n.textContent=e,n}function HF(e,t,n,r){let i=e.head?.querySelectorAll(`style[${F0}="${t}"],link[${F0}="${t}"]`);if(i)for(let s of i)s.removeAttribute(F0),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function O2(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var F2=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=L0(s),HF(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,kC);r?.forEach(i=>this.addUsage(i,this.external,O2))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(AC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])AC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,kC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,O2(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(F0,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(cn(Si),cn(Kv),cn(Xv,8),cn(Ff))};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})(),R2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},j2=/%COMP%/g;var NC="%COMP%",$F=`_nghost-${NC}`,qF=`_ngcontent-${NC}`,WF=!0,GF=new qt("",{providedIn:"root",factory:()=>WF});function KF(e){return qF.replace(j2,e)}function YF(e){return $F.replace(j2,e)}function MC(e,t){return t.map(n=>n.replace(j2,e))}var th=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,s,o,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=L0(a),this.defaultRenderer=new Qf(n,o,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===To.ShadowDom&&(r=Zt(at({},r),{encapsulation:To.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof j0?i.applyToHost(n):i instanceof eh&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case To.Emulated:s=new j0(l,c,r,this.appId,u,o,a,d,h);break;case To.ShadowDom:return new P2(l,c,n,r,o,a,this.nonce,d,h);default:s=new eh(l,c,r,u,o,a,d,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(cn(L2),cn(F2),cn(Kv),cn(GF),cn(Si),cn(Ff),cn(Pr),cn(Xv),cn(w0,8))};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})(),Qf=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,s){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(R2[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(DC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(DC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new lt(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let s=R2[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=R2[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Sa.DashCase|Sa.Important)?t.style.setProperty(n,r,i&Sa.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Sa.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Ra().getGlobalEventTarget(this.doc,t),!t))throw new lt(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,n,s)),this.eventManager.addEventListener(t,n,s,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function DC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var P2=class extends Qf{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,s,o,a,l,c){super(t,s,o,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=MC(i.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let h of d){let f=O2(h,s);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},eh=class extends Qf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,s,o,a,l,c){super(t,s,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?MC(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},j0=class extends eh{contentAttr;hostAttr;constructor(t,n,r,i,s,o,a,l,c){let u=i+"-"+r.id;super(t,n,r,s,o,a,l,c,u),this.contentAttr=KF(u),this.hostAttr=YF(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var V0=class e extends Hf{supportsDOMEvents=!0;static makeCurrent(){S2(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=ZF();return n==null?null:XF(n)}resetBaseElement(){nh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Zf(document.cookie,t)}},nh=null;function ZF(){return nh=nh||document.head.querySelector("base"),nh?nh.getAttribute("href"):null}function XF(e){return new URL(e,document.baseURI).pathname}var JF=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})(),OC=(()=>{class e extends Jf{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||e)(cn(Si))};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})(),RC=["alt","control","meta","shift"],QF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ej={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},PC=(()=>{class e extends Jf{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ra().onAndCancel(n,o.domEventName,a,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=e._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),RC.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=QF[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),RC.forEach(o=>{if(o!==i){let a=ej[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(cn(Si))};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})();function B2(e,t,n){return tC(at({rootComponent:e,platformRef:n?.platformRef},tj(t)))}function tj(e){return{appProviders:[...oj,...e?.providers??[]],platformProviders:sj}}function nj(){V0.makeCurrent()}function rj(){return new xa}function ij(){return zS(document),document}var sj=[{provide:Ff,useValue:M2},{provide:Yv,useValue:nj,multi:!0},{provide:Si,useFactory:ij}];var oj=[{provide:p0,useValue:"root"},{provide:xa,useFactory:rj},{provide:B0,useClass:OC,multi:!0,deps:[Si]},{provide:B0,useClass:PC,multi:!0,deps:[Si]},th,F2,L2,{provide:yl,useExisting:th},{provide:kc,useClass:JF},[]];var zu=class{},ih=class{},Dc=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=n.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=t.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var z0=class{encodeKey(t){return LC(t)}encodeValue(t){return LC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function aj(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var lj=/%(\d[a-f0-9])/gi,cj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function LC(e){return encodeURIComponent(e).replace(lj,(t,n)=>cj[n]??t)}function U0(e){return`${e}`}var _l=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new z0,t.fromString){if(t.fromObject)throw new lt(2805,!1);this.map=aj(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(U0):[U0(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(U0(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(U0(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var H0=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function uj(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function FC(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function jC(e){return typeof Blob<"u"&&e instanceof Blob}function BC(e){return typeof FormData<"u"&&e instanceof FormData}function dj(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var VC="Content-Type",UC="Accept",zC="X-Request-URL",HC="text/plain",$C="application/json",fj=`${$C}, ${HC}, */*`,rh=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let s;if(uj(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Dc,this.context??=new H0,!this.params)this.params=new _l,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||FC(this.body)||jC(this.body)||BC(this.body)||dj(this.body)?this.body:this.body instanceof _l?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||BC(this.body)?null:jC(this.body)?this.body.type||null:FC(this.body)?null:typeof this.body=="string"?HC:this.body instanceof _l?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?$C:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new e(n,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}},Uu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Uu||{}),Hu=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new Dc,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},$0=class e extends Hu{constructor(t={}){super(t)}type=Uu.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},q0=class e extends Hu{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Uu.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},W0=class extends Hu{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},hj=200,pj=204;function V2(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var mj=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof rh)s=n;else{let l;i.headers instanceof Dc?l=i.headers:l=new Dc(i.headers);let c;i.params&&(i.params instanceof _l?c=i.params:c=new _l({fromObject:i.params})),s=new rh(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=Om(s).pipe(ub(l=>this.handler.handle(l)));if(n instanceof rh||i.observe==="events")return o;let a=o.pipe(cb(l=>l instanceof q0));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ji(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new lt(2806,!1);return l.body}));case"blob":return a.pipe(Ji(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new lt(2807,!1);return l.body}));case"text":return a.pipe(Ji(l=>{if(l.body!==null&&typeof l.body!="string")throw new lt(2808,!1);return l.body}));case"json":default:return a.pipe(Ji(l=>l.body))}case"response":return a;default:throw new lt(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new _l().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,V2(i,r))}post(n,r,i={}){return this.request("POST",n,V2(i,r))}put(n,r,i={}){return this.request("PUT",n,V2(i,r))}static \u0275fac=function(r){return new(r||e)(cn(zu))};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})();var gj=new qt("");function yj(e,t){return t(e)}function bj(e,t,n){return(r,i)=>m0(n,()=>t(r,s=>e(s,i)))}var qC=new qt(""),vj=new qt(""),WC=new qt("",{providedIn:"root",factory:()=>!0});var G0=(()=>{class e extends zu{backend;injector;chain=null;pendingTasks=It(Vu);contributeToStability=It(WC);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(qC),...this.injector.get(vj,[])]));this.chain=r.reduceRight((i,s)=>bj(i,s,this.injector),yj)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(db(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(cn(ih),cn(ba))};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})();var _j=/^\)\]\}',?\n/,wj=RegExp(`^${zC}:`,"m");function xj(e){return"responseURL"in e&&e.responseURL?e.responseURL:wj.test(e.getAllResponseHeaders())?e.getResponseHeader(zC):null}var U2=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new lt(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?pc(r.\u0275loadImpl()):Om(null)).pipe(fb(()=>new Or(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((g,y)=>o.setRequestHeader(g,y.join(","))),n.headers.has(UC)||o.setRequestHeader(UC,fj),!n.headers.has(VC)){let g=n.detectContentTypeHeader();g!==null&&o.setRequestHeader(VC,g)}if(n.responseType){let g=n.responseType.toLowerCase();o.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let g=o.statusText||"OK",y=new Dc(o.getAllResponseHeaders()),v=xj(o)||n.url;return l=new $0({headers:y,status:o.status,statusText:g,url:v}),l},u=()=>{let{headers:g,status:y,statusText:v,url:S}=c(),k=null;y!==pj&&(k=typeof o.response>"u"?o.responseText:o.response),y===0&&(y=k?hj:0);let M=y>=200&&y<300;if(n.responseType==="json"&&typeof k=="string"){let z=k;k=k.replace(_j,"");try{k=k!==""?JSON.parse(k):null}catch(F){k=z,M&&(M=!1,k={error:F,text:k})}}M?(s.next(new q0({body:k,headers:g,status:y,statusText:v,url:S||void 0})),s.complete()):s.error(new W0({error:k,headers:g,status:y,statusText:v,url:S||void 0}))},d=g=>{let{url:y}=c(),v=new W0({error:g,status:o.status||0,statusText:o.statusText||"Unknown Error",url:y||void 0});s.error(v)},h=!1,f=g=>{h||(s.next(c()),h=!0);let y={type:Uu.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),n.responseType==="text"&&o.responseText&&(y.partialText=o.responseText),s.next(y)},p=g=>{let y={type:Uu.UploadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),s.next(y)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),a!==null&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:Uu.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),a!==null&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||e)(cn(kc))};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})(),GC=new qt(""),Ej="XSRF-TOKEN",Sj=new qt("",{providedIn:"root",factory:()=>Ej}),Cj="X-XSRF-TOKEN",Ij=new qt("",{providedIn:"root",factory:()=>Cj}),sh=class{},Tj=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zf(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(cn(Si),cn(Sj))};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})(),Aj=/^(?:https?:)?\/\//i;function kj(e,t){if(!It(GC)||e.method==="GET"||e.method==="HEAD"||Aj.test(e.url))return t(e);let n=It(sh).getToken(),r=It(Ij);return n!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}function z2(...e){let t=[mj,U2,G0,{provide:zu,useExisting:G0},{provide:ih,useFactory:()=>It(gj,{optional:!0})??It(U2)},{provide:qC,useValue:kj,multi:!0},{provide:GC,useValue:!0},{provide:sh,useClass:Tj}];for(let n of e)t.push(...n.\u0275providers);return Rv(t)}var Nc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=yn({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=cn(Nj),i},providedIn:"root"})}return e})(),Nj=(()=>{class e extends Nc{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Da.NONE:return r;case Da.HTML:return Cc(r,"HTML")?Aa(r):Qv(this._doc,String(r)).toString();case Da.STYLE:return Cc(r,"Style")?Aa(r):r;case Da.SCRIPT:if(Cc(r,"Script"))return Aa(r);throw new lt(5200,!1);case Da.URL:return Cc(r,"URL")?Aa(r):Jv(String(r));case Da.RESOURCE_URL:if(Cc(r,"ResourceURL"))return Aa(r);throw new lt(5201,!1);default:throw new lt(5202,!1)}}bypassSecurityTrustHtml(n){return ZS(n)}bypassSecurityTrustStyle(n){return XS(n)}bypassSecurityTrustScript(n){return JS(n)}bypassSecurityTrustUrl(n){return QS(n)}bypassSecurityTrustResourceUrl(n){return e6(n)}static \u0275fac=function(r){return new(r||e)(cn(Si))};static \u0275prov=yn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var KC=()=>{};var $2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var ot=function(e,t){if(!e)throw Mc(t)},Mc=function(e){return new Error("Firebase Database ("+$2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var XC=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Mj=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{let s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(XC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Mj(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let c=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new q2;let h=s<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},q2=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},G2=function(e){let t=XC(e);return Y0.encodeByteArray(t,!0)},ah=function(e){return G2(e).replace(/\./g,"")},$u=function(e){try{return Y0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function JC(e){return QC(void 0,e)}function QC(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!Rj(n)||(e[n]=QC(e[n],t[n]));return e}function Rj(e){return e!=="__proto__"}function Oj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Pj=()=>Oj().__FIREBASE_DEFAULTS__,Lj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Fj=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&$u(e[1]);return t&&JSON.parse(t)},K2=()=>{try{return KC()||Pj()||Lj()||Fj()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Y2=e=>K2()?.emulatorHosts?.[e],e8=e=>{let t=Y2(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Z2=()=>K2()?.config,X2=e=>K2()?.[`_${e}`];var La=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function wl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z0(e){return(await fetch(e,{credentials:"include"})).ok}function t8(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=at({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ah(JSON.stringify(n)),ah(JSON.stringify(o)),""].join(".")}var oh={};function jj(){let e={prod:[],emulator:[]};for(let t of Object.keys(oh))oh[t]?e.emulator.push(t):e.prod.push(t);return e}function Bj(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var YC=!1;function X0(e,t){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||oh[e]===t||oh[e]||YC)return;oh[e]=t;function n(h){return`__firebase__banner__${h}`}let r="__firebase__banner",s=jj().prod.length>0;function o(){let h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{YC=!0,o()},h}function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){let h=Bj(r),f=n("text"),p=document.getElementById(f)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),v=n("preprendIcon"),S=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let k=h.element;a(k),u(y,g);let M=c();l(S,v),k.append(S,p,y,M),document.body.appendChild(k)}s?(p.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Ii(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ii())}function n8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r8(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function J0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i8(){let e=Ii();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Oo(){return $2.NODE_CLIENT===!0||$2.NODE_ADMIN===!0}function s8(){try{return typeof indexedDB=="object"}catch{return!1}}function o8(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}var Vj="FirebaseError",io=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Vj,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fa.prototype.create)}},Fa=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Uj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new io(i,a,r)}};function Uj(e,t){return e.replace(zj,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var zj=/\{\$([^}]+)}/g;function qu(e){return JSON.parse(e)}function ei(e){return JSON.stringify(e)}var a8=function(e){let t={},n={},r={},i="";try{let s=e.split(".");t=qu($u(s[0])||""),n=qu($u(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var l8=function(e){let t=a8(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},c8=function(e){let t=a8(e).claims;return typeof t=="object"&&t.admin===!0};function so(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rc(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function ch(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function uh(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Po(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let s=e[i],o=t[i];if(ZC(s)&&ZC(o)){if(!Po(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function ZC(e){return e!==null&&typeof e=="object"}function Oc(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Wu(e){let t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Gu(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var K0=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}};function u8(e,t){let n=new W2(e,t);return n.subscribe.bind(n)}var W2=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Hj(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=H2),i.error===void 0&&(i.error=H2),i.complete===void 0&&(i.complete=H2);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Hj(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function H2(){}function dh(e,t){return`${e} failed: ${t} argument `}var d8=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,ot(r<e.length,"Surrogate pair missing trail surrogate.");let o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},fh=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var Sie=4*60*60*1e3;function hi(e){return e&&e._delegate?e._delegate:e}var Vs=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Pc="[DEFAULT]";var Q0=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new La;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){let n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qj(t))try{this.getOrInitializeService({instanceIdentifier:Pc})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Pc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){let t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pc){return this.instances.has(t)}getOptions(t=Pc){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$j(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Pc){return this.component?this.component.multipleInstances?t:Pc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $j(e){return e===Pc?void 0:e}function qj(e){return e.instantiationMode==="EAGER"}var hh=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Q0(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var Wj=[],Qn=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Qn||{}),Gj={debug:Qn.DEBUG,verbose:Qn.VERBOSE,info:Qn.INFO,warn:Qn.WARN,error:Qn.ERROR,silent:Qn.SILENT},Kj=Qn.INFO,Yj={[Qn.DEBUG]:"log",[Qn.VERBOSE]:"log",[Qn.INFO]:"info",[Qn.WARN]:"warn",[Qn.ERROR]:"error"},Zj=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Yj[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},xl=class{constructor(t){this.name=t,this._logLevel=Kj,this._logHandler=Zj,this._userLogHandler=null,Wj.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Gj[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qn.DEBUG,...t),this._logHandler(this,Qn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qn.VERBOSE,...t),this._logHandler(this,Qn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qn.INFO,...t),this._logHandler(this,Qn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qn.WARN,...t),this._logHandler(this,Qn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qn.ERROR,...t),this._logHandler(this,Qn.ERROR,...t)}};var Xj=(e,t)=>t.some(n=>e instanceof n),f8,h8;function Jj(){return f8||(f8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qj(){return h8||(h8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var p8=new WeakMap,Q2=new WeakMap,m8=new WeakMap,J2=new WeakMap,t_=new WeakMap;function eB(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Lo(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&p8.set(n,e)}).catch(()=>{}),t_.set(t,e),t}function tB(e){if(Q2.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Q2.set(e,t)}var e_={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Q2.get(e);if(t==="objectStoreNames")return e.objectStoreNames||m8.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function g8(e){e_=e(e_)}function nB(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(eg(this),t,...n);return m8.set(r,t.sort?t.sort():[t]),Lo(r)}:Qj().includes(e)?function(...t){return e.apply(eg(this),t),Lo(p8.get(this))}:function(...t){return Lo(e.apply(eg(this),t))}}function rB(e){return typeof e=="function"?nB(e):(e instanceof IDBTransaction&&tB(e),Xj(e,Jj())?new Proxy(e,e_):e)}function Lo(e){if(e instanceof IDBRequest)return eB(e);if(J2.has(e))return J2.get(e);let t=rB(e);return t!==e&&(J2.set(e,t),t_.set(t,e)),t}var eg=e=>t_.get(e);function b8(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(e,t),a=Lo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Lo(o.result),l.oldVersion,l.newVersion,Lo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var iB=["get","getKey","getAll","getAllKeys","count"],sB=["put","add","delete","clear"],n_=new Map;function y8(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(n_.get(t))return n_.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=sB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iB.includes(n)))return;let s=async function(o,...a){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return n_.set(t,s),s}g8(e=>Zt(at({},e),{get:(t,n,r)=>y8(t,n)||e.get(t,n,r),has:(t,n)=>!!y8(t,n)||e.has(t,n)}));var i_=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function oB(e){return e.getComponent()?.type==="VERSION"}var s_="@firebase/app",v8="0.14.7";var ja=new xl("@firebase/app"),aB="@firebase/app-compat",lB="@firebase/analytics-compat",cB="@firebase/analytics",uB="@firebase/app-check-compat",dB="@firebase/app-check",fB="@firebase/auth",hB="@firebase/auth-compat",pB="@firebase/database",mB="@firebase/data-connect",gB="@firebase/database-compat",yB="@firebase/functions",bB="@firebase/functions-compat",vB="@firebase/installations",_B="@firebase/installations-compat",wB="@firebase/messaging",xB="@firebase/messaging-compat",EB="@firebase/performance",SB="@firebase/performance-compat",CB="@firebase/remote-config",IB="@firebase/remote-config-compat",TB="@firebase/storage",AB="@firebase/storage-compat",kB="@firebase/firestore",DB="@firebase/ai",NB="@firebase/firestore-compat",MB="firebase",RB="12.8.0";var o_="[DEFAULT]",OB={[s_]:"fire-core",[aB]:"fire-core-compat",[cB]:"fire-analytics",[lB]:"fire-analytics-compat",[dB]:"fire-app-check",[uB]:"fire-app-check-compat",[fB]:"fire-auth",[hB]:"fire-auth-compat",[pB]:"fire-rtdb",[mB]:"fire-data-connect",[gB]:"fire-rtdb-compat",[yB]:"fire-fn",[bB]:"fire-fn-compat",[vB]:"fire-iid",[_B]:"fire-iid-compat",[wB]:"fire-fcm",[xB]:"fire-fcm-compat",[EB]:"fire-perf",[SB]:"fire-perf-compat",[CB]:"fire-rc",[IB]:"fire-rc-compat",[TB]:"fire-gcs",[AB]:"fire-gcs-compat",[kB]:"fire-fst",[NB]:"fire-fst-compat",[DB]:"fire-vertex","fire-js":"fire-js",[MB]:"fire-js-all"};var ph=new Map,PB=new Map,a_=new Map;function _8(e,t){try{e.container.addComponent(t)}catch(n){ja.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Sl(e){let t=e.name;if(a_.has(t))return ja.debug(`There were multiple attempts to register component ${t}.`),!1;a_.set(t,e);for(let n of ph.values())_8(n,e);for(let n of PB.values())_8(n,e);return!0}function gh(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ui(e){return e==null?!1:e.settings!==void 0}var LB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},El=new Fa("app","Firebase",LB);var l_=class{constructor(t,n,r){this._isDeleted=!1,this._options=at({},t),this._config=at({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw El.create("app-deleted",{appName:this._name})}};var Cl=RB;function yh(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=at({name:o_,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw El.create("bad-app-name",{appName:String(i)});if(n||(n=Z2()),!n)throw El.create("no-options");let s=ph.get(i);if(s){if(Po(n,s.options)&&Po(r,s.config))return s;throw El.create("duplicate-app",{appName:i})}let o=new hh(i);for(let l of a_.values())o.addComponent(l);let a=new l_(n,r,o);return ph.set(i,a),a}function Il(e=o_){let t=ph.get(e);if(!t&&e===o_&&Z2())return yh();if(!t)throw El.create("no-app",{appName:e});return t}function tg(){return Array.from(ph.values())}function oo(e,t,n){let r=OB[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ja.warn(o.join(" "));return}Sl(new Vs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var FB="firebase-heartbeat-database",jB=1,mh="firebase-heartbeat-store",r_=null;function S8(){return r_||(r_=b8(FB,jB,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(mh)}catch(n){console.warn(n)}}}}).catch(e=>{throw El.create("idb-open",{originalErrorMessage:e.message})})),r_}async function BB(e){try{let n=(await S8()).transaction(mh),r=await n.objectStore(mh).get(C8(e));return await n.done,r}catch(t){if(t instanceof io)ja.warn(t.message);else{let n=El.create("idb-get",{originalErrorMessage:t?.message});ja.warn(n.message)}}}async function w8(e,t){try{let r=(await S8()).transaction(mh,"readwrite");await r.objectStore(mh).put(t,C8(e)),await r.done}catch(n){if(n instanceof io)ja.warn(n.message);else{let r=El.create("idb-set",{originalErrorMessage:n?.message});ja.warn(r.message)}}}function C8(e){return`${e.name}!${e.options.appId}`}var VB=1024,UB=30,c_=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new u_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=x8();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>UB){let i=HB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ja.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=x8(),{heartbeatsToSend:n,unsentEntries:r}=zB(this._heartbeatsCache.heartbeats),i=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ja.warn(t),""}}};function x8(){return new Date().toISOString().substring(0,10)}function zB(e,t=VB){let n=[],r=e.slice();for(let i of e){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),E8(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),E8(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var u_=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s8()?o8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await BB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){let r=await this.read();return w8(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){let r=await this.read();return w8(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}};function E8(e){return ah(JSON.stringify({version:2,heartbeats:e})).length}function HB(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function $B(e){Sl(new Vs("platform-logger",t=>new i_(t),"PRIVATE")),Sl(new Vs("heartbeat",t=>new c_(t),"PRIVATE")),oo(s_,v8,e),oo(s_,v8,"esm2020"),oo("fire-js","")}$B("");var qB="firebase",WB="12.8.0";oo(qB,WB,"app");var I8="@firebase/database",T8="1.1.0";var yw="";function GB(e){yw=e}var b_=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ei(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:qu(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var v_=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return so(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var sI=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new b_(t)}}catch{}return new v_},Fc=sI("localStorage"),__=sI("sessionStorage");var Zu=new xl("@firebase/database"),KB=function(){let e=1;return function(){return e++}}(),oI=function(e){let t=d8(e),n=new K0;n.update(t);let r=n.digest();return Y0.encodeByteArray(r)},Ph=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Ph.apply(null,r):typeof r=="object"?t+=ei(r):t+=r,t+=" "}return t},jc=null,A8=!0,YB=function(e,t){ot(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Zu.logLevel=Qn.VERBOSE,jc=Zu.log.bind(Zu),t&&__.set("logging_enabled",!0)):typeof e=="function"?jc=e:(jc=null,__.remove("logging_enabled"))},pi=function(...e){if(A8===!0&&(A8=!1,jc===null&&__.get("logging_enabled")===!0&&YB(!0)),jc){let t=Ph.apply(null,e);jc(t)}},Lh=function(e){return function(...t){pi(e,...t)}},w_=function(...e){let t="FIREBASE INTERNAL ERROR: "+Ph(...e);Zu.error(t)},Ba=function(...e){let t=`FIREBASE FATAL ERROR: ${Ph(...e)}`;throw Zu.error(t),new Error(t)},zi=function(...e){let t="FIREBASE WARNING: "+Ph(...e);Zu.warn(t)},ZB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bw=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},XB=function(e){if(Oo()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qu="[MIN_NAME]",Bc="[MAX_NAME]",Uc=function(e,t){if(e===t)return 0;if(e===Qu||t===Bc)return-1;if(t===Qu||e===Bc)return 1;{let n=k8(e),r=k8(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},JB=function(e,t){return e===t?0:e<t?-1:1},bh=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ei(t))},vw=function(e){if(typeof e!="object"||e===null)return ei(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ei(t[r]),n+=":",n+=vw(e[t[r]]);return n+="}",n},aI=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function mi(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var lI=function(e){ot(!bw(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,s,o,a,l;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},QB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},eV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function tV(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var nV=new RegExp("^-?(0*)\\d{1,10}$"),rV=-2147483648,iV=2147483647,k8=function(e){if(nV.test(e)){let t=Number(e);if(t>=rV&&t<=iV)return t}return null},ad=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw zi("Exception was thrown by user callback.",n),t},Math.floor(0))}},sV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Eh=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var x_=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Ui(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){zi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var E_=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(pi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zi(t)}},Sh=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),rg="5",cI="v",uI="s",dI="r",fI="f",hI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pI="ls",mI="p",S_="ac",gI="websocket",yI="long_polling";var ig=class{constructor(t,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fc.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Fc.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function oV(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function bI(e,t,n){ot(typeof t=="string","typeof type must == string"),ot(typeof n=="object","typeof params must == object");let r;if(t===gI)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===yI)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);oV(e)&&(n.ns=e.namespace);let i=[];return mi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var C_=class{constructor(){this.counters_={}}incrementCounter(t,n=1){so(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return JC(this.counters_)}};var d_={},f_={};function _w(e){let t=e.toString();return d_[t]||(d_[t]=new C_),d_[t]}function aV(e,t){let n=e.toString();return f_[n]||(f_[n]=t()),f_[n]}var I_=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ad(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var D8="start",lV="close",cV="pLPCommand",uV="pRTLPCB",vI="id",_I="pw",wI="ser",dV="cb",fV="seg",hV="ts",pV="d",mV="dframe",xI=1870,EI=30,gV=xI-EI,yV=25e3,bV=3e4,T_=class e{constructor(t,n,r,i,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lh(t),this.stats_=_w(n),this.urlFn=l=>(this.appCheckToken&&(l[S_]=this.appCheckToken),bI(n,yI,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new I_(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bV)),XB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new A_((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===D8)this.id=a,this.password=l;else if(o===lV)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[D8]="t",r[wI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[dV]=this.scriptTagHolder.uniqueCallbackIdentifier),r[cI]=rg,this.transportSessionId&&(r[uI]=this.transportSessionId),this.lastSessionId&&(r[pI]=this.lastSessionId),this.applicationId&&(r[mI]=this.applicationId),this.appCheckToken&&(r[S_]=this.appCheckToken),typeof location<"u"&&location.hostname&&hI.test(location.hostname)&&(r[dI]=fI);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Oo()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!QB()&&!eV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ei(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=G2(n),i=aI(r,gV);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Oo())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[mV]="t",r[vI]=t,r[_I]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ei(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},A_=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Oo())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=KB(),window[cV+this.uniqueCallbackIdentifier]=t,window[uV+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){pi("frame writing exception"),a.stack&&pi(a.stack),pi(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||pi("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[vI]=this.myID,t[_I]=this.myPW,t[wI]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+EI+r.length<=xI;){let o=this.pendingSegs.shift();r=r+"&"+fV+i+"="+o.seg+"&"+hV+i+"="+o.ts+"&"+pV+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(yV)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){Oo()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{pi("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var vV=16384,_V=45e3,sg=null;typeof MozWebSocket<"u"?sg=MozWebSocket:typeof WebSocket<"u"&&(sg=WebSocket);var vh=(()=>{class e{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lh(this.connId),this.stats_=_w(r),this.connURL=e.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[cI]=rg,!Oo()&&typeof location<"u"&&location.hostname&&hI.test(location.hostname)&&(a[dI]=fI),r&&(a[uI]=r),i&&(a[pI]=i),s&&(a[S_]=s),o&&(a[mI]=o),bI(n,gI,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fc.set("previous_websocket_failure",!0);try{let i;if(Oo()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${rg}/${yw}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new sg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&sg!==null&&!e.forceDisallow_}static previouslyFailed(){return Fc.isInMemoryStorage||Fc.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fc.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=qu(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(ot(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ei(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=aI(r,vV);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(_V))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),wV=(()=>{class e{static get ALL_TRANSPORTS(){return[T_,vh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=vh&&vh.isAvailable(),i=r&&!vh.previouslyFailed();if(n.webSocketOnly&&(r||zi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[vh];else{let s=this.transports_=[];for(let o of e.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),xV=6e4,EV=5e3,SV=10*1024,CV=100*1024,h_="t",N8="d",IV="s",M8="r",TV="e",R8="o",O8="a",P8="n",L8="p",AV="h",k_=class{constructor(t,n,r,i,s,o,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lh("c:"+this.id+":"),this.transportManager_=new wV(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Eh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>SV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(h_ in t){let n=t[h_];n===O8?this.upgradeIfSecondaryHealthy_():n===M8?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===R8&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=bh("t",t),r=bh("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:L8,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:O8,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:P8,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=bh("t",t),r=bh("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=bh(h_,t);if(N8 in t){let r=t[N8];if(n===AV){let i=at({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===P8){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===IV?this.onConnectionShutdown_(r):n===M8?this.onReset_(r):n===TV?w_("Server Error: "+r):n===R8?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w_("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),rg!==r&&zi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Eh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xV))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Eh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(EV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:L8,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var og=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var ag=class{constructor(t){this.allowedEvents_=t,this.listeners_={},ot(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){ot(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var lg=class e extends ag{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return ot(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var F8=32,j8=768,Yn=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function $n(){return new Yn("")}function En(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function kl(e){return e.pieces_.length-e.pieceNum_}function dr(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Yn(e.pieces_,t)}function ww(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function kV(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Ah(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function SI(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Yn(t,0)}function Cr(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Yn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Yn(n,0)}function Tn(e){return e.pieceNum_>=e.pieces_.length}function os(e,t){let n=En(e),r=En(t);if(n===null)return t;if(n===r)return os(dr(e),dr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function DV(e,t){let n=Ah(e,0),r=Ah(t,0);for(let i=0;i<n.length&&i<r.length;i++){let s=Uc(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function xw(e,t){if(kl(e)!==kl(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Us(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(kl(e)>kl(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var D_=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Ah(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=fh(this.parts_[r]);CI(this)}};function NV(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=fh(t),CI(e)}function MV(e){let t=e.parts_.pop();e.byteLength_-=fh(t),e.parts_.length>0&&(e.byteLength_-=1)}function CI(e){if(e.byteLength_>j8)throw new Error(e.errorPrefix_+"has a key path longer than "+j8+" bytes ("+e.byteLength_+").");if(e.parts_.length>F8)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+F8+") or object contains a cycle "+Lc(e))}function Lc(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var N_=class e extends ag{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return ot(t==="visible","Unknown event type: "+t),[this.visible_]}};var _h=1e3,RV=60*5*1e3,B8=30*1e3,OV=1.3,PV=3e4,LV="server_kill",V8=3,Ew=(()=>{class e extends og{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=Lh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_h,this.maxReconnectDelay_=RV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Oo())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");N_.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&lg.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(ei(o)),ot(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new La,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),ot(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ot(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&so(n,"w")){let i=Rc(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();zi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||c8(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=B8)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=l8(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),ot(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ei(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):w_("Unrecognized action received from server: "+ei(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){ot(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_h,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=_h,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>PV&&(this.reconnectDelay_=_h),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*OV)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(h){ot(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?pi("getToken() completed but was canceled"):(pi("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new k_(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{zi(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(LV)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&zi(h),c())}}}interrupt(n){pi("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){pi("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ch(this.interruptReasons_)&&(this.reconnectDelay_=_h,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>vw(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new Yn(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){pi("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=V8&&(this.reconnectDelay_=B8,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){pi("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=V8&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Oo()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+yw.replace(/\./g,"-")]=1,lh()?n["framework.cordova"]=1:J0()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=lg.getInstance().currentlyOnline();return ch(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),Sn=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var ed=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new Sn(Qu,t),i=new Sn(Qu,n);return this.compare(r,i)!==0}minPost(){return Sn.MIN}};var ng,cg=class extends ed{static get __EMPTY_NODE(){return ng}static set __EMPTY_NODE(t){ng=t}compare(t,n){return Uc(t.name,n.name)}isDefinedOn(t){throw Mc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Sn.MIN}maxPost(){return new Sn(Bc,ng)}makePost(t,n){return ot(typeof t=="string","KeyIndex indexValue must always be a string."),new Sn(t,ng)}toString(){return".key"}},Xu=new cg;var Yu=class{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},ao=(()=>{class e{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??e.RED,this.left=s??zs.EMPTY_NODE,this.right=o??zs.EMPTY_NODE}copy(n,r,i,s,o){return new e(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return zs.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return zs.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),M_=class{copy(t,n,r,i,s){return this}insert(t,n,r){return new ao(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},zs=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ao.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ao.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Yu(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Yu(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Yu(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Yu(this.root_,null,this.comparator_,!0,t)}};zs.EMPTY_NODE=new M_;function FV(e,t){return Uc(e.name,t.name)}function Sw(e,t){return Uc(e,t)}var R_;function jV(e){R_=e}var II=function(e){return typeof e=="number"?"number:"+lI(e):"string:"+e},TI=function(e){if(e.isLeafNode()){let t=e.val();ot(typeof t=="string"||typeof t=="number"||typeof t=="object"&&so(t,".sv"),"Priority must be a string or number.")}else ot(e===R_||e.isEmpty(),"priority of unexpected type.");ot(e===R_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var U8,td=(()=>{class e{static set __childrenNodeConstructor(n){U8=n}static get __childrenNodeConstructor(){return U8}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,ot(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),TI(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Tn(n)?this:En(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=En(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(ot(i!==".priority"||kl(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(dr(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+II(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=lI(this.value_):n+=this.value_,this.lazyHash_=oI(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(ot(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=e.VALUE_TYPE_ORDER.indexOf(r),o=e.VALUE_TYPE_ORDER.indexOf(i);return ot(s>=0,"Unknown leaf type: "+r),ot(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),AI,kI;function BV(e){AI=e}function VV(e){kI=e}var O_=class extends ed{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Uc(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Sn.MIN}maxPost(){return new Sn(Bc,new td("[PRIORITY-POST]",kI))}makePost(t,n){let r=AI(t);return new Sn(n,new td("[PRIORITY-POST]",r))}toString(){return".priority"}},Ir=new O_;var UV=Math.log(2),P_=class{constructor(t){let n=s=>parseInt(Math.log(s)/UV,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},ug=function(e,t,n,r){e.sort(t);let i=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=e[l],h=n?n(d):d,new ao(h,d.node,ao.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=i(l,f),g=i(f+1,c);return d=e[f],h=n?n(d):d,new ao(h,d.node,ao.BLACK,p,g)}},s=function(l){let c=null,u=null,d=e.length,h=function(p,g){let y=d-p,v=d;d-=p;let S=i(y+1,v),k=e[y],M=n?n(k):k;f(new ao(M,k.node,g,null,S))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));g?h(y,ao.BLACK):(h(y,ao.BLACK),h(y,ao.RED))}return u},o=new P_(e.length),a=s(o);return new zs(r||t,a)};var p_,Ku={},nd=class e{static get Default(){return ot(Ku&&Ir,"ChildrenNode.ts has not been loaded"),p_=p_||new e({".priority":Ku},{".priority":Ir}),p_}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Rc(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof zs?n:null}hasIndex(t){return so(this.indexSet_,t.toString())}addIndex(t,n){ot(t!==Xu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(Sn.Wrap),o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ug(r,t.getCompare()):a=Ku;let l=t.toString(),c=at({},this.indexSet_);c[l]=t;let u=at({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let r=uh(this.indexes_,(i,s)=>{let o=Rc(this.indexSet_,s);if(ot(o,"Missing index implementation for "+s),i===Ku)if(o.isDefinedOn(t.node)){let a=[],l=n.getIterator(Sn.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),ug(a,o.getCompare())}else return Ku;else{let a=n.get(t.name),l=i;return a&&(l=l.remove(new Sn(t.name,a))),l.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=uh(this.indexes_,i=>{if(i===Ku)return i;{let s=n.get(t.name);return s?i.remove(new Sn(t.name,s)):i}});return new e(r,this.indexSet_)}};var wh,mn=(()=>{class e{static get EMPTY_NODE(){return wh||(wh=new e(new zs(Sw),null,nd.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&TI(this.priorityNode_),this.children_.isEmpty()&&ot(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wh}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?wh:r}}getChild(n){let r=En(n);return r===null?this:this.getImmediateChild(r).getChild(dr(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(ot(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Sn(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?wh:this.priorityNode_;return new e(s,a,o)}}updateChild(n,r){let i=En(n);if(i===null)return r;{ot(En(n)!==".priority"||kl(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(dr(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Ir,(a,l)=>{r[a]=l.val(n),i++,o&&e.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+II(this.getPriority().val())+":"),this.forEachChild(Ir,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":oI(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Sn(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Sn(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Sn(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,Sn.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,Sn.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Fh?-1:0}withIndex(n){if(n===Xu||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Xu||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ir),s=r.getIterator(Ir),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Xu?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),L_=class extends mn{constructor(){super(new zs(Sw),mn.EMPTY_NODE,nd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return mn.EMPTY_NODE}isEmpty(){return!1}},Fh=new L_;Object.defineProperties(Sn,{MIN:{value:new Sn(Qu,mn.EMPTY_NODE)},MAX:{value:new Sn(Bc,Fh)}});cg.__EMPTY_NODE=mn.EMPTY_NODE;td.__childrenNodeConstructor=mn;jV(Fh);VV(Fh);var zV=!0;function si(e,t=null){if(e===null)return mn.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ot(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new td(n,si(t))}if(!(e instanceof Array)&&zV){let n=[],r=!1;if(mi(e,(o,a)=>{if(o.substring(0,1)!=="."){let l=si(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Sn(o,l)))}}),n.length===0)return mn.EMPTY_NODE;let s=ug(n,FV,o=>o.name,Sw);if(r){let o=ug(n,Ir.getCompare());return new mn(s,si(t),new nd({".priority":o},{".priority":Ir}))}else return new mn(s,si(t),nd.Default)}else{let n=mn.EMPTY_NODE;return mi(e,(r,i)=>{if(so(e,r)&&r.substring(0,1)!=="."){let s=si(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(si(t))}}BV(si);var F_=class extends ed{constructor(t){super(),this.indexPath_=t,ot(!Tn(t)&&En(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Uc(t.name,n.name):s}makePost(t,n){let r=si(t),i=mn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Sn(n,i)}maxPost(){let t=mn.EMPTY_NODE.updateChild(this.indexPath_,Fh);return new Sn(Bc,t)}toString(){return Ah(this.indexPath_,0).join("/")}};var j_=class extends ed{compare(t,n){let r=t.node.compareTo(n.node);return r===0?Uc(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Sn.MIN}maxPost(){return Sn.MAX}makePost(t,n){let r=si(t);return new Sn(n,r)}toString(){return".value"}},HV=new j_;function DI(e){return{type:"value",snapshotNode:e}}function rd(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function kh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Dh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function $V(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Nh=class{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){ot(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(kh(n,a)):ot(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(rd(n,r)):o.trackChildChange(Dh(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ir,(i,s)=>{n.hasChild(i)||r.trackChildChange(kh(i,s))}),n.isLeafNode()||n.forEachChild(Ir,(i,s)=>{if(t.hasChild(i)){let o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(Dh(i,s,o))}else r.trackChildChange(rd(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?mn.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var dg=class e{constructor(t){this.indexedFilter_=new Nh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new Sn(n,r))||(r=mn.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=mn.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(mn.EMPTY_NODE);let s=this;return n.forEachChild(Ir,(o,a)=>{s.matches(new Sn(o,a))||(i=i.updateImmediateChild(o,mn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var B_=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new dg(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new Sn(n,r))||(r=mn.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=mn.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=mn.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(mn.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,mn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=t;ot(a.numChildren()===this.limit_,"");let l=new Sn(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return s?.trackChildChange(Dh(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(kh(n,d));let g=a.updateImmediateChild(n,mn.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(rd(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?t:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(kh(c.name,c.node)),s.trackChildChange(rd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,mn.EMPTY_NODE)):t}};var V_=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ir}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ot(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ot(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qu}hasEnd(){return this.endSet_}getIndexEndValue(){return ot(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ot(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ot(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ir}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function qV(e){return e.loadsAllData()?new Nh(e.getIndex()):e.hasLimit()?new B_(e):new dg(e)}function z8(e){let t={};if(e.isDefault())return t;let n;if(e.index_===Ir?n="$priority":e.index_===HV?n="$value":e.index_===Xu?n="$key":(ot(e.index_ instanceof F_,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ei(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=ei(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ei(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ei(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ei(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function H8(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ir&&(t.i=e.index_.toString()),t}var U_=class e extends og{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ot(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Lh("p:rest:"),this.listens_={}}listen(t,n,r,i){let s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);let o=e.getListenId_(t,r),a={};this.listens_[o]=a;let l=z8(t._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),Rc(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=z8(t._queryParams),r=t._path.toString(),i=new La;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Oc(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=qu(a.responseText)}catch{zi("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&zi("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var z_=class{constructor(){this.rootNode_=mn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function fg(){return{value:null,children:new Map}}function NI(e,t,n){if(Tn(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=En(t);e.children.has(r)||e.children.set(r,fg());let i=e.children.get(r);t=dr(t),NI(i,t,n)}}function H_(e,t,n){e.value!==null?n(t,e.value):WV(e,(r,i)=>{let s=new Yn(t.toString()+"/"+r);H_(i,s,n)})}function WV(e,t){e.children.forEach((n,r)=>{t(r,n)})}var $_=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=at({},t);return this.last_&&mi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var $8=10*1e3,GV=30*1e3,KV=5*60*1e3,q_=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new $_(t);let r=$8+(GV-$8)*Math.random();Eh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;mi(t,(i,s)=>{s>0&&so(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Eh(this.reportStats_.bind(this),Math.floor(Math.random()*2*KV))}};var Fo=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Fo||{});function Cw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Iw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Tw(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var W_=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Fo.ACK_USER_WRITE,this.source=Cw()}operationForChild(t){if(Tn(this.path)){if(this.affectedTree.value!=null)return ot(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Yn(t));return new e($n(),n,this.revert)}}else return ot(En(this.path)===t,"operationForChild called for unrelated child."),new e(dr(this.path),this.affectedTree,this.revert)}};var hg=class e{constructor(t,n){this.source=t,this.path=n,this.type=Fo.LISTEN_COMPLETE}operationForChild(t){return Tn(this.path)?new e(this.source,$n()):new e(this.source,dr(this.path))}};var id=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Fo.OVERWRITE}operationForChild(t){return Tn(this.path)?new e(this.source,$n(),this.snap.getImmediateChild(t)):new e(this.source,dr(this.path),this.snap)}};var Mh=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Fo.MERGE}operationForChild(t){if(Tn(this.path)){let n=this.children.subtree(new Yn(t));return n.isEmpty()?null:n.value?new id(this.source,$n(),n.value):new e(this.source,$n(),n)}else return ot(En(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,dr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Va=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Tn(t))return this.isFullyInitialized()&&!this.filtered_;let n=En(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var G_=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function YV(e,t,n,r){let i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push($V(o.childName,o.snapshotNode))}),xh(e,i,"child_removed",t,r,n),xh(e,i,"child_added",t,r,n),xh(e,i,"child_moved",s,r,n),xh(e,i,"child_changed",t,r,n),xh(e,i,"value",t,r,n),i}function xh(e,t,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>XV(e,a,l)),o.forEach(a=>{let l=ZV(e,a,s);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function ZV(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function XV(e,t,n){if(t.childName==null||n.childName==null)throw Mc("Should only compare child_ events.");let r=new Sn(t.childName,t.snapshotNode),i=new Sn(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Cg(e,t){return{eventCache:e,serverCache:t}}function Ch(e,t,n,r){return Cg(new Va(t,n,r),e.serverCache)}function MI(e,t,n,r){return Cg(e.eventCache,new Va(t,n,r))}function K_(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Vc(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var m_,JV=()=>(m_||(m_=new zs(JB)),m_),Hi=class e{static fromObject(t){let n=new e(null);return mi(t,(r,i)=>{n=n.set(new Yn(r),i)}),n}constructor(t,n=JV()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:$n(),value:this.value};if(Tn(t))return null;{let r=En(t),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(dr(t),n);return s!=null?{path:Cr(new Yn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Tn(t))return this;{let n=En(t),r=this.children.get(n);return r!==null?r.subtree(dr(t)):new e(null)}}set(t,n){if(Tn(t))return new e(n,this.children);{let r=En(t),s=(this.children.get(r)||new e(null)).set(dr(t),n),o=this.children.insert(r,s);return new e(this.value,o)}}remove(t){if(Tn(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=En(t),r=this.children.get(n);if(r){let i=r.remove(dr(t)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this}}get(t){if(Tn(t))return this.value;{let n=En(t),r=this.children.get(n);return r?r.get(dr(t)):null}}setTree(t,n){if(Tn(t))return n;{let r=En(t),s=(this.children.get(r)||new e(null)).setTree(dr(t),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new e(this.value,o)}}fold(t){return this.fold_($n(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Cr(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,$n(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Tn(t))return null;{let s=En(t),o=this.children.get(s);return o?o.findOnPath_(dr(t),Cr(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,$n(),n)}foreachOnPath_(t,n,r){if(Tn(t))return this;{this.value&&r(n,this.value);let i=En(t),s=this.children.get(i);return s?s.foreachOnPath_(dr(t),Cr(n,i),r):new e(null)}}foreach(t){this.foreach_($n(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Cr(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var lo=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Hi(null))}};function Ih(e,t,n){if(Tn(t))return new lo(new Hi(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,s=r.value,o=os(i,t);return s=s.updateChild(o,n),new lo(e.writeTree_.set(i,s))}else{let i=new Hi(n),s=e.writeTree_.setTree(t,i);return new lo(s)}}}function Y_(e,t,n){let r=e;return mi(n,(i,s)=>{r=Ih(r,Cr(t,i),s)}),r}function q8(e,t){if(Tn(t))return lo.empty();{let n=e.writeTree_.setTree(t,new Hi(null));return new lo(n)}}function Z_(e,t){return zc(e,t)!=null}function zc(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(os(n.path,t)):null}function W8(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ir,(r,i)=>{t.push(new Sn(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Sn(r,i.value))}),t}function Al(e,t){if(Tn(t))return e;{let n=zc(e,t);return n!=null?new lo(new Hi(n)):new lo(e.writeTree_.subtree(t))}}function X_(e){return e.writeTree_.isEmpty()}function sd(e,t){return RI($n(),e.writeTree_,t)}function RI(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(ot(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=RI(Cr(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Cr(e,".priority"),r)),n}}function Aw(e,t){return FI(t,e)}function QV(e,t,n,r,i){ot(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ih(e.visibleWrites,t,n)),e.lastWriteId=r}function eU(e,t,n,r){ot(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Y_(e.visibleWrites,t,n),e.lastWriteId=r}function tU(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function nU(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);ot(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){let a=e.allWrites[o];a.visible&&(o>=n&&rU(a,r.path)?i=!1:Us(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return iU(e),!0;if(r.snap)e.visibleWrites=q8(e.visibleWrites,r.path);else{let a=r.children;mi(a,l=>{e.visibleWrites=q8(e.visibleWrites,Cr(r.path,l))})}return!0}else return!1}function rU(e,t){if(e.snap)return Us(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&Us(Cr(e.path,n),t))return!0;return!1}function iU(e){e.visibleWrites=OI(e.allWrites,sU,$n()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function sU(e){return e.visible}function OI(e,t,n){let r=lo.empty();for(let i=0;i<e.length;++i){let s=e[i];if(t(s)){let o=s.path,a;if(s.snap)Us(n,o)?(a=os(n,o),r=Ih(r,a,s.snap)):Us(o,n)&&(a=os(o,n),r=Ih(r,$n(),s.snap.getChild(a)));else if(s.children){if(Us(n,o))a=os(n,o),r=Y_(r,a,s.children);else if(Us(o,n))if(a=os(o,n),Tn(a))r=Y_(r,$n(),s.children);else{let l=Rc(s.children,En(a));if(l){let c=l.getChild(dr(a));r=Ih(r,$n(),c)}}}else throw Mc("WriteRecord should have .snap or .children")}}return r}function PI(e,t,n,r,i){if(!r&&!i){let s=zc(e.visibleWrites,t);if(s!=null)return s;{let o=Al(e.visibleWrites,t);if(X_(o))return n;if(n==null&&!Z_(o,$n()))return null;{let a=n||mn.EMPTY_NODE;return sd(o,a)}}}else{let s=Al(e.visibleWrites,t);if(!i&&X_(s))return n;if(!i&&n==null&&!Z_(s,$n()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Us(c.path,t)||Us(t,c.path))},a=OI(e.allWrites,o,t),l=n||mn.EMPTY_NODE;return sd(a,l)}}}function oU(e,t,n){let r=mn.EMPTY_NODE,i=zc(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ir,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Al(e.visibleWrites,t);return n.forEachChild(Ir,(o,a)=>{let l=sd(Al(s,new Yn(o)),a);r=r.updateImmediateChild(o,l)}),W8(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Al(e.visibleWrites,t);return W8(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function aU(e,t,n,r,i){ot(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Cr(t,n);if(Z_(e.visibleWrites,s))return null;{let o=Al(e.visibleWrites,s);return X_(o)?i.getChild(n):sd(o,i.getChild(n))}}function lU(e,t,n,r){let i=Cr(t,n),s=zc(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Al(e.visibleWrites,i);return sd(o,r.getNode().getImmediateChild(n))}else return null}function cU(e,t){return zc(e.visibleWrites,t)}function uU(e,t,n,r,i,s,o){let a,l=Al(e.visibleWrites,t),c=zc(l,$n());if(c!=null)a=c;else if(n!=null)a=sd(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function dU(){return{visibleWrites:lo.empty(),allWrites:[],lastWriteId:-1}}function pg(e,t,n,r){return PI(e.writeTree,e.treePath,t,n,r)}function kw(e,t){return oU(e.writeTree,e.treePath,t)}function G8(e,t,n,r){return aU(e.writeTree,e.treePath,t,n,r)}function mg(e,t){return cU(e.writeTree,Cr(e.treePath,t))}function fU(e,t,n,r,i,s){return uU(e.writeTree,e.treePath,t,n,r,i,s)}function Dw(e,t,n){return lU(e.writeTree,e.treePath,t,n)}function LI(e,t){return FI(Cr(e.treePath,t),e.writeTree)}function FI(e,t){return{treePath:e,writeTree:t}}var J_=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;ot(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ot(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Dh(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,kh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,rd(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Dh(r,t.snapshotNode,i.oldSnap));else throw Mc("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Q_=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},jI=new Q_,Rh=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new Va(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dw(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Vc(this.viewCache_),s=fU(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}};function hU(e){return{filter:e}}function pU(e,t){ot(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ot(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function mU(e,t,n,r,i){let s=new J_,o,a;if(n.type===Fo.OVERWRITE){let c=n;c.source.fromUser?o=ew(e,t,c.path,c.snap,r,i,s):(ot(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Tn(c.path),o=gg(e,t,c.path,c.snap,r,i,a,s))}else if(n.type===Fo.MERGE){let c=n;c.source.fromUser?o=yU(e,t,c.path,c.children,r,i,s):(ot(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=tw(e,t,c.path,c.children,r,i,a,s))}else if(n.type===Fo.ACK_USER_WRITE){let c=n;c.revert?o=_U(e,t,c.path,r,i,s):o=bU(e,t,c.path,c.affectedTree,r,i,s)}else if(n.type===Fo.LISTEN_COMPLETE)o=vU(e,t,n.path,r,s);else throw Mc("Unknown operation type: "+n.type);let l=s.getChanges();return gU(t,o,l),{viewCache:o,changes:l}}function gU(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=K_(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(DI(K_(t)))}}function BI(e,t,n,r,i,s){let o=t.eventCache;if(mg(r,n)!=null)return t;{let a,l;if(Tn(n))if(ot(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=Vc(t),u=c instanceof mn?c:mn.EMPTY_NODE,d=kw(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{let c=pg(r,Vc(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{let c=En(n);if(c===".priority"){ot(kl(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=t.serverCache.getNode();let d=G8(r,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=o.getNode()}else{let u=dr(n),d;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();let h=G8(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=Dw(r,c,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Ch(t,a,o.isFullyInitialized()||Tn(n),e.filter.filtersNodes())}}function gg(e,t,n,r,i,s,o,a){let l=t.serverCache,c,u=o?e.filter:e.filter.getIndexedFilter();if(Tn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{let f=En(n);if(!l.isCompleteForPath(n)&&kl(n)>1)return t;let p=dr(n),y=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),f,y,p,jI,null)}let d=MI(t,c,l.isFullyInitialized()||Tn(n),u.filtersNodes()),h=new Rh(i,d,s);return BI(e,d,n,i,h,a)}function ew(e,t,n,r,i,s,o){let a=t.eventCache,l,c,u=new Rh(i,t,s);if(Tn(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Ch(t,c,!0,e.filter.filtersNodes());else{let d=En(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ch(t,c,a.isFullyInitialized(),a.isFiltered());else{let h=dr(n),f=a.getNode().getImmediateChild(d),p;if(Tn(h))p=r;else{let g=u.getCompleteChild(d);g!=null?ww(h)===".priority"&&g.getChild(SI(h)).isEmpty()?p=g:p=g.updateChild(h,r):p=mn.EMPTY_NODE}if(f.equals(p))l=t;else{let g=e.filter.updateChild(a.getNode(),d,p,h,u,o);l=Ch(t,g,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function K8(e,t){return e.eventCache.isCompleteForChild(t)}function yU(e,t,n,r,i,s,o){let a=t;return r.foreach((l,c)=>{let u=Cr(n,l);K8(t,En(u))&&(a=ew(e,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=Cr(n,l);K8(t,En(u))||(a=ew(e,a,u,c,i,s,o))}),a}function Y8(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function tw(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;Tn(n)?c=r:c=new Hi(null).setTree(n,r);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=t.serverCache.getNode().getImmediateChild(d),p=Y8(e,f,h);l=gg(e,l,new Yn(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{let f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=t.serverCache.getNode().getImmediateChild(d),g=Y8(e,p,h);l=gg(e,l,new Yn(d),g,i,s,o,a)}}),l}function bU(e,t,n,r,i,s,o){if(mg(i,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(Tn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return gg(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Tn(n)){let c=new Hi(null);return l.getNode().forEachChild(Xu,(u,d)=>{c=c.set(new Yn(u),d)}),tw(e,t,n,c,i,s,a,o)}else return t}else{let c=new Hi(null);return r.foreach((u,d)=>{let h=Cr(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),tw(e,t,n,c,i,s,a,o)}}function vU(e,t,n,r,i){let s=t.serverCache,o=MI(t,s.getNode(),s.isFullyInitialized()||Tn(n),s.isFiltered());return BI(e,o,n,r,jI,i)}function _U(e,t,n,r,i,s){let o;if(mg(r,n)!=null)return t;{let a=new Rh(r,t,i),l=t.eventCache.getNode(),c;if(Tn(n)||En(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=pg(r,Vc(t));else{let d=t.serverCache.getNode();ot(d instanceof mn,"serverChildren would be complete if leaf node"),u=kw(r,d)}u=u,c=e.filter.updateFullNode(l,u,s)}else{let u=En(n),d=Dw(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,dr(n),a,s):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,mn.EMPTY_NODE,dr(n),a,s):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=pg(r,Vc(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||mg(r,$n())!=null,Ch(t,c,o,e.filter.filtersNodes())}}var nw=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Nh(r.getIndex()),s=qV(r);this.processor_=hU(s);let o=n.serverCache,a=n.eventCache,l=i.updateFullNode(mn.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(mn.EMPTY_NODE,a.getNode(),null),u=new Va(l,o.isFullyInitialized(),i.filtersNodes()),d=new Va(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Cg(d,u),this.eventGenerator_=new G_(this.query_)}get query(){return this.query_}};function wU(e){return e.viewCache_.serverCache.getNode()}function xU(e,t){let n=Vc(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Tn(t)&&!n.getImmediateChild(En(t)).isEmpty())?n.getChild(t):null}function Z8(e){return e.eventRegistrations_.length===0}function EU(e,t){e.eventRegistrations_.push(t)}function X8(e,t,n){let r=[];if(n){ot(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){let o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function J8(e,t,n,r){t.type===Fo.MERGE&&t.source.queryId!==null&&(ot(Vc(e.viewCache_),"We should always have a full cache before handling merges"),ot(K_(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,s=mU(e.processor_,i,t,n,r);return pU(e.processor_,s.viewCache),ot(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,VI(e,s.changes,s.viewCache.eventCache.getNode(),null)}function SU(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ir,(s,o)=>{r.push(rd(s,o))}),n.isFullyInitialized()&&r.push(DI(n.getNode())),VI(e,r,n.getNode(),t)}function VI(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return YV(e.eventGenerator_,t,n,i)}var yg,rw=class{constructor(){this.views=new Map}};function CU(e){ot(!yg,"__referenceConstructor has already been defined"),yg=e}function IU(){return ot(yg,"Reference.ts has not been loaded"),yg}function TU(e){return e.views.size===0}function Nw(e,t,n,r){let i=t.source.queryId;if(i!==null){let s=e.views.get(i);return ot(s!=null,"SyncTree gave us an op for an invalid query."),J8(s,t,n,r)}else{let s=[];for(let o of e.views.values())s=s.concat(J8(o,t,n,r));return s}}function AU(e,t,n,r,i){let s=t._queryIdentifier,o=e.views.get(s);if(!o){let a=pg(n,i?r:null),l=!1;a?l=!0:r instanceof mn?(a=kw(n,r),l=!1):(a=mn.EMPTY_NODE,l=!1);let c=Cg(new Va(a,l,!1),new Va(r,i,!1));return new nw(t,c)}return o}function kU(e,t,n,r,i,s){let o=AU(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),EU(o,n),SU(o,n)}function DU(e,t,n,r){let i=t._queryIdentifier,s=[],o=[],a=Dl(e);if(i==="default")for(let[l,c]of e.views.entries())o=o.concat(X8(c,n,r)),Z8(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=e.views.get(i);l&&(o=o.concat(X8(l,n,r)),Z8(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Dl(e)&&s.push(new(IU())(t._repo,t._path)),{removed:s,events:o}}function UI(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ju(e,t){let n=null;for(let r of e.views.values())n=n||xU(r,t);return n}function zI(e,t){if(t._queryParams.loadsAllData())return Ig(e);{let r=t._queryIdentifier;return e.views.get(r)}}function HI(e,t){return zI(e,t)!=null}function Dl(e){return Ig(e)!=null}function Ig(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var bg;function NU(e){ot(!bg,"__referenceConstructor has already been defined"),bg=e}function MU(){return ot(bg,"Reference.ts has not been loaded"),bg}var RU=1,vg=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Hi(null),this.pendingWriteTree_=dU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function $I(e,t,n,r,i){return QV(e.pendingWriteTree_,t,n,r,i),i?ld(e,new id(Cw(),t,n)):[]}function OU(e,t,n,r){eU(e.pendingWriteTree_,t,n,r);let i=Hi.fromObject(n);return ld(e,new Mh(Cw(),t,i))}function Tl(e,t,n=!1){let r=tU(e.pendingWriteTree_,t);if(nU(e.pendingWriteTree_,t)){let s=new Hi(null);return r.snap!=null?s=s.set($n(),!0):mi(r.children,o=>{s=s.set(new Yn(o),!0)}),ld(e,new W_(r.path,s,n))}else return[]}function Tg(e,t,n){return ld(e,new id(Iw(),t,n))}function PU(e,t,n){let r=Hi.fromObject(n);return ld(e,new Mh(Iw(),t,r))}function LU(e,t){return ld(e,new hg(Iw(),t))}function FU(e,t,n){let r=Rw(e,n);if(r){let i=Ow(r),s=i.path,o=i.queryId,a=os(s,t),l=new hg(Tw(o),a);return Pw(e,s,l)}else return[]}function iw(e,t,n,r,i=!1){let s=t._path,o=e.syncPointTree_.get(s),a=[];if(o&&(t._queryIdentifier==="default"||HI(o,t))){let l=DU(o,t,n,r);TU(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(h,f)=>Dl(f));if(u&&!d){let h=e.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=VU(h);for(let p=0;p<f.length;++p){let g=f[p],y=g.query,v=GI(e,g);e.listenProvider_.startListening(Th(y),_g(e,y),v.hashFn,v.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(Th(t),null):c.forEach(h=>{let f=e.queryToTagMap.get(Ag(h));e.listenProvider_.stopListening(Th(h),f)}))}UU(e,c)}return a}function jU(e,t,n,r){let i=Rw(e,r);if(i!=null){let s=Ow(i),o=s.path,a=s.queryId,l=os(o,t),c=new id(Tw(a),l,n);return Pw(e,o,c)}else return[]}function BU(e,t,n,r){let i=Rw(e,r);if(i){let s=Ow(i),o=s.path,a=s.queryId,l=os(o,t),c=Hi.fromObject(n),u=new Mh(Tw(a),l,c);return Pw(e,o,u)}else return[]}function Q8(e,t,n,r=!1){let i=t._path,s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(h,f)=>{let p=os(h,i);s=s||Ju(f,p),o=o||Dl(f)});let a=e.syncPointTree_.get(i);a?(o=o||Dl(a),s=s||Ju(a,$n())):(a=new rw,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=mn.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((f,p)=>{let g=Ju(p,$n());g&&(s=s.updateImmediateChild(f,g))}));let c=HI(a,t);if(!c&&!t._queryParams.loadsAllData()){let h=Ag(t);ot(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=zU();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=Aw(e.pendingWriteTree_,i),d=kU(a,t,n,u,s,l);if(!c&&!o&&!r){let h=zI(a,t);d=d.concat(HU(e,t,h))}return d}function Mw(e,t,n){let i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{let l=os(o,t),c=Ju(a,l);if(c)return c});return PI(i,t,s,n,!0)}function ld(e,t){return qI(t,e.syncPointTree_,null,Aw(e.pendingWriteTree_,$n()))}function qI(e,t,n,r){if(Tn(e.path))return WI(e,t,n,r);{let i=t.get($n());n==null&&i!=null&&(n=Ju(i,$n()));let s=[],o=En(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=LI(r,o);s=s.concat(qI(a,l,c,u))}return i&&(s=s.concat(Nw(i,e,r,n))),s}}function WI(e,t,n,r){let i=t.get($n());n==null&&i!=null&&(n=Ju(i,$n()));let s=[];return t.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=LI(r,o),u=e.operationForChild(o);u&&(s=s.concat(WI(u,a,l,c)))}),i&&(s=s.concat(Nw(i,e,r,n))),s}function GI(e,t){let n=t.query,r=_g(e,n);return{hashFn:()=>(wU(t)||mn.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?FU(e,n._path,r):LU(e,n._path);{let s=tV(i,n);return iw(e,n,null,s)}}}}function _g(e,t){let n=Ag(t);return e.queryToTagMap.get(n)}function Ag(e){return e._path.toString()+"$"+e._queryIdentifier}function Rw(e,t){return e.tagToQueryMap.get(t)}function Ow(e){let t=e.indexOf("$");return ot(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Yn(e.substr(0,t))}}function Pw(e,t,n){let r=e.syncPointTree_.get(t);ot(r,"Missing sync point for query tag that we're tracking");let i=Aw(e.pendingWriteTree_,t);return Nw(r,n,i,null)}function VU(e){return e.fold((t,n,r)=>{if(n&&Dl(n))return[Ig(n)];{let i=[];return n&&(i=UI(n)),mi(r,(s,o)=>{i=i.concat(o)}),i}})}function Th(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(MU())(e._repo,e._path):e}function UU(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Ag(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function zU(){return RU++}function HU(e,t,n){let r=t._path,i=_g(e,t),s=GI(e,n),o=e.listenProvider_.startListening(Th(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)ot(!Dl(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!Tn(c)&&u&&Dl(u))return[Ig(u).query];{let h=[];return u&&(h=h.concat(UI(u).map(f=>f.query))),mi(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Th(u),_g(e,u))}}return o}var sw=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},ow=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=Cr(this.path_,t);return new e(this.syncTree_,n)}node(){return Mw(this.syncTree_,this.path_)}},$U=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},eI=function(e,t,n){if(!e||typeof e!="object")return e;if(ot(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return qU(e[".sv"],t,n);if(typeof e[".sv"]=="object")return WU(e[".sv"],t);ot(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},qU=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ot(!1,"Unexpected server value: "+e)}},WU=function(e,t,n){e.hasOwnProperty("increment")||ot(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&ot(!1,"Unexpected increment value: "+r);let i=t.node();if(ot(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},KI=function(e,t,n,r){return Lw(t,new ow(n,e),r)},YI=function(e,t,n){return Lw(e,new sw(t),n)};function Lw(e,t,n){let r=e.getPriority().val(),i=eI(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){let o=e,a=eI(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new td(a,si(i)):e}else{let o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new td(i))),o.forEachChild(Ir,(a,l)=>{let c=Lw(l,t.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var Oh=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function Fw(e,t){let n=t instanceof Yn?t:new Yn(t),r=e,i=En(n);for(;i!==null;){let s=Rc(r.node.children,i)||{children:{},childCount:0};r=new Oh(i,r,s),n=dr(n),i=En(n)}return r}function cd(e){return e.node.value}function ZI(e,t){e.node.value=t,aw(e)}function XI(e){return e.node.childCount>0}function GU(e){return cd(e)===void 0&&!XI(e)}function kg(e,t){mi(e.node.children,(n,r)=>{t(new Oh(n,e,r))})}function JI(e,t,n,r){n&&!r&&t(e),kg(e,i=>{JI(i,t,!0,r)}),n&&r&&t(e)}function KU(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function jh(e){return new Yn(e.parent===null?e.name:jh(e.parent)+"/"+e.name)}function aw(e){e.parent!==null&&YU(e.parent,e.name,e)}function YU(e,t,n){let r=GU(n),i=so(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,aw(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,aw(e))}var ZU=/[\[\].#$\/\u0000-\u001F\u007F]/,XU=/[\[\].#$\u0000-\u001F\u007F]/,g_=10*1024*1024,jw=function(e){return typeof e=="string"&&e.length!==0&&!ZU.test(e)},QI=function(e){return typeof e=="string"&&e.length!==0&&!XU.test(e)},JU=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),QI(e)},QU=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!bw(e)||e&&typeof e=="object"&&so(e,".sv")},ez=function(e,t,n,r){r&&t===void 0||Dg(dh(e,"value"),t,n)},Dg=function(e,t,n){let r=n instanceof Yn?new D_(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Lc(r));if(typeof t=="function")throw new Error(e+"contains a function "+Lc(r)+" with contents = "+t.toString());if(bw(t))throw new Error(e+"contains "+t.toString()+" "+Lc(r));if(typeof t=="string"&&t.length>g_/3&&fh(t)>g_)throw new Error(e+"contains a string greater than "+g_+" utf8 bytes "+Lc(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(mi(t,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!jw(o)))throw new Error(e+" contains an invalid key ("+o+") "+Lc(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);NV(r,o),Dg(e,a,r),MV(r)}),i&&s)throw new Error(e+' contains ".value" child '+Lc(r)+" in addition to actual children.")}},tz=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];let s=Ah(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!jw(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(DV);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Us(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},nz=function(e,t,n,r){if(r&&t===void 0)return;let i=dh(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");let s=[];mi(t,(o,a)=>{let l=new Yn(o);if(Dg(i,a,Cr(n,l)),ww(l)===".priority"&&!QU(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),tz(i,s)};var eT=function(e,t,n,r){if(!(r&&n===void 0)&&!QI(n))throw new Error(dh(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rz=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),eT(e,t,n,r)},iz=function(e,t){if(En(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},sz=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!jw(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!JU(n))throw new Error(dh(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var lw=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Ng(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],s=i.getPath();n!==null&&!xw(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function tT(e,t,n){Ng(e,n),nT(e,r=>xw(r,t))}function co(e,t,n){Ng(e,n),nT(e,r=>Us(r,t)||Us(t,r))}function nT(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let s=i.path;t(s)?(oz(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function oz(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();jc&&pi("event: "+n.toString()),ad(r)}}}var az="repo_interrupt",lz=25,cw=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fg(),this.transactionQueueTree_=new Oh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function cz(e,t,n){if(e.stats_=_w(e.repoInfo_),e.forceRestClient_||sV())e.server_=new U_(e.repoInfo_,(r,i,s,o)=>{tI(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>nI(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ei(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ew(e.repoInfo_,t,(r,i,s,o)=>{tI(e,r,i,s,o)},r=>{nI(e,r)},r=>{dz(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=aV(e.repoInfo_,()=>new q_(e.stats_,e.server_)),e.infoData_=new z_,e.infoSyncTree_=new vg({startListening:(r,i,s,o)=>{let a=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=Tg(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Bw(e,"connected",!1),e.serverSyncTree_=new vg({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);co(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function uz(e){let n=e.infoData_.getNode(new Yn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Mg(e){return $U({timestamp:uz(e)})}function tI(e,t,n,r,i){e.dataUpdateCount++;let s=new Yn(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){let l=uh(n,c=>si(c));o=BU(e.serverSyncTree_,s,l,i)}else{let l=si(n);o=jU(e.serverSyncTree_,s,l,i)}else if(r){let l=uh(n,c=>si(c));o=PU(e.serverSyncTree_,s,l)}else{let l=si(n);o=Tg(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=od(e,s)),co(e.eventQueue_,a,o)}function nI(e,t){Bw(e,"connected",t),t===!1&&pz(e)}function dz(e,t){mi(t,(n,r)=>{Bw(e,n,r)})}function Bw(e,t,n){let r=new Yn("/.info/"+t),i=si(n);e.infoData_.updateSnapshot(r,i);let s=Tg(e.infoSyncTree_,r,i);co(e.eventQueue_,r,s)}function Vw(e){return e.nextWriteId_++}function fz(e,t,n,r,i){Rg(e,"set",{path:t.toString(),value:n,priority:r});let s=Mg(e),o=si(n,r),a=Mw(e.serverSyncTree_,t),l=YI(o,a,s),c=Vw(e),u=$I(e.serverSyncTree_,t,l,c,!0);Ng(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(h,f)=>{let p=h==="ok";p||zi("set at "+t+" failed: "+h);let g=Tl(e.serverSyncTree_,c,!p);co(e.eventQueue_,t,g),uw(e,i,h,f)});let d=zw(e,t);od(e,d),co(e.eventQueue_,d,[])}function hz(e,t,n,r){Rg(e,"update",{path:t.toString(),value:n});let i=!0,s=Mg(e),o={};if(mi(n,(a,l)=>{i=!1,o[a]=KI(Cr(t,a),si(l),e.serverSyncTree_,s)}),i)pi("update() called with empty data.  Don't do anything."),uw(e,r,"ok",void 0);else{let a=Vw(e),l=OU(e.serverSyncTree_,t,o,a);Ng(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||zi("update at "+t+" failed: "+c);let h=Tl(e.serverSyncTree_,a,!d),f=h.length>0?od(e,t):t;co(e.eventQueue_,f,h),uw(e,r,c,u)}),mi(n,c=>{let u=zw(e,Cr(t,c));od(e,u)}),co(e.eventQueue_,t,[])}}function pz(e){Rg(e,"onDisconnectEvents");let t=Mg(e),n=fg();H_(e.onDisconnect_,$n(),(i,s)=>{let o=KI(i,s,e.serverSyncTree_,t);NI(n,i,o)});let r=[];H_(n,$n(),(i,s)=>{r=r.concat(Tg(e.serverSyncTree_,i,s));let o=zw(e,i);od(e,o)}),e.onDisconnect_=fg(),co(e.eventQueue_,$n(),r)}function mz(e,t,n){let r;En(t._path)===".info"?r=Q8(e.infoSyncTree_,t,n):r=Q8(e.serverSyncTree_,t,n),tT(e.eventQueue_,t._path,r)}function rI(e,t,n){let r;En(t._path)===".info"?r=iw(e.infoSyncTree_,t,n):r=iw(e.serverSyncTree_,t,n),tT(e.eventQueue_,t._path,r)}function gz(e){e.persistentConnection_&&e.persistentConnection_.interrupt(az)}function Rg(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),pi(n,...t)}function uw(e,t,n,r){t&&ad(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,t(o)}})}function rT(e,t,n){return Mw(e.serverSyncTree_,t,n)||mn.EMPTY_NODE}function Uw(e,t=e.transactionQueueTree_){if(t||Og(e,t),cd(t)){let n=sT(e,t);ot(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&yz(e,jh(t),n)}else XI(t)&&kg(t,n=>{Uw(e,n)})}function yz(e,t,n){let r=n.map(c=>c.currentWriteId),i=rT(e,t,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let u=n[c];ot(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=os(t,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=t;e.server_.put(l.toString(),a,c=>{Rg(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Tl(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Og(e,Fw(e.transactionQueueTree_,t)),Uw(e,e.transactionQueueTree_),co(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)ad(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{zi("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}od(e,t)}},o)}function od(e,t){let n=iT(e,t),r=jh(n),i=sT(e,n);return bz(e,i,r),r}function bz(e,t,n){if(t.length===0)return;let r=[],i=[],o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=os(n,l.path),u=!1,d;if(ot(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Tl(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=lz)u=!0,d="maxretry",i=i.concat(Tl(e.serverSyncTree_,l.currentWriteId,!0));else{let h=rT(e,l.path,o);l.currentInputSnapshot=h;let f=t[a].update(h.val());if(f!==void 0){Dg("transaction failed: Data returned ",f,l.path);let p=si(f);typeof f=="object"&&f!=null&&so(f,".priority")||(p=p.updatePriority(h.getPriority()));let y=l.currentWriteId,v=Mg(e),S=YI(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=S,l.currentWriteId=Vw(e),o.splice(o.indexOf(y),1),i=i.concat($I(e.serverSyncTree_,l.path,S,l.currentWriteId,l.applyLocally)),i=i.concat(Tl(e.serverSyncTree_,y,!0))}else u=!0,d="nodata",i=i.concat(Tl(e.serverSyncTree_,l.currentWriteId,!0))}co(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Og(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)ad(r[a]);Uw(e,e.transactionQueueTree_)}function iT(e,t){let n,r=e.transactionQueueTree_;for(n=En(t);n!==null&&cd(r)===void 0;)r=Fw(r,n),t=dr(t),n=En(t);return r}function sT(e,t){let n=[];return oT(e,t,n),n.sort((r,i)=>r.order-i.order),n}function oT(e,t,n){let r=cd(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);kg(t,i=>{oT(e,i,n)})}function Og(e,t){let n=cd(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ZI(t,n.length>0?n:void 0)}kg(t,r=>{Og(e,r)})}function zw(e,t){let n=jh(iT(e,t)),r=Fw(e.transactionQueueTree_,t);return KU(r,i=>{y_(e,i)}),y_(e,r),JI(r,i=>{y_(e,i)}),n}function y_(e,t){let n=cd(t);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ot(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ot(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Tl(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?ZI(t,void 0):n.length=s+1,co(e.eventQueue_,jh(t),i);for(let o=0;o<r.length;o++)ad(r[o])}}function vz(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function _z(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):zi(`Invalid query segment '${n}' in query '${e}'`)}return t}var iI=function(e,t){let n=wz(e),r=n.namespace;n.domain==="firebase.com"&&Ba(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ba("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ZB();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ig(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Yn(n.pathString)}},wz=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=vz(e.substring(u,d)));let h=_z(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let f=t.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var wg=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ei(this.snapshot.exportVal())}},xg=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var dw=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return ot(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var fw=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Tn(this._path)?null:ww(this._path)}get ref(){return new Ua(this._repo,this._path)}get _queryIdentifier(){let t=H8(this._queryParams),n=vw(t);return n==="{}"?"default":n}get _queryObject(){return H8(this._queryParams)}isEqual(t){if(t=hi(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=xw(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+kV(this._path)}};var Ua=class e extends fw{constructor(t,n){super(t,n,new V_,!1)}get parent(){let t=SI(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Eg=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new Yn(t),r=Sg(this.ref,t);return new e(this._node.getChild(n),r,Ir)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,Sg(this.ref,r),Ir)))}hasChild(t){let n=new Yn(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function jo(e,t){return e=hi(e),e._checkNotDeleted("ref"),t!==void 0?Sg(e._root,t):e._root}function Sg(e,t){return e=hi(e),En(e._path)===null?rz("child","path",t,!1):eT("child","path",t,!1),new Ua(e._repo,Cr(e._path,t))}function Hw(e,t){e=hi(e),iz("set",e._path),ez("set",t,e._path,!1);let n=new La;return fz(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Bh(e,t){nz("update",t,e._path,!1);let n=new La;return hz(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}var hw=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new wg("value",this,new Eg(t.snapshotNode,new Ua(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new xg(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},pw=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new xg(this,t,n):null}createEvent(t,n){ot(t.childName!=null,"Child events should have a childName.");let r=Sg(new Ua(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new wg(t.type,this,new Eg(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function xz(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{rI(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let o=new dw(n,s||void 0),a=t==="value"?new hw(o):new pw(t,o);return mz(e._repo,e,a),()=>rI(e._repo,e,a)}function Pg(e,t,n,r){return xz(e,"value",t,n,r)}CU(Ua);NU(Ua);var Ez="FIREBASE_DATABASE_EMULATOR_HOST",mw={},Sz=!1;function Cz(e,t,n,r){let i=t.lastIndexOf(":"),s=t.substring(0,i),o=wl(s);e.repoInfo_=new ig(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function Iz(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Ba("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pi("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=iI(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[Ez]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=iI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new Sh(Sh.OWNER):new E_(e.name,e.options,t);sz("Invalid Firebase Database URL",o),Tn(o.path)||Ba("Database URL must point to the root of a Firebase Database (not including a child path).");let d=Az(a,e,u,new x_(e,n));return new gw(d,e)}function Tz(e,t){let n=mw[t];(!n||n[e.key]!==e)&&Ba(`Database ${t}(${e.repoInfo_}) has already been deleted.`),gz(e),delete n[e.key]}function Az(e,t,n,r){let i=mw[t.name];i||(i={},mw[t.name]=i);let s=i[e.toURLString()];return s&&Ba("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new cw(e,Sz,n,r),i[e.toURLString()]=s,s}var gw=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cz(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ua(this._repo,$n())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Tz(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Ba("Cannot call "+t+" on a deleted database.")}};function aT(e=Il(),t){let n=gh(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=e8("database");r&&kz(n,...r)}return n}function kz(e,t,n,r={}){e=hi(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Po(r,s.repoInfo_.emulatorOptions))return;Ba("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Ba('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Sh(Sh.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:t8(r.mockUserToken,e.app.options.projectId);o=new Sh(a)}wl(t)&&(Z0(t),X0("Database",!0)),Cz(s,i,r,o)}function Dz(e){GB(Cl),Sl(new Vs("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return Iz(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),oo(I8,T8,e),oo(I8,T8,"esm2020")}Ew.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ew.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Dz();var Nz=[{eco:"35526",serial:"92719",sap:"4000026523",ops:["Carlos Eduardo Vazquez Calderon","Cristofer Ariel Rivera Cruz","Juan Gardu\xF1o Chaparro","Victor Hugo Moreno De la cruz"]},{eco:"37191",serial:"95159",sap:void 0,ops:["Miguel \xC1ngel Torres","Jos\xE9 Luis Hern\xE1ndez","Roberto S\xE1nchez","Alejandro Ruiz"]},{eco:"37192",serial:"95162",sap:void 0,ops:["Fernando Mart\xEDnez","Ricardo L\xF3pez","Daniel Garc\xEDa"]},{eco:"37193",serial:"95074",sap:void 0,ops:["Eduardo P\xE9rez","Jorge Ram\xEDrez","Luis Morales","Gabriel Flores"]},{eco:"37194",serial:"95056",sap:void 0,ops:["Oscar Gonz\xE1lez","Adri\xE1n Castillo","Manuel D\xEDaz","Rub\xE9n Romero"]},{eco:"37195",serial:"95049",sap:void 0,ops:["Javier Ortiz","Sergio Medina","Andr\xE9s Vargas","Ra\xFAl Castro"]},{eco:"40019",serial:"97520",sap:void 0,ops:["Hugo Herrera","Francisco Jim\xE9nez","Mart\xEDn Silva","Pedro Mendoza"]},{eco:"40020",serial:"97519",sap:void 0,ops:["Diego Rojas","Alberto Cruz","Mario Aguilar","C\xE9sar Guti\xE9rrez"]},{eco:"40021",serial:"97532",sap:void 0,ops:["Enrique \xC1lvarez","Gustavo M\xE9ndez","Felipe Ortega"]},{eco:"40060",serial:"97529",sap:void 0,ops:["Pablo Rios","H\xE9ctor Delgado","Salvador Pe\xF1a","Tom\xE1s Navarro"]},{eco:"40327",serial:"97560",sap:void 0,ops:["Ismael Guerrero","Rafael Soto","\xC1ngel Campos","Ram\xF3n Vega"]},{eco:"40328",serial:"97562",sap:void 0,ops:["Vicente Molina","Julio Cabrera","Esteban Miranda"]},{eco:"40338",serial:"66458",sap:void 0,ops:["Emilio Pacheco","F\xE9lix Cordero","Lorenzo Montes","Benjam\xEDn Sol\xEDs"]},{eco:"29439",serial:"66454",sap:"4000018761",ops:["Gerardo Lara","Mauricio Acosta"]},{eco:"29440",serial:"66541",sap:"4000018763",ops:["Samuel Valencia","Dario Espinoza"]},{eco:"35482",serial:"92714",sap:"4000026495",ops:["Alfredo Beltr\xE1n","Rogelio C\xE1rdenas","Sim\xF3n Orozco","Elias Villalobos"]},{eco:"35483",serial:"92730",sap:"4000026496",ops:["Lucas Maldonado","Mateo Ibarra","Nicol\xE1s Zavala","Joaqu\xEDn Trejo"]},{eco:"35494",serial:"92732",sap:"4000026522",ops:["Sebasti\xE1n Gallegos","Dami\xE1n Ponce","Juli\xE1n Esquivel","Leonardo Rocha"]}],Mz="Sergio Guadarrama Gonzales",Rz="Planta Cuautitl\xE1n - Cuautitl\xE1n Izcalli, Edo de Mex.",Oz="Toyota 32-8FG30";function lT(e){return Nz.map((t,n)=>{let r=Math.random(),i=0;r>.95?i=1:r>.85&&(i=2),t.eco==="35526"&&(i=1);let s=e[i],o=new Date;return i!==0&&o.setDate(o.getDate()-Math.floor(Math.random()*5)),{id:t.eco,brand:"Toyota",model:Oz,serial:t.serial,sapCode:t.sap,acquisitionDate:"2020-06-15",fuelType:"GLP/Gasolina Dual",status:s,statusSince:o.toISOString(),location:Rz,critical:n<5,cleanlinessStatus:"Pending",supervisor:Mz,operatingHours:Math.floor(Math.random()*1301+1200),assignedOperators:t.ops.map((a,l)=>({name:a,role:"Operador",shift:`Turno ${l%4+1}`})),maintenanceTasks:[]}})}var Bo={production:!1,firebase:{apiKey:"AIzaSyCQkT-TQy-rtKr_bmTWJS78HghTh97x3eE",authDomain:"asset-guard-demo.firebaseapp.com",databaseURL:"https://asset-guard-demo-default-rtdb.firebaseio.com",projectId:"asset-guard-demo",storageBucket:"asset-guard-demo.firebasestorage.app",messagingSenderId:"730419123254",appId:"1:730419123254:web:74de062f3e9e0851087497"},geminiApiKey:"AIzaSyDg8fHddzzerQlkBfNr49q51ZZoo1fvlM08"};var as=(()=>{class e{constructor(){this.firebaseConfig=Bo.firebase,this.connectionStatus=en("syncing"),this.lastUpdate=en(new Date),this.plantMode=en(!1),this.isKioskMode=en(!1),this.activeSlide=en(0),this.statuses=[{id:"1",name:"Operativo",color:"bg-emerald-100 text-emerald-800 border-emerald-200",hex:"#10b981"},{id:"2",name:"Taller",color:"bg-red-100 text-red-800 border-red-200",hex:"#ef4444"},{id:"3",name:"Preventivo",color:"bg-amber-100 text-amber-800 border-amber-200",hex:"#f59e0b"},{id:"4",name:"Baja",color:"bg-slate-100 text-slate-800 border-slate-200",hex:"#64748b"}],this.assetsSignal=en(this.loadRealFleet()),this.reportsSignal=en(this.generateRealReports()),this.forkliftFailures=en(this.generateRealLiveFailures()),this.assets=this.assetsSignal.asReadonly(),this.reports=this.reportsSignal.asReadonly(),this.kpiData=pn(()=>{let n=this.assetsSignal().length,r=this.assetsSignal().filter(c=>c.status.name==="Operativo").length,i=this.reportsSignal().filter(c=>c.exitDate),s=0;i.forEach(c=>{let u=new Date(c.entryDate).getTime(),d=new Date(c.exitDate).getTime();s+=(d-u)/(1e3*60*60)});let o=i.length>0?s/i.length:0,a=new Date().getMonth(),l=this.reportsSignal().filter(c=>new Date(c.entryDate).getMonth()===a).reduce((c,u)=>c+u.estimatedCost,0);return{availability:n>0?r/n*100:0,mttr:Math.round(o*10)/10,totalCostMonth:l,budgetMonth:18e3}}),this.fleetAvailability=pn(()=>{let n=this.assetsSignal();if(n.length===0)return{percentage:100,label:"Excelente",color:"#10b981"};let i=n.filter(s=>s.status.name==="Operativo").length/n.length*100;return{percentage:Math.round(i),label:i>=90?"Excelente":i>=80?"Regular":"Cr\xEDtico",color:i>=90?"#10b981":i>=80?"#f59e0b":"#ef4444"}}),this.topOperators=pn(()=>{let n=this.forkliftFailures(),r={};return n.forEach(i=>{i.reporta&&(r[i.reporta]=(r[i.reporta]||0)+10)}),Object.entries(r).map(([i,s])=>({name:i,points:s})).sort((i,s)=>s.points-i.points).slice(0,3)}),this.safetyStats=en({daysWithoutAccident:142,record:180,announcement:"Uso obligatorio de EPP en Patio de Maniobras"}),this.crewLeaderboard=en([{rank:1,name:"Turno 1 (Matutino)",score:98,pallets:1450},{rank:2,name:"Turno 2 (Vespertino)",score:94,pallets:1320},{rank:3,name:"Turno 3 (Nocturno)",score:89,pallets:1105}]),this.initFirebase(),this.syncAssetsWithFailures(this.forkliftFailures()),Ac(()=>{this.isKioskMode()?this.startKioskRotation():this.stopKioskRotation()}),window.addEventListener("online",()=>this.updateConnectionStatus()),window.addEventListener("offline",()=>this.updateConnectionStatus())}initFirebase(){try{if(!this.firebaseConfig.apiKey||!this.firebaseConfig.databaseURL||!this.firebaseConfig.projectId){console.warn("Firebase configuration incomplete. Running in offline mode."),this.connectionStatus.set("offline");return}this.app=tg().length>0?Il():yh(this.firebaseConfig),this.db=aT(this.app);let n=jo(this.db,".info/connected");Pg(n,r=>{r.val()===!0?this.connectionStatus.set("online"):this.connectionStatus.set("offline")}),this.setupListeners()}catch(n){console.error("Firebase init error:",n),this.connectionStatus.set("offline")}}updateConnectionStatus(){this.connectionStatus.set(navigator.onLine?"online":"offline")}setupListeners(){let n=jo(this.db,"failures");Pg(n,i=>{let s=i.val();if(this.lastUpdate.set(new Date),s){let o=Object.values(s);o.sort((a,l)=>new Date(l.fechaIngreso).getTime()-new Date(a.fechaIngreso).getTime()),this.forkliftFailures.set(o),this.syncAssetsWithFailures(o)}else this.seedDatabase()},i=>{console.info("\u{1F4F4} Modo Offline activado - Usando datos locales de demostraci\xF3n."),this.connectionStatus.set("offline")});let r=jo(this.db,"settings/kioskMode");Pg(r,i=>{let s=i.val();s!==null&&this.isKioskMode()!==s&&this.isKioskMode.set(s)})}seedDatabase(){let n={};this.forkliftFailures().forEach(i=>{n["failures/"+i.id]=i}),n["settings/kioskMode"]=!1,Bh(jo(this.db),n).catch(()=>{})}toggleKioskMode(){let n=!this.isKioskMode();this.isKioskMode.set(n),this.connectionStatus()==="online"&&Hw(jo(this.db,"settings/kioskMode"),n).catch(()=>{})}startKioskRotation(){this.kioskInterval&&clearInterval(this.kioskInterval),this.kioskInterval=setInterval(()=>{this.activeSlide.update(n=>(n+1)%3)},15e3)}stopKioskRotation(){this.kioskInterval&&clearInterval(this.kioskInterval),this.activeSlide.set(0)}togglePlantMode(){this.plantMode.update(n=>!n)}getAsset(n){return this.assetsSignal().find(r=>r.id===n)}getAssetHistory(n){return this.reportsSignal().filter(r=>r.assetId===n).sort((r,i)=>new Date(i.entryDate).getTime()-new Date(r.entryDate).getTime())}addLiveFailure(n){let r=Zt(at({},n),{id:"F-"+Date.now(),fechaIngreso:new Date().toISOString(),seguimiento:[]});this.connectionStatus.set("syncing"),this.forkliftFailures.update(i=>[r,...i]),this.syncAssetsWithFailures(this.forkliftFailures()),this.connectionStatus()!=="offline"&&Hw(jo(this.db,"failures/"+r.id),r).then(()=>this.connectionStatus.set("online")).catch(()=>this.connectionStatus.set("offline"))}addFailureUpdate(n,r,i){let s=this.forkliftFailures().find(a=>a.id===n);if(!s)return;let o=Zt(at({},s),{estatus:"En Proceso",seguimiento:[...s.seguimiento,{usuario:i,mensaje:r,fecha:new Date().toISOString()}]});this.forkliftFailures.update(a=>a.map(l=>l.id===n?o:l)),this.connectionStatus()!=="offline"&&Bh(jo(this.db,"failures/"+n),o).catch(console.error)}updateToyotaLogistics(n,r,i,s){let o={ordenCompra:r,estatusRefaccion:i,fechaPromesa:s,estatus:"En Proceso"};this.forkliftFailures.update(a=>a.map(l=>l.id===n?Zt(at(at({},l),o),{estatus:"En Proceso"}):l)),this.connectionStatus()!=="offline"&&Bh(jo(this.db,"failures/"+n),o).catch(console.error)}closeLiveFailure(n){let r=this.forkliftFailures().find(s=>s.id===n);if(!r)return;let i=Zt(at({},r),{estatus:"Cerrada",fechaSalida:new Date().toISOString()});this.forkliftFailures.update(s=>s.map(o=>o.id===n?i:o)),this.syncAssetsWithFailures(this.forkliftFailures()),this.connectionStatus()!=="offline"&&Bh(jo(this.db,"failures/"+n),i).catch(console.error)}reportFailure(n,r,i){this.addLiveFailure({economico:n,falla:r,prioridad:"Media",reporta:"Operador (App)",estatus:"Abierta"})}completeRepair(n,r,i,s){let o=this.forkliftFailures().find(a=>a.economico===n&&a.estatus!=="Cerrada");o&&this.closeLiveFailure(o.id)}updateAssetsFromExcel(n){}syncAssetsWithFailures(n){let r=n.filter(l=>l.estatus!=="Cerrada"),i=new Set(r.map(l=>l.economico)),s=new Map(r.map(l=>[l.economico,l])),o=this.statuses.find(l=>l.name==="Taller"),a=this.statuses.find(l=>l.name==="Operativo");this.assetsSignal.update(l=>l.map(c=>{if(i.has(c.id)){if(c.status.name!=="Taller")return Zt(at({},c),{status:o,statusSince:s.get(c.id)?.fechaIngreso||new Date().toISOString(),lastFailure:s.get(c.id)?.falla})}else if(c.status.name==="Taller"&&!i.has(c.id))return Zt(at({},c),{status:a,statusSince:new Date().toISOString(),lastFailure:void 0});return c}))}loadRealFleet(){let n=lT(this.statuses);return n.forEach((r,i)=>{r.maintenanceTasks=this.generateMockMaintenance(i)}),n}generateMockMaintenance(n){let r=[],i=Math.floor(Math.random()*45)-5,s=new Date;s.setDate(s.getDate()+i);let o=["Cambio de Aceite","Revisi\xF3n de Frenos","Ajuste de Cadenas","Servicio General","Inspecci\xF3n de Bater\xEDa"][n%5];return r.push({id:`T-${n}-1`,date:s.toISOString(),description:o,status:i<0?"Overdue":"Pending"}),r}generateRealReports(){return[]}generateRealLiveFailures(){return[{id:"FAIL-2026-0001",economico:"35526",falla:"Fuga de aceite hidr\xE1ulico en cilindro de elevaci\xF3n principal.",reporta:"Carlos Eduardo Vazquez Calderon",fechaIngreso:new Date().toISOString(),prioridad:"Alta",estatus:"Abierta",seguimiento:[]}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=yn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var cT=["user","model","function","system"];var Lg=function(e){return e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e}(Lg||{});var Ti=class extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}},Nl=class extends Ti{constructor(t,n){super(t),this.response=n}},jg=class extends Ti{constructor(t,n,r,i){super(t),this.status=n,this.statusText=r,this.errorDetails=i}},Vo=class extends Ti{};var Pz="https://generativelanguage.googleapis.com",Lz="v1beta",Fz="0.21.0",jz="genai-js",ud=function(e){return e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents",e}(ud||{}),$w=class{constructor(t,n,r,i,s){this.model=t,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var t,n;let r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Lz,s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Pz}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}};function Bz(e){let t=[];return e?.apiClient&&t.push(e.apiClient),t.push(`${jz}/${Fz}`),t.join(" ")}async function Vz(e){var t;let n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Bz(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Vo(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(let[i,s]of r.entries()){if(i==="x-goog-api-key")throw new Vo(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Vo(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function Uz(e,t,n,r,i,s){let o=new $w(e,t,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},qz(s)),{method:"POST",headers:await Vz(o),body:i})}}async function Hh(e,t,n,r,i,s={},o=fetch){let{url:a,fetchOptions:l}=await Uz(e,t,n,r,i,s);return zz(a,l,o)}async function zz(e,t,n=fetch){let r;try{r=await n(e,t)}catch(i){Hz(i,e)}return r.ok||await $z(r,e),r}function Hz(e,t){let n=e;throw e instanceof jg||e instanceof Vo||(n=new Ti(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function $z(e,t){let n="",r;try{let i=await e.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new jg(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function qz(e){let t={};if(e?.signal!==void 0||e?.timeout>=0){let n=new AbortController;e?.timeout>=0&&setTimeout(()=>n.abort(),e.timeout),e?.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function Ww(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Fg(e.candidates[0]))throw new Nl(`${Ml(e)}`,e);return Wz(e)}else if(e.promptFeedback)throw new Nl(`Text not available. ${Ml(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Fg(e.candidates[0]))throw new Nl(`${Ml(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),uT(e)[0]}else if(e.promptFeedback)throw new Nl(`Function call not available. ${Ml(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Fg(e.candidates[0]))throw new Nl(`${Ml(e)}`,e);return uT(e)}else if(e.promptFeedback)throw new Nl(`Function call not available. ${Ml(e)}`,e)},e}function Wz(e){var t,n,r,i;let s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(let o of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function uT(e){var t,n,r,i;let s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(let o of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}var Gz=[Lg.RECITATION,Lg.SAFETY,Lg.LANGUAGE];function Fg(e){return!!e.finishReason&&Gz.includes(e.finishReason)}function Ml(e){var t,n,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){let s=e.candidates[0];Fg(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Vh(e){return this instanceof Vh?(this.v=e,this):new Vh(e)}function Kz(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{l(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){h.value instanceof Vh?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}var dT=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Yz(e){let t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Jz(t),[r,i]=n.tee();return{stream:Xz(r),response:Zz(i)}}async function Zz(e){let t=[],n=e.getReader();for(;;){let{done:r,value:i}=await n.read();if(r)return Ww(Qz(t));t.push(i)}}function Xz(e){return Kz(this,arguments,function*(){let n=e.getReader();for(;;){let{value:r,done:i}=yield Vh(n.read());if(i)break;yield yield Vh(Ww(r))}})}function Jz(e){let t=e.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return t.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new Ti("Failed to parse stream"));return}r.close();return}i+=o;let l=i.match(dT),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new Ti(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),i=i.substring(l[0].length),l=i.match(dT)}return s()})}}})}function Qz(e){let t=e[e.length-1],n={promptFeedback:t?.promptFeedback};for(let r of e){if(r.candidates)for(let i of r.candidates){let s=i.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:i.index}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});let o={};for(let a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function mT(e,t,n,r){let i=await Hh(t,ud.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return Yz(i)}async function gT(e,t,n,r){let s=await(await Hh(t,ud.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:Ww(s)}}function yT(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Uh(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(let n of e)typeof n=="string"?t.push({text:n}):t.push(n);return eH(t)}function eH(e){let t={role:"user",parts:[]},n={role:"function",parts:[]},r=!1,i=!1;for(let s of e)"functionResponse"in s?(n.parts.push(s),i=!0):(t.parts.push(s),r=!0);if(r&&i)throw new Ti("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Ti("No content is provided for sending chat message.");return r?t:n}function tH(e,t){var n;let r={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(n=t?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]},i=e.generateContentRequest!=null;if(e.contents){if(i)throw new Vo("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{let s=Uh(e);r.contents=[s]}return{generateContentRequest:r}}function fT(e){let t;return e.contents?t=e:t={contents:[Uh(e)]},e.systemInstruction&&(t.systemInstruction=yT(e.systemInstruction)),t}function nH(e){return typeof e=="string"||Array.isArray(e)?{content:Uh(e)}:e}var hT=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],rH={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function iH(e){let t=!1;for(let n of e){let{role:r,parts:i}=n;if(!t&&r!=="user")throw new Ti(`First content should be with role 'user', got ${r}`);if(!cT.includes(r))throw new Ti(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(cT)}`);if(!Array.isArray(i))throw new Ti("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Ti("Each Content should have at least one part");let s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let a of i)for(let l of hT)l in a&&(s[l]+=1);let o=rH[r];for(let a of hT)if(!o.includes(a)&&s[a]>0)throw new Ti(`Content with role '${r}' can't contain '${a}' part`);t=!0}}var pT="SILENT_ERROR",qw=class{constructor(t,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r?.history&&(iH(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,i,s,o,a,l;await this._sendPromise;let c=Uh(t),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n),h;return this._sendPromise=this._sendPromise.then(()=>gT(this._apiKey,this.model,u,d)).then(f=>{var p;if(f.response.candidates&&f.response.candidates.length>0){this._history.push(c);let g=Object.assign({parts:[],role:"model"},(p=f.response.candidates)===null||p===void 0?void 0:p[0].content);this._history.push(g)}else{let g=Ml(f.response);g&&console.warn(`sendMessage() was unsuccessful. ${g}. Inspect response object for details.`)}h=f}),await this._sendPromise,h}async sendMessageStream(t,n={}){var r,i,s,o,a,l;await this._sendPromise;let c=Uh(t),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n),h=mT(this._apiKey,this.model,u,d);return this._sendPromise=this._sendPromise.then(()=>h).catch(f=>{throw new Error(pT)}).then(f=>f.response).then(f=>{if(f.candidates&&f.candidates.length>0){this._history.push(c);let p=Object.assign({},f.candidates[0].content);p.role||(p.role="model"),this._history.push(p)}else{let p=Ml(f);p&&console.warn(`sendMessageStream() was unsuccessful. ${p}. Inspect response object for details.`)}}).catch(f=>{f.message!==pT&&console.error(f)}),h}};async function sH(e,t,n,r){return(await Hh(t,ud.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}async function oH(e,t,n,r){return(await Hh(t,ud.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function aH(e,t,n,r){let i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await Hh(t,ud.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}var Bg=class{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=yT(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;let i=fT(t),s=Object.assign(Object.assign({},this._requestOptions),n);return gT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(t,n={}){var r;let i=fT(t),s=Object.assign(Object.assign({},this._requestOptions),n);return mT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(t){var n;return new qw(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){let r=tH(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return sH(this.apiKey,this.model,r,i)}async embedContent(t,n={}){let r=nH(t),i=Object.assign(Object.assign({},this._requestOptions),n);return oH(this.apiKey,this.model,r,i)}async batchEmbedContents(t,n={}){let r=Object.assign(Object.assign({},this._requestOptions),n);return aH(this.apiKey,this.model,t,r)}};var zh=class{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Ti("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Bg(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Vo("Cached content must contain a `name` field.");if(!t.model)throw new Vo("Cached content must contain a `model` field.");let i=["model","systemInstruction"];for(let o of i)if(n?.[o]&&t[o]&&n?.[o]!==t[o]){if(o==="model"){let a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(a===l)continue}throw new Vo(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${t[o]})`)}let s=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Bg(this.apiKey,s,r)}};var dd=(()=>{class e{constructor(){let n=Bo.geminiApiKey;n&&n!==""?this.ai=new zh(n):(console.info("\u2139\uFE0F Modo Demo: Las funciones de IA est\xE1n deshabilitadas. Para activarlas, configure la API Key de Gemini en environment.ts"),this.ai=new zh(""))}async analyzeMaintenanceHistory(n,r){if(!Bo.geminiApiKey)return'<p class="text-yellow-600">\u26A0\uFE0F API key no configurada. Por favor configura geminiApiKey en tu archivo environment.ts</p>';try{let i=`
        Act\xFAa como Analista de Mantenimiento Predictivo con especializaci\xF3n en Machine Learning aplicado a activos industriales.

        ENTRADA DE DATOS:
        Activo: ${n.brand} ${n.model} (ID: ${n.id})
        Historial de Fallas:
        ${JSON.stringify(r.map(l=>({fecha:l.entryDate,tipo:l.type,componente:l.failureDescription,severidad:l.estimatedCost>2e3?"Alta":"Media"})))}

        AN\xC1LISIS REQUERIDO:
        1. \u{1F52E} DETECCI\xD3N DE PATRONES: Identifica fallas recurrentes y calcula MTBF aproximado.
        2. \u{1F4C8} PREDICCI\xD3N: Estima qu\xE9 componente tiene mayor probabilidad de fallar pr\xF3ximamente.
        3. \u2699\uFE0F RECOMENDACIONES: Sugiere inspecciones o reemplazos preventivos.

        FORMATO DE SALIDA:
        HTML limpio (sin markdown \`\`\`html). Usa iconos y negritas.
        Estructura:
        <div class="space-y-4">
          <div><h4 class="font-bold text-red-400">\u{1F52E} Patrones Detectados</h4>...</div>
          <div><h4 class="font-bold text-orange-400">\u26A0\uFE0F Riesgo Inminente</h4>...</div>
          <div><h4 class="font-bold text-green-400">\u2705 Acci\xF3n Recomendada</h4>...</div>
        </div>
      `;return(await(await this.ai.getGenerativeModel({model:"gemini-2.0-flash-exp"}).generateContent(i)).response).text()||"<p>Datos insuficientes para predicci\xF3n.</p>"}catch(i){return console.error("Gemini Error:",i),'<p class="text-red-500">Error conectando con el servicio de IA.</p>'}}async generateExecutiveReport(n,r,i){if(!Bo.geminiApiKey)return'<p class="text-yellow-600">\u26A0\uFE0F API key no configurada. Por favor configura VITE_API_KEY en tu archivo .env.local</p>';try{let s=`
        Analiza el estado actual de AssetGuard CMMS y genera un resumen ejecutivo profesional para Gerencia de Operaciones.

        DATOS:
        - Disponibilidad: ${i.percentage}% (Meta: 95%)
        - MTTR Promedio: ${n.mttr} horas
        - Gasto Mes: $${n.totalCostMonth} USD
        - Equipos Detenidos (Top 3): ${JSON.stringify(r.slice(0,3).map(c=>`${c.economico} (${c.falla})`))}

        ESTRUCTURA DEL REPORTE (HTML simple para renderizar):

        <h3>\u{1F4CA} 1. KPIs DE DISPONIBILIDAD</h3>
        <p>Resumen de estado vs meta.</p>

        <h3>\u{1F534} 2. AN\xC1LISIS DE PARETO (Top Problemas)</h3>
        <p>Menciona los equipos cr\xEDticos detenidos actualmente.</p>

        <h3>\u{1F4A1} 3. RECOMENDACIONES ESTRAT\xC9GICAS</h3>
        <ul>
          <li>Acci\xF3n 1 para reducir downtime</li>
          <li>Acci\xF3n 2 para optimizar costos</li>
        </ul>

        <h3>\u26A0\uFE0F 4. ALERTAS CR\xCDTICAS</h3>
        <p>Si disponibilidad < 90%, resalta urgencia.</p>

        TONO: Profesional, directo, espa\xF1ol mexicano empresarial. Sin saludos.
      `;return(await(await this.ai.getGenerativeModel({model:"gemini-2.0-flash-exp"}).generateContent(s)).response).text()||"No se pudo generar el reporte ejecutivo."}catch(s){return console.error("Gemini Error:",s),"Error conectando con IA para el reporte."}}async generateLotoProcedure(n,r){if(!Bo.geminiApiKey)return'<p class="text-yellow-600">\u26A0\uFE0F API key no configurada. Por favor configura VITE_API_KEY en tu archivo .env.local</p>';try{let i=`
        Act\xFAa como Ingeniero de Seguridad Industrial certificado en LOTO (NOM-004-STPS-1999).
        Genera un procedimiento de bloqueo/etiquetado para:
        Equipo: ${n.brand} ${n.model} (${n.fuelType})
        Tarea: Reparaci\xF3n de ${r}

        ESTRUCTURA HTML (Lista de verificaci\xF3n):
        <div class="loto-card">
          <h3 class="text-red-600 font-bold mb-2">\u{1F6A8} IDENTIFICACI\xD3N DE PELIGROS</h3>
          [Lista de energ\xEDas peligrosas: El\xE9ctrica, Hidr\xE1ulica, etc.]

          <h3 class="text-blue-600 font-bold mt-4 mb-2">\u{1F512} SECUENCIA DE BLOQUEO</h3>
          <ol class="list-decimal pl-4 space-y-2">
            <li>Paso 1...</li>
            <li>Paso 2...</li>
          </ol>

          <h3 class="text-green-600 font-bold mt-4 mb-2">\u2705 VERIFICACI\xD3N ENERG\xCDA CERO</h3>
          [C\xF3mo verificar que es seguro trabajar]
        </div>

        Resalta ADVERTENCIAS DE SEGURIDAD en negritas.
      `;return(await(await this.ai.getGenerativeModel({model:"gemini-2.0-flash-exp"}).generateContent(i)).response).text()||"Error generando LOTO."}catch{return"<p>No disponible.</p>"}}async analyzeImageInspection(n){if(!Bo.geminiApiKey)return console.warn("VITE_API_KEY not configured. Image analysis unavailable."),null;try{let a=(await(await this.ai.getGenerativeModel({model:"gemini-2.0-flash-exp",generationConfig:{responseMimeType:"application/json"}}).generateContent([{inlineData:{mimeType:"image/jpeg",data:n}},`
        Analiza esta imagen capturada por un operador en planta industrial. Act\xFAa como Inspector de Mantenimiento Certificado.

        IDENTIFICA CON PRECISI\xD3N:
        1. Componente afectado
        2. Tipo de da\xF1o visible
        3. Nivel de severidad (BAJA, MEDIA, ALTA, CR\xCDTICA)
        4. Posible causa ra\xEDz
        5. Refacciones estimadas

        FORMATO DE RESPUESTA:
        Responde \xDANICAMENTE con un objeto JSON v\xE1lido siguiendo esta estructura exacta:
        {
          "inspection": {
            "timestamp": "ISO string",
            "asset": { "component_affected": "String", "visual_condition": "String" },
            "damage_analysis": { "damage_type": "String", "visible_signs": ["String"], "affected_area_percentage": "String" },
            "severity": { "level": "String", "risk_score": "String", "safety_impact": "String", "operational_impact": "String" },
            "root_cause_analysis": { "probable_cause": "String", "why_analysis": "String" },
            "immediate_actions": { "safety_measures": ["String"] },
            "repair_plan": {
              "estimated_parts": [{ "part_name": "String", "generic_code": "String", "quantity": "String" }],
              "estimated_mttr_hours": "String",
              "estimated_cost_usd": { "min": number, "max": number }
            }
          }
        }
      `])).response).text();return a?JSON.parse(a):null}catch(r){return console.error("Vision Error:",r),null}}async generateDailySummary(n,r,i){return this.generateExecutiveReport({availability:n.percentage,mttr:4.5,totalCostMonth:12500,budgetMonth:15e3},r,n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=yn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var OT=RT,PT=new Fa("auth","Firebase",RT());var qg=new xl("@firebase/auth");function lH(e,...t){qg.logLevel<=Qn.WARN&&qg.warn(`Auth (${Cl}): ${e}`,...t)}function Ug(e,...t){qg.logLevel<=Qn.ERROR&&qg.error(`Auth (${Cl}): ${e}`,...t)}function Ho(e,...t){throw y5(e,...t)}function Hc(e,...t){return y5(e,...t)}function LT(e,t,n){let r=Zt(at({},OT()),{[t]:n});return new Fa("auth","Firebase",r).create(t,{appName:e.name})}function Uo(e){return LT(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y5(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return PT.create(e,...t)}function Xt(e,t,...n){if(!e)throw y5(t,...n)}function za(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Ug(t),new Error(t)}function Pl(e,t){e||za(t)}function Zw(){return typeof self<"u"&&self.location?.href||""}function cH(){return bT()==="http:"||bT()==="https:"}function bT(){return typeof self<"u"&&self.location?.protocol||null}function uH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cH()||r8()||"connection"in navigator)?navigator.onLine:!0}function dH(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var $c=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,Pl(n>t,"Short delay should be less than long delay!"),this.isMobile=lh()||J0()}get(){return uH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function b5(e,t){Pl(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var Wg=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var fH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var hH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pH=new $c(3e4,6e4);function Fl(e,t){return e.tenantId&&!t.tenantId?Zt(at({},t),{tenantId:e.tenantId}):t}async function $a(e,t,n,r,i={}){return FT(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});let a=Oc(at({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);let c=at({method:t,headers:l},s);return n8()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&wl(e.emulatorConfig.host)&&(c.credentials="include"),Wg.fetch()(await jT(e,e.config.apiHost,n,a),c)})}async function FT(e,t,n){e._canInitEmulator=!1;let r=at(at({},fH),t);try{let i=new Xw(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw Vg(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vg(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Vg(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Vg(e,"user-disabled",o);let u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw LT(e,u,c);Ho(e,u)}}catch(i){if(i instanceof io)throw i;Ho(e,"network-request-failed",{message:String(i)})}}async function Xh(e,t,n,r,i={}){let s=await $a(e,t,n,r,i);return"mfaPendingCredential"in s&&Ho(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function jT(e,t,n,r){let i=`${t}${n}?${r}`,s=e,o=s.config.emulator?b5(e.config,i):`${e.config.apiScheme}://${i}`;return hH.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function mH(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Xw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hc(this.auth,"network-request-failed")),pH.get())})}};function Vg(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Hc(e,t,r);return i.customData._tokenResponse=n,i}function vT(e){return e!==void 0&&e.enterprise!==void 0}var Jw=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return mH(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function gH(e,t){return $a(e,"GET","/v2/recaptchaConfig",Fl(e,t))}async function yH(e,t){return $a(e,"POST","/v1/accounts:delete",t)}async function Gg(e,t){return $a(e,"POST","/v1/accounts:lookup",t)}function qh(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function BT(e,t=!1){let n=hi(e),r=await n.getIdToken(t),i=v5(r);Xt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:qh(Gw(i.auth_time)),issuedAtTime:qh(Gw(i.iat)),expirationTime:qh(Gw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Gw(e){return Number(e)*1e3}function v5(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Ug("JWT malformed, contained fewer than 3 sections"),null;try{let i=$u(n);return i?JSON.parse(i):(Ug("Failed to decode base64 JWT payload"),null)}catch(i){return Ug("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _T(e){let t=v5(e);return Xt(t,"internal-error"),Xt(typeof t.exp<"u","internal-error"),Xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function fd(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof io&&bH(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function bH({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var Qw=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Gh=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qh(this.lastLoginAt),this.creationTime=qh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Kg(e){let t=e.auth,n=await e.getIdToken(),r=await fd(e,Gg(t,{idToken:n}));Xt(r?.users.length,t,"internal-error");let i=r.users[0];e._notifyReloadListener(i);let s=i.providerUserInfo?.length?UT(i.providerUserInfo):[],o=vH(e.providerData,s),a=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!o?.length,c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Gh(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function VT(e){let t=hi(e);await Kg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vH(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function UT(e){return e.map(r=>{var i=r,{providerId:t}=i,n=yu(i,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function _H(e,t){let n=await FT(e,{},async()=>{let r=Oc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await jT(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return e.emulatorConfig&&wl(e.emulatorConfig.host)&&(l.credentials="include"),Wg.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wH(e,t){return $a(e,"POST","/v2/accounts:revokeToken",Fl(e,t))}var Wh=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Xt(t.idToken,"internal-error"),Xt(typeof t.idToken<"u","internal-error"),Xt(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_T(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Xt(t.length!==0,"internal-error");let n=_T(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){let{accessToken:r,refreshToken:i,expiresIn:s}=await _H(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new e;return r&&(Xt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Xt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Xt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return za("not implemented")}};function Rl(e,t){Xt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Ol=class e{constructor(s){var o=s,{uid:t,auth:n,stsTokenManager:r}=o,i=yu(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){let n=await fd(this,this.stsTokenManager.getToken(this.auth,t));return Xt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return BT(this,t)}reload(){return VT(this)}_assign(t){this!==t&&(Xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>at({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Zt(at({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Kg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ui(this.auth.app))return Promise.reject(Uo(this.auth));let t=await this.getIdToken();return await fd(this,yH(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Zt(at({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>at({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:f,providerData:p,stsTokenManager:g}=n;Xt(d&&g,t,"internal-error");let y=Wh.fromJSON(this.name,g);Xt(typeof d=="string",t,"internal-error"),Rl(r,t.name),Rl(i,t.name),Xt(typeof h=="boolean",t,"internal-error"),Xt(typeof f=="boolean",t,"internal-error"),Rl(s,t.name),Rl(o,t.name),Rl(a,t.name),Rl(l,t.name),Rl(c,t.name),Rl(u,t.name);let v=new e({uid:d,auth:t,email:i,emailVerified:h,displayName:r,isAnonymous:f,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:y,createdAt:c,lastLoginAt:u});return p&&Array.isArray(p)&&(v.providerData=p.map(S=>at({},S))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(t,n,r=!1){let i=new Wh;i.updateFromServerResponse(n);let s=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Kg(s),s}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];Xt(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?UT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Wh;a.updateFromIdToken(r);let l=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l}};var wT=new Map;function Ha(e){Pl(e instanceof Function,"Expected a class definition");let t=wT.get(e);return t?(Pl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wT.set(e,t),t)}var xH=(()=>{class e{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),e5=xH;function zg(e,t,n){return`firebase:${e}:${t}:${n}`}var Yg=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=zg(this.userKey,i.apiKey,s),this.fullPersistenceKey=zg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){let t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=await Gg(this.auth,{idToken:t}).catch(()=>{});return n?Ol._fromGetAccountInfoResponse(this.auth,n,t):null}return Ol._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new e(Ha(e5),t,r);let i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c),s=i[0]||Ha(e5),o=zg(r,t.config.apiKey,t.name),a=null;for(let c of n)try{let u=await c._get(o);if(u){let d;if(typeof u=="string"){let h=await Gg(t,{idToken:u}).catch(()=>{});if(!h)break;d=await Ol._fromGetAccountInfoResponse(t,h,u)}else d=Ol._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new e(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new e(s,t,r))}};function xT(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GT(t))return"Blackberry";if(KT(t))return"Webos";if(HT(t))return"Safari";if((t.includes("chrome/")||$T(t))&&!t.includes("edge/"))return"Chrome";if(WT(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function zT(e=Ii()){return/firefox\//i.test(e)}function HT(e=Ii()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $T(e=Ii()){return/crios\//i.test(e)}function qT(e=Ii()){return/iemobile/i.test(e)}function WT(e=Ii()){return/android/i.test(e)}function GT(e=Ii()){return/blackberry/i.test(e)}function KT(e=Ii()){return/webos/i.test(e)}function _5(e=Ii()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function EH(e=Ii()){return _5(e)&&!!window.navigator?.standalone}function SH(){return i8()&&document.documentMode===10}function YT(e=Ii()){return _5(e)||WT(e)||KT(e)||GT(e)||/windows phone/i.test(e)||qT(e)}function ZT(e,t=[]){let n;switch(e){case"Browser":n=xT(Ii());break;case"Worker":n=`${xT(Ii())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cl}/${r}`}var t5=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=s=>new Promise((o,a)=>{try{let l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function CH(e,t={}){return $a(e,"GET","/v2/passwordPolicy",Fl(e,t))}var IH=6,n5=class{constructor(t){let n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IH,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var r5=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zg(this),this.idTokenSubscription=new Zg(this),this.beforeStateQueue=new t5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ha(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yg.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{let n=await Gg(this,{idToken:t}),r=await Ol._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ui(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(t);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Kg(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dH()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ui(this.app))return Promise.reject(Uo(this));let n=t?hi(t):null;return n&&Xt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ui(this.app)?Promise.reject(Uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ui(this.app)?Promise.reject(Uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ha(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let t=await CH(this),n=new n5(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fa("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wH(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){let r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){let n=t&&Ha(t)||this._popupRedirectResolver;Xt(n,this,"argument-error"),this.redirectPersistenceManager=await Yg.create(this,[Ha(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lH(`Error while retrieving App Check token: ${t.error}`),t?.token}};function jl(e){return hi(e)}var Zg=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=u8(n=>this.observer=n)}get next(){return Xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var r1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TH(e){r1=e}function XT(e){return r1.loadJS(e)}function AH(){return r1.recaptchaEnterpriseScript}function kH(){return r1.gapiScript}function JT(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var i5=class{constructor(){this.enterprise=new s5}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}},s5=class{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}};var DH="recaptcha-enterprise",QT="NO_RECAPTCHA",o5=class{constructor(t){this.type=DH,this.auth=jl(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{gH(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new Jw(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){let l=window.grecaptcha;vT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o(QT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i5().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&vT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=AH();l.length!==0&&(l+=a),XT(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}};async function $h(e,t,n,r=!1,i=!1){let s=new o5(e),o;if(i)o=QT;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}let a=at({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function a5(e,t,n,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=await $h(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=await $h(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let s=await $h(e,t,n);return r(e,s).catch(async o=>{if(e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(o.code==="auth/missing-recaptcha-token"||o.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let a=await $h(e,t,n,!1,!0);return r(e,a)}return Promise.reject(o)})}else{let s=await $h(e,t,n,!1,!0);return r(e,s)}else return Promise.reject(i+" provider is not supported.")}function eA(e,t){let n=gh(e,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Po(s,t??{}))return i;Ho(i,"already-initialized")}return n.initialize({options:t})}function NH(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ha);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function tA(e,t,n){let r=jl(e);Xt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=nA(t),{host:o,port:a}=MH(t),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Xt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Xt(Po(c,r.config.emulator)&&Po(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,wl(o)?(Z0(`${s}//${o}${l}`),X0("Auth",!0)):i||RH()}function nA(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function MH(e){let t=nA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:ET(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:ET(o)}}}function ET(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function RH(){function e(){let t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var Kh=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return za("not implemented")}_getIdTokenResponse(t){return za("not implemented")}_linkToIdToken(t,n){return za("not implemented")}_getReauthenticationResolver(t){return za("not implemented")}};async function OH(e,t){return $a(e,"POST","/v1/accounts:signUp",t)}async function PH(e,t){return Xh(e,"POST","/v1/accounts:signInWithPassword",Fl(e,t))}async function LH(e,t){return Xh(e,"POST","/v1/accounts:signInWithEmailLink",Fl(e,t))}async function FH(e,t){return Xh(e,"POST","/v1/accounts:signInWithEmailLink",Fl(e,t))}var Yh=class e extends Kh{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new e(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new e(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a5(t,n,"signInWithPassword",PH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return LH(t,{email:this._email,oobCode:this._password});default:Ho(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a5(t,r,"signUpPassword",OH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return FH(t,{idToken:n,email:this._email,oobCode:this._password});default:Ho(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};async function Kw(e,t){return Xh(e,"POST","/v1/accounts:signInWithIdp",Fl(e,t))}function jH(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BH(e){let t=Wu(Gu(e)).link,n=t?Wu(Gu(t)).deep_link_id:null,r=Wu(Gu(e)).deep_link_id;return(r?Wu(Gu(r)).link:null)||r||n||t||e}var Xg=class e{constructor(t){let n=Wu(Gu(t)),r=n.apiKey??null,i=n.oobCode??null,s=jH(n.mode??null);Xt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){let n=BH(t);try{return new e(n)}catch{return null}}};var rA=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,r){return Yh._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Xg.parseLink(r);return Xt(i,"argument-error"),Yh._fromEmailAndCode(n,i.code,i.tenantId)}}e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return e})(),Jg=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var l5=class extends Jg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};async function iA(e,t){return Xh(e,"POST","/v1/accounts:signUp",Fl(e,t))}var Ll=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){let s=await Ol._fromIdTokenResponse(t,r,i),o=ST(r);return new e({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);let i=ST(r);return new e({user:t,providerId:i,_tokenResponse:r,operationType:n})}};function ST(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function w5(e){if(Ui(e.app))return Promise.reject(Uo(e));let t=jl(e);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ll({user:t.currentUser,providerId:null,operationType:"signIn"});let n=await iA(t,{returnSecureToken:!0}),r=await Ll._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}var c5=class e extends io{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function sA(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?c5._fromErrorAndOperation(e,s,t,r):s})}async function VH(e,t,n=!1){let r=await fd(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ll._forOperation(e,"link",r)}async function UH(e,t,n=!1){let{auth:r}=e;if(Ui(r.app))return Promise.reject(Uo(r));let i="reauthenticate";try{let s=await fd(e,sA(r,i,t,e),n);Xt(s.idToken,r,"internal-error");let o=v5(s.idToken);Xt(o,r,"internal-error");let{sub:a}=o;return Xt(e.uid===a,r,"user-mismatch"),Ll._forOperation(e,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ho(r,"user-mismatch"),s}}async function oA(e,t,n=!1){if(Ui(e.app))return Promise.reject(Uo(e));let r="signIn",i=await sA(e,r,t),s=await Ll._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function aA(e,t){return oA(jl(e),t)}async function lA(e){let t=jl(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function x5(e,t,n){if(Ui(e.app))return Promise.reject(Uo(e));let r=jl(e),o=await a5(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iA,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&lA(e),l}),a=await Ll._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function E5(e,t,n){return Ui(e.app)?Promise.reject(Uo(e)):aA(hi(e),rA.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lA(e),r})}async function zH(e,t){return $a(e,"POST","/v1/accounts:update",t)}async function S5(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;let r=hi(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await fd(r,zH(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;let a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function cA(e,t,n,r){return hi(e).onIdTokenChanged(t,n,r)}function uA(e,t,n){return hi(e).beforeAuthStateChanged(t,n)}function C5(e,t,n,r){return hi(e).onAuthStateChanged(t,n,r)}function I5(e){return hi(e).signOut()}var Qg="__sak";var e1=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qg,"1"),this.storage.removeItem(Qg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var HH=1e3,$H=10,qH=(()=>{class e extends e1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);SH()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,$H):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},HH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return e.type="LOCAL",e})(),dA=qH;var WH=(()=>{class e extends e1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})(),T5=WH;function GH(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}var KH=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(async u=>u(r.origin,o)),c=await GH(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function fA(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}var u5=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=fA("",20);i.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function zo(){return window}function YH(e){zo().location.href=e}function hA(){return typeof zo().WorkerGlobalScope<"u"&&typeof zo().importScripts=="function"}async function ZH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XH(){return navigator?.serviceWorker?.controller||null}function JH(){return hA()?self:null}var pA="firebaseLocalStorageDb",QH=1,t1="firebaseLocalStorage",mA="fbase_key",qc=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function i1(e,t){return e.transaction([t1],t?"readwrite":"readonly").objectStore(t1)}function e$(){let e=indexedDB.deleteDatabase(pA);return new qc(e).toPromise()}function d5(){let e=indexedDB.open(pA,QH);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let r=e.result;try{r.createObjectStore(t1,{keyPath:mA})}catch(i){n(i)}}),e.addEventListener("success",async()=>{let r=e.result;r.objectStoreNames.contains(t1)?t(r):(r.close(),await e$(),t(await d5()))})})}async function CT(e,t,n){let r=i1(e,!0).put({[mA]:t,value:n});return new qc(r).toPromise()}async function t$(e,t){let n=i1(e,!1).get(t),r=await new qc(n).toPromise();return r===void 0?null:r.value}function IT(e,t){let n=i1(e,!0).delete(t);return new qc(n).toPromise()}var n$=800,r$=3,i$=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d5(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>r$)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=KH._getInstance(JH()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZH(),!this.activeServiceWorker)return;this.sender=new u5(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||XH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await d5();return await CT(n,Qg,"1"),await IT(n,Qg),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>CT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>t$(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(s=>{let o=i1(s,!1).getAll();return new qc(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),gA=i$;var wse=JT("rcb"),xse=new $c(3e4,6e4);function s$(e,t){return t?Ha(t):(Xt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Zh=class extends Kh{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Kw(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Kw(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Kw(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function o$(e){return oA(e.auth,new Zh(e),e.bypassAuthState)}function a$(e){let{auth:t,user:n}=e;return Xt(n,t,"internal-error"),UH(n,new Zh(e),e.bypassAuthState)}async function l$(e){let{auth:t,user:n}=e;return Xt(n,t,"internal-error"),VH(n,new Zh(e),e.bypassAuthState)}var f5=class{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return o$;case"linkViaPopup":case"linkViaRedirect":return l$;case"reauthViaPopup":case"reauthViaRedirect":return a$;default:Ho(this.auth,"internal-error")}}resolve(t){Pl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Pl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ese=new $c(2e3,1e4);var c$="pendingRedirect",Hg=new Map,h5=class extends f5{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Hg.get(this.auth._key());if(!t){try{let r=await u$(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Hg.set(this.auth._key(),t)}return this.bypassAuthState||Hg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function u$(e,t){let n=h$(t),r=f$(e);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function d$(e,t){Hg.set(e._key(),t)}function f$(e){return Ha(e._redirectPersistence)}function h$(e){return zg(c$,e.config.apiKey,e.name)}async function p$(e,t,n=!1){if(Ui(e.app))return Promise.reject(Uo(e));let r=jl(e),i=s$(r,t),o=await new h5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}var m$=10*60*1e3,p5=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!g$(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!yA(t)){let r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Hc(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=m$&&this.cachedEventUids.clear(),this.cachedEventUids.has(TT(t))}saveEventToCache(t){this.cachedEventUids.add(TT(t)),this.lastProcessedEventTime=Date.now()}};function TT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function yA({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function g$(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yA(e);default:return!1}}async function y$(e,t={}){return $a(e,"GET","/v1/projects",t)}var b$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v$=/^https?/;async function _$(e){if(e.config.emulator)return;let{authorizedDomains:t}=await y$(e);for(let n of t)try{if(w$(n))return}catch{}Ho(e,"unauthorized-domain")}function w$(e){let t=Zw(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!v$.test(n))return!1;if(b$.test(e))return r===e;let i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var x$=new $c(3e4,6e4);function AT(){let e=zo().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function E$(e){return new Promise((t,n)=>{function r(){AT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{AT(),n(Hc(e,"network-request-failed"))},timeout:x$.get()})}if(zo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(zo().gapi?.load)r();else{let i=JT("iframefcb");return zo()[i]=()=>{gapi.load?r():n(Hc(e,"network-request-failed"))},XT(`${kH()}?onload=${i}`).catch(s=>n(s))}}).catch(t=>{throw $g=null,t})}var $g=null;function S$(e){return $g=$g||E$(e),$g}var C$=new $c(5e3,15e3),I$="__/auth/iframe",T$="emulator/auth/iframe",A$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D$(e){let t=e.config;Xt(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?b5(t,T$):`https://${e.config.authDomain}/${I$}`,r={apiKey:t.apiKey,appName:e.name,v:Cl},i=k$.get(e.config.apiHost);i&&(r.eid=i);let s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Oc(r).slice(1)}`}async function N$(e){let t=await S$(e),n=zo().gapi;return Xt(n,e,"internal-error"),t.open({where:document.body,url:D$(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=Hc(e,"network-request-failed"),a=zo().setTimeout(()=>{s(o)},C$.get());function l(){zo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}var M$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R$=500,O$=600,P$="_blank",L$="http://localhost",n1=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function F$(e,t,n,r=R$,i=O$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Zt(at({},M$),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ii().toLowerCase();n&&(a=$T(c)?P$:n),zT(c)&&(t=t||L$,l.scrollbars="yes");let u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(EH(c)&&a!=="_self")return j$(t||"",a),new n1(null);let d=window.open(t||"",a,u);Xt(d,e,"popup-blocked");try{d.focus()}catch{}return new n1(d)}function j$(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var B$="__/auth/handler",V$="emulator/auth/handler",U$=encodeURIComponent("fac");async function kT(e,t,n,r,i,s){Xt(e.config.authDomain,e,"auth-domain-config-required"),Xt(e.config.apiKey,e,"invalid-api-key");let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Cl,eventId:i};if(t instanceof Jg){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ch(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(t instanceof l5){let u=t.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=await e._getAppCheckToken(),c=l?`#${U$}=${encodeURIComponent(l)}`:"";return`${z$(e)}?${Oc(a).slice(1)}${c}`}function z$({config:e}){return e.emulator?b5(e,V$):`https://${e.authDomain}/${B$}`}var Yw="webStorageSupport",m5=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T5,this._completeRedirectFn=p$,this._overrideRedirectResult=d$}async _openPopup(t,n,r,i){Pl(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");let s=await kT(t,n,r,Zw(),i);return F$(t,s,fA())}async _openRedirect(t,n,r,i){await this._originValidation(t);let s=await kT(t,n,r,Zw(),i);return YH(s),new Promise(()=>{})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pl(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){let n=await N$(t),r=new p5(t);return n.register("authEvent",i=>(Xt(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Yw,{type:Yw},i=>{let s=i?.[0]?.[Yw];s!==void 0&&n(!!s),Ho(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_$(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return YT()||HT()||_5()}},bA=m5;var DT="@firebase/auth",NT="1.12.0";var g5=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function H$(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $$(e){Sl(new Vs("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Xt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(e)},c=new r5(r,i,s,l);return NH(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Sl(new Vs("auth-internal",t=>{let n=jl(t.getProvider("auth").getImmediate());return(r=>new g5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oo(DT,NT,H$(e)),oo(DT,NT,"esm2020")}var q$=5*60,W$=X2("authIdTokenMaxAge")||q$,MT=null,G$=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>W$)return;let i=n?.token;MT!==i&&(MT=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function A5(e=Il()){let t=gh(e,"auth");if(t.isInitialized())return t.getImmediate();let n=eA(e,{popupRedirectResolver:bA,persistence:[gA,dA,T5]}),r=X2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=G$(s.toString());uA(n,o,()=>o(n.currentUser)),cA(n,a=>o(a))}}let i=Y2("auth");return i&&tA(n,`http://${i}`),n}function K$(){return document.getElementsByTagName("head")?.[0]??document}TH({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let s=Hc("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",K$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$$("Browser");var s1=(()=>{class e{constructor(){this.ngZone=It(Pr),this.app=tg().length>0?Il():yh(Bo.firebase),this.auth=A5(this.app),this.currentUser=en(null),this.isLoading=en(!0),this.error=en(null),this.isAuthenticated=pn(()=>this.currentUser()!==null),C5(this.auth,n=>{this.ngZone.run(()=>{n?this.currentUser.set({uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL}):this.currentUser.set(null),this.isLoading.set(!1)})})}async login(n,r){this.error.set(null),this.isLoading.set(!0);try{let i=await E5(this.auth,n,r);return this.ngZone.run(()=>{this.currentUser.set({uid:i.user.uid,email:i.user.email,displayName:i.user.displayName,photoURL:i.user.photoURL}),this.isLoading.set(!1)}),!0}catch(i){return this.ngZone.run(()=>{this.handleAuthError(i),this.isLoading.set(!1)}),!1}}async register(n,r,i){this.error.set(null),this.isLoading.set(!0);try{let s=await x5(this.auth,n,r);return await S5(s.user,{displayName:i}),this.ngZone.run(()=>{this.currentUser.set({uid:s.user.uid,email:s.user.email,displayName:i,photoURL:s.user.photoURL}),this.isLoading.set(!1)}),!0}catch(s){return this.ngZone.run(()=>{this.handleAuthError(s),this.isLoading.set(!1)}),!1}}async logout(){try{await I5(this.auth),this.ngZone.run(()=>{this.currentUser.set(null)})}catch(n){console.error("Error al cerrar sesi\xF3n:",n)}}async loginAsDemo(){this.error.set(null),this.isLoading.set(!0);try{let n=await w5(this.auth);return this.currentUser.set({uid:n.user.uid,email:"demo@assetguard.com",displayName:"Usuario Demo",photoURL:null}),this.isLoading.set(!1),!0}catch(n){return console.error("Error en acceso demo:",n),this.currentUser.set({uid:"demo-user-local",email:"demo@assetguard.com",displayName:"Usuario Demo (Offline)",photoURL:null}),this.isLoading.set(!1),!0}}handleAuthError(n){let r=n.code,i="Error desconocido. Intenta de nuevo.";switch(r){case"auth/invalid-email":i="El correo electr\xF3nico no es v\xE1lido.";break;case"auth/user-disabled":i="Esta cuenta ha sido deshabilitada.";break;case"auth/user-not-found":i="No existe una cuenta con este correo.";break;case"auth/wrong-password":i="Contrase\xF1a incorrecta.";break;case"auth/invalid-credential":i="Credenciales inv\xE1lidas. Verifica tu correo y contrase\xF1a.";break;case"auth/email-already-in-use":i="Ya existe una cuenta con este correo.";break;case"auth/weak-password":i="La contrase\xF1a debe tener al menos 6 caracteres.";break;case"auth/too-many-requests":i="Demasiados intentos. Espera un momento.";break}this.error.set(i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=yn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var vA=(()=>{class e{constructor(){this.title="",this.subtitle="",this.value="",this.unit="",this.status="neutral",this.statusText="",this.footerLabel="",this.footerValue="",this.trendLabel="",this.containerClasses=pn(()=>"bg-white dark:bg-slate-900/60 border-slate-200 dark:border-slate-700/60"),this.badgeClasses=pn(()=>{let n="inline-flex items-center gap-1.5 rounded-full text-[10px] font-bold px-2.5 py-1 border backdrop-blur-sm ";switch(this.status){case"success":return n+"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-500/10 dark:text-emerald-300 dark:border-emerald-500/40";case"warning":return n+"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-500/10 dark:text-amber-300 dark:border-amber-500/40";case"danger":return n+"bg-red-50 text-red-700 border-red-200 dark:bg-red-500/10 dark:text-red-300 dark:border-red-500/40";case"info":return n+"bg-sky-50 text-sky-700 border-sky-200 dark:bg-sky-500/10 dark:text-sky-300 dark:border-sky-500/40";default:return n+"bg-slate-50 text-slate-600 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}}),this.dotColor=pn(()=>{switch(this.status){case"success":return"bg-emerald-500";case"warning":return"bg-amber-500";case"danger":return"bg-red-500";case"info":return"bg-sky-500";default:return"bg-slate-400"}}),this.trendClass=pn(()=>this.trendLabel.includes("+")&&this.status==="success"?"text-emerald-600 dark:text-emerald-400 font-medium":this.trendLabel.includes("-")&&this.status==="danger"?"text-red-600 dark:text-red-400 font-medium":this.status==="warning"?"text-amber-600 dark:text-amber-400 font-medium":"text-emerald-600 dark:text-emerald-400 font-medium")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ri({type:e,selectors:[["app-kpi-card"]],inputs:{title:"title",subtitle:"subtitle",value:"value",unit:"unit",status:"status",statusText:"statusText",footerLabel:"footerLabel",footerValue:"footerValue",trendLabel:"trendLabel"},decls:23,vars:15,consts:[[1,"h-full","rounded-2xl","border","shadow-lg","p-4","flex","flex-col","gap-3","transition-all","hover:shadow-xl","relative","overflow-hidden","group",3,"ngClass"],[1,"absolute","inset-0","bg-gradient-to-br","from-white/5","to-transparent","pointer-events-none"],[1,"flex","items-start","justify-between","relative","z-10"],[1,"text-sm","font-medium","text-slate-500","dark:text-slate-300"],[1,"text-xs","text-slate-400","mt-0.5"],[1,"flex","items-baseline","gap-2","mt-1","relative","z-10"],[1,"text-3xl","font-bold","tracking-tight","text-slate-800","dark:text-slate-50"],[1,"text-xs","font-bold","text-slate-400","uppercase","tracking-wide"],[1,"mt-auto","flex","items-center","justify-between","text-xs","text-slate-500","dark:text-slate-400","pt-3","border-t","border-slate-100","dark:border-slate-700/50","relative","z-10"],[1,"text-slate-700","dark:text-slate-200","font-medium"]],template:function(r,i){r&1&&(se(0,"article",0),He(1,"div",1),se(2,"header",2)(3,"div")(4,"h2",3),be(5),ae(),se(6,"p",4),be(7),ae()(),se(8,"span"),He(9,"span"),be(10),ae()(),se(11,"div",5)(12,"span",6),be(13),ae(),se(14,"span",7),be(15),ae()(),se(16,"footer",8)(17,"span"),be(18),se(19,"span",9),be(20),ae()(),se(21,"span"),be(22),ae()()()),r&2&&(Kn("ngClass",i.containerClasses()),ke(5),xn(i.title),ke(2),xn(i.subtitle),ke(),mr(i.badgeClasses()),ke(),mr("h-1.5 w-1.5 rounded-full "+i.dotColor()),ke(),tn(" ",i.statusText," "),ke(3),xn(i.value),ke(2),xn(i.unit),ke(3),tn("",i.footerLabel,": "),ke(2),xn(i.footerValue),ke(),mr(i.trendClass()),ke(),xn(i.trendLabel))},dependencies:[$r,Kf],encapsulation:2})}}return e})();var Y$=(e,t)=>t.id;function Z$(e,t){if(e&1&&(se(0,"span",25),be(1),ae()),e&2){let n=Dt();ke(),Uf(" ",n.activeFailures().length," ",n.activeFailures().length===1?"unidad":"unidades"," en atenci\xF3n ")}}function X$(e,t){if(e&1){let n=yr();se(0,"tr",34)(1,"td",29)(2,"div",60),He(3,"div"),se(4,"div")(5,"div",61),be(6),ae(),se(7,"span"),be(8),ae()()()(),se(9,"td",30)(10,"div",62),be(11),js(12,"date"),ae(),se(13,"div",63),be(14),ae()(),se(15,"td",30)(16,"span"),He(17,"span"),be(18),ae()(),se(19,"td",31)(20,"div",64)(21,"span",65),be(22),ae(),se(23,"span"),be(24),ae()()(),se(25,"td",66)(26,"button",67),Lt("click",function(){let i=un(n).$implicit,s=Dt();return dn(s.selectAsset(i.economico))}),be(27," Ver Detalle "),He(28,"i",68),ae()()()}if(e&2){let n=t.$implicit,r=Dt();ke(3),mr("w-1.5 h-10 rounded-full "+r.getPriorityColor(n.prioridad)),ke(3),xn(n.economico),ke(),mr("text-[10px] font-bold uppercase px-1.5 py-0.5 rounded border "+r.getPriorityBadgeClass(n.prioridad)),ke(),tn(" ",n.prioridad," "),ke(3),tn(" ",Mo(12,18,n.fechaIngreso,"dd MMM, HH:mm")," "),ke(2),Kn("title",n.falla),ke(),tn(" ",n.falla," "),ke(2),mr("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border "+r.getStatusBadgeClass(n)),ke(),mr("w-1.5 h-1.5 rounded-full "+r.getStatusDotClass(n)),ke(),tn(" ",n.estatus==="Abierta"?"Diagn\xF3stico":"En Reparaci\xF3n"," "),ke(4),tn(" ",r.getTimeInShop(n.fechaIngreso).text," "),ke(),mr("text-[10px] font-bold uppercase "+r.getTimeInShop(n.fechaIngreso).color),ke(),tn(" ",r.getTimeInShop(n.fechaIngreso).label," ")}}function J$(e,t){e&1&&(se(0,"tr")(1,"td",69)(2,"div",70)(3,"div",71),He(4,"i",72),ae(),se(5,"h3",73),be(6,"Sin unidades en taller"),ae(),se(7,"p",74),be(8,"La flota opera al 100% de capacidad."),ae()()()())}function Q$(e,t){if(e&1&&(se(0,"div",59)(1,"div",75),He(2,"i"),ae(),se(3,"p",76),be(4),ae(),se(5,"div",77)(6,"span",78),be(7),ae(),se(8,"span",79),be(9),ae()()()),e&2){let n=t.$implicit;ke(),Kn("ngClass",n.color),ke(),mr("fas "+n.icon),ke(2),xn(n.title),ke(3),xn(n.time),ke(2),xn(n.user)}}var _A=(()=>{class e{constructor(){this.dataService=It(as),this.kpi=this.dataService.kpiData,this.safetyStats=this.dataService.safetyStats,this.fleetAvailability=this.dataService.fleetAvailability,this.activeFailures=pn(()=>this.dataService.forkliftFailures().filter(n=>n.estatus!=="Cerrada")),this.operativeCount=pn(()=>this.dataService.assets().filter(n=>n.status.name==="Operativo").length),this.totalAssets=pn(()=>this.dataService.assets().length),this.lastUpdate=this.dataService.lastUpdate,this.availabilityStatus=pn(()=>{let n=this.fleetAvailability().percentage;return n>=95?"success":n>=85?"warning":"danger"}),this.availabilityStatusText=pn(()=>{let n=this.fleetAvailability().percentage;return n>=95?"Meta Cumplida":n>=85?"En Riesgo":"Cr\xEDtico"}),this.availabilityGap=pn(()=>{let r=this.fleetAvailability().percentage-95;return`Brecha: ${r>0?"+":""}${r.toFixed(0)} pts`}),this.fleetCapacityLabel=pn(()=>{let n=this.totalAssets();if(n===0)return"0% capacidad";let r=this.operativeCount();return`${Math.round(r/n*100)}% de capacidad operativa`}),this.formattedCost=pn(()=>{let n=this.kpi().totalCostMonth;return n===0?"Sin gastos":"$"+n.toLocaleString("en-US")}),this.costUnit=pn(()=>this.kpi().totalCostMonth===0?"registrados este mes":"USD"),this.budgetStatus=pn(()=>{let n=this.kpi().totalCostMonth,r=this.kpi().budgetMonth;return n===0?"neutral":n>r?"danger":n>r*.9?"warning":"success"}),this.budgetStatusText=pn(()=>{let n=this.kpi().totalCostMonth,r=this.kpi().budgetMonth;return n===0?"Presupuesto Intacto":n>r?"Excedido":"Bajo presupuesto"}),this.budgetVariance=pn(()=>{let n=this.kpi().totalCostMonth,r=this.kpi().budgetMonth;if(n===0)return"Disponible: 100%";let i=(n-r)/r*100;return i>0?`+${i.toFixed(1)}% vs Presupuesto`:`${i.toFixed(1)}% vs Presupuesto`}),this.recentEvents=pn(()=>[{title:"Unidad 35526 ingres\xF3 a Taller",time:"Hace 15 min",user:"Op. M\xF3vil",color:"bg-red-500",icon:"fa-exclamation-circle"},{title:'Refacci\xF3n "Kit Sellos" solicitada',time:"Hace 45 min",user:"Toyota Tech",color:"bg-blue-500",icon:"fa-box-open"},{title:"Turno Matutino inici\xF3 operaciones",time:"06:00 AM",user:"Sistema",color:"bg-emerald-500",icon:"fa-check"}])}selectAsset(n){window.dispatchEvent(new CustomEvent("asset-selected",{detail:n}))}filterByIssue(n){alert(`[DEMO] Filtrando activos con fallas en: ${n}`)}downloadReport(){window.print()}getTimeInShop(n){let r=new Date(n).getTime(),i=new Date().getTime(),s=Math.floor((i-r)/(1e3*60*60)),o="",a="",l="";return s<1?(o="< 1h",a="A tiempo",l="text-emerald-500"):s<24?(o=`${s}h`,a="En proceso",l="text-blue-500"):(o=`${Math.floor(s/24)}d ${s%24}h`,a="Demorado",l="text-amber-500"),s>48&&(a="Cr\xEDtico",l="text-red-500"),{text:o,label:a,color:l}}getStatusBadgeClass(n){return n.estatus==="Abierta"?"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-500/10 dark:text-amber-400 dark:border-amber-500/20":"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-500/10 dark:text-blue-400 dark:border-blue-500/20"}getStatusDotClass(n){return n.estatus==="Abierta"?"bg-amber-500":"bg-blue-500"}getPriorityColor(n){return n==="Alta"?"bg-red-500":n==="Media"?"bg-amber-400":"bg-blue-400"}getPriorityBadgeClass(n){return n==="Alta"?"bg-red-50 text-red-600 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800":n==="Media"?"bg-amber-50 text-amber-600 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800":"bg-blue-50 text-blue-600 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ri({type:e,selectors:[["app-dashboard"]],decls:100,vars:25,consts:[[1,"space-y-6","pb-10"],[1,"flex","flex-col","md:flex-row","md:items-center","justify-between","gap-4","mb-2"],[1,"text-2xl","font-black","text-slate-800","dark:text-white","tracking-tight"],[1,"text-sm","text-slate-500","dark:text-slate-400","flex","items-center","gap-2"],[1,"relative","flex","h-2.5","w-2.5"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-emerald-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2.5","w-2.5","bg-emerald-500"],[1,"font-bold","text-slate-700","dark:text-slate-300"],[1,"mx-1","text-slate-300"],[1,"far","fa-clock","text-slate-400"],[1,"text-xs"],[1,"flex","gap-2"],[1,"bg-white","dark:bg-slate-800","border","border-slate-200","dark:border-slate-700","text-slate-600","dark:text-slate-300","px-4","py-2","rounded-lg","text-xs","font-bold","uppercase","hover:bg-slate-50","transition","shadow-sm",3,"click"],[1,"fas","fa-download","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["title","Seguridad","subtitle","D\xEDas sin incidentes","unit","d\xEDas","status","success","statusText","En buen nivel","footerLabel","Meta Hist\xF3rica",3,"value","footerValue","trendLabel"],["title","Disponibilidad","subtitle","Flota operativa efectiva","unit","%","footerLabel","Meta 95%","footerValue","",3,"value","status","statusText","trendLabel"],["title","Flota Activa","subtitle","Estado actual de montacargas","status","info","statusText","Vista general","footerLabel","En Taller",3,"value","unit","footerValue","trendLabel"],["title","Costo Mensual","subtitle","Mantenimiento y refacciones","footerLabel","Presupuesto",3,"value","unit","status","statusText","footerValue","trendLabel"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2","bg-white","dark:bg-[#1e293b]","rounded-2xl","shadow-sm","border","border-slate-200","dark:border-slate-700/60","flex","flex-col","overflow-hidden","h-[500px]"],[1,"p-5","border-b","border-slate-100","dark:border-slate-700/50","flex","justify-between","items-center","bg-slate-50/50","dark:bg-slate-800/20"],[1,"font-bold","text-slate-800","dark:text-white","flex","items-center","gap-2"],[1,"fas","fa-wrench","text-slate-400"],[1,"text-xs","text-slate-500","mt-1"],[1,"text-xs","font-bold","text-red-600","bg-red-50","dark:bg-red-500/10","px-3","py-1","rounded-full","border","border-red-100","dark:border-red-500/20","animate-pulse"],[1,"flex-1","overflow-y-auto","custom-scroll","relative"],[1,"w-full","text-left","text-sm"],[1,"bg-slate-50","dark:bg-slate-800","text-slate-500","font-bold","text-xs","uppercase","sticky","top-0","z-10","shadow-sm"],[1,"p-4","pl-6"],[1,"p-4"],[1,"p-4","text-center"],[1,"p-4","text-right","pr-6"],[1,"divide-y","divide-slate-100","dark:divide-slate-700/50"],[1,"hover:bg-slate-50","dark:hover:bg-slate-800/50","transition-colors","group"],[1,"flex","flex-col","gap-6"],[1,"bg-white","dark:bg-[#1e293b]","rounded-2xl","shadow-sm","border","border-slate-200","dark:border-slate-700/60","p-5"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-bold","text-slate-800","dark:text-white","text-sm"],[1,"text-[10px]","font-bold","text-slate-400","uppercase","bg-slate-100","dark:bg-slate-800","px-2","py-1","rounded"],[1,"space-y-3"],[1,"w-full","text-left","p-3","rounded-xl","bg-slate-50","dark:bg-slate-800/50","border","border-slate-100","dark:border-slate-700","group","hover:border-red-200","transition-colors","cursor-pointer","relative",3,"click"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-xs","font-bold","text-slate-700","dark:text-slate-200","group-hover:text-[#ce1126]","transition-colors"],[1,"text-xs","font-black","text-red-500"],[1,"w-full","bg-slate-200","dark:bg-slate-700","h-1.5","rounded-full","overflow-hidden","mb-3"],[1,"bg-red-500","h-full","w-[45%]"],[1,"flex","justify-between","items-center"],[1,"text-[10px]","text-slate-400","font-medium"],[1,"text-[10px]","bg-white","dark:bg-slate-700","border","border-slate-200","dark:border-slate-600","px-3","py-1.5","rounded-lg","text-slate-600","group-hover:text-[#ce1126]","group-hover:border-red-100","font-bold","shadow-sm","transition-all","group-hover:shadow-md","flex","items-center","gap-1"],[1,"fas","fa-arrow-right","text-[9px]"],[1,"w-full","text-left","p-3","rounded-xl","bg-slate-50","dark:bg-slate-800/50","border","border-slate-100","dark:border-slate-700","group","hover:border-amber-200","transition-colors","cursor-pointer","relative",3,"click"],[1,"text-xs","font-bold","text-slate-700","dark:text-slate-200","group-hover:text-amber-600","transition-colors"],[1,"text-xs","font-black","text-amber-500"],[1,"bg-amber-500","h-full","w-[20%]"],[1,"text-[10px]","bg-white","dark:bg-slate-700","border","border-slate-200","dark:border-slate-600","px-3","py-1.5","rounded-lg","text-slate-600","group-hover:text-amber-600","group-hover:border-amber-100","font-bold","shadow-sm","transition-all","group-hover:shadow-md","flex","items-center","gap-1"],[1,"flex-1","bg-white","dark:bg-[#1e293b]","rounded-2xl","shadow-sm","border","border-slate-200","dark:border-slate-700/60","p-5","flex","flex-col"],[1,"text-[10px]","font-bold","text-[#ce1126]","hover:underline"],[1,"relative","pl-4","border-l","border-slate-200","dark:border-slate-700","space-y-6"],[1,"relative","group"],[1,"flex","items-center","gap-3"],[1,"font-black","text-slate-800","dark:text-white","text-base"],[1,"text-xs","text-slate-500","font-medium"],[1,"text-sm","font-bold","text-slate-700","dark:text-slate-300","max-w-[220px]","truncate","cursor-help",3,"title"],[1,"flex","flex-col","items-center"],[1,"font-mono","text-sm","font-bold","text-slate-700","dark:text-slate-200"],[1,"p-4","pr-6","text-right"],[1,"bg-white","dark:bg-slate-700","border","border-slate-200","dark:border-slate-600","text-slate-600","dark:text-slate-200","hover:text-[#ce1126]","hover:border-[#ce1126]","px-3","py-1.5","rounded-lg","text-xs","font-bold","transition","shadow-sm","group-hover:shadow-md",3,"click"],[1,"fas","fa-arrow-right","ml-1"],["colspan","5",1,"py-20","text-center"],[1,"flex","flex-col","items-center","justify-center","opacity-60"],[1,"w-16","h-16","bg-emerald-50","dark:bg-emerald-500/10","rounded-full","flex","items-center","justify-center","mb-4","border","border-emerald-100"],[1,"fas","fa-check","text-2xl","text-emerald-500"],[1,"text-slate-800","dark:text-white","font-bold","text-lg"],[1,"text-slate-500","text-sm","mt-1","mb-4"],[1,"absolute","-left-[25px]","top-0","h-7","w-7","rounded-full","border-2","border-white","dark:border-slate-900","flex","items-center","justify-center","text-[10px]","text-white","shadow-sm","transition-transform","group-hover:scale-110",3,"ngClass"],[1,"text-xs","font-bold","text-slate-700","dark:text-slate-300","leading-tight"],[1,"flex","items-center","gap-2","mt-1"],[1,"text-[10px]","text-slate-400","font-mono"],[1,"text-[10px]","bg-slate-100","dark:bg-slate-800","px-1.5","py-0.5","rounded","text-slate-500","font-bold","uppercase"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),be(4,"Centro de Monitoreo (NOC)"),ae(),se(5,"p",3)(6,"span",4),He(7,"span",5)(8,"span",6),ae(),se(9,"span",7),be(10,"Operaci\xF3n Estable"),ae(),se(11,"span",8),be(12,"|"),ae(),He(13,"i",9),se(14,"span",10),be(15),js(16,"date"),ae()()(),se(17,"div",11)(18,"button",12),Lt("click",function(){return i.downloadReport()}),He(19,"i",13),be(20," Reporte PDF "),ae()()(),se(21,"div",14),He(22,"app-kpi-card",15)(23,"app-kpi-card",16)(24,"app-kpi-card",17)(25,"app-kpi-card",18),js(26,"currency"),ae(),se(27,"div",19)(28,"div",20)(29,"div",21)(30,"div")(31,"h3",22),He(32,"i",23),be(33," Taller en Vivo "),ae(),se(34,"p",24),be(35,"\xD3rdenes activas y tiempos de respuesta"),ae()(),Ln(36,Z$,2,2,"span",25),ae(),se(37,"div",26)(38,"table",27)(39,"thead",28)(40,"tr")(41,"th",29),be(42,"Prioridad / Unidad"),ae(),se(43,"th",30),be(44,"Falla Reportada"),ae(),se(45,"th",30),be(46,"Estado"),ae(),se(47,"th",31),be(48,"SLA (Tiempo)"),ae(),se(49,"th",32),be(50,"Acci\xF3n"),ae()()(),se(51,"tbody",33),Bi(52,X$,29,21,"tr",34,Y$,!1,J$,9,0,"tr"),ae()()()(),se(55,"div",35)(56,"div",36)(57,"div",37)(58,"h3",38),be(59,"Top 3 Problemas"),ae(),se(60,"span",39),be(61,"\xDAltimos 30 d\xEDas"),ae()(),se(62,"div",40)(63,"button",41),Lt("click",function(){return i.filterByIssue("Hidr\xE1ulico")}),se(64,"div",42)(65,"span",43),be(66,"Sistema Hidr\xE1ulico"),ae(),se(67,"span",44),be(68,"45%"),ae()(),se(69,"div",45),He(70,"div",46),ae(),se(71,"div",47)(72,"span",48),be(73,"12 incidentes reportados"),ae(),se(74,"span",49),be(75," Ver equipos "),He(76,"i",50),ae()()(),se(77,"button",51),Lt("click",function(){return i.filterByIssue("Frenos")}),se(78,"div",42)(79,"span",52),be(80,"Frenos / Desgaste"),ae(),se(81,"span",53),be(82,"20%"),ae()(),se(83,"div",45),He(84,"div",54),ae(),se(85,"div",47)(86,"span",48),be(87,"8 incidentes reportados"),ae(),se(88,"span",55),be(89," Ver equipos "),He(90,"i",50),ae()()()()(),se(91,"div",56)(92,"div",37)(93,"h3",38),be(94,"Eventos Recientes"),ae(),se(95,"button",57),be(96,"Ver todo"),ae()(),se(97,"div",58),Bi(98,Q$,10,6,"div",59,I0),ae()()()()()),r&2&&(ke(15),tn("Actualizado: ",Mo(16,20,i.lastUpdate(),"HH:mm:ss"),""),ke(7),Kn("value",i.safetyStats().daysWithoutAccident)("footerValue",i.safetyStats().record+" d\xEDas")("trendLabel","Faltan "+(i.safetyStats().record-i.safetyStats().daysWithoutAccident)+" para r\xE9cord"),ke(),Kn("value",i.fleetAvailability().percentage)("status",i.availabilityStatus())("statusText",i.availabilityStatusText())("trendLabel",i.availabilityGap()),ke(),Kn("value",i.operativeCount())("unit","de "+i.totalAssets())("footerValue",i.activeFailures().length+(i.activeFailures().length===1?" unidad":" unidades"))("trendLabel",i.fleetCapacityLabel()),ke(),Kn("value",i.formattedCost())("unit",i.costUnit())("status",i.budgetStatus())("statusText",i.budgetStatusText())("footerValue",A0(26,23,i.kpi().budgetMonth)||"$0")("trendLabel",i.budgetVariance()),ke(11),Fn(i.activeFailures().length>0?36:-1),ke(16),Vi(i.activeFailures()),ke(46),Vi(i.recentEvents()))},dependencies:[$r,Kf,Yf,Pa,vA],encapsulation:2})}}return e})();var eq=(e,t)=>t.id;function tq(e,t){e&1&&(se(0,"div",26),He(1,"i",37),be(2," > 48h "),ae())}function nq(e,t){e&1&&He(0,"i",32)}function rq(e,t){if(e&1&&(se(0,"div",33),be(1),js(2,"date"),ae()),e&2){let n=Dt().$implicit;ke(),tn(" Desde: ",Mo(2,1,n.statusSince,"dd MMM HH:mm")," ")}}function iq(e,t){if(e&1){let n=yr();se(0,"tr",24),Lt("click",function(){let i=un(n).$implicit,s=Dt();return dn(s.selectAsset(i))}),se(1,"td",25),be(2),Ln(3,tq,3,0,"div",26),ae(),se(4,"td",20)(5,"div",12),be(6),ae(),se(7,"div",27),be(8),ae()(),se(9,"td",28),He(10,"i",29),be(11),ae(),se(12,"td",20)(13,"div",30)(14,"span"),He(15,"span",31),be(16),ae(),Ln(17,nq,1,0,"i",32),ae(),Ln(18,rq,3,4,"div",33),ae(),se(19,"td",34),be(20),ae(),se(21,"td",21)(22,"button",35),He(23,"i",36),ae()()()}if(e&2){let n=t.$implicit,r=Dt();pr("hover:bg-slate-50",!r.isCriticalMaintenance(n))("border-transparent",!r.isCriticalMaintenance(n))("border-red-500",r.isCriticalMaintenance(n))("bg-red-50",r.isCriticalMaintenance(n)),ke(2),tn(" ",n.id," "),ke(),Fn(r.isCriticalMaintenance(n)?3:-1),ke(3),Uf("",n.brand," ",n.model,""),ke(2),tn("SN: ",n.serial,""),ke(3),tn(" ",n.location," "),ke(3),mr("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold border "+n.status.color),ke(2),tn(" ",n.status.name," "),ke(),Fn(r.isCriticalMaintenance(n)?17:-1),ke(),Fn(n.status.name!=="Operativo"?18:-1),ke(2),tn(" ",n.supervisor||"N/A"," ")}}function sq(e,t){e&1&&(se(0,"tr")(1,"td",38),be(2,"No se encontraron activos."),ae()())}var wA=(()=>{class e{constructor(){this.dataService=It(as),this.filter=en(""),this.filteredAssets=pn(()=>{let n=this.filter().toLowerCase();return this.dataService.assets().filter(r=>r.id.toLowerCase().includes(n)||r.brand.toLowerCase().includes(n)||r.serial.toLowerCase().includes(n))}),this.stats=pn(()=>{let n=this.dataService.assets();return{total:n.length,operative:n.filter(r=>r.status.name==="Operativo").length,maintenance:n.filter(r=>r.status.name==="Taller").length,preventive:n.filter(r=>r.status.name==="Preventivo").length}})}selectAsset(n){window.dispatchEvent(new CustomEvent("asset-selected",{detail:n.id}))}isCriticalMaintenance(n){if(n.status.name!=="Taller"||!n.statusSince)return!1;let r=new Date(n.statusSince).getTime();return new Date().getTime()-r>1728e5}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ri({type:e,selectors:[["app-asset-list"]],decls:49,vars:5,consts:[[1,"space-y-6"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"bg-white","p-4","rounded-xl","border","border-slate-200","shadow-sm"],[1,"text-xs","text-slate-500","uppercase","font-bold"],[1,"text-2xl","font-black","text-slate-800"],[1,"bg-white","p-4","rounded-xl","border-l-4","border-emerald-500","shadow-sm"],[1,"text-2xl","font-black","text-emerald-600"],[1,"bg-white","p-4","rounded-xl","border-l-4","border-red-500","shadow-sm"],[1,"text-2xl","font-black","text-red-600"],[1,"bg-white","p-4","rounded-xl","border-l-4","border-amber-500","shadow-sm"],[1,"text-2xl","font-black","text-amber-600"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-4","bg-white","p-4","rounded-xl","border","border-slate-200","shadow-sm"],[1,"font-bold","text-slate-700"],[1,"relative","w-full","md:w-64"],[1,"fas","fa-search","absolute","left-3","top-3","text-slate-400","text-xs"],["type","text","placeholder","Buscar por ID, Serie o Marca...",1,"w-full","pl-8","pr-4","py-2","bg-slate-50","border","border-slate-200","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input"],[1,"bg-white","rounded-xl","shadow-sm","border","border-slate-200","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left"],[1,"bg-slate-50","text-slate-500","font-bold","text-xs","uppercase","border-b","border-slate-200"],[1,"p-4"],[1,"p-4","text-right"],[1,"divide-y","divide-slate-100"],[1,"transition-colors","group","cursor-pointer","border-l-4",3,"hover:bg-slate-50","border-transparent","border-red-500","bg-red-50"],[1,"transition-colors","group","cursor-pointer","border-l-4",3,"click"],[1,"p-4","font-black","text-slate-800"],[1,"mt-1","inline-flex","items-center","gap-1","text-[9px]","uppercase","font-bold","text-red-600","animate-pulse"],[1,"text-xs","text-slate-400","font-mono"],[1,"p-4","text-slate-600"],[1,"fas","fa-map-marker-alt","text-slate-300","mr-1"],[1,"flex","items-center","gap-2"],[1,"w-1.5","h-1.5","rounded-full","bg-current","mr-1.5"],["title","Atenci\xF3n requerida: Tiempo excedido",1,"fas","fa-exclamation-triangle","text-red-500","text-sm","animate-bounce"],[1,"text-[10px]","text-slate-400","mt-1","pl-1"],[1,"p-4","text-slate-600","text-xs"],[1,"text-slate-400","hover:text-blue-600","group-hover:translate-x-1","transition-transform"],[1,"fas","fa-arrow-right"],[1,"fas","fa-clock"],["colspan","6",1,"p-8","text-center","text-slate-400","italic"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),be(4,"Total Flota"),ae(),se(5,"p",4),be(6),ae()(),se(7,"div",5)(8,"p",3),be(9,"Operativos"),ae(),se(10,"p",6),be(11),ae()(),se(12,"div",7)(13,"p",3),be(14,"En Taller"),ae(),se(15,"p",8),be(16),ae()(),se(17,"div",9)(18,"p",3),be(19,"Preventivo"),ae(),se(20,"p",10),be(21),ae()()(),se(22,"div",11)(23,"h2",12),be(24,"Inventario Detallado"),ae(),se(25,"div",13),He(26,"i",14),se(27,"input",15),Lt("input",function(o){return i.filter.set(o.target.value)}),ae()()(),se(28,"div",16)(29,"div",17)(30,"table",18)(31,"thead",19)(32,"tr")(33,"th",20),be(34,"ID Economico"),ae(),se(35,"th",20),be(36,"Detalles"),ae(),se(37,"th",20),be(38,"Ubicaci\xF3n"),ae(),se(39,"th",20),be(40,"Estatus Actual"),ae(),se(41,"th",20),be(42,"Supervisor"),ae(),se(43,"th",21),be(44,"Acci\xF3n"),ae()()(),se(45,"tbody",22),Bi(46,iq,24,20,"tr",23,eq,!1,sq,3,0,"tr"),ae()()()()()),r&2&&(ke(6),xn(i.stats().total),ke(5),xn(i.stats().operative),ke(5),xn(i.stats().maintenance),ke(5),xn(i.stats().preventive),ke(25),Vi(i.filteredAssets()))},dependencies:[$r,Pa],encapsulation:2})}}return e})();var NA=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(Mn(Tc),Mn(bl))};static \u0275dir=ii({type:e})}return e})(),M5=(()=>{class e extends NA{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bu(e)))(i||e)}})();static \u0275dir=ii({type:e,features:[Ps]})}return e})(),h1=new qt("");var oq={provide:h1,useExisting:Ao(()=>Vl),multi:!0};function aq(){let e=Ra()?Ra().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var lq=new qt(""),Vl=(()=>{class e extends NA{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!aq())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(Mn(Tc),Mn(bl),Mn(lq,8))};static \u0275dir=ii({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Lt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[vl([oq]),Ps]})}return e})();function cq(e){return e==null||MA(e)===0}function MA(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var p1=new qt(""),RA=new qt("");function uq(e){return cq(e.value)?{required:!0}:null}function dq(e){return t=>{let n=t.value?.length??MA(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function xA(e){return null}function OA(e){return e!=null}function PA(e){return Vf(e)?pc(e):e}function LA(e){let t={};return e.forEach(n=>{t=n!=null?at(at({},t),n):t}),Object.keys(t).length===0?null:t}function FA(e,t){return t.map(n=>n(e))}function fq(e){return!e.validate}function jA(e){return e.map(t=>fq(t)?t:n=>t.validate(n))}function hq(e){if(!e)return null;let t=e.filter(OA);return t.length==0?null:function(n){return LA(FA(n,t))}}function R5(e){return e!=null?hq(jA(e)):null}function pq(e){if(!e)return null;let t=e.filter(OA);return t.length==0?null:function(n){let r=FA(n,t).map(PA);return lb(r).pipe(Ji(LA))}}function O5(e){return e!=null?pq(jA(e)):null}function EA(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function mq(e){return e._rawValidators}function gq(e){return e._rawAsyncValidators}function k5(e){return e?Array.isArray(e)?e:[e]:[]}function a1(e,t){return Array.isArray(e)?e.includes(t):e===t}function SA(e,t){let n=k5(t);return k5(e).forEach(i=>{a1(n,i)||n.push(i)}),n}function CA(e,t){return k5(t).filter(n=>!a1(e,n))}var l1=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=R5(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=O5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},md=class extends l1{name;get formDirective(){return null}get path(){return null}},rp=class extends l1{_parent=null;name=null;valueAccessor=null},c1=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Tae=Zt(at({},yq),{"[class.ng-submitted]":"isSubmitted"}),gd=(()=>{class e extends c1{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(Mn(rp,2))};static \u0275dir=ii({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&pr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ps]})}return e})(),BA=(()=>{class e extends c1{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(Mn(md,10))};static \u0275dir=ii({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&pr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ps]})}return e})();var Jh="VALID",o1="INVALID",hd="PENDING",Qh="DISABLED",Bl=class{},u1=class extends Bl{value;source;constructor(t,n){super(),this.value=t,this.source=n}},tp=class extends Bl{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},np=class extends Bl{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},pd=class extends Bl{status;source;constructor(t,n){super(),this.status=t,this.source=n}},D5=class extends Bl{source;constructor(t){super(),this.source=t}},N5=class extends Bl{source;constructor(t){super(),this.source=t}};function VA(e){return(m1(e)?e.validators:e)||null}function bq(e){return Array.isArray(e)?R5(e):e||null}function UA(e,t){return(m1(t)?t.asyncValidators:e)||null}function vq(e){return Array.isArray(e)?O5(e):e||null}function m1(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function _q(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new lt(1e3,"");if(!r[n])throw new lt(1001,"")}function wq(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new lt(1002,"")})}var d1=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ma(this.statusReactive)}set status(t){Ma(()=>this.statusReactive.set(t))}_status=pn(()=>this.statusReactive());statusReactive=en(void 0);get valid(){return this.status===Jh}get invalid(){return this.status===o1}get pending(){return this.status==hd}get disabled(){return this.status===Qh}get enabled(){return this.status!==Qh}errors;get pristine(){return Ma(this.pristineReactive)}set pristine(t){Ma(()=>this.pristineReactive.set(t))}_pristine=pn(()=>this.pristineReactive());pristineReactive=en(!0);get dirty(){return!this.pristine}get touched(){return Ma(this.touchedReactive)}set touched(t){Ma(()=>this.touchedReactive.set(t))}_touched=pn(()=>this.touchedReactive());touchedReactive=en(!1);get untouched(){return!this.touched}_events=new ga;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(SA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(SA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(CA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(CA(t,this._rawAsyncValidators))}hasValidator(t){return a1(this._rawValidators,t)}hasAsyncValidator(t){return a1(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Zt(at({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new np(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new np(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Zt(at({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new tp(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new tp(!0,r))}markAsPending(t={}){this.status=hd;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new pd(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Zt(at({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Qh,this.errors=null,this._forEachChild(i=>{i.disable(Zt(at({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new u1(this.value,r)),this._events.next(new pd(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Zt(at({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Jh,this._forEachChild(r=>{r.enable(Zt(at({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Zt(at({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jh||this.status===hd)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new u1(this.value,n)),this._events.next(new pd(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Zt(at({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qh:Jh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=hd,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=PA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new pd(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new _s,this.statusChanges=new _s}_calculateStatus(){return this._allControlsDisabled()?Qh:this.errors?o1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hd)?hd:this._anyControlsHaveStatus(o1)?o1:Jh}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new tp(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new np(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){m1(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=bq(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=vq(this._rawAsyncValidators)}},f1=class extends d1{constructor(t,n,r){super(VA(n),UA(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){wq(this,!0,t),Object.keys(t).forEach(r=>{_q(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var P5=new qt("",{providedIn:"root",factory:()=>L5}),L5="always";function xq(e,t){return[...t.path,e]}function zA(e,t,n=L5){HA(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Sq(e,t),Iq(e,t),Cq(e,t),Eq(e,t)}function IA(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Eq(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function HA(e,t){let n=mq(e);t.validator!==null?e.setValidators(EA(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=gq(e);t.asyncValidator!==null?e.setAsyncValidators(EA(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();IA(t._rawValidators,i),IA(t._rawAsyncValidators,i)}function Sq(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&$A(e,t)})}function Cq(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&$A(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function $A(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Iq(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function Tq(e,t){e==null,HA(e,t)}function Aq(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function kq(e){return Object.getPrototypeOf(e.constructor)===M5}function Dq(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Nq(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(s=>{s.constructor===Vl?n=s:kq(s)?r=s:i=s}),i||r||n||null}var Mq={provide:md,useExisting:Ao(()=>F5)},ep=Promise.resolve(),F5=(()=>{class e extends md{callSetDisabledState;get submitted(){return Ma(this.submittedReactive)}_submitted=pn(()=>this.submittedReactive());submittedReactive=en(!1);_directives=new Set;form;ngSubmit=new _s;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new f1({},R5(n),O5(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ep.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),zA(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ep.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ep.then(()=>{let r=this._findContainer(n.path),i=new f1({});Tq(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ep.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ep.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Dq(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new D5(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new N5(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(Mn(p1,10),Mn(RA,10),Mn(P5,8))};static \u0275dir=ii({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Lt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[vl([Mq]),Ps]})}return e})();function TA(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function AA(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Rq=class extends d1{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(VA(n),UA(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),m1(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AA(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){TA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){TA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){AA(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Oq={provide:rp,useExisting:Ao(()=>Wc)},kA=Promise.resolve(),Wc=(()=>{class e extends rp{_changeDetectorRef;callSetDisabledState;control=new Rq;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _s;constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Nq(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Aq(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){kA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&E2(r);kA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?xq(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(Mn(md,9),Mn(p1,10),Mn(RA,10),Mn(h1,10),Mn(x2,8),Mn(P5,8))};static \u0275dir=ii({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[vl([Oq]),Ps,y0]})}return e})();var qA=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ii({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var Pq={provide:h1,useExisting:Ao(()=>g1),multi:!0};function WA(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function Lq(e){return e.split(":")[0]}var g1=(()=>{class e extends M5{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=WA(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=Lq(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bu(e)))(i||e)}})();static \u0275dir=ii({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Lt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vl([Pq]),Ps]})}return e})(),yd=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(WA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(Mn(bl),Mn(Tc),Mn(g1,9))};static \u0275dir=ii({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),Fq={provide:h1,useExisting:Ao(()=>GA),multi:!0};function DA(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function jq(e){return e.split(":")[0]}var GA=(()=>{class e extends M5{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);i.push(c)}}else{let o=r.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=jq(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bu(e)))(i||e)}})();static \u0275dir=ii({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Lt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vl([Fq]),Ps]})}return e})(),bd=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(DA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(DA(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(Mn(bl),Mn(Tc),Mn(GA,9))};static \u0275dir=ii({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function Bq(e){return typeof e=="number"?e:parseInt(e,10)}var KA=(()=>{class e{_validator=xA;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xA,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ii({type:e,features:[y0]})}return e})();var Vq={provide:p1,useExisting:Ao(()=>j5),multi:!0};var j5=(()=>{class e extends KA{required;inputName="required";normalizeInput=E2;createValidator=n=>uq;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bu(e)))(i||e)}})();static \u0275dir=ii({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&C0("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[vl([Vq]),Ps]})}return e})();var Uq={provide:p1,useExisting:Ao(()=>B5),multi:!0},B5=(()=>{class e extends KA{minlength;inputName="minlength";normalizeInput=n=>Bq(n);createValidator=n=>dq(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Bu(e)))(i||e)}})();static \u0275dir=ii({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&C0("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[vl([Uq]),Ps]})}return e})();var zq=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Na({type:e});static \u0275inj=Ca({})}return e})();var $o=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:P5,useValue:n.callSetDisabledState??L5}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Na({type:e});static \u0275inj=Ca({imports:[zq]})}return e})();function Zn(e){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zn(e)}var uo=Uint8Array,ws=Uint16Array,$5=Int32Array,q5=new uo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),W5=new uo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),YA=new uo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QA=function(e,t){for(var n=new ws(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new $5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},ek=QA(q5,2),Hq=ek.b,U5=ek.r;Hq[28]=258,U5[258]=28;var tk=QA(W5,0),Nae=tk.b,ZA=tk.r,z5=new ws(32768);for(qn=0;qn<32768;++qn)qa=(qn&43690)>>1|(qn&21845)<<1,qa=(qa&52428)>>2|(qa&13107)<<2,qa=(qa&61680)>>4|(qa&3855)<<4,z5[qn]=((qa&65280)>>8|(qa&255)<<8)>>1;var qa,qn,ap=function(e,t,n){for(var r=e.length,i=0,s=new ws(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new ws(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ws(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=o[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)a[z5[d]>>l]=c}else for(a=new ws(r),i=0;i<r;++i)e[i]&&(a[i]=z5[o[e[i]-1]++]>>15-e[i]);return a},Gc=new uo(288);for(qn=0;qn<144;++qn)Gc[qn]=8;var qn;for(qn=144;qn<256;++qn)Gc[qn]=9;var qn;for(qn=256;qn<280;++qn)Gc[qn]=7;var qn;for(qn=280;qn<288;++qn)Gc[qn]=8;var qn,y1=new uo(32);for(qn=0;qn<32;++qn)y1[qn]=5;var qn,$q=ap(Gc,9,0);var qq=ap(y1,5,0);var nk=function(e){return(e+7)/8|0},Wq=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new uo(e.subarray(t,n))};var Wa=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},sp=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},V5=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:ik,l:0};if(i==1){var o=new uo(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(z,F){return z.f-F.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=s[0].s,r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var f=new ws(h+1),p=H5(n[u-1],f,0);if(p>t){var r=0,g=0,y=p-t,v=1<<y;for(s.sort(function(F,j){return f[j.s]-f[F.s]||F.f-j.f});r<i;++r){var S=s[r].s;if(f[S]>t)g+=v-(1<<p-f[S]),f[S]=t;else break}for(g>>=y;g>0;){var k=s[r].s;f[k]<t?g-=1<<t-f[k]++-1:++r}for(;r>=0&&g;--r){var M=s[r].s;f[M]==t&&(--f[M],++g)}p=t}return{t:new uo(f),l:p}},H5=function(e,t,n){return e.s==-1?Math.max(H5(e.l,t,n+1),H5(e.r,t,n+1)):t[e.s]=n},XA=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ws(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},op=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},rk=function(e,t,n){var r=n.length,i=nk(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},JA=function(e,t,n,r,i,s,o,a,l,c,u){Wa(t,u++,n),++i[256];for(var d=V5(i,15),h=d.t,f=d.l,p=V5(s,15),g=p.t,y=p.l,v=XA(h),S=v.c,k=v.n,M=XA(g),z=M.c,F=M.n,j=new ws(19),B=0;B<S.length;++B)++j[S[B]&31];for(var B=0;B<z.length;++B)++j[z[B]&31];for(var U=V5(j,7),V=U.t,E=U.l,C=19;C>4&&!V[YA[C-1]];--C);var R=c+5<<3,m=op(i,Gc)+op(s,y1)+o,b=op(i,h)+op(s,g)+o+14+3*C+op(j,V)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&R<=m&&R<=b)return rk(t,u,e.subarray(l,l+c));var w,_,x,I;if(Wa(t,u,1+(b<m)),u+=2,b<m){w=ap(h,f,0),_=h,x=ap(g,y,0),I=g;var O=ap(V,E,0);Wa(t,u,k-257),Wa(t,u+5,F-1),Wa(t,u+10,C-4),u+=14;for(var B=0;B<C;++B)Wa(t,u+3*B,V[YA[B]]);u+=3*C;for(var $=[S,z],P=0;P<2;++P)for(var G=$[P],B=0;B<G.length;++B){var D=G[B]&31;Wa(t,u,O[D]),u+=V[D],D>15&&(Wa(t,u,G[B]>>5&127),u+=G[B]>>12)}}else w=$q,_=Gc,x=qq,I=y1;for(var B=0;B<a;++B){var W=r[B];if(W>255){var D=W>>18&31;sp(t,u,w[D+257]),u+=_[D+257],D>7&&(Wa(t,u,W>>23&31),u+=q5[D]);var A=W&31;sp(t,u,x[A]),u+=I[A],A>3&&(sp(t,u,W>>5&8191),u+=W5[A])}else sp(t,u,w[W]),u+=_[W]}return sp(t,u,w[256]),u+_[256]},Gq=new $5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ik=new uo(0),Kq=function(e,t,n,r,i,s){var o=s.z||e.length,a=new uo(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(t){u&&(l[0]=s.r>>3);for(var d=Gq[t-1],h=d>>13,f=d&8191,p=(1<<n)-1,g=s.p||new ws(32768),y=s.h||new ws(p+1),v=Math.ceil(n/3),S=2*v,k=function(ye){return(e[ye]^e[ye+1]<<v^e[ye+2]<<S)&p},M=new $5(25e3),z=new ws(288),F=new ws(32),j=0,B=0,U=s.i||0,V=0,E=s.w||0,C=0;U+2<o;++U){var R=k(U),m=U&32767,b=y[R];if(g[m]=b,y[R]=m,E<=U){var w=o-U;if((j>7e3||V>24576)&&(w>423||!c)){u=JA(e,l,0,M,z,F,B,V,C,U-C,u),V=j=B=0,C=U;for(var _=0;_<286;++_)z[_]=0;for(var _=0;_<30;++_)F[_]=0}var x=2,I=0,O=f,$=m-b&32767;if(w>2&&R==k(U-$))for(var P=Math.min(h,w)-1,G=Math.min(32767,U),D=Math.min(258,w);$<=G&&--O&&m!=b;){if(e[U+x]==e[U+x-$]){for(var W=0;W<D&&e[U+W]==e[U+W-$];++W);if(W>x){if(x=W,I=$,W>P)break;for(var A=Math.min($,W-2),T=0,_=0;_<A;++_){var H=U-$+_&32767,Z=g[H],Q=H-Z&32767;Q>T&&(T=Q,b=H)}}}m=b,b=g[m],$+=m-b&32767}if(I){M[V++]=268435456|U5[x]<<18|ZA[I];var J=U5[x]&31,ne=ZA[I]&31;B+=q5[J]+W5[ne],++z[257+J],++F[ne],E=U+x,++j}else M[V++]=e[U],++z[e[U]]}}for(U=Math.max(U,E);U<o;++U)M[V++]=e[U],++z[e[U]];u=JA(e,l,c,M,z,F,B,V,C,U-C,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=y,s.p=g,s.i=U,s.w=E)}else{for(var U=s.w||0;U<o+c;U+=65535){var ge=U+65535;ge>=o&&(l[u/8|0]=c,ge=o),u=rk(l,u+1,e.subarray(U,ge))}s.i=o}return Wq(a,0,r+nk(u)+i)};var sk=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Yq=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new uo(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return Kq(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)};var ok=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};var Zq=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=sk();i.p(t.dictionary),ok(e,2,i.d())}};function b1(e,t){t||(t={});var n=sk();n.p(e);var r=Yq(e,t,t.dictionary?6:2,4);return Zq(r,t),ok(r,r.length-4,n.d()),r}var Xq=typeof TextDecoder<"u"&&new TextDecoder,Jq=0;try{Xq.decode(ik,{stream:!0}),Jq=1}catch{}function ak(e){if(Array.isArray(e))return e}function lk(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function G5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ck(e,t){if(e){if(typeof e=="string")return G5(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G5(e,t):void 0}}function uk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K5(e,t){return ak(e)||lk(e,t)||ck(e,t)||uk()}function Y5(e,t="utf8"){return new TextDecoder(t).decode(e)}var Qq=new TextEncoder;function dk(e){return Qq.encode(e)}var eW=1024*8,tW=(()=>{let e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Z5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},lp=class e{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=eW,n={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);let i=n.offset?n.offset>>>0:0,s=t.byteLength-i,o=i;(ArrayBuffer.isView(t)||t instanceof e)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){let r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){let r=Z5[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===tW&&n!=="uint8"&&n!=="int8"){let a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();let l=new Z5[n](a.buffer);return this.offset+=r,l.reverse(),l}let o=new Z5[n](s);return this.offset+=r,o}readInt16(){let t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){let t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){let t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){let t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){let t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){let t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){let t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){let t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return Y5(this.readBytes(t))}decodeText(t=1,n="utf8"){return Y5(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(dk(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function Sd(e){let t=e.length;for(;--t>=0;)e[t]=0}var nW=0,Zk=1,rW=2,iW=3,sW=258,_x=29,Ep=256,mp=Ep+1+_x,wd=30,wx=19,Xk=2*mp+1,Kc=15,X5=16,oW=7,xx=256,Jk=16,Qk=17,eD=18,dx=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),S1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),aW=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),tD=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lW=512,Ka=new Array((mp+2)*2);Sd(Ka);var fp=new Array(wd*2);Sd(fp);var gp=new Array(lW);Sd(gp);var yp=new Array(sW-iW+1);Sd(yp);var Ex=new Array(_x);Sd(Ex);var C1=new Array(wd);Sd(C1);function J5(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var nD,rD,iD;function Q5(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}var sD=e=>e<256?gp[e]:gp[256+(e>>>7)],bp=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},ls=(e,t,n)=>{e.bi_valid>X5-n?(e.bi_buf|=t<<e.bi_valid&65535,bp(e,e.bi_buf),e.bi_buf=t>>X5-e.bi_valid,e.bi_valid+=n-X5):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Wo=(e,t,n)=>{ls(e,n[t*2],n[t*2+1])},oD=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},cW=e=>{e.bi_valid===16?(bp(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},uW=(e,t)=>{let n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,u,d,h,f,p,g=0;for(h=0;h<=Kc;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<Xk;c++)u=e.heap[c],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,g++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,f=0,u>=a&&(f=o[u-a]),p=n[u*2],e.opt_len+=p*(h+f),s&&(e.static_len+=p*(i[u*2+1]+f)));if(g!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==h&&(e.opt_len+=(h-n[d*2+1])*n[d*2],n[d*2+1]=h),u--)}},aD=(e,t,n)=>{let r=new Array(Kc+1),i=0,s,o;for(s=1;s<=Kc;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=oD(r[a]++,a))}},dW=()=>{let e,t,n,r,i,s=new Array(Kc+1);for(n=0,r=0;r<_x-1;r++)for(Ex[r]=n,e=0;e<1<<dx[r];e++)yp[n++]=r;for(yp[n-1]=r,i=0,r=0;r<16;r++)for(C1[r]=i,e=0;e<1<<S1[r];e++)gp[i++]=r;for(i>>=7;r<wd;r++)for(C1[r]=i<<7,e=0;e<1<<S1[r]-7;e++)gp[256+i++]=r;for(t=0;t<=Kc;t++)s[t]=0;for(e=0;e<=143;)Ka[e*2+1]=8,e++,s[8]++;for(;e<=255;)Ka[e*2+1]=9,e++,s[9]++;for(;e<=279;)Ka[e*2+1]=7,e++,s[7]++;for(;e<=287;)Ka[e*2+1]=8,e++,s[8]++;for(aD(Ka,mp+1,s),e=0;e<wd;e++)fp[e*2+1]=5,fp[e*2]=oD(e,5);nD=new J5(Ka,dx,Ep+1,mp,Kc),rD=new J5(fp,S1,0,wd,Kc),iD=new J5(new Array(0),aW,0,wx,oW)},lD=e=>{let t;for(t=0;t<mp;t++)e.dyn_ltree[t*2]=0;for(t=0;t<wd;t++)e.dyn_dtree[t*2]=0;for(t=0;t<wx;t++)e.bl_tree[t*2]=0;e.dyn_ltree[xx*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},cD=e=>{e.bi_valid>8?bp(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},fk=(e,t,n,r)=>{let i=t*2,s=n*2;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},ex=(e,t,n)=>{let r=e.heap[n],i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&fk(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!fk(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},hk=(e,t,n)=>{let r,i,s=0,o,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+s++]&255,r+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],r===0?Wo(e,i,t):(o=yp[i],Wo(e,o+Ep+1,t),a=dx[o],a!==0&&(i-=Ex[o],ls(e,i,a)),r--,o=sD(r),Wo(e,o,n),a=S1[o],a!==0&&(r-=C1[o],ls(e,r,a)));while(s<e.sym_next);Wo(e,xx,t)},fx=(e,t)=>{let n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems,o,a,l=-1,c;for(e.heap_len=0,e.heap_max=Xk,o=0;o<s;o++)n[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)ex(e,n,o);c=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ex(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,n[c*2]=n[o*2]+n[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,n[o*2+1]=n[a*2+1]=c,e.heap[1]=c++,ex(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],uW(e,t),aD(n,l,e.bl_count)},pk=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=t[(r+1)*2+1],!(++a<l&&s===o)&&(a<c?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[Jk*2]++):a<=10?e.bl_tree[Qk*2]++:e.bl_tree[eD*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},mk=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(s=o,o=t[(r+1)*2+1],!(++a<l&&s===o)){if(a<c)do Wo(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Wo(e,s,e.bl_tree),a--),Wo(e,Jk,e.bl_tree),ls(e,a-3,2)):a<=10?(Wo(e,Qk,e.bl_tree),ls(e,a-3,3)):(Wo(e,eD,e.bl_tree),ls(e,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},fW=e=>{let t;for(pk(e,e.dyn_ltree,e.l_desc.max_code),pk(e,e.dyn_dtree,e.d_desc.max_code),fx(e,e.bl_desc),t=wx-1;t>=3&&e.bl_tree[tD[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},hW=(e,t,n,r)=>{let i;for(ls(e,t-257,5),ls(e,n-1,5),ls(e,r-4,4),i=0;i<r;i++)ls(e,e.bl_tree[tD[i]*2+1],3);mk(e,e.dyn_ltree,t-1),mk(e,e.dyn_dtree,n-1)},pW=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(n=32;n<Ep;n++)if(e.dyn_ltree[n*2]!==0)return 1;return 0},gk=!1,mW=e=>{gk||(dW(),gk=!0),e.l_desc=new Q5(e.dyn_ltree,nD),e.d_desc=new Q5(e.dyn_dtree,rD),e.bl_desc=new Q5(e.bl_tree,iD),e.bi_buf=0,e.bi_valid=0,lD(e)},uD=(e,t,n,r)=>{ls(e,(nW<<1)+(r?1:0),3),cD(e),bp(e,n),bp(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},gW=e=>{ls(e,Zk<<1,3),Wo(e,xx,Ka),cW(e)},yW=(e,t,n,r)=>{let i,s,o=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=pW(e)),fx(e,e.l_desc),fx(e,e.d_desc),o=fW(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&t!==-1?uD(e,t,n,r):e.strategy===4||s===i?(ls(e,(Zk<<1)+(r?1:0),3),hk(e,Ka,fp)):(ls(e,(rW<<1)+(r?1:0),3),hW(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),hk(e,e.dyn_ltree,e.dyn_dtree)),lD(e),r&&cD(e)},bW=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(yp[n]+Ep+1)*2]++,e.dyn_dtree[sD(t)*2]++),e.sym_next===e.sym_end),vW=mW,_W=uD,wW=yW,xW=bW,EW=gW,SW={_tr_init:vW,_tr_stored_block:_W,_tr_flush_block:wW,_tr_tally:xW,_tr_align:EW},CW=(e,t,n,r)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0},vp=CW,IW=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},TW=new Uint32Array(IW()),AW=(e,t,n,r)=>{let i=TW,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1},oi=AW,Xc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Cd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:kW,_tr_stored_block:hx,_tr_flush_block:DW,_tr_tally:Hl,_tr_align:NW}=SW,{Z_NO_FLUSH:$l,Z_PARTIAL_FLUSH:MW,Z_FULL_FLUSH:RW,Z_FINISH:Hs,Z_BLOCK:yk,Z_OK:gi,Z_STREAM_END:bk,Z_STREAM_ERROR:Go,Z_DATA_ERROR:OW,Z_BUF_ERROR:tx,Z_DEFAULT_COMPRESSION:PW,Z_FILTERED:LW,Z_HUFFMAN_ONLY:v1,Z_RLE:FW,Z_FIXED:jW,Z_DEFAULT_STRATEGY:BW,Z_UNKNOWN:VW,Z_DEFLATED:A1}=Cd,UW=9,zW=15,HW=8,$W=29,qW=256,px=qW+1+$W,WW=30,GW=19,KW=2*px+1,YW=15,Rn=3,zl=258,Ko=zl+Rn+1,ZW=32,xd=42,Sx=57,mx=69,gx=73,yx=91,bx=103,Yc=113,up=666,$i=1,Id=2,Jc=3,Td=4,XW=3,Zc=(e,t)=>(e.msg=Xc[t],t),vk=e=>e*2-(e>4?9:0),Ul=e=>{let t=e.length;for(;--t>=0;)e[t]=0},JW=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)},QW=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,ql=QW,xs=e=>{let t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Es=(e,t)=>{DW(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,xs(e.strm)},Wn=(e,t)=>{e.pending_buf[e.pending++]=t},cp=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},vx=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=vp(e.adler,t,i,n):e.state.wrap===2&&(e.adler=oi(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},dD=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,s,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-Ko?e.strstart-(e.w_size-Ko):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+zl,f=c[r+o-1],p=c[r+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+o]!==p||c[i+o-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(s=zl-(h-r),r=h-zl,s>o){if(e.match_start=t,o=s,s>=a)break;f=c[r+o-1],p=c[r+o]}}while((t=d[t&u])>l&&--n!==0);return o<=e.lookahead?o:e.lookahead},Ed=e=>{let t=e.w_size,n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ko)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),JW(e),r+=t),e.strm.avail_in===0)break;if(n=vx(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Rn)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ql(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ql(e,e.ins_h,e.window[i+Rn-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Rn)););}while(e.lookahead<Ko&&e.strm.avail_in!==0)},fD=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,s,o=0,a=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&t!==Hs||t===$l||r!==i+e.strm.avail_in)))break;o=t===Hs&&r===i+e.strm.avail_in?1:0,hx(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,xs(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(vx(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Td:t!==$l&&t!==Hs&&e.strm.avail_in===0&&e.strstart===e.block_start?Id:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(vx(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=n||(i||t===Hs)&&t!==$l&&e.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=t===Hs&&e.strm.avail_in===0&&r===i?1:0,hx(e,e.block_start,r,o),e.block_start+=r,xs(e.strm)),o?Jc:$i)},nx=(e,t)=>{let n,r;for(;;){if(e.lookahead<Ko){if(Ed(e),e.lookahead<Ko&&t===$l)return $i;if(e.lookahead===0)break}if(n=0,e.lookahead>=Rn&&(e.ins_h=ql(e,e.ins_h,e.window[e.strstart+Rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Ko&&(e.match_length=dD(e,n)),e.match_length>=Rn)if(r=Hl(e,e.strstart-e.match_start,e.match_length-Rn),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Rn){e.match_length--;do e.strstart++,e.ins_h=ql(e,e.ins_h,e.window[e.strstart+Rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ql(e,e.ins_h,e.window[e.strstart+1]);else r=Hl(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Es(e,!1),e.strm.avail_out===0))return $i}return e.insert=e.strstart<Rn-1?e.strstart:Rn-1,t===Hs?(Es(e,!0),e.strm.avail_out===0?Jc:Td):e.sym_next&&(Es(e,!1),e.strm.avail_out===0)?$i:Id},vd=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Ko){if(Ed(e),e.lookahead<Ko&&t===$l)return $i;if(e.lookahead===0)break}if(n=0,e.lookahead>=Rn&&(e.ins_h=ql(e,e.ins_h,e.window[e.strstart+Rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Rn-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ko&&(e.match_length=dD(e,n),e.match_length<=5&&(e.strategy===LW||e.match_length===Rn&&e.strstart-e.match_start>4096)&&(e.match_length=Rn-1)),e.prev_length>=Rn&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Rn,r=Hl(e,e.strstart-1-e.prev_match,e.prev_length-Rn),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ql(e,e.ins_h,e.window[e.strstart+Rn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Rn-1,e.strstart++,r&&(Es(e,!1),e.strm.avail_out===0))return $i}else if(e.match_available){if(r=Hl(e,0,e.window[e.strstart-1]),r&&Es(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return $i}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Hl(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Rn-1?e.strstart:Rn-1,t===Hs?(Es(e,!0),e.strm.avail_out===0?Jc:Td):e.sym_next&&(Es(e,!1),e.strm.avail_out===0)?$i:Id},eG=(e,t)=>{let n,r,i,s,o=e.window;for(;;){if(e.lookahead<=zl){if(Ed(e),e.lookahead<=zl&&t===$l)return $i;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Rn&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=e.strstart+zl;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);e.match_length=zl-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Rn?(n=Hl(e,1,e.match_length-Rn),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Hl(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Es(e,!1),e.strm.avail_out===0))return $i}return e.insert=0,t===Hs?(Es(e,!0),e.strm.avail_out===0?Jc:Td):e.sym_next&&(Es(e,!1),e.strm.avail_out===0)?$i:Id},tG=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Ed(e),e.lookahead===0)){if(t===$l)return $i;break}if(e.match_length=0,n=Hl(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Es(e,!1),e.strm.avail_out===0))return $i}return e.insert=0,t===Hs?(Es(e,!0),e.strm.avail_out===0?Jc:Td):e.sym_next&&(Es(e,!1),e.strm.avail_out===0)?$i:Id};function qo(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var dp=[new qo(0,0,0,0,fD),new qo(4,4,8,4,nx),new qo(4,5,16,8,nx),new qo(4,6,32,32,nx),new qo(4,4,16,16,vd),new qo(8,16,32,32,vd),new qo(8,16,128,128,vd),new qo(8,32,128,256,vd),new qo(32,128,258,1024,vd),new qo(32,258,258,4096,vd)],nG=e=>{e.window_size=2*e.w_size,Ul(e.head),e.max_lazy_match=dp[e.level].max_lazy,e.good_match=dp[e.level].good_length,e.nice_match=dp[e.level].nice_length,e.max_chain_length=dp[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Rn-1,e.match_available=0,e.ins_h=0};function rG(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(KW*2),this.dyn_dtree=new Uint16Array((2*WW+1)*2),this.bl_tree=new Uint16Array((2*GW+1)*2),Ul(this.dyn_ltree),Ul(this.dyn_dtree),Ul(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(YW+1),this.heap=new Uint16Array(2*px+1),Ul(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*px+1),Ul(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Sp=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.status!==xd&&t.status!==Sx&&t.status!==mx&&t.status!==gx&&t.status!==yx&&t.status!==bx&&t.status!==Yc&&t.status!==up?1:0},hD=e=>{if(Sp(e))return Zc(e,Go);e.total_in=e.total_out=0,e.data_type=VW;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Sx:t.wrap?xd:Yc,e.adler=t.wrap===2?0:1,t.last_flush=-2,kW(t),gi},pD=e=>{let t=hD(e);return t===gi&&nG(e.state),t},iG=(e,t)=>Sp(e)||e.state.wrap!==2?Go:(e.state.gzhead=t,gi),mD=(e,t,n,r,i,s)=>{if(!e)return Go;let o=1;if(t===PW&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>UW||n!==A1||r<8||r>15||t<0||t>9||s<0||s>jW||r===8&&o!==1)return Zc(e,Go);r===8&&(r=9);let a=new rG;return e.state=a,a.strm=e,a.status=xd,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Rn-1)/Rn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=s,a.method=n,pD(e)},sG=(e,t)=>mD(e,t,A1,zW,HW,BW),oG=(e,t)=>{if(Sp(e)||t>yk||t<0)return e?Zc(e,Go):Go;let n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===up&&t!==Hs)return Zc(e,e.avail_out===0?tx:Go);let r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(xs(e),e.avail_out===0)return n.last_flush=-1,gi}else if(e.avail_in===0&&vk(t)<=vk(r)&&t!==Hs)return Zc(e,tx);if(n.status===up&&e.avail_in!==0)return Zc(e,tx);if(n.status===xd&&n.wrap===0&&(n.status=Yc),n.status===xd){let i=A1+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=v1||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=ZW),i+=31-i%31,cp(n,i),n.strstart!==0&&(cp(n,e.adler>>>16),cp(n,e.adler&65535)),e.adler=1,n.status=Yc,xs(e),n.pending!==0)return n.last_flush=-1,gi}if(n.status===Sx){if(e.adler=0,Wn(n,31),Wn(n,139),Wn(n,8),n.gzhead)Wn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Wn(n,n.gzhead.time&255),Wn(n,n.gzhead.time>>8&255),Wn(n,n.gzhead.time>>16&255),Wn(n,n.gzhead.time>>24&255),Wn(n,n.level===9?2:n.strategy>=v1||n.level<2?4:0),Wn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Wn(n,n.gzhead.extra.length&255),Wn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=oi(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=mx;else if(Wn(n,0),Wn(n,0),Wn(n,0),Wn(n,0),Wn(n,0),Wn(n,n.level===9?2:n.strategy>=v1||n.level<2?4:0),Wn(n,XW),n.status=Yc,xs(e),n.pending!==0)return n.last_flush=-1,gi}if(n.status===mx){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=oi(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,xs(e),n.pending!==0)return n.last_flush=-1,gi;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(e.adler=oi(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=gx}if(n.status===gx){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=oi(e.adler,n.pending_buf,n.pending-i,i)),xs(e),n.pending!==0)return n.last_flush=-1,gi;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Wn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=oi(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=yx}if(n.status===yx){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=oi(e.adler,n.pending_buf,n.pending-i,i)),xs(e),n.pending!==0)return n.last_flush=-1,gi;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Wn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=oi(e.adler,n.pending_buf,n.pending-i,i))}n.status=bx}if(n.status===bx){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(xs(e),n.pending!==0))return n.last_flush=-1,gi;Wn(n,e.adler&255),Wn(n,e.adler>>8&255),e.adler=0}if(n.status=Yc,xs(e),n.pending!==0)return n.last_flush=-1,gi}if(e.avail_in!==0||n.lookahead!==0||t!==$l&&n.status!==up){let i=n.level===0?fD(n,t):n.strategy===v1?tG(n,t):n.strategy===FW?eG(n,t):dp[n.level].func(n,t);if((i===Jc||i===Td)&&(n.status=up),i===$i||i===Jc)return e.avail_out===0&&(n.last_flush=-1),gi;if(i===Id&&(t===MW?NW(n):t!==yk&&(hx(n,0,0,!1),t===RW&&(Ul(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),xs(e),e.avail_out===0))return n.last_flush=-1,gi}return t!==Hs?gi:n.wrap<=0?bk:(n.wrap===2?(Wn(n,e.adler&255),Wn(n,e.adler>>8&255),Wn(n,e.adler>>16&255),Wn(n,e.adler>>24&255),Wn(n,e.total_in&255),Wn(n,e.total_in>>8&255),Wn(n,e.total_in>>16&255),Wn(n,e.total_in>>24&255)):(cp(n,e.adler>>>16),cp(n,e.adler&65535)),xs(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?gi:bk)},aG=e=>{if(Sp(e))return Go;let t=e.state.status;return e.state=null,t===Yc?Zc(e,OW):gi},lG=(e,t)=>{let n=t.length;if(Sp(e))return Go;let r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==xd||r.lookahead)return Go;if(i===1&&(e.adler=vp(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(Ul(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}let s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ed(r);r.lookahead>=Rn;){let l=r.strstart,c=r.lookahead-(Rn-1);do r.ins_h=ql(r,r.ins_h,r.window[l+Rn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=Rn-1,Ed(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Rn-1,r.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,r.wrap=i,gi},cG=sG,uG=mD,dG=pD,fG=hD,hG=iG,pG=oG,mG=aG,gG=lG,yG="pako deflate (from Nodeca project)",hp={deflateInit:cG,deflateInit2:uG,deflateReset:dG,deflateResetKeep:fG,deflateSetHeader:hG,deflate:pG,deflateEnd:mG,deflateSetDictionary:gG,deflateInfo:yG},bG=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),vG=function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(let r in n)bG(n,r)&&(e[r]=n[r])}}return e},_G=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;let n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let o=e[r];n.set(o,i),i+=o.length}return n},k1={assign:vG,flattenChunks:_G},gD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gD=!1}var _p=new Uint8Array(256);for(let e=0;e<256;e++)_p[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_p[254]=_p[254]=1;var wG=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,o=e.length,a=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t},xG=(e,t)=>{if(t<65534&&e.subarray&&gD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},EG=(e,t)=>{let n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i,s=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){s[i++]=o;continue}let a=_p[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|e[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return xG(s,i)},SG=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+_p[e[n]]>t?n:t},wp={string2buf:wG,buf2string:EG,utf8border:SG};function CG(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var yD=CG,bD=Object.prototype.toString,{Z_NO_FLUSH:IG,Z_SYNC_FLUSH:TG,Z_FULL_FLUSH:AG,Z_FINISH:kG,Z_OK:I1,Z_STREAM_END:DG,Z_DEFAULT_COMPRESSION:NG,Z_DEFAULT_STRATEGY:MG,Z_DEFLATED:RG}=Cd;function Cp(e){this.options=k1.assign({level:NG,method:RG,chunkSize:16384,windowBits:15,memLevel:8,strategy:MG},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yD,this.strm.avail_out=0;let n=hp.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==I1)throw new Error(Xc[n]);if(t.header&&hp.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=wp.string2buf(t.dictionary):bD.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=hp.deflateSetDictionary(this.strm,r),n!==I1)throw new Error(Xc[n]);this._dict_set=!0}}Cp.prototype.push=function(e,t){let n=this.strm,r=this.options.chunkSize,i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?kG:IG,typeof e=="string"?n.input=wp.string2buf(e):bD.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===TG||s===AG)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=hp.deflate(n,s),i===DG)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=hp.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===I1;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Cp.prototype.onData=function(e){this.chunks.push(e)};Cp.prototype.onEnd=function(e){e===I1&&(this.result=k1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Cx(e,t){let n=new Cp(t);if(n.push(e,!0),n.err)throw n.msg||Xc[n.err];return n.result}function OG(e,t){return t=t||{},t.raw=!0,Cx(e,t)}function PG(e,t){return t=t||{},t.gzip=!0,Cx(e,t)}var LG=Cp,FG=Cx,jG=OG,BG=PG,VG=Cd,UG={Deflate:LG,deflate:FG,deflateRaw:jG,gzip:BG,constants:VG},_1=16209,zG=16191,HG=function(t,n){let r,i,s,o,a,l,c,u,d,h,f,p,g,y,v,S,k,M,z,F,j,B,U,V,E=t.state;r=t.next_in,U=t.input,i=r+(t.avail_in-5),s=t.next_out,V=t.output,o=s-(n-t.avail_out),a=s+(t.avail_out-257),l=E.dmax,c=E.wsize,u=E.whave,d=E.wnext,h=E.window,f=E.hold,p=E.bits,g=E.lencode,y=E.distcode,v=(1<<E.lenbits)-1,S=(1<<E.distbits)-1;e:do{p<15&&(f+=U[r++]<<p,p+=8,f+=U[r++]<<p,p+=8),k=g[f&v];t:for(;;){if(M=k>>>24,f>>>=M,p-=M,M=k>>>16&255,M===0)V[s++]=k&65535;else if(M&16){z=k&65535,M&=15,M&&(p<M&&(f+=U[r++]<<p,p+=8),z+=f&(1<<M)-1,f>>>=M,p-=M),p<15&&(f+=U[r++]<<p,p+=8,f+=U[r++]<<p,p+=8),k=y[f&S];n:for(;;){if(M=k>>>24,f>>>=M,p-=M,M=k>>>16&255,M&16){if(F=k&65535,M&=15,p<M&&(f+=U[r++]<<p,p+=8,p<M&&(f+=U[r++]<<p,p+=8)),F+=f&(1<<M)-1,F>l){t.msg="invalid distance too far back",E.mode=_1;break e}if(f>>>=M,p-=M,M=s-o,F>M){if(M=F-M,M>u&&E.sane){t.msg="invalid distance too far back",E.mode=_1;break e}if(j=0,B=h,d===0){if(j+=c-M,M<z){z-=M;do V[s++]=h[j++];while(--M);j=s-F,B=V}}else if(d<M){if(j+=c+d-M,M-=d,M<z){z-=M;do V[s++]=h[j++];while(--M);if(j=0,d<z){M=d,z-=M;do V[s++]=h[j++];while(--M);j=s-F,B=V}}}else if(j+=d-M,M<z){z-=M;do V[s++]=h[j++];while(--M);j=s-F,B=V}for(;z>2;)V[s++]=B[j++],V[s++]=B[j++],V[s++]=B[j++],z-=3;z&&(V[s++]=B[j++],z>1&&(V[s++]=B[j++]))}else{j=s-F;do V[s++]=V[j++],V[s++]=V[j++],V[s++]=V[j++],z-=3;while(z>2);z&&(V[s++]=V[j++],z>1&&(V[s++]=V[j++]))}}else if((M&64)===0){k=y[(k&65535)+(f&(1<<M)-1)];continue n}else{t.msg="invalid distance code",E.mode=_1;break e}break}}else if((M&64)===0){k=g[(k&65535)+(f&(1<<M)-1)];continue t}else if(M&32){E.mode=zG;break e}else{t.msg="invalid literal/length code",E.mode=_1;break e}break}}while(r<i&&s<a);z=p>>3,r-=z,p-=z<<3,f&=(1<<p)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<a?257+(a-s):257-(s-a),E.hold=f,E.bits=p},_d=15,_k=852,wk=592,xk=0,rx=1,Ek=2,$G=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),qG=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WG=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),GG=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),KG=(e,t,n,r,i,s,o,a)=>{let l=a.bits,c=0,u=0,d=0,h=0,f=0,p=0,g=0,y=0,v=0,S=0,k,M,z,F,j,B=null,U,V=new Uint16Array(_d+1),E=new Uint16Array(_d+1),C=null,R,m,b;for(c=0;c<=_d;c++)V[c]=0;for(u=0;u<r;u++)V[t[n+u]]++;for(f=l,h=_d;h>=1&&V[h]===0;h--);if(f>h&&(f=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<h&&V[d]===0;d++);for(f<d&&(f=d),y=1,c=1;c<=_d;c++)if(y<<=1,y-=V[c],y<0)return-1;if(y>0&&(e===xk||h!==1))return-1;for(E[1]=0,c=1;c<_d;c++)E[c+1]=E[c]+V[c];for(u=0;u<r;u++)t[n+u]!==0&&(o[E[t[n+u]]++]=u);if(e===xk?(B=C=o,U=20):e===rx?(B=$G,C=qG,U=257):(B=WG,C=GG,U=0),S=0,u=0,c=d,j=s,p=f,g=0,z=-1,v=1<<f,F=v-1,e===rx&&v>_k||e===Ek&&v>wk)return 1;for(;;){R=c-g,o[u]+1<U?(m=0,b=o[u]):o[u]>=U?(m=C[o[u]-U],b=B[o[u]-U]):(m=96,b=0),k=1<<c-g,M=1<<p,d=M;do M-=k,i[j+(S>>g)+M]=R<<24|m<<16|b|0;while(M!==0);for(k=1<<c-1;S&k;)k>>=1;if(k!==0?(S&=k-1,S+=k):S=0,u++,--V[c]===0){if(c===h)break;c=t[n+o[u]]}if(c>f&&(S&F)!==z){for(g===0&&(g=f),j+=d,p=c-g,y=1<<p;p+g<h&&(y-=V[p+g],!(y<=0));)p++,y<<=1;if(v+=1<<p,e===rx&&v>_k||e===Ek&&v>wk)return 1;z=S&F,i[z]=f<<24|p<<16|j-s|0}}return S!==0&&(i[j+S]=c-g<<24|64<<16|0),a.bits=f,0},pp=KG,YG=0,vD=1,_D=2,{Z_FINISH:Sk,Z_BLOCK:ZG,Z_TREES:w1,Z_OK:Qc,Z_STREAM_END:XG,Z_NEED_DICT:JG,Z_STREAM_ERROR:$s,Z_DATA_ERROR:wD,Z_MEM_ERROR:xD,Z_BUF_ERROR:QG,Z_DEFLATED:Ck}=Cd,D1=16180,Ik=16181,Tk=16182,Ak=16183,kk=16184,Dk=16185,Nk=16186,Mk=16187,Rk=16188,Ok=16189,T1=16190,Ga=16191,ix=16192,Pk=16193,sx=16194,Lk=16195,Fk=16196,jk=16197,Bk=16198,x1=16199,E1=16200,Vk=16201,Uk=16202,zk=16203,Hk=16204,$k=16205,ox=16206,qk=16207,Wk=16208,br=16209,ED=16210,SD=16211,eK=852,tK=592,nK=15,rK=nK,Gk=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function iK(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var eu=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.mode<D1||t.mode>SD?1:0},CD=e=>{if(eu(e))return $s;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=D1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(eK),t.distcode=t.distdyn=new Int32Array(tK),t.sane=1,t.back=-1,Qc},ID=e=>{if(eu(e))return $s;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,CD(e)},TD=(e,t)=>{let n;if(eu(e))return $s;let r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?$s:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ID(e))},AD=(e,t)=>{if(!e)return $s;let n=new iK;e.state=n,n.strm=e,n.window=null,n.mode=D1;let r=TD(e,t);return r!==Qc&&(e.state=null),r},sK=e=>AD(e,rK),Kk=!0,ax,lx,oK=e=>{if(Kk){ax=new Int32Array(512),lx=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(pp(vD,e.lens,0,288,ax,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;pp(_D,e.lens,0,32,lx,0,e.work,{bits:5}),Kk=!1}e.lencode=ax,e.lenbits=9,e.distcode=lx,e.distbits=5},kD=(e,t,n,r)=>{let i,s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},aK=(e,t)=>{let n,r,i,s,o,a,l,c,u,d,h,f,p,g,y=0,v,S,k,M,z,F,j,B,U=new Uint8Array(4),V,E,C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(eu(e)||!e.output||!e.input&&e.avail_in!==0)return $s;n=e.state,n.mode===Ga&&(n.mode=ix),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,h=l,B=Qc;e:for(;;)switch(n.mode){case D1:if(n.wrap===0){n.mode=ix;break}for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,U[0]=c&255,U[1]=c>>>8&255,n.check=oi(n.check,U,2,0),c=0,u=0,n.mode=Ik;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=br;break}if((c&15)!==Ck){e.msg="unknown compression method",n.mode=br;break}if(c>>>=4,u-=4,j=(c&15)+8,n.wbits===0&&(n.wbits=j),j>15||j>n.wbits){e.msg="invalid window size",n.mode=br;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?Ok:Ga,c=0,u=0;break;case Ik:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==Ck){e.msg="unknown compression method",n.mode=br;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=br;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,n.check=oi(n.check,U,2,0)),c=0,u=0,n.mode=Tk;case Tk:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,U[2]=c>>>16&255,U[3]=c>>>24&255,n.check=oi(n.check,U,4,0)),c=0,u=0,n.mode=Ak;case Ak:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,n.check=oi(n.check,U,2,0)),c=0,u=0,n.mode=kk;case kk:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(U[0]=c&255,U[1]=c>>>8&255,n.check=oi(n.check,U,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=Dk;case Dk:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+f),j)),n.flags&512&&n.wrap&4&&(n.check=oi(n.check,r,f,s)),a-=f,s+=f,n.length-=f),n.length))break e;n.length=0,n.mode=Nk;case Nk:if(n.flags&2048){if(a===0)break e;f=0;do j=r[s+f++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j));while(j&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=oi(n.check,r,f,s)),a-=f,s+=f,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Mk;case Mk:if(n.flags&4096){if(a===0)break e;f=0;do j=r[s+f++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j));while(j&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=oi(n.check,r,f,s)),a-=f,s+=f,j)break e}else n.head&&(n.head.comment=null);n.mode=Rk;case Rk:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=br;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ga;break;case Ok:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}e.adler=n.check=Gk(c),c=0,u=0,n.mode=T1;case T1:if(n.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,JG;e.adler=n.check=1,n.mode=Ga;case Ga:if(t===ZG||t===w1)break e;case ix:if(n.last){c>>>=u&7,u-=u&7,n.mode=ox;break}for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=Pk;break;case 1:if(oK(n),n.mode=x1,t===w1){c>>>=2,u-=2;break e}break;case 2:n.mode=Fk;break;case 3:e.msg="invalid block type",n.mode=br}c>>>=2,u-=2;break;case Pk:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=br;break}if(n.length=c&65535,c=0,u=0,n.mode=sx,t===w1)break e;case sx:n.mode=Lk;case Lk:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(r.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,n.length-=f;break}n.mode=Ga;break;case Fk:for(;u<14;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=br;break}n.have=0,n.mode=jk;case jk:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.lens[C[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,V={bits:n.lenbits},B=pp(YG,n.lens,0,19,n.lencode,0,n.work,V),n.lenbits=V.bits,B){e.msg="invalid code lengths set",n.mode=br;break}n.have=0,n.mode=Bk;case Bk:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[c&(1<<n.lenbits)-1],v=y>>>24,S=y>>>16&255,k=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(k<16)c>>>=v,u-=v,n.lens[n.have++]=k;else{if(k===16){for(E=v+2;u<E;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(c>>>=v,u-=v,n.have===0){e.msg="invalid bit length repeat",n.mode=br;break}j=n.lens[n.have-1],f=3+(c&3),c>>>=2,u-=2}else if(k===17){for(E=v+3;u<E;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=v,u-=v,j=0,f=3+(c&7),c>>>=3,u-=3}else{for(E=v+7;u<E;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=v,u-=v,j=0,f=11+(c&127),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=br;break}for(;f--;)n.lens[n.have++]=j}}if(n.mode===br)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=br;break}if(n.lenbits=9,V={bits:n.lenbits},B=pp(vD,n.lens,0,n.nlen,n.lencode,0,n.work,V),n.lenbits=V.bits,B){e.msg="invalid literal/lengths set",n.mode=br;break}if(n.distbits=6,n.distcode=n.distdyn,V={bits:n.distbits},B=pp(_D,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,V),n.distbits=V.bits,B){e.msg="invalid distances set",n.mode=br;break}if(n.mode=x1,t===w1)break e;case x1:n.mode=E1;case E1:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,HG(e,h),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===Ga&&(n.back=-1);break}for(n.back=0;y=n.lencode[c&(1<<n.lenbits)-1],v=y>>>24,S=y>>>16&255,k=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(S&&(S&240)===0){for(M=v,z=S,F=k;y=n.lencode[F+((c&(1<<M+z)-1)>>M)],v=y>>>24,S=y>>>16&255,k=y&65535,!(M+v<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=M,u-=M,n.back+=M}if(c>>>=v,u-=v,n.back+=v,n.length=k,S===0){n.mode=$k;break}if(S&32){n.back=-1,n.mode=Ga;break}if(S&64){e.msg="invalid literal/length code",n.mode=br;break}n.extra=S&15,n.mode=Vk;case Vk:if(n.extra){for(E=n.extra;u<E;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Uk;case Uk:for(;y=n.distcode[c&(1<<n.distbits)-1],v=y>>>24,S=y>>>16&255,k=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((S&240)===0){for(M=v,z=S,F=k;y=n.distcode[F+((c&(1<<M+z)-1)>>M)],v=y>>>24,S=y>>>16&255,k=y&65535,!(M+v<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=M,u-=M,n.back+=M}if(c>>>=v,u-=v,n.back+=v,S&64){e.msg="invalid distance code",n.mode=br;break}n.offset=k,n.extra=S&15,n.mode=zk;case zk:if(n.extra){for(E=n.extra;u<E;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=br;break}n.mode=Hk;case Hk:if(l===0)break e;if(f=h-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=br;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=i,p=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[o++]=g[p++];while(--f);n.length===0&&(n.mode=E1);break;case $k:if(l===0)break e;i[o++]=n.length,l--,n.mode=E1;break;case ox:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[s++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?oi(n.check,i,h,o-h):vp(n.check,i,h,o-h)),h=l,n.wrap&4&&(n.flags?c:Gk(c))!==n.check){e.msg="incorrect data check",n.mode=br;break}c=0,u=0}n.mode=qk;case qk:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=br;break}c=0,u=0}n.mode=Wk;case Wk:B=XG;break e;case br:B=wD;break e;case ED:return xD;case SD:default:return $s}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<br&&(n.mode<ox||t!==Sk))&&kD(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?oi(n.check,i,h,e.next_out-h):vp(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ga?128:0)+(n.mode===x1||n.mode===sx?256:0),(d===0&&h===0||t===Sk)&&B===Qc&&(B=QG),B},lK=e=>{if(eu(e))return $s;let t=e.state;return t.window&&(t.window=null),e.state=null,Qc},cK=(e,t)=>{if(eu(e))return $s;let n=e.state;return(n.wrap&2)===0?$s:(n.head=t,t.done=!1,Qc)},uK=(e,t)=>{let n=t.length,r,i,s;return eu(e)||(r=e.state,r.wrap!==0&&r.mode!==T1)?$s:r.mode===T1&&(i=1,i=vp(i,t,n,0),i!==r.check)?wD:(s=kD(e,t,n,n),s?(r.mode=ED,xD):(r.havedict=1,Qc))},dK=ID,fK=TD,hK=CD,pK=sK,mK=AD,gK=aK,yK=lK,bK=cK,vK=uK,_K="pako inflate (from Nodeca project)",Ya={inflateReset:dK,inflateReset2:fK,inflateResetKeep:hK,inflateInit:pK,inflateInit2:mK,inflate:gK,inflateEnd:yK,inflateGetHeader:bK,inflateSetDictionary:vK,inflateInfo:_K};function wK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xK=wK,DD=Object.prototype.toString,{Z_NO_FLUSH:EK,Z_FINISH:SK,Z_OK:xp,Z_STREAM_END:cx,Z_NEED_DICT:ux,Z_STREAM_ERROR:CK,Z_DATA_ERROR:Yk,Z_MEM_ERROR:IK}=Cd;function Ip(e){this.options=k1.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yD,this.strm.avail_out=0;let n=Ya.inflateInit2(this.strm,t.windowBits);if(n!==xp)throw new Error(Xc[n]);if(this.header=new xK,Ya.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=wp.string2buf(t.dictionary):DD.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Ya.inflateSetDictionary(this.strm,t.dictionary),n!==xp)))throw new Error(Xc[n])}Ip.prototype.push=function(e,t){let n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?SK:EK,DD.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Ya.inflate(n,o),s===ux&&i&&(s=Ya.inflateSetDictionary(n,i),s===xp?s=Ya.inflate(n,o):s===Yk&&(s=ux));n.avail_in>0&&s===cx&&n.state.wrap>0&&e[n.next_in]!==0;)Ya.inflateReset(n),s=Ya.inflate(n,o);switch(s){case CK:case Yk:case ux:case IK:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===cx))if(this.options.to==="string"){let l=wp.utf8border(n.output,n.next_out),c=n.next_out-l,u=wp.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===xp&&a===0)){if(s===cx)return s=Ya.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Ip.prototype.onData=function(e){this.chunks.push(e)};Ip.prototype.onEnd=function(e){e===xp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=k1.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ix(e,t){let n=new Ip(t);if(n.push(e),n.err)throw n.msg||Xc[n.err];return n.result}function TK(e,t){return t=t||{},t.raw=!0,Ix(e,t)}var AK=Ip,kK=Ix,DK=TK,NK=Ix,MK=Cd,RK={Inflate:AK,inflate:kK,inflateRaw:DK,ungzip:NK,constants:MK},{Deflate:Gae,deflate:Kae,deflateRaw:Yae,gzip:Zae}=UG,{Inflate:OK,inflate:PK,inflateRaw:Xae,ungzip:Jae}=RK;var Tx=OK,ND=PK;var RD=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;RD[e]=t}var MD=4294967295;function LK(e,t,n){let r=e;for(let i=0;i<n;i++)r=RD[(r^t[i])&255]^r>>>8;return r}function FK(e,t){return(LK(MD,e,t)^MD)>>>0}function Ax(e,t,n){let r=e.readUint32(),i=FK(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function N1(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function M1(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function R1(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function O1(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-i]+n[s]>>1)&255}}function P1(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+n[s]&255;for(;s<r;s++)t[s]=e[s]+jK(t[s-i],n[s],n[s-i])&255}}function jK(e,t,n){let r=e+t-n,i=Math.abs(r-e),s=Math.abs(r-t),o=Math.abs(r-n);return i<=s&&i<=o?e:s<=o?t:n}function OD(e,t,n,r,i,s){switch(e){case 0:N1(t,n,i);break;case 1:M1(t,n,i,s);break;case 2:R1(t,n,r,i);break;case 3:O1(t,n,r,i,s);break;case 4:P1(t,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}var BK=new Uint16Array([255]),VK=new Uint8Array(BK.buffer),UK=VK[0]===255;function PD(e){let{data:t,width:n,height:r,channels:i,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a),c=0;for(let u=0;u<7;u++){let d=o[u],h=Math.ceil((n-d.x)/d.xStep),f=Math.ceil((r-d.y)/d.yStep);if(h<=0||f<=0)continue;let p=h*a,g=new Uint8Array(p);for(let y=0;y<f;y++){let v=t[c++],S=t.subarray(c,c+p);c+=p;let k=new Uint8Array(p);OD(v,S,k,g,p,a),g.set(k);for(let M=0;M<h;M++){let z=d.x+M*d.xStep,F=d.y+y*d.yStep;if(!(z>=n||F>=r))for(let j=0;j<a;j++)l[(F*n+z)*a+j]=k[M*a+j]}}}if(s===16){let u=new Uint16Array(l.buffer);if(UK)for(let d=0;d<u.length;d++)u[d]=zK(u[d]);return u}else return l}function zK(e){return(e&255)<<8|e>>8&255}var HK=new Uint16Array([255]),$K=new Uint8Array(HK.buffer),qK=$K[0]===255,WK=new Uint8Array(0);function kx(e){let{data:t,width:n,height:r,channels:i,depth:s}=e,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a),c=WK,u=0,d,h;for(let f=0;f<r;f++){switch(d=t.subarray(u+1,u+1+a),h=l.subarray(f*a,(f+1)*a),t[u]){case 0:N1(d,h,a);break;case 1:M1(d,h,a,o);break;case 2:R1(d,h,c,a);break;case 3:O1(d,h,c,a,o);break;case 4:P1(d,h,c,a,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=h,u+=a+1}if(s===16){let f=new Uint16Array(l.buffer);if(qK)for(let p=0;p<f.length;p++)f[p]=GK(f[p]);return f}else return l}function GK(e){return(e&255)<<8|e>>8&255}var L1=Uint8Array.of(137,80,78,71,13,10,26,10);function Dx(e){if(!LD(e.readBytes(L1.length)))throw new Error("wrong PNG signature")}function LD(e){if(e.length<L1.length)return!1;for(let t=0;t<L1.length;t++)if(e[t]!==L1[t])return!1;return!0}var FD="tEXt",YK=0,jD=new TextDecoder("latin1");function ZK(e){if(JK(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}var XK=/^[\u0000-\u00FF]*$/;function JK(e){if(!XK.test(e))throw new Error("invalid latin1 text")}function BD(e,t,n){let r=Nx(t);e[r]=QK(t,n-r.length-1)}function Nx(e){for(e.mark();e.readByte()!==YK;);let t=e.offset;e.reset();let n=jD.decode(e.readBytes(t-e.offset-1));return e.skip(1),ZK(n),n}function QK(e,t){return jD.decode(e.readBytes(t))}var qi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Tp={UNKNOWN:-1,DEFLATE:0},F1={UNKNOWN:-1,ADAPTIVE:0},Ap={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},kp={NONE:0,BACKGROUND:1,PREVIOUS:2},j1={SOURCE:0,OVER:1};var B1=class extends lp{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,n={}){super(t);let{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new Tx,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Tp.UNKNOWN,this._filterMethod=F1.UNKNOWN,this._interlaceMethod=Ap.UNKNOWN,this._colorType=qi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Dx(this);!this._end;){let t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(Dx(this);!this._end;){let t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){let r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case FD:BD(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Ax(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){let r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Ax(this,t+4,n):this.skip(4)}decodeIHDR(){let t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=eY(this.readUint8());let n=this.readUint8();this._colorType=n;let r;switch(n){case qi.GREYSCALE:r=1;break;case qi.TRUECOLOUR:r=3;break;case qi.INDEXED_COLOUR:r=1;break;case qi.GREYSCALE_ALPHA:r=2;break;case qi.TRUECOLOUR_ALPHA:r=4;break;case qi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Tp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);let n=t/3;this._hasPalette=!0;let r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;let n=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case qi.GREYSCALE:case qi.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case qi.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){let r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case qi.UNKNOWN:case qi.GREYSCALE_ALPHA:case qi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){let n=Nx(this),r=this.readUint8();if(r!==Tp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);let i=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:ND(i)}}decodepHYs(){let t=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){let n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=kx({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{let i=this._apng.frames.at(t-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,r){switch(t.disposeOp){case kp.NONE:break;case kp.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){let o=(i*t.width+s)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[o+a]=0}break;case kp.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){let r=1<<this._png.depth,i=(s,o)=>{let a=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,l=(s*n.width+o)*this._png.channels;return{index:a,frameIndex:l}};switch(n.blendOp){case j1.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){let{index:a,frameIndex:l}=i(s,o);for(let c=0;c<this._png.channels;c++)t.data[a+c]=n.data[l+c]}break;case j1.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){let{index:a,frameIndex:l}=i(s,o);for(let c=0;c<this._png.channels;c++){let u=n.data[l+this._png.channels-1]/r,d=c%(this._png.channels-1)===0?1:n.data[l+c],h=Math.floor(u*d+(1-u)*t.data[a+c]);t.data[a+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==F1.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ap.NO_INTERLACE)this._png.data=kx({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ap.ADAM7)this._png.data=PD({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:kp.NONE,blendOp:j1.SOURCE,data:t}),this._inflator=new Tx,this._writingDataChunks=!1}};function eY(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}function VD(e,t){return new B1(e,t).decode()}var Jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Mx(){Jt.console&&typeof Jt.console.log=="function"&&Jt.console.log.apply(Jt.console,arguments)}var ir={log:Mx,warn:function(e){Jt.console&&(typeof Jt.console.warn=="function"?Jt.console.warn.apply(Jt.console,arguments):Mx.call(null,arguments))},error:function(e){Jt.console&&(typeof Jt.console.error=="function"?Jt.console.error.apply(Jt.console,arguments):Mx(e))}};function Rx(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){tu(r.response,t,n)},r.onerror=function(){ir.error("could not download file")},r.send()}function UD(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function V1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var tu=Jt.saveAs||((typeof window>"u"?"undefined":Zn(window))!=="object"||window!==Jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Jt.URL||Jt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?UD(i.href)?Rx(e,t,n):V1(i,i.target="_blank"):V1(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){V1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(UD(e))Rx(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){V1(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Zn(s)!=="object"&&(ir.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Rx(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(Jt.HTMLElement)||Jt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Zn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(e)}else{var l=Jt.URL||Jt.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function cN(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var H1=Jt.atob.bind(Jt),zD=Jt.btoa.bind(Jt);function Ox(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Ai(n,r,i,s,t[0],7,-680876936),s=Ai(s,n,r,i,t[1],12,-389564586),i=Ai(i,s,n,r,t[2],17,606105819),r=Ai(r,i,s,n,t[3],22,-1044525330),n=Ai(n,r,i,s,t[4],7,-176418897),s=Ai(s,n,r,i,t[5],12,1200080426),i=Ai(i,s,n,r,t[6],17,-1473231341),r=Ai(r,i,s,n,t[7],22,-45705983),n=Ai(n,r,i,s,t[8],7,1770035416),s=Ai(s,n,r,i,t[9],12,-1958414417),i=Ai(i,s,n,r,t[10],17,-42063),r=Ai(r,i,s,n,t[11],22,-1990404162),n=Ai(n,r,i,s,t[12],7,1804603682),s=Ai(s,n,r,i,t[13],12,-40341101),i=Ai(i,s,n,r,t[14],17,-1502002290),n=ki(n,r=Ai(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=ki(s,n,r,i,t[6],9,-1069501632),i=ki(i,s,n,r,t[11],14,643717713),r=ki(r,i,s,n,t[0],20,-373897302),n=ki(n,r,i,s,t[5],5,-701558691),s=ki(s,n,r,i,t[10],9,38016083),i=ki(i,s,n,r,t[15],14,-660478335),r=ki(r,i,s,n,t[4],20,-405537848),n=ki(n,r,i,s,t[9],5,568446438),s=ki(s,n,r,i,t[14],9,-1019803690),i=ki(i,s,n,r,t[3],14,-187363961),r=ki(r,i,s,n,t[8],20,1163531501),n=ki(n,r,i,s,t[13],5,-1444681467),s=ki(s,n,r,i,t[2],9,-51403784),i=ki(i,s,n,r,t[7],14,1735328473),n=Di(n,r=ki(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Di(s,n,r,i,t[8],11,-2022574463),i=Di(i,s,n,r,t[11],16,1839030562),r=Di(r,i,s,n,t[14],23,-35309556),n=Di(n,r,i,s,t[1],4,-1530992060),s=Di(s,n,r,i,t[4],11,1272893353),i=Di(i,s,n,r,t[7],16,-155497632),r=Di(r,i,s,n,t[10],23,-1094730640),n=Di(n,r,i,s,t[13],4,681279174),s=Di(s,n,r,i,t[0],11,-358537222),i=Di(i,s,n,r,t[3],16,-722521979),r=Di(r,i,s,n,t[6],23,76029189),n=Di(n,r,i,s,t[9],4,-640364487),s=Di(s,n,r,i,t[12],11,-421815835),i=Di(i,s,n,r,t[15],16,530742520),n=Ni(n,r=Di(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Ni(s,n,r,i,t[7],10,1126891415),i=Ni(i,s,n,r,t[14],15,-1416354905),r=Ni(r,i,s,n,t[5],21,-57434055),n=Ni(n,r,i,s,t[12],6,1700485571),s=Ni(s,n,r,i,t[3],10,-1894986606),i=Ni(i,s,n,r,t[10],15,-1051523),r=Ni(r,i,s,n,t[1],21,-2054922799),n=Ni(n,r,i,s,t[8],6,1873313359),s=Ni(s,n,r,i,t[15],10,-30611744),i=Ni(i,s,n,r,t[6],15,-1560198380),r=Ni(r,i,s,n,t[13],21,1309151649),n=Ni(n,r,i,s,t[4],6,-145523070),s=Ni(s,n,r,i,t[11],10,-1120210379),i=Ni(i,s,n,r,t[2],15,718787259),r=Ni(r,i,s,n,t[9],21,-343485551),e[0]=Gl(n,e[0]),e[1]=Gl(r,e[1]),e[2]=Gl(i,e[2]),e[3]=Gl(s,e[3])}function X1(e,t,n,r,i,s){return t=Gl(Gl(t,e),Gl(r,s)),Gl(t<<i|t>>>32-i,n)}function Ai(e,t,n,r,i,s,o){return X1(t&n|~t&r,e,t,i,s,o)}function ki(e,t,n,r,i,s,o){return X1(t&r|n&~r,e,t,i,s,o)}function Di(e,t,n,r,i,s,o){return X1(t^n^r,e,t,i,s,o)}function Ni(e,t,n,r,i,s,o){return X1(n^(t|~r),e,t,i,s,o)}function uN(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ox(r,tY(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Ox(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Ox(r,i),r}function tY(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var HD="0123456789abcdef".split("");function nY(e){for(var t="",n=0;n<4;n++)t+=HD[e>>8*n+4&15]+HD[e>>8*n&15];return t}function rY(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Vx(e){return uN(e).map(rY).join("")}var iY=function(e){for(var t=0;t<e.length;t++)e[t]=nY(e[t]);return e.join("")}(uN("hello"))!="5d41402abc4b2a76b9719d911017c592";function Gl(e,t){if(iY){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Ux(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=e,r=a}else a=r;var d=t.length,h=0,f=0,p="";for(l=0;l<d;l++)f=(f+(u=a[h=(h+1)%256]))%256,a[h]=a[f],a[f]=u,o=a[(a[h]+a[f])%256],p+=String.fromCharCode(t.charCodeAt(l)^o);return p}var $D={print:4,modify:8,copy:16,"annot-forms":32};function Dd(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if($D.perm!==void 0)throw new Error("Invalid permission: "+a);i+=$D[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Vx(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ux(this.encryptionKey,this.padding)}function Nd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function qD(e){if(Zn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){Jt.console&&ir.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function K1(e){if(!(this instanceof K1))return new K1(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function dN(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function nu(e,t,n,r,i){if(!(this instanceof nu))return new nu(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,dN.call(this,r,i)}function Md(e,t,n,r,i){if(!(this instanceof Md))return new Md(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,dN.call(this,r,i)}function Ft(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;Zn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=qD;var p="1.3",g=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(q){p=q};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return y};var v=f.__private__.getPageFormat=function(q){return y[q]};i=i||"a4";var S="compat",k="advanced",M=S;function z(){this.saveGraphicsState(),K(new Nt(Ke,0,0,-Ke,0,tc()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),c="n",M=k}function F(){this.restoreGraphicsState(),c="S",M=S}var j=f.__private__.combineFontStyleAndFontWeight=function(q,ee){if(q=="bold"&&ee=="normal"||q=="bold"&&ee==400||q=="normal"&&ee=="italic"||q=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(q=ee==400||ee==="normal"?q==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||q!=="normal"?(ee==700?"bold":ee)+""+q:"bold"),q};f.advancedAPI=function(q){var ee=M===S;return ee&&z.call(this),typeof q!="function"||(q(this),ee&&F.call(this)),this},f.compatAPI=function(q){var ee=M===k;return ee&&F.call(this),typeof q!="function"||(q(this),ee&&z.call(this)),this},f.isAdvancedAPI=function(){return M===k};var B,U=function(q){if(M!==k)throw new Error(q+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=f.roundToPrecision=f.__private__.roundToPrecision=function(q,ee){var pe=t||ee;if(isNaN(q)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return q.toFixed(pe).replace(/0+$/,"")};B=f.hpf=f.__private__.hpf=typeof l=="number"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return V(q,l)}:l==="smart"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return V(q,q>-1&&q<1?16:5)}:function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return V(q,16)};var E=f.f2=f.__private__.f2=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f2");return V(q,2)},C=f.__private__.f3=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f3");return V(q,3)},R=f.scale=f.__private__.scale=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.scale");return M===S?q*Ke:M===k?q:void 0},m=function(q){return R(function(ee){return M===S?tc()-ee:M===k?ee:void 0}(q))};f.__private__.setPrecision=f.setPrecision=function(q){typeof parseInt(q,10)=="number"&&(t=parseInt(q,10))};var b,w="00000000000000000000000000000000",_=f.__private__.getFileId=function(){return w},x=f.__private__.setFileId=function(q){return w=q!==void 0&&/^[a-fA-F0-9]{32}$/.test(q)?q.toUpperCase():w.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(gr=new Dd(u.userPermissions,u.userPassword,u.ownerPassword,w)),w};f.setFileId=function(q){return x(q),this},f.getFileId=function(){return _()};var I=f.__private__.convertDateToPDFDate=function(q){var ee=q.getTimezoneOffset(),pe=ee<0?"+":"-",Ee=Math.floor(Math.abs(ee/60)),Ie=Math.abs(ee%60),$e=[pe,D(Ee),"'",D(Ie),"'"].join("");return["D:",q.getFullYear(),D(q.getMonth()+1),D(q.getDate()),D(q.getHours()),D(q.getMinutes()),D(q.getSeconds()),$e].join("")},O=f.__private__.convertPDFDateToDate=function(q){var ee=parseInt(q.substr(2,4),10),pe=parseInt(q.substr(6,2),10)-1,Ee=parseInt(q.substr(8,2),10),Ie=parseInt(q.substr(10,2),10),$e=parseInt(q.substr(12,2),10),Je=parseInt(q.substr(14,2),10);return new Date(ee,pe,Ee,Ie,$e,Je,0)},$=f.__private__.setCreationDate=function(q){var ee;if(q===void 0&&(q=new Date),q instanceof Date)ee=I(q);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(q))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=q}return b=ee},P=f.__private__.getCreationDate=function(q){var ee=b;return q==="jsDate"&&(ee=O(b)),ee};f.setCreationDate=function(q){return $(q),this},f.getCreationDate=function(q){return P(q)};var G,D=f.__private__.padd2=function(q){return("0"+parseInt(q)).slice(-2)},W=f.__private__.padd2Hex=function(q){return("00"+(q=q.toString())).substr(q.length)},A=0,T=[],H=[],Z=0,Q=[],J=[],ne=!1,ge=H;f.__private__.setCustomOutputDestination=function(q){ne=!0,ge=q};var ye=function(q){ne||(ge=q)};f.__private__.resetCustomOutputDestination=function(){ne=!1,ge=H};var K=f.__private__.out=function(q){return q=q.toString(),Z+=q.length+1,ge.push(q),ge},ce=f.__private__.write=function(q){return K(arguments.length===1?q.toString():Array.prototype.join.call(arguments," "))},ue=f.__private__.getArrayBuffer=function(q){for(var ee=q.length,pe=new ArrayBuffer(ee),Ee=new Uint8Array(pe);ee--;)Ee[ee]=q.charCodeAt(ee);return pe},ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ve};var me=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(q){return me=M===k?q/Ke:q,this};var xe,we=f.__private__.getFontSize=f.getFontSize=function(){return M===S?me:me*Ke},De=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(q){return De=q,this},f.__private__.getR2L=f.getR2L=function(){return De};var Re,Fe=f.__private__.setZoomMode=function(q){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(q))xe=q;else if(isNaN(q)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(q)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+q+'" is not recognized.');xe=q}else xe=parseInt(q,10)};f.__private__.getZoomMode=function(){return xe};var rt,je=f.__private__.setPageMode=function(q){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(q)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+q+'" is not recognized.');Re=q};f.__private__.getPageMode=function(){return Re};var Ze=f.__private__.setLayoutMode=function(q){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(q)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+q+'" is not recognized.');rt=q};f.__private__.getLayoutMode=function(){return rt},f.__private__.setDisplayMode=f.setDisplayMode=function(q,ee,pe){return Fe(q),Ze(ee),je(pe),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(q){if(Object.keys(gt).indexOf(q)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[q]},f.__private__.getDocumentProperties=function(){return gt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(q){for(var ee in gt)gt.hasOwnProperty(ee)&&q[ee]&&(gt[ee]=q[ee]);return this},f.__private__.setDocumentProperty=function(q,ee){if(Object.keys(gt).indexOf(q)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[q]=ee};var Ge,Ke,Ye,Xe,Ve,dt={},et={},ft=[],xt={},ut={},nt={},St={},bt=null,ct=0,Ct=[],ht=new qD(f),Ot=e.hotfixes||[],On={},Bt={},At=[],Nt=function q(ee,pe,Ee,Ie,$e,Je){if(!(this instanceof q))return new q(ee,pe,Ee,Ie,$e,Je);isNaN(ee)&&(ee=1),isNaN(pe)&&(pe=0),isNaN(Ee)&&(Ee=0),isNaN(Ie)&&(Ie=1),isNaN($e)&&($e=0),isNaN(Je)&&(Je=0),this._matrix=[ee,pe,Ee,Ie,$e,Je]};Object.defineProperty(Nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(Nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(Nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(Nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(Nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(Nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(Nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(Nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(Nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(Nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(Nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(Nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(Nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Nt.prototype.join=function(q){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(q)},Nt.prototype.multiply=function(q){var ee=q.sx*this.sx+q.shy*this.shx,pe=q.sx*this.shy+q.shy*this.sy,Ee=q.shx*this.sx+q.sy*this.shx,Ie=q.shx*this.shy+q.sy*this.sy,$e=q.tx*this.sx+q.ty*this.shx+this.tx,Je=q.tx*this.shy+q.ty*this.sy+this.ty;return new Nt(ee,pe,Ee,Ie,$e,Je)},Nt.prototype.decompose=function(){var q=this.sx,ee=this.shy,pe=this.shx,Ee=this.sy,Ie=this.tx,$e=this.ty,Je=Math.sqrt(q*q+ee*ee),kt=(q/=Je)*pe+(ee/=Je)*Ee;pe-=q*kt,Ee-=ee*kt;var Pt=Math.sqrt(pe*pe+Ee*Ee);return kt/=Pt,q*(Ee/=Pt)<ee*(pe/=Pt)&&(q=-q,ee=-ee,kt=-kt,Je=-Je),{scale:new Nt(Je,0,0,Pt,0,0),translate:new Nt(1,0,0,1,Ie,$e),rotate:new Nt(q,ee,-ee,q,0,0),skew:new Nt(1,0,kt,1,0,0)}},Nt.prototype.toString=function(q){return this.join(" ")},Nt.prototype.inversed=function(){var q=this.sx,ee=this.shy,pe=this.shx,Ee=this.sy,Ie=this.tx,$e=this.ty,Je=1/(q*Ee-ee*pe),kt=Ee*Je,Pt=-ee*Je,Qt=-pe*Je,ln=q*Je;return new Nt(kt,Pt,Qt,ln,-kt*Ie-Qt*$e,-Pt*Ie-ln*$e)},Nt.prototype.applyToPoint=function(q){var ee=q.x*this.sx+q.y*this.shx+this.tx,pe=q.x*this.shy+q.y*this.sy+this.ty;return new ia(ee,pe)},Nt.prototype.applyToRectangle=function(q){var ee=this.applyToPoint(q),pe=this.applyToPoint(new ia(q.x+q.w,q.y+q.h));return new qd(ee.x,ee.y,pe.x-ee.x,pe.y-ee.y)},Nt.prototype.clone=function(){var q=this.sx,ee=this.shy,pe=this.shx,Ee=this.sy,Ie=this.tx,$e=this.ty;return new Nt(q,ee,pe,Ee,Ie,$e)},f.Matrix=Nt;var Vt=f.matrixMult=function(q,ee){return ee.multiply(q)},_e=new Nt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=_e;var Ne=function(q,ee){if(!ut[q]){var pe=(ee instanceof nu?"Sh":"P")+(Object.keys(xt).length+1).toString(10);ee.id=pe,ut[q]=pe,xt[pe]=ee,ht.publish("addPattern",ee)}};f.ShadingPattern=nu,f.TilingPattern=Md,f.addShadingPattern=function(q,ee){return U("addShadingPattern()"),Ne(q,ee),this},f.beginTilingPattern=function(q){U("beginTilingPattern()"),Wd(q.boundingBox[0],q.boundingBox[1],q.boundingBox[2]-q.boundingBox[0],q.boundingBox[3]-q.boundingBox[1],q.matrix)},f.endTilingPattern=function(q,ee){U("endTilingPattern()"),ee.stream=J[G].join(`
`),Ne(q,ee),ht.publish("endTilingPattern",ee),At.pop().restore()};var Pe,Ue=f.__private__.newObject=function(){var q=zt();return it(q,!0),q},zt=f.__private__.newObjectDeferred=function(){return A++,T[A]=function(){return Z},A},it=function(q,ee){return ee=typeof ee=="boolean"&&ee,T[q]=Z,ee&&K(q+" 0 obj"),q},yt=f.__private__.newAdditionalObject=function(){var q={objId:zt(),content:""};return Q.push(q),q},_n=zt(),_t=zt(),pt=f.__private__.decodeColorString=function(q){var ee=q.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length!==5||ee[4]!=="k"&&ee[4]!=="K"||(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var pe=parseFloat(ee[0]);ee=[pe,pe,pe,"r"]}for(var Ee="#",Ie=0;Ie<3;Ie++)Ee+=("0"+Math.floor(255*parseFloat(ee[Ie])).toString(16)).slice(-2);return Ee},an=f.__private__.encodeColorString=function(q){var ee;typeof q=="string"&&(q={ch1:q});var pe=q.ch1,Ee=q.ch2,Ie=q.ch3,$e=q.ch4,Je=q.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var kt=new cN(pe);if(kt.ok)pe=kt.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var Pt=parseInt(pe.substr(1),16);pe=Pt>>16&255,Ee=Pt>>8&255,Ie=255&Pt}if(Ee===void 0||$e===void 0&&pe===Ee&&Ee===Ie)ee=typeof pe=="string"?pe+" "+Je[0]:q.precision===2?E(pe/255)+" "+Je[0]:C(pe/255)+" "+Je[0];else if($e===void 0||Zn($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return["1.","1.","1.",Je[1]].join(" ");ee=typeof pe=="string"?[pe,Ee,Ie,Je[1]].join(" "):q.precision===2?[E(pe/255),E(Ee/255),E(Ie/255),Je[1]].join(" "):[C(pe/255),C(Ee/255),C(Ie/255),Je[1]].join(" ")}else ee=typeof pe=="string"?[pe,Ee,Ie,$e,Je[2]].join(" "):q.precision===2?[E(pe),E(Ee),E(Ie),E($e),Je[2]].join(" "):[C(pe),C(Ee),C(Ie),C($e),Je[2]].join(" ");return ee},Wt=f.__private__.getFilters=function(){return o},Ht=f.__private__.putStream=function(q){var ee=(q=q||{}).data||"",pe=q.filters||Wt(),Ee=q.alreadyAppliedFilters||[],Ie=q.addLength1||!1,$e=ee.length,Je=q.objectId,kt=function(Wr){return Wr};if(u!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(kt=gr.encryptor(Je,0));var Pt={};pe===!0&&(pe=["FlateEncode"]);var Qt=q.additionalKeyValues||[],ln=(Pt=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(ee,pe):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(Pt.data.length!==0&&(Qt.push({key:"Length",value:Pt.data.length}),Ie===!0&&Qt.push({key:"Length1",value:$e})),ln.length!=0)if(ln.split("/").length-1==1)Qt.push({key:"Filter",value:ln});else{Qt.push({key:"Filter",value:"["+ln+"]"});for(var Un=0;Un<Qt.length;Un+=1)if(Qt[Un].key==="DecodeParms"){for(var _r=[],Vr=0;Vr<Pt.reverseChain.split("/").length-1;Vr+=1)_r.push("null");_r.push(Qt[Un].value),Qt[Un].value="["+_r.join(" ")+"]"}}K("<<");for(var ar=0;ar<Qt.length;ar++)K("/"+Qt[ar].key+" "+Qt[ar].value);K(">>"),Pt.data.length!==0&&(K("stream"),K(kt(Pt.data)),K("endstream"))},An=f.__private__.putPage=function(q){var ee=q.number,pe=q.data,Ee=q.objId,Ie=q.contentsObjId;it(Ee,!0),K("<</Type /Page"),K("/Parent "+q.rootDictionaryObjId+" 0 R"),K("/Resources "+q.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(B(q.mediaBox.bottomLeftX))+" "+parseFloat(B(q.mediaBox.bottomLeftY))+" "+B(q.mediaBox.topRightX)+" "+B(q.mediaBox.topRightY)+"]"),q.cropBox!==null&&K("/CropBox ["+B(q.cropBox.bottomLeftX)+" "+B(q.cropBox.bottomLeftY)+" "+B(q.cropBox.topRightX)+" "+B(q.cropBox.topRightY)+"]"),q.bleedBox!==null&&K("/BleedBox ["+B(q.bleedBox.bottomLeftX)+" "+B(q.bleedBox.bottomLeftY)+" "+B(q.bleedBox.topRightX)+" "+B(q.bleedBox.topRightY)+"]"),q.trimBox!==null&&K("/TrimBox ["+B(q.trimBox.bottomLeftX)+" "+B(q.trimBox.bottomLeftY)+" "+B(q.trimBox.topRightX)+" "+B(q.trimBox.topRightY)+"]"),q.artBox!==null&&K("/ArtBox ["+B(q.artBox.bottomLeftX)+" "+B(q.artBox.bottomLeftY)+" "+B(q.artBox.topRightX)+" "+B(q.artBox.topRightY)+"]"),typeof q.userUnit=="number"&&q.userUnit!==1&&K("/UserUnit "+q.userUnit),ht.publish("putPage",{objId:Ee,pageContext:Ct[ee],pageNumber:ee,page:pe}),K("/Contents "+Ie+" 0 R"),K(">>"),K("endobj");var $e=pe.join(`
`);return M===k&&($e+=`
Q`),it(Ie,!0),Ht({data:$e,filters:Wt(),objectId:Ie}),K("endobj"),Ee},jn=f.__private__.putPages=function(){var q,ee,pe=[];for(q=1;q<=ct;q++)Ct[q].objId=zt(),Ct[q].contentsObjId=zt();for(q=1;q<=ct;q++)pe.push(An({number:q,data:J[q],objId:Ct[q].objId,contentsObjId:Ct[q].contentsObjId,mediaBox:Ct[q].mediaBox,cropBox:Ct[q].cropBox,bleedBox:Ct[q].bleedBox,trimBox:Ct[q].trimBox,artBox:Ct[q].artBox,userUnit:Ct[q].userUnit,rootDictionaryObjId:_n,resourceDictionaryObjId:_t}));it(_n,!0),K("<</Type /Pages");var Ee="/Kids [";for(ee=0;ee<ct;ee++)Ee+=pe[ee]+" 0 R ";K(Ee+"]"),K("/Count "+ct),K(">>"),K("endobj"),ht.publish("postPutPages")},sr=function(q){ht.publish("putFont",{font:q,out:K,newObject:Ue,putStream:Ht}),q.isAlreadyPutted!==!0&&(q.objectNumber=Ue(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Nd(q.postScriptName)),K("/Subtype /Type1"),typeof q.encoding=="string"&&K("/Encoding /"+q.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Ar=function(q){q.objectNumber=Ue();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[B(q.x),B(q.y),B(q.x+q.width),B(q.y+q.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+q.matrix.toString()+"]"});var pe=q.pages[1].join(`
`);Ht({data:pe,additionalKeyValues:ee,objectId:q.objectNumber}),K("endobj")},or=function(q,ee){ee||(ee=21);var pe=Ue(),Ee=function(Je,kt){var Pt,Qt=[],ln=1/(kt-1);for(Pt=0;Pt<1;Pt+=ln)Qt.push(Pt);if(Qt.push(1),Je[0].offset!=0){var Un={offset:0,color:Je[0].color};Je.unshift(Un)}if(Je[Je.length-1].offset!=1){var _r={offset:1,color:Je[Je.length-1].color};Je.push(_r)}for(var Vr="",ar=0,Wr=0;Wr<Qt.length;Wr++){for(Pt=Qt[Wr];Pt>Je[ar+1].offset;)ar++;var Ur=Je[ar].offset,li=(Pt-Ur)/(Je[ar+1].offset-Ur),aa=Je[ar].color,Ws=Je[ar+1].color;Vr+=W(Math.round((1-li)*aa[0]+li*Ws[0]).toString(16))+W(Math.round((1-li)*aa[1]+li*Ws[1]).toString(16))+W(Math.round((1-li)*aa[2]+li*Ws[2]).toString(16))}return Vr.trim()}(q.colors,ee),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+ee+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ht({data:Ee,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),K("endobj"),q.objectNumber=Ue(),K("<< /ShadingType "+q.type),K("/ColorSpace /DeviceRGB");var $e="/Coords ["+B(parseFloat(q.coords[0]))+" "+B(parseFloat(q.coords[1]))+" ";q.type===2?$e+=B(parseFloat(q.coords[2]))+" "+B(parseFloat(q.coords[3])):$e+=B(parseFloat(q.coords[2]))+" "+B(parseFloat(q.coords[3]))+" "+B(parseFloat(q.coords[4]))+" "+B(parseFloat(q.coords[5])),K($e+="]"),q.matrix&&K("/Matrix ["+q.matrix.toString()+"]"),K("/Function "+pe+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},xr=function(q,ee){var pe=zt(),Ee=Ue();ee.push({resourcesOid:pe,objectOid:Ee}),q.objectNumber=Ee;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+q.boundingBox.map(B).join(" ")+"]"}),Ie.push({key:"XStep",value:B(q.xStep)}),Ie.push({key:"YStep",value:B(q.yStep)}),Ie.push({key:"Resources",value:pe+" 0 R"}),q.matrix&&Ie.push({key:"Matrix",value:"["+q.matrix.toString()+"]"}),Ht({data:q.stream,additionalKeyValues:Ie,objectId:q.objectNumber}),K("endobj")},he=function(q){for(var ee in q.objectNumber=Ue(),K("<<"),q)switch(ee){case"opacity":K("/ca "+E(q[ee]));break;case"stroke-opacity":K("/CA "+E(q[ee]))}K(">>"),K("endobj")},Ae=function(q){it(q.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ee in K("/Font <<"),dt)dt.hasOwnProperty(ee)&&(d===!1||d===!0&&h.hasOwnProperty(ee))&&K("/"+ee+" "+dt[ee].objectNumber+" 0 R");K(">>")}(),function(){if(Object.keys(xt).length>0){for(var ee in K("/Shading <<"),xt)xt.hasOwnProperty(ee)&&xt[ee]instanceof nu&&xt[ee].objectNumber>=0&&K("/"+ee+" "+xt[ee].objectNumber+" 0 R");ht.publish("putShadingPatternDict"),K(">>")}}(),function(ee){if(Object.keys(xt).length>0){for(var pe in K("/Pattern <<"),xt)xt.hasOwnProperty(pe)&&xt[pe]instanceof f.TilingPattern&&xt[pe].objectNumber>=0&&xt[pe].objectNumber<ee&&K("/"+pe+" "+xt[pe].objectNumber+" 0 R");ht.publish("putTilingPatternDict"),K(">>")}}(q.objectOid),function(){if(Object.keys(nt).length>0){var ee;for(ee in K("/ExtGState <<"),nt)nt.hasOwnProperty(ee)&&nt[ee].objectNumber>=0&&K("/"+ee+" "+nt[ee].objectNumber+" 0 R");ht.publish("putGStateDict"),K(">>")}}(),function(){for(var ee in K("/XObject <<"),On)On.hasOwnProperty(ee)&&On[ee].objectNumber>=0&&K("/"+ee+" "+On[ee].objectNumber+" 0 R");ht.publish("putXobjectDict"),K(">>")}(),K(">>"),K("endobj")},We=function(q){et[q.fontName]=et[q.fontName]||{},et[q.fontName][q.fontStyle]=q.id},Le=function(q,ee,pe,Ee,Ie){var $e={id:"F"+(Object.keys(dt).length+1).toString(10),postScriptName:q,fontName:ee,fontStyle:pe,encoding:Ee,isStandardFont:Ie||!1,metadata:{}};return ht.publish("addFont",{font:$e,instance:this}),dt[$e.id]=$e,We($e),$e.id},tt=f.__private__.pdfEscape=f.pdfEscape=function(q,ee){return function(pe,Ee){var Ie,$e,Je,kt,Pt,Qt,ln,Un,_r;if(Je=(Ee=Ee||{}).sourceEncoding||"Unicode",Pt=Ee.outputEncoding,(Ee.autoencode||Pt)&&dt[Ge].metadata&&dt[Ge].metadata[Je]&&dt[Ge].metadata[Je].encoding&&(kt=dt[Ge].metadata[Je].encoding,!Pt&&dt[Ge].encoding&&(Pt=dt[Ge].encoding),!Pt&&kt.codePages&&(Pt=kt.codePages[0]),typeof Pt=="string"&&(Pt=kt[Pt]),Pt)){for(ln=!1,Qt=[],Ie=0,$e=pe.length;Ie<$e;Ie++)(Un=Pt[pe.charCodeAt(Ie)])?Qt.push(String.fromCharCode(Un)):Qt.push(pe[Ie]),Qt[Ie].charCodeAt(0)>>8&&(ln=!0);pe=Qt.join("")}for(Ie=pe.length;ln===void 0&&Ie!==0;)pe.charCodeAt(Ie-1)>>8&&(ln=!0),Ie--;if(!ln)return pe;for(Qt=Ee.noBOM?[]:[254,255],Ie=0,$e=pe.length;Ie<$e;Ie++){if((_r=(Un=pe.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qt.push(_r),Qt.push(Un-(_r<<8))}return String.fromCharCode.apply(void 0,Qt)}(q,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vt=f.__private__.beginPage=function(q){J[++ct]=[],Ct[ct]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(q[0]),topRightY:Number(q[1])}},$t(ct),ye(J[G])},wt=function(q,ee){var pe,Ee,Ie;switch(n=ee||n,typeof q=="string"&&(pe=v(q.toLowerCase()),Array.isArray(pe)&&(Ee=pe[0],Ie=pe[1])),Array.isArray(q)&&(Ee=q[0]*Ke,Ie=q[1]*Ke),isNaN(Ee)&&(Ee=i[0],Ie=i[1]),(Ee>14400||Ie>14400)&&(ir.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Ie=Math.min(14400,Ie)),i=[Ee,Ie],n.substr(0,1)){case"l":Ie>Ee&&(i=[Ie,Ee]);break;case"p":Ee>Ie&&(i=[Ie,Ee])}vt(i),Kt(vo),K(uu),Hd!==0&&K(Hd+" J"),$d!==0&&K($d+" j"),ht.publish("addPage",{pageNumber:ct})},rn=function(q){q>0&&q<=ct&&(J.splice(q,1),Ct.splice(q,1),ct--,G>ct&&(G=ct),this.setPage(G))},$t=function(q){q>0&&q<=ct&&(G=q)},Ut=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return J.length-1},Gt=function(q,ee,pe){var Ee,Ie=void 0;return pe=pe||{},q=q!==void 0?q:dt[Ge].fontName,ee=ee!==void 0?ee:dt[Ge].fontStyle,Ee=q.toLowerCase(),et[Ee]!==void 0&&et[Ee][ee]!==void 0?Ie=et[Ee][ee]:et[q]!==void 0&&et[q][ee]!==void 0?Ie=et[q][ee]:pe.disableWarning===!1&&ir.warn("Unable to look up font label for font '"+q+"', '"+ee+"'. Refer to getFontList() for available fonts."),Ie||pe.noFallback||(Ie=et.times[ee])==null&&(Ie=et.times.normal),Ie},Bn=f.__private__.putInfo=function(){var q=Ue(),ee=function(Ee){return Ee};for(var pe in u!==null&&(ee=gr.encryptor(q,0)),K("<<"),K("/Producer ("+tt(ee("jsPDF "+Ft.version))+")"),gt)gt.hasOwnProperty(pe)&&gt[pe]&&K("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+tt(ee(gt[pe]))+")");K("/CreationDate ("+tt(ee(b))+")"),K(">>"),K("endobj")},er=f.__private__.putCatalog=function(q){var ee=(q=q||{}).rootDictionaryObjId||_n;switch(Ue(),K("<<"),K("/Type /Catalog"),K("/Pages "+ee+" 0 R"),xe||(xe="fullwidth"),xe){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+xe;pe.substr(pe.length-1)==="%"&&(xe=parseInt(xe)/100),typeof xe=="number"&&K("/OpenAction [3 0 R /XYZ null null "+E(xe)+"]")}switch(rt||(rt="continuous"),rt){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}Re&&K("/PageMode /"+Re),ht.publish("putCatalog"),K(">>"),K("endobj")},Dn=f.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(A+1)),K("/Root "+A+" 0 R"),K("/Info "+(A-1)+" 0 R"),u!==null&&K("/Encrypt "+gr.oid+" 0 R"),K("/ID [ <"+w+"> <"+w+"> ]"),K(">>")},Yt=f.__private__.putHeader=function(){K("%PDF-"+p),K("%\xBA\xDF\xAC\xE0")},kr=f.__private__.putXRef=function(){var q="0000000000";K("xref"),K("0 "+(A+1)),K("0000000000 65535 f ");for(var ee=1;ee<=A;ee++)typeof T[ee]=="function"?K((q+T[ee]()).slice(-10)+" 00000 n "):T[ee]!==void 0?K((q+T[ee]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},vr=f.__private__.buildDocument=function(){var q;A=0,Z=0,H=[],T=[],Q=[],_n=zt(),_t=zt(),ye(H),ht.publish("buildDocument"),Yt(),jn(),function(){ht.publish("putAdditionalObjects");for(var pe=0;pe<Q.length;pe++){var Ee=Q[pe];it(Ee.objId,!0),K(Ee.content),K("endobj")}ht.publish("postPutAdditionalObjects")}(),q=[],function(){for(var pe in dt)dt.hasOwnProperty(pe)&&(d===!1||d===!0&&h.hasOwnProperty(pe))&&sr(dt[pe])}(),function(){var pe;for(pe in nt)nt.hasOwnProperty(pe)&&he(nt[pe])}(),function(){for(var pe in On)On.hasOwnProperty(pe)&&Ar(On[pe])}(),function(pe){var Ee;for(Ee in xt)xt.hasOwnProperty(Ee)&&(xt[Ee]instanceof nu?or(xt[Ee]):xt[Ee]instanceof Md&&xr(xt[Ee],pe))}(q),ht.publish("putResources"),q.forEach(Ae),Ae({resourcesOid:_t,objectOid:Number.MAX_SAFE_INTEGER}),ht.publish("postPutResources"),u!==null&&(gr.oid=Ue(),K("<<"),K("/Filter /Standard"),K("/V "+gr.v),K("/R "+gr.r),K("/U <"+gr.toHexString(gr.U)+">"),K("/O <"+gr.toHexString(gr.O)+">"),K("/P "+gr.P),K(">>"),K("endobj")),Bn(),er();var ee=Z;return kr(),Dn(),K("startxref"),K(""+ee),K("%%EOF"),ye(J[G]),H.join(`
`)},qr=f.__private__.getBlob=function(q){return new Blob([ue(q)],{type:"application/pdf"})},Mi=f.output=f.__private__.output=(Pe=function(q,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",q){case void 0:return vr();case"save":f.save(ee.filename);break;case"arraybuffer":return ue(vr());case"blob":return qr(vr());case"bloburi":case"bloburl":if(Jt.URL!==void 0&&typeof Jt.URL.createObjectURL=="function")return Jt.URL&&Jt.URL.createObjectURL(qr(vr()))||void 0;ir.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",Ee=vr();try{pe=zD(Ee)}catch{pe=zD(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+ee.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Ie=ee.pdfObjectUrl,$e="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",kt=Jt.open();return kt!==null&&kt.document.write(Je),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',Qt=Jt.open();if(Qt!==null){Qt.document.write(Pt);var ln=this;Qt.document.documentElement.querySelector("#pdfViewer").onload=function(){Qt.document.title=ee.filename,Qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ln.output("bloburl"))}}return Qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',_r=Jt.open();if(_r!==null&&(_r.document.write(Un),_r.document.title=ee.filename),_r||typeof safari>"u")return _r;break;case"datauri":case"dataurl":return Jt.document.location.href=this.output("datauristring",ee);default:return null}},Pe.foo=function(){try{return Pe.apply(this,arguments)}catch(pe){var q=pe.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var ee="Error in function "+q.split(`
`)[0].split("<")[0]+": "+pe.message;if(!Jt.console)throw new Error(ee);Jt.console.error(ee,pe),Jt.alert&&alert(ee)}},Pe.foo.bar=Pe,Pe.foo),Br=function(q){return Array.isArray(Ot)===!0&&Ot.indexOf(q)>-1};switch(r){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=Br("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ke=r}var gr=null;$(),x();var yi=f.__private__.getPageInfo=f.getPageInfo=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[q].objId,pageNumber:q,pageContext:Ct[q]}},Cn=f.__private__.getPageInfoByObjId=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Ct)if(Ct[ee].objId===q)break;return yi(ee)},Vn=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ct[G].objId,pageNumber:G,pageContext:Ct[G]}};f.addPage=function(){return wt.apply(this,arguments),this},f.setPage=function(){return $t.apply(this,arguments),ye.call(this,J[G]),this},f.insertPage=function(q){return this.addPage(),this.movePage(G,q),this},f.movePage=function(q,ee){var pe,Ee;if(q>ee){pe=J[q],Ee=Ct[q];for(var Ie=q;Ie>ee;Ie--)J[Ie]=J[Ie-1],Ct[Ie]=Ct[Ie-1];J[ee]=pe,Ct[ee]=Ee,this.setPage(ee)}else if(q<ee){pe=J[q],Ee=Ct[q];for(var $e=q;$e<ee;$e++)J[$e]=J[$e+1],Ct[$e]=Ct[$e+1];J[ee]=pe,Ct[ee]=Ee,this.setPage(ee)}return this},f.deletePage=function(){return rn.apply(this,arguments),this},f.__private__.text=f.text=function(q,ee,pe,Ee,Ie){var $e,Je,kt,Pt,Qt,ln,Un,_r,Vr,ar=(Ee=Ee||{}).scope||this;if(typeof q=="number"&&typeof ee=="number"&&(typeof pe=="string"||Array.isArray(pe))){var Wr=pe;pe=ee,ee=q,q=Wr}if(arguments[3]instanceof Nt==0?(kt=arguments[4],Pt=arguments[5],Zn(Un=arguments[3])==="object"&&Un!==null||(typeof kt=="string"&&(Pt=kt,kt=null),typeof Un=="string"&&(Pt=Un,Un=null),typeof Un=="number"&&(kt=Un,Un=null),Ee={flags:Un,angle:kt,align:Pt})):(U("The transform parameter of text() with a Matrix value"),Vr=Ie),isNaN(ee)||isNaN(pe)||q==null)throw new Error("Invalid arguments passed to jsPDF.text");if(q.length===0)return ar;var Ur,li="",aa=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Ss,Ws=ar.internal.scaleFactor;function la(Gn){return Gn=Gn.split("	").join(Array(Ee.TabLen||9).join(" ")),tt(Gn,Un)}function Kd(Gn){for(var nr,Nr=Gn.concat(),Gr=[],da=Nr.length;da--;)typeof(nr=Nr.shift())=="string"?Gr.push(nr):Array.isArray(Gn)&&(nr.length===1||nr[1]===void 0&&nr[2]===void 0)?Gr.push(nr[0]):Gr.push([nr[0],nr[1],nr[2]]);return Gr}function fu(Gn,nr){var Nr;if(typeof Gn=="string")Nr=nr(Gn)[0];else if(Array.isArray(Gn)){for(var Gr,da,sf=Gn.concat(),mu=[],qp=sf.length;qp--;)typeof(Gr=sf.shift())=="string"?mu.push(nr(Gr)[0]):Array.isArray(Gr)&&typeof Gr[0]=="string"&&(da=nr(Gr[0],Gr[1],Gr[2]),mu.push([da[0],da[1],da[2]]));Nr=mu}return Nr}var el=!1,nc=!0;if(typeof q=="string")el=!0;else if(Array.isArray(q)){var rc=q.concat();Je=[];for(var tl,ci=rc.length;ci--;)(typeof(tl=rc.shift())!="string"||Array.isArray(tl)&&typeof tl[0]!="string")&&(nc=!1);el=nc}if(el===!1)throw new Error('Type of text must be string or Array. "'+q+'" is not recognized.');typeof q=="string"&&(q=q.match(/[\r?\n]/)?q.split(/\r\n|\r|\n/g):[q]);var ic=me/ar.internal.scaleFactor,sc=ic*(aa-1);switch(Ee.baseline){case"bottom":pe-=sc;break;case"top":pe+=ic-sc;break;case"hanging":pe+=ic-2*sc;break;case"middle":pe+=ic/2-sc}if((ln=Ee.maxWidth||0)>0&&(typeof q=="string"?q=ar.splitTextToSize(q,ln):Object.prototype.toString.call(q)==="[object Array]"&&(q=q.reduce(function(Gn,nr){return Gn.concat(ar.splitTextToSize(nr,ln))},[]))),$e={text:q,x:ee,y:pe,options:Ee,mutex:{pdfEscape:tt,activeFontKey:Ge,fonts:dt,activeFontSize:me}},ht.publish("preProcessText",$e),q=$e.text,kt=(Ee=$e.options).angle,Vr instanceof Nt==0&&kt&&typeof kt=="number"){kt*=Math.PI/180,Ee.rotationDirection===0&&(kt=-kt),M===k&&(kt=-kt);var Yd=Math.cos(kt),Zd=Math.sin(kt);Vr=new Nt(Yd,Zd,-Zd,Yd,0,0)}else kt&&kt instanceof Nt&&(Vr=kt);M!==k||Vr||(Vr=_e),(Qt=Ee.charSpace||ra)!==void 0&&(li+=B(R(Qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_r=Ee.horizontalScale)!==void 0&&(li+=B(100*_r)+` Tz
`),Ee.lang;var Ri=-1,ca=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,hu=ar.internal.getCurrentPageInfo().pageContext;switch(ca){case 0:case!1:case"fill":Ri=0;break;case 1:case!0:case"stroke":Ri=1;break;case 2:case"fillThenStroke":Ri=2;break;case 3:case"invisible":Ri=3;break;case 4:case"fillAndAddForClipping":Ri=4;break;case 5:case"strokeAndAddPathForClipping":Ri=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ri=6;break;case 7:case"addToPathForClipping":Ri=7}var Hp=hu.usedRenderingMode!==void 0?hu.usedRenderingMode:-1;Ri!==-1?li+=Ri+` Tr
`:Hp!==-1&&(li+=`0 Tr
`),Ri!==-1&&(hu.usedRenderingMode=Ri),Pt=Ee.align||"left";var Cs,oc=me*aa,Xd=ar.internal.pageSize.getWidth(),Jd=dt[Ge];Qt=Ee.charSpace||ra,ln=Ee.maxWidth||0,Un=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var nl=[],ac=function(Gn){return ar.getStringUnitWidth(Gn,{font:Jd,charSpace:Qt,fontSize:me,doKerning:!1})*me/Ws};if(Object.prototype.toString.call(q)==="[object Array]"){var fs;Je=Kd(q),Pt!=="left"&&(Cs=Je.map(ac));var hs,rl=0;if(Pt==="right"){ee-=Cs[0],q=[],ci=Je.length;for(var ua=0;ua<ci;ua++)ua===0?(hs=ta(ee),fs=na(pe)):(hs=R(rl-Cs[ua]),fs=-oc),q.push([Je[ua],hs,fs]),rl=Cs[ua]}else if(Pt==="center"){ee-=Cs[0]/2,q=[],ci=Je.length;for(var il=0;il<ci;il++)il===0?(hs=ta(ee),fs=na(pe)):(hs=R((rl-Cs[il])/2),fs=-oc),q.push([Je[il],hs,fs]),rl=Cs[il]}else if(Pt==="left"){q=[],ci=Je.length;for(var Qd=0;Qd<ci;Qd++)q.push(Je[Qd])}else if(Pt==="justify"&&Jd.encoding==="Identity-H"){q=[],ci=Je.length,ln=ln!==0?ln:Xd;for(var pu=0,Dr=0;Dr<ci;Dr++)if(fs=Dr===0?na(pe):-oc,hs=Dr===0?ta(ee):pu,Dr<ci-1){var $p=R((ln-Cs[Dr])/(Je[Dr].split(" ").length-1)),_o=Je[Dr].split(" ");q.push([_o[0]+" ",hs,fs]),pu=0;for(var wo=1;wo<_o.length;wo++){var ef=(ac(_o[wo-1]+" "+_o[wo])-ac(_o[wo]))*Ws+$p;wo==_o.length-1?q.push([_o[wo],ef,0]):q.push([_o[wo]+" ",ef,0]),pu-=ef}}else q.push([Je[Dr],hs,fs]);q.push(["",pu,0])}else{if(Pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(q=[],ci=Je.length,ln=ln!==0?ln:Xd,Dr=0;Dr<ci;Dr++){fs=Dr===0?na(pe):-oc,hs=Dr===0?ta(ee):0;var tf=Je[Dr].split(" ").length-1,nf=tf>0?(ln-Cs[Dr])/tf:0;Dr<ci-1?nl.push(B(R(nf))):nl.push(0),q.push([Je[Dr],hs,fs])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:De)===!0&&(q=fu(q,function(Gn,nr,Nr){return[Gn.split("").reverse().join(""),nr,Nr]})),$e={text:q,x:ee,y:pe,options:Ee,mutex:{pdfEscape:tt,activeFontKey:Ge,fonts:dt,activeFontSize:me}},ht.publish("postProcessText",$e),q=$e.text,Ur=$e.mutex.isHex||!1;var rf=dt[Ge].encoding;rf!=="WinAnsiEncoding"&&rf!=="StandardEncoding"||(q=fu(q,function(Gn,nr,Nr){return[la(Gn),nr,Nr]})),Je=Kd(q),q=[];for(var sl,ol,al,lc=Array.isArray(Je[0])?1:0,ll="",cc=function(Gn,nr,Nr){var Gr="";return Nr instanceof Nt?(Nr=typeof Ee.angle=="number"?Vt(Nr,new Nt(1,0,0,1,Gn,nr)):Vt(new Nt(1,0,0,1,Gn,nr),Nr),M===k&&(Nr=Vt(new Nt(1,0,0,-1,0,0),Nr)),Gr=Nr.join(" ")+` Tm
`):Gr=B(Gn)+" "+B(nr)+` Td
`,Gr},Is=0;Is<Je.length;Is++){switch(ll="",lc){case 1:al=(Ur?"<":"(")+Je[Is][0]+(Ur?">":")"),sl=parseFloat(Je[Is][1]),ol=parseFloat(Je[Is][2]);break;case 0:al=(Ur?"<":"(")+Je[Is]+(Ur?">":")"),sl=ta(ee),ol=na(pe)}nl!==void 0&&nl[Is]!==void 0&&(ll=nl[Is]+` Tw
`),Is===0?q.push(ll+cc(sl,ol,Vr)+al):lc===0?q.push(ll+al):lc===1&&q.push(ll+cc(sl,ol,Vr)+al)}q=lc===0?q.join(` Tj
T* `):q.join(` Tj
`),q+=` Tj
`;var xo=`BT
/`;return xo+=Ge+" "+me+` Tf
`,xo+=B(me*aa)+` TL
`,xo+=Ql+`
`,xo+=li,xo+=q,K(xo+="ET"),h[Ge]=!0,ar};var Zl=f.__private__.clip=f.clip=function(q){return K(q==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Zl("evenodd")},f.__private__.discardPath=f.discardPath=function(){return K("n"),this};var ti=f.__private__.isValidStyle=function(q){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(q)!==-1&&(ee=!0),ee};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(q){return ti(q)&&(c=q),this};var Qo=f.__private__.getStyle=f.getStyle=function(q){var ee=c;switch(q){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=q}return ee},ni=f.close=function(){return K("h"),this};f.stroke=function(){return K("S"),this},f.fill=function(q){return bi("f",q),this},f.fillEvenOdd=function(q){return bi("f*",q),this},f.fillStroke=function(q){return bi("B",q),this},f.fillStrokeEvenOdd=function(q){return bi("B*",q),this};var bi=function(q,ee){Zn(ee)==="object"?Ja(ee,q):K(q)},vi=function(q){q===null||M===k&&q===void 0||(q=Qo(q),K(q))};function ea(q,ee,pe,Ee,Ie){var $e=new Md(ee||this.boundingBox,pe||this.xStep,Ee||this.yStep,this.gState,Ie||this.matrix);$e.stream=this.stream;var Je=q+"$$"+this.cloneIndex+++"$$";return Ne(Je,$e),$e}var Ja=function(q,ee){var pe=ut[q.key],Ee=xt[pe];if(Ee instanceof nu)K("q"),K(bo(ee)),Ee.gState&&f.setGState(Ee.gState),K(q.matrix.toString()+" cm"),K("/"+pe+" sh"),K("Q");else if(Ee instanceof Md){var Ie=new Nt(1,0,0,-1,0,tc());q.matrix&&(Ie=Ie.multiply(q.matrix||_e),pe=ea.call(Ee,q.key,q.boundingBox,q.xStep,q.yStep,Ie).id),K("q"),K("/Pattern cs"),K("/"+pe+" scn"),Ee.gState&&f.setGState(Ee.gState),K(ee),K("Q")}},bo=function(q){switch(q){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Wi=f.moveTo=function(q,ee){return K(B(R(q))+" "+B(m(ee))+" m"),this},Xl=f.lineTo=function(q,ee){return K(B(R(q))+" "+B(m(ee))+" l"),this},_i=f.curveTo=function(q,ee,pe,Ee,Ie,$e){return K([B(R(q)),B(m(ee)),B(R(pe)),B(m(Ee)),B(R(Ie)),B(m($e)),"c"].join(" ")),this};f.__private__.line=f.line=function(q,ee,pe,Ee,Ie){if(isNaN(q)||isNaN(ee)||isNaN(pe)||isNaN(Ee)||!ti(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return M===S?this.lines([[pe-q,Ee-ee]],q,ee,[1,1],Ie||"S"):this.lines([[pe-q,Ee-ee]],q,ee,[1,1]).stroke()},f.__private__.lines=f.lines=function(q,ee,pe,Ee,Ie,$e){var Je,kt,Pt,Qt,ln,Un,_r,Vr,ar,Wr,Ur,li;if(typeof q=="number"&&(li=pe,pe=ee,ee=q,q=li),Ee=Ee||[1,1],$e=$e||!1,isNaN(ee)||isNaN(pe)||!Array.isArray(q)||!Array.isArray(Ee)||!ti(Ie)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wi(ee,pe),Je=Ee[0],kt=Ee[1],Qt=q.length,Wr=ee,Ur=pe,Pt=0;Pt<Qt;Pt++)(ln=q[Pt]).length===2?(Wr=ln[0]*Je+Wr,Ur=ln[1]*kt+Ur,Xl(Wr,Ur)):(Un=ln[0]*Je+Wr,_r=ln[1]*kt+Ur,Vr=ln[2]*Je+Wr,ar=ln[3]*kt+Ur,Wr=ln[4]*Je+Wr,Ur=ln[5]*kt+Ur,_i(Un,_r,Vr,ar,Wr,Ur));return $e&&ni(),vi(Ie),this},f.path=function(q){for(var ee=0;ee<q.length;ee++){var pe=q[ee],Ee=pe.c;switch(pe.op){case"m":Wi(Ee[0],Ee[1]);break;case"l":Xl(Ee[0],Ee[1]);break;case"c":_i.apply(this,Ee);break;case"h":ni()}}return this},f.__private__.rect=f.rect=function(q,ee,pe,Ee,Ie){if(isNaN(q)||isNaN(ee)||isNaN(pe)||isNaN(Ee)||!ti(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return M===S&&(Ee=-Ee),K([B(R(q)),B(m(ee)),B(R(pe)),B(R(Ee)),"re"].join(" ")),vi(Ie),this},f.__private__.triangle=f.triangle=function(q,ee,pe,Ee,Ie,$e,Je){if(isNaN(q)||isNaN(ee)||isNaN(pe)||isNaN(Ee)||isNaN(Ie)||isNaN($e)||!ti(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-q,Ee-ee],[Ie-pe,$e-Ee],[q-Ie,ee-$e]],q,ee,[1,1],Je,!0),this},f.__private__.roundedRect=f.roundedRect=function(q,ee,pe,Ee,Ie,$e,Je){if(isNaN(q)||isNaN(ee)||isNaN(pe)||isNaN(Ee)||isNaN(Ie)||isNaN($e)||!ti(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*pe),$e=Math.min($e,.5*Ee),this.lines([[pe-2*Ie,0],[Ie*kt,0,Ie,$e-$e*kt,Ie,$e],[0,Ee-2*$e],[0,$e*kt,-Ie*kt,$e,-Ie,$e],[2*Ie-pe,0],[-Ie*kt,0,-Ie,-$e*kt,-Ie,-$e],[0,2*$e-Ee],[0,-$e*kt,Ie*kt,-$e,Ie,-$e]],q+Ie,ee,[1,1],Je,!0),this},f.__private__.ellipse=f.ellipse=function(q,ee,pe,Ee,Ie){if(isNaN(q)||isNaN(ee)||isNaN(pe)||isNaN(Ee)||!ti(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*pe,Je=4/3*(Math.SQRT2-1)*Ee;return Wi(q+pe,ee),_i(q+pe,ee-Je,q+$e,ee-Ee,q,ee-Ee),_i(q-$e,ee-Ee,q-pe,ee-Je,q-pe,ee),_i(q-pe,ee+Je,q-$e,ee+Ee,q,ee+Ee),_i(q+$e,ee+Ee,q+pe,ee+Je,q+pe,ee),vi(Ie),this},f.__private__.circle=f.circle=function(q,ee,pe,Ee){if(isNaN(q)||isNaN(ee)||isNaN(pe)||!ti(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(q,ee,pe,pe,Ee)},f.setFont=function(q,ee,pe){return pe&&(ee=j(ee,pe)),Ge=Gt(q,ee,{disableWarning:!1}),this};var Jl=f.__private__.getFont=f.getFont=function(){return dt[Gt.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var q,ee,pe={};for(q in et)if(et.hasOwnProperty(q))for(ee in pe[q]=[],et[q])et[q].hasOwnProperty(ee)&&pe[q].push(ee);return pe},f.addFont=function(q,ee,pe,Ee,Ie){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(pe=j(pe,Ee)),Le.call(this,q,ee,pe,Ie=Ie||"Identity-H")};var Ss,vo=e.lineWidth||.200025,cu=f.__private__.getLineWidth=f.getLineWidth=function(){return vo},Kt=f.__private__.setLineWidth=f.setLineWidth=function(q){return vo=q,K(B(R(q))+" w"),this};f.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(q,ee){if(q=q||[],ee=ee||0,isNaN(ee)||!Array.isArray(q))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return q=q.map(function(pe){return B(R(pe))}).join(" "),ee=B(R(ee)),K("["+q+"] "+ee+" d"),this};var Qa=f.__private__.getLineHeight=f.getLineHeight=function(){return me*Ss};f.__private__.getLineHeight=f.getLineHeight=function(){return me*Ss};var by=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(q){return typeof(q=q||1.15)=="number"&&(Ss=q),this},vy=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ss};by(e.lineHeight);var ta=f.__private__.getHorizontalCoordinate=function(q){return R(q)},na=f.__private__.getVerticalCoordinate=function(q){return M===k?q:Ct[G].mediaBox.topRightY-Ct[G].mediaBox.bottomLeftY-R(q)},_y=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(q){return B(ta(q))},wy=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(q){return B(na(q))},uu=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return pt(uu)},f.__private__.setStrokeColor=f.setDrawColor=function(q,ee,pe,Ee){return uu=an({ch1:q,ch2:ee,ch3:pe,ch4:Ee,pdfColorType:"draw",precision:2}),K(uu),this};var zd=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return pt(zd)},f.__private__.setFillColor=f.setFillColor=function(q,ee,pe,Ee){return zd=an({ch1:q,ch2:ee,ch3:pe,ch4:Ee,pdfColorType:"fill",precision:2}),K(zd),this};var Ql=e.textColor||"0 g",xy=f.__private__.getTextColor=f.getTextColor=function(){return pt(Ql)};f.__private__.setTextColor=f.setTextColor=function(q,ee,pe,Ee){return Ql=an({ch1:q,ch2:ee,ch3:pe,ch4:Ee,pdfColorType:"text",precision:3}),this};var ra=e.charSpace,Ey=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ra||0)};f.__private__.setCharSpace=f.setCharSpace=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ra=q,this};var Hd=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(q){var ee=f.CapJoinStyles[q];if(ee===void 0)throw new Error("Line cap style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hd=ee,K(ee+" J"),this};var $d=0;f.__private__.setLineJoin=f.setLineJoin=function(q){var ee=f.CapJoinStyles[q];if(ee===void 0)throw new Error("Line join style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $d=ee,K(ee+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(q){if(q=q||0,isNaN(q))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(B(R(q))+" M"),this},f.GState=K1,f.setGState=function(q){(q=typeof q=="string"?nt[St[q]]:jp(null,q)).equals(bt)||(K("/"+q.id+" gs"),bt=q)};var jp=function(q,ee){if(!q||!St[q]){var pe=!1;for(var Ee in nt)if(nt.hasOwnProperty(Ee)&&nt[Ee].equals(ee)){pe=!0;break}if(pe)ee=nt[Ee];else{var Ie="GS"+(Object.keys(nt).length+1).toString(10);nt[Ie]=ee,ee.id=Ie}return q&&(St[q]=ee.id),ht.publish("addGState",ee),ee}};f.addGState=function(q,ee){return jp(q,ee),this},f.saveGraphicsState=function(){return K("q"),ft.push({key:Ge,size:me,color:Ql}),this},f.restoreGraphicsState=function(){K("Q");var q=ft.pop();return Ge=q.key,me=q.size,Ql=q.color,bt=null,this},f.setCurrentTransformationMatrix=function(q){return K(q.toString()+" cm"),this},f.comment=function(q){return K("#"+q),this};var ia=function(q,ee){var pe=q||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function($e){isNaN($e)||(pe=parseFloat($e))}});var Ee=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function($e){isNaN($e)||(Ee=parseFloat($e))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function($e){Ie=$e.toString()}}),this},qd=function(q,ee,pe,Ee){ia.call(this,q,ee),this.type="rect";var Ie=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(Je){isNaN(Je)||(Ie=parseFloat(Je))}});var $e=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(Je){isNaN(Je)||($e=parseFloat(Je))}}),this},du=function(){this.page=ct,this.currentPage=G,this.pages=J.slice(0),this.pagesContext=Ct.slice(0),this.x=Ye,this.y=Xe,this.matrix=Ve,this.width=Gd(G),this.height=Vp(G),this.outputDestination=ge,this.id="",this.objectNumber=-1};du.prototype.restore=function(){ct=this.page,G=this.currentPage,Ct=this.pagesContext,J=this.pages,Ye=this.x,Xe=this.y,Ve=this.matrix,Bp(G,this.width),sa(G,this.height),ge=this.outputDestination};var Wd=function(q,ee,pe,Ee,Ie){At.push(new du),ct=G=0,J=[],Ye=q,Xe=ee,Ve=Ie,vt([pe,Ee])};for(var ec in f.beginFormObject=function(q,ee,pe,Ee,Ie){return Wd(q,ee,pe,Ee,Ie),this},f.endFormObject=function(q){return function(ee){if(Bt[ee])At.pop().restore();else{var pe=new du,Ee="Xo"+(Object.keys(On).length+1).toString(10);pe.id=Ee,Bt[ee]=Ee,On[Ee]=pe,ht.publish("addFormObject",pe),At.pop().restore()}}(q),this},f.doFormObject=function(q,ee){var pe=On[Bt[q]];return K("q"),K(ee.toString()+" cm"),K("/"+pe.id+" Do"),K("Q"),this},f.getFormObject=function(q){var ee=On[Bt[q]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},f.save=function(q,ee){return q=q||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(tu(qr(vr()),q),typeof tu.unload=="function"&&Jt.setTimeout&&setTimeout(tu.unload,911),this):new Promise(function(pe,Ee){try{var Ie=tu(qr(vr()),q);typeof tu.unload=="function"&&Jt.setTimeout&&setTimeout(tu.unload,911),pe(Ie)}catch($e){Ee($e.message)}})},Ft.API)Ft.API.hasOwnProperty(ec)&&(ec==="events"&&Ft.API.events.length?function(q,ee){var pe,Ee,Ie;for(Ie=ee.length-1;Ie!==-1;Ie--)pe=ee[Ie][0],Ee=ee[Ie][1],q.subscribe.apply(q,[pe].concat(typeof Ee=="function"?[Ee]:Ee))}(ht,Ft.API.events):f[ec]=Ft.API[ec]);function Gd(q){return Ct[q].mediaBox.topRightX-Ct[q].mediaBox.bottomLeftX}function Bp(q,ee){Ct[q].mediaBox.topRightX=ee+Ct[q].mediaBox.bottomLeftX}function Vp(q){return Ct[q].mediaBox.topRightY-Ct[q].mediaBox.bottomLeftY}function sa(q,ee){Ct[q].mediaBox.topRightY=ee+Ct[q].mediaBox.bottomLeftY}var oa=f.getPageWidth=function(q){return Gd(q=q||G)/Ke},Up=f.setPageWidth=function(q,ee){Bp(q,ee*Ke)},tc=f.getPageHeight=function(q){return Vp(q=q||G)/Ke},zp=f.setPageHeight=function(q,ee){sa(q,ee*Ke)};return f.internal={pdfEscape:tt,getStyle:Qo,getFont:Jl,getFontSize:we,getCharSpace:Ey,getTextColor:xy,getLineHeight:Qa,getLineHeightFactor:vy,getLineWidth:cu,write:ce,getHorizontalCoordinate:ta,getVerticalCoordinate:na,getCoordinateString:_y,getVerticalCoordinateString:wy,collections:{},newObject:Ue,newAdditionalObject:yt,newObjectDeferred:zt,newObjectDeferredBegin:it,getFilters:Wt,putStream:Ht,events:ht,scaleFactor:Ke,pageSize:{getWidth:function(){return oa(G)},setWidth:function(q){Up(G,q)},getHeight:function(){return tc(G)},setHeight:function(q){zp(G,q)}},encryptionOptions:u,encryption:gr,getEncryptor:function(q){return u!==null?gr.encryptor(q,0):function(ee){return ee}},output:Mi,getNumberOfPages:Ut,get pages(){return J},out:K,f2:E,f3:C,getPageInfo:yi,getPageInfoByObjId:Cn,getCurrentPageInfo:Vn,getPDFVersion:g,Point:ia,Rectangle:qd,Matrix:Nt,hasHotfix:Br},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return oa(G)},set:function(q){Up(G,q)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return tc(G)},set:function(q){zp(G,q)},enumerable:!0,configurable:!0}),function(q){for(var ee=0,pe=ve.length;ee<pe;ee++){var Ee=Le.call(this,q[ee][0],q[ee][1],q[ee][2],ve[ee][3],!0);d===!1&&(h[Ee]=!0);var Ie=q[ee][0].split("-");We({id:Ee,fontName:Ie[0],fontStyle:Ie[1]||""})}ht.publish("addFonts",{fonts:dt,dictionary:et})}.call(f,ve),Ge="F1",wt(i,n),ht.publish("initialized"),f}Dd.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Dd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Dd.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Dd.prototype.processOwnerPassword=function(e,t){return Ux(Vx(t).substr(0,5),e)},Dd.prototype.encryptor=function(e,t){var n=Vx(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Ux(n,r)}},K1.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Zn(e)!==Zn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Ft.API={events:[]},Ft.version="4.1.0";var Tr=Ft.API,$x=1,iu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ad=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Y1=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var n=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},nn=function(e){return e.toFixed(2)},Wl=function(e){return e.toFixed(5)};Tr.__acroform__={};var cs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},WD=function(e){return e*$x},Yo=function(e){var t=new hN,n=Tt.internal.getHeight(e)||0,r=Tt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(nn(r)),Number(nn(n))],t},sY=Tr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},oY=Tr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},aY=Tr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Lr=Tr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return aY(e,t-1)},Fr=Tr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return sY(e,t-1)},jr=Tr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oY(e,t-1)},lY=Tr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(nn(l.lowerLeft_X)),Number(nn(l.lowerLeft_Y)),Number(nn(l.upperRight_X)),Number(nn(l.upperRight_Y))]},cY=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=zx(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+nn(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Yo(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},zx=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=Tt.internal.getHeight(e)||0;o=o<0?-o:o;var a=Tt.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(E,C,R){if(E+1<i.length){var m=C+" "+i[E+1][0];return U1(m,e,R).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var c,u,d=U1("3",e,s).height,h=e.multiline?o-s:(o-d)/2,f=h+=2,p=0,g=0,y=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+U1(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var v="",S=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var M=!1;if(i[k].length!==1&&y!==i[k].length-1){if((d+2)*(S+2)+2>o)continue e;v+=i[k][y],M=!0,g=k,k--}else{v=(v+=i[k][y]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var z=parseInt(k),F=l(z,v,s),j=k>=i.length-1;if(F&&!j){v+=" ",y=0;continue}if(F||j){if(j)g=z;else if(e.multiline&&(d+2)*(S+2)+2>o)continue e}else{if(!e.multiline||(d+2)*(S+2)+2>o)continue e;g=z}}for(var B="",U=p;U<=g;U++){var V=i[U];if(e.multiline){if(U===g){B+=V[y]+" ",y=(y+1)%V.length;continue}if(U===p){B+=V[V.length-1]+" ";continue}}B+=V[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,u=U1(B,e,s).width,e.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}t+=nn(c)+" "+nn(f)+` Td
`,t+="("+iu(B)+`) Tj
`,t+=-nn(c)+` 0 Td
`,f=-(s+2),u=0,p=M?g:g+1,S++,v=""}break}return r.text=t,r.fontSize=s,r},U1=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},uY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},dY=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},fY=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ho.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(uY)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");$x=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new pN,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&dY(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=lY(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Tt.createDefaultAppearanceStream(a),Zn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=cY(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var f=a.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var p=f[o];typeof p=="function"&&(p=p.call(i,a)),d+="/"+o+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=f)=="function"&&(p=p.call(i,a)),d+="/"+o+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(g,y){for(var v in g)if(g.hasOwnProperty(v)){var S=v,k=g[v];y.internal.newObjectDeferredBegin(k.objId,!0),Zn(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete g[S]}}(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},fN=Tr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Zn(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)==="/"?i+="/"+Y1(e[s].substr(1)):(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+iu(r(e[s].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Px=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+iu(r(e))+")"},Zo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Zo.prototype.toString=function(){return this.objId+" 0 R"},Zo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Zo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:fN(i,this.objId,this.scope)}):i instanceof Zo?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var hN=function(){Zo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};cs(hN,Zo);var pN=function(){Zo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+iu(n(e))+")"}},set:function(n){e=n}})};cs(pN,Zo);var ho=function e(){Zo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Lr(t,3)},set:function(v){v?this.F=Fr(t,3):this.F=jr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Z1)return;s="FieldObject"+e.FieldNum++}var v=function(S){return S};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+iu(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/$x:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Z1||this instanceof ru))return Px(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ai==0?Px(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof ai==0?v.substr(0,1)==="("?Ad(v.substr(1,v.length-2)):Ad(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?Ad(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof ai==1?"/"+Y1(v):v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ai==0?Px(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof ai==0?v.substr(0,1)==="("?Ad(v.substr(1,v.length-2)):Ad(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?Ad(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof ai==1?"/"+Y1(v):v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(v){p=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,1)},set:function(v){v?this.Ff=Fr(this.Ff,1):this.Ff=jr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,2)},set:function(v){v?this.Ff=Fr(this.Ff,2):this.Ff=jr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,3)},set:function(v){v?this.Ff=Fr(this.Ff,3):this.Ff=jr(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');y=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(y){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};cs(ho,Zo);var Rd=function(){ho.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fN(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,18)},set:function(n){n?this.Ff=Fr(this.Ff,18):this.Ff=jr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Fr(this.Ff,19):this.Ff=jr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,20)},set:function(n){n?(this.Ff=Fr(this.Ff,20),t.sort()):this.Ff=jr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,22)},set:function(n){n?this.Ff=Fr(this.Ff,22):this.Ff=jr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,23)},set:function(n){n?this.Ff=Fr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,27)},set:function(n){n?this.Ff=Fr(this.Ff,27):this.Ff=jr(this.Ff,27)}}),this.hasAppearanceStream=!1};cs(Rd,ho);var Od=function(){Rd.call(this),this.fontName="helvetica",this.combo=!1};cs(Od,Rd);var Pd=function(){Od.call(this),this.combo=!0};cs(Pd,Od);var $1=function(){Pd.call(this),this.edit=!0};cs($1,Pd);var ai=function(){ho.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,15)},set:function(n){n?this.Ff=Fr(this.Ff,15):this.Ff=jr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,16)},set:function(n){n?this.Ff=Fr(this.Ff,16):this.Ff=jr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,17)},set:function(n){n?this.Ff=Fr(this.Ff,17):this.Ff=jr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,26)},set:function(n){n?this.Ff=Fr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+iu(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Zn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+Y1(n)}})};cs(ai,ho);var q1=function(){ai.call(this),this.pushButton=!0};cs(q1,ai);var Ld=function(){ai.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};cs(Ld,ai);var Z1=function(){var e,t;ho.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+iu(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Zn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};cs(Z1,ho),Ld.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Ld.prototype.createOption=function(e){var t=new Z1;return t.Parent=this,t.optionName=e,this.Kids.push(t),hY.call(this.scope,t),t};var W1=function(){ai.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tt.CheckBox.createAppearanceStream()};cs(W1,ai);var ru=function(){ho.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,13)},set:function(t){t?this.Ff=Fr(this.Ff,13):this.Ff=jr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,21)},set:function(t){t?this.Ff=Fr(this.Ff,21):this.Ff=jr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,23)},set:function(t){t?this.Ff=Fr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,24)},set:function(t){t?this.Ff=Fr(this.Ff,24):this.Ff=jr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,25)},set:function(t){t?this.Ff=Fr(this.Ff,25):this.Ff=jr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,26)},set:function(t){t?this.Ff=Fr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};cs(ru,ho);var G1=function(){ru.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Lr(this.Ff,14)},set:function(e){e?this.Ff=Fr(this.Ff,14):this.Ff=jr(this.Ff,14)}}),this.password=!0};cs(G1,ru);var Tt={CheckBox:{createAppearanceStream:function(){return{N:{On:Tt.CheckBox.YesNormal},D:{On:Tt.CheckBox.YesPushDown,Off:Tt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Yo(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=zx(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+nn(Tt.internal.getWidth(e))+" "+nn(Tt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+nn(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Yo(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Tt.internal.getHeight(e),o=Tt.internal.getWidth(e),a=zx(e,e.caption);return i.push("1 g"),i.push("0 0 "+nn(o)+" "+nn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+nn(o-1)+" "+nn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+nn(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Yo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+nn(Tt.internal.getWidth(e))+" "+nn(Tt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Tt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Tt.RadioButton.Circle.YesNormal,t.D[e]=Tt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Yo(e);t.scope=e.scope;var n=[],r=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Tt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Wl(Tt.internal.getWidth(e)/2)+" "+Wl(Tt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Yo(e);t.scope=e.scope;var n=[],r=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Tt.internal.Bezier_C).toFixed(5)),o=Number((r*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Wl(Tt.internal.getWidth(e)/2)+" "+Wl(Tt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Wl(Tt.internal.getWidth(e)/2)+" "+Wl(Tt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Yo(e);t.scope=e.scope;var n=[],r=Tt.internal.getWidth(e)<=Tt.internal.getHeight(e)?Tt.internal.getWidth(e)/4:Tt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Wl(Tt.internal.getWidth(e)/2)+" "+Wl(Tt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Tt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Tt.RadioButton.Cross.YesNormal,t.D[e]=Tt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Yo(e);t.scope=e.scope;var n=[],r=Tt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+nn(Tt.internal.getWidth(e)-2)+" "+nn(Tt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(nn(r.x1.x)+" "+nn(r.x1.y)+" m"),n.push(nn(r.x2.x)+" "+nn(r.x2.y)+" l"),n.push(nn(r.x4.x)+" "+nn(r.x4.y)+" m"),n.push(nn(r.x3.x)+" "+nn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Yo(e);t.scope=e.scope;var n=Tt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+nn(Tt.internal.getWidth(e))+" "+nn(Tt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+nn(Tt.internal.getWidth(e)-2)+" "+nn(Tt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(nn(n.x1.x)+" "+nn(n.x1.y)+" m"),r.push(nn(n.x2.x)+" "+nn(n.x2.y)+" l"),r.push(nn(n.x4.x)+" "+nn(n.x4.y)+" m"),r.push(nn(n.x3.x)+" "+nn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Yo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+nn(Tt.internal.getWidth(e))+" "+nn(Tt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Tt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Tt.internal.getWidth(e),n=Tt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Tt.internal.getWidth=function(e){var t=0;return Zn(e)==="object"&&(t=WD(e.Rect[2])),t},Tt.internal.getHeight=function(e){var t=0;return Zn(e)==="object"&&(t=WD(e.Rect[3])),t};var hY=Tr.addField=function(e){if(fY(this,e),!(e instanceof ho))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Tr.AcroFormChoiceField=Rd,Tr.AcroFormListBox=Od,Tr.AcroFormComboBox=Pd,Tr.AcroFormEditBox=$1,Tr.AcroFormButton=ai,Tr.AcroFormPushButton=q1,Tr.AcroFormRadioButton=Ld,Tr.AcroFormCheckBox=W1,Tr.AcroFormTextField=ru,Tr.AcroFormPasswordField=G1,Tr.AcroFormAppearance=Tt,Tr.AcroForm={ChoiceField:Rd,ListBox:Od,ComboBox:Pd,EditBox:$1,Button:ai,PushButton:q1,RadioButton:Ld,CheckBox:W1,TextField:ru,PasswordField:G1,Appearance:Tt},Ft.AcroForm={ChoiceField:Rd,ListBox:Od,ComboBox:Pd,EditBox:$1,Button:ai,PushButton:q1,RadioButton:Ld,CheckBox:W1,TextField:ru,PasswordField:G1,Appearance:Tt};var Wle=Ft.AcroForm;function mN(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(E,C){var R,m,b,w,_,x=n;if((C=C||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(F(E))for(_ in r)for(b=r[_],R=0;R<b.length;R+=1){for(w=!0,m=0;m<b[R].length;m+=1)if(b[R][m]!==void 0&&b[R][m]!==E[m]){w=!1;break}if(w===!0){x=_;break}}else for(_ in r)for(b=r[_],R=0;R<b.length;R+=1){for(w=!0,m=0;m<b[R].length;m+=1)if(b[R][m]!==void 0&&b[R][m]!==E.charCodeAt(m)){w=!1;break}if(w===!0){x=_;break}}return x===n&&C!==n&&(x=C),x},s=function E(C){for(var R=this.internal.write,m=this.internal.putStream,b=(0,this.internal.getFilters)();b.indexOf("FlateEncode")!==-1;)b.splice(b.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var w=[];if(w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Image"}),w.push({key:"Width",value:C.width}),w.push({key:"Height",value:C.height}),C.colorSpace===v.INDEXED?w.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(w.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===v.DEVICE_CMYK&&w.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),w.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&w.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var _="",x=0,I=C.transparency.length;x<I;x++)_+=C.transparency[x]+" "+C.transparency[x]+" ";w.push({key:"Mask",value:"["+_+"]"})}C.sMask!==void 0&&w.push({key:"SMask",value:C.objectId+1+" 0 R"});var O=C.filter!==void 0?["/"+C.filter]:void 0;if(m({data:C.data,additionalKeyValues:w,alreadyAppliedFilters:O,objectId:C.objectId}),R("endobj"),"sMask"in C&&C.sMask!==void 0){var $,P=($=C.sMaskBitsPerComponent)!==null&&$!==void 0?$:C.bitsPerComponent,G={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:C.sMask};"filter"in C&&(G.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(C.width),G.filter=C.filter),E.call(this,G)}if(C.colorSpace===v.INDEXED){var D=this.internal.newObject();m({data:B(new Uint8Array(C.palette)),objectId:D}),R("endobj")}},o=function(){var E=this.internal.collections[t+"images"];for(var C in E)s.call(this,E[C])},a=function(){var E,C=this.internal.collections[t+"images"],R=this.internal.write;for(var m in C)R("/I"+(E=C[m]).index,E.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var E=this.internal.collections[t+"images"];return l.call(this),E},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(E){return typeof e["process"+E.toUpperCase()]=="function"},h=function(E){return Zn(E)==="object"&&E.nodeType===1},f=function(E,C){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var R=""+E.getAttribute("src");if(R.indexOf("data:image/")===0)return H1(unescape(R).split("base64,").pop());var m=e.loadFile(R,!0);if(m!==void 0)return m}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var b;switch(C){case"PNG":b="image/png";break;case"WEBP":b="image/webp";break;default:b="image/jpeg"}return H1(E.toDataURL(b,1).split("base64,").pop())}},p=function(E){var C=this.internal.collections[t+"images"];if(C){for(var R in C)if(E===C[R].alias)return C[R]}},g=function(E,C,R){return E||C||(E=-96,C=-96),E<0&&(E=-1*R.width*72/E/this.internal.scaleFactor),C<0&&(C=-1*R.height*72/C/this.internal.scaleFactor),E===0&&(E=C*R.width/R.height),C===0&&(C=E*R.height/R.width),[E,C]},y=function(E,C,R,m,b,w){var _=g.call(this,R,m,b),x=this.internal.getCoordinateString,I=this.internal.getVerticalCoordinateString,O=c.call(this);if(R=_[0],m=_[1],O[b.index]=b,w){w*=Math.PI/180;var $=Math.cos(w),P=Math.sin(w),G=function(W){return W.toFixed(4)},D=[G($),G(P),G(-1*P),G($),0,0,"cm"]}this.internal.write("q"),w?(this.internal.write([1,"0","0",1,x(E),I(C+m),"cm"].join(" ")),this.internal.write(D.join(" ")),this.internal.write([x(R),"0","0",x(m),"0","0","cm"].join(" "))):this.internal.write([x(R),"0","0",x(m),x(E),I(C+m),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+b.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(E){var C,R,m=0;if(typeof E=="string")for(R=E.length,C=0;C<R;C++)m=(m<<5)-m+E.charCodeAt(C),m|=0;else if(F(E))for(R=E.byteLength/2,C=0;C<R;C++)m=(m<<5)-m+E[C],m|=0;return m},M=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var C=!0;return E.length===0&&(C=!1),E.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(C=!1),C},z=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var C=E.indexOf(",");return C<0?null:E.substring(0,C).trim().endsWith("base64")?E.substring(C+1):null};e.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},j=e.__addimage__.binaryStringToUint8Array=function(E){for(var C=E.length,R=new Uint8Array(C),m=0;m<C;m++)R[m]=E.charCodeAt(m);return R},B=e.__addimage__.arrayBufferToBinaryString=function(E){for(var C="",R=F(E)?E:new Uint8Array(E),m=0;m<R.length;m+=8192)C+=String.fromCharCode.apply(null,R.subarray(m,m+8192));return C};e.addImage=function(){var E,C,R,m,b,w,_,x,I;if(typeof arguments[1]=="number"?(C=n,R=arguments[1],m=arguments[2],b=arguments[3],w=arguments[4],_=arguments[5],x=arguments[6],I=arguments[7]):(C=arguments[1],R=arguments[2],m=arguments[3],b=arguments[4],w=arguments[5],_=arguments[6],x=arguments[7],I=arguments[8]),Zn(E=arguments[0])==="object"&&!h(E)&&"imageData"in E){var O=E;E=O.imageData,C=O.format||C||n,R=O.x||R||0,m=O.y||m||0,b=O.w||O.width||b,w=O.h||O.height||w,_=O.alias||_,x=O.compression||x,I=O.rotation||O.angle||I}var $=this.internal.getFilters();if(x===void 0&&$.indexOf("FlateEncode")!==-1&&(x="SLOW"),isNaN(R)||isNaN(m))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=U.call(this,E,C,_,x);return y.call(this,R,m,b,w,P,I),this};var U=function(E,C,R,m){var b,w,_;if(typeof E=="string"&&i(E)===n){E=unescape(E);var x=V(E,!1);(x!==""||(x=e.loadFile(E,!0))!==void 0)&&(E=x)}if(h(E)&&(E=f(E,C)),C=i(E,C),!d(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((_=R)==null||_.length===0)&&(R=function(I){return typeof I=="string"||F(I)?k(I):F(I.data)?k(I.data):null}(E)),(b=p.call(this,R))||(E instanceof Uint8Array||C==="RGBA"||(w=E,E=j(E)),b=this["process"+C.toUpperCase()](E,u.call(this),R,function(I){return I&&typeof I=="string"&&(I=I.toUpperCase()),I in e.image_compression?I:S.NONE}(m),w)),!b)throw new Error("An unknown error occurred whilst processing the image.");return b},V=e.__addimage__.convertBase64ToBinaryString=function(E,C){C=typeof C!="boolean"||C;var R,m="";if(typeof E=="string"){var b;R=(b=z(E))!==null&&b!==void 0?b:E;try{m=H1(R)}catch(w){if(C)throw M(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+w.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return m};e.getImageProperties=function(E){var C,R,m="";if(h(E)&&(E=f(E)),typeof E=="string"&&i(E)===n&&((m=V(E,!1))===""&&(m=e.loadFile(E)||""),E=m),R=i(E),!d(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(E instanceof Uint8Array||(E=j(E)),!(C=this["process"+R.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=R,C}})(Ft.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var f=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(v(r.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(v(S))+") >>",g.content=s;var k=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(s+=" /Open true"),s+=" >>",y.content=s,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var M=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(p(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var F=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+F+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ft.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&t[g.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(g){var y=0,v=n,S="",k=0;for(y=0;y<g.length;y+=1)v[g.charCodeAt(y)]!==void 0?(k++,typeof(v=v[g.charCodeAt(y)])=="number"&&(S+=String.fromCharCode(v),v=n,k=0),y===g.length-1&&(v=n,S+=g.charAt(y-(k-1)),y-=k-1,k=0)):(v=n,S+=g.charAt(y-k),y-=k,k=0);return S};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,y,v){return o(g)?s(g)===!1?-1:!c(g)||!o(y)&&!o(v)||!o(v)&&a(y)||a(g)&&!o(y)||a(g)&&l(y)||a(g)&&a(y)?0:u(g)&&o(y)&&!a(y)&&o(v)&&c(v)?3:a(g)||!o(v)?1:2:-1},f=function(g){var y=0,v=0,S=0,k="",M="",z="",F=(g=g||"").split("\\s+"),j=[];for(y=0;y<F.length;y+=1){for(j.push(""),v=0;v<F[y].length;v+=1)k=F[y][v],M=F[y][v-1],z=F[y][v+1],o(k)?(S=h(k,M,z),j[y]+=S!==-1?String.fromCharCode(t[k.charCodeAt(0)][S]):k):j[y]+=k;j[y]=d(j[y])}return j.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(y)){var S=0;for(v=[],S=0;S<y.length;S+=1)Array.isArray(y[S])?v.push([f(y[S][0]),y[S][1],y[S][2]]):v.push([f(y[S])]);g=v}else g=f(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",p])}(Ft.API),Ft.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ft.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(g){p=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,p=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,M){return k.concat(y.splitTextToSize(M,v))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)f<(g=this.getStringUnitWidth(l[S],{font:d})*u)&&(f=g);return f!==0&&(p=l.length),{w:f/=h,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,d,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,p,g,y,v=[],S=[],k=[],M={},z={},F=[],j=[],B=(h=h||{}).autoSize||!1,U=h.printHeaders!==!1,V=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),C=typeof h.padding=="number"?h.padding:3,R=h.headerBackgroundColor||"#c8c8c8",m=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=m,this.setFontSize(V),d==null)S=v=Object.keys(u[0]),k=v.map(function(){return"left"});else if(Array.isArray(d)&&Zn(d[0])==="object")for(v=d.map(function(O){return O.name}),S=d.map(function(O){return O.prompt||O.name||""}),k=d.map(function(O){return O.align||"left"}),f=0;f<d.length;f+=1)z[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(S=v=d,k=v.map(function(){return"left"}));if(B||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<v.length;f+=1){for(M[y=v[f]]=u.map(function(O){return O[y]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(S[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=M[y],this.setFont(void 0,"normal"),g=0;g<p.length;g+=1)F.push(this.getTextDimensions(p[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[y]=Math.max.apply(null,F)+C+C,F=[]}if(U){var b={};for(f=0;f<v.length;f+=1)b[v[f]]={},b[v[f]].text=S[f],b[v[f]].align=k[f];var w=a.call(this,b,z);j=v.map(function(O){return new s(l,c,z[O],w,b[O].text,void 0,b[O].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var _=d.reduce(function(O,$){return O[$.name]=$.align,O},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var x=a.call(this,u[f],z);for(g=0;g<v.length;g+=1){var I=u[f][v[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:g,data:I},this),o.call(this,new s(l,c,z[v[g]],x,I,f+2,_[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var p=l[f];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,p){return Math.max(f,p)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(Ft.API);var gN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Hx=mN(yN),bN=[100,200,300,400,500,600,700,800,900],pY=mN(bN);function Lx(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return gN[s=s||"normal"]?s:"normal"}(e.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof Hx[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function GD(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var mY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},KD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function YD(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ZD(e){return e.trimLeft()}function gY(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function yY(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var kd,z1,XD,JD,QD,Fx=["times"];function eN(e,t,n,r,i){var s=4,o=nN;switch(i){case Ft.API.image_compression.FAST:s=1,o=tN;break;case Ft.API.image_compression.MEDIUM:s=6,o=rN;break;case Ft.API.image_compression.SLOW:s=9,o=iN}e=function(l,c,u,d){for(var h,f=l.length/c,p=new Uint8Array(l.length+f),g=[bY,tN,nN,rN,iN],y=0;y<f;y+=1){var v=y*c,S=l.subarray(v,v+c);if(d)p.set(d(S,u,h),v+y);else{for(var k=g.length,M=[],z=0;z<k;z+=1)M[z]=g[z](S,u,h);var F=_Y(M.concat());p.set(M[F],v+y)}h=S}return p}(e,t,Math.ceil(n*r/8),o);var a=b1(e,{level:s});return Ft.API.__addimage__.arrayBufferToBinaryString(a)}function bY(e){var t=Array.apply([],e);return t.unshift(0),t}function tN(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=e[i-t]||0;r[i+1]=e[i]-s+256&255}return r}function nN(e,t,n){var r=e.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=e[s]-o+256&255}return i}function rN(e,t,n){var r=e.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=e[s-t]||0,a=n&&n[s]||0;i[s+1]=e[s]+256-(o+a>>>1)&255}return i}function iN(e,t,n){var r=e.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=vY(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);i[s+1]=e[s]-o+256&255}return i}function vY(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=i&&r<=s?e:i<=s?t:n}function _Y(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function jx(e,t,n){var r=t*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return vN(e,i)>>s&o}function sN(e,t,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(t&a)<<o;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var h=d>>8&255;c.setUint8(u,h)}})(e,s,vN(e,s)&~(a<<o)&65535|l)}function vN(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function wY(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<1+(7&i);e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,u=[],d=0,h=null,f=0,p=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],1&g||(h=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,M=e[t++],z=M>>6&1,F=1<<1+(7&M),j=a,B=l,U=!1;M>>7&&(U=!0,j=t,B=F,t+=3*F);var V=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:y,y:v,width:S,height:k,has_local_palette:U,palette_offset:j,palette_size:B,data_offset:V,data_length:t-V,transparent_index:h,interlaced:!!z,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,R){var m=this.frameInfo(C),b=m.width*m.height,w=new Uint8Array(b);oN(e,m.data_offset,w,b);var _=m.palette_offset,x=m.transparent_index;x===null&&(x=256);var I=m.width,O=n-I,$=I,P=4*(m.y*n+m.x),G=4*((m.y+m.height)*n+m.x),D=P,W=4*O;m.interlaced===!0&&(W+=4*n*7);for(var A=8,T=0,H=w.length;T<H;++T){var Z=w[T];if($===0&&($=I,(D+=W)>=G&&(W=4*O+4*n*(A-1),D=P+(I+O)*(A<<1),A>>=1)),Z===x)D+=4;else{var Q=e[_+3*Z],J=e[_+3*Z+1],ne=e[_+3*Z+2];R[D++]=ne,R[D++]=J,R[D++]=Q,R[D++]=255}--$}},this.decodeAndBlitFrameRGBA=function(C,R){var m=this.frameInfo(C),b=m.width*m.height,w=new Uint8Array(b);oN(e,m.data_offset,w,b);var _=m.palette_offset,x=m.transparent_index;x===null&&(x=256);var I=m.width,O=n-I,$=I,P=4*(m.y*n+m.x),G=4*((m.y+m.height)*n+m.x),D=P,W=4*O;m.interlaced===!0&&(W+=4*n*7);for(var A=8,T=0,H=w.length;T<H;++T){var Z=w[T];if($===0&&($=I,(D+=W)>=G&&(W=4*O+4*n*(A-1),D=P+(I+O)*(A<<1),A>>=1)),Z===x)D+=4;else{var Q=e[_+3*Z],J=e[_+3*Z+1],ne=e[_+3*Z+2];R[D++]=Q,R[D++]=J,R[D++]=ne,R[D++]=255}--$}}}function oN(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,d=0,h=0,f=e[t++],p=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)d|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<l)break;var y=d&c;if(d>>=l,u-=l,y!==s){if(y===o)break;for(var v=y<a?y:g,S=0,k=v;k>s;)k=p[k]>>8,++S;var M=k;if(h+S+(v!==y?1:0)>r)return void ir.log("Warning, gif stream longer than expected.");n[h++]=M;var z=h+=S;for(v!==y&&(n[h++]=M),k=v;S--;)k=p[k],n[--z]=255&k,k>>=8;g!==null&&a<4096&&(p[a++]=g<<8|M,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=y}else a=o+1,c=(1<<(l=i+1))-1,g=null}return h!==r&&ir.log("Warning, gif stream shorter than expected."),n}function Bx(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),p=new Array(64),g=[],y=0,v=7,S=new Array(64),k=new Array(64),M=new Array(64),z=new Array(256),F=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],m=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],b=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function w(P,G){for(var D=0,W=0,A=new Array,T=1;T<=16;T++){for(var H=1;H<=P[T];H++)A[G[W]]=[],A[G[W]][0]=D,A[G[W]][1]=T,W++,D++;D*=2}return A}function _(P){for(var G=P[0],D=P[1]-1;D>=0;)G&1<<D&&(y|=1<<v),D--,--v<0&&(y==255?(x(255),x(0)):x(y),v=7,y=0)}function x(P){g.push(P)}function I(P){x(P>>8&255),x(255&P)}function O(P,G,D,W,A){for(var T,H=A[0],Z=A[240],Q=function(me,xe){var we,De,Re,Fe,rt,je,Ze,gt,Ge,Ke,Ye=0;for(Ge=0;Ge<8;++Ge){we=me[Ye],De=me[Ye+1],Re=me[Ye+2],Fe=me[Ye+3],rt=me[Ye+4],je=me[Ye+5],Ze=me[Ye+6];var Xe=we+(gt=me[Ye+7]),Ve=we-gt,dt=De+Ze,et=De-Ze,ft=Re+je,xt=Re-je,ut=Fe+rt,nt=Fe-rt,St=Xe+ut,bt=Xe-ut,ct=dt+ft,Ct=dt-ft;me[Ye]=St+ct,me[Ye+4]=St-ct;var ht=.707106781*(Ct+bt);me[Ye+2]=bt+ht,me[Ye+6]=bt-ht;var Ot=.382683433*((St=nt+xt)-(Ct=et+Ve)),On=.5411961*St+Ot,Bt=1.306562965*Ct+Ot,At=.707106781*(ct=xt+et),Nt=Ve+At,Vt=Ve-At;me[Ye+5]=Vt+On,me[Ye+3]=Vt-On,me[Ye+1]=Nt+Bt,me[Ye+7]=Nt-Bt,Ye+=8}for(Ye=0,Ge=0;Ge<8;++Ge){we=me[Ye],De=me[Ye+8],Re=me[Ye+16],Fe=me[Ye+24],rt=me[Ye+32],je=me[Ye+40],Ze=me[Ye+48];var _e=we+(gt=me[Ye+56]),Ne=we-gt,Pe=De+Ze,Ue=De-Ze,zt=Re+je,it=Re-je,yt=Fe+rt,_n=Fe-rt,_t=_e+yt,pt=_e-yt,an=Pe+zt,Wt=Pe-zt;me[Ye]=_t+an,me[Ye+32]=_t-an;var Ht=.707106781*(Wt+pt);me[Ye+16]=pt+Ht,me[Ye+48]=pt-Ht;var An=.382683433*((_t=_n+it)-(Wt=Ue+Ne)),jn=.5411961*_t+An,sr=1.306562965*Wt+An,Ar=.707106781*(an=it+Ue),or=Ne+Ar,xr=Ne-Ar;me[Ye+40]=xr+jn,me[Ye+24]=xr-jn,me[Ye+8]=or+sr,me[Ye+56]=or-sr,Ye++}for(Ge=0;Ge<64;++Ge)Ke=me[Ge]*xe[Ge],f[Ge]=Ke>0?Ke+.5|0:Ke-.5|0;return f}(P,G),J=0;J<64;++J)p[j[J]]=Q[J];var ne=p[0]-D;D=p[0],ne==0?_(W[0]):(_(W[h[T=32767+ne]]),_(d[T]));for(var ge=63;ge>0&&p[ge]==0;)ge--;if(ge==0)return _(H),D;for(var ye,K=1;K<=ge;){for(var ce=K;p[K]==0&&K<=ge;)++K;var ue=K-ce;if(ue>=16){ye=ue>>4;for(var ve=1;ve<=ye;++ve)_(Z);ue&=15}T=32767+p[K],_(A[(ue<<4)+h[T]]),_(d[T]),K++}return ge!=63&&_(H),D}function $(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(G){for(var D=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var A=o((D[W]*G+50)/100);A=Math.min(Math.max(A,1),255),a[j[W]]=A}for(var T=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],H=0;H<64;H++){var Z=o((T[H]*G+50)/100);Z=Math.min(Math.max(Z,1),255),l[j[H]]=Z}for(var Q=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],J=0,ne=0;ne<8;ne++)for(var ge=0;ge<8;ge++)c[J]=1/(a[j[J]]*Q[ne]*Q[ge]*8),u[J]=1/(l[j[J]]*Q[ne]*Q[ge]*8),J++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,G){G&&$(G),g=new Array,y=0,v=7,I(65496),I(65504),I(16),x(74),x(70),x(73),x(70),x(0),x(1),x(1),x(0),I(1),I(1),x(0),x(0),function(){I(65499),I(132),x(0);for(var De=0;De<64;De++)x(a[De]);x(1);for(var Re=0;Re<64;Re++)x(l[Re])}(),function(De,Re){I(65472),I(17),x(8),I(Re),I(De),x(3),x(1),x(17),x(0),x(2),x(17),x(1),x(3),x(17),x(1)}(P.width,P.height),function(){I(65476),I(418),x(0);for(var De=0;De<16;De++)x(B[De+1]);for(var Re=0;Re<=11;Re++)x(U[Re]);x(16);for(var Fe=0;Fe<16;Fe++)x(V[Fe+1]);for(var rt=0;rt<=161;rt++)x(E[rt]);x(1);for(var je=0;je<16;je++)x(C[je+1]);for(var Ze=0;Ze<=11;Ze++)x(R[Ze]);x(17);for(var gt=0;gt<16;gt++)x(m[gt+1]);for(var Ge=0;Ge<=161;Ge++)x(b[Ge])}(),I(65498),I(12),x(3),x(1),x(0),x(2),x(17),x(3),x(17),x(0),x(63),x(0);var D=0,W=0,A=0;y=0,v=7,this.encode.displayName="_encode_";for(var T,H,Z,Q,J,ne,ge,ye,K,ce=P.data,ue=P.width,ve=P.height,me=4*ue,xe=0;xe<ve;){for(T=0;T<me;){for(J=me*xe+T,ge=-1,ye=0,K=0;K<64;K++)ne=J+(ye=K>>3)*me+(ge=4*(7&K)),xe+ye>=ve&&(ne-=me*(xe+1+ye-ve)),T+ge>=me&&(ne-=T+ge-me+4),H=ce[ne++],Z=ce[ne++],Q=ce[ne++],S[K]=(F[H]+F[Z+256|0]+F[Q+512|0]>>16)-128,k[K]=(F[H+768|0]+F[Z+1024|0]+F[Q+1280|0]>>16)-128,M[K]=(F[H+1280|0]+F[Z+1536|0]+F[Q+1792|0]>>16)-128;D=O(S,c,D,t,r),W=O(k,u,W,n,i),A=O(M,u,A,n,i),T+=32}xe+=8}if(v>=0){var we=[];we[1]=v+1,we[0]=(1<<v+1)-1,_(we)}return I(65497),new Uint8Array(g)},e=e||50,function(){for(var P=String.fromCharCode,G=0;G<256;G++)z[G]=P(G)}(),t=w(B,U),n=w(C,R),r=w(V,E),i=w(m,b),function(){for(var P=1,G=2,D=1;D<=15;D++){for(var W=P;W<G;W++)h[32767+W]=D,d[32767+W]=[],d[32767+W][1]=D,d[32767+W][0]=W;for(var A=-(G-1);A<=-P;A++)h[32767+A]=D,d[32767+A]=[],d[32767+A][1]=D,d[32767+A][0]=G-1+A;P<<=1,G<<=1}}(),function(){for(var P=0;P<256;P++)F[P]=19595*P,F[P+256|0]=38470*P,F[P+512|0]=7471*P+32768,F[P+768|0]=-11059*P,F[P+1024|0]=-21709*P,F[P+1280|0]=32768*P+8421375,F[P+1536|0]=-27439*P,F[P+1792|0]=-5329*P}(),$(e)}function fo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function aN(e){function t(U){if(!U)throw Error("assert :P")}function n(U,V,E){for(var C=0;4>C;C++)if(U[V+C]!=E.charCodeAt(C))return!0;return!1}function r(U,V,E,C,R){for(var m=0;m<R;m++)U[V+m]=E[C+m]}function i(U,V,E,C){for(var R=0;R<C;R++)U[V+R]=E}function s(U){return new Int32Array(U)}function o(U,V){for(var E=[],C=0;C<U;C++)E.push(new V);return E}function a(U,V){var E=[];return function C(R,m,b){for(var w=b[m],_=0;_<w&&(R.push(b.length>m+1?[]:new V),!(b.length<m+1));_++)C(R[_],m+1,b)}(E,0,U),E}var l=function(){var U=this;function V(N,L){for(var Y=1<<L-1>>>0;N&Y;)Y>>>=1;return Y?(N&Y-1)+Y:N}function E(N,L,Y,X,te){t(!(X%Y));do N[L+(X-=Y)]=te;while(0<X)}function C(N,L,Y,X,te){if(t(2328>=te),512>=te)var re=s(512);else if((re=s(te))==null)return 0;return function(ie,oe,le,de,Se,Oe){var fe,Ce,Te=oe,Be=1<<le,Me=s(16),ze=s(16);for(t(Se!=0),t(de!=null),t(ie!=null),t(0<le),Ce=0;Ce<Se;++Ce){if(15<de[Ce])return 0;++Me[de[Ce]]}if(Me[0]==Se)return 0;for(ze[1]=0,fe=1;15>fe;++fe){if(Me[fe]>1<<fe)return 0;ze[fe+1]=ze[fe]+Me[fe]}for(Ce=0;Ce<Se;++Ce)fe=de[Ce],0<de[Ce]&&(Oe[ze[fe]++]=Ce);if(ze[15]==1)return(de=new R).g=0,de.value=Oe[0],E(ie,Te,1,Be,de),Be;var qe,st=-1,Qe=Be-1,jt=0,Et=1,fn=1,Mt=1<<le;for(Ce=0,fe=1,Se=2;fe<=le;++fe,Se<<=1){if(Et+=fn<<=1,0>(fn-=Me[fe]))return 0;for(;0<Me[fe];--Me[fe])(de=new R).g=fe,de.value=Oe[Ce++],E(ie,Te+jt,Se,Mt,de),jt=V(jt,fe)}for(fe=le+1,Se=2;15>=fe;++fe,Se<<=1){if(Et+=fn<<=1,0>(fn-=Me[fe]))return 0;for(;0<Me[fe];--Me[fe]){if(de=new R,(jt&Qe)!=st){for(Te+=Mt,qe=1<<(st=fe)-le;15>st&&!(0>=(qe-=Me[st]));)++st,qe<<=1;Be+=Mt=1<<(qe=st-le),ie[oe+(st=jt&Qe)].g=qe+le,ie[oe+st].value=Te-oe-st}de.g=fe-le,de.value=Oe[Ce++],E(ie,Te+(jt>>le),Se,Mt,de),jt=V(jt,fe)}}return Et!=2*ze[15]-1?0:Be}(N,L,Y,X,te,re)}function R(){this.value=this.g=0}function m(){this.value=this.g=0}function b(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ac,m)}function w(N,L,Y,X){t(N!=null),t(L!=null),t(2147483648>X),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=L,N.pa=Y,N.Jd=L,N.Yc=Y+X,N.Zc=4<=X?Y+X-4+1:Y,H(N)}function _(N,L){for(var Y=0;0<L--;)Y|=Q(N,128)<<L;return Y}function x(N,L){var Y=_(N,L);return Z(N)?-Y:Y}function I(N,L,Y,X){var te,re=0;for(t(N!=null),t(L!=null),t(4294967288>X),N.Sb=X,N.Ra=0,N.u=0,N.h=0,4<X&&(X=4),te=0;te<X;++te)re+=L[Y+te]<<8*te;N.Ra=re,N.bb=X,N.oa=L,N.pa=Y}function O(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<rl-8>>>0,++N.bb,N.u-=8;W(N)&&(N.h=1,N.u=0)}function $(N,L){if(t(0<=L),!N.h&&L<=hs){var Y=D(N)&fs[L];return N.u+=L,O(N),Y}return N.h=1,N.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function D(N){return N.Ra>>>(N.u&rl-1)>>>0}function W(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>rl}function A(N,L){N.u=L,N.h=W(N)}function T(N){N.u>=ua&&(t(N.u>=ua),O(N))}function H(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function Z(N){return _(N,1)}function Q(N,L){var Y=N.Ca;0>N.b&&H(N);var X=N.b,te=Y*L>>>8,re=(N.I>>>X>te)+0;for(re?(Y-=te,N.I-=te+1<<X>>>0):Y=te+1,X=Y,te=0;256<=X;)te+=8,X>>=8;return X=7^te+il[X],N.b-=X,N.Ca=(Y<<X)-1,re}function J(N,L,Y){N[L+0]=Y>>24&255,N[L+1]=Y>>16&255,N[L+2]=Y>>8&255,N[L+3]=255&Y}function ne(N,L){return N[L+0]|N[L+1]<<8}function ge(N,L){return ne(N,L)|N[L+2]<<16}function ye(N,L){return ne(N,L)|ne(N,L+2)<<16}function K(N,L){var Y=1<<L;return t(N!=null),t(0<L),N.X=s(Y),N.X==null?0:(N.Mb=32-L,N.Xa=L,1)}function ce(N,L){t(N!=null),t(L!=null),t(N.Xa==L.Xa),r(L.X,0,N.X,0,1<<L.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function ve(N,L,Y,X){t(Y!=null),t(X!=null);var te=Y[0],re=X[0];return te==0&&(te=(N*re+L/2)/L),re==0&&(re=(L*te+N/2)/N),0>=te||0>=re?0:(Y[0]=te,X[0]=re,1)}function me(N,L){return N+(1<<L)-1>>>L}function xe(N,L){return((4278255360&N)+(4278255360&L)>>>0&4278255360)+((16711935&N)+(16711935&L)>>>0&16711935)>>>0}function we(N,L){U[L]=function(Y,X,te,re,ie,oe,le){var de;for(de=0;de<ie;++de){var Se=U[N](oe[le+de-1],te,re+de);oe[le+de]=xe(Y[X+de],Se)}}}function De(){this.ud=this.hd=this.jd=0}function Re(N,L){return((4278124286&(N^L))>>>1)+(N&L)>>>0}function Fe(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function rt(N,L){return Fe(N+(N-L+.5>>1))}function je(N,L,Y){return Math.abs(L-Y)-Math.abs(N-Y)}function Ze(N,L,Y,X,te,re,ie){for(X=re[ie-1],Y=0;Y<te;++Y)re[ie+Y]=X=xe(N[L+Y],X)}function gt(N,L,Y,X,te){var re;for(re=0;re<Y;++re){var ie=N[L+re],oe=ie>>8&255,le=16711935&(le=(le=16711935&ie)+((oe<<16)+oe));X[te+re]=(4278255360&ie)+le>>>0}}function Ge(N,L){L.jd=255&N,L.hd=N>>8&255,L.ud=N>>16&255}function Ke(N,L,Y,X,te,re){var ie;for(ie=0;ie<X;++ie){var oe=L[Y+ie],le=oe>>>8,de=oe,Se=255&(Se=(Se=oe>>>16)+((N.jd<<24>>24)*(le<<24>>24)>>>5));de=255&(de=(de+=(N.hd<<24>>24)*(le<<24>>24)>>>5)+((N.ud<<24>>24)*(Se<<24>>24)>>>5)),te[re+ie]=(4278255360&oe)+(Se<<16)+de}}function Ye(N,L,Y,X,te){U[L]=function(re,ie,oe,le,de,Se,Oe,fe,Ce){for(le=Oe;le<fe;++le)for(Oe=0;Oe<Ce;++Oe)de[Se++]=te(oe[X(re[ie++])])},U[N]=function(re,ie,oe,le,de,Se,Oe){var fe=8>>re.b,Ce=re.Ea,Te=re.K[0],Be=re.w;if(8>fe)for(re=(1<<re.b)-1,Be=(1<<fe)-1;ie<oe;++ie){var Me,ze=0;for(Me=0;Me<Ce;++Me)Me&re||(ze=X(le[de++])),Se[Oe++]=te(Te[ze&Be]),ze>>=fe}else U["VP8LMapColor"+Y](le,de,Te,Be,Se,Oe,ie,oe,Ce)}}function Xe(N,L,Y,X,te){for(Y=L+Y;L<Y;){var re=N[L++];X[te++]=re>>16&255,X[te++]=re>>8&255,X[te++]=255&re}}function Ve(N,L,Y,X,te){for(Y=L+Y;L<Y;){var re=N[L++];X[te++]=re>>16&255,X[te++]=re>>8&255,X[te++]=255&re,X[te++]=re>>24&255}}function dt(N,L,Y,X,te){for(Y=L+Y;L<Y;){var re=(ie=N[L++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;X[te++]=re,X[te++]=ie}}function et(N,L,Y,X,te){for(Y=L+Y;L<Y;){var re=(ie=N[L++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;X[te++]=re,X[te++]=ie}}function ft(N,L,Y,X,te){for(Y=L+Y;L<Y;){var re=N[L++];X[te++]=255&re,X[te++]=re>>8&255,X[te++]=re>>16&255}}function xt(N,L,Y,X,te,re){if(re==0)for(Y=L+Y;L<Y;)J(X,((re=N[L++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),te+=32;else r(X,te,N,L,Y)}function ut(N,L){U[L][0]=U[N+"0"],U[L][1]=U[N+"1"],U[L][2]=U[N+"2"],U[L][3]=U[N+"3"],U[L][4]=U[N+"4"],U[L][5]=U[N+"5"],U[L][6]=U[N+"6"],U[L][7]=U[N+"7"],U[L][8]=U[N+"8"],U[L][9]=U[N+"9"],U[L][10]=U[N+"10"],U[L][11]=U[N+"11"],U[L][12]=U[N+"12"],U[L][13]=U[N+"13"],U[L][14]=U[N+"0"],U[L][15]=U[N+"0"]}function nt(N){return N==Iy||N==Ty||N==Xp||N==Ay}function St(){this.eb=[],this.size=this.A=this.fb=0}function bt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new St,this.f.kb=new bt,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ot(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function On(N,L){var Y=N.T,X=L.ba.f.RGBA,te=X.eb,re=X.fb+N.ka*X.A,ie=As[L.ba.S],oe=N.y,le=N.O,de=N.f,Se=N.N,Oe=N.ea,fe=N.W,Ce=L.cc,Te=L.dc,Be=L.Mc,Me=L.Nc,ze=N.ka,qe=N.ka+N.T,st=N.U,Qe=st+1>>1;for(ze==0?ie(oe,le,null,null,de,Se,Oe,fe,de,Se,Oe,fe,te,re,null,null,st):(ie(L.ec,L.fc,oe,le,Ce,Te,Be,Me,de,Se,Oe,fe,te,re-X.A,te,re,st),++Y);ze+2<qe;ze+=2)Ce=de,Te=Se,Be=Oe,Me=fe,Se+=N.Rc,fe+=N.Rc,re+=2*X.A,ie(oe,(le+=2*N.fa)-N.fa,oe,le,Ce,Te,Be,Me,de,Se,Oe,fe,te,re-X.A,te,re,st);return le+=N.fa,N.j+qe<N.o?(r(L.ec,L.fc,oe,le,st),r(L.cc,L.dc,de,Se,Qe),r(L.Mc,L.Nc,Oe,fe,Qe),Y--):1&qe||ie(oe,le,null,null,de,Se,Oe,fe,de,Se,Oe,fe,te,re+X.A,null,null,st),Y}function Bt(N,L,Y){var X=N.F,te=[N.J];if(X!=null){var re=N.U,ie=L.ba.S,oe=ie==Zp||ie==Xp;L=L.ba.f.RGBA;var le=[0],de=N.ka;le[0]=N.T,N.Kb&&(de==0?--le[0]:(--de,te[0]-=N.width),N.j+N.ka+N.T==N.o&&(le[0]=N.o-N.j-de));var Se=L.eb;de=L.fb+de*L.A,N=k3(X,te[0],N.width,re,le,Se,de+(oe?0:3),L.A),t(Y==le),N&&nt(ie)&&of(Se,de,oe,re,le,L.A)}return 0}function At(N){var L=N.ma,Y=L.ba.S,X=11>Y,te=Y==Kp||Y==Yp||Y==Zp||Y==Cy||Y==12||nt(Y);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!Xd(L.Oa,N,te?11:12))return 0;if(te&&nt(Y)&&Kd(),N.da)alert("todo:use_scaling");else{if(X){if(L.Ib=Ot,N.Kb){if(Y=N.U+1>>1,L.memory=s(N.U+2*Y),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+N.U,L.Mc=L.cc,L.Nc=L.dc+Y,L.Ib=On,Kd()}}else alert("todo:EmitYUV");te&&(L.Jb=Bt,X&&Ws())}if(X&&!W3){for(N=0;256>N;++N)GM[N]=89858*(N-128)+Qp>>Jp,ZM[N]=-22014*(N-128)+Qp,YM[N]=-45773*(N-128),KM[N]=113618*(N-128)+Qp>>Jp;for(N=lf;N<Ny;++N)L=76283*(N-16)+Qp>>Jp,XM[N-lf]=Bn(L,255),JM[N-lf]=Bn(L+8>>4,15);W3=1}return 1}function Nt(N){var L=N.ma,Y=N.U,X=N.T;return t(!(1&N.ka)),0>=Y||0>=X?0:(Y=L.Ib(N,L),L.Jb!=null&&L.Jb(N,L,Y),L.Dc+=Y,1)}function Vt(N){N.ma.memory=null}function _e(N,L,Y,X){return $(N,8)!=47?0:(L[0]=$(N,14)+1,Y[0]=$(N,14)+1,X[0]=$(N,1),$(N,3)!=0?0:!N.h)}function Ne(N,L){if(4>N)return N+1;var Y=N-2>>1;return(2+(1&N)<<Y)+$(L,Y)+1}function Pe(N,L){return 120<L?L-120:1<=(Y=((Y=RM[L-1])>>4)*N+(8-(15&Y)))?Y:1;var Y}function Ue(N,L,Y){var X=D(Y),te=N[L+=255&X].g-8;return 0<te&&(A(Y,Y.u+8),X=D(Y),L+=N[L].value,L+=X&(1<<te)-1),A(Y,Y.u+N[L].g),N[L].value}function zt(N,L,Y){return Y.g+=N.g,Y.value+=N.value<<L>>>0,t(8>=Y.g),N.g}function it(N,L,Y){var X=N.xc;return t((L=X==0?0:N.vc[N.md*(Y>>X)+(L>>X)])<N.Wb),N.Ya[L]}function yt(N,L,Y,X){var te=N.ab,re=N.c*L,ie=N.C;L=ie+L;var oe=Y,le=X;for(X=N.Ta,Y=N.Ua;0<te--;){var de=N.gc[te],Se=ie,Oe=L,fe=oe,Ce=le,Te=(le=X,oe=Y,de.Ea);switch(t(Se<Oe),t(Oe<=de.nc),de.hc){case 2:Dr(fe,Ce,(Oe-Se)*Te,le,oe);break;case 0:var Be=Se,Me=Oe,ze=le,qe=oe,st=(Mt=de).Ea;Be==0&&(Qd(fe,Ce,null,null,1,ze,qe),Ze(fe,Ce+1,0,0,st-1,ze,qe+1),Ce+=st,qe+=st,++Be);for(var Qe=1<<Mt.b,jt=Qe-1,Et=me(st,Mt.b),fn=Mt.K,Mt=Mt.w+(Be>>Mt.b)*Et;Be<Me;){var Nn=fn,Kr=Mt,hn=1;for(pu(fe,Ce,ze,qe-st,1,ze,qe);hn<st;){var Rt=(hn&~jt)+Qe;Rt>st&&(Rt=st),(0,tf[Nn[Kr++]>>8&15])(fe,Ce+ +hn,ze,qe+hn-st,Rt-hn,ze,qe+hn),hn=Rt}Ce+=st,qe+=st,++Be&jt||(Mt+=Et)}Oe!=de.nc&&r(le,oe-Te,le,oe+(Oe-Se-1)*Te,Te);break;case 1:for(Te=fe,Me=Ce,st=(fe=de.Ea)-(qe=fe&~(ze=(Ce=1<<de.b)-1)),Be=me(fe,de.b),Qe=de.K,de=de.w+(Se>>de.b)*Be;Se<Oe;){for(jt=Qe,Et=de,fn=new De,Mt=Me+qe,Nn=Me+fe;Me<Mt;)Ge(jt[Et++],fn),nf(fn,Te,Me,Ce,le,oe),Me+=Ce,oe+=Ce;Me<Nn&&(Ge(jt[Et++],fn),nf(fn,Te,Me,st,le,oe),Me+=st,oe+=st),++Se&ze||(de+=Be)}break;case 3:if(fe==le&&Ce==oe&&0<de.b){for(Me=le,fe=Te=oe+(Oe-Se)*Te-(qe=(Oe-Se)*me(de.Ea,de.b)),Ce=le,ze=oe,Be=[],qe=(st=qe)-1;0<=qe;--qe)Be[qe]=Ce[ze+qe];for(qe=st-1;0<=qe;--qe)Me[fe+qe]=Be[qe];$p(de,Se,Oe,le,Te,le,oe)}else $p(de,Se,Oe,fe,Ce,le,oe)}oe=X,le=Y}le!=Y&&r(X,Y,oe,le,re)}function _n(N,L){var Y=N.V,X=N.Ba+N.c*N.C,te=L-N.C;if(t(L<=N.l.o),t(16>=te),0<te){var re=N.l,ie=N.Ta,oe=N.Ua,le=re.width;if(yt(N,te,Y,X),te=oe=[oe],t((Y=N.C)<(X=L)),t(re.v<re.va),X>re.o&&(X=re.o),Y<re.j){var de=re.j-Y;Y=re.j,te[0]+=de*le}if(Y>=X?Y=0:(te[0]+=4*re.v,re.ka=Y-re.j,re.U=re.va-re.v,re.T=X-Y,Y=1),Y){if(oe=oe[0],11>(Y=N.ca).S){var Se=Y.f.RGBA,Oe=(X=Y.S,te=re.U,re=re.T,de=Se.eb,Se.A),fe=re;for(Se=Se.fb+N.Ma*Se.A;0<fe--;){var Ce=ie,Te=oe,Be=te,Me=de,ze=Se;switch(X){case Gp:rf(Ce,Te,Be,Me,ze);break;case Kp:sl(Ce,Te,Be,Me,ze);break;case Iy:sl(Ce,Te,Be,Me,ze),of(Me,ze,0,Be,1,0);break;case L3:lc(Ce,Te,Be,Me,ze);break;case Yp:xt(Ce,Te,Be,Me,ze,1);break;case Ty:xt(Ce,Te,Be,Me,ze,1),of(Me,ze,0,Be,1,0);break;case Zp:xt(Ce,Te,Be,Me,ze,0);break;case Xp:xt(Ce,Te,Be,Me,ze,0),of(Me,ze,1,Be,1,0);break;case Cy:ol(Ce,Te,Be,Me,ze);break;case Ay:ol(Ce,Te,Be,Me,ze),A3(Me,ze,Be,1,0);break;case F3:al(Ce,Te,Be,Me,ze);break;default:t(0)}oe+=le,Se+=Oe}N.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=Y.height)}}N.C=L,t(N.C<=N.i)}function _t(N){var L;if(0<N.ua)return 0;for(L=0;L<N.Wb;++L){var Y=N.Ya[L].G,X=N.Ya[L].H;if(0<Y[1][X[1]+0].g||0<Y[2][X[2]+0].g||0<Y[3][X[3]+0].g)return 0}return 1}function pt(N,L,Y,X,te,re){if(N.Z!=0){var ie=N.qd,oe=N.rd;for(t(ul[N.Z]!=null);L<Y;++L)ul[N.Z](ie,oe,X,te,X,te,re),ie=X,oe=te,te+=re;N.qd=ie,N.rd=oe}}function an(N,L){var Y=N.l.ma,X=Y.Z==0||Y.Z==1?N.l.j:N.C;if(X=N.C<X?X:N.C,t(L<=N.l.o),L>X){var te=N.l.width,re=Y.ca,ie=Y.tb+te*X,oe=N.V,le=N.Ba+N.c*X,de=N.gc;t(N.ab==1),t(de[0].hc==3),wo(de[0],X,L,oe,le,re,ie),pt(Y,X,L,re,ie,te)}N.C=N.Ma=L}function Wt(N,L,Y,X,te,re,ie){var oe=N.$/X,le=N.$%X,de=N.m,Se=N.s,Oe=Y+N.$,fe=Oe;te=Y+X*te;var Ce=Y+X*re,Te=280+Se.ua,Be=N.Pb?oe:16777216,Me=0<Se.ua?Se.Wa:null,ze=Se.wc,qe=Oe<Ce?it(Se,le,oe):null;t(N.C<re),t(Ce<=te);var st=!1;e:for(;;){for(;st||Oe<Ce;){var Qe=0;if(oe>=Be){var jt=Oe-Y;t((Be=N).Pb),Be.wd=Be.m,Be.xd=jt,0<Be.s.ua&&ce(Be.s.Wa,Be.s.vb),Be=oe+PM}if(le&ze||(qe=it(Se,le,oe)),t(qe!=null),qe.Qb&&(L[Oe]=qe.qb,st=!0),!st)if(T(de),qe.jc){Qe=de,jt=L;var Et=Oe,fn=qe.pd[D(Qe)&ac-1];t(qe.jc),256>fn.g?(A(Qe,Qe.u+fn.g),jt[Et]=fn.value,Qe=0):(A(Qe,Qe.u+fn.g-256),t(256<=fn.value),Qe=fn.value),Qe==0&&(st=!0)}else Qe=Ue(qe.G[0],qe.H[0],de);if(de.h)break;if(st||256>Qe){if(!st)if(qe.nd)L[Oe]=(qe.qb|Qe<<8)>>>0;else{if(T(de),st=Ue(qe.G[1],qe.H[1],de),T(de),jt=Ue(qe.G[2],qe.H[2],de),Et=Ue(qe.G[3],qe.H[3],de),de.h)break;L[Oe]=(Et<<24|st<<16|Qe<<8|jt)>>>0}if(st=!1,++Oe,++le>=X&&(le=0,++oe,ie!=null&&oe<=re&&!(oe%16)&&ie(N,oe),Me!=null))for(;fe<Oe;)Qe=L[fe++],Me.X[(506832829*Qe&4294967295)>>>Me.Mb]=Qe}else if(280>Qe){if(Qe=Ne(Qe-256,de),jt=Ue(qe.G[4],qe.H[4],de),T(de),jt=Pe(X,jt=Ne(jt,de)),de.h)break;if(Oe-Y<jt||te-Oe<Qe)break e;for(Et=0;Et<Qe;++Et)L[Oe+Et]=L[Oe+Et-jt];for(Oe+=Qe,le+=Qe;le>=X;)le-=X,++oe,ie!=null&&oe<=re&&!(oe%16)&&ie(N,oe);if(t(Oe<=te),le&ze&&(qe=it(Se,le,oe)),Me!=null)for(;fe<Oe;)Qe=L[fe++],Me.X[(506832829*Qe&4294967295)>>>Me.Mb]=Qe}else{if(!(Qe<Te))break e;for(st=Qe-280,t(Me!=null);fe<Oe;)Qe=L[fe++],Me.X[(506832829*Qe&4294967295)>>>Me.Mb]=Qe;Qe=Oe,t(!(st>>>(jt=Me).Xa)),L[Qe]=jt.X[st],st=!0}st||t(de.h==W(de))}if(N.Pb&&de.h&&Oe<te)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&ce(N.s.vb,N.s.Wa);else{if(de.h)break e;ie?.(N,oe>re?re:oe),N.a=0,N.$=Oe-Y}return 1}return N.a=3,0}function Ht(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var L=N.Wa;L!=null&&(L.X=null),N.vb=null,t(N!=null)}function An(){var N=new Qt;return N==null?null:(N.a=0,N.xb=V3,ut("Predictor","VP8LPredictors"),ut("Predictor","VP8LPredictors_C"),ut("PredictorAdd","VP8LPredictorsAdd"),ut("PredictorAdd","VP8LPredictorsAdd_C"),Dr=gt,nf=Ke,rf=Xe,sl=Ve,ol=dt,al=et,lc=ft,U.VP8LMapColor32b=_o,U.VP8LMapColor8b=ef,N)}function jn(N,L,Y,X,te){var re=1,ie=[N],oe=[L],le=X.m,de=X.s,Se=null,Oe=0;e:for(;;){if(Y)for(;re&&$(le,1);){var fe=ie,Ce=oe,Te=X,Be=1,Me=Te.m,ze=Te.gc[Te.ab],qe=$(Me,2);if(Te.Oc&1<<qe)re=0;else{switch(Te.Oc|=1<<qe,ze.hc=qe,ze.Ea=fe[0],ze.nc=Ce[0],ze.K=[null],++Te.ab,t(4>=Te.ab),qe){case 0:case 1:ze.b=$(Me,3)+2,Be=jn(me(ze.Ea,ze.b),me(ze.nc,ze.b),0,Te,ze.K),ze.K=ze.K[0];break;case 3:var st,Qe=$(Me,8)+1,jt=16<Qe?0:4<Qe?1:2<Qe?2:3;if(fe[0]=me(ze.Ea,jt),ze.b=jt,st=Be=jn(Qe,1,0,Te,ze.K)){var Et,fn=Qe,Mt=ze,Nn=1<<(8>>Mt.b),Kr=s(Nn);if(Kr==null)st=0;else{var hn=Mt.K[0],Rt=Mt.w;for(Kr[0]=Mt.K[0][0],Et=1;Et<1*fn;++Et)Kr[Et]=xe(hn[Rt+Et],Kr[Et-1]);for(;Et<4*Nn;++Et)Kr[Et]=0;Mt.K[0]=null,Mt.K[0]=Kr,st=1}}Be=st;break;case 2:break;default:t(0)}re=Be}}if(ie=ie[0],oe=oe[0],re&&$(le,1)&&!(re=1<=(Oe=$(le,4))&&11>=Oe)){X.a=3;break e}var mt;if(mt=re)t:{var Mr,sn,Pn,fr=X,ui=ie,Oi=oe,Er=Oe,wi=Y,Pi=fr.m,Yr=fr.s,zn=[null],Xn=1,Sr=0,Jn=OM[Er];n:for(;;){if(wi&&$(Pi,1)){var di=$(Pi,3)+2,Ks=me(ui,di),Rr=me(Oi,di),Gi=Ks*Rr;if(!jn(Ks,Rr,0,fr,zn))break n;for(zn=zn[0],Yr.xc=di,Mr=0;Mr<Gi;++Mr){var rr=zn[Mr]>>8&65535;zn[Mr]=rr,rr>=Xn&&(Xn=rr+1)}}if(Pi.h)break n;for(sn=0;5>sn;++sn){var Zr=j3[sn];!sn&&0<Er&&(Zr+=1<<Er),Sr<Zr&&(Sr=Zr)}var ms=o(Xn*Jn,R),Li=Xn,gs=o(Li,b);if(gs==null)var ys=null;else t(65536>=Li),ys=gs;var Ki=s(Sr);if(ys==null||Ki==null||ms==null){fr.a=1;break n}var bs=ms;for(Mr=Pn=0;Mr<Xn;++Mr){var lr=ys[Mr],vs=lr.G,Ys=lr.H,uc=0,ha=1,fi=0;for(sn=0;5>sn;++sn){Zr=j3[sn],vs[sn]=bs,Ys[sn]=Pn,!sn&&0<Er&&(Zr+=1<<Er);i:{var tm,My=Zr,nm=fr,cf=Ki,t7=bs,n7=Pn,Ry=0,dl=nm.m,r7=$(dl,1);if(i(cf,0,0,My),r7){var i7=$(dl,1)+1,s7=$(dl,1),Y3=$(dl,s7==0?1:8);cf[Y3]=1,i7==2&&(cf[Y3=$(dl,8)]=1);var rm=1}else{var Z3=s(19),X3=$(dl,4)+4;if(19<X3){nm.a=3;var im=0;break i}for(tm=0;tm<X3;++tm)Z3[MM[tm]]=$(dl,3);var Oy=void 0,uf=void 0,J3=nm,o7=Z3,sm=My,Q3=cf,Py=0,fl=J3.m,eE=8,tE=o(128,R);r:for(;C(tE,0,7,o7,19);){if($(fl,1)){var a7=2+2*$(fl,3);if((Oy=2+$(fl,a7))>sm)break r}else Oy=sm;for(uf=0;uf<sm&&Oy--;){T(fl);var nE=tE[0+(127&D(fl))];A(fl,fl.u+nE.g);var gu=nE.value;if(16>gu)Q3[uf++]=gu,gu!=0&&(eE=gu);else{var l7=gu==16,rE=gu-16,c7=DM[rE],iE=$(fl,kM[rE])+c7;if(uf+iE>sm)break r;for(var u7=l7?eE:0;0<iE--;)Q3[uf++]=u7}}Py=1;break r}Py||(J3.a=3),rm=Py}(rm=rm&&!dl.h)&&(Ry=C(t7,n7,8,cf,My)),rm&&Ry!=0?im=Ry:(nm.a=3,im=0)}if(im==0)break n;if(ha&&NM[sn]==1&&(ha=bs[Pn].g==0),uc+=bs[Pn].g,Pn+=im,3>=sn){var df,Ly=Ki[0];for(df=1;df<Zr;++df)Ki[df]>Ly&&(Ly=Ki[df]);fi+=Ly}}if(lr.nd=ha,lr.Qb=0,ha&&(lr.qb=(vs[3][Ys[3]+0].value<<24|vs[1][Ys[1]+0].value<<16|vs[2][Ys[2]+0].value)>>>0,uc==0&&256>vs[0][Ys[0]+0].value&&(lr.Qb=1,lr.qb+=vs[0][Ys[0]+0].value<<8)),lr.jc=!lr.Qb&&6>fi,lr.jc){var om,pa=lr;for(om=0;om<ac;++om){var hl=om,pl=pa.pd[hl],am=pa.G[0][pa.H[0]+hl];256<=am.value?(pl.g=am.g+256,pl.value=am.value):(pl.g=0,pl.value=0,hl>>=zt(am,8,pl),hl>>=zt(pa.G[1][pa.H[1]+hl],16,pl),hl>>=zt(pa.G[2][pa.H[2]+hl],0,pl),zt(pa.G[3][pa.H[3]+hl],24,pl))}}}Yr.vc=zn,Yr.Wb=Xn,Yr.Ya=ys,Yr.yc=ms,mt=1;break t}mt=0}if(!(re=mt)){X.a=3;break e}if(0<Oe){if(de.ua=1<<Oe,!K(de.Wa,Oe)){X.a=1,re=0;break e}}else de.ua=0;var Fy=X,sE=ie,d7=oe,jy=Fy.s,By=jy.xc;if(Fy.c=sE,Fy.i=d7,jy.md=me(sE,By),jy.wc=By==0?-1:(1<<By)-1,Y){X.xb=zM;break e}if((Se=s(ie*oe))==null){X.a=1,re=0;break e}re=(re=Wt(X,Se,0,ie,oe,oe,null))&&!le.h;break e}return re?(te!=null?te[0]=Se:(t(Se==null),t(Y)),X.$=0,Y||Ht(de)):Ht(de),re}function sr(N,L){var Y=N.c*N.i,X=Y+L+16*L;return t(N.c<=L),N.V=s(X),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+Y+L,1)}function Ar(N,L){var Y=N.C,X=L-Y,te=N.V,re=N.Ba+N.c*Y;for(t(L<=N.l.o);0<X;){var ie=16<X?16:X,oe=N.l.ma,le=N.l.width,de=le*ie,Se=oe.ca,Oe=oe.tb+le*Y,fe=N.Ta,Ce=N.Ua;yt(N,ie,te,re),D3(fe,Ce,Se,Oe,de),pt(oe,Y,Y+ie,Se,Oe,le),X-=ie,te+=ie*N.c,Y+=ie}t(Y==L),N.C=N.Ma=L}function or(){this.ub=this.yd=this.td=this.Rb=0}function xr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function he(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ae(){this.Yb=function(){var N=[];return function L(Y,X,te){for(var re=te[X],ie=0;ie<re&&(Y.push(te.length>X+1?[]:0),!(te.length<X+1));ie++)L(Y[ie],X+1,te)}(N,0,[3,11]),N}()}function We(){this.jb=s(3),this.Wc=a([4,8],Ae),this.Xc=a([4,17],Ae)}function Le(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function tt(){this.ld=this.La=this.dd=this.tc=0}function vt(){this.Na=this.la=0}function wt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function rn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $t(){this.uc=this.M=this.Nb=0,this.wa=Array(new tt),this.Y=0,this.ya=Array(new rn),this.aa=0,this.l=new er}function Ut(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Gt(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new or,this.Kc=new xr,this.ed=new Le,this.Qa=new he,this.Ic=this.$c=this.Aa=0,this.D=new $t,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,P),this.ia=0,this.pb=o(4,wt),this.Pa=new We,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ut),this.Hd=0,this.rb=Array(new vt),this.sb=0,this.wa=Array(new tt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new rn),this.L=this.aa=0,this.gd=a([4,2],tt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Bn(N,L){return 0>N?0:N>L?L:N}function er(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Dn(){var N=new Gt;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,af||(af=qr)),N}function Yt(N,L,Y){return N.a==0&&(N.a=L,N.sc=Y,N.cb=0),0}function kr(N,L,Y){return 3<=Y&&N[L+0]==157&&N[L+1]==1&&N[L+2]==42}function vr(N,L){if(N==null)return 0;if(N.a=0,N.sc="OK",L==null)return Yt(N,2,"null VP8Io passed to VP8GetHeaders()");var Y=L.data,X=L.w,te=L.ha;if(4>te)return Yt(N,7,"Truncated header.");var re=Y[X+0]|Y[X+1]<<8|Y[X+2]<<16,ie=N.Od;if(ie.Rb=!(1&re),ie.td=re>>1&7,ie.yd=re>>4&1,ie.ub=re>>5,3<ie.td)return Yt(N,3,"Incorrect keyframe parameters.");if(!ie.yd)return Yt(N,4,"Frame not displayable.");X+=3,te-=3;var oe=N.Kc;if(ie.Rb){if(7>te)return Yt(N,7,"cannot parse picture header");if(!kr(Y,X,te))return Yt(N,3,"Bad code word");oe.c=16383&(Y[X+4]<<8|Y[X+3]),oe.Td=Y[X+4]>>6,oe.i=16383&(Y[X+6]<<8|Y[X+5]),oe.Ud=Y[X+6]>>6,X+=7,te-=7,N.za=oe.c+15>>4,N.Ub=oe.i+15>>4,L.width=oe.c,L.height=oe.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,i((re=N.Pa).jb,0,255,re.jb.length),t((re=N.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,i(re.Zb,0,0,re.Zb.length),i(re.Lb,0,0,re.Lb)}if(ie.ub>te)return Yt(N,7,"bad partition length");w(re=N.m,Y,X,ie.ub),X+=ie.ub,te-=ie.ub,ie.Rb&&(oe.Ld=Z(re),oe.Kd=Z(re)),oe=N.Qa;var le,de=N.Pa;if(t(re!=null),t(oe!=null),oe.Cb=Z(re),oe.Cb){if(oe.Bb=Z(re),Z(re)){for(oe.Fb=Z(re),le=0;4>le;++le)oe.Zb[le]=Z(re)?x(re,7):0;for(le=0;4>le;++le)oe.Lb[le]=Z(re)?x(re,6):0}if(oe.Bb)for(le=0;3>le;++le)de.jb[le]=Z(re)?_(re,8):255}else oe.Bb=0;if(re.Ka)return Yt(N,3,"cannot parse segment header");if((oe=N.ed).zd=Z(re),oe.Tb=_(re,6),oe.wb=_(re,3),oe.Pc=Z(re),oe.Pc&&Z(re)){for(de=0;4>de;++de)Z(re)&&(oe.vd[de]=x(re,6));for(de=0;4>de;++de)Z(re)&&(oe.od[de]=x(re,6))}if(N.L=oe.Tb==0?0:oe.zd?1:2,re.Ka)return Yt(N,3,"cannot parse filter header");var Se=te;if(te=le=X,X=le+Se,oe=Se,N.Xb=(1<<_(N.m,2))-1,Se<3*(de=N.Xb))Y=7;else{for(le+=3*de,oe-=3*de,Se=0;Se<de;++Se){var Oe=Y[te+0]|Y[te+1]<<8|Y[te+2]<<16;Oe>oe&&(Oe=oe),w(N.Jc[+Se],Y,le,Oe),le+=Oe,oe-=Oe,te+=3}w(N.Jc[+de],Y,le,oe),Y=le<X?0:5}if(Y!=0)return Yt(N,Y,"cannot parse partitions");for(Y=_(le=N.m,7),te=Z(le)?x(le,4):0,X=Z(le)?x(le,4):0,oe=Z(le)?x(le,4):0,de=Z(le)?x(le,4):0,le=Z(le)?x(le,4):0,Se=N.Qa,Oe=0;4>Oe;++Oe){if(Se.Cb){var fe=Se.Zb[Oe];Se.Fb||(fe+=Y)}else{if(0<Oe){N.pb[Oe]=N.pb[0];continue}fe=Y}var Ce=N.pb[Oe];Ce.Sc[0]=ky[Bn(fe+te,127)],Ce.Sc[1]=Dy[Bn(fe+0,127)],Ce.Eb[0]=2*ky[Bn(fe+X,127)],Ce.Eb[1]=101581*Dy[Bn(fe+oe,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=ky[Bn(fe+de,117)],Ce.Qc[1]=Dy[Bn(fe+le,127)],Ce.lc=fe+le}if(!ie.Rb)return Yt(N,4,"Not a key frame.");for(Z(re),ie=N.Pa,Y=0;4>Y;++Y){for(te=0;8>te;++te)for(X=0;3>X;++X)for(oe=0;11>oe;++oe)de=Q(re,VM[Y][te][X][oe])?_(re,8):jM[Y][te][X][oe],ie.Wc[Y][te].Yb[X][oe]=de;for(te=0;17>te;++te)ie.Xc[Y][te]=ie.Wc[Y][UM[te]]}return N.kc=Z(re),N.kc&&(N.Bd=_(re,8)),N.cb=1}function qr(N,L,Y,X,te,re,ie){var oe=L[te].Yb[Y];for(Y=0;16>te;++te){if(!Q(N,oe[Y+0]))return te;for(;!Q(N,oe[Y+1]);)if(oe=L[++te].Yb[0],Y=0,te==16)return 16;var le=L[te+1].Yb;if(Q(N,oe[Y+2])){var de=N,Se=0;if(Q(de,(fe=oe)[(Oe=Y)+3]))if(Q(de,fe[Oe+6])){for(oe=0,Oe=2*(Se=Q(de,fe[Oe+8]))+(fe=Q(de,fe[Oe+9+Se])),Se=0,fe=LM[Oe];fe[oe];++oe)Se+=Se+Q(de,fe[oe]);Se+=3+(8<<Oe)}else Q(de,fe[Oe+7])?(Se=7+2*Q(de,165),Se+=Q(de,145)):Se=5+Q(de,159);else Se=Q(de,fe[Oe+4])?3+Q(de,fe[Oe+5]):2;oe=le[2]}else Se=1,oe=le[1];le=ie+FM[te],0>(de=N).b&&H(de);var Oe,fe=de.b,Ce=(Oe=de.Ca>>1)-(de.I>>fe)>>31;--de.b,de.Ca+=Ce,de.Ca|=1,de.I-=(Oe+1&Ce)<<fe,re[le]=((Se^Ce)-Ce)*X[(0<te)+0]}return 16}function Mi(N){var L=N.rb[N.sb-1];L.la=0,L.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function Br(N,L,Y,X,te){te=N[L+Y+32*X]+(te>>3),N[L+Y+32*X]=-256&te?0>te?0:255:te}function gr(N,L,Y,X,te,re){Br(N,L,0,Y,X+te),Br(N,L,1,Y,X+re),Br(N,L,2,Y,X-re),Br(N,L,3,Y,X-te)}function yi(N){return(20091*N>>16)+N}function Cn(N,L,Y,X){var te,re=0,ie=s(16);for(te=0;4>te;++te){var oe=N[L+0]+N[L+8],le=N[L+0]-N[L+8],de=(35468*N[L+4]>>16)-yi(N[L+12]),Se=yi(N[L+4])+(35468*N[L+12]>>16);ie[re+0]=oe+Se,ie[re+1]=le+de,ie[re+2]=le-de,ie[re+3]=oe-Se,re+=4,L++}for(te=re=0;4>te;++te)oe=(N=ie[re+0]+4)+ie[re+8],le=N-ie[re+8],de=(35468*ie[re+4]>>16)-yi(ie[re+12]),Br(Y,X,0,0,oe+(Se=yi(ie[re+4])+(35468*ie[re+12]>>16))),Br(Y,X,1,0,le+de),Br(Y,X,2,0,le-de),Br(Y,X,3,0,oe-Se),re++,X+=32}function Vn(N,L,Y,X){var te=N[L+0]+4,re=35468*N[L+4]>>16,ie=yi(N[L+4]),oe=35468*N[L+1]>>16;gr(Y,X,0,te+ie,N=yi(N[L+1]),oe),gr(Y,X,1,te+re,N,oe),gr(Y,X,2,te-re,N,oe),gr(Y,X,3,te-ie,N,oe)}function Zl(N,L,Y,X,te){Cn(N,L,Y,X),te&&Cn(N,L+16,Y,X+4)}function ti(N,L,Y,X){cc(N,L+0,Y,X,1),cc(N,L+32,Y,X+128,1)}function Qo(N,L,Y,X){var te;for(N=N[L+0]+4,te=0;4>te;++te)for(L=0;4>L;++L)Br(Y,X,L,te,N)}function ni(N,L,Y,X){N[L+0]&&Gn(N,L+0,Y,X),N[L+16]&&Gn(N,L+16,Y,X+4),N[L+32]&&Gn(N,L+32,Y,X+128),N[L+48]&&Gn(N,L+48,Y,X+128+4)}function bi(N,L,Y,X){var te,re=s(16);for(te=0;4>te;++te){var ie=N[L+0+te]+N[L+12+te],oe=N[L+4+te]+N[L+8+te],le=N[L+4+te]-N[L+8+te],de=N[L+0+te]-N[L+12+te];re[0+te]=ie+oe,re[8+te]=ie-oe,re[4+te]=de+le,re[12+te]=de-le}for(te=0;4>te;++te)ie=(N=re[0+4*te]+3)+re[3+4*te],oe=re[1+4*te]+re[2+4*te],le=re[1+4*te]-re[2+4*te],de=N-re[3+4*te],Y[X+0]=ie+oe>>3,Y[X+16]=de+le>>3,Y[X+32]=ie-oe>>3,Y[X+48]=de-le>>3,X+=64}function vi(N,L,Y){var X,te=L-32,re=ps,ie=255-N[te-1];for(X=0;X<Y;++X){var oe,le=re,de=ie+N[L-1];for(oe=0;oe<Y;++oe)N[L+oe]=le[de+N[te+oe]];L+=32}}function ea(N,L){vi(N,L,4)}function Ja(N,L){vi(N,L,8)}function bo(N,L){vi(N,L,16)}function Wi(N,L){var Y;for(Y=0;16>Y;++Y)r(N,L+32*Y,N,L-32,16)}function Xl(N,L){var Y;for(Y=16;0<Y;--Y)i(N,L,N[L-1],16),L+=32}function _i(N,L,Y){var X;for(X=0;16>X;++X)i(L,Y+32*X,N,16)}function Jl(N,L){var Y,X=16;for(Y=0;16>Y;++Y)X+=N[L-1+32*Y]+N[L+Y-32];_i(X>>5,N,L)}function Ss(N,L){var Y,X=8;for(Y=0;16>Y;++Y)X+=N[L-1+32*Y];_i(X>>4,N,L)}function vo(N,L){var Y,X=8;for(Y=0;16>Y;++Y)X+=N[L+Y-32];_i(X>>4,N,L)}function cu(N,L){_i(128,N,L)}function Kt(N,L,Y){return N+2*L+Y+2>>2}function Qa(N,L){var Y,X=L-32;for(X=new Uint8Array([Kt(N[X-1],N[X+0],N[X+1]),Kt(N[X+0],N[X+1],N[X+2]),Kt(N[X+1],N[X+2],N[X+3]),Kt(N[X+2],N[X+3],N[X+4])]),Y=0;4>Y;++Y)r(N,L+32*Y,X,0,X.length)}function by(N,L){var Y=N[L-1],X=N[L-1+32],te=N[L-1+64],re=N[L-1+96];J(N,L+0,16843009*Kt(N[L-1-32],Y,X)),J(N,L+32,16843009*Kt(Y,X,te)),J(N,L+64,16843009*Kt(X,te,re)),J(N,L+96,16843009*Kt(te,re,re))}function vy(N,L){var Y,X=4;for(Y=0;4>Y;++Y)X+=N[L+Y-32]+N[L-1+32*Y];for(X>>=3,Y=0;4>Y;++Y)i(N,L+32*Y,X,4)}function ta(N,L){var Y=N[L-1+0],X=N[L-1+32],te=N[L-1+64],re=N[L-1-32],ie=N[L+0-32],oe=N[L+1-32],le=N[L+2-32],de=N[L+3-32];N[L+0+96]=Kt(X,te,N[L-1+96]),N[L+1+96]=N[L+0+64]=Kt(Y,X,te),N[L+2+96]=N[L+1+64]=N[L+0+32]=Kt(re,Y,X),N[L+3+96]=N[L+2+64]=N[L+1+32]=N[L+0+0]=Kt(ie,re,Y),N[L+3+64]=N[L+2+32]=N[L+1+0]=Kt(oe,ie,re),N[L+3+32]=N[L+2+0]=Kt(le,oe,ie),N[L+3+0]=Kt(de,le,oe)}function na(N,L){var Y=N[L+1-32],X=N[L+2-32],te=N[L+3-32],re=N[L+4-32],ie=N[L+5-32],oe=N[L+6-32],le=N[L+7-32];N[L+0+0]=Kt(N[L+0-32],Y,X),N[L+1+0]=N[L+0+32]=Kt(Y,X,te),N[L+2+0]=N[L+1+32]=N[L+0+64]=Kt(X,te,re),N[L+3+0]=N[L+2+32]=N[L+1+64]=N[L+0+96]=Kt(te,re,ie),N[L+3+32]=N[L+2+64]=N[L+1+96]=Kt(re,ie,oe),N[L+3+64]=N[L+2+96]=Kt(ie,oe,le),N[L+3+96]=Kt(oe,le,le)}function _y(N,L){var Y=N[L-1+0],X=N[L-1+32],te=N[L-1+64],re=N[L-1-32],ie=N[L+0-32],oe=N[L+1-32],le=N[L+2-32],de=N[L+3-32];N[L+0+0]=N[L+1+64]=re+ie+1>>1,N[L+1+0]=N[L+2+64]=ie+oe+1>>1,N[L+2+0]=N[L+3+64]=oe+le+1>>1,N[L+3+0]=le+de+1>>1,N[L+0+96]=Kt(te,X,Y),N[L+0+64]=Kt(X,Y,re),N[L+0+32]=N[L+1+96]=Kt(Y,re,ie),N[L+1+32]=N[L+2+96]=Kt(re,ie,oe),N[L+2+32]=N[L+3+96]=Kt(ie,oe,le),N[L+3+32]=Kt(oe,le,de)}function wy(N,L){var Y=N[L+0-32],X=N[L+1-32],te=N[L+2-32],re=N[L+3-32],ie=N[L+4-32],oe=N[L+5-32],le=N[L+6-32],de=N[L+7-32];N[L+0+0]=Y+X+1>>1,N[L+1+0]=N[L+0+64]=X+te+1>>1,N[L+2+0]=N[L+1+64]=te+re+1>>1,N[L+3+0]=N[L+2+64]=re+ie+1>>1,N[L+0+32]=Kt(Y,X,te),N[L+1+32]=N[L+0+96]=Kt(X,te,re),N[L+2+32]=N[L+1+96]=Kt(te,re,ie),N[L+3+32]=N[L+2+96]=Kt(re,ie,oe),N[L+3+64]=Kt(ie,oe,le),N[L+3+96]=Kt(oe,le,de)}function uu(N,L){var Y=N[L-1+0],X=N[L-1+32],te=N[L-1+64],re=N[L-1+96];N[L+0+0]=Y+X+1>>1,N[L+2+0]=N[L+0+32]=X+te+1>>1,N[L+2+32]=N[L+0+64]=te+re+1>>1,N[L+1+0]=Kt(Y,X,te),N[L+3+0]=N[L+1+32]=Kt(X,te,re),N[L+3+32]=N[L+1+64]=Kt(te,re,re),N[L+3+64]=N[L+2+64]=N[L+0+96]=N[L+1+96]=N[L+2+96]=N[L+3+96]=re}function zd(N,L){var Y=N[L-1+0],X=N[L-1+32],te=N[L-1+64],re=N[L-1+96],ie=N[L-1-32],oe=N[L+0-32],le=N[L+1-32],de=N[L+2-32];N[L+0+0]=N[L+2+32]=Y+ie+1>>1,N[L+0+32]=N[L+2+64]=X+Y+1>>1,N[L+0+64]=N[L+2+96]=te+X+1>>1,N[L+0+96]=re+te+1>>1,N[L+3+0]=Kt(oe,le,de),N[L+2+0]=Kt(ie,oe,le),N[L+1+0]=N[L+3+32]=Kt(Y,ie,oe),N[L+1+32]=N[L+3+64]=Kt(X,Y,ie),N[L+1+64]=N[L+3+96]=Kt(te,X,Y),N[L+1+96]=Kt(re,te,X)}function Ql(N,L){var Y;for(Y=0;8>Y;++Y)r(N,L+32*Y,N,L-32,8)}function xy(N,L){var Y;for(Y=0;8>Y;++Y)i(N,L,N[L-1],8),L+=32}function ra(N,L,Y){var X;for(X=0;8>X;++X)i(L,Y+32*X,N,8)}function Ey(N,L){var Y,X=8;for(Y=0;8>Y;++Y)X+=N[L+Y-32]+N[L-1+32*Y];ra(X>>4,N,L)}function Hd(N,L){var Y,X=4;for(Y=0;8>Y;++Y)X+=N[L+Y-32];ra(X>>3,N,L)}function $d(N,L){var Y,X=4;for(Y=0;8>Y;++Y)X+=N[L-1+32*Y];ra(X>>3,N,L)}function jp(N,L){ra(128,N,L)}function ia(N,L,Y){var X=N[L-Y],te=N[L+0],re=3*(te-X)+Sy[1020+N[L-2*Y]-N[L+Y]],ie=Wp[112+(re+4>>3)];N[L-Y]=ps[255+X+Wp[112+(re+3>>3)]],N[L+0]=ps[255+te-ie]}function qd(N,L,Y,X){var te=N[L+0],re=N[L+Y];return Ts[255+N[L-2*Y]-N[L-Y]]>X||Ts[255+re-te]>X}function du(N,L,Y,X){return 4*Ts[255+N[L-Y]-N[L+0]]+Ts[255+N[L-2*Y]-N[L+Y]]<=X}function Wd(N,L,Y,X,te){var re=N[L-3*Y],ie=N[L-2*Y],oe=N[L-Y],le=N[L+0],de=N[L+Y],Se=N[L+2*Y],Oe=N[L+3*Y];return 4*Ts[255+oe-le]+Ts[255+ie-de]>X?0:Ts[255+N[L-4*Y]-re]<=te&&Ts[255+re-ie]<=te&&Ts[255+ie-oe]<=te&&Ts[255+Oe-Se]<=te&&Ts[255+Se-de]<=te&&Ts[255+de-le]<=te}function ec(N,L,Y,X){var te=2*X+1;for(X=0;16>X;++X)du(N,L+X,Y,te)&&ia(N,L+X,Y)}function Gd(N,L,Y,X){var te=2*X+1;for(X=0;16>X;++X)du(N,L+X*Y,1,te)&&ia(N,L+X*Y,1)}function Bp(N,L,Y,X){var te;for(te=3;0<te;--te)ec(N,L+=4*Y,Y,X)}function Vp(N,L,Y,X){var te;for(te=3;0<te;--te)Gd(N,L+=4,Y,X)}function sa(N,L,Y,X,te,re,ie,oe){for(re=2*re+1;0<te--;){if(Wd(N,L,Y,re,ie))if(qd(N,L,Y,oe))ia(N,L,Y);else{var le=N,de=L,Se=Y,Oe=le[de-2*Se],fe=le[de-Se],Ce=le[de+0],Te=le[de+Se],Be=le[de+2*Se],Me=27*(qe=Sy[1020+3*(Ce-fe)+Sy[1020+Oe-Te]])+63>>7,ze=18*qe+63>>7,qe=9*qe+63>>7;le[de-3*Se]=ps[255+le[de-3*Se]+qe],le[de-2*Se]=ps[255+Oe+ze],le[de-Se]=ps[255+fe+Me],le[de+0]=ps[255+Ce-Me],le[de+Se]=ps[255+Te-ze],le[de+2*Se]=ps[255+Be-qe]}L+=X}}function oa(N,L,Y,X,te,re,ie,oe){for(re=2*re+1;0<te--;){if(Wd(N,L,Y,re,ie))if(qd(N,L,Y,oe))ia(N,L,Y);else{var le=N,de=L,Se=Y,Oe=le[de-Se],fe=le[de+0],Ce=le[de+Se],Te=Wp[112+(4+(Be=3*(fe-Oe))>>3)],Be=Wp[112+(Be+3>>3)],Me=Te+1>>1;le[de-2*Se]=ps[255+le[de-2*Se]+Me],le[de-Se]=ps[255+Oe+Be],le[de+0]=ps[255+fe-Te],le[de+Se]=ps[255+Ce-Me]}L+=X}}function Up(N,L,Y,X,te,re){sa(N,L,Y,1,16,X,te,re)}function tc(N,L,Y,X,te,re){sa(N,L,1,Y,16,X,te,re)}function zp(N,L,Y,X,te,re){var ie;for(ie=3;0<ie;--ie)oa(N,L+=4*Y,Y,1,16,X,te,re)}function q(N,L,Y,X,te,re){var ie;for(ie=3;0<ie;--ie)oa(N,L+=4,1,Y,16,X,te,re)}function ee(N,L,Y,X,te,re,ie,oe){sa(N,L,te,1,8,re,ie,oe),sa(Y,X,te,1,8,re,ie,oe)}function pe(N,L,Y,X,te,re,ie,oe){sa(N,L,1,te,8,re,ie,oe),sa(Y,X,1,te,8,re,ie,oe)}function Ee(N,L,Y,X,te,re,ie,oe){oa(N,L+4*te,te,1,8,re,ie,oe),oa(Y,X+4*te,te,1,8,re,ie,oe)}function Ie(N,L,Y,X,te,re,ie,oe){oa(N,L+4,1,te,8,re,ie,oe),oa(Y,X+4,1,te,8,re,ie,oe)}function $e(){this.ba=new ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Je(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pt(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new b,this.yc=new R}function Qt(){this.xb=this.a=0,this.l=new er,this.ca=new ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pt,this.ab=0,this.gc=o(4,kt),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new er,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Un(N,L,Y,X,te,re,ie){for(N=N==null?0:N[L+0],L=0;L<ie;++L)te[re+L]=N+Y[X+L]&255,N=te[re+L]}function _r(N,L,Y,X,te,re,ie){var oe;if(N==null)Un(null,null,Y,X,te,re,ie);else for(oe=0;oe<ie;++oe)te[re+oe]=N[L+oe]+Y[X+oe]&255}function Vr(N,L,Y,X,te,re,ie){if(N==null)Un(null,null,Y,X,te,re,ie);else{var oe,le=N[L+0],de=le,Se=le;for(oe=0;oe<ie;++oe)de=Se+(le=N[L+oe])-de,Se=Y[X+oe]+(-256&de?0>de?0:255:de)&255,de=le,te[re+oe]=Se}}function ar(N,L,Y,X){var te=L.width,re=L.o;if(t(N!=null&&L!=null),0>Y||0>=X||Y+X>re)return null;if(!N.Cc){if(N.ga==null){var ie;if(N.ga=new ln,(ie=N.ga==null)||(ie=L.width*L.o,t(N.Gb.length==0),N.Gb=s(ie),N.Uc=0,N.Gb==null?ie=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,ie=1),ie=!ie),!ie){ie=N.ga;var oe=N.Fa,le=N.P,de=N.qc,Se=N.mb,Oe=N.nb,fe=le+1,Ce=de-1,Te=ie.l;if(t(oe!=null&&Se!=null&&L!=null),ul[0]=null,ul[1]=Un,ul[2]=_r,ul[3]=Vr,ie.ca=Se,ie.tb=Oe,ie.c=L.width,ie.i=L.height,t(0<ie.c&&0<ie.i),1>=de)L=0;else if(ie.$a=3&oe[le+0],ie.Z=oe[le+0]>>2&3,ie.Lc=oe[le+0]>>4&3,le=oe[le+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||le)L=0;else if(Te.put=Nt,Te.ac=At,Te.bc=Vt,Te.ma=ie,Te.width=L.width,Te.height=L.height,Te.Da=L.Da,Te.v=L.v,Te.va=L.va,Te.j=L.j,Te.o=L.o,ie.$a)e:{t(ie.$a==1),L=An();t:for(;;){if(L==null){L=0;break e}if(t(ie!=null),ie.mc=L,L.c=ie.c,L.i=ie.i,L.l=ie.l,L.l.ma=ie,L.l.width=ie.c,L.l.height=ie.i,L.a=0,I(L.m,oe,fe,Ce),!jn(ie.c,ie.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&_t(L.s)?(ie.ic=1,oe=L.c*L.i,L.Ta=null,L.Ua=0,L.V=s(oe),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(ie.ic=0,L=sr(L,ie.c)),!L))break t;L=1;break e}ie.mc=null,L=0}else L=Ce>=ie.c*ie.i;ie=!L}if(ie)return null;N.ga.Lc!=1?N.Ga=0:X=re-Y}t(N.ga!=null),t(Y+X<=re);e:{if(L=(oe=N.ga).c,re=oe.l.o,oe.$a==0){if(fe=N.rc,Ce=N.Vc,Te=N.Fa,le=N.P+1+Y*L,de=N.mb,Se=N.nb+Y*L,t(le<=N.P+N.qc),oe.Z!=0)for(t(ul[oe.Z]!=null),ie=0;ie<X;++ie)ul[oe.Z](fe,Ce,Te,le,de,Se,L),fe=de,Ce=Se,Se+=L,le+=L;else for(ie=0;ie<X;++ie)r(de,Se,Te,le,L),fe=de,Ce=Se,Se+=L,le+=L;N.rc=fe,N.Vc=Ce}else{if(t(oe.mc!=null),L=Y+X,t((ie=oe.mc)!=null),t(L<=ie.i),ie.C>=L)L=1;else if(oe.ic||Ws(),oe.ic){oe=ie.V,fe=ie.Ba,Ce=ie.c;var Be=ie.i,Me=(Te=1,le=ie.$/Ce,de=ie.$%Ce,Se=ie.m,Oe=ie.s,ie.$),ze=Ce*Be,qe=Ce*L,st=Oe.wc,Qe=Me<qe?it(Oe,de,le):null;t(Me<=ze),t(L<=Be),t(_t(Oe));t:for(;;){for(;!Se.h&&Me<qe;){if(de&st||(Qe=it(Oe,de,le)),t(Qe!=null),T(Se),256>(Be=Ue(Qe.G[0],Qe.H[0],Se)))oe[fe+Me]=Be,++Me,++de>=Ce&&(de=0,++le<=L&&!(le%16)&&an(ie,le));else{if(!(280>Be)){Te=0;break t}Be=Ne(Be-256,Se);var jt,Et=Ue(Qe.G[4],Qe.H[4],Se);if(T(Se),!(Me>=(Et=Pe(Ce,Et=Ne(Et,Se)))&&ze-Me>=Be)){Te=0;break t}for(jt=0;jt<Be;++jt)oe[fe+Me+jt]=oe[fe+Me+jt-Et];for(Me+=Be,de+=Be;de>=Ce;)de-=Ce,++le<=L&&!(le%16)&&an(ie,le);Me<qe&&de&st&&(Qe=it(Oe,de,le))}t(Se.h==W(Se))}an(ie,le>L?L:le);break t}!Te||Se.h&&Me<ze?(Te=0,ie.a=Se.h?5:3):ie.$=Me,L=Te}else L=Wt(ie,ie.V,ie.Ba,ie.c,ie.i,L,Ar);if(!L){X=0;break e}}Y+X>=re&&(N.Cc=1),X=1}if(!X)return null;if(N.Cc&&((X=N.ga)!=null&&(X.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+Y*te}function Wr(N,L,Y,X,te,re){for(;0<te--;){var ie,oe=N,le=L+(Y?1:0),de=N,Se=L+(Y?0:3);for(ie=0;ie<X;++ie){var Oe=de[Se+4*ie];Oe!=255&&(Oe*=32897,oe[le+4*ie+0]=oe[le+4*ie+0]*Oe>>23,oe[le+4*ie+1]=oe[le+4*ie+1]*Oe>>23,oe[le+4*ie+2]=oe[le+4*ie+2]*Oe>>23)}L+=re}}function Ur(N,L,Y,X,te){for(;0<X--;){var re;for(re=0;re<Y;++re){var ie=N[L+2*re+0],oe=15&(de=N[L+2*re+1]),le=4369*oe,de=(240&de|de>>4)*le>>16;N[L+2*re+0]=(240&ie|ie>>4)*le>>16&240|(15&ie|ie<<4)*le>>16>>4&15,N[L+2*re+1]=240&de|oe}L+=te}}function li(N,L,Y,X,te,re,ie,oe){var le,de,Se=255;for(de=0;de<te;++de){for(le=0;le<X;++le){var Oe=N[L+le];re[ie+4*le]=Oe,Se&=Oe}L+=Y,ie+=oe}return Se!=255}function aa(N,L,Y,X,te){var re;for(re=0;re<te;++re)Y[X+re]=N[L+re]>>8}function Ws(){of=Wr,A3=Ur,k3=li,D3=aa}function la(N,L,Y){U[N]=function(X,te,re,ie,oe,le,de,Se,Oe,fe,Ce,Te,Be,Me,ze,qe,st){var Qe,jt=st-1>>1,Et=oe[le+0]|de[Se+0]<<16,fn=Oe[fe+0]|Ce[Te+0]<<16;t(X!=null);var Mt=3*Et+fn+131074>>2;for(L(X[te+0],255&Mt,Mt>>16,Be,Me),re!=null&&(Mt=3*fn+Et+131074>>2,L(re[ie+0],255&Mt,Mt>>16,ze,qe)),Qe=1;Qe<=jt;++Qe){var Nn=oe[le+Qe]|de[Se+Qe]<<16,Kr=Oe[fe+Qe]|Ce[Te+Qe]<<16,hn=Et+Nn+fn+Kr+524296,Rt=hn+2*(Nn+fn)>>3;Mt=Rt+Et>>1,Et=(hn=hn+2*(Et+Kr)>>3)+Nn>>1,L(X[te+2*Qe-1],255&Mt,Mt>>16,Be,Me+(2*Qe-1)*Y),L(X[te+2*Qe-0],255&Et,Et>>16,Be,Me+(2*Qe-0)*Y),re!=null&&(Mt=hn+fn>>1,Et=Rt+Kr>>1,L(re[ie+2*Qe-1],255&Mt,Mt>>16,ze,qe+(2*Qe-1)*Y),L(re[ie+2*Qe+0],255&Et,Et>>16,ze,qe+(2*Qe+0)*Y)),Et=Nn,fn=Kr}1&st||(Mt=3*Et+fn+131074>>2,L(X[te+st-1],255&Mt,Mt>>16,Be,Me+(st-1)*Y),re!=null&&(Mt=3*fn+Et+131074>>2,L(re[ie+st-1],255&Mt,Mt>>16,ze,qe+(st-1)*Y)))}}function Kd(){As[Gp]=HM,As[Kp]=U3,As[L3]=$M,As[Yp]=z3,As[Zp]=H3,As[Cy]=$3,As[F3]=qM,As[Iy]=U3,As[Ty]=z3,As[Xp]=H3,As[Ay]=$3}function fu(N){return N&~WM?0>N?0:255:N>>q3}function el(N,L){return fu((19077*N>>8)+(26149*L>>8)-14234)}function nc(N,L,Y){return fu((19077*N>>8)-(6419*L>>8)-(13320*Y>>8)+8708)}function rc(N,L){return fu((19077*N>>8)+(33050*L>>8)-17685)}function tl(N,L,Y,X,te){X[te+0]=el(N,Y),X[te+1]=nc(N,L,Y),X[te+2]=rc(N,L)}function ci(N,L,Y,X,te){X[te+0]=rc(N,L),X[te+1]=nc(N,L,Y),X[te+2]=el(N,Y)}function ic(N,L,Y,X,te){var re=nc(N,L,Y);L=re<<3&224|rc(N,L)>>3,X[te+0]=248&el(N,Y)|re>>5,X[te+1]=L}function sc(N,L,Y,X,te){var re=240&rc(N,L)|15;X[te+0]=240&el(N,Y)|nc(N,L,Y)>>4,X[te+1]=re}function Yd(N,L,Y,X,te){X[te+0]=255,tl(N,L,Y,X,te+1)}function Zd(N,L,Y,X,te){ci(N,L,Y,X,te),X[te+3]=255}function Ri(N,L,Y,X,te){tl(N,L,Y,X,te),X[te+3]=255}function ca(N,L,Y){U[N]=function(X,te,re,ie,oe,le,de,Se,Oe){for(var fe=Se+(-2&Oe)*Y;Se!=fe;)L(X[te+0],re[ie+0],oe[le+0],de,Se),L(X[te+1],re[ie+0],oe[le+0],de,Se+Y),te+=2,++ie,++le,Se+=2*Y;1&Oe&&L(X[te+0],re[ie+0],oe[le+0],de,Se)}}function hu(N,L,Y){return Y==0?N==0?L==0?6:5:L==0?4:0:Y}function Hp(N,L,Y,X,te){switch(N>>>30){case 3:cc(L,Y,X,te,0);break;case 2:Is(L,Y,X,te);break;case 1:Gn(L,Y,X,te)}}function Cs(N,L){var Y,X,te=L.M,re=L.Nb,ie=N.oc,oe=N.pc+40,le=N.oc,de=N.pc+584,Se=N.oc,Oe=N.pc+600;for(Y=0;16>Y;++Y)ie[oe+32*Y-1]=129;for(Y=0;8>Y;++Y)le[de+32*Y-1]=129,Se[Oe+32*Y-1]=129;for(0<te?ie[oe-1-32]=le[de-1-32]=Se[Oe-1-32]=129:(i(ie,oe-32-1,127,21),i(le,de-32-1,127,9),i(Se,Oe-32-1,127,9)),X=0;X<N.za;++X){var fe=L.ya[L.aa+X];if(0<X){for(Y=-1;16>Y;++Y)r(ie,oe+32*Y-4,ie,oe+32*Y+12,4);for(Y=-1;8>Y;++Y)r(le,de+32*Y-4,le,de+32*Y+4,4),r(Se,Oe+32*Y-4,Se,Oe+32*Y+4,4)}var Ce=N.Gd,Te=N.Hd+X,Be=fe.ad,Me=fe.Hc;if(0<te&&(r(ie,oe-32,Ce[Te].y,0,16),r(le,de-32,Ce[Te].f,0,8),r(Se,Oe-32,Ce[Te].ea,0,8)),fe.Za){var ze=ie,qe=oe-32+16;for(0<te&&(X>=N.za-1?i(ze,qe,Ce[Te].y[15],4):r(ze,qe,Ce[Te+1].y,0,4)),Y=0;4>Y;Y++)ze[qe+128+Y]=ze[qe+256+Y]=ze[qe+384+Y]=ze[qe+0+Y];for(Y=0;16>Y;++Y,Me<<=2)ze=ie,qe=oe+G3[Y],Gs[fe.Ob[Y]](ze,qe),Hp(Me,Be,16*+Y,ze,qe)}else if(ze=hu(X,te,fe.Ob[0]),cl[ze](ie,oe),Me!=0)for(Y=0;16>Y;++Y,Me<<=2)Hp(Me,Be,16*+Y,ie,oe+G3[Y]);for(Y=fe.Gc,ze=hu(X,te,fe.Dd),fa[ze](le,de),fa[ze](Se,Oe),Me=Be,ze=le,qe=de,255&(fe=0|Y)&&(170&fe?xo(Me,256,ze,qe):nr(Me,256,ze,qe)),fe=Se,Me=Oe,255&(Y>>=8)&&(170&Y?xo(Be,320,fe,Me):nr(Be,320,fe,Me)),te<N.Ub-1&&(r(Ce[Te].y,0,ie,oe+480,16),r(Ce[Te].f,0,le,de+224,8),r(Ce[Te].ea,0,Se,Oe+224,8)),Y=8*re*N.B,Ce=N.sa,Te=N.ta+16*X+16*re*N.R,Be=N.qa,fe=N.ra+8*X+Y,Me=N.Ha,ze=N.Ia+8*X+Y,Y=0;16>Y;++Y)r(Ce,Te+Y*N.R,ie,oe+32*Y,16);for(Y=0;8>Y;++Y)r(Be,fe+Y*N.B,le,de+32*Y,8),r(Me,ze+Y*N.B,Se,Oe+32*Y,8)}}function oc(N,L,Y,X,te,re,ie,oe,le){var de=[0],Se=[0],Oe=0,fe=le!=null?le.kd:0,Ce=le??new Je;if(N==null||12>Y)return 7;Ce.data=N,Ce.w=L,Ce.ha=Y,L=[L],Y=[Y],Ce.gb=[Ce.gb];e:{var Te=L,Be=Y,Me=Ce.gb;if(t(N!=null),t(Be!=null),t(Me!=null),Me[0]=0,12<=Be[0]&&!n(N,Te[0],"RIFF")){if(n(N,Te[0]+8,"WEBP")){Me=3;break e}var ze=ye(N,Te[0]+4);if(12>ze||4294967286<ze){Me=3;break e}if(fe&&ze>Be[0]-8){Me=7;break e}Me[0]=ze,Te[0]+=12,Be[0]-=12}Me=0}if(Me!=0)return Me;for(ze=0<Ce.gb[0],Y=Y[0];;){e:{var qe=N;Be=L,Me=Y;var st=de,Qe=Se,jt=Te=[0];if((Mt=Oe=[Oe])[0]=0,8>Me[0])Me=7;else{if(!n(qe,Be[0],"VP8X")){if(ye(qe,Be[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var Et=ye(qe,Be[0]+8),fn=1+ge(qe,Be[0]+12);if(2147483648<=fn*(qe=1+ge(qe,Be[0]+15))){Me=3;break e}jt!=null&&(jt[0]=Et),st!=null&&(st[0]=fn),Qe!=null&&(Qe[0]=qe),Be[0]+=18,Me[0]-=18,Mt[0]=1}Me=0}}if(Oe=Oe[0],Te=Te[0],Me!=0)return Me;if(Be=!!(2&Te),!ze&&Oe)return 3;if(re!=null&&(re[0]=!!(16&Te)),ie!=null&&(ie[0]=Be),oe!=null&&(oe[0]=0),ie=de[0],Te=Se[0],Oe&&Be&&le==null){Me=0;break}if(4>Y){Me=7;break}if(ze&&Oe||!ze&&!Oe&&!n(N,L[0],"ALPH")){Y=[Y],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{Et=N,Me=L,ze=Y;var Mt=Ce.gb;st=Ce.na,Qe=Ce.P,jt=Ce.Sa,fn=22,t(Et!=null),t(ze!=null),qe=Me[0];var Nn=ze[0];for(t(st!=null),t(jt!=null),st[0]=null,Qe[0]=null,jt[0]=0;;){if(Me[0]=qe,ze[0]=Nn,8>Nn){Me=7;break e}var Kr=ye(Et,qe+4);if(4294967286<Kr){Me=3;break e}var hn=8+Kr+1&-2;if(fn+=hn,0<Mt&&fn>Mt){Me=3;break e}if(!n(Et,qe,"VP8 ")||!n(Et,qe,"VP8L")){Me=0;break e}if(Nn[0]<hn){Me=7;break e}n(Et,qe,"ALPH")||(st[0]=Et,Qe[0]=qe+8,jt[0]=Kr),qe+=hn,Nn-=hn}}if(Y=Y[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],Me!=0)break}Y=[Y],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(Mt=N,Me=L,ze=Y,st=Ce.gb[0],Qe=Ce.Ja,jt=Ce.xa,Et=Me[0],qe=!n(Mt,Et,"VP8 "),fn=!n(Mt,Et,"VP8L"),t(Mt!=null),t(ze!=null),t(Qe!=null),t(jt!=null),8>ze[0])Me=7;else{if(qe||fn){if(Mt=ye(Mt,Et+4),12<=st&&Mt>st-12){Me=3;break e}if(fe&&Mt>ze[0]-8){Me=7;break e}Qe[0]=Mt,Me[0]+=8,ze[0]-=8,jt[0]=fn}else jt[0]=5<=ze[0]&&Mt[Et+0]==47&&!(Mt[Et+4]>>5),Qe[0]=ze[0];Me=0}if(Y=Y[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],L=L[0],Me!=0)break;if(4294967286<Ce.Ja)return 3;if(oe==null||Be||(oe[0]=Ce.xa?2:1),ie=[ie],Te=[Te],Ce.xa){if(5>Y){Me=7;break}oe=ie,fe=Te,Be=re,N==null||5>Y?N=0:5<=Y&&N[L+0]==47&&!(N[L+4]>>5)?(ze=[0],Mt=[0],st=[0],I(Qe=new G,N,L,Y),_e(Qe,ze,Mt,st)?(oe!=null&&(oe[0]=ze[0]),fe!=null&&(fe[0]=Mt[0]),Be!=null&&(Be[0]=st[0]),N=1):N=0):N=0}else{if(10>Y){Me=7;break}oe=Te,N==null||10>Y||!kr(N,L+3,Y-3)?N=0:(fe=N[L+0]|N[L+1]<<8|N[L+2]<<16,Be=16383&(N[L+7]<<8|N[L+6]),N=16383&(N[L+9]<<8|N[L+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=Ce.Ja||!Be||!N?N=0:(ie&&(ie[0]=Be),oe&&(oe[0]=N),N=1))}if(!N||(ie=ie[0],Te=Te[0],Oe&&(de[0]!=ie||Se[0]!=Te)))return 3;le!=null&&(le[0]=Ce,le.offset=L-le.w,t(4294967286>L-le.w),t(le.offset==le.ha-Y));break}return Me==0||Me==7&&Oe&&le==null?(re!=null&&(re[0]|=Ce.na!=null&&0<Ce.na.length),X!=null&&(X[0]=ie),te!=null&&(te[0]=Te),0):Me}function Xd(N,L,Y){var X=L.width,te=L.height,re=0,ie=0,oe=X,le=te;if(L.Da=N!=null&&0<N.Da,L.Da&&(oe=N.cd,le=N.bd,re=N.v,ie=N.j,11>Y||(re&=-2,ie&=-2),0>re||0>ie||0>=oe||0>=le||re+oe>X||ie+le>te))return 0;if(L.v=re,L.j=ie,L.va=re+oe,L.o=ie+le,L.U=oe,L.T=le,L.da=N!=null&&0<N.da,L.da){if(!ve(oe,le,Y=[N.ib],re=[N.hb]))return 0;L.ib=Y[0],L.hb=re[0]}return L.ob=N!=null&&N.ob,L.Kb=N==null||!N.Sd,L.da&&(L.ob=L.ib<3*X/4&&L.hb<3*te/4,L.Kb=0),1}function Jd(N){if(N==null)return 2;if(11>N.S){var L=N.f.RGBA;L.fb+=(N.height-1)*L.A,L.A=-L.A}else L=N.f.kb,N=N.height,L.O+=(N-1)*L.fa,L.fa=-L.fa,L.N+=(N-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(N-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(N-1)*L.lb,L.lb=-L.lb);return 0}function nl(N,L,Y,X){if(X==null||0>=N||0>=L)return 2;if(Y!=null){if(Y.Da){var te=Y.cd,re=Y.bd,ie=-2&Y.v,oe=-2&Y.j;if(0>ie||0>oe||0>=te||0>=re||ie+te>N||oe+re>L)return 2;N=te,L=re}if(Y.da){if(!ve(N,L,te=[Y.ib],re=[Y.hb]))return 2;N=te[0],L=re[0]}}X.width=N,X.height=L;e:{var le=X.width,de=X.height;if(N=X.S,0>=le||0>=de||!(N>=Gp&&13>N))N=2;else{if(0>=X.Rd&&X.sd==null){ie=re=te=L=0;var Se=(oe=le*K3[N])*de;if(11>N||(re=(de+1)/2*(L=(le+1)/2),N==12&&(ie=(te=le)*de)),(de=s(Se+2*re+ie))==null){N=1;break e}X.sd=de,11>N?((le=X.f.RGBA).eb=de,le.fb=0,le.A=oe,le.size=Se):((le=X.f.kb).y=de,le.O=0,le.fa=oe,le.Fd=Se,le.f=de,le.N=0+Se,le.Ab=L,le.Cd=re,le.ea=de,le.W=0+Se+re,le.Db=L,le.Ed=re,N==12&&(le.F=de,le.J=0+Se+2*re),le.Tc=ie,le.lb=te)}if(L=1,te=X.S,re=X.width,ie=X.height,te>=Gp&&13>te)if(11>te)N=X.f.RGBA,L&=(oe=Math.abs(N.A))*(ie-1)+re<=N.size,L&=oe>=re*K3[te],L&=N.eb!=null;else{N=X.f.kb,oe=(re+1)/2,Se=(ie+1)/2,le=Math.abs(N.fa),de=Math.abs(N.Ab);var Oe=Math.abs(N.Db),fe=Math.abs(N.lb),Ce=fe*(ie-1)+re;L&=le*(ie-1)+re<=N.Fd,L&=de*(Se-1)+oe<=N.Cd,L=(L&=Oe*(Se-1)+oe<=N.Ed)&le>=re&de>=oe&Oe>=oe,L&=N.y!=null,L&=N.f!=null,L&=N.ea!=null,te==12&&(L&=fe>=re,L&=Ce<=N.Tc,L&=N.F!=null)}else L=0;N=L?0:2}}return N!=0||Y!=null&&Y.fd&&(N=Jd(X)),N}var ac=64,fs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hs=24,rl=32,ua=8,il=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];we("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(N){return N},U.Predictor2=function(N,L,Y){return L[Y+0]},U.Predictor3=function(N,L,Y){return L[Y+1]},U.Predictor4=function(N,L,Y){return L[Y-1]},U.Predictor5=function(N,L,Y){return Re(Re(N,L[Y+1]),L[Y+0])},U.Predictor6=function(N,L,Y){return Re(N,L[Y-1])},U.Predictor7=function(N,L,Y){return Re(N,L[Y+0])},U.Predictor8=function(N,L,Y){return Re(L[Y-1],L[Y+0])},U.Predictor9=function(N,L,Y){return Re(L[Y+0],L[Y+1])},U.Predictor10=function(N,L,Y){return Re(Re(N,L[Y-1]),Re(L[Y+0],L[Y+1]))},U.Predictor11=function(N,L,Y){var X=L[Y+0];return 0>=je(X>>24&255,N>>24&255,(L=L[Y-1])>>24&255)+je(X>>16&255,N>>16&255,L>>16&255)+je(X>>8&255,N>>8&255,L>>8&255)+je(255&X,255&N,255&L)?X:N},U.Predictor12=function(N,L,Y){var X=L[Y+0];return(Fe((N>>24&255)+(X>>24&255)-((L=L[Y-1])>>24&255))<<24|Fe((N>>16&255)+(X>>16&255)-(L>>16&255))<<16|Fe((N>>8&255)+(X>>8&255)-(L>>8&255))<<8|Fe((255&N)+(255&X)-(255&L)))>>>0},U.Predictor13=function(N,L,Y){var X=L[Y-1];return(rt((N=Re(N,L[Y+0]))>>24&255,X>>24&255)<<24|rt(N>>16&255,X>>16&255)<<16|rt(N>>8&255,X>>8&255)<<8|rt(255&N,255&X))>>>0};var Qd=U.PredictorAdd0;U.PredictorAdd1=Ze,we("Predictor2","PredictorAdd2"),we("Predictor3","PredictorAdd3"),we("Predictor4","PredictorAdd4"),we("Predictor5","PredictorAdd5"),we("Predictor6","PredictorAdd6"),we("Predictor7","PredictorAdd7"),we("Predictor8","PredictorAdd8"),we("Predictor9","PredictorAdd9"),we("Predictor10","PredictorAdd10"),we("Predictor11","PredictorAdd11"),we("Predictor12","PredictorAdd12"),we("Predictor13","PredictorAdd13");var pu=U.PredictorAdd2;Ye("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Dr,$p=U.ColorIndexInverseTransform,_o=U.MapARGB,wo=U.VP8LColorIndexInverseTransformAlpha,ef=U.MapAlpha,tf=U.VP8LPredictorsAdd=[];tf.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var nf,rf,sl,ol,al,lc,ll,cc,Is,xo,Gn,nr,Nr,Gr,da,sf,mu,qp,x3,E3,S3,C3,I3,T3,of,A3,k3,D3,N3=s(511),M3=s(2041),R3=s(225),O3=s(767),P3=0,Sy=M3,Wp=R3,ps=O3,Ts=N3,Gp=0,Kp=1,L3=2,Yp=3,Zp=4,Cy=5,F3=6,Iy=7,Ty=8,Xp=9,Ay=10,kM=[2,3,7],DM=[3,3,11],j3=[280,256,256,256,40],NM=[0,1,1,1,0],MM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],RM=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],OM=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],PM=8,ky=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Dy=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],af=null,LM=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],FM=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],B3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],jM=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],BM=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],VM=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],UM=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cl=[],Gs=[],fa=[],zM=1,V3=2,ul=[],As=[];la("UpsampleRgbLinePair",tl,3),la("UpsampleBgrLinePair",ci,3),la("UpsampleRgbaLinePair",Ri,4),la("UpsampleBgraLinePair",Zd,4),la("UpsampleArgbLinePair",Yd,4),la("UpsampleRgba4444LinePair",sc,2),la("UpsampleRgb565LinePair",ic,2);var HM=U.UpsampleRgbLinePair,$M=U.UpsampleBgrLinePair,U3=U.UpsampleRgbaLinePair,z3=U.UpsampleBgraLinePair,H3=U.UpsampleArgbLinePair,$3=U.UpsampleRgba4444LinePair,qM=U.UpsampleRgb565LinePair,Jp=16,Qp=1<<Jp-1,lf=-227,Ny=482,q3=6,WM=(256<<q3)-1,W3=0,GM=s(256),KM=s(256),YM=s(256),ZM=s(256),XM=s(Ny-lf),JM=s(Ny-lf);ca("YuvToRgbRow",tl,3),ca("YuvToBgrRow",ci,3),ca("YuvToRgbaRow",Ri,4),ca("YuvToBgraRow",Zd,4),ca("YuvToArgbRow",Yd,4),ca("YuvToRgba4444Row",sc,2),ca("YuvToRgb565Row",ic,2);var G3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],em=[0,2,8],QM=[8,7,6,4,4,2,2,2,1,1,1,1],e7=1;this.WebPDecodeRGBA=function(N,L,Y,X,te){var re=Kp,ie=new $e,oe=new ct;ie.ba=oe,oe.S=re,oe.width=[oe.width],oe.height=[oe.height];var le=oe.width,de=oe.height,Se=new Ct;if(Se==null||N==null)var Oe=2;else t(Se!=null),Oe=oc(N,L,Y,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Oe!=0?le=0:(le!=null&&(le[0]=Se.width[0]),de!=null&&(de[0]=Se.height[0]),le=1),le){oe.width=oe.width[0],oe.height=oe.height[0],X!=null&&(X[0]=oe.width),te!=null&&(te[0]=oe.height);e:{if(X=new er,(te=new Je).data=N,te.w=L,te.ha=Y,te.kd=1,L=[0],t(te!=null),((N=oc(te.data,te.w,te.ha,null,null,null,L,null,te))==0||N==7)&&L[0]&&(N=4),(L=N)==0){if(t(ie!=null),X.data=te.data,X.w=te.w+te.offset,X.ha=te.ha-te.offset,X.put=Nt,X.ac=At,X.bc=Vt,X.ma=ie,te.xa){if((N=An())==null){ie=1;break e}if(function(fe,Ce){var Te=[0],Be=[0],Me=[0];t:for(;;){if(fe==null)return 0;if(Ce==null)return fe.a=2,0;if(fe.l=Ce,fe.a=0,I(fe.m,Ce.data,Ce.w,Ce.ha),!_e(fe.m,Te,Be,Me)){fe.a=3;break t}if(fe.xb=V3,Ce.width=Te[0],Ce.height=Be[0],!jn(Te[0],Be[0],1,fe,null))break t;return 1}return t(fe.a!=0),0}(N,X)){if(X=(L=nl(X.width,X.height,ie.Oa,ie.ba))==0){t:{X=N;n:for(;;){if(X==null){X=0;break t}if(t(X.s.yc!=null),t(X.s.Ya!=null),t(0<X.s.Wb),t((Y=X.l)!=null),t((te=Y.ma)!=null),X.xb!=0){if(X.ca=te.ba,X.tb=te.tb,t(X.ca!=null),!Xd(te.Oa,Y,Yp)){X.a=2;break n}if(!sr(X,Y.width)||Y.da)break n;if((Y.da||nt(X.ca.S))&&Ws(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),X.ca.f.kb.F!=null&&Ws()),X.Pb&&0<X.s.ua&&X.s.vb.X==null&&!K(X.s.vb,X.s.Wa.Xa)){X.a=1;break n}X.xb=0}if(!Wt(X,X.V,X.Ba,X.c,X.i,Y.o,_n))break n;te.Dc=X.Ma,X=1;break t}t(X.a!=0),X=0}X=!X}X&&(L=N.a)}else L=N.a}else{if((N=new Dn)==null){ie=1;break e}if(N.Fa=te.na,N.P=te.P,N.qc=te.Sa,vr(N,X)){if((L=nl(X.width,X.height,ie.Oa,ie.ba))==0){if(N.Aa=0,Y=ie.Oa,t((te=N)!=null),Y!=null){if(0<(le=0>(le=Y.Md)?0:100<le?255:255*le/100)){for(de=Se=0;4>de;++de)12>(Oe=te.pb[de]).lc&&(Oe.ia=le*QM[0>Oe.lc?0:Oe.lc]>>3),Se|=Oe.ia;Se&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=Y.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function(fe,Ce){if(fe==null)return 0;if(Ce==null)return Yt(fe,2,"NULL VP8Io parameter in VP8Decode().");if(!fe.cb&&!vr(fe,Ce))return 0;if(t(fe.cb),Ce.ac==null||Ce.ac(Ce)){Ce.ob&&(fe.L=0);var Te=em[fe.L];if(fe.L==2?(fe.yb=0,fe.zb=0):(fe.yb=Ce.v-Te>>4,fe.zb=Ce.j-Te>>4,0>fe.yb&&(fe.yb=0),0>fe.zb&&(fe.zb=0)),fe.Va=Ce.o+15+Te>>4,fe.Hb=Ce.va+15+Te>>4,fe.Hb>fe.za&&(fe.Hb=fe.za),fe.Va>fe.Ub&&(fe.Va=fe.Ub),0<fe.L){var Be=fe.ed;for(Te=0;4>Te;++Te){var Me;if(fe.Qa.Cb){var ze=fe.Qa.Lb[Te];fe.Qa.Fb||(ze+=Be.Tb)}else ze=Be.Tb;for(Me=0;1>=Me;++Me){var qe=fe.gd[Te][Me],st=ze;if(Be.Pc&&(st+=Be.vd[0],Me&&(st+=Be.od[0])),0<(st=0>st?0:63<st?63:st)){var Qe=st;0<Be.wb&&(Qe=4<Be.wb?Qe>>2:Qe>>1)>9-Be.wb&&(Qe=9-Be.wb),1>Qe&&(Qe=1),qe.dd=Qe,qe.tc=2*st+Qe,qe.ld=40<=st?2:15<=st?1:0}else qe.tc=0;qe.La=Me}}}Te=0}else Yt(fe,6,"Frame setup failed"),Te=fe.a;if(Te=Te==0){if(Te){fe.$c=0,0<fe.Aa||(fe.Ic=e7);t:{Te=fe.Ic,Be=4*(Qe=fe.za);var jt=32*Qe,Et=Qe+1,fn=0<fe.L?Qe*(0<fe.Aa?2:1):0,Mt=(fe.Aa==2?2:1)*Qe;if((qe=Be+832+(Me=3*(16*Te+em[fe.L])/2*jt)+(ze=fe.Fa!=null&&0<fe.Fa.length?fe.Kc.c*fe.Kc.i:0))!=qe)Te=0;else{if(qe>fe.Vb){if(fe.Vb=0,fe.Ec=s(qe),fe.Fc=0,fe.Ec==null){Te=Yt(fe,1,"no memory during frame initialization.");break t}fe.Vb=qe}qe=fe.Ec,st=fe.Fc,fe.Ac=qe,fe.Bc=st,st+=Be,fe.Gd=o(jt,Ut),fe.Hd=0,fe.rb=o(Et+1,vt),fe.sb=1,fe.wa=fn?o(fn,tt):null,fe.Y=0,fe.D.Nb=0,fe.D.wa=fe.wa,fe.D.Y=fe.Y,0<fe.Aa&&(fe.D.Y+=Qe),t(!0),fe.oc=qe,fe.pc=st,st+=832,fe.ya=o(Mt,rn),fe.aa=0,fe.D.ya=fe.ya,fe.D.aa=fe.aa,fe.Aa==2&&(fe.D.aa+=Qe),fe.R=16*Qe,fe.B=8*Qe,Qe=(jt=em[fe.L])*fe.R,jt=jt/2*fe.B,fe.sa=qe,fe.ta=st+Qe,fe.qa=fe.sa,fe.ra=fe.ta+16*Te*fe.R+jt,fe.Ha=fe.qa,fe.Ia=fe.ra+8*Te*fe.B+jt,fe.$c=0,st+=Me,fe.mb=ze?qe:null,fe.nb=ze?st:null,t(st+ze<=fe.Fc+fe.Vb),Mi(fe),i(fe.Ac,fe.Bc,0,Be),Te=1}}if(Te){if(Ce.ka=0,Ce.y=fe.sa,Ce.O=fe.ta,Ce.f=fe.qa,Ce.N=fe.ra,Ce.ea=fe.Ha,Ce.Vd=fe.Ia,Ce.fa=fe.R,Ce.Rc=fe.B,Ce.F=null,Ce.J=0,!P3){for(Te=-255;255>=Te;++Te)N3[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)M3[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)R3[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)O3[255+Te]=0>Te?0:255<Te?255:Te;P3=1}ll=bi,cc=Zl,xo=ti,Gn=Qo,nr=ni,Is=Vn,Nr=Up,Gr=tc,da=ee,sf=pe,mu=zp,qp=q,x3=Ee,E3=Ie,S3=ec,C3=Gd,I3=Bp,T3=Vp,Gs[0]=vy,Gs[1]=ea,Gs[2]=Qa,Gs[3]=by,Gs[4]=ta,Gs[5]=_y,Gs[6]=na,Gs[7]=wy,Gs[8]=zd,Gs[9]=uu,cl[0]=Jl,cl[1]=bo,cl[2]=Wi,cl[3]=Xl,cl[4]=Ss,cl[5]=vo,cl[6]=cu,fa[0]=Ey,fa[1]=Ja,fa[2]=Ql,fa[3]=xy,fa[4]=$d,fa[5]=Hd,fa[6]=jp,Te=1}else Te=0}Te&&(Te=function(Nn,Kr){for(Nn.M=0;Nn.M<Nn.Va;++Nn.M){var hn,Rt=Nn.Jc[Nn.M&Nn.Xb],mt=Nn.m,Mr=Nn;for(hn=0;hn<Mr.za;++hn){var sn=mt,Pn=Mr,fr=Pn.Ac,ui=Pn.Bc+4*hn,Oi=Pn.zc,Er=Pn.ya[Pn.aa+hn];if(Pn.Qa.Bb?Er.$b=Q(sn,Pn.Pa.jb[0])?2+Q(sn,Pn.Pa.jb[2]):Q(sn,Pn.Pa.jb[1]):Er.$b=0,Pn.kc&&(Er.Ad=Q(sn,Pn.Bd)),Er.Za=!Q(sn,145)+0,Er.Za){var wi=Er.Ob,Pi=0;for(Pn=0;4>Pn;++Pn){var Yr,zn=Oi[0+Pn];for(Yr=0;4>Yr;++Yr){zn=BM[fr[ui+Yr]][zn];for(var Xn=B3[Q(sn,zn[0])];0<Xn;)Xn=B3[2*Xn+Q(sn,zn[Xn])];zn=-Xn,fr[ui+Yr]=zn}r(wi,Pi,fr,ui,4),Pi+=4,Oi[0+Pn]=zn}}else zn=Q(sn,156)?Q(sn,128)?1:3:Q(sn,163)?2:0,Er.Ob[0]=zn,i(fr,ui,zn,4),i(Oi,0,zn,4);Er.Dd=Q(sn,142)?Q(sn,114)?Q(sn,183)?1:3:2:0}if(Mr.m.Ka)return Yt(Nn,7,"Premature end-of-partition0 encountered.");for(;Nn.ja<Nn.za;++Nn.ja){if(Mr=Rt,sn=(mt=Nn).rb[mt.sb-1],fr=mt.rb[mt.sb+mt.ja],hn=mt.ya[mt.aa+mt.ja],ui=mt.kc?hn.Ad:0)sn.la=fr.la=0,hn.Za||(sn.Na=fr.Na=0),hn.Hc=0,hn.Gc=0,hn.ia=0;else{var Sr,Jn;if(sn=fr,fr=Mr,ui=mt.Pa.Xc,Oi=mt.ya[mt.aa+mt.ja],Er=mt.pb[Oi.$b],Pn=Oi.ad,wi=0,Pi=mt.rb[mt.sb-1],zn=Yr=0,i(Pn,wi,0,384),Oi.Za)var di=0,Ks=ui[3];else{Xn=s(16);var Rr=sn.Na+Pi.Na;if(Rr=af(fr,ui[1],Rr,Er.Eb,0,Xn,0),sn.Na=Pi.Na=(0<Rr)+0,1<Rr)ll(Xn,0,Pn,wi);else{var Gi=Xn[0]+3>>3;for(Xn=0;256>Xn;Xn+=16)Pn[wi+Xn]=Gi}di=1,Ks=ui[0]}var rr=15&sn.la,Zr=15&Pi.la;for(Xn=0;4>Xn;++Xn){var ms=1&Zr;for(Gi=Jn=0;4>Gi;++Gi)rr=rr>>1|(ms=(Rr=af(fr,Ks,Rr=ms+(1&rr),Er.Sc,di,Pn,wi))>di)<<7,Jn=Jn<<2|(3<Rr?3:1<Rr?2:Pn[wi+0]!=0),wi+=16;rr>>=4,Zr=Zr>>1|ms<<7,Yr=(Yr<<8|Jn)>>>0}for(Ks=rr,di=Zr>>4,Sr=0;4>Sr;Sr+=2){for(Jn=0,rr=sn.la>>4+Sr,Zr=Pi.la>>4+Sr,Xn=0;2>Xn;++Xn){for(ms=1&Zr,Gi=0;2>Gi;++Gi)Rr=ms+(1&rr),rr=rr>>1|(ms=0<(Rr=af(fr,ui[2],Rr,Er.Qc,0,Pn,wi)))<<3,Jn=Jn<<2|(3<Rr?3:1<Rr?2:Pn[wi+0]!=0),wi+=16;rr>>=2,Zr=Zr>>1|ms<<5}zn|=Jn<<4*Sr,Ks|=rr<<4<<Sr,di|=(240&Zr)<<Sr}sn.la=Ks,Pi.la=di,Oi.Hc=Yr,Oi.Gc=zn,Oi.ia=43690&zn?0:Er.ia,ui=!(Yr|zn)}if(0<mt.L&&(mt.wa[mt.Y+mt.ja]=mt.gd[hn.$b][hn.Za],mt.wa[mt.Y+mt.ja].La|=!ui),Mr.Ka)return Yt(Nn,7,"Premature end-of-file encountered.")}if(Mi(Nn),mt=Kr,Mr=1,hn=(Rt=Nn).D,sn=0<Rt.L&&Rt.M>=Rt.zb&&Rt.M<=Rt.Va,Rt.Aa==0)t:{if(hn.M=Rt.M,hn.uc=sn,Cs(Rt,hn),Mr=1,hn=(Jn=Rt.D).Nb,sn=(zn=em[Rt.L])*Rt.R,fr=zn/2*Rt.B,Xn=16*hn*Rt.R,Gi=8*hn*Rt.B,ui=Rt.sa,Oi=Rt.ta-sn+Xn,Er=Rt.qa,Pn=Rt.ra-fr+Gi,wi=Rt.Ha,Pi=Rt.Ia-fr+Gi,Zr=(rr=Jn.M)==0,Yr=rr>=Rt.Va-1,Rt.Aa==2&&Cs(Rt,Jn),Jn.uc)for(ms=(Rr=Rt).D.M,t(Rr.D.uc),Jn=Rr.yb;Jn<Rr.Hb;++Jn){di=Jn,Ks=ms;var Li=(gs=(fi=Rr).D).Nb;Sr=fi.R;var gs=gs.wa[gs.Y+di],ys=fi.sa,Ki=fi.ta+16*Li*Sr+16*di,bs=gs.dd,lr=gs.tc;if(lr!=0)if(t(3<=lr),fi.L==1)0<di&&C3(ys,Ki,Sr,lr+4),gs.La&&T3(ys,Ki,Sr,lr),0<Ks&&S3(ys,Ki,Sr,lr+4),gs.La&&I3(ys,Ki,Sr,lr);else{var vs=fi.B,Ys=fi.qa,uc=fi.ra+8*Li*vs+8*di,ha=fi.Ha,fi=fi.Ia+8*Li*vs+8*di;Li=gs.ld,0<di&&(Gr(ys,Ki,Sr,lr+4,bs,Li),sf(Ys,uc,ha,fi,vs,lr+4,bs,Li)),gs.La&&(qp(ys,Ki,Sr,lr,bs,Li),E3(Ys,uc,ha,fi,vs,lr,bs,Li)),0<Ks&&(Nr(ys,Ki,Sr,lr+4,bs,Li),da(Ys,uc,ha,fi,vs,lr+4,bs,Li)),gs.La&&(mu(ys,Ki,Sr,lr,bs,Li),x3(Ys,uc,ha,fi,vs,lr,bs,Li))}}if(Rt.ia&&alert("todo:DitherRow"),mt.put!=null){if(Jn=16*rr,rr=16*(rr+1),Zr?(mt.y=Rt.sa,mt.O=Rt.ta+Xn,mt.f=Rt.qa,mt.N=Rt.ra+Gi,mt.ea=Rt.Ha,mt.W=Rt.Ia+Gi):(Jn-=zn,mt.y=ui,mt.O=Oi,mt.f=Er,mt.N=Pn,mt.ea=wi,mt.W=Pi),Yr||(rr-=zn),rr>mt.o&&(rr=mt.o),mt.F=null,mt.J=null,Rt.Fa!=null&&0<Rt.Fa.length&&Jn<rr&&(mt.J=ar(Rt,mt,Jn,rr-Jn),mt.F=Rt.mb,mt.F==null&&mt.F.length==0)){Mr=Yt(Rt,3,"Could not decode alpha data.");break t}Jn<mt.j&&(zn=mt.j-Jn,Jn=mt.j,t(!(1&zn)),mt.O+=Rt.R*zn,mt.N+=Rt.B*(zn>>1),mt.W+=Rt.B*(zn>>1),mt.F!=null&&(mt.J+=mt.width*zn)),Jn<rr&&(mt.O+=mt.v,mt.N+=mt.v>>1,mt.W+=mt.v>>1,mt.F!=null&&(mt.J+=mt.v),mt.ka=Jn-mt.j,mt.U=mt.va-mt.v,mt.T=rr-Jn,Mr=mt.put(mt))}hn+1!=Rt.Ic||Yr||(r(Rt.sa,Rt.ta-sn,ui,Oi+16*Rt.R,sn),r(Rt.qa,Rt.ra-fr,Er,Pn+8*Rt.B,fr),r(Rt.Ha,Rt.Ia-fr,wi,Pi+8*Rt.B,fr))}if(!Mr)return Yt(Nn,6,"Output aborted.")}return 1}(fe,Ce)),Ce.bc!=null&&Ce.bc(Ce),Te&=1}return Te?(fe.cb=0,Te):0})(N,X)||(L=N.a)}}else L=N.a}L==0&&ie.Oa!=null&&ie.Oa.fd&&(L=Jd(ie.ba))}ie=L}re=ie!=0?null:11>re?oe.f.RGBA.eb:oe.f.kb.y}else re=null;return re};var K3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(U,V){for(var E="",C=0;C<4;C++)E+=String.fromCharCode(U[V++]);return E}function u(U,V){return U[V+0]|U[V+1]<<8}function d(U,V){return(U[V+0]|U[V+1]<<8|U[V+2]<<16)>>>0}function h(U,V){return(U[V+0]|U[V+1]<<8|U[V+2]<<16|U[V+3]<<24)>>>0}new l;var f=[0],p=[0],g=[],y=new l,v=e,S=function(U,V){var E={},C=0,R=!1,m=0,b=0;if(E.frames=[],!function(P,G){for(var D=0;D<4;D++)if(P[G+D]!="RIFF".charCodeAt(D))return!0;return!1}(U,V)){for(h(U,V+=4),V+=8;V<U.length;){var w=c(U,V),_=h(U,V+=4);V+=4;var x=_+(1&_);switch(w){case"VP8 ":case"VP8L":E.frames[C]===void 0&&(E.frames[C]={}),($=E.frames[C]).src_off=R?b:V-8,$.src_size=m+_+8,C++,R&&(R=!1,m=0,b=0);break;case"VP8X":($=E.header={}).feature_flags=U[V];var I=V+4;$.canvas_width=1+d(U,I),I+=3,$.canvas_height=1+d(U,I),I+=3;break;case"ALPH":R=!0,m=x+8,b=V-8;break;case"ANIM":($=E.header).bgcolor=h(U,V),I=V+4,$.loop_count=u(U,I),I+=2;break;case"ANMF":var O,$;($=E.frames[C]={}).offset_x=2*d(U,V),V+=3,$.offset_y=2*d(U,V),V+=3,$.width=1+d(U,V),V+=3,$.height=1+d(U,V),V+=3,$.duration=d(U,V),V+=3,O=U[V++],$.dispose=1&O,$.blend=O>>1&1}w!="ANMF"&&(V+=x)}return E}}(v,0);S.response=v,S.rgbaoutput=!0,S.dataurl=!1;var k=S.header?S.header:null,M=S.frames?S.frames:null;if(k){k.loop_counter=k.loop_count,f=[k.canvas_height],p=[k.canvas_width];for(var z=0;z<M.length&&M[z].blend!=0;z++);}var F=M[0],j=y.WebPDecodeRGBA(v,F.src_off,F.src_size,p,f);F.rgba=j,F.imgwidth=p[0],F.imgheight=f[0];for(var B=0;B<p[0]*f[0]*4;B++)g[B]=j[B];return this.width=p,this.height=f,this.data=g,this}function xY(){var e,t=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function EY(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,n,r,i,s,o,a,l,c,u=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=P;Object.defineProperty(this,"pdf",{get:function(){return G}});var D=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return D},set:function(K){D=!!K}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(K){W=!!K}});var A=0;Object.defineProperty(this,"posX",{get:function(){return A},set:function(K){isNaN(K)||(A=K)}});var T=0;Object.defineProperty(this,"posY",{get:function(){return T},set:function(K){isNaN(K)||(T=K)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(K){var ce;typeof K=="number"?ce=[K,K,K,K]:((ce=new Array(4))[0]=K[0],ce[1]=K.length>=2?K[1]:ce[0],ce[2]=K.length>=3?K[2]:ce[0],ce[3]=K.length>=4?K[3]:ce[1]),c.margin=ce}});var H=!1;Object.defineProperty(this,"autoPaging",{get:function(){return H},set:function(K){H=K}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(K){Z=K}});var Q=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Q},set:function(K){Q=K}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(K){K instanceof u&&(c=K)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(K){c.path=K}});var J=[];Object.defineProperty(this,"ctxStack",{get:function(){return J},set:function(K){J=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var ce;ce=h(K),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var ce=h(K);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var ne=null,ge=null,ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return ye},set:function(K){ne=null,ge=null,ye=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var ce;if(this.ctx.font=K,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var ue=ce[1];ce[2];var ve=ce[3],me=ce[4];ce[5];var xe=ce[6],we=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(me)[2];me=Math.floor(we==="px"?parseFloat(me)*this.pdf.internal.scaleFactor:we==="em"?parseFloat(me)*this.pdf.getFontSize():parseFloat(me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(me);var De=function(Ye){var Xe,Ve,dt=[],et=Ye.trim();if(et==="")return Fx;if(et in KD)return[KD[et]];for(;et!=="";){switch(Ve=null,Xe=(et=ZD(et)).charAt(0)){case'"':case"'":Ve=gY(et.substring(1),Xe);break;default:Ve=yY(et)}if(Ve===null||(dt.push(Ve[0]),(et=ZD(Ve[1]))!==""&&et.charAt(0)!==","))return Fx;et=et.replace(/^,/,"")}return dt}(xe);if(this.fontFaces){var Re=function(Ye,Xe){var Ve=Ye.getFontList(),dt=JSON.stringify(Ve);if(ne===null||ge!==dt){var et=function(ft){var xt=[];return Object.keys(ft).forEach(function(ut){ft[ut].forEach(function(nt){var St=null;switch(nt){case"bold":St={family:ut,weight:"bold"};break;case"italic":St={family:ut,style:"italic"};break;case"bolditalic":St={family:ut,weight:"bold",style:"italic"};break;case"":case"normal":St={family:ut}}St!==null&&(St.ref={name:ut,style:nt},xt.push(St))})}),xt}(Ve);ne=function(ft){for(var xt={},ut=0;ut<ft.length;++ut){var nt=Lx(ft[ut]),St=nt.family,bt=nt.stretch,ct=nt.style,Ct=nt.weight;xt[St]=xt[St]||{},xt[St][bt]=xt[St][bt]||{},xt[St][bt][ct]=xt[St][bt][ct]||{},xt[St][bt][ct][Ct]=nt}return xt}(et.concat(Xe)),ge=dt}return ne}(this.pdf,this.fontFaces),Fe=De.map(function(Ye){return{family:Ye,stretch:"normal",weight:ve,style:ue}}),rt=function(Ye,Xe,Ve){for(var dt=(Ve=Ve||{}).defaultFontFamily||"times",et=Object.assign({},mY,Ve.genericFontFamilies||{}),ft=null,xt=null,ut=0;ut<Xe.length;++ut)if(et[(ft=Lx(Xe[ut])).family]&&(ft.family=et[ft.family]),Ye.hasOwnProperty(ft.family)){xt=Ye[ft.family];break}if(!(xt=xt||Ye[dt]))throw new Error("Could not find a font-family for the rule '"+YD(ft)+"' and default family '"+dt+"'.");if(xt=function(nt,St){if(St[nt])return St[nt];var bt=Hx[nt],ct=bt<=Hx.normal?-1:1,Ct=GD(St,yN,bt,ct);if(!Ct)throw new Error("Could not find a matching font-stretch value for "+nt);return Ct}(ft.stretch,xt),xt=function(nt,St){if(St[nt])return St[nt];for(var bt=gN[nt],ct=0;ct<bt.length;++ct)if(St[bt[ct]])return St[bt[ct]];throw new Error("Could not find a matching font-style for "+nt)}(ft.style,xt),!(xt=function(nt,St){if(St[nt])return St[nt];if(nt===400&&St[500])return St[500];if(nt===500&&St[400])return St[400];var bt=pY[nt],ct=GD(St,bN,bt,nt<400?-1:1);if(!ct)throw new Error("Could not find a matching font-weight for value "+nt);return ct}(ft.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+YD(ft)+"'.");return xt}(Re,Fe);this.pdf.setFont(rt.ref.name,rt.ref.style)}else{var je="";(ve==="bold"||parseInt(ve,10)>=700||ue==="bold")&&(je="bold"),ue==="italic"&&(je+="italic"),je.length===0&&(je="normal");for(var Ze="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ge=0;Ge<De.length;Ge++){if(this.pdf.internal.getFont(De[Ge],je,{noFallback:!0,disableWarning:!0})!==void 0){Ze=De[Ge];break}if(je==="bolditalic"&&this.pdf.internal.getFont(De[Ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ze=De[Ge],je="bold";else if(this.pdf.internal.getFont(De[Ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ze=De[Ge],je="normal";break}}if(Ze===""){for(var Ke=0;Ke<De.length;Ke++)if(gt[De[Ke]]){Ze=gt[De[Ke]];break}}Ze=Ze===""?"Times":Ze,this.pdf.setFont(Ze,je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,$.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,$.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};d.prototype.setLineDash=function(P){this.lineDash=P},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){M.call(this,"fill",!1)},d.prototype.stroke=function(){M.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(P,G){if(isNaN(P)||isNaN(G))throw ir.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var D=this.ctx.transform.applyToPoint(new o(P,G));this.path.push({type:"mt",x:D.x,y:D.y}),this.ctx.lastPoint=new o(P,G)},d.prototype.closePath=function(){var P=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Zn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){P=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y)},d.prototype.lineTo=function(P,G){if(isNaN(P)||isNaN(G))throw ir.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var D=this.ctx.transform.applyToPoint(new o(P,G));this.path.push({type:"lt",x:D.x,y:D.y}),this.ctx.lastPoint=new o(D.x,D.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},d.prototype.quadraticCurveTo=function(P,G,D,W){if(isNaN(D)||isNaN(W)||isNaN(P)||isNaN(G))throw ir.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var A=this.ctx.transform.applyToPoint(new o(D,W)),T=this.ctx.transform.applyToPoint(new o(P,G));this.path.push({type:"qct",x1:T.x,y1:T.y,x:A.x,y:A.y}),this.ctx.lastPoint=new o(A.x,A.y)},d.prototype.bezierCurveTo=function(P,G,D,W,A,T){if(isNaN(A)||isNaN(T)||isNaN(P)||isNaN(G)||isNaN(D)||isNaN(W))throw ir.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var H=this.ctx.transform.applyToPoint(new o(A,T)),Z=this.ctx.transform.applyToPoint(new o(P,G)),Q=this.ctx.transform.applyToPoint(new o(D,W));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:Q.x,y2:Q.y,x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},d.prototype.arc=function(P,G,D,W,A,T){if(isNaN(P)||isNaN(G)||isNaN(D)||isNaN(W)||isNaN(A))throw ir.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(T=!!T,!this.ctx.transform.isIdentity){var H=this.ctx.transform.applyToPoint(new o(P,G));P=H.x,G=H.y;var Z=this.ctx.transform.applyToPoint(new o(0,D)),Q=this.ctx.transform.applyToPoint(new o(0,0));D=Math.sqrt(Math.pow(Z.x-Q.x,2)+Math.pow(Z.y-Q.y,2))}Math.abs(A-W)>=2*Math.PI&&(W=0,A=2*Math.PI),this.path.push({type:"arc",x:P,y:G,radius:D,startAngle:W,endAngle:A,counterclockwise:T})},d.prototype.arcTo=function(P,G,D,W,A){throw new Error("arcTo not implemented.")},d.prototype.rect=function(P,G,D,W){if(isNaN(P)||isNaN(G)||isNaN(D)||isNaN(W))throw ir.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,G),this.lineTo(P+D,G),this.lineTo(P+D,G+W),this.lineTo(P,G+W),this.lineTo(P,G),this.lineTo(P+D,G),this.lineTo(P,G)},d.prototype.fillRect=function(P,G,D,W){if(isNaN(P)||isNaN(G)||isNaN(D)||isNaN(W))throw ir.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var A={};this.lineCap!=="butt"&&(A.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(A.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,G,D,W),this.fill(),A.hasOwnProperty("lineCap")&&(this.lineCap=A.lineCap),A.hasOwnProperty("lineJoin")&&(this.lineJoin=A.lineJoin)}},d.prototype.strokeRect=function(P,G,D,W){if(isNaN(P)||isNaN(G)||isNaN(D)||isNaN(W))throw ir.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(P,G,D,W),this.stroke())},d.prototype.clearRect=function(P,G,D,W){if(isNaN(P)||isNaN(G)||isNaN(D)||isNaN(W))throw ir.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,G,D,W))},d.prototype.save=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},d.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("Q");this.pdf.setPage(G),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(P){var G,D,W,A;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))G=0,D=0,W=0,A=0;else{var T=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(T!==null)G=parseInt(T[1]),D=parseInt(T[2]),W=parseInt(T[3]),A=1;else if((T=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)G=parseInt(T[1]),D=parseInt(T[2]),W=parseInt(T[3]),A=parseFloat(T[4]);else{if(A=1,typeof P=="string"&&P.charAt(0)!=="#"){var H=new cN(P);P=H.ok?H.toHex():"#000000"}P.length===4?(G=P.substring(1,2),G+=G,D=P.substring(2,3),D+=D,W=P.substring(3,4),W+=W):(G=P.substring(1,3),D=P.substring(3,5),W=P.substring(5,7)),G=parseInt(G,16),D=parseInt(D,16),W=parseInt(W,16)}}return{r:G,g:D,b:W,a:A,style:P}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(P,G,D,W){if(isNaN(G)||isNaN(D)||typeof P!="string")throw ir.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!f.call(this)){var A=x(this.ctx.transform.rotation),T=this.ctx.transform.scaleX;C.call(this,{text:P,x:G,y:D,scale:T,angle:A,align:this.textAlign,maxWidth:W})}},d.prototype.strokeText=function(P,G,D,W){if(isNaN(G)||isNaN(D)||typeof P!="string")throw ir.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){W=isNaN(W)?void 0:W;var A=x(this.ctx.transform.rotation),T=this.ctx.transform.scaleX;C.call(this,{text:P,x:G,y:D,scale:T,renderingMode:"stroke",angle:A,align:this.textAlign,maxWidth:W})}},d.prototype.measureText=function(P){if(typeof P!="string")throw ir.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,D=this.pdf.internal.scaleFactor,W=G.internal.getFontSize(),A=G.getStringUnitWidth(P)*W/G.internal.scaleFactor;return new function(T){var H=(T=T||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return H}}),this}({width:A*=Math.round(96*D/72*1e4)/1e4})},d.prototype.scale=function(P,G){if(isNaN(P)||isNaN(G))throw ir.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var D=new l(P,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(D)},d.prototype.rotate=function(P){if(isNaN(P))throw ir.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.translate=function(P,G){if(isNaN(P)||isNaN(G))throw ir.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var D=new l(1,0,0,1,P,G);this.ctx.transform=this.ctx.transform.multiply(D)},d.prototype.transform=function(P,G,D,W,A,T){if(isNaN(P)||isNaN(G)||isNaN(D)||isNaN(W)||isNaN(A)||isNaN(T))throw ir.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var H=new l(P,G,D,W,A,T);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.setTransform=function(P,G,D,W,A,T){P=isNaN(P)?1:P,G=isNaN(G)?0:G,D=isNaN(D)?0:D,W=isNaN(W)?1:W,A=isNaN(A)?0:A,T=isNaN(T)?0:T,this.ctx.transform=new l(P,G,D,W,A,T)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(P,G,D,W,A,T,H,Z,Q){var J=this.pdf.getImageProperties(P),ne=1,ge=1,ye=1,K=1;W!==void 0&&Z!==void 0&&(ye=Z/W,K=Q/A,ne=J.width/W*Z/W,ge=J.height/A*Q/A),T===void 0&&(T=G,H=D,G=0,D=0),W!==void 0&&Z===void 0&&(Z=W,Q=A),W===void 0&&Z===void 0&&(Z=J.width,Q=J.height);var ce=this.ctx.transform.decompose(),ue=x(ce.rotate.shx),ve=new l,me=(ve=(ve=(ve=ve.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale)).applyToRectangle(new a(T-G*ye,H-D*K,W*ne,A*ge));if(this.autoPaging){for(var xe,we=y.call(this,me),De=[],Re=0;Re<we.length;Re+=1)De.indexOf(we[Re])===-1&&De.push(we[Re]);k(De);for(var Fe=De[0],rt=De[De.length-1],je=Fe;je<rt+1;je++){this.pdf.setPage(je);var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=je===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=je===1?0:Ge+(je-2)*Ke;if(this.ctx.clip_path.length!==0){var Xe=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(xe,this.posX+this.margin[3],-Ye+gt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=Xe}var Ve=JSON.parse(JSON.stringify(me));Ve=S([Ve],this.posX+this.margin[3],-Ye+gt+this.ctx.prevPageLastElemOffset)[0];var dt=(je>Fe||je<rt)&&g.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,Ke,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,ue),dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",me.x,me.y,me.w,me.h,null,null,ue)};var y=function(P,G,D){var W=[];G=G||this.pdf.internal.pageSize.width,D=D||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var A=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":W.push(Math.floor((P.y+A)/D)+1);break;case"arc":W.push(Math.floor((P.y+A-P.radius)/D)+1),W.push(Math.floor((P.y+A+P.radius)/D)+1);break;case"qct":var T=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);W.push(Math.floor((T.y+A)/D)+1),W.push(Math.floor((T.y+T.h+A)/D)+1);break;case"bct":var H=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);W.push(Math.floor((H.y+A)/D)+1),W.push(Math.floor((H.y+H.h+A)/D)+1);break;case"rect":W.push(Math.floor((P.y+A)/D)+1),W.push(Math.floor((P.y+P.h+A)/D)+1)}for(var Z=0;Z<W.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<W[Z];)v.call(this);return W},v=function(){var P=this.fillStyle,G=this.strokeStyle,D=this.font,W=this.lineCap,A=this.lineWidth,T=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=G,this.font=D,this.lineCap=W,this.lineWidth=A,this.lineJoin=T},S=function(P,G,D){for(var W=0;W<P.length;W++)switch(P[W].type){case"bct":P[W].x2+=G,P[W].y2+=D;case"qct":P[W].x1+=G,P[W].y1+=D;default:P[W].x+=G,P[W].y+=D}return P},k=function(P){return P.sort(function(G,D){return G-D})},M=function(P,G){var D=this.fillStyle,W=this.strokeStyle,A=this.lineCap,T=this.lineWidth,H=Math.abs(T*this.ctx.transform.scaleX),Z=this.lineJoin;if(this.autoPaging){for(var Q,J,ne=JSON.parse(JSON.stringify(this.path)),ge=JSON.parse(JSON.stringify(this.path)),ye=[],K=0;K<ge.length;K++)if(ge[K].x!==void 0)for(var ce=y.call(this,ge[K]),ue=0;ue<ce.length;ue+=1)ye.indexOf(ce[ue])===-1&&ye.push(ce[ue]);for(var ve=0;ve<ye.length;ve++)for(;this.pdf.internal.getNumberOfPages()<ye[ve];)v.call(this);k(ye);for(var me=ye[0],xe=ye[ye.length-1],we=me;we<xe+1;we++){this.pdf.setPage(we),this.fillStyle=D,this.strokeStyle=W,this.lineCap=A,this.lineWidth=H,this.lineJoin=Z;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=we===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=we===1?0:Fe+(we-2)*rt;if(this.ctx.clip_path.length!==0){var Ze=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Q,this.posX+this.margin[3],-je+Re+this.ctx.prevPageLastElemOffset),z.call(this,P,!0),this.path=Ze}if(J=JSON.parse(JSON.stringify(ne)),this.path=S(J,this.posX+this.margin[3],-je+Re+this.ctx.prevPageLastElemOffset),G===!1||we===0){var gt=(we>me||we<xe)&&g.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,rt,null).clip().discardPath()),z.call(this,P,G),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=T}this.path=ne}else this.lineWidth=H,z.call(this,P,G),this.lineWidth=T},z=function(P,G){if((P!=="stroke"||G||!p.call(this))&&(P==="stroke"||G||!f.call(this))){for(var D,W,A=[],T=this.path,H=0;H<T.length;H++){var Z=T[H];switch(Z.type){case"begin":A.push({begin:!0});break;case"close":A.push({close:!0});break;case"mt":A.push({start:Z,deltas:[],abs:[]});break;case"lt":var Q=A.length;if(T[H-1]&&!isNaN(T[H-1].x)&&(D=[Z.x-T[H-1].x,Z.y-T[H-1].y],Q>0)){for(;Q>=0;Q--)if(A[Q-1].close!==!0&&A[Q-1].begin!==!0){A[Q-1].deltas.push(D),A[Q-1].abs.push(Z);break}}break;case"bct":D=[Z.x1-T[H-1].x,Z.y1-T[H-1].y,Z.x2-T[H-1].x,Z.y2-T[H-1].y,Z.x-T[H-1].x,Z.y-T[H-1].y],A[A.length-1].deltas.push(D);break;case"qct":var J=T[H-1].x+2/3*(Z.x1-T[H-1].x),ne=T[H-1].y+2/3*(Z.y1-T[H-1].y),ge=Z.x+2/3*(Z.x1-Z.x),ye=Z.y+2/3*(Z.y1-Z.y),K=Z.x,ce=Z.y;D=[J-T[H-1].x,ne-T[H-1].y,ge-T[H-1].x,ye-T[H-1].y,K-T[H-1].x,ce-T[H-1].y],A[A.length-1].deltas.push(D);break;case"arc":A.push({deltas:[],abs:[],arc:!0}),Array.isArray(A[A.length-1].abs)&&A[A.length-1].abs.push(Z)}}W=G?null:P==="stroke"?"stroke":"fill";for(var ue=!1,ve=0;ve<A.length;ve++)if(A[ve].arc)for(var me=A[ve].abs,xe=0;xe<me.length;xe++){var we=me[xe];we.type==="arc"?B.call(this,we.x,we.y,we.radius,we.startAngle,we.endAngle,we.counterclockwise,void 0,G,!ue):R.call(this,we.x,we.y),ue=!0}else if(A[ve].close===!0)this.pdf.internal.out("h"),ue=!1;else if(A[ve].begin!==!0){var De=A[ve].start.x,Re=A[ve].start.y;m.call(this,A[ve].deltas,De,Re),ue=!0}W&&U.call(this,W),G&&V.call(this)}},F=function(P){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,D=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-D;case"top":return P+G-D;case"hanging":return P+G-2*D;case"middle":return P+G/2-D;default:return P}},j=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(G,D){this.colorStops.push([G,D])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(P,G,D,W,A,T,H,Z,Q){for(var J=w.call(this,D,W,A,T),ne=0;ne<J.length;ne++){var ge=J[ne];ne===0&&(Q?E.call(this,ge.x1+P,ge.y1+G):R.call(this,ge.x1+P,ge.y1+G)),b.call(this,P,G,ge.x2,ge.y2,ge.x3,ge.y3,ge.x4,ge.y4)}Z?V.call(this):U.call(this,H)},U=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(P,G){this.pdf.internal.out(n(P)+" "+r(G)+" m")},C=function(P){var G;switch(P.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var D,W,A,T=this.pdf.getTextDimensions(P.text),H=F.call(this,P.y),Z=j.call(this,H)-T.h,Q=this.ctx.transform.applyToPoint(new o(P.x,H));if(this.autoPaging){var J=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(J.translate)).multiply(J.skew)).multiply(J.scale);for(var ge=this.ctx.transform.applyToRectangle(new a(P.x,H,T.w,T.h)),ye=ne.applyToRectangle(new a(P.x,Z,T.w,T.h)),K=y.call(this,ye),ce=[],ue=0;ue<K.length;ue+=1)ce.indexOf(K[ue])===-1&&ce.push(K[ue]);k(ce);for(var ve=ce[0],me=ce[ce.length-1],xe=ve;xe<me+1;xe++){this.pdf.setPage(xe);var we=xe===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[2],Fe=Re-this.margin[0],rt=this.pdf.internal.pageSize.width-this.margin[1],je=rt-this.margin[3],Ze=xe===1?0:De+(xe-2)*Fe;if(this.ctx.clip_path.length!==0){var gt=this.path;D=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(D,this.posX+this.margin[3],-1*Ze+we),z.call(this,"fill",!0),this.path=gt}var Ge=S([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-Ze+we+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(W=this.pdf.internal.getFontSize(),this.pdf.setFontSize(W*P.scale),A=this.lineWidth,this.lineWidth=A*P.scale);var Ke=this.autoPaging!=="text";if(Ke||Ge.y+Ge.h<=Re){if(Ke||Ge.y>=we&&Ge.x<=rt){var Ye=Ke?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||rt-Ge.x)[0],Xe=S([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-Ze+we+this.ctx.prevPageLastElemOffset)[0],Ve=Ke&&(xe>ve||xe<me)&&g.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,Fe,null).clip().discardPath()),this.pdf.text(Ye,Xe.x,Xe.y,{angle:P.angle,align:G,renderingMode:P.renderingMode}),Ve&&this.pdf.restoreGraphicsState()}}else Ge.y<Re&&(this.ctx.prevPageLastElemOffset+=Re-Ge.y);P.scale>=.01&&(this.pdf.setFontSize(W),this.lineWidth=A)}}else P.scale>=.01&&(W=this.pdf.internal.getFontSize(),this.pdf.setFontSize(W*P.scale),A=this.lineWidth,this.lineWidth=A*P.scale),this.pdf.text(P.text,Q.x+this.posX,Q.y+this.posY,{angle:P.angle,align:G,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(W),this.lineWidth=A)},R=function(P,G,D,W){D=D||0,W=W||0,this.pdf.internal.out(n(P+D)+" "+r(G+W)+" l")},m=function(P,G,D){return this.pdf.lines(P,G,D,null,null)},b=function(P,G,D,W,A,T,H,Z){this.pdf.internal.out([t(i(D+P)),t(s(W+G)),t(i(A+P)),t(s(T+G)),t(i(H+P)),t(s(Z+G)),"c"].join(" "))},w=function(P,G,D,W){for(var A=2*Math.PI,T=Math.PI/2;G>D;)G-=A;var H=Math.abs(D-G);H<A&&W&&(H=A-H);for(var Z=[],Q=W?-1:1,J=G;H>1e-5;){var ne=J+Q*Math.min(H,T);Z.push(_.call(this,P,J,ne)),H-=Math.abs(ne-J),J=ne}return Z},_=function(P,G,D){var W=(D-G)/2,A=P*Math.cos(W),T=P*Math.sin(W),H=A,Z=-T,Q=H*H+Z*Z,J=Q+H*A+Z*T,ne=4/3*(Math.sqrt(2*Q*J)-J)/(H*T-Z*A),ge=H-ne*Z,ye=Z+ne*H,K=ge,ce=-ye,ue=W+G,ve=Math.cos(ue),me=Math.sin(ue);return{x1:P*Math.cos(G),y1:P*Math.sin(G),x2:ge*ve-ye*me,y2:ge*me+ye*ve,x3:K*ve-ce*me,y3:K*me+ce*ve,x4:P*Math.cos(D),y4:P*Math.sin(D)}},x=function(P){return 180*P/Math.PI},I=function(P,G,D,W,A,T){var H=P+.5*(D-P),Z=G+.5*(W-G),Q=A+.5*(D-A),J=T+.5*(W-T),ne=Math.min(P,A,H,Q),ge=Math.max(P,A,H,Q),ye=Math.min(G,T,Z,J),K=Math.max(G,T,Z,J);return new a(ne,ye,ge-ne,K-ye)},O=function(P,G,D,W,A,T,H,Z){var Q,J,ne,ge,ye,K,ce,ue,ve,me,xe,we,De,Re,Fe=D-P,rt=W-G,je=A-D,Ze=T-W,gt=H-A,Ge=Z-T;for(J=0;J<41;J++)ve=(ce=(ne=P+(Q=J/40)*Fe)+Q*((ye=D+Q*je)-ne))+Q*(ye+Q*(A+Q*gt-ye)-ce),me=(ue=(ge=G+Q*rt)+Q*((K=W+Q*Ze)-ge))+Q*(K+Q*(T+Q*Ge-K)-ue),J==0?(xe=ve,we=me,De=ve,Re=me):(xe=Math.min(xe,ve),we=Math.min(we,me),De=Math.max(De,ve),Re=Math.max(Re,me));return new a(Math.round(xe),Math.round(we),Math.round(De-xe),Math.round(Re-we))},$=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,G,D=(P=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:G}));this.prevLineDash!==D&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=D)}}})(Ft.API),function(e){var t=function(o){var a,l,c,u,d,h,f,p,g,y;for(/[^\x00-\xFF]/.test(o),l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(d=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(y=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)-(f=d%85))/85)%85,l.push(h+33,f+33,p+33,g+33,y+33)):l.push(122);return function(v,S){for(var k=S;k>0;k--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,c,u,d,h=String,f="length",p=255,g="charCodeAt",y="slice",v="replace";for(o[y](-2),o=o[y](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,d=(o+=a="uuuuu"[y](o[f]%5||5))[f];d>u;u+=5)l=52200625*(o[g](u)-33)+614125*(o[g](u+1)-33)+7225*(o[g](u+2)-33)+85*(o[g](u+3)-33)+(o[g](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(S,k){for(var M=k;M>0;M--)S.pop()}(c,a[f]),h.fromCharCode.apply(h,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=b1(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Ft.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,h=0,f=function(p){var g=p.length,y=[],v=String.fromCharCode;for(h=0;h<g;h+=1)y.push(v(255&p.charCodeAt(h)));return y.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(Ft.API),function(e){function t(){return(Jt.html2canvas?Promise.resolve(Jt.html2canvas):import("./chunk-RA2NHJLR.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Jt.DOMPurify?Promise.resolve(Jt.DOMPurify):import("./chunk-MO74H3LF.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Zn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(a(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var p=u[f],g=p.src.find(function(y){return y.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),h=c.call(d,a,l);return o.convert(h,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ft.getPageSize=function(a,l,c){if(Zn(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,g=0,y=0;if(f.hasOwnProperty(h))g=f[h][1]/d,y=f[h][0]/d;else try{g=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",y>g&&(p=y,y=g,g=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>y&&(p=y,y=g,g=p)}return{width:y,height:g,unit:l,k:d,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Lx):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(Ft.API),Ft.API.addJS=function(e){var t,n,r=e;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=n.internal.newObject();u.push(d);var h=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ft.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,g={width:0,height:0,numcomponents:1},y=4;y<p;y+=2){if(y+=f,t.indexOf(d.charCodeAt(y+1))!==-1){h=256*d.charCodeAt(y+5)+d.charCodeAt(y+6),g={width:256*d.charCodeAt(y+7)+d.charCodeAt(y+8),height:h,numcomponents:d.charCodeAt(y+9)};break}f=256*d.charCodeAt(y+2)+d.charCodeAt(y+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Ft.API),Ft.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=VD(e,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(B){for(var U=B.width,V=B.height,E=B.data,C=B.palette,R=B.depth,m=!1,b=[],w=[],_=void 0,x=!1,I=0,O=0;O<C.length;O++){var $=K5(C[O],4),P=$[0],G=$[1],D=$[2],W=$[3];b.push(P,G,D),W!=null&&(W===0?(I++,w.length<1&&w.push(O)):W<255&&(x=!0))}if(x||I>1){m=!0,w=void 0;var A=U*V;_=new Uint8Array(A);for(var T=new DataView(E.buffer),H=0;H<A;H++){var Z=jx(T,H,R),Q=K5(C[Z],4)[3];_[H]=Q}}else I===0&&(w=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:m?8:void 0,colorBytes:E,alphaBytes:_,needSMask:m,palette:b,mask:w}}(s):l===2||l===4?function(B){for(var U=B.data,V=B.width,E=B.height,C=B.channels,R=B.depth,m=C===2?"DeviceGray":"DeviceRGB",b=C-1,w=V*E,_=b,x=w*_,I=1*w,O=Math.ceil(x*R/8),$=Math.ceil(I*R/8),P=new Uint8Array(O),G=new Uint8Array($),D=new DataView(U.buffer),W=new DataView(P.buffer),A=new DataView(G.buffer),T=!1,H=0;H<w;H++){for(var Z=H*C,Q=0;Q<_;Q++)sN(W,jx(D,Z+Q,R),H*_+Q,R);var J=jx(D,Z+_,R);J<(1<<R)-1&&(T=!0),sN(A,J,1*H,R)}return{colorSpace:m,colorsPerPixel:b,sMaskBitsPerComponent:T?R:void 0,colorBytes:P,alphaBytes:G,needSMask:T}}(s):function(B){var U=B.data,V=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:U instanceof Uint16Array?function(E){for(var C=E.length,R=new Uint8Array(2*C),m=new DataView(R.buffer,R.byteOffset,R.byteLength),b=0;b<C;b++)m.setUint16(2*b,E[b],!1);return R}(U):U,needSMask:!1}}(s);var d,h,f,p=i,g=p.colorSpace,y=p.colorsPerPixel,v=p.sMaskBitsPerComponent,S=p.colorBytes,k=p.alphaBytes,M=p.needSMask,z=p.palette,F=p.mask,j=null;return r!==Ft.API.image_compression.NONE&&typeof b1=="function"?(j=function(B){var U;switch(B){case Ft.API.image_compression.FAST:U=11;break;case Ft.API.image_compression.MEDIUM:U=13;break;case Ft.API.image_compression.SLOW:U=14;break;default:U=12}return U}(r),d=this.decode.FLATE_DECODE,h="/Predictor ".concat(j," /Colors ").concat(y," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=eN(S,Math.ceil(o*y*u/8),y,u,r),M&&(f=eN(k,Math.ceil(o*v/8),1,v,r))):(d=void 0,h=void 0,e=S,M&&(f=k)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:d,decodeParameters:h,transparency:F,palette:z,sMask:f,predictor:j,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:g}}},function(e){e.processGIF89A=function(t,n,r,i){var s=new wY(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new Bx(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)},e.processGIF87A=e.processGIF89A}(Ft.API),fo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fo.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(n){ir.log("bit decode error:"+n)}},fo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},fo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},fo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},fo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=e}},fo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=e}},fo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},fo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},fo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new fo(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Bx(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Ft.API),aN.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new aN(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Bx(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Ft.API),Ft.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],h=r[c+2],f=r[c+3];s[a++]=u,s[a++]=d,s[a++]=h,o[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ft.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},kd=Ft.API,z1=kd.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,h=0,f=e.length,p=0,g=a[0]||l,y=[];for(n=0;n<f;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(h=d&&Zn(c[r])==="object"&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,y.push((a[r]||g)/l+h)),p=r;return y},XD=kd.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return kd.processArabic&&(e=kd.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:z1.apply(this,arguments).reduce(function(s,o){return s+o},0)},JD=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},QD=function(e,t,n){n||(n={});var r,i,s,o,a,l,c,u=[],d=[u],h=n.textIndent||0,f=0,p=0,g=e.split(" "),y=z1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),S=[];g.map(function(M){(M=M.split(/\s*\n/)).length>1?S=S.concat(M.map(function(z,F){return(F&&z.length?`
`:"")+z})):S.push(M[0])}),g=S,l=XD.apply(this,[v,n])}for(s=0,o=g.length;s<o;s++){var k=0;if(r=g[s],l&&r[0]==`
`&&(r=r.substr(1),k=1),h+f+(p=(i=z1.apply(this,[r,n])).reduce(function(M,z){return M+z},0))>t||k){if(p>t){for(a=JD.apply(this,[r,i,t-(h+f),t]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);p=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(M,z){return M+z},0)}else u=[r];d.push(u),h=p+l,f=y}else u.push(r),h+=f+p,f=y}return c=l?function(M,z){return(z?v:"")+M.join(" ")}:function(M){return M.join(" ")},d.map(c)},kd.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return d.metadata[h]?{widths:d.metadata[h].widths||{0:1},kerning:d.metadata[h].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(QD.apply(this,[r[a],o,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=t[s],i[t[s]]=n[s];var o=function(h){return"0x"+parseInt(h,10).toString(16)},a=e.__fontmetrics__.compress=function(h){var f,p,g,y,v=["{"];for(var S in h){if(f=h[S],isNaN(parseInt(S,10))?p="'"+S+"'":(S=parseInt(S,10),p=(p=o(S).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof f=="number")f<0?(g=o(f).slice(3),y="-"):(g=o(f).slice(2),y=""),g=y+g.slice(0,-1)+i[g.slice(-1)];else{if(Zn(f)!=="object")throw new Error("Don't know what to do with value type "+Zn(f)+".");g=a(f)}v.push(p+g)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,g,y,v={},S=1,k=v,M=[],z="",F="",j=h.length-1,B=1;B<j;B+=1)(y=h[B])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(M.push([k,g]),k={},g=void 0):y=="}"?((p=M.pop())[0][p[1]]=k,g=void 0,k=p[0]):y=="-"?S=-1:g===void 0?r.hasOwnProperty(y)?(z+=r[y],g=parseInt(z,16)*S,S=1,z=""):z+=y:r.hasOwnProperty(y)?(F+=r[y],k[g]=parseInt(F,16)*S,S=1,g=void 0,F=""):F+=y;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var f=h.font,p=d.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(Ft.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(H1(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ft),Ft.API.addSvgAsImage=function(e,t,n,r,i,s,o,a){if(isNaN(t)||isNaN(n))throw ir.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ir.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Jt.canvg?Promise.resolve(Jt.canvg):import("./chunk-HOQGKZEP.js")).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),t,n,r,i,o,a)})},Ft.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Ft.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function h(p,g){var y,v=!1;for(y=0;y<p.length;y+=1)p[y]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=a.length;for(d=0;d<f;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(Zn(e)==="object"){for(i in e)if(s=e[i],h(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&h(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,g=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?g.push("/"+p+" /"+n[p].value):g.push("/"+p+" "+n[p].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},Ft.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",EY),this.internal.events.subscribe("postPutResources",xY)),this},function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=s.length;d<h;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(a=Object.keys(s).sort(function(f,p){return f-p})).length;d<h;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Nd(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Nd(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+Nd(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var p=c();u({data:h,addLength1:!0,objectId:p}),l("endobj");var g=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Nd(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Nd(a.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},h=d.pdfEscape,f=d.activeFontKey,p=d.fonts,g=f,y="",v=0,S="",k=p[g].encoding;if(p[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(S=a,g=f,Array.isArray(a)&&(S=a[0]),v=0;v<S.length;v+=1)p[g].metadata.hasOwnProperty("cmap")&&(o=p[g].metadata.cmap.unicode.codeMap[S[v].charCodeAt(0)]),o||S[v].charCodeAt(0)<256&&p[g].metadata.hasOwnProperty("Unicode")?y+=S[v]:y+="";var M="";return parseInt(g.slice(1))<14||k==="WinAnsiEncoding"?M=h(y,g).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(M=n(y,p[g])),d.isHex=!0,{text:M,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Ft),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ft.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,k=0;this.__bidiEngine__={};var M=function(E){var C=E.charCodeAt(),R=C>>8,m=g[R];return m!==void 0?d[256*m+(255&C)]:R===252||R===253?"AL":v.test(R)?"L":R===8?"R":"N"},z=function(E){for(var C,R=0;R<E.length;R++){if((C=M(E.charAt(R)))==="L")return!1;if(C==="R")return!0}return!1},F=function(E,C,R,m){var b,w,_,x,I=C[m];switch(I){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(I="AN");break;case"AL":S=!0,I="R";break;case"WS":case"BN":I="N";break;case"CS":m<1||m+1>=C.length||(b=R[m-1])!=="EN"&&b!=="AN"||(w=C[m+1])!=="EN"&&w!=="AN"?I="N":S&&(w="AN"),I=w===b?w:"N";break;case"ES":I=(b=m>0?R[m-1]:"B")==="EN"&&m+1<C.length&&C[m+1]==="EN"?"EN":"N";break;case"ET":if(m>0&&R[m-1]==="EN"){I="EN";break}if(S){I="N";break}for(_=m+1,x=C.length;_<x&&C[_]==="ET";)_++;I=_<x&&C[_]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(x=C.length,_=m+1;_<x&&C[_]==="NSM";)_++;if(_<x){var O=E[m],$=O>=1425&&O<=2303||O===64286;if(b=C[_],$&&(b==="R"||b==="AL")){I="R";break}}}I=m<1||(b=C[m-1])==="B"?"N":R[m-1];break;case"B":S=!1,i=!0,I=k;break;case"S":s=!0,I="N"}return I},j=function(E,C,R){var m=E.split("");return R&&B(m,R,{hiLevel:k}),m.reverse(),C&&C.reverse(),m.join("")},B=function(E,C,R){var m,b,w,_,x,I=-1,O=E.length,$=0,P=[],G=k?f:h,D=[];for(S=!1,i=!1,s=!1,b=0;b<O;b++)D[b]=M(E[b]);for(w=0;w<O;w++){if(x=$,P[w]=F(E,D,P,w),m=240&($=G[x][p[P[w]]]),$&=15,C[w]=_=G[$][5],m>0)if(m===16){for(b=I;b<w;b++)C[b]=1;I=-1}else I=-1;if(G[$][6])I===-1&&(I=w);else if(I>-1){for(b=I;b<w;b++)C[b]=_;I=-1}D[w]==="B"&&(C[w]=0),R.hiLevel|=_}s&&function(W,A,T){for(var H=0;H<T;H++)if(W[H]==="S"){A[H]=k;for(var Z=H-1;Z>=0&&W[Z]==="WS";Z--)A[Z]=k}}(D,C,O)},U=function(E,C,R,m,b){if(!(b.hiLevel<E)){if(E===1&&k===1&&!i)return C.reverse(),void(R&&R.reverse());for(var w,_,x,I,O=C.length,$=0;$<O;){if(m[$]>=E){for(x=$+1;x<O&&m[x]>=E;)x++;for(I=$,_=x-1;I<_;I++,_--)w=C[I],C[I]=C[_],C[_]=w,R&&(w=R[I],R[I]=R[_],R[_]=w);$=x}$++}}},V=function(E,C,R){var m=E.split(""),b={hiLevel:k};return R||(R=[]),B(m,R,b),function(w,_,x){if(x.hiLevel!==0&&u)for(var I,O=0;O<w.length;O++)_[O]===1&&(I=y.indexOf(w[O]))>=0&&(w[O]=y[I+1])}(m,R,b),U(2,m,C,R,b),U(1,m,C,R,b),m.join("")};return this.__bidiEngine__.doBidiReorder=function(E,C,R){if(function(b,w){if(w)for(var _=0;_<b.length;_++)w[_]=_;a===void 0&&(a=z(b)),c===void 0&&(c=z(b))}(E,C),o||!l||c)if(o&&l&&a^c)k=a?1:0,E=j(E,C,R);else if(!o&&l&&c)k=a?1:0,E=V(E,C,R),E=j(E,C);else if(!o||a||l||c){if(o&&!l&&a^c)E=j(E,C),a?(k=0,E=V(E,C,R)):(k=1,E=V(E,C,R),E=j(E,C));else if(o&&a&&!l&&c)k=1,E=V(E,C,R),E=j(E,C);else if(!o&&!l&&a^c){var m=u;a?(k=1,E=V(E,C,R),k=0,u=!1,E=V(E,C,R),u=m):(k=0,E=V(E,C,R),E=j(E,C),k=1,u=!1,E=V(E,C,R),u=m,E=j(E,C))}}else k=0,E=V(E,C,R);else k=a?1:0,E=V(E,C,R);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ft),Ft.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Kl(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new jY(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new SY(this.contents),this.head=new IY(this),this.name=new NY(this),this.cmap=new _N(this),this.toUnicode={},this.hhea=new TY(this),this.maxp=new MY(this),this.hmtx=new RY(this),this.post=new kY(this),this.os2=new AY(this),this.loca=new FY(this),this.glyf=new OY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var po,Kl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),SY=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,c,u,d,h,f,p,g;for(g in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),u=16*f-d,(i=new Kl).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,p=[],n)for(h=n[g],i.writeString(g),i.writeInt(e(h)),i.writeInt(c),i.writeInt(h.length),p=p.concat(h),g==="head"&&(a=c),c+=h.length;c%4;)p.push(0),c++;return i.write(p),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=wN.call(n);n.length%4;)n.push(0);for(s=new Kl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),CY={}.hasOwnProperty,Xo=function(e,t){for(var n in t)CY.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};po=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var IY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,po),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Kl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),lN=function(){function e(t,n){var r,i,s,o,a,l,c,u,d,h,f,p,g,y,v,S,k;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,s=function(){var M,z;for(z=[],l=M=0;0<=h?M<h:M>h;l=0<=h?++M:--M)z.push(t.readUInt16());return z}(),t.pos+=2,g=function(){var M,z;for(z=[],l=M=0;0<=h?M<h:M>h;l=0<=h?++M:--M)z.push(t.readUInt16());return z}(),c=function(){var M,z;for(z=[],l=M=0;0<=h?M<h:M>h;l=0<=h?++M:--M)z.push(t.readUInt16());return z}(),u=function(){var M,z;for(z=[],l=M=0;0<=h?M<h:M>h;l=0<=h?++M:--M)z.push(t.readUInt16());return z}(),i=(this.length-t.pos+this.offset)/2,a=function(){var M,z;for(z=[],l=M=0;0<=i?M<i:M>i;l=0<=i?++M:--M)z.push(t.readUInt16());return z}(),l=v=0,k=s.length;v<k;l=++v)for(y=s[l],r=S=p=g[l];p<=y?S<=y:S>=y;r=p<=y?++S:--S)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-p)-(h-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}t.pos=d}return e.encode=function(t,n){var r,i,s,o,a,l,c,u,d,h,f,p,g,y,v,S,k,M,z,F,j,B,U,V,E,C,R,m,b,w,_,x,I,O,$,P,G,D,W,A,T,H,Z,Q,J,ne;switch(m=new Kl,o=Object.keys(t).sort(function(ge,ye){return ge-ye}),n){case"macroman":for(g=0,y=function(){var ge=[];for(p=0;p<256;++p)ge.push(0);return ge}(),S={0:0},s={},b=0,I=o.length;b<I;b++)S[Z=t[i=o[b]]]==null&&(S[Z]=++g),s[i]={old:t[i],new:S[t[i]]},y[i]=S[t[i]];return m.writeUInt16(1),m.writeUInt16(0),m.writeUInt32(12),m.writeUInt16(0),m.writeUInt16(262),m.writeUInt16(0),m.write(y),{charMap:s,subtable:m.data,maxGlyphID:g+1};case"unicode":for(C=[],d=[],k=0,S={},r={},v=c=null,w=0,O=o.length;w<O;w++)S[z=t[i=o[w]]]==null&&(S[z]=++k),r[i]={old:z,new:S[z]},a=S[z]-i,v!=null&&a===c||(v&&d.push(v),C.push(i),c=a),v=i;for(v&&d.push(v),d.push(65535),C.push(65535),V=2*(U=C.length),B=2*Math.pow(Math.log(U)/Math.LN2,2),h=Math.log(B/2)/Math.LN2,j=2*U-B,l=[],F=[],f=[],p=_=0,$=C.length;_<$;p=++_){if(E=C[p],u=d[p],E===65535){l.push(0),F.push(0);break}if(E-(R=r[E].new)>=32768)for(l.push(0),F.push(2*(f.length+U-p)),i=x=E;E<=u?x<=u:x>=u;i=E<=u?++x:--x)f.push(r[i].new);else l.push(R-E),F.push(0)}for(m.writeUInt16(3),m.writeUInt16(1),m.writeUInt32(12),m.writeUInt16(4),m.writeUInt16(16+8*U+2*f.length),m.writeUInt16(0),m.writeUInt16(V),m.writeUInt16(B),m.writeUInt16(h),m.writeUInt16(j),T=0,P=d.length;T<P;T++)i=d[T],m.writeUInt16(i);for(m.writeUInt16(0),H=0,G=C.length;H<G;H++)i=C[H],m.writeUInt16(i);for(Q=0,D=l.length;Q<D;Q++)a=l[Q],m.writeUInt16(a);for(J=0,W=F.length;J<W;J++)M=F[J],m.writeUInt16(M);for(ne=0,A=f.length;ne<A;ne++)g=f[ne],m.writeUInt16(g);return{charMap:r,subtable:m.data,maxGlyphID:k+1}}},e}(),_N=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,po),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new lN(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=lN.encode(t,n),(i=new Kl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),TY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,po),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),AY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,po),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),kY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,po),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(t.readUInt32());return l}.call(this)}},e}(),DY=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},NY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,po),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,s,o,a,l,c,u,d,h;for(t.pos=this.offset,t.readShort(),n=t.readShort(),a=t.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},s=u=0,d=r.length;u<d;s=++u)i=r[s],t.pos=i.offset,c=t.readString(i.length),o=new DY(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),MY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,po),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),RY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,po),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,s,o,a,l;for(t.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(t.readInt16());return u}(),this.widths=function(){var c,u,d,h;for(h=[],c=0,u=(d=this.metrics).length;c<u;c++)s=d[c],h.push(s.advance);return h}.call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),wN=[].slice,OY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,po),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,s,o,a,l,c,u,d;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,o=(a=new Kl(n.read(i))).readShort(),c=a.readShort(),d=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[t]=o===-1?new LY(a,c,d,l,u):new PY(a,o,c,d,l,u),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=t[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},e}(),PY=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),LY=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Kl(wN.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),FY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,po),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*t.readUInt16());return s}.call(this):function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(t.readUInt32());return s}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},e}(),jY=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,c,u,d,h,f,p,g,y,v;for(i in r=_N.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},v=r.charMap)f[(l=v[i]).old]=l.new;for(p in h=r.maxGlyphID,o)p in f||(f[p]=h++);return u=function(S){var k,M;for(k in M={},S)M[S[k]]=k;return M}(f),d=Object.keys(u).sort(function(S,k){return S-k}),g=function(){var S,k,M;for(M=[],S=0,k=d.length;S<k;S++)a=d[S],M.push(u[a]);return M}(),s=this.font.glyf.encode(o,g,f),c=this.font.loca.encode(s.offsets,g),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Ft.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();var BY=(e,t)=>t.id,VY=(e,t)=>t.part_name;function UY(e,t){e&1&&(se(0,"div",6),He(1,"i",53),be(2," Prioridad Alta "),ae())}function zY(e,t){e&1&&(se(0,"div",62),He(1,"i",74),be(2," Analizando da\xF1os... "),ae())}function HY(e,t){if(e&1&&(se(0,"li"),be(1),ae()),e&2){let n=t.$implicit;ke(),T0(" ",n.quantity,"x ",n.part_name," (",n.generic_code,") ")}}function $Y(e,t){if(e&1&&(se(0,"div",72)(1,"p")(2,"strong",75),be(3,"Severidad Detectada:"),ae(),be(4),ae(),se(5,"p")(6,"strong",75),be(7,"Refacciones Sugeridas:"),ae()(),se(8,"ul",76),Bi(9,HY,2,3,"li",null,VY),ae()()),e&2){let n,r,i=Dt(3);ke(4),tn(" ",(n=i.inspectionData())==null||n.inspection==null||n.inspection.severity==null?null:n.inspection.severity.level," "),ke(5),Vi((r=i.inspectionData())==null||r.inspection==null||r.inspection.repair_plan==null?null:r.inspection.repair_plan.estimated_parts)}}function qY(e,t){if(e&1){let n=yr();se(0,"div",32)(1,"h4",54),He(2,"i",55),be(3," Registrar Ingreso a Taller "),ae(),se(4,"div",56)(5,"input",57),Lt("change",function(i){un(n);let s=Dt(2);return dn(s.handleImageUpload(i))}),ae(),se(6,"div",58),He(7,"i",59),se(8,"p",60),be(9,"Inspecci\xF3n Visual IA"),ae(),se(10,"p",61),be(11," Sube una foto de la aver\xEDa para autocompletar "),ae()(),Ln(12,zY,3,0,"div",62),ae(),se(13,"div",63)(14,"select",64,0)(16,"option",65),be(17,"Falla Mec\xE1nica"),ae(),se(18,"option",66),be(19,"Falla El\xE9ctrica"),ae(),se(20,"option",67),be(21,"Sistema Hidr\xE1ulico"),ae(),se(22,"option",68),be(23,"Llantas / Rodaje"),ae(),se(24,"option",69),be(25,"Estructural"),ae(),se(26,"option",70),be(27,"Da\xF1o por Operaci\xF3n"),ae()(),He(28,"textarea",71,1),Ln(30,$Y,11,1,"div",72),se(31,"button",73),Lt("click",function(){un(n);let i=No(15),s=No(29),o=Dt(2);return dn(o.reportFailure(s.value,i.value))}),be(32," Confirmar Ingreso "),ae()()()}if(e&2){let n,r,i=Dt(2);ke(12),Fn(i.analyzingImage()?12:-1),ke(2),Kn("value",((n=i.inspectionData())==null||n.inspection==null||n.inspection.damage_analysis==null?null:n.inspection.damage_analysis.damage_type)||"Mec\xE1nico"),ke(14),Kn("value",i.inspectionData()?((r=i.inspectionData())==null||r.inspection==null||r.inspection.asset==null?null:r.inspection.asset.visual_condition)+" - Causa Probable: "+((r=i.inspectionData())==null||r.inspection==null||r.inspection.root_cause_analysis==null?null:r.inspection.root_cause_analysis.probable_cause):""),ke(2),Fn(i.inspectionData()?30:-1)}}function WY(e,t){if(e&1){let n=yr();se(0,"div",33)(1,"h4",77),He(2,"i",78),be(3," Finalizar y Liberar Equipo "),ae(),se(4,"div",63),He(5,"textarea",79,2),se(7,"div",80),He(8,"input",81,3)(10,"input",82,4),ae(),se(12,"button",83),Lt("click",function(){un(n);let i=No(6),s=No(9),o=No(11),a=Dt(2);return dn(a.finishRepair(i.value,s.value,o.value))}),be(13," Liberar Equipo a Operaci\xF3n "),ae()()()}}function GY(e,t){e&1&&(se(0,"span",86),be(1," ABIERTO "),ae())}function KY(e,t){if(e&1&&(se(0,"span",94),be(1),ae()),e&2){let n=t.$implicit;ke(),tn(" ",n," ")}}function YY(e,t){if(e&1&&(se(0,"div",89),Bi(1,KY,2,1,"span",94,I0),ae()),e&2){let n=Dt().$implicit;ke(),Vi(n.partsUsed)}}function ZY(e,t){e&1&&(se(0,"span",90),be(1,"N/A"),ae())}function XY(e,t){if(e&1&&(se(0,"tr",84)(1,"td",85),be(2),js(3,"date"),Ln(4,GY,2,0,"span",86),ae(),se(5,"td",87),be(6),ae(),se(7,"td",88),be(8),ae(),se(9,"td",88),Ln(10,YY,3,0,"div",89)(11,ZY,2,0,"span",90),ae(),se(12,"td",91)(13,"span",92),be(14),ae()(),se(15,"td",93),be(16),js(17,"currency"),ae()()),e&2){let n=t.$implicit;pr("bg-red-50",!n.exitDate)("border-l-4",!n.exitDate)("border-[#ce1126]",!n.exitDate),ke(2),tn(" ",Mo(3,13,n.entryDate,"shortDate")," "),ke(2),Fn(n.exitDate?-1:4),ke(2),tn(" ",n.failureDescription," "),ke(2),tn(" ",n.diagnosis||"-"," "),ke(2),Fn(n.partsUsed&&n.partsUsed.length>0?10:11),ke(4),xn(n.type),ke(2),tn(" ",A0(17,16,n.estimatedCost)," ")}}function JY(e,t){e&1&&(se(0,"div",51)(1,"div",95),He(2,"i",96)(3,"i",97),ae(),se(4,"p",98),be(5," Analizando historial y sensores... "),ae()())}function QY(e,t){if(e&1){let n=yr();He(0,"div",99),se(1,"button",100),Lt("click",function(){un(n);let i=Dt(2);return dn(i.runAnalysis())}),be(2," Regenerar An\xE1lisis "),ae()}if(e&2){let n=Dt(2);Kn("innerHTML",n.aiResult(),Ic)}}function eZ(e,t){if(e&1){let n=yr();se(0,"div",101)(1,"p",102),He(2,"i",103),be(3," Esto enviar\xE1 los \xFAltimos 20 reportes a Gemini. "),ae()(),se(4,"button",104),Lt("click",function(){un(n);let i=Dt(2);return dn(i.runAnalysis())}),He(5,"i",105),be(6," Ejecutar Predicci\xF3n con IA "),ae()}}function tZ(e,t){if(e&1){let n=yr();se(0,"div",52)(1,"div",106)(2,"h3",107),He(3,"i",108),be(4," Procedimiento LOTO "),ae(),se(5,"button",109),Lt("click",function(){un(n);let i=Dt(2);return dn(i.lotoResult.set(null))}),He(6,"i",110),ae()(),He(7,"div",111),se(8,"button",112),Lt("click",function(){un(n);let i=Dt(2);return dn(i.printLoto())}),He(9,"i",113),be(10," Imprimir Etiqueta "),ae()()}if(e&2){let n=Dt(2);ke(7),Kn("innerHTML",n.lotoResult(),Ic)}}function nZ(e,t){if(e&1){let n=yr();se(0,"div",5),Ln(1,UY,3,0,"div",6),se(2,"div",7)(3,"div")(4,"div",8)(5,"h2",9),be(6),ae(),se(7,"span",10),be(8),ae()(),se(9,"p",11),be(10),ae(),se(11,"div",12)(12,"span"),He(13,"i",13),be(14),ae(),He(15,"span",14),se(16,"span"),He(17,"i",15),be(18),ae()()(),se(19,"div",16)(20,"button",17),Lt("click",function(){un(n);let i=Dt();return dn(i.close())}),He(21,"i",18),ae(),se(22,"button",19),Lt("click",function(){un(n);let i=Dt();return dn(i.exportPdf())}),He(23,"i",20),be(24," PDF "),ae(),se(25,"button",21),Lt("click",function(){un(n);let i=Dt();return dn(i.generateLoto())}),He(26,"i",22),be(27," Generar LOTO "),ae()()(),se(28,"div",23)(29,"div",24)(30,"div",25)(31,"div",26)(32,"div",27),be(33," Combustible "),ae(),se(34,"div",28),be(35),ae()(),se(36,"div",26)(37,"div",27),be(38," Adquisici\xF3n "),ae(),se(39,"div",28),be(40),js(41,"date"),ae()(),se(42,"div",26)(43,"div",27),be(44," Total Fallas "),ae(),se(45,"div",28),be(46),ae()()(),se(47,"div",29)(48,"h3",30),He(49,"i",31),be(50," Panel de Control Operativo "),ae(),Ln(51,qY,33,4,"div",32)(52,WY,14,0,"div",33),ae(),se(53,"div")(54,"div",34),He(55,"div",35),se(56,"h3",36),be(57,"Historial Cl\xEDnico"),ae()(),se(58,"div",37)(59,"table",38)(60,"thead",39)(61,"tr")(62,"th",40),be(63,"Fecha"),ae(),se(64,"th",41),be(65,"Falla"),ae(),se(66,"th",41),be(67,"Diagn\xF3stico"),ae(),se(68,"th",41),be(69,"Refacciones"),ae(),se(70,"th",41),be(71,"Tipo"),ae(),se(72,"th",42),be(73,"Costo"),ae()()(),se(74,"tbody",43),Bi(75,XY,18,18,"tr",44,BY),ae()()()()(),se(77,"div",45)(78,"div",46)(79,"div",34)(80,"div",47),He(81,"i",48),ae(),se(82,"h3",49),be(83,"Mantenimiento Predictivo"),ae()(),se(84,"p",50),be(85," Gemini AI analiza patrones de desgaste, MTBF y condiciones de uso para predecir fallas futuras. "),ae(),Ln(86,JY,6,0,"div",51)(87,QY,3,1)(88,eZ,7,0),ae(),Ln(89,tZ,11,1,"div",52),ae()()()}if(e&2){let n=Dt();ke(),Fn(n.asset().critical?1:-1),ke(5),xn(n.asset().id),ke(2),tn(" ",n.asset().status.name," "),ke(2),T0(" ",n.asset().brand," ",n.asset().model," | SN: ",n.asset().serial," "),ke(4),xn(n.asset().location),ke(4),xn(n.asset().fuelType),ke(17),xn(n.asset().fuelType),ke(5),tn(" ",Mo(41,14,n.asset().acquisitionDate,"MM/yyyy")," "),ke(6),xn(n.history().length),ke(5),Fn(n.asset().status.name==="Operativo"?51:n.asset().status.name==="Taller"?52:-1),ke(24),Vi(n.history()),ke(11),Fn(n.aiLoading()?86:n.aiResult()?87:88),ke(3),Fn(n.lotoResult()?89:-1)}}var xN=(()=>{class e{constructor(){this.assetId=RS(""),this.dataService=It(as),this.geminiService=It(dd),this.sanitizer=It(Nc),this.asset=pn(()=>this.dataService.getAsset(this.assetId())),this.history=pn(()=>this.assetId()?this.dataService.getAssetHistory(this.assetId()):[]),this.aiLoading=en(!1),this.aiResult=en(null),this.analyzingImage=en(!1),this.inspectionData=en(null),this.lotoResult=en(null),Ac(()=>{this.assetId(),this.aiResult.set(null),this.inspectionData.set(null),this.lotoResult.set(null)},{allowSignalWrites:!0})}handleImageUpload(n){let r=n.target.files[0];if(!r)return;this.analyzingImage.set(!0);let i=new FileReader;i.onload=async s=>{let o=s.target.result.split(",")[1],a=await this.geminiService.analyzeImageInspection(o);this.inspectionData.set(a),this.analyzingImage.set(!1)},i.readAsDataURL(r)}async generateLoto(){let n=this.asset();if(!n)return;let r=n.lastFailure||"Mantenimiento General Preventivo";this.lotoResult.set('<p class="text-gray-500 animate-pulse">Generando procedimiento de seguridad...</p>');let i=await this.geminiService.generateLotoProcedure(n,r);this.lotoResult.set(i)}printLoto(){let n=window.open("","","height=600,width=800");n&&this.lotoResult()&&(n.document.write("<html><head><title>LOTO</title>"),n.document.write('<script src="https://cdn.tailwindcss.com"><\/script>'),n.document.write('</head><body class="p-8">'),n.document.write(this.lotoResult()),n.document.write("</body></html>"),n.document.close(),setTimeout(()=>n.print(),500))}reportFailure(n,r){if(!n)return alert("Por favor describe la falla.");this.dataService.reportFailure(this.assetId(),n,r)}finishRepair(n,r,i){if(!n)return alert("El diagn\xF3stico es requerido.");let s=parseFloat(r)||0,o=i.split(",").map(a=>a.trim()).filter(a=>a);this.dataService.completeRepair(this.assetId(),n,s,o)}async runAnalysis(){let n=this.asset();if(!n)return;this.aiLoading.set(!0);let r=await this.geminiService.analyzeMaintenanceHistory(n,this.history());this.aiResult.set(r),this.aiLoading.set(!1)}exportPdf(){let n=new Ft,r=this.asset();if(!r)return;n.setFontSize(20),n.setTextColor(206,17,38),n.text(`Historial Cl\xEDnico: ${r.id}`,14,20),n.setTextColor(0,0,0),n.setFontSize(10),n.text(`Marca: ${r.brand} | Modelo: ${r.model}`,14,28),n.text(`Serie: ${r.serial} | Estatus: ${r.status.name}`,14,33),n.text(`Generado: ${new Date().toLocaleDateString()}`,14,38);let i=this.history().map(o=>[new Date(o.entryDate).toLocaleDateString(),o.failureDescription,o.diagnosis||"-",(o.partsUsed||[]).join(", "),`$${o.estimatedCost}`]),s=50;n.text("Historial de Fallas:",14,s),s+=10,i.forEach((o,a)=>{n.text(`${a+1}. ${o[0]} - ${o[1]}`,14,s),s+=5,s>280&&(n.addPage(),s=20)}),n.save(`historial_${r.id}.pdf`)}sendEmail(){let n=this.asset();if(!n)return;let r=encodeURIComponent(`Seguimiento de Activo ${n.id} - ${n.status.name}`),i=`
Hola,

Adjunto el seguimiento para el equipo:
ID: ${n.id}
Marca: ${n.brand}
Modelo: ${n.model}
Serie: ${n.serial}

Estatus Actual: ${n.status.name}
\xDAltima Falla Registrada: ${n.lastFailure||"N/A"}

Favor de revisar el historial en el sistema para m\xE1s detalles.

Saludos,
AssetGuard System
    `.trim(),s=encodeURIComponent(i);window.location.href=`mailto:?subject=${r}&body=${s}`}close(){window.dispatchEvent(new CustomEvent("asset-closed"))}printReport(){window.print()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ri({type:e,selectors:[["app-asset-detail"]],inputs:{assetId:[1,"assetId"]},decls:1,vars:1,consts:[["failType",""],["failDesc",""],["diagnosis",""],["cost",""],["parts",""],[1,"bg-white","rounded-xl","shadow-lg","border","border-gray-200","overflow-hidden","animate-fade-in","relative"],[1,"absolute","top-0","right-0","bg-yellow-400","text-black","text-[10px]","uppercase","font-black","px-4","py-2","rounded-bl-lg","z-10","shadow-sm","tracking-wide"],[1,"bg-[#ce1126]","text-white","p-6","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-4"],[1,"flex","items-center","gap-3"],[1,"text-3xl","font-black","tracking-tight"],[1,"px-3","py-0.5","rounded-full","text-xs","font-bold","uppercase","bg-white/20","border","border-white/30","backdrop-blur-sm"],[1,"text-red-100","font-medium","mt-1"],[1,"text-xs","text-red-200","mt-2","flex","gap-2","items-center"],[1,"fas","fa-map-marker-alt","mr-1"],[1,"w-1","h-1","rounded-full","bg-white","opacity-50"],[1,"fas","fa-gas-pump","mr-1"],[1,"flex","flex-wrap","gap-2"],["title","Volver",1,"px-4","py-2","rounded-lg","bg-white/10","hover:bg-white/20","text-white","text-sm","font-bold","transition","border","border-white/10",3,"click"],[1,"fas","fa-arrow-left"],[1,"px-4","py-2","rounded-lg","bg-white","text-[#ce1126]","hover:bg-gray-100","text-sm","font-bold","transition","shadow-md","flex","items-center",3,"click"],[1,"fas","fa-file-pdf","mr-2"],[1,"px-4","py-2","rounded-lg","bg-yellow-400","text-black","hover:bg-yellow-300","text-sm","font-bold","transition","shadow-md","flex","items-center",3,"click"],[1,"fas","fa-lock","mr-2"],[1,"p-6","grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-6"],[1,"grid","grid-cols-3","gap-4"],[1,"p-4","bg-gray-50","rounded-lg","border","border-gray-100","text-center"],[1,"text-[10px]","text-gray-500","uppercase","font-bold","tracking-wider"],[1,"font-bold","text-gray-800","text-lg"],[1,"bg-white","p-6","rounded-xl","border","border-gray-200","shadow-sm"],[1,"text-sm","font-bold","text-gray-400","uppercase","tracking-widest","mb-4","flex","items-center","gap-2"],[1,"fas","fa-cogs"],[1,"bg-red-50","p-5","rounded-lg","border","border-red-100","relative"],[1,"bg-green-50","p-5","rounded-lg","border","border-green-100"],[1,"flex","items-center","gap-3","mb-4"],[1,"h-6","w-1","bg-[#ce1126]"],[1,"text-lg","font-bold","text-gray-800"],[1,"overflow-x-auto","rounded-lg","border","border-gray-200"],[1,"w-full","text-sm","text-left","min-w-[800px]"],[1,"bg-gray-50","text-gray-500","font-bold","text-xs","uppercase","tracking-wider"],[1,"p-3","whitespace-nowrap"],[1,"p-3"],[1,"p-3","text-right"],[1,"divide-y","divide-gray-100"],[1,"hover:bg-gray-50","transition",3,"bg-red-50","border-l-4","border-[#ce1126]"],[1,"space-y-6"],[1,"bg-gradient-to-br","from-gray-900","to-black","p-6","rounded-xl","border","border-gray-800","text-white","shadow-xl"],[1,"p-2","bg-[#ce1126]","text-white","rounded","shadow-sm"],[1,"fas","fa-robot","text-lg"],[1,"text-lg","font-bold"],[1,"text-sm","text-gray-400","mb-6","leading-relaxed"],[1,"flex","flex-col","items-center","justify-center","py-6","text-center","space-y-3"],[1,"bg-yellow-50","p-6","rounded-xl","border","border-yellow-200","shadow-lg"],[1,"fas","fa-exclamation-triangle","mr-1"],[1,"text-[#ce1126]","font-bold","mb-3","flex","items-center","gap-2"],[1,"fas","fa-tools"],[1,"mb-4","p-4","border-2","border-dashed","border-red-200","rounded-lg","bg-white/50","text-center","relative","group","hover:border-red-400","transition-colors"],["type","file","accept","image/*",1,"absolute","inset-0","w-full","h-full","opacity-0","cursor-pointer","z-10",3,"change"],[1,"flex","flex-col","items-center","gap-2"],[1,"fas","fa-camera","text-2xl","text-red-300","group-hover:text-red-500"],[1,"text-xs","font-bold","text-red-800","uppercase"],[1,"text-[10px]","text-gray-500"],[1,"absolute","inset-0","bg-white/90","z-20","flex","items-center","justify-center","text-[#ce1126]","font-bold","text-xs","gap-2"],[1,"flex","flex-col","gap-3"],[1,"w-full","p-2.5","border","border-gray-300","rounded","text-sm","bg-white","focus:ring-2","focus:ring-red-500","outline-none",3,"value"],["value","Mec\xE1nico"],["value","El\xE9ctrico"],["value","Hidr\xE1ulico"],["value","Llantas"],["value","Estructural"],["value","Operador"],["rows","3","placeholder","Describe la falla detalladamente...",1,"w-full","p-2.5","border","border-gray-300","rounded","text-sm","bg-white","focus:ring-2","focus:ring-red-500","outline-none",3,"value"],[1,"bg-white","p-3","rounded","border","border-red-100","text-xs","text-gray-600","mb-2"],[1,"w-full","bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","font-bold","py-2.5","rounded","transition","uppercase","tracking-wide","text-xs",3,"click"],[1,"fas","fa-spinner","fa-spin"],[1,"text-red-700"],[1,"list-disc","pl-4","mt-1"],[1,"text-green-800","font-bold","mb-3","flex","items-center","gap-2"],[1,"fas","fa-check-circle"],["rows","2","placeholder","Diagn\xF3stico final y soluci\xF3n...",1,"w-full","p-2.5","border","border-green-200","rounded","text-sm","bg-white","focus:ring-2","focus:ring-green-500","outline-none"],[1,"grid","grid-cols-2","gap-3"],["type","number","placeholder","Costo Refacciones ($)",1,"p-2.5","border","border-green-200","rounded","text-sm","bg-white"],["type","text","placeholder","Refacciones (separar por coma)",1,"p-2.5","border","border-green-200","rounded","text-sm","bg-white"],[1,"w-full","bg-green-600","hover:bg-green-700","text-white","font-bold","py-2.5","rounded","transition","uppercase","tracking-wide","text-xs",3,"click"],[1,"hover:bg-gray-50","transition"],[1,"p-3","text-gray-600","align-top","whitespace-nowrap","font-medium"],[1,"inline-block","px-2","py-0.5","rounded","bg-[#ce1126]","text-white","text-[10px]","font-bold","mt-1","ml-2"],[1,"p-3","text-gray-900","align-top","font-medium"],[1,"p-3","text-gray-600","text-xs","align-top","max-w-[200px]"],[1,"flex","flex-wrap","gap-1.5"],[1,"text-gray-400","italic","text-xs"],[1,"p-3","align-top"],[1,"px-2","py-1","bg-gray-100","text-gray-600","text-[10px]","font-bold","uppercase","rounded","whitespace-nowrap"],[1,"p-3","text-right","font-mono","text-gray-900","font-bold","align-top","whitespace-nowrap"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-[10px]","font-bold","bg-gray-100","text-gray-600","border","border-gray-200"],[1,"relative"],[1,"fas","fa-circle-notch","fa-spin","text-3xl","text-[#ce1126]"],[1,"fas","fa-brain","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","text-[10px]","text-white"],[1,"text-xs","font-bold","text-gray-300","animate-pulse","uppercase","tracking-wide"],[1,"prose","prose-sm","prose-invert","bg-white/5","p-4","rounded-lg","border","border-white/10","max-h-96","overflow-y-auto","custom-scroll","text-sm",3,"innerHTML"],[1,"mt-4","w-full","py-2","text-xs","font-bold","text-gray-400","hover:text-white","uppercase","tracking-wide","border","border-gray-700","rounded","hover:bg-gray-800","transition",3,"click"],[1,"bg-white/5","rounded-lg","p-3","mb-4","border","border-white/10"],[1,"text-[10px]","text-gray-400","italic","mb-1"],[1,"fas","fa-info-circle","mr-1"],[1,"w-full","py-3","bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","rounded-lg","font-bold","shadow-lg","shadow-red-900/20","transition","flex","items-center","justify-center","gap-2","uppercase","tracking-wide","text-xs",3,"click"],[1,"fas","fa-magic"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-black","text-yellow-800","flex","items-center","gap-2"],[1,"fas","fa-lock"],[1,"text-yellow-600","hover:text-black",3,"click"],[1,"fas","fa-times"],[1,"prose","prose-sm","prose-yellow","max-h-64","overflow-y-auto","custom-scroll",3,"innerHTML"],[1,"w-full","mt-4","py-2","bg-yellow-400","hover:bg-yellow-500","text-black","font-bold","rounded","uppercase","text-xs",3,"click"],[1,"fas","fa-print","mr-1"]],template:function(r,i){r&1&&Ln(0,nZ,90,17,"div",5),r&2&&Fn(i.asset()?0:-1)},dependencies:[$r,Yf,Pa,$o,yd,bd],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}}return e})();var CN=h7(SN(),1);function rZ(e,t){e&1&&(He(0,"i",55),be(1," Analizando Flota... "))}function iZ(e,t){e&1&&(He(0,"i",56),be(1," Generar Reporte Diario "))}function sZ(e,t){if(e&1){let n=yr();se(0,"button",54),Lt("click",function(){un(n);let i=Dt();return dn(i.generateDailyReport())}),Ln(1,rZ,2,0)(2,iZ,2,0),ae()}if(e&2){let n=Dt();Kn("disabled",n.isAnalyzing()),ke(),Fn(n.isAnalyzing()?1:2)}}function oZ(e,t){if(e&1){let n=yr();se(0,"div",26),He(1,"div",57),se(2,"div",58)(3,"button",59),Lt("click",function(){un(n);let i=Dt();return dn(i.aiReport.set(null))}),be(4," Cerrar "),ae(),se(5,"button",60),Lt("click",function(){un(n);let i=Dt();return dn(i.copyReport())}),He(6,"i",61),be(7," Copiar "),ae()()()}if(e&2){let n=Dt();ke(),Kn("innerHTML",n.aiReport(),Ic)}}var IN=(()=>{class e{constructor(){this.dataService=It(as),this.geminiService=It(dd),this.sanitizer=It(Nc),this.failureForm={economico:"",falla:"",prioridad:"Media",reporta:""},this.isAnalyzing=en(!1),this.aiReport=en(null),this.isKioskMode=this.dataService.isKioskMode}toggleKiosk(){this.dataService.toggleKioskMode()}registerFailure(){if(!this.failureForm.economico||!this.failureForm.falla){alert("Por favor complete los datos de la unidad y la falla.");return}this.dataService.addLiveFailure({economico:this.failureForm.economico.toUpperCase(),falla:this.failureForm.falla,prioridad:this.failureForm.prioridad,reporta:this.failureForm.reporta||"NOC Admin",estatus:"Abierta"}),this.failureForm={economico:"",falla:"",prioridad:"Media",reporta:""}}async generateDailyReport(){this.isAnalyzing.set(!0);let n=this.dataService.fleetAvailability(),r=this.dataService.forkliftFailures().filter(o=>o.estatus!=="Cerrada"),i=this.dataService.forkliftFailures().slice(0,10),s=await this.geminiService.generateDailySummary(n,r,i);this.aiReport.set(s),this.isAnalyzing.set(!1)}copyReport(){if(this.aiReport()){let n=document.createElement("div");n.innerHTML=this.aiReport();let r=new Blob([n.innerText],{type:"text/plain"}),i=new ClipboardItem({"text/plain":r});navigator.clipboard.write([i]).then(()=>alert("Reporte copiado al portapapeles!"))}}async handleFileInput(n){n.target.files[0]}async exportData(){let n=this.dataService.forkliftFailures().map(d=>({ID:d.id,Unidad:d.economico,Falla:d.falla,Prioridad:d.prioridad,Estatus:d.estatus,Reporto:d.reporta,FechaIngreso:d.fechaIngreso,FechaCierre:d.fechaSalida||"-"})),r=this.dataService.assets().map(d=>({Economico:d.id,Marca:d.brand,Modelo:d.model,Serie:d.serial,Estatus:d.status.name,Desde:d.statusSince})),i=new CN.default.Workbook,s=i.addWorksheet("Inventario");r.length>0&&(s.columns=Object.keys(r[0]).map(d=>({header:d,key:d})),r.forEach(d=>s.addRow(d)));let o=i.addWorksheet("Reporte de Fallas");n.length>0&&(o.columns=Object.keys(n[0]).map(d=>({header:d,key:d})),n.forEach(d=>o.addRow(d)));let a=await i.xlsx.writeBuffer(),l=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=`AssetGuard_Reporte_${new Date().toISOString().slice(0,10)}.xlsx`,u.click(),window.URL.revokeObjectURL(c)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ri({type:e,selectors:[["app-admin"]],decls:90,vars:18,consts:[[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-8","max-w-5xl","mx-auto"],[1,"mb-8","border-b","border-gray-100","pb-4"],[1,"text-3xl","font-black","text-gray-800","tracking-tight"],[1,"text-gray-500"],[1,"bg-indigo-50","p-6","rounded-xl","shadow-sm","border","border-indigo-100","mb-8","flex","flex-col","md:flex-row","items-center","justify-between","gap-4","animate-fade-in","relative","overflow-hidden"],[1,"absolute","-right-6","-top-6","text-indigo-100","opacity-50"],[1,"fas","fa-broadcast-tower","text-9xl"],[1,"relative","z-10"],[1,"text-xl","font-bold","text-indigo-900","flex","items-center","gap-2"],[1,"bg-indigo-600","text-white","p-1.5","rounded-lg","text-xs","shadow-md"],[1,"fas","fa-desktop"],[1,"text-sm","text-indigo-700","mt-1","max-w-lg"],[1,"flex","items-center","gap-4","relative","z-10","bg-white","px-6","py-3","rounded-2xl","shadow-sm","border","border-indigo-100"],[1,"text-right"],[1,"text-[10px]","font-bold","uppercase","tracking-wider","text-gray-500"],[1,"text-sm","font-black","transition-colors"],[1,"relative","inline-flex","h-8","w-14","items-center","rounded-full","transition-colors","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","cursor-pointer",3,"click"],[1,"inline-block","h-6","w-6","transform","rounded-full","bg-white","transition-transform","shadow-md"],[1,"bg-gradient-to-r","from-gray-900","to-slate-800","rounded-xl","p-6","text-white","shadow-xl","mb-8","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10"],[1,"fas","fa-brain","text-9xl","text-white"],[1,"text-xl","font-bold","flex","items-center","gap-2","mb-2"],[1,"bg-[#ce1126]","p-1.5","rounded","text-xs"],[1,"fas","fa-robot"],[1,"text-gray-400","text-sm","mb-6","max-w-2xl"],[1,"bg-white","text-gray-900","px-6","py-3","rounded-lg","font-bold","shadow","hover:bg-gray-100","transition","flex","items-center","gap-2","disabled:opacity-50",3,"disabled"],[1,"bg-white/10","rounded-lg","p-6","border","border-white/10","backdrop-blur-sm","animate-fade-in"],[1,"bg-white","p-6","rounded-xl","shadow-lg","mb-8","border-t-4","border-[#ce1126]","border","border-gray-100"],[1,"text-lg","font-bold","mb-4","flex","items-center","gap-2","text-gray-800"],[1,"text-[#ce1126]"],[1,"fas","fa-broadcast-tower"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],[1,"block","text-xs","font-bold","text-gray-500","uppercase","tracking-wide","mb-1"],["type","text","placeholder","Ej: M-105",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"lg:col-span-2"],["type","text","placeholder","Describe el problema...",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none","bg-white",3,"ngModelChange","ngModel"],["value","Baja"],["value","Media"],["value","Alta"],[1,"flex","justify-between","items-center"],[1,"w-1/3"],["type","text","placeholder","Nombre Supervisor",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","px-8","py-3","rounded-lg","font-bold","shadow-md","transition","transform","hover:scale-105","flex","items-center","gap-2",3,"click"],[1,"fas","fa-paper-plane"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"p-6","border","border-gray-200","rounded-xl","bg-gray-50"],[1,"font-bold","text-gray-700","mb-2"],[1,"fas","fa-file-excel","text-green-600","mr-2"],[1,"text-xs","text-gray-500","mb-4"],["type","file","accept",".xlsx, .xls",1,"block","w-full","text-sm","text-gray-500","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-green-50","file:text-green-700","hover:file:bg-green-100","mb-2","cursor-pointer",3,"change"],[1,"text-[10px]","text-gray-400","italic"],[1,"fas","fa-download","text-blue-600","mr-2"],[1,"w-full","py-2","bg-white","border","border-gray-300","rounded","text-gray-700","font-bold","text-sm","hover:bg-gray-100","transition",3,"click"],[1,"bg-white","text-gray-900","px-6","py-3","rounded-lg","font-bold","shadow","hover:bg-gray-100","transition","flex","items-center","gap-2","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-magic"],[1,"prose","prose-invert","prose-sm","max-w-none",3,"innerHTML"],[1,"mt-4","flex","gap-3"],[1,"text-gray-400","hover:text-white","text-xs","font-bold","underline",3,"click"],[1,"text-[#ce1126]","hover:text-red-400","text-xs","font-bold","uppercase",3,"click"],[1,"fas","fa-copy","mr-1"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"h2",2),be(3,"Panel de Administraci\xF3n"),ae(),se(4,"p",3),be(5,"Gesti\xF3n de fallas en vivo, control de pantallas y reportes IA."),ae()(),se(6,"div",4)(7,"div",5),He(8,"i",6),ae(),se(9,"div",7)(10,"h3",8)(11,"span",9),He(12,"i",10),ae(),be(13," Control Maestro de Pantallas "),ae(),se(14,"p",11),be(15," Activa remotamente el "),se(16,"strong"),be(17,"Modo Quiosco"),ae(),be(18," en las Smart TVs de la planta. Esto iniciar\xE1 la rotaci\xF3n autom\xE1tica de KPIs, Mejores Tripulaciones y Seguridad. "),ae()(),se(19,"div",12)(20,"div",13)(21,"p",14),be(22," Estatus Transmisi\xF3n "),ae(),se(23,"p",15),be(24),ae()(),se(25,"button",16),Lt("click",function(){return i.toggleKiosk()}),He(26,"span",17),ae()()(),se(27,"div",18)(28,"div",19),He(29,"i",20),ae(),se(30,"div",7)(31,"h3",21)(32,"span",22),He(33,"i",23),be(34," GEMINI 2.0"),ae(),be(35," Centro de Inteligencia "),ae(),se(36,"p",24),be(37," Genera un resumen ejecutivo instant\xE1neo analizando KPIs, fallas activas y tiempos de respuesta para la junta diaria. "),ae(),Ln(38,sZ,3,2,"button",25)(39,oZ,8,1,"div",26),ae()(),se(40,"div",27)(41,"h3",28)(42,"span",29),He(43,"i",30),ae(),be(44," Registro de Falla (Torre de Control) "),ae(),se(45,"div",31)(46,"div")(47,"label",32),be(48,"Unidad (ID)"),ae(),se(49,"input",33),Fs("ngModelChange",function(o){return no(i.failureForm.economico,o)||(i.failureForm.economico=o),o}),ae()(),se(50,"div",34)(51,"label",32),be(52,"Descripci\xF3n de Falla"),ae(),se(53,"input",35),Fs("ngModelChange",function(o){return no(i.failureForm.falla,o)||(i.failureForm.falla=o),o}),ae()(),se(54,"div")(55,"label",32),be(56,"Prioridad"),ae(),se(57,"select",36),Fs("ngModelChange",function(o){return no(i.failureForm.prioridad,o)||(i.failureForm.prioridad=o),o}),se(58,"option",37),be(59,"Baja"),ae(),se(60,"option",38),be(61,"Media"),ae(),se(62,"option",39),be(63,"Alta (Cr\xEDtica)"),ae()()()(),se(64,"div",40)(65,"div",41)(66,"label",32),be(67,"Reporta"),ae(),se(68,"input",42),Fs("ngModelChange",function(o){return no(i.failureForm.reporta,o)||(i.failureForm.reporta=o),o}),ae()(),se(69,"button",43),Lt("click",function(){return i.registerFailure()}),He(70,"i",44),be(71," ENVIAR ALERTA "),ae()()(),se(72,"div",45)(73,"div",46)(74,"h3",47),He(75,"i",48),be(76," Importaci\xF3n Masiva "),ae(),se(77,"p",49),be(78," Carga tu inventario o estatus desde Excel (.xlsx) "),ae(),se(79,"input",50),Lt("change",function(o){return i.handleFileInput(o)}),ae(),se(80,"p",51),be(81," Columnas requeridas: Economico, Marca, Modelo, Estatus "),ae()(),se(82,"div",46)(83,"h3",47),He(84,"i",52),be(85," Exportar Datos "),ae(),se(86,"p",49),be(87,"Descarga el reporte completo de KPIs y Fallas."),ae(),se(88,"button",53),Lt("click",function(){return i.exportData()}),be(89," Descargar Excel "),ae()()()()),r&2&&(ke(23),pr("text-green-500",i.isKioskMode())("text-gray-400",!i.isKioskMode()),ke(),tn(" ",i.isKioskMode()?"EN VIVO (ON AIR)":"OFFLINE"," "),ke(),pr("bg-indigo-600",i.isKioskMode())("bg-gray-300",!i.isKioskMode()),ke(),pr("translate-x-7",i.isKioskMode())("translate-x-1",!i.isKioskMode()),ke(12),Fn(i.aiReport()?39:38),ke(11),Ls("ngModel",i.failureForm.economico),ke(4),Ls("ngModel",i.failureForm.falla),ke(4),Ls("ngModel",i.failureForm.prioridad),ke(11),Ls("ngModel",i.failureForm.reporta))},dependencies:[$r,$o,yd,bd,Vl,g1,gd,Wc],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}}return e})();var aZ=(e,t)=>t.id,lZ=(e,t)=>t.fecha;function cZ(e,t){if(e&1&&(se(0,"div",32)(1,"span",51),be(2),ae(),be(3),ae()),e&2){let n=t.$implicit;ke(2),tn("",n.usuario,":"),ke(),tn(" ",n.mensaje," ")}}function uZ(e,t){if(e&1){let n=yr();se(0,"div",17)(1,"div",19)(2,"div",20)(3,"div",21),be(4),ae(),se(5,"div")(6,"h4",22),be(7),ae(),se(8,"p",23),be(9),js(10,"date"),ae()()(),se(11,"div",24)(12,"span"),be(13),ae(),se(14,"span",25),be(15),ae()()(),se(16,"div",26)(17,"div",27)(18,"p",28),be(19,"Diagn\xF3stico Reportado"),ae(),se(20,"div",29),be(21),ae(),se(22,"div",30)(23,"p",28),be(24,"Historial T\xE9cnico"),ae(),se(25,"div",31),Bi(26,cZ,4,2,"div",32,lZ),ae()()(),se(28,"div",33)(29,"h5",34),He(30,"i",35),be(31," Log\xEDstica de Refacciones "),ae(),se(32,"div",36)(33,"div")(34,"label",37),be(35,"Orden de Compra (PO)"),ae(),He(36,"input",38,0),ae(),se(38,"div")(39,"label",37),be(40,"Estatus Refacci\xF3n"),ae(),se(41,"select",39,1)(43,"option",40),be(44,"N/A (Solo Mano de Obra)"),ae(),se(45,"option",41),be(46,"En Stock"),ae(),se(47,"option",42),be(48,"Pedida a Planta"),ae(),se(49,"option",43),be(50,"En Tr\xE1nsito"),ae()()()(),se(51,"div",44),He(52,"input",45,2),se(54,"button",46),Lt("click",function(){let i=un(n).$implicit,s=No(53);return Dt().addNote(i.id,s.value),dn(s.value="")}),He(55,"i",47),ae()(),se(56,"div",48)(57,"button",49),Lt("click",function(){let i=un(n).$implicit,s=No(37),o=No(42),a=Dt();return dn(a.saveLogistics(i.id,s.value,o.value))}),be(58," Guardar Cambios "),ae(),se(59,"button",50),Lt("click",function(){let i=un(n).$implicit,s=Dt();return dn(s.closeTicket(i.id))}),be(60," Liberar "),ae()()()()()}if(e&2){let n=t.$implicit;ke(4),tn(" ",n.economico.slice(-3)," "),ke(3),xn(n.economico),ke(2),xn(Mo(10,10,n.fechaIngreso,"medium")),ke(3),mr("px-3 py-1 rounded text-xs font-bold uppercase "+(n.prioridad==="Alta"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-600")),ke(),tn(" ",n.prioridad," "),ke(2),tn(" ",n.estatus," "),ke(6),tn(" ",n.falla," "),ke(5),Vi(n.seguimiento),ke(10),Kn("value",n.ordenCompra||""),ke(5),Kn("value",n.estatusRefaccion||"N/A")}}function dZ(e,t){e&1&&(se(0,"div",18)(1,"div",52),He(2,"i",53),ae(),se(3,"h3",54),be(4,"Todo limpio"),ae(),se(5,"p",55),be(6,"No hay unidades pendientes en taller."),ae()())}var TN=(()=>{class e{constructor(){this.dataService=It(as),this.openFailures=this.dataService.forkliftFailures,this.pendingParts=pn(()=>this.dataService.forkliftFailures().filter(n=>n.estatusRefaccion==="Pedida").length),this.criticalCount=pn(()=>this.dataService.forkliftFailures().filter(n=>n.prioridad==="Alta"&&n.estatus!=="Cerrada").length)}saveLogistics(n,r,i){this.dataService.updateToyotaLogistics(n,r,i)}addNote(n,r){r&&this.dataService.addFailureUpdate(n,r,"Toyota Tech")}closeTicket(n){confirm("\xBFConfirmar liberaci\xF3n de equipo?")&&this.dataService.closeLiveFailure(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ri({type:e,selectors:[["app-service-panel"]],decls:26,vars:4,consts:[["po",""],["status",""],["note",""],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-orange-600","text-white","p-6","rounded-xl","shadow-lg","relative","overflow-hidden"],[1,"fas","fa-wrench","absolute","-right-4","-bottom-4","text-8xl","text-orange-700","opacity-50"],[1,"text-xs","uppercase","font-bold","text-orange-100"],[1,"text-4xl","font-black","mt-2"],[1,"bg-white","p-6","rounded-xl","border","border-slate-200","shadow-sm","flex","flex-col","justify-center"],[1,"text-xs","uppercase","font-bold","text-slate-400"],[1,"text-3xl","font-black","text-slate-700","mt-1"],[1,"text-3xl","font-black","text-red-500","mt-1"],[1,"bg-white","rounded-xl","shadow-sm","border","border-slate-200","overflow-hidden","min-h-[500px]"],[1,"p-4","border-b","border-slate-100","bg-slate-50","flex","justify-between","items-center"],[1,"font-bold","text-slate-700","uppercase","tracking-wide","text-sm"],[1,"divide-y","divide-slate-100"],[1,"p-6","hover:bg-slate-50","transition-colors"],[1,"py-20","text-center"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","mb-4","gap-4"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","rounded-lg","bg-slate-900","text-white","flex","items-center","justify-center","font-black","text-lg"],[1,"font-black","text-xl","text-slate-800"],[1,"text-xs","text-slate-500"],[1,"flex","gap-2"],[1,"px-3","py-1","rounded","text-xs","font-bold","uppercase","bg-blue-100","text-blue-700"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-1"],[1,"text-xs","font-bold","text-slate-400","uppercase","mb-2"],[1,"bg-slate-50","p-3","rounded-lg","border","border-slate-200","text-sm","text-slate-700","font-medium"],[1,"mt-4"],[1,"space-y-2","max-h-32","overflow-y-auto","custom-scroll","text-xs"],[1,"p-2","rounded","bg-slate-50","border","border-slate-100"],[1,"lg:col-span-2","bg-slate-50","rounded-xl","p-5","border","border-slate-200"],[1,"font-bold","text-slate-700","mb-4","flex","items-center","gap-2"],[1,"fas","fa-box-open"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],[1,"text-xs","font-bold","text-slate-400","uppercase"],["type","text",1,"w-full","mt-1","p-2","rounded","border","border-slate-300","text-sm","focus:ring-2","focus:ring-orange-500",3,"value"],[1,"w-full","mt-1","p-2","rounded","border","border-slate-300","text-sm","bg-white",3,"value"],["value","N/A"],["value","En Stock"],["value","Pedida"],["value","Por Recibir"],[1,"flex","gap-2","mt-4"],["type","text","placeholder","Agregar nota t\xE9cnica...",1,"flex-1","p-2","rounded","border","border-slate-300","text-sm"],[1,"px-4","py-2","bg-slate-200","text-slate-700","font-bold","rounded","text-xs","hover:bg-slate-300","transition",3,"click"],[1,"fas","fa-comment"],[1,"flex","gap-3","mt-4","pt-4","border-t","border-slate-200"],[1,"flex-1","py-2","bg-slate-800","text-white","rounded","font-bold","text-xs","uppercase","hover:bg-slate-900","transition",3,"click"],[1,"px-6","py-2","bg-green-600","text-white","rounded","font-bold","text-xs","uppercase","hover:bg-green-700","transition",3,"click"],[1,"font-bold","text-orange-600"],[1,"inline-flex","items-center","justify-center","w-20","h-20","rounded-full","bg-slate-100","text-slate-300","mb-4"],[1,"fas","fa-check","text-4xl"],[1,"font-bold","text-slate-600"],[1,"text-slate-400","text-sm"]],template:function(r,i){r&1&&(se(0,"div",3)(1,"div",4)(2,"div",5),He(3,"i",6),se(4,"p",7),be(5,"Unidades en Taller"),ae(),se(6,"p",8),be(7),ae()(),se(8,"div",9)(9,"p",10),be(10,"Refacciones Pendientes"),ae(),se(11,"p",11),be(12),ae()(),se(13,"div",9)(14,"p",10),be(15,"Prioridad Alta"),ae(),se(16,"p",12),be(17),ae()()(),se(18,"div",13)(19,"div",14)(20,"h3",15),be(21,"\xD3rdenes de Trabajo Activas"),ae()(),se(22,"div",16),Bi(23,uZ,61,13,"div",17,aZ,!1,dZ,7,0,"div",18),ae()()()),r&2&&(ke(7),xn(i.openFailures().length),ke(5),xn(i.pendingParts()),ke(5),xn(i.criticalCount()),ke(6),Vi(i.openFailures()))},dependencies:[$r,Pa,$o,yd,bd],encapsulation:2})}}return e})();var fZ=(e,t)=>t.id,hZ=(e,t)=>t.name;function pZ(e,t){e&1&&(se(0,"span",19),He(1,"span",27)(2,"span",28),ae())}function mZ(e,t){e&1&&He(0,"span",20)}function gZ(e,t){e&1&&(se(0,"div",26)(1,"div",29),He(2,"i",30),ae(),se(3,"span",31),be(4,"En Reparaci\xF3n"),ae()())}function yZ(e,t){if(e&1){let n=yr();se(0,"button",17),Lt("click",function(){let i=un(n).$implicit,s=Dt(2);return dn(s.selectAsset(i.id))}),se(1,"div",18),Ln(2,pZ,3,0,"span",19)(3,mZ,1,0,"span",20),ae(),se(4,"div",21),He(5,"i",22),ae(),se(6,"div",23)(7,"span",24),be(8),ae(),se(9,"span",25),be(10),ae()(),Ln(11,gZ,5,0,"div",26),ae()}if(e&2){let n=t.$implicit;ke(2),Fn(n.status.name==="Taller"?2:3),ke(6),xn(n.id),ke(2),xn(n.model),ke(),Fn(n.status.name!=="Operativo"?11:-1)}}function bZ(e,t){if(e&1&&(se(0,"div",12)(1,"h3",14),be(2,"1. Selecciona la unidad a reportar"),ae(),se(3,"div",15),Bi(4,yZ,12,4,"button",16,fZ),ae()()),e&2){let n=Dt();ke(4),Vi(n.assets())}}function vZ(e,t){if(e&1){let n=yr();se(0,"button",50),Lt("click",function(){let i=un(n).$implicit,s=Dt(2);return dn(s.category.set(i.name))}),He(1,"i"),se(2,"span",51),be(3),ae()()}if(e&2){let n=t.$implicit,r=Dt(2);mr(r.getCategoryClass(n.name)),ke(),mr("fas "+n.icon+" text-2xl mb-1"),ke(2),xn(n.name)}}function _Z(e,t){if(e&1){let n=yr();se(0,"div",13)(1,"div",32)(2,"div",33),He(3,"i",34),ae(),se(4,"h3",35),be(5),ae(),se(6,"span",36),be(7," Reportando Falla "),ae(),se(8,"div",37)(9,"button",38),Lt("click",function(){un(n);let i=Dt();return dn(i.step.set(1))}),He(10,"i",39),be(11," Cambiar Unidad "),ae()()(),se(12,"div",40)(13,"div",41)(14,"label",42)(15,"span",43),be(16,"1"),ae(),be(17," Selecciona el Sistema Afectado "),ae(),se(18,"div",44),Bi(19,vZ,4,5,"button",45,hZ),ae()(),se(21,"div",46)(22,"label",42)(23,"span",43),be(24,"2"),ae(),be(25," Detalles Adicionales (Opcional) "),ae(),se(26,"textarea",47),Fs("ngModelChange",function(i){un(n);let s=Dt();return no(s.notes,i)||(s.notes=i),dn(i)}),ae()(),se(27,"button",48),Lt("click",function(){un(n);let i=Dt();return dn(i.submitReport())}),se(28,"span"),be(29,"ENVIAR REPORTE"),ae(),He(30,"i",49),ae()()()}if(e&2){let n=Dt();ke(5),xn(n.selectedId()),ke(14),Vi(n.categories),ke(7),Ls("ngModel",n.notes),ke(),Kn("disabled",!n.category())}}var AN=(()=>{class e{constructor(){this.dataService=It(as),this.assets=this.dataService.assets,this.step=en(1),this.selectedId=en(""),this.category=en(""),this.notes="",this.categories=[{name:"Llantas",icon:"fa-truck-monster"},{name:"Frenos",icon:"fa-ban"},{name:"Motor",icon:"fa-cogs"},{name:"Hidr\xE1ulico",icon:"fa-oil-can"},{name:"El\xE9ctrico",icon:"fa-bolt"},{name:"Da\xF1o F\xEDsico",icon:"fa-car-crash"}]}selectAsset(n){this.dataService.getAsset(n)?.status.name!=="Taller"&&(this.selectedId.set(n),this.step.set(2))}submitReport(){if(!this.category())return;let n=`[${this.category()}] ${this.notes||"Sin detalles adicionales."}`;this.dataService.addLiveFailure({economico:this.selectedId(),falla:n,prioridad:this.category()==="Frenos"?"Alta":"Media",reporta:"Operador M\xF3vil",estatus:"Abierta"}),alert("Reporte enviado exitosamente. Toyota ha sido notificado."),this.step.set(1),this.category.set(""),this.notes="",this.selectedId.set("")}getCategoryClass(n){return this.category()===n?"bg-gradient-to-br from-[#ce1126] to-[#a30d1d] border-transparent text-white shadow-lg shadow-red-900/30 scale-105 z-10":"bg-white border-slate-200 text-slate-500 hover:border-red-200 hover:bg-red-50 hover:text-red-600"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ri({type:e,selectors:[["app-solicitor-panel"]],decls:19,vars:7,consts:[[1,"w-full","h-full","bg-slate-50","flex","flex-col","overflow-hidden"],[1,"bg-[#ce1126]","text-white","px-6","py-3","shadow-md","flex","justify-between","items-center","shrink-0","z-20"],[1,"flex","items-center","gap-3"],[1,"w-8","h-8","bg-white/20","rounded-lg","flex","items-center","justify-center"],[1,"fas","fa-mobile-alt","text-sm"],[1,"text-base","font-black","uppercase","tracking-widest","leading-none"],[1,"text-[10px]","text-red-100","opacity-90"],[1,"flex","items-center","gap-3","bg-black/10","px-3","py-1","rounded-full"],[1,"text-[10px]","font-bold","opacity-80","uppercase","tracking-wide"],[1,"flex","gap-1.5"],[1,"w-2","h-2","rounded-full","transition-colors","duration-300"],[1,"flex-1","overflow-hidden","relative"],[1,"h-full","overflow-y-auto","custom-scroll","p-4","md:p-6","bg-slate-100/50"],[1,"h-full","flex","flex-col","md:flex-row","animate-fade-in","divide-y","md:divide-y-0","md:divide-x","divide-slate-200"],[1,"text-sm","font-bold","text-slate-500","uppercase","tracking-wide","mb-4","pl-1"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-4"],[1,"group","relative","bg-white","rounded-xl","shadow-sm","border-2","border-transparent","hover:border-red-500","focus:border-red-500","transition-all","p-4","flex","flex-col","items-center","justify-between","h-36","md:h-40","hover:shadow-md"],[1,"group","relative","bg-white","rounded-xl","shadow-sm","border-2","border-transparent","hover:border-red-500","focus:border-red-500","transition-all","p-4","flex","flex-col","items-center","justify-between","h-36","md:h-40","hover:shadow-md",3,"click"],[1,"absolute","top-3","right-3","flex","gap-1"],[1,"flex","h-2.5","w-2.5"],["title","Operativo",1,"w-2.5","h-2.5","rounded-full","bg-emerald-500","shadow-sm"],[1,"mt-2","text-slate-200","group-hover:text-red-50","transition-colors","duration-300"],[1,"fas","fa-truck-loading","text-5xl"],[1,"text-center","z-10","w-full"],[1,"block","text-xl","md:text-2xl","font-black","text-slate-800","tracking-tighter","group-hover:scale-110","transition-transform"],[1,"block","text-[10px]","text-slate-500","font-mono","mt-1","border-t","border-slate-100","pt-1","mx-4"],[1,"absolute","inset-0","bg-slate-50/90","backdrop-blur-[1px]","rounded-[10px]","flex","flex-col","items-center","justify-center","z-20","cursor-not-allowed","border-2","border-slate-100"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-red-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2.5","w-2.5","bg-red-500"],[1,"bg-white","p-2","rounded-full","shadow-sm","mb-2"],[1,"fas","fa-lock","text-slate-400","text-lg"],[1,"text-[10px]","font-bold","text-slate-500","uppercase","tracking-wide"],[1,"md:w-1/3","lg:w-1/4","bg-white","p-6","flex","flex-col","justify-center","items-center","text-center","shrink-0","shadow-[4px_0_24px_rgba(0,0,0,0.02)]","z-10"],[1,"w-24","h-24","rounded-full","bg-slate-50","border","border-slate-100","shadow-inner","flex","items-center","justify-center","mb-6"],[1,"fas","fa-truck-moving","text-4xl","text-slate-700"],[1,"text-4xl","font-black","text-slate-800","tracking-tight"],[1,"inline-block","mt-2","px-3","py-1","rounded-full","bg-red-50","text-red-600","text-[10px]","font-bold","uppercase","tracking-widest","border","border-red-100"],[1,"mt-auto","w-full","pt-8"],[1,"w-full","px-6","py-3","rounded-xl","border","border-slate-200","text-slate-500","text-xs","font-bold","hover:bg-slate-50","hover:text-slate-800","transition","flex","items-center","justify-center","gap-2","group",3,"click"],[1,"fas","fa-arrow-left","group-hover:-translate-x-1","transition-transform"],[1,"flex-1","bg-[#f8fafc]","p-6","md:p-8","overflow-y-auto","custom-scroll","flex","flex-col","h-full"],[1,"mb-6","shrink-0"],[1,"flex","items-center","gap-2","text-xs","font-bold","text-slate-400","uppercase","mb-3","px-1"],[1,"w-5","h-5","rounded-full","bg-slate-200","text-slate-500","flex","items-center","justify-center","text-[10px]"],[1,"grid","grid-cols-2","sm:grid-cols-3","lg:grid-cols-6","gap-3"],[1,"p-2","rounded-xl","border","transition-all","duration-200","flex","flex-col","items-center","justify-center","gap-2","h-24","hover:shadow-lg",3,"class"],[1,"mb-6","flex-1","min-h-[120px]","flex","flex-col"],["placeholder","Ej: Ruidos extra\xF1os al elevar la carga...",1,"w-full","flex-1","p-4","bg-white","border","border-slate-200","rounded-xl","focus:ring-2","focus:ring-[#ce1126]/20","focus:border-[#ce1126]","outline-none","resize-none","text-sm","transition-shadow","shadow-sm","placeholder:text-slate-300",3,"ngModelChange","ngModel"],[1,"w-full","py-4","bg-gradient-to-r","from-[#ce1126]","to-[#a30d1d]","hover:from-[#a30d1d]","hover:to-[#8a0b18]","disabled:from-slate-300","disabled:to-slate-300","disabled:text-slate-500","text-white","rounded-xl","font-bold","text-lg","shadow-xl","shadow-red-900/20","hover:shadow-red-900/40","transition-all","flex","items-center","justify-center","gap-3","transform","hover:-translate-y-0.5","active:translate-y-0","disabled:transform-none",3,"click","disabled"],[1,"fas","fa-paper-plane"],[1,"p-2","rounded-xl","border","transition-all","duration-200","flex","flex-col","items-center","justify-center","gap-2","h-24","hover:shadow-lg",3,"click"],[1,"text-[10px]","font-bold","uppercase","leading-tight","text-center"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),He(4,"i",4),ae(),se(5,"div")(6,"h2",5),be(7,"Reporte R\xE1pido"),ae(),se(8,"p",6),be(9,"Terminal Operador"),ae()()(),se(10,"div",7)(11,"span",8),be(12),ae(),se(13,"div",9),He(14,"div",10)(15,"div",10),ae()()(),se(16,"div",11),Ln(17,bZ,6,0,"div",12)(18,_Z,31,3,"div",13),ae()()),r&2&&(ke(12),tn("Paso ",i.step()," de 2"),ke(2),mr(i.step()>=1?"bg-white":"bg-white/30"),ke(),mr(i.step()>=2?"bg-white":"bg-white/30"),ke(2),Fn(i.step()===1?17:-1),ke(),Fn(i.step()===2?18:-1))},dependencies:[$r,$o,Vl,gd,Wc],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}"]})}}return e})();function wZ(e,t){if(e&1&&(se(0,"div",11),He(1,"i",26),be(2),ae()),e&2){let n=Dt();ke(2),tn(" ",n.authService.error()," ")}}function xZ(e,t){if(e&1){let n=yr();se(0,"div")(1,"label",13),be(2,"Nombre Completo"),ae(),se(3,"div",14),He(4,"i",27),se(5,"input",28),Fs("ngModelChange",function(i){un(n);let s=Dt();return no(s.displayName,i)||(s.displayName=i),dn(i)}),ae()()()}if(e&2){let n=Dt();ke(5),Ls("ngModel",n.displayName)}}function EZ(e,t){e&1&&(He(0,"i",29),be(1," Procesando... "))}function SZ(e,t){if(e&1&&(He(0,"i"),be(1)),e&2){let n=Dt();mr(n.isLoginMode()?"fas fa-sign-in-alt":"fas fa-user-plus"),ke(),tn(" ",n.isLoginMode()?"Iniciar Sesi\xF3n":"Crear Cuenta"," ")}}var kN=(()=>{class e{constructor(){this.authService=It(s1),this.email="",this.password="",this.displayName="",this.isLoginMode=en(!0),this.showPassword=en(!1),this.isSubmitting=en(!1)}async onSubmit(){if(!(!this.email||!this.password)){if(this.isSubmitting.set(!0),this.isLoginMode())await this.authService.login(this.email,this.password);else{if(!this.displayName){this.isSubmitting.set(!1);return}await this.authService.register(this.email,this.password,this.displayName)}this.isSubmitting.set(!1)}}async loginDemo(){this.isSubmitting.set(!0),await this.authService.loginAsDemo(),this.isSubmitting.set(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ri({type:e,selectors:[["app-login"]],decls:44,vars:14,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-900","via-slate-800","to-red-900","flex","items-center","justify-center","p-4"],[1,"absolute","inset-0","opacity-10","bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)]","bg-[size:40px_40px]"],[1,"relative","w-full","max-w-md"],[1,"text-center","mb-8"],[1,"inline-flex","items-center","justify-center","w-20","h-20","bg-red-600","rounded-2xl","mb-4","shadow-2xl","shadow-red-600/30"],[1,"fas","fa-shield-alt","text-4xl","text-white"],[1,"text-3xl","font-black","text-white","tracking-tight"],[1,"text-slate-400","mt-1"],[1,"bg-white/10","backdrop-blur-xl","rounded-3xl","p-8","shadow-2xl","border","border-white/20"],[1,"flex","gap-2","mb-6"],[3,"click"],[1,"mb-4","p-3","bg-red-500/20","border","border-red-500/50","rounded-xl","flex","items-center","gap-2","text-red-300","text-sm"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-slate-300","mb-1.5"],[1,"relative"],[1,"fas","fa-envelope","absolute","left-4","top-1/2","-translate-y-1/2","text-slate-400"],["type","email","name","email","placeholder","tu@email.com","required","","autocomplete","email",1,"w-full","pl-11","pr-4","py-3","bg-white/10","border","border-white/20","rounded-xl","text-white","placeholder-slate-500","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent","transition-all",3,"ngModelChange","ngModel"],[1,"fas","fa-lock","absolute","left-4","top-1/2","-translate-y-1/2","text-slate-400"],["name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","minlength","6","autocomplete","current-password",1,"w-full","pl-11","pr-12","py-3","bg-white/10","border","border-white/20","rounded-xl","text-white","placeholder-slate-500","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent","transition-all",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","right-4","top-1/2","-translate-y-1/2","text-slate-400","hover:text-white","transition-colors",3,"click"],["type","submit",1,"w-full","py-3.5","bg-gradient-to-r","from-red-600","to-red-500","hover:from-red-500","hover:to-red-400","text-white","font-bold","rounded-xl","shadow-lg","shadow-red-600/30","transition-all","duration-300","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","justify-center","gap-2",3,"disabled"],[1,"mt-6","pt-6","border-t","border-white/10"],[1,"text-center","text-slate-400","text-sm","mb-3"],[1,"w-full","py-2.5","bg-slate-700/50","hover:bg-slate-700","text-slate-300","hover:text-white","font-medium","rounded-xl","transition-all","flex","items-center","justify-center","gap-2",3,"click","disabled"],[1,"fas","fa-play-circle"],[1,"text-center","text-slate-500","text-xs","mt-6"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-user","absolute","left-4","top-1/2","-translate-y-1/2","text-slate-400"],["type","text","name","displayName","placeholder","Tu nombre",1,"w-full","pl-11","pr-4","py-3","bg-white/10","border","border-white/20","rounded-xl","text-white","placeholder-slate-500","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent","transition-all",3,"ngModelChange","ngModel"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(r,i){r&1&&(se(0,"div",0),He(1,"div",1),se(2,"div",2)(3,"div",3)(4,"div",4),He(5,"i",5),ae(),se(6,"h1",6),be(7,"ASSET GUARD"),ae(),se(8,"p",7),be(9,"Sistema de Gesti\xF3n de Activos"),ae()(),se(10,"div",8)(11,"div",9)(12,"button",10),Lt("click",function(){return i.isLoginMode.set(!0)}),be(13," Iniciar Sesi\xF3n "),ae(),se(14,"button",10),Lt("click",function(){return i.isLoginMode.set(!1)}),be(15," Registrarse "),ae()(),Ln(16,wZ,3,1,"div",11),se(17,"form",12),Lt("ngSubmit",function(){return i.onSubmit()}),Ln(18,xZ,6,1,"div"),se(19,"div")(20,"label",13),be(21,"Correo Electr\xF3nico"),ae(),se(22,"div",14),He(23,"i",15),se(24,"input",16),Fs("ngModelChange",function(o){return no(i.email,o)||(i.email=o),o}),ae()()(),se(25,"div")(26,"label",13),be(27,"Contrase\xF1a"),ae(),se(28,"div",14),He(29,"i",17),se(30,"input",18),Fs("ngModelChange",function(o){return no(i.password,o)||(i.password=o),o}),ae(),se(31,"button",19),Lt("click",function(){return i.showPassword.set(!i.showPassword())}),He(32,"i"),ae()()(),se(33,"button",20),Ln(34,EZ,2,0)(35,SZ,2,3),ae()(),se(36,"div",21)(37,"p",22),be(38,"\xBFSolo quieres probar?"),ae(),se(39,"button",23),Lt("click",function(){return i.loginDemo()}),He(40,"i",24),be(41," Acceso Demo "),ae()()(),se(42,"p",25),be(43," \xA9 2024 Asset Guard Corporate Edition. Todos los derechos reservados. "),ae()()()),r&2&&(ke(12),mr(i.isLoginMode()?"flex-1 py-2.5 rounded-xl font-semibold text-white bg-red-600 shadow-lg":"flex-1 py-2.5 rounded-xl font-semibold text-slate-400 hover:text-white transition-colors"),ke(2),mr(i.isLoginMode()?"flex-1 py-2.5 rounded-xl font-semibold text-slate-400 hover:text-white transition-colors":"flex-1 py-2.5 rounded-xl font-semibold text-white bg-red-600 shadow-lg"),ke(2),Fn(i.authService.error()?16:-1),ke(2),Fn(i.isLoginMode()?-1:18),ke(6),Ls("ngModel",i.email),ke(6),Kn("type",i.showPassword()?"text":"password"),Ls("ngModel",i.password),ke(2),mr(i.showPassword()?"fas fa-eye-slash":"fas fa-eye"),ke(),Kn("disabled",i.isSubmitting()),ke(),Fn(i.isSubmitting()?34:35),ke(5),Kn("disabled",i.isSubmitting()))},dependencies:[$r,$o,qA,Vl,gd,BA,j5,B5,Wc,F5],encapsulation:2})}}return e})();function CZ(e,t){e&1&&(se(0,"div",0)(1,"div",2)(2,"div",3),He(3,"i",4),ae(),se(4,"h1",5),be(5,"ASSET GUARD"),ae(),se(6,"div",6),He(7,"i",7),se(8,"span",8),be(9,"Iniciando sistema..."),ae()()()())}function IZ(e,t){e&1&&He(0,"app-login")}function TZ(e,t){e&1&&(se(0,"span",50),He(1,"span",82)(2,"span",83),ae())}function AZ(e,t){e&1&&He(0,"app-dashboard")}function kZ(e,t){e&1&&He(0,"app-service-panel")}function DZ(e,t){e&1&&He(0,"app-asset-list")}function NZ(e,t){e&1&&He(0,"app-solicitor-panel")}function MZ(e,t){e&1&&He(0,"app-admin")}function RZ(e,t){e&1&&(se(0,"div",63)(1,"div",84),He(2,"i",85)(3,"i",86),ae(),se(4,"p",87),be(5,"Analizando flota en tiempo real..."),ae()())}function OZ(e,t){if(e&1&&He(0,"div",64),e&2){let n=Dt(2);Kn("innerHTML",n.aiInsights(),Ic)}}function PZ(e,t){e&1&&(se(0,"div",65)(1,"div",88),He(2,"i",89),ae(),se(3,"div")(4,"h4",90),be(5,"\xBFC\xF3mo puedo ayudarte?"),ae(),se(6,"p",91),be(7," Utilizo los datos actuales de fallas, costos y disponibilidad para generarte reportes al instante. "),ae()()())}function LZ(e,t){if(e&1&&(se(0,"div",81)(1,"div",92),He(2,"app-asset-detail",93),ae()()),e&2){let n=Dt(2);ke(2),Kn("assetId",n.selectedAssetId())}}function FZ(e,t){if(e&1){let n=yr();se(0,"div",9)(1,"aside",10)(2,"div")(3,"div",11),He(4,"i",12),se(5,"span",13),be(6,"ASSET GUARD"),ae()(),se(7,"nav",14)(8,"button",15),Lt("click",function(){un(n);let i=Dt();return dn(i.setView("dashboard"))}),He(9,"i",16),se(10,"span",17),be(11,"Resumen Ejecutivo"),ae(),se(12,"div",18),be(13,"Resumen"),ae()(),se(14,"button",15),Lt("click",function(){un(n);let i=Dt();return dn(i.setView("service"))}),He(15,"i",19),se(16,"span",17),be(17,"Taller & Fallas"),ae(),se(18,"div",18),be(19,"Taller"),ae()(),se(20,"button",15),Lt("click",function(){un(n);let i=Dt();return dn(i.setView("assets"))}),He(21,"i",20),se(22,"span",17),be(23,"Inventario Flota"),ae(),se(24,"div",18),be(25,"Flota"),ae()(),se(26,"button",15),Lt("click",function(){un(n);let i=Dt();return dn(i.setView("solicitor"))}),He(27,"i",21),se(28,"span",17),be(29,"App Operador"),ae()()()(),se(30,"div",22)(31,"button",23),Lt("click",function(){un(n);let i=Dt();return dn(i.setView("settings"))}),He(32,"i",24),se(33,"span",25),be(34,"Configuraci\xF3n"),ae()(),se(35,"div",26)(36,"p",27),be(37,"Planta Cuautitl\xE1n"),ae(),se(38,"div",28),be(39,"v2.1.0 Enterprise"),ae()()()(),se(40,"div",29)(41,"header",30)(42,"div",31)(43,"div",32)(44,"h2",33),be(45),ae(),se(46,"div",34)(47,"div",35),He(48,"span",36)(49,"span",37),ae(),se(50,"span",38),be(51),ae(),se(52,"div",39),be(53," Estado de conexi\xF3n con Firebase Realtime DB "),ae()()()(),se(54,"div",40)(55,"div",41)(56,"div")(57,"p",42),be(58,"Ing. Sergio Guadarrama"),ae(),se(59,"span",43),be(60,"Supervisor Operaciones"),ae()(),se(61,"div",44),He(62,"i",45),ae()(),He(63,"div",46),se(64,"button",47),Lt("click",function(){un(n);let i=Dt();return dn(i.toggleAiPanel())}),He(65,"i",48),se(66,"span",49),be(67,"Asistente"),ae(),Ln(68,TZ,3,0,"span",50),ae()()(),se(69,"main",51)(70,"div",52),Ln(71,AZ,1,0,"app-dashboard")(72,kZ,1,0,"app-service-panel")(73,DZ,1,0,"app-asset-list")(74,NZ,1,0,"app-solicitor-panel")(75,MZ,1,0,"app-admin"),ae()(),se(76,"div",53)(77,"div",54)(78,"div",55)(79,"div",56),He(80,"i",57),ae(),se(81,"div")(82,"h3",58),be(83,"Gemini Assistant"),ae(),se(84,"p",59),be(85,"AssetGuard Intelligence"),ae()()(),se(86,"button",60),Lt("click",function(){un(n);let i=Dt();return dn(i.toggleAiPanel())}),He(87,"i",61),ae()(),se(88,"div",62),Ln(89,RZ,6,0,"div",63)(90,OZ,1,1,"div",64)(91,PZ,8,0,"div",65),ae(),se(92,"div",66)(93,"p",67),be(94,"Acciones Sugeridas"),ae(),se(95,"button",68),Lt("click",function(){un(n);let i=Dt();return dn(i.generateExecutiveSummary())}),se(96,"div",69),He(97,"i",70),ae(),se(98,"div")(99,"span",71),be(100,"Resumen Ejecutivo del D\xEDa"),ae(),se(101,"span",72),be(102,"Estado general y cumplimiento"),ae()()(),se(103,"button",73),Lt("click",function(){un(n);let i=Dt();return dn(i.generateExecutiveSummary())}),se(104,"div",74),He(105,"i",75),ae(),se(106,"div")(107,"span",71),be(108,"Explicar Riesgos Operativos"),ae(),se(109,"span",76),be(110,"Causas de baja disponibilidad"),ae()()(),se(111,"button",77),Lt("click",function(){un(n);let i=Dt();return dn(i.generateExecutiveSummary())}),se(112,"div",78),He(113,"i",79),ae(),se(114,"div")(115,"span",71),be(116,"Sugerir Acciones de Mejora"),ae(),se(117,"span",80),be(118,"Optimizaci\xF3n de flota"),ae()()()()(),Ln(119,LZ,3,1,"div",81),ae()()}if(e&2){let n,r=Dt();pr("dark",r.plantMode()),ke(8),pr("border-[#ce1126]",r.currentView()==="dashboard")("bg-slate-800",r.currentView()==="dashboard")("text-white",r.currentView()==="dashboard")("border-transparent",r.currentView()!=="dashboard")("hover:bg-slate-800",r.currentView()!=="dashboard"),ke(),pr("text-[#ce1126]",r.currentView()==="dashboard"),ke(5),pr("border-orange-500",r.currentView()==="service")("bg-slate-800",r.currentView()==="service")("text-white",r.currentView()==="service")("border-transparent",r.currentView()!=="service")("hover:bg-slate-800",r.currentView()!=="service"),ke(),pr("text-orange-500",r.currentView()==="service"),ke(5),pr("border-blue-500",r.currentView()==="assets")("bg-slate-800",r.currentView()==="assets")("text-white",r.currentView()==="assets")("border-transparent",r.currentView()!=="assets")("hover:bg-slate-800",r.currentView()!=="assets"),ke(),pr("text-blue-500",r.currentView()==="assets"),ke(5),pr("border-slate-500",r.currentView()==="solicitor")("bg-slate-800",r.currentView()==="solicitor")("text-white",r.currentView()==="solicitor")("border-transparent",r.currentView()!=="solicitor")("hover:bg-slate-800",r.currentView()!=="solicitor"),ke(),pr("text-slate-400",r.currentView()==="solicitor"),ke(18),xn(r.viewTitle),ke(3),pr("bg-green-500",r.connectionStatus()==="online")("bg-amber-500",r.connectionStatus()==="syncing")("bg-red-500",r.connectionStatus()==="offline"),ke(),pr("bg-green-500",r.connectionStatus()==="online")("bg-amber-500",r.connectionStatus()==="syncing")("bg-red-500",r.connectionStatus()==="offline"),ke(2),tn(" ",r.syncText()," "),ke(17),Fn(r.aiLoading()?68:-1),ke(3),Fn((n=r.currentView())==="dashboard"?71:n==="service"?72:n==="assets"?73:n==="solicitor"?74:n==="settings"?75:-1),ke(5),pr("translate-x-full",!r.showAiPanel())("translate-x-0",r.showAiPanel()),ke(13),Fn(r.aiLoading()?89:r.aiInsights()?90:91),ke(30),Fn(r.selectedAssetId()?119:-1)}}var DN=(()=>{class e{constructor(){this.dataService=It(as),this.geminiService=It(dd),this.authService=It(s1),this.sanitizer=It(Nc),this.isAuthenticated=this.authService.isAuthenticated,this.isAuthLoading=this.authService.isLoading,this.currentUser=this.authService.currentUser,this.currentView=en("dashboard"),this.selectedAssetId=en(null),this.showAiPanel=en(!1),this.connectionStatus=this.dataService.connectionStatus,this.lastUpdate=this.dataService.lastUpdate,this.plantMode=this.dataService.plantMode,this.failures=this.dataService.forkliftFailures,this.aiInsights=en(null),this.aiLoading=en(!1),this.previousFailureCount=0,this.syncText=pn(()=>this.connectionStatus()==="online"?"Conectado (Firebase RTDB)":this.connectionStatus()==="syncing"?"Sincronizando...":"Modo Offline (Solo Lectura)"),Ac(()=>{let n=this.failures();if(n.length>this.previousFailureCount){let r=n[0];r.estatus==="Abierta"&&this.previousFailureCount>0&&this.playAlert(r.prioridad==="Alta")}this.previousFailureCount=n.length}),window.addEventListener("asset-selected",n=>this.selectedAssetId.set(n.detail)),window.addEventListener("asset-closed",()=>this.selectedAssetId.set(null))}setView(n){this.currentView.set(n),this.selectedAssetId.set(null),n==="dashboard"&&!this.plantMode()&&this.dataService.togglePlantMode(),n!=="dashboard"&&this.plantMode()&&this.dataService.togglePlantMode()}toggleAiPanel(){this.showAiPanel.update(n=>!n),this.showAiPanel()&&this.aiInsights()}async generateExecutiveSummary(){this.aiLoading.set(!0);let n=this.dataService.kpiData(),r=this.dataService.fleetAvailability(),i=this.failures().filter(o=>o.estatus!=="Cerrada"),s=await this.geminiService.generateExecutiveReport(n,i,r);this.aiInsights.set(this.sanitizer.bypassSecurityTrustHtml(s)),this.aiLoading.set(!1)}playAlert(n){new Audio(n?"https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3":"https://assets.mixkit.co/active_storage/sfx/2345/2345-preview.mp3").play().catch(()=>{})}async logout(){await this.authService.logout()}get viewTitle(){switch(this.currentView()){case"dashboard":return"Centro de Monitoreo (NOC)";case"assets":return"Inventario de Flota";case"service":return"Gesti\xF3n T\xE9cnica Toyota";case"solicitor":return"App Operador";case"settings":return"Configuraci\xF3n";default:return"AssetGuard"}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ri({type:e,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-900","via-slate-800","to-red-900","flex","items-center","justify-center"],[1,"flex","h-screen","bg-slate-50","dark:bg-[#0f172a]","font-sans","overflow-hidden","transition-colors","duration-500",3,"dark"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-24","h-24","bg-red-600","rounded-2xl","mb-6","shadow-2xl","shadow-red-600/30"],[1,"fas","fa-shield-alt","text-5xl","text-white"],[1,"text-4xl","font-black","text-white","tracking-tight","mb-2"],[1,"flex","items-center","justify-center","gap-2","text-slate-400"],[1,"fas","fa-circle-notch","fa-spin"],[1,"text-sm"],[1,"flex","h-screen","bg-slate-50","dark:bg-[#0f172a]","font-sans","overflow-hidden","transition-colors","duration-500"],[1,"w-20","lg:w-64","bg-slate-900","text-slate-300","flex","flex-col","justify-between","shrink-0","z-30","transition-all","duration-300","shadow-xl"],[1,"h-16","flex","items-center","justify-center","lg:justify-start","lg:px-6","border-b","border-slate-800","bg-slate-950"],[1,"fas","fa-network-wired","text-[#ce1126]","text-xl","shadow-lg","shadow-red-900/50","rounded-full"],[1,"ml-3","font-black","text-white","italic","text-lg","hidden","lg:block","tracking-tighter"],[1,"p-2","lg:p-4","space-y-1","mt-2"],[1,"w-full","flex","items-center","p-3","rounded-lg","transition-all","group","relative","border-l-4",3,"click"],[1,"fas","fa-chart-pie","w-6","text-center"],[1,"ml-3","text-sm","font-bold","hidden","lg:block"],[1,"lg:hidden","absolute","left-14","bg-slate-900","text-white","text-xs","px-2","py-1","rounded","shadow-lg","opacity-0","group-hover:opacity-100","transition-opacity","z-50","whitespace-nowrap","border","border-slate-700"],[1,"fas","fa-wrench","w-6","text-center"],[1,"fas","fa-truck-moving","w-6","text-center"],[1,"fas","fa-mobile-alt","w-6","text-center"],[1,"p-2","lg:p-4","border-t","border-slate-800","bg-slate-950"],[1,"w-full","flex","items-center","p-3","rounded-xl","hover:bg-slate-800","transition-colors","text-slate-400","hover:text-white",3,"click"],[1,"fas","fa-cog","w-6","text-center"],[1,"ml-3","text-xs","font-bold","uppercase","hidden","lg:block"],[1,"mt-4","text-center","lg:text-left","lg:px-3"],[1,"text-[10px]","text-slate-500","uppercase","font-bold","tracking-widest","hidden","lg:block"],[1,"text-[10px]","text-slate-600","truncate","mt-1"],[1,"flex-1","flex","flex-col","h-full","overflow-hidden","relative"],[1,"h-16","bg-white","dark:bg-[#1e293b]","border-b","border-slate-200","dark:border-slate-700","flex","items-center","justify-between","px-6","shrink-0","z-20","transition-colors","shadow-sm"],[1,"flex","items-center","gap-4"],[1,"flex","flex-col"],[1,"text-sm","font-bold","text-slate-800","dark:text-white","leading-tight"],[1,"flex","items-center","gap-2","mt-0.5","group","cursor-help"],[1,"relative","flex","h-2","w-2"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2"],[1,"text-[10px]","font-bold","text-slate-400","uppercase","tracking-wide","group-hover:text-slate-600","transition-colors"],[1,"hidden","group-hover:block","absolute","top-10","bg-slate-800","text-white","text-[10px]","p-2","rounded","shadow-lg","whitespace-nowrap","z-50"],[1,"flex","items-center","gap-6"],[1,"flex","items-center","gap-3","text-right","hidden","sm:flex"],[1,"text-xs","font-bold","text-slate-700","dark:text-white"],[1,"inline-block","bg-slate-100","dark:bg-slate-700","text-slate-500","dark:text-slate-300","px-1.5","py-0.5","rounded","text-[9px]","font-bold","uppercase","tracking-wider"],[1,"w-8","h-8","rounded-full","bg-slate-200","dark:bg-slate-600","flex","items-center","justify-center","text-slate-500","dark:text-slate-300","border","border-slate-300","dark:border-slate-500"],[1,"fas","fa-user","text-xs"],[1,"h-8","w-px","bg-slate-200","dark:bg-slate-700"],["title","Asistente IA",1,"group","relative","flex","items-center","gap-2","px-3","py-1.5","text-slate-500","hover:text-[#ce1126]","transition-colors","rounded-lg","hover:bg-red-50","dark:hover:bg-slate-800",3,"click"],[1,"fas","fa-sparkles","text-lg","group-hover:rotate-12","transition-transform"],[1,"text-xs","font-bold","hidden","md:inline"],[1,"absolute","top-1","right-1","flex","h-2","w-2"],[1,"flex-1","overflow-y-auto","custom-scroll","p-6","relative","bg-[#f8fafc]","dark:bg-[#0f172a]"],[1,"fade-enter","max-w-7xl","mx-auto","h-full","pb-20"],[1,"fixed","inset-y-0","right-0","w-[400px]","bg-white","dark:bg-[#1e293b]","shadow-2xl","transform","transition-transform","duration-300","z-50","border-l","border-slate-200","dark:border-slate-700","flex","flex-col"],[1,"p-6","border-b","border-slate-100","dark:border-slate-700","flex","justify-between","items-center","bg-gradient-to-r","from-slate-900","to-slate-800","text-white"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-gradient-to-br","from-[#ce1126]","to-red-600","flex","items-center","justify-center","shadow-lg","shadow-red-900/50"],[1,"fas","fa-robot","text-lg"],[1,"font-bold","text-lg","leading-tight"],[1,"text-[10px]","text-slate-300","opacity-80","uppercase","tracking-widest"],[1,"text-white/60","hover:text-white","transition",3,"click"],[1,"fas","fa-times","text-xl"],[1,"flex-1","overflow-y-auto","p-6","custom-scroll","bg-slate-50","dark:bg-slate-900/50"],[1,"flex","flex-col","items-center","justify-center","py-10","space-y-4","text-slate-400","h-full"],[1,"prose","prose-sm","prose-slate","dark:prose-invert","max-w-none","bg-white","dark:bg-slate-800","p-5","rounded-xl","shadow-sm","border","border-slate-200","dark:border-slate-700",3,"innerHTML"],[1,"flex","flex-col","items-center","justify-center","h-full","text-center","py-10","opacity-60","space-y-6"],[1,"p-4","border-t","border-slate-100","dark:border-slate-700","bg-white","dark:bg-slate-800","space-y-2.5","shadow-[0_-5px_15px_rgba(0,0,0,0.05)]"],[1,"text-[10px]","font-bold","text-slate-400","uppercase","tracking-wider","mb-2"],[1,"w-full","flex","items-center","p-3","bg-slate-50","dark:bg-slate-700","hover:bg-[#ce1126]","hover:text-white","dark:hover:bg-[#ce1126]","rounded-lg","border","border-slate-200","dark:border-slate-600","hover:border-transparent","transition-all","group","text-left",3,"click"],[1,"w-8","h-8","rounded","bg-white","dark:bg-slate-600","text-slate-600","dark:text-slate-300","flex","items-center","justify-center","mr-3","group-hover:text-[#ce1126]","shadow-sm"],[1,"fas","fa-file-alt"],[1,"block","text-xs","font-bold","text-slate-700","dark:text-white","group-hover:text-white"],[1,"block","text-[10px]","text-slate-400","group-hover:text-red-100"],[1,"w-full","flex","items-center","p-3","bg-slate-50","dark:bg-slate-700","hover:bg-amber-500","hover:text-white","rounded-lg","border","border-slate-200","dark:border-slate-600","hover:border-transparent","transition-all","group","text-left",3,"click"],[1,"w-8","h-8","rounded","bg-white","dark:bg-slate-600","text-slate-600","dark:text-slate-300","flex","items-center","justify-center","mr-3","group-hover:text-amber-500","shadow-sm"],[1,"fas","fa-exclamation-triangle"],[1,"block","text-[10px]","text-slate-400","group-hover:text-amber-100"],[1,"w-full","flex","items-center","p-3","bg-slate-50","dark:bg-slate-700","hover:bg-emerald-600","hover:text-white","rounded-lg","border","border-slate-200","dark:border-slate-600","hover:border-transparent","transition-all","group","text-left",3,"click"],[1,"w-8","h-8","rounded","bg-white","dark:bg-slate-600","text-slate-600","dark:text-slate-300","flex","items-center","justify-center","mr-3","group-hover:text-emerald-600","shadow-sm"],[1,"fas","fa-check-double"],[1,"block","text-[10px]","text-slate-400","group-hover:text-emerald-100"],[1,"fixed","inset-0","z-[60]","bg-slate-900/60","backdrop-blur-sm","flex","items-center","justify-center","p-4","fade-enter"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-red-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2","bg-red-500"],[1,"relative"],[1,"fas","fa-circle-notch","fa-spin","text-4xl","text-[#ce1126]"],[1,"fas","fa-brain","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","text-xs","text-[#ce1126]"],[1,"text-xs","uppercase","font-bold","tracking-widest","animate-pulse","text-center"],[1,"w-20","h-20","bg-slate-100","dark:bg-slate-800","rounded-full","flex","items-center","justify-center"],[1,"fas","fa-lightbulb","text-4xl","text-slate-400","dark:text-slate-500"],[1,"font-bold","text-slate-700","dark:text-slate-300","text-lg"],[1,"text-xs","text-slate-500","mt-2","max-w-[240px]","mx-auto","leading-relaxed"],[1,"w-full","max-w-5xl","max-h-[90vh]","overflow-y-auto","rounded-2xl","shadow-2xl","border","border-white/10"],[3,"assetId"]],template:function(r,i){r&1&&Ln(0,CZ,10,0,"div",0)(1,IZ,1,0,"app-login")(2,FZ,120,72,"div",1),r&2&&Fn(i.isAuthLoading()?0:i.isAuthenticated()?2:1)},dependencies:[$r,_A,wA,xN,IN,TN,AN,kN],styles:[".fade-enter[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}"]})}}return e})();var vn=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(vn||{}),mo="*";function NN(e,t=null){return{type:vn.Sequence,steps:e,options:t}}function Wx(e){return{type:vn.Style,styles:e,offset:null}}var Za=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,n=0){this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Fd=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let n=t*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let t=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Dp="!";function MN(e){return new lt(3e3,!1)}function jZ(){return new lt(3100,!1)}function BZ(){return new lt(3101,!1)}function VZ(e){return new lt(3001,!1)}function UZ(e){return new lt(3003,!1)}function zZ(e){return new lt(3004,!1)}function ON(e,t){return new lt(3005,!1)}function PN(){return new lt(3006,!1)}function LN(){return new lt(3007,!1)}function FN(e,t){return new lt(3008,!1)}function jN(e){return new lt(3002,!1)}function BN(e,t,n,r,i){return new lt(3010,!1)}function VN(){return new lt(3011,!1)}function UN(){return new lt(3012,!1)}function zN(){return new lt(3200,!1)}function HN(){return new lt(3202,!1)}function $N(){return new lt(3013,!1)}function qN(e){return new lt(3014,!1)}function WN(e){return new lt(3015,!1)}function GN(e){return new lt(3016,!1)}function KN(e,t){return new lt(3404,!1)}function HZ(e){return new lt(3502,!1)}function YN(e){return new lt(3503,!1)}function ZN(){return new lt(3300,!1)}function XN(e){return new lt(3504,!1)}function JN(e){return new lt(3301,!1)}function QN(e,t){return new lt(3302,!1)}function eM(e){return new lt(3303,!1)}function tM(e,t){return new lt(3400,!1)}function nM(e){return new lt(3401,!1)}function rM(e){return new lt(3402,!1)}function iM(e,t){return new lt(3505,!1)}function Xa(e){switch(e.length){case 0:return new Za;case 1:return e[0];default:return new Fd(e)}}function Zx(e,t,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,g=h;if(f!=="offset")switch(p=e.normalizePropertyName(p,i),g){case Dp:g=n.get(f);break;case mo:g=r.get(f);break;default:g=e.normalizeStyleValue(f,p,g,i);break}d.set(p,g)}),u||s.push(d),a=d,o=c}),i.length)throw HZ(i);return s}function J1(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&Gx(n,"start",e)));break;case"done":e.onDone(()=>r(n&&Gx(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&Gx(n,"destroy",e)));break}}function Gx(e,t,n){let r=n.totalTime,i=!!n.disabled,s=Q1(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,r??e.totalTime,i),o=e._data;return o!=null&&(s._data=o),s}function Q1(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function us(e,t,n){let r=e.get(t);return r||e.set(t,r=n),r}function Xx(e){let t=e.indexOf(":"),n=e.substring(1,t),r=e.slice(t+1);return[n,r]}var $Z=typeof document>"u"?null:document.documentElement;function ey(e){let t=e.parentNode||e.host||null;return t===$Z?null:t}function qZ(e){return e.substring(1,6)=="ebkit"}var su=null,RN=!1;function sM(e){su||(su=WZ()||{},RN=su.style?"WebkitAppearance"in su.style:!1);let t=!0;return su.style&&!qZ(e)&&(t=e in su.style,!t&&RN&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in su.style)),t}function WZ(){return typeof document<"u"?document.body:null}function Jx(e,t){for(;t;){if(t===e)return!0;t=ey(t)}return!1}function Qx(e,t,n){if(n)return Array.from(e.querySelectorAll(t));let r=e.querySelector(t);return r?[r]:[]}var GZ=1e3,e3="{{",KZ="}}",t3="ng-enter",ty="ng-leave",Np="ng-trigger",Mp=".ng-trigger",n3="ng-animating",ny=".ng-animating";function Jo(e){if(typeof e=="number")return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Kx(parseFloat(t[1]),t[2])}function Kx(e,t){switch(t){case"s":return e*GZ;default:return e}}function Rp(e,t,n){return e.hasOwnProperty("duration")?e:YZ(e,t,n)}function YZ(e,t,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof e=="string"){let a=e.match(r);if(a===null)return t.push(MN(e)),{duration:0,delay:0,easing:""};i=Kx(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Kx(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=e;if(!n){let a=!1,l=t.length;i<0&&(t.push(jZ()),a=!0),s<0&&(t.push(BZ()),a=!0),a&&t.splice(l,0,MN(e))}return{duration:i,delay:s,easing:o}}function oM(e){return e.length?e[0]instanceof Map?e:e.map(t=>new Map(Object.entries(t))):[]}function go(e,t,n){t.forEach((r,i)=>{let s=ry(i);n&&!n.has(i)&&n.set(i,e.style[s]),e.style[s]=r})}function Yl(e,t){t.forEach((n,r)=>{let i=ry(r);e.style[i]=""})}function jd(e){return Array.isArray(e)?e.length==1?e[0]:NN(e):e}function aM(e,t,n){let r=t.params||{},i=r3(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(VZ(s))})}var Yx=new RegExp(`${e3}\\s*(.+?)\\s*${KZ}`,"g");function r3(e){let t=[];if(typeof e=="string"){let n;for(;n=Yx.exec(e);)t.push(n[1]);Yx.lastIndex=0}return t}function Bd(e,t,n){let r=`${e}`,i=r.replace(Yx,(s,o)=>{let a=t[o];return a==null&&(n.push(UZ(o)),a=""),a.toString()});return i==r?e:i}var ZZ=/-+([a-z0-9])/g;function ry(e){return e.replace(ZZ,(...t)=>t[1].toUpperCase())}function lM(e,t){return e===0||t===0}function cM(e,t,n){if(n.size&&t.length){let r=t[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<t.length;s++){let o=t[s];i.forEach(a=>o.set(a,iy(e,a)))}}return t}function ds(e,t,n){switch(t.type){case vn.Trigger:return e.visitTrigger(t,n);case vn.State:return e.visitState(t,n);case vn.Transition:return e.visitTransition(t,n);case vn.Sequence:return e.visitSequence(t,n);case vn.Group:return e.visitGroup(t,n);case vn.Animate:return e.visitAnimate(t,n);case vn.Keyframes:return e.visitKeyframes(t,n);case vn.Style:return e.visitStyle(t,n);case vn.Reference:return e.visitReference(t,n);case vn.AnimateChild:return e.visitAnimateChild(t,n);case vn.AnimateRef:return e.visitAnimateRef(t,n);case vn.Query:return e.visitQuery(t,n);case vn.Stagger:return e.visitStagger(t,n);default:throw zZ(t.type)}}function iy(e,t){return window.getComputedStyle(e)[t]}var _3=(()=>{class e{validateStyleProperty(n){return sM(n)}containsElement(n,r){return Jx(n,r)}getParentElement(n){return ey(n)}query(n,r,i){return Qx(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],l){return new Za(i,s)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})(),au=class{static NOOP=new _3},lu=class{};var XZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),cy=class extends lu{normalizePropertyName(t,n){return ry(t)}normalizeStyleValue(t,n,r,i){let s="",o=r.toString().trim();if(XZ.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(ON(t,r))}return o+s}};var uy="*";function JZ(e,t){let n=[];return typeof e=="string"?e.split(/\s*,\s*/).forEach(r=>QZ(r,n,t)):n.push(e),n}function QZ(e,t,n){if(e[0]==":"){let l=eX(e,n);if(typeof l=="function"){t.push(l);return}e=l}let r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(WN(e)),t;let i=r[1],s=r[2],o=r[3];t.push(uM(i,o));let a=i==uy&&o==uy;s[0]=="<"&&!a&&t.push(uM(o,i))}function eX(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return t.push(GN(e)),"* => *"}}var sy=new Set(["true","1"]),oy=new Set(["false","0"]);function uM(e,t){let n=sy.has(e)||oy.has(e),r=sy.has(t)||oy.has(t);return(i,s)=>{let o=e==uy||e==i,a=t==uy||t==s;return!o&&n&&typeof i=="boolean"&&(o=i?sy.has(e):oy.has(e)),!a&&r&&typeof s=="boolean"&&(a=s?sy.has(t):oy.has(t)),o&&a}}var _M=":self",tX=new RegExp(`s*${_M}s*,?`,"g");function wM(e,t,n,r){return new c3(e).build(t,n,r)}var dM="",c3=class{_driver;constructor(t){this._driver=t}build(t,n,r){let i=new u3(n);return this._resetContextStyleTimingState(i),ds(this,jd(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=dM,t.collectedStyles=new Map,t.collectedStyles.set(dM,new Map),t.currentTime=0}visitTrigger(t,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&n.errors.push(PN()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==vn.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==vn.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(LN())}),{type:vn.Trigger,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,n){let r=this.visitStyle(t.styles,n),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{r3(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(FN(t.name,[...s.values()]))}return{type:vn.State,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;let r=ds(this,jd(t.animation),n),i=JZ(t.expr,n.errors);return{type:vn.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:ou(t.options)}}visitSequence(t,n){return{type:vn.Sequence,steps:t.steps.map(r=>ds(this,r,n)),options:ou(t.options)}}visitGroup(t,n){let r=n.currentTime,i=0,s=t.steps.map(o=>{n.currentTime=r;let a=ds(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:vn.Group,steps:s,options:ou(t.options)}}visitAnimate(t,n){let r=sX(t.timings,n.errors);n.currentAnimateTimings=r;let i,s=t.styles?t.styles:Wx({});if(s.type==vn.Keyframes)i=this.visitKeyframes(s,n);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=Wx(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:vn.Animate,timings:r,style:i,options:null}}visitStyle(t,n){let r=this._makeStyleAst(t,n);return this._validateStyleAst(r,n),r}_makeStyleAst(t,n){let r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===mo?r.push(a):n.errors.push(jN(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(e3)>=0){s=!0;break}}}),{type:vn.Style,styles:r,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(BN(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&aM(a,n.options,n.errors)})})}visitKeyframes(t,n){let r={type:vn.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(VN()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(v=>{let S=this._makeStyleAst(v,n),k=S.offset!=null?S.offset:iX(S.styles),M=0;return k!=null&&(s++,M=S.offset=k),l=l||M<0||M>1,a=a||M<c,c=M,o.push(M),S});l&&n.errors.push(UN()),a&&n.errors.push(zN());let d=t.steps.length,h=0;s>0&&s<d?n.errors.push(HN()):s==0&&(h=i/(d-1));let f=d-1,p=n.currentTime,g=n.currentAnimateTimings,y=g.duration;return u.forEach((v,S)=>{let k=h>0?S==f?1:h*S:o[S],M=k*y;n.currentTime=p+g.delay+M,g.duration=M,this._validateStyleAst(v,n),v.offset=k,r.styles.push(v)}),r}visitReference(t,n){return{type:vn.Reference,animation:ds(this,jd(t.animation),n),options:ou(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:vn.AnimateChild,options:ou(t.options)}}visitAnimateRef(t,n){return{type:vn.AnimateRef,animation:this.visitReference(t.animation,n),options:ou(t.options)}}visitQuery(t,n){let r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;let[s,o]=nX(t.selector);n.currentQuerySelector=r.length?r+" "+s:s,us(n.collectedStyles,n.currentQuerySelector,new Map);let a=ds(this,jd(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:vn.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:ou(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push($N());let r=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Rp(t.timings,n.errors,!0);return{type:vn.Stagger,animation:ds(this,jd(t.animation),n),timings:r,options:null}}};function nX(e){let t=!!e.split(/\s*,\s*/).find(n=>n==_M);return t&&(e=e.replace(tX,"")),e=e.replace(/@\*/g,Mp).replace(/@\w+/g,n=>Mp+"-"+n.slice(1)).replace(/:animating/g,ny),[e,t]}function rX(e){return e?at({},e):null}var u3=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function iX(e){if(typeof e=="string")return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}function sX(e,t){if(e.hasOwnProperty("duration"))return e;if(typeof e=="number"){let s=Rp(e,t).duration;return i3(s,0,"")}let n=e;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=i3(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=Rp(n,t);return i3(i.duration,i.delay,i.easing)}function ou(e){return e?(e=at({},e),e.params&&(e.params=rX(e.params))):e={},e}function i3(e,t,n){return{duration:e,delay:t,easing:n}}function w3(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Pp=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,n){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}},oX=1,aX=":enter",lX=new RegExp(aX,"g"),cX=":leave",uX=new RegExp(cX,"g");function xM(e,t,n,r,i,s=new Map,o=new Map,a,l,c=[]){return new d3().buildKeyframes(e,t,n,r,i,s,o,a,l,c)}var d3=class{buildKeyframes(t,n,r,i,s,o,a,l,c,u=[]){c=c||new Pp;let d=new f3(t,n,c,i,s,u,[]);d.options=l;let h=l.delay?Jo(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),ds(this,r,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){let y=f[g];if(y.element===n){p=y;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[w3(n,[],[],[],0,h,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(t.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=t}visitAnimateRef(t,n){let r=n.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,r),this.visitReference(t.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,r){for(let i of t){let s=i?.delay;if(s){let o=typeof s=="number"?s:Jo(Bd(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(t,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?Jo(r.duration):null,a=r.delay!=null?Jo(r.delay):null;return o!==0&&t.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),ds(this,t.animation,n),n.previousNode=t}visitSequence(t,n){let r=n.subContextCount,i=n,s=t.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==vn.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=dy);let o=Jo(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>ds(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){let r=[],i=n.currentTimeline.currentTime,s=t.options&&t.options.delay?Jo(t.options.delay):0;t.steps.forEach(o=>{let a=n.createSubContext(t.options);s&&a.delayNextStep(s),ds(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){let r=t.strValue,i=n.params?Bd(r,n.params,n.errors):r;return Rp(i,n.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){let r=n.currentAnimateTimings=this._visitTiming(t.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=t.style;s.type==vn.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=t}visitQuery(t,n){let r=n.currentTimeline.currentTime,i=t.options||{},s=i.delay?Jo(i.delay):0;s&&(n.previousNode.type===vn.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=dy);let o=r,a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(t.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),ds(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){let r=n.parentContext,i=n.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;ds(this,t.animation,n),n.previousNode=t,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},dy={},f3=class e{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=dy;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,n,r,i,s,o,a,l){this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new fy(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;let r=t,i=this.options;r.duration!=null&&(i.duration=Jo(r.duration)),r.delay!=null&&(i.delay=Jo(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Bd(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let n=this.options.params;if(n){let r=t.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return t}createSubContext(t=null,n,r){let i=n||this.element,s=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=dy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,r){let i={duration:n??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new h3(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,r,i,s,o){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(lX,"."+this._enterClassName),t=t.replace(uX,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,t,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(qN(n)),a}},fy=class e{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,n,r,i){this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=oX,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||mo),this._currentKeyframe.set(n,mo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=dX(t,this._globalTimelineStyles);for(let[a,l]of o){let c=Bd(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??mo),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Dp?t.add(d):u===mo&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...t.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return w3(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},h3=class extends fy{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,n,r,i,s,o,a=!1){super(t,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",fM(a)),s.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let h=new Map(t[d]),f=h.get("offset"),p=n+f*r;h.set("offset",fM(p/o)),s.push(h)}r=o,n=0,i="",t=s}return w3(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function fM(e,t=3){let n=Math.pow(10,t-1);return Math.round(e*n)/n}function dX(e,t){let n=new Map,r;return e.forEach(i=>{if(i==="*"){r??=t.keys();for(let s of r)n.set(s,mo)}else for(let[s,o]of i)n.set(s,o)}),n}function hM(e,t,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var s3={},hy=class{_triggerName;ast;_stateStyles;constructor(t,n,r){this._triggerName=t,this.ast=n,this._stateStyles=r}match(t,n,r,i){return fX(this.ast.matchers,t,n,r,i)}buildStyles(t,n,r){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(n,r):new Map}build(t,n,r,i,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||s3,f=a&&a.params||s3,p=this.buildStyles(r,f,d),g=l&&l.params||s3,y=this.buildStyles(i,g,d),v=new Set,S=new Map,k=new Map,M=i==="void",z={params:EM(g,h),delay:this.ast.options?.delay},F=u?[]:xM(t,n,this.ast.animation,s,o,p,y,z,c,d),j=0;return F.forEach(B=>{j=Math.max(B.duration+B.delay,j)}),d.length?hM(n,this._triggerName,r,i,M,p,y,[],[],S,k,j,d):(F.forEach(B=>{let U=B.element,V=us(S,U,new Set);B.preStyleProps.forEach(C=>V.add(C));let E=us(k,U,new Set);B.postStyleProps.forEach(C=>E.add(C)),U!==n&&v.add(U)}),hM(n,this._triggerName,r,i,M,p,y,F,[...v.values()],S,k,j))}};function fX(e,t,n,r,i){return e.some(s=>s(t,n,r,i))}function EM(e,t){let n=at({},t);return Object.entries(e).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var p3=class{styles;defaultParams;normalizer;constructor(t,n,r){this.styles=t,this.defaultParams=n,this.normalizer=r}buildStyles(t,n){let r=new Map,i=EM(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Bd(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function hX(e,t,n){return new m3(e,t,n)}var m3=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,n,r){this.name=t,this.ast=n,this._normalizer=r,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new p3(i.style,s,r))}),pM(this.states,"true","1"),pM(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new hy(t,i,this.states))}),this.fallbackTransition=pX(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,r,i){return this.transitionFactories.find(o=>o.match(t,n,r,i))||null}matchStyles(t,n,r){return this.fallbackTransition.buildStyles(t,n,r)}};function pX(e,t,n){let r=[(o,a)=>!0],i={type:vn.Sequence,steps:[],options:null},s={type:vn.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new hy(e,s,t)}function pM(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}var mX=new Pp,g3=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r}register(t,n){let r=[],i=[],s=wM(this._driver,n,r,i);if(r.length)throw YN(r);this._animations.set(t,s)}_buildPlayer(t,n,r){let i=t.element,s=Zx(this._normalizer,t.keyframes,n,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,r={}){let i=[],s=this._animations.get(t),o,a=new Map;if(s?(o=xM(this._driver,n,s,t3,ty,new Map,new Map,r,mX,i),o.forEach(u=>{let d=us(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(ZN()),o=[]),i.length)throw XN(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,mo))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Xa(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(t){let n=this._playersById.get(t);if(!n)throw JN(t);return n}listen(t,n,r,i){let s=Q1(n,"","","");return J1(this._getPlayer(t),r,s,i),()=>{}}command(t,n,r,i){if(r=="register"){this.register(t,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(t,n,o);return}let s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},mM="ng-animate-queued",gX=".ng-animate-queued",o3="ng-animate-disabled",yX=".ng-animate-disabled",bX="ng-star-inserted",vX=".ng-star-inserted",_X=[],SM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yo="__ng_removed",Lp=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;let r=t&&t.hasOwnProperty("value"),i=r?t.value:t;if(this.value=EX(i),r){let s=t,{value:o}=s,a=yu(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let n=t.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Op="void",a3=new Lp(Op),y3=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,n,r){this.id=t,this.hostElement=n,this._engine=r,this._hostClassName="ng-tns-"+t,qs(n,this._hostClassName)}listen(t,n,r,i){if(!this._triggers.has(n))throw QN(r,n);if(r==null||r.length==0)throw eM(n);if(!SX(r))throw tM(r,n);let s=us(this._elementListeners,t,[]),o={name:n,phase:r,callback:i};s.push(o);let a=us(this._engine.statesByElement,t,new Map);return a.has(n)||(qs(t,Np),qs(t,Np+"-"+n),a.set(n,a3)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return this._triggers.has(t)?!1:(this._triggers.set(t,n),!0)}_getTrigger(t){let n=this._triggers.get(t);if(!n)throw nM(t);return n}trigger(t,n,r,i=!0){let s=this._getTrigger(n),o=new Fp(this.id,n,t),a=this._engine.statesByElement.get(t);a||(qs(t,Np),qs(t,Np+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n),c=new Lp(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=a3),!(c.value===Op)&&l.value===c.value){if(!TX(l.params,c.params)){let g=[],y=s.matchStyles(l.value,l.params,g),v=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Yl(t,y),go(t,v)})}return}let h=us(this._engine.playersByElement,t,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(qs(t,mM),o.onStart(()=>{Vd(t,mM)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);let y=this._engine.playersByElement.get(t);if(y){let v=y.indexOf(o);v>=0&&y.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let n=this._engine.playersByElement.get(t);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){let r=this._engine.driver.query(t,Mp,!0);r.forEach(i=>{if(i[yo])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,n,r,i){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,Op,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,o),r&&Xa(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||a3,u=new Lp(Op),d=new Fp(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,n){let r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,n);else{let s=t[yo];(!s||s===SM)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,n))}}insertNode(t,n){qs(t,this._hostClassName)}drainQueuedTransitions(t){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=Q1(s,r.triggerName,r.fromState.value,r.toState.value);l._data=t,J1(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},b3=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,n)=>{};_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,r){this.bodyNode=t,this.driver=n,this._normalizer=r}get queuedPlayers(){let t=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,n){let r=new y3(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(t)}else r.push(t);return i.set(n,t),t}register(t,n){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,n)),r}registerTrigger(t,n,r){let i=this._namespaceLookup[t];i&&i.register(n,r)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let n=new Set,r=this.statesByElement.get(t);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(t,n,r,i){if(ay(n)){let s=this._fetchNamespace(t);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(t,n,r,i){if(!ay(n))return;let s=n[yo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),qs(t,o3)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Vd(t,o3))}removeNode(t,n,r){if(ay(n)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,r,i,s){this.collectedLeaveElements.push(n),n[yo]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,r,i,s){return ay(n)?this._fetchNamespace(t).listen(n,r,i,s):()=>{}}_buildInstruction(t,n,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,Mp,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(t,ny,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){let n=this.playersByElement.get(t);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){let n=this.playersByQueriedElement.get(t);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xa(this.players).onDone(()=>t());t()})}processLeaveNode(t){let n=t[yo];if(n&&n.setForRemoval){if(t[yo]=SM,n.namespaceId){this.destroyInnerAnimations(t);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(o3)&&this.markElementAsDisabled(t,!1),this.driver.query(t,yX,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];qs(i,bX)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Xa(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw rM(t)}_flushAnimations(t,n){let r=new Pp,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(w=>{u.add(w);let _=this.driver.query(w,gX,!0);for(let x=0;x<_.length;x++)u.add(_[x])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=bM(h,this.collectedEnterElements),p=new Map,g=0;f.forEach((w,_)=>{let x=t3+g++;p.set(_,x),w.forEach(I=>qs(I,x))});let y=[],v=new Set,S=new Set;for(let w=0;w<this.collectedLeaveElements.length;w++){let _=this.collectedLeaveElements[w],x=_[yo];x&&x.setForRemoval&&(y.push(_),v.add(_),x.hasAnimation?this.driver.query(_,vX,!0).forEach(I=>v.add(I)):S.add(_))}let k=new Map,M=bM(h,Array.from(v));M.forEach((w,_)=>{let x=ty+g++;k.set(_,x),w.forEach(I=>qs(I,x))}),t.push(()=>{f.forEach((w,_)=>{let x=p.get(_);w.forEach(I=>Vd(I,x))}),M.forEach((w,_)=>{let x=k.get(_);w.forEach(I=>Vd(I,x))}),y.forEach(w=>{this.processLeaveNode(w)})});let z=[],F=[];for(let w=this._namespaceList.length-1;w>=0;w--)this._namespaceList[w].drainQueuedTransitions(n).forEach(x=>{let I=x.player,O=x.element;if(z.push(I),this.collectedEnterElements.length){let T=O[yo];if(T&&T.setForMove){if(T.previousTriggersValues&&T.previousTriggersValues.has(x.triggerName)){let H=T.previousTriggersValues.get(x.triggerName),Z=this.statesByElement.get(x.element);if(Z&&Z.has(x.triggerName)){let Q=Z.get(x.triggerName);Q.value=H,Z.set(x.triggerName,Q)}}I.destroy();return}}let $=!d||!this.driver.containsElement(d,O),P=k.get(O),G=p.get(O),D=this._buildInstruction(x,r,G,P,$);if(D.errors&&D.errors.length){F.push(D);return}if($){I.onStart(()=>Yl(O,D.fromStyles)),I.onDestroy(()=>go(O,D.toStyles)),i.push(I);return}if(x.isFallbackTransition){I.onStart(()=>Yl(O,D.fromStyles)),I.onDestroy(()=>go(O,D.toStyles)),i.push(I);return}let W=[];D.timelines.forEach(T=>{T.stretchStartingKeyframe=!0,this.disabledNodes.has(T.element)||W.push(T)}),D.timelines=W,r.append(O,D.timelines);let A={instruction:D,player:I,element:O};o.push(A),D.queriedElements.forEach(T=>us(a,T,[]).push(I)),D.preStyleProps.forEach((T,H)=>{if(T.size){let Z=l.get(H);Z||l.set(H,Z=new Set),T.forEach((Q,J)=>Z.add(J))}}),D.postStyleProps.forEach((T,H)=>{let Z=c.get(H);Z||c.set(H,Z=new Set),T.forEach((Q,J)=>Z.add(J))})});if(F.length){let w=[];F.forEach(_=>{w.push(iM(_.triggerName,_.errors))}),z.forEach(_=>_.destroy()),this.reportError(w)}let j=new Map,B=new Map;o.forEach(w=>{let _=w.element;r.has(_)&&(B.set(_,_),this._beforeAnimationBuild(w.player.namespaceId,w.instruction,j))}),i.forEach(w=>{let _=w.element;this._getPreviousPlayers(_,!1,w.namespaceId,w.triggerName,null).forEach(I=>{us(j,_,[]).push(I),I.destroy()})});let U=y.filter(w=>vM(w,l,c)),V=new Map;yM(V,this.driver,S,c,mo).forEach(w=>{vM(w,l,c)&&U.push(w)});let C=new Map;f.forEach((w,_)=>{yM(C,this.driver,new Set(w),l,Dp)}),U.forEach(w=>{let _=V.get(w),x=C.get(w);V.set(w,new Map([..._?.entries()??[],...x?.entries()??[]]))});let R=[],m=[],b={};o.forEach(w=>{let{element:_,player:x,instruction:I}=w;if(r.has(_)){if(u.has(_)){x.onDestroy(()=>go(_,I.toStyles)),x.disabled=!0,x.overrideTotalTime(I.totalTime),i.push(x);return}let O=b;if(B.size>1){let P=_,G=[];for(;P=P.parentNode;){let D=B.get(P);if(D){O=D;break}G.push(P)}G.forEach(D=>B.set(D,O))}let $=this._buildAnimation(x.namespaceId,I,j,s,C,V);if(x.setRealPlayer($),O===b)R.push(x);else{let P=this.playersByElement.get(O);P&&P.length&&(x.parentPlayer=Xa(P)),i.push(x)}}else Yl(_,I.fromStyles),x.onDestroy(()=>go(_,I.toStyles)),m.push(x),u.has(_)&&i.push(x)}),m.forEach(w=>{let _=s.get(w.element);if(_&&_.length){let x=Xa(_);w.setRealPlayer(x)}}),i.forEach(w=>{w.parentPlayer?w.syncPlayerEvents(w.parentPlayer):w.destroy()});for(let w=0;w<y.length;w++){let _=y[w],x=_[yo];if(Vd(_,ty),x&&x.hasAnimation)continue;let I=[];if(a.size){let $=a.get(_);$&&$.length&&I.push(...$);let P=this.driver.query(_,ny,!0);for(let G=0;G<P.length;G++){let D=a.get(P[G]);D&&D.length&&I.push(...D)}}let O=I.filter($=>!$.destroyed);O.length?CX(this,_,O):this.processLeaveNode(_)}return y.length=0,R.forEach(w=>{this.players.push(w),w.onDone(()=>{w.destroy();let _=this.players.indexOf(w);this.players.splice(_,1)}),w.play()}),R}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==Op;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(t,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==s,d=us(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Yl(s,n.fromStyles)}_buildAnimation(t,n,r,i,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(p=>{let g=p.element;u.add(g);let y=g[yo];if(y&&y.removedBeforeQueried)return new Za(p.duration,p.delay);let v=g!==l,S=IX((r.get(g)||_X).map(j=>j.getRealPlayer())).filter(j=>{let B=j;return B.element?B.element===g:!1}),k=s.get(g),M=o.get(g),z=Zx(this._normalizer,p.keyframes,k,M),F=this._buildPlayer(p,z,S);if(p.subTimeline&&i&&d.add(g),v){let j=new Fp(t,a,g);j.setRealPlayer(F),c.push(j)}return F});c.forEach(p=>{us(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>xX(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>qs(p,n3));let f=Xa(h);return f.onDestroy(()=>{u.forEach(p=>Vd(p,n3)),go(l,n.toStyles)}),d.forEach(p=>{us(i,p,[]).push(f)}),f}_buildPlayer(t,n,r){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,r):new Za(t.duration,t.delay)}},Fp=class{namespaceId;triggerName;element;_player=new Za;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,n,r){this.namespaceId=t,this.triggerName=n,this.element=r}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>J1(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){us(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let n=this._player;n.triggerCallback&&n.triggerCallback(t)}};function xX(e,t,n){let r=e.get(t);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&e.delete(t)}return r}function EX(e){return e??null}function ay(e){return e&&e.nodeType===1}function SX(e){return e=="start"||e=="done"}function gM(e,t){let n=e.style.display;return e.style.display=t??"none",n}function yM(e,t,n,r,i){let s=[];n.forEach(l=>s.push(gM(l)));let o=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=t.computeStyle(c,d,i);u.set(d,h),(!h||h.length==0)&&(c[yo]=wX,o.push(c))}),e.set(c,u)});let a=0;return n.forEach(l=>gM(l,s[a++])),o}function bM(e,t){let n=new Map;if(e.forEach(a=>n.set(a,[])),t.length==0)return n;let r=1,i=new Set(t),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function qs(e,t){e.classList?.add(t)}function Vd(e,t){e.classList?.remove(t)}function CX(e,t,n){Xa(n).onDone(()=>e.processLeaveNode(t))}function IX(e){let t=[];return CM(e,t),t}function CM(e,t){for(let n=0;n<e.length;n++){let r=e[n];r instanceof Fd?CM(r.players,t):t.push(r)}}function TX(e,t){let n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}function vM(e,t,n){let r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(s=>i.add(s)):t.set(e,r),n.delete(e),!0}var Ud=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,n)=>{};constructor(t,n,r){this._driver=n,this._normalizer=r,this._transitionEngine=new b3(t.body,n,r),this._timelineEngine=new g3(t.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,n,r,i,s){let o=t+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=wM(this._driver,s,l,c);if(l.length)throw KN(i,l);a=hX(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,r,i){this._transitionEngine.insertNode(t,n,r,i)}onRemove(t,n,r){this._transitionEngine.removeNode(t,n,r)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,r,i){if(r.charAt(0)=="@"){let[s,o]=Xx(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(t,n,r,i)}listen(t,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=Xx(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(t,n,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function AX(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=l3(t[0]),t.length>1&&(r=l3(t[t.length-1]))):t instanceof Map&&(n=l3(t)),n||r?new kX(e,n,r):null}var kX=(()=>{class e{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i;let s=e.initialStylesByElement.get(n);s||e.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&go(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(go(this._element,this._initialStyles),this._endStyles&&(go(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Yl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yl(this._element,this._endStyles),this._endStyles=null),go(this._element,this._initialStyles),this._state=3)}}return e})();function l3(e){let t=null;return e.forEach((n,r)=>{DX(r)&&(t=t||new Map,t.set(r,n))}),t}function DX(e){return e==="display"||e==="position"}var py=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,n,r,i){this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let n=[];return t.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(t,n,r){return t.animate(this._convertKeyframesToObject(n),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&t.set(i,this._finished?r:iy(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let n=t==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},my=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,n){return Jx(t,n)}getParentElement(t){return ey(t)}query(t,n,r){return Qx(t,n,r)}computeStyle(t,n,r){return iy(t,n)}animate(t,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof py);lM(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=oM(n).map(f=>new Map(f));d=cM(t,d,c);let h=AX(t,d);return new py(t,d,l,h)}};var ly="@",IM="@.disabled",gy=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,n,r,i){this.namespaceId=t,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,r,i=!0){this.delegate.insertBefore(t,n,r),this.engine.onInsert(this.namespaceId,n,t,i)}removeChild(t,n,r){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){n.charAt(0)==ly&&n==IM?this.disableAnimations(t,!!r):this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r,i){return this.delegate.listen(t,n,r,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}},v3=class extends gy{factory;constructor(t,n,r,i,s){super(n,r,i,s),this.factory=t,this.namespaceId=n}setProperty(t,n,r){n.charAt(0)==ly?n.charAt(1)=="."&&n==IM?(r=r===void 0?!0:!!r,this.disableAnimations(t,r)):this.engine.process(this.namespaceId,t,n.slice(1),r):this.delegate.setProperty(t,n,r)}listen(t,n,r,i){if(n.charAt(0)==ly){let s=NX(t),o=n.slice(1),a="";return o.charAt(0)!=ly&&([o,a]=MX(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,r,l)})}return this.delegate.listen(t,n,r,i)}};function NX(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}function MX(e){let t=e.indexOf("."),n=e.substring(0,t),r=e.slice(t+1);return[n,r]}var yy=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,n,r){this.delegate=t,this.engine=n,this._zone=r,n.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(t,n){let r="",i=this.delegate.createRenderer(t,n);if(!t||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new gy(r,i,this.engine,d),c.set(i,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return n.data.animation.forEach(a),new v3(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,r){if(t>=0&&t<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var OX=(()=>{class e extends Ud{constructor(n,r,i){super(n,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||e)(cn(Si),cn(au),cn(lu))};static \u0275prov=yn({token:e,factory:e.\u0275fac})}return e})();function PX(){return new cy}function LX(e,t,n){return new yy(e,t,n)}var TM=[{provide:lu,useFactory:PX},{provide:Ud,useClass:OX},{provide:yl,useFactory:LX,deps:[th,Ud,Pr]}],Dfe=[{provide:au,useClass:_3},{provide:Zv,useValue:"NoopAnimations"},...TM],FX=[{provide:au,useFactory:()=>new my},{provide:Zv,useFactory:()=>"BrowserAnimations"},...TM];function AM(){return jf("NgEagerAnimations"),[...FX]}B2(DN,{providers:[z2(),AM()]}).catch(e=>console.error(e));
