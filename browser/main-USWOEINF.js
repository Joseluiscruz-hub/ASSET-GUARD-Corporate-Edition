import{a as Pr}from"./chunk-FK6H3RFT.js";import{a as Ne,b as qt,c as bg,d as M$,e as R$}from"./chunk-E6TGZIGP.js";var YH=M$((GH,ak)=>{(function(t){typeof GH=="object"&&typeof ak<"u"?ak.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).ExcelJS=t()})(function(){return(function t(e,n,r){function i(a,l){if(!n[a]){if(!e[a]){var u=typeof bg=="function"&&bg;if(!l&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(f){return i(e[a][1][f]||f)},d,d.exports,t,e,n,r)}return n[a].exports}for(var s=typeof bg=="function"&&bg,o=0;o<r.length;o++)i(r[o]);return i})({1:[function(t,e,n){"use strict";let r=t("fs"),i=t("fast-csv"),s=t("dayjs/plugin/customParseFormat"),o=t("dayjs/plugin/utc"),a=t("dayjs").extend(s).extend(o),l=t("../utils/stream-buf"),{fs:{exists:u}}=t("../utils/utils"),c={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};e.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,f){if(f=f||{},!await u(d))throw new Error("File not found: "+d);let h=r.createReadStream(d),p=await this.read(h,f);return h.close(),p}read(d,f){return f=f||{},new Promise((h,p)=>{let m=this.workbook.addWorksheet(f.sheetName),g=f.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],y=f.map||function(T){if(T==="")return null;let R=Number(T);if(!Number.isNaN(R)&&R!==1/0)return R;let $=g.reduce((U,j)=>{if(U)return U;let q=a(T,j,!0);return q.isValid()?q:null},null);if($)return new Date($.valueOf());let O=c[T];return O!==void 0?O:T},x=i.parse(f.parserOptions).on("data",T=>{m.addRow(T.map(y))}).on("end",()=>{x.emit("worksheet",m)});x.on("worksheet",h).on("error",p),d.pipe(x)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,f){return new Promise((h,p)=>{f=f||{};let m=this.workbook.getWorksheet(f.sheetName||f.sheetId),g=i.format(f.formatterOptions);d.on("finish",()=>{h()}),g.on("error",p),g.pipe(d);let{dateFormat:y,dateUTC:x}=f,T=f.map||(O=>{if(O){if(O.text||O.hyperlink)return O.hyperlink||O.text||"";if(O.formula||O.result)return O.result||"";if(O instanceof Date)return y?x?a.utc(O).format(y):a(O).format(y):x?a.utc(O).format():a(O).format();if(O.error)return O.error;if(typeof O=="object")return JSON.stringify(O)}return O}),R=f.includeEmptyRows===void 0||f.includeEmptyRows,$=1;m&&m.eachRow((O,U)=>{if(R)for(;$++<U-1;)g.write([]);let{values:j}=O;j.shift(),g.write(j.map(T)),$=U}),g.end()})}writeFile(d,f){let h={encoding:(f=f||{}).encoding||"utf8"},p=r.createWriteStream(d,h);return this.write(p,f)}async writeBuffer(d){let f=new l;return await this.write(f,d),f.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,e,n){"use strict";let r=t("../utils/col-cache");class i{constructor(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=o,a)if(typeof a=="string"){let u=r.decodeAddress(a);this.nativeCol=u.col+l,this.nativeColOff=0,this.nativeRow=u.row+l,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+l,this.row=a.row+l):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(o){return o instanceof i||o==null?o:new i(o)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(o){this.nativeCol=Math.floor(o),this.nativeColOff=Math.floor((o-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(o){this.nativeRow=Math.floor(o),this.nativeRowOff=Math.floor((o-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(o){this.nativeCol=o.nativeCol,this.nativeColOff=o.nativeColOff,this.nativeRow=o.nativeRow,this.nativeRowOff=o.nativeRowOff}}e.exports=i},{"../utils/col-cache":19}],3:[function(t,e,n){"use strict";let r=t("../utils/col-cache"),i=t("../utils/under-dash"),s=t("./enums"),{slideFormula:o}=t("../utils/shared-formula"),a=t("./note");class l{constructor(d,f,h){if(!d||!f)throw new Error("A Cell needs a Row");this._row=d,this._column=f,r.validateAddress(h),this._address=h,this._value=u.create(l.Types.Null,this),this.style=this._mergeStyle(d.style,f.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,f,h){let p=d&&d.numFmt||f&&f.numFmt;p&&(h.numFmt=p);let m=d&&d.font||f&&f.font;m&&(h.font=m);let g=d&&d.alignment||f&&f.alignment;g&&(h.alignment=g);let y=d&&d.border||f&&f.border;y&&(h.border=y);let x=d&&d.fill||f&&f.fill;x&&(h.fill=x);let T=d&&d.protection||f&&f.protection;return T&&(h.protection=T),h}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===l.Types.Merge}merge(d,f){this._value.release(),this._value=u.create(l.Types.Merge,this,d),f||(this.style=d.style)}unmerge(){this.type===l.Types.Merge&&(this._value.release(),this._value=u.create(l.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===l.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===l.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===l.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==l.Types.Merge?(this._value.release(),this._value=u.create(u.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new a(d)}get text(){return this._value.toString()}get html(){return i.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===l.Types.String&&(this._value=u.create(l.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){let{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){let{definedNames:f}=this.workbook;f.removeAllNames(this.fullAddress),d.forEach(h=>{f.addEx(this.fullAddress,h)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){let{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){this._value.release(),this._value=u.create(d.type,this),this._value.model=d,d.comment&&d.comment.type==="note"&&(this._comment=a.fromModel(d.comment)),d.style?this.style=d.style:this.style={}}}l.Types=s.ValueType;let u={getType:c=>c==null?l.Types.Null:c instanceof String||typeof c=="string"?l.Types.String:typeof c=="number"?l.Types.Number:typeof c=="boolean"?l.Types.Boolean:c instanceof Date?l.Types.Date:c.text&&c.hyperlink?l.Types.Hyperlink:c.formula||c.sharedFormula?l.Types.Formula:c.richText?l.Types.RichText:c.sharedString?l.Types.SharedString:c.error?l.Types.Error:l.Types.JSON,types:[{t:l.Types.Null,f:class{constructor(c){this.model={address:c.address,type:l.Types.Null}}get value(){return null}set value(c){}get type(){return l.Types.Null}get effectiveType(){return l.Types.Null}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return""}release(){}toString(){return""}}},{t:l.Types.Number,f:class{constructor(c,d){this.model={address:c.address,type:l.Types.Number,value:d}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Number}get effectiveType(){return l.Types.Number}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.String,f:class{constructor(c,d){this.model={address:c.address,type:l.Types.String,value:d}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:l.Types.Date,f:class{constructor(c,d){this.model={address:c.address,type:l.Types.Date,value:d}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Date}get effectiveType(){return l.Types.Date}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Hyperlink,f:class{constructor(c,d){this.model={address:c.address,type:l.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){let c={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(c.tooltip=this.model.tooltip),c}set value(c){this.model={text:c.text,hyperlink:c.hyperlink},c.tooltip&&(this.model.tooltip=c.tooltip)}get text(){return this.model.text}set text(c){this.model.text=c}get hyperlink(){return this.model.hyperlink}set hyperlink(c){this.model.hyperlink=c}get type(){return l.Types.Hyperlink}get effectiveType(){return l.Types.Hyperlink}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:l.Types.Formula,f:class{constructor(c,d){this.cell=c,this.model={address:c.address,type:l.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(c){let d={},f=h=>{let p=c[h];p&&(d[h]=p)};return f("formula"),f("result"),f("ref"),f("shareType"),f("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(c){this.model=this._copyModel(c)}validate(c){switch(u.getType(c)){case l.Types.Null:case l.Types.String:case l.Types.Number:case l.Types.Date:break;case l.Types.Hyperlink:case l.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(c){this.model.formula=c}get formulaType(){return this.model.formula?s.FormulaType.Master:this.model.sharedFormula?s.FormulaType.Shared:s.FormulaType.None}get result(){return this.model.result}set result(c){this.model.result=c}get type(){return l.Types.Formula}get effectiveType(){let c=this.model.result;return c==null?s.ValueType.Null:c instanceof String||typeof c=="string"?s.ValueType.String:typeof c=="number"?s.ValueType.Number:c instanceof Date?s.ValueType.Date:c.text&&c.hyperlink?s.ValueType.Hyperlink:c.formula?s.ValueType.Formula:s.ValueType.Null}get address(){return this.model.address}set address(c){this.model.address=c}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){let{worksheet:c}=this.cell,d=c.findCell(this.model.sharedFormula);this._translatedFormula=d&&o(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:l.Types.Merge,f:class{constructor(c,d){this.model={address:c.address,type:l.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(c){c instanceof l?(this._master&&this._master.releaseMergeRef(),c.addMergeRef(),this._master=c):this._master.value=c}isMergedTo(c){return c===this._master}get master(){return this._master}get type(){return l.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:l.Types.JSON,f:class{constructor(c,d){this.model={address:c.address,type:l.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(c){this.model.rawValue=c,this.model.value=JSON.stringify(c)}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:l.Types.SharedString,f:class{constructor(c,d){this.model={address:c.address,type:l.Types.SharedString,value:d}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.SharedString}get effectiveType(){return l.Types.SharedString}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.RichText,f:class{constructor(c,d){this.model={address:c.address,type:l.Types.String,value:d}}get value(){return this.model.value}set value(c){this.model.value=c}toString(){return this.model.value.richText.map(c=>c.text).join("")}get type(){return l.Types.RichText}get effectiveType(){return l.Types.RichText}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:l.Types.Boolean,f:class{constructor(c,d){this.model={address:c.address,type:l.Types.Boolean,value:d}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Boolean}get effectiveType(){return l.Types.Boolean}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Error,f:class{constructor(c,d){this.model={address:c.address,type:l.Types.Error,value:d}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Error}get effectiveType(){return l.Types.Error}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((c,d)=>(c[d.t]=d.f,c),[]),create(c,d,f){let h=this.types[c];if(!h)throw new Error("Could not create Value of type "+c);return new h(d,f)}};e.exports=l},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("./enums"),s=t("../utils/col-cache");class o{constructor(l,u,c){this._worksheet=l,this._number=u,c!==!1&&(this.defn=c)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return s.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(l){l?(this.key=l.key,this.width=l.width!==void 0?l.width:9,this.outlineLevel=l.outlineLevel,l.style?this.style=l.style:this.style={},this.header=l.header,this._hidden=!!l.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(l){l!==void 0?(this._header=l,this.headers.forEach((u,c)=>{this._worksheet.getCell(c+1,this.number).value=u})):this._header=void 0}get key(){return this._key}set key(l){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=l,l&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(l){return this.width===l.width&&this.hidden===l.hidden&&this.outlineLevel===l.outlineLevel&&r.isEqual(this.style,l.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;let l=this.style;return!l||!(l.font||l.numFmt||l.alignment||l.border||l.fill||l.protection)}get headerCount(){return this.headers.length}eachCell(l,u){let c=this.number;u||(u=l,l=null),this._worksheet.eachRow(l,(d,f)=>{u(d.getCell(c),f)})}get values(){let l=[];return this.eachCell((u,c)=>{u&&u.type!==i.ValueType.Null&&(l[c]=u.value)}),l}set values(l){if(!l)return;let u=this.number,c=0;l.hasOwnProperty("0")&&(c=1),l.forEach((d,f)=>{this._worksheet.getCell(f+c,u).value=d})}_applyStyle(l,u){return this.style[l]=u,this.eachCell(c=>{c[l]=u}),u}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}static toModel(l){let u=[],c=null;return l&&l.forEach((d,f)=>{d.isDefault?c&&(c=null):c&&d.equivalentTo(c)?c.max=f+1:(c={min:f+1,max:f+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},u.push(c))}),u.length?u:void 0}static fromModel(l,u){let c=[],d=1,f=0;for(u=(u=u||[]).sort(function(h,p){return h.min-p.min});f<u.length;){let h=u[f++];for(;d<h.min;)c.push(new o(l,d++));for(;d<=h.max;)c.push(new o(l,d++,h))}return c.length?c:null}}e.exports=o},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,e,n){"use strict";e.exports=class{constructor(r){this.model=r||{}}add(r,i){return this.model[r]=i}find(r){return this.model[r]}remove(r){this.model[r]=void 0}}},{}],6:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("../utils/col-cache"),s=t("../utils/cell-matrix"),o=t("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;e.exports=class{constructor(){this.matrixMap={}}getMatrix(l){return this.matrixMap[l]||(this.matrixMap[l]=new s)}add(l,u){let c=i.decodeEx(l);this.addEx(c,u)}addEx(l,u){let c=this.getMatrix(u);if(l.top)for(let d=l.left;d<=l.right;d++)for(let f=l.top;f<=l.bottom;f++){let h={sheetName:l.sheetName,address:i.n2l(d)+f,row:f,col:d};c.addCellEx(h)}else c.addCellEx(l)}remove(l,u){let c=i.decodeEx(l);this.removeEx(c,u)}removeEx(l,u){this.getMatrix(u).removeCellEx(l)}removeAllNames(l){r.each(this.matrixMap,u=>{u.removeCellEx(l)})}forEach(l){r.each(this.matrixMap,(u,c)=>{u.forEach(d=>{l(c,d)})})}getNames(l){return this.getNamesEx(i.decodeEx(l))}getNamesEx(l){return r.map(this.matrixMap,(u,c)=>u.findCellEx(l)&&c).filter(Boolean)}_explore(l,u){u.mark=!1;let{sheetName:c}=u,d=new o(u.row,u.col,u.row,u.col,c),f,h;function p(g,y){let x=l.findCellAt(c,g,u.col);return!(!x||!x.mark)&&(d[y]=g,x.mark=!1,!0)}for(h=u.row-1;p(h,"top");h--);for(h=u.row+1;p(h,"bottom");h++);function m(g,y){let x=[];for(h=d.top;h<=d.bottom;h++){let T=l.findCellAt(c,h,g);if(!T||!T.mark)return!1;x.push(T)}d[y]=g;for(let T=0;T<x.length;T++)x[T].mark=!1;return!0}for(f=u.col-1;m(f,"left");f--);for(f=u.col+1;m(f,"right");f++);return d}getRanges(l,u){return(u=u||this.matrixMap[l])?(u.forEach(c=>{c.mark=!0}),{name:l,ranges:u.map(c=>c.mark&&this._explore(u,c)).filter(Boolean).map(c=>c.$shortRange)}):{name:l,ranges:[]}}normaliseMatrix(l,u){l.forEachInSheet(u,(c,d,f)=>{c&&(c.row===d&&c.col===f||(c.row=d,c.col=f,c.address=i.n2l(f)+d))})}spliceRows(l,u,c,d){r.each(this.matrixMap,f=>{f.spliceRows(l,u,c,d),this.normaliseMatrix(f,l)})}spliceColumns(l,u,c,d){r.each(this.matrixMap,f=>{f.spliceColumns(l,u,c,d),this.normaliseMatrix(f,l)})}get model(){return r.map(this.matrixMap,(l,u)=>this.getRanges(u,l)).filter(l=>l.ranges.length)}set model(l){let u=this.matrixMap={};l.forEach(c=>{let d=u[c.name]=new s;c.ranges.forEach(f=>{a.test(f.split("!").pop()||"")&&d.addCell(f)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,e,n){"use strict";e.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,e,n){"use strict";let r=t("../utils/col-cache"),i=t("./anchor");e.exports=class{constructor(s,o){this.worksheet=s,this.model=o}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(s){let{type:o,imageId:a,range:l,hyperlinks:u}=s;if(this.type=o,this.imageId=a,o==="image")if(typeof l=="string"){let c=r.decode(l);this.range={tl:new i(this.worksheet,{col:c.left,row:c.top},-1),br:new i(this.worksheet,{col:c.right,row:c.bottom},0),editAs:"oneCell"}}else this.range={tl:new i(this.worksheet,l.tl,0),br:l.br&&new i(this.worksheet,l.br,0),ext:l.ext,editAs:l.editAs,hyperlinks:u||l.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,e,n){"use strict";let r=t("../utils/under-dash");class i{constructor(o){this.note=o}get model(){let o=null;return typeof this.note==="string"?o={type:"note",note:{texts:[{text:this.note}]}}:o={type:"note",note:this.note},r.deepMerge({},i.DEFAULT_CONFIGS,o)}set model(o){let{note:a}=o,{texts:l}=a;l.length===1&&Object.keys(l[0]).length===1?this.note=l[0].text:this.note=a}static fromModel(o){let a=new i;return a.model=o,a}}i.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},e.exports=i},{"../utils/under-dash":26}],10:[function(t,e,n){"use strict";let r=t("../utils/col-cache");class i{constructor(){this.decode(arguments)}setTLBR(o,a,l,u,c){if(arguments.length<4){let d=r.decodeAddress(o),f=r.decodeAddress(a);this.model={top:Math.min(d.row,f.row),left:Math.min(d.col,f.col),bottom:Math.max(d.row,f.row),right:Math.max(d.col,f.col),sheetName:l},this.setTLBR(d.row,d.col,f.row,f.col,c)}else this.model={top:Math.min(o,l),left:Math.min(a,u),bottom:Math.max(o,l),right:Math.max(a,u),sheetName:c}}decode(o){switch(o.length){case 5:this.setTLBR(o[0],o[1],o[2],o[3],o[4]);break;case 4:this.setTLBR(o[0],o[1],o[2],o[3]);break;case 3:this.setTLBR(o[0],o[1],o[2]);break;case 2:this.setTLBR(o[0],o[1]);break;case 1:{let a=o[0];if(a instanceof i)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{let l=r.decodeEx(a);l.top?this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName}:this.model={top:l.row,left:l.col,bottom:l.row,right:l.col,sheetName:l.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+o.length)}}get top(){return this.model.top||1}set top(o){this.model.top=o}get left(){return this.model.left||1}set left(o){this.model.left=o}get bottom(){return this.model.bottom||1}set bottom(o){this.model.bottom=o}get right(){return this.model.right||1}set right(o){this.model.right=o}get sheetName(){return this.model.sheetName}set sheetName(o){this.model.sheetName=o}get _serialisedSheetName(){let{sheetName:o}=this.model;return o?/^[a-zA-Z0-9]*$/.test(o)?o+"!":`'${o}'!`:""}expand(o,a,l,u){(!this.model.top||o<this.top)&&(this.top=o),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||l>this.bottom)&&(this.bottom=l),(!this.model.right||u>this.right)&&(this.right=u)}expandRow(o){if(o){let{dimensions:a,number:l}=o;a&&this.expand(l,a.min,l,a.max)}}expandToAddress(o){let a=r.decodeEx(o);this.expand(a.row,a.col,a.row,a.col)}get tl(){return r.n2l(this.left)+this.top}get $t$l(){return`$${r.n2l(this.left)}$${this.top}`}get br(){return r.n2l(this.right)+this.bottom}get $b$r(){return`$${r.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(o){return(!o.sheetName||!this.sheetName||o.sheetName===this.sheetName)&&!(o.bottom<this.top)&&!(o.top>this.bottom)&&!(o.right<this.left)&&!(o.left>this.right)}contains(o){let a=r.decodeEx(o);return this.containsEx(a)}containsEx(o){return(!o.sheetName||!this.sheetName||o.sheetName===this.sheetName)&&o.row>=this.top&&o.row<=this.bottom&&o.col>=this.left&&o.col<=this.right}forEachAddress(o){for(let a=this.left;a<=this.right;a++)for(let l=this.top;l<=this.bottom;l++)o(r.encodeAddress(l,a),l,a)}}e.exports=i},{"../utils/col-cache":19}],11:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("./enums"),s=t("../utils/col-cache"),o=t("./cell");e.exports=class{constructor(a,l){this._worksheet=a,this._number=l,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let l=this._cells[a.col-1];if(!l){let u=this._worksheet.getColumn(a.col);l=new o(this,u,a.address),this._cells[a.col-1]=l}return l}getCell(a){if(typeof a=="string"){let l=this._worksheet.getColumnKey(a);a=l?l.number:s.l2n(a)}return this._cells[a-1]||this.getCellEx({address:s.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,l){let u=a+l;for(var c=arguments.length,d=new Array(c>2?c-2:0),f=2;f<c;f++)d[f-2]=arguments[f];let h=d.length-l,p=this._cells.length,m,g,y;if(h<0)for(m=a+d.length;m<=p;m++)y=this._cells[m-1],g=this._cells[m-h-1],g?(y=this.getCell(m),y.value=g.value,y.style=g.style,y._comment=g._comment):y&&(y.value=null,y.style={},y._comment=void 0);else if(h>0)for(m=p;m>=u;m--)g=this._cells[m-1],g?(y=this.getCell(m+h),y.value=g.value,y.style=g.style,y._comment=g._comment):this._cells[m+h-1]=void 0;for(m=0;m<d.length;m++)y=this.getCell(a+m),y.value=d[m],y.style={},y._comment=void 0}eachCell(a,l){if(l||(l=a,a=null),a&&a.includeEmpty){let u=this._cells.length;for(let c=1;c<=u;c++)l(this.getCell(c),c)}else this._cells.forEach((u,c)=>{u&&u.type!==i.ValueType.Null&&l(u,c+1)})}addPageBreak(a,l){let u=this._worksheet,c=Math.max(0,a-1)||0,d=Math.max(0,l-1)||16838,f={id:this._number,max:d,man:1};c&&(f.min=c),u.rowBreaks.push(f)}get values(){let a=[];return this._cells.forEach(l=>{l&&l.type!==i.ValueType.Null&&(a[l.col]=l.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let l=0;a.hasOwnProperty("0")&&(l=1),a.forEach((u,c)=>{u!==void 0&&(this.getCellEx({address:s.encodeAddress(this._number,c+l),row:this._number,col:c+l}).value=u)})}else this._worksheet.eachColumnKey((l,u)=>{a[u]!==void 0&&(this.getCellEx({address:s.encodeAddress(this._number,l.number),row:this._number,col:l.number}).value=a[u])})}get hasValues(){return r.some(this._cells,a=>a&&a.type!==i.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,l=0;return this._cells.forEach(u=>{u&&u.type!==i.ValueType.Null&&((!a||a>u.col)&&(a=u.col),l<u.col&&(l=u.col))}),a>0?{min:a,max:l}:null}_applyStyle(a,l){return this.style[a]=l,this._cells.forEach(u=>{u&&(u[a]=l)}),l}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){let a=[],l=0,u=0;return this._cells.forEach(c=>{if(c){let d=c.model;d&&((!l||l>c.col)&&(l=c.col),u<c.col&&(u=c.col),a.push(d))}}),this.height||a.length?{cells:a,number:this.number,min:l,max:u,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let l;this._cells=[],a.cells.forEach(u=>{switch(u.type){case o.Types.Merge:break;default:{let c;if(u.address)c=s.decodeAddress(u.address);else if(l){let{row:d}=l,f=l.col+1;c={row:d,col:f,address:s.encodeAddress(d,f),$col$row:`$${s.n2l(f)}$${d}`}}l=c,this.getCellEx(c).model=u;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,e,n){"use strict";let r=t("../utils/col-cache");class i{constructor(o,a,l){this.table=o,this.column=a,this.index=l}_set(o,a){this.table.cacheState(),this.column[o]=a}get name(){return this.column.name}set name(o){this._set("name",o)}get filterButton(){return this.column.filterButton}set filterButton(o){this.column.filterButton=o}get style(){return this.column.style}set style(o){this.column.style=o}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(o){this._set("totalsRowLabel",o)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(o){this._set("totalsRowFunction",o)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(o){this._set("totalsRowResult",o)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(o){this._set("totalsRowFormula",o)}}e.exports=class{constructor(s,o){this.worksheet=s,o&&(this.table=o,this.validate(),this.store())}getFormula(s){switch(s.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${s.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${s.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${s.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${s.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${s.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${s.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${s.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${s.name}])`;case"custom":return s.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+s.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){let{table:s}=this,o=(h,p,m)=>{h[p]===void 0&&(h[p]=m)};o(s,"headerRow",!0),o(s,"totalsRow",!1),o(s,"style",{}),o(s.style,"theme","TableStyleMedium2"),o(s.style,"showFirstColumn",!1),o(s.style,"showLastColumn",!1),o(s.style,"showRowStripes",!1),o(s.style,"showColumnStripes",!1);let a=(h,p)=>{if(!h)throw new Error(p)};a(s.ref,"Table must have ref"),a(s.columns,"Table must have column definitions"),a(s.rows,"Table must have row definitions"),s.tl=r.decodeAddress(s.ref);let{row:l,col:u}=s.tl;a(l>0,"Table must be on valid row"),a(u>0,"Table must be on valid col");let{width:c,filterHeight:d,tableHeight:f}=this;s.autoFilterRef=r.encode(l,u,l+d-1,u+c-1),s.tableRef=r.encode(l,u,l+f-1,u+c-1),s.columns.forEach((h,p)=>{a(h.name,`Column ${p} must have a name`),p===0?o(h,"totalsRowLabel","Total"):(o(h,"totalsRowFunction","none"),h.totalsRowFormula=this.getFormula(h))})}store(){let s=(d,f)=>{f&&Object.keys(f).forEach(h=>{d[h]=f[h]})},{worksheet:o,table:a}=this,{row:l,col:u}=a.tl,c=0;if(a.headerRow){let d=o.getRow(l+c++);a.columns.forEach((f,h)=>{let{style:p,name:m}=f,g=d.getCell(u+h);g.value=m,s(g,p)})}if(a.rows.forEach(d=>{let f=o.getRow(l+c++);d.forEach((h,p)=>{let m=f.getCell(u+p);m.value=h,s(m,a.columns[p].style)})}),a.totalsRow){let d=o.getRow(l+c++);a.columns.forEach((f,h)=>{let p=d.getCell(u+h);if(h===0)p.value=f.totalsRowLabel;else{let m=this.getFormula(f);p.value=m?{formula:f.totalsRowFormula,result:f.totalsRowResult}:null}s(p,f.style)})}}load(s){let{table:o}=this,{row:a,col:l}=o.tl,u=0;if(o.headerRow){let c=s.getRow(a+u++);o.columns.forEach((d,f)=>{c.getCell(l+f).value=d.name})}if(o.rows.forEach(c=>{let d=s.getRow(a+u++);c.forEach((f,h)=>{d.getCell(l+h).value=f})}),o.totalsRow){let c=s.getRow(a+u++);o.columns.forEach((d,f)=>{let h=c.getCell(l+f);f===0?h.value=d.totalsRowLabel:this.getFormula(d)&&(h.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(s){this.table=s}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();let s=r.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let o=0;o<this._cache.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let l=0;l<this._cache.width;l++)a.getCell(s.col+l).value=null}else{for(let o=this.tableHeight;o<this._cache.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let l=0;l<this._cache.width;l++)a.getCell(s.col+l).value=null}for(let o=0;o<this.tableHeight;o++){let a=this.worksheet.getRow(s.row+o);for(let l=this.width;l<this._cache.width;l++)a.getCell(s.col+l).value=null}}this.store()}addRow(s,o){this.cacheState(),o===void 0?this.table.rows.push(s):this.table.rows.splice(o,0,s)}removeRows(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(s,o)}getColumn(s){let o=this.table.columns[s];return new i(this,o,s)}addColumn(s,o,a){this.cacheState(),a===void 0?(this.table.columns.push(s),this.table.rows.forEach((l,u)=>{l.push(o[u])})):(this.table.columns.splice(a,0,s),this.table.rows.forEach((l,u)=>{l.splice(a,0,o[u])}))}removeColumns(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(s,o),this.table.rows.forEach(a=>{a.splice(s,o)})}_assign(s,o,a){this.cacheState(),s[o]=a}get ref(){return this.table.ref}set ref(s){this._assign(this.table,"ref",s)}get name(){return this.table.name}set name(s){this.table.name=s}get displayName(){return this.table.displyName||this.table.name}set displayNamename(s){this.table.displayName=s}get headerRow(){return this.table.headerRow}set headerRow(s){this._assign(this.table,"headerRow",s)}get totalsRow(){return this.table.totalsRow}set totalsRow(s){this._assign(this.table,"totalsRow",s)}get theme(){return this.table.style.name}set theme(s){this.table.style.name=s}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(s){this.table.style.showFirstColumn=s}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(s){this.table.style.showLastColumn=s}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(s){this.table.style.showRowStripes=s}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(s){this.table.style.showColumnStripes=s}}},{"../utils/col-cache":19}],13:[function(t,e,n){"use strict";let r=t("./worksheet"),i=t("./defined-names"),s=t("../xlsx/xlsx"),o=t("../csv/csv");e.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new i}get xlsx(){return this._xlsx||(this._xlsx=new s(this)),this._xlsx}get csv(){return this._csv||(this._csv=new o(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,l){let u=this.nextId;l&&(typeof l=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),l={properties:{tabColor:{argb:l}}}):(l.argb||l.theme||l.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),l={properties:{tabColor:l}}));let c=this._worksheets.reduce((h,p)=>(p&&p.orderNo)>h?p.orderNo:h,0),d=Object.assign({},l,{id:u,name:a,orderNo:c+1,workbook:this}),f=new r(d);return this._worksheets[u]=f,f}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){let l=this.getWorksheet(a);l&&l.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(l=>l&&l.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,l)=>a.orderNo-l.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(l=>{a(l,l.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){let l=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),l}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(l=>{let{id:u,name:c,state:d}=l,f=a.sheets&&a.sheets.findIndex(h=>h.id===u);(this._worksheets[u]=new r({id:u,name:c,orderNo:f,state:d,workbook:this})).model=l}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,e,n){"use strict";let r=t("../utils/under-dash"),i=t("../utils/col-cache"),s=t("./range"),o=t("./row"),a=t("./column"),l=t("./enums"),u=t("./image"),c=t("./table"),d=t("./data-validations"),f=t("../utils/encryptor"),{copyStyle:h}=t("../utils/copy-style");e.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new d,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(m=>m&&m.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){let p=new s;return this._rows.forEach(m=>{if(m){let g=m.dimensions;g&&p.expand(m.number,g.min,m.number,g.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((y,x)=>{let T=(x.header?1:x.headers&&x.headers.length)||0;return Math.max(y,T)},0);let m=1,g=this._columns=[];p.forEach(y=>{let x=new a(this,m++,!1);g.push(x),x.defn=y})}getColumnKey(p){return this._keys[p]}setColumnKey(p,m){this._keys[p]=m}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){r.each(this._keys,p)}getColumn(p){if(typeof p=="string"){let m=this._keys[p];if(m)return m;p=i.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let m=this._columns.length+1;for(;m<=p;)this._columns.push(new a(this,m++))}return this._columns[p-1]}spliceColumns(p,m){let g=this._rows.length;for(var y=arguments.length,x=new Array(y>2?y-2:0),T=2;T<y;T++)x[T-2]=arguments[T];if(x.length>0)for(let U=0;U<g;U++){let j=[p,m];x.forEach(H=>{j.push(H[U]||null)});let q=this.getRow(U+1);q.splice.apply(q,j)}else this._rows.forEach(U=>{U&&U.splice(p,m)});let R=x.length-m,$=p+m,O=this._columns.length;if(R<0)for(let U=p+x.length;U<=O;U++)this.getColumn(U).defn=this.getColumn(U-R).defn;else if(R>0)for(let U=O;U>=$;U--)this.getColumn(U+R).defn=this.getColumn(U).defn;for(let U=p;U<p+x.length;U++)this.getColumn(U).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,m,x.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(m=>{p=Math.max(p,m.cellCount)}),p}get actualColumnCount(){let p=[],m=0;return this.eachRow(g=>{g.eachCell(y=>{let{col:x}=y;p[x]||(p[x]=!0,m++)})}),m}_commitRow(){}get _lastRowNumber(){let p=this._rows,m=p.length;for(;m>0&&p[m-1]===void 0;)m--;return m}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,m){return this._rows.slice(p-1,p-1+m)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let m=this._rows[p-1];return m||(m=this._rows[p-1]=new o(this,p)),m}getRows(p,m){if(m<1)return;let g=[];for(let y=p;y<p+m;y++)g.push(this.getRow(y));return g}addRow(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=this._nextRow,y=this.getRow(g);return y.values=p,this._setStyleOption(g,m[0]==="i"?m:"n"),y}addRows(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=[];return p.forEach(y=>{g.push(this.addRow(y,m))}),g}insertRow(p,m){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,m),this._setStyleOption(p,g),this.getRow(p)}insertRows(p,m){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...m),g!=="n")for(let y=0;y<m.length;y++)g[0]==="o"&&this.findRow(m.length+p+y)!==void 0?this._copyStyle(m.length+p+y,p+y,g[1]==="+"):g[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+y,g[1]==="+");return this.getRows(p,m.length)}_setStyleOption(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";m[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,m[1]==="+"):m[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,m[1]==="+")}_copyStyle(p,m){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],y=this.getRow(p),x=this.getRow(m);x.style=h(y.style),y.eachCell({includeEmpty:g},(T,R)=>{x.getCell(R).style=h(T.style)}),x.height=y.height}duplicateRow(p,m){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],y=this._rows[p-1],x=new Array(m).fill(y.values);this.spliceRows(p+1,g?0:m,...x);for(let T=0;T<m;T++){let R=this._rows[p+T];R.style=y.style,R.height=y.height,y.eachCell({includeEmpty:!0},($,O)=>{R.getCell(O).style=$.style})}}spliceRows(p,m){let g=p+m;for(var y=arguments.length,x=new Array(y>2?y-2:0),T=2;T<y;T++)x[T-2]=arguments[T];let R=x.length,$=R-m,O=this._rows.length,U,j;if($<0)for(p===O&&(this._rows[O-1]=void 0),U=g;U<=O;U++)if(j=this._rows[U-1],j){let q=this.getRow(U+$);q.values=j.values,q.style=j.style,q.height=j.height,j.eachCell({includeEmpty:!0},(H,E)=>{q.getCell(E).style=H.style}),this._rows[U-1]=void 0}else this._rows[U+$-1]=void 0;else if($>0)for(U=O;U>=g;U--)if(j=this._rows[U-1],j){let q=this.getRow(U+$);q.values=j.values,q.style=j.style,q.height=j.height,j.eachCell({includeEmpty:!0},(H,E)=>{if(q.getCell(E).style=H.style,H._value.constructor.name==="MergeValue"){let C=this.getRow(H._row._number+R).getCell(E),L=H._value._master,v=this.getRow(L._row._number+R).getCell(L._column._number);C.merge(v)}})}else this._rows[U+$-1]=void 0;for(U=0;U<R;U++){let q=this.getRow(p+U);q.style={},q.values=x[U]}this.workbook.definedNames.spliceRows(this.name,p,m,R)}eachRow(p,m){if(m||(m=p,p=void 0),p&&p.includeEmpty){let g=this._rows.length;for(let y=1;y<=g;y++)m(this.getRow(y),y)}else this._rows.forEach(g=>{g&&g.hasValues&&m(g,g.number)})}getSheetValues(){let p=[];return this._rows.forEach(m=>{m&&(p[m.number]=m.values)}),p}findCell(p,m){let g=i.getAddress(p,m),y=this._rows[g.row-1];return y?y.findCell(g.col):void 0}getCell(p,m){let g=i.getAddress(p,m);return this.getRow(g.row).getCellEx(g)}mergeCells(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];let y=new s(m);this._mergeCellsInternal(y)}mergeCellsWithoutStyle(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];let y=new s(m);this._mergeCellsInternal(y,!0)}_mergeCellsInternal(p,m){r.each(this._merges,y=>{if(y.intersects(p))throw new Error("Cannot merge already merged cells")});let g=this.getCell(p.top,p.left);for(let y=p.top;y<=p.bottom;y++)for(let x=p.left;x<=p.right;x++)(y>p.top||x>p.left)&&this.getCell(y,x).merge(g,m);this._merges[g.address]=p}_unMergeMaster(p){let m=this._merges[p.address];if(m){for(let g=m.top;g<=m.bottom;g++)for(let y=m.left;y<=m.right;y++)this.getCell(g,y).unmerge();delete this._merges[p.address]}}get hasMerges(){return r.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];let y=new s(m);for(let x=y.top;x<=y.bottom;x++)for(let T=y.left;T<=y.right;T++){let R=this.findCell(x,T);R&&(R.type===l.ValueType.Merge?this._unMergeMaster(R.master):this._merges[R.address]&&this._unMergeMaster(R))}}fillFormula(p,m,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared",x=i.decode(p),{top:T,left:R,bottom:$,right:O}=x,U=O-R+1,j=i.encodeAddress(T,R),q=y==="shared",H;H=typeof g=="function"?g:Array.isArray(g)?Array.isArray(g[0])?(C,L)=>g[C-T][L-R]:(C,L)=>g[(C-T)*U+(L-R)]:()=>{};let E=!0;for(let C=T;C<=$;C++)for(let L=R;L<=O;L++)E?(this.getCell(C,L).value={shareType:y,formula:m,ref:p,result:H(C,L)},E=!1):this.getCell(C,L).value=q?{sharedFormula:j,result:H(C,L)}:H(C,L)}addImage(p,m){let g={type:"image",imageId:p,range:m};this._media.push(new u(this,g))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){let m={type:"background",imageId:p};this._media.push(new u(this,m))}getBackgroundImageId(){let p=this._media.find(m=>m.type==="background");return p&&p.imageId}protect(p,m){return new Promise(g=>{this.sheetProtection={sheet:!0},m&&"spinCount"in m&&(m.spinCount=Number.isFinite(m.spinCount)?Math.round(Math.max(0,m.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=f.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=m&&"spinCount"in m?m.spinCount:1e5,this.sheetProtection.hashValue=f.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),m&&(this.sheetProtection=Object.assign(this.sheetProtection,m),!p&&"spinCount"in m&&delete this.sheetProtection.spinCount),g()})}unprotect(){this.sheetProtection=null}addTable(p){let m=new c(this,p);return this.tables[p.name]=m,m}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){let p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(y=>y.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(y=>y.model),conditionalFormattings:this.conditionalFormattings};p.cols=a.toModel(this.columns);let m=p.rows=[],g=p.dimensions=new s;return this._rows.forEach(y=>{let x=y&&y.model;x&&(g.expand(x.number,x.min,x.number,x.max),m.push(x))}),p.merges=[],r.each(this._merges,y=>{p.merges.push(y.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(m=>{let g=new o(this,m.number);this._rows[g.number-1]=g,g.model=m})}_parseMergeCells(p){r.each(p.mergeCells,m=>{this.mergeCellsWithoutStyle(m)})}set model(p){this.name=p.name,this._columns=a.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new d(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(m=>new u(this,m)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((m,g)=>{let y=new c;return y.model=g,m[g.name]=y,m},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,e,n){"use strict";t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");let r={Workbook:t("./doc/workbook")},i=t("./doc/enums");Object.keys(i).forEach(s=>{r[s]=i[s]}),e.exports=r},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,e,n){"use strict";let r=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");n.bufferToString=function(i){return typeof i=="string"?i:r?r.decode(i):i.toString()}},{}],17:[function(t,e,n){"use strict";let r=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:i}=t("buffer");n.stringToBuffer=function(s){return typeof s!="string"?s:r?i.from(r.encode(s).buffer):i.from(s)}},{buffer:220}],18:[function(t,e,n){"use strict";let r=t("./under-dash"),i=t("./col-cache");e.exports=class{constructor(s){this.template=s,this.sheets={}}addCell(s){this.addCellEx(i.decodeEx(s))}getCell(s){return this.findCellEx(i.decodeEx(s),!0)}findCell(s){return this.findCellEx(i.decodeEx(s),!1)}findCellAt(s,o,a){let l=this.sheets[s],u=l&&l[o];return u&&u[a]}addCellEx(s){if(s.top)for(let o=s.top;o<=s.bottom;o++)for(let a=s.left;a<=s.right;a++)this.getCellAt(s.sheetName,o,a);else this.findCellEx(s,!0)}getCellEx(s){return this.findCellEx(s,!0)}findCellEx(s,o){let a=this.findSheet(s,o),l=this.findSheetRow(a,s,o);return this.findRowCell(l,s,o)}getCellAt(s,o,a){let l=this.sheets[s]||(this.sheets[s]=[]),u=l[o]||(l[o]=[]);return u[a]||(u[a]={sheetName:s,address:i.n2l(a)+o,row:o,col:a})}removeCellEx(s){let o=this.findSheet(s);if(!o)return;let a=this.findSheetRow(o,s);a&&delete a[s.col]}forEachInSheet(s,o){let a=this.sheets[s];a&&a.forEach((l,u)=>{l&&l.forEach((c,d)=>{c&&o(c,u,d)})})}forEach(s){r.each(this.sheets,(o,a)=>{this.forEachInSheet(a,s)})}map(s){let o=[];return this.forEach(a=>{o.push(s(a))}),o}findSheet(s,o){let a=s.sheetName;return this.sheets[a]?this.sheets[a]:o?this.sheets[a]=[]:void 0}findSheetRow(s,o,a){let{row:l}=o;return s&&s[l]?s[l]:a?s[l]=[]:void 0}findRowCell(s,o,a){let{col:l}=o;return s&&s[l]?s[l]:a?s[l]=this.template?Object.assign(o,JSON.parse(JSON.stringify(this.template))):o:void 0}spliceRows(s,o,a,l){let u=this.sheets[s];if(u){let c=[];for(let d=0;d<l;d++)c.push([]);u.splice(o,a,...c)}}spliceColumns(s,o,a,l){let u=this.sheets[s];if(u){let c=[];for(let d=0;d<l;d++)c.push(null);r.each(u,d=>{d.splice(o,a,...c)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,e,n){"use strict";let r=/^[A-Z]+\d+$/,i={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:s=>s<=26?1:s<=676?2:3,_fill(s){let o,a,l,u,c,d=1;if(s>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&s>=1){for(;d<=26;)o=this._dictionary[d-1],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&s>=2){for(d=27;d<=702;)a=d-27,l=a%26,u=Math.floor(a/26),o=this._dictionary[u]+this._dictionary[l],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&s>=3){for(d=703;d<=16384;)a=d-703,l=a%26,u=Math.floor(a/26)%26,c=Math.floor(a/676),o=this._dictionary[c]+this._dictionary[u]+this._dictionary[l],this._n2l[d]=o,this._l2n[o]=d,d++;this._l2nFill=3}},l2n(s){if(this._l2n[s]||this._fill(s.length),!this._l2n[s])throw new Error("Out of bounds. Invalid column letter: "+s);return this._l2n[s]},n2l(s){if(s<1||s>16384)throw new Error(s+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[s]||this._fill(this._level(s)),this._n2l[s]},_hash:{},validateAddress(s){if(!r.test(s))throw new Error("Invalid Address: "+s);return!0},decodeAddress(s){let o=s.length<5&&this._hash[s];if(o)return o;let a=!1,l="",u=0,c=!1,d="",f=0;for(let p,m=0;m<s.length;m++)if(p=s.charCodeAt(m),!c&&p>=65&&p<=90)a=!0,l+=s[m],u=26*u+p-64;else if(p>=48&&p<=57)c=!0,d+=s[m],f=10*f+p-48;else if(c&&a&&p!==36)break;if(a){if(u>16384)throw new Error("Out of bounds. Invalid column letter: "+l)}else u=void 0;c||(f=void 0);let h={address:s=l+d,col:u,row:f,$col$row:`$${l}$${d}`};return u<=100&&f<=100&&(this._hash[s]=h,this._hash[h.$col$row]=h),h},getAddress(s,o){if(o){let a=this.n2l(o)+s;return this.decodeAddress(a)}return this.decodeAddress(s)},decode(s){let o=s.split(":");if(o.length===2){let a=this.decodeAddress(o[0]),l=this.decodeAddress(o[1]),u={top:Math.min(a.row,l.row),left:Math.min(a.col,l.col),bottom:Math.max(a.row,l.row),right:Math.max(a.col,l.col)};return u.tl=this.n2l(u.left)+u.top,u.br=this.n2l(u.right)+u.bottom,u.dimensions=`${u.tl}:${u.br}`,u}return this.decodeAddress(s)},decodeEx(s){let o=s.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=o[1]||o[2],l=o[3],u=l.split(":");if(u.length>1){let d=this.decodeAddress(u[0]),f=this.decodeAddress(u[1]),h=Math.min(d.row,f.row),p=Math.min(d.col,f.col),m=Math.max(d.row,f.row),g=Math.max(d.col,f.col);return d=this.n2l(p)+h,f=this.n2l(g)+m,{top:h,left:p,bottom:m,right:g,sheetName:a,tl:{address:d,col:p,row:h,$col$row:`$${this.n2l(p)}$${h}`,sheetName:a},br:{address:f,col:g,row:m,$col$row:`$${this.n2l(g)}$${m}`,sheetName:a},dimensions:`${d}:${f}`}}if(l.startsWith("#"))return a?{sheetName:a,error:l}:{error:l};let c=this.decodeAddress(l);return a?Ne({sheetName:a},c):c},encodeAddress:(s,o)=>i.n2l(o)+s,encode(){switch(arguments.length){case 2:return i.encodeAddress(arguments[0],arguments[1]);case 4:return`${i.encodeAddress(arguments[0],arguments[1])}:${i.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(s,o){let[a,l,,u,c]=s,[d,f]=o;return d>=a&&d<=u&&f>=l&&f<=c}};e.exports=i},{}],20:[function(t,e,n){"use strict";let r=(s,o)=>Ne(Ne({},s),o.reduce((a,l)=>(s[l]&&(a[l]=Ne({},s[l])),a),{})),i=function(s,o,a){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];s[a]&&(o[a]=r(s[a],l))};n.copyStyle=s=>{if(!s)return s;if(o=s,Object.keys(o).length===0)return{};var o;let a=Ne({},s);return i(s,a,"font",["color"]),i(s,a,"alignment"),i(s,a,"protection"),s.border&&(i(s,a,"border"),i(s.border,a.border,"top",["color"]),i(s.border,a.border,"left",["color"]),i(s.border,a.border,"bottom",["color"]),i(s.border,a.border,"right",["color"]),i(s.border,a.border,"diagonal",["color"])),s.fill&&(i(s,a,"fill",["fgColor","bgColor","center"]),s.fill.stops&&(a.fill.stops=s.fill.stops.map(l=>r(l,["color"])))),a}},{}],21:[function(t,e,n){(function(r){(function(){"use strict";let i=t("crypto"),s={hash(o){let a=i.createHash(o);for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return a.update(r.concat(u)),a.digest()},convertPasswordToHash(o,a,l,u){if(a=a.toLowerCase(),i.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);let c=r.from(o,"utf16le"),d=this.hash(a,r.from(l,"base64"),c);for(let f=0;f<u;f++){let h=r.alloc(4);h.writeUInt32LE(f,0),d=this.hash(a,d,h)}return d.toString("base64")},randomBytes:o=>i.randomBytes(o)};e.exports=s}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,e,n){"use strict";let{SaxesParser:r}=t("saxes"),{PassThrough:i}=t("readable-stream"),{bufferToString:s}=t("./browser-buffer-decode");e.exports=async function*(o){o.pipe&&!o[Symbol.asyncIterator]&&(o=o.pipe(new i));let a=new r,l;a.on("error",c=>{l=c});let u=[];a.on("opentag",c=>u.push({eventType:"opentag",value:c})),a.on("text",c=>u.push({eventType:"text",value:c})),a.on("closetag",c=>u.push({eventType:"closetag",value:c}));for await(let c of o){if(a.write(s(c)),l)throw l;yield u,u=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,e,n){"use strict";let r=t("./col-cache"),i=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,s=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;e.exports={slideFormula:function(o,a,l){let u=r.decode(a),c=r.decode(l);return o.replace(i,(d,f,h,p,m)=>{if(m)return d;let g=s.exec(p);if(g){let y=g[1],x=g[2].toUpperCase(),T=g[3],R=g[4];if(x.length>3||x.length===3&&x>"XFD")return d;let $=r.l2n(x),O=parseInt(R,10);return y||($+=c.col-u.col),T||(O+=c.row-u.row),(f||"")+(y||"")+r.n2l($)+(T||"")+O}return d})}}},{"./col-cache":19}],24:[function(t,e,n){(function(r,i){(function(){"use strict";let s=t("readable-stream"),o=t("./utils"),a=t("./string-buf");class l{constructor(p,m){this._data=p,this._encoding=m}get length(){return this.toBuffer().length}copy(p,m,g,y){return this.toBuffer().copy(p,m,g,y)}toBuffer(){return this._buffer||(this._buffer=i.from(this._data,this._encoding)),this._buffer}}class u{constructor(p){this._data=p}get length(){return this._data.length}copy(p,m,g,y){return this._data._buf.copy(p,m,g,y)}toBuffer(){return this._data.toBuffer()}}class c{constructor(p){this._data=p}get length(){return this._data.length}copy(p,m,g,y){this._data.copy(p,m,g,y)}toBuffer(){return this._data}}class d{constructor(p){this.size=p,this.buffer=i.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;let p=i.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let m;return p===0?null:p===void 0||p>=this.length?(m=this.toBuffer(),this.iRead=this.iWrite,m):(m=i.alloc(p),this.buffer.copy(m,0,this.iRead,p),this.iRead+=p,m)}write(p,m,g){let y=Math.min(g,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,m,m+y),this.iWrite+=y,y}}let f=function(h){h=h||{},this.bufSize=h.bufSize||1048576,this.buffers=[],this.batch=h.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};o.inherits(f,s.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return i.concat(this.buffers.map(h=>h.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){let p=this.buffers[this.buffers.length-1];if(!p.full)return p}let h=new d(this.bufSize);return this.buffers.push(h),h},async _pipe(h){await Promise.all(this.pipes.map(function(p){return new Promise(m=>{p.write(h.toBuffer(),()=>{m()})})}))},_writeToBuffers(h){let p=0,m=h.length;for(;p<m;)p+=this._getWritableBuffer().write(h,p,m-p)},async write(h,p,m){let g;if(p instanceof Function&&(m=p,p="utf8"),m=m||o.nop,h instanceof a)g=new u(h);else if(h instanceof i)g=new c(h);else{if(!(typeof h=="string"||h instanceof String||h instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");g=new l(h,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(g);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(g),r.nextTick(m)):(await this._pipe(g),m());else this.paused||this.emit("data",g.toBuffer()),this._writeToBuffers(g),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(h,p,m){let g=y=>{y?m(y):(this._flush(),this.pipes.forEach(x=>{x.end()}),this.emit("finish"))};h?this.write(h,p,g):g()},read(h){let p;if(h){for(p=[];h&&this.buffers.length&&!this.buffers[0].eod;){let m=this.buffers[0],g=m.read(h);h-=g.length,p.push(g),m.eod&&m.full&&this.buffers.shift()}return i.concat(p)}return p=this.buffers.map(m=>m.toBuffer()).filter(Boolean),this.buffers=[],i.concat(p)},setEncoding(h){this.encoding=h},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(h){this.pipes.push(h),!this.paused&&this.buffers.length&&this.end()},unpipe(h){this.pipes=this.pipes.filter(p=>p!==h)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),e.exports=f}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,e,n){(function(r){(function(){"use strict";e.exports=class{constructor(i){this._buf=r.alloc(i&&i.size||16384),this._encoding=i&&i.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=r.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(i){i=i||0,this._buffer=void 0,this._inPos=i}_grow(i){let s=2*this._buf.length;for(;s<i;)s*=2;let o=r.alloc(s);this._buf.copy(o,0),this._buf=o}addText(i){this._buffer=void 0;let s=this._inPos+this._buf.write(i,this._inPos,this._encoding);for(;s>=this._buf.length-4;)this._grow(this._inPos+i.length),s=this._inPos+this._buf.write(i,this._inPos,this._encoding);this._inPos=s}addStringBuf(i){i.length&&(this._buffer=void 0,this.length+i.length>this.capacity&&this._grow(this.length+i.length),i._buf.copy(this._buf,this._inPos,0,i.length),this._inPos+=i.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,e,n){"use strict";let{toString:r}=Object.prototype,i=/["&<>]/,s={each:function(o,a){o&&(Array.isArray(o)?o.forEach(a):Object.keys(o).forEach(l=>{a(o[l],l)}))},some:function(o,a){return!!o&&(Array.isArray(o)?o.some(a):Object.keys(o).some(l=>a(o[l],l)))},every:function(o,a){return!o||(Array.isArray(o)?o.every(a):Object.keys(o).every(l=>a(o[l],l)))},map:function(o,a){return o?Array.isArray(o)?o.map(a):Object.keys(o).map(l=>a(o[l],l)):[]},keyBy:(o,a)=>o.reduce((l,u)=>(l[u[a]]=u,l),{}),isEqual:function(o,a){let l=typeof o,u=typeof a,c=Array.isArray(o),d=Array.isArray(a),f;if(l!==u)return!1;switch(typeof o){case"object":if(c||d)return!(!c||!d)&&o.length===a.length&&o.every((h,p)=>{let m=a[p];return s.isEqual(h,m)});if(o===null||a===null)return o===a;if(f=Object.keys(o),Object.keys(a).length!==f.length)return!1;for(let h of f)if(!a.hasOwnProperty(h))return!1;return s.every(o,(h,p)=>{let m=a[p];return s.isEqual(h,m)});default:return o===a}},escapeHtml(o){let a=i.exec(o);if(!a)return o;let l="",u="",c=0,d=a.index;for(;d<o.length;d++){switch(o.charAt(d)){case'"':u="&quot;";break;case"&":u="&amp;";break;case"'":u="&apos;";break;case"<":u="&lt;";break;case">":u="&gt;";break;default:continue}c!==d&&(l+=o.substring(c,d)),c=d+1,l+=u}return c!==d?l+o.substring(c,d):l},strcmp:(o,a)=>o<a?-1:o>a?1:0,isUndefined:o=>r.call(o)==="[object Undefined]",isObject:o=>r.call(o)==="[object Object]",deepMerge(){let o=arguments[0]||{},{length:a}=arguments,l,u,c;function d(f,h){l=o[h],c=Array.isArray(f),s.isObject(f)||c?(c?(c=!1,u=l&&Array.isArray(l)?l:[]):u=l&&s.isObject(l)?l:{},o[h]=s.deepMerge(u,f)):s.isUndefined(f)||(o[h]=f)}for(let f=0;f<a;f++)s.each(arguments[f],d);return o}};e.exports=s},{}],27:[function(t,e,n){(function(r,i){(function(){"use strict";let s=t("fs"),o=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:l=>new Promise(u=>{r.setImmediate?i(()=>{u(l)}):setTimeout(()=>{u(l)},1)}),inherits:function(l,u,c,d){l.super_=u,d||(d=c,c=null),c&&Object.keys(c).forEach(h=>{Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(c,h))});let f={constructor:{value:l,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(h=>{f[h]=Object.getOwnPropertyDescriptor(d,h)}),l.prototype=Object.create(u.prototype,f)},dateToExcel:(l,u)=>25569+l.getTime()/864e5-(u?1462:0),excelToDate(l,u){let c=Math.round(24*(l-25569+(u?1462:0))*3600*1e3);return new Date(c)},parsePath(l){let u=l.lastIndexOf("/");return{path:l.substring(0,u),name:l.substring(u+1)}},getRelsPath(l){let u=a.parsePath(l);return`${u.path}/_rels/${u.name}.rels`},xmlEncode(l){let u=o.exec(l);if(!u)return l;let c="",d="",f=0,h=u.index;for(;h<l.length;h++){let p=l.charCodeAt(h);switch(p){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){d="";break}continue}f!==h&&(c+=l.substring(f,h)),f=h+1,d&&(c+=d)}return f!==h?c+l.substring(f,h):c},xmlDecode:l=>l.replace(/&([a-z]*);/g,u=>{switch(u){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return u}}),validInt(l){let u=parseInt(l,10);return Number.isNaN(u)?0:u},isDateFmt(l){return l?(l=(l=l.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:l=>new Promise(u=>{s.access(l,s.constants.F_OK,c=>{u(!c)})})},toIsoDateString:l=>l.toIsoString().subsstr(0,10),parseBoolean:l=>l===!0||l==="true"||l===1||l==="1"};e.exports=a}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,e,n){"use strict";let r=t("./under-dash"),i=t("./utils");function s(l,u,c){l.push(` ${u}="${i.xmlEncode(c.toString())}"`)}function o(l,u){if(u){let c=[];r.each(u,(d,f)=>{d!==void 0&&s(c,f,d)}),l.push(c.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(u){let c=this._xml;c.push("<?xml"),o(c,u),c.push(`?>
`)}openNode(u,c){let d=this.tos,f=this._xml;d&&this.open&&f.push(">"),this._stack.push(u),f.push("<"),f.push(u),o(f,c),this.leaf=!0,this.open=!0}addAttribute(u,c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c!==void 0&&s(this._xml,u,c)}addAttributes(u){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");o(this._xml,u)}writeText(u){let c=this._xml;this.open&&(c.push(">"),this.open=!1),this.leaf=!1,c.push(i.xmlEncode(u.toString()))}writeXml(u){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(u)}closeNode(){let u=this._stack.pop(),c=this._xml;this.leaf?c.push("/>"):(c.push("</"),c.push(u),c.push(">")),this.open=!1,this.leaf=!1}leafNode(u,c,d){this.openNode(u,c),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){let u=this._rollbacks.pop();this._xml.length>u.xml&&this._xml.splice(u.xml,this._xml.length-u.xml),this._stack.length>u.stack&&this._stack.splice(u.stack,this._stack.length-u.stack),this.leaf=u.leaf,this.open=u.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},e.exports=a},{"./under-dash":26,"./utils":27}],29:[function(t,e,n){(function(r){(function(){"use strict";let i=t("events"),s=t("jszip"),o=t("./stream-buf"),{stringToBuffer:a}=t("./browser-buffer-encode");class l extends i.EventEmitter{constructor(c){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},c),this.zip=new s,this.stream=new o}append(c,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,c,{base64:!0}):(r.browser&&typeof c=="string"&&(c=a(c)),this.zip.file(d.name,c))}async finalize(){let c=await this.zip.generateAsync(this.options);this.stream.end(c),this.emit("finish")}read(c){return this.stream.read(c)}setEncoding(c){return this.stream.setEncoding(c)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(c,d){return this.stream.pipe(c,d)}unpipe(c){return this.stream.unpipe(c)}unshift(c){return this.stream.unshift(c)}wrap(c){return this.stream.wrap(c)}}e.exports={ZipWriter:l}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,e,n){"use strict";e.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},28:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ja-jp":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":'yyyy"\uB144" mm"\uC6D4" dd"\uC77C"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65F6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uC2DC" mm"\uBD84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79D2"',"ko-kr":'h"\uC2DC" mm"\uBD84" ss"\uCD08"'},34:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},51:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},58:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,e,n){"use strict";e.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,e,n){"use strict";let r=t("../../utils/parse-sax"),i=t("../../utils/xml-stream");class s{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,l){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof s?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}async parse(a){for await(let l of a)for(let{eventType:u,value:c}of l)if(u==="opentag")this.parseOpen(c);else if(u==="text")this.parseText(c);else if(u==="closetag"&&!this.parseClose(c.name))return this.model;return this.model}async parseStream(a){return this.parse(r(a))}get xml(){return this.toXml(this.model)}toXml(a){let l=new i;return this.render(l,a),l.xml}static toAttribute(a,l){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(u)return l}else if(u||a!==l)return a.toString()}static toStringAttribute(a,l){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,l,u)}static toStringValue(a,l){return a===void 0?l:a}static toBoolAttribute(a,l){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(u)return l}else if(u||a!==l)return a?"1":"0"}static toBoolValue(a,l){return a===void 0?l:a==="1"}static toIntAttribute(a,l){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,l,u)}static toIntValue(a,l){return a===void 0?l:parseInt(a,10)}static toFloatAttribute(a,l){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return s.toAttribute(a,l,u)}static toFloatValue(a,l){return a===void 0?l:parseFloat(a)}}e.exports=s},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../../../utils/col-cache");function s(a){try{return i.decodeEx(a),!0}catch{return!1}}function o(a){let l=[],u=!1,c="";return a.split(",").forEach(d=>{if(!d)return;let f=(d.match(/'/g)||[]).length;if(!f)return void(u?c+=d+",":s(d)&&l.push(d));let h=f%2==0;!u&&h&&s(d)?l.push(d):u&&!h?(u=!1,s(c+d)&&l.push(c+d),c=""):(u=!0,c+=d+",")}),l}e.exports=class extends r{render(a,l){a.openNode("definedName",{name:l.name,localSheetId:l.localSheetId}),a.writeText(l.ranges.join(",")),a.closeNode()}parseOpen(a){return a.name==="definedName"?(this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0):!1}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:o(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,e,n){"use strict";let r=t("../../../utils/utils"),i=t("../base-xform");e.exports=class extends i{render(s,o){s.leafNode("sheet",{sheetId:o.id,name:o.name,state:o.state,"r:id":o.rId})}parseOpen(s){return s.name==="sheet"&&(this.model={name:r.xmlDecode(s.attributes.name),id:parseInt(s.attributes.sheetId,10),state:s.attributes.state,rId:s.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){i.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:s.fullCalcOnLoad?1:void 0})}parseOpen(i){return i.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){i.leafNode("workbookPr",{date1904:s.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(i){return i.name==="workbookPr"&&(this.model={date1904:i.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){let o={xWindow:s.x||0,yWindow:s.y||0,windowWidth:s.width||12e3,windowHeight:s.height||24e3,firstSheet:s.firstSheet,activeTab:s.activeTab};s.visibility&&s.visibility!=="visible"&&(o.visibility=s.visibility),i.leafNode("workbookView",o)}parseOpen(i){if(i.name==="workbookView"){let s=this.model={},o=function(l,u,c){let d=u!==void 0?s[l]=u:c;d!==void 0&&(s[l]=d)},a=function(l,u,c){let d=u!==void 0?s[l]=parseInt(u,10):c;d!==void 0&&(s[l]=d)};return a("x",i.attributes.xWindow,0),a("y",i.attributes.yWindow,0),a("width",i.attributes.windowWidth,25e3),a("height",i.attributes.windowHeight,1e4),o("visibility",i.attributes.visibility,"visible"),a("activeTab",i.attributes.activeTab,void 0),a("firstSheet",i.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../utils/col-cache"),s=t("../../../utils/xml-stream"),o=t("../base-xform"),a=t("../static-xform"),l=t("../list-xform"),u=t("./defined-name-xform"),c=t("./sheet-xform"),d=t("./workbook-view-xform"),f=t("./workbook-properties-xform"),h=t("./workbook-calc-properties-xform");class p extends o{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new f,bookViews:new l({tag:"bookViews",count:!1,childXform:new d}),sheets:new l({tag:"sheets",count:!1,childXform:new c}),definedNames:new l({tag:"definedNames",count:!1,childXform:new u}),calcPr:new h}}prepare(g){g.sheets=g.worksheets;let y=[],x=0;g.sheets.forEach(T=>{if(T.pageSetup&&T.pageSetup.printArea&&T.pageSetup.printArea.split("&&").forEach(R=>{let $=R.split(":"),O={name:"_xlnm.Print_Area",ranges:[`'${T.name}'!$${$[0]}:$${$[1]}`],localSheetId:x};y.push(O)}),T.pageSetup&&(T.pageSetup.printTitlesRow||T.pageSetup.printTitlesColumn)){let R=[];if(T.pageSetup.printTitlesColumn){let O=T.pageSetup.printTitlesColumn.split(":");R.push(`'${T.name}'!$${O[0]}:$${O[1]}`)}if(T.pageSetup.printTitlesRow){let O=T.pageSetup.printTitlesRow.split(":");R.push(`'${T.name}'!$${O[0]}:$${O[1]}`)}let $={name:"_xlnm.Print_Titles",ranges:R,localSheetId:x};y.push($)}x++}),y.length&&(g.definedNames=g.definedNames.concat(y)),(g.media||[]).forEach((T,R)=>{T.name=T.type+(R+1)})}render(g,y){g.openXml(s.StdDocAttributes),g.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(g),this.map.workbookPr.render(g,y.properties),this.map.bookViews.render(g,y.views),this.map.sheets.render(g,y.sheets),this.map.definedNames.render(g,y.definedNames),this.map.calcPr.render(g,y.calcProperties),g.closeNode()}parseOpen(g){return this.parser?(this.parser.parseOpen(g),!0):(g.name==="workbook"||(this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g)),!0)}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){return this.parser?(this.parser.parseClose(g)||(this.parser=void 0),!0):g==="workbook"?(this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1):!0}reconcile(g){let y=(g.workbookRels||[]).reduce((O,U)=>(O[U.Id]=U,O),{}),x=[],T,R=0;(g.sheets||[]).forEach(O=>{let U=y[O.rId];U&&(T=g.worksheetHash["xl/"+U.Target.replace(/^(\s|\/xl\/)+/,"")],T&&(T.name=O.name,T.id=O.id,T.state=O.state,x[R++]=T))});let $=[];r.each(g.definedNames,O=>{if(O.name==="_xlnm.Print_Area"){if(T=x[O.localSheetId],T){T.pageSetup||(T.pageSetup={});let U=i.decodeEx(O.ranges[0]);T.pageSetup.printArea=T.pageSetup.printArea?`${T.pageSetup.printArea}&&${U.dimensions}`:U.dimensions}}else if(O.name==="_xlnm.Print_Titles"){if(T=x[O.localSheetId],T){T.pageSetup||(T.pageSetup={});let U=O.ranges.join(","),j=/\$/g,q=/\$\d+:\$\d+/,H=U.match(q);if(H&&H.length){let L=H[0];T.pageSetup.printTitlesRow=L.replace(j,"")}let E=/\$[A-Z]+:\$[A-Z]+/,C=U.match(E);if(C&&C.length){let L=C[0];T.pageSetup.printTitlesColumn=L.replace(j,"")}}}else $.push(O)}),g.definedNames=$,g.media.forEach((O,U)=>{O.index=U})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},e.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,e,n){"use strict";let r=t("../strings/rich-text-xform"),i=t("../../../utils/utils"),s=t("../base-xform"),o=e.exports=function(a){this.model=a};i.inherits(o,s,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new r),this._richTextXform},render(a,l){l=l||this.model,a.openNode("comment",{ref:l.ref,authorId:0}),a.openNode("text"),l&&l.note&&l.note.texts&&l.note.texts.forEach(u=>{this.richTextXform.render(a,u)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model=Ne({type:"note",note:{texts:[]}},a.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../../../utils/utils"),s=t("../base-xform"),o=t("./comment-xform"),a=e.exports=function(){this.map={comment:new o}};i.inherits(a,s,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(l,u){u=u||this.model,l.openXml(r.StdDocAttributes),l.openNode("comments",a.COMMENTS_ATTRIBUTES),l.openNode("authors"),l.leafNode("author",null,"Author"),l.closeNode(),l.openNode("commentList"),u.comments.forEach(c=>{this.map.comment.render(l,c)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,s,o){(s===o[2]||this.tag==="x:SizeWithCells"&&s===o[1])&&i.leafNode(this.tag)}parseOpen(i){return i.name===this.tag?(this.model={},this.model[this.tag]=!0,!0):!1}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{constructor(i){super(),this._model=i}get tag(){return this._model&&this._model.tag}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(i){return i.name===this.tag?(this.text="",!0):!1}parseText(i){this.text=i}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"x:Anchor"}getAnchorRect(i){let s=Math.floor(i.left),o=Math.floor(68*(i.left-s)),a=Math.floor(i.top),l=Math.floor(18*(i.top-a)),u=Math.floor(i.right),c=Math.floor(68*(i.right-u)),d=Math.floor(i.bottom);return[s,o,a,l,u,c,d,Math.floor(18*(i.bottom-d))]}getDefaultRect(i){let s=i.col,o=Math.max(i.row-2,0);return[s,6,o,14,s+2,2,o+4,16]}render(i,s){let o=s.anchor?this.getAnchorRect(s.anchor):this.getDefaultRect(s.refAddress);i.leafNode("x:Anchor",null,o.join(", "))}parseOpen(i){return i.name===this.tag?(this.text="",!0):!1}parseText(i){this.text=i}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./vml-anchor-xform"),s=t("./style/vml-protection-xform"),o=t("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];e.exports=class extends r{constructor(){super(),this.map={"x:Anchor":new i,"x:Locked":new s({tag:"x:Locked"}),"x:LockText":new s({tag:"x:LockText"}),"x:SizeWithCells":new o({tag:"x:SizeWithCells"}),"x:MoveWithCells":new o({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(l,u){let{protection:c,editAs:d}=u.note;l.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(l,d,a),this.map["x:SizeWithCells"].render(l,d,a),this.map["x:Anchor"].render(l,u),this.map["x:Locked"].render(l,c.locked),l.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(l,c.lockText),l.leafNode("x:Row",null,u.refAddress.row-1),l.leafNode("x:Column",null,u.refAddress.col-1),l.closeNode()}parseOpen(l){return l.name===this.tag?(this.reset(),this.model={anchor:[],protection:{},editAs:""}):(this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)),!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):l===this.tag?(this.normalizeModel(),!1):!0}normalizeModel(){let l=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),u=Object.keys(l).length;this.model.editAs=a[u],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("./vml-shape-xform");class o extends i{constructor(){super(),this.map={"v:shape":new s}}get tag(){return"xml"}render(l,u){l.openXml(r.StdDocAttributes),l.openNode(this.tag,o.DRAWING_ATTRIBUTES),l.openNode("o:shapelayout",{"v:ext":"edit"}),l.leafNode("o:idmap",{"v:ext":"edit",data:1}),l.closeNode(),l.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),l.leafNode("v:stroke",{joinstyle:"miter"}),l.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),l.closeNode(),u.comments.forEach((c,d)=>{this.map["v:shape"].render(l,c,d)}),l.closeNode()}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):(l.name===this.tag?(this.reset(),this.model={comments:[]}):(this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0):l!==this.tag}reconcile(l,u){l.anchors.forEach(c=>{c.br?this.map["xdr:twoCellAnchor"].reconcile(c,u):this.map["xdr:oneCellAnchor"].reconcile(c,u)})}}o.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},e.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./vml-textbox-xform"),s=t("./vml-client-data-xform");class o extends r{constructor(){super(),this.map={"v:textbox":new i,"x:ClientData":new s}}get tag(){return"v:shape"}render(l,u,c){l.openNode("v:shape",o.V_SHAPE_ATTRIBUTES(u,c)),l.leafNode("v:fill",{color2:"infoBackground [80]"}),l.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),l.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(l,u),this.map["x:ClientData"].render(l,u),l.closeNode()}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):(l.name===this.tag?(this.reset(),this.model={margins:{insetmode:l.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}}):(this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):l===this.tag?(this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1):!0}}o.V_SHAPE_ATTRIBUTES=(a,l)=>({id:"_x0000_s"+(1025+l),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),e.exports=o},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"v:textbox"}conversionUnit(i,s,o){return`${parseFloat(i)*s.toFixed(2)}${o}`}reverseConversionUnit(i){return(i||"").split(",").map(s=>Number(parseFloat(this.conversionUnit(parseFloat(s),.1,"")).toFixed(2)))}render(i,s){let o={style:"mso-direction-alt:auto"};if(s&&s.note){let{inset:a}=s.note&&s.note.margins;Array.isArray(a)&&(a=a.map(l=>this.conversionUnit(l,10,"mm")).join(",")),a&&(o.inset=a)}i.openNode("v:textbox",o),i.leafNode("div",{style:"text-align:left"}),i.closeNode()}parseOpen(i){return i.name===this.tag&&(this.model={inset:this.reverseConversionUnit(i.attributes.inset)}),!0}parseText(){}parseClose(i){return i!==this.tag}}},{"../base-xform":32}],48:[function(t,e,n){"use strict";let r=t("./base-xform");e.exports=class extends r{createNewModel(i){return{}}parseOpen(i){return this.parser=this.parser||this.map[i.name],this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag&&(this.model=this.createNewModel(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}onParserClose(i,s){this.model[i]=s.model}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.onParserClose(i,this.parser),this.parser=void 0),!0):i!==this.tag}}},{"./base-xform":32}],49:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){i.openNode("HeadingPairs"),i.openNode("vt:vector",{size:2,baseType:"variant"}),i.openNode("vt:variant"),i.leafNode("vt:lpstr",void 0,"Worksheets"),i.closeNode(),i.openNode("vt:variant"),i.leafNode("vt:i4",void 0,s.length),i.closeNode(),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="HeadingPairs"}parseText(){}parseClose(i){return i!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){i.openNode("TitlesOfParts"),i.openNode("vt:vector",{size:s.length,baseType:"lpstr"}),s.forEach(o=>{i.leafNode("vt:lpstr",void 0,o.name)}),i.closeNode(),i.closeNode()}parseOpen(i){return i.name==="TitlesOfParts"}parseText(){}parseClose(i){return i!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("../simple/string-xform"),o=t("./app-heading-pairs-xform"),a=t("./app-titles-of-parts-xform");class l extends i{constructor(){super(),this.map={Company:new s({tag:"Company"}),Manager:new s({tag:"Manager"}),HeadingPairs:new o,TitleOfParts:new a}}render(c,d){c.openXml(r.StdDocAttributes),c.openNode("Properties",l.PROPERTY_ATTRIBUTES),c.leafNode("Application",void 0,"Microsoft Excel"),c.leafNode("DocSecurity",void 0,"0"),c.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(c,d.worksheets),this.map.TitleOfParts.render(c,d.worksheets),this.map.Company.render(c,d.company||""),this.map.Manager.render(c,d.manager),c.leafNode("LinksUpToDate",void 0,"false"),c.leafNode("SharedDoc",void 0,"false"),c.leafNode("HyperlinksChanged",void 0,"false"),c.leafNode("AppVersion",void 0,"16.0300"),c.closeNode()}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name==="Properties"?!0:(this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):c==="Properties"?(this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1):!0}}l.DateFormat=function(u){return u.toISOString().replace(/[.]\d{3,6}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},e.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform");class s extends i{render(a,l){a.openXml(r.StdDocAttributes),a.openNode("Types",s.PROPERTY_ATTRIBUTES);let u={};(l.media||[]).forEach(c=>{if(c.type==="image"){let d=c.extension;u[d]||(u[d]=!0,a.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),l.worksheets.forEach(c=>{let d=`/xl/worksheets/sheet${c.id}.xml`;a.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),l.sharedStrings&&l.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),l.tables&&l.tables.forEach(c=>{a.leafNode("Override",{PartName:"/xl/tables/"+c.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),l.drawings&&l.drawings.forEach(c=>{a.leafNode("Override",{PartName:`/xl/drawings/${c.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),l.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),l.commentRefs.forEach(c=>{let{commentName:d}=c;a.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}s.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},e.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("../simple/date-xform"),o=t("../simple/string-xform"),a=t("../simple/integer-xform");class l extends i{constructor(){super(),this.map={"dc:creator":new o({tag:"dc:creator"}),"dc:title":new o({tag:"dc:title"}),"dc:subject":new o({tag:"dc:subject"}),"dc:description":new o({tag:"dc:description"}),"dc:identifier":new o({tag:"dc:identifier"}),"dc:language":new o({tag:"dc:language"}),"cp:keywords":new o({tag:"cp:keywords"}),"cp:category":new o({tag:"cp:category"}),"cp:lastModifiedBy":new o({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new s({tag:"cp:lastPrinted",format:l.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new o({tag:"cp:version"}),"cp:contentStatus":new o({tag:"cp:contentStatus"}),"cp:contentType":new o({tag:"cp:contentType"}),"dcterms:created":new s({tag:"dcterms:created",attrs:l.DateAttrs,format:l.DateFormat}),"dcterms:modified":new s({tag:"dcterms:modified",attrs:l.DateAttrs,format:l.DateFormat})}}render(c,d){c.openXml(r.StdDocAttributes),c.openNode("cp:coreProperties",l.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(c,d.creator),this.map["dc:title"].render(c,d.title),this.map["dc:subject"].render(c,d.subject),this.map["dc:description"].render(c,d.description),this.map["dc:identifier"].render(c,d.identifier),this.map["dc:language"].render(c,d.language),this.map["cp:keywords"].render(c,d.keywords),this.map["cp:category"].render(c,d.category),this.map["cp:lastModifiedBy"].render(c,d.lastModifiedBy),this.map["cp:lastPrinted"].render(c,d.lastPrinted),this.map["cp:revision"].render(c,d.revision),this.map["cp:version"].render(c,d.version),this.map["cp:contentStatus"].render(c,d.contentStatus),this.map["cp:contentType"].render(c,d.contentType),this.map["dcterms:created"].render(c,d.created),this.map["dcterms:modified"].render(c,d.modified),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}l.DateFormat=function(u){return u.toISOString().replace(/[.]\d{3}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},e.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{render(i,s){i.leafNode("Relationship",s)}parseOpen(i){return i.name==="Relationship"?(this.model=i.attributes,!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("./relationship-xform");class o extends i{constructor(){super(),this.map={Relationship:new s}}render(l,u){u=u||this._values,l.openXml(r.StdDocAttributes),l.openNode("Relationships",o.RELATIONSHIPS_ATTRIBUTES),u.forEach(c=>{this.map.Relationship.render(l,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[l.name],this.parser)return this.parser.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0),!0;if(l==="Relationships")return!1;throw new Error("Unexpected xml node in parseClose: "+l)}}o.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},e.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{parseOpen(i){return this.parser?(this.parser.parseOpen(i),!0):(i.name===this.tag?(this.reset(),this.model={range:{editAs:i.attributes.editAs||"oneCell"}}):(this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)),!0)}parseText(i){this.parser&&this.parser.parseText(i)}reconcilePicture(i,s){if(i&&i.rId){let o=s.rels[i.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(o){let a=o[1],l=s.mediaIndex[a];return s.media[l]}}}}},{"../base-xform":32}],57:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./blip-xform");e.exports=class extends r{constructor(){super(),this.map={"a:blip":new i}}get tag(){return"xdr:blipFill"}render(s,o){s.openNode(this.tag),this.map["a:blip"].render(s,o),s.openNode("a:stretch"),s.leafNode("a:fillRect"),s.closeNode(),s.closeNode()}parseOpen(s){return this.parser?(this.parser.parseOpen(s),!0):(s.name===this.tag?this.reset():(this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)),!0)}parseText(){}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.parser=void 0),!0):s===this.tag?(this.model=this.map["a:blip"].model,!1):!0}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"a:blip"}render(i,s){i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":s.rId,cstate:"print"})}parseOpen(i){return i.name===this.tag&&(this.model={rId:i.attributes["r:embed"]}),!0}parseText(){}parseClose(i){return i!==this.tag}}},{"../base-xform":32}],59:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"xdr:cNvPicPr"}render(i){i.openNode(this.tag),i.leafNode("a:picLocks",{noChangeAspect:"1"}),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){return i!==this.tag}}},{"../base-xform":32}],60:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./hlink-click-xform"),s=t("./ext-lst-xform");e.exports=class extends r{constructor(){super(),this.map={"a:hlinkClick":new i,"a:extLst":new s}}get tag(){return"xdr:cNvPr"}render(o,a){o.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(o,a),this.map["a:extLst"].render(o,a),o.closeNode()}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):(o.name===this.tag?this.reset():(this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)),!0)}parseText(){}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):o===this.tag?(this.model=this.map["a:hlinkClick"].model,!1):!0}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../simple/integer-xform");e.exports=class extends r{constructor(s){super(),this.tag=s.tag,this.map={"xdr:col":new i({tag:"xdr:col",zero:!0}),"xdr:colOff":new i({tag:"xdr:colOff",zero:!0}),"xdr:row":new i({tag:"xdr:row",zero:!0}),"xdr:rowOff":new i({tag:"xdr:rowOff",zero:!0})}}render(s,o){s.openNode(this.tag),this.map["xdr:col"].render(s,o.nativeCol),this.map["xdr:colOff"].render(s,o.nativeColOff),this.map["xdr:row"].render(s,o.nativeRow),this.map["xdr:rowOff"].render(s,o.nativeRowOff),s.closeNode()}parseOpen(s){return this.parser?(this.parser.parseOpen(s),!0):(s.name===this.tag?this.reset():(this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)),!0)}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.parser=void 0),!0):s===this.tag?(this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1):!0}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,e,n){"use strict";let r=t("../../../utils/col-cache"),i=t("../../../utils/xml-stream"),s=t("../base-xform"),o=t("./two-cell-anchor-xform"),a=t("./one-cell-anchor-xform");class l extends s{constructor(){super(),this.map={"xdr:twoCellAnchor":new o,"xdr:oneCellAnchor":new a}}prepare(c){c.anchors.forEach((d,f)=>{d.anchorType=(function(h){return(typeof h.range=="string"?r.decode(h.range):h.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(d),this.map[d.anchorType].prepare(d,{index:f})})}get tag(){return"xdr:wsDr"}render(c,d){c.openXml(i.StdDocAttributes),c.openNode(this.tag,l.DRAWING_ATTRIBUTES),d.anchors.forEach(f=>{this.map[f.anchorType].render(c,f)}),c.closeNode()}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):(c.name===this.tag?(this.reset(),this.model={anchors:[]}):(this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0):c!==this.tag}reconcile(c,d){c.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,d):this.map["xdr:oneCellAnchor"].reconcile(f,d)})}}l.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},e.exports=l},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"a:extLst"}render(i){i.openNode(this.tag),i.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),i.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),i.closeNode(),i.closeNode()}parseOpen(i){switch(i.name){case this.tag:default:return!0}}parseText(){}parseClose(i){return i!==this.tag}}},{"../base-xform":32}],64:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.map={}}render(i,s){i.openNode(this.tag);let o=Math.floor(9525*s.width),a=Math.floor(9525*s.height);i.addAttribute("cx",o),i.addAttribute("cy",a),i.closeNode()}parseOpen(i){return i.name===this.tag&&(this.model={width:parseInt(i.attributes.cx||"0",10)/9525,height:parseInt(i.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"a:hlinkClick"}render(i,s){s.hyperlinks&&s.hyperlinks.rId&&i.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":s.hyperlinks.rId,tooltip:s.hyperlinks.tooltip})}parseOpen(i){return i.name===this.tag&&(this.model={hyperlinks:{rId:i.attributes["r:id"],tooltip:i.attributes.tooltip}}),!0}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./c-nv-pr-xform"),s=t("./c-nv-pic-pr-xform");e.exports=class extends r{constructor(){super(),this.map={"xdr:cNvPr":new i,"xdr:cNvPicPr":new s}}get tag(){return"xdr:nvPicPr"}render(o,a){o.openNode(this.tag),this.map["xdr:cNvPr"].render(o,a),this.map["xdr:cNvPicPr"].render(o,a),o.closeNode()}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):(o.name===this.tag?this.reset():(this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)),!0)}parseText(){}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):o===this.tag?(this.model=this.map["xdr:cNvPr"].model,!1):!0}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,e,n){"use strict";let r=t("./base-cell-anchor-xform"),i=t("../static-xform"),s=t("./cell-position-xform"),o=t("./ext-xform"),a=t("./pic-xform");e.exports=class extends r{constructor(){super(),this.map={"xdr:from":new s({tag:"xdr:from"}),"xdr:ext":new o({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(l,u){this.map["xdr:pic"].prepare(l.picture,u)}render(l,u){l.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,u.range.tl),this.map["xdr:ext"].render(l,u.range.ext),this.map["xdr:pic"].render(l,u.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):l===this.tag?(this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1):!0}reconcile(l,u){l.medium=this.reconcilePicture(l.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../static-xform"),s=t("./blip-fill-xform"),o=t("./nv-pic-pr-xform"),a=t("./sp-pr");e.exports=class extends r{constructor(){super(),this.map={"xdr:nvPicPr":new o,"xdr:blipFill":new s,"xdr:spPr":new i(a)}}get tag(){return"xdr:pic"}prepare(l,u){l.index=u.index+1}render(l,u){l.openNode(this.tag),this.map["xdr:nvPicPr"].render(l,u),this.map["xdr:blipFill"].render(l,u),this.map["xdr:spPr"].render(l,u),l.closeNode()}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):(l.name===this.tag?this.reset():(this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)),!0)}parseText(){}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.mergeModel(this.parser.model),this.parser=void 0),!0):l!==this.tag}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,e,n){"use strict";e.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,e,n){"use strict";let r=t("./base-cell-anchor-xform"),i=t("../static-xform"),s=t("./cell-position-xform"),o=t("./pic-xform");e.exports=class extends r{constructor(){super(),this.map={"xdr:from":new s({tag:"xdr:from"}),"xdr:to":new s({tag:"xdr:to"}),"xdr:pic":new o,"xdr:clientData":new i({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,l){this.map["xdr:pic"].prepare(a.picture,l)}render(a,l){a.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,l.range.tl),this.map["xdr:to"].render(a,l.range.br),this.map["xdr:pic"].render(a,l.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):a===this.tag?(this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1):!0}reconcile(a,l){a.medium=this.reconcilePicture(a.picture,l)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,e,n){"use strict";let r=t("./base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.always=!!i.always,this.count=i.count,this.empty=i.empty,this.$count=i.$count||"count",this.$=i.$,this.childXform=i.childXform,this.maxItems=i.maxItems}prepare(i,s){let{childXform:o}=this;i&&i.forEach((a,l)=>{s.index=l,o.prepare(a,s)})}render(i,s){if(this.always||s&&s.length){i.openNode(this.tag,this.$),this.count&&i.addAttribute(this.$count,s&&s.length||0);let{childXform:o}=this;(s||[]).forEach((a,l)=>{o.render(i,a,l)}),i.closeNode()}else this.empty&&i.leafNode(this.tag)}parseOpen(i){return this.parser?(this.parser.parseOpen(i),!0):i.name===this.tag?(this.model=[],!0):!!this.childXform.parseOpen(i)&&(this.parser=this.childXform,!0)}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(i,s){if(i){let{childXform:o}=this;i.forEach(a=>{o.reconcile(a,s)})}}}},{"./base-xform":32}],72:[function(t,e,n){"use strict";let r=t("../../../utils/col-cache"),i=t("../base-xform");e.exports=class extends i{get tag(){return"autoFilter"}render(s,o){if(o)if(typeof o=="string")s.leafNode("autoFilter",{ref:o});else{let a=function(c){return typeof c=="string"?c:r.getAddress(c.row,c.column).address},l=a(o.from),u=a(o.to);l&&u&&s.leafNode("autoFilter",{ref:`${l}:${u}`})}}parseOpen(s){s.name==="autoFilter"&&(this.model=s.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,e,n){"use strict";let r=t("../../../utils/utils"),i=t("../base-xform"),s=t("../../../doc/range"),o=t("../../../doc/enums"),a=t("../strings/rich-text-xform");function l(u){if(u==null)return o.ValueType.Null;if(u instanceof String||typeof u=="string")return o.ValueType.String;if(typeof u=="number")return o.ValueType.Number;if(typeof u=="boolean")return o.ValueType.Boolean;if(u instanceof Date)return o.ValueType.Date;if(u.text&&u.hyperlink)return o.ValueType.Hyperlink;if(u.formula)return o.ValueType.Formula;if(u.error)return o.ValueType.Error;throw new Error("I could not understand type of value")}e.exports=class extends i{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(u,c){let d=c.styles.addStyleModel(u.style||{},(function(f){return f.type===o.ValueType.Formula?l(f.result):f.type})(u));switch(d&&(u.styleId=d),u.comment&&c.comments.push(qt(Ne({},u.comment),{ref:u.address})),u.type){case o.ValueType.String:case o.ValueType.RichText:c.sharedStrings&&(u.ssId=c.sharedStrings.add(u.value));break;case o.ValueType.Date:c.date1904&&(u.date1904=!0);break;case o.ValueType.Hyperlink:c.sharedStrings&&u.text!==void 0&&u.text!==null&&(u.ssId=c.sharedStrings.add(u.text)),c.hyperlinks.push({address:u.address,target:u.hyperlink,tooltip:u.tooltip});break;case o.ValueType.Merge:c.merges.add(u);break;case o.ValueType.Formula:if(c.date1904&&(u.date1904=!0),u.shareType==="shared"&&(u.si=c.siFormulae++),u.formula)c.formulae[u.address]=u;else if(u.sharedFormula){let f=c.formulae[u.sharedFormula];if(!f)throw new Error("Shared Formula master must exist above and or left of clone for cell "+u.address);f.si===void 0?(f.shareType="shared",f.si=c.siFormulae++,f.range=new s(f.address,u.address)):f.range&&f.range.expandToAddress(u.address),u.si=f.si}}}renderFormula(u,c){let d=null;switch(c.shareType){case"shared":d={t:"shared",ref:c.ref||c.range.range,si:c.si};break;case"array":d={t:"array",ref:c.ref};break;default:c.si!==void 0&&(d={t:"shared",si:c.si})}switch(l(c.result)){case o.ValueType.Null:u.leafNode("f",d,c.formula);break;case o.ValueType.String:u.addAttribute("t","str"),u.leafNode("f",d,c.formula),u.leafNode("v",null,c.result);break;case o.ValueType.Number:u.leafNode("f",d,c.formula),u.leafNode("v",null,c.result);break;case o.ValueType.Boolean:u.addAttribute("t","b"),u.leafNode("f",d,c.formula),u.leafNode("v",null,c.result?1:0);break;case o.ValueType.Error:u.addAttribute("t","e"),u.leafNode("f",d,c.formula),u.leafNode("v",null,c.result.error);break;case o.ValueType.Date:u.leafNode("f",d,c.formula),u.leafNode("v",null,r.dateToExcel(c.result,c.date1904));break;default:throw new Error("I could not understand type of value")}}render(u,c){if(c.type!==o.ValueType.Null||c.styleId){switch(u.openNode("c"),u.addAttribute("r",c.address),c.styleId&&u.addAttribute("s",c.styleId),c.type){case o.ValueType.Null:break;case o.ValueType.Number:u.leafNode("v",null,c.value);break;case o.ValueType.Boolean:u.addAttribute("t","b"),u.leafNode("v",null,c.value?"1":"0");break;case o.ValueType.Error:u.addAttribute("t","e"),u.leafNode("v",null,c.value.error);break;case o.ValueType.String:case o.ValueType.RichText:c.ssId!==void 0?(u.addAttribute("t","s"),u.leafNode("v",null,c.ssId)):c.value&&c.value.richText?(u.addAttribute("t","inlineStr"),u.openNode("is"),c.value.richText.forEach(d=>{this.richTextXForm.render(u,d)}),u.closeNode("is")):(u.addAttribute("t","str"),u.leafNode("v",null,c.value));break;case o.ValueType.Date:u.leafNode("v",null,r.dateToExcel(c.value,c.date1904));break;case o.ValueType.Hyperlink:c.ssId!==void 0?(u.addAttribute("t","s"),u.leafNode("v",null,c.ssId)):(u.addAttribute("t","str"),u.leafNode("v",null,c.text));break;case o.ValueType.Formula:this.renderFormula(u,c);break;case o.ValueType.Merge:}u.closeNode()}}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"c":return this.model={address:u.attributes.r},this.t=u.attributes.t,u.attributes.s&&(this.model.styleId=parseInt(u.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=u.attributes.si,this.model.shareType=u.attributes.t,this.model.ref=u.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){if(this.parser)this.parser.parseText(u);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+u:u;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+u:u:this.model.value=this.model.value?this.model.value+u:u}}parseClose(u){switch(u){case"c":{let{model:c}=this;if(c.formula||c.shareType)c.type=o.ValueType.Formula,c.value&&(this.t==="str"?c.result=r.xmlDecode(c.value):this.t==="b"?c.result=parseInt(c.value,10)!==0:this.t==="e"?c.result={error:c.value}:c.result=parseFloat(c.value),c.value=void 0);else if(c.value!==void 0)switch(this.t){case"s":c.type=o.ValueType.String,c.value=parseInt(c.value,10);break;case"str":c.type=o.ValueType.String,c.value=r.xmlDecode(c.value);break;case"inlineStr":c.type=o.ValueType.String;break;case"b":c.type=o.ValueType.Boolean,c.value=parseInt(c.value,10)!==0;break;case"e":c.type=o.ValueType.Error,c.value={error:c.value};break;default:c.type=o.ValueType.Number,c.value=parseFloat(c.value)}else c.styleId?c.type=o.ValueType.Null:c.type=o.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(u),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(u),!0)}}reconcile(u,c){let d=u.styleId&&c.styles&&c.styles.getStyleModel(u.styleId);switch(d&&(u.style=d),u.styleId!==void 0&&(u.styleId=void 0),u.type){case o.ValueType.String:typeof u.value=="number"&&c.sharedStrings&&(u.value=c.sharedStrings.getString(u.value)),u.value.richText&&(u.type=o.ValueType.RichText);break;case o.ValueType.Number:d&&r.isDateFmt(d.numFmt)&&(u.type=o.ValueType.Date,u.value=r.excelToDate(u.value,c.date1904));break;case o.ValueType.Formula:u.result!==void 0&&d&&r.isDateFmt(d.numFmt)&&(u.result=r.excelToDate(u.result,c.date1904)),u.shareType==="shared"&&(u.ref?c.formulae[u.si]=u.address:(u.sharedFormula=c.formulae[u.si],delete u.shareType),delete u.si)}let f=c.hyperlinkMap[u.address];f&&(u.type===o.ValueType.Formula?(u.text=u.result,u.result=void 0):(u.text=u.value,u.value=void 0),u.type=o.ValueType.Hyperlink,u.hyperlink=f);let h=c.commentsMap&&c.commentsMap[u.address];h&&(u.comment=h)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"x14:cfIcon"}render(i,s){i.leafNode(this.tag,{iconSet:s.iconSet,iconId:s.iconId})}parseOpen(i){let{attributes:s}=i;this.model={iconSet:s.iconSet,iconId:r.toIntValue(s.iconId)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],75:[function(t,e,n){"use strict";let{v4:r}=t("uuid"),i=t("../../base-xform"),s=t("../../composite-xform"),o=t("./databar-ext-xform"),a=t("./icon-set-ext-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class u extends s{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new o,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?o.isExt(d):!(d.type!=="iconSet"||!d.custom&&!l[d.iconSet])}prepare(d){u.isExt(d)&&(d.x14Id=`{${r()}}`.toUpperCase())}render(d,f){if(u.isExt(f))switch(f.type){case"dataBar":this.renderDataBar(d,f);break;case"iconSet":this.renderIconSet(d,f)}}renderDataBar(d,f){d.openNode(this.tag,{type:"dataBar",id:f.x14Id}),this.databarXform.render(d,f),d.closeNode()}renderIconSet(d,f){d.openNode(this.tag,{type:"iconSet",priority:f.priority,id:f.x14Id||`{${r()}}`}),this.iconSetXform.render(d,f),d.closeNode()}createNewModel(d){let{attributes:f}=d;return{type:f.type,x14Id:f.id,priority:i.toIntValue(f.priority)}}onParserClose(d,f){Object.assign(this.model,f.model)}}e.exports=u},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./f-ext-xform");e.exports=class extends r{constructor(){super(),this.map={"xm:f":this.fExtXform=new i}}get tag(){return"x14:cfvo"}render(s,o){s.openNode(this.tag,{type:o.type}),o.value!==void 0&&this.fExtXform.render(s,o.value),s.closeNode()}createNewModel(s){return{type:s.attributes.type}}onParserClose(s,o){s==="xm:f"&&(this.model.value=o.model?parseFloat(o.model):0)}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./sqref-ext-xform"),s=t("./cf-rule-ext-xform");e.exports=class extends r{constructor(){super(),this.map={"xm:sqref":this.sqRef=new i,"x14:cfRule":this.cfRule=new s}}get tag(){return"x14:conditionalFormatting"}prepare(o,a){o.rules.forEach(l=>{this.cfRule.prepare(l,a)})}render(o,a){a.rules.some(s.isExt)&&(o.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(s.isExt).forEach(l=>this.cfRule.render(o,l)),this.sqRef.render(o,a.ref),o.closeNode())}createNewModel(){return{rules:[]}}onParserClose(o,a){switch(o){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./cf-rule-ext-xform"),s=t("./conditional-formatting-ext-xform");e.exports=class extends r{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new s}}get tag(){return"x14:conditionalFormattings"}hasContent(o){return o.hasExtContent===void 0&&(o.hasExtContent=o.some(a=>a.rules.some(i.isExt))),o.hasExtContent}prepare(o,a){o.forEach(l=>{this.cfXform.prepare(l,a)})}render(o,a){this.hasContent(a)&&(o.openNode(this.tag),a.forEach(l=>this.cfXform.render(o,l)),o.closeNode())}createNewModel(){return[]}onParserClose(o,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),s=t("../../style/color-xform"),o=t("./cfvo-ext-xform");e.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:borderColor":this.borderColorXform=new s("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new s("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new s("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new s("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,l){a.openNode(this.tag,{minLength:r.toIntAttribute(l.minLength,0,!0),maxLength:r.toIntAttribute(l.maxLength,100,!0),border:r.toBoolAttribute(l.border,!1),gradient:r.toBoolAttribute(l.gradient,!0),negativeBarColorSameAsPositive:r.toBoolAttribute(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolAttribute(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toAttribute(l.axisPosition,"auto"),direction:r.toAttribute(l.direction,"leftToRight")}),l.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),this.borderColorXform.render(a,l.borderColor),this.negativeBorderColorXform.render(a,l.negativeBorderColor),this.negativeFillColorXform.render(a,l.negativeFillColor),this.axisColorXform.render(a,l.axisColor),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],minLength:r.toIntValue(l.minLength,0),maxLength:r.toIntValue(l.maxLength,100),border:r.toBoolValue(l.border,!1),gradient:r.toBoolValue(l.gradient,!0),negativeBarColorSameAsPositive:r.toBoolValue(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolValue(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toStringValue(l.axisPosition,"auto"),direction:r.toStringValue(l.direction,"leftToRight")}}onParserClose(a,l){let[,u]=a.split(":");u==="cfvo"?this.model.cfvo.push(l.model):this.model[u]=l.model}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"xm:f"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],81:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),s=t("./cfvo-ext-xform"),o=t("./cf-icon-ext-xform");e.exports=class extends i{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:cfIcon":this.cfIconXform=new o}}get tag(){return"x14:iconSet"}render(a,l){a.openNode(this.tag,{iconSet:r.toStringAttribute(l.iconSet),reverse:r.toBoolAttribute(l.reverse,!1),showValue:r.toBoolAttribute(l.showValue,!0),custom:r.toBoolAttribute(l.icons,!1)}),l.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),l.icons&&l.icons.forEach((u,c)=>{u.iconId=c,this.cfIconXform.render(a,u)}),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],iconSet:r.toStringValue(l.iconSet,"3TrafficLights"),reverse:r.toBoolValue(l.reverse,!1),showValue:r.toBoolValue(l.showValue,!0)}}onParserClose(a,l){let[,u]=a.split(":");switch(u){case"cfvo":this.model.cfvo.push(l.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(l.model);break;default:this.model[u]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"xm:sqref"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],83:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),s=t("../../../../doc/range"),o=t("./databar-xform"),a=t("./ext-lst-ref-xform"),l=t("./formula-xform"),u=t("./color-scale-xform"),c=t("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},f=p=>{let{type:m,operator:g}=p;switch(m){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:m};default:return{type:m,operator:g}}};class h extends i{constructor(){super(),this.map={dataBar:this.databarXform=new o,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new l,colorScale:this.colorScaleXform=new u,iconSet:this.iconSetXform=new c}}get tag(){return"cfRule"}static isPrimitive(m){return m.type!=="iconSet"||!m.custom&&!d[m.iconSet]}render(m,g){switch(g.type){case"expression":this.renderExpression(m,g);break;case"cellIs":this.renderCellIs(m,g);break;case"top10":this.renderTop10(m,g);break;case"aboveAverage":this.renderAboveAverage(m,g);break;case"dataBar":this.renderDataBar(m,g);break;case"colorScale":this.renderColorScale(m,g);break;case"iconSet":this.renderIconSet(m,g);break;case"containsText":this.renderText(m,g);break;case"timePeriod":this.renderTimePeriod(m,g)}}renderExpression(m,g){m.openNode(this.tag,{type:"expression",dxfId:g.dxfId,priority:g.priority}),this.formulaXform.render(m,g.formulae[0]),m.closeNode()}renderCellIs(m,g){m.openNode(this.tag,{type:"cellIs",dxfId:g.dxfId,priority:g.priority,operator:g.operator}),g.formulae.forEach(y=>{this.formulaXform.render(m,y)}),m.closeNode()}renderTop10(m,g){m.leafNode(this.tag,{type:"top10",dxfId:g.dxfId,priority:g.priority,percent:r.toBoolAttribute(g.percent,!1),bottom:r.toBoolAttribute(g.bottom,!1),rank:r.toIntValue(g.rank,10,!0)})}renderAboveAverage(m,g){m.leafNode(this.tag,{type:"aboveAverage",dxfId:g.dxfId,priority:g.priority,aboveAverage:r.toBoolAttribute(g.aboveAverage,!0)})}renderDataBar(m,g){m.openNode(this.tag,{type:"dataBar",priority:g.priority}),this.databarXform.render(m,g),this.extLstRefXform.render(m,g),m.closeNode()}renderColorScale(m,g){m.openNode(this.tag,{type:"colorScale",priority:g.priority}),this.colorScaleXform.render(m,g),m.closeNode()}renderIconSet(m,g){h.isPrimitive(g)&&(m.openNode(this.tag,{type:"iconSet",priority:g.priority}),this.iconSetXform.render(m,g),m.closeNode())}renderText(m,g){m.openNode(this.tag,{type:g.operator,dxfId:g.dxfId,priority:g.priority,operator:r.toStringAttribute(g.operator,"containsText")});let y=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let T=new s(x.ref),{tl:R}=T;switch(x.operator){case"containsText":return`NOT(ISERROR(SEARCH("${x.text}",${R})))`;case"containsBlanks":return`LEN(TRIM(${R}))=0`;case"notContainsBlanks":return`LEN(TRIM(${R}))>0`;case"containsErrors":return`ISERROR(${R})`;case"notContainsErrors":return`NOT(ISERROR(${R}))`;default:return}})(g);y&&this.formulaXform.render(m,y),m.closeNode()}renderTimePeriod(m,g){m.openNode(this.tag,{type:"timePeriod",dxfId:g.dxfId,priority:g.priority,timePeriod:g.timePeriod});let y=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let T=new s(x.ref),{tl:R}=T;switch(x.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${R},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${R},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${R},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${R},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${R},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${R},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${R},1)=TODAY()-1`;case"today":return`FLOOR(${R},1)=TODAY()`;case"tomorrow":return`FLOOR(${R},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${R},1)<=6,FLOOR(${R},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${R})=MONTH(EDATE(TODAY(),0-1)),YEAR(${R})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${R})=MONTH(TODAY()),YEAR(${R})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${R})=MONTH(EDATE(TODAY(),0+1)),YEAR(${R})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(g);y&&this.formulaXform.render(m,y),m.closeNode()}createNewModel(m){let{attributes:g}=m;return qt(Ne({},f(g)),{dxfId:r.toIntValue(g.dxfId),priority:r.toIntValue(g.priority),timePeriod:g.timePeriod,percent:r.toBoolValue(g.percent),bottom:r.toBoolValue(g.bottom),rank:r.toIntValue(g.rank),aboveAverage:r.toBoolValue(g.aboveAverage)})}onParserClose(m,g){switch(m){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,g.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(g.model)}}}e.exports=h},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"cfvo"}render(i,s){i.leafNode(this.tag,{type:s.type,val:s.value})}parseOpen(i){this.model={type:i.attributes.type,value:r.toFloatValue(i.attributes.val)}}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],85:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("../../style/color-xform"),s=t("./cfvo-xform");e.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new s,color:this.colorXform=new i}}get tag(){return"colorScale"}render(o,a){o.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(o,l)}),a.color.forEach(l=>{this.colorXform.render(o,l)}),o.closeNode()}createNewModel(o){return{cfvo:[],color:[]}}onParserClose(o,a){this.model[o].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("./cf-rule-xform");e.exports=class extends r{constructor(){super(),this.map={cfRule:new i}}get tag(){return"conditionalFormatting"}render(s,o){o.rules.some(i.isPrimitive)&&(s.openNode(this.tag,{sqref:o.ref}),o.rules.forEach(a=>{i.isPrimitive(a)&&(a.ref=o.ref,this.map.cfRule.render(s,a))}),s.closeNode())}createNewModel(s){let{attributes:o}=s;return{ref:o.sqref,rules:[]}}onParserClose(s,o){this.model.rules.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("./conditional-formatting-xform");e.exports=class extends r{constructor(){super(),this.cfXform=new i}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(s,o){let a=s.reduce((l,u)=>Math.max(l,...u.rules.map(c=>c.priority||0)),1);s.forEach(l=>{l.rules.forEach(u=>{u.priority||(u.priority=a++),u.style&&(u.dxfId=o.styles.addDxfStyle(u.style))})})}render(s,o){o.forEach(a=>{this.cfXform.render(s,a)})}parseOpen(s){return this.parser?(this.parser.parseOpen(s),!0):s.name==="conditionalFormatting"?(this.parser=this.cfXform,this.parser.parseOpen(s),!0):!1}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return!!this.parser&&(!!this.parser.parseClose(s)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(s,o){s.forEach(a=>{a.rules.forEach(l=>{l.dxfId!==void 0&&(l.style=o.styles.getDxfStyle(l.dxfId),delete l.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,e,n){"use strict";let r=t("../../composite-xform"),i=t("../../style/color-xform"),s=t("./cfvo-xform");e.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new s,color:this.colorXform=new i}}get tag(){return"dataBar"}render(o,a){o.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(o,l)}),this.colorXform.render(o,a.color),o.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(o,a){switch(o){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform");class s extends r{get tag(){return"x14:id"}render(l,u){l.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(l){this.model+=l}parseClose(l){return l!==this.tag}}class o extends i{constructor(){super(),this.map={"x14:id":this.idXform=new s}}get tag(){return"ext"}render(l,u){l.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(l,u.x14Id),l.closeNode()}createNewModel(){return{}}onParserClose(l,u){this.model.x14Id=u.model}}e.exports=class extends i{constructor(){super(),this.map={ext:new o}}get tag(){return"extLst"}render(a,l){a.openNode(this.tag),this.map.ext.render(a,l),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){Object.assign(this.model,l.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,e,n){"use strict";let r=t("../../base-xform");e.exports=class extends r{get tag(){return"formula"}render(i,s){i.leafNode(this.tag,null,s)}parseOpen(){this.model=""}parseText(i){this.model+=i}parseClose(i){return i!==this.tag}}},{"../../base-xform":32}],91:[function(t,e,n){"use strict";let r=t("../../base-xform"),i=t("../../composite-xform"),s=t("./cfvo-xform");e.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new s}}get tag(){return"iconSet"}render(o,a){o.openNode(this.tag,{iconSet:r.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:r.toBoolAttribute(a.reverse,!1),showValue:r.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(l=>{this.cfvoXform.render(o,l)}),o.closeNode()}createNewModel(o){let{attributes:a}=o;return{iconSet:r.toStringValue(a.iconSet,"3TrafficLights"),reverse:r.toBoolValue(a.reverse),showValue:r.toBoolValue(a.showValue),cfvo:[]}}onParserClose(o,a){this.model[o].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,e,n){"use strict";let r=t("../../../utils/utils"),i=t("../base-xform");e.exports=class extends i{get tag(){return"col"}prepare(s,o){let a=o.styles.addStyleModel(s.style||{});a&&(s.styleId=a)}render(s,o){s.openNode("col"),s.addAttribute("min",o.min),s.addAttribute("max",o.max),o.width&&s.addAttribute("width",o.width),o.styleId&&s.addAttribute("style",o.styleId),o.hidden&&s.addAttribute("hidden","1"),o.bestFit&&s.addAttribute("bestFit","1"),o.outlineLevel&&s.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&s.addAttribute("collapsed","1"),s.addAttribute("customWidth","1"),s.closeNode()}parseOpen(s){if(s.name==="col"){let o=this.model={min:parseInt(s.attributes.min||"0",10),max:parseInt(s.attributes.max||"0",10),width:s.attributes.width===void 0?void 0:parseFloat(s.attributes.width||"0")};return s.attributes.style&&(o.styleId=parseInt(s.attributes.style,10)),r.parseBoolean(s.attributes.hidden)&&(o.hidden=!0),r.parseBoolean(s.attributes.bestFit)&&(o.bestFit=!0),s.attributes.outlineLevel&&(o.outlineLevel=parseInt(s.attributes.outlineLevel,10)),r.parseBoolean(s.attributes.collapsed)&&(o.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(s,o){s.styleId&&(s.style=o.styles.getStyleModel(s.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../utils/utils"),s=t("../../../utils/col-cache"),o=t("../base-xform"),a=t("../../../doc/range");function l(c,d,f,h){let p=d[f];p!==void 0?c[f]=p:h!==void 0&&(c[f]=h)}function u(c,d,f,h){let p=d[f];p!==void 0?c[f]=i.parseBoolean(p):h!==void 0&&(c[f]=h)}e.exports=class extends o{get tag(){return"dataValidations"}render(c,d){let f=(function(h){let p=r.map(h,(y,x)=>({address:x,dataValidation:y,marked:!1})).sort((y,x)=>r.strcmp(y.address,x.address)),m=r.keyBy(p,"address"),g=(y,x,T)=>{for(let R=0;R<x;R++){let $=s.encodeAddress(y.row+R,T);if(!h[$]||!r.isEqual(h[y.address],h[$]))return!1}return!0};return p.map(y=>{if(!y.marked){let x=s.decodeEx(y.address);if(x.dimensions)return m[x.dimensions].marked=!0,qt(Ne({},y.dataValidation),{sqref:y.address});let T=1,R=s.encodeAddress(x.row+T,x.col);for(;h[R]&&r.isEqual(y.dataValidation,h[R]);)T++,R=s.encodeAddress(x.row+T,x.col);let $=1;for(;g(x,T,x.col+$);)$++;for(let O=0;O<T;O++)for(let U=0;U<$;U++)R=s.encodeAddress(x.row+O,x.col+U),m[R].marked=!0;if(T>1||$>1){let O=x.row+(T-1),U=x.col+($-1);return qt(Ne({},y.dataValidation),{sqref:`${y.address}:${s.encodeAddress(O,U)}`})}return qt(Ne({},y.dataValidation),{sqref:y.address})}return null}).filter(Boolean)})(d);f.length&&(c.openNode("dataValidations",{count:f.length}),f.forEach(h=>{c.openNode("dataValidation"),h.type!=="any"&&(c.addAttribute("type",h.type),h.operator&&h.type!=="list"&&h.operator!=="between"&&c.addAttribute("operator",h.operator),h.allowBlank&&c.addAttribute("allowBlank","1")),h.showInputMessage&&c.addAttribute("showInputMessage","1"),h.promptTitle&&c.addAttribute("promptTitle",h.promptTitle),h.prompt&&c.addAttribute("prompt",h.prompt),h.showErrorMessage&&c.addAttribute("showErrorMessage","1"),h.errorStyle&&c.addAttribute("errorStyle",h.errorStyle),h.errorTitle&&c.addAttribute("errorTitle",h.errorTitle),h.error&&c.addAttribute("error",h.error),c.addAttribute("sqref",h.sqref),(h.formulae||[]).forEach((p,m)=>{c.openNode("formula"+(m+1)),h.type==="date"?c.writeText(i.dateToExcel(new Date(p))):c.writeText(p),c.closeNode()}),c.closeNode()}),c.closeNode())}parseOpen(c){switch(c.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=c.attributes.sqref;let d={type:c.attributes.type||"any",formulae:[]};switch(c.attributes.type&&u(d,c.attributes,"allowBlank"),u(d,c.attributes,"showInputMessage"),u(d,c.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:l(d,c.attributes,"operator","between")}return l(d,c.attributes,"promptTitle"),l(d,c.attributes,"prompt"),l(d,c.attributes,"errorStyle"),l(d,c.attributes,"errorTitle"),l(d,c.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(c){this._formula&&this._formula.push(c)}parseClose(c){switch(c){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new a(d).forEachAddress(f=>{this.model[f]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=i.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"dimension"}render(i,s){s&&i.leafNode("dimension",{ref:s})}parseOpen(i){return i.name==="dimension"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"drawing"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){return i.name===this.tag?(this.model={rId:i.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,e,n){"use strict";let r=t("../composite-xform"),i=t("./cf-ext/conditional-formattings-ext-xform");class s extends r{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new i}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,l){this.conditionalFormattings.prepare(a.conditionalFormattings,l)}render(a,l){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,l.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){this.model[a]=l.model}}e.exports=class extends r{constructor(){super(),this.map={ext:this.ext=new s}}get tag(){return"extLst"}prepare(o,a){this.ext.prepare(o,a)}hasContent(o){return this.ext.hasContent(o)}render(o,a){this.hasContent(a)&&(o.openNode("extLst"),this.ext.render(o,a),o.closeNode())}createNewModel(){return{}}onParserClose(o,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"headerFooter"}render(i,s){if(s){i.addRollback();let o=!1;i.openNode("headerFooter"),s.differentFirst&&(i.addAttribute("differentFirst","1"),o=!0),s.differentOddEven&&(i.addAttribute("differentOddEven","1"),o=!0),s.oddHeader&&typeof s.oddHeader=="string"&&(i.leafNode("oddHeader",null,s.oddHeader),o=!0),s.oddFooter&&typeof s.oddFooter=="string"&&(i.leafNode("oddFooter",null,s.oddFooter),o=!0),s.evenHeader&&typeof s.evenHeader=="string"&&(i.leafNode("evenHeader",null,s.evenHeader),o=!0),s.evenFooter&&typeof s.evenFooter=="string"&&(i.leafNode("evenFooter",null,s.evenFooter),o=!0),s.firstHeader&&typeof s.firstHeader=="string"&&(i.leafNode("firstHeader",null,s.firstHeader),o=!0),s.firstFooter&&typeof s.firstFooter=="string"&&(i.leafNode("firstFooter",null,s.firstFooter),o=!0),o?(i.closeNode(),i.commit()):i.rollback()}}parseOpen(i){switch(i.name){case"headerFooter":return this.model={},i.attributes.differentFirst&&(this.model.differentFirst=parseInt(i.attributes.differentFirst,0)===1),i.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(i.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(i){switch(this.currentNode){case"oddHeader":this.model.oddHeader=i;break;case"oddFooter":this.model.oddFooter=i;break;case"evenHeader":this.model.evenHeader=i;break;case"evenFooter":this.model.evenFooter=i;break;case"firstHeader":this.model.firstHeader=i;break;case"firstFooter":this.model.firstFooter=i}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"hyperlink"}render(i,s){this.isInternalLink(s)?i.leafNode("hyperlink",{ref:s.address,"r:id":s.rId,tooltip:s.tooltip,location:s.target}):i.leafNode("hyperlink",{ref:s.address,"r:id":s.rId,tooltip:s.tooltip})}parseOpen(i){return i.name==="hyperlink"&&(this.model={address:i.attributes.ref,rId:i.attributes["r:id"],tooltip:i.attributes.tooltip},i.attributes.location&&(this.model.target=i.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(i){return i.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(i.target)}}},{"../base-xform":32}],99:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"mergeCell"}render(i,s){i.leafNode("mergeCell",{ref:s})}parseOpen(i){return i.name==="mergeCell"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../doc/range"),s=t("../../../utils/col-cache"),o=t("../../../doc/enums");e.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{let l=`${a.master}:${a.address}`;this.merges[a.master]=new i(l)}}get mergeCells(){return r.map(this.merges,a=>a.range)}reconcile(a,l){r.each(a,u=>{let c=s.decode(u);for(let d=c.top;d<=c.bottom;d++){let f=l[d-1];for(let h=c.left;h<=c.right;h++){let p=f.cells[h-1];p?p.type===o.ValueType.Merge&&(p.master=c.tl):f.cells[h]={type:o.ValueType.Null,address:s.encodeAddress(d,h)}}}})}getMasterAddress(a){let l=this.hash[a];return l&&l.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,e,n){"use strict";let r=t("../base-xform"),i=s=>s!==void 0;e.exports=class extends r{get tag(){return"outlinePr"}render(s,o){return!(!o||!i(o.summaryBelow)&&!i(o.summaryRight))&&(s.leafNode(this.tag,{summaryBelow:i(o.summaryBelow)?Number(o.summaryBelow):void 0,summaryRight:i(o.summaryRight)?Number(o.summaryRight):void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={summaryBelow:i(s.attributes.summaryBelow)?!!Number(s.attributes.summaryBelow):void 0,summaryRight:i(s.attributes.summaryRight)?!!Number(s.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"brk"}render(i,s){i.leafNode("brk",s)}parseOpen(i){return i.name==="brk"&&(this.model=i.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");e.exports=class extends i{get tag(){return"pageMargins"}render(s,o){if(o){let a={left:o.left,right:o.right,top:o.top,bottom:o.bottom,header:o.header,footer:o.footer};r.some(a,l=>l!==void 0)&&s.leafNode(this.tag,a)}}parseOpen(s){return s.name===this.tag?(this.model={left:parseFloat(s.attributes.left||.7),right:parseFloat(s.attributes.right||.7),top:parseFloat(s.attributes.top||.75),bottom:parseFloat(s.attributes.bottom||.75),header:parseFloat(s.attributes.header||.3),footer:parseFloat(s.attributes.footer||.3)},!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"pageSetUpPr"}render(i,s){return!(!s||!s.fitToPage)&&(i.leafNode(this.tag,{fitToPage:s.fitToPage?"1":void 0}),!0)}parseOpen(i){return i.name===this.tag&&(this.model={fitToPage:i.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");function s(u){return u?"1":void 0}function o(u){if(u==="overThenDown")return u}function a(u){switch(u){case"atEnd":case"asDisplyed":return u;default:return}}function l(u){switch(u){case"dash":case"blank":case"NA":return u;default:return}}e.exports=class extends i{get tag(){return"pageSetup"}render(u,c){if(c){let d={paperSize:c.paperSize,orientation:c.orientation,horizontalDpi:c.horizontalDpi,verticalDpi:c.verticalDpi,pageOrder:o(c.pageOrder),blackAndWhite:s(c.blackAndWhite),draft:s(c.draft),cellComments:a(c.cellComments),errors:l(c.errors),scale:c.scale,fitToWidth:c.fitToWidth,fitToHeight:c.fitToHeight,firstPageNumber:c.firstPageNumber,useFirstPageNumber:s(c.firstPageNumber),usePrinterDefaults:s(c.usePrinterDefaults),copies:c.copies};r.some(d,f=>f!==void 0)&&u.leafNode(this.tag,d)}}parseOpen(u){if(u.name===this.tag)return this.model={paperSize:(c=u.attributes.paperSize,c!==void 0?parseInt(c,10):void 0),orientation:u.attributes.orientation||"portrait",horizontalDpi:parseInt(u.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(u.attributes.verticalDpi||"4294967295",10),pageOrder:u.attributes.pageOrder||"downThenOver",blackAndWhite:u.attributes.blackAndWhite==="1",draft:u.attributes.draft==="1",cellComments:u.attributes.cellComments||"None",errors:u.attributes.errors||"displayed",scale:parseInt(u.attributes.scale||"100",10),fitToWidth:parseInt(u.attributes.fitToWidth||"1",10),fitToHeight:parseInt(u.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(u.attributes.firstPageNumber||"1",10),useFirstPageNumber:u.attributes.useFirstPageNumber==="1",usePrinterDefaults:u.attributes.usePrinterDefaults==="1",copies:parseInt(u.attributes.copies||"1",10)},!0;return!1;var c}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"picture"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){return i.name===this.tag?(this.model={rId:i.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");function s(o){return o?"1":void 0}e.exports=class extends i{get tag(){return"printOptions"}render(o,a){if(a){let l={headings:s(a.showRowColHeaders),gridLines:s(a.showGridLines),horizontalCentered:s(a.horizontalCentered),verticalCentered:s(a.verticalCentered)};r.some(l,u=>u!==void 0)&&o.leafNode(this.tag,l)}}parseOpen(o){return o.name===this.tag?(this.model={showRowColHeaders:o.attributes.headings==="1",showGridLines:o.attributes.gridLines==="1",horizontalCentered:o.attributes.horizontalCentered==="1",verticalCentered:o.attributes.verticalCentered==="1"},!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,e,n){"use strict";let r=t("./page-breaks-xform"),i=t("../list-xform");e.exports=class extends i{constructor(){super({tag:"rowBreaks",count:!0,childXform:new r})}render(s,o){if(o&&o.length){s.openNode(this.tag,this.$),this.count&&(s.addAttribute(this.$count,o.length),s.addAttribute("manualBreakCount",o.length));let{childXform:a}=this;o.forEach(l=>{a.render(s,l)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../../../utils/utils"),s=t("./cell-xform");e.exports=class extends r{constructor(o){super(),this.maxItems=o&&o.maxItems,this.map={c:new s}}get tag(){return"row"}prepare(o,a){let l=a.styles.addStyleModel(o.style);l&&(o.styleId=l);let u=this.map.c;o.cells.forEach(c=>{u.prepare(c,a)})}render(o,a,l){o.openNode("row"),o.addAttribute("r",a.number),a.height&&(o.addAttribute("ht",a.height),o.addAttribute("customHeight","1")),a.hidden&&o.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&o.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(o.addAttribute("s",a.styleId),o.addAttribute("customFormat","1")),o.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&o.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&o.addAttribute("collapsed","1");let u=this.map.c;a.cells.forEach(c=>{u.render(o,c,l)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;if(o.name==="row"){this.numRowsSeen+=1;let a=o.attributes.spans?o.attributes.spans.split(":").map(u=>parseInt(u,10)):[void 0,void 0],l=this.model={number:parseInt(o.attributes.r,10),min:a[0],max:a[1],cells:[]};return o.attributes.s&&(l.styleId=parseInt(o.attributes.s,10)),i.parseBoolean(o.attributes.hidden)&&(l.hidden=!0),i.parseBoolean(o.attributes.bestFit)&&(l.bestFit=!0),o.attributes.ht&&(l.height=parseFloat(o.attributes.ht)),o.attributes.outlineLevel&&(l.outlineLevel=parseInt(o.attributes.outlineLevel,10)),i.parseBoolean(o.attributes.collapsed)&&(l.collapsed=!0),!0}return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(o,a){o.style=o.styleId?a.styles.getStyleModel(o.styleId):{},o.styleId!==void 0&&(o.styleId=void 0);let l=this.map.c;o.cells.forEach(u=>{l.reconcile(u,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");e.exports=class extends i{get tag(){return"sheetFormatPr"}render(s,o){if(o){let a={defaultRowHeight:o.defaultRowHeight,outlineLevelRow:o.outlineLevelRow,outlineLevelCol:o.outlineLevelCol,"x14ac:dyDescent":o.dyDescent};o.defaultColWidth&&(a.defaultColWidth=o.defaultColWidth),o.defaultRowHeight&&o.defaultRowHeight===15||(a.customHeight="1"),r.some(a,l=>l!==void 0)&&s.leafNode("sheetFormatPr",a)}}parseOpen(s){return s.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(s.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(s.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(s.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(s.attributes.outlineLevelCol||"0",10)},s.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(s.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../style/color-xform"),s=t("./page-setup-properties-xform"),o=t("./outline-properties-xform");e.exports=class extends r{constructor(){super(),this.map={tabColor:new i("tabColor"),pageSetUpPr:new s,outlinePr:new o}}get tag(){return"sheetPr"}render(a,l){if(l){a.addRollback(),a.openNode("sheetPr");let u=!1;u=this.map.tabColor.render(a,l.tabColor)||u,u=this.map.pageSetUpPr.render(a,l.pageSetup)||u,u=this.map.outlinePr.render(a,l.outlineProperties)||u,u?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../base-xform");function s(a,l){return a?l:void 0}function o(a,l){return a===l||void 0}e.exports=class extends i{get tag(){return"sheetProtection"}render(a,l){if(l){let u={sheet:s(l.sheet,"1"),selectLockedCells:l.selectLockedCells===!1?"1":void 0,selectUnlockedCells:l.selectUnlockedCells===!1?"1":void 0,formatCells:s(l.formatCells,"0"),formatColumns:s(l.formatColumns,"0"),formatRows:s(l.formatRows,"0"),insertColumns:s(l.insertColumns,"0"),insertRows:s(l.insertRows,"0"),insertHyperlinks:s(l.insertHyperlinks,"0"),deleteColumns:s(l.deleteColumns,"0"),deleteRows:s(l.deleteRows,"0"),sort:s(l.sort,"0"),autoFilter:s(l.autoFilter,"0"),pivotTables:s(l.pivotTables,"0")};l.sheet&&(u.algorithmName=l.algorithmName,u.hashValue=l.hashValue,u.saltValue=l.saltValue,u.spinCount=l.spinCount,u.objects=s(l.objects===!1,"1"),u.scenarios=s(l.scenarios===!1,"1")),r.some(u,c=>c!==void 0)&&a.leafNode(this.tag,u)}}parseOpen(a){return a.name===this.tag?(this.model={sheet:o(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:o(a.attributes.formatCells,"0"),formatColumns:o(a.attributes.formatColumns,"0"),formatRows:o(a.attributes.formatRows,"0"),insertColumns:o(a.attributes.insertColumns,"0"),insertRows:o(a.attributes.insertRows,"0"),insertHyperlinks:o(a.attributes.insertHyperlinks,"0"),deleteColumns:o(a.attributes.deleteColumns,"0"),deleteRows:o(a.attributes.deleteRows,"0"),sort:o(a.attributes.sort,"0"),autoFilter:o(a.attributes.autoFilter,"0"),pivotTables:o(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,e,n){"use strict";let r=t("../../../utils/col-cache"),i=t("../base-xform"),s={frozen:"frozen",frozenSplit:"frozen",split:"split"};e.exports=class extends i{get tag(){return"sheetView"}prepare(o){switch(o.state){case"frozen":case"split":break;default:o.state="normal"}}render(o,a){o.openNode("sheetView",{workbookViewId:a.workbookViewId||0});let l=function(h,p,m){m&&o.addAttribute(h,p)},u,c,d,f;switch(l("rightToLeft","1",a.rightToLeft===!0),l("tabSelected","1",a.tabSelected),l("showRuler","0",a.showRuler===!1),l("showRowColHeaders","0",a.showRowColHeaders===!1),l("showGridLines","0",a.showGridLines===!1),l("zoomScale",a.zoomScale,a.zoomScale),l("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),l("view",a.style,a.style),a.state){case"frozen":c=a.xSplit||0,d=a.ySplit||0,u=a.topLeftCell||r.getAddress(d+1,c+1).address,f=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",o.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:u,activePane:f,state:"frozen"}),o.leafNode("selection",{pane:f,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),o.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),o.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&o.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}o.closeNode()}parseOpen(o){switch(o.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(o.attributes.workbookViewId,10),rightToLeft:o.attributes.rightToLeft==="1",tabSelected:o.attributes.tabSelected==="1",showRuler:o.attributes.showRuler!=="0",showRowColHeaders:o.attributes.showRowColHeaders!=="0",showGridLines:o.attributes.showGridLines!=="0",zoomScale:parseInt(o.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(o.attributes.zoomScaleNormal||"100",10),style:o.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(o.attributes.xSplit||"0",10),ySplit:parseInt(o.attributes.ySplit||"0",10),topLeftCell:o.attributes.topLeftCell,activePane:o.attributes.activePane||"topLeft",state:o.attributes.state},!0;case"selection":{let a=o.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:o.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(o){let a,l;return o==="sheetView"?(this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:s[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),l=this.selections[this.pane.activePane],l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},l=this.selections.topLeft,l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1):!0}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"tablePart"}render(i,s){s&&i.leafNode(this.tag,{"r:id":s.rId})}parseOpen(i){return i.name===this.tag?(this.model={rId:i.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../../utils/col-cache"),s=t("../../../utils/xml-stream"),o=t("../../rel-type"),a=t("./merges"),l=t("../base-xform"),u=t("../list-xform"),c=t("./row-xform"),d=t("./col-xform"),f=t("./dimension-xform"),h=t("./hyperlink-xform"),p=t("./merge-cell-xform"),m=t("./data-validations-xform"),g=t("./sheet-properties-xform"),y=t("./sheet-format-properties-xform"),x=t("./sheet-view-xform"),T=t("./sheet-protection-xform"),R=t("./page-margins-xform"),$=t("./page-setup-xform"),O=t("./print-options-xform"),U=t("./auto-filter-xform"),j=t("./picture-xform"),q=t("./drawing-xform"),H=t("./table-part-xform"),E=t("./row-breaks-xform"),C=t("./header-footer-xform"),L=t("./cf/conditional-formattings-xform"),v=t("./ext-lst-xform"),b=(w,S)=>{if(!S||!S.length)return w;if(!w||!w.length)return S;let I={},F={};return w.forEach(W=>{I[W.ref]=W,W.rules.forEach(B=>{let{x14Id:X}=B;X&&(F[X]=B)})}),S.forEach(W=>{W.rules.forEach(B=>{let X=F[B.x14Id];X?((M,Y)=>{Object.keys(Y).forEach(k=>{let D=M[k],z=Y[k];D===void 0&&z!==void 0&&(M[k]=z)})})(X,B):I[W.ref]?I[W.ref].rules.push(B):w.push({ref:W.ref,rules:[B]})})}),w};class _ extends l{constructor(S){super();let{maxRows:I,maxCols:F,ignoreNodes:W}=S||{};this.ignoreNodes=W||[],this.map={sheetPr:new g,dimension:new f,sheetViews:new u({tag:"sheetViews",count:!1,childXform:new x}),sheetFormatPr:new y,cols:new u({tag:"cols",count:!1,childXform:new d}),sheetData:new u({tag:"sheetData",count:!1,empty:!0,childXform:new c({maxItems:F}),maxItems:I}),autoFilter:new U,mergeCells:new u({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new E,hyperlinks:new u({tag:"hyperlinks",count:!1,childXform:new h}),pageMargins:new R,dataValidations:new m,pageSetup:new $,headerFooter:new C,printOptions:new O,picture:new j,drawing:new q,sheetProtection:new T,tableParts:new u({tag:"tableParts",count:!0,childXform:new H}),conditionalFormatting:new L,extLst:new v}}prepare(S,I){I.merges=new a,S.hyperlinks=I.hyperlinks=[],S.comments=I.comments=[],I.formulae={},I.siFormulae=0,this.map.cols.prepare(S.cols,I),this.map.sheetData.prepare(S.rows,I),this.map.conditionalFormatting.prepare(S.conditionalFormattings,I),S.mergeCells=I.merges.mergeCells;let F=S.rels=[];function W(M){return"rId"+(M.length+1)}if(S.hyperlinks.forEach(M=>{let Y=W(F);M.rId=Y,F.push({Id:Y,Type:o.Hyperlink,Target:M.target,TargetMode:"External"})}),S.comments.length>0){let M={Id:W(F),Type:o.Comments,Target:`../comments${S.id}.xml`};F.push(M);let Y={Id:W(F),Type:o.VmlDrawing,Target:`../drawings/vmlDrawing${S.id}.vml`};F.push(Y),S.comments.forEach(k=>{k.refAddress=i.decodeAddress(k.ref)}),I.commentRefs.push({commentName:"comments"+S.id,vmlDrawing:"vmlDrawing"+S.id})}let B=[],X;S.media.forEach(M=>{if(M.type==="background"){let Y=W(F);X=I.media[M.imageId],F.push({Id:Y,Type:o.Image,Target:`../media/${X.name}.${X.extension}`}),S.background={rId:Y},S.image=I.media[M.imageId]}else if(M.type==="image"){let{drawing:Y}=S;X=I.media[M.imageId],Y||(Y=S.drawing={rId:W(F),name:"drawing"+ ++I.drawingsCount,anchors:[],rels:[]},I.drawings.push(Y),F.push({Id:Y.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Y.name}.xml`}));let k=this.preImageId===M.imageId?B[M.imageId]:B[Y.rels.length];k||(k=W(Y.rels),B[Y.rels.length]=k,Y.rels.push({Id:k,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${X.name}.${X.extension}`}));let D={picture:{rId:k},range:M.range};if(M.hyperlinks&&M.hyperlinks.hyperlink){let z=W(Y.rels);B[Y.rels.length]=z,D.picture.hyperlinks={tooltip:M.hyperlinks.tooltip,rId:z},Y.rels.push({Id:z,Type:o.Hyperlink,Target:M.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=M.imageId,Y.anchors.push(D)}}),S.tables.forEach(M=>{let Y=W(F);M.rId=Y,F.push({Id:Y,Type:o.Table,Target:"../tables/"+M.target}),M.columns.forEach(k=>{let{style:D}=k;D&&(k.dxfId=I.styles.addDxfStyle(D))})}),this.map.extLst.prepare(S,I)}render(S,I){S.openXml(s.StdDocAttributes),S.openNode("worksheet",_.WORKSHEET_ATTRIBUTES);let F=I.properties?{defaultRowHeight:I.properties.defaultRowHeight,dyDescent:I.properties.dyDescent,outlineLevelCol:I.properties.outlineLevelCol,outlineLevelRow:I.properties.outlineLevelRow}:void 0;I.properties&&I.properties.defaultColWidth&&(F.defaultColWidth=I.properties.defaultColWidth);let W={outlineProperties:I.properties&&I.properties.outlineProperties,tabColor:I.properties&&I.properties.tabColor,pageSetup:I.pageSetup&&I.pageSetup.fitToPage?{fitToPage:I.pageSetup.fitToPage}:void 0},B=I.pageSetup&&I.pageSetup.margins,X={showRowColHeaders:I.pageSetup&&I.pageSetup.showRowColHeaders,showGridLines:I.pageSetup&&I.pageSetup.showGridLines,horizontalCentered:I.pageSetup&&I.pageSetup.horizontalCentered,verticalCentered:I.pageSetup&&I.pageSetup.verticalCentered},M=I.sheetProtection;this.map.sheetPr.render(S,W),this.map.dimension.render(S,I.dimensions),this.map.sheetViews.render(S,I.views),this.map.sheetFormatPr.render(S,F),this.map.cols.render(S,I.cols),this.map.sheetData.render(S,I.rows),this.map.sheetProtection.render(S,M),this.map.autoFilter.render(S,I.autoFilter),this.map.mergeCells.render(S,I.mergeCells),this.map.conditionalFormatting.render(S,I.conditionalFormattings),this.map.dataValidations.render(S,I.dataValidations),this.map.hyperlinks.render(S,I.hyperlinks),this.map.printOptions.render(S,X),this.map.pageMargins.render(S,B),this.map.pageSetup.render(S,I.pageSetup),this.map.headerFooter.render(S,I.headerFooter),this.map.rowBreaks.render(S,I.rowBreaks),this.map.drawing.render(S,I.drawing),this.map.picture.render(S,I.background),this.map.tableParts.render(S,I.tables),this.map.extLst.render(S,I),I.rels&&I.rels.forEach(Y=>{Y.Type===o.VmlDrawing&&S.leafNode("legacyDrawing",{"r:id":Y.Id})}),S.closeNode()}parseOpen(S){return this.parser?(this.parser.parseOpen(S),!0):S.name==="worksheet"?(r.each(this.map,I=>{I.reset()}),!0):(this.map[S.name]&&!this.ignoreNodes.includes(S.name)&&(this.parser=this.map[S.name],this.parser.parseOpen(S)),!0)}parseText(S){this.parser&&this.parser.parseText(S)}parseClose(S){if(this.parser)return this.parser.parseClose(S)||(this.parser=void 0),!0;if(S==="worksheet"){let I=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(I.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(I.outlineProperties=this.map.sheetPr.model.outlineProperties);let F={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},W=Object.assign(F,this.map.pageSetup.model,this.map.printOptions.model),B=b(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:I,views:this.map.sheetViews.model,pageSetup:W,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:B},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}else return!0}reconcile(S,I){let F=(S.relationships||[]).reduce((B,X)=>{if(B[X.Id]=X,X.Type===o.Comments&&(S.comments=I.comments[X.Target].comments),X.Type===o.VmlDrawing&&S.comments&&S.comments.length){let M=I.vmlDrawings[X.Target].comments;S.comments.forEach((Y,k)=>{Y.note=Object.assign({},Y.note,M[k])})}return B},{});if(I.commentsMap=(S.comments||[]).reduce((B,X)=>(X.ref&&(B[X.ref]=X),B),{}),I.hyperlinkMap=(S.hyperlinks||[]).reduce((B,X)=>(X.rId&&(B[X.address]=F[X.rId].Target),B),{}),I.formulae={},S.rows=S.rows&&S.rows.filter(Boolean)||[],S.rows.forEach(B=>{B.cells=B.cells&&B.cells.filter(Boolean)||[]}),this.map.cols.reconcile(S.cols,I),this.map.sheetData.reconcile(S.rows,I),this.map.conditionalFormatting.reconcile(S.conditionalFormattings,I),S.media=[],S.drawing){let B=F[S.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(B){let X=B[1];I.drawings[X].anchors.forEach(M=>{if(M.medium){let Y={type:"image",imageId:M.medium.index,range:M.range,hyperlinks:M.picture.hyperlinks};S.media.push(Y)}})}}let W=S.background&&F[S.background.rId];if(W){let B=W.Target.split("/media/")[1],X=I.mediaIndex&&I.mediaIndex[B];X!==void 0&&S.media.push({type:"background",imageId:X})}S.tables=(S.tables||[]).map(B=>{let X=F[B.rId];return I.tables[X.Target]}),delete S.relationships,delete S.hyperlinks,delete S.comments}}_.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},e.exports=_},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr}render(i,s){s&&(i.openNode(this.tag),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this._format=i.format||function(s){try{return Number.isNaN(s.getTime())?"":s.toISOString()}catch{return""}},this._parse=i.parse||function(s){return new Date(s)}}render(i,s){s&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,this._format(s)):i.writeText(this._format(s)),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=this._parse(i.attributes[this.attr]):this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs,this.zero=i.zero}render(i,s){(s||this.zero)&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,s):i.writeText(s),i.closeNode())}parseOpen(i){return i.name===this.tag&&(this.attr?this.model=parseInt(i.attributes[this.attr],10):this.text=[],!0)}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.tag=i.tag,this.attr=i.attr,this.attrs=i.attrs}render(i,s){s!==void 0&&(i.openNode(this.tag),this.attrs&&i.addAttributes(this.attrs),this.attr?i.addAttribute(this.attr,s):i.writeText(s),i.closeNode())}parseOpen(i){i.name===this.tag&&(this.attr?this.model=i.attributes[this.attr]:this.text=[])}parseText(i){this.attr||this.text.push(i)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,e,n){"use strict";let r=t("./base-xform"),i=t("../../utils/xml-stream");e.exports=class extends r{constructor(s){super(),this._model=s}render(s){if(!this._xml){let o=new i;(function a(l,u){l.openNode(u.tag,u.$),u.c&&u.c.forEach(c=>{a(l,c)}),u.t&&l.writeText(u.t),l.closeNode()})(o,this._model),this._xml=o.xml}s.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(s){return s!==this._model.tag}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,e,n){"use strict";let r=t("./text-xform"),i=t("./rich-text-xform"),s=t("../base-xform");e.exports=class extends s{constructor(){super(),this.map={r:new i,t:new r}}get tag(){return"rPh"}render(o,a){if(o.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){let{r:l}=this.map;a.richText.forEach(u=>{l.render(o,u)})}else a&&this.map.t.render(o,a.text);o.closeNode()}parseOpen(o){let{name:a}=o;return this.parser?(this.parser.parseOpen(o),!0):a===this.tag?(this.model={sb:parseInt(o.attributes.sb,10),eb:parseInt(o.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}return o!==this.tag}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,e,n){"use strict";let r=t("./text-xform"),i=t("../style/font-xform"),s=t("../base-xform");class o extends s{constructor(l){super(),this.model=l}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new r)}get fontXform(){return this._fontXform||(this._fontXform=new i(o.FONT_OPTIONS))}render(l,u){u=u||this.model,l.openNode("r"),u.font&&this.fontXform.render(l,u.font),this.textXform.render(l,u.text),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(l),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){switch(l){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}}o.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},e.exports=o},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,e,n){"use strict";let r=t("./text-xform"),i=t("./rich-text-xform"),s=t("./phonetic-text-xform"),o=t("../base-xform");e.exports=class extends o{constructor(a){super(),this.model=a,this.map={r:new i,t:new r,rPh:new s}}get tag(){return"si"}render(a,l){a.openNode(this.tag),l&&l.hasOwnProperty("richText")&&l.richText?l.richText.length?l.richText.forEach(u=>{this.map.r.render(a,u)}):this.map.t.render(a,""):l!=null&&this.map.t.render(a,l),a.closeNode()}parseOpen(a){let{name:l}=a;return this.parser?(this.parser.parseOpen(a),!0):l===this.tag?(this.model={},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}return a!==this.tag}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("./shared-string-xform");e.exports=class extends i{constructor(o){super(),this.model=o||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new s)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(o){return this.model.values[o]}add(o){return o.richText?this.addRichText(o):this.addText(o)}addText(o){let a=this.hash[o];return a===void 0&&(a=this.hash[o]=this.model.values.length,this.model.values.push(o)),this.model.count++,a}addRichText(o){let a=this.sharedStringXform.toXml(o),l=this.rich[a];return l===void 0&&(l=this.rich[a]=this.model.values.length,this.model.values.push(o)),this.model.count++,l}render(o,a){a=a||this._values,o.openXml(r.StdDocAttributes),o.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});let l=this.sharedStringXform;a.values.forEach(u=>{l.render(o,u)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(o),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;if(o==="sst")return!1;throw new Error("Unexpected xml node in parseClose: "+o)}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"t"}render(i,s){i.openNode("t"),/^\s|\n|\s$/.test(s)&&i.addAttribute("xml:space","preserve"),i.writeText(s),i.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(i,s)=>String.fromCharCode(parseInt(s,16)))}parseOpen(i){return i.name==="t"?(this._text=[],!0):!1}parseText(i){this._text.push(i)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,e,n){"use strict";let r=t("../../../doc/enums"),i=t("../../../utils/utils"),s=t("../base-xform"),o={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((l,u)=>(l[u]=!0,l),{}),horizontal(l){return this.horizontalValues[l]?l:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((l,u)=>(l[u]=!0,l),{}),vertical(l){return l==="middle"?"center":this.verticalValues[l]?l:void 0},wrapText:l=>!!l||void 0,shrinkToFit:l=>!!l||void 0,textRotation(l){return l==="vertical"||(l=i.validInt(l))>=-90&&l<=90?l:void 0},indent:l=>(l=i.validInt(l),Math.max(0,l)),readingOrder(l){switch(l){case"ltr":return r.ReadingOrder.LeftToRight;case"rtl":return r.ReadingOrder.RightToLeft;default:return}}},a={toXml(l){if(l=o.textRotation(l)){if(l==="vertical")return 255;let u=Math.round(l);if(u>=0&&u<=90)return u;if(u<0&&u>=-90)return 90-u}},toModel(l){let u=i.validInt(l);if(u!==void 0){if(u===255)return"vertical";if(u>=0&&u<=90)return u;if(u>90&&u<=180)return 90-u}}};e.exports=class extends s{get tag(){return"alignment"}render(l,u){l.addRollback(),l.openNode("alignment");let c=!1;function d(f,h){h&&(l.addAttribute(f,h),c=!0)}d("horizontal",o.horizontal(u.horizontal)),d("vertical",o.vertical(u.vertical)),d("wrapText",!!o.wrapText(u.wrapText)&&"1"),d("shrinkToFit",!!o.shrinkToFit(u.shrinkToFit)&&"1"),d("indent",o.indent(u.indent)),d("textRotation",a.toXml(u.textRotation)),d("readingOrder",o.readingOrder(u.readingOrder)),l.closeNode(),c?l.commit():l.rollback()}parseOpen(l){let u={},c=!1;function d(f,h,p){f&&(u[h]=p,c=!0)}d(l.attributes.horizontal,"horizontal",l.attributes.horizontal),d(l.attributes.vertical,"vertical",l.attributes.vertical==="center"?"middle":l.attributes.vertical),d(l.attributes.wrapText,"wrapText",i.parseBoolean(l.attributes.wrapText)),d(l.attributes.shrinkToFit,"shrinkToFit",i.parseBoolean(l.attributes.shrinkToFit)),d(l.attributes.indent,"indent",parseInt(l.attributes.indent,10)),d(l.attributes.textRotation,"textRotation",a.toModel(l.attributes.textRotation)),d(l.attributes.readingOrder,"readingOrder",l.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=c?u:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../../../utils/utils"),s=t("./color-xform");class o extends r{constructor(l){super(),this.name=l,this.map={color:new s}}get tag(){return this.name}render(l,u,c){let d=u&&u.color||c||this.defaultColor;l.openNode(this.name),u&&u.style&&(l.addAttribute("style",u.style),d&&this.map.color.render(l,d)),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.name:{let{style:u}=l.attributes;return this.model=u?{style:u}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(l===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(l){return o.validStyleValues[l]}}o.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,l)=>(a[l]=!0,a),{}),e.exports=class extends r{constructor(){super(),this.map={top:new o("top"),left:new o("left"),bottom:new o("bottom"),right:new o("right"),diagonal:new o("diagonal")}}render(a,l){let{color:u}=l;function c(d,f){d&&!d.color&&l.color&&(d=qt(Ne({},d),{color:l.color})),f.render(a,d,u)}a.openNode("border"),l.diagonal&&l.diagonal.style&&(l.diagonal.up&&a.addAttribute("diagonalUp","1"),l.diagonal.down&&a.addAttribute("diagonalDown","1")),c(l.left,this.map.left),c(l.right,this.map.right),c(l.top,this.map.top),c(l.bottom,this.map.bottom),c(l.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name==="border"?(this.reset(),this.diagonalUp=i.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=i.parseBoolean(a.attributes.diagonalDown),!0):(this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){let l=this.model={},u=function(c,d,f){d&&(f&&Object.assign(d,f),l[c]=d)};u("left",this.map.left.model),u("right",this.map.right.model),u("top",this.map.top.model),u("bottom",this.map.bottom.model),u("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{constructor(i){super(),this.name=i||"color"}get tag(){return this.name}render(i,s){return!!s&&(i.openNode(this.name),s.argb?i.addAttribute("rgb",s.argb):s.theme!==void 0?(i.addAttribute("theme",s.theme),s.tint!==void 0&&i.addAttribute("tint",s.tint)):s.indexed!==void 0?i.addAttribute("indexed",s.indexed):i.addAttribute("auto","1"),i.closeNode(),!0)}parseOpen(i){return i.name===this.name&&(i.attributes.rgb?this.model={argb:i.attributes.rgb}:i.attributes.theme?(this.model={theme:parseInt(i.attributes.theme,10)},i.attributes.tint&&(this.model.tint=parseFloat(i.attributes.tint))):i.attributes.indexed?this.model={indexed:parseInt(i.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./alignment-xform"),s=t("./border-xform"),o=t("./fill-xform"),a=t("./font-xform"),l=t("./numfmt-xform"),u=t("./protection-xform");e.exports=class extends r{constructor(){super(),this.map={alignment:new i,border:new s,fill:new o,font:new a,numFmt:new l,protection:new u}}get tag(){return"dxf"}render(c,d){if(c.openNode(this.tag),d.font&&this.map.font.render(c,d.font),d.numFmt&&d.numFmtId){let f={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(c,f)}d.fill&&this.map.fill.render(c,d.fill),d.alignment&&this.map.alignment.render(c,d.alignment),d.border&&this.map.border.render(c,d.border),d.protection&&this.map.protection.render(c,d.protection),c.closeNode()}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name===this.tag?(this.reset(),!0):(this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):c!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./color-xform");class s extends r{constructor(){super(),this.map={color:new i}}get tag(){return"stop"}render(c,d){c.openNode("stop"),c.addAttribute("position",d.position),this.map.color.render(c,d.color),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"stop":return this.model={position:parseFloat(c.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(){}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class o extends r{constructor(){super(),this.map={fgColor:new i("fgColor"),bgColor:new i("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(c,d){c.openNode("patternFill"),c.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(c,d.fgColor),d.bgColor&&this.map.bgColor.render(c,d.bgColor),c.closeNode()}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name==="patternFill"?(this.model={type:"pattern",pattern:c.attributes.patternType},!0):(this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.parser.model&&(this.model[c]=this.parser.model),this.parser=void 0),!0)}}class a extends r{constructor(){super(),this.map={stop:new s}}get name(){return"gradient"}get tag(){return"gradientFill"}render(c,d){switch(c.openNode("gradientFill"),d.gradient){case"angle":c.addAttribute("degree",d.degree);break;case"path":c.addAttribute("type","path"),d.center.left&&(c.addAttribute("left",d.center.left),d.center.right===void 0&&c.addAttribute("right",d.center.left)),d.center.right&&c.addAttribute("right",d.center.right),d.center.top&&(c.addAttribute("top",d.center.top),d.center.bottom===void 0&&c.addAttribute("bottom",d.center.top)),d.center.bottom&&c.addAttribute("bottom",d.center.bottom)}let f=this.map.stop;d.stops.forEach(h=>{f.render(c,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"gradientFill":{let d=this.model={stops:[]};return c.attributes.degree?(d.gradient="angle",d.degree=parseInt(c.attributes.degree,10)):c.attributes.type==="path"&&(d.gradient="path",d.center={left:c.attributes.left?parseFloat(c.attributes.left):0,top:c.attributes.top?parseFloat(c.attributes.top):0},c.attributes.right!==c.attributes.left&&(d.center.right=c.attributes.right?parseFloat(c.attributes.right):0),c.attributes.bottom!==c.attributes.top&&(d.center.bottom=c.attributes.bottom?parseFloat(c.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class l extends r{constructor(){super(),this.map={patternFill:new o,gradientFill:new a}}get tag(){return"fill"}render(c,d){switch(c.addRollback(),c.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(c,d);break;case"gradient":this.map.gradientFill.render(c,d);break;default:return void c.rollback()}c.closeNode(),c.commit()}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name==="fill"?(this.model={},!0):(this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(c){return l.validPatternValues[c]}}l.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((u,c)=>(u[c]=!0,u),{}),l.StopXform=s,l.PatternFillXform=o,l.GradientFillXform=a,e.exports=l},{"../base-xform":32,"./color-xform":128}],131:[function(t,e,n){"use strict";let r=t("./color-xform"),i=t("../simple/boolean-xform"),s=t("../simple/integer-xform"),o=t("../simple/string-xform"),a=t("./underline-xform"),l=t("../../../utils/under-dash"),u=t("../base-xform");class c extends u{constructor(f){super(),this.options=f||c.OPTIONS,this.map={b:{prop:"bold",xform:new i({tag:"b",attr:"val"})},i:{prop:"italic",xform:new i({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new s({tag:"charset",attr:"val"})},color:{prop:"color",xform:new r},condense:{prop:"condense",xform:new i({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new i({tag:"extend",attr:"val"})},family:{prop:"family",xform:new s({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new i({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new o({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new o({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new i({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new i({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new s({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new o({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(f,h){let{map:p}=this;f.openNode(this.options.tagName),l.each(this.map,(m,g)=>{p[g].xform.render(f,h[m.prop])}),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):this.map[f.name]?(this.parser=this.map[f.name].xform,this.parser.parseOpen(f)):f.name===this.options.tagName?(this.model={},!0):!1}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser&&!this.parser.parseClose(f)){let h=this.map[f];return this.parser.model&&(this.model[h.prop]=this.parser.model),this.parser=void 0,!0}return f!==this.options.tagName}}c.OPTIONS={tagName:"font",fontNameTag:"name"},e.exports=c},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,e,n){"use strict";let r=t("../../../utils/under-dash"),i=t("../../defaultnumformats"),s=t("../base-xform"),o=(function(){let l={};return r.each(i,(u,c)=>{u.f&&(l[u.f]=parseInt(c,10))}),l})();class a extends s{constructor(u,c){super(),this.id=u,this.formatCode=c}get tag(){return"numFmt"}render(u,c){u.leafNode("numFmt",{numFmtId:c.id,formatCode:c.formatCode})}parseOpen(u){return u.name==="numFmt"?(this.model={id:parseInt(u.attributes.numFmtId,10),formatCode:u.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0):!1}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(l){return o[l]},a.getDefaultFmtCode=function(l){return i[l]&&i[l].f},e.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,e,n){"use strict";let r=t("../base-xform"),i={boolean:(s,o)=>s===void 0?o:s};e.exports=class extends r{get tag(){return"protection"}render(s,o){s.addRollback(),s.openNode("protection");let a=!1;function l(u,c){c!==void 0&&(s.addAttribute(u,c),a=!0)}l("locked",i.boolean(o.locked,!0)?void 0:"0"),l("hidden",i.boolean(o.hidden,!1)?"1":void 0),s.closeNode(),a?s.commit():s.rollback()}parseOpen(s){let o={locked:s.attributes.locked!=="0",hidden:s.attributes.hidden==="1"},a=!o.locked||o.hidden;this.model=a?o:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./alignment-xform"),s=t("./protection-xform");e.exports=class extends r{constructor(o){super(),this.xfId=!(!o||!o.xfId),this.map={alignment:new i,protection:new s}}get tag(){return"xf"}render(o,a){o.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&o.addAttribute("xfId",a.xfId||0),a.numFmtId&&o.addAttribute("applyNumberFormat","1"),a.fontId&&o.addAttribute("applyFont","1"),a.fillId&&o.addAttribute("applyFill","1"),a.borderId&&o.addAttribute("applyBorder","1"),a.alignment&&o.addAttribute("applyAlignment","1"),a.protection&&o.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(o,a.alignment),a.protection&&this.map.protection.render(o,a.protection),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"xf":return this.model={numFmtId:parseInt(o.attributes.numFmtId,10),fontId:parseInt(o.attributes.fontId,10),fillId:parseInt(o.attributes.fillId,10),borderId:parseInt(o.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(o.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(o),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):o!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,e,n){"use strict";let r=t("../../../doc/enums"),i=t("../../../utils/xml-stream"),s=t("../base-xform"),o=t("../static-xform"),a=t("../list-xform"),l=t("./font-xform"),u=t("./fill-xform"),c=t("./border-xform"),d=t("./numfmt-xform"),f=t("./style-xform"),h=t("./dxf-xform");class p extends s{constructor(g){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new d}),fonts:new a({tag:"fonts",count:!0,childXform:new l,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new u}),borders:new a({tag:"borders",count:!0,childXform:new c}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new f}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new f({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new h}),numFmt:new d,font:new l,fill:new u,border:new c,style:new f({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},g&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(g,y){y=y||this.model,g.openXml(i.StdDocAttributes),g.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(y.numFmts&&y.numFmts.length&&(g.openNode("numFmts",{count:y.numFmts.length}),y.numFmts.forEach(x=>{g.writeXml(x)}),g.closeNode()),y.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),g.openNode("fonts",{count:y.fonts.length,"x14ac:knownFonts":1}),y.fonts.forEach(x=>{g.writeXml(x)}),g.closeNode(),g.openNode("fills",{count:y.fills.length}),y.fills.forEach(x=>{g.writeXml(x)}),g.closeNode(),g.openNode("borders",{count:y.borders.length}),y.borders.forEach(x=>{g.writeXml(x)}),g.closeNode(),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),g.openNode("cellXfs",{count:y.styles.length}),y.styles.forEach(x=>{g.writeXml(x)}),g.closeNode()):(this.map.numFmts.render(g,y.numFmts),this.map.fonts.render(g,y.fonts),this.map.fills.render(g,y.fills),this.map.borders.render(g,y.borders),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(g,y.styles)),p.STATIC_XFORMS.cellStyles.render(g),this.map.dxfs.render(g,y.dxfs),p.STATIC_XFORMS.tableStyles.render(g),p.STATIC_XFORMS.extLst.render(g),g.closeNode()}parseOpen(g){return this.parser?(this.parser.parseOpen(g),!0):g.name==="styleSheet"?(this.initIndex(),!0):(this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0)}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"styleSheet":{this.model={};let y=(x,T)=>{T.model&&T.model.length&&(this.model[x]=T.model)};if(y("numFmts",this.map.numFmts),y("fonts",this.map.fonts),y("fills",this.map.fills),y("borders",this.map.borders),y("styles",this.map.cellXfs),y("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){let x=this.index.numFmt;this.model.numFmts.forEach(T=>{x[T.id]=T.formatCode})}return!1}default:return!0}}addStyleModel(g,y){if(!g)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(g))return this.weakMap.get(g);let x={};if(y=y||r.ValueType.Number,g.numFmt)x.numFmtId=this._addNumFmtStr(g.numFmt);else switch(y){case r.ValueType.Number:x.numFmtId=this._addNumFmtStr("General");break;case r.ValueType.Date:x.numFmtId=this._addNumFmtStr("mm-dd-yy")}g.font&&(x.fontId=this._addFont(g.font)),g.border&&(x.borderId=this._addBorder(g.border)),g.fill&&(x.fillId=this._addFill(g.fill)),g.alignment&&(x.alignment=g.alignment),g.protection&&(x.protection=g.protection);let T=this._addStyle(x);return this.weakMap&&this.weakMap.set(g,T),T}getStyleModel(g){let y=this.model.styles[g];if(!y)return null;let x=this.index.model[g];if(x)return x;if(x=this.index.model[g]={},y.numFmtId){let R=this.index.numFmt[y.numFmtId]||d.getDefaultFmtCode(y.numFmtId);R&&(x.numFmt=R)}function T(R,$,O){if(O||O===0){let U=$[O];U&&(x[R]=U)}}return T("font",this.model.fonts,y.fontId),T("border",this.model.borders,y.borderId),T("fill",this.model.fills,y.fillId),y.alignment&&(x.alignment=y.alignment),y.protection&&(x.protection=y.protection),x}addDxfStyle(g){return g.numFmt&&(g.numFmtId=this._addNumFmtStr(g.numFmt)),this.model.dxfs.push(g),this.model.dxfs.length-1}getDxfStyle(g){return this.model.dxfs[g]}_addStyle(g){let y=this.map.style.toXml(g),x=this.index.style[y];return x===void 0&&(x=this.index.style[y]=this.model.styles.length,this.model.styles.push(y)),x}_addNumFmtStr(g){let y=d.getDefaultFmtId(g);if(y!==void 0||(y=this.index.numFmt[g],y!==void 0))return y;y=this.index.numFmt[g]=164+this.model.numFmts.length;let x=this.map.numFmt.toXml({id:y,formatCode:g});return this.model.numFmts.push(x),y}_addFont(g){let y=this.map.font.toXml(g),x=this.index.font[y];return x===void 0&&(x=this.index.font[y]=this.model.fonts.length,this.model.fonts.push(y)),x}_addBorder(g){let y=this.map.border.toXml(g),x=this.index.border[y];return x===void 0&&(x=this.index.border[y]=this.model.borders.length,this.model.borders.push(y)),x}_addFill(g){let y=this.map.fill.toXml(g),x=this.index.fill[y];return x===void 0&&(x=this.index.fill[y]=this.model.fills.length,this.model.fills.push(y)),x}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new o({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new o({tag:"dxfs",$:{count:0}}),tableStyles:new o({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new o({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(m){return m.autodrain(),Promise.resolve()}addStyleModel(m,g){return g===r.ValueType.Date?this.dateStyleId:0}get dateStyleId(){if(!this._dateStyleId){let m={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(m)}return this._dateStyleId}getStyleModel(){return{}}},e.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,e,n){"use strict";let r=t("../base-xform");class i extends r{constructor(o){super(),this.model=o}get tag(){return"u"}render(o,a){if((a=a||this.model)===!0)o.leafNode("u");else{let l=i.Attributes[a];l&&o.leafNode("u",l)}}parseOpen(o){o.name==="u"&&(this.model=o.attributes.val||!0)}parseText(){}parseClose(){return!1}}i.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},e.exports=i},{"../base-xform":32}],137:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("./filter-column-xform");e.exports=class extends r{constructor(){super(),this.map={filterColumn:new i}}get tag(){return"autoFilter"}prepare(s){s.columns.forEach((o,a)=>{this.map.filterColumn.prepare(o,{index:a})})}render(s,o){return s.openNode(this.tag,{ref:o.autoFilterRef}),o.columns.forEach(a=>{this.map.filterColumn.render(s,a)}),s.closeNode(),!0}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model={autoFilterRef:s.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[s.name],this.parser)return this.parseOpen(s),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;if(s===this.tag)return!1;throw new Error("Unexpected xml node in parseClose: "+s)}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"customFilter"}render(i,s){i.leafNode(this.tag,{val:s.val,operator:s.operator})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val,operator:i.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,e,n){"use strict";let r=t("../base-xform"),i=t("../list-xform"),s=t("./custom-filter-xform"),o=t("./filter-xform");e.exports=class extends r{constructor(){super(),this.map={customFilters:new i({tag:"customFilters",count:!1,empty:!0,childXform:new s}),filters:new i({tag:"filters",count:!1,empty:!0,childXform:new o})}}get tag(){return"filterColumn"}prepare(a,l){a.colId=l.index.toString()}render(a,l){return l.customFilters?(a.openNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),this.map.customFilters.render(a,l.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;let{attributes:l}=a;switch(a.name){case this.tag:return this.model={filterButton:l.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):a===this.tag?(this.model.customFilters=this.map.customFilters.model,!1):!0}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"filter"}render(i,s){i.leafNode(this.tag,{val:s.val})}parseOpen(i){return i.name===this.tag&&(this.model={val:i.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"tableColumn"}prepare(i,s){i.id=s.index+1}render(i,s){return i.leafNode(this.tag,{id:s.id.toString(),name:s.name,totalsRowLabel:s.totalsRowLabel,totalsRowFunction:s.totalsRowFunction,dxfId:s.dxfId}),!0}parseOpen(i){if(i.name===this.tag){let{attributes:s}=i;return this.model={name:s.name,totalsRowLabel:s.totalsRowLabel,totalsRowFunction:s.totalsRowFunction,dxfId:s.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,e,n){"use strict";let r=t("../base-xform");e.exports=class extends r{get tag(){return"tableStyleInfo"}render(i,s){return i.leafNode(this.tag,{name:s.theme?s.theme:void 0,showFirstColumn:s.showFirstColumn?"1":"0",showLastColumn:s.showLastColumn?"1":"0",showRowStripes:s.showRowStripes?"1":"0",showColumnStripes:s.showColumnStripes?"1":"0"}),!0}parseOpen(i){if(i.name===this.tag){let{attributes:s}=i;return this.model={theme:s.name?s.name:null,showFirstColumn:s.showFirstColumn==="1",showLastColumn:s.showLastColumn==="1",showRowStripes:s.showRowStripes==="1",showColumnStripes:s.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,e,n){"use strict";let r=t("../../../utils/xml-stream"),i=t("../base-xform"),s=t("../list-xform"),o=t("./auto-filter-xform"),a=t("./table-column-xform"),l=t("./table-style-info-xform");class u extends i{constructor(){super(),this.map={autoFilter:new o,tableColumns:new s({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new l}}prepare(d,f){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,f)}get tag(){return"table"}render(d,f){d.openXml(r.StdDocAttributes),d.openNode(this.tag,qt(Ne({},u.TABLE_ATTRIBUTES),{id:f.id,name:f.name,displayName:f.displayName||f.name,ref:f.tableRef,totalsRowCount:f.totalsRow?"1":void 0,totalsRowShown:f.totalsRow?void 0:"1",headerRowCount:f.headerRow?"1":"0"})),this.map.autoFilter.render(d,f),this.map.tableColumns.render(d,f.columns),this.map.tableStyleInfo.render(d,f.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;let{name:f,attributes:h}=d;return f===this.tag?(this.reset(),this.model={name:h.name,displayName:h.displayName||h.name,tableRef:h.ref,totalsRow:h.totalsRowCount==="1",headerRow:h.headerRowCount==="1"}):(this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)),!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d===this.tag?(this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((f,h)=>{this.model.columns[h].filterButton=f.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1):!0}reconcile(d,f){d.columns.forEach(h=>{h.dxfId!==void 0&&(h.style=f.styles.getDxfStyle(h.dxfId))})}}u.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},e.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,e,n){(function(r,i){(function(){"use strict";let s=t("fs"),o=t("jszip"),{PassThrough:a}=t("readable-stream"),l=t("../utils/zip-stream"),u=t("../utils/stream-buf"),c=t("../utils/utils"),d=t("../utils/xml-stream"),{bufferToString:f}=t("../utils/browser-buffer-decode"),h=t("./xform/style/styles-xform"),p=t("./xform/core/core-xform"),m=t("./xform/strings/shared-strings-xform"),g=t("./xform/core/relationships-xform"),y=t("./xform/core/content-types-xform"),x=t("./xform/core/app-xform"),T=t("./xform/book/workbook-xform"),R=t("./xform/sheet/worksheet-xform"),$=t("./xform/drawing/drawing-xform"),O=t("./xform/table/table-xform"),U=t("./xform/comment/comments-xform"),j=t("./xform/comment/vml-notes-xform"),q=t("./xml/theme1");class H{constructor(C){this.workbook=C}async readFile(C,L){if(!await c.fs.exists(C))throw new Error("File not found: "+C);let v=s.createReadStream(C);try{let b=await this.read(v,L);return v.close(),b}catch(b){throw v.close(),b}}parseRels(C){return new g().parseStream(C)}parseWorkbook(C){return new T().parseStream(C)}parseSharedStrings(C){return new m().parseStream(C)}reconcile(C,L){let v=new T,b=new R(L),_=new $,w=new O;v.reconcile(C);let S={media:C.media,mediaIndex:C.mediaIndex};Object.keys(C.drawings).forEach(W=>{let B=C.drawings[W],X=C.drawingRels[W];X&&(S.rels=X.reduce((M,Y)=>(M[Y.Id]=Y,M),{}),(B.anchors||[]).forEach(M=>{let Y=M.picture&&M.picture.hyperlinks;Y&&S.rels[Y.rId]&&(Y.hyperlink=S.rels[Y.rId].Target,delete Y.rId)}),_.reconcile(B,S))});let I={styles:C.styles};Object.values(C.tables).forEach(W=>{w.reconcile(W,I)});let F={styles:C.styles,sharedStrings:C.sharedStrings,media:C.media,mediaIndex:C.mediaIndex,date1904:C.properties&&C.properties.date1904,drawings:C.drawings,comments:C.comments,tables:C.tables,vmlDrawings:C.vmlDrawings};C.worksheets.forEach(W=>{W.relationships=C.worksheetRels[W.sheetNo],b.reconcile(W,F)}),delete C.worksheetHash,delete C.worksheetRels,delete C.globalRels,delete C.sharedStrings,delete C.workbookRels,delete C.sheetDefs,delete C.styles,delete C.mediaIndex,delete C.drawings,delete C.drawingRels,delete C.vmlDrawings}async _processWorksheetEntry(C,L,v,b,_){let w=new R(b),S=await w.parseStream(C);S.sheetNo=v,L.worksheetHash[_]=S,L.worksheets.push(S)}async _processCommentEntry(C,L,v){let b=new U,_=await b.parseStream(C);L.comments[`../${v}.xml`]=_}async _processTableEntry(C,L,v){let b=new O,_=await b.parseStream(C);L.tables[`../tables/${v}.xml`]=_}async _processWorksheetRelsEntry(C,L,v){let b=new g,_=await b.parseStream(C);L.worksheetRels[v]=_}async _processMediaEntry(C,L,v){let b=v.lastIndexOf(".");if(b>=1){let _=v.substr(b+1),w=v.substr(0,b);await new Promise((S,I)=>{let F=new u;F.on("finish",()=>{L.mediaIndex[v]=L.media.length,L.mediaIndex[w]=L.media.length;let W={type:"image",name:w,extension:_,buffer:F.toBuffer()};L.media.push(W),S()}),C.on("error",W=>{I(W)}),C.pipe(F)})}}async _processDrawingEntry(C,L,v){let b=new $,_=await b.parseStream(C);L.drawings[v]=_}async _processDrawingRelsEntry(C,L,v){let b=new g,_=await b.parseStream(C);L.drawingRels[v]=_}async _processVmlDrawingEntry(C,L,v){let b=new j,_=await b.parseStream(C);L.vmlDrawings[`../drawings/${v}.vml`]=_}async _processThemeEntry(C,L,v){await new Promise((b,_)=>{let w=new u;C.on("error",_),w.on("error",_),w.on("finish",()=>{L.themes[v]=w.read().toString(),b()}),C.pipe(w)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(C,L){!C[Symbol.asyncIterator]&&C.pipe&&(C=C.pipe(new a));let v=[];for await(let b of C)v.push(b);return this.load(i.concat(v),L)}async load(C,L){let v;v=L&&L.base64?i.from(C.toString(),"base64"):C;let b={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},_=await o.loadAsync(v);for(let w of Object.values(_.files))if(!w.dir){let S,I=w.name;if(I[0]==="/"&&(I=I.substr(1)),I.match(/xl\/media\//)||I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))S=new a,S.write(await w.async("nodebuffer"));else{let F;S=new a({writableObjectMode:!0,readableObjectMode:!0}),F=r.browser?f(await w.async("nodebuffer")):await w.async("string");let W=16384;for(let B=0;B<F.length;B+=W)S.write(F.substring(B,B+W))}switch(S.end(),I){case"_rels/.rels":b.globalRels=await this.parseRels(S);break;case"xl/workbook.xml":{let F=await this.parseWorkbook(S);b.sheets=F.sheets,b.definedNames=F.definedNames,b.views=F.views,b.properties=F.properties,b.calcProperties=F.calcProperties;break}case"xl/_rels/workbook.xml.rels":b.workbookRels=await this.parseRels(S);break;case"xl/sharedStrings.xml":b.sharedStrings=new m,await b.sharedStrings.parseStream(S);break;case"xl/styles.xml":b.styles=new h,await b.styles.parseStream(S);break;case"docProps/app.xml":{let F=new x,W=await F.parseStream(S);b.company=W.company,b.manager=W.manager;break}case"docProps/core.xml":{let F=new p,W=await F.parseStream(S);Object.assign(b,W);break}default:{let F=I.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(F){await this._processWorksheetEntry(S,b,F[1],L,I);break}if(F=I.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),F){await this._processWorksheetRelsEntry(S,b,F[1]);break}if(F=I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),F){await this._processThemeEntry(S,b,F[1]);break}if(F=I.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),F){await this._processMediaEntry(S,b,F[1]);break}if(F=I.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),F){await this._processDrawingEntry(S,b,F[1]);break}if(F=I.match(/xl\/(comments\d+)[.]xml/),F){await this._processCommentEntry(S,b,F[1]);break}if(F=I.match(/xl\/tables\/(table\d+)[.]xml/),F){await this._processTableEntry(S,b,F[1]);break}if(F=I.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),F){await this._processDrawingRelsEntry(S,b,F[1]);break}if(F=I.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),F){await this._processVmlDrawingEntry(S,b,F[1]);break}}}}return this.reconcile(b,L),this.workbook.model=b,this.workbook}async addMedia(C,L){await Promise.all(L.media.map(async v=>{if(v.type==="image"){let b=`xl/media/${v.name}.${v.extension}`;if(v.filename){let _=await(function(w,S){return new Promise((I,F)=>{s.readFile(w,S,(W,B)=>{W?F(W):I(B)})})})(v.filename);return C.append(_,{name:b})}if(v.buffer)return C.append(v.buffer,{name:b});if(v.base64){let _=v.base64,w=_.substring(_.indexOf(",")+1);return C.append(w,{name:b,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(C,L){let v=new $,b=new g;L.worksheets.forEach(_=>{let{drawing:w}=_;if(w){v.prepare(w,{});let S=v.toXml(w);C.append(S,{name:`xl/drawings/${w.name}.xml`}),S=b.toXml(w.rels),C.append(S,{name:`xl/drawings/_rels/${w.name}.xml.rels`})}})}addTables(C,L){let v=new O;L.worksheets.forEach(b=>{let{tables:_}=b;_.forEach(w=>{v.prepare(w,{});let S=v.toXml(w);C.append(S,{name:"xl/tables/"+w.target})})})}async addContentTypes(C,L){let v=new y().toXml(L);C.append(v,{name:"[Content_Types].xml"})}async addApp(C,L){let v=new x().toXml(L);C.append(v,{name:"docProps/app.xml"})}async addCore(C,L){let v=new p;C.append(v.toXml(L),{name:"docProps/core.xml"})}async addThemes(C,L){let v=L.themes||{theme1:q};Object.keys(v).forEach(b=>{let _=v[b],w=`xl/theme/${b}.xml`;C.append(_,{name:w})})}async addOfficeRels(C){let L=new g().toXml([{Id:"rId1",Type:H.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:H.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:H.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);C.append(L,{name:"_rels/.rels"})}async addWorkbookRels(C,L){let v=1,b=[{Id:"rId"+v++,Type:H.RelType.Styles,Target:"styles.xml"},{Id:"rId"+v++,Type:H.RelType.Theme,Target:"theme/theme1.xml"}];L.sharedStrings.count&&b.push({Id:"rId"+v++,Type:H.RelType.SharedStrings,Target:"sharedStrings.xml"}),L.worksheets.forEach(w=>{w.rId="rId"+v++,b.push({Id:w.rId,Type:H.RelType.Worksheet,Target:`worksheets/sheet${w.id}.xml`})});let _=new g().toXml(b);C.append(_,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(C,L){L.sharedStrings&&L.sharedStrings.count&&C.append(L.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(C,L){let{xml:v}=L.styles;v&&C.append(v,{name:"xl/styles.xml"})}async addWorkbook(C,L){let v=new T;C.append(v.toXml(L),{name:"xl/workbook.xml"})}async addWorksheets(C,L){let v=new R,b=new g,_=new U,w=new j;L.worksheets.forEach(S=>{let I=new d;v.render(I,S),C.append(I.xml,{name:`xl/worksheets/sheet${S.id}.xml`}),S.rels&&S.rels.length&&(I=new d,b.render(I,S.rels),C.append(I.xml,{name:`xl/worksheets/_rels/sheet${S.id}.xml.rels`})),S.comments.length>0&&(I=new d,_.render(I,S),C.append(I.xml,{name:`xl/comments${S.id}.xml`}),I=new d,w.render(I,S),C.append(I.xml,{name:`xl/drawings/vmlDrawing${S.id}.vml`}))})}_finalize(C){return new Promise((L,v)=>{C.on("finish",()=>{L(this)}),C.on("error",v),C.finalize()})}prepareModel(C,L){C.creator=C.creator||"ExcelJS",C.lastModifiedBy=C.lastModifiedBy||"ExcelJS",C.created=C.created||new Date,C.modified=C.modified||new Date,C.useSharedStrings=L.useSharedStrings===void 0||L.useSharedStrings,C.useStyles=L.useStyles===void 0||L.useStyles,C.sharedStrings=new m,C.styles=C.useStyles?new h(!0):new h.Mock;let v=new T,b=new R;v.prepare(C);let _={sharedStrings:C.sharedStrings,styles:C.styles,date1904:C.properties.date1904,drawingsCount:0,media:C.media};_.drawings=C.drawings=[],_.commentRefs=C.commentRefs=[];let w=0;C.tables=[],C.worksheets.forEach(S=>{S.tables.forEach(I=>{w++,I.target=`table${w}.xml`,I.id=w,C.tables.push(I)}),b.prepare(S,_)})}async write(C,L){L=L||{};let{model:v}=this.workbook,b=new l.ZipWriter(L.zip);return b.pipe(C),this.prepareModel(v,L),await this.addContentTypes(b,v),await this.addOfficeRels(b,v),await this.addWorkbookRels(b,v),await this.addWorksheets(b,v),await this.addSharedStrings(b,v),await this.addDrawings(b,v),await this.addTables(b,v),await Promise.all([this.addThemes(b,v),this.addStyles(b,v)]),await this.addMedia(b,v),await Promise.all([this.addApp(b,v),this.addCore(b,v)]),await this.addWorkbook(b,v),this._finalize(b)}writeFile(C,L){let v=s.createWriteStream(C);return new Promise((b,_)=>{v.on("finish",()=>{b()}),v.on("error",w=>{_(w)}),this.write(v,L).then(()=>{v.end()}).catch(w=>{_(w)})})}async writeBuffer(C){let L=new u;return await this.write(L,C),L.read()}}H.RelType=t("./rel-type"),e.exports=H}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,e,n){"use strict";e.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,e,n){(function(r){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvFormatterStream=void 0;let i=t("stream"),s=t("./formatter");class o extends i.Transform{constructor(l){super({writableObjectMode:l.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=l,this.rowFormatter=new s.RowFormatter(l),this.hasWrittenBOM=!l.writeBOM}transform(l){return this.rowFormatter.rowTransform=l,this}_transform(l,u,c){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(l,(f,h)=>f?(d=!0,c(f)):(h&&h.forEach(p=>{this.push(r.from(p,"utf8"))}),d=!0,c()))}catch(f){if(d)throw f;c(f)}}_flush(l){this.rowFormatter.finish((u,c)=>u?l(u):(c&&c.forEach(d=>{this.push(r.from(d,"utf8"))}),l()))}}n.CsvFormatterStream=o}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FormatterOptions=void 0,n.FormatterOptions=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var i;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,r||{}),r?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),r?.quote===!0?this.quote='"':r?.quote===!1&&(this.quote=""),typeof r?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((i=r.writeHeaders)===null||i===void 0||i),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,e,n){"use strict";var r=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=void 0;let i=r(t("lodash.isboolean")),s=r(t("lodash.isnil")),o=r(t("lodash.escaperegexp"));n.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");let l=`[${a.delimiter}${o.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(l)}set headers(a){this._headers=a}shouldQuote(a,l){let u=l?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return i.default(u)?u:Array.isArray(u)?u[a]:this._headers!==null&&u[this._headers[a]]}format(a,l,u){let c=(""+(s.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&c.indexOf(d.quote)!==-1?this.quoteField(c.replace(this.REPLACE_REGEXP,d.escapedQuote)):c.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(l,u)?this.quoteField(c):c}quoteField(a){let{quote:l}=this.formatterOptions;return`${l}${a}${l}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,e,n){"use strict";var r=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowFormatter=void 0;let i=r(t("lodash.isfunction")),s=r(t("lodash.isequal")),o=t("./FieldFormatter"),a=t("../types");class l{constructor(c){this.rowCount=0,this.formatterOptions=c,this.fieldFormatter=new o.FieldFormatter(c),this.headers=c.headers,this.shouldWriteHeaders=c.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),c.transform&&(this.rowTransform=c.transform)}static isRowHashArray(c){return!!Array.isArray(c)&&Array.isArray(c[0])&&c[0].length===2}static isRowArray(c){return Array.isArray(c)&&!this.isRowHashArray(c)}static gatherHeaders(c){return l.isRowHashArray(c)?c.map(d=>d[0]):Array.isArray(c)?c:Object.keys(c)}static createTransform(c){return a.isSyncTransform(c)?(d,f)=>{let h=null;try{h=c(d)}catch(p){return f(p)}return f(null,h)}:(d,f)=>{c(d,f)}}set rowTransform(c){if(!i.default(c))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(c)}format(c,d){this.callTransformer(c,(f,h)=>{if(f)return d(f);if(!c)return d(null);let p=[];if(h){let{shouldFormatColumns:m,headers:g}=this.checkHeaders(h);if(this.shouldWriteHeaders&&g&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(g,!0)),this.hasWrittenHeaders=!0),m){let y=this.gatherColumns(h);p.push(this.formatColumns(y,!1))}}return d(null,p)})}finish(c){let d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return c(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),c(null,d)}checkHeaders(c){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};let d=l.gatherHeaders(c);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!s.default(d,c),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(c){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(c)?l.isRowHashArray(c)?this.headers.map((d,f)=>{let h=c[f];return h?h[1]:""}):l.isRowArray(c)&&!this.shouldWriteHeaders?c:this.headers.map((d,f)=>c[f]):this.headers.map(d=>c[d])}callTransformer(c,d){return this._rowTransform?this._rowTransform(c,d):d(null,c)}formatColumns(c,d){let f=c.map((p,m)=>this.fieldFormatter.format(p,m,d)).join(this.formatterOptions.delimiter),{rowCount:h}=this;return this.rowCount+=1,h?[this.formatterOptions.rowDelimiter,f].join(""):f}}n.RowFormatter=l},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=n.RowFormatter=void 0;var r=t("./RowFormatter");Object.defineProperty(n,"RowFormatter",{enumerable:!0,get:function(){return r.RowFormatter}});var i=t("./FieldFormatter");Object.defineProperty(n,"FieldFormatter",{enumerable:!0,get:function(){return i.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,e,n){(function(r){(function(){"use strict";var i=Object.create?function(m,g,y,x){x===void 0&&(x=y),Object.defineProperty(m,x,{enumerable:!0,get:function(){return g[y]}})}:function(m,g,y,x){x===void 0&&(x=y),m[x]=g[y]},s=Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g},o=function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var y in m)y!=="default"&&Object.prototype.hasOwnProperty.call(m,y)&&i(g,m,y);return s(g,m),g},a=function(m,g){for(var y in m)y==="default"||Object.prototype.hasOwnProperty.call(g,y)||i(g,m,y)};Object.defineProperty(n,"__esModule",{value:!0}),n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=n.FormatterOptions=n.CsvFormatterStream=void 0;let l=t("util"),u=t("stream"),c=o(t("fs")),d=t("./FormatterOptions"),f=t("./CsvFormatterStream");a(t("./types"),n);var h=t("./CsvFormatterStream");Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return h.CsvFormatterStream}});var p=t("./FormatterOptions");Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),n.format=m=>new f.CsvFormatterStream(new d.FormatterOptions(m)),n.write=(m,g)=>{let y=n.format(g),x=l.promisify((T,R)=>{y.write(T,void 0,R)});return m.reduce((T,R)=>T.then(()=>x(R)),Promise.resolve()).then(()=>y.end()).catch(T=>{y.emit("error",T)}),y},n.writeToStream=(m,g,y)=>n.write(g,y).pipe(m),n.writeToBuffer=function(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=[],x=new u.Writable({write(T,R,$){y.push(T),$()}});return new Promise((T,R)=>{x.on("error",R).on("finish",()=>T(r.concat(y))),n.write(m,g).pipe(x)})},n.writeToString=(m,g)=>n.writeToBuffer(m,g).then(y=>y.toString()),n.writeToPath=(m,g,y)=>{let x=c.createWriteStream(m,{encoding:"utf8"});return n.write(g,y).pipe(x)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncTransform=void 0,n.isSyncTransform=r=>r.length===1},{}],153:[function(t,e,n){(function(r){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=void 0;let i=t("string_decoder"),s=t("stream"),o=t("./transforms"),a=t("./parser");class l extends s.Transform{constructor(c){super({objectMode:c.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=c,this.parser=new a.Parser(c),this.headerTransformer=new o.HeaderTransformer(c),this.decoder=new i.StringDecoder(c.encoding),this.rowTransformerValidator=new o.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(c){return this.rowTransformerValidator.rowTransform=c,this}validate(c){return this.rowTransformerValidator.rowValidator=c,this}emit(c){if(c==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,f=new Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];return super.emit(c,...f)}_transform(c,d,f){if(this.hasHitRowLimit)return f();let h=l.wrapDoneCallback(f);try{let{lines:p}=this,m=p+this.decoder.write(c),g=this.parse(m,!0);return this.processRows(g,h)}catch(p){return h(p)}}_flush(c){let d=l.wrapDoneCallback(c);if(this.hasHitRowLimit)return d();try{let f=this.lines+this.decoder.end(),h=this.parse(f,!1);return this.processRows(h,d)}catch(f){return d(f)}}parse(c,d){if(!c)return[];let{line:f,rows:h}=this.parser.parse(c,d);return this.lines=f,h}processRows(c,d){let f=c.length,h=p=>{let m=x=>x?d(x):p%100!=0?h(p+1):void r(()=>h(p+1));if(this.checkAndEmitHeaders(),p>=f||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return m();let g=c[p];this.rowCount+=1,this.parsedRowCount+=1;let y=this.rowCount;return this.transformRow(g,(x,T)=>{if(x)return this.rowCount-=1,m(x);if(!T)return m(new Error("expected transform result"));if(T.isValid){if(T.row)return this.pushRow(T.row,m)}else this.emit("data-invalid",T.row,y,T.reason);return m()})};h(0)}transformRow(c,d){try{this.headerTransformer.transform(c,(f,h)=>f?d(f):h?h.isValid?h.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(h.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:c}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(f){d(f)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(c){return this.rowCount-=1,c(null,{row:null,isValid:!0})}pushRow(c,d){try{this.parserOptions.objectMode?this.push(c):this.push(JSON.stringify(c)),d()}catch(f){d(f)}}static wrapDoneCallback(c){let d=!1;return function(f){if(f){if(d)throw f;return d=!0,void c(f)}for(var h=arguments.length,p=new Array(h>1?h-1:0),m=1;m<h;m++)p[m-1]=arguments[m];c(...p)}}}n.CsvParserStream=l}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,e,n){"use strict";var r=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParserOptions=void 0;let i=r(t("lodash.escaperegexp")),s=r(t("lodash.isnil"));n.ParserOptions=class{constructor(o){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,o||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=i.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!s.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,e,n){"use strict";var r=Object.create?function(h,p,m,g){g===void 0&&(g=m),Object.defineProperty(h,g,{enumerable:!0,get:function(){return p[m]}})}:function(h,p,m,g){g===void 0&&(g=m),h[g]=p[m]},i=Object.create?function(h,p){Object.defineProperty(h,"default",{enumerable:!0,value:p})}:function(h,p){h.default=p},s=function(h){if(h&&h.__esModule)return h;var p={};if(h!=null)for(var m in h)m!=="default"&&Object.prototype.hasOwnProperty.call(h,m)&&r(p,h,m);return i(p,h),p},o=function(h,p){for(var m in h)m==="default"||Object.prototype.hasOwnProperty.call(p,m)||r(p,h,m)};Object.defineProperty(n,"__esModule",{value:!0}),n.parseString=n.parseFile=n.parseStream=n.parse=n.ParserOptions=n.CsvParserStream=void 0;let a=s(t("fs")),l=t("stream"),u=t("./ParserOptions"),c=t("./CsvParserStream");o(t("./types"),n);var d=t("./CsvParserStream");Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var f=t("./ParserOptions");Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return f.ParserOptions}}),n.parse=h=>new c.CsvParserStream(new u.ParserOptions(h)),n.parseStream=(h,p)=>h.pipe(new c.CsvParserStream(new u.ParserOptions(p))),n.parseFile=function(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(h).pipe(new c.CsvParserStream(new u.ParserOptions(p)))},n.parseString=(h,p)=>{let m=new l.Readable;return m.push(h),m.push(null),m.pipe(new c.CsvParserStream(new u.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=void 0;let r=t("./Scanner"),i=t("./RowParser"),s=t("./Token");class o{constructor(l){this.parserOptions=l,this.rowParser=new i.RowParser(this.parserOptions)}static removeBOM(l){return l&&l.charCodeAt(0)===65279?l.slice(1):l}parse(l,u){let c=new r.Scanner({line:o.removeBOM(l),parserOptions:this.parserOptions,hasMoreData:u});return this.parserOptions.supportsComments?this.parseWithComments(c):this.parseWithoutComments(c)}parseWithoutComments(l){let u=[],c=!0;for(;c;)c=this.parseRow(l,u);return{line:l.line,rows:u}}parseWithComments(l){let{parserOptions:u}=this,c=[];for(let d=l.nextCharacterToken;d!==null;d=l.nextCharacterToken)if(s.Token.isTokenComment(d,u)){if(l.advancePastLine()===null)return{line:l.lineFromCursor,rows:c};if(!l.hasMoreCharacters)return{line:l.lineFromCursor,rows:c};l.truncateToCursor()}else if(!this.parseRow(l,c))break;return{line:l.line,rows:c}}parseRow(l,u){if(!l.nextNonSpaceToken)return!1;let c=this.rowParser.parse(l);return c!==null&&(this.parserOptions.ignoreEmpty&&i.RowParser.isEmptyRow(c)||u.push(c),!0)}}n.Parser=o},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RowParser=void 0;let r=t("./column"),i=t("./Token");n.RowParser=class{constructor(s){this.parserOptions=s,this.columnParser=new r.ColumnParser(s)}static isEmptyRow(s){return s.join("").replace(/\s+/g,"")===""}parse(s){let{parserOptions:o}=this,{hasMoreData:a}=s,l=s,u=[],c=this.getStartToken(l,u);for(;c;){if(i.Token.isTokenRowDelimiter(c))return l.advancePastToken(c),!l.hasMoreCharacters&&i.Token.isTokenCarriageReturn(c,o)&&a?null:(l.truncateToCursor(),u);if(!this.shouldSkipColumnParse(l,c,u)){let d=this.columnParser.parse(l);if(d===null)return null;u.push(d)}c=l.nextNonSpaceToken}return a?null:(l.truncateToCursor(),u)}getStartToken(s,o){let a=s.nextNonSpaceToken;return a!==null&&i.Token.isTokenDelimiter(a,this.parserOptions)?(o.push(""),s.nextNonSpaceToken):a}shouldSkipColumnParse(s,o,a){let{parserOptions:l}=this;if(i.Token.isTokenDelimiter(o,l)){s.advancePastToken(o);let u=s.nextCharacterToken;if(!s.hasMoreCharacters||u!==null&&i.Token.isTokenRowDelimiter(u)||u!==null&&i.Token.isTokenDelimiter(u,l))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Scanner=void 0;let r=t("./Token"),i=/((?:\r\n)|\n|\r)/;n.Scanner=class{constructor(s){this.cursor=0,this.line=s.line,this.lineLength=this.line.length,this.parserOptions=s.parserOptions,this.hasMoreData=s.hasMoreData,this.cursor=s.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){let{lineFromCursor:s}=this,o=this.parserOptions.NEXT_TOKEN_REGEXP;if(s.search(o)===-1)return null;let a=o.exec(s);if(a==null)return null;let l=a[1],u=this.cursor+(a.index||0);return new r.Token({token:l,startCursor:u,endCursor:u+l.length-1})}get nextCharacterToken(){let{cursor:s,lineLength:o}=this;return o<=s?null:new r.Token({token:this.line[s],startCursor:s,endCursor:s})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){let s=i.exec(this.lineFromCursor);return s?(this.cursor+=(s.index||0)+s[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(s){return this.cursor=s,this}advanceToToken(s){return this.cursor=s.startCursor,this}advancePastToken(s){return this.cursor=s.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0,n.Token=class{constructor(r){this.token=r.token,this.startCursor=r.startCursor,this.endCursor=r.endCursor}static isTokenRowDelimiter(r){let i=r.token;return i==="\r"||i===`
`||i===`\r
`}static isTokenCarriageReturn(r,i){return r.token===i.carriageReturn}static isTokenComment(r,i){return i.supportsComments&&!!r&&r.token===i.comment}static isTokenEscapeCharacter(r,i){return r.token===i.escapeChar}static isTokenQuote(r,i){return r.token===i.quote}static isTokenDelimiter(r,i){return r.token===i.delimiter}}},{}],160:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=void 0,n.ColumnFormatter=class{constructor(r){r.trim?this.format=i=>i.trim():r.ltrim?this.format=i=>i.trimLeft():r.rtrim?this.format=i=>i.trimRight():this.format=i=>i}}},{}],161:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnParser=void 0;let r=t("./NonQuotedColumnParser"),i=t("./QuotedColumnParser"),s=t("../Token");n.ColumnParser=class{constructor(o){this.parserOptions=o,this.quotedColumnParser=new i.QuotedColumnParser(o),this.nonQuotedColumnParser=new r.NonQuotedColumnParser(o)}parse(o){let{nextNonSpaceToken:a}=o;return a!==null&&s.Token.isTokenQuote(a,this.parserOptions)?(o.advanceToToken(a),this.quotedColumnParser.parse(o)):this.nonQuotedColumnParser.parse(o)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NonQuotedColumnParser=void 0;let r=t("./ColumnFormatter"),i=t("../Token");n.NonQuotedColumnParser=class{constructor(s){this.parserOptions=s,this.columnFormatter=new r.ColumnFormatter(s)}parse(s){if(!s.hasMoreCharacters)return null;let{parserOptions:o}=this,a=[],l=s.nextCharacterToken;for(;l&&!i.Token.isTokenDelimiter(l,o)&&!i.Token.isTokenRowDelimiter(l);l=s.nextCharacterToken)a.push(l.token),s.advancePastToken(l);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=void 0;let r=t("./ColumnFormatter"),i=t("../Token");n.QuotedColumnParser=class{constructor(s){this.parserOptions=s,this.columnFormatter=new r.ColumnFormatter(s)}parse(s){if(!s.hasMoreCharacters)return null;let o=s.cursor,{foundClosingQuote:a,col:l}=this.gatherDataBetweenQuotes(s);if(!a){if(s.advanceTo(o),!s.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${s.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(s),l}gatherDataBetweenQuotes(s){let{parserOptions:o}=this,a=!1,l=!1,u=[],c=s.nextCharacterToken;for(;!l&&c!==null;c=s.nextCharacterToken){let d=i.Token.isTokenQuote(c,o);if(!a&&d)a=!0;else if(a)if(i.Token.isTokenEscapeCharacter(c,o)){s.advancePastToken(c);let f=s.nextCharacterToken;f!==null&&(i.Token.isTokenQuote(f,o)||i.Token.isTokenEscapeCharacter(f,o))?(u.push(f.token),c=f):d?l=!0:u.push(c.token)}else d?l=!0:u.push(c.token);s.advancePastToken(c)}return{col:this.columnFormatter.format(u.join("")),foundClosingQuote:l}}checkForMalformedColumn(s){let{parserOptions:o}=this,{nextNonSpaceToken:a}=s;if(a){let l=i.Token.isTokenDelimiter(a,o),u=i.Token.isTokenRowDelimiter(a);if(!l&&!u){let c=s.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${o.escapedDelimiter}' OR new line got: '${a.token}'. at '${c}`)}s.advanceToToken(a)}else s.hasMoreData||s.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=void 0;var r=t("./ColumnParser");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return r.ColumnParser}});var i=t("./NonQuotedColumnParser");Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return i.NonQuotedColumnParser}});var s=t("./QuotedColumnParser");Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return s.QuotedColumnParser}});var o=t("./ColumnFormatter");Object.defineProperty(n,"ColumnFormatter",{enumerable:!0,get:function(){return o.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=n.Token=n.Scanner=n.RowParser=n.Parser=void 0;var r=t("./Parser");Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=t("./RowParser");Object.defineProperty(n,"RowParser",{enumerable:!0,get:function(){return i.RowParser}});var s=t("./Scanner");Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return s.Scanner}});var o=t("./Token");Object.defineProperty(n,"Token",{enumerable:!0,get:function(){return o.Token}});var a=t("./column");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,e,n){"use strict";var r=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=void 0;let i=r(t("lodash.isundefined")),s=r(t("lodash.isfunction")),o=r(t("lodash.uniq")),a=r(t("lodash.groupby"));n.HeaderTransformer=class{constructor(l){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=l,l.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(l.headers)?this.setHeaders(l.headers):s.default(l.headers)&&(this.headersTransform=l.headers)}transform(l,u){return this.shouldMapRow(l)?u(null,this.processRow(l)):u(null,{row:null,isValid:!0})}shouldMapRow(l){let{parserOptions:u}=this;if(!this.headersTransform&&u.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(l)){if(this.headersTransform)this.setHeaders(this.headersTransform(l));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(l)}return!1}return!0}processRow(l){if(!this.headers)return{row:l,isValid:!0};let{parserOptions:u}=this;if(!u.discardUnmappedColumns&&l.length>this.headersLength){if(!u.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${l.length}`);return{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}}return u.strictColumnHandling&&l.length<this.headersLength?{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}:{row:this.mapHeaders(l),isValid:!0}}mapHeaders(l){let u={},{headers:c,headersLength:d}=this;for(let f=0;f<d;f+=1){let h=c[f];if(!i.default(h)){let p=l[f];i.default(p)?u[h]="":u[h]=p}}return u}setHeaders(l){var u;let c=l.filter(d=>!!d);if(o.default(c).length!==c.length){let d=a.default(c),f=Object.keys(d).filter(h=>d[h].length>1);throw new Error("Duplicate headers found "+JSON.stringify(f))}this.headers=l,this.receivedHeaders=!0,this.headersLength=((u=this.headers)===null||u===void 0?void 0:u.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,e,n){"use strict";var r=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowTransformerValidator=void 0;let i=r(t("lodash.isfunction")),s=t("../types");class o{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(l){return s.isSyncTransform(l)?(u,c)=>{let d=null;try{d=l(u)}catch(f){return c(f)}return c(null,d)}:l}static createValidator(l){return s.isSyncValidate(l)?(u,c)=>{c(null,{row:u,isValid:l(u)})}:(u,c)=>{l(u,(d,f,h)=>d?c(d):c(null,f?{row:u,isValid:f,reason:h}:{row:u,isValid:!1,reason:h}))}}set rowTransform(l){if(!i.default(l))throw new TypeError("The transform should be a function");this._rowTransform=o.createTransform(l)}set rowValidator(l){if(!i.default(l))throw new TypeError("The validate should be a function");this._rowValidator=o.createValidator(l)}transformAndValidate(l,u){return this.callTransformer(l,(c,d)=>c?u(c):d?this.callValidator(d,(f,h)=>f?u(f):h&&!h.isValid?u(null,{row:d,isValid:!1,reason:h.reason}):u(null,{row:d,isValid:!0})):u(null,{row:null,isValid:!0}))}callTransformer(l,u){return this._rowTransform?this._rowTransform(l,u):u(null,l)}callValidator(l,u){return this._rowValidator?this._rowValidator(l,u):u(null,{row:l,isValid:!0})}}n.RowTransformerValidator=o},{"../types":169,"lodash.isfunction":446}],168:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=n.RowTransformerValidator=void 0;var r=t("./RowTransformerValidator");Object.defineProperty(n,"RowTransformerValidator",{enumerable:!0,get:function(){return r.RowTransformerValidator}});var i=t("./HeaderTransformer");Object.defineProperty(n,"HeaderTransformer",{enumerable:!0,get:function(){return i.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncValidate=n.isSyncTransform=void 0,n.isSyncTransform=r=>r.length===1,n.isSyncValidate=r=>r.length===1},{}],170:[function(t,e,n){"use strict";let r=n;r.bignum=t("bn.js"),r.define=t("./asn1/api").define,r.base=t("./asn1/base"),r.constants=t("./asn1/constants"),r.decoders=t("./asn1/decoders"),r.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,e,n){"use strict";let r=t("./encoders"),i=t("./decoders"),s=t("inherits");function o(a,l){this.name=a,this.body=l,this.decoders={},this.encoders={}}n.define=function(a,l){return new o(a,l)},o.prototype._createNamed=function(a){let l=this.name;function u(c){this._initNamed(c,l)}return s(u,a),u.prototype._initNamed=function(c,d){a.call(this,c,d)},new u(this)},o.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(i[a])),this.decoders[a]},o.prototype.decode=function(a,l,u){return this._getDecoder(l).decode(a,u)},o.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(r[a])),this.encoders[a]},o.prototype.encode=function(a,l,u){return this._getEncoder(l).encode(a,u)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,e,n){"use strict";let r=t("inherits"),i=t("../base/reporter").Reporter,s=t("safer-buffer").Buffer;function o(l,u){i.call(this,u),s.isBuffer(l)?(this.base=l,this.offset=0,this.length=l.length):this.error("Input not Buffer")}function a(l,u){if(Array.isArray(l))this.length=0,this.value=l.map(function(c){return a.isEncoderBuffer(c)||(c=new a(c,u)),this.length+=c.length,c},this);else if(typeof l=="number"){if(!(0<=l&&l<=255))return u.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if(typeof l=="string")this.value=l,this.length=s.byteLength(l);else{if(!s.isBuffer(l))return u.error("Unsupported type: "+typeof l);this.value=l,this.length=l.length}}r(o,i),n.DecoderBuffer=o,o.isDecoderBuffer=function(l){return l instanceof o?!0:typeof l=="object"&&s.isBuffer(l.base)&&l.constructor.name==="DecoderBuffer"&&typeof l.offset=="number"&&typeof l.length=="number"&&typeof l.save=="function"&&typeof l.restore=="function"&&typeof l.isEmpty=="function"&&typeof l.readUInt8=="function"&&typeof l.skip=="function"&&typeof l.raw=="function"},o.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(l){let u=new o(this.base);return u.offset=l.offset,u.length=this.offset,this.offset=l.offset,i.prototype.restore.call(this,l.reporter),u},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(l){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(l||"DecoderBuffer overrun")},o.prototype.skip=function(l,u){if(!(this.offset+l<=this.length))return this.error(u||"DecoderBuffer overrun");let c=new o(this.base);return c._reporterState=this._reporterState,c.offset=this.offset,c.length=this.offset+l,this.offset+=l,c},o.prototype.raw=function(l){return this.base.slice(l?l.offset:this.offset,this.length)},n.EncoderBuffer=a,a.isEncoderBuffer=function(l){return l instanceof a?!0:typeof l=="object"&&l.constructor.name==="EncoderBuffer"&&typeof l.length=="number"&&typeof l.join=="function"},a.prototype.join=function(l,u){return l||(l=s.alloc(this.length)),u||(u=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(c){c.join(l,u),u+=c.length}):(typeof this.value=="number"?l[u]=this.value:typeof this.value=="string"?l.write(this.value,u):s.isBuffer(this.value)&&this.value.copy(l,u),u+=this.length)),l}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,e,n){"use strict";let r=n;r.Reporter=t("./reporter").Reporter,r.DecoderBuffer=t("./buffer").DecoderBuffer,r.EncoderBuffer=t("./buffer").EncoderBuffer,r.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,e,n){"use strict";let r=t("../base/reporter").Reporter,i=t("../base/buffer").EncoderBuffer,s=t("../base/buffer").DecoderBuffer,o=t("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(d,f,h){let p={};this._baseState=p,p.name=h,p.enc=d,p.parent=f||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}e.exports=u;let c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){let d=this._baseState,f={};c.forEach(function(p){f[p]=d[p]});let h=new this.constructor(f.parent);return h._baseState=f,h},u.prototype._wrap=function(){let d=this._baseState;l.forEach(function(f){this[f]=function(){let h=new this.constructor(this);return d.children.push(h),h[f].apply(h,arguments)}},this)},u.prototype._init=function(d){let f=this._baseState;o(f.parent===null),d.call(this),f.children=f.children.filter(function(h){return h._baseState.parent===this},this),o.equal(f.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(d){let f=this._baseState,h=d.filter(function(p){return p instanceof this.constructor},this);d=d.filter(function(p){return!(p instanceof this.constructor)},this),h.length!==0&&(o(f.children===null),f.children=h,h.forEach(function(p){p._baseState.parent=this},this)),d.length!==0&&(o(f.args===null),f.args=d,f.reverseArgs=d.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;let m={};return Object.keys(p).forEach(function(g){g==(0|g)&&(g|=0);let y=p[g];m[y]=g}),m}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){u.prototype[d]=function(){let f=this._baseState;throw new Error(d+" not implemented for encoding: "+f.enc)}}),a.forEach(function(d){u.prototype[d]=function(){let f=this._baseState,h=Array.prototype.slice.call(arguments);return o(f.tag===null),f.tag=d,this._useArgs(h),this}}),u.prototype.use=function(d){o(d);let f=this._baseState;return o(f.use===null),f.use=d,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(d){let f=this._baseState;return o(f.default===null),f.default=d,f.optional=!0,this},u.prototype.explicit=function(d){let f=this._baseState;return o(f.explicit===null&&f.implicit===null),f.explicit=d,this},u.prototype.implicit=function(d){let f=this._baseState;return o(f.explicit===null&&f.implicit===null),f.implicit=d,this},u.prototype.obj=function(){let d=this._baseState,f=Array.prototype.slice.call(arguments);return d.obj=!0,f.length!==0&&this._useArgs(f),this},u.prototype.key=function(d){let f=this._baseState;return o(f.key===null),f.key=d,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(d){let f=this._baseState;return o(f.choice===null),f.choice=d,this._useArgs(Object.keys(d).map(function(h){return d[h]})),this},u.prototype.contains=function(d){let f=this._baseState;return o(f.use===null),f.contains=d,this},u.prototype._decode=function(d,f){let h=this._baseState;if(h.parent===null)return d.wrapResult(h.children[0]._decode(d,f));let p,m=h.default,g=!0,y=null;if(h.key!==null&&(y=d.enterKey(h.key)),h.optional){let x=null;if(h.explicit!==null?x=h.explicit:h.implicit!==null?x=h.implicit:h.tag!==null&&(x=h.tag),x!==null||h.any){if(g=this._peekTag(d,x,h.any),d.isError(g))return g}else{let T=d.save();try{h.choice===null?this._decodeGeneric(h.tag,d,f):this._decodeChoice(d,f),g=!0}catch{g=!1}d.restore(T)}}if(h.obj&&g&&(p=d.enterObject()),g){if(h.explicit!==null){let T=this._decodeTag(d,h.explicit);if(d.isError(T))return T;d=T}let x=d.offset;if(h.use===null&&h.choice===null){let T;h.any&&(T=d.save());let R=this._decodeTag(d,h.implicit!==null?h.implicit:h.tag,h.any);if(d.isError(R))return R;h.any?m=d.raw(T):d=R}if(f&&f.track&&h.tag!==null&&f.track(d.path(),x,d.length,"tagged"),f&&f.track&&h.tag!==null&&f.track(d.path(),d.offset,d.length,"content"),h.any||(m=h.choice===null?this._decodeGeneric(h.tag,d,f):this._decodeChoice(d,f)),d.isError(m))return m;if(h.any||h.choice!==null||h.children===null||h.children.forEach(function(T){T._decode(d,f)}),h.contains&&(h.tag==="octstr"||h.tag==="bitstr")){let T=new s(m);m=this._getUse(h.contains,d._reporterState.obj)._decode(T,f)}}return h.obj&&g&&(m=d.leaveObject(p)),h.key===null||m===null&&g!==!0?y!==null&&d.exitKey(y):d.leaveKey(y,h.key,m),m},u.prototype._decodeGeneric=function(d,f,h){let p=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(f,d,p.args[0],h):/str$/.test(d)?this._decodeStr(f,d,h):d==="objid"&&p.args?this._decodeObjid(f,p.args[0],p.args[1],h):d==="objid"?this._decodeObjid(f,null,null,h):d==="gentime"||d==="utctime"?this._decodeTime(f,d,h):d==="null_"?this._decodeNull(f,h):d==="bool"?this._decodeBool(f,h):d==="objDesc"?this._decodeStr(f,d,h):d==="int"||d==="enum"?this._decodeInt(f,p.args&&p.args[0],h):p.use!==null?this._getUse(p.use,f._reporterState.obj)._decode(f,h):f.error("unknown tag: "+d)},u.prototype._getUse=function(d,f){let h=this._baseState;return h.useDecoder=this._use(d,f),o(h.useDecoder._baseState.parent===null),h.useDecoder=h.useDecoder._baseState.children[0],h.implicit!==h.useDecoder._baseState.implicit&&(h.useDecoder=h.useDecoder.clone(),h.useDecoder._baseState.implicit=h.implicit),h.useDecoder},u.prototype._decodeChoice=function(d,f){let h=this._baseState,p=null,m=!1;return Object.keys(h.choice).some(function(g){let y=d.save(),x=h.choice[g];try{let T=x._decode(d,f);if(d.isError(T))return!1;p={type:g,value:T},m=!0}catch{return d.restore(y),!1}return!0},this),m?p:d.error("Choice not matched")},u.prototype._createEncoderBuffer=function(d){return new i(d,this.reporter)},u.prototype._encode=function(d,f,h){let p=this._baseState;if(p.default!==null&&p.default===d)return;let m=this._encodeValue(d,f,h);return m===void 0||this._skipDefault(m,f,h)?void 0:m},u.prototype._encodeValue=function(d,f,h){let p=this._baseState;if(p.parent===null)return p.children[0]._encode(d,f||new r);let m=null;if(this.reporter=f,p.optional&&d===void 0){if(p.default===null)return;d=p.default}let g=null,y=!1;if(p.any)m=this._createEncoderBuffer(d);else if(p.choice)m=this._encodeChoice(d,f);else if(p.contains)g=this._getUse(p.contains,h)._encode(d,f),y=!0;else if(p.children)g=p.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,f,d);if(x._baseState.key===null)return f.error("Child should have a key");let T=f.enterKey(x._baseState.key);if(typeof d!="object")return f.error("Child expected, but input is not object");let R=x._encode(d[x._baseState.key],f,d);return f.leaveKey(T),R},this).filter(function(x){return x}),g=this._createEncoderBuffer(g);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return f.error("Too many args for : "+p.tag);if(!Array.isArray(d))return f.error("seqof/setof, but data is not Array");let x=this.clone();x._baseState.implicit=null,g=this._createEncoderBuffer(d.map(function(T){let R=this._baseState;return this._getUse(R.args[0],d)._encode(T,f)},x))}else p.use!==null?m=this._getUse(p.use,h)._encode(d,f):(g=this._encodePrimitive(p.tag,d),y=!0);if(!p.any&&p.choice===null){let x=p.implicit!==null?p.implicit:p.tag,T=p.implicit===null?"universal":"context";x===null?p.use===null&&f.error("Tag could be omitted only for .use()"):p.use===null&&(m=this._encodeComposite(x,y,T,g))}return p.explicit!==null&&(m=this._encodeComposite(p.explicit,!1,"context",m)),m},u.prototype._encodeChoice=function(d,f){let h=this._baseState,p=h.choice[d.type];return p||o(!1,d.type+" not found in "+JSON.stringify(Object.keys(h.choice))),p._encode(d.value,f)},u.prototype._encodePrimitive=function(d,f){let h=this._baseState;if(/str$/.test(d))return this._encodeStr(f,d);if(d==="objid"&&h.args)return this._encodeObjid(f,h.reverseArgs[0],h.args[1]);if(d==="objid")return this._encodeObjid(f,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(f,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(f,h.args&&h.reverseArgs[0]);if(d==="bool")return this._encodeBool(f);if(d==="objDesc")return this._encodeStr(f,d);throw new Error("Unsupported tag: "+d)},u.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},u.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,e,n){"use strict";let r=t("inherits");function i(o){this._reporterState={obj:null,path:[],options:o||{},errors:[]}}function s(o,a){this.path=o,this.rethrow(a)}n.Reporter=i,i.prototype.isError=function(o){return o instanceof s},i.prototype.save=function(){let o=this._reporterState;return{obj:o.obj,pathLen:o.path.length}},i.prototype.restore=function(o){let a=this._reporterState;a.obj=o.obj,a.path=a.path.slice(0,o.pathLen)},i.prototype.enterKey=function(o){return this._reporterState.path.push(o)},i.prototype.exitKey=function(o){let a=this._reporterState;a.path=a.path.slice(0,o-1)},i.prototype.leaveKey=function(o,a,l){let u=this._reporterState;this.exitKey(o),u.obj!==null&&(u.obj[a]=l)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){let o=this._reporterState,a=o.obj;return o.obj={},a},i.prototype.leaveObject=function(o){let a=this._reporterState,l=a.obj;return a.obj=o,l},i.prototype.error=function(o){let a,l=this._reporterState,u=o instanceof s;if(a=u?o:new s(l.path.map(function(c){return"["+JSON.stringify(c)+"]"}).join(""),o.message||o,o.stack),!l.options.partial)throw a;return u||l.errors.push(a),a},i.prototype.wrapResult=function(o){let a=this._reporterState;return a.options.partial?{result:this.isError(o)?null:o,errors:a.errors}:o},r(s,Error),s.prototype.rethrow=function(o){if(this.message=o+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(t,e,n){"use strict";function r(i){let s={};return Object.keys(i).forEach(function(o){(0|o)==o&&(o|=0);let a=i[o];s[a]=o}),s}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=r(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=r(n.tag)},{}],177:[function(t,e,n){"use strict";let r=n;r._reverse=function(i){let s={};return Object.keys(i).forEach(function(o){(0|o)==o&&(o|=0);let a=i[o];s[a]=o}),s},r.der=t("./der")},{"./der":176}],178:[function(t,e,n){"use strict";let r=t("inherits"),i=t("bn.js"),s=t("../base/buffer").DecoderBuffer,o=t("../base/node"),a=t("../constants/der");function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}function u(f){o.call(this,"der",f)}function c(f,h){let p=f.readUInt8(h);if(f.isError(p))return p;let m=a.tagClass[p>>6],g=(32&p)==0;if((31&p)==31){let y=p;for(p=0;(128&y)==128;){if(y=f.readUInt8(h),f.isError(y))return y;p<<=7,p|=127&y}}else p&=31;return{cls:m,primitive:g,tag:p,tagStr:a.tag[p]}}function d(f,h,p){let m=f.readUInt8(p);if(f.isError(m))return m;if(!h&&m===128)return null;if((128&m)==0)return m;let g=127&m;if(g>4)return f.error("length octect is too long");m=0;for(let y=0;y<g;y++){m<<=8;let x=f.readUInt8(p);if(f.isError(x))return x;m|=x}return m}e.exports=l,l.prototype.decode=function(f,h){return s.isDecoderBuffer(f)||(f=new s(f,h)),this.tree._decode(f,h)},r(u,o),u.prototype._peekTag=function(f,h,p){if(f.isEmpty())return!1;let m=f.save(),g=c(f,'Failed to peek tag: "'+h+'"');return f.isError(g)?g:(f.restore(m),g.tag===h||g.tagStr===h||g.tagStr+"of"===h||p)},u.prototype._decodeTag=function(f,h,p){let m=c(f,'Failed to decode tag of "'+h+'"');if(f.isError(m))return m;let g=d(f,m.primitive,'Failed to get length of "'+h+'"');if(f.isError(g))return g;if(!p&&m.tag!==h&&m.tagStr!==h&&m.tagStr+"of"!==h)return f.error('Failed to match tag: "'+h+'"');if(m.primitive||g!==null)return f.skip(g,'Failed to match body of: "'+h+'"');let y=f.save(),x=this._skipUntilEnd(f,'Failed to skip indefinite length body: "'+this.tag+'"');return f.isError(x)?x:(g=f.offset-y.offset,f.restore(y),f.skip(g,'Failed to match body of: "'+h+'"'))},u.prototype._skipUntilEnd=function(f,h){for(;;){let p=c(f,h);if(f.isError(p))return p;let m=d(f,p.primitive,h);if(f.isError(m))return m;let g;if(g=p.primitive||m!==null?f.skip(m):this._skipUntilEnd(f,h),f.isError(g))return g;if(p.tagStr==="end")break}},u.prototype._decodeList=function(f,h,p,m){let g=[];for(;!f.isEmpty();){let y=this._peekTag(f,"end");if(f.isError(y))return y;let x=p.decode(f,"der",m);if(f.isError(x)&&y)break;g.push(x)}return g},u.prototype._decodeStr=function(f,h){if(h==="bitstr"){let p=f.readUInt8();return f.isError(p)?p:{unused:p,data:f.raw()}}if(h==="bmpstr"){let p=f.raw();if(p.length%2==1)return f.error("Decoding of string type: bmpstr length mismatch");let m="";for(let g=0;g<p.length/2;g++)m+=String.fromCharCode(p.readUInt16BE(2*g));return m}if(h==="numstr"){let p=f.raw().toString("ascii");return this._isNumstr(p)?p:f.error("Decoding of string type: numstr unsupported characters")}if(h==="octstr"||h==="objDesc")return f.raw();if(h==="printstr"){let p=f.raw().toString("ascii");return this._isPrintstr(p)?p:f.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(h)?f.raw().toString():f.error("Decoding of string type: "+h+" unsupported")},u.prototype._decodeObjid=function(f,h,p){let m,g=[],y=0,x=0;for(;!f.isEmpty();)x=f.readUInt8(),y<<=7,y|=127&x,(128&x)==0&&(g.push(y),y=0);128&x&&g.push(y);let T=g[0]/40|0,R=g[0]%40;if(m=p?g:[T,R].concat(g.slice(1)),h){let $=h[m.join(" ")];$===void 0&&($=h[m.join(".")]),$!==void 0&&(m=$)}return m},u.prototype._decodeTime=function(f,h){let p=f.raw().toString(),m,g,y,x,T,R;if(h==="gentime")m=0|p.slice(0,4),g=0|p.slice(4,6),y=0|p.slice(6,8),x=0|p.slice(8,10),T=0|p.slice(10,12),R=0|p.slice(12,14);else{if(h!=="utctime")return f.error("Decoding "+h+" time is not supported yet");m=0|p.slice(0,2),g=0|p.slice(2,4),y=0|p.slice(4,6),x=0|p.slice(6,8),T=0|p.slice(8,10),R=0|p.slice(10,12),m=m<70?2e3+m:1900+m}return Date.UTC(m,g-1,y,x,T,R,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(f){let h=f.readUInt8();return f.isError(h)?h:h!==0},u.prototype._decodeInt=function(f,h){let p=f.raw(),m=new i(p);return h&&(m=h[m.toString(10)]||m),m},u.prototype._use=function(f,h){return typeof f=="function"&&(f=f(h)),f._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,e,n){"use strict";let r=n;r.der=t("./der"),r.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,e,n){"use strict";let r=t("inherits"),i=t("safer-buffer").Buffer,s=t("./der");function o(a){s.call(this,a),this.enc="pem"}r(o,s),e.exports=o,o.prototype.decode=function(a,l){let u=a.toString().split(/[\r\n]+/g),c=l.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/,f=-1,h=-1;for(let g=0;g<u.length;g++){let y=u[g].match(d);if(y!==null&&y[2]===c){if(f!==-1){if(y[1]!=="END")break;h=g;break}if(y[1]!=="BEGIN")break;f=g}}if(f===-1||h===-1)throw new Error("PEM section not found for: "+c);let p=u.slice(f+1,h).join("");p.replace(/[^a-z0-9+/=]+/gi,"");let m=i.from(p,"base64");return s.prototype.decode.call(this,m,l)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,e,n){"use strict";let r=t("inherits"),i=t("safer-buffer").Buffer,s=t("../base/node"),o=t("../constants/der");function a(c){this.enc="der",this.name=c.name,this.entity=c,this.tree=new l,this.tree._init(c.body)}function l(c){s.call(this,"der",c)}function u(c){return c<10?"0"+c:c}e.exports=a,a.prototype.encode=function(c,d){return this.tree._encode(c,d).join()},r(l,s),l.prototype._encodeComposite=function(c,d,f,h){let p=(function(y,x,T,R){let $;if(y==="seqof"?y="seq":y==="setof"&&(y="set"),o.tagByName.hasOwnProperty(y))$=o.tagByName[y];else{if(typeof y!="number"||(0|y)!==y)return R.error("Unknown tag: "+y);$=y}return $>=31?R.error("Multi-octet tag encoding unsupported"):(x||($|=32),$|=o.tagClassByName[T||"universal"]<<6,$)})(c,d,f,this.reporter);if(h.length<128){let y=i.alloc(2);return y[0]=p,y[1]=h.length,this._createEncoderBuffer([y,h])}let m=1;for(let y=h.length;y>=256;y>>=8)m++;let g=i.alloc(2+m);g[0]=p,g[1]=128|m;for(let y=1+m,x=h.length;x>0;y--,x>>=8)g[y]=255&x;return this._createEncoderBuffer([g,h])},l.prototype._encodeStr=function(c,d){if(d==="bitstr")return this._createEncoderBuffer([0|c.unused,c.data]);if(d==="bmpstr"){let f=i.alloc(2*c.length);for(let h=0;h<c.length;h++)f.writeUInt16BE(c.charCodeAt(h),2*h);return this._createEncoderBuffer(f)}return d==="numstr"?this._isNumstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: "+d+" unsupported")},l.prototype._encodeObjid=function(c,d,f){if(typeof c=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(c))return this.reporter.error("objid not found in values map");c=d[c].split(/[\s.]+/g);for(let g=0;g<c.length;g++)c[g]|=0}else if(Array.isArray(c)){c=c.slice();for(let g=0;g<c.length;g++)c[g]|=0}if(!Array.isArray(c))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(c));if(!f){if(c[1]>=40)return this.reporter.error("Second objid identifier OOB");c.splice(0,2,40*c[0]+c[1])}let h=0;for(let g=0;g<c.length;g++){let y=c[g];for(h++;y>=128;y>>=7)h++}let p=i.alloc(h),m=p.length-1;for(let g=c.length-1;g>=0;g--){let y=c[g];for(p[m--]=127&y;(y>>=7)>0;)p[m--]=128|127&y}return this._createEncoderBuffer(p)},l.prototype._encodeTime=function(c,d){let f,h=new Date(c);return d==="gentime"?f=[u(h.getUTCFullYear()),u(h.getUTCMonth()+1),u(h.getUTCDate()),u(h.getUTCHours()),u(h.getUTCMinutes()),u(h.getUTCSeconds()),"Z"].join(""):d==="utctime"?f=[u(h.getUTCFullYear()%100),u(h.getUTCMonth()+1),u(h.getUTCDate()),u(h.getUTCHours()),u(h.getUTCMinutes()),u(h.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(f,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(c,d){if(typeof c=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(c))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(c));c=d[c]}if(typeof c!="number"&&!i.isBuffer(c)){let p=c.toArray();!c.sign&&128&p[0]&&p.unshift(0),c=i.from(p)}if(i.isBuffer(c)){let p=c.length;c.length===0&&p++;let m=i.alloc(p);return c.copy(m),c.length===0&&(m[0]=0),this._createEncoderBuffer(m)}if(c<128)return this._createEncoderBuffer(c);if(c<256)return this._createEncoderBuffer([0,c]);let f=1;for(let p=c;p>=256;p>>=8)f++;let h=new Array(f);for(let p=h.length-1;p>=0;p--)h[p]=255&c,c>>=8;return 128&h[0]&&h.unshift(0),this._createEncoderBuffer(i.from(h))},l.prototype._encodeBool=function(c){return this._createEncoderBuffer(c?255:0)},l.prototype._use=function(c,d){return typeof c=="function"&&(c=c(d)),c._getEncoder("der").tree},l.prototype._skipDefault=function(c,d,f){let h=this._baseState,p;if(h.default===null)return!1;let m=c.join();if(h.defaultBuffer===void 0&&(h.defaultBuffer=this._encodeValue(h.default,d,f).join()),m.length!==h.defaultBuffer.length)return!1;for(p=0;p<m.length;p++)if(m[p]!==h.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,e,n){"use strict";let r=n;r.der=t("./der"),r.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,e,n){"use strict";let r=t("inherits"),i=t("./der");function s(o){i.call(this,o),this.enc="pem"}r(s,i),e.exports=s,s.prototype.encode=function(o,a){let l=i.prototype.encode.call(this,o).toString("base64"),u=["-----BEGIN "+a.label+"-----"];for(let c=0;c<l.length;c+=64)u.push(l.slice(c,c+64));return u.push("-----END "+a.label+"-----"),u.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,e,n){"use strict";(function(r,i){function s(E,C){if(!E)throw new Error(C||"Assertion failed")}function o(E,C){E.super_=C;var L=function(){};L.prototype=C.prototype,E.prototype=new L,E.prototype.constructor=E}function a(E,C,L){if(a.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(C!=="le"&&C!=="be"||(L=C,C=10),this._init(E||0,C||10,L||"be"))}var l;typeof r=="object"?r.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function u(E,C){var L=E.charCodeAt(C);return L>=65&&L<=70?L-55:L>=97&&L<=102?L-87:L-48&15}function c(E,C,L){var v=u(E,L);return L-1>=C&&(v|=u(E,L-1)<<4),v}function d(E,C,L,v){for(var b=0,_=Math.min(E.length,L),w=C;w<_;w++){var S=E.charCodeAt(w)-48;b*=v,b+=S>=49?S-49+10:S>=17?S-17+10:S}return b}a.isBN=function(E){return E instanceof a||E!==null&&typeof E=="object"&&E.constructor.wordSize===a.wordSize&&Array.isArray(E.words)},a.max=function(E,C){return E.cmp(C)>0?E:C},a.min=function(E,C){return E.cmp(C)<0?E:C},a.prototype._init=function(E,C,L){if(typeof E=="number")return this._initNumber(E,C,L);if(typeof E=="object")return this._initArray(E,C,L);C==="hex"&&(C=16),s(C===(0|C)&&C>=2&&C<=36);var v=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(v++,this.negative=1),v<E.length&&(C===16?this._parseHex(E,v,L):(this._parseBase(E,C,v),L==="le"&&this._initArray(this.toArray(),C,L)))},a.prototype._initNumber=function(E,C,L){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(s(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),L==="le"&&this._initArray(this.toArray(),C,L)},a.prototype._initArray=function(E,C,L){if(s(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var b,_,w=0;if(L==="be")for(v=E.length-1,b=0;v>=0;v-=3)_=E[v]|E[v-1]<<8|E[v-2]<<16,this.words[b]|=_<<w&67108863,this.words[b+1]=_>>>26-w&67108863,(w+=24)>=26&&(w-=26,b++);else if(L==="le")for(v=0,b=0;v<E.length;v+=3)_=E[v]|E[v+1]<<8|E[v+2]<<16,this.words[b]|=_<<w&67108863,this.words[b+1]=_>>>26-w&67108863,(w+=24)>=26&&(w-=26,b++);return this.strip()},a.prototype._parseHex=function(E,C,L){this.length=Math.ceil((E.length-C)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var b,_=0,w=0;if(L==="be")for(v=E.length-1;v>=C;v-=2)b=c(E,C,v)<<_,this.words[w]|=67108863&b,_>=18?(_-=18,w+=1,this.words[w]|=b>>>26):_+=8;else for(v=(E.length-C)%2==0?C+1:C;v<E.length;v+=2)b=c(E,C,v)<<_,this.words[w]|=67108863&b,_>=18?(_-=18,w+=1,this.words[w]|=b>>>26):_+=8;this.strip()},a.prototype._parseBase=function(E,C,L){this.words=[0],this.length=1;for(var v=0,b=1;b<=67108863;b*=C)v++;v--,b=b/C|0;for(var _=E.length-L,w=_%v,S=Math.min(_,_-w)+L,I=0,F=L;F<S;F+=v)I=d(E,F,F+v,C),this.imuln(b),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(w!==0){var W=1;for(I=d(E,F,E.length,C),F=0;F<w;F++)W*=C;this.imuln(W),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this.strip()},a.prototype.copy=function(E){E.words=new Array(this.length);for(var C=0;C<this.length;C++)E.words[C]=this.words[C];E.length=this.length,E.negative=this.negative,E.red=this.red},a.prototype.clone=function(){var E=new a(null);return this.copy(E),E},a.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(E,C,L){L.negative=C.negative^E.negative;var v=E.length+C.length|0;L.length=v,v=v-1|0;var b=0|E.words[0],_=0|C.words[0],w=b*_,S=67108863&w,I=w/67108864|0;L.words[0]=S;for(var F=1;F<v;F++){for(var W=I>>>26,B=67108863&I,X=Math.min(F,C.length-1),M=Math.max(0,F-E.length+1);M<=X;M++){var Y=F-M|0;W+=(w=(b=0|E.words[Y])*(_=0|C.words[M])+B)/67108864|0,B=67108863&w}L.words[F]=0|B,I=0|W}return I!==0?L.words[F]=0|I:L.length--,L.strip()}a.prototype.toString=function(E,C){var L;if(C=0|C||1,(E=E||10)===16||E==="hex"){L="";for(var v=0,b=0,_=0;_<this.length;_++){var w=this.words[_],S=(16777215&(w<<v|b)).toString(16);L=(b=w>>>24-v&16777215)!==0||_!==this.length-1?f[6-S.length]+S+L:S+L,(v+=2)>=26&&(v-=26,_--)}for(b!==0&&(L=b.toString(16)+L);L.length%C!=0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}if(E===(0|E)&&E>=2&&E<=36){var I=h[E],F=p[E];L="";var W=this.clone();for(W.negative=0;!W.isZero();){var B=W.modn(F).toString(E);L=(W=W.idivn(F)).isZero()?B+L:f[I-B.length]+B+L}for(this.isZero()&&(L="0"+L);L.length%C!=0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(E,C){return s(l!==void 0),this.toArrayLike(l,E,C)},a.prototype.toArray=function(E,C){return this.toArrayLike(Array,E,C)},a.prototype.toArrayLike=function(E,C,L){var v=this.byteLength(),b=L||Math.max(1,v);s(v<=b,"byte array longer than desired length"),s(b>0,"Requested array length <= 0"),this.strip();var _,w,S=C==="le",I=new E(b),F=this.clone();if(S){for(w=0;!F.isZero();w++)_=F.andln(255),F.iushrn(8),I[w]=_;for(;w<b;w++)I[w]=0}else{for(w=0;w<b-v;w++)I[w]=0;for(w=0;!F.isZero();w++)_=F.andln(255),F.iushrn(8),I[b-w-1]=_}return I},Math.clz32?a.prototype._countBits=function(E){return 32-Math.clz32(E)}:a.prototype._countBits=function(E){var C=E,L=0;return C>=4096&&(L+=13,C>>>=13),C>=64&&(L+=7,C>>>=7),C>=8&&(L+=4,C>>>=4),C>=2&&(L+=2,C>>>=2),L+C},a.prototype._zeroBits=function(E){if(E===0)return 26;var C=E,L=0;return(8191&C)==0&&(L+=13,C>>>=13),(127&C)==0&&(L+=7,C>>>=7),(15&C)==0&&(L+=4,C>>>=4),(3&C)==0&&(L+=2,C>>>=2),(1&C)==0&&L++,L},a.prototype.bitLength=function(){var E=this.words[this.length-1],C=this._countBits(E);return 26*(this.length-1)+C},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,C=0;C<this.length;C++){var L=this._zeroBits(this.words[C]);if(E+=L,L!==26)break}return E},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},a.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var C=0;C<E.length;C++)this.words[C]=this.words[C]|E.words[C];return this.strip()},a.prototype.ior=function(E){return s((this.negative|E.negative)==0),this.iuor(E)},a.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},a.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},a.prototype.iuand=function(E){var C;C=this.length>E.length?E:this;for(var L=0;L<C.length;L++)this.words[L]=this.words[L]&E.words[L];return this.length=C.length,this.strip()},a.prototype.iand=function(E){return s((this.negative|E.negative)==0),this.iuand(E)},a.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},a.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},a.prototype.iuxor=function(E){var C,L;this.length>E.length?(C=this,L=E):(C=E,L=this);for(var v=0;v<L.length;v++)this.words[v]=C.words[v]^L.words[v];if(this!==C)for(;v<C.length;v++)this.words[v]=C.words[v];return this.length=C.length,this.strip()},a.prototype.ixor=function(E){return s((this.negative|E.negative)==0),this.iuxor(E)},a.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},a.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},a.prototype.inotn=function(E){s(typeof E=="number"&&E>=0);var C=0|Math.ceil(E/26),L=E%26;this._expand(C),L>0&&C--;for(var v=0;v<C;v++)this.words[v]=67108863&~this.words[v];return L>0&&(this.words[v]=~this.words[v]&67108863>>26-L),this.strip()},a.prototype.notn=function(E){return this.clone().inotn(E)},a.prototype.setn=function(E,C){s(typeof E=="number"&&E>=0);var L=E/26|0,v=E%26;return this._expand(L+1),this.words[L]=C?this.words[L]|1<<v:this.words[L]&~(1<<v),this.strip()},a.prototype.iadd=function(E){var C,L,v;if(this.negative!==0&&E.negative===0)return this.negative=0,C=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,C=this.isub(E),E.negative=1,C._normSign();this.length>E.length?(L=this,v=E):(L=E,v=this);for(var b=0,_=0;_<v.length;_++)C=(0|L.words[_])+(0|v.words[_])+b,this.words[_]=67108863&C,b=C>>>26;for(;b!==0&&_<L.length;_++)C=(0|L.words[_])+b,this.words[_]=67108863&C,b=C>>>26;if(this.length=L.length,b!==0)this.words[this.length]=b,this.length++;else if(L!==this)for(;_<L.length;_++)this.words[_]=L.words[_];return this},a.prototype.add=function(E){var C;return E.negative!==0&&this.negative===0?(E.negative=0,C=this.sub(E),E.negative^=1,C):E.negative===0&&this.negative!==0?(this.negative=0,C=E.sub(this),this.negative=1,C):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},a.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var C=this.iadd(E);return E.negative=1,C._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var L,v,b=this.cmp(E);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;b>0?(L=this,v=E):(L=E,v=this);for(var _=0,w=0;w<v.length;w++)_=(C=(0|L.words[w])-(0|v.words[w])+_)>>26,this.words[w]=67108863&C;for(;_!==0&&w<L.length;w++)_=(C=(0|L.words[w])+_)>>26,this.words[w]=67108863&C;if(_===0&&w<L.length&&L!==this)for(;w<L.length;w++)this.words[w]=L.words[w];return this.length=Math.max(this.length,w),L!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(E){return this.clone().isub(E)};var g=function(E,C,L){var v,b,_,w=E.words,S=C.words,I=L.words,F=0,W=0|w[0],B=8191&W,X=W>>>13,M=0|w[1],Y=8191&M,k=M>>>13,D=0|w[2],z=8191&D,J=D>>>13,ne=0|w[3],te=8191&ne,se=ne>>>13,ve=0|w[4],ye=8191&ve,K=ve>>>13,ce=0|w[5],de=8191&ce,we=ce>>>13,ge=0|w[6],Se=8191&ge,Ee=ge>>>13,Fe=0|w[7],Ve=8191&Fe,qe=Fe>>>13,ht=0|w[8],ze=8191&ht,rt=ht>>>13,Ct=0|w[9],et=8191&Ct,tt=Ct>>>13,nt=0|S[0],it=8191&nt,Ge=nt>>>13,bt=0|S[1],ut=8191&bt,wt=bt>>>13,Ft=0|S[2],yt=8191&Ft,ft=Ft>>>13,Bt=0|S[3],Nt=8191&Bt,vt=Bt>>>13,Vt=0|S[4],_t=8191&Vt,Yt=Vt>>>13,ir=0|S[5],Qt=8191&ir,Ht=ir>>>13,zt=0|S[6],en=8191&zt,_e=zt>>>13,Oe=0|S[7],He=8191&Oe,Xe=Oe>>>13,sn=0|S[8],pt=8191&sn,At=sn>>>13,jn=0|S[9],Rt=8191&jn,xt=jn>>>13;L.negative=E.negative^C.negative,L.length=19;var Dn=(F+(v=Math.imul(B,it))|0)+((8191&(b=(b=Math.imul(B,Ge))+Math.imul(X,it)|0))<<13)|0;F=((_=Math.imul(X,Ge))+(b>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,v=Math.imul(Y,it),b=(b=Math.imul(Y,Ge))+Math.imul(k,it)|0,_=Math.imul(k,Ge);var hn=(F+(v=v+Math.imul(B,ut)|0)|0)+((8191&(b=(b=b+Math.imul(B,wt)|0)+Math.imul(X,ut)|0))<<13)|0;F=((_=_+Math.imul(X,wt)|0)+(b>>>13)|0)+(hn>>>26)|0,hn&=67108863,v=Math.imul(z,it),b=(b=Math.imul(z,Ge))+Math.imul(J,it)|0,_=Math.imul(J,Ge),v=v+Math.imul(Y,ut)|0,b=(b=b+Math.imul(Y,wt)|0)+Math.imul(k,ut)|0,_=_+Math.imul(k,wt)|0;var un=(F+(v=v+Math.imul(B,yt)|0)|0)+((8191&(b=(b=b+Math.imul(B,ft)|0)+Math.imul(X,yt)|0))<<13)|0;F=((_=_+Math.imul(X,ft)|0)+(b>>>13)|0)+(un>>>26)|0,un&=67108863,v=Math.imul(te,it),b=(b=Math.imul(te,Ge))+Math.imul(se,it)|0,_=Math.imul(se,Ge),v=v+Math.imul(z,ut)|0,b=(b=b+Math.imul(z,wt)|0)+Math.imul(J,ut)|0,_=_+Math.imul(J,wt)|0,v=v+Math.imul(Y,yt)|0,b=(b=b+Math.imul(Y,ft)|0)+Math.imul(k,yt)|0,_=_+Math.imul(k,ft)|0;var Zn=(F+(v=v+Math.imul(B,Nt)|0)|0)+((8191&(b=(b=b+Math.imul(B,vt)|0)+Math.imul(X,Nt)|0))<<13)|0;F=((_=_+Math.imul(X,vt)|0)+(b>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,v=Math.imul(ye,it),b=(b=Math.imul(ye,Ge))+Math.imul(K,it)|0,_=Math.imul(K,Ge),v=v+Math.imul(te,ut)|0,b=(b=b+Math.imul(te,wt)|0)+Math.imul(se,ut)|0,_=_+Math.imul(se,wt)|0,v=v+Math.imul(z,yt)|0,b=(b=b+Math.imul(z,ft)|0)+Math.imul(J,yt)|0,_=_+Math.imul(J,ft)|0,v=v+Math.imul(Y,Nt)|0,b=(b=b+Math.imul(Y,vt)|0)+Math.imul(k,Nt)|0,_=_+Math.imul(k,vt)|0;var ar=(F+(v=v+Math.imul(B,_t)|0)|0)+((8191&(b=(b=b+Math.imul(B,Yt)|0)+Math.imul(X,_t)|0))<<13)|0;F=((_=_+Math.imul(X,Yt)|0)+(b>>>13)|0)+(ar>>>26)|0,ar&=67108863,v=Math.imul(de,it),b=(b=Math.imul(de,Ge))+Math.imul(we,it)|0,_=Math.imul(we,Ge),v=v+Math.imul(ye,ut)|0,b=(b=b+Math.imul(ye,wt)|0)+Math.imul(K,ut)|0,_=_+Math.imul(K,wt)|0,v=v+Math.imul(te,yt)|0,b=(b=b+Math.imul(te,ft)|0)+Math.imul(se,yt)|0,_=_+Math.imul(se,ft)|0,v=v+Math.imul(z,Nt)|0,b=(b=b+Math.imul(z,vt)|0)+Math.imul(J,Nt)|0,_=_+Math.imul(J,vt)|0,v=v+Math.imul(Y,_t)|0,b=(b=b+Math.imul(Y,Yt)|0)+Math.imul(k,_t)|0,_=_+Math.imul(k,Yt)|0;var Hr=(F+(v=v+Math.imul(B,Qt)|0)|0)+((8191&(b=(b=b+Math.imul(B,Ht)|0)+Math.imul(X,Qt)|0))<<13)|0;F=((_=_+Math.imul(X,Ht)|0)+(b>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,v=Math.imul(Se,it),b=(b=Math.imul(Se,Ge))+Math.imul(Ee,it)|0,_=Math.imul(Ee,Ge),v=v+Math.imul(de,ut)|0,b=(b=b+Math.imul(de,wt)|0)+Math.imul(we,ut)|0,_=_+Math.imul(we,wt)|0,v=v+Math.imul(ye,yt)|0,b=(b=b+Math.imul(ye,ft)|0)+Math.imul(K,yt)|0,_=_+Math.imul(K,ft)|0,v=v+Math.imul(te,Nt)|0,b=(b=b+Math.imul(te,vt)|0)+Math.imul(se,Nt)|0,_=_+Math.imul(se,vt)|0,v=v+Math.imul(z,_t)|0,b=(b=b+Math.imul(z,Yt)|0)+Math.imul(J,_t)|0,_=_+Math.imul(J,Yt)|0,v=v+Math.imul(Y,Qt)|0,b=(b=b+Math.imul(Y,Ht)|0)+Math.imul(k,Qt)|0,_=_+Math.imul(k,Ht)|0;var fi=(F+(v=v+Math.imul(B,en)|0)|0)+((8191&(b=(b=b+Math.imul(B,_e)|0)+Math.imul(X,en)|0))<<13)|0;F=((_=_+Math.imul(X,_e)|0)+(b>>>13)|0)+(fi>>>26)|0,fi&=67108863,v=Math.imul(Ve,it),b=(b=Math.imul(Ve,Ge))+Math.imul(qe,it)|0,_=Math.imul(qe,Ge),v=v+Math.imul(Se,ut)|0,b=(b=b+Math.imul(Se,wt)|0)+Math.imul(Ee,ut)|0,_=_+Math.imul(Ee,wt)|0,v=v+Math.imul(de,yt)|0,b=(b=b+Math.imul(de,ft)|0)+Math.imul(we,yt)|0,_=_+Math.imul(we,ft)|0,v=v+Math.imul(ye,Nt)|0,b=(b=b+Math.imul(ye,vt)|0)+Math.imul(K,Nt)|0,_=_+Math.imul(K,vt)|0,v=v+Math.imul(te,_t)|0,b=(b=b+Math.imul(te,Yt)|0)+Math.imul(se,_t)|0,_=_+Math.imul(se,Yt)|0,v=v+Math.imul(z,Qt)|0,b=(b=b+Math.imul(z,Ht)|0)+Math.imul(J,Qt)|0,_=_+Math.imul(J,Ht)|0,v=v+Math.imul(Y,en)|0,b=(b=b+Math.imul(Y,_e)|0)+Math.imul(k,en)|0,_=_+Math.imul(k,_e)|0;var $r=(F+(v=v+Math.imul(B,He)|0)|0)+((8191&(b=(b=b+Math.imul(B,Xe)|0)+Math.imul(X,He)|0))<<13)|0;F=((_=_+Math.imul(X,Xe)|0)+(b>>>13)|0)+($r>>>26)|0,$r&=67108863,v=Math.imul(ze,it),b=(b=Math.imul(ze,Ge))+Math.imul(rt,it)|0,_=Math.imul(rt,Ge),v=v+Math.imul(Ve,ut)|0,b=(b=b+Math.imul(Ve,wt)|0)+Math.imul(qe,ut)|0,_=_+Math.imul(qe,wt)|0,v=v+Math.imul(Se,yt)|0,b=(b=b+Math.imul(Se,ft)|0)+Math.imul(Ee,yt)|0,_=_+Math.imul(Ee,ft)|0,v=v+Math.imul(de,Nt)|0,b=(b=b+Math.imul(de,vt)|0)+Math.imul(we,Nt)|0,_=_+Math.imul(we,vt)|0,v=v+Math.imul(ye,_t)|0,b=(b=b+Math.imul(ye,Yt)|0)+Math.imul(K,_t)|0,_=_+Math.imul(K,Yt)|0,v=v+Math.imul(te,Qt)|0,b=(b=b+Math.imul(te,Ht)|0)+Math.imul(se,Qt)|0,_=_+Math.imul(se,Ht)|0,v=v+Math.imul(z,en)|0,b=(b=b+Math.imul(z,_e)|0)+Math.imul(J,en)|0,_=_+Math.imul(J,_e)|0,v=v+Math.imul(Y,He)|0,b=(b=b+Math.imul(Y,Xe)|0)+Math.imul(k,He)|0,_=_+Math.imul(k,Xe)|0;var si=(F+(v=v+Math.imul(B,pt)|0)|0)+((8191&(b=(b=b+Math.imul(B,At)|0)+Math.imul(X,pt)|0))<<13)|0;F=((_=_+Math.imul(X,At)|0)+(b>>>13)|0)+(si>>>26)|0,si&=67108863,v=Math.imul(et,it),b=(b=Math.imul(et,Ge))+Math.imul(tt,it)|0,_=Math.imul(tt,Ge),v=v+Math.imul(ze,ut)|0,b=(b=b+Math.imul(ze,wt)|0)+Math.imul(rt,ut)|0,_=_+Math.imul(rt,wt)|0,v=v+Math.imul(Ve,yt)|0,b=(b=b+Math.imul(Ve,ft)|0)+Math.imul(qe,yt)|0,_=_+Math.imul(qe,ft)|0,v=v+Math.imul(Se,Nt)|0,b=(b=b+Math.imul(Se,vt)|0)+Math.imul(Ee,Nt)|0,_=_+Math.imul(Ee,vt)|0,v=v+Math.imul(de,_t)|0,b=(b=b+Math.imul(de,Yt)|0)+Math.imul(we,_t)|0,_=_+Math.imul(we,Yt)|0,v=v+Math.imul(ye,Qt)|0,b=(b=b+Math.imul(ye,Ht)|0)+Math.imul(K,Qt)|0,_=_+Math.imul(K,Ht)|0,v=v+Math.imul(te,en)|0,b=(b=b+Math.imul(te,_e)|0)+Math.imul(se,en)|0,_=_+Math.imul(se,_e)|0,v=v+Math.imul(z,He)|0,b=(b=b+Math.imul(z,Xe)|0)+Math.imul(J,He)|0,_=_+Math.imul(J,Xe)|0,v=v+Math.imul(Y,pt)|0,b=(b=b+Math.imul(Y,At)|0)+Math.imul(k,pt)|0,_=_+Math.imul(k,At)|0;var pe=(F+(v=v+Math.imul(B,Rt)|0)|0)+((8191&(b=(b=b+Math.imul(B,xt)|0)+Math.imul(X,Rt)|0))<<13)|0;F=((_=_+Math.imul(X,xt)|0)+(b>>>13)|0)+(pe>>>26)|0,pe&=67108863,v=Math.imul(et,ut),b=(b=Math.imul(et,wt))+Math.imul(tt,ut)|0,_=Math.imul(tt,wt),v=v+Math.imul(ze,yt)|0,b=(b=b+Math.imul(ze,ft)|0)+Math.imul(rt,yt)|0,_=_+Math.imul(rt,ft)|0,v=v+Math.imul(Ve,Nt)|0,b=(b=b+Math.imul(Ve,vt)|0)+Math.imul(qe,Nt)|0,_=_+Math.imul(qe,vt)|0,v=v+Math.imul(Se,_t)|0,b=(b=b+Math.imul(Se,Yt)|0)+Math.imul(Ee,_t)|0,_=_+Math.imul(Ee,Yt)|0,v=v+Math.imul(de,Qt)|0,b=(b=b+Math.imul(de,Ht)|0)+Math.imul(we,Qt)|0,_=_+Math.imul(we,Ht)|0,v=v+Math.imul(ye,en)|0,b=(b=b+Math.imul(ye,_e)|0)+Math.imul(K,en)|0,_=_+Math.imul(K,_e)|0,v=v+Math.imul(te,He)|0,b=(b=b+Math.imul(te,Xe)|0)+Math.imul(se,He)|0,_=_+Math.imul(se,Xe)|0,v=v+Math.imul(z,pt)|0,b=(b=b+Math.imul(z,At)|0)+Math.imul(J,pt)|0,_=_+Math.imul(J,At)|0;var Le=(F+(v=v+Math.imul(Y,Rt)|0)|0)+((8191&(b=(b=b+Math.imul(Y,xt)|0)+Math.imul(k,Rt)|0))<<13)|0;F=((_=_+Math.imul(k,xt)|0)+(b>>>13)|0)+(Le>>>26)|0,Le&=67108863,v=Math.imul(et,yt),b=(b=Math.imul(et,ft))+Math.imul(tt,yt)|0,_=Math.imul(tt,ft),v=v+Math.imul(ze,Nt)|0,b=(b=b+Math.imul(ze,vt)|0)+Math.imul(rt,Nt)|0,_=_+Math.imul(rt,vt)|0,v=v+Math.imul(Ve,_t)|0,b=(b=b+Math.imul(Ve,Yt)|0)+Math.imul(qe,_t)|0,_=_+Math.imul(qe,Yt)|0,v=v+Math.imul(Se,Qt)|0,b=(b=b+Math.imul(Se,Ht)|0)+Math.imul(Ee,Qt)|0,_=_+Math.imul(Ee,Ht)|0,v=v+Math.imul(de,en)|0,b=(b=b+Math.imul(de,_e)|0)+Math.imul(we,en)|0,_=_+Math.imul(we,_e)|0,v=v+Math.imul(ye,He)|0,b=(b=b+Math.imul(ye,Xe)|0)+Math.imul(K,He)|0,_=_+Math.imul(K,Xe)|0,v=v+Math.imul(te,pt)|0,b=(b=b+Math.imul(te,At)|0)+Math.imul(se,pt)|0,_=_+Math.imul(se,At)|0;var Qe=(F+(v=v+Math.imul(z,Rt)|0)|0)+((8191&(b=(b=b+Math.imul(z,xt)|0)+Math.imul(J,Rt)|0))<<13)|0;F=((_=_+Math.imul(J,xt)|0)+(b>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(et,Nt),b=(b=Math.imul(et,vt))+Math.imul(tt,Nt)|0,_=Math.imul(tt,vt),v=v+Math.imul(ze,_t)|0,b=(b=b+Math.imul(ze,Yt)|0)+Math.imul(rt,_t)|0,_=_+Math.imul(rt,Yt)|0,v=v+Math.imul(Ve,Qt)|0,b=(b=b+Math.imul(Ve,Ht)|0)+Math.imul(qe,Qt)|0,_=_+Math.imul(qe,Ht)|0,v=v+Math.imul(Se,en)|0,b=(b=b+Math.imul(Se,_e)|0)+Math.imul(Ee,en)|0,_=_+Math.imul(Ee,_e)|0,v=v+Math.imul(de,He)|0,b=(b=b+Math.imul(de,Xe)|0)+Math.imul(we,He)|0,_=_+Math.imul(we,Xe)|0,v=v+Math.imul(ye,pt)|0,b=(b=b+Math.imul(ye,At)|0)+Math.imul(K,pt)|0,_=_+Math.imul(K,At)|0;var $e=(F+(v=v+Math.imul(te,Rt)|0)|0)+((8191&(b=(b=b+Math.imul(te,xt)|0)+Math.imul(se,Rt)|0))<<13)|0;F=((_=_+Math.imul(se,xt)|0)+(b>>>13)|0)+($e>>>26)|0,$e&=67108863,v=Math.imul(et,_t),b=(b=Math.imul(et,Yt))+Math.imul(tt,_t)|0,_=Math.imul(tt,Yt),v=v+Math.imul(ze,Qt)|0,b=(b=b+Math.imul(ze,Ht)|0)+Math.imul(rt,Qt)|0,_=_+Math.imul(rt,Ht)|0,v=v+Math.imul(Ve,en)|0,b=(b=b+Math.imul(Ve,_e)|0)+Math.imul(qe,en)|0,_=_+Math.imul(qe,_e)|0,v=v+Math.imul(Se,He)|0,b=(b=b+Math.imul(Se,Xe)|0)+Math.imul(Ee,He)|0,_=_+Math.imul(Ee,Xe)|0,v=v+Math.imul(de,pt)|0,b=(b=b+Math.imul(de,At)|0)+Math.imul(we,pt)|0,_=_+Math.imul(we,At)|0;var dt=(F+(v=v+Math.imul(ye,Rt)|0)|0)+((8191&(b=(b=b+Math.imul(ye,xt)|0)+Math.imul(K,Rt)|0))<<13)|0;F=((_=_+Math.imul(K,xt)|0)+(b>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(et,Qt),b=(b=Math.imul(et,Ht))+Math.imul(tt,Qt)|0,_=Math.imul(tt,Ht),v=v+Math.imul(ze,en)|0,b=(b=b+Math.imul(ze,_e)|0)+Math.imul(rt,en)|0,_=_+Math.imul(rt,_e)|0,v=v+Math.imul(Ve,He)|0,b=(b=b+Math.imul(Ve,Xe)|0)+Math.imul(qe,He)|0,_=_+Math.imul(qe,Xe)|0,v=v+Math.imul(Se,pt)|0,b=(b=b+Math.imul(Se,At)|0)+Math.imul(Ee,pt)|0,_=_+Math.imul(Ee,At)|0;var Mt=(F+(v=v+Math.imul(de,Rt)|0)|0)+((8191&(b=(b=b+Math.imul(de,xt)|0)+Math.imul(we,Rt)|0))<<13)|0;F=((_=_+Math.imul(we,xt)|0)+(b>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,v=Math.imul(et,en),b=(b=Math.imul(et,_e))+Math.imul(tt,en)|0,_=Math.imul(tt,_e),v=v+Math.imul(ze,He)|0,b=(b=b+Math.imul(ze,Xe)|0)+Math.imul(rt,He)|0,_=_+Math.imul(rt,Xe)|0,v=v+Math.imul(Ve,pt)|0,b=(b=b+Math.imul(Ve,At)|0)+Math.imul(qe,pt)|0,_=_+Math.imul(qe,At)|0;var Pt=(F+(v=v+Math.imul(Se,Rt)|0)|0)+((8191&(b=(b=b+Math.imul(Se,xt)|0)+Math.imul(Ee,Rt)|0))<<13)|0;F=((_=_+Math.imul(Ee,xt)|0)+(b>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(et,He),b=(b=Math.imul(et,Xe))+Math.imul(tt,He)|0,_=Math.imul(tt,Xe),v=v+Math.imul(ze,pt)|0,b=(b=b+Math.imul(ze,At)|0)+Math.imul(rt,pt)|0,_=_+Math.imul(rt,At)|0;var Cn=(F+(v=v+Math.imul(Ve,Rt)|0)|0)+((8191&(b=(b=b+Math.imul(Ve,xt)|0)+Math.imul(qe,Rt)|0))<<13)|0;F=((_=_+Math.imul(qe,xt)|0)+(b>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,v=Math.imul(et,pt),b=(b=Math.imul(et,At))+Math.imul(tt,pt)|0,_=Math.imul(tt,At);var cn=(F+(v=v+Math.imul(ze,Rt)|0)|0)+((8191&(b=(b=b+Math.imul(ze,xt)|0)+Math.imul(rt,Rt)|0))<<13)|0;F=((_=_+Math.imul(rt,xt)|0)+(b>>>13)|0)+(cn>>>26)|0,cn&=67108863;var nn=(F+(v=Math.imul(et,Rt))|0)+((8191&(b=(b=Math.imul(et,xt))+Math.imul(tt,Rt)|0))<<13)|0;return F=((_=Math.imul(tt,xt))+(b>>>13)|0)+(nn>>>26)|0,nn&=67108863,I[0]=Dn,I[1]=hn,I[2]=un,I[3]=Zn,I[4]=ar,I[5]=Hr,I[6]=fi,I[7]=$r,I[8]=si,I[9]=pe,I[10]=Le,I[11]=Qe,I[12]=$e,I[13]=dt,I[14]=Mt,I[15]=Pt,I[16]=Cn,I[17]=cn,I[18]=nn,F!==0&&(I[19]=F,L.length++),L};function y(E,C,L){return new x().mulp(E,C,L)}function x(E,C){this.x=E,this.y=C}Math.imul||(g=m),a.prototype.mulTo=function(E,C){var L=this.length+E.length;return this.length===10&&E.length===10?g(this,E,C):L<63?m(this,E,C):L<1024?(function(v,b,_){_.negative=b.negative^v.negative,_.length=v.length+b.length;for(var w=0,S=0,I=0;I<_.length-1;I++){var F=S;S=0;for(var W=67108863&w,B=Math.min(I,b.length-1),X=Math.max(0,I-v.length+1);X<=B;X++){var M=I-X,Y=(0|v.words[M])*(0|b.words[X]),k=67108863&Y;W=67108863&(k=k+W|0),S+=(F=(F=F+(Y/67108864|0)|0)+(k>>>26)|0)>>>26,F&=67108863}_.words[I]=W,w=F,F=S}return w!==0?_.words[I]=w:_.length--,_.strip()})(this,E,C):y(this,E,C)},x.prototype.makeRBT=function(E){for(var C=new Array(E),L=a.prototype._countBits(E)-1,v=0;v<E;v++)C[v]=this.revBin(v,L,E);return C},x.prototype.revBin=function(E,C,L){if(E===0||E===L-1)return E;for(var v=0,b=0;b<C;b++)v|=(1&E)<<C-b-1,E>>=1;return v},x.prototype.permute=function(E,C,L,v,b,_){for(var w=0;w<_;w++)v[w]=C[E[w]],b[w]=L[E[w]]},x.prototype.transform=function(E,C,L,v,b,_){this.permute(_,E,C,L,v,b);for(var w=1;w<b;w<<=1)for(var S=w<<1,I=Math.cos(2*Math.PI/S),F=Math.sin(2*Math.PI/S),W=0;W<b;W+=S)for(var B=I,X=F,M=0;M<w;M++){var Y=L[W+M],k=v[W+M],D=L[W+M+w],z=v[W+M+w],J=B*D-X*z;z=B*z+X*D,D=J,L[W+M]=Y+D,v[W+M]=k+z,L[W+M+w]=Y-D,v[W+M+w]=k-z,M!==S&&(J=I*B-F*X,X=I*X+F*B,B=J)}},x.prototype.guessLen13b=function(E,C){var L=1|Math.max(C,E),v=1&L,b=0;for(L=L/2|0;L;L>>>=1)b++;return 1<<b+1+v},x.prototype.conjugate=function(E,C,L){if(!(L<=1))for(var v=0;v<L/2;v++){var b=E[v];E[v]=E[L-v-1],E[L-v-1]=b,b=C[v],C[v]=-C[L-v-1],C[L-v-1]=-b}},x.prototype.normalize13b=function(E,C){for(var L=0,v=0;v<C/2;v++){var b=8192*Math.round(E[2*v+1]/C)+Math.round(E[2*v]/C)+L;E[v]=67108863&b,L=b<67108864?0:b/67108864|0}return E},x.prototype.convert13b=function(E,C,L,v){for(var b=0,_=0;_<C;_++)b+=0|E[_],L[2*_]=8191&b,b>>>=13,L[2*_+1]=8191&b,b>>>=13;for(_=2*C;_<v;++_)L[_]=0;s(b===0),s((-8192&b)==0)},x.prototype.stub=function(E){for(var C=new Array(E),L=0;L<E;L++)C[L]=0;return C},x.prototype.mulp=function(E,C,L){var v=2*this.guessLen13b(E.length,C.length),b=this.makeRBT(v),_=this.stub(v),w=new Array(v),S=new Array(v),I=new Array(v),F=new Array(v),W=new Array(v),B=new Array(v),X=L.words;X.length=v,this.convert13b(E.words,E.length,w,v),this.convert13b(C.words,C.length,F,v),this.transform(w,_,S,I,v,b),this.transform(F,_,W,B,v,b);for(var M=0;M<v;M++){var Y=S[M]*W[M]-I[M]*B[M];I[M]=S[M]*B[M]+I[M]*W[M],S[M]=Y}return this.conjugate(S,I,v),this.transform(S,I,X,_,v,b),this.conjugate(X,_,v),this.normalize13b(X,v),L.negative=E.negative^C.negative,L.length=E.length+C.length,L.strip()},a.prototype.mul=function(E){var C=new a(null);return C.words=new Array(this.length+E.length),this.mulTo(E,C)},a.prototype.mulf=function(E){var C=new a(null);return C.words=new Array(this.length+E.length),y(this,E,C)},a.prototype.imul=function(E){return this.clone().mulTo(E,this)},a.prototype.imuln=function(E){s(typeof E=="number"),s(E<67108864);for(var C=0,L=0;L<this.length;L++){var v=(0|this.words[L])*E,b=(67108863&v)+(67108863&C);C>>=26,C+=v/67108864|0,C+=b>>>26,this.words[L]=67108863&b}return C!==0&&(this.words[L]=C,this.length++),this},a.prototype.muln=function(E){return this.clone().imuln(E)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(E){var C=(function(_){for(var w=new Array(_.bitLength()),S=0;S<w.length;S++){var I=S/26|0,F=S%26;w[S]=(_.words[I]&1<<F)>>>F}return w})(E);if(C.length===0)return new a(1);for(var L=this,v=0;v<C.length&&C[v]===0;v++,L=L.sqr());if(++v<C.length)for(var b=L.sqr();v<C.length;v++,b=b.sqr())C[v]!==0&&(L=L.mul(b));return L},a.prototype.iushln=function(E){s(typeof E=="number"&&E>=0);var C,L=E%26,v=(E-L)/26,b=67108863>>>26-L<<26-L;if(L!==0){var _=0;for(C=0;C<this.length;C++){var w=this.words[C]&b,S=(0|this.words[C])-w<<L;this.words[C]=S|_,_=w>>>26-L}_&&(this.words[C]=_,this.length++)}if(v!==0){for(C=this.length-1;C>=0;C--)this.words[C+v]=this.words[C];for(C=0;C<v;C++)this.words[C]=0;this.length+=v}return this.strip()},a.prototype.ishln=function(E){return s(this.negative===0),this.iushln(E)},a.prototype.iushrn=function(E,C,L){var v;s(typeof E=="number"&&E>=0),v=C?(C-C%26)/26:0;var b=E%26,_=Math.min((E-b)/26,this.length),w=67108863^67108863>>>b<<b,S=L;if(v-=_,v=Math.max(0,v),S){for(var I=0;I<_;I++)S.words[I]=this.words[I];S.length=_}if(_!==0)if(this.length>_)for(this.length-=_,I=0;I<this.length;I++)this.words[I]=this.words[I+_];else this.words[0]=0,this.length=1;var F=0;for(I=this.length-1;I>=0&&(F!==0||I>=v);I--){var W=0|this.words[I];this.words[I]=F<<26-b|W>>>b,F=W&w}return S&&F!==0&&(S.words[S.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(E,C,L){return s(this.negative===0),this.iushrn(E,C,L)},a.prototype.shln=function(E){return this.clone().ishln(E)},a.prototype.ushln=function(E){return this.clone().iushln(E)},a.prototype.shrn=function(E){return this.clone().ishrn(E)},a.prototype.ushrn=function(E){return this.clone().iushrn(E)},a.prototype.testn=function(E){s(typeof E=="number"&&E>=0);var C=E%26,L=(E-C)/26,v=1<<C;return!(this.length<=L)&&!!(this.words[L]&v)},a.prototype.imaskn=function(E){s(typeof E=="number"&&E>=0);var C=E%26,L=(E-C)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=L)return this;if(C!==0&&L++,this.length=Math.min(L,this.length),C!==0){var v=67108863^67108863>>>C<<C;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(E){return this.clone().imaskn(E)},a.prototype.iaddn=function(E){return s(typeof E=="number"),s(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},a.prototype._iaddn=function(E){this.words[0]+=E;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},a.prototype.isubn=function(E){if(s(typeof E=="number"),s(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this.strip()},a.prototype.addn=function(E){return this.clone().iaddn(E)},a.prototype.subn=function(E){return this.clone().isubn(E)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(E,C,L){var v,b,_=E.length+L;this._expand(_);var w=0;for(v=0;v<E.length;v++){b=(0|this.words[v+L])+w;var S=(0|E.words[v])*C;w=((b-=67108863&S)>>26)-(S/67108864|0),this.words[v+L]=67108863&b}for(;v<this.length-L;v++)w=(b=(0|this.words[v+L])+w)>>26,this.words[v+L]=67108863&b;if(w===0)return this.strip();for(s(w===-1),w=0,v=0;v<this.length;v++)w=(b=-(0|this.words[v])+w)>>26,this.words[v]=67108863&b;return this.negative=1,this.strip()},a.prototype._wordDiv=function(E,C){var L=(this.length,E.length),v=this.clone(),b=E,_=0|b.words[b.length-1];(L=26-this._countBits(_))!==0&&(b=b.ushln(L),v.iushln(L),_=0|b.words[b.length-1]);var w,S=v.length-b.length;if(C!=="mod"){(w=new a(null)).length=S+1,w.words=new Array(w.length);for(var I=0;I<w.length;I++)w.words[I]=0}var F=v.clone()._ishlnsubmul(b,1,S);F.negative===0&&(v=F,w&&(w.words[S]=1));for(var W=S-1;W>=0;W--){var B=67108864*(0|v.words[b.length+W])+(0|v.words[b.length+W-1]);for(B=Math.min(B/_|0,67108863),v._ishlnsubmul(b,B,W);v.negative!==0;)B--,v.negative=0,v._ishlnsubmul(b,1,W),v.isZero()||(v.negative^=1);w&&(w.words[W]=B)}return w&&w.strip(),v.strip(),C!=="div"&&L!==0&&v.iushrn(L),{div:w||null,mod:v}},a.prototype.divmod=function(E,C,L){return s(!E.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&E.negative===0?(_=this.neg().divmod(E,C),C!=="mod"&&(v=_.div.neg()),C!=="div"&&(b=_.mod.neg(),L&&b.negative!==0&&b.iadd(E)),{div:v,mod:b}):this.negative===0&&E.negative!==0?(_=this.divmod(E.neg(),C),C!=="mod"&&(v=_.div.neg()),{div:v,mod:_.mod}):(this.negative&E.negative)!=0?(_=this.neg().divmod(E.neg(),C),C!=="div"&&(b=_.mod.neg(),L&&b.negative!==0&&b.isub(E)),{div:_.div,mod:b}):E.length>this.length||this.cmp(E)<0?{div:new a(0),mod:this}:E.length===1?C==="div"?{div:this.divn(E.words[0]),mod:null}:C==="mod"?{div:null,mod:new a(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new a(this.modn(E.words[0]))}:this._wordDiv(E,C);var v,b,_},a.prototype.div=function(E){return this.divmod(E,"div",!1).div},a.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},a.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},a.prototype.divRound=function(E){var C=this.divmod(E);if(C.mod.isZero())return C.div;var L=C.div.negative!==0?C.mod.isub(E):C.mod,v=E.ushrn(1),b=E.andln(1),_=L.cmp(v);return _<0||b===1&&_===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},a.prototype.modn=function(E){s(E<=67108863);for(var C=(1<<26)%E,L=0,v=this.length-1;v>=0;v--)L=(C*L+(0|this.words[v]))%E;return L},a.prototype.idivn=function(E){s(E<=67108863);for(var C=0,L=this.length-1;L>=0;L--){var v=(0|this.words[L])+67108864*C;this.words[L]=v/E|0,C=v%E}return this.strip()},a.prototype.divn=function(E){return this.clone().idivn(E)},a.prototype.egcd=function(E){s(E.negative===0),s(!E.isZero());var C=this,L=E.clone();C=C.negative!==0?C.umod(E):C.clone();for(var v=new a(1),b=new a(0),_=new a(0),w=new a(1),S=0;C.isEven()&&L.isEven();)C.iushrn(1),L.iushrn(1),++S;for(var I=L.clone(),F=C.clone();!C.isZero();){for(var W=0,B=1;(C.words[0]&B)==0&&W<26;++W,B<<=1);if(W>0)for(C.iushrn(W);W-- >0;)(v.isOdd()||b.isOdd())&&(v.iadd(I),b.isub(F)),v.iushrn(1),b.iushrn(1);for(var X=0,M=1;(L.words[0]&M)==0&&X<26;++X,M<<=1);if(X>0)for(L.iushrn(X);X-- >0;)(_.isOdd()||w.isOdd())&&(_.iadd(I),w.isub(F)),_.iushrn(1),w.iushrn(1);C.cmp(L)>=0?(C.isub(L),v.isub(_),b.isub(w)):(L.isub(C),_.isub(v),w.isub(b))}return{a:_,b:w,gcd:L.iushln(S)}},a.prototype._invmp=function(E){s(E.negative===0),s(!E.isZero());var C=this,L=E.clone();C=C.negative!==0?C.umod(E):C.clone();for(var v,b=new a(1),_=new a(0),w=L.clone();C.cmpn(1)>0&&L.cmpn(1)>0;){for(var S=0,I=1;(C.words[0]&I)==0&&S<26;++S,I<<=1);if(S>0)for(C.iushrn(S);S-- >0;)b.isOdd()&&b.iadd(w),b.iushrn(1);for(var F=0,W=1;(L.words[0]&W)==0&&F<26;++F,W<<=1);if(F>0)for(L.iushrn(F);F-- >0;)_.isOdd()&&_.iadd(w),_.iushrn(1);C.cmp(L)>=0?(C.isub(L),b.isub(_)):(L.isub(C),_.isub(b))}return(v=C.cmpn(1)===0?b:_).cmpn(0)<0&&v.iadd(E),v},a.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var C=this.clone(),L=E.clone();C.negative=0,L.negative=0;for(var v=0;C.isEven()&&L.isEven();v++)C.iushrn(1),L.iushrn(1);for(;;){for(;C.isEven();)C.iushrn(1);for(;L.isEven();)L.iushrn(1);var b=C.cmp(L);if(b<0){var _=C;C=L,L=_}else if(b===0||L.cmpn(1)===0)break;C.isub(L)}return L.iushln(v)},a.prototype.invm=function(E){return this.egcd(E).a.umod(E)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(E){return this.words[0]&E},a.prototype.bincn=function(E){s(typeof E=="number");var C=E%26,L=(E-C)/26,v=1<<C;if(this.length<=L)return this._expand(L+1),this.words[L]|=v,this;for(var b=v,_=L;b!==0&&_<this.length;_++){var w=0|this.words[_];b=(w+=b)>>>26,w&=67108863,this.words[_]=w}return b!==0&&(this.words[_]=b,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(E){var C,L=E<0;if(this.negative!==0&&!L)return-1;if(this.negative===0&&L)return 1;if(this.strip(),this.length>1)C=1;else{L&&(E=-E),s(E<=67108863,"Number is too big");var v=0|this.words[0];C=v===E?0:v<E?-1:1}return this.negative!==0?0|-C:C},a.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var C=this.ucmp(E);return this.negative!==0?0|-C:C},a.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var C=0,L=this.length-1;L>=0;L--){var v=0|this.words[L],b=0|E.words[L];if(v!==b){v<b?C=-1:v>b&&(C=1);break}}return C},a.prototype.gtn=function(E){return this.cmpn(E)===1},a.prototype.gt=function(E){return this.cmp(E)===1},a.prototype.gten=function(E){return this.cmpn(E)>=0},a.prototype.gte=function(E){return this.cmp(E)>=0},a.prototype.ltn=function(E){return this.cmpn(E)===-1},a.prototype.lt=function(E){return this.cmp(E)===-1},a.prototype.lten=function(E){return this.cmpn(E)<=0},a.prototype.lte=function(E){return this.cmp(E)<=0},a.prototype.eqn=function(E){return this.cmpn(E)===0},a.prototype.eq=function(E){return this.cmp(E)===0},a.red=function(E){return new q(E)},a.prototype.toRed=function(E){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(E){return this.red=E,this},a.prototype.forceRed=function(E){return s(!this.red,"Already a number in reduction context"),this._forceRed(E)},a.prototype.redAdd=function(E){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},a.prototype.redIAdd=function(E){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},a.prototype.redSub=function(E){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},a.prototype.redISub=function(E){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},a.prototype.redShl=function(E){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},a.prototype.redMul=function(E){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},a.prototype.redIMul=function(E){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(E){return s(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var T={k256:null,p224:null,p192:null,p25519:null};function R(E,C){this.name=E,this.p=new a(C,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function U(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function j(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function q(E){if(typeof E=="string"){var C=a._prime(E);this.m=C.p,this.prime=C}else s(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function H(E){q.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R.prototype._tmp=function(){var E=new a(null);return E.words=new Array(Math.ceil(this.n/13)),E},R.prototype.ireduce=function(E){var C,L=E;do this.split(L,this.tmp),C=(L=(L=this.imulK(L)).iadd(this.tmp)).bitLength();while(C>this.n);var v=C<this.n?-1:L.ucmp(this.p);return v===0?(L.words[0]=0,L.length=1):v>0?L.isub(this.p):L.strip!==void 0?L.strip():L._strip(),L},R.prototype.split=function(E,C){E.iushrn(this.n,0,C)},R.prototype.imulK=function(E){return E.imul(this.k)},o($,R),$.prototype.split=function(E,C){for(var L=Math.min(E.length,9),v=0;v<L;v++)C.words[v]=E.words[v];if(C.length=L,E.length<=9)return E.words[0]=0,void(E.length=1);var b=E.words[9];for(C.words[C.length++]=4194303&b,v=10;v<E.length;v++){var _=0|E.words[v];E.words[v-10]=(4194303&_)<<4|b>>>22,b=_}b>>>=22,E.words[v-10]=b,b===0&&E.length>10?E.length-=10:E.length-=9},$.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var C=0,L=0;L<E.length;L++){var v=0|E.words[L];C+=977*v,E.words[L]=67108863&C,C=64*v+(C/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},o(O,R),o(U,R),o(j,R),j.prototype.imulK=function(E){for(var C=0,L=0;L<E.length;L++){var v=19*(0|E.words[L])+C,b=67108863&v;v>>>=26,E.words[L]=b,C=v}return C!==0&&(E.words[E.length++]=C),E},a._prime=function(E){if(T[E])return T[E];var C;if(E==="k256")C=new $;else if(E==="p224")C=new O;else if(E==="p192")C=new U;else{if(E!=="p25519")throw new Error("Unknown prime "+E);C=new j}return T[E]=C,C},q.prototype._verify1=function(E){s(E.negative===0,"red works only with positives"),s(E.red,"red works only with red numbers")},q.prototype._verify2=function(E,C){s((E.negative|C.negative)==0,"red works only with positives"),s(E.red&&E.red===C.red,"red works only with red numbers")},q.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},q.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},q.prototype.add=function(E,C){this._verify2(E,C);var L=E.add(C);return L.cmp(this.m)>=0&&L.isub(this.m),L._forceRed(this)},q.prototype.iadd=function(E,C){this._verify2(E,C);var L=E.iadd(C);return L.cmp(this.m)>=0&&L.isub(this.m),L},q.prototype.sub=function(E,C){this._verify2(E,C);var L=E.sub(C);return L.cmpn(0)<0&&L.iadd(this.m),L._forceRed(this)},q.prototype.isub=function(E,C){this._verify2(E,C);var L=E.isub(C);return L.cmpn(0)<0&&L.iadd(this.m),L},q.prototype.shl=function(E,C){return this._verify1(E),this.imod(E.ushln(C))},q.prototype.imul=function(E,C){return this._verify2(E,C),this.imod(E.imul(C))},q.prototype.mul=function(E,C){return this._verify2(E,C),this.imod(E.mul(C))},q.prototype.isqr=function(E){return this.imul(E,E.clone())},q.prototype.sqr=function(E){return this.mul(E,E)},q.prototype.sqrt=function(E){if(E.isZero())return E.clone();var C=this.m.andln(3);if(s(C%2==1),C===3){var L=this.m.add(new a(1)).iushrn(2);return this.pow(E,L)}for(var v=this.m.subn(1),b=0;!v.isZero()&&v.andln(1)===0;)b++,v.iushrn(1);s(!v.isZero());var _=new a(1).toRed(this),w=_.redNeg(),S=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new a(2*I*I).toRed(this);this.pow(I,S).cmp(w)!==0;)I.redIAdd(w);for(var F=this.pow(I,v),W=this.pow(E,v.addn(1).iushrn(1)),B=this.pow(E,v),X=b;B.cmp(_)!==0;){for(var M=B,Y=0;M.cmp(_)!==0;Y++)M=M.redSqr();s(Y<X);var k=this.pow(F,new a(1).iushln(X-Y-1));W=W.redMul(k),F=k.redSqr(),B=B.redMul(F),X=Y}return W},q.prototype.invm=function(E){var C=E._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},q.prototype.pow=function(E,C){if(C.isZero())return new a(1).toRed(this);if(C.cmpn(1)===0)return E.clone();var L=new Array(16);L[0]=new a(1).toRed(this),L[1]=E;for(var v=2;v<L.length;v++)L[v]=this.mul(L[v-1],E);var b=L[0],_=0,w=0,S=C.bitLength()%26;for(S===0&&(S=26),v=C.length-1;v>=0;v--){for(var I=C.words[v],F=S-1;F>=0;F--){var W=I>>F&1;b!==L[0]&&(b=this.sqr(b)),W!==0||_!==0?(_<<=1,_|=W,(++w===4||v===0&&F===0)&&(b=this.mul(b,L[_]),w=0,_=0)):w=0}S=26}return b},q.prototype.convertTo=function(E){var C=E.umod(this.m);return C===E?C.clone():C},q.prototype.convertFrom=function(E){var C=E.clone();return C.red=null,C},a.mont=function(E){return new H(E)},o(H,q),H.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},H.prototype.convertFrom=function(E){var C=this.imod(E.mul(this.rinv));return C.red=null,C},H.prototype.imul=function(E,C){if(E.isZero()||C.isZero())return E.words[0]=0,E.length=1,E;var L=E.imul(C),v=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=L.isub(v).iushrn(this.shift),_=b;return b.cmp(this.m)>=0?_=b.isub(this.m):b.cmpn(0)<0&&(_=b.iadd(this.m)),_._forceRed(this)},H.prototype.mul=function(E,C){if(E.isZero()||C.isZero())return new a(0)._forceRed(this);var L=E.mul(C),v=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=L.isub(v).iushrn(this.shift),_=b;return b.cmp(this.m)>=0?_=b.isub(this.m):b.cmpn(0)<0&&(_=b.iadd(this.m)),_._forceRed(this)},H.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(e===void 0||e)},{buffer:188}],185:[function(t,e,n){"use strict";n.byteLength=function(d){var f=u(d),h=f[0],p=f[1];return 3*(h+p)/4-p},n.toByteArray=function(d){var f,h,p=u(d),m=p[0],g=p[1],y=new s((function(R,$,O){return 3*($+O)/4-O})(0,m,g)),x=0,T=g>0?m-4:m;for(h=0;h<T;h+=4)f=i[d.charCodeAt(h)]<<18|i[d.charCodeAt(h+1)]<<12|i[d.charCodeAt(h+2)]<<6|i[d.charCodeAt(h+3)],y[x++]=f>>16&255,y[x++]=f>>8&255,y[x++]=255&f;return g===2&&(f=i[d.charCodeAt(h)]<<2|i[d.charCodeAt(h+1)]>>4,y[x++]=255&f),g===1&&(f=i[d.charCodeAt(h)]<<10|i[d.charCodeAt(h+1)]<<4|i[d.charCodeAt(h+2)]>>2,y[x++]=f>>8&255,y[x++]=255&f),y},n.fromByteArray=function(d){for(var f,h=d.length,p=h%3,m=[],g=0,y=h-p;g<y;g+=16383)m.push(c(d,g,g+16383>y?y:g+16383));return p===1?(f=d[h-1],m.push(r[f>>2]+r[f<<4&63]+"==")):p===2&&(f=(d[h-2]<<8)+d[h-1],m.push(r[f>>10]+r[f>>4&63]+r[f<<2&63]+"=")),m.join("")};for(var r=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function u(d){var f=d.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=d.indexOf("=");return h===-1&&(h=f),[h,h===f?0:4-h%4]}function c(d,f,h){for(var p,m,g=[],y=f;y<h;y+=3)p=(d[y]<<16&16711680)+(d[y+1]<<8&65280)+(255&d[y+2]),g.push(r[(m=p)>>18&63]+r[m>>12&63]+r[m>>6&63]+r[63&m]);return g.join("")}i[45]=62,i[95]=63},{}],186:[function(t,e,n){"use strict";(function(r,i){function s(v,b){if(!v)throw new Error(b||"Assertion failed")}function o(v,b){v.super_=b;var _=function(){};_.prototype=b.prototype,v.prototype=new _,v.prototype.constructor=v}function a(v,b,_){if(a.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&(b!=="le"&&b!=="be"||(_=b,b=10),this._init(v||0,b||10,_||"be"))}var l;typeof r=="object"?r.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function u(v,b){var _=v.charCodeAt(b);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void s(!1,"Invalid character in "+v)}function c(v,b,_){var w=u(v,_);return _-1>=b&&(w|=u(v,_-1)<<4),w}function d(v,b,_,w){for(var S=0,I=0,F=Math.min(v.length,_),W=b;W<F;W++){var B=v.charCodeAt(W)-48;S*=w,I=B>=49?B-49+10:B>=17?B-17+10:B,s(B>=0&&I<w,"Invalid character"),S+=I}return S}function f(v,b){v.words=b.words,v.length=b.length,v.negative=b.negative,v.red=b.red}if(a.isBN=function(v){return v instanceof a||v!==null&&typeof v=="object"&&v.constructor.wordSize===a.wordSize&&Array.isArray(v.words)},a.max=function(v,b){return v.cmp(b)>0?v:b},a.min=function(v,b){return v.cmp(b)<0?v:b},a.prototype._init=function(v,b,_){if(typeof v=="number")return this._initNumber(v,b,_);if(typeof v=="object")return this._initArray(v,b,_);b==="hex"&&(b=16),s(b===(0|b)&&b>=2&&b<=36);var w=0;(v=v.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<v.length&&(b===16?this._parseHex(v,w,_):(this._parseBase(v,b,w),_==="le"&&this._initArray(this.toArray(),b,_)))},a.prototype._initNumber=function(v,b,_){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[67108863&v],this.length=1):v<4503599627370496?(this.words=[67108863&v,v/67108864&67108863],this.length=2):(s(v<9007199254740992),this.words=[67108863&v,v/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),b,_)},a.prototype._initArray=function(v,b,_){if(s(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,I,F=0;if(_==="be")for(w=v.length-1,S=0;w>=0;w-=3)I=v[w]|v[w-1]<<8|v[w-2]<<16,this.words[S]|=I<<F&67108863,this.words[S+1]=I>>>26-F&67108863,(F+=24)>=26&&(F-=26,S++);else if(_==="le")for(w=0,S=0;w<v.length;w+=3)I=v[w]|v[w+1]<<8|v[w+2]<<16,this.words[S]|=I<<F&67108863,this.words[S+1]=I>>>26-F&67108863,(F+=24)>=26&&(F-=26,S++);return this._strip()},a.prototype._parseHex=function(v,b,_){this.length=Math.ceil((v.length-b)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,I=0,F=0;if(_==="be")for(w=v.length-1;w>=b;w-=2)S=c(v,b,w)<<I,this.words[F]|=67108863&S,I>=18?(I-=18,F+=1,this.words[F]|=S>>>26):I+=8;else for(w=(v.length-b)%2==0?b+1:b;w<v.length;w+=2)S=c(v,b,w)<<I,this.words[F]|=67108863&S,I>=18?(I-=18,F+=1,this.words[F]|=S>>>26):I+=8;this._strip()},a.prototype._parseBase=function(v,b,_){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=b)w++;w--,S=S/b|0;for(var I=v.length-_,F=I%w,W=Math.min(I,I-F)+_,B=0,X=_;X<W;X+=w)B=d(v,X,X+w,b),this.imuln(S),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(F!==0){var M=1;for(B=d(v,X,v.length,b),X=0;X<F;X++)M*=b;this.imuln(M),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},a.prototype.copy=function(v){v.words=new Array(this.length);for(var b=0;b<this.length;b++)v.words[b]=this.words[b];v.length=this.length,v.negative=this.negative,v.red=this.red},a.prototype._move=function(v){f(v,this)},a.prototype.clone=function(){var v=new a(null);return this.copy(v),v},a.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{a.prototype.inspect=h}else a.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(v,b){var _;if(b=0|b||1,(v=v||10)===16||v==="hex"){_="";for(var w=0,S=0,I=0;I<this.length;I++){var F=this.words[I],W=(16777215&(F<<w|S)).toString(16);S=F>>>24-w&16777215,(w+=2)>=26&&(w-=26,I--),_=S!==0||I!==this.length-1?p[6-W.length]+W+_:W+_}for(S!==0&&(_=S.toString(16)+_);_.length%b!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(v===(0|v)&&v>=2&&v<=36){var B=m[v],X=g[v];_="";var M=this.clone();for(M.negative=0;!M.isZero();){var Y=M.modrn(X).toString(v);_=(M=M.idivn(X)).isZero()?Y+_:p[B-Y.length]+Y+_}for(this.isZero()&&(_="0"+_);_.length%b!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=67108864*this.words[1]:this.length===3&&this.words[2]===1?v+=4503599627370496+67108864*this.words[1]:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},a.prototype.toJSON=function(){return this.toString(16,2)},l&&(a.prototype.toBuffer=function(v,b){return this.toArrayLike(l,v,b)}),a.prototype.toArray=function(v,b){return this.toArrayLike(Array,v,b)};function y(v,b,_){_.negative=b.negative^v.negative;var w=v.length+b.length|0;_.length=w,w=w-1|0;var S=0|v.words[0],I=0|b.words[0],F=S*I,W=67108863&F,B=F/67108864|0;_.words[0]=W;for(var X=1;X<w;X++){for(var M=B>>>26,Y=67108863&B,k=Math.min(X,b.length-1),D=Math.max(0,X-v.length+1);D<=k;D++){var z=X-D|0;M+=(F=(S=0|v.words[z])*(I=0|b.words[D])+Y)/67108864|0,Y=67108863&F}_.words[X]=0|Y,B=0|M}return B!==0?_.words[X]=0|B:_.length--,_._strip()}a.prototype.toArrayLike=function(v,b,_){this._strip();var w=this.byteLength(),S=_||Math.max(1,w);s(w<=S,"byte array longer than desired length"),s(S>0,"Requested array length <= 0");var I=(function(F,W){return F.allocUnsafe?F.allocUnsafe(W):new F(W)})(v,S);return this["_toArrayLike"+(b==="le"?"LE":"BE")](I,w),I},a.prototype._toArrayLikeLE=function(v,b){for(var _=0,w=0,S=0,I=0;S<this.length;S++){var F=this.words[S]<<I|w;v[_++]=255&F,_<v.length&&(v[_++]=F>>8&255),_<v.length&&(v[_++]=F>>16&255),I===6?(_<v.length&&(v[_++]=F>>24&255),w=0,I=0):(w=F>>>24,I+=2)}if(_<v.length)for(v[_++]=w;_<v.length;)v[_++]=0},a.prototype._toArrayLikeBE=function(v,b){for(var _=v.length-1,w=0,S=0,I=0;S<this.length;S++){var F=this.words[S]<<I|w;v[_--]=255&F,_>=0&&(v[_--]=F>>8&255),_>=0&&(v[_--]=F>>16&255),I===6?(_>=0&&(v[_--]=F>>24&255),w=0,I=0):(w=F>>>24,I+=2)}if(_>=0)for(v[_--]=w;_>=0;)v[_--]=0},Math.clz32?a.prototype._countBits=function(v){return 32-Math.clz32(v)}:a.prototype._countBits=function(v){var b=v,_=0;return b>=4096&&(_+=13,b>>>=13),b>=64&&(_+=7,b>>>=7),b>=8&&(_+=4,b>>>=4),b>=2&&(_+=2,b>>>=2),_+b},a.prototype._zeroBits=function(v){if(v===0)return 26;var b=v,_=0;return(8191&b)==0&&(_+=13,b>>>=13),(127&b)==0&&(_+=7,b>>>=7),(15&b)==0&&(_+=4,b>>>=4),(3&b)==0&&(_+=2,b>>>=2),(1&b)==0&&_++,_},a.prototype.bitLength=function(){var v=this.words[this.length-1],b=this._countBits(v);return 26*(this.length-1)+b},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,b=0;b<this.length;b++){var _=this._zeroBits(this.words[b]);if(v+=_,_!==26)break}return v},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},a.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var b=0;b<v.length;b++)this.words[b]=this.words[b]|v.words[b];return this._strip()},a.prototype.ior=function(v){return s((this.negative|v.negative)==0),this.iuor(v)},a.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},a.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},a.prototype.iuand=function(v){var b;b=this.length>v.length?v:this;for(var _=0;_<b.length;_++)this.words[_]=this.words[_]&v.words[_];return this.length=b.length,this._strip()},a.prototype.iand=function(v){return s((this.negative|v.negative)==0),this.iuand(v)},a.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},a.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},a.prototype.iuxor=function(v){var b,_;this.length>v.length?(b=this,_=v):(b=v,_=this);for(var w=0;w<_.length;w++)this.words[w]=b.words[w]^_.words[w];if(this!==b)for(;w<b.length;w++)this.words[w]=b.words[w];return this.length=b.length,this._strip()},a.prototype.ixor=function(v){return s((this.negative|v.negative)==0),this.iuxor(v)},a.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},a.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},a.prototype.inotn=function(v){s(typeof v=="number"&&v>=0);var b=0|Math.ceil(v/26),_=v%26;this._expand(b),_>0&&b--;for(var w=0;w<b;w++)this.words[w]=67108863&~this.words[w];return _>0&&(this.words[w]=~this.words[w]&67108863>>26-_),this._strip()},a.prototype.notn=function(v){return this.clone().inotn(v)},a.prototype.setn=function(v,b){s(typeof v=="number"&&v>=0);var _=v/26|0,w=v%26;return this._expand(_+1),this.words[_]=b?this.words[_]|1<<w:this.words[_]&~(1<<w),this._strip()},a.prototype.iadd=function(v){var b,_,w;if(this.negative!==0&&v.negative===0)return this.negative=0,b=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,b=this.isub(v),v.negative=1,b._normSign();this.length>v.length?(_=this,w=v):(_=v,w=this);for(var S=0,I=0;I<w.length;I++)b=(0|_.words[I])+(0|w.words[I])+S,this.words[I]=67108863&b,S=b>>>26;for(;S!==0&&I<_.length;I++)b=(0|_.words[I])+S,this.words[I]=67108863&b,S=b>>>26;if(this.length=_.length,S!==0)this.words[this.length]=S,this.length++;else if(_!==this)for(;I<_.length;I++)this.words[I]=_.words[I];return this},a.prototype.add=function(v){var b;return v.negative!==0&&this.negative===0?(v.negative=0,b=this.sub(v),v.negative^=1,b):v.negative===0&&this.negative!==0?(this.negative=0,b=v.sub(this),this.negative=1,b):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},a.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var b=this.iadd(v);return v.negative=1,b._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var _,w,S=this.cmp(v);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(_=this,w=v):(_=v,w=this);for(var I=0,F=0;F<w.length;F++)I=(b=(0|_.words[F])-(0|w.words[F])+I)>>26,this.words[F]=67108863&b;for(;I!==0&&F<_.length;F++)I=(b=(0|_.words[F])+I)>>26,this.words[F]=67108863&b;if(I===0&&F<_.length&&_!==this)for(;F<_.length;F++)this.words[F]=_.words[F];return this.length=Math.max(this.length,F),_!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(v){return this.clone().isub(v)};var x=function(v,b,_){var w,S,I,F=v.words,W=b.words,B=_.words,X=0,M=0|F[0],Y=8191&M,k=M>>>13,D=0|F[1],z=8191&D,J=D>>>13,ne=0|F[2],te=8191&ne,se=ne>>>13,ve=0|F[3],ye=8191&ve,K=ve>>>13,ce=0|F[4],de=8191&ce,we=ce>>>13,ge=0|F[5],Se=8191&ge,Ee=ge>>>13,Fe=0|F[6],Ve=8191&Fe,qe=Fe>>>13,ht=0|F[7],ze=8191&ht,rt=ht>>>13,Ct=0|F[8],et=8191&Ct,tt=Ct>>>13,nt=0|F[9],it=8191&nt,Ge=nt>>>13,bt=0|W[0],ut=8191&bt,wt=bt>>>13,Ft=0|W[1],yt=8191&Ft,ft=Ft>>>13,Bt=0|W[2],Nt=8191&Bt,vt=Bt>>>13,Vt=0|W[3],_t=8191&Vt,Yt=Vt>>>13,ir=0|W[4],Qt=8191&ir,Ht=ir>>>13,zt=0|W[5],en=8191&zt,_e=zt>>>13,Oe=0|W[6],He=8191&Oe,Xe=Oe>>>13,sn=0|W[7],pt=8191&sn,At=sn>>>13,jn=0|W[8],Rt=8191&jn,xt=jn>>>13,Dn=0|W[9],hn=8191&Dn,un=Dn>>>13;_.negative=v.negative^b.negative,_.length=19;var Zn=(X+(w=Math.imul(Y,ut))|0)+((8191&(S=(S=Math.imul(Y,wt))+Math.imul(k,ut)|0))<<13)|0;X=((I=Math.imul(k,wt))+(S>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,w=Math.imul(z,ut),S=(S=Math.imul(z,wt))+Math.imul(J,ut)|0,I=Math.imul(J,wt);var ar=(X+(w=w+Math.imul(Y,yt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,ft)|0)+Math.imul(k,yt)|0))<<13)|0;X=((I=I+Math.imul(k,ft)|0)+(S>>>13)|0)+(ar>>>26)|0,ar&=67108863,w=Math.imul(te,ut),S=(S=Math.imul(te,wt))+Math.imul(se,ut)|0,I=Math.imul(se,wt),w=w+Math.imul(z,yt)|0,S=(S=S+Math.imul(z,ft)|0)+Math.imul(J,yt)|0,I=I+Math.imul(J,ft)|0;var Hr=(X+(w=w+Math.imul(Y,Nt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,vt)|0)+Math.imul(k,Nt)|0))<<13)|0;X=((I=I+Math.imul(k,vt)|0)+(S>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(ye,ut),S=(S=Math.imul(ye,wt))+Math.imul(K,ut)|0,I=Math.imul(K,wt),w=w+Math.imul(te,yt)|0,S=(S=S+Math.imul(te,ft)|0)+Math.imul(se,yt)|0,I=I+Math.imul(se,ft)|0,w=w+Math.imul(z,Nt)|0,S=(S=S+Math.imul(z,vt)|0)+Math.imul(J,Nt)|0,I=I+Math.imul(J,vt)|0;var fi=(X+(w=w+Math.imul(Y,_t)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Yt)|0)+Math.imul(k,_t)|0))<<13)|0;X=((I=I+Math.imul(k,Yt)|0)+(S>>>13)|0)+(fi>>>26)|0,fi&=67108863,w=Math.imul(de,ut),S=(S=Math.imul(de,wt))+Math.imul(we,ut)|0,I=Math.imul(we,wt),w=w+Math.imul(ye,yt)|0,S=(S=S+Math.imul(ye,ft)|0)+Math.imul(K,yt)|0,I=I+Math.imul(K,ft)|0,w=w+Math.imul(te,Nt)|0,S=(S=S+Math.imul(te,vt)|0)+Math.imul(se,Nt)|0,I=I+Math.imul(se,vt)|0,w=w+Math.imul(z,_t)|0,S=(S=S+Math.imul(z,Yt)|0)+Math.imul(J,_t)|0,I=I+Math.imul(J,Yt)|0;var $r=(X+(w=w+Math.imul(Y,Qt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Ht)|0)+Math.imul(k,Qt)|0))<<13)|0;X=((I=I+Math.imul(k,Ht)|0)+(S>>>13)|0)+($r>>>26)|0,$r&=67108863,w=Math.imul(Se,ut),S=(S=Math.imul(Se,wt))+Math.imul(Ee,ut)|0,I=Math.imul(Ee,wt),w=w+Math.imul(de,yt)|0,S=(S=S+Math.imul(de,ft)|0)+Math.imul(we,yt)|0,I=I+Math.imul(we,ft)|0,w=w+Math.imul(ye,Nt)|0,S=(S=S+Math.imul(ye,vt)|0)+Math.imul(K,Nt)|0,I=I+Math.imul(K,vt)|0,w=w+Math.imul(te,_t)|0,S=(S=S+Math.imul(te,Yt)|0)+Math.imul(se,_t)|0,I=I+Math.imul(se,Yt)|0,w=w+Math.imul(z,Qt)|0,S=(S=S+Math.imul(z,Ht)|0)+Math.imul(J,Qt)|0,I=I+Math.imul(J,Ht)|0;var si=(X+(w=w+Math.imul(Y,en)|0)|0)+((8191&(S=(S=S+Math.imul(Y,_e)|0)+Math.imul(k,en)|0))<<13)|0;X=((I=I+Math.imul(k,_e)|0)+(S>>>13)|0)+(si>>>26)|0,si&=67108863,w=Math.imul(Ve,ut),S=(S=Math.imul(Ve,wt))+Math.imul(qe,ut)|0,I=Math.imul(qe,wt),w=w+Math.imul(Se,yt)|0,S=(S=S+Math.imul(Se,ft)|0)+Math.imul(Ee,yt)|0,I=I+Math.imul(Ee,ft)|0,w=w+Math.imul(de,Nt)|0,S=(S=S+Math.imul(de,vt)|0)+Math.imul(we,Nt)|0,I=I+Math.imul(we,vt)|0,w=w+Math.imul(ye,_t)|0,S=(S=S+Math.imul(ye,Yt)|0)+Math.imul(K,_t)|0,I=I+Math.imul(K,Yt)|0,w=w+Math.imul(te,Qt)|0,S=(S=S+Math.imul(te,Ht)|0)+Math.imul(se,Qt)|0,I=I+Math.imul(se,Ht)|0,w=w+Math.imul(z,en)|0,S=(S=S+Math.imul(z,_e)|0)+Math.imul(J,en)|0,I=I+Math.imul(J,_e)|0;var pe=(X+(w=w+Math.imul(Y,He)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Xe)|0)+Math.imul(k,He)|0))<<13)|0;X=((I=I+Math.imul(k,Xe)|0)+(S>>>13)|0)+(pe>>>26)|0,pe&=67108863,w=Math.imul(ze,ut),S=(S=Math.imul(ze,wt))+Math.imul(rt,ut)|0,I=Math.imul(rt,wt),w=w+Math.imul(Ve,yt)|0,S=(S=S+Math.imul(Ve,ft)|0)+Math.imul(qe,yt)|0,I=I+Math.imul(qe,ft)|0,w=w+Math.imul(Se,Nt)|0,S=(S=S+Math.imul(Se,vt)|0)+Math.imul(Ee,Nt)|0,I=I+Math.imul(Ee,vt)|0,w=w+Math.imul(de,_t)|0,S=(S=S+Math.imul(de,Yt)|0)+Math.imul(we,_t)|0,I=I+Math.imul(we,Yt)|0,w=w+Math.imul(ye,Qt)|0,S=(S=S+Math.imul(ye,Ht)|0)+Math.imul(K,Qt)|0,I=I+Math.imul(K,Ht)|0,w=w+Math.imul(te,en)|0,S=(S=S+Math.imul(te,_e)|0)+Math.imul(se,en)|0,I=I+Math.imul(se,_e)|0,w=w+Math.imul(z,He)|0,S=(S=S+Math.imul(z,Xe)|0)+Math.imul(J,He)|0,I=I+Math.imul(J,Xe)|0;var Le=(X+(w=w+Math.imul(Y,pt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,At)|0)+Math.imul(k,pt)|0))<<13)|0;X=((I=I+Math.imul(k,At)|0)+(S>>>13)|0)+(Le>>>26)|0,Le&=67108863,w=Math.imul(et,ut),S=(S=Math.imul(et,wt))+Math.imul(tt,ut)|0,I=Math.imul(tt,wt),w=w+Math.imul(ze,yt)|0,S=(S=S+Math.imul(ze,ft)|0)+Math.imul(rt,yt)|0,I=I+Math.imul(rt,ft)|0,w=w+Math.imul(Ve,Nt)|0,S=(S=S+Math.imul(Ve,vt)|0)+Math.imul(qe,Nt)|0,I=I+Math.imul(qe,vt)|0,w=w+Math.imul(Se,_t)|0,S=(S=S+Math.imul(Se,Yt)|0)+Math.imul(Ee,_t)|0,I=I+Math.imul(Ee,Yt)|0,w=w+Math.imul(de,Qt)|0,S=(S=S+Math.imul(de,Ht)|0)+Math.imul(we,Qt)|0,I=I+Math.imul(we,Ht)|0,w=w+Math.imul(ye,en)|0,S=(S=S+Math.imul(ye,_e)|0)+Math.imul(K,en)|0,I=I+Math.imul(K,_e)|0,w=w+Math.imul(te,He)|0,S=(S=S+Math.imul(te,Xe)|0)+Math.imul(se,He)|0,I=I+Math.imul(se,Xe)|0,w=w+Math.imul(z,pt)|0,S=(S=S+Math.imul(z,At)|0)+Math.imul(J,pt)|0,I=I+Math.imul(J,At)|0;var Qe=(X+(w=w+Math.imul(Y,Rt)|0)|0)+((8191&(S=(S=S+Math.imul(Y,xt)|0)+Math.imul(k,Rt)|0))<<13)|0;X=((I=I+Math.imul(k,xt)|0)+(S>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,w=Math.imul(it,ut),S=(S=Math.imul(it,wt))+Math.imul(Ge,ut)|0,I=Math.imul(Ge,wt),w=w+Math.imul(et,yt)|0,S=(S=S+Math.imul(et,ft)|0)+Math.imul(tt,yt)|0,I=I+Math.imul(tt,ft)|0,w=w+Math.imul(ze,Nt)|0,S=(S=S+Math.imul(ze,vt)|0)+Math.imul(rt,Nt)|0,I=I+Math.imul(rt,vt)|0,w=w+Math.imul(Ve,_t)|0,S=(S=S+Math.imul(Ve,Yt)|0)+Math.imul(qe,_t)|0,I=I+Math.imul(qe,Yt)|0,w=w+Math.imul(Se,Qt)|0,S=(S=S+Math.imul(Se,Ht)|0)+Math.imul(Ee,Qt)|0,I=I+Math.imul(Ee,Ht)|0,w=w+Math.imul(de,en)|0,S=(S=S+Math.imul(de,_e)|0)+Math.imul(we,en)|0,I=I+Math.imul(we,_e)|0,w=w+Math.imul(ye,He)|0,S=(S=S+Math.imul(ye,Xe)|0)+Math.imul(K,He)|0,I=I+Math.imul(K,Xe)|0,w=w+Math.imul(te,pt)|0,S=(S=S+Math.imul(te,At)|0)+Math.imul(se,pt)|0,I=I+Math.imul(se,At)|0,w=w+Math.imul(z,Rt)|0,S=(S=S+Math.imul(z,xt)|0)+Math.imul(J,Rt)|0,I=I+Math.imul(J,xt)|0;var $e=(X+(w=w+Math.imul(Y,hn)|0)|0)+((8191&(S=(S=S+Math.imul(Y,un)|0)+Math.imul(k,hn)|0))<<13)|0;X=((I=I+Math.imul(k,un)|0)+(S>>>13)|0)+($e>>>26)|0,$e&=67108863,w=Math.imul(it,yt),S=(S=Math.imul(it,ft))+Math.imul(Ge,yt)|0,I=Math.imul(Ge,ft),w=w+Math.imul(et,Nt)|0,S=(S=S+Math.imul(et,vt)|0)+Math.imul(tt,Nt)|0,I=I+Math.imul(tt,vt)|0,w=w+Math.imul(ze,_t)|0,S=(S=S+Math.imul(ze,Yt)|0)+Math.imul(rt,_t)|0,I=I+Math.imul(rt,Yt)|0,w=w+Math.imul(Ve,Qt)|0,S=(S=S+Math.imul(Ve,Ht)|0)+Math.imul(qe,Qt)|0,I=I+Math.imul(qe,Ht)|0,w=w+Math.imul(Se,en)|0,S=(S=S+Math.imul(Se,_e)|0)+Math.imul(Ee,en)|0,I=I+Math.imul(Ee,_e)|0,w=w+Math.imul(de,He)|0,S=(S=S+Math.imul(de,Xe)|0)+Math.imul(we,He)|0,I=I+Math.imul(we,Xe)|0,w=w+Math.imul(ye,pt)|0,S=(S=S+Math.imul(ye,At)|0)+Math.imul(K,pt)|0,I=I+Math.imul(K,At)|0,w=w+Math.imul(te,Rt)|0,S=(S=S+Math.imul(te,xt)|0)+Math.imul(se,Rt)|0,I=I+Math.imul(se,xt)|0;var dt=(X+(w=w+Math.imul(z,hn)|0)|0)+((8191&(S=(S=S+Math.imul(z,un)|0)+Math.imul(J,hn)|0))<<13)|0;X=((I=I+Math.imul(J,un)|0)+(S>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(it,Nt),S=(S=Math.imul(it,vt))+Math.imul(Ge,Nt)|0,I=Math.imul(Ge,vt),w=w+Math.imul(et,_t)|0,S=(S=S+Math.imul(et,Yt)|0)+Math.imul(tt,_t)|0,I=I+Math.imul(tt,Yt)|0,w=w+Math.imul(ze,Qt)|0,S=(S=S+Math.imul(ze,Ht)|0)+Math.imul(rt,Qt)|0,I=I+Math.imul(rt,Ht)|0,w=w+Math.imul(Ve,en)|0,S=(S=S+Math.imul(Ve,_e)|0)+Math.imul(qe,en)|0,I=I+Math.imul(qe,_e)|0,w=w+Math.imul(Se,He)|0,S=(S=S+Math.imul(Se,Xe)|0)+Math.imul(Ee,He)|0,I=I+Math.imul(Ee,Xe)|0,w=w+Math.imul(de,pt)|0,S=(S=S+Math.imul(de,At)|0)+Math.imul(we,pt)|0,I=I+Math.imul(we,At)|0,w=w+Math.imul(ye,Rt)|0,S=(S=S+Math.imul(ye,xt)|0)+Math.imul(K,Rt)|0,I=I+Math.imul(K,xt)|0;var Mt=(X+(w=w+Math.imul(te,hn)|0)|0)+((8191&(S=(S=S+Math.imul(te,un)|0)+Math.imul(se,hn)|0))<<13)|0;X=((I=I+Math.imul(se,un)|0)+(S>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,w=Math.imul(it,_t),S=(S=Math.imul(it,Yt))+Math.imul(Ge,_t)|0,I=Math.imul(Ge,Yt),w=w+Math.imul(et,Qt)|0,S=(S=S+Math.imul(et,Ht)|0)+Math.imul(tt,Qt)|0,I=I+Math.imul(tt,Ht)|0,w=w+Math.imul(ze,en)|0,S=(S=S+Math.imul(ze,_e)|0)+Math.imul(rt,en)|0,I=I+Math.imul(rt,_e)|0,w=w+Math.imul(Ve,He)|0,S=(S=S+Math.imul(Ve,Xe)|0)+Math.imul(qe,He)|0,I=I+Math.imul(qe,Xe)|0,w=w+Math.imul(Se,pt)|0,S=(S=S+Math.imul(Se,At)|0)+Math.imul(Ee,pt)|0,I=I+Math.imul(Ee,At)|0,w=w+Math.imul(de,Rt)|0,S=(S=S+Math.imul(de,xt)|0)+Math.imul(we,Rt)|0,I=I+Math.imul(we,xt)|0;var Pt=(X+(w=w+Math.imul(ye,hn)|0)|0)+((8191&(S=(S=S+Math.imul(ye,un)|0)+Math.imul(K,hn)|0))<<13)|0;X=((I=I+Math.imul(K,un)|0)+(S>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(it,Qt),S=(S=Math.imul(it,Ht))+Math.imul(Ge,Qt)|0,I=Math.imul(Ge,Ht),w=w+Math.imul(et,en)|0,S=(S=S+Math.imul(et,_e)|0)+Math.imul(tt,en)|0,I=I+Math.imul(tt,_e)|0,w=w+Math.imul(ze,He)|0,S=(S=S+Math.imul(ze,Xe)|0)+Math.imul(rt,He)|0,I=I+Math.imul(rt,Xe)|0,w=w+Math.imul(Ve,pt)|0,S=(S=S+Math.imul(Ve,At)|0)+Math.imul(qe,pt)|0,I=I+Math.imul(qe,At)|0,w=w+Math.imul(Se,Rt)|0,S=(S=S+Math.imul(Se,xt)|0)+Math.imul(Ee,Rt)|0,I=I+Math.imul(Ee,xt)|0;var Cn=(X+(w=w+Math.imul(de,hn)|0)|0)+((8191&(S=(S=S+Math.imul(de,un)|0)+Math.imul(we,hn)|0))<<13)|0;X=((I=I+Math.imul(we,un)|0)+(S>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,w=Math.imul(it,en),S=(S=Math.imul(it,_e))+Math.imul(Ge,en)|0,I=Math.imul(Ge,_e),w=w+Math.imul(et,He)|0,S=(S=S+Math.imul(et,Xe)|0)+Math.imul(tt,He)|0,I=I+Math.imul(tt,Xe)|0,w=w+Math.imul(ze,pt)|0,S=(S=S+Math.imul(ze,At)|0)+Math.imul(rt,pt)|0,I=I+Math.imul(rt,At)|0,w=w+Math.imul(Ve,Rt)|0,S=(S=S+Math.imul(Ve,xt)|0)+Math.imul(qe,Rt)|0,I=I+Math.imul(qe,xt)|0;var cn=(X+(w=w+Math.imul(Se,hn)|0)|0)+((8191&(S=(S=S+Math.imul(Se,un)|0)+Math.imul(Ee,hn)|0))<<13)|0;X=((I=I+Math.imul(Ee,un)|0)+(S>>>13)|0)+(cn>>>26)|0,cn&=67108863,w=Math.imul(it,He),S=(S=Math.imul(it,Xe))+Math.imul(Ge,He)|0,I=Math.imul(Ge,Xe),w=w+Math.imul(et,pt)|0,S=(S=S+Math.imul(et,At)|0)+Math.imul(tt,pt)|0,I=I+Math.imul(tt,At)|0,w=w+Math.imul(ze,Rt)|0,S=(S=S+Math.imul(ze,xt)|0)+Math.imul(rt,Rt)|0,I=I+Math.imul(rt,xt)|0;var nn=(X+(w=w+Math.imul(Ve,hn)|0)|0)+((8191&(S=(S=S+Math.imul(Ve,un)|0)+Math.imul(qe,hn)|0))<<13)|0;X=((I=I+Math.imul(qe,un)|0)+(S>>>13)|0)+(nn>>>26)|0,nn&=67108863,w=Math.imul(it,pt),S=(S=Math.imul(it,At))+Math.imul(Ge,pt)|0,I=Math.imul(Ge,At),w=w+Math.imul(et,Rt)|0,S=(S=S+Math.imul(et,xt)|0)+Math.imul(tt,Rt)|0,I=I+Math.imul(tt,xt)|0;var pn=(X+(w=w+Math.imul(ze,hn)|0)|0)+((8191&(S=(S=S+Math.imul(ze,un)|0)+Math.imul(rt,hn)|0))<<13)|0;X=((I=I+Math.imul(rt,un)|0)+(S>>>13)|0)+(pn>>>26)|0,pn&=67108863,w=Math.imul(it,Rt),S=(S=Math.imul(it,xt))+Math.imul(Ge,Rt)|0,I=Math.imul(Ge,xt);var lr=(X+(w=w+Math.imul(et,hn)|0)|0)+((8191&(S=(S=S+Math.imul(et,un)|0)+Math.imul(tt,hn)|0))<<13)|0;X=((I=I+Math.imul(tt,un)|0)+(S>>>13)|0)+(lr>>>26)|0,lr&=67108863;var Rr=(X+(w=Math.imul(it,hn))|0)+((8191&(S=(S=Math.imul(it,un))+Math.imul(Ge,hn)|0))<<13)|0;return X=((I=Math.imul(Ge,un))+(S>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,B[0]=Zn,B[1]=ar,B[2]=Hr,B[3]=fi,B[4]=$r,B[5]=si,B[6]=pe,B[7]=Le,B[8]=Qe,B[9]=$e,B[10]=dt,B[11]=Mt,B[12]=Pt,B[13]=Cn,B[14]=cn,B[15]=nn,B[16]=pn,B[17]=lr,B[18]=Rr,X!==0&&(B[19]=X,_.length++),_};function T(v,b,_){_.negative=b.negative^v.negative,_.length=v.length+b.length;for(var w=0,S=0,I=0;I<_.length-1;I++){var F=S;S=0;for(var W=67108863&w,B=Math.min(I,b.length-1),X=Math.max(0,I-v.length+1);X<=B;X++){var M=I-X,Y=(0|v.words[M])*(0|b.words[X]),k=67108863&Y;W=67108863&(k=k+W|0),S+=(F=(F=F+(Y/67108864|0)|0)+(k>>>26)|0)>>>26,F&=67108863}_.words[I]=W,w=F,F=S}return w!==0?_.words[I]=w:_.length--,_._strip()}function R(v,b,_){return T(v,b,_)}function $(v,b){this.x=v,this.y=b}Math.imul||(x=y),a.prototype.mulTo=function(v,b){var _=this.length+v.length;return this.length===10&&v.length===10?x(this,v,b):_<63?y(this,v,b):_<1024?T(this,v,b):R(this,v,b)},$.prototype.makeRBT=function(v){for(var b=new Array(v),_=a.prototype._countBits(v)-1,w=0;w<v;w++)b[w]=this.revBin(w,_,v);return b},$.prototype.revBin=function(v,b,_){if(v===0||v===_-1)return v;for(var w=0,S=0;S<b;S++)w|=(1&v)<<b-S-1,v>>=1;return w},$.prototype.permute=function(v,b,_,w,S,I){for(var F=0;F<I;F++)w[F]=b[v[F]],S[F]=_[v[F]]},$.prototype.transform=function(v,b,_,w,S,I){this.permute(I,v,b,_,w,S);for(var F=1;F<S;F<<=1)for(var W=F<<1,B=Math.cos(2*Math.PI/W),X=Math.sin(2*Math.PI/W),M=0;M<S;M+=W)for(var Y=B,k=X,D=0;D<F;D++){var z=_[M+D],J=w[M+D],ne=_[M+D+F],te=w[M+D+F],se=Y*ne-k*te;te=Y*te+k*ne,ne=se,_[M+D]=z+ne,w[M+D]=J+te,_[M+D+F]=z-ne,w[M+D+F]=J-te,D!==W&&(se=B*Y-X*k,k=B*k+X*Y,Y=se)}},$.prototype.guessLen13b=function(v,b){var _=1|Math.max(b,v),w=1&_,S=0;for(_=_/2|0;_;_>>>=1)S++;return 1<<S+1+w},$.prototype.conjugate=function(v,b,_){if(!(_<=1))for(var w=0;w<_/2;w++){var S=v[w];v[w]=v[_-w-1],v[_-w-1]=S,S=b[w],b[w]=-b[_-w-1],b[_-w-1]=-S}},$.prototype.normalize13b=function(v,b){for(var _=0,w=0;w<b/2;w++){var S=8192*Math.round(v[2*w+1]/b)+Math.round(v[2*w]/b)+_;v[w]=67108863&S,_=S<67108864?0:S/67108864|0}return v},$.prototype.convert13b=function(v,b,_,w){for(var S=0,I=0;I<b;I++)S+=0|v[I],_[2*I]=8191&S,S>>>=13,_[2*I+1]=8191&S,S>>>=13;for(I=2*b;I<w;++I)_[I]=0;s(S===0),s((-8192&S)==0)},$.prototype.stub=function(v){for(var b=new Array(v),_=0;_<v;_++)b[_]=0;return b},$.prototype.mulp=function(v,b,_){var w=2*this.guessLen13b(v.length,b.length),S=this.makeRBT(w),I=this.stub(w),F=new Array(w),W=new Array(w),B=new Array(w),X=new Array(w),M=new Array(w),Y=new Array(w),k=_.words;k.length=w,this.convert13b(v.words,v.length,F,w),this.convert13b(b.words,b.length,X,w),this.transform(F,I,W,B,w,S),this.transform(X,I,M,Y,w,S);for(var D=0;D<w;D++){var z=W[D]*M[D]-B[D]*Y[D];B[D]=W[D]*Y[D]+B[D]*M[D],W[D]=z}return this.conjugate(W,B,w),this.transform(W,B,k,I,w,S),this.conjugate(k,I,w),this.normalize13b(k,w),_.negative=v.negative^b.negative,_.length=v.length+b.length,_._strip()},a.prototype.mul=function(v){var b=new a(null);return b.words=new Array(this.length+v.length),this.mulTo(v,b)},a.prototype.mulf=function(v){var b=new a(null);return b.words=new Array(this.length+v.length),R(this,v,b)},a.prototype.imul=function(v){return this.clone().mulTo(v,this)},a.prototype.imuln=function(v){var b=v<0;b&&(v=-v),s(typeof v=="number"),s(v<67108864);for(var _=0,w=0;w<this.length;w++){var S=(0|this.words[w])*v,I=(67108863&S)+(67108863&_);_>>=26,_+=S/67108864|0,_+=I>>>26,this.words[w]=67108863&I}return _!==0&&(this.words[w]=_,this.length++),b?this.ineg():this},a.prototype.muln=function(v){return this.clone().imuln(v)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(v){var b=(function(I){for(var F=new Array(I.bitLength()),W=0;W<F.length;W++){var B=W/26|0,X=W%26;F[W]=I.words[B]>>>X&1}return F})(v);if(b.length===0)return new a(1);for(var _=this,w=0;w<b.length&&b[w]===0;w++,_=_.sqr());if(++w<b.length)for(var S=_.sqr();w<b.length;w++,S=S.sqr())b[w]!==0&&(_=_.mul(S));return _},a.prototype.iushln=function(v){s(typeof v=="number"&&v>=0);var b,_=v%26,w=(v-_)/26,S=67108863>>>26-_<<26-_;if(_!==0){var I=0;for(b=0;b<this.length;b++){var F=this.words[b]&S,W=(0|this.words[b])-F<<_;this.words[b]=W|I,I=F>>>26-_}I&&(this.words[b]=I,this.length++)}if(w!==0){for(b=this.length-1;b>=0;b--)this.words[b+w]=this.words[b];for(b=0;b<w;b++)this.words[b]=0;this.length+=w}return this._strip()},a.prototype.ishln=function(v){return s(this.negative===0),this.iushln(v)},a.prototype.iushrn=function(v,b,_){var w;s(typeof v=="number"&&v>=0),w=b?(b-b%26)/26:0;var S=v%26,I=Math.min((v-S)/26,this.length),F=67108863^67108863>>>S<<S,W=_;if(w-=I,w=Math.max(0,w),W){for(var B=0;B<I;B++)W.words[B]=this.words[B];W.length=I}if(I!==0)if(this.length>I)for(this.length-=I,B=0;B<this.length;B++)this.words[B]=this.words[B+I];else this.words[0]=0,this.length=1;var X=0;for(B=this.length-1;B>=0&&(X!==0||B>=w);B--){var M=0|this.words[B];this.words[B]=X<<26-S|M>>>S,X=M&F}return W&&X!==0&&(W.words[W.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(v,b,_){return s(this.negative===0),this.iushrn(v,b,_)},a.prototype.shln=function(v){return this.clone().ishln(v)},a.prototype.ushln=function(v){return this.clone().iushln(v)},a.prototype.shrn=function(v){return this.clone().ishrn(v)},a.prototype.ushrn=function(v){return this.clone().iushrn(v)},a.prototype.testn=function(v){s(typeof v=="number"&&v>=0);var b=v%26,_=(v-b)/26,w=1<<b;return!(this.length<=_)&&!!(this.words[_]&w)},a.prototype.imaskn=function(v){s(typeof v=="number"&&v>=0);var b=v%26,_=(v-b)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(b!==0&&_++,this.length=Math.min(_,this.length),b!==0){var w=67108863^67108863>>>b<<b;this.words[this.length-1]&=w}return this._strip()},a.prototype.maskn=function(v){return this.clone().imaskn(v)},a.prototype.iaddn=function(v){return s(typeof v=="number"),s(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(0|this.words[0])<=v?(this.words[0]=v-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},a.prototype._iaddn=function(v){this.words[0]+=v;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},a.prototype.isubn=function(v){if(s(typeof v=="number"),s(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},a.prototype.addn=function(v){return this.clone().iaddn(v)},a.prototype.subn=function(v){return this.clone().isubn(v)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(v,b,_){var w,S,I=v.length+_;this._expand(I);var F=0;for(w=0;w<v.length;w++){S=(0|this.words[w+_])+F;var W=(0|v.words[w])*b;F=((S-=67108863&W)>>26)-(W/67108864|0),this.words[w+_]=67108863&S}for(;w<this.length-_;w++)F=(S=(0|this.words[w+_])+F)>>26,this.words[w+_]=67108863&S;if(F===0)return this._strip();for(s(F===-1),F=0,w=0;w<this.length;w++)F=(S=-(0|this.words[w])+F)>>26,this.words[w]=67108863&S;return this.negative=1,this._strip()},a.prototype._wordDiv=function(v,b){var _=(this.length,v.length),w=this.clone(),S=v,I=0|S.words[S.length-1];(_=26-this._countBits(I))!==0&&(S=S.ushln(_),w.iushln(_),I=0|S.words[S.length-1]);var F,W=w.length-S.length;if(b!=="mod"){(F=new a(null)).length=W+1,F.words=new Array(F.length);for(var B=0;B<F.length;B++)F.words[B]=0}var X=w.clone()._ishlnsubmul(S,1,W);X.negative===0&&(w=X,F&&(F.words[W]=1));for(var M=W-1;M>=0;M--){var Y=67108864*(0|w.words[S.length+M])+(0|w.words[S.length+M-1]);for(Y=Math.min(Y/I|0,67108863),w._ishlnsubmul(S,Y,M);w.negative!==0;)Y--,w.negative=0,w._ishlnsubmul(S,1,M),w.isZero()||(w.negative^=1);F&&(F.words[M]=Y)}return F&&F._strip(),w._strip(),b!=="div"&&_!==0&&w.iushrn(_),{div:F||null,mod:w}},a.prototype.divmod=function(v,b,_){return s(!v.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&v.negative===0?(I=this.neg().divmod(v,b),b!=="mod"&&(w=I.div.neg()),b!=="div"&&(S=I.mod.neg(),_&&S.negative!==0&&S.iadd(v)),{div:w,mod:S}):this.negative===0&&v.negative!==0?(I=this.divmod(v.neg(),b),b!=="mod"&&(w=I.div.neg()),{div:w,mod:I.mod}):(this.negative&v.negative)!=0?(I=this.neg().divmod(v.neg(),b),b!=="div"&&(S=I.mod.neg(),_&&S.negative!==0&&S.isub(v)),{div:I.div,mod:S}):v.length>this.length||this.cmp(v)<0?{div:new a(0),mod:this}:v.length===1?b==="div"?{div:this.divn(v.words[0]),mod:null}:b==="mod"?{div:null,mod:new a(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new a(this.modrn(v.words[0]))}:this._wordDiv(v,b);var w,S,I},a.prototype.div=function(v){return this.divmod(v,"div",!1).div},a.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},a.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},a.prototype.divRound=function(v){var b=this.divmod(v);if(b.mod.isZero())return b.div;var _=b.div.negative!==0?b.mod.isub(v):b.mod,w=v.ushrn(1),S=v.andln(1),I=_.cmp(w);return I<0||S===1&&I===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},a.prototype.modrn=function(v){var b=v<0;b&&(v=-v),s(v<=67108863);for(var _=(1<<26)%v,w=0,S=this.length-1;S>=0;S--)w=(_*w+(0|this.words[S]))%v;return b?-w:w},a.prototype.modn=function(v){return this.modrn(v)},a.prototype.idivn=function(v){var b=v<0;b&&(v=-v),s(v<=67108863);for(var _=0,w=this.length-1;w>=0;w--){var S=(0|this.words[w])+67108864*_;this.words[w]=S/v|0,_=S%v}return this._strip(),b?this.ineg():this},a.prototype.divn=function(v){return this.clone().idivn(v)},a.prototype.egcd=function(v){s(v.negative===0),s(!v.isZero());var b=this,_=v.clone();b=b.negative!==0?b.umod(v):b.clone();for(var w=new a(1),S=new a(0),I=new a(0),F=new a(1),W=0;b.isEven()&&_.isEven();)b.iushrn(1),_.iushrn(1),++W;for(var B=_.clone(),X=b.clone();!b.isZero();){for(var M=0,Y=1;(b.words[0]&Y)==0&&M<26;++M,Y<<=1);if(M>0)for(b.iushrn(M);M-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(B),S.isub(X)),w.iushrn(1),S.iushrn(1);for(var k=0,D=1;(_.words[0]&D)==0&&k<26;++k,D<<=1);if(k>0)for(_.iushrn(k);k-- >0;)(I.isOdd()||F.isOdd())&&(I.iadd(B),F.isub(X)),I.iushrn(1),F.iushrn(1);b.cmp(_)>=0?(b.isub(_),w.isub(I),S.isub(F)):(_.isub(b),I.isub(w),F.isub(S))}return{a:I,b:F,gcd:_.iushln(W)}},a.prototype._invmp=function(v){s(v.negative===0),s(!v.isZero());var b=this,_=v.clone();b=b.negative!==0?b.umod(v):b.clone();for(var w,S=new a(1),I=new a(0),F=_.clone();b.cmpn(1)>0&&_.cmpn(1)>0;){for(var W=0,B=1;(b.words[0]&B)==0&&W<26;++W,B<<=1);if(W>0)for(b.iushrn(W);W-- >0;)S.isOdd()&&S.iadd(F),S.iushrn(1);for(var X=0,M=1;(_.words[0]&M)==0&&X<26;++X,M<<=1);if(X>0)for(_.iushrn(X);X-- >0;)I.isOdd()&&I.iadd(F),I.iushrn(1);b.cmp(_)>=0?(b.isub(_),S.isub(I)):(_.isub(b),I.isub(S))}return(w=b.cmpn(1)===0?S:I).cmpn(0)<0&&w.iadd(v),w},a.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var b=this.clone(),_=v.clone();b.negative=0,_.negative=0;for(var w=0;b.isEven()&&_.isEven();w++)b.iushrn(1),_.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;_.isEven();)_.iushrn(1);var S=b.cmp(_);if(S<0){var I=b;b=_,_=I}else if(S===0||_.cmpn(1)===0)break;b.isub(_)}return _.iushln(w)},a.prototype.invm=function(v){return this.egcd(v).a.umod(v)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(v){return this.words[0]&v},a.prototype.bincn=function(v){s(typeof v=="number");var b=v%26,_=(v-b)/26,w=1<<b;if(this.length<=_)return this._expand(_+1),this.words[_]|=w,this;for(var S=w,I=_;S!==0&&I<this.length;I++){var F=0|this.words[I];S=(F+=S)>>>26,F&=67108863,this.words[I]=F}return S!==0&&(this.words[I]=S,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(v){var b,_=v<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)b=1;else{_&&(v=-v),s(v<=67108863,"Number is too big");var w=0|this.words[0];b=w===v?0:w<v?-1:1}return this.negative!==0?0|-b:b},a.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var b=this.ucmp(v);return this.negative!==0?0|-b:b},a.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var b=0,_=this.length-1;_>=0;_--){var w=0|this.words[_],S=0|v.words[_];if(w!==S){w<S?b=-1:w>S&&(b=1);break}}return b},a.prototype.gtn=function(v){return this.cmpn(v)===1},a.prototype.gt=function(v){return this.cmp(v)===1},a.prototype.gten=function(v){return this.cmpn(v)>=0},a.prototype.gte=function(v){return this.cmp(v)>=0},a.prototype.ltn=function(v){return this.cmpn(v)===-1},a.prototype.lt=function(v){return this.cmp(v)===-1},a.prototype.lten=function(v){return this.cmpn(v)<=0},a.prototype.lte=function(v){return this.cmp(v)<=0},a.prototype.eqn=function(v){return this.cmpn(v)===0},a.prototype.eq=function(v){return this.cmp(v)===0},a.red=function(v){return new C(v)},a.prototype.toRed=function(v){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(v){return this.red=v,this},a.prototype.forceRed=function(v){return s(!this.red,"Already a number in reduction context"),this._forceRed(v)},a.prototype.redAdd=function(v){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},a.prototype.redIAdd=function(v){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},a.prototype.redSub=function(v){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},a.prototype.redISub=function(v){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},a.prototype.redShl=function(v){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},a.prototype.redMul=function(v){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},a.prototype.redIMul=function(v){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(v){return s(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var O={k256:null,p224:null,p192:null,p25519:null};function U(v,b){this.name=v,this.p=new a(b,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function j(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function q(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function H(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(v){if(typeof v=="string"){var b=a._prime(v);this.m=b.p,this.prime=b}else s(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}function L(v){C.call(this,v),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}U.prototype._tmp=function(){var v=new a(null);return v.words=new Array(Math.ceil(this.n/13)),v},U.prototype.ireduce=function(v){var b,_=v;do this.split(_,this.tmp),b=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(b>this.n);var w=b<this.n?-1:_.ucmp(this.p);return w===0?(_.words[0]=0,_.length=1):w>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},U.prototype.split=function(v,b){v.iushrn(this.n,0,b)},U.prototype.imulK=function(v){return v.imul(this.k)},o(j,U),j.prototype.split=function(v,b){for(var _=Math.min(v.length,9),w=0;w<_;w++)b.words[w]=v.words[w];if(b.length=_,v.length<=9)return v.words[0]=0,void(v.length=1);var S=v.words[9];for(b.words[b.length++]=4194303&S,w=10;w<v.length;w++){var I=0|v.words[w];v.words[w-10]=(4194303&I)<<4|S>>>22,S=I}S>>>=22,v.words[w-10]=S,S===0&&v.length>10?v.length-=10:v.length-=9},j.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var b=0,_=0;_<v.length;_++){var w=0|v.words[_];b+=977*w,v.words[_]=67108863&b,b=64*w+(b/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v},o(q,U),o(H,U),o(E,U),E.prototype.imulK=function(v){for(var b=0,_=0;_<v.length;_++){var w=19*(0|v.words[_])+b,S=67108863&w;w>>>=26,v.words[_]=S,b=w}return b!==0&&(v.words[v.length++]=b),v},a._prime=function(v){if(O[v])return O[v];var b;if(v==="k256")b=new j;else if(v==="p224")b=new q;else if(v==="p192")b=new H;else{if(v!=="p25519")throw new Error("Unknown prime "+v);b=new E}return O[v]=b,b},C.prototype._verify1=function(v){s(v.negative===0,"red works only with positives"),s(v.red,"red works only with red numbers")},C.prototype._verify2=function(v,b){s((v.negative|b.negative)==0,"red works only with positives"),s(v.red&&v.red===b.red,"red works only with red numbers")},C.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(f(v,v.umod(this.m)._forceRed(this)),v)},C.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},C.prototype.add=function(v,b){this._verify2(v,b);var _=v.add(b);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},C.prototype.iadd=function(v,b){this._verify2(v,b);var _=v.iadd(b);return _.cmp(this.m)>=0&&_.isub(this.m),_},C.prototype.sub=function(v,b){this._verify2(v,b);var _=v.sub(b);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},C.prototype.isub=function(v,b){this._verify2(v,b);var _=v.isub(b);return _.cmpn(0)<0&&_.iadd(this.m),_},C.prototype.shl=function(v,b){return this._verify1(v),this.imod(v.ushln(b))},C.prototype.imul=function(v,b){return this._verify2(v,b),this.imod(v.imul(b))},C.prototype.mul=function(v,b){return this._verify2(v,b),this.imod(v.mul(b))},C.prototype.isqr=function(v){return this.imul(v,v.clone())},C.prototype.sqr=function(v){return this.mul(v,v)},C.prototype.sqrt=function(v){if(v.isZero())return v.clone();var b=this.m.andln(3);if(s(b%2==1),b===3){var _=this.m.add(new a(1)).iushrn(2);return this.pow(v,_)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);s(!w.isZero());var I=new a(1).toRed(this),F=I.redNeg(),W=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new a(2*B*B).toRed(this);this.pow(B,W).cmp(F)!==0;)B.redIAdd(F);for(var X=this.pow(B,w),M=this.pow(v,w.addn(1).iushrn(1)),Y=this.pow(v,w),k=S;Y.cmp(I)!==0;){for(var D=Y,z=0;D.cmp(I)!==0;z++)D=D.redSqr();s(z<k);var J=this.pow(X,new a(1).iushln(k-z-1));M=M.redMul(J),X=J.redSqr(),Y=Y.redMul(X),k=z}return M},C.prototype.invm=function(v){var b=v._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},C.prototype.pow=function(v,b){if(b.isZero())return new a(1).toRed(this);if(b.cmpn(1)===0)return v.clone();var _=new Array(16);_[0]=new a(1).toRed(this),_[1]=v;for(var w=2;w<_.length;w++)_[w]=this.mul(_[w-1],v);var S=_[0],I=0,F=0,W=b.bitLength()%26;for(W===0&&(W=26),w=b.length-1;w>=0;w--){for(var B=b.words[w],X=W-1;X>=0;X--){var M=B>>X&1;S!==_[0]&&(S=this.sqr(S)),M!==0||I!==0?(I<<=1,I|=M,(++F===4||w===0&&X===0)&&(S=this.mul(S,_[I]),F=0,I=0)):F=0}W=26}return S},C.prototype.convertTo=function(v){var b=v.umod(this.m);return b===v?b.clone():b},C.prototype.convertFrom=function(v){var b=v.clone();return b.red=null,b},a.mont=function(v){return new L(v)},o(L,C),L.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},L.prototype.convertFrom=function(v){var b=this.imod(v.mul(this.rinv));return b.red=null,b},L.prototype.imul=function(v,b){if(v.isZero()||b.isZero())return v.words[0]=0,v.length=1,v;var _=v.imul(b),w=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(w).iushrn(this.shift),I=S;return S.cmp(this.m)>=0?I=S.isub(this.m):S.cmpn(0)<0&&(I=S.iadd(this.m)),I._forceRed(this)},L.prototype.mul=function(v,b){if(v.isZero()||b.isZero())return new a(0)._forceRed(this);var _=v.mul(b),w=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(w).iushrn(this.shift),I=S;return S.cmp(this.m)>=0?I=S.isub(this.m):S.cmpn(0)<0&&(I=S.iadd(this.m)),I._forceRed(this)},L.prototype.invm=function(v){return this.imod(v._invmp(this.m).mul(this.r2))._forceRed(this)}})(e===void 0||e)},{buffer:188}],187:[function(t,e,n){"use strict";var r;function i(o){this.rand=o}if(e.exports=function(o){return r||(r=new i(null)),r.generate(o)},e.exports.Rand=i,i.prototype.generate=function(o){return this._rand(o)},i.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var a=new Uint8Array(o),l=0;l<a.length;l++)a[l]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(o){var a=new Uint8Array(o);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(o){var a=new Uint8Array(o);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=t("crypto");if(typeof s.randomBytes!="function")throw new Error("Not supported");i.prototype._rand=function(o){return s.randomBytes(o)}}catch{}},{crypto:188}],188:[function(t,e,n){},{}],189:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(c){r.isBuffer(c)||(c=r.from(c));for(var d=c.length/4|0,f=new Array(d),h=0;h<d;h++)f[h]=c.readUInt32BE(4*h);return f}function s(c){for(;0<c.length;c++)c[0]=0}function o(c,d,f,h,p){for(var m,g,y,x,T=f[0],R=f[1],$=f[2],O=f[3],U=c[0]^d[0],j=c[1]^d[1],q=c[2]^d[2],H=c[3]^d[3],E=4,C=1;C<p;C++)m=T[U>>>24]^R[j>>>16&255]^$[q>>>8&255]^O[255&H]^d[E++],g=T[j>>>24]^R[q>>>16&255]^$[H>>>8&255]^O[255&U]^d[E++],y=T[q>>>24]^R[H>>>16&255]^$[U>>>8&255]^O[255&j]^d[E++],x=T[H>>>24]^R[U>>>16&255]^$[j>>>8&255]^O[255&q]^d[E++],U=m,j=g,q=y,H=x;return m=(h[U>>>24]<<24|h[j>>>16&255]<<16|h[q>>>8&255]<<8|h[255&H])^d[E++],g=(h[j>>>24]<<24|h[q>>>16&255]<<16|h[H>>>8&255]<<8|h[255&U])^d[E++],y=(h[q>>>24]<<24|h[H>>>16&255]<<16|h[U>>>8&255]<<8|h[255&j])^d[E++],x=(h[H>>>24]<<24|h[U>>>16&255]<<16|h[j>>>8&255]<<8|h[255&q])^d[E++],[m>>>=0,g>>>=0,y>>>=0,x>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],l=(function(){for(var c=new Array(256),d=0;d<256;d++)c[d]=d<128?d<<1:d<<1^283;for(var f=[],h=[],p=[[],[],[],[]],m=[[],[],[],[]],g=0,y=0,x=0;x<256;++x){var T=y^y<<1^y<<2^y<<3^y<<4;T=T>>>8^255&T^99,f[g]=T,h[T]=g;var R=c[g],$=c[R],O=c[$],U=257*c[T]^16843008*T;p[0][g]=U<<24|U>>>8,p[1][g]=U<<16|U>>>16,p[2][g]=U<<8|U>>>24,p[3][g]=U,U=16843009*O^65537*$^257*R^16843008*g,m[0][T]=U<<24|U>>>8,m[1][T]=U<<16|U>>>16,m[2][T]=U<<8|U>>>24,m[3][T]=U,g===0?g=y=1:(g=R^c[c[c[O^R]]],y^=c[c[y]])}return{SBOX:f,INV_SBOX:h,SUB_MIX:p,INV_SUB_MIX:m}})();function u(c){this._key=i(c),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var c=this._key,d=c.length,f=d+6,h=4*(f+1),p=[],m=0;m<d;m++)p[m]=c[m];for(m=d;m<h;m++){var g=p[m-1];m%d==0?(g=g<<8|g>>>24,g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[255&g],g^=a[m/d|0]<<24):d>6&&m%d==4&&(g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[255&g]),p[m]=p[m-d]^g}for(var y=[],x=0;x<h;x++){var T=h-x,R=p[T-(x%4?0:4)];y[x]=x<4||T<=4?R:l.INV_SUB_MIX[0][l.SBOX[R>>>24]]^l.INV_SUB_MIX[1][l.SBOX[R>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[R>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&R]]}this._nRounds=f,this._keySchedule=p,this._invKeySchedule=y},u.prototype.encryptBlockRaw=function(c){return o(c=i(c),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},u.prototype.encryptBlock=function(c){var d=this.encryptBlockRaw(c),f=r.allocUnsafe(16);return f.writeUInt32BE(d[0],0),f.writeUInt32BE(d[1],4),f.writeUInt32BE(d[2],8),f.writeUInt32BE(d[3],12),f},u.prototype.decryptBlock=function(c){var d=(c=i(c))[1];c[1]=c[3],c[3]=d;var f=o(c,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),h=r.allocUnsafe(16);return h.writeUInt32BE(f[0],0),h.writeUInt32BE(f[3],4),h.writeUInt32BE(f[2],8),h.writeUInt32BE(f[1],12),h},u.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},e.exports.AES=u},{"safe-buffer":494}],190:[function(t,e,n){"use strict";var r=t("./aes"),i=t("safe-buffer").Buffer,s=t("cipher-base"),o=t("inherits"),a=t("./ghash"),l=t("buffer-xor"),u=t("./incr32");function c(d,f,h,p){s.call(this);var m=i.alloc(4,0);this._cipher=new r.AES(f);var g=this._cipher.encryptBlock(m);this._ghash=new a(g),h=(function(y,x,T){if(x.length===12)return y._finID=i.concat([x,i.from([0,0,0,1])]),i.concat([x,i.from([0,0,0,2])]);var R=new a(T),$=x.length,O=$%16;R.update(x),O&&(O=16-O,R.update(i.alloc(O,0))),R.update(i.alloc(8,0));var U=8*$,j=i.alloc(8);j.writeUIntBE(U,0,8),R.update(j),y._finID=R.state;var q=i.from(y._finID);return u(q),q})(this,h,g),this._prev=i.from(h),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}o(c,s),c.prototype._update=function(d){if(!this._called&&this._alen){var f=16-this._alen%16;f<16&&(f=i.alloc(f,0),this._ghash.update(f))}this._called=!0;var h=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(h),this._len+=d.length,h},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(f,h){var p=0;f.length!==h.length&&p++;for(var m=Math.min(f.length,h.length),g=0;g<m;++g)p+=f[g]^h[g];return p})(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},c.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},e.exports=c},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,e,n){"use strict";var r=t("./encrypter"),i=t("./decrypter"),s=t("./modes/list.json");n.createCipher=n.Cipher=r.createCipher,n.createCipheriv=n.Cipheriv=r.createCipheriv,n.createDecipher=n.Decipher=i.createDecipher,n.createDecipheriv=n.Decipheriv=i.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(s)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,e,n){"use strict";var r=t("./authCipher"),i=t("safe-buffer").Buffer,s=t("./modes"),o=t("./streamCipher"),a=t("cipher-base"),l=t("./aes"),u=t("evp_bytestokey");function c(h,p,m){a.call(this),this._cache=new d,this._last=void 0,this._cipher=new l.AES(p),this._prev=i.from(m),this._mode=h,this._autopadding=!0}function d(){this.cache=i.allocUnsafe(0)}function f(h,p,m){var g=s[h.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=i.from(m)),g.mode!=="GCM"&&m.length!==g.iv)throw new TypeError("invalid iv length "+m.length);if(typeof p=="string"&&(p=i.from(p)),p.length!==g.key/8)throw new TypeError("invalid key length "+p.length);return g.type==="stream"?new o(g.module,p,m,!0):g.type==="auth"?new r(g.module,p,m,!0):new c(g.module,p,m)}t("inherits")(c,a),c.prototype._update=function(h){var p,m;this._cache.add(h);for(var g=[];p=this._cache.get(this._autopadding);)m=this._mode.decrypt(this,p),g.push(m);return i.concat(g)},c.prototype._final=function(){var h=this._cache.flush();if(this._autopadding)return(function(p){var m=p[15];if(m<1||m>16)throw new Error("unable to decrypt data");for(var g=-1;++g<m;)if(p[g+(16-m)]!==m)throw new Error("unable to decrypt data");if(m!==16)return p.slice(0,16-m)})(this._mode.decrypt(this,h));if(h)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(h){return this._autopadding=!!h,this},d.prototype.add=function(h){this.cache=i.concat([this.cache,h])},d.prototype.get=function(h){var p;if(h){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(h,p){var m=s[h.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var g=u(p,!1,m.key,m.iv);return f(h,g.key,g.iv)},n.createDecipheriv=f},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,e,n){"use strict";var r=t("./modes"),i=t("./authCipher"),s=t("safe-buffer").Buffer,o=t("./streamCipher"),a=t("cipher-base"),l=t("./aes"),u=t("evp_bytestokey");function c(p,m,g){a.call(this),this._cache=new f,this._cipher=new l.AES(m),this._prev=s.from(g),this._mode=p,this._autopadding=!0}t("inherits")(c,a),c.prototype._update=function(p){var m,g;this._cache.add(p);for(var y=[];m=this._cache.get();)g=this._mode.encrypt(this,m),y.push(g);return s.concat(y)};var d=s.alloc(16,16);function f(){this.cache=s.allocUnsafe(0)}function h(p,m,g){var y=r[p.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=s.from(m)),m.length!==y.key/8)throw new TypeError("invalid key length "+m.length);if(typeof g=="string"&&(g=s.from(g)),y.mode!=="GCM"&&g.length!==y.iv)throw new TypeError("invalid iv length "+g.length);return y.type==="stream"?new o(y.module,m,g):y.type==="auth"?new i(y.module,m,g):new c(y.module,m,g)}c.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},f.prototype.add=function(p){this.cache=s.concat([this.cache,p])},f.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},f.prototype.flush=function(){for(var p=16-this.cache.length,m=s.allocUnsafe(p),g=-1;++g<p;)m.writeUInt8(p,g);return s.concat([this.cache,m])},n.createCipheriv=h,n.createCipher=function(p,m){var g=r[p.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var y=u(m,!1,g.key,g.iv);return h(p,y.key,y.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=r.alloc(16,0);function s(a){var l=r.allocUnsafe(16);return l.writeUInt32BE(a[0]>>>0,0),l.writeUInt32BE(a[1]>>>0,4),l.writeUInt32BE(a[2]>>>0,8),l.writeUInt32BE(a[3]>>>0,12),l}function o(a){this.h=a,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}o.prototype.ghash=function(a){for(var l=-1;++l<a.length;)this.state[l]^=a[l];this._multiply()},o.prototype._multiply=function(){for(var a,l,u,c=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],d=[0,0,0,0],f=-1;++f<128;){for((this.state[~~(f/8)]&1<<7-f%8)!=0&&(d[0]^=c[0],d[1]^=c[1],d[2]^=c[2],d[3]^=c[3]),u=(1&c[3])!=0,l=3;l>0;l--)c[l]=c[l]>>>1|(1&c[l-1])<<31;c[0]=c[0]>>>1,u&&(c[0]=c[0]^225<<24)}this.state=s(d)},o.prototype.update=function(a){var l;for(this.cache=r.concat([this.cache,a]);this.cache.length>=16;)l=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(l)},o.prototype.final=function(a,l){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(s([0,a,0,l])),this.state},e.exports=o},{"safe-buffer":494}],195:[function(t,e,n){"use strict";e.exports=function(r){for(var i,s=r.length;s--;){if((i=r.readUInt8(s))!==255){i++,r.writeUInt8(i,s);break}r.writeUInt8(0,s)}}},{}],196:[function(t,e,n){"use strict";var r=t("buffer-xor");n.encrypt=function(i,s){var o=r(s,i._prev);return i._prev=i._cipher.encryptBlock(o),i._prev},n.decrypt=function(i,s){var o=i._prev;i._prev=s;var a=i._cipher.decryptBlock(s);return r(a,o)}},{"buffer-xor":219}],197:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("buffer-xor");function s(o,a,l){var u=a.length,c=i(a,o._cache);return o._cache=o._cache.slice(u),o._prev=r.concat([o._prev,l?a:c]),c}n.encrypt=function(o,a,l){for(var u,c=r.allocUnsafe(0);a.length;){if(o._cache.length===0&&(o._cache=o._cipher.encryptBlock(o._prev),o._prev=r.allocUnsafe(0)),!(o._cache.length<=a.length)){c=r.concat([c,s(o,a,l)]);break}u=o._cache.length,c=r.concat([c,s(o,a.slice(0,u),l)]),a=a.slice(u)}return c}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(o,a,l){for(var u,c,d=-1,f=0;++d<8;)u=a&1<<7-d?128:0,f+=(128&(c=o._cipher.encryptBlock(o._prev)[0]^u))>>d%8,o._prev=s(o._prev,l?u:c);return f}function s(o,a){var l=o.length,u=-1,c=r.allocUnsafe(o.length);for(o=r.concat([o,r.from([a])]);++u<l;)c[u]=o[u]<<1|o[u+1]>>7;return c}n.encrypt=function(o,a,l){for(var u=a.length,c=r.allocUnsafe(u),d=-1;++d<u;)c[d]=i(o,a[d],l);return c}},{"safe-buffer":494}],199:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(s,o,a){var l=s._cipher.encryptBlock(s._prev)[0]^o;return s._prev=r.concat([s._prev.slice(1),r.from([a?o:l])]),l}n.encrypt=function(s,o,a){for(var l=o.length,u=r.allocUnsafe(l),c=-1;++c<l;)u[c]=i(s,o[c],a);return u}},{"safe-buffer":494}],200:[function(t,e,n){"use strict";var r=t("buffer-xor"),i=t("safe-buffer").Buffer,s=t("../incr32");function o(a){var l=a._cipher.encryptBlockRaw(a._prev);return s(a._prev),l}n.encrypt=function(a,l){var u=Math.ceil(l.length/16),c=a._cache.length;a._cache=i.concat([a._cache,i.allocUnsafe(16*u)]);for(var d=0;d<u;d++){var f=o(a),h=c+16*d;a._cache.writeUInt32BE(f[0],h+0),a._cache.writeUInt32BE(f[1],h+4),a._cache.writeUInt32BE(f[2],h+8),a._cache.writeUInt32BE(f[3],h+12)}var p=a._cache.slice(0,l.length);return a._cache=a._cache.slice(l.length),r(l,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,e,n){"use strict";n.encrypt=function(r,i){return r._cipher.encryptBlock(i)},n.decrypt=function(r,i){return r._cipher.decryptBlock(i)}},{}],202:[function(t,e,n){"use strict";var r={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},i=t("./list.json");for(var s in i)i[s].module=r[i[s].mode];e.exports=i},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,e,n){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,e,n){(function(r){(function(){"use strict";var i=t("buffer-xor");function s(o){return o._prev=o._cipher.encryptBlock(o._prev),o._prev}n.encrypt=function(o,a){for(;o._cache.length<a.length;)o._cache=r.concat([o._cache,s(o)]);var l=o._cache.slice(0,a.length);return o._cache=o._cache.slice(a.length),i(a,l)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,e,n){"use strict";var r=t("./aes"),i=t("safe-buffer").Buffer,s=t("cipher-base");function o(a,l,u,c){s.call(this),this._cipher=new r.AES(l),this._prev=i.from(u),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=c,this._mode=a}t("inherits")(o,s),o.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},e.exports=o},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,e,n){"use strict";var r=t("browserify-des"),i=t("browserify-aes/browser"),s=t("browserify-aes/modes"),o=t("browserify-des/modes"),a=t("evp_bytestokey");function l(c,d,f){if(c=c.toLowerCase(),s[c])return i.createCipheriv(c,d,f);if(o[c])return new r({key:d,iv:f,mode:c});throw new TypeError("invalid suite type")}function u(c,d,f){if(c=c.toLowerCase(),s[c])return i.createDecipheriv(c,d,f);if(o[c])return new r({key:d,iv:f,mode:c,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(c,d){var f,h;if(c=c.toLowerCase(),s[c])f=s[c].key,h=s[c].iv;else{if(!o[c])throw new TypeError("invalid suite type");f=8*o[c].key,h=o[c].iv}var p=a(d,!1,f,h);return l(c,p.key,p.iv)},n.createCipheriv=n.Cipheriv=l,n.createDecipher=n.Decipher=function(c,d){var f,h;if(c=c.toLowerCase(),s[c])f=s[c].key,h=s[c].iv;else{if(!o[c])throw new TypeError("invalid suite type");f=8*o[c].key,h=o[c].iv}var p=a(d,!1,f,h);return u(c,p.key,p.iv)},n.createDecipheriv=n.Decipheriv=u,n.listCiphers=n.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,e,n){"use strict";var r=t("cipher-base"),i=t("des.js"),s=t("inherits"),o=t("safe-buffer").Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function l(u){r.call(this);var c,d=u.mode.toLowerCase(),f=a[d];c=u.decrypt?"decrypt":"encrypt";var h=u.key;o.isBuffer(h)||(h=o.from(h)),d!=="des-ede"&&d!=="des-ede-cbc"||(h=o.concat([h,h.slice(0,8)]));var p=u.iv;o.isBuffer(p)||(p=o.from(p)),this._des=f.create({key:h,iv:p,type:c})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=l,s(l,r),l.prototype._update=function(u){return o.from(this._des.update(u))},l.prototype._final=function(){return o.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,e,n){"use strict";n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],209:[function(t,e,n){(function(r){(function(){"use strict";var i=t("bn.js"),s=t("randombytes");function o(l){var u,c=l.modulus.byteLength();do u=new i(s(c));while(u.cmp(l.modulus)>=0||!u.umod(l.prime1)||!u.umod(l.prime2));return u}function a(l,u){var c=(function($){var O=o($);return{blinder:O.toRed(i.mont($.modulus)).redPow(new i($.publicExponent)).fromRed(),unblinder:O.invm($.modulus)}})(u),d=u.modulus.byteLength(),f=new i(l).mul(c.blinder).umod(u.modulus),h=f.toRed(i.mont(u.prime1)),p=f.toRed(i.mont(u.prime2)),m=u.coefficient,g=u.prime1,y=u.prime2,x=h.redPow(u.exponent1).fromRed(),T=p.redPow(u.exponent2).fromRed(),R=x.isub(T).imul(m).umod(g).imul(y);return T.iadd(R).imul(c.unblinder).umod(u.modulus).toArrayLike(r,"be",d)}a.getr=o,e.exports=a}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,e,n){"use strict";e.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,e,n){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,e,n){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("create-hash"),s=t("readable-stream"),o=t("inherits"),a=t("./sign"),l=t("./verify"),u=t("./algorithms.json");function c(p){s.Writable.call(this);var m=u[p];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=i(m.hash),this._tag=m.id,this._signType=m.sign}function d(p){s.Writable.call(this);var m=u[p];if(!m)throw new Error("Unknown message digest");this._hash=i(m.hash),this._tag=m.id,this._signType=m.sign}function f(p){return new c(p)}function h(p){return new d(p)}Object.keys(u).forEach(function(p){u[p].id=r.from(u[p].id,"hex"),u[p.toLowerCase()]=u[p]}),o(c,s.Writable),c.prototype._write=function(p,m,g){this._hash.update(p),g()},c.prototype.update=function(p,m){return typeof p=="string"&&(p=r.from(p,m)),this._hash.update(p),this},c.prototype.sign=function(p,m){this.end();var g=this._hash.digest(),y=a(g,p,this._hashType,this._signType,this._tag);return m?y.toString(m):y},o(d,s.Writable),d.prototype._write=function(p,m,g){this._hash.update(p),g()},d.prototype.update=function(p,m){return typeof p=="string"&&(p=r.from(p,m)),this._hash.update(p),this},d.prototype.verify=function(p,m,g){typeof m=="string"&&(m=r.from(m,g)),this.end();var y=this._hash.digest();return l(m,y,p,this._signType,this._tag)},e.exports={Sign:f,Verify:h,createSign:f,createVerify:h}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("create-hmac"),s=t("browserify-rsa"),o=t("elliptic").ec,a=t("bn.js"),l=t("parse-asn1"),u=t("./curves.json");function c(p,m,g,y){if((p=r.from(p.toArray())).length<m.byteLength()){var x=r.alloc(m.byteLength()-p.length);p=r.concat([x,p])}var T=g.length,R=(function(U,j){U=(U=d(U,j)).mod(j);var q=r.from(U.toArray());if(q.length<j.byteLength()){var H=r.alloc(j.byteLength()-q.length);q=r.concat([H,q])}return q})(g,m),$=r.alloc(T);$.fill(1);var O=r.alloc(T);return O=i(y,O).update($).update(r.from([0])).update(p).update(R).digest(),$=i(y,O).update($).digest(),{k:O=i(y,O).update($).update(r.from([1])).update(p).update(R).digest(),v:$=i(y,O).update($).digest()}}function d(p,m){var g=new a(p),y=(p.length<<3)-m.bitLength();return y>0&&g.ishrn(y),g}function f(p,m,g){var y,x;do{for(y=r.alloc(0);8*y.length<p.bitLength();)m.v=i(g,m.k).update(m.v).digest(),y=r.concat([y,m.v]);x=d(y,p),m.k=i(g,m.k).update(m.v).update(r.from([0])).digest(),m.v=i(g,m.k).update(m.v).digest()}while(x.cmp(p)!==-1);return x}function h(p,m,g,y){return p.toRed(a.mont(g)).redPow(m).fromRed().mod(y)}e.exports=function(p,m,g,y,x){var T=l(m);if(T.curve){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(U,j){var q=u[j.curve.join(".")];if(!q)throw new Error("unknown curve "+j.curve.join("."));var H=new o(q).keyFromPrivate(j.privateKey).sign(U);return r.from(H.toDER())})(p,T)}if(T.type==="dsa"){if(y!=="dsa")throw new Error("wrong private key type");return(function(U,j,q){for(var H,E=j.params.priv_key,C=j.params.p,L=j.params.q,v=j.params.g,b=new a(0),_=d(U,L).mod(L),w=!1,S=c(E,L,U,q);w===!1;)H=f(L,S,q),b=h(v,H,C,L),(w=H.invm(L).imul(_.add(E.mul(b))).mod(L)).cmpn(0)===0&&(w=!1,b=new a(0));return(function(I,F){I=I.toArray(),F=F.toArray(),128&I[0]&&(I=[0].concat(I)),128&F[0]&&(F=[0].concat(F));var W=[48,I.length+F.length+4,2,I.length];return W=W.concat(I,[2,F.length],F),r.from(W)})(b,w)})(p,T,g)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");p=r.concat([x,p]);for(var R=T.modulus.byteLength(),$=[0,1];p.length+$.length+1<R;)$.push(255);$.push(0);for(var O=-1;++O<p.length;)$.push(p[O]);return s($,T)},e.exports.getKey=c,e.exports.makeKey=f},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("bn.js"),s=t("elliptic").ec,o=t("parse-asn1"),a=t("./curves.json");function l(u,c){if(u.cmpn(0)<=0)throw new Error("invalid sig");if(u.cmp(c)>=c)throw new Error("invalid sig")}e.exports=function(u,c,d,f,h){var p=o(d);if(p.type==="ec"){if(f!=="ecdsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");return(function($,O,U){var j=a[U.data.algorithm.curve.join(".")];if(!j)throw new Error("unknown curve "+U.data.algorithm.curve.join("."));var q=new s(j),H=U.data.subjectPrivateKey.data;return q.verify(O,$,H)})(u,c,p)}if(p.type==="dsa"){if(f!=="dsa")throw new Error("wrong public key type");return(function($,O,U){var j=U.data.p,q=U.data.q,H=U.data.g,E=U.data.pub_key,C=o.signature.decode($,"der"),L=C.s,v=C.r;l(L,q),l(v,q);var b=i.mont(j),_=L.invm(q);return H.toRed(b).redPow(new i(O).mul(_).mod(q)).fromRed().mul(E.toRed(b).redPow(v.mul(_).mod(q)).fromRed()).mod(j).mod(q).cmp(v)===0})(u,c,p)}if(f!=="rsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");c=r.concat([h,c]);for(var m=p.modulus.byteLength(),g=[1],y=0;c.length+g.length+2<m;)g.push(255),y++;g.push(0);for(var x=-1;++x<c.length;)g.push(c[x]);g=r.from(g);var T=i.mont(p.modulus);u=(u=new i(u).toRed(T)).redPow(new i(p.publicExponent)),u=r.from(u.fromRed().toArray());var R=y<8?1:0;for(m=Math.min(u.length,g.length),u.length!==g.length&&(R=1),x=-1;++x<m;)R|=u[x]^g[x];return R===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,e,n){},{}],217:[function(t,e,n){"use strict";var r=t("buffer"),i=r.Buffer;function s(a,l){for(var u in a)l[u]=a[u]}function o(a,l,u){return i(a,l,u)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,n),n.Buffer=o),s(i,o),o.from=function(a,l,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,l,u)},o.alloc=function(a,l,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=i(a);return l!==void 0?typeof u=="string"?c.fill(l,u):c.fill(l):c.fill(0),c},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:220}],218:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=r.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(p){var m;switch(this.encoding=(function(g){var y=(function(x){if(!x)return"utf8";for(var T;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(T)return;x=(""+x).toLowerCase(),T=!0}})(g);if(typeof y!="string"&&(r.isEncoding===i||!i(g)))throw new Error("Unknown encoding: "+g);return y||g})(p),this.encoding){case"utf16le":this.text=l,this.end=u,m=4;break;case"utf8":this.fillLast=a,m=4;break;case"base64":this.text=c,this.end=d,m=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(m)}function o(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function a(p){var m=this.lastTotal-this.lastNeed,g=(function(y,x,T){if((192&x[0])!=128)return y.lastNeed=0,"\uFFFD";if(y.lastNeed>1&&x.length>1){if((192&x[1])!=128)return y.lastNeed=1,"\uFFFD";if(y.lastNeed>2&&x.length>2&&(192&x[2])!=128)return y.lastNeed=2,"\uFFFD"}})(this,p);return g!==void 0?g:this.lastNeed<=p.length?(p.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,m,0,p.length),void(this.lastNeed-=p.length))}function l(p,m){if((p.length-m)%2==0){var g=p.toString("utf16le",m);if(g){var y=g.charCodeAt(g.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",m,p.length-1)}function u(p){var m=p&&p.length?this.write(p):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,g)}return m}function c(p,m){var g=(p.length-m)%3;return g===0?p.toString("base64",m):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",m,p.length-g))}function d(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function f(p){return p.toString(this.encoding)}function h(p){return p&&p.length?this.write(p):""}n.StringDecoder=s,s.prototype.write=function(p){if(p.length===0)return"";var m,g;if(this.lastNeed){if((m=this.fillLast(p))===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<p.length?m?m+this.text(p,g):this.text(p,g):m||""},s.prototype.end=function(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+"\uFFFD":m},s.prototype.text=function(p,m){var g=(function(x,T,R){var $=T.length-1;if($<R)return 0;var O=o(T[$]);return O>=0?(O>0&&(x.lastNeed=O-1),O):--$<R||O===-2?0:(O=o(T[$]))>=0?(O>0&&(x.lastNeed=O-2),O):--$<R||O===-2?0:(O=o(T[$]))>=0?(O>0&&(O===2?O=0:x.lastNeed=O-3),O):0})(this,p,m);if(!this.lastNeed)return p.toString("utf8",m);this.lastTotal=g;var y=p.length-(g-this.lastNeed);return p.copy(this.lastChar,0,y),p.toString("utf8",m,y)},s.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(t,e,n){(function(r){(function(){"use strict";e.exports=function(i,s){for(var o=Math.min(i.length,s.length),a=new r(o),l=0;l<o;++l)a[l]=i[l]^s[l];return a}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,e,n){(function(r){(function(){"use strict";var i=t("base64-js"),s=t("ieee754");n.Buffer=a,n.SlowBuffer=function(k){return+k!=k&&(k=0),a.alloc(+k)},n.INSPECT_MAX_BYTES=50;function o(k){if(k>2147483647)throw new RangeError('The value "'+k+'" is invalid for option "size"');var D=new Uint8Array(k);return D.__proto__=a.prototype,D}function a(k,D,z){if(typeof k=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(k)}return l(k,D,z)}function l(k,D,z){if(typeof k=="string")return(function(te,se){if(typeof se=="string"&&se!==""||(se="utf8"),!a.isEncoding(se))throw new TypeError("Unknown encoding: "+se);var ve=0|h(te,se),ye=o(ve),K=ye.write(te,se);return K!==ve&&(ye=ye.slice(0,K)),ye})(k,D);if(ArrayBuffer.isView(k))return d(k);if(k==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(M(k,ArrayBuffer)||k&&M(k.buffer,ArrayBuffer))return(function(te,se,ve){if(se<0||te.byteLength<se)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<se+(ve||0))throw new RangeError('"length" is outside of buffer bounds');var ye;return ye=se===void 0&&ve===void 0?new Uint8Array(te):ve===void 0?new Uint8Array(te,se):new Uint8Array(te,se,ve),ye.__proto__=a.prototype,ye})(k,D,z);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=k.valueOf&&k.valueOf();if(J!=null&&J!==k)return a.from(J,D,z);var ne=(function(te){if(a.isBuffer(te)){var se=0|f(te.length),ve=o(se);return ve.length===0||te.copy(ve,0,0,se),ve}if(te.length!==void 0)return typeof te.length!="number"||Y(te.length)?o(0):d(te);if(te.type==="Buffer"&&Array.isArray(te.data))return d(te.data)})(k);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return a.from(k[Symbol.toPrimitive]("string"),D,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}function u(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function c(k){return u(k),o(k<0?0:0|f(k))}function d(k){for(var D=k.length<0?0:0|f(k.length),z=o(D),J=0;J<D;J+=1)z[J]=255&k[J];return z}function f(k){if(k>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|k}function h(k,D){if(a.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||M(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);var z=k.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&z===0)return 0;for(var ne=!1;;)switch(D){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return W(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*z;case"hex":return z>>>1;case"base64":return B(k).length;default:if(ne)return J?-1:W(k).length;D=(""+D).toLowerCase(),ne=!0}}function p(k,D,z){var J=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0)<=(D>>>=0))return"";for(k||(k="utf8");;)switch(k){case"hex":return C(this,D,z);case"utf8":case"utf-8":return q(this,D,z);case"ascii":return H(this,D,z);case"latin1":case"binary":return E(this,D,z);case"base64":return j(this,D,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,D,z);default:if(J)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),J=!0}}function m(k,D,z){var J=k[D];k[D]=k[z],k[z]=J}function g(k,D,z,J,ne){if(k.length===0)return-1;if(typeof z=="string"?(J=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),Y(z=+z)&&(z=ne?0:k.length-1),z<0&&(z=k.length+z),z>=k.length){if(ne)return-1;z=k.length-1}else if(z<0){if(!ne)return-1;z=0}if(typeof D=="string"&&(D=a.from(D,J)),a.isBuffer(D))return D.length===0?-1:y(k,D,z,J,ne);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(k,D,z):Uint8Array.prototype.lastIndexOf.call(k,D,z):y(k,[D],z,J,ne);throw new TypeError("val must be string, number or Buffer")}function y(k,D,z,J,ne){var te,se=1,ve=k.length,ye=D.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(k.length<2||D.length<2)return-1;se=2,ve/=2,ye/=2,z/=2}function K(ge,Se){return se===1?ge[Se]:ge.readUInt16BE(Se*se)}if(ne){var ce=-1;for(te=z;te<ve;te++)if(K(k,te)===K(D,ce===-1?0:te-ce)){if(ce===-1&&(ce=te),te-ce+1===ye)return ce*se}else ce!==-1&&(te-=te-ce),ce=-1}else for(z+ye>ve&&(z=ve-ye),te=z;te>=0;te--){for(var de=!0,we=0;we<ye;we++)if(K(k,te+we)!==K(D,we)){de=!1;break}if(de)return te}return-1}function x(k,D,z,J){z=Number(z)||0;var ne=k.length-z;J?(J=Number(J))>ne&&(J=ne):J=ne;var te=D.length;J>te/2&&(J=te/2);for(var se=0;se<J;++se){var ve=parseInt(D.substr(2*se,2),16);if(Y(ve))return se;k[z+se]=ve}return se}function T(k,D,z,J){return X(W(D,k.length-z),k,z,J)}function R(k,D,z,J){return X((function(ne){for(var te=[],se=0;se<ne.length;++se)te.push(255&ne.charCodeAt(se));return te})(D),k,z,J)}function $(k,D,z,J){return R(k,D,z,J)}function O(k,D,z,J){return X(B(D),k,z,J)}function U(k,D,z,J){return X((function(ne,te){for(var se,ve,ye,K=[],ce=0;ce<ne.length&&!((te-=2)<0);++ce)se=ne.charCodeAt(ce),ve=se>>8,ye=se%256,K.push(ye),K.push(ve);return K})(D,k.length-z),k,z,J)}function j(k,D,z){return D===0&&z===k.length?i.fromByteArray(k):i.fromByteArray(k.slice(D,z))}function q(k,D,z){z=Math.min(k.length,z);for(var J=[],ne=D;ne<z;){var te,se,ve,ye,K=k[ne],ce=null,de=K>239?4:K>223?3:K>191?2:1;if(ne+de<=z)switch(de){case 1:K<128&&(ce=K);break;case 2:(192&(te=k[ne+1]))==128&&(ye=(31&K)<<6|63&te)>127&&(ce=ye);break;case 3:te=k[ne+1],se=k[ne+2],(192&te)==128&&(192&se)==128&&(ye=(15&K)<<12|(63&te)<<6|63&se)>2047&&(ye<55296||ye>57343)&&(ce=ye);break;case 4:te=k[ne+1],se=k[ne+2],ve=k[ne+3],(192&te)==128&&(192&se)==128&&(192&ve)==128&&(ye=(15&K)<<18|(63&te)<<12|(63&se)<<6|63&ve)>65535&&ye<1114112&&(ce=ye)}ce===null?(ce=65533,de=1):ce>65535&&(ce-=65536,J.push(ce>>>10&1023|55296),ce=56320|1023&ce),J.push(ce),ne+=de}return(function(we){var ge=we.length;if(ge<=4096)return String.fromCharCode.apply(String,we);for(var Se="",Ee=0;Ee<ge;)Se+=String.fromCharCode.apply(String,we.slice(Ee,Ee+=4096));return Se})(J)}n.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=(function(){try{var k=new Uint8Array(1);return k.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},k.foo()===42}catch{return!1}})(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(k,D,z){return l(k,D,z)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(k,D,z){return(function(J,ne,te){return u(J),J<=0?o(J):ne!==void 0?typeof te=="string"?o(J).fill(ne,te):o(J).fill(ne):o(J)})(k,D,z)},a.allocUnsafe=function(k){return c(k)},a.allocUnsafeSlow=function(k){return c(k)},a.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==a.prototype},a.compare=function(k,D){if(M(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),M(D,Uint8Array)&&(D=a.from(D,D.offset,D.byteLength)),!a.isBuffer(k)||!a.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===D)return 0;for(var z=k.length,J=D.length,ne=0,te=Math.min(z,J);ne<te;++ne)if(k[ne]!==D[ne]){z=k[ne],J=D[ne];break}return z<J?-1:J<z?1:0},a.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(k,D){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return a.alloc(0);var z;if(D===void 0)for(D=0,z=0;z<k.length;++z)D+=k[z].length;var J=a.allocUnsafe(D),ne=0;for(z=0;z<k.length;++z){var te=k[z];if(M(te,Uint8Array)&&(te=a.from(te)),!a.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(J,ne),ne+=te.length}return J},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<k;D+=2)m(this,D,D+1);return this},a.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<k;D+=4)m(this,D,D+3),m(this,D+1,D+2);return this},a.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<k;D+=8)m(this,D,D+7),m(this,D+1,D+6),m(this,D+2,D+5),m(this,D+3,D+4);return this},a.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?q(this,0,k):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(k){if(!a.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||a.compare(this,k)===0},a.prototype.inspect=function(){var k="",D=n.INSPECT_MAX_BYTES;return k=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(k+=" ... "),"<Buffer "+k+">"},a.prototype.compare=function(k,D,z,J,ne){if(M(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(D===void 0&&(D=0),z===void 0&&(z=k?k.length:0),J===void 0&&(J=0),ne===void 0&&(ne=this.length),D<0||z>k.length||J<0||ne>this.length)throw new RangeError("out of range index");if(J>=ne&&D>=z)return 0;if(J>=ne)return-1;if(D>=z)return 1;if(this===k)return 0;for(var te=(ne>>>=0)-(J>>>=0),se=(z>>>=0)-(D>>>=0),ve=Math.min(te,se),ye=this.slice(J,ne),K=k.slice(D,z),ce=0;ce<ve;++ce)if(ye[ce]!==K[ce]){te=ye[ce],se=K[ce];break}return te<se?-1:se<te?1:0},a.prototype.includes=function(k,D,z){return this.indexOf(k,D,z)!==-1},a.prototype.indexOf=function(k,D,z){return g(this,k,D,z,!0)},a.prototype.lastIndexOf=function(k,D,z){return g(this,k,D,z,!1)},a.prototype.write=function(k,D,z,J){if(D===void 0)J="utf8",z=this.length,D=0;else if(z===void 0&&typeof D=="string")J=D,z=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(z)?(z>>>=0,J===void 0&&(J="utf8")):(J=z,z=void 0)}var ne=this.length-D;if((z===void 0||z>ne)&&(z=ne),k.length>0&&(z<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var te=!1;;)switch(J){case"hex":return x(this,k,D,z);case"utf8":case"utf-8":return T(this,k,D,z);case"ascii":return R(this,k,D,z);case"latin1":case"binary":return $(this,k,D,z);case"base64":return O(this,k,D,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,k,D,z);default:if(te)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(k,D,z){var J="";z=Math.min(k.length,z);for(var ne=D;ne<z;++ne)J+=String.fromCharCode(127&k[ne]);return J}function E(k,D,z){var J="";z=Math.min(k.length,z);for(var ne=D;ne<z;++ne)J+=String.fromCharCode(k[ne]);return J}function C(k,D,z){var J=k.length;(!D||D<0)&&(D=0),(!z||z<0||z>J)&&(z=J);for(var ne="",te=D;te<z;++te)ne+=F(k[te]);return ne}function L(k,D,z){for(var J=k.slice(D,z),ne="",te=0;te<J.length;te+=2)ne+=String.fromCharCode(J[te]+256*J[te+1]);return ne}function v(k,D,z){if(k%1!=0||k<0)throw new RangeError("offset is not uint");if(k+D>z)throw new RangeError("Trying to access beyond buffer length")}function b(k,D,z,J,ne,te){if(!a.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ne||D<te)throw new RangeError('"value" argument is out of bounds');if(z+J>k.length)throw new RangeError("Index out of range")}function _(k,D,z,J,ne,te){if(z+J>k.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function w(k,D,z,J,ne){return D=+D,z>>>=0,ne||_(k,0,z,4),s.write(k,D,z,J,23,4),z+4}function S(k,D,z,J,ne){return D=+D,z>>>=0,ne||_(k,0,z,8),s.write(k,D,z,J,52,8),z+8}a.prototype.slice=function(k,D){var z=this.length;(k=~~k)<0?(k+=z)<0&&(k=0):k>z&&(k=z),(D=D===void 0?z:~~D)<0?(D+=z)<0&&(D=0):D>z&&(D=z),D<k&&(D=k);var J=this.subarray(k,D);return J.__proto__=a.prototype,J},a.prototype.readUIntLE=function(k,D,z){k>>>=0,D>>>=0,z||v(k,D,this.length);for(var J=this[k],ne=1,te=0;++te<D&&(ne*=256);)J+=this[k+te]*ne;return J},a.prototype.readUIntBE=function(k,D,z){k>>>=0,D>>>=0,z||v(k,D,this.length);for(var J=this[k+--D],ne=1;D>0&&(ne*=256);)J+=this[k+--D]*ne;return J},a.prototype.readUInt8=function(k,D){return k>>>=0,D||v(k,1,this.length),this[k]},a.prototype.readUInt16LE=function(k,D){return k>>>=0,D||v(k,2,this.length),this[k]|this[k+1]<<8},a.prototype.readUInt16BE=function(k,D){return k>>>=0,D||v(k,2,this.length),this[k]<<8|this[k+1]},a.prototype.readUInt32LE=function(k,D){return k>>>=0,D||v(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},a.prototype.readUInt32BE=function(k,D){return k>>>=0,D||v(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},a.prototype.readIntLE=function(k,D,z){k>>>=0,D>>>=0,z||v(k,D,this.length);for(var J=this[k],ne=1,te=0;++te<D&&(ne*=256);)J+=this[k+te]*ne;return J>=(ne*=128)&&(J-=Math.pow(2,8*D)),J},a.prototype.readIntBE=function(k,D,z){k>>>=0,D>>>=0,z||v(k,D,this.length);for(var J=D,ne=1,te=this[k+--J];J>0&&(ne*=256);)te+=this[k+--J]*ne;return te>=(ne*=128)&&(te-=Math.pow(2,8*D)),te},a.prototype.readInt8=function(k,D){return k>>>=0,D||v(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},a.prototype.readInt16LE=function(k,D){k>>>=0,D||v(k,2,this.length);var z=this[k]|this[k+1]<<8;return 32768&z?4294901760|z:z},a.prototype.readInt16BE=function(k,D){k>>>=0,D||v(k,2,this.length);var z=this[k+1]|this[k]<<8;return 32768&z?4294901760|z:z},a.prototype.readInt32LE=function(k,D){return k>>>=0,D||v(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},a.prototype.readInt32BE=function(k,D){return k>>>=0,D||v(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},a.prototype.readFloatLE=function(k,D){return k>>>=0,D||v(k,4,this.length),s.read(this,k,!0,23,4)},a.prototype.readFloatBE=function(k,D){return k>>>=0,D||v(k,4,this.length),s.read(this,k,!1,23,4)},a.prototype.readDoubleLE=function(k,D){return k>>>=0,D||v(k,8,this.length),s.read(this,k,!0,52,8)},a.prototype.readDoubleBE=function(k,D){return k>>>=0,D||v(k,8,this.length),s.read(this,k,!1,52,8)},a.prototype.writeUIntLE=function(k,D,z,J){k=+k,D>>>=0,z>>>=0,J||b(this,k,D,z,Math.pow(2,8*z)-1,0);var ne=1,te=0;for(this[D]=255&k;++te<z&&(ne*=256);)this[D+te]=k/ne&255;return D+z},a.prototype.writeUIntBE=function(k,D,z,J){k=+k,D>>>=0,z>>>=0,J||b(this,k,D,z,Math.pow(2,8*z)-1,0);var ne=z-1,te=1;for(this[D+ne]=255&k;--ne>=0&&(te*=256);)this[D+ne]=k/te&255;return D+z},a.prototype.writeUInt8=function(k,D,z){return k=+k,D>>>=0,z||b(this,k,D,1,255,0),this[D]=255&k,D+1},a.prototype.writeUInt16LE=function(k,D,z){return k=+k,D>>>=0,z||b(this,k,D,2,65535,0),this[D]=255&k,this[D+1]=k>>>8,D+2},a.prototype.writeUInt16BE=function(k,D,z){return k=+k,D>>>=0,z||b(this,k,D,2,65535,0),this[D]=k>>>8,this[D+1]=255&k,D+2},a.prototype.writeUInt32LE=function(k,D,z){return k=+k,D>>>=0,z||b(this,k,D,4,4294967295,0),this[D+3]=k>>>24,this[D+2]=k>>>16,this[D+1]=k>>>8,this[D]=255&k,D+4},a.prototype.writeUInt32BE=function(k,D,z){return k=+k,D>>>=0,z||b(this,k,D,4,4294967295,0),this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=255&k,D+4},a.prototype.writeIntLE=function(k,D,z,J){if(k=+k,D>>>=0,!J){var ne=Math.pow(2,8*z-1);b(this,k,D,z,ne-1,-ne)}var te=0,se=1,ve=0;for(this[D]=255&k;++te<z&&(se*=256);)k<0&&ve===0&&this[D+te-1]!==0&&(ve=1),this[D+te]=(k/se>>0)-ve&255;return D+z},a.prototype.writeIntBE=function(k,D,z,J){if(k=+k,D>>>=0,!J){var ne=Math.pow(2,8*z-1);b(this,k,D,z,ne-1,-ne)}var te=z-1,se=1,ve=0;for(this[D+te]=255&k;--te>=0&&(se*=256);)k<0&&ve===0&&this[D+te+1]!==0&&(ve=1),this[D+te]=(k/se>>0)-ve&255;return D+z},a.prototype.writeInt8=function(k,D,z){return k=+k,D>>>=0,z||b(this,k,D,1,127,-128),k<0&&(k=255+k+1),this[D]=255&k,D+1},a.prototype.writeInt16LE=function(k,D,z){return k=+k,D>>>=0,z||b(this,k,D,2,32767,-32768),this[D]=255&k,this[D+1]=k>>>8,D+2},a.prototype.writeInt16BE=function(k,D,z){return k=+k,D>>>=0,z||b(this,k,D,2,32767,-32768),this[D]=k>>>8,this[D+1]=255&k,D+2},a.prototype.writeInt32LE=function(k,D,z){return k=+k,D>>>=0,z||b(this,k,D,4,2147483647,-2147483648),this[D]=255&k,this[D+1]=k>>>8,this[D+2]=k>>>16,this[D+3]=k>>>24,D+4},a.prototype.writeInt32BE=function(k,D,z){return k=+k,D>>>=0,z||b(this,k,D,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=255&k,D+4},a.prototype.writeFloatLE=function(k,D,z){return w(this,k,D,!0,z)},a.prototype.writeFloatBE=function(k,D,z){return w(this,k,D,!1,z)},a.prototype.writeDoubleLE=function(k,D,z){return S(this,k,D,!0,z)},a.prototype.writeDoubleBE=function(k,D,z){return S(this,k,D,!1,z)},a.prototype.copy=function(k,D,z,J){if(!a.isBuffer(k))throw new TypeError("argument should be a Buffer");if(z||(z=0),J||J===0||(J=this.length),D>=k.length&&(D=k.length),D||(D=0),J>0&&J<z&&(J=z),J===z||k.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),k.length-D<J-z&&(J=k.length-D+z);var ne=J-z;if(this===k&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,z,J);else if(this===k&&z<D&&D<J)for(var te=ne-1;te>=0;--te)k[te+D]=this[te+z];else Uint8Array.prototype.set.call(k,this.subarray(z,J),D);return ne},a.prototype.fill=function(k,D,z,J){if(typeof k=="string"){if(typeof D=="string"?(J=D,D=0,z=this.length):typeof z=="string"&&(J=z,z=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!a.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(k.length===1){var ne=k.charCodeAt(0);(J==="utf8"&&ne<128||J==="latin1")&&(k=ne)}}else typeof k=="number"&&(k&=255);if(D<0||this.length<D||this.length<z)throw new RangeError("Out of range index");if(z<=D)return this;var te;if(D>>>=0,z=z===void 0?this.length:z>>>0,k||(k=0),typeof k=="number")for(te=D;te<z;++te)this[te]=k;else{var se=a.isBuffer(k)?k:a.from(k,J),ve=se.length;if(ve===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(te=0;te<z-D;++te)this[te+D]=se[te%ve]}return this};var I=/[^+/0-9A-Za-z-_]/g;function F(k){return k<16?"0"+k.toString(16):k.toString(16)}function W(k,D){var z;D=D||1/0;for(var J=k.length,ne=null,te=[],se=0;se<J;++se){if((z=k.charCodeAt(se))>55295&&z<57344){if(!ne){if(z>56319){(D-=3)>-1&&te.push(239,191,189);continue}if(se+1===J){(D-=3)>-1&&te.push(239,191,189);continue}ne=z;continue}if(z<56320){(D-=3)>-1&&te.push(239,191,189),ne=z;continue}z=65536+(ne-55296<<10|z-56320)}else ne&&(D-=3)>-1&&te.push(239,191,189);if(ne=null,z<128){if((D-=1)<0)break;te.push(z)}else if(z<2048){if((D-=2)<0)break;te.push(z>>6|192,63&z|128)}else if(z<65536){if((D-=3)<0)break;te.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(z<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;te.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return te}function B(k){return i.toByteArray((function(D){if((D=(D=D.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D})(k))}function X(k,D,z,J){for(var ne=0;ne<J&&!(ne+z>=D.length||ne>=k.length);++ne)D[ne+z]=k[ne];return ne}function M(k,D){return k instanceof D||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===D.name}function Y(k){return k!=k}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("stream").Transform,s=t("string_decoder").StringDecoder;function o(a){i.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(o,i),o.prototype.update=function(a,l,u){typeof a=="string"&&(a=r.from(a,l));var c=this._update(a);return this.hashMode?this:(u&&(c=this._toString(c,u)),c)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(a,l,u){var c;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(d){c=d}finally{u(c)}},o.prototype._flush=function(a){var l;try{this.push(this.__final())}catch(u){l=u}a(l)},o.prototype._finalOrDigest=function(a){var l=this.__final()||r.alloc(0);return a&&(l=this._toString(l,a,!0)),l},o.prototype._toString=function(a,l,u){if(this._decoder||(this._decoder=new s(l),this._encoding=l),this._encoding!==l)throw new Error("can't switch encodings");var c=this._decoder.write(a);return u&&(c+=this._decoder.end()),c},e.exports=o},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=t("../internals/try-to-string"),s=TypeError;e.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,e,n){"use strict";var r=t("../internals/is-constructor"),i=t("../internals/try-to-string"),s=TypeError;e.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=String,s=TypeError;e.exports=function(o){if(typeof o=="object"||r(o))return o;throw new s("Can't set "+i(o)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol"),i=t("../internals/object-create"),s=t("../internals/object-define-property").f,o=r("unscopables"),a=Array.prototype;a[o]===void 0&&s(a,o,{configurable:!0,value:i(null)}),e.exports=function(l){a[o][l]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,e,n){"use strict";var r=t("../internals/object-is-prototype-of"),i=TypeError;e.exports=function(s,o){if(r(o,s))return s;throw new i("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,e,n){"use strict";var r=t("../internals/is-object"),i=String,s=TypeError;e.exports=function(o){if(r(o))return o;throw new s(i(o)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,e,n){"use strict";var r=t("../internals/to-indexed-object"),i=t("../internals/to-absolute-index"),s=t("../internals/length-of-array-like"),o=function(a){return function(l,u,c){var d,f=r(l),h=s(f),p=i(c,h);if(a&&u!=u){for(;h>p;)if((d=f[p++])!=d)return!0}else for(;h>p;p++)if((a||p in f)&&f[p]===u)return a||p||0;return!a&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,e,n){"use strict";var r=t("../internals/function-bind-context"),i=t("../internals/function-uncurry-this"),s=t("../internals/indexed-object"),o=t("../internals/to-object"),a=t("../internals/length-of-array-like"),l=t("../internals/array-species-create"),u=i([].push),c=function(d){var f=d===1,h=d===2,p=d===3,m=d===4,g=d===6,y=d===7,x=d===5||g;return function(T,R,$,O){for(var U,j,q=o(T),H=s(q),E=r(R,$),C=a(H),L=0,v=O||l,b=f?v(T,C):h||y?v(T,0):void 0;C>L;L++)if((x||L in H)&&(j=E(U=H[L],L,q),d))if(f)b[L]=j;else if(j)switch(d){case 3:return!0;case 5:return U;case 6:return L;case 2:u(b,U)}else switch(d){case 4:return!1;case 7:u(b,U)}return g?-1:p||m?m:b}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,e,n){"use strict";var r=t("../internals/to-absolute-index"),i=t("../internals/length-of-array-like"),s=t("../internals/create-property"),o=Array,a=Math.max;e.exports=function(l,u,c){for(var d=i(l),f=r(u,d),h=r(c===void 0?d:c,d),p=o(a(h-f,0)),m=0;f<h;f++,m++)s(p,m,l[f]);return p.length=m,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this");e.exports=r([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,e,n){"use strict";var r=t("../internals/is-array"),i=t("../internals/is-constructor"),s=t("../internals/is-object"),o=t("../internals/well-known-symbol")("species"),a=Array;e.exports=function(l){var u;return r(l)&&(u=l.constructor,(i(u)&&(u===a||r(u.prototype))||s(u)&&(u=u[o])===null)&&(u=void 0)),u===void 0?a:u}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,e,n){"use strict";var r=t("../internals/array-species-constructor");e.exports=function(i,s){return new(r(i))(s===0?0:s)}},{"../internals/array-species-constructor":232}],234:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol")("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,function(){throw 2})}catch{}e.exports=function(a,l){try{if(!l&&!i)return!1}catch{return!1}var u=!1;try{var c={};c[r]=function(){return{next:function(){return{done:u=!0}}}},a(c)}catch{}return u}},{"../internals/well-known-symbol":357}],235:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=r({}.toString),s=r("".slice);e.exports=function(o){return s(i(o),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,e,n){"use strict";var r=t("../internals/to-string-tag-support"),i=t("../internals/is-callable"),s=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("toStringTag"),a=Object,l=s((function(){return arguments})())==="Arguments";e.exports=r?s:function(u){var c,d,f;return u===void 0?"Undefined":u===null?"Null":typeof(d=(function(h,p){try{return h[p]}catch{}})(c=a(u),o))=="string"?d:l?s(c):(f=s(c))==="Object"&&i(c.callee)?"Arguments":f}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,e,n){"use strict";var r=t("../internals/has-own-property"),i=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),o=t("../internals/object-define-property");e.exports=function(a,l,u){for(var c=i(l),d=o.f,f=s.f,h=0;h<c.length;h++){var p=c[h];r(a,p)||u&&r(u,p)||d(a,p,f(l,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol")("match");e.exports=function(i){var s=/./;try{"/./"[i](s)}catch{try{return s[r]=!1,"/./"[i](s)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,e,n){"use strict";var r=t("../internals/fails");e.exports=!r(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},{"../internals/fails":260}],240:[function(t,e,n){"use strict";e.exports=function(r,i){return{value:r,done:i}}},{}],241:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");e.exports=r?function(o,a,l){return i.f(o,a,s(1,l))}:function(o,a,l){return o[a]=l,o}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,e,n){"use strict";e.exports=function(r,i){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:i}}},{}],243:[function(t,e,n){"use strict";var r=t("../internals/to-property-key"),i=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");e.exports=function(o,a,l){var u=r(a);u in o?i.f(o,u,s(0,l)):o[u]=l}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,e,n){"use strict";var r=t("../internals/make-built-in"),i=t("../internals/object-define-property");e.exports=function(s,o,a){return a.get&&r(a.get,o,{getter:!0}),a.set&&r(a.set,o,{setter:!0}),i.f(s,o,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=t("../internals/object-define-property"),s=t("../internals/make-built-in"),o=t("../internals/define-global-property");e.exports=function(a,l,u,c){c||(c={});var d=c.enumerable,f=c.name!==void 0?c.name:l;if(r(u)&&s(u,f,c),c.global)d?a[l]=u:o(l,u);else{try{c.unsafe?a[l]&&(d=!0):delete a[l]}catch{}d?a[l]=u:i.f(a,l,{value:u,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,e,n){"use strict";var r=t("../internals/global"),i=Object.defineProperty;e.exports=function(s,o){try{i(r,s,{value:o,configurable:!0,writable:!0})}catch{r[s]=o}return o}},{"../internals/global":274}],247:[function(t,e,n){"use strict";var r=t("../internals/fails");e.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(t,e,n){"use strict";var r=typeof document=="object"&&document.all,i=r===void 0&&r!==void 0;e.exports={all:r,IS_HTMLDDA:i}},{}],249:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/is-object"),s=r.document,o=i(s)&&i(s.createElement);e.exports=function(a){return o?s.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,e,n){"use strict";var r=t("../internals/engine-is-deno"),i=t("../internals/engine-is-node");e.exports=!r&&!i&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,e,n){"use strict";e.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,e,n){"use strict";var r=t("../internals/engine-user-agent");e.exports=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,e,n){"use strict";var r=t("../internals/engine-user-agent");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},{"../internals/engine-user-agent":256}],254:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/classof-raw");e.exports=i(r.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,e,n){"use strict";var r=t("../internals/engine-user-agent");e.exports=/web0s(?!.*chrome)/i.test(r)},{"../internals/engine-user-agent":256}],256:[function(t,e,n){"use strict";e.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,e,n){"use strict";var r,i,s=t("../internals/global"),o=t("../internals/engine-user-agent"),a=s.process,l=s.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,e,n){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),o=t("../internals/define-built-in"),a=t("../internals/define-global-property"),l=t("../internals/copy-constructor-properties"),u=t("../internals/is-forced");e.exports=function(c,d){var f,h,p,m,g,y=c.target,x=c.global,T=c.stat;if(f=x?r:T?r[y]||a(y,{}):(r[y]||{}).prototype)for(h in d){if(m=d[h],p=c.dontCallGetSet?(g=i(f,h))&&g.value:f[h],!u(x?h:y+(T?".":"#")+h,c.forced)&&p!==void 0){if(typeof m==typeof p)continue;l(m,p)}(c.sham||p&&p.sham)&&s(m,"sham",!0),o(f,h,m,c)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,e,n){"use strict";e.exports=function(r){try{return!!r()}catch{return!0}}},{}],261:[function(t,e,n){"use strict";var r=t("../internals/function-bind-native"),i=Function.prototype,s=i.apply,o=i.call;e.exports=typeof Reflect=="object"&&Reflect.apply||(r?o.bind(s):function(){return o.apply(s,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this-clause"),i=t("../internals/a-callable"),s=t("../internals/function-bind-native"),o=r(r.bind);e.exports=function(a,l){return i(a),l===void 0?a:s?o(a,l):function(){return a.apply(l,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,e,n){"use strict";var r=t("../internals/fails");e.exports=!r(function(){var i=function(){}.bind();return typeof i!="function"||i.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(t,e,n){"use strict";var r=t("../internals/function-bind-native"),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/has-own-property"),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),l=a&&function(){}.name==="something",u=a&&(!r||r&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/a-callable");e.exports=function(s,o,a){try{return r(i(Object.getOwnPropertyDescriptor(s,o)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,e,n){"use strict";var r=t("../internals/classof-raw"),i=t("../internals/function-uncurry-this");e.exports=function(s){if(r(s)==="Function")return i(s)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,e,n){"use strict";var r=t("../internals/function-bind-native"),i=Function.prototype,s=i.call,o=r&&i.bind.bind(s,s);e.exports=r?o:function(a){return function(){return s.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/is-callable"),s=function(o){return i(o)?o:void 0};e.exports=function(o,a){return arguments.length<2?s(r[o]):r[o]&&r[o][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,e,n){"use strict";var r=t("../internals/classof"),i=t("../internals/get-method"),s=t("../internals/is-null-or-undefined"),o=t("../internals/iterators"),a=t("../internals/well-known-symbol")("iterator");e.exports=function(l){if(!s(l))return i(l,a)||i(l,"@@iterator")||o[r(l)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/a-callable"),s=t("../internals/an-object"),o=t("../internals/try-to-string"),a=t("../internals/get-iterator-method"),l=TypeError;e.exports=function(u,c){var d=arguments.length<2?a(u):c;if(i(d))return s(r(d,u));throw new l(o(u)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/is-array"),s=t("../internals/is-callable"),o=t("../internals/classof-raw"),a=t("../internals/to-string"),l=r([].push);e.exports=function(u){if(s(u))return u;if(i(u)){for(var c=u.length,d=[],f=0;f<c;f++){var h=u[f];typeof h=="string"?l(d,h):typeof h!="number"&&o(h)!=="Number"&&o(h)!=="String"||l(d,a(h))}var p=d.length,m=!0;return function(g,y){if(m)return m=!1,y;if(i(this))return y;for(var x=0;x<p;x++)if(d[x]===g)return y}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,e,n){"use strict";var r=t("../internals/a-callable"),i=t("../internals/is-null-or-undefined");e.exports=function(s,o){var a=s[o];return i(a)?void 0:r(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,e,n){(function(r){(function(){"use strict";var i=function(s){return s&&s.Math===Math&&s};e.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof r=="object"&&r)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/to-object"),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(o,a){return s(i(o),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,e,n){"use strict";e.exports={}},{}],277:[function(t,e,n){"use strict";e.exports=function(r,i){try{arguments.length===1?console.error(r):console.error(r,i)}catch{}}},{}],278:[function(t,e,n){"use strict";var r=t("../internals/get-built-in");e.exports=r("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/fails"),s=t("../internals/document-create-element");e.exports=!r&&!i(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/fails"),s=t("../internals/classof-raw"),o=Object,a=r("".split);e.exports=i(function(){return!o("z").propertyIsEnumerable(0)})?function(l){return s(l)==="String"?a(l,""):o(l)}:o},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/is-callable"),s=t("../internals/shared-store"),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(a){return o(a)}),e.exports=s.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,e,n){"use strict";var r,i,s,o=t("../internals/weak-map-basic-detection"),a=t("../internals/global"),l=t("../internals/is-object"),u=t("../internals/create-non-enumerable-property"),c=t("../internals/has-own-property"),d=t("../internals/shared-store"),f=t("../internals/shared-key"),h=t("../internals/hidden-keys"),p=a.TypeError,m=a.WeakMap;if(o||d.state){var g=d.state||(d.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,r=function(x,T){if(g.has(x))throw new p("Object already initialized");return T.facade=x,g.set(x,T),T},i=function(x){return g.get(x)||{}},s=function(x){return g.has(x)}}else{var y=f("state");h[y]=!0,r=function(x,T){if(c(x,y))throw new p("Object already initialized");return T.facade=x,u(x,y,T),T},i=function(x){return c(x,y)?x[y]:{}},s=function(x){return c(x,y)}}e.exports={set:r,get:i,has:s,enforce:function(x){return s(x)?i(x):r(x,{})},getterFor:function(x){return function(T){var R;if(!l(T)||(R=i(T)).type!==x)throw new p("Incompatible receiver, "+x+" required");return R}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol"),i=t("../internals/iterators"),s=r("iterator"),o=Array.prototype;e.exports=function(a){return a!==void 0&&(i.Array===a||o[s]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,e,n){"use strict";var r=t("../internals/classof-raw");e.exports=Array.isArray||function(i){return r(i)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,e,n){"use strict";var r=t("../internals/document-all"),i=r.all;e.exports=r.IS_HTMLDDA?function(s){return typeof s=="function"||s===i}:function(s){return typeof s=="function"}},{"../internals/document-all":248}],286:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/fails"),s=t("../internals/is-callable"),o=t("../internals/classof"),a=t("../internals/get-built-in"),l=t("../internals/inspect-source"),u=function(){},c=[],d=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,h=r(f.exec),p=!f.test(u),m=function(y){if(!s(y))return!1;try{return d(u,c,y),!0}catch{return!1}},g=function(y){if(!s(y))return!1;switch(o(y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(f,l(y))}catch{return!0}};g.sham=!0,e.exports=!d||i(function(){var y;return m(m.call)||!m(Object)||!m(function(){y=!0})||y})?g:m},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,e,n){"use strict";var r=t("../internals/fails"),i=t("../internals/is-callable"),s=/#|\.prototype\./,o=function(d,f){var h=l[a(d)];return h===c||h!==u&&(i(f)?r(f):!!f)},a=o.normalize=function(d){return String(d).replace(s,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,e,n){"use strict";e.exports=function(r){return r==null}},{}],289:[function(t,e,n){"use strict";var r=t("../internals/is-callable"),i=t("../internals/document-all"),s=i.all;e.exports=i.IS_HTMLDDA?function(o){return typeof o=="object"?o!==null:r(o)||o===s}:function(o){return typeof o=="object"?o!==null:r(o)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,e,n){"use strict";e.exports=!1},{}],291:[function(t,e,n){"use strict";var r=t("../internals/is-object"),i=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");e.exports=function(o){var a;return r(o)&&((a=o[s])!==void 0?!!a:i(o)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,e,n){"use strict";var r=t("../internals/get-built-in"),i=t("../internals/is-callable"),s=t("../internals/object-is-prototype-of"),o=t("../internals/use-symbol-as-uid"),a=Object;e.exports=o?function(l){return typeof l=="symbol"}:function(l){var u=r("Symbol");return i(u)&&s(u.prototype,a(l))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,e,n){"use strict";var r=t("../internals/function-bind-context"),i=t("../internals/function-call"),s=t("../internals/an-object"),o=t("../internals/try-to-string"),a=t("../internals/is-array-iterator-method"),l=t("../internals/length-of-array-like"),u=t("../internals/object-is-prototype-of"),c=t("../internals/get-iterator"),d=t("../internals/get-iterator-method"),f=t("../internals/iterator-close"),h=TypeError,p=function(g,y){this.stopped=g,this.result=y},m=p.prototype;e.exports=function(g,y,x){var T,R,$,O,U,j,q,H=x&&x.that,E=!(!x||!x.AS_ENTRIES),C=!(!x||!x.IS_RECORD),L=!(!x||!x.IS_ITERATOR),v=!(!x||!x.INTERRUPTED),b=r(y,H),_=function(S){return T&&f(T,"normal",S),new p(!0,S)},w=function(S){return E?(s(S),v?b(S[0],S[1],_):b(S[0],S[1])):v?b(S,_):b(S)};if(C)T=g.iterator;else if(L)T=g;else{if(!(R=d(g)))throw new h(o(g)+" is not iterable");if(a(R)){for($=0,O=l(g);O>$;$++)if((U=w(g[$]))&&u(m,U))return U;return new p(!1)}T=c(g,R)}for(j=C?g.next:T.next;!(q=i(j,T)).done;){try{U=w(q.value)}catch(S){f(T,"throw",S)}if(typeof U=="object"&&U&&u(m,U))return U}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/an-object"),s=t("../internals/get-method");e.exports=function(o,a,l){var u,c;i(o);try{if(!(u=s(o,"return"))){if(a==="throw")throw l;return l}u=r(u,o)}catch(d){c=!0,u=d}if(a==="throw")throw l;if(c)throw u;return i(u),l}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,e,n){"use strict";var r=t("../internals/iterators-core").IteratorPrototype,i=t("../internals/object-create"),s=t("../internals/create-property-descriptor"),o=t("../internals/set-to-string-tag"),a=t("../internals/iterators"),l=function(){return this};e.exports=function(u,c,d,f){var h=c+" Iterator";return u.prototype=i(r,{next:s(+!f,d)}),o(u,h,!1,!0),a[h]=l,u}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),s=t("../internals/is-pure"),o=t("../internals/function-name"),a=t("../internals/is-callable"),l=t("../internals/iterator-create-constructor"),u=t("../internals/object-get-prototype-of"),c=t("../internals/object-set-prototype-of"),d=t("../internals/set-to-string-tag"),f=t("../internals/create-non-enumerable-property"),h=t("../internals/define-built-in"),p=t("../internals/well-known-symbol"),m=t("../internals/iterators"),g=t("../internals/iterators-core"),y=o.PROPER,x=o.CONFIGURABLE,T=g.IteratorPrototype,R=g.BUGGY_SAFARI_ITERATORS,$=p("iterator"),O=function(){return this};e.exports=function(U,j,q,H,E,C,L){l(q,j,H);var v,b,_,w=function(M){if(M===E&&B)return B;if(!R&&M&&M in F)return F[M];switch(M){case"keys":case"values":case"entries":return function(){return new q(this,M)}}return function(){return new q(this)}},S=j+" Iterator",I=!1,F=U.prototype,W=F[$]||F["@@iterator"]||E&&F[E],B=!R&&W||w(E),X=j==="Array"&&F.entries||W;if(X&&(v=u(X.call(new U)))!==Object.prototype&&v.next&&(s||u(v)===T||(c?c(v,T):a(v[$])||h(v,$,O)),d(v,S,!0,!0),s&&(m[S]=O)),y&&E==="values"&&W&&W.name!=="values"&&(!s&&x?f(F,"name","values"):(I=!0,B=function(){return i(W,this)})),E)if(b={values:w("values"),keys:C?B:w("keys"),entries:w("entries")},L)for(_ in b)(R||I||!(_ in F))&&h(F,_,b[_]);else r({target:j,proto:!0,forced:R||I},b);return s&&!L||F[$]===B||h(F,$,B,{name:E}),m[j]=B,b}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,e,n){"use strict";var r,i,s,o=t("../internals/fails"),a=t("../internals/is-callable"),l=t("../internals/is-object"),u=t("../internals/object-create"),c=t("../internals/object-get-prototype-of"),d=t("../internals/define-built-in"),f=t("../internals/well-known-symbol"),h=t("../internals/is-pure"),p=f("iterator"),m=!1;[].keys&&("next"in(s=[].keys())?(i=c(c(s)))!==Object.prototype&&(r=i):m=!0),!l(r)||o(function(){var g={};return r[p].call(g)!==g})?r={}:h&&(r=u(r)),a(r[p])||d(r,p,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,e,n){arguments[4][276][0].apply(n,arguments)},{dup:276}],299:[function(t,e,n){"use strict";var r=t("../internals/to-length");e.exports=function(i){return r(i.length)}},{"../internals/to-length":343}],300:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/fails"),s=t("../internals/is-callable"),o=t("../internals/has-own-property"),a=t("../internals/descriptors"),l=t("../internals/function-name").CONFIGURABLE,u=t("../internals/inspect-source"),c=t("../internals/internal-state"),d=c.enforce,f=c.get,h=String,p=Object.defineProperty,m=r("".slice),g=r("".replace),y=r([].join),x=a&&!i(function(){return p(function(){},"length",{value:8}).length!==8}),T=String(String).split("String"),R=e.exports=function($,O,U){m(h(O),0,7)==="Symbol("&&(O="["+g(h(O),/^Symbol\(([^)]*)\)/,"$1")+"]"),U&&U.getter&&(O="get "+O),U&&U.setter&&(O="set "+O),(!o($,"name")||l&&$.name!==O)&&(a?p($,"name",{value:O,configurable:!0}):$.name=O),x&&U&&o(U,"arity")&&$.length!==U.arity&&p($,"length",{value:U.arity});try{U&&o(U,"constructor")&&U.constructor?a&&p($,"prototype",{writable:!1}):$.prototype&&($.prototype=void 0)}catch{}var j=d($);return o(j,"source")||(j.source=y(T,typeof O=="string"?O:"")),$};Function.prototype.toString=R(function(){return s(this)&&f(this).source||u(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,e,n){"use strict";var r=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(s){var o=+s;return(o>0?i:r)(o)}},{}],302:[function(t,e,n){"use strict";var r,i,s,o,a,l=t("../internals/global"),u=t("../internals/function-bind-context"),c=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/task").set,f=t("../internals/queue"),h=t("../internals/engine-is-ios"),p=t("../internals/engine-is-ios-pebble"),m=t("../internals/engine-is-webos-webkit"),g=t("../internals/engine-is-node"),y=l.MutationObserver||l.WebKitMutationObserver,x=l.document,T=l.process,R=l.Promise,$=c(l,"queueMicrotask"),O=$&&$.value;if(!O){var U=new f,j=function(){var q,H;for(g&&(q=T.domain)&&q.exit();H=U.get();)try{H()}catch(E){throw U.head&&r(),E}q&&q.enter()};h||g||m||!y||!x?!p&&R&&R.resolve?((o=R.resolve(void 0)).constructor=R,a=u(o.then,o),r=function(){a(j)}):g?r=function(){T.nextTick(j)}:(d=u(d,l),r=function(){d(j)}):(i=!0,s=x.createTextNode(""),new y(j).observe(s,{characterData:!0}),r=function(){s.data=i=!i}),O=function(q){U.head||r(),U.add(q)}}e.exports=O},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,e,n){"use strict";var r=t("../internals/a-callable"),i=TypeError,s=function(o){var a,l;this.promise=new o(function(u,c){if(a!==void 0||l!==void 0)throw new i("Bad Promise constructor");a=u,l=c}),this.resolve=r(a),this.reject=r(l)};e.exports.f=function(o){return new s(o)}},{"../internals/a-callable":222}],304:[function(t,e,n){"use strict";var r=t("../internals/is-regexp"),i=TypeError;e.exports=function(s){if(r(s))throw new i("The method doesn't accept regular expressions");return s}},{"../internals/is-regexp":291}],305:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/function-uncurry-this"),s=t("../internals/function-call"),o=t("../internals/fails"),a=t("../internals/object-keys"),l=t("../internals/object-get-own-property-symbols"),u=t("../internals/object-property-is-enumerable"),c=t("../internals/to-object"),d=t("../internals/indexed-object"),f=Object.assign,h=Object.defineProperty,p=i([].concat);e.exports=!f||o(function(){if(r&&f({b:1},f(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var m={},g={},y=Symbol("assign detection");return m[y]=7,"abcdefghijklmnopqrst".split("").forEach(function(x){g[x]=x}),f({},m)[y]!==7||a(f({},g)).join("")!=="abcdefghijklmnopqrst"})?function(m,g){for(var y=c(m),x=arguments.length,T=1,R=l.f,$=u.f;x>T;)for(var O,U=d(arguments[T++]),j=R?p(a(U),R(U)):a(U),q=j.length,H=0;q>H;)O=j[H++],r&&!s($,U,O)||(y[O]=U[O]);return y}:f},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,e,n){"use strict";var r,i=t("../internals/an-object"),s=t("../internals/object-define-properties"),o=t("../internals/enum-bug-keys"),a=t("../internals/hidden-keys"),l=t("../internals/html"),u=t("../internals/document-create-element"),c=t("../internals/shared-key"),d=c("IE_PROTO"),f=function(){},h=function(g){return"<script>"+g+"<\/script>"},p=function(g){g.write(h("")),g.close();var y=g.parentWindow.Object;return g=null,y},m=function(){try{r=new ActiveXObject("htmlfile")}catch{}var g,y;m=typeof document<"u"?document.domain&&r?p(r):((y=u("iframe")).style.display="none",l.appendChild(y),y.src="javascript:",(g=y.contentWindow.document).open(),g.write(h("document.F=Object")),g.close(),g.F):p(r);for(var x=o.length;x--;)delete m.prototype[o[x]];return m()};a[d]=!0,e.exports=Object.create||function(g,y){var x;return g!==null?(f.prototype=i(g),x=new f,f.prototype=null,x[d]=g):x=m(),y===void 0?x:s.f(x,y)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/v8-prototype-define-bug"),s=t("../internals/object-define-property"),o=t("../internals/an-object"),a=t("../internals/to-indexed-object"),l=t("../internals/object-keys");n.f=r&&!i?Object.defineProperties:function(u,c){o(u);for(var d,f=a(c),h=l(c),p=h.length,m=0;p>m;)s.f(u,d=h[m++],f[d]);return u}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/ie8-dom-define"),s=t("../internals/v8-prototype-define-bug"),o=t("../internals/an-object"),a=t("../internals/to-property-key"),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor;n.f=r?s?function(d,f,h){if(o(d),f=a(f),o(h),typeof d=="function"&&f==="prototype"&&"value"in h&&"writable"in h&&!h.writable){var p=c(d,f);p&&p.writable&&(d[f]=h.value,h={configurable:"configurable"in h?h.configurable:p.configurable,enumerable:"enumerable"in h?h.enumerable:p.enumerable,writable:!1})}return u(d,f,h)}:u:function(d,f,h){if(o(d),f=a(f),o(h),i)try{return u(d,f,h)}catch{}if("get"in h||"set"in h)throw new l("Accessors not supported");return"value"in h&&(d[f]=h.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/function-call"),s=t("../internals/object-property-is-enumerable"),o=t("../internals/create-property-descriptor"),a=t("../internals/to-indexed-object"),l=t("../internals/to-property-key"),u=t("../internals/has-own-property"),c=t("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;n.f=r?d:function(f,h){if(f=a(f),h=l(h),c)try{return d(f,h)}catch{}if(u(f,h))return o(!i(s.f,f,h),f[h])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,e,n){"use strict";var r=t("../internals/classof-raw"),i=t("../internals/to-indexed-object"),s=t("../internals/object-get-own-property-names").f,o=t("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(l){return a&&r(l)==="Window"?(function(u){try{return s(u)}catch{return o(a)}})(l):s(i(l))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,e,n){"use strict";var r=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(s){return r(s,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,e,n){"use strict";n.f=Object.getOwnPropertySymbols},{}],313:[function(t,e,n){"use strict";var r=t("../internals/has-own-property"),i=t("../internals/is-callable"),s=t("../internals/to-object"),o=t("../internals/shared-key"),a=t("../internals/correct-prototype-getter"),l=o("IE_PROTO"),u=Object,c=u.prototype;e.exports=a?u.getPrototypeOf:function(d){var f=s(d);if(r(f,l))return f[l];var h=f.constructor;return i(h)&&f instanceof h?h.prototype:f instanceof u?c:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this");e.exports=r({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=t("../internals/has-own-property"),s=t("../internals/to-indexed-object"),o=t("../internals/array-includes").indexOf,a=t("../internals/hidden-keys"),l=r([].push);e.exports=function(u,c){var d,f=s(u),h=0,p=[];for(d in f)!i(a,d)&&i(f,d)&&l(p,d);for(;c.length>h;)i(f,d=c[h++])&&(~o(p,d)||l(p,d));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,e,n){"use strict";var r=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys");e.exports=Object.keys||function(s){return r(s,i)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!r.call({1:2},1);n.f=s?function(o){var a=i(this,o);return!!a&&a.enumerable}:r},{}],318:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this-accessor"),i=t("../internals/an-object"),s=t("../internals/a-possible-prototype");e.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var o,a=!1,l={};try{(o=r(Object.prototype,"__proto__","set"))(l,[]),a=l instanceof Array}catch{}return function(u,c){return i(u),s(c),a?o(u,c):u.__proto__=c,u}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/fails"),s=t("../internals/function-uncurry-this"),o=t("../internals/object-get-prototype-of"),a=t("../internals/object-keys"),l=t("../internals/to-indexed-object"),u=s(t("../internals/object-property-is-enumerable").f),c=s([].push),d=r&&i(function(){var h=Object.create(null);return h[2]=2,!u(h,2)}),f=function(h){return function(p){for(var m,g=l(p),y=a(g),x=d&&o(g)===null,T=y.length,R=0,$=[];T>R;)m=y[R++],r&&!(x?m in g:u(g,m))||c($,h?[m,g[m]]:g[m]);return $}};e.exports={entries:f(!0),values:f(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/is-callable"),s=t("../internals/is-object"),o=TypeError;e.exports=function(a,l){var u,c;if(l==="string"&&i(u=a.toString)&&!s(c=r(u,a))||i(u=a.valueOf)&&!s(c=r(u,a))||l!=="string"&&i(u=a.toString)&&!s(c=r(u,a)))return c;throw new o("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,e,n){"use strict";var r=t("../internals/get-built-in"),i=t("../internals/function-uncurry-this"),s=t("../internals/object-get-own-property-names"),o=t("../internals/object-get-own-property-symbols"),a=t("../internals/an-object"),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(u){var c=s.f(a(u)),d=o.f;return d?l(c,d(u)):c}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,e,n){"use strict";var r=t("../internals/global");e.exports=r},{"../internals/global":274}],323:[function(t,e,n){"use strict";e.exports=function(r){try{return{error:!1,value:r()}}catch(i){return{error:!0,value:i}}}},{}],324:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/promise-native-constructor"),s=t("../internals/is-callable"),o=t("../internals/is-forced"),a=t("../internals/inspect-source"),l=t("../internals/well-known-symbol"),u=t("../internals/engine-is-browser"),c=t("../internals/engine-is-deno"),d=t("../internals/is-pure"),f=t("../internals/engine-v8-version"),h=i&&i.prototype,p=l("species"),m=!1,g=s(r.PromiseRejectionEvent),y=o("Promise",function(){var x=a(i),T=x!==String(i);if(!T&&f===66||d&&(!h.catch||!h.finally))return!0;if(!f||f<51||!/native code/.test(x)){var R=new i(function(O){O(1)}),$=function(O){O(function(){},function(){})};if((R.constructor={})[p]=$,!(m=R.then(function(){})instanceof $))return!0}return!T&&(u||c)&&!g});e.exports={CONSTRUCTOR:y,REJECTION_EVENT:g,SUBCLASSING:m}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,e,n){"use strict";var r=t("../internals/global");e.exports=r.Promise},{"../internals/global":274}],326:[function(t,e,n){"use strict";var r=t("../internals/an-object"),i=t("../internals/is-object"),s=t("../internals/new-promise-capability");e.exports=function(o,a){if(r(o),i(a)&&a.constructor===o)return a;var l=s.f(o);return(0,l.resolve)(a),l.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,e,n){"use strict";var r=t("../internals/promise-native-constructor"),i=t("../internals/check-correctness-of-iteration"),s=t("../internals/promise-constructor-detection").CONSTRUCTOR;e.exports=s||!i(function(o){r.all(o).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,e,n){"use strict";var r=function(){this.head=null,this.tail=null};r.prototype={add:function(i){var s={item:i,next:null},o=this.tail;o?o.next=s:this.head=s,this.tail=s},get:function(){var i=this.head;if(i)return(this.head=i.next)===null&&(this.tail=null),i.item}},e.exports=r},{}],329:[function(t,e,n){"use strict";var r=t("../internals/is-null-or-undefined"),i=TypeError;e.exports=function(s){if(r(s))throw new i("Can't call method on "+s);return s}},{"../internals/is-null-or-undefined":288}],330:[function(t,e,n){"use strict";var r=t("../internals/get-built-in"),i=t("../internals/define-built-in-accessor"),s=t("../internals/well-known-symbol"),o=t("../internals/descriptors"),a=s("species");e.exports=function(l){var u=r(l);o&&u&&!u[a]&&i(u,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,e,n){"use strict";var r=t("../internals/object-define-property").f,i=t("../internals/has-own-property"),s=t("../internals/well-known-symbol")("toStringTag");e.exports=function(o,a,l){o&&!l&&(o=o.prototype),o&&!i(o,s)&&r(o,s,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,e,n){"use strict";var r=t("../internals/shared"),i=t("../internals/uid"),s=r("keys");e.exports=function(o){return s[o]||(s[o]=i(o))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/define-global-property"),s=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=s},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,e,n){"use strict";var r=t("../internals/is-pure"),i=t("../internals/shared-store");(e.exports=function(s,o){return i[s]||(i[s]=o!==void 0?o:{})})("versions",[]).push({version:"3.33.0",mode:r?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,e,n){"use strict";var r=t("../internals/an-object"),i=t("../internals/a-constructor"),s=t("../internals/is-null-or-undefined"),o=t("../internals/well-known-symbol")("species");e.exports=function(a,l){var u,c=r(a).constructor;return c===void 0||s(u=r(c)[o])?l:i(u)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,e,n){"use strict";var r=t("../internals/engine-v8-version"),i=t("../internals/fails"),s=t("../internals/global").String;e.exports=!!Object.getOwnPropertySymbols&&!i(function(){var o=Symbol("symbol detection");return!s(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&r&&r<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/get-built-in"),s=t("../internals/well-known-symbol"),o=t("../internals/define-built-in");e.exports=function(){var a=i("Symbol"),l=a&&a.prototype,u=l&&l.valueOf,c=s("toPrimitive");l&&!l[c]&&o(l,c,function(d){return r(u,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,e,n){"use strict";var r=t("../internals/symbol-constructor-detection");e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,e,n){"use strict";var r,i,s,o,a=t("../internals/global"),l=t("../internals/function-apply"),u=t("../internals/function-bind-context"),c=t("../internals/is-callable"),d=t("../internals/has-own-property"),f=t("../internals/fails"),h=t("../internals/html"),p=t("../internals/array-slice"),m=t("../internals/document-create-element"),g=t("../internals/validate-arguments-length"),y=t("../internals/engine-is-ios"),x=t("../internals/engine-is-node"),T=a.setImmediate,R=a.clearImmediate,$=a.process,O=a.Dispatch,U=a.Function,j=a.MessageChannel,q=a.String,H=0,E={};f(function(){r=a.location});var C=function(_){if(d(E,_)){var w=E[_];delete E[_],w()}},L=function(_){return function(){C(_)}},v=function(_){C(_.data)},b=function(_){a.postMessage(q(_),r.protocol+"//"+r.host)};T&&R||(T=function(_){g(arguments.length,1);var w=c(_)?_:U(_),S=p(arguments,1);return E[++H]=function(){l(w,void 0,S)},i(H),H},R=function(_){delete E[_]},x?i=function(_){$.nextTick(L(_))}:O&&O.now?i=function(_){O.now(L(_))}:j&&!y?(o=(s=new j).port2,s.port1.onmessage=v,i=u(o.postMessage,o)):a.addEventListener&&c(a.postMessage)&&!a.importScripts&&r&&r.protocol!=="file:"&&!f(b)?(i=b,a.addEventListener("message",v,!1)):i="onreadystatechange"in m("script")?function(_){h.appendChild(m("script")).onreadystatechange=function(){h.removeChild(this),C(_)}}:function(_){setTimeout(L(_),0)}),e.exports={set:T,clear:R}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,e,n){"use strict";var r=t("../internals/to-integer-or-infinity"),i=Math.max,s=Math.min;e.exports=function(o,a){var l=r(o);return l<0?i(l+a,0):s(l,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,e,n){"use strict";var r=t("../internals/indexed-object"),i=t("../internals/require-object-coercible");e.exports=function(s){return r(i(s))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,e,n){"use strict";var r=t("../internals/math-trunc");e.exports=function(i){var s=+i;return s!=s||s===0?0:r(s)}},{"../internals/math-trunc":301}],343:[function(t,e,n){"use strict";var r=t("../internals/to-integer-or-infinity"),i=Math.min;e.exports=function(s){return s>0?i(r(s),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,e,n){"use strict";var r=t("../internals/require-object-coercible"),i=Object;e.exports=function(s){return i(r(s))}},{"../internals/require-object-coercible":329}],345:[function(t,e,n){"use strict";var r=t("../internals/function-call"),i=t("../internals/is-object"),s=t("../internals/is-symbol"),o=t("../internals/get-method"),a=t("../internals/ordinary-to-primitive"),l=t("../internals/well-known-symbol"),u=TypeError,c=l("toPrimitive");e.exports=function(d,f){if(!i(d)||s(d))return d;var h,p=o(d,c);if(p){if(f===void 0&&(f="default"),h=r(p,d,f),!i(h)||s(h))return h;throw new u("Can't convert object to primitive value")}return f===void 0&&(f="number"),a(d,f)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,e,n){"use strict";var r=t("../internals/to-primitive"),i=t("../internals/is-symbol");e.exports=function(s){var o=r(s,"string");return i(o)?o:o+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,e,n){"use strict";var r={};r[t("../internals/well-known-symbol")("toStringTag")]="z",e.exports=String(r)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,e,n){"use strict";var r=t("../internals/classof"),i=String;e.exports=function(s){if(r(s)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return i(s)}},{"../internals/classof":236}],349:[function(t,e,n){"use strict";var r=String;e.exports=function(i){try{return r(i)}catch{return"Object"}}},{}],350:[function(t,e,n){"use strict";var r=t("../internals/function-uncurry-this"),i=0,s=Math.random(),o=r(1 .toString);e.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+o(++i+s,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,e,n){"use strict";var r=t("../internals/symbol-constructor-detection");e.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/fails");e.exports=r&&i(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,e,n){"use strict";var r=TypeError;e.exports=function(i,s){if(i<s)throw new r("Not enough arguments");return i}},{}],354:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/is-callable"),s=r.WeakMap;e.exports=i(s)&&/native code/.test(String(s))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,e,n){"use strict";var r=t("../internals/path"),i=t("../internals/has-own-property"),s=t("../internals/well-known-symbol-wrapped"),o=t("../internals/object-define-property").f;e.exports=function(a){var l=r.Symbol||(r.Symbol={});i(l,a)||o(l,a,{value:s.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,e,n){"use strict";var r=t("../internals/well-known-symbol");n.f=r},{"../internals/well-known-symbol":357}],357:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/shared"),s=t("../internals/has-own-property"),o=t("../internals/uid"),a=t("../internals/symbol-constructor-detection"),l=t("../internals/use-symbol-as-uid"),u=r.Symbol,c=i("wks"),d=l?u.for||u:u&&u.withoutSetter||o;e.exports=function(f){return s(c,f)||(c[f]=a&&s(u,f)?u[f]:d("Symbol."+f)),c[f]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").findIndex,s=t("../internals/add-to-unscopables"),o=!0;"findIndex"in[]&&Array(1).findIndex(function(){o=!1}),r({target:"Array",proto:!0,forced:o},{findIndex:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),s("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").find,s=t("../internals/add-to-unscopables"),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r({target:"Array",proto:!0,forced:o},{find:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),s("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-includes").includes,s=t("../internals/fails"),o=t("../internals/add-to-unscopables");r({target:"Array",proto:!0,forced:s(function(){return!Array(1).includes()})},{includes:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),o("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,e,n){"use strict";var r=t("../internals/to-indexed-object"),i=t("../internals/add-to-unscopables"),s=t("../internals/iterators"),o=t("../internals/internal-state"),a=t("../internals/object-define-property").f,l=t("../internals/iterator-define"),u=t("../internals/create-iter-result-object"),c=t("../internals/is-pure"),d=t("../internals/descriptors"),f=o.set,h=o.getterFor("Array Iterator");e.exports=l(Array,"Array",function(m,g){f(this,{type:"Array Iterator",target:r(m),index:0,kind:g})},function(){var m=h(this),g=m.target,y=m.kind,x=m.index++;if(!g||x>=g.length)return m.target=void 0,u(void 0,!0);switch(y){case"keys":return u(x,!1);case"values":return u(g[x],!1)}return u([x,g[x]],!1)},"values");var p=s.Arguments=s.Array;if(i("keys"),i("values"),i("entries"),!c&&d&&p.name!=="values")try{a(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/get-built-in"),s=t("../internals/function-apply"),o=t("../internals/function-call"),a=t("../internals/function-uncurry-this"),l=t("../internals/fails"),u=t("../internals/is-callable"),c=t("../internals/is-symbol"),d=t("../internals/array-slice"),f=t("../internals/get-json-replacer-function"),h=t("../internals/symbol-constructor-detection"),p=String,m=i("JSON","stringify"),g=a(/./.exec),y=a("".charAt),x=a("".charCodeAt),T=a("".replace),R=a(1 .toString),$=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,U=/^[\uDC00-\uDFFF]$/,j=!h||l(function(){var C=i("Symbol")("stringify detection");return m([C])!=="[null]"||m({a:C})!=="{}"||m(Object(C))!=="{}"}),q=l(function(){return m("\uDF06\uD834")!=='"\\udf06\\ud834"'||m("\uDEAD")!=='"\\udead"'}),H=function(C,L){var v=d(arguments),b=f(L);if(u(b)||C!==void 0&&!c(C))return v[1]=function(_,w){if(u(b)&&(w=o(b,this,p(_),w)),!c(w))return w},s(m,null,v)},E=function(C,L,v){var b=y(v,L-1),_=y(v,L+1);return g(O,C)&&!g(U,_)||g(U,C)&&!g(O,b)?"\\u"+R(x(C,0),16):C};m&&r({target:"JSON",stat:!0,arity:3,forced:j||q},{stringify:function(C,L,v){var b=d(arguments),_=s(j?H:m,null,b);return q&&typeof _=="string"?T(_,$,E):_}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,e,n){"use strict";t("../internals/export")({target:"Number",stat:!0},{isNaN:function(r){return r!=r}})},{"../internals/export":259}],364:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/object-assign");r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/symbol-constructor-detection"),s=t("../internals/fails"),o=t("../internals/object-get-own-property-symbols"),a=t("../internals/to-object");r({target:"Object",stat:!0,forced:!i||s(function(){o.f(1)})},{getOwnPropertySymbols:function(l){var u=o.f;return u?u(a(l)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/to-object"),s=t("../internals/object-keys");r({target:"Object",stat:!0,forced:t("../internals/fails")(function(){s(1)})},{keys:function(o){return s(i(o))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/object-to-array").values;r({target:"Object",stat:!0},{values:function(s){return i(s)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),s=t("../internals/a-callable"),o=t("../internals/new-promise-capability"),a=t("../internals/perform"),l=t("../internals/iterate");r({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(u){var c=this,d=o.f(c),f=d.resolve,h=d.reject,p=a(function(){var m=s(c.resolve),g=[],y=0,x=1;l(u,function(T){var R=y++,$=!1;x++,i(m,c,T).then(function(O){$||($=!0,g[R]=O,--x||f(g))},h)}),--x||f(g)});return p.error&&h(p.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/is-pure"),s=t("../internals/promise-constructor-detection").CONSTRUCTOR,o=t("../internals/promise-native-constructor"),a=t("../internals/get-built-in"),l=t("../internals/is-callable"),u=t("../internals/define-built-in"),c=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(f){return this.then(void 0,f)}}),!i&&l(o)){var d=a("Promise").prototype.catch;c.catch!==d&&u(c,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,e,n){"use strict";var r,i,s,o=t("../internals/export"),a=t("../internals/is-pure"),l=t("../internals/engine-is-node"),u=t("../internals/global"),c=t("../internals/function-call"),d=t("../internals/define-built-in"),f=t("../internals/object-set-prototype-of"),h=t("../internals/set-to-string-tag"),p=t("../internals/set-species"),m=t("../internals/a-callable"),g=t("../internals/is-callable"),y=t("../internals/is-object"),x=t("../internals/an-instance"),T=t("../internals/species-constructor"),R=t("../internals/task").set,$=t("../internals/microtask"),O=t("../internals/host-report-errors"),U=t("../internals/perform"),j=t("../internals/queue"),q=t("../internals/internal-state"),H=t("../internals/promise-native-constructor"),E=t("../internals/promise-constructor-detection"),C=t("../internals/new-promise-capability"),L=E.CONSTRUCTOR,v=E.REJECTION_EVENT,b=E.SUBCLASSING,_=q.getterFor("Promise"),w=q.set,S=H&&H.prototype,I=H,F=S,W=u.TypeError,B=u.document,X=u.process,M=C.f,Y=M,k=!!(B&&B.createEvent&&u.dispatchEvent),D=function(de){var we;return!(!y(de)||!g(we=de.then))&&we},z=function(de,we){var ge,Se,Ee,Fe=we.value,Ve=we.state===1,qe=Ve?de.ok:de.fail,ht=de.resolve,ze=de.reject,rt=de.domain;try{qe?(Ve||(we.rejection===2&&ve(we),we.rejection=1),qe===!0?ge=Fe:(rt&&rt.enter(),ge=qe(Fe),rt&&(rt.exit(),Ee=!0)),ge===de.promise?ze(new W("Promise-chain cycle")):(Se=D(ge))?c(Se,ge,ht,ze):ht(ge)):ze(Fe)}catch(Ct){rt&&!Ee&&rt.exit(),ze(Ct)}},J=function(de,we){de.notified||(de.notified=!0,$(function(){for(var ge,Se=de.reactions;ge=Se.get();)z(ge,de);de.notified=!1,we&&!de.rejection&&te(de)}))},ne=function(de,we,ge){var Se,Ee;k?((Se=B.createEvent("Event")).promise=we,Se.reason=ge,Se.initEvent(de,!1,!0),u.dispatchEvent(Se)):Se={promise:we,reason:ge},!v&&(Ee=u["on"+de])?Ee(Se):de==="unhandledrejection"&&O("Unhandled promise rejection",ge)},te=function(de){c(R,u,function(){var we,ge=de.facade,Se=de.value;if(se(de)&&(we=U(function(){l?X.emit("unhandledRejection",Se,ge):ne("unhandledrejection",ge,Se)}),de.rejection=l||se(de)?2:1,we.error))throw we.value})},se=function(de){return de.rejection!==1&&!de.parent},ve=function(de){c(R,u,function(){var we=de.facade;l?X.emit("rejectionHandled",we):ne("rejectionhandled",we,de.value)})},ye=function(de,we,ge){return function(Se){de(we,Se,ge)}},K=function(de,we,ge){de.done||(de.done=!0,ge&&(de=ge),de.value=we,de.state=2,J(de,!0))},ce=function(de,we,ge){if(!de.done){de.done=!0,ge&&(de=ge);try{if(de.facade===we)throw new W("Promise can't be resolved itself");var Se=D(we);Se?$(function(){var Ee={done:!1};try{c(Se,we,ye(ce,Ee,de),ye(K,Ee,de))}catch(Fe){K(Ee,Fe,de)}}):(de.value=we,de.state=1,J(de,!1))}catch(Ee){K({done:!1},Ee,de)}}};if(L&&(F=(I=function(de){x(this,F),m(de),c(r,this);var we=_(this);try{de(ye(ce,we),ye(K,we))}catch(ge){K(we,ge)}}).prototype,(r=function(de){w(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new j,rejection:!1,state:0,value:void 0})}).prototype=d(F,"then",function(de,we){var ge=_(this),Se=M(T(this,I));return ge.parent=!0,Se.ok=!g(de)||de,Se.fail=g(we)&&we,Se.domain=l?X.domain:void 0,ge.state===0?ge.reactions.add(Se):$(function(){z(Se,ge)}),Se.promise}),i=function(){var de=new r,we=_(de);this.promise=de,this.resolve=ye(ce,we),this.reject=ye(K,we)},C.f=M=function(de){return de===I||de===void 0?new i(de):Y(de)},!a&&g(H)&&S!==Object.prototype)){s=S.then,b||d(S,"then",function(de,we){var ge=this;return new I(function(Se,Ee){c(s,ge,Se,Ee)}).then(de,we)},{unsafe:!0});try{delete S.constructor}catch{}f&&f(S,F)}o({global:!0,constructor:!0,wrap:!0,forced:L},{Promise:I}),h(I,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/is-pure"),s=t("../internals/promise-native-constructor"),o=t("../internals/fails"),a=t("../internals/get-built-in"),l=t("../internals/is-callable"),u=t("../internals/species-constructor"),c=t("../internals/promise-resolve"),d=t("../internals/define-built-in"),f=s&&s.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!s&&o(function(){f.finally.call({then:function(){}},function(){})})},{finally:function(p){var m=u(this,a("Promise")),g=l(p);return this.then(g?function(y){return c(m,p()).then(function(){return y})}:p,g?function(y){return c(m,p()).then(function(){throw y})}:p)}}),!i&&l(s)){var h=a("Promise").prototype.finally;f.finally!==h&&d(f,"finally",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,e,n){"use strict";t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),s=t("../internals/a-callable"),o=t("../internals/new-promise-capability"),a=t("../internals/perform"),l=t("../internals/iterate");r({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(u){var c=this,d=o.f(c),f=d.reject,h=a(function(){var p=s(c.resolve);l(u,function(m){i(p,c,m).then(d.resolve,f)})});return h.error&&f(h.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-call"),s=t("../internals/new-promise-capability");r({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(o){var a=s.f(this);return i(a.reject,void 0,o),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/get-built-in"),s=t("../internals/is-pure"),o=t("../internals/promise-native-constructor"),a=t("../internals/promise-constructor-detection").CONSTRUCTOR,l=t("../internals/promise-resolve"),u=i("Promise"),c=s&&!a;r({target:"Promise",stat:!0,forced:s||a},{resolve:function(d){return l(c&&this===u?o:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-uncurry-this"),s=t("../internals/to-absolute-index"),o=RangeError,a=String.fromCharCode,l=String.fromCodePoint,u=i([].join);r({target:"String",stat:!0,arity:1,forced:!!l&&l.length!==1},{fromCodePoint:function(c){for(var d,f=[],h=arguments.length,p=0;h>p;){if(d=+arguments[p++],s(d,1114111)!==d)throw new o(d+" is not a valid code point");f[p]=d<65536?a(d):a(55296+((d-=65536)>>10),d%1024+56320)}return u(f,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/function-uncurry-this"),s=t("../internals/not-a-regexp"),o=t("../internals/require-object-coercible"),a=t("../internals/to-string"),l=t("../internals/correct-is-regexp-logic"),u=i("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(c){return!!~u(a(o(this)),a(s(c)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,e,n){"use strict";t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/global"),s=t("../internals/function-call"),o=t("../internals/function-uncurry-this"),a=t("../internals/is-pure"),l=t("../internals/descriptors"),u=t("../internals/symbol-constructor-detection"),c=t("../internals/fails"),d=t("../internals/has-own-property"),f=t("../internals/object-is-prototype-of"),h=t("../internals/an-object"),p=t("../internals/to-indexed-object"),m=t("../internals/to-property-key"),g=t("../internals/to-string"),y=t("../internals/create-property-descriptor"),x=t("../internals/object-create"),T=t("../internals/object-keys"),R=t("../internals/object-get-own-property-names"),$=t("../internals/object-get-own-property-names-external"),O=t("../internals/object-get-own-property-symbols"),U=t("../internals/object-get-own-property-descriptor"),j=t("../internals/object-define-property"),q=t("../internals/object-define-properties"),H=t("../internals/object-property-is-enumerable"),E=t("../internals/define-built-in"),C=t("../internals/define-built-in-accessor"),L=t("../internals/shared"),v=t("../internals/shared-key"),b=t("../internals/hidden-keys"),_=t("../internals/uid"),w=t("../internals/well-known-symbol"),S=t("../internals/well-known-symbol-wrapped"),I=t("../internals/well-known-symbol-define"),F=t("../internals/symbol-define-to-primitive"),W=t("../internals/set-to-string-tag"),B=t("../internals/internal-state"),X=t("../internals/array-iteration").forEach,M=v("hidden"),Y=B.set,k=B.getterFor("Symbol"),D=Object.prototype,z=i.Symbol,J=z&&z.prototype,ne=i.RangeError,te=i.TypeError,se=i.QObject,ve=U.f,ye=j.f,K=$.f,ce=H.f,de=o([].push),we=L("symbols"),ge=L("op-symbols"),Se=L("wks"),Ee=!se||!se.prototype||!se.prototype.findChild,Fe=function(nt,it,Ge){var bt=ve(D,it);bt&&delete D[it],ye(nt,it,Ge),bt&&nt!==D&&ye(D,it,bt)},Ve=l&&c(function(){return x(ye({},"a",{get:function(){return ye(this,"a",{value:7}).a}})).a!==7})?Fe:ye,qe=function(nt,it){var Ge=we[nt]=x(J);return Y(Ge,{type:"Symbol",tag:nt,description:it}),l||(Ge.description=it),Ge},ht=function(nt,it,Ge){nt===D&&ht(ge,it,Ge),h(nt);var bt=m(it);return h(Ge),d(we,bt)?(Ge.enumerable?(d(nt,M)&&nt[M][bt]&&(nt[M][bt]=!1),Ge=x(Ge,{enumerable:y(0,!1)})):(d(nt,M)||ye(nt,M,y(1,{})),nt[M][bt]=!0),Ve(nt,bt,Ge)):ye(nt,bt,Ge)},ze=function(nt,it){h(nt);var Ge=p(it),bt=T(Ge).concat(tt(Ge));return X(bt,function(ut){l&&!s(rt,Ge,ut)||ht(nt,ut,Ge[ut])}),nt},rt=function(nt){var it=m(nt),Ge=s(ce,this,it);return!(this===D&&d(we,it)&&!d(ge,it))&&(!(Ge||!d(this,it)||!d(we,it)||d(this,M)&&this[M][it])||Ge)},Ct=function(nt,it){var Ge=p(nt),bt=m(it);if(Ge!==D||!d(we,bt)||d(ge,bt)){var ut=ve(Ge,bt);return!ut||!d(we,bt)||d(Ge,M)&&Ge[M][bt]||(ut.enumerable=!0),ut}},et=function(nt){var it=K(p(nt)),Ge=[];return X(it,function(bt){d(we,bt)||d(b,bt)||de(Ge,bt)}),Ge},tt=function(nt){var it=nt===D,Ge=K(it?ge:p(nt)),bt=[];return X(Ge,function(ut){!d(we,ut)||it&&!d(D,ut)||de(bt,we[ut])}),bt};u||(E(J=(z=function(){if(f(J,this))throw new te("Symbol is not a constructor");var nt=arguments.length&&arguments[0]!==void 0?g(arguments[0]):void 0,it=_(nt),Ge=function(bt){this===D&&s(Ge,ge,bt),d(this,M)&&d(this[M],it)&&(this[M][it]=!1);var ut=y(1,bt);try{Ve(this,it,ut)}catch(wt){if(!(wt instanceof ne))throw wt;Fe(this,it,ut)}};return l&&Ee&&Ve(D,it,{configurable:!0,set:Ge}),qe(it,nt)}).prototype,"toString",function(){return k(this).tag}),E(z,"withoutSetter",function(nt){return qe(_(nt),nt)}),H.f=rt,j.f=ht,q.f=ze,U.f=Ct,R.f=$.f=et,O.f=tt,S.f=function(nt){return qe(w(nt),nt)},l&&(C(J,"description",{configurable:!0,get:function(){return k(this).description}}),a||E(D,"propertyIsEnumerable",rt,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:z}),X(T(Se),function(nt){I(nt)}),r({target:"Symbol",stat:!0,forced:!u},{useSetter:function(){Ee=!0},useSimple:function(){Ee=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(nt,it){return it===void 0?x(nt):ze(x(nt),it)},defineProperty:ht,defineProperties:ze,getOwnPropertyDescriptor:Ct}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:et}),F(),W(z,"Symbol"),b[M]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/get-built-in"),s=t("../internals/has-own-property"),o=t("../internals/to-string"),a=t("../internals/shared"),l=t("../internals/symbol-registry-detection"),u=a("string-to-symbol-registry"),c=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(d){var f=o(d);if(s(u,f))return u[f];var h=i("Symbol")(f);return u[f]=h,c[h]=f,h}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,e,n){"use strict";t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/has-own-property"),s=t("../internals/is-symbol"),o=t("../internals/try-to-string"),a=t("../internals/shared"),l=t("../internals/symbol-registry-detection"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(c){if(!s(c))throw new TypeError(o(c)+" is not a symbol");if(i(u,c))return u[c]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,e,n){"use strict";function r(i){return Object.prototype.toString.call(i)}n.isArray=function(i){return Array.isArray?Array.isArray(i):r(i)==="[object Array]"},n.isBoolean=function(i){return typeof i=="boolean"},n.isNull=function(i){return i===null},n.isNullOrUndefined=function(i){return i==null},n.isNumber=function(i){return typeof i=="number"},n.isString=function(i){return typeof i=="string"},n.isSymbol=function(i){return typeof i=="symbol"},n.isUndefined=function(i){return i===void 0},n.isRegExp=function(i){return r(i)==="[object RegExp]"},n.isObject=function(i){return typeof i=="object"&&i!==null},n.isDate=function(i){return r(i)==="[object Date]"},n.isError=function(i){return r(i)==="[object Error]"||i instanceof Error},n.isFunction=function(i){return typeof i=="function"},n.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},n.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,e,n){(function(r){(function(){"use strict";var i=t("elliptic"),s=t("bn.js");e.exports=function(u){return new a(u)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(u){this.curveType=o[u],this.curveType||(this.curveType={name:u}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function l(u,c,d){Array.isArray(u)||(u=u.toArray());var f=new r(u);if(d&&f.length<d){var h=new r(d-f.length);h.fill(0),f=r.concat([h,f])}return c?f.toString(c):f}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(u,c){return this.keys=this.curve.genKeyPair(),this.getPublicKey(u,c)},a.prototype.computeSecret=function(u,c,d){return c=c||"utf8",r.isBuffer(u)||(u=new r(u,c)),l(this.curve.keyFromPublic(u).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},a.prototype.getPublicKey=function(u,c){var d=this.keys.getPublic(c==="compressed",!0);return c==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),l(d,u)},a.prototype.getPrivateKey=function(u){return l(this.keys.getPrivate(),u)},a.prototype.setPublicKey=function(u,c){return c=c||"utf8",r.isBuffer(u)||(u=new r(u,c)),this.keys._importPublic(u),this},a.prototype.setPrivateKey=function(u,c){c=c||"utf8",r.isBuffer(u)||(u=new r(u,c));var d=new s(u);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],386:[function(t,e,n){"use strict";var r=t("inherits"),i=t("md5.js"),s=t("ripemd160"),o=t("sha.js"),a=t("cipher-base");function l(u){a.call(this,"digest"),this._hash=u}r(l,a),l.prototype._update=function(u){this._hash.update(u)},l.prototype._final=function(){return this._hash.digest()},e.exports=function(u){return(u=u.toLowerCase())==="md5"?new i:u==="rmd160"||u==="ripemd160"?new s:new l(o(u))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,e,n){"use strict";var r=t("md5.js");e.exports=function(i){return new r().update(i).digest()}},{"md5.js":450}],388:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./legacy"),s=t("cipher-base"),o=t("safe-buffer").Buffer,a=t("create-hash/md5"),l=t("ripemd160"),u=t("sha.js"),c=o.alloc(128);function d(f,h){s.call(this,"digest"),typeof h=="string"&&(h=o.from(h));var p=f==="sha512"||f==="sha384"?128:64;this._alg=f,this._key=h,h.length>p?h=(f==="rmd160"?new l:u(f)).update(h).digest():h.length<p&&(h=o.concat([h,c],p));for(var m=this._ipad=o.allocUnsafe(p),g=this._opad=o.allocUnsafe(p),y=0;y<p;y++)m[y]=54^h[y],g[y]=92^h[y];this._hash=f==="rmd160"?new l:u(f),this._hash.update(m)}r(d,s),d.prototype._update=function(f){this._hash.update(f)},d.prototype._final=function(){var f=this._hash.digest();return(this._alg==="rmd160"?new l:u(this._alg)).update(this._opad).update(f).digest()},e.exports=function(f,h){return(f=f.toLowerCase())==="rmd160"||f==="ripemd160"?new d("rmd160",h):f==="md5"?new i(a,h):new d(f,h)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,e,n){"use strict";var r=t("inherits"),i=t("safe-buffer").Buffer,s=t("cipher-base"),o=i.alloc(128);function a(l,u){s.call(this,"digest"),typeof u=="string"&&(u=i.from(u)),this._alg=l,this._key=u,u.length>64?u=l(u):u.length<64&&(u=i.concat([u,o],64));for(var c=this._ipad=i.allocUnsafe(64),d=this._opad=i.allocUnsafe(64),f=0;f<64;f++)c[f]=54^u[f],d[f]=92^u[f];this._hash=[c]}r(a,s),a.prototype._update=function(l){this._hash.push(l)},a.prototype._final=function(){var l=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,l]))},e.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,e,n){"use strict";n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=t("randombytes"),n.createHash=n.Hash=t("create-hash"),n.createHmac=n.Hmac=t("create-hmac");var r=t("browserify-sign/algos"),i=Object.keys(r),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);n.getHashes=function(){return s};var o=t("pbkdf2");n.pbkdf2=o.pbkdf2,n.pbkdf2Sync=o.pbkdf2Sync;var a=t("browserify-cipher");n.Cipher=a.Cipher,n.createCipher=a.createCipher,n.Cipheriv=a.Cipheriv,n.createCipheriv=a.createCipheriv,n.Decipher=a.Decipher,n.createDecipher=a.createDecipher,n.Decipheriv=a.Decipheriv,n.createDecipheriv=a.createDecipheriv,n.getCiphers=a.getCiphers,n.listCiphers=a.listCiphers;var l=t("diffie-hellman");n.DiffieHellmanGroup=l.DiffieHellmanGroup,n.createDiffieHellmanGroup=l.createDiffieHellmanGroup,n.getDiffieHellman=l.getDiffieHellman,n.createDiffieHellman=l.createDiffieHellman,n.DiffieHellman=l.DiffieHellman;var u=t("browserify-sign");n.createSign=u.createSign,n.Sign=u.Sign,n.createVerify=u.createVerify,n.Verify=u.Verify,n.createECDH=t("create-ecdh");var c=t("public-encrypt");n.publicEncrypt=c.publicEncrypt,n.privateEncrypt=c.privateEncrypt,n.publicDecrypt=c.publicDecrypt,n.privateDecrypt=c.privateDecrypt;var d=t("randomfill");n.randomFill=d.randomFill,n.randomFillSync=d.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,e,n){"use strict";(function(r,i){typeof n=="object"&&e!==void 0?e.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs=i()})(void 0,function(){var r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var b=["th","st","nd","rd"],_=v%100;return"["+v+(b[(_-20)%10]||b[_]||b[0])+"]"}},T=function(v,b,_){var w=String(v);return!w||w.length>=b?v:""+Array(b+1-w.length).join(_)+v},R={s:T,z:function(v){var b=-v.utcOffset(),_=Math.abs(b),w=Math.floor(_/60),S=_%60;return(b<=0?"+":"-")+T(w,2,"0")+":"+T(S,2,"0")},m:function v(b,_){if(b.date()<_.date())return-v(_,b);var w=12*(_.year()-b.year())+(_.month()-b.month()),S=b.clone().add(w,d),I=_-S<0,F=b.clone().add(w+(I?-1:1),d);return+(-(w+(_-S)/(I?S-F:F-S))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:d,y:h,w:c,d:u,D:p,h:l,m:a,s:o,ms:s,Q:f}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},$="en",O={};O[$]=x;var U="$isDayjsObject",j=function(v){return v instanceof C||!(!v||!v[U])},q=function v(b,_,w){var S;if(!b)return $;if(typeof b=="string"){var I=b.toLowerCase();O[I]&&(S=I),_&&(O[I]=_,S=I);var F=b.split("-");if(!S&&F.length>1)return v(F[0])}else{var W=b.name;O[W]=b,S=W}return!w&&S&&($=S),S||!w&&$},H=function(v,b){if(j(v))return v.clone();var _=typeof b=="object"?b:{};return _.date=v,_.args=arguments,new C(_)},E=R;E.l=q,E.i=j,E.w=function(v,b){return H(v,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var C=(function(){function v(_){this.$L=q(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[U]=!0}var b=v.prototype;return b.parse=function(_){this.$d=(function(w){var S=w.date,I=w.utc;if(S===null)return new Date(NaN);if(E.u(S))return new Date;if(S instanceof Date)return new Date(S);if(typeof S=="string"&&!/Z$/i.test(S)){var F=S.match(g);if(F){var W=F[2]-1||0,B=(F[7]||"0").substring(0,3);return I?new Date(Date.UTC(F[1],W,F[3]||1,F[4]||0,F[5]||0,F[6]||0,B)):new Date(F[1],W,F[3]||1,F[4]||0,F[5]||0,F[6]||0,B)}}return new Date(S)})(_),this.init()},b.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},b.$utils=function(){return E},b.isValid=function(){return this.$d.toString()!==m},b.isSame=function(_,w){var S=H(_);return this.startOf(w)<=S&&S<=this.endOf(w)},b.isAfter=function(_,w){return H(_)<this.startOf(w)},b.isBefore=function(_,w){return this.endOf(w)<H(_)},b.$g=function(_,w,S){return E.u(_)?this[w]:this.set(S,_)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(_,w){var S=this,I=!!E.u(w)||w,F=E.p(_),W=function(J,ne){var te=E.w(S.$u?Date.UTC(S.$y,ne,J):new Date(S.$y,ne,J),S);return I?te:te.endOf(u)},B=function(J,ne){return E.w(S.toDate()[J].apply(S.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(ne)),S)},X=this.$W,M=this.$M,Y=this.$D,k="set"+(this.$u?"UTC":"");switch(F){case h:return I?W(1,0):W(31,11);case d:return I?W(1,M):W(0,M+1);case c:var D=this.$locale().weekStart||0,z=(X<D?X+7:X)-D;return W(I?Y-z:Y+(6-z),M);case u:case p:return B(k+"Hours",0);case l:return B(k+"Minutes",1);case a:return B(k+"Seconds",2);case o:return B(k+"Milliseconds",3);default:return this.clone()}},b.endOf=function(_){return this.startOf(_,!1)},b.$set=function(_,w){var S,I=E.p(_),F="set"+(this.$u?"UTC":""),W=(S={},S[u]=F+"Date",S[p]=F+"Date",S[d]=F+"Month",S[h]=F+"FullYear",S[l]=F+"Hours",S[a]=F+"Minutes",S[o]=F+"Seconds",S[s]=F+"Milliseconds",S)[I],B=I===u?this.$D+(w-this.$W):w;if(I===d||I===h){var X=this.clone().set(p,1);X.$d[W](B),X.init(),this.$d=X.set(p,Math.min(this.$D,X.daysInMonth())).$d}else W&&this.$d[W](B);return this.init(),this},b.set=function(_,w){return this.clone().$set(_,w)},b.get=function(_){return this[E.p(_)]()},b.add=function(_,w){var S,I=this;_=Number(_);var F=E.p(w),W=function(M){var Y=H(I);return E.w(Y.date(Y.date()+Math.round(M*_)),I)};if(F===d)return this.set(d,this.$M+_);if(F===h)return this.set(h,this.$y+_);if(F===u)return W(1);if(F===c)return W(7);var B=(S={},S[a]=r,S[l]=i,S[o]=1e3,S)[F]||1,X=this.$d.getTime()+_*B;return E.w(X,this)},b.subtract=function(_,w){return this.add(-1*_,w)},b.format=function(_){var w=this,S=this.$locale();if(!this.isValid())return S.invalidDate||m;var I=_||"YYYY-MM-DDTHH:mm:ssZ",F=E.z(this),W=this.$H,B=this.$m,X=this.$M,M=S.weekdays,Y=S.months,k=S.meridiem,D=function(ne,te,se,ve){return ne&&(ne[te]||ne(w,I))||se[te].slice(0,ve)},z=function(ne){return E.s(W%12||12,ne,"0")},J=k||function(ne,te,se){var ve=ne<12?"AM":"PM";return se?ve.toLowerCase():ve};return I.replace(y,function(ne,te){return te||(function(se){switch(se){case"YY":return String(w.$y).slice(-2);case"YYYY":return E.s(w.$y,4,"0");case"M":return X+1;case"MM":return E.s(X+1,2,"0");case"MMM":return D(S.monthsShort,X,Y,3);case"MMMM":return D(Y,X);case"D":return w.$D;case"DD":return E.s(w.$D,2,"0");case"d":return String(w.$W);case"dd":return D(S.weekdaysMin,w.$W,M,2);case"ddd":return D(S.weekdaysShort,w.$W,M,3);case"dddd":return M[w.$W];case"H":return String(W);case"HH":return E.s(W,2,"0");case"h":return z(1);case"hh":return z(2);case"a":return J(W,B,!0);case"A":return J(W,B,!1);case"m":return String(B);case"mm":return E.s(B,2,"0");case"s":return String(w.$s);case"ss":return E.s(w.$s,2,"0");case"SSS":return E.s(w.$ms,3,"0");case"Z":return F}return null})(ne)||F.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(_,w,S){var I,F=this,W=E.p(w),B=H(_),X=(B.utcOffset()-this.utcOffset())*r,M=this-B,Y=function(){return E.m(F,B)};switch(W){case h:I=Y()/12;break;case d:I=Y();break;case f:I=Y()/3;break;case c:I=(M-X)/6048e5;break;case u:I=(M-X)/864e5;break;case l:I=M/i;break;case a:I=M/r;break;case o:I=M/1e3;break;default:I=M}return S?I:E.a(I)},b.daysInMonth=function(){return this.endOf(d).$D},b.$locale=function(){return O[this.$L]},b.locale=function(_,w){if(!_)return this.$L;var S=this.clone(),I=q(_,w,!0);return I&&(S.$L=I),S},b.clone=function(){return E.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},v})(),L=C.prototype;return H.prototype=L,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",h],["$D",p]].forEach(function(v){L[v[1]]=function(b){return this.$g(b,v[0],v[1])}}),H.extend=function(v,b){return v.$i||(v(b,C,H),v.$i=!0),H},H.locale=q,H.isDayjs=j,H.unix=function(v){return H(1e3*v)},H.en=O[$],H.Ls=O,H.p={},H})},{}],392:[function(t,e,n){"use strict";(function(r,i){typeof n=="object"&&e!==void 0?e.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=i()})(void 0,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d\d/,o=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},u=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(y){this[g]=+y}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=(function(y){if(!y||y==="Z")return 0;var x=y.match(/([+-]|\d\d)/g),T=60*x[1]+(+x[2]||0);return T===0?0:x[0]==="+"?-T:T})(g)}],f=function(g){var y=l[g];return y&&(y.indexOf?y:y.s.concat(y.f))},h=function(g,y){var x,T=l.meridiem;if(T){for(var R=1;R<=24;R+=1)if(g.indexOf(T(R,0,y))>-1){x=R>12;break}}else x=g===(y?"pm":"PM");return x},p={A:[a,function(g){this.afternoon=h(g,!1)}],a:[a,function(g){this.afternoon=h(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[s,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[s,c("day")],Do:[a,function(g){var y=l.ordinal,x=g.match(/\d+/);if(this.day=x[0],y)for(var T=1;T<=31;T+=1)y(T).replace(/\[|\]/g,"")===g&&(this.day=T)}],M:[o,c("month")],MM:[s,c("month")],MMM:[a,function(g){var y=f("months"),x=(f("monthsShort")||y.map(function(T){return T.slice(0,3)})).indexOf(g)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[a,function(g){var y=f("months").indexOf(g)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,c("year")],YY:[s,function(g){this.year=u(g)}],YYYY:[/\d{4}/,c("year")],Z:d,ZZ:d};function m(g){var y,x;y=g,x=l&&l.formats;for(var T=(g=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,E,C){var L=C&&C.toUpperCase();return E||x[C]||r[C]||x[L].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,b,_){return b||_.slice(1)})})).match(i),R=T.length,$=0;$<R;$+=1){var O=T[$],U=p[O],j=U&&U[0],q=U&&U[1];T[$]=q?{regex:j,parser:q}:O.replace(/^\[|\]$/g,"")}return function(H){for(var E={},C=0,L=0;C<R;C+=1){var v=T[C];if(typeof v=="string")L+=v.length;else{var b=v.regex,_=v.parser,w=H.slice(L),S=b.exec(w)[0];_.call(E,S),H=H.replace(S,"")}}return(function(I){var F=I.afternoon;if(F!==void 0){var W=I.hours;F?W<12&&(I.hours+=12):W===12&&(I.hours=0),delete I.afternoon}})(E),E}}return function(g,y,x){x.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(u=g.parseTwoDigitYear);var T=y.prototype,R=T.parse;T.parse=function($){var O=$.date,U=$.utc,j=$.args;this.$u=U;var q=j[1];if(typeof q=="string"){var H=j[2]===!0,E=j[3]===!0,C=H||E,L=j[2];E&&(L=j[2]),l=this.$locale(),!H&&L&&(l=x.Ls[L]),this.$d=(function(w,S,I){try{if(["x","X"].indexOf(S)>-1)return new Date((S==="X"?1e3:1)*w);var F=m(S)(w),W=F.year,B=F.month,X=F.day,M=F.hours,Y=F.minutes,k=F.seconds,D=F.milliseconds,z=F.zone,J=new Date,ne=X||(W||B?1:J.getDate()),te=W||J.getFullYear(),se=0;W&&!B||(se=B>0?B-1:J.getMonth());var ve=M||0,ye=Y||0,K=k||0,ce=D||0;return z?new Date(Date.UTC(te,se,ne,ve,ye,K,ce+60*z.offset*1e3)):I?new Date(Date.UTC(te,se,ne,ve,ye,K,ce)):new Date(te,se,ne,ve,ye,K,ce)}catch{return new Date("")}})(O,q,U),this.init(),L&&L!==!0&&(this.$L=this.locale(L).$L),C&&O!=this.format(q)&&(this.$d=new Date("")),l={}}else if(q instanceof Array)for(var v=q.length,b=1;b<=v;b+=1){j[1]=q[b-1];var _=x.apply(this,j);if(_.isValid()){this.$d=_.$d,this.$L=_.$L,this.init();break}b===v&&(this.$d=new Date(""))}else R.call(this,$)}}})},{}],393:[function(t,e,n){"use strict";(function(r,i){typeof n=="object"&&e!==void 0?e.exports=i():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_utc=i()})(void 0,function(){var r="minute",i=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(o,a,l){var u=a.prototype;l.utc=function(g){var y={date:g,utc:!0,args:arguments};return new a(y)},u.utc=function(g){var y=l(this.toDate(),{locale:this.$L,utc:!0});return g?y.add(this.utcOffset(),r):y},u.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var c=u.parse;u.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var d=u.init;u.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=u.utcOffset;u.utcOffset=function(g,y){var x=this.$utils().u;if(x(g))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=(function(O){O===void 0&&(O="");var U=O.match(i);if(!U)return null;var j=(""+U[0]).match(s)||["-",0,0],q=j[0],H=60*+j[1]+ +j[2];return H===0?0:q==="+"?H:-H})(g))===null)return this;var T=Math.abs(g)<=16?60*g:g,R=this;if(y)return R.$offset=T,R.$u=g===0,R;if(g!==0){var $=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(R=this.local().add(T+$,r)).$offset=T,R.$x.$localOffset=$}else R=this.utc();return R};var h=u.format;u.format=function(g){var y=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,y)},u.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var p=u.toDate;u.toDate=function(g){return g==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=u.diff;u.diff=function(g,y,x){if(g&&this.$u===g.$u)return m.call(this,g,y,x);var T=this.local(),R=l(g).local();return m.call(T,R,y,x)}}})},{}],394:[function(t,e,n){"use strict";n.utils=t("./des/utils"),n.Cipher=t("./des/cipher"),n.DES=t("./des/des"),n.CBC=t("./des/cbc"),n.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits"),s={};function o(a){r.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var l=0;l<this.iv.length;l++)this.iv[l]=a[l]}n.instantiate=function(a){function l(f){a.call(this,f),this._cbcInit()}i(l,a);for(var u=Object.keys(s),c=0;c<u.length;c++){var d=u[c];l.prototype[d]=s[d]}return l.create=function(f){return new l(f)},l},s._cbcInit=function(){var a=new o(this.options.iv);this._cbcState=a},s._update=function(a,l,u,c){var d=this._cbcState,f=this.constructor.super_.prototype,h=d.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)h[p]^=a[l+p];for(f._update.call(this,h,0,u,c),p=0;p<this.blockSize;p++)h[p]=u[c+p]}else{for(f._update.call(this,a,l,u,c),p=0;p<this.blockSize;p++)u[c+p]^=h[p];for(p=0;p<this.blockSize;p++)h[p]=a[l+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,e,n){"use strict";var r=t("minimalistic-assert");function i(s){this.options=s,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=s.padding!==!1}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(s){return s.length===0?[]:this.type==="decrypt"?this._updateDecrypt(s):this._updateEncrypt(s)},i.prototype._buffer=function(s,o){for(var a=Math.min(this.buffer.length-this.bufferOff,s.length-o),l=0;l<a;l++)this.buffer[this.bufferOff+l]=s[o+l];return this.bufferOff+=a,a},i.prototype._flushBuffer=function(s,o){return this._update(this.buffer,0,s,o),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(s){var o=0,a=0,l=(this.bufferOff+s.length)/this.blockSize|0,u=new Array(l*this.blockSize);this.bufferOff!==0&&(o+=this._buffer(s,o),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(u,a)));for(var c=s.length-(s.length-o)%this.blockSize;o<c;o+=this.blockSize)this._update(s,o,u,a),a+=this.blockSize;for(;o<s.length;o++,this.bufferOff++)this.buffer[this.bufferOff]=s[o];return u},i.prototype._updateDecrypt=function(s){for(var o=0,a=0,l=Math.ceil((this.bufferOff+s.length)/this.blockSize)-1,u=new Array(l*this.blockSize);l>0;l--)o+=this._buffer(s,o),a+=this._flushBuffer(u,a);return o+=this._buffer(s,o),u},i.prototype.final=function(s){var o,a;return s&&(o=this.update(s)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),o?o.concat(a):a},i.prototype._pad=function(s,o){if(o===0)return!1;for(;o<s.length;)s[o++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var s=new Array(this.blockSize);return this._update(this.buffer,0,s,0),s},i.prototype._unpad=function(s){return s},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var s=new Array(this.blockSize);return this._flushBuffer(s,0),this._unpad(s)}},{"minimalistic-assert":453}],397:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits"),s=t("./utils"),o=t("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function l(c){o.call(this,c);var d=new a;this._desState=d,this.deriveKeys(d,c.key)}i(l,o),e.exports=l,l.create=function(c){return new l(c)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(c,d){c.keys=new Array(32),r.equal(d.length,this.blockSize,"Invalid key length");var f=s.readUInt32BE(d,0),h=s.readUInt32BE(d,4);s.pc1(f,h,c.tmp,0),f=c.tmp[0],h=c.tmp[1];for(var p=0;p<c.keys.length;p+=2){var m=u[p>>>1];f=s.r28shl(f,m),h=s.r28shl(h,m),s.pc2(f,h,c.keys,p)}},l.prototype._update=function(c,d,f,h){var p=this._desState,m=s.readUInt32BE(c,d),g=s.readUInt32BE(c,d+4);s.ip(m,g,p.tmp,0),m=p.tmp[0],g=p.tmp[1],this.type==="encrypt"?this._encrypt(p,m,g,p.tmp,0):this._decrypt(p,m,g,p.tmp,0),m=p.tmp[0],g=p.tmp[1],s.writeUInt32BE(f,m,h),s.writeUInt32BE(f,g,h+4)},l.prototype._pad=function(c,d){if(this.padding===!1)return!1;for(var f=c.length-d,h=d;h<c.length;h++)c[h]=f;return!0},l.prototype._unpad=function(c){if(this.padding===!1)return c;for(var d=c[c.length-1],f=c.length-d;f<c.length;f++)r.equal(c[f],d);return c.slice(0,c.length-d)},l.prototype._encrypt=function(c,d,f,h,p){for(var m=d,g=f,y=0;y<c.keys.length;y+=2){var x=c.keys[y],T=c.keys[y+1];s.expand(g,c.tmp,0),x^=c.tmp[0],T^=c.tmp[1];var R=s.substitute(x,T),$=g;g=(m^s.permute(R))>>>0,m=$}s.rip(g,m,h,p)},l.prototype._decrypt=function(c,d,f,h,p){for(var m=f,g=d,y=c.keys.length-2;y>=0;y-=2){var x=c.keys[y],T=c.keys[y+1];s.expand(m,c.tmp,0),x^=c.tmp[0],T^=c.tmp[1];var R=s.substitute(x,T),$=m;m=(g^s.permute(R))>>>0,g=$}s.rip(m,g,h,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits"),s=t("./cipher"),o=t("./des");function a(u,c){r.equal(c.length,24,"Invalid key length");var d=c.slice(0,8),f=c.slice(8,16),h=c.slice(16,24);this.ciphers=u==="encrypt"?[o.create({type:"encrypt",key:d}),o.create({type:"decrypt",key:f}),o.create({type:"encrypt",key:h})]:[o.create({type:"decrypt",key:h}),o.create({type:"encrypt",key:f}),o.create({type:"decrypt",key:d})]}function l(u){s.call(this,u);var c=new a(this.type,this.options.key);this._edeState=c}i(l,s),e.exports=l,l.create=function(u){return new l(u)},l.prototype._update=function(u,c,d,f){var h=this._edeState;h.ciphers[0]._update(u,c,d,f),h.ciphers[1]._update(d,f,d,f),h.ciphers[2]._update(d,f,d,f)},l.prototype._pad=o.prototype._pad,l.prototype._unpad=o.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,e,n){"use strict";n.readUInt32BE=function(o,a){return(o[0+a]<<24|o[1+a]<<16|o[2+a]<<8|o[3+a])>>>0},n.writeUInt32BE=function(o,a,l){o[0+l]=a>>>24,o[1+l]=a>>>16&255,o[2+l]=a>>>8&255,o[3+l]=255&a},n.ip=function(o,a,l,u){for(var c=0,d=0,f=6;f>=0;f-=2){for(var h=0;h<=24;h+=8)c<<=1,c|=a>>>h+f&1;for(h=0;h<=24;h+=8)c<<=1,c|=o>>>h+f&1}for(f=6;f>=0;f-=2){for(h=1;h<=25;h+=8)d<<=1,d|=a>>>h+f&1;for(h=1;h<=25;h+=8)d<<=1,d|=o>>>h+f&1}l[u+0]=c>>>0,l[u+1]=d>>>0},n.rip=function(o,a,l,u){for(var c=0,d=0,f=0;f<4;f++)for(var h=24;h>=0;h-=8)c<<=1,c|=a>>>h+f&1,c<<=1,c|=o>>>h+f&1;for(f=4;f<8;f++)for(h=24;h>=0;h-=8)d<<=1,d|=a>>>h+f&1,d<<=1,d|=o>>>h+f&1;l[u+0]=c>>>0,l[u+1]=d>>>0},n.pc1=function(o,a,l,u){for(var c=0,d=0,f=7;f>=5;f--){for(var h=0;h<=24;h+=8)c<<=1,c|=a>>h+f&1;for(h=0;h<=24;h+=8)c<<=1,c|=o>>h+f&1}for(h=0;h<=24;h+=8)c<<=1,c|=a>>h+f&1;for(f=1;f<=3;f++){for(h=0;h<=24;h+=8)d<<=1,d|=a>>h+f&1;for(h=0;h<=24;h+=8)d<<=1,d|=o>>h+f&1}for(h=0;h<=24;h+=8)d<<=1,d|=o>>h+f&1;l[u+0]=c>>>0,l[u+1]=d>>>0},n.r28shl=function(o,a){return o<<a&268435455|o>>>28-a};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(o,a,l,u){for(var c=0,d=0,f=r.length>>>1,h=0;h<f;h++)c<<=1,c|=o>>>r[h]&1;for(h=f;h<r.length;h++)d<<=1,d|=a>>>r[h]&1;l[u+0]=c>>>0,l[u+1]=d>>>0},n.expand=function(o,a,l){var u=0,c=0;u=(1&o)<<5|o>>>27;for(var d=23;d>=15;d-=4)u<<=6,u|=o>>>d&63;for(d=11;d>=3;d-=4)c|=o>>>d&63,c<<=6;c|=(31&o)<<1|o>>>31,a[l+0]=u>>>0,a[l+1]=c>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(o,a){for(var l=0,u=0;u<4;u++)l<<=4,l|=i[64*u+(o>>>18-6*u&63)];for(u=0;u<4;u++)l<<=4,l|=i[256+64*u+(a>>>18-6*u&63)];return l>>>0};var s=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(o){for(var a=0,l=0;l<s.length;l++)a<<=1,a|=o>>>s[l]&1;return a>>>0},n.padSplit=function(o,a,l){for(var u=o.toString(2);u.length<a;)u="0"+u;for(var c=[],d=0;d<a;d+=l)c.push(u.slice(d,d+l));return c.join(" ")}},{}],400:[function(t,e,n){(function(r){(function(){"use strict";var i=t("./lib/generatePrime"),s=t("./lib/primes.json"),o=t("./lib/dh"),a={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(l){var u=new r(s[l].prime,"hex"),c=new r(s[l].gen,"hex");return new o(u,c)},n.createDiffieHellman=n.DiffieHellman=function l(u,c,d,f){return r.isBuffer(c)||a[c]===void 0?l(u,"binary",c,d):(c=c||"binary",f=f||"binary",d=d||new r([2]),r.isBuffer(d)||(d=new r(d,f)),typeof u=="number"?new o(i(u,d),d,!0):(r.isBuffer(u)||(u=new r(u,c)),new o(u,d,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,e,n){(function(r){(function(){"use strict";var i=t("bn.js"),s=new(t("miller-rabin")),o=new i(24),a=new i(11),l=new i(10),u=new i(3),c=new i(7),d=t("./generatePrime"),f=t("randombytes");function h(x,T){return T=T||"utf8",r.isBuffer(x)||(x=new r(x,T)),this._pub=new i(x),this}function p(x,T){return T=T||"utf8",r.isBuffer(x)||(x=new r(x,T)),this._priv=new i(x),this}e.exports=g;var m={};function g(x,T,R){this.setGenerator(T),this.__prime=new i(x),this._prime=i.mont(this.__prime),this._primeLen=x.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=h,this.setPrivateKey=p):this._primeCode=8}function y(x,T){var R=new r(x.toArray());return T?R.toString(T):R}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(x,T){var R=T.toString("hex"),$=[R,x.toString(16)].join("_");if($ in m)return m[$];var O,U=0;if(x.isEven()||!d.simpleSieve||!d.fermatTest(x)||!s.test(x))return U+=1,U+=R==="02"||R==="05"?8:4,m[$]=U,U;switch(s.test(x.shrn(1))||(U+=2),R){case"02":x.mod(o).cmp(a)&&(U+=8);break;case"05":(O=x.mod(l)).cmp(u)&&O.cmp(c)&&(U+=8);break;default:U+=4}return m[$]=U,U})(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new i(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(x){var T=(x=(x=new i(x)).toRed(this._prime)).redPow(this._priv).fromRed(),R=new r(T.toArray()),$=this.getPrime();if(R.length<$.length){var O=new r($.length-R.length);O.fill(0),R=r.concat([O,R])}return R},g.prototype.getPublicKey=function(x){return y(this._pub,x)},g.prototype.getPrivateKey=function(x){return y(this._priv,x)},g.prototype.getPrime=function(x){return y(this.__prime,x)},g.prototype.getGenerator=function(x){return y(this._gen,x)},g.prototype.setGenerator=function(x,T){return T=T||"utf8",r.isBuffer(x)||(x=new r(x,T)),this.__gen=x,this._gen=new i(x),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,e,n){"use strict";var r=t("randombytes");e.exports=x,x.simpleSieve=g,x.fermatTest=y;var i=t("bn.js"),s=new i(24),o=new(t("miller-rabin")),a=new i(1),l=new i(2),u=new i(5),c=(new i(16),new i(8),new i(10)),d=new i(3),f=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function m(){if(p!==null)return p;var T=[];T[0]=2;for(var R=1,$=3;$<1048576;$+=2){for(var O=Math.ceil(Math.sqrt($)),U=0;U<R&&T[U]<=O&&$%T[U]!=0;U++);R!==U&&T[U]<=O||(T[R++]=$)}return p=T,T}function g(T){for(var R=m(),$=0;$<R.length;$++)if(T.modn(R[$])===0)return T.cmpn(R[$])===0;return!0}function y(T){var R=i.mont(T);return l.toRed(R).redPow(T.subn(1)).fromRed().cmpn(1)===0}function x(T,R){if(T<16)return new i(R===2||R===5?[140,123]:[140,39]);var $,O;for(R=new i(R);;){for($=new i(r(Math.ceil(T/8)));$.bitLength()>T;)$.ishrn(1);if($.isEven()&&$.iadd(a),$.testn(1)||$.iadd(l),R.cmp(l)){if(!R.cmp(u))for(;$.mod(c).cmp(d);)$.iadd(h)}else for(;$.mod(s).cmp(f);)$.iadd(h);if(g(O=$.shrn(1))&&g($)&&y(O)&&y($)&&o.test(O)&&o.test($))return $}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,e,n){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],405:[function(t,e,n){"use strict";var r=n;r.version=t("../package.json").version,r.utils=t("./elliptic/utils"),r.rand=t("brorand"),r.curve=t("./elliptic/curve"),r.curves=t("./elliptic/curves"),r.ec=t("./elliptic/ec"),r.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils"),s=i.getNAF,o=i.getJSF,a=i.assert;function l(c,d){this.type=c,this.p=new r(d.p,16),this.red=d.prime?r.red(d.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=d.n&&new r(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var f=this.n&&this.p.div(this.n);!f||f.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(c,d){this.curve=c,this.type=d,this.precomputed=null}e.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(c,d){a(c.precomputed);var f=c._getDoubles(),h=s(d,1,this._bitLength),p=(1<<f.step+1)-(f.step%2==0?2:1);p/=3;var m,g,y=[];for(m=0;m<h.length;m+=f.step){g=0;for(var x=m+f.step-1;x>=m;x--)g=(g<<1)+h[x];y.push(g)}for(var T=this.jpoint(null,null,null),R=this.jpoint(null,null,null),$=p;$>0;$--){for(m=0;m<y.length;m++)(g=y[m])===$?R=R.mixedAdd(f.points[m]):g===-$&&(R=R.mixedAdd(f.points[m].neg()));T=T.add(R)}return T.toP()},l.prototype._wnafMul=function(c,d){var f=4,h=c._getNAFPoints(f);f=h.wnd;for(var p=h.points,m=s(d,f,this._bitLength),g=this.jpoint(null,null,null),y=m.length-1;y>=0;y--){for(var x=0;y>=0&&m[y]===0;y--)x++;if(y>=0&&x++,g=g.dblp(x),y<0)break;var T=m[y];a(T!==0),g=c.type==="affine"?T>0?g.mixedAdd(p[T-1>>1]):g.mixedAdd(p[-T-1>>1].neg()):T>0?g.add(p[T-1>>1]):g.add(p[-T-1>>1].neg())}return c.type==="affine"?g.toP():g},l.prototype._wnafMulAdd=function(c,d,f,h,p){var m,g,y,x=this._wnafT1,T=this._wnafT2,R=this._wnafT3,$=0;for(m=0;m<h;m++){var O=(y=d[m])._getNAFPoints(c);x[m]=O.wnd,T[m]=O.points}for(m=h-1;m>=1;m-=2){var U=m-1,j=m;if(x[U]===1&&x[j]===1){var q=[d[U],null,null,d[j]];d[U].y.cmp(d[j].y)===0?(q[1]=d[U].add(d[j]),q[2]=d[U].toJ().mixedAdd(d[j].neg())):d[U].y.cmp(d[j].y.redNeg())===0?(q[1]=d[U].toJ().mixedAdd(d[j]),q[2]=d[U].add(d[j].neg())):(q[1]=d[U].toJ().mixedAdd(d[j]),q[2]=d[U].toJ().mixedAdd(d[j].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],E=o(f[U],f[j]);for($=Math.max(E[0].length,$),R[U]=new Array($),R[j]=new Array($),g=0;g<$;g++){var C=0|E[0][g],L=0|E[1][g];R[U][g]=H[3*(C+1)+(L+1)],R[j][g]=0,T[U]=q}}else R[U]=s(f[U],x[U],this._bitLength),R[j]=s(f[j],x[j],this._bitLength),$=Math.max(R[U].length,$),$=Math.max(R[j].length,$)}var v=this.jpoint(null,null,null),b=this._wnafT4;for(m=$;m>=0;m--){for(var _=0;m>=0;){var w=!0;for(g=0;g<h;g++)b[g]=0|R[g][m],b[g]!==0&&(w=!1);if(!w)break;_++,m--}if(m>=0&&_++,v=v.dblp(_),m<0)break;for(g=0;g<h;g++){var S=b[g];S!==0&&(S>0?y=T[g][S-1>>1]:S<0&&(y=T[g][-S-1>>1].neg()),v=y.type==="affine"?v.mixedAdd(y):v.add(y))}}for(m=0;m<h;m++)T[m]=null;return p?v:v.toP()},l.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(c,d){c=i.toArray(c,d);var f=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1==2*f)return c[0]===6?a(c[c.length-1]%2==0):c[0]===7&&a(c[c.length-1]%2==1),this.point(c.slice(1,1+f),c.slice(1+f,1+2*f));if((c[0]===2||c[0]===3)&&c.length-1===f)return this.pointFromX(c.slice(1,1+f),c[0]===3);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(c){return this.encode(c,!0)},u.prototype._encode=function(c){var d=this.curve.p.byteLength(),f=this.getX().toArray("be",d);return c?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",d))},u.prototype.encode=function(c,d){return i.encode(this._encode(d),c)},u.prototype.precompute=function(c){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,c),d.beta=this._getBeta(),this.precomputed=d,this},u.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((c.bitLength()+1)/d.step)},u.prototype._getDoubles=function(c,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],h=this,p=0;p<d;p+=c){for(var m=0;m<c;m++)h=h.dbl();f.push(h)}return{step:c,points:f}},u.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],f=(1<<c)-1,h=f===1?null:this.dbl(),p=1;p<f;p++)d[p]=d[p-1].add(h);return{wnd:c,points:d}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(c){for(var d=this,f=0;f<c;f++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(t,e,n){"use strict";var r=t("../utils"),i=t("bn.js"),s=t("inherits"),o=t("./base"),a=r.assert;function l(c){this.twisted=(0|c.a)!=1,this.mOneA=this.twisted&&(0|c.a)==-1,this.extended=this.mOneA,o.call(this,"edwards",c),this.a=new i(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|c.c)==1}function u(c,d,f,h,p){o.BasePoint.call(this,c,"projective"),d===null&&f===null&&h===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(d,16),this.y=new i(f,16),this.z=h?new i(h,16):this.curve.one,this.t=p&&new i(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(l,o),e.exports=l,l.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},l.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},l.prototype.jpoint=function(c,d,f,h){return this.point(c,d,f,h)},l.prototype.pointFromX=function(c,d){(c=new i(c,16)).red||(c=c.toRed(this.red));var f=c.redSqr(),h=this.c2.redSub(this.a.redMul(f)),p=this.one.redSub(this.c2.redMul(this.d).redMul(f)),m=h.redMul(p.redInvm()),g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var y=g.fromRed().isOdd();return(d&&!y||!d&&y)&&(g=g.redNeg()),this.point(c,g)},l.prototype.pointFromY=function(c,d){(c=new i(c,16)).red||(c=c.toRed(this.red));var f=c.redSqr(),h=f.redSub(this.c2),p=f.redMul(this.d).redMul(this.c2).redSub(this.a),m=h.redMul(p.redInvm());if(m.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,c)}var g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");return g.fromRed().isOdd()!==d&&(g=g.redNeg()),this.point(g,c)},l.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var d=c.x.redSqr(),f=c.y.redSqr(),h=d.redMul(this.a).redAdd(f),p=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(f)));return h.cmp(p)===0},s(u,o.BasePoint),l.prototype.pointFromJSON=function(c){return u.fromJSON(this,c)},l.prototype.point=function(c,d,f,h){return new u(this,c,d,f,h)},u.fromJSON=function(c,d){return new u(c,d[0],d[1],d[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},u.prototype._extDbl=function(){var c=this.x.redSqr(),d=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var h=this.curve._mulA(c),p=this.x.redAdd(this.y).redSqr().redISub(c).redISub(d),m=h.redAdd(d),g=m.redSub(f),y=h.redSub(d),x=p.redMul(g),T=m.redMul(y),R=p.redMul(y),$=g.redMul(m);return this.curve.point(x,T,$,R)},u.prototype._projDbl=function(){var c,d,f,h,p,m,g=this.x.redAdd(this.y).redSqr(),y=this.x.redSqr(),x=this.y.redSqr();if(this.curve.twisted){var T=(h=this.curve._mulA(y)).redAdd(x);this.zOne?(c=g.redSub(y).redSub(x).redMul(T.redSub(this.curve.two)),d=T.redMul(h.redSub(x)),f=T.redSqr().redSub(T).redSub(T)):(p=this.z.redSqr(),m=T.redSub(p).redISub(p),c=g.redSub(y).redISub(x).redMul(m),d=T.redMul(h.redSub(x)),f=T.redMul(m))}else h=y.redAdd(x),p=this.curve._mulC(this.z).redSqr(),m=h.redSub(p).redSub(p),c=this.curve._mulC(g.redISub(h)).redMul(m),d=this.curve._mulC(h).redMul(y.redISub(x)),f=h.redMul(m);return this.curve.point(c,d,f)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(c){var d=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),f=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),h=this.t.redMul(this.curve.dd).redMul(c.t),p=this.z.redMul(c.z.redAdd(c.z)),m=f.redSub(d),g=p.redSub(h),y=p.redAdd(h),x=f.redAdd(d),T=m.redMul(g),R=y.redMul(x),$=m.redMul(x),O=g.redMul(y);return this.curve.point(T,R,O,$)},u.prototype._projAdd=function(c){var d,f,h=this.z.redMul(c.z),p=h.redSqr(),m=this.x.redMul(c.x),g=this.y.redMul(c.y),y=this.curve.d.redMul(m).redMul(g),x=p.redSub(y),T=p.redAdd(y),R=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(m).redISub(g),$=h.redMul(x).redMul(R);return this.curve.twisted?(d=h.redMul(T).redMul(g.redSub(this.curve._mulA(m))),f=x.redMul(T)):(d=h.redMul(T).redMul(g.redSub(m)),f=this.curve._mulC(x).redMul(T)),this.curve.point($,d,f)},u.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},u.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},u.prototype.mulAdd=function(c,d,f){return this.curve._wnafMulAdd(1,[this,d],[c,f],2,!1)},u.prototype.jmulAdd=function(c,d,f){return this.curve._wnafMulAdd(1,[this,d],[c,f],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},u.prototype.eqXToP=function(c){var d=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var f=c.clone(),h=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(h),this.x.cmp(d)===0)return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,e,n){"use strict";var r=n;r.base=t("./base"),r.short=t("./short"),r.mont=t("./mont"),r.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("inherits"),s=t("./base"),o=t("../utils");function a(u){s.call(this,"mont",u),this.a=new r(u.a,16).toRed(this.red),this.b=new r(u.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(u,c,d){s.BasePoint.call(this,u,"projective"),c===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(c,16),this.z=new r(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),e.exports=a,a.prototype.validate=function(u){var c=u.normalize().x,d=c.redSqr(),f=d.redMul(c).redAdd(d.redMul(this.a)).redAdd(c);return f.redSqrt().redSqr().cmp(f)===0},i(l,s.BasePoint),a.prototype.decodePoint=function(u,c){return this.point(o.toArray(u,c),1)},a.prototype.point=function(u,c){return new l(this,u,c)},a.prototype.pointFromJSON=function(u){return l.fromJSON(this,u)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(u,c){return new l(u,c[0],c[1]||u.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var u=this.x.redAdd(this.z).redSqr(),c=this.x.redSub(this.z).redSqr(),d=u.redSub(c),f=u.redMul(c),h=d.redMul(c.redAdd(this.curve.a24.redMul(d)));return this.curve.point(f,h)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(u,c){var d=this.x.redAdd(this.z),f=this.x.redSub(this.z),h=u.x.redAdd(u.z),p=u.x.redSub(u.z).redMul(d),m=h.redMul(f),g=c.z.redMul(p.redAdd(m).redSqr()),y=c.x.redMul(p.redISub(m).redSqr());return this.curve.point(g,y)},l.prototype.mul=function(u){for(var c=u.clone(),d=this,f=this.curve.point(null,null),h=[];c.cmpn(0)!==0;c.iushrn(1))h.push(c.andln(1));for(var p=h.length-1;p>=0;p--)h[p]===0?(d=d.diffAdd(f,this),f=f.dbl()):(f=d.diffAdd(f,this),d=d.dbl());return f},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(u){return this.getX().cmp(u.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,e,n){"use strict";var r=t("../utils"),i=t("bn.js"),s=t("inherits"),o=t("./base"),a=r.assert;function l(d){o.call(this,"short",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(d,f,h,p){o.BasePoint.call(this,d,"affine"),f===null&&h===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(f,16),this.y=new i(h,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(d,f,h,p){o.BasePoint.call(this,d,"jacobian"),f===null&&h===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(f,16),this.y=new i(h,16),this.z=new i(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(l,o),e.exports=l,l.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var f,h;if(d.beta)f=new i(d.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);f=(f=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(d.lambda)h=new i(d.lambda,16);else{var m=this._getEndoRoots(this.n);this.g.mul(m[0]).x.cmp(this.g.x.redMul(f))===0?h=m[0]:(h=m[1],a(this.g.mul(h).x.cmp(this.g.x.redMul(f))===0))}return{beta:f,lambda:h,basis:d.basis?d.basis.map(function(g){return{a:new i(g.a,16),b:new i(g.b,16)}}):this._getEndoBasis(h)}}},l.prototype._getEndoRoots=function(d){var f=d===this.p?this.red:i.mont(d),h=new i(2).toRed(f).redInvm(),p=h.redNeg(),m=new i(3).toRed(f).redNeg().redSqrt().redMul(h);return[p.redAdd(m).fromRed(),p.redSub(m).fromRed()]},l.prototype._getEndoBasis=function(d){for(var f,h,p,m,g,y,x,T,R,$=this.n.ushrn(Math.floor(this.n.bitLength()/2)),O=d,U=this.n.clone(),j=new i(1),q=new i(0),H=new i(0),E=new i(1),C=0;O.cmpn(0)!==0;){var L=U.div(O);T=U.sub(L.mul(O)),R=H.sub(L.mul(j));var v=E.sub(L.mul(q));if(!p&&T.cmp($)<0)f=x.neg(),h=j,p=T.neg(),m=R;else if(p&&++C==2)break;x=T,U=O,O=T,H=j,j=R,E=q,q=v}g=T.neg(),y=R;var b=p.sqr().add(m.sqr());return g.sqr().add(y.sqr()).cmp(b)>=0&&(g=f,y=h),p.negative&&(p=p.neg(),m=m.neg()),g.negative&&(g=g.neg(),y=y.neg()),[{a:p,b:m},{a:g,b:y}]},l.prototype._endoSplit=function(d){var f=this.endo.basis,h=f[0],p=f[1],m=p.b.mul(d).divRound(this.n),g=h.b.neg().mul(d).divRound(this.n),y=m.mul(h.a),x=g.mul(p.a),T=m.mul(h.b),R=g.mul(p.b);return{k1:d.sub(y).sub(x),k2:T.add(R).neg()}},l.prototype.pointFromX=function(d,f){(d=new i(d,16)).red||(d=d.toRed(this.red));var h=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),p=h.redSqrt();if(p.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");var m=p.fromRed().isOdd();return(f&&!m||!f&&m)&&(p=p.redNeg()),this.point(d,p)},l.prototype.validate=function(d){if(d.inf)return!0;var f=d.x,h=d.y,p=this.a.redMul(f),m=f.redSqr().redMul(f).redIAdd(p).redIAdd(this.b);return h.redSqr().redISub(m).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(d,f,h){for(var p=this._endoWnafT1,m=this._endoWnafT2,g=0;g<d.length;g++){var y=this._endoSplit(f[g]),x=d[g],T=x._getBeta();y.k1.negative&&(y.k1.ineg(),x=x.neg(!0)),y.k2.negative&&(y.k2.ineg(),T=T.neg(!0)),p[2*g]=x,p[2*g+1]=T,m[2*g]=y.k1,m[2*g+1]=y.k2}for(var R=this._wnafMulAdd(1,p,m,2*g,h),$=0;$<2*g;$++)p[$]=null,m[$]=null;return R},s(u,o.BasePoint),l.prototype.point=function(d,f,h){return new u(this,d,f,h)},l.prototype.pointFromJSON=function(d,f){return u.fromJSON(this,d,f)},u.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var h=this.curve,p=function(m){return h.point(m.x.redMul(h.endo.beta),m.y)};d.beta=f,f.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(p)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(p)}}}return f}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(d,f,h){typeof f=="string"&&(f=JSON.parse(f));var p=d.point(f[0],f[1],h);if(!f[2])return p;function m(y){return d.point(y[0],y[1],h)}var g=f[2];return p.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[p].concat(g.doubles.points.map(m))},naf:g.naf&&{wnd:g.naf.wnd,points:[p].concat(g.naf.points.map(m))}},p},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var f=this.y.redSub(d.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(d.x).redInvm()));var h=f.redSqr().redISub(this.x).redISub(d.x),p=f.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,p)},u.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,h=this.x.redSqr(),p=d.redInvm(),m=h.redAdd(h).redIAdd(h).redIAdd(f).redMul(p),g=m.redSqr().redISub(this.x.redAdd(this.x)),y=m.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,y)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(d){return d=new i(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},u.prototype.mulAdd=function(d,f,h){var p=[this,f],m=[d,h];return this.curve.endo?this.curve._endoWnafMulAdd(p,m):this.curve._wnafMulAdd(1,p,m,2)},u.prototype.jmulAdd=function(d,f,h){var p=[this,f],m=[d,h];return this.curve.endo?this.curve._endoWnafMulAdd(p,m,!0):this.curve._wnafMulAdd(1,p,m,2,!0)},u.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},u.prototype.neg=function(d){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var h=this.precomputed,p=function(m){return m.neg()};f.precomputed={naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(p)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(p)}}}return f},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(c,o.BasePoint),l.prototype.jpoint=function(d,f,h){return new c(this,d,f,h)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),f=d.redSqr(),h=this.x.redMul(f),p=this.y.redMul(f).redMul(d);return this.curve.point(h,p)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var f=d.z.redSqr(),h=this.z.redSqr(),p=this.x.redMul(f),m=d.x.redMul(h),g=this.y.redMul(f.redMul(d.z)),y=d.y.redMul(h.redMul(this.z)),x=p.redSub(m),T=g.redSub(y);if(x.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=x.redSqr(),$=R.redMul(x),O=p.redMul(R),U=T.redSqr().redIAdd($).redISub(O).redISub(O),j=T.redMul(O.redISub(U)).redISub(g.redMul($)),q=this.z.redMul(d.z).redMul(x);return this.curve.jpoint(U,j,q)},c.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var f=this.z.redSqr(),h=this.x,p=d.x.redMul(f),m=this.y,g=d.y.redMul(f).redMul(this.z),y=h.redSub(p),x=m.redSub(g);if(y.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=y.redSqr(),R=T.redMul(y),$=h.redMul(T),O=x.redSqr().redIAdd(R).redISub($).redISub($),U=x.redMul($.redISub(O)).redISub(m.redMul(R)),j=this.z.redMul(y);return this.curve.jpoint(O,U,j)},c.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var h=this;for(f=0;f<d;f++)h=h.dbl();return h}var p=this.curve.a,m=this.curve.tinv,g=this.x,y=this.y,x=this.z,T=x.redSqr().redSqr(),R=y.redAdd(y);for(f=0;f<d;f++){var $=g.redSqr(),O=R.redSqr(),U=O.redSqr(),j=$.redAdd($).redIAdd($).redIAdd(p.redMul(T)),q=g.redMul(O),H=j.redSqr().redISub(q.redAdd(q)),E=q.redISub(H),C=j.redMul(E);C=C.redIAdd(C).redISub(U);var L=R.redMul(x);f+1<d&&(T=T.redMul(U)),g=H,x=L,R=C}return this.curve.jpoint(g,R.redMul(m),x)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var d,f,h;if(this.zOne){var p=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),y=this.x.redAdd(m).redSqr().redISub(p).redISub(g);y=y.redIAdd(y);var x=p.redAdd(p).redIAdd(p),T=x.redSqr().redISub(y).redISub(y),R=g.redIAdd(g);R=(R=R.redIAdd(R)).redIAdd(R),d=T,f=x.redMul(y.redISub(T)).redISub(R),h=this.y.redAdd(this.y)}else{var $=this.x.redSqr(),O=this.y.redSqr(),U=O.redSqr(),j=this.x.redAdd(O).redSqr().redISub($).redISub(U);j=j.redIAdd(j);var q=$.redAdd($).redIAdd($),H=q.redSqr(),E=U.redIAdd(U);E=(E=E.redIAdd(E)).redIAdd(E),d=H.redISub(j).redISub(j),f=q.redMul(j.redISub(d)).redISub(E),h=(h=this.y.redMul(this.z)).redIAdd(h)}return this.curve.jpoint(d,f,h)},c.prototype._threeDbl=function(){var d,f,h;if(this.zOne){var p=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),y=this.x.redAdd(m).redSqr().redISub(p).redISub(g);y=y.redIAdd(y);var x=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),T=x.redSqr().redISub(y).redISub(y);d=T;var R=g.redIAdd(g);R=(R=R.redIAdd(R)).redIAdd(R),f=x.redMul(y.redISub(T)).redISub(R),h=this.y.redAdd(this.y)}else{var $=this.z.redSqr(),O=this.y.redSqr(),U=this.x.redMul(O),j=this.x.redSub($).redMul(this.x.redAdd($));j=j.redAdd(j).redIAdd(j);var q=U.redIAdd(U),H=(q=q.redIAdd(q)).redAdd(q);d=j.redSqr().redISub(H),h=this.y.redAdd(this.z).redSqr().redISub(O).redISub($);var E=O.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),f=j.redMul(q.redISub(d)).redISub(E)}return this.curve.jpoint(d,f,h)},c.prototype._dbl=function(){var d=this.curve.a,f=this.x,h=this.y,p=this.z,m=p.redSqr().redSqr(),g=f.redSqr(),y=h.redSqr(),x=g.redAdd(g).redIAdd(g).redIAdd(d.redMul(m)),T=f.redAdd(f),R=(T=T.redIAdd(T)).redMul(y),$=x.redSqr().redISub(R.redAdd(R)),O=R.redISub($),U=y.redSqr();U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var j=x.redMul(O).redISub(U),q=h.redAdd(h).redMul(p);return this.curve.jpoint($,j,q)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),f=this.y.redSqr(),h=this.z.redSqr(),p=f.redSqr(),m=d.redAdd(d).redIAdd(d),g=m.redSqr(),y=this.x.redAdd(f).redSqr().redISub(d).redISub(p),x=(y=(y=(y=y.redIAdd(y)).redAdd(y).redIAdd(y)).redISub(g)).redSqr(),T=p.redIAdd(p);T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T);var R=m.redIAdd(y).redSqr().redISub(g).redISub(x).redISub(T),$=f.redMul(R);$=($=$.redIAdd($)).redIAdd($);var O=this.x.redMul(x).redISub($);O=(O=O.redIAdd(O)).redIAdd(O);var U=this.y.redMul(R.redMul(T.redISub(R)).redISub(y.redMul(x)));U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var j=this.z.redAdd(y).redSqr().redISub(h).redISub(x);return this.curve.jpoint(O,U,j)},c.prototype.mul=function(d,f){return d=new i(d,f),this.curve._wnafMul(this,d)},c.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var f=this.z.redSqr(),h=d.z.redSqr();if(this.x.redMul(h).redISub(d.x.redMul(f)).cmpn(0)!==0)return!1;var p=f.redMul(this.z),m=h.redMul(d.z);return this.y.redMul(m).redISub(d.y.redMul(p)).cmpn(0)===0},c.prototype.eqXToP=function(d){var f=this.z.redSqr(),h=d.toRed(this.curve.red).redMul(f);if(this.x.cmp(h)===0)return!0;for(var p=d.clone(),m=this.curve.redN.redMul(f);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(m),this.x.cmp(h)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,e,n){"use strict";var r,i=n,s=t("hash.js"),o=t("./curve"),a=t("./utils").assert;function l(c){c.type==="short"?this.curve=new o.short(c):c.type==="edwards"?this.curve=new o.edwards(c):this.curve=new o.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(c,d){Object.defineProperty(i,c,{configurable:!0,enumerable:!0,get:function(){var f=new l(d);return Object.defineProperty(i,c,{configurable:!0,enumerable:!0,value:f}),f}})}i.PresetCurve=l,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=t("./precomputed/secp256k1")}catch{r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("hmac-drbg"),s=t("../utils"),o=t("../curves"),a=t("brorand"),l=s.assert,u=t("./key"),c=t("./signature");function d(f){if(!(this instanceof d))return new d(f);typeof f=="string"&&(l(Object.prototype.hasOwnProperty.call(o,f),"Unknown curve "+f),f=o[f]),f instanceof o.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}e.exports=d,d.prototype.keyPair=function(f){return new u(this,f)},d.prototype.keyFromPrivate=function(f,h){return u.fromPrivate(this,f,h)},d.prototype.keyFromPublic=function(f,h){return u.fromPublic(this,f,h)},d.prototype.genKeyPair=function(f){f||(f={});for(var h=new i({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||a(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),m=this.n.sub(new r(2));;){var g=new r(h.generate(p));if(!(g.cmp(m)>0))return g.iaddn(1),this.keyFromPrivate(g)}},d.prototype._truncateToN=function(f,h){var p=8*f.byteLength()-this.n.bitLength();return p>0&&(f=f.ushrn(p)),!h&&f.cmp(this.n)>=0?f.sub(this.n):f},d.prototype.sign=function(f,h,p,m){typeof p=="object"&&(m=p,p=null),m||(m={}),h=this.keyFromPrivate(h,p),f=this._truncateToN(new r(f,16));for(var g=this.n.byteLength(),y=h.getPrivate().toArray("be",g),x=f.toArray("be",g),T=new i({hash:this.hash,entropy:y,nonce:x,pers:m.pers,persEnc:m.persEnc||"utf8"}),R=this.n.sub(new r(1)),$=0;;$++){var O=m.k?m.k($):new r(T.generate(this.n.byteLength()));if(!((O=this._truncateToN(O,!0)).cmpn(1)<=0||O.cmp(R)>=0)){var U=this.g.mul(O);if(!U.isInfinity()){var j=U.getX(),q=j.umod(this.n);if(q.cmpn(0)!==0){var H=O.invm(this.n).mul(q.mul(h.getPrivate()).iadd(f));if((H=H.umod(this.n)).cmpn(0)!==0){var E=(U.getY().isOdd()?1:0)|(j.cmp(q)!==0?2:0);return m.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),E^=1),new c({r:q,s:H,recoveryParam:E})}}}}}},d.prototype.verify=function(f,h,p,m){f=this._truncateToN(new r(f,16)),p=this.keyFromPublic(p,m);var g=(h=new c(h,"hex")).r,y=h.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||y.cmpn(1)<0||y.cmp(this.n)>=0)return!1;var x,T=y.invm(this.n),R=T.mul(f).umod(this.n),$=T.mul(g).umod(this.n);return this.curve._maxwellTrick?!(x=this.g.jmulAdd(R,p.getPublic(),$)).isInfinity()&&x.eqXToP(g):!(x=this.g.mulAdd(R,p.getPublic(),$)).isInfinity()&&x.getX().umod(this.n).cmp(g)===0},d.prototype.recoverPubKey=function(f,h,p,m){l((3&p)===p,"The recovery param is more than two bits"),h=new c(h,m);var g=this.n,y=new r(f),x=h.r,T=h.s,R=1&p,$=p>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&$)throw new Error("Unable to find sencond key candinate");x=$?this.curve.pointFromX(x.add(this.curve.n),R):this.curve.pointFromX(x,R);var O=h.r.invm(g),U=g.sub(y).mul(O).umod(g),j=T.mul(O).umod(g);return this.g.mulAdd(U,x,j)},d.prototype.getKeyRecoveryParam=function(f,h,p,m){if((h=new c(h,m)).recoveryParam!==null)return h.recoveryParam;for(var g=0;g<4;g++){var y;try{y=this.recoverPubKey(f,h,g)}catch{continue}if(y.eq(p))return g}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils").assert;function s(o,a){this.ec=o,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}e.exports=s,s.fromPublic=function(o,a,l){return a instanceof s?a:new s(o,{pub:a,pubEnc:l})},s.fromPrivate=function(o,a,l){return a instanceof s?a:new s(o,{priv:a,privEnc:l})},s.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(o,a){return typeof o=="string"&&(a=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,o):this.pub},s.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(o,a){this.priv=new r(o,a||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(o,a){if(o.x||o.y)return this.ec.curve.type==="mont"?i(o.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||i(o.x&&o.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(o.x,o.y));this.pub=this.ec.curve.decodePoint(o,a)},s.prototype.derive=function(o){return o.validate()||i(o.validate(),"public point not validated"),o.mul(this.priv).getX()},s.prototype.sign=function(o,a,l){return this.ec.sign(o,this,a,l)},s.prototype.verify=function(o,a){return this.ec.verify(o,a,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils"),s=i.assert;function o(d,f){if(d instanceof o)return d;this._importDER(d,f)||(s(d.r&&d.s,"Signature without r or s"),this.r=new r(d.r,16),this.s=new r(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function a(){this.place=0}function l(d,f){var h=d[f.place++];if(!(128&h))return h;var p=15&h;if(p===0||p>4)return!1;for(var m=0,g=0,y=f.place;g<p;g++,y++)m<<=8,m|=d[y],m>>>=0;return!(m<=127)&&(f.place=y,m)}function u(d){for(var f=0,h=d.length-1;!d[f]&&!(128&d[f+1])&&f<h;)f++;return f===0?d:d.slice(f)}function c(d,f){if(f<128)d.push(f);else{var h=1+(Math.log(f)/Math.LN2>>>3);for(d.push(128|h);--h;)d.push(f>>>(h<<3)&255);d.push(f)}}e.exports=o,o.prototype._importDER=function(d,f){d=i.toArray(d,f);var h=new a;if(d[h.place++]!==48)return!1;var p=l(d,h);if(p===!1||p+h.place!==d.length||d[h.place++]!==2)return!1;var m=l(d,h);if(m===!1)return!1;var g=d.slice(h.place,m+h.place);if(h.place+=m,d[h.place++]!==2)return!1;var y=l(d,h);if(y===!1||d.length!==y+h.place)return!1;var x=d.slice(h.place,y+h.place);if(g[0]===0){if(!(128&g[1]))return!1;g=g.slice(1)}if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}return this.r=new r(g),this.s=new r(x),this.recoveryParam=null,!0},o.prototype.toDER=function(d){var f=this.r.toArray(),h=this.s.toArray();for(128&f[0]&&(f=[0].concat(f)),128&h[0]&&(h=[0].concat(h)),f=u(f),h=u(h);!(h[0]||128&h[1]);)h=h.slice(1);var p=[2];c(p,f.length),(p=p.concat(f)).push(2),c(p,h.length);var m=p.concat(h),g=[48];return c(g,m.length),g=g.concat(m),i.encode(g,d)}},{"../utils":419,"bn.js":420}],415:[function(t,e,n){"use strict";var r=t("hash.js"),i=t("../curves"),s=t("../utils"),o=s.assert,a=s.parseBytes,l=t("./key"),u=t("./signature");function c(d){if(o(d==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(d);d=i[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=r.sha512}e.exports=c,c.prototype.sign=function(d,f){d=a(d);var h=this.keyFromSecret(f),p=this.hashInt(h.messagePrefix(),d),m=this.g.mul(p),g=this.encodePoint(m),y=this.hashInt(g,h.pubBytes(),d).mul(h.priv()),x=p.add(y).umod(this.curve.n);return this.makeSignature({R:m,S:x,Rencoded:g})},c.prototype.verify=function(d,f,h){d=a(d),f=this.makeSignature(f);var p=this.keyFromPublic(h),m=this.hashInt(f.Rencoded(),p.pubBytes(),d),g=this.g.mul(f.S());return f.R().add(p.pub().mul(m)).eq(g)},c.prototype.hashInt=function(){for(var d=this.hash(),f=0;f<arguments.length;f++)d.update(arguments[f]);return s.intFromLE(d.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(d){return l.fromPublic(this,d)},c.prototype.keyFromSecret=function(d){return l.fromSecret(this,d)},c.prototype.makeSignature=function(d){return d instanceof u?d:new u(this,d)},c.prototype.encodePoint=function(d){var f=d.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=d.getX().isOdd()?128:0,f},c.prototype.decodePoint=function(d){var f=(d=s.parseBytes(d)).length-1,h=d.slice(0,f).concat(-129&d[f]),p=(128&d[f])!=0,m=s.intFromLE(h);return this.curve.pointFromY(m,p)},c.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(d){return s.intFromLE(d)},c.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,e,n){"use strict";var r=t("../utils"),i=r.assert,s=r.parseBytes,o=r.cachedProperty;function a(l,u){this.eddsa=l,this._secret=s(u.secret),l.isPoint(u.pub)?this._pub=u.pub:this._pubBytes=s(u.pub)}a.fromPublic=function(l,u){return u instanceof a?u:new a(l,{pub:u})},a.fromSecret=function(l,u){return u instanceof a?u:new a(l,{secret:u})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(a,"privBytes",function(){var l=this.eddsa,u=this.hash(),c=l.encodingLength-1,d=u.slice(0,l.encodingLength);return d[0]&=248,d[c]&=127,d[c]|=64,d}),o(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(l){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},a.prototype.verify=function(l,u){return this.eddsa.verify(l,u,this)},a.prototype.getSecret=function(l){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),l)},a.prototype.getPublic=function(l){return r.encode(this.pubBytes(),l)},e.exports=a},{"../utils":419}],417:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("../utils"),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function l(u,c){this.eddsa=u,typeof c!="object"&&(c=a(c)),Array.isArray(c)&&(c={R:c.slice(0,u.encodingLength),S:c.slice(u.encodingLength)}),s(c.R&&c.S,"Signature without R or S"),u.isPoint(c.R)&&(this._R=c.R),c.S instanceof r&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}o(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=l},{"../utils":419,"bn.js":420}],418:[function(t,e,n){"use strict";e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,e,n){"use strict";var r=n,i=t("bn.js"),s=t("minimalistic-assert"),o=t("minimalistic-crypto-utils");r.assert=s,r.toArray=o.toArray,r.zero2=o.zero2,r.toHex=o.toHex,r.encode=o.encode,r.getNAF=function(a,l,u){var c=new Array(Math.max(a.bitLength(),u)+1);c.fill(0);for(var d=1<<l+1,f=a.clone(),h=0;h<c.length;h++){var p,m=f.andln(d-1);f.isOdd()?(p=m>(d>>1)-1?(d>>1)-m:m,f.isubn(p)):p=0,c[h]=p,f.iushrn(1)}return c},r.getJSF=function(a,l){var u=[[],[]];a=a.clone(),l=l.clone();for(var c,d=0,f=0;a.cmpn(-d)>0||l.cmpn(-f)>0;){var h,p,m=a.andln(3)+d&3,g=l.andln(3)+f&3;m===3&&(m=-1),g===3&&(g=-1),h=(1&m)==0?0:(c=a.andln(7)+d&7)!==3&&c!==5||g!==2?m:-m,u[0].push(h),p=(1&g)==0?0:(c=l.andln(7)+f&7)!==3&&c!==5||m!==2?g:-g,u[1].push(p),2*d===h+1&&(d=1-d),2*f===p+1&&(f=1-f),a.iushrn(1),l.iushrn(1)}return u},r.cachedProperty=function(a,l,u){var c="_"+l;a.prototype[l]=function(){return this[c]!==void 0?this[c]:this[c]=u.call(this)}},r.parseBytes=function(a){return typeof a=="string"?r.toArray(a,"hex"):a},r.intFromLE=function(a){return new i(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],421:[function(t,e,n){e.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,e,n){"use strict";var r=Object.create||function(O){var U=function(){};return U.prototype=O,new U},i=Object.keys||function(O){var U=[];for(var j in O)Object.prototype.hasOwnProperty.call(O,j)&&U.push(j);return j},s=Function.prototype.bind||function(O){var U=this;return function(){return U.apply(O,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0;var a,l=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),a=u.x===0}catch{a=!1}function c(O){return O._maxListeners===void 0?o.defaultMaxListeners:O._maxListeners}function d(O,U,j){if(U)O.call(j);else for(var q=O.length,H=$(O,q),E=0;E<q;++E)H[E].call(j)}function f(O,U,j,q){if(U)O.call(j,q);else for(var H=O.length,E=$(O,H),C=0;C<H;++C)E[C].call(j,q)}function h(O,U,j,q,H){if(U)O.call(j,q,H);else for(var E=O.length,C=$(O,E),L=0;L<E;++L)C[L].call(j,q,H)}function p(O,U,j,q,H,E){if(U)O.call(j,q,H,E);else for(var C=O.length,L=$(O,C),v=0;v<C;++v)L[v].call(j,q,H,E)}function m(O,U,j,q){if(U)O.apply(j,q);else for(var H=O.length,E=$(O,H),C=0;C<H;++C)E[C].apply(j,q)}function g(O,U,j,q){var H,E,C;if(typeof j!="function")throw new TypeError('"listener" argument must be a function');if((E=O._events)?(E.newListener&&(O.emit("newListener",U,j.listener?j.listener:j),E=O._events),C=E[U]):(E=O._events=r(null),O._eventsCount=0),C){if(typeof C=="function"?C=E[U]=q?[j,C]:[C,j]:q?C.unshift(j):C.push(j),!C.warned&&(H=c(O))&&H>0&&C.length>H){C.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+C.length+' "'+String(U)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');L.name="MaxListenersExceededWarning",L.emitter=O,L.type=U,L.count=C.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",L.name,L.message)}}else C=E[U]=j,++O._eventsCount;return O}function y(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var O=new Array(arguments.length),U=0;U<O.length;++U)O[U]=arguments[U];this.listener.apply(this.target,O)}}function x(O,U,j){var q={fired:!1,wrapFn:void 0,target:O,type:U,listener:j},H=s.call(y,q);return H.listener=j,q.wrapFn=H,H}function T(O,U,j){var q=O._events;if(!q)return[];var H=q[U];return H?typeof H=="function"?j?[H.listener||H]:[H]:j?(function(E){for(var C=new Array(E.length),L=0;L<C.length;++L)C[L]=E[L].listener||E[L];return C})(H):$(H,H.length):[]}function R(O){var U=this._events;if(U){var j=U[O];if(typeof j=="function")return 1;if(j)return j.length}return 0}function $(O,U){for(var j=new Array(U),q=0;q<U;++q)j[q]=O[q];return j}a?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(O){if(typeof O!="number"||O<0||O!=O)throw new TypeError('"defaultMaxListeners" must be a positive number');l=O}}):o.defaultMaxListeners=l,o.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||isNaN(O))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=O,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(O){var U,j,q,H,E,C,L=O==="error";if(C=this._events)L=L&&C.error==null;else if(!L)return!1;if(L){if(arguments.length>1&&(U=arguments[1]),U instanceof Error)throw U;var v=new Error('Unhandled "error" event. ('+U+")");throw v.context=U,v}if(!(j=C[O]))return!1;var b=typeof j=="function";switch(q=arguments.length){case 1:d(j,b,this);break;case 2:f(j,b,this,arguments[1]);break;case 3:h(j,b,this,arguments[1],arguments[2]);break;case 4:p(j,b,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(q-1),E=1;E<q;E++)H[E-1]=arguments[E];m(j,b,this,H)}return!0},o.prototype.addListener=function(O,U){return g(this,O,U,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(O,U){return g(this,O,U,!0)},o.prototype.once=function(O,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.on(O,x(this,O,U)),this},o.prototype.prependOnceListener=function(O,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(O,x(this,O,U)),this},o.prototype.removeListener=function(O,U){var j,q,H,E,C;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if(!(q=this._events))return this;if(!(j=q[O]))return this;if(j===U||j.listener===U)--this._eventsCount==0?this._events=r(null):(delete q[O],q.removeListener&&this.emit("removeListener",O,j.listener||U));else if(typeof j!="function"){for(H=-1,E=j.length-1;E>=0;E--)if(j[E]===U||j[E].listener===U){C=j[E].listener,H=E;break}if(H<0)return this;H===0?j.shift():(function(L,v){for(var b=v,_=b+1,w=L.length;_<w;b+=1,_+=1)L[b]=L[_];L.pop()})(j,H),j.length===1&&(q[O]=j[0]),q.removeListener&&this.emit("removeListener",O,C||U)}return this},o.prototype.removeAllListeners=function(O){var U,j,q;if(!(j=this._events))return this;if(!j.removeListener)return arguments.length===0?(this._events=r(null),this._eventsCount=0):j[O]&&(--this._eventsCount==0?this._events=r(null):delete j[O]),this;if(arguments.length===0){var H,E=i(j);for(q=0;q<E.length;++q)(H=E[q])!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if(typeof(U=j[O])=="function")this.removeListener(O,U);else if(U)for(q=U.length-1;q>=0;q--)this.removeListener(O,U[q]);return this},o.prototype.listeners=function(O){return T(this,O,!0)},o.prototype.rawListeners=function(O){return T(this,O,!1)},o.listenerCount=function(O,U){return typeof O.listenerCount=="function"?O.listenerCount(U):R.call(O,U)},o.prototype.listenerCount=R,o.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("md5.js");e.exports=function(s,o,a,l){if(r.isBuffer(s)||(s=r.from(s,"binary")),o&&(r.isBuffer(o)||(o=r.from(o,"binary")),o.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var u=a/8,c=r.alloc(u),d=r.alloc(l||0),f=r.alloc(0);u>0||l>0;){var h=new i;h.update(f),h.update(s),o&&h.update(o),f=h.digest();var p=0;if(u>0){var m=c.length-u;p=Math.min(u,f.length),f.copy(c,m,0,p),u-=p}if(p<f.length&&l>0){var g=d.length-l,y=Math.min(l,f.length-p);f.copy(d,g,p,p+y),l-=y}}return f.fill(0),{key:c,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=n.ParserOptions=n.parseFile=n.parseStream=n.parseString=n.parse=n.FormatterOptions=n.CsvFormatterStream=n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=void 0;var r=t("@fast-csv/format");Object.defineProperty(n,"format",{enumerable:!0,get:function(){return r.format}}),Object.defineProperty(n,"write",{enumerable:!0,get:function(){return r.write}}),Object.defineProperty(n,"writeToStream",{enumerable:!0,get:function(){return r.writeToStream}}),Object.defineProperty(n,"writeToBuffer",{enumerable:!0,get:function(){return r.writeToBuffer}}),Object.defineProperty(n,"writeToString",{enumerable:!0,get:function(){return r.writeToString}}),Object.defineProperty(n,"writeToPath",{enumerable:!0,get:function(){return r.writeToPath}}),Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return r.CsvFormatterStream}}),Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return r.FormatterOptions}});var i=t("@fast-csv/parse");Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return i.parse}}),Object.defineProperty(n,"parseString",{enumerable:!0,get:function(){return i.parseString}}),Object.defineProperty(n,"parseStream",{enumerable:!0,get:function(){return i.parseStream}}),Object.defineProperty(n,"parseFile",{enumerable:!0,get:function(){return i.parseFile}}),Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return i.ParserOptions}}),Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return i.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("readable-stream").Transform;function s(o){i.call(this),this._block=r.allocUnsafe(o),this._blockSize=o,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(s,i),s.prototype._transform=function(o,a,l){var u=null;try{this.update(o,a)}catch(c){u=c}l(u)},s.prototype._flush=function(o){var a=null;try{this.push(this.digest())}catch(l){a=l}o(a)},s.prototype.update=function(o,a){if((function(h,p){if(!r.isBuffer(h)&&typeof h!="string")throw new TypeError(p+" must be a string or a buffer")})(o,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(o)||(o=r.from(o,a));for(var l=this._block,u=0;this._blockOffset+o.length-u>=this._blockSize;){for(var c=this._blockOffset;c<this._blockSize;)l[c++]=o[u++];this._update(),this._blockOffset=0}for(;u<o.length;)l[this._blockOffset++]=o[u++];for(var d=0,f=8*o.length;f>0;++d)this._length[d]+=f,(f=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*f);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(o){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();o!==void 0&&(a=a.toString(o)),this._block.fill(0),this._blockOffset=0;for(var l=0;l<4;++l)this._length[l]=0;return a},s.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=s},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,e,n){"use strict";var r=n;r.utils=t("./hash/utils"),r.common=t("./hash/common"),r.sha=t("./hash/sha"),r.ripemd=t("./hash/ripemd"),r.hmac=t("./hash/hmac"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,e,n){"use strict";var r=t("./utils"),i=t("minimalistic-assert");function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=s,s.prototype.update=function(o,a){if(o=r.toArray(o,a),this.pending?this.pending=this.pending.concat(o):this.pending=o,this.pendingTotal+=o.length,this.pending.length>=this._delta8){var l=(o=this.pending).length%this._delta8;this.pending=o.slice(o.length-l,o.length),this.pending.length===0&&(this.pending=null),o=r.join32(o,0,o.length-l,this.endian);for(var u=0;u<o.length;u+=this._delta32)this._update(o,u,u+this._delta32)}return this},s.prototype.digest=function(o){return this.update(this._pad()),i(this.pending===null),this._digest(o)},s.prototype._pad=function(){var o=this.pendingTotal,a=this._delta8,l=a-(o+this.padLength)%a,u=new Array(l+this.padLength);u[0]=128;for(var c=1;c<l;c++)u[c]=0;if(o<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)u[c++]=0;u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=o>>>24&255,u[c++]=o>>>16&255,u[c++]=o>>>8&255,u[c++]=255&o}else for(u[c++]=255&o,u[c++]=o>>>8&255,u[c++]=o>>>16&255,u[c++]=o>>>24&255,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,d=8;d<this.padLength;d++)u[c++]=0;return u}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,e,n){"use strict";var r=t("./utils"),i=t("minimalistic-assert");function s(o,a,l){if(!(this instanceof s))return new s(o,a,l);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(a,l))}e.exports=s,s.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),i(o.length<=this.blockSize);for(var a=o.length;a<this.blockSize;a++)o.push(0);for(a=0;a<o.length;a++)o[a]^=54;for(this.inner=new this.Hash().update(o),a=0;a<o.length;a++)o[a]^=106;this.outer=new this.Hash().update(o)},s.prototype.update=function(o,a){return this.inner.update(o,a),this},s.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./common"),s=r.rotl32,o=r.sum32,a=r.sum32_3,l=r.sum32_4,u=i.BlockHash;function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(x,T,R,$){return x<=15?T^R^$:x<=31?T&R|~T&$:x<=47?(T|~R)^$:x<=63?T&$|R&~$:T^(R|~$)}function f(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function h(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}r.inherits(c,u),n.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(x,T){for(var R=this.h[0],$=this.h[1],O=this.h[2],U=this.h[3],j=this.h[4],q=R,H=$,E=O,C=U,L=j,v=0;v<80;v++){var b=o(s(l(R,d(v,$,O,U),x[p[v]+T],f(v)),g[v]),j);R=j,j=U,U=s(O,10),O=$,$=b,b=o(s(l(q,d(79-v,H,E,C),x[m[v]+T],h(v)),y[v]),L),q=L,L=C,C=s(E,10),E=H,H=b}b=a(this.h[1],O,C),this.h[1]=a(this.h[2],U,L),this.h[2]=a(this.h[3],j,q),this.h[3]=a(this.h[4],R,H),this.h[4]=a(this.h[0],$,E),this.h[0]=b},c.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,e,n){"use strict";n.sha1=t("./sha/1"),n.sha224=t("./sha/224"),n.sha256=t("./sha/256"),n.sha384=t("./sha/384"),n.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../common"),s=t("./common"),o=r.rotl32,a=r.sum32,l=r.sum32_5,u=s.ft_1,c=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,c),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(h,p){for(var m=this.W,g=0;g<16;g++)m[g]=h[p+g];for(;g<m.length;g++)m[g]=o(m[g-3]^m[g-8]^m[g-14]^m[g-16],1);var y=this.h[0],x=this.h[1],T=this.h[2],R=this.h[3],$=this.h[4];for(g=0;g<m.length;g++){var O=~~(g/20),U=l(o(y,5),u(O,x,T,R),$,m[g],d[O]);$=R,R=T,T=o(x,30),x=y,y=U}this.h[0]=a(this.h[0],y),this.h[1]=a(this.h[1],x),this.h[2]=a(this.h[2],T),this.h[3]=a(this.h[3],R),this.h[4]=a(this.h[4],$)},f.prototype._digest=function(h){return h==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./256");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(o){return o==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../common"),s=t("./common"),o=t("minimalistic-assert"),a=r.sum32,l=r.sum32_4,u=r.sum32_5,c=s.ch32,d=s.maj32,f=s.s0_256,h=s.s1_256,p=s.g0_256,m=s.g1_256,g=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}r.inherits(x,g),e.exports=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(T,R){for(var $=this.W,O=0;O<16;O++)$[O]=T[R+O];for(;O<$.length;O++)$[O]=l(m($[O-2]),$[O-7],p($[O-15]),$[O-16]);var U=this.h[0],j=this.h[1],q=this.h[2],H=this.h[3],E=this.h[4],C=this.h[5],L=this.h[6],v=this.h[7];for(o(this.k.length===$.length),O=0;O<$.length;O++){var b=u(v,h(E),c(E,C,L),this.k[O],$[O]),_=a(f(U),d(U,j,q));v=L,L=C,C=E,E=a(H,b),H=q,q=j,j=U,U=a(b,_)}this.h[0]=a(this.h[0],U),this.h[1]=a(this.h[1],j),this.h[2]=a(this.h[2],q),this.h[3]=a(this.h[3],H),this.h[4]=a(this.h[4],E),this.h[5]=a(this.h[5],C),this.h[6]=a(this.h[6],L),this.h[7]=a(this.h[7],v)},x.prototype._digest=function(T){return T==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./512");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(o){return o==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../common"),s=t("minimalistic-assert"),o=r.rotr64_hi,a=r.rotr64_lo,l=r.shr64_hi,u=r.shr64_lo,c=r.sum64,d=r.sum64_hi,f=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,g=r.sum64_5_lo,y=i.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function T(){if(!(this instanceof T))return new T;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}function R(_,w,S,I,F){var W=_&S^~_&F;return W<0&&(W+=4294967296),W}function $(_,w,S,I,F,W){var B=w&I^~w&W;return B<0&&(B+=4294967296),B}function O(_,w,S,I,F){var W=_&S^_&F^S&F;return W<0&&(W+=4294967296),W}function U(_,w,S,I,F,W){var B=w&I^w&W^I&W;return B<0&&(B+=4294967296),B}function j(_,w){var S=o(_,w,28)^o(w,_,2)^o(w,_,7);return S<0&&(S+=4294967296),S}function q(_,w){var S=a(_,w,28)^a(w,_,2)^a(w,_,7);return S<0&&(S+=4294967296),S}function H(_,w){var S=o(_,w,14)^o(_,w,18)^o(w,_,9);return S<0&&(S+=4294967296),S}function E(_,w){var S=a(_,w,14)^a(_,w,18)^a(w,_,9);return S<0&&(S+=4294967296),S}function C(_,w){var S=o(_,w,1)^o(_,w,8)^l(_,w,7);return S<0&&(S+=4294967296),S}function L(_,w){var S=a(_,w,1)^a(_,w,8)^u(_,w,7);return S<0&&(S+=4294967296),S}function v(_,w){var S=o(_,w,19)^o(w,_,29)^l(_,w,6);return S<0&&(S+=4294967296),S}function b(_,w){var S=a(_,w,19)^a(w,_,29)^u(_,w,6);return S<0&&(S+=4294967296),S}r.inherits(T,y),e.exports=T,T.blockSize=1024,T.outSize=512,T.hmacStrength=192,T.padLength=128,T.prototype._prepareBlock=function(_,w){for(var S=this.W,I=0;I<32;I++)S[I]=_[w+I];for(;I<S.length;I+=2){var F=v(S[I-4],S[I-3]),W=b(S[I-4],S[I-3]),B=S[I-14],X=S[I-13],M=C(S[I-30],S[I-29]),Y=L(S[I-30],S[I-29]),k=S[I-32],D=S[I-31];S[I]=h(F,W,B,X,M,Y,k,D),S[I+1]=p(F,W,B,X,M,Y,k,D)}},T.prototype._update=function(_,w){this._prepareBlock(_,w);var S=this.W,I=this.h[0],F=this.h[1],W=this.h[2],B=this.h[3],X=this.h[4],M=this.h[5],Y=this.h[6],k=this.h[7],D=this.h[8],z=this.h[9],J=this.h[10],ne=this.h[11],te=this.h[12],se=this.h[13],ve=this.h[14],ye=this.h[15];s(this.k.length===S.length);for(var K=0;K<S.length;K+=2){var ce=ve,de=ye,we=H(D,z),ge=E(D,z),Se=R(D,z,J,ne,te),Ee=$(D,z,J,ne,te,se),Fe=this.k[K],Ve=this.k[K+1],qe=S[K],ht=S[K+1],ze=m(ce,de,we,ge,Se,Ee,Fe,Ve,qe,ht),rt=g(ce,de,we,ge,Se,Ee,Fe,Ve,qe,ht);ce=j(I,F),de=q(I,F),we=O(I,F,W,B,X),ge=U(I,F,W,B,X,M);var Ct=d(ce,de,we,ge),et=f(ce,de,we,ge);ve=te,ye=se,te=J,se=ne,J=D,ne=z,D=d(Y,k,ze,rt),z=f(k,k,ze,rt),Y=X,k=M,X=W,M=B,W=I,B=F,I=d(ze,rt,Ct,et),F=f(ze,rt,Ct,et)}c(this.h,0,I,F),c(this.h,2,W,B),c(this.h,4,X,M),c(this.h,6,Y,k),c(this.h,8,D,z),c(this.h,10,J,ne),c(this.h,12,te,se),c(this.h,14,ve,ye)},T.prototype._digest=function(_){return _==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,e,n){"use strict";var r=t("../utils").rotr32;function i(a,l,u){return a&l^~a&u}function s(a,l,u){return a&l^a&u^l&u}function o(a,l,u){return a^l^u}n.ft_1=function(a,l,u,c){return a===0?i(l,u,c):a===1||a===3?o(l,u,c):a===2?s(l,u,c):void 0},n.ch32=i,n.maj32=s,n.p32=o,n.s0_256=function(a){return r(a,2)^r(a,13)^r(a,22)},n.s1_256=function(a){return r(a,6)^r(a,11)^r(a,25)},n.g0_256=function(a){return r(a,7)^r(a,18)^a>>>3},n.g1_256=function(a){return r(a,17)^r(a,19)^a>>>10}},{"../utils":437}],437:[function(t,e,n){"use strict";var r=t("minimalistic-assert"),i=t("inherits");function s(u,c){return(64512&u.charCodeAt(c))==55296&&!(c<0||c+1>=u.length)&&(64512&u.charCodeAt(c+1))==56320}function o(u){return(u>>>24|u>>>8&65280|u<<8&16711680|(255&u)<<24)>>>0}function a(u){return u.length===1?"0"+u:u}function l(u){return u.length===7?"0"+u:u.length===6?"00"+u:u.length===5?"000"+u:u.length===4?"0000"+u:u.length===3?"00000"+u:u.length===2?"000000"+u:u.length===1?"0000000"+u:u}n.inherits=i,n.toArray=function(u,c){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u=="string")if(c){if(c==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),h=0;h<u.length;h+=2)d.push(parseInt(u[h]+u[h+1],16))}else for(var f=0,h=0;h<u.length;h++){var p=u.charCodeAt(h);p<128?d[f++]=p:p<2048?(d[f++]=p>>6|192,d[f++]=63&p|128):s(u,h)?(p=65536+((1023&p)<<10)+(1023&u.charCodeAt(++h)),d[f++]=p>>18|240,d[f++]=p>>12&63|128,d[f++]=p>>6&63|128,d[f++]=63&p|128):(d[f++]=p>>12|224,d[f++]=p>>6&63|128,d[f++]=63&p|128)}else for(h=0;h<u.length;h++)d[h]=0|u[h];return d},n.toHex=function(u){for(var c="",d=0;d<u.length;d++)c+=a(u[d].toString(16));return c},n.htonl=o,n.toHex32=function(u,c){for(var d="",f=0;f<u.length;f++){var h=u[f];c==="little"&&(h=o(h)),d+=l(h.toString(16))}return d},n.zero2=a,n.zero8=l,n.join32=function(u,c,d,f){var h=d-c;r(h%4==0);for(var p=new Array(h/4),m=0,g=c;m<p.length;m++,g+=4){var y;y=f==="big"?u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3]:u[g+3]<<24|u[g+2]<<16|u[g+1]<<8|u[g],p[m]=y>>>0}return p},n.split32=function(u,c){for(var d=new Array(4*u.length),f=0,h=0;f<u.length;f++,h+=4){var p=u[f];c==="big"?(d[h]=p>>>24,d[h+1]=p>>>16&255,d[h+2]=p>>>8&255,d[h+3]=255&p):(d[h+3]=p>>>24,d[h+2]=p>>>16&255,d[h+1]=p>>>8&255,d[h]=255&p)}return d},n.rotr32=function(u,c){return u>>>c|u<<32-c},n.rotl32=function(u,c){return u<<c|u>>>32-c},n.sum32=function(u,c){return u+c>>>0},n.sum32_3=function(u,c,d){return u+c+d>>>0},n.sum32_4=function(u,c,d,f){return u+c+d+f>>>0},n.sum32_5=function(u,c,d,f,h){return u+c+d+f+h>>>0},n.sum64=function(u,c,d,f){var h=u[c],p=f+u[c+1]>>>0,m=(p<f?1:0)+d+h;u[c]=m>>>0,u[c+1]=p},n.sum64_hi=function(u,c,d,f){return(c+f>>>0<c?1:0)+u+d>>>0},n.sum64_lo=function(u,c,d,f){return c+f>>>0},n.sum64_4_hi=function(u,c,d,f,h,p,m,g){var y=0,x=c;return y+=(x=x+f>>>0)<c?1:0,y+=(x=x+p>>>0)<p?1:0,u+d+h+m+(y+=(x=x+g>>>0)<g?1:0)>>>0},n.sum64_4_lo=function(u,c,d,f,h,p,m,g){return c+f+p+g>>>0},n.sum64_5_hi=function(u,c,d,f,h,p,m,g,y,x){var T=0,R=c;return T+=(R=R+f>>>0)<c?1:0,T+=(R=R+p>>>0)<p?1:0,T+=(R=R+g>>>0)<g?1:0,u+d+h+m+y+(T+=(R=R+x>>>0)<x?1:0)>>>0},n.sum64_5_lo=function(u,c,d,f,h,p,m,g,y,x){return c+f+p+g+x>>>0},n.rotr64_hi=function(u,c,d){return(c<<32-d|u>>>d)>>>0},n.rotr64_lo=function(u,c,d){return(u<<32-d|c>>>d)>>>0},n.shr64_hi=function(u,c,d){return u>>>d},n.shr64_lo=function(u,c,d){return(u<<32-d|c>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,e,n){"use strict";var r=t("hash.js"),i=t("minimalistic-crypto-utils"),s=t("minimalistic-assert");function o(a){if(!(this instanceof o))return new o(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=i.toArray(a.entropy,a.entropyEnc||"hex"),u=i.toArray(a.nonce,a.nonceEnc||"hex"),c=i.toArray(a.pers,a.persEnc||"hex");s(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,u,c)}e.exports=o,o.prototype._init=function(a,l,u){var c=a.concat(l).concat(u);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},o.prototype._update=function(a){var l=this._hmac().update(this.V).update([0]);a&&(l=l.update(a)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(a,l,u,c){typeof l!="string"&&(c=u,u=l,l=null),a=i.toArray(a,l),u=i.toArray(u,c),s(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(u||[])),this._reseed=1},o.prototype.generate=function(a,l,u,c){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof l!="string"&&(c=u,u=l,l=null),u&&(u=i.toArray(u,c||"hex"),this._update(u));for(var d=[];d.length<a;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var f=d.slice(0,a);return this._update(u),this._reseed++,i.encode(f,l)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,e,n){"use strict";n.read=function(r,i,s,o,a){var l,u,c=8*a-o-1,d=(1<<c)-1,f=d>>1,h=-7,p=s?a-1:0,m=s?-1:1,g=r[i+p];for(p+=m,l=g&(1<<-h)-1,g>>=-h,h+=c;h>0;l=256*l+r[i+p],p+=m,h-=8);for(u=l&(1<<-h)-1,l>>=-h,h+=o;h>0;u=256*u+r[i+p],p+=m,h-=8);if(l===0)l=1-f;else{if(l===d)return u?NaN:1/0*(g?-1:1);u+=Math.pow(2,o),l-=f}return(g?-1:1)*u*Math.pow(2,l-o)},n.write=function(r,i,s,o,a,l){var u,c,d,f=8*l-a-1,h=(1<<f)-1,p=h>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=o?0:l-1,y=o?1:-1,x=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(c=isNaN(i)?1:0,u=h):(u=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-u))<1&&(u--,d*=2),(i+=u+p>=1?m/d:m*Math.pow(2,1-p))*d>=2&&(u++,d/=2),u+p>=h?(c=0,u=h):u+p>=1?(c=(i*d-1)*Math.pow(2,a),u+=p):(c=i*Math.pow(2,p-1)*Math.pow(2,a),u=0));a>=8;r[s+g]=255&c,g+=y,c/=256,a-=8);for(u=u<<a|c,f+=a;f>0;r[s+g]=255&u,g+=y,u/=256,f-=8);r[s+g-y]|=128*x}},{}],440:[function(t,e,n){"use strict";typeof Object.create=="function"?e.exports=function(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,i){if(i){r.super_=i;var s=function(){};s.prototype=i.prototype,r.prototype=new s,r.prototype.constructor=r}}},{}],441:[function(t,e,n){(function(r,i,s,o,a,l,u,c){(function(){"use strict";(function(d){typeof n=="object"&&e!==void 0?e.exports=d():(typeof window<"u"?window:i!==void 0?i:typeof self<"u"?self:this).JSZip=d()})(function(){return(function d(f,h,p){function m(x,T){if(!h[x]){if(!f[x]){var R=typeof t=="function"&&t;if(!T&&R)return R(x,!0);if(g)return g(x,!0);var $=new Error("Cannot find module '"+x+"'");throw $.code="MODULE_NOT_FOUND",$}var O=h[x]={exports:{}};f[x][0].call(O.exports,function(U){return m(f[x][1][U]||U)},O,O.exports,d,f,h,p)}return h[x].exports}for(var g=typeof t=="function"&&t,y=0;y<p.length;y++)m(p[y]);return m})({1:[function(d,f,h){var p=d("./utils"),m=d("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h.encode=function(y){for(var x,T,R,$,O,U,j,q=[],H=0,E=y.length,C=E,L=p.getTypeOf(y)!=="string";H<y.length;)C=E-H,R=L?(x=y[H++],T=H<E?y[H++]:0,H<E?y[H++]:0):(x=y.charCodeAt(H++),T=H<E?y.charCodeAt(H++):0,H<E?y.charCodeAt(H++):0),$=x>>2,O=(3&x)<<4|T>>4,U=1<C?(15&T)<<2|R>>6:64,j=2<C?63&R:64,q.push(g.charAt($)+g.charAt(O)+g.charAt(U)+g.charAt(j));return q.join("")},h.decode=function(y){var x,T,R,$,O,U,j=0,q=0,H="data:";if(y.substr(0,H.length)===H)throw new Error("Invalid base64 input, it looks like a data url.");var E,C=3*(y=y.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(y.charAt(y.length-1)===g.charAt(64)&&C--,y.charAt(y.length-2)===g.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=m.uint8array?new Uint8Array(0|C):new Array(0|C);j<y.length;)x=g.indexOf(y.charAt(j++))<<2|($=g.indexOf(y.charAt(j++)))>>4,T=(15&$)<<4|(O=g.indexOf(y.charAt(j++)))>>2,R=(3&O)<<6|(U=g.indexOf(y.charAt(j++))),E[q++]=x,O!==64&&(E[q++]=T),U!==64&&(E[q++]=R);return E}},{"./support":30,"./utils":32}],2:[function(d,f,h){var p=d("./external"),m=d("./stream/DataWorker"),g=d("./stream/Crc32Probe"),y=d("./stream/DataLengthProbe");function x(T,R,$,O,U){this.compressedSize=T,this.uncompressedSize=R,this.crc32=$,this.compression=O,this.compressedContent=U}x.prototype={getContentWorker:function(){var T=new m(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new y("data_length")),R=this;return T.on("end",function(){if(this.streamInfo.data_length!==R.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),T},getCompressedWorker:function(){return new m(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},x.createWorkerFrom=function(T,R,$){return T.pipe(new g).pipe(new y("uncompressedSize")).pipe(R.compressWorker($)).pipe(new y("compressedSize")).withStreamInfo("compression",R)},f.exports=x},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,f,h){var p=d("./stream/GenericWorker");h.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},h.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,f,h){var p=d("./utils"),m=(function(){for(var g,y=[],x=0;x<256;x++){g=x;for(var T=0;T<8;T++)g=1&g?3988292384^g>>>1:g>>>1;y[x]=g}return y})();f.exports=function(g,y){return g!==void 0&&g.length?p.getTypeOf(g)!=="string"?(function(x,T,R,$){var O=m,U=0+R;x^=-1;for(var j=0;j<U;j++)x=x>>>8^O[255&(x^T[j])];return-1^x})(0|y,g,g.length):(function(x,T,R,$){var O=m,U=0+R;x^=-1;for(var j=0;j<U;j++)x=x>>>8^O[255&(x^T.charCodeAt(j))];return-1^x})(0|y,g,g.length):0}},{"./utils":32}],5:[function(d,f,h){h.base64=!1,h.binary=!1,h.dir=!1,h.createFolders=!0,h.date=null,h.compression=null,h.compressionOptions=null,h.comment=null,h.unixPermissions=null,h.dosPermissions=null},{}],6:[function(d,f,h){var p;p=typeof Promise<"u"?Promise:d("lie"),f.exports={Promise:p}},{lie:37}],7:[function(d,f,h){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=d("pako"),g=d("./utils"),y=d("./stream/GenericWorker"),x=p?"uint8array":"array";function T(R,$){y.call(this,"FlateWorker/"+R),this._pako=null,this._pakoAction=R,this._pakoOptions=$,this.meta={}}h.magic="\b\0",g.inherits(T,y),T.prototype.processChunk=function(R){this.meta=R.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(x,R.data),!1)},T.prototype.flush=function(){y.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},T.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this._pako=null},T.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var R=this;this._pako.onData=function($){R.push({data:$,meta:R.meta})}},h.compressWorker=function(R){return new T("Deflate",R)},h.uncompressWorker=function(){return new T("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,f,h){function p(O,U){var j,q="";for(j=0;j<U;j++)q+=String.fromCharCode(255&O),O>>>=8;return q}function m(O,U,j,q,H,E){var C,L,v=O.file,b=O.compression,_=E!==x.utf8encode,w=g.transformTo("string",E(v.name)),S=g.transformTo("string",x.utf8encode(v.name)),I=v.comment,F=g.transformTo("string",E(I)),W=g.transformTo("string",x.utf8encode(I)),B=S.length!==v.name.length,X=W.length!==I.length,M="",Y="",k="",D=v.dir,z=v.date,J={crc32:0,compressedSize:0,uncompressedSize:0};U&&!j||(J.crc32=O.crc32,J.compressedSize=O.compressedSize,J.uncompressedSize=O.uncompressedSize);var ne=0;U&&(ne|=8),_||!B&&!X||(ne|=2048);var te=0,se=0;D&&(te|=16),H==="UNIX"?(se=798,te|=(function(ye,K){var ce=ye;return ye||(ce=K?16893:33204),(65535&ce)<<16})(v.unixPermissions,D)):(se=20,te|=(function(ye){return 63&(ye||0)})(v.dosPermissions)),C=z.getUTCHours(),C<<=6,C|=z.getUTCMinutes(),C<<=5,C|=z.getUTCSeconds()/2,L=z.getUTCFullYear()-1980,L<<=4,L|=z.getUTCMonth()+1,L<<=5,L|=z.getUTCDate(),B&&(Y=p(1,1)+p(T(w),4)+S,M+="up"+p(Y.length,2)+Y),X&&(k=p(1,1)+p(T(F),4)+W,M+="uc"+p(k.length,2)+k);var ve="";return ve+=`
\0`,ve+=p(ne,2),ve+=b.magic,ve+=p(C,2),ve+=p(L,2),ve+=p(J.crc32,4),ve+=p(J.compressedSize,4),ve+=p(J.uncompressedSize,4),ve+=p(w.length,2),ve+=p(M.length,2),{fileRecord:R.LOCAL_FILE_HEADER+ve+w+M,dirRecord:R.CENTRAL_FILE_HEADER+p(se,2)+ve+p(F.length,2)+"\0\0\0\0"+p(te,4)+p(q,4)+w+M+F}}var g=d("../utils"),y=d("../stream/GenericWorker"),x=d("../utf8"),T=d("../crc32"),R=d("../signature");function $(O,U,j,q){y.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=U,this.zipPlatform=j,this.encodeFileName=q,this.streamFiles=O,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits($,y),$.prototype.push=function(O){var U=O.meta.percent||0,j=this.entriesCount,q=this._sources.length;this.accumulate?this.contentBuffer.push(O):(this.bytesWritten+=O.data.length,y.prototype.push.call(this,{data:O.data,meta:{currentFile:this.currentFile,percent:j?(U+100*(j-q-1))/j:100}}))},$.prototype.openedSource=function(O){this.currentSourceOffset=this.bytesWritten,this.currentFile=O.file.name;var U=this.streamFiles&&!O.file.dir;if(U){var j=m(O,U,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:j.fileRecord,meta:{percent:0}})}else this.accumulate=!0},$.prototype.closedSource=function(O){this.accumulate=!1;var U=this.streamFiles&&!O.file.dir,j=m(O,U,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(j.dirRecord),U)this.push({data:(function(q){return R.DATA_DESCRIPTOR+p(q.crc32,4)+p(q.compressedSize,4)+p(q.uncompressedSize,4)})(O),meta:{percent:100}});else for(this.push({data:j.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},$.prototype.flush=function(){for(var O=this.bytesWritten,U=0;U<this.dirRecords.length;U++)this.push({data:this.dirRecords[U],meta:{percent:100}});var j=this.bytesWritten-O,q=(function(H,E,C,L,v){var b=g.transformTo("string",v(L));return R.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(H,2)+p(H,2)+p(E,4)+p(C,4)+p(b.length,2)+b})(this.dirRecords.length,j,O,this.zipComment,this.encodeFileName);this.push({data:q,meta:{percent:100}})},$.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},$.prototype.registerPrevious=function(O){this._sources.push(O);var U=this;return O.on("data",function(j){U.processChunk(j)}),O.on("end",function(){U.closedSource(U.previous.streamInfo),U._sources.length?U.prepareNextSource():U.end()}),O.on("error",function(j){U.error(j)}),this},$.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},$.prototype.error=function(O){var U=this._sources;if(!y.prototype.error.call(this,O))return!1;for(var j=0;j<U.length;j++)try{U[j].error(O)}catch{}return!0},$.prototype.lock=function(){y.prototype.lock.call(this);for(var O=this._sources,U=0;U<O.length;U++)O[U].lock()},f.exports=$},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,f,h){var p=d("../compressions"),m=d("./ZipFileWorker");h.generateWorker=function(g,y,x){var T=new m(y.streamFiles,x,y.platform,y.encodeFileName),R=0;try{g.forEach(function($,O){R++;var U=(function(E,C){var L=E||C,v=p[L];if(!v)throw new Error(L+" is not a valid compression method !");return v})(O.options.compression,y.compression),j=O.options.compressionOptions||y.compressionOptions||{},q=O.dir,H=O.date;O._compressWorker(U,j).withStreamInfo("file",{name:$,dir:q,date:H,comment:O.comment||"",unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions}).pipe(T)}),T.entriesCount=R}catch($){T.error($)}return T}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,f,h){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new p;for(var g in this)typeof this[g]!="function"&&(m[g]=this[g]);return m}}(p.prototype=d("./object")).loadAsync=d("./load"),p.support=d("./support"),p.defaults=d("./defaults"),p.version="3.10.1",p.loadAsync=function(m,g){return new p().loadAsync(m,g)},p.external=d("./external"),f.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,f,h){var p=d("./utils"),m=d("./external"),g=d("./utf8"),y=d("./zipEntries"),x=d("./stream/Crc32Probe"),T=d("./nodejsUtils");function R($){return new m.Promise(function(O,U){var j=$.decompressed.getContentWorker().pipe(new x);j.on("error",function(q){U(q)}).on("end",function(){j.streamInfo.crc32!==$.decompressed.crc32?U(new Error("Corrupted zip : CRC32 mismatch")):O()}).resume()})}f.exports=function($,O){var U=this;return O=p.extend(O||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),T.isNode&&T.isStream($)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",$,!0,O.optimizedBinaryString,O.base64).then(function(j){var q=new y(O);return q.load(j),q}).then(function(j){var q=[m.Promise.resolve(j)],H=j.files;if(O.checkCRC32)for(var E=0;E<H.length;E++)q.push(R(H[E]));return m.Promise.all(q)}).then(function(j){for(var q=j.shift(),H=q.files,E=0;E<H.length;E++){var C=H[E],L=C.fileNameStr,v=p.resolve(C.fileNameStr);U.file(v,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:O.createFolders}),C.dir||(U.file(v).unsafeOriginalName=L)}return q.zipComment.length&&(U.comment=q.zipComment),U})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,f,h){var p=d("../utils"),m=d("../stream/GenericWorker");function g(y,x){m.call(this,"Nodejs stream input adapter for "+y),this._upstreamEnded=!1,this._bindStream(x)}p.inherits(g,m),g.prototype._bindStream=function(y){var x=this;(this._stream=y).pause(),y.on("data",function(T){x.push({data:T,meta:{percent:0}})}).on("error",function(T){x.isPaused?this.generatedError=T:x.error(T)}).on("end",function(){x.isPaused?x._upstreamEnded=!0:x.end()})},g.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},f.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,f,h){var p=d("readable-stream").Readable;function m(g,y,x){p.call(this,y),this._helper=g;var T=this;g.on("data",function(R,$){T.push(R)||T._helper.pause(),x&&x($)}).on("error",function(R){T.emit("error",R)}).on("end",function(){T.push(null)})}d("../utils").inherits(m,p),m.prototype._read=function(){this._helper.resume()},f.exports=m},{"../utils":32,"readable-stream":16}],14:[function(d,f,h){f.exports={isNode:s!==void 0,newBufferFrom:function(p,m){if(s.from&&s.from!==Uint8Array.from)return s.from(p,m);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new s(p,m)},allocBuffer:function(p){if(s.alloc)return s.alloc(p);var m=new s(p);return m.fill(0),m},isBuffer:function(p){return s.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(d,f,h){function p(v,b,_){var w,S=g.getTypeOf(b),I=g.extend(_||{},T);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(v=H(v)),I.createFolders&&(w=q(v))&&E.call(this,w,!0);var F=S==="string"&&I.binary===!1&&I.base64===!1;_&&_.binary!==void 0||(I.binary=!F),(b instanceof R&&b.uncompressedSize===0||I.dir||!b||b.length===0)&&(I.base64=!1,I.binary=!0,b="",I.compression="STORE",S="string");var W;W=b instanceof R||b instanceof y?b:U.isNode&&U.isStream(b)?new j(v,b):g.prepareContent(v,b,I.binary,I.optimizedBinaryString,I.base64);var B=new $(v,W,I);this.files[v]=B}var m=d("./utf8"),g=d("./utils"),y=d("./stream/GenericWorker"),x=d("./stream/StreamHelper"),T=d("./defaults"),R=d("./compressedObject"),$=d("./zipObject"),O=d("./generate"),U=d("./nodejsUtils"),j=d("./nodejs/NodejsStreamInputAdapter"),q=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var b=v.lastIndexOf("/");return 0<b?v.substring(0,b):""},H=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},E=function(v,b){return b=b!==void 0?b:T.createFolders,v=H(v),this.files[v]||p.call(this,v,null,{dir:!0,createFolders:b}),this.files[v]};function C(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var L={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var b,_,w;for(b in this.files)w=this.files[b],(_=b.slice(this.root.length,b.length))&&b.slice(0,this.root.length)===this.root&&v(_,w)},filter:function(v){var b=[];return this.forEach(function(_,w){v(_,w)&&b.push(w)}),b},file:function(v,b,_){if(arguments.length!==1)return v=this.root+v,p.call(this,v,b,_),this;if(C(v)){var w=v;return this.filter(function(I,F){return!F.dir&&w.test(I)})}var S=this.files[this.root+v];return S&&!S.dir?S:null},folder:function(v){if(!v)return this;if(C(v))return this.filter(function(S,I){return I.dir&&v.test(S)});var b=this.root+v,_=E.call(this,b),w=this.clone();return w.root=_.name,w},remove:function(v){v=this.root+v;var b=this.files[v];if(b||(v.slice(-1)!=="/"&&(v+="/"),b=this.files[v]),b&&!b.dir)delete this.files[v];else for(var _=this.filter(function(S,I){return I.name.slice(0,v.length)===v}),w=0;w<_.length;w++)delete this.files[_[w].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var b,_={};try{if((_=g.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");g.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var w=_.comment||this.comment||"";b=O.generateWorker(this,_,w)}catch(S){(b=new y("error")).error(S)}return new x(b,_.type||"string",_.mimeType)},generateAsync:function(v,b){return this.generateInternalStream(v).accumulate(b)},generateNodeStream:function(v,b){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(b)}};f.exports=L},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,f,h){f.exports=d("stream")},{stream:void 0}],17:[function(d,f,h){var p=d("./DataReader");function m(g){p.call(this,g);for(var y=0;y<this.data.length;y++)g[y]=255&g[y]}d("../utils").inherits(m,p),m.prototype.byteAt=function(g){return this.data[this.zero+g]},m.prototype.lastIndexOfSignature=function(g){for(var y=g.charCodeAt(0),x=g.charCodeAt(1),T=g.charCodeAt(2),R=g.charCodeAt(3),$=this.length-4;0<=$;--$)if(this.data[$]===y&&this.data[$+1]===x&&this.data[$+2]===T&&this.data[$+3]===R)return $-this.zero;return-1},m.prototype.readAndCheckSignature=function(g){var y=g.charCodeAt(0),x=g.charCodeAt(1),T=g.charCodeAt(2),R=g.charCodeAt(3),$=this.readData(4);return y===$[0]&&x===$[1]&&T===$[2]&&R===$[3]},m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var y=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,y},f.exports=m},{"../utils":32,"./DataReader":18}],18:[function(d,f,h){var p=d("../utils");function m(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var y,x=0;for(this.checkOffset(g),y=this.index+g-1;y>=this.index;y--)x=(x<<8)+this.byteAt(y);return this.index+=g,x},readString:function(g){return p.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},f.exports=m},{"../utils":32}],19:[function(d,f,h){var p=d("./Uint8ArrayReader");function m(g){p.call(this,g)}d("../utils").inherits(m,p),m.prototype.readData=function(g){this.checkOffset(g);var y=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,y},f.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,f,h){var p=d("./DataReader");function m(g){p.call(this,g)}d("../utils").inherits(m,p),m.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},m.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},m.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},m.prototype.readData=function(g){this.checkOffset(g);var y=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,y},f.exports=m},{"../utils":32,"./DataReader":18}],21:[function(d,f,h){var p=d("./ArrayReader");function m(g){p.call(this,g)}d("../utils").inherits(m,p),m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var y=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,y},f.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(d,f,h){var p=d("../utils"),m=d("../support"),g=d("./ArrayReader"),y=d("./StringReader"),x=d("./NodeBufferReader"),T=d("./Uint8ArrayReader");f.exports=function(R){var $=p.getTypeOf(R);return p.checkSupport($),$!=="string"||m.uint8array?$==="nodebuffer"?new x(R):m.uint8array?new T(p.transformTo("uint8array",R)):new g(p.transformTo("array",R)):new y(R)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,f,h){h.LOCAL_FILE_HEADER="PK",h.CENTRAL_FILE_HEADER="PK",h.CENTRAL_DIRECTORY_END="PK",h.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",h.ZIP64_CENTRAL_DIRECTORY_END="PK",h.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,f,h){var p=d("./GenericWorker"),m=d("../utils");function g(y){p.call(this,"ConvertWorker to "+y),this.destType=y}m.inherits(g,p),g.prototype.processChunk=function(y){this.push({data:m.transformTo(this.destType,y.data),meta:y.meta})},f.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(d,f,h){var p=d("./GenericWorker"),m=d("../crc32");function g(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(g,p),g.prototype.processChunk=function(y){this.streamInfo.crc32=m(y.data,this.streamInfo.crc32||0),this.push(y)},f.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,f,h){var p=d("../utils"),m=d("./GenericWorker");function g(y){m.call(this,"DataLengthProbe for "+y),this.propName=y,this.withStreamInfo(y,0)}p.inherits(g,m),g.prototype.processChunk=function(y){if(y){var x=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=x+y.data.length}m.prototype.processChunk.call(this,y)},f.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(d,f,h){var p=d("../utils"),m=d("./GenericWorker");function g(y){m.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,y.then(function(T){x.dataIsReady=!0,x.data=T,x.max=T&&T.length||0,x.type=p.getTypeOf(T),x.isPaused||x._tickAndRepeat()},function(T){x.error(T)})}p.inherits(g,m),g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var y=null,x=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":y=this.data.substring(this.index,x);break;case"uint8array":y=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":y=this.data.slice(this.index,x)}return this.index=x,this.push({data:y,meta:{percent:this.max?this.index/this.max*100:0}})},f.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(d,f,h){function p(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,g){return this._listeners[m].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,g){if(this._listeners[m])for(var y=0;y<this._listeners[m].length;y++)this._listeners[m][y].call(this,g)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var g=this;return m.on("data",function(y){g.processChunk(y)}),m.on("end",function(){g.end()}),m.on("error",function(y){g.error(y)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,g){return this.extraStreamInfo[m]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},f.exports=p},{}],29:[function(d,f,h){var p=d("../utils"),m=d("./ConvertWorker"),g=d("./GenericWorker"),y=d("../base64"),x=d("../support"),T=d("../external"),R=null;if(x.nodestream)try{R=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function $(O,U,j){var q=U;switch(U){case"blob":case"arraybuffer":q="uint8array";break;case"base64":q="string"}try{this._internalType=q,this._outputType=U,this._mimeType=j,p.checkSupport(q),this._worker=O.pipe(new m(q)),O.lock()}catch(H){this._worker=new g("error"),this._worker.error(H)}}$.prototype={accumulate:function(O){return(function(U,j){return new T.Promise(function(q,H){var E=[],C=U._internalType,L=U._outputType,v=U._mimeType;U.on("data",function(b,_){E.push(b),j&&j(_)}).on("error",function(b){E=[],H(b)}).on("end",function(){try{var b=(function(_,w,S){switch(_){case"blob":return p.newBlob(p.transformTo("arraybuffer",w),S);case"base64":return y.encode(w);default:return p.transformTo(_,w)}})(L,(function(_,w){var S,I=0,F=null,W=0;for(S=0;S<w.length;S++)W+=w[S].length;switch(_){case"string":return w.join("");case"array":return Array.prototype.concat.apply([],w);case"uint8array":for(F=new Uint8Array(W),S=0;S<w.length;S++)F.set(w[S],I),I+=w[S].length;return F;case"nodebuffer":return s.concat(w);default:throw new Error("concat : unsupported type '"+_+"'")}})(C,E),v);q(b)}catch(_){H(_)}E=[]}).resume()})})(this,O)},on:function(O,U){var j=this;return O==="data"?this._worker.on(O,function(q){U.call(j,q.data,q.meta)}):this._worker.on(O,function(){p.delay(U,arguments,j)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(O){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new R(this,{objectMode:this._outputType!=="nodebuffer"},O)}},f.exports=$},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,f,h){if(h.base64=!0,h.array=!0,h.string=!0,h.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",h.nodebuffer=s!==void 0,h.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")h.blob=!1;else{var p=new ArrayBuffer(0);try{h.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(p),h.blob=m.getBlob("application/zip").size===0}catch{h.blob=!1}}}try{h.nodestream=!!d("readable-stream").Readable}catch{h.nodestream=!1}},{"readable-stream":16}],31:[function(d,f,h){for(var p=d("./utils"),m=d("./support"),g=d("./nodejsUtils"),y=d("./stream/GenericWorker"),x=new Array(256),T=0;T<256;T++)x[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function R(){y.call(this,"utf-8 decode"),this.leftOver=null}function $(){y.call(this,"utf-8 encode")}x[254]=x[254]=1,h.utf8encode=function(O){return m.nodebuffer?g.newBufferFrom(O,"utf-8"):(function(U){var j,q,H,E,C,L=U.length,v=0;for(E=0;E<L;E++)(64512&(q=U.charCodeAt(E)))==55296&&E+1<L&&(64512&(H=U.charCodeAt(E+1)))==56320&&(q=65536+(q-55296<<10)+(H-56320),E++),v+=q<128?1:q<2048?2:q<65536?3:4;for(j=m.uint8array?new Uint8Array(v):new Array(v),E=C=0;C<v;E++)(64512&(q=U.charCodeAt(E)))==55296&&E+1<L&&(64512&(H=U.charCodeAt(E+1)))==56320&&(q=65536+(q-55296<<10)+(H-56320),E++),q<128?j[C++]=q:(q<2048?j[C++]=192|q>>>6:(q<65536?j[C++]=224|q>>>12:(j[C++]=240|q>>>18,j[C++]=128|q>>>12&63),j[C++]=128|q>>>6&63),j[C++]=128|63&q);return j})(O)},h.utf8decode=function(O){return m.nodebuffer?p.transformTo("nodebuffer",O).toString("utf-8"):(function(U){var j,q,H,E,C=U.length,L=new Array(2*C);for(j=q=0;j<C;)if((H=U[j++])<128)L[q++]=H;else if(4<(E=x[H]))L[q++]=65533,j+=E-1;else{for(H&=E===2?31:E===3?15:7;1<E&&j<C;)H=H<<6|63&U[j++],E--;1<E?L[q++]=65533:H<65536?L[q++]=H:(H-=65536,L[q++]=55296|H>>10&1023,L[q++]=56320|1023&H)}return L.length!==q&&(L.subarray?L=L.subarray(0,q):L.length=q),p.applyFromCharCode(L)})(O=p.transformTo(m.uint8array?"uint8array":"array",O))},p.inherits(R,y),R.prototype.processChunk=function(O){var U=p.transformTo(m.uint8array?"uint8array":"array",O.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var j=U;(U=new Uint8Array(j.length+this.leftOver.length)).set(this.leftOver,0),U.set(j,this.leftOver.length)}else U=this.leftOver.concat(U);this.leftOver=null}var q=(function(E,C){var L;for((C=C||E.length)>E.length&&(C=E.length),L=C-1;0<=L&&(192&E[L])==128;)L--;return L<0||L===0?C:L+x[E[L]]>C?L:C})(U),H=U;q!==U.length&&(m.uint8array?(H=U.subarray(0,q),this.leftOver=U.subarray(q,U.length)):(H=U.slice(0,q),this.leftOver=U.slice(q,U.length))),this.push({data:h.utf8decode(H),meta:O.meta})},R.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:h.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},h.Utf8DecodeWorker=R,p.inherits($,y),$.prototype.processChunk=function(O){this.push({data:h.utf8encode(O.data),meta:O.meta})},h.Utf8EncodeWorker=$},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,f,h){var p=d("./support"),m=d("./base64"),g=d("./nodejsUtils"),y=d("./external");function x(j){return j}function T(j,q){for(var H=0;H<j.length;++H)q[H]=255&j.charCodeAt(H);return q}d("setimmediate"),h.newBlob=function(j,q){h.checkSupport("blob");try{return new Blob([j],{type:q})}catch{try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return H.append(j),H.getBlob(q)}catch{throw new Error("Bug : can't construct the Blob.")}}};var R={stringifyByChunk:function(j,q,H){var E=[],C=0,L=j.length;if(L<=H)return String.fromCharCode.apply(null,j);for(;C<L;)q==="array"||q==="nodebuffer"?E.push(String.fromCharCode.apply(null,j.slice(C,Math.min(C+H,L)))):E.push(String.fromCharCode.apply(null,j.subarray(C,Math.min(C+H,L)))),C+=H;return E.join("")},stringifyByChar:function(j){for(var q="",H=0;H<j.length;H++)q+=String.fromCharCode(j[H]);return q},applyCanBeUsed:{uint8array:(function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}})()}};function $(j){var q=65536,H=h.getTypeOf(j),E=!0;if(H==="uint8array"?E=R.applyCanBeUsed.uint8array:H==="nodebuffer"&&(E=R.applyCanBeUsed.nodebuffer),E)for(;1<q;)try{return R.stringifyByChunk(j,H,q)}catch{q=Math.floor(q/2)}return R.stringifyByChar(j)}function O(j,q){for(var H=0;H<j.length;H++)q[H]=j[H];return q}h.applyFromCharCode=$;var U={};U.string={string:x,array:function(j){return T(j,new Array(j.length))},arraybuffer:function(j){return U.string.uint8array(j).buffer},uint8array:function(j){return T(j,new Uint8Array(j.length))},nodebuffer:function(j){return T(j,g.allocBuffer(j.length))}},U.array={string:$,array:x,arraybuffer:function(j){return new Uint8Array(j).buffer},uint8array:function(j){return new Uint8Array(j)},nodebuffer:function(j){return g.newBufferFrom(j)}},U.arraybuffer={string:function(j){return $(new Uint8Array(j))},array:function(j){return O(new Uint8Array(j),new Array(j.byteLength))},arraybuffer:x,uint8array:function(j){return new Uint8Array(j)},nodebuffer:function(j){return g.newBufferFrom(new Uint8Array(j))}},U.uint8array={string:$,array:function(j){return O(j,new Array(j.length))},arraybuffer:function(j){return j.buffer},uint8array:x,nodebuffer:function(j){return g.newBufferFrom(j)}},U.nodebuffer={string:$,array:function(j){return O(j,new Array(j.length))},arraybuffer:function(j){return U.nodebuffer.uint8array(j).buffer},uint8array:function(j){return O(j,new Uint8Array(j.length))},nodebuffer:x},h.transformTo=function(j,q){if(q=q||"",!j)return q;h.checkSupport(j);var H=h.getTypeOf(q);return U[H][j](q)},h.resolve=function(j){for(var q=j.split("/"),H=[],E=0;E<q.length;E++){var C=q[E];C==="."||C===""&&E!==0&&E!==q.length-1||(C===".."?H.pop():H.push(C))}return H.join("/")},h.getTypeOf=function(j){return typeof j=="string"?"string":Object.prototype.toString.call(j)==="[object Array]"?"array":p.nodebuffer&&g.isBuffer(j)?"nodebuffer":p.uint8array&&j instanceof Uint8Array?"uint8array":p.arraybuffer&&j instanceof ArrayBuffer?"arraybuffer":void 0},h.checkSupport=function(j){if(!p[j.toLowerCase()])throw new Error(j+" is not supported by this platform")},h.MAX_VALUE_16BITS=65535,h.MAX_VALUE_32BITS=-1,h.pretty=function(j){var q,H,E="";for(H=0;H<(j||"").length;H++)E+="\\x"+((q=j.charCodeAt(H))<16?"0":"")+q.toString(16).toUpperCase();return E},h.delay=function(j,q,H){c(function(){j.apply(H||null,q||[])})},h.inherits=function(j,q){function H(){}H.prototype=q.prototype,j.prototype=new H},h.extend=function(){var j,q,H={};for(j=0;j<arguments.length;j++)for(q in arguments[j])Object.prototype.hasOwnProperty.call(arguments[j],q)&&H[q]===void 0&&(H[q]=arguments[j][q]);return H},h.prepareContent=function(j,q,H,E,C){return y.Promise.resolve(q).then(function(L){return p.blob&&(L instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(L))!==-1)&&typeof FileReader<"u"?new y.Promise(function(v,b){var _=new FileReader;_.onload=function(w){v(w.target.result)},_.onerror=function(w){b(w.target.error)},_.readAsArrayBuffer(L)}):L}).then(function(L){var v=h.getTypeOf(L);return v?(v==="arraybuffer"?L=h.transformTo("uint8array",L):v==="string"&&(C?L=m.decode(L):H&&E!==!0&&(L=(function(b){return T(b,p.uint8array?new Uint8Array(b.length):new Array(b.length))})(L))),L):y.Promise.reject(new Error("Can't read the data of '"+j+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,f,h){var p=d("./reader/readerFor"),m=d("./utils"),g=d("./signature"),y=d("./zipEntry"),x=d("./support");function T(R){this.files=[],this.loadOptions=R}T.prototype={checkSignature:function(R){if(!this.reader.readAndCheckSignature(R)){this.reader.index-=4;var $=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty($)+", expected "+m.pretty(R)+")")}},isSignature:function(R,$){var O=this.reader.index;this.reader.setIndex(R);var U=this.reader.readString(4)===$;return this.reader.setIndex(O),U},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var R=this.reader.readData(this.zipCommentLength),$=x.uint8array?"uint8array":"array",O=m.transformTo($,R);this.zipComment=this.loadOptions.decodeFileName(O)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var R,$,O,U=this.zip64EndOfCentralSize-44;0<U;)R=this.reader.readInt(2),$=this.reader.readInt(4),O=this.reader.readData($),this.zip64ExtensibleData[R]={id:R,length:$,value:O}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var R,$;for(R=0;R<this.files.length;R++)$=this.files[R],this.reader.setIndex($.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),$.readLocalPart(this.reader),$.handleUTF8(),$.processAttributes()},readCentralDir:function(){var R;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(R=new y({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(R);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var R=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(R<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(R);var $=R;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(R=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(R),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var O=this.centralDirOffset+this.centralDirSize;this.zip64&&(O+=20,O+=12+this.zip64EndOfCentralSize);var U=$-O;if(0<U)this.isSignature($,g.CENTRAL_FILE_HEADER)||(this.reader.zero=U);else if(U<0)throw new Error("Corrupted zip: missing "+Math.abs(U)+" bytes.")},prepareReader:function(R){this.reader=p(R)},load:function(R){this.prepareReader(R),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},f.exports=T},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,f,h){var p=d("./reader/readerFor"),m=d("./utils"),g=d("./compressedObject"),y=d("./crc32"),x=d("./utf8"),T=d("./compressions"),R=d("./support");function $(O,U){this.options=O,this.loadOptions=U}$.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(O){var U,j;if(O.skip(22),this.fileNameLength=O.readInt(2),j=O.readInt(2),this.fileName=O.readData(this.fileNameLength),O.skip(j),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((U=(function(q){for(var H in T)if(Object.prototype.hasOwnProperty.call(T,H)&&T[H].magic===q)return T[H];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,U,O.readData(this.compressedSize))},readCentralPart:function(O){this.versionMadeBy=O.readInt(2),O.skip(2),this.bitFlag=O.readInt(2),this.compressionMethod=O.readString(2),this.date=O.readDate(),this.crc32=O.readInt(4),this.compressedSize=O.readInt(4),this.uncompressedSize=O.readInt(4);var U=O.readInt(2);if(this.extraFieldsLength=O.readInt(2),this.fileCommentLength=O.readInt(2),this.diskNumberStart=O.readInt(2),this.internalFileAttributes=O.readInt(2),this.externalFileAttributes=O.readInt(4),this.localHeaderOffset=O.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");O.skip(U),this.readExtraFields(O),this.parseZIP64ExtraField(O),this.fileComment=O.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var O=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),O==0&&(this.dosPermissions=63&this.externalFileAttributes),O==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var O=p(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=O.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=O.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=O.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=O.readInt(4))}},readExtraFields:function(O){var U,j,q,H=O.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});O.index+4<H;)U=O.readInt(2),j=O.readInt(2),q=O.readData(j),this.extraFields[U]={id:U,length:j,value:q};O.setIndex(H)},handleUTF8:function(){var O=R.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x.utf8decode(this.fileName),this.fileCommentStr=x.utf8decode(this.fileComment);else{var U=this.findExtraFieldUnicodePath();if(U!==null)this.fileNameStr=U;else{var j=m.transformTo(O,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(j)}var q=this.findExtraFieldUnicodeComment();if(q!==null)this.fileCommentStr=q;else{var H=m.transformTo(O,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(H)}}},findExtraFieldUnicodePath:function(){var O=this.extraFields[28789];if(O){var U=p(O.value);return U.readInt(1)!==1||y(this.fileName)!==U.readInt(4)?null:x.utf8decode(U.readData(O.length-5))}return null},findExtraFieldUnicodeComment:function(){var O=this.extraFields[25461];if(O){var U=p(O.value);return U.readInt(1)!==1||y(this.fileComment)!==U.readInt(4)?null:x.utf8decode(U.readData(O.length-5))}return null}},f.exports=$},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,f,h){function p(U,j,q){this.name=U,this.dir=q.dir,this.date=q.date,this.comment=q.comment,this.unixPermissions=q.unixPermissions,this.dosPermissions=q.dosPermissions,this._data=j,this._dataBinary=q.binary,this.options={compression:q.compression,compressionOptions:q.compressionOptions}}var m=d("./stream/StreamHelper"),g=d("./stream/DataWorker"),y=d("./utf8"),x=d("./compressedObject"),T=d("./stream/GenericWorker");p.prototype={internalStream:function(U){var j=null,q="string";try{if(!U)throw new Error("No output type specified.");var H=(q=U.toLowerCase())==="string"||q==="text";q!=="binarystring"&&q!=="text"||(q="string"),j=this._decompressWorker();var E=!this._dataBinary;E&&!H&&(j=j.pipe(new y.Utf8EncodeWorker)),!E&&H&&(j=j.pipe(new y.Utf8DecodeWorker))}catch(C){(j=new T("error")).error(C)}return new m(j,q,"")},async:function(U,j){return this.internalStream(U).accumulate(j)},nodeStream:function(U,j){return this.internalStream(U||"nodebuffer").toNodejsStream(j)},_compressWorker:function(U,j){if(this._data instanceof x&&this._data.compression.magic===U.magic)return this._data.getCompressedWorker();var q=this._decompressWorker();return this._dataBinary||(q=q.pipe(new y.Utf8EncodeWorker)),x.createWorkerFrom(q,U,j)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof T?this._data:new g(this._data)}};for(var R=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],$=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},O=0;O<R.length;O++)p.prototype[R[O]]=$;f.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,f,h){(function(p){var m,g,y=p.MutationObserver||p.WebKitMutationObserver;if(y){var x=0,T=new y(U),R=p.document.createTextNode("");T.observe(R,{characterData:!0}),m=function(){R.data=x=++x%2}}else if(p.setImmediate||p.MessageChannel===void 0)m="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var j=p.document.createElement("script");j.onreadystatechange=function(){U(),j.onreadystatechange=null,j.parentNode.removeChild(j),j=null},p.document.documentElement.appendChild(j)}:function(){setTimeout(U,0)};else{var $=new p.MessageChannel;$.port1.onmessage=U,m=function(){$.port2.postMessage(0)}}var O=[];function U(){var j,q;g=!0;for(var H=O.length;H;){for(q=O,O=[],j=-1;++j<H;)q[j]();H=O.length}g=!1}f.exports=function(j){O.push(j)!==1||g||m()}}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,f,h){var p=d("immediate");function m(){}var g={},y=["REJECTED"],x=["FULFILLED"],T=["PENDING"];function R(H){if(typeof H!="function")throw new TypeError("resolver must be a function");this.state=T,this.queue=[],this.outcome=void 0,H!==m&&j(this,H)}function $(H,E,C){this.promise=H,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function O(H,E,C){p(function(){var L;try{L=E(C)}catch(v){return g.reject(H,v)}L===H?g.reject(H,new TypeError("Cannot resolve promise with itself")):g.resolve(H,L)})}function U(H){var E=H&&H.then;if(H&&(typeof H=="object"||typeof H=="function")&&typeof E=="function")return function(){E.apply(H,arguments)}}function j(H,E){var C=!1;function L(_){C||(C=!0,g.reject(H,_))}function v(_){C||(C=!0,g.resolve(H,_))}var b=q(function(){E(v,L)});b.status==="error"&&L(b.value)}function q(H,E){var C={};try{C.value=H(E),C.status="success"}catch(L){C.status="error",C.value=L}return C}(f.exports=R).prototype.finally=function(H){if(typeof H!="function")return this;var E=this.constructor;return this.then(function(C){return E.resolve(H()).then(function(){return C})},function(C){return E.resolve(H()).then(function(){throw C})})},R.prototype.catch=function(H){return this.then(null,H)},R.prototype.then=function(H,E){if(typeof H!="function"&&this.state===x||typeof E!="function"&&this.state===y)return this;var C=new this.constructor(m);return this.state!==T?O(C,this.state===x?H:E,this.outcome):this.queue.push(new $(C,H,E)),C},$.prototype.callFulfilled=function(H){g.resolve(this.promise,H)},$.prototype.otherCallFulfilled=function(H){O(this.promise,this.onFulfilled,H)},$.prototype.callRejected=function(H){g.reject(this.promise,H)},$.prototype.otherCallRejected=function(H){O(this.promise,this.onRejected,H)},g.resolve=function(H,E){var C=q(U,E);if(C.status==="error")return g.reject(H,C.value);var L=C.value;if(L)j(H,L);else{H.state=x,H.outcome=E;for(var v=-1,b=H.queue.length;++v<b;)H.queue[v].callFulfilled(E)}return H},g.reject=function(H,E){H.state=y,H.outcome=E;for(var C=-1,L=H.queue.length;++C<L;)H.queue[C].callRejected(E);return H},R.resolve=function(H){return H instanceof this?H:g.resolve(new this(m),H)},R.reject=function(H){var E=new this(m);return g.reject(E,H)},R.all=function(H){var E=this;if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=H.length,L=!1;if(!C)return this.resolve([]);for(var v=new Array(C),b=0,_=-1,w=new this(m);++_<C;)S(H[_],_);return w;function S(I,F){E.resolve(I).then(function(W){v[F]=W,++b!==C||L||(L=!0,g.resolve(w,v))},function(W){L||(L=!0,g.reject(w,W))})}},R.race=function(H){if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=H.length,C=!1;if(!E)return this.resolve([]);for(var L,v=-1,b=new this(m);++v<E;)L=H[v],this.resolve(L).then(function(_){C||(C=!0,g.resolve(b,_))},function(_){C||(C=!0,g.reject(b,_))});return b}},{immediate:36}],38:[function(d,f,h){var p={};(0,d("./lib/utils/common").assign)(p,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),f.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,f,h){var p=d("./zlib/deflate"),m=d("./utils/common"),g=d("./utils/strings"),y=d("./zlib/messages"),x=d("./zlib/zstream"),T=Object.prototype.toString;function R(O){if(!(this instanceof R))return new R(O);this.options=m.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},O||{});var U=this.options;U.raw&&0<U.windowBits?U.windowBits=-U.windowBits:U.gzip&&0<U.windowBits&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var j=p.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(j!==0)throw new Error(y[j]);if(U.header&&p.deflateSetHeader(this.strm,U.header),U.dictionary){var q;if(q=typeof U.dictionary=="string"?g.string2buf(U.dictionary):T.call(U.dictionary)==="[object ArrayBuffer]"?new Uint8Array(U.dictionary):U.dictionary,(j=p.deflateSetDictionary(this.strm,q))!==0)throw new Error(y[j]);this._dict_set=!0}}function $(O,U){var j=new R(U);if(j.push(O,!0),j.err)throw j.msg||y[j.err];return j.result}R.prototype.push=function(O,U){var j,q,H=this.strm,E=this.options.chunkSize;if(this.ended)return!1;q=U===~~U?U:U===!0?4:0,typeof O=="string"?H.input=g.string2buf(O):T.call(O)==="[object ArrayBuffer]"?H.input=new Uint8Array(O):H.input=O,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new m.Buf8(E),H.next_out=0,H.avail_out=E),(j=p.deflate(H,q))!==1&&j!==0)return this.onEnd(j),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||q!==4&&q!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(H.output,H.next_out))):this.onData(m.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&j!==1);return q===4?(j=p.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===0):q!==2||(this.onEnd(0),!(H.avail_out=0))},R.prototype.onData=function(O){this.chunks.push(O)},R.prototype.onEnd=function(O){O===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},h.Deflate=R,h.deflate=$,h.deflateRaw=function(O,U){return(U=U||{}).raw=!0,$(O,U)},h.gzip=function(O,U){return(U=U||{}).gzip=!0,$(O,U)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,f,h){var p=d("./zlib/inflate"),m=d("./utils/common"),g=d("./utils/strings"),y=d("./zlib/constants"),x=d("./zlib/messages"),T=d("./zlib/zstream"),R=d("./zlib/gzheader"),$=Object.prototype.toString;function O(j){if(!(this instanceof O))return new O(j);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},j||{});var q=this.options;q.raw&&0<=q.windowBits&&q.windowBits<16&&(q.windowBits=-q.windowBits,q.windowBits===0&&(q.windowBits=-15)),!(0<=q.windowBits&&q.windowBits<16)||j&&j.windowBits||(q.windowBits+=32),15<q.windowBits&&q.windowBits<48&&(15&q.windowBits)==0&&(q.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var H=p.inflateInit2(this.strm,q.windowBits);if(H!==y.Z_OK)throw new Error(x[H]);this.header=new R,p.inflateGetHeader(this.strm,this.header)}function U(j,q){var H=new O(q);if(H.push(j,!0),H.err)throw H.msg||x[H.err];return H.result}O.prototype.push=function(j,q){var H,E,C,L,v,b,_=this.strm,w=this.options.chunkSize,S=this.options.dictionary,I=!1;if(this.ended)return!1;E=q===~~q?q:q===!0?y.Z_FINISH:y.Z_NO_FLUSH,typeof j=="string"?_.input=g.binstring2buf(j):$.call(j)==="[object ArrayBuffer]"?_.input=new Uint8Array(j):_.input=j,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new m.Buf8(w),_.next_out=0,_.avail_out=w),(H=p.inflate(_,y.Z_NO_FLUSH))===y.Z_NEED_DICT&&S&&(b=typeof S=="string"?g.string2buf(S):$.call(S)==="[object ArrayBuffer]"?new Uint8Array(S):S,H=p.inflateSetDictionary(this.strm,b)),H===y.Z_BUF_ERROR&&I===!0&&(H=y.Z_OK,I=!1),H!==y.Z_STREAM_END&&H!==y.Z_OK)return this.onEnd(H),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&H!==y.Z_STREAM_END&&(_.avail_in!==0||E!==y.Z_FINISH&&E!==y.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=g.utf8border(_.output,_.next_out),L=_.next_out-C,v=g.buf2string(_.output,C),_.next_out=L,_.avail_out=w-L,L&&m.arraySet(_.output,_.output,C,L,0),this.onData(v)):this.onData(m.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(I=!0)}while((0<_.avail_in||_.avail_out===0)&&H!==y.Z_STREAM_END);return H===y.Z_STREAM_END&&(E=y.Z_FINISH),E===y.Z_FINISH?(H=p.inflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===y.Z_OK):E!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),!(_.avail_out=0))},O.prototype.onData=function(j){this.chunks.push(j)},O.prototype.onEnd=function(j){j===y.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},h.Inflate=O,h.inflate=U,h.inflateRaw=function(j,q){return(q=q||{}).raw=!0,U(j,q)},h.ungzip=U},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,f,h){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";h.assign=function(y){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var T=x.shift();if(T){if(typeof T!="object")throw new TypeError(T+"must be non-object");for(var R in T)T.hasOwnProperty(R)&&(y[R]=T[R])}}return y},h.shrinkBuf=function(y,x){return y.length===x?y:y.subarray?y.subarray(0,x):(y.length=x,y)};var m={arraySet:function(y,x,T,R,$){if(x.subarray&&y.subarray)y.set(x.subarray(T,T+R),$);else for(var O=0;O<R;O++)y[$+O]=x[T+O]},flattenChunks:function(y){var x,T,R,$,O,U;for(x=R=0,T=y.length;x<T;x++)R+=y[x].length;for(U=new Uint8Array(R),x=$=0,T=y.length;x<T;x++)O=y[x],U.set(O,$),$+=O.length;return U}},g={arraySet:function(y,x,T,R,$){for(var O=0;O<R;O++)y[$+O]=x[T+O]},flattenChunks:function(y){return[].concat.apply([],y)}};h.setTyped=function(y){y?(h.Buf8=Uint8Array,h.Buf16=Uint16Array,h.Buf32=Int32Array,h.assign(h,m)):(h.Buf8=Array,h.Buf16=Array,h.Buf32=Array,h.assign(h,g))},h.setTyped(p)},{}],42:[function(d,f,h){var p=d("./common"),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var y=new p.Buf8(256),x=0;x<256;x++)y[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function T(R,$){if($<65537&&(R.subarray&&g||!R.subarray&&m))return String.fromCharCode.apply(null,p.shrinkBuf(R,$));for(var O="",U=0;U<$;U++)O+=String.fromCharCode(R[U]);return O}y[254]=y[254]=1,h.string2buf=function(R){var $,O,U,j,q,H=R.length,E=0;for(j=0;j<H;j++)(64512&(O=R.charCodeAt(j)))==55296&&j+1<H&&(64512&(U=R.charCodeAt(j+1)))==56320&&(O=65536+(O-55296<<10)+(U-56320),j++),E+=O<128?1:O<2048?2:O<65536?3:4;for($=new p.Buf8(E),j=q=0;q<E;j++)(64512&(O=R.charCodeAt(j)))==55296&&j+1<H&&(64512&(U=R.charCodeAt(j+1)))==56320&&(O=65536+(O-55296<<10)+(U-56320),j++),O<128?$[q++]=O:(O<2048?$[q++]=192|O>>>6:(O<65536?$[q++]=224|O>>>12:($[q++]=240|O>>>18,$[q++]=128|O>>>12&63),$[q++]=128|O>>>6&63),$[q++]=128|63&O);return $},h.buf2binstring=function(R){return T(R,R.length)},h.binstring2buf=function(R){for(var $=new p.Buf8(R.length),O=0,U=$.length;O<U;O++)$[O]=R.charCodeAt(O);return $},h.buf2string=function(R,$){var O,U,j,q,H=$||R.length,E=new Array(2*H);for(O=U=0;O<H;)if((j=R[O++])<128)E[U++]=j;else if(4<(q=y[j]))E[U++]=65533,O+=q-1;else{for(j&=q===2?31:q===3?15:7;1<q&&O<H;)j=j<<6|63&R[O++],q--;1<q?E[U++]=65533:j<65536?E[U++]=j:(j-=65536,E[U++]=55296|j>>10&1023,E[U++]=56320|1023&j)}return T(E,U)},h.utf8border=function(R,$){var O;for(($=$||R.length)>R.length&&($=R.length),O=$-1;0<=O&&(192&R[O])==128;)O--;return O<0||O===0?$:O+y[R[O]]>$?O:$}},{"./common":41}],43:[function(d,f,h){f.exports=function(p,m,g,y){for(var x=65535&p|0,T=p>>>16&65535|0,R=0;g!==0;){for(g-=R=2e3<g?2e3:g;T=T+(x=x+m[y++]|0)|0,--R;);x%=65521,T%=65521}return x|T<<16|0}},{}],44:[function(d,f,h){f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,f,h){var p=(function(){for(var m,g=[],y=0;y<256;y++){m=y;for(var x=0;x<8;x++)m=1&m?3988292384^m>>>1:m>>>1;g[y]=m}return g})();f.exports=function(m,g,y,x){var T=p,R=x+y;m^=-1;for(var $=x;$<R;$++)m=m>>>8^T[255&(m^g[$])];return-1^m}},{}],46:[function(d,f,h){var p,m=d("../utils/common"),g=d("./trees"),y=d("./adler32"),x=d("./crc32"),T=d("./messages"),R=-2,$=258,O=262,U=113;function j(M,Y){return M.msg=T[Y],Y}function q(M){return(M<<1)-(4<M?9:0)}function H(M){for(var Y=M.length;0<=--Y;)M[Y]=0}function E(M){var Y=M.state,k=Y.pending;k>M.avail_out&&(k=M.avail_out),k!==0&&(m.arraySet(M.output,Y.pending_buf,Y.pending_out,k,M.next_out),M.next_out+=k,Y.pending_out+=k,M.total_out+=k,M.avail_out-=k,Y.pending-=k,Y.pending===0&&(Y.pending_out=0))}function C(M,Y){g._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,Y),M.block_start=M.strstart,E(M.strm)}function L(M,Y){M.pending_buf[M.pending++]=Y}function v(M,Y){M.pending_buf[M.pending++]=Y>>>8&255,M.pending_buf[M.pending++]=255&Y}function b(M,Y){var k,D,z=M.max_chain_length,J=M.strstart,ne=M.prev_length,te=M.nice_match,se=M.strstart>M.w_size-O?M.strstart-(M.w_size-O):0,ve=M.window,ye=M.w_mask,K=M.prev,ce=M.strstart+$,de=ve[J+ne-1],we=ve[J+ne];M.prev_length>=M.good_match&&(z>>=2),te>M.lookahead&&(te=M.lookahead);do if(ve[(k=Y)+ne]===we&&ve[k+ne-1]===de&&ve[k]===ve[J]&&ve[++k]===ve[J+1]){J+=2,k++;do;while(ve[++J]===ve[++k]&&ve[++J]===ve[++k]&&ve[++J]===ve[++k]&&ve[++J]===ve[++k]&&ve[++J]===ve[++k]&&ve[++J]===ve[++k]&&ve[++J]===ve[++k]&&ve[++J]===ve[++k]&&J<ce);if(D=$-(ce-J),J=ce-$,ne<D){if(M.match_start=Y,te<=(ne=D))break;de=ve[J+ne-1],we=ve[J+ne]}}while((Y=K[Y&ye])>se&&--z!=0);return ne<=M.lookahead?ne:M.lookahead}function _(M){var Y,k,D,z,J,ne,te,se,ve,ye,K=M.w_size;do{if(z=M.window_size-M.lookahead-M.strstart,M.strstart>=K+(K-O)){for(m.arraySet(M.window,M.window,K,K,0),M.match_start-=K,M.strstart-=K,M.block_start-=K,Y=k=M.hash_size;D=M.head[--Y],M.head[Y]=K<=D?D-K:0,--k;);for(Y=k=K;D=M.prev[--Y],M.prev[Y]=K<=D?D-K:0,--k;);z+=K}if(M.strm.avail_in===0)break;if(ne=M.strm,te=M.window,se=M.strstart+M.lookahead,ye=void 0,(ve=z)<(ye=ne.avail_in)&&(ye=ve),k=ye===0?0:(ne.avail_in-=ye,m.arraySet(te,ne.input,ne.next_in,ye,se),ne.state.wrap===1?ne.adler=y(ne.adler,te,ye,se):ne.state.wrap===2&&(ne.adler=x(ne.adler,te,ye,se)),ne.next_in+=ye,ne.total_in+=ye,ye),M.lookahead+=k,M.lookahead+M.insert>=3)for(J=M.strstart-M.insert,M.ins_h=M.window[J],M.ins_h=(M.ins_h<<M.hash_shift^M.window[J+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[J+3-1])&M.hash_mask,M.prev[J&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=J,J++,M.insert--,!(M.lookahead+M.insert<3)););}while(M.lookahead<O&&M.strm.avail_in!==0)}function w(M,Y){for(var k,D;;){if(M.lookahead<O){if(_(M),M.lookahead<O&&Y===0)return 1;if(M.lookahead===0)break}if(k=0,M.lookahead>=3&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,k=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),k!==0&&M.strstart-k<=M.w_size-O&&(M.match_length=b(M,k)),M.match_length>=3)if(D=g._tr_tally(M,M.strstart-M.match_start,M.match_length-3),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=3){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,k=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else D=g._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(D&&(C(M,!1),M.strm.avail_out===0))return 1}return M.insert=M.strstart<2?M.strstart:2,Y===4?(C(M,!0),M.strm.avail_out===0?3:4):M.last_lit&&(C(M,!1),M.strm.avail_out===0)?1:2}function S(M,Y){for(var k,D,z;;){if(M.lookahead<O){if(_(M),M.lookahead<O&&Y===0)return 1;if(M.lookahead===0)break}if(k=0,M.lookahead>=3&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,k=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=2,k!==0&&M.prev_length<M.max_lazy_match&&M.strstart-k<=M.w_size-O&&(M.match_length=b(M,k),M.match_length<=5&&(M.strategy===1||M.match_length===3&&4096<M.strstart-M.match_start)&&(M.match_length=2)),M.prev_length>=3&&M.match_length<=M.prev_length){for(z=M.strstart+M.lookahead-3,D=g._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-3),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=z&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+3-1])&M.hash_mask,k=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=2,M.strstart++,D&&(C(M,!1),M.strm.avail_out===0))return 1}else if(M.match_available){if((D=g._tr_tally(M,0,M.window[M.strstart-1]))&&C(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return 1}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(D=g._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<2?M.strstart:2,Y===4?(C(M,!0),M.strm.avail_out===0?3:4):M.last_lit&&(C(M,!1),M.strm.avail_out===0)?1:2}function I(M,Y,k,D,z){this.good_length=M,this.max_lazy=Y,this.nice_length=k,this.max_chain=D,this.func=z}function F(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(1146),this.dyn_dtree=new m.Buf16(122),this.bl_tree=new m.Buf16(78),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(16),this.heap=new m.Buf16(573),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(573),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(M){var Y;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=2,(Y=M.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?42:U,M.adler=Y.wrap===2?0:1,Y.last_flush=0,g._tr_init(Y),0):j(M,R)}function B(M){var Y=W(M);return Y===0&&(function(k){k.window_size=2*k.w_size,H(k.head),k.max_lazy_match=p[k.level].max_lazy,k.good_match=p[k.level].good_length,k.nice_match=p[k.level].nice_length,k.max_chain_length=p[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=2,k.match_available=0,k.ins_h=0})(M.state),Y}function X(M,Y,k,D,z,J){if(!M)return R;var ne=1;if(Y===-1&&(Y=6),D<0?(ne=0,D=-D):15<D&&(ne=2,D-=16),z<1||9<z||k!==8||D<8||15<D||Y<0||9<Y||J<0||4<J)return j(M,R);D===8&&(D=9);var te=new F;return(M.state=te).strm=M,te.wrap=ne,te.gzhead=null,te.w_bits=D,te.w_size=1<<te.w_bits,te.w_mask=te.w_size-1,te.hash_bits=z+7,te.hash_size=1<<te.hash_bits,te.hash_mask=te.hash_size-1,te.hash_shift=~~((te.hash_bits+3-1)/3),te.window=new m.Buf8(2*te.w_size),te.head=new m.Buf16(te.hash_size),te.prev=new m.Buf16(te.w_size),te.lit_bufsize=1<<z+6,te.pending_buf_size=4*te.lit_bufsize,te.pending_buf=new m.Buf8(te.pending_buf_size),te.d_buf=1*te.lit_bufsize,te.l_buf=3*te.lit_bufsize,te.level=Y,te.strategy=J,te.method=k,B(M)}p=[new I(0,0,0,0,function(M,Y){var k=65535;for(k>M.pending_buf_size-5&&(k=M.pending_buf_size-5);;){if(M.lookahead<=1){if(_(M),M.lookahead===0&&Y===0)return 1;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var D=M.block_start+k;if((M.strstart===0||M.strstart>=D)&&(M.lookahead=M.strstart-D,M.strstart=D,C(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-O&&(C(M,!1),M.strm.avail_out===0))return 1}return M.insert=0,Y===4?(C(M,!0),M.strm.avail_out===0?3:4):(M.strstart>M.block_start&&(C(M,!1),M.strm.avail_out),1)}),new I(4,4,8,4,w),new I(4,5,16,8,w),new I(4,6,32,32,w),new I(4,4,16,16,S),new I(8,16,32,32,S),new I(8,16,128,128,S),new I(8,32,128,256,S),new I(32,128,258,1024,S),new I(32,258,258,4096,S)],h.deflateInit=function(M,Y){return X(M,Y,8,15,8,0)},h.deflateInit2=X,h.deflateReset=B,h.deflateResetKeep=W,h.deflateSetHeader=function(M,Y){return M&&M.state?M.state.wrap!==2?R:(M.state.gzhead=Y,0):R},h.deflate=function(M,Y){var k,D,z,J;if(!M||!M.state||5<Y||Y<0)return M?j(M,R):R;if(D=M.state,!M.output||!M.input&&M.avail_in!==0||D.status===666&&Y!==4)return j(M,M.avail_out===0?-5:R);if(D.strm=M,k=D.last_flush,D.last_flush=Y,D.status===42)if(D.wrap===2)M.adler=0,L(D,31),L(D,139),L(D,8),D.gzhead?(L(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),L(D,255&D.gzhead.time),L(D,D.gzhead.time>>8&255),L(D,D.gzhead.time>>16&255),L(D,D.gzhead.time>>24&255),L(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),L(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(L(D,255&D.gzhead.extra.length),L(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(M.adler=x(M.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(L(D,0),L(D,0),L(D,0),L(D,0),L(D,0),L(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),L(D,3),D.status=U);else{var ne=8+(D.w_bits-8<<4)<<8;ne|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(ne|=32),ne+=31-ne%31,D.status=U,v(D,ne),D.strstart!==0&&(v(D,M.adler>>>16),v(D,65535&M.adler)),M.adler=1}if(D.status===69)if(D.gzhead.extra){for(z=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>z&&(M.adler=x(M.adler,D.pending_buf,D.pending-z,z)),E(M),z=D.pending,D.pending!==D.pending_buf_size));)L(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>z&&(M.adler=x(M.adler,D.pending_buf,D.pending-z,z)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){z=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>z&&(M.adler=x(M.adler,D.pending_buf,D.pending-z,z)),E(M),z=D.pending,D.pending===D.pending_buf_size)){J=1;break}J=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,L(D,J)}while(J!==0);D.gzhead.hcrc&&D.pending>z&&(M.adler=x(M.adler,D.pending_buf,D.pending-z,z)),J===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){z=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>z&&(M.adler=x(M.adler,D.pending_buf,D.pending-z,z)),E(M),z=D.pending,D.pending===D.pending_buf_size)){J=1;break}J=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,L(D,J)}while(J!==0);D.gzhead.hcrc&&D.pending>z&&(M.adler=x(M.adler,D.pending_buf,D.pending-z,z)),J===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&E(M),D.pending+2<=D.pending_buf_size&&(L(D,255&M.adler),L(D,M.adler>>8&255),M.adler=0,D.status=U)):D.status=U),D.pending!==0){if(E(M),M.avail_out===0)return D.last_flush=-1,0}else if(M.avail_in===0&&q(Y)<=q(k)&&Y!==4)return j(M,-5);if(D.status===666&&M.avail_in!==0)return j(M,-5);if(M.avail_in!==0||D.lookahead!==0||Y!==0&&D.status!==666){var te=D.strategy===2?(function(se,ve){for(var ye;;){if(se.lookahead===0&&(_(se),se.lookahead===0)){if(ve===0)return 1;break}if(se.match_length=0,ye=g._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,ye&&(C(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,ve===4?(C(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(C(se,!1),se.strm.avail_out===0)?1:2})(D,Y):D.strategy===3?(function(se,ve){for(var ye,K,ce,de,we=se.window;;){if(se.lookahead<=$){if(_(se),se.lookahead<=$&&ve===0)return 1;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=3&&0<se.strstart&&(K=we[ce=se.strstart-1])===we[++ce]&&K===we[++ce]&&K===we[++ce]){de=se.strstart+$;do;while(K===we[++ce]&&K===we[++ce]&&K===we[++ce]&&K===we[++ce]&&K===we[++ce]&&K===we[++ce]&&K===we[++ce]&&K===we[++ce]&&ce<de);se.match_length=$-(de-ce),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=3?(ye=g._tr_tally(se,1,se.match_length-3),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(ye=g._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),ye&&(C(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,ve===4?(C(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(C(se,!1),se.strm.avail_out===0)?1:2})(D,Y):p[D.level].func(D,Y);if(te!==3&&te!==4||(D.status=666),te===1||te===3)return M.avail_out===0&&(D.last_flush=-1),0;if(te===2&&(Y===1?g._tr_align(D):Y!==5&&(g._tr_stored_block(D,0,0,!1),Y===3&&(H(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),E(M),M.avail_out===0))return D.last_flush=-1,0}return Y!==4?0:D.wrap<=0?1:(D.wrap===2?(L(D,255&M.adler),L(D,M.adler>>8&255),L(D,M.adler>>16&255),L(D,M.adler>>24&255),L(D,255&M.total_in),L(D,M.total_in>>8&255),L(D,M.total_in>>16&255),L(D,M.total_in>>24&255)):(v(D,M.adler>>>16),v(D,65535&M.adler)),E(M),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?0:1)},h.deflateEnd=function(M){var Y;return M&&M.state?(Y=M.state.status)!==42&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==U&&Y!==666?j(M,R):(M.state=null,Y===U?j(M,-3):0):R},h.deflateSetDictionary=function(M,Y){var k,D,z,J,ne,te,se,ve,ye=Y.length;if(!M||!M.state||(J=(k=M.state).wrap)===2||J===1&&k.status!==42||k.lookahead)return R;for(J===1&&(M.adler=y(M.adler,Y,ye,0)),k.wrap=0,ye>=k.w_size&&(J===0&&(H(k.head),k.strstart=0,k.block_start=0,k.insert=0),ve=new m.Buf8(k.w_size),m.arraySet(ve,Y,ye-k.w_size,k.w_size,0),Y=ve,ye=k.w_size),ne=M.avail_in,te=M.next_in,se=M.input,M.avail_in=ye,M.next_in=0,M.input=Y,_(k);k.lookahead>=3;){for(D=k.strstart,z=k.lookahead-2;k.ins_h=(k.ins_h<<k.hash_shift^k.window[D+3-1])&k.hash_mask,k.prev[D&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=D,D++,--z;);k.strstart=D,k.lookahead=2,_(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=2,k.match_available=0,M.next_in=te,M.input=se,M.avail_in=ne,k.wrap=J,0},h.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,f,h){f.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,f,h){f.exports=function(p,m){var g,y,x,T,R,$,O,U,j,q,H,E,C,L,v,b,_,w,S,I,F,W,B,X,M;g=p.state,y=p.next_in,X=p.input,x=y+(p.avail_in-5),T=p.next_out,M=p.output,R=T-(m-p.avail_out),$=T+(p.avail_out-257),O=g.dmax,U=g.wsize,j=g.whave,q=g.wnext,H=g.window,E=g.hold,C=g.bits,L=g.lencode,v=g.distcode,b=(1<<g.lenbits)-1,_=(1<<g.distbits)-1;e:do{C<15&&(E+=X[y++]<<C,C+=8,E+=X[y++]<<C,C+=8),w=L[E&b];t:for(;;){if(E>>>=S=w>>>24,C-=S,(S=w>>>16&255)==0)M[T++]=65535&w;else{if(!(16&S)){if((64&S)==0){w=L[(65535&w)+(E&(1<<S)-1)];continue t}if(32&S){g.mode=12;break e}p.msg="invalid literal/length code",g.mode=30;break e}I=65535&w,(S&=15)&&(C<S&&(E+=X[y++]<<C,C+=8),I+=E&(1<<S)-1,E>>>=S,C-=S),C<15&&(E+=X[y++]<<C,C+=8,E+=X[y++]<<C,C+=8),w=v[E&_];n:for(;;){if(E>>>=S=w>>>24,C-=S,!(16&(S=w>>>16&255))){if((64&S)==0){w=v[(65535&w)+(E&(1<<S)-1)];continue n}p.msg="invalid distance code",g.mode=30;break e}if(F=65535&w,C<(S&=15)&&(E+=X[y++]<<C,(C+=8)<S&&(E+=X[y++]<<C,C+=8)),O<(F+=E&(1<<S)-1)){p.msg="invalid distance too far back",g.mode=30;break e}if(E>>>=S,C-=S,(S=T-R)<F){if(j<(S=F-S)&&g.sane){p.msg="invalid distance too far back",g.mode=30;break e}if(B=H,(W=0)===q){if(W+=U-S,S<I){for(I-=S;M[T++]=H[W++],--S;);W=T-F,B=M}}else if(q<S){if(W+=U+q-S,(S-=q)<I){for(I-=S;M[T++]=H[W++],--S;);if(W=0,q<I){for(I-=S=q;M[T++]=H[W++],--S;);W=T-F,B=M}}}else if(W+=q-S,S<I){for(I-=S;M[T++]=H[W++],--S;);W=T-F,B=M}for(;2<I;)M[T++]=B[W++],M[T++]=B[W++],M[T++]=B[W++],I-=3;I&&(M[T++]=B[W++],1<I&&(M[T++]=B[W++]))}else{for(W=T-F;M[T++]=M[W++],M[T++]=M[W++],M[T++]=M[W++],2<(I-=3););I&&(M[T++]=M[W++],1<I&&(M[T++]=M[W++]))}break}}break}}while(y<x&&T<$);y-=I=C>>3,E&=(1<<(C-=I<<3))-1,p.next_in=y,p.next_out=T,p.avail_in=y<x?x-y+5:5-(y-x),p.avail_out=T<$?$-T+257:257-(T-$),g.hold=E,g.bits=C}},{}],49:[function(d,f,h){var p=d("../utils/common"),m=d("./adler32"),g=d("./crc32"),y=d("./inffast"),x=d("./inftrees"),T=-2;function R(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(b){var _;return b&&b.state?(_=b.state,b.total_in=b.total_out=_.total=0,b.msg="",_.wrap&&(b.adler=1&_.wrap),_.mode=1,_.last=0,_.havedict=0,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new p.Buf32(852),_.distcode=_.distdyn=new p.Buf32(592),_.sane=1,_.back=-1,0):T}function U(b){var _;return b&&b.state?((_=b.state).wsize=0,_.whave=0,_.wnext=0,O(b)):T}function j(b,_){var w,S;return b&&b.state?(S=b.state,_<0?(w=0,_=-_):(w=1+(_>>4),_<48&&(_&=15)),_&&(_<8||15<_)?T:(S.window!==null&&S.wbits!==_&&(S.window=null),S.wrap=w,S.wbits=_,U(b))):T}function q(b,_){var w,S;return b?(S=new $,(b.state=S).window=null,(w=j(b,_))!==0&&(b.state=null),w):T}var H,E,C=!0;function L(b){if(C){var _;for(H=new p.Buf32(512),E=new p.Buf32(32),_=0;_<144;)b.lens[_++]=8;for(;_<256;)b.lens[_++]=9;for(;_<280;)b.lens[_++]=7;for(;_<288;)b.lens[_++]=8;for(x(1,b.lens,0,288,H,0,b.work,{bits:9}),_=0;_<32;)b.lens[_++]=5;x(2,b.lens,0,32,E,0,b.work,{bits:5}),C=!1}b.lencode=H,b.lenbits=9,b.distcode=E,b.distbits=5}function v(b,_,w,S){var I,F=b.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new p.Buf8(F.wsize)),S>=F.wsize?(p.arraySet(F.window,_,w-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(S<(I=F.wsize-F.wnext)&&(I=S),p.arraySet(F.window,_,w-S,I,F.wnext),(S-=I)?(p.arraySet(F.window,_,w-S,S,0),F.wnext=S,F.whave=F.wsize):(F.wnext+=I,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=I))),0}h.inflateReset=U,h.inflateReset2=j,h.inflateResetKeep=O,h.inflateInit=function(b){return q(b,15)},h.inflateInit2=q,h.inflate=function(b,_){var w,S,I,F,W,B,X,M,Y,k,D,z,J,ne,te,se,ve,ye,K,ce,de,we,ge,Se,Ee=0,Fe=new p.Buf8(4),Ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return T;(w=b.state).mode===12&&(w.mode=13),W=b.next_out,I=b.output,X=b.avail_out,F=b.next_in,S=b.input,B=b.avail_in,M=w.hold,Y=w.bits,k=B,D=X,we=0;e:for(;;)switch(w.mode){case 1:if(w.wrap===0){w.mode=13;break}for(;Y<16;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}if(2&w.wrap&&M===35615){Fe[w.check=0]=255&M,Fe[1]=M>>>8&255,w.check=g(w.check,Fe,2,0),Y=M=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&M)<<8)+(M>>8))%31){b.msg="incorrect header check",w.mode=30;break}if((15&M)!=8){b.msg="unknown compression method",w.mode=30;break}if(Y-=4,de=8+(15&(M>>>=4)),w.wbits===0)w.wbits=de;else if(de>w.wbits){b.msg="invalid window size",w.mode=30;break}w.dmax=1<<de,b.adler=w.check=1,w.mode=512&M?10:12,Y=M=0;break;case 2:for(;Y<16;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}if(w.flags=M,(255&w.flags)!=8){b.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){b.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=M>>8&1),512&w.flags&&(Fe[0]=255&M,Fe[1]=M>>>8&255,w.check=g(w.check,Fe,2,0)),Y=M=0,w.mode=3;case 3:for(;Y<32;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}w.head&&(w.head.time=M),512&w.flags&&(Fe[0]=255&M,Fe[1]=M>>>8&255,Fe[2]=M>>>16&255,Fe[3]=M>>>24&255,w.check=g(w.check,Fe,4,0)),Y=M=0,w.mode=4;case 4:for(;Y<16;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}w.head&&(w.head.xflags=255&M,w.head.os=M>>8),512&w.flags&&(Fe[0]=255&M,Fe[1]=M>>>8&255,w.check=g(w.check,Fe,2,0)),Y=M=0,w.mode=5;case 5:if(1024&w.flags){for(;Y<16;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}w.length=M,w.head&&(w.head.extra_len=M),512&w.flags&&(Fe[0]=255&M,Fe[1]=M>>>8&255,w.check=g(w.check,Fe,2,0)),Y=M=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(B<(z=w.length)&&(z=B),z&&(w.head&&(de=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),p.arraySet(w.head.extra,S,F,z,de)),512&w.flags&&(w.check=g(w.check,S,z,F)),B-=z,F+=z,w.length-=z),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(B===0)break e;for(z=0;de=S[F+z++],w.head&&de&&w.length<65536&&(w.head.name+=String.fromCharCode(de)),de&&z<B;);if(512&w.flags&&(w.check=g(w.check,S,z,F)),B-=z,F+=z,de)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(B===0)break e;for(z=0;de=S[F+z++],w.head&&de&&w.length<65536&&(w.head.comment+=String.fromCharCode(de)),de&&z<B;);if(512&w.flags&&(w.check=g(w.check,S,z,F)),B-=z,F+=z,de)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;Y<16;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}if(M!==(65535&w.check)){b.msg="header crc mismatch",w.mode=30;break}Y=M=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),b.adler=w.check=0,w.mode=12;break;case 10:for(;Y<32;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}b.adler=w.check=R(M),Y=M=0,w.mode=11;case 11:if(w.havedict===0)return b.next_out=W,b.avail_out=X,b.next_in=F,b.avail_in=B,w.hold=M,w.bits=Y,2;b.adler=w.check=1,w.mode=12;case 12:if(_===5||_===6)break e;case 13:if(w.last){M>>>=7&Y,Y-=7&Y,w.mode=27;break}for(;Y<3;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}switch(w.last=1&M,Y-=1,3&(M>>>=1)){case 0:w.mode=14;break;case 1:if(L(w),w.mode=20,_!==6)break;M>>>=2,Y-=2;break e;case 2:w.mode=17;break;case 3:b.msg="invalid block type",w.mode=30}M>>>=2,Y-=2;break;case 14:for(M>>>=7&Y,Y-=7&Y;Y<32;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}if((65535&M)!=(M>>>16^65535)){b.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&M,Y=M=0,w.mode=15,_===6)break e;case 15:w.mode=16;case 16:if(z=w.length){if(B<z&&(z=B),X<z&&(z=X),z===0)break e;p.arraySet(I,S,F,z,W),B-=z,F+=z,X-=z,W+=z,w.length-=z;break}w.mode=12;break;case 17:for(;Y<14;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}if(w.nlen=257+(31&M),M>>>=5,Y-=5,w.ndist=1+(31&M),M>>>=5,Y-=5,w.ncode=4+(15&M),M>>>=4,Y-=4,286<w.nlen||30<w.ndist){b.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;Y<3;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}w.lens[Ve[w.have++]]=7&M,M>>>=3,Y-=3}for(;w.have<19;)w.lens[Ve[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,ge={bits:w.lenbits},we=x(0,w.lens,0,19,w.lencode,0,w.work,ge),w.lenbits=ge.bits,we){b.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;se=(Ee=w.lencode[M&(1<<w.lenbits)-1])>>>16&255,ve=65535&Ee,!((te=Ee>>>24)<=Y);){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}if(ve<16)M>>>=te,Y-=te,w.lens[w.have++]=ve;else{if(ve===16){for(Se=te+2;Y<Se;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}if(M>>>=te,Y-=te,w.have===0){b.msg="invalid bit length repeat",w.mode=30;break}de=w.lens[w.have-1],z=3+(3&M),M>>>=2,Y-=2}else if(ve===17){for(Se=te+3;Y<Se;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}Y-=te,de=0,z=3+(7&(M>>>=te)),M>>>=3,Y-=3}else{for(Se=te+7;Y<Se;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}Y-=te,de=0,z=11+(127&(M>>>=te)),M>>>=7,Y-=7}if(w.have+z>w.nlen+w.ndist){b.msg="invalid bit length repeat",w.mode=30;break}for(;z--;)w.lens[w.have++]=de}}if(w.mode===30)break;if(w.lens[256]===0){b.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,ge={bits:w.lenbits},we=x(1,w.lens,0,w.nlen,w.lencode,0,w.work,ge),w.lenbits=ge.bits,we){b.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,ge={bits:w.distbits},we=x(2,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,ge),w.distbits=ge.bits,we){b.msg="invalid distances set",w.mode=30;break}if(w.mode=20,_===6)break e;case 20:w.mode=21;case 21:if(6<=B&&258<=X){b.next_out=W,b.avail_out=X,b.next_in=F,b.avail_in=B,w.hold=M,w.bits=Y,y(b,D),W=b.next_out,I=b.output,X=b.avail_out,F=b.next_in,S=b.input,B=b.avail_in,M=w.hold,Y=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;se=(Ee=w.lencode[M&(1<<w.lenbits)-1])>>>16&255,ve=65535&Ee,!((te=Ee>>>24)<=Y);){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}if(se&&(240&se)==0){for(ye=te,K=se,ce=ve;se=(Ee=w.lencode[ce+((M&(1<<ye+K)-1)>>ye)])>>>16&255,ve=65535&Ee,!(ye+(te=Ee>>>24)<=Y);){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}M>>>=ye,Y-=ye,w.back+=ye}if(M>>>=te,Y-=te,w.back+=te,w.length=ve,se===0){w.mode=26;break}if(32&se){w.back=-1,w.mode=12;break}if(64&se){b.msg="invalid literal/length code",w.mode=30;break}w.extra=15&se,w.mode=22;case 22:if(w.extra){for(Se=w.extra;Y<Se;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}w.length+=M&(1<<w.extra)-1,M>>>=w.extra,Y-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;se=(Ee=w.distcode[M&(1<<w.distbits)-1])>>>16&255,ve=65535&Ee,!((te=Ee>>>24)<=Y);){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}if((240&se)==0){for(ye=te,K=se,ce=ve;se=(Ee=w.distcode[ce+((M&(1<<ye+K)-1)>>ye)])>>>16&255,ve=65535&Ee,!(ye+(te=Ee>>>24)<=Y);){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}M>>>=ye,Y-=ye,w.back+=ye}if(M>>>=te,Y-=te,w.back+=te,64&se){b.msg="invalid distance code",w.mode=30;break}w.offset=ve,w.extra=15&se,w.mode=24;case 24:if(w.extra){for(Se=w.extra;Y<Se;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}w.offset+=M&(1<<w.extra)-1,M>>>=w.extra,Y-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){b.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(X===0)break e;if(z=D-X,w.offset>z){if((z=w.offset-z)>w.whave&&w.sane){b.msg="invalid distance too far back",w.mode=30;break}J=z>w.wnext?(z-=w.wnext,w.wsize-z):w.wnext-z,z>w.length&&(z=w.length),ne=w.window}else ne=I,J=W-w.offset,z=w.length;for(X<z&&(z=X),X-=z,w.length-=z;I[W++]=ne[J++],--z;);w.length===0&&(w.mode=21);break;case 26:if(X===0)break e;I[W++]=w.length,X--,w.mode=21;break;case 27:if(w.wrap){for(;Y<32;){if(B===0)break e;B--,M|=S[F++]<<Y,Y+=8}if(D-=X,b.total_out+=D,w.total+=D,D&&(b.adler=w.check=w.flags?g(w.check,I,D,W-D):m(w.check,I,D,W-D)),D=X,(w.flags?M:R(M))!==w.check){b.msg="incorrect data check",w.mode=30;break}Y=M=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;Y<32;){if(B===0)break e;B--,M+=S[F++]<<Y,Y+=8}if(M!==(4294967295&w.total)){b.msg="incorrect length check",w.mode=30;break}Y=M=0}w.mode=29;case 29:we=1;break e;case 30:we=-3;break e;case 31:return-4;default:return T}return b.next_out=W,b.avail_out=X,b.next_in=F,b.avail_in=B,w.hold=M,w.bits=Y,(w.wsize||D!==b.avail_out&&w.mode<30&&(w.mode<27||_!==4))&&v(b,b.output,b.next_out,D-b.avail_out)?(w.mode=31,-4):(k-=b.avail_in,D-=b.avail_out,b.total_in+=k,b.total_out+=D,w.total+=D,w.wrap&&D&&(b.adler=w.check=w.flags?g(w.check,I,D,b.next_out-D):m(w.check,I,D,b.next_out-D)),b.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(k==0&&D===0||_===4)&&we===0&&(we=-5),we)},h.inflateEnd=function(b){if(!b||!b.state)return T;var _=b.state;return _.window&&(_.window=null),b.state=null,0},h.inflateGetHeader=function(b,_){var w;return b&&b.state?(2&(w=b.state).wrap)==0?T:((w.head=_).done=!1,0):T},h.inflateSetDictionary=function(b,_){var w,S=_.length;return b&&b.state?(w=b.state).wrap!==0&&w.mode!==11?T:w.mode===11&&m(1,_,S,0)!==w.check?-3:v(b,_,S,S)?(w.mode=31,-4):(w.havedict=1,0):T},h.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,f,h){var p=d("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(T,R,$,O,U,j,q,H){var E,C,L,v,b,_,w,S,I,F=H.bits,W=0,B=0,X=0,M=0,Y=0,k=0,D=0,z=0,J=0,ne=0,te=null,se=0,ve=new p.Buf16(16),ye=new p.Buf16(16),K=null,ce=0;for(W=0;W<=15;W++)ve[W]=0;for(B=0;B<O;B++)ve[R[$+B]]++;for(Y=F,M=15;1<=M&&ve[M]===0;M--);if(M<Y&&(Y=M),M===0)return U[j++]=20971520,U[j++]=20971520,H.bits=1,0;for(X=1;X<M&&ve[X]===0;X++);for(Y<X&&(Y=X),W=z=1;W<=15;W++)if(z<<=1,(z-=ve[W])<0)return-1;if(0<z&&(T===0||M!==1))return-1;for(ye[1]=0,W=1;W<15;W++)ye[W+1]=ye[W]+ve[W];for(B=0;B<O;B++)R[$+B]!==0&&(q[ye[R[$+B]]++]=B);if(_=T===0?(te=K=q,19):T===1?(te=m,se-=257,K=g,ce-=257,256):(te=y,K=x,-1),W=X,b=j,D=B=ne=0,L=-1,v=(J=1<<(k=Y))-1,T===1&&852<J||T===2&&592<J)return 1;for(;;){for(w=W-D,I=q[B]<_?(S=0,q[B]):q[B]>_?(S=K[ce+q[B]],te[se+q[B]]):(S=96,0),E=1<<W-D,X=C=1<<k;U[b+(ne>>D)+(C-=E)]=w<<24|S<<16|I|0,C!==0;);for(E=1<<W-1;ne&E;)E>>=1;if(E!==0?(ne&=E-1,ne+=E):ne=0,B++,--ve[W]==0){if(W===M)break;W=R[$+q[B]]}if(Y<W&&(ne&v)!==L){for(D===0&&(D=Y),b+=X,z=1<<(k=W-D);k+D<M&&!((z-=ve[k+D])<=0);)k++,z<<=1;if(J+=1<<k,T===1&&852<J||T===2&&592<J)return 1;U[L=ne&v]=Y<<24|k<<16|b-j|0}}return ne!==0&&(U[b+ne]=W-D<<24|64<<16|0),H.bits=Y,0}},{"../utils/common":41}],51:[function(d,f,h){f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,f,h){var p=d("../utils/common");function m(K){for(var ce=K.length;0<=--ce;)K[ce]=0}var g=256,y=286,x=30,T=15,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(576);m(j);var q=new Array(60);m(q);var H=new Array(512);m(H);var E=new Array(256);m(E);var C=new Array(29);m(C);var L,v,b,_=new Array(x);function w(K,ce,de,we,ge){this.static_tree=K,this.extra_bits=ce,this.extra_base=de,this.elems=we,this.max_length=ge,this.has_stree=K&&K.length}function S(K,ce){this.dyn_tree=K,this.max_code=0,this.stat_desc=ce}function I(K){return K<256?H[K]:H[256+(K>>>7)]}function F(K,ce){K.pending_buf[K.pending++]=255&ce,K.pending_buf[K.pending++]=ce>>>8&255}function W(K,ce,de){K.bi_valid>16-de?(K.bi_buf|=ce<<K.bi_valid&65535,F(K,K.bi_buf),K.bi_buf=ce>>16-K.bi_valid,K.bi_valid+=de-16):(K.bi_buf|=ce<<K.bi_valid&65535,K.bi_valid+=de)}function B(K,ce,de){W(K,de[2*ce],de[2*ce+1])}function X(K,ce){for(var de=0;de|=1&K,K>>>=1,de<<=1,0<--ce;);return de>>>1}function M(K,ce,de){var we,ge,Se=new Array(16),Ee=0;for(we=1;we<=T;we++)Se[we]=Ee=Ee+de[we-1]<<1;for(ge=0;ge<=ce;ge++){var Fe=K[2*ge+1];Fe!==0&&(K[2*ge]=X(Se[Fe]++,Fe))}}function Y(K){var ce;for(ce=0;ce<y;ce++)K.dyn_ltree[2*ce]=0;for(ce=0;ce<x;ce++)K.dyn_dtree[2*ce]=0;for(ce=0;ce<19;ce++)K.bl_tree[2*ce]=0;K.dyn_ltree[512]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function k(K){8<K.bi_valid?F(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function D(K,ce,de,we){var ge=2*ce,Se=2*de;return K[ge]<K[Se]||K[ge]===K[Se]&&we[ce]<=we[de]}function z(K,ce,de){for(var we=K.heap[de],ge=de<<1;ge<=K.heap_len&&(ge<K.heap_len&&D(ce,K.heap[ge+1],K.heap[ge],K.depth)&&ge++,!D(ce,we,K.heap[ge],K.depth));)K.heap[de]=K.heap[ge],de=ge,ge<<=1;K.heap[de]=we}function J(K,ce,de){var we,ge,Se,Ee,Fe=0;if(K.last_lit!==0)for(;we=K.pending_buf[K.d_buf+2*Fe]<<8|K.pending_buf[K.d_buf+2*Fe+1],ge=K.pending_buf[K.l_buf+Fe],Fe++,we===0?B(K,ge,ce):(B(K,(Se=E[ge])+g+1,ce),(Ee=R[Se])!==0&&W(K,ge-=C[Se],Ee),B(K,Se=I(--we),de),(Ee=$[Se])!==0&&W(K,we-=_[Se],Ee)),Fe<K.last_lit;);B(K,256,ce)}function ne(K,ce){var de,we,ge,Se=ce.dyn_tree,Ee=ce.stat_desc.static_tree,Fe=ce.stat_desc.has_stree,Ve=ce.stat_desc.elems,qe=-1;for(K.heap_len=0,K.heap_max=573,de=0;de<Ve;de++)Se[2*de]!==0?(K.heap[++K.heap_len]=qe=de,K.depth[de]=0):Se[2*de+1]=0;for(;K.heap_len<2;)Se[2*(ge=K.heap[++K.heap_len]=qe<2?++qe:0)]=1,K.depth[ge]=0,K.opt_len--,Fe&&(K.static_len-=Ee[2*ge+1]);for(ce.max_code=qe,de=K.heap_len>>1;1<=de;de--)z(K,Se,de);for(ge=Ve;de=K.heap[1],K.heap[1]=K.heap[K.heap_len--],z(K,Se,1),we=K.heap[1],K.heap[--K.heap_max]=de,K.heap[--K.heap_max]=we,Se[2*ge]=Se[2*de]+Se[2*we],K.depth[ge]=(K.depth[de]>=K.depth[we]?K.depth[de]:K.depth[we])+1,Se[2*de+1]=Se[2*we+1]=ge,K.heap[1]=ge++,z(K,Se,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],(function(ht,ze){var rt,Ct,et,tt,nt,it,Ge=ze.dyn_tree,bt=ze.max_code,ut=ze.stat_desc.static_tree,wt=ze.stat_desc.has_stree,Ft=ze.stat_desc.extra_bits,yt=ze.stat_desc.extra_base,ft=ze.stat_desc.max_length,Bt=0;for(tt=0;tt<=T;tt++)ht.bl_count[tt]=0;for(Ge[2*ht.heap[ht.heap_max]+1]=0,rt=ht.heap_max+1;rt<573;rt++)ft<(tt=Ge[2*Ge[2*(Ct=ht.heap[rt])+1]+1]+1)&&(tt=ft,Bt++),Ge[2*Ct+1]=tt,bt<Ct||(ht.bl_count[tt]++,nt=0,yt<=Ct&&(nt=Ft[Ct-yt]),it=Ge[2*Ct],ht.opt_len+=it*(tt+nt),wt&&(ht.static_len+=it*(ut[2*Ct+1]+nt)));if(Bt!==0){do{for(tt=ft-1;ht.bl_count[tt]===0;)tt--;ht.bl_count[tt]--,ht.bl_count[tt+1]+=2,ht.bl_count[ft]--,Bt-=2}while(0<Bt);for(tt=ft;tt!==0;tt--)for(Ct=ht.bl_count[tt];Ct!==0;)bt<(et=ht.heap[--rt])||(Ge[2*et+1]!==tt&&(ht.opt_len+=(tt-Ge[2*et+1])*Ge[2*et],Ge[2*et+1]=tt),Ct--)}})(K,ce),M(Se,qe,K.bl_count)}function te(K,ce,de){var we,ge,Se=-1,Ee=ce[1],Fe=0,Ve=7,qe=4;for(Ee===0&&(Ve=138,qe=3),ce[2*(de+1)+1]=65535,we=0;we<=de;we++)ge=Ee,Ee=ce[2*(we+1)+1],++Fe<Ve&&ge===Ee||(Fe<qe?K.bl_tree[2*ge]+=Fe:ge!==0?(ge!==Se&&K.bl_tree[2*ge]++,K.bl_tree[32]++):Fe<=10?K.bl_tree[34]++:K.bl_tree[36]++,Se=ge,qe=(Fe=0)===Ee?(Ve=138,3):ge===Ee?(Ve=6,3):(Ve=7,4))}function se(K,ce,de){var we,ge,Se=-1,Ee=ce[1],Fe=0,Ve=7,qe=4;for(Ee===0&&(Ve=138,qe=3),we=0;we<=de;we++)if(ge=Ee,Ee=ce[2*(we+1)+1],!(++Fe<Ve&&ge===Ee)){if(Fe<qe)for(;B(K,ge,K.bl_tree),--Fe!=0;);else ge!==0?(ge!==Se&&(B(K,ge,K.bl_tree),Fe--),B(K,16,K.bl_tree),W(K,Fe-3,2)):Fe<=10?(B(K,17,K.bl_tree),W(K,Fe-3,3)):(B(K,18,K.bl_tree),W(K,Fe-11,7));Se=ge,qe=(Fe=0)===Ee?(Ve=138,3):ge===Ee?(Ve=6,3):(Ve=7,4)}}m(_);var ve=!1;function ye(K,ce,de,we){W(K,0+(we?1:0),3),(function(ge,Se,Ee,Fe){k(ge),F(ge,Ee),F(ge,~Ee),p.arraySet(ge.pending_buf,ge.window,Se,Ee,ge.pending),ge.pending+=Ee})(K,ce,de)}h._tr_init=function(K){ve||((function(){var ce,de,we,ge,Se,Ee=new Array(16);for(ge=we=0;ge<28;ge++)for(C[ge]=we,ce=0;ce<1<<R[ge];ce++)E[we++]=ge;for(E[we-1]=ge,ge=Se=0;ge<16;ge++)for(_[ge]=Se,ce=0;ce<1<<$[ge];ce++)H[Se++]=ge;for(Se>>=7;ge<x;ge++)for(_[ge]=Se<<7,ce=0;ce<1<<$[ge]-7;ce++)H[256+Se++]=ge;for(de=0;de<=T;de++)Ee[de]=0;for(ce=0;ce<=143;)j[2*ce+1]=8,ce++,Ee[8]++;for(;ce<=255;)j[2*ce+1]=9,ce++,Ee[9]++;for(;ce<=279;)j[2*ce+1]=7,ce++,Ee[7]++;for(;ce<=287;)j[2*ce+1]=8,ce++,Ee[8]++;for(M(j,287,Ee),ce=0;ce<x;ce++)q[2*ce+1]=5,q[2*ce]=X(ce,5);L=new w(j,R,257,y,T),v=new w(q,$,0,x,T),b=new w(new Array(0),O,0,19,7)})(),ve=!0),K.l_desc=new S(K.dyn_ltree,L),K.d_desc=new S(K.dyn_dtree,v),K.bl_desc=new S(K.bl_tree,b),K.bi_buf=0,K.bi_valid=0,Y(K)},h._tr_stored_block=ye,h._tr_flush_block=function(K,ce,de,we){var ge,Se,Ee=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=(function(Fe){var Ve,qe=4093624447;for(Ve=0;Ve<=31;Ve++,qe>>>=1)if(1&qe&&Fe.dyn_ltree[2*Ve]!==0)return 0;if(Fe.dyn_ltree[18]!==0||Fe.dyn_ltree[20]!==0||Fe.dyn_ltree[26]!==0)return 1;for(Ve=32;Ve<g;Ve++)if(Fe.dyn_ltree[2*Ve]!==0)return 1;return 0})(K)),ne(K,K.l_desc),ne(K,K.d_desc),Ee=(function(Fe){var Ve;for(te(Fe,Fe.dyn_ltree,Fe.l_desc.max_code),te(Fe,Fe.dyn_dtree,Fe.d_desc.max_code),ne(Fe,Fe.bl_desc),Ve=18;3<=Ve&&Fe.bl_tree[2*U[Ve]+1]===0;Ve--);return Fe.opt_len+=3*(Ve+1)+5+5+4,Ve})(K),ge=K.opt_len+3+7>>>3,(Se=K.static_len+3+7>>>3)<=ge&&(ge=Se)):ge=Se=de+5,de+4<=ge&&ce!==-1?ye(K,ce,de,we):K.strategy===4||Se===ge?(W(K,2+(we?1:0),3),J(K,j,q)):(W(K,4+(we?1:0),3),(function(Fe,Ve,qe,ht){var ze;for(W(Fe,Ve-257,5),W(Fe,qe-1,5),W(Fe,ht-4,4),ze=0;ze<ht;ze++)W(Fe,Fe.bl_tree[2*U[ze]+1],3);se(Fe,Fe.dyn_ltree,Ve-1),se(Fe,Fe.dyn_dtree,qe-1)})(K,K.l_desc.max_code+1,K.d_desc.max_code+1,Ee+1),J(K,K.dyn_ltree,K.dyn_dtree)),Y(K),we&&k(K)},h._tr_tally=function(K,ce,de){return K.pending_buf[K.d_buf+2*K.last_lit]=ce>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&ce,K.pending_buf[K.l_buf+K.last_lit]=255&de,K.last_lit++,ce===0?K.dyn_ltree[2*de]++:(K.matches++,ce--,K.dyn_ltree[2*(E[de]+g+1)]++,K.dyn_dtree[2*I(ce)]++),K.last_lit===K.lit_bufsize-1},h._tr_align=function(K){W(K,2,3),B(K,256,j),(function(ce){ce.bi_valid===16?(F(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):8<=ce.bi_valid&&(ce.pending_buf[ce.pending++]=255&ce.bi_buf,ce.bi_buf>>=8,ce.bi_valid-=8)})(K)}},{"../utils/common":41}],53:[function(d,f,h){f.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,f,h){(function(p){(function(m,g){if(!m.setImmediate){var y,x,T,R,$=1,O={},U=!1,j=m.document,q=Object.getPrototypeOf&&Object.getPrototypeOf(m);q=q&&q.setTimeout?q:m,y={}.toString.call(m.process)==="[object process]"?function(L){r.nextTick(function(){E(L)})}:(function(){if(m.postMessage&&!m.importScripts){var L=!0,v=m.onmessage;return m.onmessage=function(){L=!1},m.postMessage("","*"),m.onmessage=v,L}})()?(R="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",C,!1):m.attachEvent("onmessage",C),function(L){m.postMessage(R+L,"*")}):m.MessageChannel?((T=new MessageChannel).port1.onmessage=function(L){E(L.data)},function(L){T.port2.postMessage(L)}):j&&"onreadystatechange"in j.createElement("script")?(x=j.documentElement,function(L){var v=j.createElement("script");v.onreadystatechange=function(){E(L),v.onreadystatechange=null,x.removeChild(v),v=null},x.appendChild(v)}):function(L){setTimeout(E,0,L)},q.setImmediate=function(L){typeof L!="function"&&(L=new Function(""+L));for(var v=new Array(arguments.length-1),b=0;b<v.length;b++)v[b]=arguments[b+1];var _={callback:L,args:v};return O[$]=_,y($),$++},q.clearImmediate=H}function H(L){delete O[L]}function E(L){if(U)setTimeout(E,0,L);else{var v=O[L];if(v){U=!0;try{(function(b){var _=b.callback,w=b.args;switch(w.length){case 0:_();break;case 1:_(w[0]);break;case 2:_(w[0],w[1]);break;case 3:_(w[0],w[1],w[2]);break;default:_.apply(void 0,w)}})(v)}finally{H(L),U=!1}}}}function C(L){L.source===m&&typeof L.data=="string"&&L.data.indexOf(R)===0&&E(+L.data.slice(R.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,i!==void 0?i:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,e,n){(function(r){(function(){"use strict";var i=/[\\^$.*+?()[\]{}|]/g,s=RegExp(i.source),o=typeof r=="object"&&r&&r.Object===Object&&r,a=typeof self=="object"&&self&&self.Object===Object&&self,l=o||a||Function("return this")(),u=Object.prototype.toString,c=l.Symbol,d=c?c.prototype:void 0,f=d?d.toString:void 0;function h(p){if(typeof p=="string")return p;if((function(g){return typeof g=="symbol"||(function(y){return!!y&&typeof y=="object"})(g)&&u.call(g)=="[object Symbol]"})(p))return f?f.call(p):"";var m=p+"";return m=="0"&&1/p==-1/0?"-0":m}e.exports=function(p){var m;return(p=(m=p)==null?"":h(m))&&s.test(p)?p.replace(i,"\\$&"):p}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,e,n){(function(r){(function(){"use strict";var i="[object Arguments]",s="[object Map]",o="[object Object]",a="[object Set]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,c=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[i]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m[s]=m["[object Number]"]=m[o]=m["[object RegExp]"]=m[a]=m["[object String]"]=m["[object WeakMap]"]=!1;var g=typeof r=="object"&&r&&r.Object===Object&&r,y=typeof self=="object"&&self&&self.Object===Object&&self,x=g||y||Function("return this")(),T=typeof n=="object"&&n&&!n.nodeType&&n,R=T&&typeof e=="object"&&e&&!e.nodeType&&e,$=R&&R.exports===T&&g.process,O=(function(){try{return $&&$.binding("util")}catch{}})(),U=O&&O.isTypedArray;function j(pe,Le,Qe,$e){for(var dt=-1,Mt=pe?pe.length:0;++dt<Mt;){var Pt=pe[dt];Le($e,Pt,Qe(Pt),pe)}return $e}function q(pe,Le){for(var Qe=-1,$e=pe?pe.length:0;++Qe<$e;)if(Le(pe[Qe],Qe,pe))return!0;return!1}function H(pe){var Le=!1;if(pe!=null&&typeof pe.toString!="function")try{Le=!!(pe+"")}catch{}return Le}function E(pe){var Le=-1,Qe=Array(pe.size);return pe.forEach(function($e,dt){Qe[++Le]=[dt,$e]}),Qe}function C(pe){var Le=-1,Qe=Array(pe.size);return pe.forEach(function($e){Qe[++Le]=$e}),Qe}var L,v,b,_=Array.prototype,w=Function.prototype,S=Object.prototype,I=x["__core-js_shared__"],F=(L=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",W=w.toString,B=S.hasOwnProperty,X=S.toString,M=RegExp("^"+W.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=x.Symbol,k=x.Uint8Array,D=S.propertyIsEnumerable,z=_.splice,J=(v=Object.keys,b=Object,function(pe){return v(b(pe))}),ne=Yt(x,"DataView"),te=Yt(x,"Map"),se=Yt(x,"Promise"),ve=Yt(x,"Set"),ye=Yt(x,"WeakMap"),K=Yt(Object,"create"),ce=He(ne),de=He(te),we=He(se),ge=He(ve),Se=He(ye),Ee=Y?Y.prototype:void 0,Fe=Ee?Ee.valueOf:void 0,Ve=Ee?Ee.toString:void 0;function qe(pe){var Le=-1,Qe=pe?pe.length:0;for(this.clear();++Le<Qe;){var $e=pe[Le];this.set($e[0],$e[1])}}function ht(pe){var Le=-1,Qe=pe?pe.length:0;for(this.clear();++Le<Qe;){var $e=pe[Le];this.set($e[0],$e[1])}}function ze(pe){var Le=-1,Qe=pe?pe.length:0;for(this.clear();++Le<Qe;){var $e=pe[Le];this.set($e[0],$e[1])}}function rt(pe){var Le=-1,Qe=pe?pe.length:0;for(this.__data__=new ze;++Le<Qe;)this.add(pe[Le])}function Ct(pe){this.__data__=new ht(pe)}function et(pe,Le){var Qe=xt(pe)||Rt(pe)?(function(Pt,Cn){for(var cn=-1,nn=Array(Pt);++cn<Pt;)nn[cn]=Cn(cn);return nn})(pe.length,String):[],$e=Qe.length,dt=!!$e;for(var Mt in pe)!Le&&!B.call(pe,Mt)||dt&&(Mt=="length"||Qt(Mt,$e))||Qe.push(Mt);return Qe}function tt(pe,Le){for(var Qe=pe.length;Qe--;)if(jn(pe[Qe][0],Le))return Qe;return-1}function nt(pe,Le,Qe,$e){return bt(pe,function(dt,Mt,Pt){Le($e,dt,Qe(dt),Pt)}),$e}qe.prototype.clear=function(){this.__data__=K?K(null):{}},qe.prototype.delete=function(pe){return this.has(pe)&&delete this.__data__[pe]},qe.prototype.get=function(pe){var Le=this.__data__;if(K){var Qe=Le[pe];return Qe==="__lodash_hash_undefined__"?void 0:Qe}return B.call(Le,pe)?Le[pe]:void 0},qe.prototype.has=function(pe){var Le=this.__data__;return K?Le[pe]!==void 0:B.call(Le,pe)},qe.prototype.set=function(pe,Le){return this.__data__[pe]=K&&Le===void 0?"__lodash_hash_undefined__":Le,this},ht.prototype.clear=function(){this.__data__=[]},ht.prototype.delete=function(pe){var Le=this.__data__,Qe=tt(Le,pe);return!(Qe<0)&&(Qe==Le.length-1?Le.pop():z.call(Le,Qe,1),!0)},ht.prototype.get=function(pe){var Le=this.__data__,Qe=tt(Le,pe);return Qe<0?void 0:Le[Qe][1]},ht.prototype.has=function(pe){return tt(this.__data__,pe)>-1},ht.prototype.set=function(pe,Le){var Qe=this.__data__,$e=tt(Qe,pe);return $e<0?Qe.push([pe,Le]):Qe[$e][1]=Le,this},ze.prototype.clear=function(){this.__data__={hash:new qe,map:new(te||ht),string:new qe}},ze.prototype.delete=function(pe){return _t(this,pe).delete(pe)},ze.prototype.get=function(pe){return _t(this,pe).get(pe)},ze.prototype.has=function(pe){return _t(this,pe).has(pe)},ze.prototype.set=function(pe,Le){return _t(this,pe).set(pe,Le),this},rt.prototype.add=rt.prototype.push=function(pe){return this.__data__.set(pe,"__lodash_hash_undefined__"),this},rt.prototype.has=function(pe){return this.__data__.has(pe)},Ct.prototype.clear=function(){this.__data__=new ht},Ct.prototype.delete=function(pe){return this.__data__.delete(pe)},Ct.prototype.get=function(pe){return this.__data__.get(pe)},Ct.prototype.has=function(pe){return this.__data__.has(pe)},Ct.prototype.set=function(pe,Le){var Qe=this.__data__;if(Qe instanceof ht){var $e=Qe.__data__;if(!te||$e.length<199)return $e.push([pe,Le]),this;Qe=this.__data__=new ze($e)}return Qe.set(pe,Le),this};var it,Ge,bt=(it=function(pe,Le){return pe&&ut(pe,Le,$r)},function(pe,Le){if(pe==null)return pe;if(!Dn(pe))return it(pe,Le);for(var Qe=pe.length,$e=Ge?Qe:-1,dt=Object(pe);(Ge?$e--:++$e<Qe)&&Le(dt[$e],$e,dt)!==!1;);return pe}),ut=(function(pe){return function(Le,Qe,$e){for(var dt=-1,Mt=Object(Le),Pt=$e(Le),Cn=Pt.length;Cn--;){var cn=Pt[pe?Cn:++dt];if(Qe(Mt[cn],cn,Mt)===!1)break}return Le}})();function wt(pe,Le){for(var Qe=0,$e=(Le=Ht(Le,pe)?[Le]:vt(Le)).length;pe!=null&&Qe<$e;)pe=pe[Oe(Le[Qe++])];return Qe&&Qe==$e?pe:void 0}function Ft(pe,Le){return pe!=null&&Le in Object(pe)}function yt(pe,Le,Qe,$e,dt){return pe===Le||(pe==null||Le==null||!Zn(pe)&&!ar(Le)?pe!=pe&&Le!=Le:(function(Mt,Pt,Cn,cn,nn,pn){var lr=xt(Mt),Rr=xt(Pt),tr="[object Array]",yn="[object Array]";lr||(tr=(tr=ir(Mt))==i?o:tr),Rr||(yn=(yn=ir(Pt))==i?o:yn);var hi=tr==o&&!H(Mt),ni=yn==o&&!H(Pt),Ni=tr==yn;if(Ni&&!hi)return pn||(pn=new Ct),lr||fi(Mt)?Vt(Mt,Pt,Cn,cn,nn,pn):(function(Wn,ur,Ad,qi,ou,zi,ws){switch(Ad){case"[object DataView]":if(Wn.byteLength!=ur.byteLength||Wn.byteOffset!=ur.byteOffset)return!1;Wn=Wn.buffer,ur=ur.buffer;case"[object ArrayBuffer]":return!(Wn.byteLength!=ur.byteLength||!qi(new k(Wn),new k(ur)));case"[object Boolean]":case"[object Date]":case"[object Number]":return jn(+Wn,+ur);case"[object Error]":return Wn.name==ur.name&&Wn.message==ur.message;case"[object RegExp]":case"[object String]":return Wn==ur+"";case s:var _s=E;case a:var au=2&zi;if(_s||(_s=C),Wn.size!=ur.size&&!au)return!1;var ic=ws.get(Wn);if(ic)return ic==ur;zi|=1,ws.set(Wn,ur);var hl=Vt(_s(Wn),_s(ur),qi,ou,zi,ws);return ws.delete(Wn),hl;case"[object Symbol]":if(Fe)return Fe.call(Wn)==Fe.call(ur)}return!1})(Mt,Pt,tr,Cn,cn,nn,pn);if(!(2&nn)){var Bs=hi&&B.call(Mt,"__wrapped__"),Ci=ni&&B.call(Pt,"__wrapped__");if(Bs||Ci){var Zr=Bs?Mt.value():Mt,bs=Ci?Pt.value():Pt;return pn||(pn=new Ct),Cn(Zr,bs,cn,nn,pn)}}return Ni?(pn||(pn=new Ct),(function(Wn,ur,Ad,qi,ou,zi){var ws=2&ou,_s=$r(Wn),au=_s.length,ic=$r(ur).length;if(au!=ic&&!ws)return!1;for(var hl=au;hl--;){var lo=_s[hl];if(!(ws?lo in ur:B.call(ur,lo)))return!1}var Td=zi.get(Wn);if(Td&&zi.get(ur))return Td==ur;var xs=!0;zi.set(Wn,ur),zi.set(ur,Wn);for(var Id=ws;++hl<au;){lo=_s[hl];var na=Wn[lo],pl=ur[lo];if(qi)var Sh=ws?qi(pl,na,lo,ur,Wn,zi):qi(na,pl,lo,Wn,ur,zi);if(!(Sh===void 0?na===pl||Ad(na,pl,qi,ou,zi):Sh)){xs=!1;break}Id||(Id=lo=="constructor")}if(xs&&!Id){var mn=Wn.constructor,sc=ur.constructor;mn==sc||!("constructor"in Wn)||!("constructor"in ur)||typeof mn=="function"&&mn instanceof mn&&typeof sc=="function"&&sc instanceof sc||(xs=!1)}return zi.delete(Wn),zi.delete(ur),xs})(Mt,Pt,Cn,cn,nn,pn)):!1})(pe,Le,yt,Qe,$e,dt))}function ft(pe){return!(!Zn(pe)||(function(Le){return!!F&&F in Le})(pe))&&(hn(pe)||H(pe)?M:h).test(He(pe))}function Bt(pe){return typeof pe=="function"?pe:pe==null?si:typeof pe=="object"?xt(pe)?(function($e,dt){return Ht($e)&&zt(dt)?en(Oe($e),dt):function(Mt){var Pt=(function(Cn,cn,nn){var pn=Cn==null?void 0:wt(Cn,cn);return pn===void 0?nn:pn})(Mt,$e);return Pt===void 0&&Pt===dt?(function(Cn,cn){return Cn!=null&&(function(nn,pn,lr){pn=Ht(pn,nn)?[pn]:vt(pn);for(var Rr,tr=-1,yn=pn.length;++tr<yn;){var hi=Oe(pn[tr]);if(!(Rr=nn!=null&&lr(nn,hi)))break;nn=nn[hi]}return Rr||!!(yn=nn?nn.length:0)&&un(yn)&&Qt(hi,yn)&&(xt(nn)||Rt(nn))})(Cn,cn,Ft)})(Mt,$e):yt(dt,Pt,void 0,3)}})(pe[0],pe[1]):(function($e){var dt=(function(Mt){for(var Pt=$r(Mt),Cn=Pt.length;Cn--;){var cn=Pt[Cn],nn=Mt[cn];Pt[Cn]=[cn,nn,zt(nn)]}return Pt})($e);return dt.length==1&&dt[0][2]?en(dt[0][0],dt[0][1]):function(Mt){return Mt===$e||(function(Pt,Cn,cn,nn){var pn=cn.length,lr=pn,Rr=!nn;if(Pt==null)return!lr;for(Pt=Object(Pt);pn--;){var tr=cn[pn];if(Rr&&tr[2]?tr[1]!==Pt[tr[0]]:!(tr[0]in Pt))return!1}for(;++pn<lr;){var yn=(tr=cn[pn])[0],hi=Pt[yn],ni=tr[1];if(Rr&&tr[2]){if(hi===void 0&&!(yn in Pt))return!1}else{var Ni=new Ct;if(nn)var Bs=nn(hi,ni,yn,Pt,Cn,Ni);if(!(Bs===void 0?yt(ni,hi,nn,3,Ni):Bs))return!1}}return!0})(Mt,$e,dt)}})(pe):Ht(Le=pe)?(Qe=Oe(Le),function($e){return $e?.[Qe]}):(function($e){return function(dt){return wt(dt,$e)}})(Le);var Le,Qe}function Nt(pe){if(Qe=(Le=pe)&&Le.constructor,$e=typeof Qe=="function"&&Qe.prototype||S,Le!==$e)return J(pe);var Le,Qe,$e,dt=[];for(var Mt in Object(pe))B.call(pe,Mt)&&Mt!="constructor"&&dt.push(Mt);return dt}function vt(pe){return xt(pe)?pe:_e(pe)}function Vt(pe,Le,Qe,$e,dt,Mt){var Pt=2&dt,Cn=pe.length,cn=Le.length;if(Cn!=cn&&!(Pt&&cn>Cn))return!1;var nn=Mt.get(pe);if(nn&&Mt.get(Le))return nn==Le;var pn=-1,lr=!0,Rr=1&dt?new rt:void 0;for(Mt.set(pe,Le),Mt.set(Le,pe);++pn<Cn;){var tr=pe[pn],yn=Le[pn];if($e)var hi=Pt?$e(yn,tr,pn,Le,pe,Mt):$e(tr,yn,pn,pe,Le,Mt);if(hi!==void 0){if(hi)continue;lr=!1;break}if(Rr){if(!q(Le,function(ni,Ni){if(!Rr.has(Ni)&&(tr===ni||Qe(tr,ni,$e,dt,Mt)))return Rr.add(Ni)})){lr=!1;break}}else if(tr!==yn&&!Qe(tr,yn,$e,dt,Mt)){lr=!1;break}}return Mt.delete(pe),Mt.delete(Le),lr}function _t(pe,Le){var Qe,$e,dt=pe.__data__;return(($e=typeof(Qe=Le))=="string"||$e=="number"||$e=="symbol"||$e=="boolean"?Qe!=="__proto__":Qe===null)?dt[typeof Le=="string"?"string":"hash"]:dt.map}function Yt(pe,Le){var Qe=(function($e,dt){return $e?.[dt]})(pe,Le);return ft(Qe)?Qe:void 0}var ir=function(pe){return X.call(pe)};function Qt(pe,Le){return!!(Le=Le??9007199254740991)&&(typeof pe=="number"||p.test(pe))&&pe>-1&&pe%1==0&&pe<Le}function Ht(pe,Le){if(xt(pe))return!1;var Qe=typeof pe;return!(Qe!="number"&&Qe!="symbol"&&Qe!="boolean"&&pe!=null&&!Hr(pe))||u.test(pe)||!l.test(pe)||Le!=null&&pe in Object(Le)}function zt(pe){return pe==pe&&!Zn(pe)}function en(pe,Le){return function(Qe){return Qe!=null&&Qe[pe]===Le&&(Le!==void 0||pe in Object(Qe))}}(ne&&ir(new ne(new ArrayBuffer(1)))!="[object DataView]"||te&&ir(new te)!=s||se&&ir(se.resolve())!="[object Promise]"||ve&&ir(new ve)!=a||ye&&ir(new ye)!="[object WeakMap]")&&(ir=function(pe){var Le=X.call(pe),Qe=Le==o?pe.constructor:void 0,$e=Qe?He(Qe):void 0;if($e)switch($e){case ce:return"[object DataView]";case de:return s;case we:return"[object Promise]";case ge:return a;case Se:return"[object WeakMap]"}return Le});var _e=At(function(pe){var Le;pe=(Le=pe)==null?"":(function($e){if(typeof $e=="string")return $e;if(Hr($e))return Ve?Ve.call($e):"";var dt=$e+"";return dt=="0"&&1/$e==-1/0?"-0":dt})(Le);var Qe=[];return c.test(pe)&&Qe.push(""),pe.replace(d,function($e,dt,Mt,Pt){Qe.push(Mt?Pt.replace(f,"$1"):dt||$e)}),Qe});function Oe(pe){if(typeof pe=="string"||Hr(pe))return pe;var Le=pe+"";return Le=="0"&&1/pe==-1/0?"-0":Le}function He(pe){if(pe!=null){try{return W.call(pe)}catch{}try{return pe+""}catch{}}return""}var Xe,sn,pt=(Xe=function(pe,Le,Qe){B.call(pe,Qe)?pe[Qe].push(Le):pe[Qe]=[Le]},function(pe,Le){var Qe=xt(pe)?j:nt,$e=sn?sn():{};return Qe(pe,Xe,Bt(Le),$e)});function At(pe,Le){if(typeof pe!="function"||Le&&typeof Le!="function")throw new TypeError("Expected a function");var Qe=function(){var $e=arguments,dt=Le?Le.apply(this,$e):$e[0],Mt=Qe.cache;if(Mt.has(dt))return Mt.get(dt);var Pt=pe.apply(this,$e);return Qe.cache=Mt.set(dt,Pt),Pt};return Qe.cache=new(At.Cache||ze),Qe}function jn(pe,Le){return pe===Le||pe!=pe&&Le!=Le}function Rt(pe){return(function(Le){return ar(Le)&&Dn(Le)})(pe)&&B.call(pe,"callee")&&(!D.call(pe,"callee")||X.call(pe)==i)}At.Cache=ze;var xt=Array.isArray;function Dn(pe){return pe!=null&&un(pe.length)&&!hn(pe)}function hn(pe){var Le=Zn(pe)?X.call(pe):"";return Le=="[object Function]"||Le=="[object GeneratorFunction]"}function un(pe){return typeof pe=="number"&&pe>-1&&pe%1==0&&pe<=9007199254740991}function Zn(pe){var Le=typeof pe;return!!pe&&(Le=="object"||Le=="function")}function ar(pe){return!!pe&&typeof pe=="object"}function Hr(pe){return typeof pe=="symbol"||ar(pe)&&X.call(pe)=="[object Symbol]"}var fi=U?(function(pe){return function(Le){return pe(Le)}})(U):function(pe){return ar(pe)&&un(pe.length)&&!!m[X.call(pe)]};function $r(pe){return Dn(pe)?et(pe):Nt(pe)}function si(pe){return pe}e.exports=pt}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,e,n){"use strict";var r=Object.prototype.toString;e.exports=function(i){return i===!0||i===!1||(function(s){return!!s&&typeof s=="object"})(i)&&r.call(i)=="[object Boolean]"}},{}],445:[function(t,e,n){(function(r){(function(){"use strict";var i="[object Arguments]",s="[object Map]",o="[object Object]",a="[object Set]",l=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[i]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[s]=c["[object Number]"]=c[o]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var d=typeof r=="object"&&r&&r.Object===Object&&r,f=typeof self=="object"&&self&&self.Object===Object&&self,h=d||f||Function("return this")(),p=typeof n=="object"&&n&&!n.nodeType&&n,m=p&&typeof e=="object"&&e&&!e.nodeType&&e,g=m&&m.exports===p,y=g&&d.process,x=(function(){try{return y&&y.binding&&y.binding("util")}catch{}})(),T=x&&x.isTypedArray;function R(_e,Oe){for(var He=-1,Xe=_e==null?0:_e.length;++He<Xe;)if(Oe(_e[He],He,_e))return!0;return!1}function $(_e){var Oe=-1,He=Array(_e.size);return _e.forEach(function(Xe,sn){He[++Oe]=[sn,Xe]}),He}function O(_e){var Oe=-1,He=Array(_e.size);return _e.forEach(function(Xe){He[++Oe]=Xe}),He}var U,j,q,H=Array.prototype,E=Function.prototype,C=Object.prototype,L=h["__core-js_shared__"],v=E.toString,b=C.hasOwnProperty,_=(U=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",w=C.toString,S=RegExp("^"+v.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=g?h.Buffer:void 0,F=h.Symbol,W=h.Uint8Array,B=C.propertyIsEnumerable,X=H.splice,M=F?F.toStringTag:void 0,Y=Object.getOwnPropertySymbols,k=I?I.isBuffer:void 0,D=(j=Object.keys,q=Object,function(_e){return j(q(_e))}),z=wt(h,"DataView"),J=wt(h,"Map"),ne=wt(h,"Promise"),te=wt(h,"Set"),se=wt(h,"WeakMap"),ve=wt(Object,"create"),ye=Bt(z),K=Bt(J),ce=Bt(ne),de=Bt(te),we=Bt(se),ge=F?F.prototype:void 0,Se=ge?ge.valueOf:void 0;function Ee(_e){var Oe=-1,He=_e==null?0:_e.length;for(this.clear();++Oe<He;){var Xe=_e[Oe];this.set(Xe[0],Xe[1])}}function Fe(_e){var Oe=-1,He=_e==null?0:_e.length;for(this.clear();++Oe<He;){var Xe=_e[Oe];this.set(Xe[0],Xe[1])}}function Ve(_e){var Oe=-1,He=_e==null?0:_e.length;for(this.clear();++Oe<He;){var Xe=_e[Oe];this.set(Xe[0],Xe[1])}}function qe(_e){var Oe=-1,He=_e==null?0:_e.length;for(this.__data__=new Ve;++Oe<He;)this.add(_e[Oe])}function ht(_e){var Oe=this.__data__=new Fe(_e);this.size=Oe.size}function ze(_e,Oe){var He=Vt(_e),Xe=!He&&vt(_e),sn=!He&&!Xe&&_t(_e),pt=!He&&!Xe&&!sn&&zt(_e),At=He||Xe||sn||pt,jn=At?(function(Dn,hn){for(var un=-1,Zn=Array(Dn);++un<Dn;)Zn[un]=hn(un);return Zn})(_e.length,String):[],Rt=jn.length;for(var xt in _e)!Oe&&!b.call(_e,xt)||At&&(xt=="length"||sn&&(xt=="offset"||xt=="parent")||pt&&(xt=="buffer"||xt=="byteLength"||xt=="byteOffset")||ft(xt,Rt))||jn.push(xt);return jn}function rt(_e,Oe){for(var He=_e.length;He--;)if(Nt(_e[He][0],Oe))return He;return-1}function Ct(_e){return _e==null?_e===void 0?"[object Undefined]":"[object Null]":M&&M in Object(_e)?(function(Oe){var He=b.call(Oe,M),Xe=Oe[M];try{Oe[M]=void 0;var sn=!0}catch{}var pt=w.call(Oe);return sn&&(He?Oe[M]=Xe:delete Oe[M]),pt})(_e):(function(Oe){return w.call(Oe)})(_e)}function et(_e){return Ht(_e)&&Ct(_e)==i}function tt(_e,Oe,He,Xe,sn){return _e===Oe||(_e==null||Oe==null||!Ht(_e)&&!Ht(Oe)?_e!=_e&&Oe!=Oe:(function(pt,At,jn,Rt,xt,Dn){var hn=Vt(pt),un=Vt(At),Zn=hn?"[object Array]":yt(pt),ar=un?"[object Array]":yt(At),Hr=(Zn=Zn==i?o:Zn)==o,fi=(ar=ar==i?o:ar)==o,$r=Zn==ar;if($r&&_t(pt)){if(!_t(At))return!1;hn=!0,Hr=!1}if($r&&!Hr)return Dn||(Dn=new ht),hn||zt(pt)?Ge(pt,At,jn,Rt,xt,Dn):(function($e,dt,Mt,Pt,Cn,cn,nn){switch(Mt){case"[object DataView]":if($e.byteLength!=dt.byteLength||$e.byteOffset!=dt.byteOffset)return!1;$e=$e.buffer,dt=dt.buffer;case"[object ArrayBuffer]":return!($e.byteLength!=dt.byteLength||!cn(new W($e),new W(dt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Nt(+$e,+dt);case"[object Error]":return $e.name==dt.name&&$e.message==dt.message;case"[object RegExp]":case"[object String]":return $e==dt+"";case s:var pn=$;case a:var lr=1&Pt;if(pn||(pn=O),$e.size!=dt.size&&!lr)return!1;var Rr=nn.get($e);if(Rr)return Rr==dt;Pt|=2,nn.set($e,dt);var tr=Ge(pn($e),pn(dt),Pt,Cn,cn,nn);return nn.delete($e),tr;case"[object Symbol]":if(Se)return Se.call($e)==Se.call(dt)}return!1})(pt,At,Zn,jn,Rt,xt,Dn);if(!(1&jn)){var si=Hr&&b.call(pt,"__wrapped__"),pe=fi&&b.call(At,"__wrapped__");if(si||pe){var Le=si?pt.value():pt,Qe=pe?At.value():At;return Dn||(Dn=new ht),xt(Le,Qe,jn,Rt,Dn)}}return $r?(Dn||(Dn=new ht),(function($e,dt,Mt,Pt,Cn,cn){var nn=1&Mt,pn=bt($e),lr=pn.length,Rr=bt(dt).length;if(lr!=Rr&&!nn)return!1;for(var tr=lr;tr--;){var yn=pn[tr];if(!(nn?yn in dt:b.call(dt,yn)))return!1}var hi=cn.get($e);if(hi&&cn.get(dt))return hi==dt;var ni=!0;cn.set($e,dt),cn.set(dt,$e);for(var Ni=nn;++tr<lr;){yn=pn[tr];var Bs=$e[yn],Ci=dt[yn];if(Pt)var Zr=nn?Pt(Ci,Bs,yn,dt,$e,cn):Pt(Bs,Ci,yn,$e,dt,cn);if(!(Zr===void 0?Bs===Ci||Cn(Bs,Ci,Mt,Pt,cn):Zr)){ni=!1;break}Ni||(Ni=yn=="constructor")}if(ni&&!Ni){var bs=$e.constructor,Wn=dt.constructor;bs==Wn||!("constructor"in $e)||!("constructor"in dt)||typeof bs=="function"&&bs instanceof bs&&typeof Wn=="function"&&Wn instanceof Wn||(ni=!1)}return cn.delete($e),cn.delete(dt),ni})(pt,At,jn,Rt,xt,Dn)):!1})(_e,Oe,He,Xe,tt,sn))}function nt(_e){return!(!Qt(_e)||(function(Oe){return!!_&&_ in Oe})(_e))&&(Yt(_e)?S:l).test(Bt(_e))}function it(_e){if(He=(Oe=_e)&&Oe.constructor,Xe=typeof He=="function"&&He.prototype||C,Oe!==Xe)return D(_e);var Oe,He,Xe,sn=[];for(var pt in Object(_e))b.call(_e,pt)&&pt!="constructor"&&sn.push(pt);return sn}function Ge(_e,Oe,He,Xe,sn,pt){var At=1&He,jn=_e.length,Rt=Oe.length;if(jn!=Rt&&!(At&&Rt>jn))return!1;var xt=pt.get(_e);if(xt&&pt.get(Oe))return xt==Oe;var Dn=-1,hn=!0,un=2&He?new qe:void 0;for(pt.set(_e,Oe),pt.set(Oe,_e);++Dn<jn;){var Zn=_e[Dn],ar=Oe[Dn];if(Xe)var Hr=At?Xe(ar,Zn,Dn,Oe,_e,pt):Xe(Zn,ar,Dn,_e,Oe,pt);if(Hr!==void 0){if(Hr)continue;hn=!1;break}if(un){if(!R(Oe,function(fi,$r){if(si=$r,!un.has(si)&&(Zn===fi||sn(Zn,fi,He,Xe,pt)))return un.push($r);var si})){hn=!1;break}}else if(Zn!==ar&&!sn(Zn,ar,He,Xe,pt)){hn=!1;break}}return pt.delete(_e),pt.delete(Oe),hn}function bt(_e){return(function(Oe,He,Xe){var sn=He(Oe);return Vt(Oe)?sn:(function(pt,At){for(var jn=-1,Rt=At.length,xt=pt.length;++jn<Rt;)pt[xt+jn]=At[jn];return pt})(sn,Xe(Oe))})(_e,en,Ft)}function ut(_e,Oe){var He,Xe,sn=_e.__data__;return((Xe=typeof(He=Oe))=="string"||Xe=="number"||Xe=="symbol"||Xe=="boolean"?He!=="__proto__":He===null)?sn[typeof Oe=="string"?"string":"hash"]:sn.map}function wt(_e,Oe){var He=(function(Xe,sn){return Xe?.[sn]})(_e,Oe);return nt(He)?He:void 0}Ee.prototype.clear=function(){this.__data__=ve?ve(null):{},this.size=0},Ee.prototype.delete=function(_e){var Oe=this.has(_e)&&delete this.__data__[_e];return this.size-=Oe?1:0,Oe},Ee.prototype.get=function(_e){var Oe=this.__data__;if(ve){var He=Oe[_e];return He==="__lodash_hash_undefined__"?void 0:He}return b.call(Oe,_e)?Oe[_e]:void 0},Ee.prototype.has=function(_e){var Oe=this.__data__;return ve?Oe[_e]!==void 0:b.call(Oe,_e)},Ee.prototype.set=function(_e,Oe){var He=this.__data__;return this.size+=this.has(_e)?0:1,He[_e]=ve&&Oe===void 0?"__lodash_hash_undefined__":Oe,this},Fe.prototype.clear=function(){this.__data__=[],this.size=0},Fe.prototype.delete=function(_e){var Oe=this.__data__,He=rt(Oe,_e);return!(He<0)&&(He==Oe.length-1?Oe.pop():X.call(Oe,He,1),--this.size,!0)},Fe.prototype.get=function(_e){var Oe=this.__data__,He=rt(Oe,_e);return He<0?void 0:Oe[He][1]},Fe.prototype.has=function(_e){return rt(this.__data__,_e)>-1},Fe.prototype.set=function(_e,Oe){var He=this.__data__,Xe=rt(He,_e);return Xe<0?(++this.size,He.push([_e,Oe])):He[Xe][1]=Oe,this},Ve.prototype.clear=function(){this.size=0,this.__data__={hash:new Ee,map:new(J||Fe),string:new Ee}},Ve.prototype.delete=function(_e){var Oe=ut(this,_e).delete(_e);return this.size-=Oe?1:0,Oe},Ve.prototype.get=function(_e){return ut(this,_e).get(_e)},Ve.prototype.has=function(_e){return ut(this,_e).has(_e)},Ve.prototype.set=function(_e,Oe){var He=ut(this,_e),Xe=He.size;return He.set(_e,Oe),this.size+=He.size==Xe?0:1,this},qe.prototype.add=qe.prototype.push=function(_e){return this.__data__.set(_e,"__lodash_hash_undefined__"),this},qe.prototype.has=function(_e){return this.__data__.has(_e)},ht.prototype.clear=function(){this.__data__=new Fe,this.size=0},ht.prototype.delete=function(_e){var Oe=this.__data__,He=Oe.delete(_e);return this.size=Oe.size,He},ht.prototype.get=function(_e){return this.__data__.get(_e)},ht.prototype.has=function(_e){return this.__data__.has(_e)},ht.prototype.set=function(_e,Oe){var He=this.__data__;if(He instanceof Fe){var Xe=He.__data__;if(!J||Xe.length<199)return Xe.push([_e,Oe]),this.size=++He.size,this;He=this.__data__=new Ve(Xe)}return He.set(_e,Oe),this.size=He.size,this};var Ft=Y?function(_e){return _e==null?[]:(_e=Object(_e),(function(Oe,He){for(var Xe=-1,sn=Oe==null?0:Oe.length,pt=0,At=[];++Xe<sn;){var jn=Oe[Xe];He(jn,Xe,Oe)&&(At[pt++]=jn)}return At})(Y(_e),function(Oe){return B.call(_e,Oe)}))}:function(){return[]},yt=Ct;function ft(_e,Oe){return!!(Oe=Oe??9007199254740991)&&(typeof _e=="number"||u.test(_e))&&_e>-1&&_e%1==0&&_e<Oe}function Bt(_e){if(_e!=null){try{return v.call(_e)}catch{}try{return _e+""}catch{}}return""}function Nt(_e,Oe){return _e===Oe||_e!=_e&&Oe!=Oe}(z&&yt(new z(new ArrayBuffer(1)))!="[object DataView]"||J&&yt(new J)!=s||ne&&yt(ne.resolve())!="[object Promise]"||te&&yt(new te)!=a||se&&yt(new se)!="[object WeakMap]")&&(yt=function(_e){var Oe=Ct(_e),He=Oe==o?_e.constructor:void 0,Xe=He?Bt(He):"";if(Xe)switch(Xe){case ye:return"[object DataView]";case K:return s;case ce:return"[object Promise]";case de:return a;case we:return"[object WeakMap]"}return Oe});var vt=et((function(){return arguments})())?et:function(_e){return Ht(_e)&&b.call(_e,"callee")&&!B.call(_e,"callee")},Vt=Array.isArray,_t=k||function(){return!1};function Yt(_e){if(!Qt(_e))return!1;var Oe=Ct(_e);return Oe=="[object Function]"||Oe=="[object GeneratorFunction]"||Oe=="[object AsyncFunction]"||Oe=="[object Proxy]"}function ir(_e){return typeof _e=="number"&&_e>-1&&_e%1==0&&_e<=9007199254740991}function Qt(_e){var Oe=typeof _e;return _e!=null&&(Oe=="object"||Oe=="function")}function Ht(_e){return _e!=null&&typeof _e=="object"}var zt=T?(function(_e){return function(Oe){return _e(Oe)}})(T):function(_e){return Ht(_e)&&ir(_e.length)&&!!c[Ct(_e)]};function en(_e){return(Oe=_e)!=null&&ir(Oe.length)&&!Yt(Oe)?ze(_e):it(_e);var Oe}e.exports=function(_e,Oe){return tt(_e,Oe)}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,e,n){(function(r){(function(){"use strict";var i=typeof r=="object"&&r&&r.Object===Object&&r,s=typeof self=="object"&&self&&self.Object===Object&&self,o=i||s||Function("return this")(),a=Object.prototype,l=a.hasOwnProperty,u=a.toString,c=o.Symbol,d=c?c.toStringTag:void 0;function f(h){return h==null?h===void 0?"[object Undefined]":"[object Null]":d&&d in Object(h)?(function(p){var m=l.call(p,d),g=p[d];try{p[d]=void 0;var y=!0}catch{}var x=u.call(p);return y&&(m?p[d]=g:delete p[d]),x})(h):(function(p){return u.call(p)})(h)}e.exports=function(h){if(!(function(m){var g=typeof m;return m!=null&&(g=="object"||g=="function")})(h))return!1;var p=f(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,e,n){"use strict";e.exports=function(r){return r==null}},{}],448:[function(t,e,n){"use strict";e.exports=function(r){return r===void 0}},{}],449:[function(t,e,n){(function(r){(function(){"use strict";var i=/^\[object .+?Constructor\]$/,s=typeof r=="object"&&r&&r.Object===Object&&r,o=typeof self=="object"&&self&&self.Object===Object&&self,a=s||o||Function("return this")();function l(W,B){return!!(W&&W.length)&&(function(X,M,Y){if(M!=M)return(function(z,J,ne,te){for(var se=z.length,ve=ne+(te?1:-1);te?ve--:++ve<se;)if(J(z[ve],ve,z))return ve;return-1})(X,c,Y);for(var k=Y-1,D=X.length;++k<D;)if(X[k]===M)return k;return-1})(W,B,0)>-1}function u(W,B,X){for(var M=-1,Y=W?W.length:0;++M<Y;)if(X(B,W[M]))return!0;return!1}function c(W){return W!=W}function d(W,B){return W.has(B)}function f(W){var B=-1,X=Array(W.size);return W.forEach(function(M){X[++B]=M}),X}var h,p=Array.prototype,m=Function.prototype,g=Object.prototype,y=a["__core-js_shared__"],x=(h=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",T=m.toString,R=g.hasOwnProperty,$=g.toString,O=RegExp("^"+T.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=p.splice,j=I(a,"Map"),q=I(a,"Set"),H=I(Object,"create");function E(W){var B=-1,X=W?W.length:0;for(this.clear();++B<X;){var M=W[B];this.set(M[0],M[1])}}function C(W){var B=-1,X=W?W.length:0;for(this.clear();++B<X;){var M=W[B];this.set(M[0],M[1])}}function L(W){var B=-1,X=W?W.length:0;for(this.clear();++B<X;){var M=W[B];this.set(M[0],M[1])}}function v(W){var B=-1,X=W?W.length:0;for(this.__data__=new L;++B<X;)this.add(W[B])}function b(W,B){for(var X,M,Y=W.length;Y--;)if((X=W[Y][0])===(M=B)||X!=X&&M!=M)return Y;return-1}function _(W){return!(!F(W)||(B=W,x&&x in B))&&((function(X){var M=F(X)?$.call(X):"";return M=="[object Function]"||M=="[object GeneratorFunction]"})(W)||(function(X){var M=!1;if(X!=null&&typeof X.toString!="function")try{M=!!(X+"")}catch{}return M})(W)?O:i).test((function(X){if(X!=null){try{return T.call(X)}catch{}try{return X+""}catch{}}return""})(W));var B}E.prototype.clear=function(){this.__data__=H?H(null):{}},E.prototype.delete=function(W){return this.has(W)&&delete this.__data__[W]},E.prototype.get=function(W){var B=this.__data__;if(H){var X=B[W];return X==="__lodash_hash_undefined__"?void 0:X}return R.call(B,W)?B[W]:void 0},E.prototype.has=function(W){var B=this.__data__;return H?B[W]!==void 0:R.call(B,W)},E.prototype.set=function(W,B){return this.__data__[W]=H&&B===void 0?"__lodash_hash_undefined__":B,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(W){var B=this.__data__,X=b(B,W);return!(X<0)&&(X==B.length-1?B.pop():U.call(B,X,1),!0)},C.prototype.get=function(W){var B=this.__data__,X=b(B,W);return X<0?void 0:B[X][1]},C.prototype.has=function(W){return b(this.__data__,W)>-1},C.prototype.set=function(W,B){var X=this.__data__,M=b(X,W);return M<0?X.push([W,B]):X[M][1]=B,this},L.prototype.clear=function(){this.__data__={hash:new E,map:new(j||C),string:new E}},L.prototype.delete=function(W){return S(this,W).delete(W)},L.prototype.get=function(W){return S(this,W).get(W)},L.prototype.has=function(W){return S(this,W).has(W)},L.prototype.set=function(W,B){return S(this,W).set(W,B),this},v.prototype.add=v.prototype.push=function(W){return this.__data__.set(W,"__lodash_hash_undefined__"),this},v.prototype.has=function(W){return this.__data__.has(W)};var w=q&&1/f(new q([,-0]))[1]==1/0?function(W){return new q(W)}:function(){};function S(W,B){var X,M,Y=W.__data__;return((M=typeof(X=B))=="string"||M=="number"||M=="symbol"||M=="boolean"?X!=="__proto__":X===null)?Y[typeof B=="string"?"string":"hash"]:Y.map}function I(W,B){var X=(function(M,Y){return M?.[Y]})(W,B);return _(X)?X:void 0}function F(W){var B=typeof W;return!!W&&(B=="object"||B=="function")}e.exports=function(W){return W&&W.length?(function(B,X,M){var Y=-1,k=l,D=B.length,z=!0,J=[],ne=J;if(M)z=!1,k=u;else if(D>=200){var te=X?null:w(B);if(te)return f(te);z=!1,k=d,ne=new v}else ne=X?[]:J;e:for(;++Y<D;){var se=B[Y],ve=X?X(se):se;if(se=M||se!==0?se:0,z&&ve==ve){for(var ye=ne.length;ye--;)if(ne[ye]===ve)continue e;X&&ne.push(ve),J.push(se)}else k(ne,ve,M)||(ne!==J&&ne.push(ve),J.push(se))}return J})(W):[]}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,e,n){"use strict";var r=t("inherits"),i=t("hash-base"),s=t("safe-buffer").Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(h,p){return h<<p|h>>>32-p}function u(h,p,m,g,y,x,T){return l(h+(p&m|~p&g)+y+x|0,T)+p|0}function c(h,p,m,g,y,x,T){return l(h+(p&g|m&~g)+y+x|0,T)+p|0}function d(h,p,m,g,y,x,T){return l(h+(p^m^g)+y+x|0,T)+p|0}function f(h,p,m,g,y,x,T){return l(h+(m^(p|~g))+y+x|0,T)+p|0}r(a,i),a.prototype._update=function(){for(var h=o,p=0;p<16;++p)h[p]=this._block.readInt32LE(4*p);var m=this._a,g=this._b,y=this._c,x=this._d;m=u(m,g,y,x,h[0],3614090360,7),x=u(x,m,g,y,h[1],3905402710,12),y=u(y,x,m,g,h[2],606105819,17),g=u(g,y,x,m,h[3],3250441966,22),m=u(m,g,y,x,h[4],4118548399,7),x=u(x,m,g,y,h[5],1200080426,12),y=u(y,x,m,g,h[6],2821735955,17),g=u(g,y,x,m,h[7],4249261313,22),m=u(m,g,y,x,h[8],1770035416,7),x=u(x,m,g,y,h[9],2336552879,12),y=u(y,x,m,g,h[10],4294925233,17),g=u(g,y,x,m,h[11],2304563134,22),m=u(m,g,y,x,h[12],1804603682,7),x=u(x,m,g,y,h[13],4254626195,12),y=u(y,x,m,g,h[14],2792965006,17),m=c(m,g=u(g,y,x,m,h[15],1236535329,22),y,x,h[1],4129170786,5),x=c(x,m,g,y,h[6],3225465664,9),y=c(y,x,m,g,h[11],643717713,14),g=c(g,y,x,m,h[0],3921069994,20),m=c(m,g,y,x,h[5],3593408605,5),x=c(x,m,g,y,h[10],38016083,9),y=c(y,x,m,g,h[15],3634488961,14),g=c(g,y,x,m,h[4],3889429448,20),m=c(m,g,y,x,h[9],568446438,5),x=c(x,m,g,y,h[14],3275163606,9),y=c(y,x,m,g,h[3],4107603335,14),g=c(g,y,x,m,h[8],1163531501,20),m=c(m,g,y,x,h[13],2850285829,5),x=c(x,m,g,y,h[2],4243563512,9),y=c(y,x,m,g,h[7],1735328473,14),m=d(m,g=c(g,y,x,m,h[12],2368359562,20),y,x,h[5],4294588738,4),x=d(x,m,g,y,h[8],2272392833,11),y=d(y,x,m,g,h[11],1839030562,16),g=d(g,y,x,m,h[14],4259657740,23),m=d(m,g,y,x,h[1],2763975236,4),x=d(x,m,g,y,h[4],1272893353,11),y=d(y,x,m,g,h[7],4139469664,16),g=d(g,y,x,m,h[10],3200236656,23),m=d(m,g,y,x,h[13],681279174,4),x=d(x,m,g,y,h[0],3936430074,11),y=d(y,x,m,g,h[3],3572445317,16),g=d(g,y,x,m,h[6],76029189,23),m=d(m,g,y,x,h[9],3654602809,4),x=d(x,m,g,y,h[12],3873151461,11),y=d(y,x,m,g,h[15],530742520,16),m=f(m,g=d(g,y,x,m,h[2],3299628645,23),y,x,h[0],4096336452,6),x=f(x,m,g,y,h[7],1126891415,10),y=f(y,x,m,g,h[14],2878612391,15),g=f(g,y,x,m,h[5],4237533241,21),m=f(m,g,y,x,h[12],1700485571,6),x=f(x,m,g,y,h[3],2399980690,10),y=f(y,x,m,g,h[10],4293915773,15),g=f(g,y,x,m,h[1],2240044497,21),m=f(m,g,y,x,h[8],1873313359,6),x=f(x,m,g,y,h[15],4264355552,10),y=f(y,x,m,g,h[6],2734768916,15),g=f(g,y,x,m,h[13],1309151649,21),m=f(m,g,y,x,h[4],4149444226,6),x=f(x,m,g,y,h[11],3174756917,10),y=f(y,x,m,g,h[2],718787259,15),g=f(g,y,x,m,h[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+g|0,this._c=this._c+y|0,this._d=this._d+x|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var h=s.allocUnsafe(16);return h.writeInt32LE(this._a,0),h.writeInt32LE(this._b,4),h.writeInt32LE(this._c,8),h.writeInt32LE(this._d,12),h},e.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("brorand");function s(o){this.rand=o||new i.Rand}e.exports=s,s.create=function(o){return new s(o)},s.prototype._randbelow=function(o){var a=o.bitLength(),l=Math.ceil(a/8);do var u=new r(this.rand.generate(l));while(u.cmp(o)>=0);return u},s.prototype._randrange=function(o,a){var l=a.sub(o);return o.add(this._randbelow(l))},s.prototype.test=function(o,a,l){var u=o.bitLength(),c=r.mont(o),d=new r(1).toRed(c);a||(a=Math.max(1,u/48|0));for(var f=o.subn(1),h=0;!f.testn(h);h++);for(var p=o.shrn(h),m=f.toRed(c);a>0;a--){var g=this._randrange(new r(2),f);l&&l(g);var y=g.toRed(c).redPow(p);if(y.cmp(d)!==0&&y.cmp(m)!==0){for(var x=1;x<h;x++){if((y=y.redSqr()).cmp(d)===0)return!1;if(y.cmp(m)===0)break}if(x===h)return!1}}return!0},s.prototype.getDivisor=function(o,a){var l=o.bitLength(),u=r.mont(o),c=new r(1).toRed(u);a||(a=Math.max(1,l/48|0));for(var d=o.subn(1),f=0;!d.testn(f);f++);for(var h=o.shrn(f),p=d.toRed(u);a>0;a--){var m=this._randrange(new r(2),d),g=o.gcd(m);if(g.cmpn(1)!==0)return g;var y=m.toRed(u).redPow(h);if(y.cmp(c)!==0&&y.cmp(p)!==0){for(var x=1;x<f;x++){if((y=y.redSqr()).cmp(c)===0)return y.fromRed().subn(1).gcd(o);if(y.cmp(p)===0)break}if(x===f)return(y=y.redSqr()).fromRed().subn(1).gcd(o)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],453:[function(t,e,n){"use strict";function r(i,s){if(!i)throw new Error(s||"Assertion failed")}e.exports=r,r.equal=function(i,s,o){if(i!=s)throw new Error(o||"Assertion failed: "+i+" != "+s)}},{}],454:[function(t,e,n){"use strict";var r=n;function i(o){return o.length===1?"0"+o:o}function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}r.toArray=function(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var u=0;u<o.length;u++)l[u]=0|o[u];return l}if(a==="hex")for((o=o.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(o="0"+o),u=0;u<o.length;u+=2)l.push(parseInt(o[u]+o[u+1],16));else for(u=0;u<o.length;u++){var c=o.charCodeAt(u),d=c>>8,f=255&c;d?l.push(d,f):l.push(f)}return l},r.zero2=i,r.toHex=s,r.encode=function(o,a){return a==="hex"?s(o):o}},{}],455:[function(t,e,n){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,e,n){"use strict";var r=t("asn1.js");n.certificate=t("./certificate");var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});n.RSAPrivateKey=i;var s=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});n.RSAPublicKey=s;var o=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});n.PublicKey=o;var a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});n.PrivateKey=l;var u=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});n.EncryptedPrivateKey=u;var c=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});n.DSAPrivateKey=c,n.DSAparam=r.define("DSAparam",function(){this.int()});var d=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=d;var f=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});n.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(t,e,n){"use strict";var r=t("asn1.js"),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),l=r.define("RelativeDistinguishedName",function(){this.setof(s)}),u=r.define("RDNSequence",function(){this.seqof(l)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),d=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),f=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),h=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(c),this.key("validity").use(d),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});e.exports=p},{"asn1.js":170}],458:[function(t,e,n){"use strict";var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=t("evp_bytestokey"),a=t("browserify-aes"),l=t("safe-buffer").Buffer;e.exports=function(u,c){var d,f=u.toString(),h=f.match(r);if(h){var p="aes"+h[1],m=l.from(h[2],"hex"),g=l.from(h[3].replace(/[\r\n]/g,""),"base64"),y=o(c,m.slice(0,8),parseInt(h[1],10)).key,x=[],T=a.createDecipheriv(p,y,m);x.push(T.update(g)),x.push(T.final()),d=l.concat(x)}else{var R=f.match(s);d=l.from(R[2].replace(/[\r\n]/g,""),"base64")}return{tag:f.match(i)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,e,n){"use strict";var r=t("./asn1"),i=t("./aesid.json"),s=t("./fixProc"),o=t("browserify-aes"),a=t("pbkdf2"),l=t("safe-buffer").Buffer;function u(c){var d;typeof c!="object"||l.isBuffer(c)||(d=c.passphrase,c=c.key),typeof c=="string"&&(c=l.from(c));var f,h,p=s(c,d),m=p.tag,g=p.data;switch(m){case"CERTIFICATE":h=r.certificate.decode(g,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(h||(h=r.PublicKey.decode(g,"der")),f=h.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(h.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return h.subjectPrivateKey=h.subjectPublicKey,{type:"ec",data:h};case"1.2.840.10040.4.1":return h.algorithm.params.pub_key=r.DSAparam.decode(h.subjectPublicKey.data,"der"),{type:"dsa",data:h.algorithm.params};default:throw new Error("unknown key id "+f)}case"ENCRYPTED PRIVATE KEY":g=(function(y,x){var T=y.algorithm.decrypt.kde.kdeparams.salt,R=parseInt(y.algorithm.decrypt.kde.kdeparams.iters.toString(),10),$=i[y.algorithm.decrypt.cipher.algo.join(".")],O=y.algorithm.decrypt.cipher.iv,U=y.subjectPrivateKey,j=parseInt($.split("-")[1],10)/8,q=a.pbkdf2Sync(x,T,R,j,"sha1"),H=o.createDecipheriv($,q,O),E=[];return E.push(H.update(U)),E.push(H.final()),l.concat(E)})(g=r.EncryptedPrivateKey.decode(g,"der"),d);case"PRIVATE KEY":switch(f=(h=r.PrivateKey.decode(g,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(h.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:h.algorithm.curve,privateKey:r.ECPrivateKey.decode(h.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return h.algorithm.params.priv_key=r.DSAparam.decode(h.subjectPrivateKey,"der"),{type:"dsa",params:h.algorithm.params};default:throw new Error("unknown key id "+f)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(g,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(g,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(g,"der")};case"EC PRIVATE KEY":return{curve:(g=r.ECPrivateKey.decode(g,"der")).parameters.value,privateKey:g.privateKey};default:throw new Error("unknown key type "+m)}}e.exports=u,u.signature=r.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,e,n){"use strict";n.pbkdf2=t("./lib/async"),n.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,e,n){(function(r){(function(){"use strict";var i,s,o=t("safe-buffer").Buffer,a=t("./precondition"),l=t("./default-encoding"),u=t("./sync"),c=t("./to-buffer"),d=r.crypto&&r.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function p(){return s||(s=r.process&&r.process.nextTick?r.process.nextTick:r.queueMicrotask?r.queueMicrotask:r.setImmediate?r.setImmediate:r.setTimeout)}function m(g,y,x,T,R){return d.importKey("raw",g,{name:"PBKDF2"},!1,["deriveBits"]).then(function($){return d.deriveBits({name:"PBKDF2",salt:y,iterations:x,hash:{name:R}},$,T<<3)}).then(function($){return o.from($)})}e.exports=function(g,y,x,T,R,$){typeof R=="function"&&($=R,R=void 0);var O=f[(R=R||"sha1").toLowerCase()];if(O&&typeof r.Promise=="function"){if(a(x,T),g=c(g,l,"Password"),y=c(y,l,"Salt"),typeof $!="function")throw new Error("No callback provided to pbkdf2");(function(U,j){U.then(function(q){p()(function(){j(null,q)})},function(q){p()(function(){j(q)})})})((function(U){if(r.process&&!r.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(h[U]!==void 0)return h[U];var j=m(i=i||o.alloc(8),i,10,128,U).then(function(){return!0}).catch(function(){return!1});return h[U]=j,j})(O).then(function(U){return U?m(g,y,x,T,O):u(g,y,x,T,R)}),$)}else p()(function(){var U;try{U=u(g,y,x,T,R)}catch(j){return $(j)}$(null,U)})}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,e,n){(function(r,i){(function(){"use strict";var s;i.process&&i.process.browser?s="utf-8":i.process&&i.process.version?s=parseInt(r.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":s="utf-8",e.exports=s}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,e,n){"use strict";var r=Math.pow(2,30)-1;e.exports=function(i,s){if(typeof i!="number")throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if(typeof s!="number")throw new TypeError("Key length not a number");if(s<0||s>r||s!=s)throw new TypeError("Bad key length")}},{}],464:[function(t,e,n){"use strict";var r=t("create-hash/md5"),i=t("ripemd160"),s=t("sha.js"),o=t("safe-buffer").Buffer,a=t("./precondition"),l=t("./default-encoding"),u=t("./to-buffer"),c=o.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(h,p,m){var g=(function(O){function U(j){return s(O).update(j).digest()}return O==="rmd160"||O==="ripemd160"?function(j){return new i().update(j).digest()}:O==="md5"?r:U})(h),y=h==="sha512"||h==="sha384"?128:64;p.length>y?p=g(p):p.length<y&&(p=o.concat([p,c],y));for(var x=o.allocUnsafe(y+d[h]),T=o.allocUnsafe(y+d[h]),R=0;R<y;R++)x[R]=54^p[R],T[R]=92^p[R];var $=o.allocUnsafe(y+m+4);x.copy($,0,0,y),this.ipad1=$,this.ipad2=x,this.opad=T,this.alg=h,this.blocksize=y,this.hash=g,this.size=d[h]}f.prototype.run=function(h,p){return h.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(h,p,m,g,y){a(m,g);var x=new f(y=y||"sha1",h=u(h,l,"Password"),(p=u(p,l,"Salt")).length),T=o.allocUnsafe(g),R=o.allocUnsafe(p.length+4);p.copy(R,0,0,p.length);for(var $=0,O=d[y],U=Math.ceil(g/O),j=1;j<=U;j++){R.writeUInt32BE(j,p.length);for(var q=x.run(R,x.ipad1),H=q,E=1;E<m;E++){H=x.run(H,x.ipad2);for(var C=0;C<O;C++)q[C]^=H[C]}q.copy(T,$),$+=O}return T}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;e.exports=function(i,s,o){if(r.isBuffer(i))return i;if(typeof i=="string")return r.from(i,s);if(ArrayBuffer.isView(i))return r.from(i.buffer);throw new TypeError(o+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,e,n){(function(r){(function(){"use strict";r===void 0||!r.version||r.version.indexOf("v0.")===0||r.version.indexOf("v1.")===0&&r.version.indexOf("v1.8.")!==0?e.exports={nextTick:function(i,s,o,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var l,u,c=arguments.length;switch(c){case 0:case 1:return r.nextTick(i);case 2:return r.nextTick(function(){i.call(null,s)});case 3:return r.nextTick(function(){i.call(null,s,o)});case 4:return r.nextTick(function(){i.call(null,s,o,a)});default:for(l=new Array(c-1),u=0;u<l.length;)l[u++]=arguments[u];return r.nextTick(function(){i.apply(null,l)})}}}:e.exports=r}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,e,n){"use strict";var r,i,s=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(y){if(r===setTimeout)return setTimeout(y,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(y,0);try{return r(y,0)}catch{try{return r.call(null,y,0)}catch{return r.call(this,y,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:o}catch{r=o}try{i=typeof clearTimeout=="function"?clearTimeout:a}catch{i=a}})();var u,c=[],d=!1,f=-1;function h(){d&&u&&(d=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!d){var y=l(h);d=!0;for(var x=c.length;x;){for(u=c,c=[];++f<x;)u&&u[f].run();f=-1,x=c.length}u=null,d=!1,(function(T){if(i===clearTimeout)return clearTimeout(T);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(T);try{i(T)}catch{try{return i.call(null,T)}catch{return i.call(this,T)}}})(y)}}function m(y,x){this.fun=y,this.array=x}function g(){}s.nextTick=function(y){var x=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)x[T-1]=arguments[T];c.push(new m(y,x)),c.length!==1||d||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(y){return[]},s.binding=function(y){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(y){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],468:[function(t,e,n){"use strict";n.publicEncrypt=t("./publicEncrypt"),n.privateDecrypt=t("./privateDecrypt"),n.privateEncrypt=function(r,i){return n.publicEncrypt(r,i,!0)},n.publicDecrypt=function(r,i){return n.privateDecrypt(r,i,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,e,n){"use strict";var r=t("create-hash"),i=t("safe-buffer").Buffer;function s(o){var a=i.allocUnsafe(4);return a.writeUInt32BE(o,0),a}e.exports=function(o,a){for(var l,u=i.alloc(0),c=0;u.length<a;)l=s(c++),u=i.concat([u,r("sha1").update(o).update(l).digest()]);return u.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],471:[function(t,e,n){"use strict";var r=t("parse-asn1"),i=t("./mgf"),s=t("./xor"),o=t("bn.js"),a=t("browserify-rsa"),l=t("create-hash"),u=t("./withPublic"),c=t("safe-buffer").Buffer;e.exports=function(d,f,h){var p;p=d.padding?d.padding:h?1:4;var m,g=r(d),y=g.modulus.byteLength();if(f.length>y||new o(f).cmp(g.modulus)>=0)throw new Error("decryption error");m=h?u(new o(f),g):a(f,g);var x=c.alloc(y-m.length);if(m=c.concat([x,m],y),p===4)return(function(T,R){var $=T.modulus.byteLength(),O=l("sha1").update(c.alloc(0)).digest(),U=O.length;if(R[0]!==0)throw new Error("decryption error");var j=R.slice(1,U+1),q=R.slice(U+1),H=s(j,i(q,U)),E=s(q,i(H,$-U-1));if((function(L,v){L=c.from(L),v=c.from(v);var b=0,_=L.length;L.length!==v.length&&(b++,_=Math.min(L.length,v.length));for(var w=-1;++w<_;)b+=L[w]^v[w];return b})(O,E.slice(0,U)))throw new Error("decryption error");for(var C=U;E[C]===0;)C++;if(E[C++]!==1)throw new Error("decryption error");return E.slice(C)})(g,m);if(p===1)return(function(T,R,$){for(var O=R.slice(0,2),U=2,j=0;R[U++]!==0;)if(U>=R.length){j++;break}var q=R.slice(2,U-1);if((O.toString("hex")!=="0002"&&!$||O.toString("hex")!=="0001"&&$)&&j++,q.length<8&&j++,j)throw new Error("decryption error");return R.slice(U)})(0,m,h);if(p===3)return m;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,e,n){"use strict";var r=t("parse-asn1"),i=t("randombytes"),s=t("create-hash"),o=t("./mgf"),a=t("./xor"),l=t("bn.js"),u=t("./withPublic"),c=t("browserify-rsa"),d=t("safe-buffer").Buffer;e.exports=function(f,h,p){var m;m=f.padding?f.padding:p?1:4;var g,y=r(f);if(m===4)g=(function(x,T){var R=x.modulus.byteLength(),$=T.length,O=s("sha1").update(d.alloc(0)).digest(),U=O.length,j=2*U;if($>R-j-2)throw new Error("message too long");var q=d.alloc(R-$-j-2),H=R-U-1,E=i(U),C=a(d.concat([O,q,d.alloc(1,1),T],H),o(E,H)),L=a(E,o(C,U));return new l(d.concat([d.alloc(1),L,C],R))})(y,h);else if(m===1)g=(function(x,T,R){var $,O=T.length,U=x.modulus.byteLength();if(O>U-11)throw new Error("message too long");return $=R?d.alloc(U-O-3,255):(function(j){for(var q,H=d.allocUnsafe(j),E=0,C=i(2*j),L=0;E<j;)L===C.length&&(C=i(2*j),L=0),(q=C[L++])&&(H[E++]=q);return H})(U-O-3),new l(d.concat([d.from([0,R?1:2]),$,d.alloc(1),T],U))})(y,h,p);else{if(m!==3)throw new Error("unknown padding");if((g=new l(h)).cmp(y.modulus)>=0)throw new Error("data too long for modulus")}return p?c(g,y):u(g,y)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("safe-buffer").Buffer;e.exports=function(s,o){return i.from(s.toRed(r.mont(o.modulus)).redPow(new r(o.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,e,n){"use strict";e.exports=function(r,i){for(var s=r.length,o=-1;++o<s;)r[o]^=i[o];return r}},{}],475:[function(t,e,n){(function(r,i){(function(){"use strict";var s=t("safe-buffer").Buffer,o=i.crypto||i.msCrypto;o&&o.getRandomValues?e.exports=function(a,l){if(a>4294967295)throw new RangeError("requested too many random bytes");var u=s.allocUnsafe(a);if(a>0)if(a>65536)for(var c=0;c<a;c+=65536)o.getRandomValues(u.slice(c,c+65536));else o.getRandomValues(u);return typeof l=="function"?r.nextTick(function(){l(null,u)}):u}:e.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,e,n){(function(r,i){(function(){"use strict";function s(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var o=t("safe-buffer"),a=t("randombytes"),l=o.Buffer,u=o.kMaxLength,c=i.crypto||i.msCrypto,d=Math.pow(2,32)-1;function f(m,g){if(typeof m!="number"||m!=m)throw new TypeError("offset must be a number");if(m>d||m<0)throw new TypeError("offset must be a uint32");if(m>u||m>g)throw new RangeError("offset out of range")}function h(m,g,y){if(typeof m!="number"||m!=m)throw new TypeError("size must be a number");if(m>d||m<0)throw new TypeError("size must be a uint32");if(m+g>y||m>u)throw new RangeError("buffer too small")}function p(m,g,y,x){if(r.browser){var T=m.buffer,R=new Uint8Array(T,g,y);return c.getRandomValues(R),x?void r.nextTick(function(){x(null,m)}):m}if(!x)return a(y).copy(m,g),m;a(y,function($,O){if($)return x($);O.copy(m,g),x(null,m)})}c&&c.getRandomValues||!r.browser?(n.randomFill=function(m,g,y,x){if(!(l.isBuffer(m)||m instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof g=="function")x=g,g=0,y=m.length;else if(typeof y=="function")x=y,y=m.length-g;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return f(g,m.length),h(y,g,m.length),p(m,g,y,x)},n.randomFillSync=function(m,g,y){if(g===void 0&&(g=0),!(l.isBuffer(m)||m instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(g,m.length),y===void 0&&(y=m.length-g),h(y,g,m.length),p(m,g,y)}):(n.randomFill=s,n.randomFillSync=s)}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,e,n){"use strict";var r={};function i(o,a,l){l||(l=Error);var u=(function(c){var d,f;function h(p,m,g){return c.call(this,(function(y,x,T){return typeof a=="string"?a:a(y,x,T)})(p,m,g))||this}return f=c,(d=h).prototype=Object.create(f.prototype),d.prototype.constructor=d,d.__proto__=f,h})(l);u.prototype.name=l.name,u.prototype.code=o,r[o]=u}function s(o,a){if(Array.isArray(o)){var l=o.length;return o=o.map(function(u){return String(u)}),l>2?"one of ".concat(a," ").concat(o.slice(0,l-1).join(", "),", or ")+o[l-1]:l===2?"one of ".concat(a," ").concat(o[0]," or ").concat(o[1]):"of ".concat(a," ").concat(o[0])}return"of ".concat(a," ").concat(String(o))}i("ERR_INVALID_OPT_VALUE",function(o,a){return'The value "'+a+'" is invalid for option "'+o+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(o,a,l){var u,c,d,f;if(typeof a=="string"&&(c="not ",a.substr(!d||d<0?0:+d,c.length)===c)?(u="must not be",a=a.replace(/^not /,"")):u="must be",(function(p,m,g){return(g===void 0||g>p.length)&&(g=p.length),p.substring(g-m.length,g)===m})(o," argument"))f="The ".concat(o," ").concat(u," ").concat(s(a,"type"));else{var h=(function(p,m,g){return typeof g!="number"&&(g=0),!(g+m.length>p.length)&&p.indexOf(m,g)!==-1})(o,".")?"property":"argument";f='The "'.concat(o,'" ').concat(h," ").concat(u," ").concat(s(a,"type"))}return f+=". Received type ".concat(typeof l)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},{}],478:[function(t,e,n){(function(r){(function(){"use strict";var i=Object.keys||function(h){var p=[];for(var m in h)p.push(m);return p};e.exports=c;var s=t("./_stream_readable"),o=t("./_stream_writable");t("inherits")(c,s);for(var a=i(o.prototype),l=0;l<a.length;l++){var u=a[l];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(h){if(!(this instanceof c))return new c(h);s.call(this,h),o.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||r.nextTick(f,this)}function f(h){h.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,e,n){"use strict";e.exports=i;var r=t("./_stream_transform");function i(s){if(!(this instanceof i))return new i(s);r.call(this,s)}t("inherits")(i,r),i.prototype._transform=function(s,o,a){a(null,s)}},{"./_stream_transform":481,inherits:440}],480:[function(t,e,n){(function(r,i){(function(){"use strict";var s;e.exports=H,H.ReadableState=q,t("events").EventEmitter;var o=function(k,D){return k.listeners(D).length},a=t("./internal/streams/stream"),l=t("buffer").Buffer,u=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},c,d=t("util");c=d&&d.debuglog?d.debuglog("stream"):function(){};var f,h,p,m=t("./internal/streams/buffer_list"),g=t("./internal/streams/destroy"),y=t("./internal/streams/state").getHighWaterMark,x=t("../errors").codes,T=x.ERR_INVALID_ARG_TYPE,R=x.ERR_STREAM_PUSH_AFTER_EOF,$=x.ERR_METHOD_NOT_IMPLEMENTED,O=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(H,a);var U=g.errorOrDestroy,j=["error","close","destroy","pause","resume"];function q(k,D,z){s=s||t("./_stream_duplex"),k=k||{},typeof z!="boolean"&&(z=D instanceof s),this.objectMode=!!k.objectMode,z&&(this.objectMode=this.objectMode||!!k.readableObjectMode),this.highWaterMark=y(this,k,"readableHighWaterMark",z),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=k.emitClose!==!1,this.autoDestroy=!!k.autoDestroy,this.destroyed=!1,this.defaultEncoding=k.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,k.encoding&&(f||(f=t("string_decoder/").StringDecoder),this.decoder=new f(k.encoding),this.encoding=k.encoding)}function H(k){if(s=s||t("./_stream_duplex"),!(this instanceof H))return new H(k);var D=this instanceof s;this._readableState=new q(k,this,D),this.readable=!0,k&&(typeof k.read=="function"&&(this._read=k.read),typeof k.destroy=="function"&&(this._destroy=k.destroy)),a.call(this)}function E(k,D,z,J,ne){c("readableAddChunk",D);var te,se=k._readableState;if(D===null)se.reading=!1,(function(ve,ye){if(c("onEofChunk"),!ye.ended){if(ye.decoder){var K=ye.decoder.end();K&&K.length&&(ye.buffer.push(K),ye.length+=ye.objectMode?1:K.length)}ye.ended=!0,ye.sync?v(ve):(ye.needReadable=!1,ye.emittedReadable||(ye.emittedReadable=!0,b(ve)))}})(k,se);else if(ne||(te=(function(ve,ye){var K;ce=ye,l.isBuffer(ce)||ce instanceof u||typeof ye=="string"||ye===void 0||ve.objectMode||(K=new T("chunk",["string","Buffer","Uint8Array"],ye));var ce;return K})(se,D)),te)U(k,te);else if(se.objectMode||D&&D.length>0)if(typeof D=="string"||se.objectMode||Object.getPrototypeOf(D)===l.prototype||(D=(function(ve){return l.from(ve)})(D)),J)se.endEmitted?U(k,new O):C(k,se,D,!0);else if(se.ended)U(k,new R);else{if(se.destroyed)return!1;se.reading=!1,se.decoder&&!z?(D=se.decoder.write(D),se.objectMode||D.length!==0?C(k,se,D,!1):_(k,se)):C(k,se,D,!1)}else J||(se.reading=!1,_(k,se));return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function C(k,D,z,J){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,k.emit("data",z)):(D.length+=D.objectMode?1:z.length,J?D.buffer.unshift(z):D.buffer.push(z),D.needReadable&&v(k)),_(k,D)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(k){this._readableState&&(this._readableState.destroyed=k)}}),H.prototype.destroy=g.destroy,H.prototype._undestroy=g.undestroy,H.prototype._destroy=function(k,D){D(k)},H.prototype.push=function(k,D){var z,J=this._readableState;return J.objectMode?z=!0:typeof k=="string"&&((D=D||J.defaultEncoding)!==J.encoding&&(k=l.from(k,D),D=""),z=!0),E(this,k,D,!1,z)},H.prototype.unshift=function(k){return E(this,k,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(k){f||(f=t("string_decoder/").StringDecoder);var D=new f(k);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,J="";z!==null;)J+=D.write(z.data),z=z.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};function L(k,D){return k<=0||D.length===0&&D.ended?0:D.objectMode?1:k!=k?D.flowing&&D.length?D.buffer.head.data.length:D.length:(k>D.highWaterMark&&(D.highWaterMark=(function(z){return z>=1073741824?z=1073741824:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z})(k)),k<=D.length?k:D.ended?D.length:(D.needReadable=!0,0))}function v(k){var D=k._readableState;c("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(c("emitReadable",D.flowing),D.emittedReadable=!0,r.nextTick(b,k))}function b(k){var D=k._readableState;c("emitReadable_",D.destroyed,D.length,D.ended),D.destroyed||!D.length&&!D.ended||(k.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,W(k)}function _(k,D){D.readingMore||(D.readingMore=!0,r.nextTick(w,k,D))}function w(k,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var z=D.length;if(c("maybeReadMore read 0"),k.read(0),z===D.length)break}D.readingMore=!1}function S(k){var D=k._readableState;D.readableListening=k.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:k.listenerCount("data")>0&&k.resume()}function I(k){c("readable nexttick read 0"),k.read(0)}function F(k,D){c("resume",D.reading),D.reading||k.read(0),D.resumeScheduled=!1,k.emit("resume"),W(k),D.flowing&&!D.reading&&k.read(0)}function W(k){var D=k._readableState;for(c("flow",D.flowing);D.flowing&&k.read()!==null;);}function B(k,D){return D.length===0?null:(D.objectMode?z=D.buffer.shift():!k||k>=D.length?(z=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.first():D.buffer.concat(D.length),D.buffer.clear()):z=D.buffer.consume(k,D.decoder),z);var z}function X(k){var D=k._readableState;c("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,r.nextTick(M,D,k))}function M(k,D){if(c("endReadableNT",k.endEmitted,k.length),!k.endEmitted&&k.length===0&&(k.endEmitted=!0,D.readable=!1,D.emit("end"),k.autoDestroy)){var z=D._writableState;(!z||z.autoDestroy&&z.finished)&&D.destroy()}}function Y(k,D){for(var z=0,J=k.length;z<J;z++)if(k[z]===D)return z;return-1}H.prototype.read=function(k){c("read",k),k=parseInt(k,10);var D=this._readableState,z=k;if(k!==0&&(D.emittedReadable=!1),k===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return c("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?X(this):v(this),null;if((k=L(k,D))===0&&D.ended)return D.length===0&&X(this),null;var J,ne=D.needReadable;return c("need readable",ne),(D.length===0||D.length-k<D.highWaterMark)&&c("length less than watermark",ne=!0),D.ended||D.reading?c("reading or ended",ne=!1):ne&&(c("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(k=L(z,D))),(J=k>0?B(k,D):null)===null?(D.needReadable=D.length<=D.highWaterMark,k=0):(D.length-=k,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),z!==k&&D.ended&&X(this)),J!==null&&this.emit("data",J),J},H.prototype._read=function(k){U(this,new $("_read()"))},H.prototype.pipe=function(k,D){var z=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=k;break;case 1:J.pipes=[J.pipes,k];break;default:J.pipes.push(k)}J.pipesCount+=1,c("pipe count=%d opts=%j",J.pipesCount,D);var ne=(!D||D.end!==!1)&&k!==r.stdout&&k!==r.stderr?se:ge;function te(Se,Ee){c("onunpipe"),Se===z&&Ee&&Ee.hasUnpiped===!1&&(Ee.hasUnpiped=!0,c("cleanup"),k.removeListener("close",de),k.removeListener("finish",we),k.removeListener("drain",ve),k.removeListener("error",ce),k.removeListener("unpipe",te),z.removeListener("end",se),z.removeListener("end",ge),z.removeListener("data",K),ye=!0,!J.awaitDrain||k._writableState&&!k._writableState.needDrain||ve())}function se(){c("onend"),k.end()}J.endEmitted?r.nextTick(ne):z.once("end",ne),k.on("unpipe",te);var ve=(function(Se){return function(){var Ee=Se._readableState;c("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&o(Se,"data")&&(Ee.flowing=!0,W(Se))}})(z);k.on("drain",ve);var ye=!1;function K(Se){c("ondata");var Ee=k.write(Se);c("dest.write",Ee),Ee===!1&&((J.pipesCount===1&&J.pipes===k||J.pipesCount>1&&Y(J.pipes,k)!==-1)&&!ye&&(c("false write response, pause",J.awaitDrain),J.awaitDrain++),z.pause())}function ce(Se){c("onerror",Se),ge(),k.removeListener("error",ce),o(k,"error")===0&&U(k,Se)}function de(){k.removeListener("finish",we),ge()}function we(){c("onfinish"),k.removeListener("close",de),ge()}function ge(){c("unpipe"),z.unpipe(k)}return z.on("data",K),(function(Se,Ee,Fe){if(typeof Se.prependListener=="function")return Se.prependListener(Ee,Fe);Se._events&&Se._events[Ee]?Array.isArray(Se._events[Ee])?Se._events[Ee].unshift(Fe):Se._events[Ee]=[Fe,Se._events[Ee]]:Se.on(Ee,Fe)})(k,"error",ce),k.once("close",de),k.once("finish",we),k.emit("pipe",z),J.flowing||(c("pipe resume"),z.resume()),k},H.prototype.unpipe=function(k){var D=this._readableState,z={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return k&&k!==D.pipes||(k||(k=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,k&&k.emit("unpipe",this,z)),this;if(!k){var J=D.pipes,ne=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var te=0;te<ne;te++)J[te].emit("unpipe",this,{hasUnpiped:!1});return this}var se=Y(D.pipes,k);return se===-1||(D.pipes.splice(se,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),k.emit("unpipe",this,z)),this},H.prototype.on=function(k,D){var z=a.prototype.on.call(this,k,D),J=this._readableState;return k==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):k==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,c("on readable",J.length,J.reading),J.length?v(this):J.reading||r.nextTick(I,this))),z},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(k,D){var z=a.prototype.removeListener.call(this,k,D);return k==="readable"&&r.nextTick(S,this),z},H.prototype.removeAllListeners=function(k){var D=a.prototype.removeAllListeners.apply(this,arguments);return k!=="readable"&&k!==void 0||r.nextTick(S,this),D},H.prototype.resume=function(){var k=this._readableState;return k.flowing||(c("resume"),k.flowing=!k.readableListening,(function(D,z){z.resumeScheduled||(z.resumeScheduled=!0,r.nextTick(F,D,z))})(this,k)),k.paused=!1,this},H.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(k){var D=this,z=this._readableState,J=!1;for(var ne in k.on("end",function(){if(c("wrapped end"),z.decoder&&!z.ended){var se=z.decoder.end();se&&se.length&&D.push(se)}D.push(null)}),k.on("data",function(se){c("wrapped data"),z.decoder&&(se=z.decoder.write(se)),z.objectMode&&se==null||(z.objectMode||se&&se.length)&&(D.push(se)||(J=!0,k.pause()))}),k)this[ne]===void 0&&typeof k[ne]=="function"&&(this[ne]=(function(se){return function(){return k[se].apply(k,arguments)}})(ne));for(var te=0;te<j.length;te++)k.on(j[te],this.emit.bind(this,j[te]));return this._read=function(se){c("wrapped _read",se),J&&(J=!1,k.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return h===void 0&&(h=t("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(k){this._readableState&&(this._readableState.flowing=k)}}),H._fromList=B,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(k,D){return p===void 0&&(p=t("./internal/streams/from")),p(H,k,D)})}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,e,n){"use strict";e.exports=c;var r=t("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,l=t("./_stream_duplex");function u(h,p){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new s);m.writechunk=null,m.writecb=null,p!=null&&this.push(p),g(h);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function c(h){if(!(this instanceof c))return new c(h);l.call(this,h),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",d)}function d(){var h=this;typeof this._flush!="function"||this._readableState.destroyed?f(this,null,null):this._flush(function(p,m){f(h,p,m)})}function f(h,p,m){if(p)return h.emit("error",p);if(m!=null&&h.push(m),h._writableState.length)throw new a;if(h._transformState.transforming)throw new o;return h.push(null)}t("inherits")(c,l),c.prototype.push=function(h,p){return this._transformState.needTransform=!1,l.prototype.push.call(this,h,p)},c.prototype._transform=function(h,p,m){m(new i("_transform()"))},c.prototype._write=function(h,p,m){var g=this._transformState;if(g.writecb=m,g.writechunk=h,g.writeencoding=p,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},c.prototype._read=function(h){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},c.prototype._destroy=function(h,p){l.prototype._destroy.call(this,h,function(m){p(m)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,e,n){(function(r,i){(function(){"use strict";function s(w){var S=this;this.next=null,this.entry=null,this.finish=function(){(function(I,F,W){var B=I.entry;for(I.entry=null;B;){var X=B.callback;F.pendingcb--,X(W),B=B.next}F.corkedRequestsFree.next=I})(S,w)}}var o;e.exports=H,H.WritableState=q;var a={deprecate:t("util-deprecate")},l=t("./internal/streams/stream"),u=t("buffer").Buffer,c=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,f=t("./internal/streams/destroy"),h=t("./internal/streams/state").getHighWaterMark,p=t("../errors").codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_MULTIPLE_CALLBACK,x=p.ERR_STREAM_CANNOT_PIPE,T=p.ERR_STREAM_DESTROYED,R=p.ERR_STREAM_NULL_VALUES,$=p.ERR_STREAM_WRITE_AFTER_END,O=p.ERR_UNKNOWN_ENCODING,U=f.errorOrDestroy;function j(){}function q(w,S,I){o=o||t("./_stream_duplex"),w=w||{},typeof I!="boolean"&&(I=S instanceof o),this.objectMode=!!w.objectMode,I&&(this.objectMode=this.objectMode||!!w.writableObjectMode),this.highWaterMark=h(this,w,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=w.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){(function(B,X){var M=B._writableState,Y=M.sync,k=M.writecb;if(typeof k!="function")throw new y;if((function(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0})(M),X)(function(z,J,ne,te,se){--J.pendingcb,ne?(r.nextTick(se,te),r.nextTick(_,z,J),z._writableState.errorEmitted=!0,U(z,te)):(se(te),z._writableState.errorEmitted=!0,U(z,te),_(z,J))})(B,M,Y,X,k);else{var D=v(M)||B.destroyed;D||M.corked||M.bufferProcessing||!M.bufferedRequest||L(B,M),Y?r.nextTick(C,B,M,D,k):C(B,M,D,k)}})(S,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=w.emitClose!==!1,this.autoDestroy=!!w.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function H(w){var S=this instanceof(o=o||t("./_stream_duplex"));if(!S&&!d.call(H,this))return new H(w);this._writableState=new q(w,this,S),this.writable=!0,w&&(typeof w.write=="function"&&(this._write=w.write),typeof w.writev=="function"&&(this._writev=w.writev),typeof w.destroy=="function"&&(this._destroy=w.destroy),typeof w.final=="function"&&(this._final=w.final)),l.call(this)}function E(w,S,I,F,W,B,X){S.writelen=F,S.writecb=X,S.writing=!0,S.sync=!0,S.destroyed?S.onwrite(new T("write")):I?w._writev(W,S.onwrite):w._write(W,B,S.onwrite),S.sync=!1}function C(w,S,I,F){I||(function(W,B){B.length===0&&B.needDrain&&(B.needDrain=!1,W.emit("drain"))})(w,S),S.pendingcb--,F(),_(w,S)}function L(w,S){S.bufferProcessing=!0;var I=S.bufferedRequest;if(w._writev&&I&&I.next){var F=S.bufferedRequestCount,W=new Array(F),B=S.corkedRequestsFree;B.entry=I;for(var X=0,M=!0;I;)W[X]=I,I.isBuf||(M=!1),I=I.next,X+=1;W.allBuffers=M,E(w,S,!0,S.length,W,"",B.finish),S.pendingcb++,S.lastBufferedRequest=null,B.next?(S.corkedRequestsFree=B.next,B.next=null):S.corkedRequestsFree=new s(S),S.bufferedRequestCount=0}else{for(;I;){var Y=I.chunk,k=I.encoding,D=I.callback;if(E(w,S,!1,S.objectMode?1:Y.length,Y,k,D),I=I.next,S.bufferedRequestCount--,S.writing)break}I===null&&(S.lastBufferedRequest=null)}S.bufferedRequest=I,S.bufferProcessing=!1}function v(w){return w.ending&&w.length===0&&w.bufferedRequest===null&&!w.finished&&!w.writing}function b(w,S){w._final(function(I){S.pendingcb--,I&&U(w,I),S.prefinished=!0,w.emit("prefinish"),_(w,S)})}function _(w,S){var I=v(S);if(I&&((function(W,B){B.prefinished||B.finalCalled||(typeof W._final!="function"||B.destroyed?(B.prefinished=!0,W.emit("prefinish")):(B.pendingcb++,B.finalCalled=!0,r.nextTick(b,W,B)))})(w,S),S.pendingcb===0&&(S.finished=!0,w.emit("finish"),S.autoDestroy))){var F=w._readableState;(!F||F.autoDestroy&&F.endEmitted)&&w.destroy()}return I}t("inherits")(H,l),q.prototype.getBuffer=function(){for(var w=this.bufferedRequest,S=[];w;)S.push(w),w=w.next;return S},(function(){try{Object.defineProperty(q.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(w){return!!d.call(this,w)||this===H&&w&&w._writableState instanceof q}})):d=function(w){return w instanceof this},H.prototype.pipe=function(){U(this,new x)},H.prototype.write=function(w,S,I){var F,W=this._writableState,B=!1,X=!W.objectMode&&(F=w,u.isBuffer(F)||F instanceof c);return X&&!u.isBuffer(w)&&(w=(function(M){return u.from(M)})(w)),typeof S=="function"&&(I=S,S=null),X?S="buffer":S||(S=W.defaultEncoding),typeof I!="function"&&(I=j),W.ending?(function(M,Y){var k=new $;U(M,k),r.nextTick(Y,k)})(this,I):(X||(function(M,Y,k,D){var z;return k===null?z=new R:typeof k=="string"||Y.objectMode||(z=new m("chunk",["string","Buffer"],k)),!z||(U(M,z),r.nextTick(D,z),!1)})(this,W,w,I))&&(W.pendingcb++,B=(function(M,Y,k,D,z,J){if(!k){var ne=(function(ye,K,ce){return ye.objectMode||ye.decodeStrings===!1||typeof K!="string"||(K=u.from(K,ce)),K})(Y,D,z);D!==ne&&(k=!0,z="buffer",D=ne)}var te=Y.objectMode?1:D.length;Y.length+=te;var se=Y.length<Y.highWaterMark;if(se||(Y.needDrain=!0),Y.writing||Y.corked){var ve=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:D,encoding:z,isBuf:k,callback:J,next:null},ve?ve.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else E(M,Y,!1,te,D,z,J);return se})(this,W,X,w,S,I)),B},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var w=this._writableState;w.corked&&(w.corked--,w.writing||w.corked||w.bufferProcessing||!w.bufferedRequest||L(this,w))},H.prototype.setDefaultEncoding=function(w){if(typeof w=="string"&&(w=w.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((w+"").toLowerCase())>-1))throw new O(w);return this._writableState.defaultEncoding=w,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(w,S,I){I(new g("_write()"))},H.prototype._writev=null,H.prototype.end=function(w,S,I){var F=this._writableState;return typeof w=="function"?(I=w,w=null,S=null):typeof S=="function"&&(I=S,S=null),w!=null&&this.write(w,S),F.corked&&(F.corked=1,this.uncork()),F.ending||(function(W,B,X){B.ending=!0,_(W,B),X&&(B.finished?r.nextTick(X):W.once("finish",X)),B.ended=!0,W.writable=!1})(this,F,I),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),H.prototype.destroy=f.destroy,H.prototype._undestroy=f.undestroy,H.prototype._destroy=function(w,S){S(w)}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,e,n){(function(r){(function(){"use strict";var i;function s(T,R,$){return(R=(function(O){var U=(function(j,q){if(typeof j!="object"||j===null)return j;var H=j[Symbol.toPrimitive];if(H!==void 0){var E=H.call(j,q||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(j)})(O,"string");return typeof U=="symbol"?U:String(U)})(R))in T?Object.defineProperty(T,R,{value:$,enumerable:!0,configurable:!0,writable:!0}):T[R]=$,T}var o=t("./end-of-stream"),a=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function p(T,R){return{value:T,done:R}}function m(T){var R=T[a];if(R!==null){var $=T[h].read();$!==null&&(T[d]=null,T[a]=null,T[l]=null,R(p($,!1)))}}function g(T){r.nextTick(m,T)}var y=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((s(i={get stream(){return this[h]},next:function(){var T=this,R=this[u];if(R!==null)return Promise.reject(R);if(this[c])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise(function(j,q){r.nextTick(function(){T[u]?q(T[u]):j(p(void 0,!0))})});var $,O=this[d];if(O)$=new Promise((function(j,q){return function(H,E){j.then(function(){q[c]?H(p(void 0,!0)):q[f](H,E)},E)}})(O,this));else{var U=this[h].read();if(U!==null)return Promise.resolve(p(U,!1));$=new Promise(this[f])}return this[d]=$,$}},Symbol.asyncIterator,function(){return this}),s(i,"return",function(){var T=this;return new Promise(function(R,$){T[h].destroy(null,function(O){O?$(O):R(p(void 0,!0))})})}),i),y);e.exports=function(T){var R,$=Object.create(x,(s(R={},h,{value:T,writable:!0}),s(R,a,{value:null,writable:!0}),s(R,l,{value:null,writable:!0}),s(R,u,{value:null,writable:!0}),s(R,c,{value:T._readableState.endEmitted,writable:!0}),s(R,f,{value:function(O,U){var j=$[h].read();j?($[d]=null,$[a]=null,$[l]=null,O(p(j,!1))):($[a]=O,$[l]=U)},writable:!0}),R));return $[d]=null,o(T,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=$[l];return U!==null&&($[d]=null,$[a]=null,$[l]=null,U(O)),void($[u]=O)}var j=$[a];j!==null&&($[d]=null,$[a]=null,$[l]=null,j(p(void 0,!0))),$[c]=!0}),T.on("readable",g.bind(null,$)),$}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,e,n){"use strict";function r(d,f){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(d);f&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(d,m).enumerable})),h.push.apply(h,p)}return h}function i(d){for(var f=1;f<arguments.length;f++){var h=arguments[f]!=null?arguments[f]:{};f%2?r(Object(h),!0).forEach(function(p){s(d,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):r(Object(h)).forEach(function(p){Object.defineProperty(d,p,Object.getOwnPropertyDescriptor(h,p))})}return d}function s(d,f,h){return(f=a(f))in d?Object.defineProperty(d,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[f]=h,d}function o(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,a(p.key),p)}}function a(d){var f=(function(h,p){if(typeof h!="object"||h===null)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,p||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(h)})(d,"string");return typeof f=="symbol"?f:String(f)}var l=t("buffer").Buffer,u=t("util").inspect,c=u&&u.custom||"inspect";e.exports=(function(){function d(){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var f,h,p;return f=d,(h=[{key:"push",value:function(m){var g={data:m,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(m){var g={data:m,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var g=this.head,y=""+g.data;g=g.next;)y+=m+g.data;return y}},{key:"concat",value:function(m){if(this.length===0)return l.alloc(0);for(var g,y,x,T=l.allocUnsafe(m>>>0),R=this.head,$=0;R;)g=R.data,y=T,x=$,l.prototype.copy.call(g,y,x),$+=R.data.length,R=R.next;return T}},{key:"consume",value:function(m,g){var y;return m<this.head.data.length?(y=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):y=m===this.head.data.length?this.shift():g?this._getString(m):this._getBuffer(m),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var g=this.head,y=1,x=g.data;for(m-=x.length;g=g.next;){var T=g.data,R=m>T.length?T.length:m;if(R===T.length?x+=T:x+=T.slice(0,m),(m-=R)==0){R===T.length?(++y,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=T.slice(R));break}++y}return this.length-=y,x}},{key:"_getBuffer",value:function(m){var g=l.allocUnsafe(m),y=this.head,x=1;for(y.data.copy(g),m-=y.data.length;y=y.next;){var T=y.data,R=m>T.length?T.length:m;if(T.copy(g,g.length-m,0,R),(m-=R)==0){R===T.length?(++x,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=T.slice(R));break}++x}return this.length-=x,g}},{key:c,value:function(m,g){return u(this,i(i({},g),{},{depth:0,customInspect:!1}))}}])&&o(f.prototype,h),p&&o(f,p),Object.defineProperty(f,"prototype",{writable:!1}),d})()},{buffer:220,util:188}],485:[function(t,e,n){(function(r){(function(){"use strict";function i(a,l){o(a,l),s(a)}function s(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function o(a,l){a.emit("error",l)}e.exports={destroy:function(a,l){var u=this,c=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return c||d?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(o,this,a)):r.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!l&&f?u._writableState?u._writableState.errorEmitted?r.nextTick(s,u):(u._writableState.errorEmitted=!0,r.nextTick(i,u,f)):r.nextTick(i,u,f):l?(r.nextTick(s,u),l(f)):r.nextTick(s,u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,l){var u=a._readableState,c=a._writableState;u&&u.autoDestroy||c&&c.autoDestroy?a.destroy(l):a.emit("error",l)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,e,n){"use strict";var r=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function s(o,a,l){if(typeof a=="function")return s(o,null,a);a||(a={}),l=(function(T){var R=!1;return function(){if(!R){R=!0;for(var $=arguments.length,O=new Array($),U=0;U<$;U++)O[U]=arguments[U];T.apply(this,O)}}})(l||i);var u=a.readable||a.readable!==!1&&o.readable,c=a.writable||a.writable!==!1&&o.writable,d=function(){o.writable||h()},f=o._writableState&&o._writableState.finished,h=function(){c=!1,f=!0,u||l.call(o)},p=o._readableState&&o._readableState.endEmitted,m=function(){u=!1,p=!0,c||l.call(o)},g=function(T){l.call(o,T)},y=function(){var T;return u&&!p?(o._readableState&&o._readableState.ended||(T=new r),l.call(o,T)):c&&!f?(o._writableState&&o._writableState.ended||(T=new r),l.call(o,T)):void 0},x=function(){o.req.on("finish",h)};return(function(T){return T.setHeader&&typeof T.abort=="function"})(o)?(o.on("complete",h),o.on("abort",y),o.req?x():o.on("request",x)):c&&!o._writableState&&(o.on("end",d),o.on("close",d)),o.on("end",m),o.on("finish",h),a.error!==!1&&o.on("error",g),o.on("close",y),function(){o.removeListener("complete",h),o.removeListener("abort",y),o.removeListener("request",x),o.req&&o.req.removeListener("finish",h),o.removeListener("end",d),o.removeListener("close",d),o.removeListener("finish",h),o.removeListener("end",m),o.removeListener("error",g),o.removeListener("close",y)}}},{"../../../errors":477}],487:[function(t,e,n){"use strict";e.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,e,n){"use strict";var r,i=t("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(f){if(f)throw f}function l(f,h,p,m){m=(function(x){var T=!1;return function(){T||(T=!0,x.apply(void 0,arguments))}})(m);var g=!1;f.on("close",function(){g=!0}),r===void 0&&(r=t("./end-of-stream")),r(f,{readable:h,writable:p},function(x){if(x)return m(x);g=!0,m()});var y=!1;return function(x){if(!g&&!y)return y=!0,(function(T){return T.setHeader&&typeof T.abort=="function"})(f)?f.abort():typeof f.destroy=="function"?f.destroy():void m(x||new o("pipe"))}}function u(f){f()}function c(f,h){return f.pipe(h)}function d(f){return f.length?typeof f[f.length-1]!="function"?a:f.pop():a}e.exports=function(){for(var f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];var m,g=d(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new s("streams");var y=h.map(function(x,T){var R=T<h.length-1;return l(x,R,T>0,function($){m||(m=$),$&&y.forEach(u),R||(y.forEach(u),g(m))})});return h.reduce(c)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,e,n){"use strict";var r=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(i,s,o,a){var l=(function(u,c,d){return u.highWaterMark!=null?u.highWaterMark:c?u[d]:null})(s,a,o);if(l!=null){if(!isFinite(l)||Math.floor(l)!==l||l<0)throw new r(a?o:"highWaterMark",l);return Math.floor(l)}return i.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,e,n){"use strict";e.exports=t("events").EventEmitter},{events:422}],491:[function(t,e,n){"use strict";(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js"),n.finished=t("./lib/internal/streams/end-of-stream.js"),n.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,e,n){"use strict";var r=(function(i){var s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(_,w,S){_[w]=S.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(_,w,S){return Object.defineProperty(_,w,{value:S,enumerable:!0,configurable:!0,writable:!0}),_[w]}try{f({},"")}catch{f=function(w,S,I){return w[S]=I}}function h(_,w,S,I){var F=w&&w.prototype instanceof g?w:g,W=Object.create(F.prototype),B=new L(I||[]);return a(W,"_invoke",{value:q(_,S,B)}),W}function p(_,w,S){try{return{type:"normal",arg:_.call(w,S)}}catch(I){return{type:"throw",arg:I}}}i.wrap=h;var m={};function g(){}function y(){}function x(){}var T={};f(T,u,function(){return this});var R=Object.getPrototypeOf,$=R&&R(R(v([])));$&&$!==s&&o.call($,u)&&(T=$);var O=x.prototype=g.prototype=Object.create(T);function U(_){["next","throw","return"].forEach(function(w){f(_,w,function(S){return this._invoke(w,S)})})}function j(_,w){var S;a(this,"_invoke",{value:function(I,F){function W(){return new w(function(B,X){(function M(Y,k,D,z){var J=p(_[Y],_,k);if(J.type!=="throw"){var ne=J.arg,te=ne.value;return te&&typeof te=="object"&&o.call(te,"__await")?w.resolve(te.__await).then(function(se){M("next",se,D,z)},function(se){M("throw",se,D,z)}):w.resolve(te).then(function(se){ne.value=se,D(ne)},function(se){return M("throw",se,D,z)})}z(J.arg)})(I,F,B,X)})}return S=S?S.then(W,W):W()}})}function q(_,w,S){var I="suspendedStart";return function(F,W){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(F==="throw")throw W;return b()}for(S.method=F,S.arg=W;;){var B=S.delegate;if(B){var X=H(B,S);if(X){if(X===m)continue;return X}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I==="suspendedStart")throw I="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I="executing";var M=p(_,w,S);if(M.type==="normal"){if(I=S.done?"completed":"suspendedYield",M.arg===m)continue;return{value:M.arg,done:S.done}}M.type==="throw"&&(I="completed",S.method="throw",S.arg=M.arg)}}}function H(_,w){var S=w.method,I=_.iterator[S];if(I===void 0)return w.delegate=null,S==="throw"&&_.iterator.return&&(w.method="return",w.arg=void 0,H(_,w),w.method==="throw")||S!=="return"&&(w.method="throw",w.arg=new TypeError("The iterator does not provide a '"+S+"' method")),m;var F=p(I,_.iterator,w.arg);if(F.type==="throw")return w.method="throw",w.arg=F.arg,w.delegate=null,m;var W=F.arg;return W?W.done?(w[_.resultName]=W.value,w.next=_.nextLoc,w.method!=="return"&&(w.method="next",w.arg=void 0),w.delegate=null,m):W:(w.method="throw",w.arg=new TypeError("iterator result is not an object"),w.delegate=null,m)}function E(_){var w={tryLoc:_[0]};1 in _&&(w.catchLoc=_[1]),2 in _&&(w.finallyLoc=_[2],w.afterLoc=_[3]),this.tryEntries.push(w)}function C(_){var w=_.completion||{};w.type="normal",delete w.arg,_.completion=w}function L(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(E,this),this.reset(!0)}function v(_){if(_){var w=_[u];if(w)return w.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var S=-1,I=function F(){for(;++S<_.length;)if(o.call(_,S))return F.value=_[S],F.done=!1,F;return F.value=void 0,F.done=!0,F};return I.next=I}}return{next:b}}function b(){return{value:void 0,done:!0}}return y.prototype=x,a(O,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:y,configurable:!0}),y.displayName=f(x,d,"GeneratorFunction"),i.isGeneratorFunction=function(_){var w=typeof _=="function"&&_.constructor;return!!w&&(w===y||(w.displayName||w.name)==="GeneratorFunction")},i.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,x):(_.__proto__=x,f(_,d,"GeneratorFunction")),_.prototype=Object.create(O),_},i.awrap=function(_){return{__await:_}},U(j.prototype),f(j.prototype,c,function(){return this}),i.AsyncIterator=j,i.async=function(_,w,S,I,F){F===void 0&&(F=Promise);var W=new j(h(_,w,S,I),F);return i.isGeneratorFunction(w)?W:W.next().then(function(B){return B.done?B.value:W.next()})},U(O),f(O,d,"Generator"),f(O,u,function(){return this}),f(O,"toString",function(){return"[object Generator]"}),i.keys=function(_){var w=Object(_),S=[];for(var I in w)S.push(I);return S.reverse(),function F(){for(;S.length;){var W=S.pop();if(W in w)return F.value=W,F.done=!1,F}return F.done=!0,F}},i.values=v,L.prototype={constructor:L,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!_)for(var w in this)w.charAt(0)==="t"&&o.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function S(M,Y){return W.type="throw",W.arg=_,w.next=M,Y&&(w.method="next",w.arg=void 0),!!Y}for(var I=this.tryEntries.length-1;I>=0;--I){var F=this.tryEntries[I],W=F.completion;if(F.tryLoc==="root")return S("end");if(F.tryLoc<=this.prev){var B=o.call(F,"catchLoc"),X=o.call(F,"finallyLoc");if(B&&X){if(this.prev<F.catchLoc)return S(F.catchLoc,!0);if(this.prev<F.finallyLoc)return S(F.finallyLoc)}else if(B){if(this.prev<F.catchLoc)return S(F.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return S(F.finallyLoc)}}}},abrupt:function(_,w){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.tryLoc<=this.prev&&o.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var F=I;break}}F&&(_==="break"||_==="continue")&&F.tryLoc<=w&&w<=F.finallyLoc&&(F=null);var W=F?F.completion:{};return W.type=_,W.arg=w,F?(this.method="next",this.next=F.finallyLoc,m):this.complete(W)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),m},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var S=this.tryEntries[w];if(S.finallyLoc===_)return this.complete(S.completion,S.afterLoc),C(S),m}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var S=this.tryEntries[w];if(S.tryLoc===_){var I=S.completion;if(I.type==="throw"){var F=I.arg;C(S)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,S){return this.delegate={iterator:v(_),resultName:w,nextLoc:S},this.method==="next"&&(this.arg=void 0),m}},i})(typeof e=="object"?e.exports:{});try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},{}],493:[function(t,e,n){"use strict";var r=t("buffer").Buffer,i=t("inherits"),s=t("hash-base"),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function h(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(R,$){return R<<$|R>>>32-$}function m(R,$,O,U,j,q,H,E){return p(R+($^O^U)+q+H|0,E)+j|0}function g(R,$,O,U,j,q,H,E){return p(R+($&O|~$&U)+q+H|0,E)+j|0}function y(R,$,O,U,j,q,H,E){return p(R+(($|~O)^U)+q+H|0,E)+j|0}function x(R,$,O,U,j,q,H,E){return p(R+($&U|O&~U)+q+H|0,E)+j|0}function T(R,$,O,U,j,q,H,E){return p(R+($^(O|~U))+q+H|0,E)+j|0}i(h,s),h.prototype._update=function(){for(var R=o,$=0;$<16;++$)R[$]=this._block.readInt32LE(4*$);for(var O=0|this._a,U=0|this._b,j=0|this._c,q=0|this._d,H=0|this._e,E=0|this._a,C=0|this._b,L=0|this._c,v=0|this._d,b=0|this._e,_=0;_<80;_+=1){var w,S;_<16?(w=m(O,U,j,q,H,R[a[_]],d[0],u[_]),S=T(E,C,L,v,b,R[l[_]],f[0],c[_])):_<32?(w=g(O,U,j,q,H,R[a[_]],d[1],u[_]),S=x(E,C,L,v,b,R[l[_]],f[1],c[_])):_<48?(w=y(O,U,j,q,H,R[a[_]],d[2],u[_]),S=y(E,C,L,v,b,R[l[_]],f[2],c[_])):_<64?(w=x(O,U,j,q,H,R[a[_]],d[3],u[_]),S=g(E,C,L,v,b,R[l[_]],f[3],c[_])):(w=T(O,U,j,q,H,R[a[_]],d[4],u[_]),S=m(E,C,L,v,b,R[l[_]],f[4],c[_])),O=H,H=q,q=p(j,10),j=U,U=w,E=b,b=v,v=p(L,10),L=C,C=S}var I=this._b+j+v|0;this._b=this._c+q+b|0,this._c=this._d+H+E|0,this._d=this._e+O+C|0,this._e=this._a+U+L|0,this._a=I},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var R=r.alloc?r.alloc(20):new r(20);return R.writeInt32LE(this._a,0),R.writeInt32LE(this._b,4),R.writeInt32LE(this._c,8),R.writeInt32LE(this._d,12),R.writeInt32LE(this._e,16),R},e.exports=h},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,e,n){"use strict";var r=t("buffer"),i=r.Buffer;function s(a,l){for(var u in a)l[u]=a[u]}function o(a,l,u){return i(a,l,u)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,n),n.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(a,l,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,l,u)},o.alloc=function(a,l,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=i(a);return l!==void 0?typeof u=="string"?c.fill(l,u):c.fill(l):c.fill(0),c},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:220}],495:[function(t,e,n){(function(r){(function(){"use strict";var i,s=t("buffer"),o=s.Buffer,a={};for(i in s)s.hasOwnProperty(i)&&i!=="SlowBuffer"&&i!=="Buffer"&&(a[i]=s[i]);var l=a.Buffer={};for(i in o)o.hasOwnProperty(i)&&i!=="allocUnsafe"&&i!=="allocUnsafeSlow"&&(l[i]=o[i]);if(a.Buffer.prototype=o.prototype,l.from&&l.from!==Uint8Array.from||(l.from=function(u,c,d){if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof u);if(u&&u.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);return o(u,c,d)}),l.alloc||(l.alloc=function(u,c,d){if(typeof u!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof u);if(u<0||u>=2*(1<<30))throw new RangeError('The value "'+u+'" is invalid for option "size"');var f=o(u);return c&&c.length!==0?typeof d=="string"?f.fill(c,d):f.fill(c):f.fill(0),f}),!a.kStringMaxLength)try{a.kStringMaxLength=r.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let r=t("xmlchars/xml/1.0/ed5"),i=t("xmlchars/xml/1.1/ed2"),s=t("xmlchars/xmlns/1.0/ed3");var o=r.isS,a=r.isChar,l=r.isNameStartChar,u=r.isNameChar,c=r.S_LIST,d=r.NAME_RE,f=i.isChar,h=s.isNCNameStartChar,p=s.isNCNameChar,m=s.NC_NAME_RE;let g="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",x={__proto__:null,xml:g,xmlns:y},T={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},R=v=>v===34||v===39,$=[34,39],O=[...$,91,62],U=[...$,60,93],j=[61,63,...c],q=[...c,62,38,60];function H(v,b,_){switch(b){case"xml":_!==g&&v.fail(`xml prefix must be bound to ${g}.`);break;case"xmlns":_!==y&&v.fail(`xmlns prefix must be bound to ${y}.`)}switch(_){case y:v.fail(b===""?`the default namespace may not be set to ${_}.`:`may not assign a prefix (even "xmlns") to the URI ${y}.`);break;case g:switch(b){case"xml":break;case"":v.fail(`the default namespace may not be set to ${_}.`);break;default:v.fail("may not assign the xml namespace to another prefix.")}}}let E=v=>m.test(v),C=v=>d.test(v);n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];let L={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(v){this.opt=v??{},this.fragmentOpt=!!this.opt.fragment;let b=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,b){this.nameStartCheck=h,this.nameCheck=p,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},x);let _=this.opt.additionalNamespaces;_!=null&&((function(w,S){for(let I of Object.keys(S))H(w,I,S[I])})(this,_),Object.assign(this.ns,_))}else this.nameStartCheck=l,this.nameCheck=u,this.isName=C,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var v;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:b}=this;this.state=b?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=b,this.xmlDeclPossible=!b,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:_}=this.opt;if(_===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");_="1.0"}this.setXMLVersion(_),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(T),(v=this.readyHandler)===null||v===void 0||v.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(v,b){this[L[v]]=b}off(v){this[L[v]]=void 0}makeError(v){var b;let _=(b=this.fileName)!==null&&b!==void 0?b:"";return this.trackPosition&&(_.length>0&&(_+=":"),_+=`${this.line}:${this.column}`),_.length>0&&(_+=": "),new Error(_+v)}fail(v){let b=this.makeError(v),_=this.errorHandler;if(_===void 0)throw b;return _(b),this}write(v){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let b=!1;v===null?(b=!0,v=""):typeof v=="object"&&(v=v.toString()),this.carriedFromPrevious!==void 0&&(v=`${this.carriedFromPrevious}${v}`,this.carriedFromPrevious=void 0);let _=v.length,w=v.charCodeAt(_-1);!b&&(w===13||w>=55296&&w<=56319)&&(this.carriedFromPrevious=v[_-1],_--,v=v.slice(0,_));let{stateTable:S}=this;for(this.chunk=v,this.i=0;this.i<_;)S[this.state].call(this);return this.chunkPosition+=_,b?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:v,i:b}=this;if(this.prevI=b,this.i=b+1,b>=v.length)return-1;let _=v.charCodeAt(b);if(this.column++,_<55296){if(_>=32||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return v.charCodeAt(b+1)===10&&(this.i=b+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;let w=65536+1024*(_-55296)+(v.charCodeAt(b+1)-56320);return this.i=b+2,w>1114111&&this.fail("disallowed character."),w}getCode11(){let{chunk:v,i:b}=this;if(this.prevI=b,this.i=b+1,b>=v.length)return-1;let _=v.charCodeAt(b);if(this.column++,_<55296){if(_>31&&_<127||_>159&&_!==8232||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let S=v.charCodeAt(b+1);S!==10&&S!==133||(this.i=b+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;let w=65536+1024*(_-55296)+(v.charCodeAt(b+1)-56320);return this.i=b+2,w>1114111&&this.fail("disallowed character."),w}getCodeNorm(){let v=this.getCode();return v===-2?10:v}unget(){this.i=this.prevI,this.column--}captureTo(v){let{i:b}=this,{chunk:_}=this;for(;;){let w=this.getCode(),S=w===-2,I=S?10:w;if(I===-1||v.includes(I))return this.text+=_.slice(b,this.prevI),I;S&&(this.text+=_.slice(b,this.prevI)+`
`,b=this.i)}}captureToChar(v){let{i:b}=this,{chunk:_}=this;for(;;){let w=this.getCode();switch(w){case-2:this.text+=_.slice(b,this.prevI)+`
`,b=this.i,w=10;break;case-1:return this.text+=_.slice(b),!1}if(w===v)return this.text+=_.slice(b,this.prevI),!0}}captureNameChars(){let{chunk:v,i:b}=this;for(;;){let _=this.getCode();if(_===-1)return this.name+=v.slice(b),-1;if(!u(_))return this.name+=v.slice(b,this.prevI),_===-2?10:_}}skipSpaces(){for(;;){let v=this.getCodeNorm();if(v===-1||!o(v))return v}}setXMLVersion(v){this.currentXMLVersion=v,v==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=f,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let v=this.i,b=this.skipSpaces();switch(this.prevI!==v&&(this.xmlDeclPossible=!1),b){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var v;let b=this.captureTo(O);switch(b){case 62:(v=this.doctypeHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(b),b===91?this.state=4:R(b)&&(this.state=3,this.q=b)}}sDoctypeQuote(){let v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.q=null,this.state=2)}sDTD(){let v=this.captureTo(U);v!==-1&&(this.text+=String.fromCodePoint(v),v===93?this.state=2:v===60?this.state=6:R(v)&&(this.state=5,this.q=v))}sDTDQuoted(){let v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.state=4,this.q=null)}sDTDOpenWaka(){let v=this.getCodeNorm();switch(this.text+=String.fromCodePoint(v),v){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let v=String.fromCodePoint(this.getCodeNorm()),b=this.openWakaBang+=v;this.text+=v,b!=="-"&&(this.state=b==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let v=this.getCodeNorm();this.text+=String.fromCodePoint(v),this.state=v===45?10:8}sDTDCommentEnded(){let v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:v}=this,{chunk:b}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=b.slice(v,this.prevI)+`
`,v=this.i;break;case 59:{let{entityReturnState:_}=this,w=this.entity+b.slice(v,this.prevI),S;this.state=_,w===""?(this.fail("empty entity name."),S="&;"):(S=this.parseEntity(w),this.entity=""),_===13&&this.textHandler===void 0||(this.text+=S);break e}case-1:this.entity+=b.slice(v);break e}}sOpenWaka(){let v=this.getCode();if(l(v))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(v){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var v;let b=this.getCodeNorm();b===45?(this.state=19,(v=this.commentHandler)===null||v===void 0||v.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(b),this.state=17)}sCommentEnded(){let v=this.getCodeNorm();v!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(v),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let v=this.getCodeNorm();v===93?this.state=22:(this.text+="]"+String.fromCodePoint(v),this.state=20)}sCDataEnding2(){var v;let b=this.getCodeNorm();switch(b){case 62:(v=this.cdataHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(b),this.state=20}}sPIFirstChar(){let v=this.getCodeNorm();this.nameStartCheck(v)?(this.piTarget+=String.fromCodePoint(v),this.state=24):v===63||o(v)?(this.fail("processing instruction without a target."),this.state=v===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(v),this.state=24)}sPIRest(){let{chunk:v,i:b}=this;for(;;){let _=this.getCodeNorm();if(_===-1)return void(this.piTarget+=v.slice(b));if(!this.nameCheck(_)){this.piTarget+=v.slice(b,this.prevI);let w=_===63;w||o(_)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=w?33:27):this.state=w?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_));break}}}sPIBody(){if(this.text.length===0){let v=this.getCodeNorm();v===63?this.state=26:o(v)||(this.text=String.fromCodePoint(v))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var v;let b=this.getCodeNorm();if(b===62){let{piTarget:_}=this;_.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(v=this.piHandler)===null||v===void 0||v.call(this,{target:_,body:this.text}),this.piTarget=this.text="",this.state=13}else b===63?this.text+="?":(this.text+="?"+String.fromCodePoint(b),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let v=this.skipSpaces();v!==63?v!==-1&&(this.state=28,this.name=String.fromCodePoint(v)):this.state=33}sXMLDeclName(){let v=this.captureTo(j);if(v===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(o(v)||v===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=v===61?30:29}}sXMLDeclEq(){let v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");o(v)||(v!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");o(v)||(R(v)?this.q=v:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let v=this.captureTo([this.q,63]);if(v===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(v===-1)return;let b=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let _=b;this.xmlDecl.version=_,/^1\.[0-9]+$/.test(_)?this.opt.forceXMLVersion||this.setXMLVersion(_):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(b)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=b;break;case"standalone":b!=="yes"&&b!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=b}this.name="",this.state=32}sXMLDeclSeparator(){let v=this.getCodeNorm();v!==63?(o(v)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var v;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(v=this.xmldeclHandler)===null||v===void 0||v.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var v;let b=this.captureNameChars();if(b===-1)return;let _=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=_.ns=Object.create(null)),(v=this.openTagStartHandler)===null||v===void 0||v.call(this,_),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),b){case 62:this.openTag();break;case 47:this.state=35;break;default:o(b)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let v=this.skipSpaces();v!==-1&&(l(v)?(this.unget(),this.state=37):v===62?this.openTag():v===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let v=this.captureNameChars();v===61?this.state=39:o(v)?this.state=38:v===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):v!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let v=this.skipSpaces();switch(v){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",v===62?this.openTag():l(v)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let v=this.getCodeNorm();R(v)?(this.q=v,this.state=40):o(v)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:v,chunk:b}=this,{i:_}=this;for(;;)switch(this.getCode()){case v:return this.pushAttrib(this.name,this.text+b.slice(_,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=b.slice(_,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=b.slice(_,this.prevI)+" ",_=this.i;break;case 60:return this.text+=b.slice(_,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=b.slice(_))}}sAttribValueClosed(){let v=this.getCodeNorm();o(v)?this.state=36:v===62?this.openTag():v===47?this.state=35:l(v)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let v=this.captureTo(q);switch(v){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",v===62?this.openTag():this.state=36}}sCloseTag(){let v=this.captureNameChars();v===62?this.closeTag():o(v)?this.state=44:v!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:v,forbiddenState:b}=this,{chunk:_,textHandler:w}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,w!==void 0){let{text:S}=this,I=_.slice(v,this.prevI);S.length!==0?(w(S+I),this.text=""):I.length!==0&&w(I)}b=0;break e;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=_.slice(v,this.prevI)),b=0;break e;case 93:switch(b){case 0:b=1;break;case 1:b=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:b===2&&this.fail('the string "]]>" is disallowed in char data.'),b=0;break;case-2:w!==void 0&&(this.text+=_.slice(v,this.prevI)+`
`),v=this.i,b=0;break;case-1:w!==void 0&&(this.text+=_.slice(v));break e;default:b=0}this.forbiddenState=b}handleTextOutsideRoot(){let{i:v}=this,{chunk:b,textHandler:_}=this,w=!1;e:for(;;){let S=this.getCode();switch(S){case 60:if(this.state=15,_!==void 0){let{text:I}=this,F=b.slice(v,this.prevI);I.length!==0?(_(I+F),this.text=""):F.length!==0&&_(F)}break e;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=b.slice(v,this.prevI)),w=!0;break e;case-2:_!==void 0&&(this.text+=b.slice(v,this.prevI)+`
`),v=this.i;break;case-1:_!==void 0&&(this.text+=b.slice(v));break e;default:o(S)||(w=!0)}}w&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(v,b){var _;let{prefix:w,local:S}=this.qname(v),I={name:v,prefix:w,local:S,value:b};if(this.attribList.push(I),(_=this.attributeHandler)===null||_===void 0||_.call(this,I),w==="xmlns"){let F=b.trim();this.currentXMLVersion==="1.0"&&F===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[S]=F,H(this,S,F)}else if(v==="xmlns"){let F=b.trim();this.topNS[""]=F,H(this,"",F)}}pushAttribPlain(v,b){var _;let w={name:v,value:b};this.attribList.push(w),(_=this.attributeHandler)===null||_===void 0||_.call(this,w)}end(){var v,b;this.sawRoot||this.fail("document must contain a root element.");let{tags:_}=this;for(;_.length>0;){let S=_.pop();this.fail("unclosed tag: "+S.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");let{text:w}=this;return w.length!==0&&((v=this.textHandler)===null||v===void 0||v.call(this,w),this.text=""),this._closed=!0,(b=this.endHandler)===null||b===void 0||b.call(this),this._init(),this}resolve(v){var b,_;let w=this.topNS[v];if(w!==void 0)return w;let{tags:S}=this;for(let I=S.length-1;I>=0;I--)if(w=S[I].ns[v],w!==void 0)return w;return w=this.ns[v],w!==void 0?w:(_=(b=this.opt).resolvePrefix)===null||_===void 0?void 0:_.call(b,v)}qname(v){let b=v.indexOf(":");if(b===-1)return{prefix:"",local:v};let _=v.slice(b+1),w=v.slice(0,b);return(w===""||_===""||_.includes(":"))&&this.fail(`malformed name: ${v}.`),{prefix:w,local:_}}processAttribsNS(){var v;let{attribList:b}=this,_=this.tag;{let{prefix:I,local:F}=this.qname(_.name);_.prefix=I,_.local=F;let W=_.uri=(v=this.resolve(I))!==null&&v!==void 0?v:"";I!==""&&(I==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),W===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(I)}.`),_.uri=I))}if(b.length===0)return;let{attributes:w}=_,S=new Set;for(let I of b){let{name:F,prefix:W,local:B}=I,X,M;W===""?(X=F==="xmlns"?y:"",M=F):(X=this.resolve(W),X===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(W)}.`),X=W),M=`{${X}}${B}`),S.has(M)&&this.fail(`duplicate attribute: ${M}.`),S.add(M),I.uri=X,w[F]=I}this.attribList=[]}processAttribsPlain(){let{attribList:v}=this,b=this.tag.attributes;for(let{name:_,value:w}of v)b[_]!==void 0&&this.fail(`duplicate attribute: ${_}.`),b[_]=w;this.attribList=[]}openTag(){var v;this.processAttribs();let{tags:b}=this,_=this.tag;_.isSelfClosing=!1,(v=this.openTagHandler)===null||v===void 0||v.call(this,_),b.push(_),this.state=13,this.name=""}openSelfClosingTag(){var v,b,_;this.processAttribs();let{tags:w}=this,S=this.tag;S.isSelfClosing=!0,(v=this.openTagHandler)===null||v===void 0||v.call(this,S),(b=this.closeTagHandler)===null||b===void 0||b.call(this,S),(this.tag=(_=w[w.length-1])!==null&&_!==void 0?_:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:v,name:b}=this;if(this.state=13,this.name="",b==="")return this.fail("weird empty close tag."),void(this.text+="</>");let _=this.closeTagHandler,w=v.length;for(;w-- >0;){let S=this.tag=v.pop();if(this.topNS=S.ns,_?.(S),S.name===b)break;this.fail("unexpected close tag.")}w===0?this.closedRoot=!0:w<0&&(this.fail(`unmatched closing tag: ${b}.`),this.text+=`</${b}>`)}parseEntity(v){if(v[0]!=="#"){let _=this.ENTITIES[v];return _!==void 0?_:(this.fail(this.isName(v)?"undefined entity.":"disallowed character in entity name."),`&${v};`)}let b=NaN;return v[1]==="x"&&/^#x[0-9a-f]+$/i.test(v)?b=parseInt(v.slice(2),16):/^#[0-9]+$/.test(v)&&(b=parseInt(v.slice(1),10)),this.isChar(b)?String.fromCodePoint(b):(this.fail("malformed character entity."),`&${v};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer;function i(s,o){this._block=r.alloc(s),this._finalSize=o,this._blockSize=s,this._len=0}i.prototype.update=function(s,o){typeof s=="string"&&(o=o||"utf8",s=r.from(s,o));for(var a=this._block,l=this._blockSize,u=s.length,c=this._len,d=0;d<u;){for(var f=c%l,h=Math.min(u-d,l-f),p=0;p<h;p++)a[f+p]=s[d+p];d+=h,(c+=h)%l==0&&this._update(a)}return this._len+=u,this},i.prototype.digest=function(s){var o=this._len%this._blockSize;this._block[o]=128,this._block.fill(0,o+1),o>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var l=(4294967295&a)>>>0,u=(a-l)/4294967296;this._block.writeUInt32BE(u,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var c=this._hash();return s?c.toString(s):c},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},{"safe-buffer":494}],498:[function(t,e,n){"use strict";var r=e.exports=function(i){i=i.toLowerCase();var s=r[i];if(!s)throw new Error(i+" is not supported (we accept pull requests)");return new s};r.sha=t("./sha"),r.sha1=t("./sha1"),r.sha224=t("./sha224"),r.sha256=t("./sha256"),r.sha384=t("./sha384"),r.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),s=t("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,i.call(this,64,56)}function u(d){return d<<30|d>>>2}function c(d,f,h,p){return d===0?f&h|~f&p:d===2?f&h|f&p|h&p:f^h^p}r(l,i),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(d){for(var f,h=this._w,p=0|this._a,m=0|this._b,g=0|this._c,y=0|this._d,x=0|this._e,T=0;T<16;++T)h[T]=d.readInt32BE(4*T);for(;T<80;++T)h[T]=h[T-3]^h[T-8]^h[T-14]^h[T-16];for(var R=0;R<80;++R){var $=~~(R/20),O=0|((f=p)<<5|f>>>27)+c($,m,g,y)+x+h[R]+o[$];x=y,y=g,g=u(m),m=p,p=O}this._a=p+this._a|0,this._b=m+this._b|0,this._c=g+this._c|0,this._d=y+this._d|0,this._e=x+this._e|0},l.prototype._hash=function(){var d=s.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),s=t("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,i.call(this,64,56)}function u(f){return f<<5|f>>>27}function c(f){return f<<30|f>>>2}function d(f,h,p,m){return f===0?h&p|~h&m:f===2?h&p|h&m|p&m:h^p^m}r(l,i),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(f){for(var h,p=this._w,m=0|this._a,g=0|this._b,y=0|this._c,x=0|this._d,T=0|this._e,R=0;R<16;++R)p[R]=f.readInt32BE(4*R);for(;R<80;++R)p[R]=(h=p[R-3]^p[R-8]^p[R-14]^p[R-16])<<1|h>>>31;for(var $=0;$<80;++$){var O=~~($/20),U=u(m)+d(O,g,y,x)+T+p[$]+o[O]|0;T=x,x=y,y=c(g),g=m,m=U}this._a=m+this._a|0,this._b=g+this._b|0,this._c=y+this._c|0,this._d=x+this._d|0,this._e=T+this._e|0},l.prototype._hash=function(){var f=s.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./sha256"),s=t("./hash"),o=t("safe-buffer").Buffer,a=new Array(64);function l(){this.init(),this._w=a,s.call(this,64,56)}r(l,i),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var u=o.allocUnsafe(28);return u.writeInt32BE(this._a,0),u.writeInt32BE(this._b,4),u.writeInt32BE(this._c,8),u.writeInt32BE(this._d,12),u.writeInt32BE(this._e,16),u.writeInt32BE(this._f,20),u.writeInt32BE(this._g,24),u},e.exports=l},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),s=t("safe-buffer").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,i.call(this,64,56)}function u(p,m,g){return g^p&(m^g)}function c(p,m,g){return p&m|g&(p|m)}function d(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function f(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function h(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}r(l,i),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(p){for(var m,g=this._w,y=0|this._a,x=0|this._b,T=0|this._c,R=0|this._d,$=0|this._e,O=0|this._f,U=0|this._g,j=0|this._h,q=0;q<16;++q)g[q]=p.readInt32BE(4*q);for(;q<64;++q)g[q]=0|(((m=g[q-2])>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)+g[q-7]+h(g[q-15])+g[q-16];for(var H=0;H<64;++H){var E=j+f($)+u($,O,U)+o[H]+g[H]|0,C=d(y)+c(y,x,T)|0;j=U,U=O,O=$,$=R+E|0,R=T,T=x,x=y,y=E+C|0}this._a=y+this._a|0,this._b=x+this._b|0,this._c=T+this._c|0,this._d=R+this._d|0,this._e=$+this._e|0,this._f=O+this._f|0,this._g=U+this._g|0,this._h=j+this._h|0},l.prototype._hash=function(){var p=s.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./sha512"),s=t("./hash"),o=t("safe-buffer").Buffer,a=new Array(160);function l(){this.init(),this._w=a,s.call(this,128,112)}r(l,i),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var u=o.allocUnsafe(48);function c(d,f,h){u.writeInt32BE(d,h),u.writeInt32BE(f,h+4)}return c(this._ah,this._al,0),c(this._bh,this._bl,8),c(this._ch,this._cl,16),c(this._dh,this._dl,24),c(this._eh,this._el,32),c(this._fh,this._fl,40),u},e.exports=l},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,e,n){"use strict";var r=t("inherits"),i=t("./hash"),s=t("safe-buffer").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,i.call(this,128,112)}function u(x,T,R){return R^x&(T^R)}function c(x,T,R){return x&T|R&(x|T)}function d(x,T){return(x>>>28|T<<4)^(T>>>2|x<<30)^(T>>>7|x<<25)}function f(x,T){return(x>>>14|T<<18)^(x>>>18|T<<14)^(T>>>9|x<<23)}function h(x,T){return(x>>>1|T<<31)^(x>>>8|T<<24)^x>>>7}function p(x,T){return(x>>>1|T<<31)^(x>>>8|T<<24)^(x>>>7|T<<25)}function m(x,T){return(x>>>19|T<<13)^(T>>>29|x<<3)^x>>>6}function g(x,T){return(x>>>19|T<<13)^(T>>>29|x<<3)^(x>>>6|T<<26)}function y(x,T){return x>>>0<T>>>0?1:0}r(l,i),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(x){for(var T=this._w,R=0|this._ah,$=0|this._bh,O=0|this._ch,U=0|this._dh,j=0|this._eh,q=0|this._fh,H=0|this._gh,E=0|this._hh,C=0|this._al,L=0|this._bl,v=0|this._cl,b=0|this._dl,_=0|this._el,w=0|this._fl,S=0|this._gl,I=0|this._hl,F=0;F<32;F+=2)T[F]=x.readInt32BE(4*F),T[F+1]=x.readInt32BE(4*F+4);for(;F<160;F+=2){var W=T[F-30],B=T[F-30+1],X=h(W,B),M=p(B,W),Y=m(W=T[F-4],B=T[F-4+1]),k=g(B,W),D=T[F-14],z=T[F-14+1],J=T[F-32],ne=T[F-32+1],te=M+z|0,se=X+D+y(te,M)|0;se=(se=se+Y+y(te=te+k|0,k)|0)+J+y(te=te+ne|0,ne)|0,T[F]=se,T[F+1]=te}for(var ve=0;ve<160;ve+=2){se=T[ve],te=T[ve+1];var ye=c(R,$,O),K=c(C,L,v),ce=d(R,C),de=d(C,R),we=f(j,_),ge=f(_,j),Se=o[ve],Ee=o[ve+1],Fe=u(j,q,H),Ve=u(_,w,S),qe=I+ge|0,ht=E+we+y(qe,I)|0;ht=(ht=(ht=ht+Fe+y(qe=qe+Ve|0,Ve)|0)+Se+y(qe=qe+Ee|0,Ee)|0)+se+y(qe=qe+te|0,te)|0;var ze=de+K|0,rt=ce+ye+y(ze,de)|0;E=H,I=S,H=q,S=w,q=j,w=_,j=U+ht+y(_=b+qe|0,b)|0,U=O,b=v,O=$,v=L,$=R,L=C,R=ht+rt+y(C=qe+ze|0,qe)|0}this._al=this._al+C|0,this._bl=this._bl+L|0,this._cl=this._cl+v|0,this._dl=this._dl+b|0,this._el=this._el+_|0,this._fl=this._fl+w|0,this._gl=this._gl+S|0,this._hl=this._hl+I|0,this._ah=this._ah+R+y(this._al,C)|0,this._bh=this._bh+$+y(this._bl,L)|0,this._ch=this._ch+O+y(this._cl,v)|0,this._dh=this._dh+U+y(this._dl,b)|0,this._eh=this._eh+j+y(this._el,_)|0,this._fh=this._fh+q+y(this._fl,w)|0,this._gh=this._gh+H+y(this._gl,S)|0,this._hh=this._hh+E+y(this._hl,I)|0},l.prototype._hash=function(){var x=s.allocUnsafe(64);function T(R,$,O){x.writeInt32BE(R,O),x.writeInt32BE($,O+4)}return T(this._ah,this._al,0),T(this._bh,this._bl,8),T(this._ch,this._cl,16),T(this._dh,this._dl,24),T(this._eh,this._el,32),T(this._fh,this._fl,40),T(this._gh,this._gl,48),T(this._hh,this._hl,56),x},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,e,n){"use strict";e.exports=i;var r=t("events").EventEmitter;function i(){r.call(this)}t("inherits")(i,r),i.Readable=t("readable-stream/readable.js"),i.Writable=t("readable-stream/writable.js"),i.Duplex=t("readable-stream/duplex.js"),i.Transform=t("readable-stream/transform.js"),i.PassThrough=t("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(s,o){var a=this;function l(m){s.writable&&s.write(m)===!1&&a.pause&&a.pause()}function u(){a.readable&&a.resume&&a.resume()}a.on("data",l),s.on("drain",u),s._isStdio||o&&o.end===!1||(a.on("end",d),a.on("close",f));var c=!1;function d(){c||(c=!0,s.end())}function f(){c||(c=!0,typeof s.destroy=="function"&&s.destroy())}function h(m){if(p(),r.listenerCount(this,"error")===0)throw m}function p(){a.removeListener("data",l),s.removeListener("drain",u),a.removeListener("end",d),a.removeListener("close",f),a.removeListener("error",h),s.removeListener("error",h),a.removeListener("end",p),a.removeListener("close",p),s.removeListener("close",p)}return a.on("error",h),s.on("error",h),a.on("end",p),a.on("close",p),s.on("close",p),s.emit("pipe",a),s}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,e,n){"use strict";var r={}.toString;e.exports=Array.isArray||function(i){return r.call(i)=="[object Array]"}},{}],507:[function(t,e,n){"use strict";e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,e,n){"use strict";var r=t("process-nextick-args"),i=Object.keys||function(p){var m=[];for(var g in p)m.push(g);return m};e.exports=d;var s=Object.create(t("core-util-is"));s.inherits=t("inherits");var o=t("./_stream_readable"),a=t("./_stream_writable");s.inherits(d,o);for(var l=i(a.prototype),u=0;u<l.length;u++){var c=l[u];d.prototype[c]||(d.prototype[c]=a.prototype[c])}function d(p){if(!(this instanceof d))return new d(p);o.call(this,p),a.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(p){p.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),d.prototype._destroy=function(p,m){this.push(null),this.end(),r.nextTick(m,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,e,n){"use strict";e.exports=s;var r=t("./_stream_transform"),i=Object.create(t("core-util-is"));function s(o){if(!(this instanceof s))return new s(o);r.call(this,o)}i.inherits=t("inherits"),i.inherits(s,r),s.prototype._transform=function(o,a,l){l(null,o)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,e,n){(function(r,i){(function(){"use strict";var s=t("process-nextick-args");e.exports=R;var o,a=t("isarray");R.ReadableState=T,t("events").EventEmitter;var l=function(I,F){return I.listeners(F).length},u=t("./internal/streams/stream"),c=t("safe-buffer").Buffer,d=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f=Object.create(t("core-util-is"));f.inherits=t("inherits");var h=t("util"),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var m,g=t("./internal/streams/BufferList"),y=t("./internal/streams/destroy");f.inherits(R,u);var x=["error","close","destroy","pause","resume"];function T(I,F){I=I||{};var W=F instanceof(o=o||t("./_stream_duplex"));this.objectMode=!!I.objectMode,W&&(this.objectMode=this.objectMode||!!I.readableObjectMode);var B=I.highWaterMark,X=I.readableHighWaterMark,M=this.objectMode?16:16384;this.highWaterMark=B||B===0?B:W&&(X||X===0)?X:M,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(m||(m=t("string_decoder/").StringDecoder),this.decoder=new m(I.encoding),this.encoding=I.encoding)}function R(I){if(o=o||t("./_stream_duplex"),!(this instanceof R))return new R(I);this._readableState=new T(I,this),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),u.call(this)}function $(I,F,W,B,X){var M,Y=I._readableState;return F===null?(Y.reading=!1,(function(k,D){if(!D.ended){if(D.decoder){var z=D.decoder.end();z&&z.length&&(D.buffer.push(z),D.length+=D.objectMode?1:z.length)}D.ended=!0,j(k)}})(I,Y)):(X||(M=(function(k,D){var z;J=D,c.isBuffer(J)||J instanceof d||typeof D=="string"||D===void 0||k.objectMode||(z=new TypeError("Invalid non-string/buffer chunk"));var J;return z})(Y,F)),M?I.emit("error",M):Y.objectMode||F&&F.length>0?(typeof F=="string"||Y.objectMode||Object.getPrototypeOf(F)===c.prototype||(F=(function(k){return c.from(k)})(F)),B?Y.endEmitted?I.emit("error",new Error("stream.unshift() after end event")):O(I,Y,F,!0):Y.ended?I.emit("error",new Error("stream.push() after EOF")):(Y.reading=!1,Y.decoder&&!W?(F=Y.decoder.write(F),Y.objectMode||F.length!==0?O(I,Y,F,!1):H(I,Y)):O(I,Y,F,!1))):B||(Y.reading=!1)),(function(k){return!k.ended&&(k.needReadable||k.length<k.highWaterMark||k.length===0)})(Y)}function O(I,F,W,B){F.flowing&&F.length===0&&!F.sync?(I.emit("data",W),I.read(0)):(F.length+=F.objectMode?1:W.length,B?F.buffer.unshift(W):F.buffer.push(W),F.needReadable&&j(I)),H(I,F)}Object.defineProperty(R.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),R.prototype.destroy=y.destroy,R.prototype._undestroy=y.undestroy,R.prototype._destroy=function(I,F){this.push(null),F(I)},R.prototype.push=function(I,F){var W,B=this._readableState;return B.objectMode?W=!0:typeof I=="string"&&((F=F||B.defaultEncoding)!==B.encoding&&(I=c.from(I,F),F=""),W=!0),$(this,I,F,!1,W)},R.prototype.unshift=function(I){return $(this,I,null,!0,!1)},R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(I){return m||(m=t("string_decoder/").StringDecoder),this._readableState.decoder=new m(I),this._readableState.encoding=I,this};function U(I,F){return I<=0||F.length===0&&F.ended?0:F.objectMode?1:I!=I?F.flowing&&F.length?F.buffer.head.data.length:F.length:(I>F.highWaterMark&&(F.highWaterMark=(function(W){return W>=8388608?W=8388608:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W})(I)),I<=F.length?I:F.ended?F.length:(F.needReadable=!0,0))}function j(I){var F=I._readableState;F.needReadable=!1,F.emittedReadable||(p("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?s.nextTick(q,I):q(I))}function q(I){p("emit readable"),I.emit("readable"),v(I)}function H(I,F){F.readingMore||(F.readingMore=!0,s.nextTick(E,I,F))}function E(I,F){for(var W=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(p("maybeReadMore read 0"),I.read(0),W!==F.length);)W=F.length;F.readingMore=!1}function C(I){p("readable nexttick read 0"),I.read(0)}function L(I,F){F.reading||(p("resume read 0"),I.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,I.emit("resume"),v(I),F.flowing&&!F.reading&&I.read(0)}function v(I){var F=I._readableState;for(p("flow",F.flowing);F.flowing&&I.read()!==null;);}function b(I,F){return F.length===0?null:(F.objectMode?W=F.buffer.shift():!I||I>=F.length?(W=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):W=(function(B,X,M){var Y;return B<X.head.data.length?(Y=X.head.data.slice(0,B),X.head.data=X.head.data.slice(B)):Y=B===X.head.data.length?X.shift():M?(function(k,D){var z=D.head,J=1,ne=z.data;for(k-=ne.length;z=z.next;){var te=z.data,se=k>te.length?te.length:k;if(se===te.length?ne+=te:ne+=te.slice(0,k),(k-=se)===0){se===te.length?(++J,z.next?D.head=z.next:D.head=D.tail=null):(D.head=z,z.data=te.slice(se));break}++J}return D.length-=J,ne})(B,X):(function(k,D){var z=c.allocUnsafe(k),J=D.head,ne=1;for(J.data.copy(z),k-=J.data.length;J=J.next;){var te=J.data,se=k>te.length?te.length:k;if(te.copy(z,z.length-k,0,se),(k-=se)===0){se===te.length?(++ne,J.next?D.head=J.next:D.head=D.tail=null):(D.head=J,J.data=te.slice(se));break}++ne}return D.length-=ne,z})(B,X),Y})(I,F.buffer,F.decoder),W);var W}function _(I){var F=I._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,s.nextTick(w,F,I))}function w(I,F){I.endEmitted||I.length!==0||(I.endEmitted=!0,F.readable=!1,F.emit("end"))}function S(I,F){for(var W=0,B=I.length;W<B;W++)if(I[W]===F)return W;return-1}R.prototype.read=function(I){p("read",I),I=parseInt(I,10);var F=this._readableState,W=I;if(I!==0&&(F.emittedReadable=!1),I===0&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return p("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?_(this):j(this),null;if((I=U(I,F))===0&&F.ended)return F.length===0&&_(this),null;var B,X=F.needReadable;return p("need readable",X),(F.length===0||F.length-I<F.highWaterMark)&&p("length less than watermark",X=!0),F.ended||F.reading?p("reading or ended",X=!1):X&&(p("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(I=U(W,F))),(B=I>0?b(I,F):null)===null?(F.needReadable=!0,I=0):F.length-=I,F.length===0&&(F.ended||(F.needReadable=!0),W!==I&&F.ended&&_(this)),B!==null&&this.emit("data",B),B},R.prototype._read=function(I){this.emit("error",new Error("_read() is not implemented"))},R.prototype.pipe=function(I,F){var W=this,B=this._readableState;switch(B.pipesCount){case 0:B.pipes=I;break;case 1:B.pipes=[B.pipes,I];break;default:B.pipes.push(I)}B.pipesCount+=1,p("pipe count=%d opts=%j",B.pipesCount,F);var X=(!F||F.end!==!1)&&I!==r.stdout&&I!==r.stderr?Y:ve;function M(ye,K){p("onunpipe"),ye===W&&K&&K.hasUnpiped===!1&&(K.hasUnpiped=!0,p("cleanup"),I.removeListener("close",te),I.removeListener("finish",se),I.removeListener("drain",k),I.removeListener("error",ne),I.removeListener("unpipe",M),W.removeListener("end",Y),W.removeListener("end",ve),W.removeListener("data",J),D=!0,!B.awaitDrain||I._writableState&&!I._writableState.needDrain||k())}function Y(){p("onend"),I.end()}B.endEmitted?s.nextTick(X):W.once("end",X),I.on("unpipe",M);var k=(function(ye){return function(){var K=ye._readableState;p("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&l(ye,"data")&&(K.flowing=!0,v(ye))}})(W);I.on("drain",k);var D=!1,z=!1;function J(ye){p("ondata"),z=!1,I.write(ye)!==!1||z||((B.pipesCount===1&&B.pipes===I||B.pipesCount>1&&S(B.pipes,I)!==-1)&&!D&&(p("false write response, pause",B.awaitDrain),B.awaitDrain++,z=!0),W.pause())}function ne(ye){p("onerror",ye),ve(),I.removeListener("error",ne),l(I,"error")===0&&I.emit("error",ye)}function te(){I.removeListener("finish",se),ve()}function se(){p("onfinish"),I.removeListener("close",te),ve()}function ve(){p("unpipe"),W.unpipe(I)}return W.on("data",J),(function(ye,K,ce){if(typeof ye.prependListener=="function")return ye.prependListener(K,ce);ye._events&&ye._events[K]?a(ye._events[K])?ye._events[K].unshift(ce):ye._events[K]=[ce,ye._events[K]]:ye.on(K,ce)})(I,"error",ne),I.once("close",te),I.once("finish",se),I.emit("pipe",W),B.flowing||(p("pipe resume"),W.resume()),I},R.prototype.unpipe=function(I){var F=this._readableState,W={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return I&&I!==F.pipes||(I||(I=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,I&&I.emit("unpipe",this,W)),this;if(!I){var B=F.pipes,X=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var M=0;M<X;M++)B[M].emit("unpipe",this,{hasUnpiped:!1});return this}var Y=S(F.pipes,I);return Y===-1||(F.pipes.splice(Y,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),I.emit("unpipe",this,W)),this},R.prototype.on=function(I,F){var W=u.prototype.on.call(this,I,F);if(I==="data")this._readableState.flowing!==!1&&this.resume();else if(I==="readable"){var B=this._readableState;B.endEmitted||B.readableListening||(B.readableListening=B.needReadable=!0,B.emittedReadable=!1,B.reading?B.length&&j(this):s.nextTick(C,this))}return W},R.prototype.addListener=R.prototype.on,R.prototype.resume=function(){var I=this._readableState;return I.flowing||(p("resume"),I.flowing=!0,(function(F,W){W.resumeScheduled||(W.resumeScheduled=!0,s.nextTick(L,F,W))})(this,I)),this},R.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},R.prototype.wrap=function(I){var F=this,W=this._readableState,B=!1;for(var X in I.on("end",function(){if(p("wrapped end"),W.decoder&&!W.ended){var Y=W.decoder.end();Y&&Y.length&&F.push(Y)}F.push(null)}),I.on("data",function(Y){p("wrapped data"),W.decoder&&(Y=W.decoder.write(Y)),W.objectMode&&Y==null||(W.objectMode||Y&&Y.length)&&(F.push(Y)||(B=!0,I.pause()))}),I)this[X]===void 0&&typeof I[X]=="function"&&(this[X]=(function(Y){return function(){return I[Y].apply(I,arguments)}})(X));for(var M=0;M<x.length;M++)I.on(x[M],this.emit.bind(this,x[M]));return this._read=function(Y){p("wrapped _read",Y),B&&(B=!1,I.resume())},this},Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),R._fromList=b}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,e,n){"use strict";e.exports=o;var r=t("./_stream_duplex"),i=Object.create(t("core-util-is"));function s(u,c){var d=this._transformState;d.transforming=!1;var f=d.writecb;if(!f)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,c!=null&&this.push(c),f(u);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function o(u){if(!(this instanceof o))return new o(u);r.call(this,u),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",a)}function a(){var u=this;typeof this._flush=="function"?this._flush(function(c,d){l(u,c,d)}):l(this,null,null)}function l(u,c,d){if(c)return u.emit("error",c);if(d!=null&&u.push(d),u._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(u._transformState.transforming)throw new Error("Calling transform done when still transforming");return u.push(null)}i.inherits=t("inherits"),i.inherits(o,r),o.prototype.push=function(u,c){return this._transformState.needTransform=!1,r.prototype.push.call(this,u,c)},o.prototype._transform=function(u,c,d){throw new Error("_transform() is not implemented")},o.prototype._write=function(u,c,d){var f=this._transformState;if(f.writecb=d,f.writechunk=u,f.writeencoding=c,!f.transforming){var h=this._readableState;(f.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},o.prototype._read=function(u){var c=this._transformState;c.writechunk!==null&&c.writecb&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},o.prototype._destroy=function(u,c){var d=this;r.prototype._destroy.call(this,u,function(f){c(f),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,e,n){(function(r,i,s){(function(){"use strict";var o=t("process-nextick-args");function a(H){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(C,L,v){var b=C.entry;for(C.entry=null;b;){var _=b.callback;L.pendingcb--,_(v),b=b.next}L.corkedRequestsFree.next=C})(E,H)}}e.exports=T;var l,u=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?s:o.nextTick;T.WritableState=x;var c=Object.create(t("core-util-is"));c.inherits=t("inherits");var d={deprecate:t("util-deprecate")},f=t("./internal/streams/stream"),h=t("safe-buffer").Buffer,p=(i!==void 0?i:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m,g=t("./internal/streams/destroy");function y(){}function x(H,E){l=l||t("./_stream_duplex"),H=H||{};var C=E instanceof l;this.objectMode=!!H.objectMode,C&&(this.objectMode=this.objectMode||!!H.writableObjectMode);var L=H.highWaterMark,v=H.writableHighWaterMark,b=this.objectMode?16:16384;this.highWaterMark=L||L===0?L:C&&(v||v===0)?v:b,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var _=H.decodeStrings===!1;this.decodeStrings=!_,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(w){(function(S,I){var F=S._writableState,W=F.sync,B=F.writecb;if((function(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0})(F),I)(function(M,Y,k,D,z){--Y.pendingcb,k?(o.nextTick(z,D),o.nextTick(q,M,Y),M._writableState.errorEmitted=!0,M.emit("error",D)):(z(D),M._writableState.errorEmitted=!0,M.emit("error",D),q(M,Y))})(S,F,W,I,B);else{var X=U(F);X||F.corked||F.bufferProcessing||!F.bufferedRequest||O(S,F),W?u($,S,F,X,B):$(S,F,X,B)}})(E,w)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function T(H){if(l=l||t("./_stream_duplex"),!(m.call(T,this)||this instanceof l))return new T(H);this._writableState=new x(H,this),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),f.call(this)}function R(H,E,C,L,v,b,_){E.writelen=L,E.writecb=_,E.writing=!0,E.sync=!0,C?H._writev(v,E.onwrite):H._write(v,b,E.onwrite),E.sync=!1}function $(H,E,C,L){C||(function(v,b){b.length===0&&b.needDrain&&(b.needDrain=!1,v.emit("drain"))})(H,E),E.pendingcb--,L(),q(H,E)}function O(H,E){E.bufferProcessing=!0;var C=E.bufferedRequest;if(H._writev&&C&&C.next){var L=E.bufferedRequestCount,v=new Array(L),b=E.corkedRequestsFree;b.entry=C;for(var _=0,w=!0;C;)v[_]=C,C.isBuf||(w=!1),C=C.next,_+=1;v.allBuffers=w,R(H,E,!0,E.length,v,"",b.finish),E.pendingcb++,E.lastBufferedRequest=null,b.next?(E.corkedRequestsFree=b.next,b.next=null):E.corkedRequestsFree=new a(E),E.bufferedRequestCount=0}else{for(;C;){var S=C.chunk,I=C.encoding,F=C.callback;if(R(H,E,!1,E.objectMode?1:S.length,S,I,F),C=C.next,E.bufferedRequestCount--,E.writing)break}C===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=C,E.bufferProcessing=!1}function U(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function j(H,E){H._final(function(C){E.pendingcb--,C&&H.emit("error",C),E.prefinished=!0,H.emit("prefinish"),q(H,E)})}function q(H,E){var C=U(E);return C&&((function(L,v){v.prefinished||v.finalCalled||(typeof L._final=="function"?(v.pendingcb++,v.finalCalled=!0,o.nextTick(j,L,v)):(v.prefinished=!0,L.emit("prefinish")))})(H,E),E.pendingcb===0&&(E.finished=!0,H.emit("finish"))),C}c.inherits(T,f),x.prototype.getBuffer=function(){for(var H=this.bufferedRequest,E=[];H;)E.push(H),H=H.next;return E},(function(){try{Object.defineProperty(x.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(H){return!!m.call(this,H)||this===T&&H&&H._writableState instanceof x}})):m=function(H){return H instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(H,E,C){var L,v=this._writableState,b=!1,_=!v.objectMode&&(L=H,h.isBuffer(L)||L instanceof p);return _&&!h.isBuffer(H)&&(H=(function(w){return h.from(w)})(H)),typeof E=="function"&&(C=E,E=null),_?E="buffer":E||(E=v.defaultEncoding),typeof C!="function"&&(C=y),v.ended?(function(w,S){var I=new Error("write after end");w.emit("error",I),o.nextTick(S,I)})(this,C):(_||(function(w,S,I,F){var W=!0,B=!1;return I===null?B=new TypeError("May not write null values to stream"):typeof I=="string"||I===void 0||S.objectMode||(B=new TypeError("Invalid non-string/buffer chunk")),B&&(w.emit("error",B),o.nextTick(F,B),W=!1),W})(this,v,H,C))&&(v.pendingcb++,b=(function(w,S,I,F,W,B){if(!I){var X=(function(D,z,J){return D.objectMode||D.decodeStrings===!1||typeof z!="string"||(z=h.from(z,J)),z})(S,F,W);F!==X&&(I=!0,W="buffer",F=X)}var M=S.objectMode?1:F.length;S.length+=M;var Y=S.length<S.highWaterMark;if(Y||(S.needDrain=!0),S.writing||S.corked){var k=S.lastBufferedRequest;S.lastBufferedRequest={chunk:F,encoding:W,isBuf:I,callback:B,next:null},k?k.next=S.lastBufferedRequest:S.bufferedRequest=S.lastBufferedRequest,S.bufferedRequestCount+=1}else R(w,S,!1,M,F,W,B);return Y})(this,v,_,H,E,C)),b},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,H.writing||H.corked||H.bufferProcessing||!H.bufferedRequest||O(this,H))},T.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(H,E,C){C(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(H,E,C){var L=this._writableState;typeof H=="function"?(C=H,H=null,E=null):typeof E=="function"&&(C=E,E=null),H!=null&&this.write(H,E),L.corked&&(L.corked=1,this.uncork()),L.ending||(function(v,b,_){b.ending=!0,q(v,b),_&&(b.finished?o.nextTick(_):v.once("finish",_)),b.ended=!0,v.writable=!1})(this,L,C)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),T.prototype.destroy=g.destroy,T.prototype._undestroy=g.undestroy,T.prototype._destroy=function(H,E){this.end(),E(H)}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("util");e.exports=(function(){function s(){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(o){var a={data:o,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},s.prototype.unshift=function(o){var a={data:o,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},s.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(o){if(this.length===0)return"";for(var a=this.head,l=""+a.data;a=a.next;)l+=o+a.data;return l},s.prototype.concat=function(o){if(this.length===0)return r.alloc(0);for(var a,l,u,c=r.allocUnsafe(o>>>0),d=this.head,f=0;d;)a=d.data,l=c,u=f,a.copy(l,u),f+=d.data.length,d=d.next;return c},s})(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var s=i.inspect({length:this.length});return this.constructor.name+" "+s})},{"safe-buffer":520,util:188}],514:[function(t,e,n){"use strict";var r=t("process-nextick-args");function i(s,o){s.emit("error",o)}e.exports={destroy:function(s,o){var a=this,l=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return l||u?(o?o(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(i,this,s)):r.nextTick(i,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(c){!o&&c?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,r.nextTick(i,a,c)):r.nextTick(i,a,c):o&&o(c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,e,n){arguments[4][490][0].apply(n,arguments)},{dup:490,events:422}],516:[function(t,e,n){"use strict";e.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,e,n){"use strict";(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,e,n){"use strict";e.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,e,n){"use strict";e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,e,n){arguments[4][217][0].apply(n,arguments)},{buffer:220,dup:217}],521:[function(t,e,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,e,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,e,n){(function(r,i){(function(){"use strict";var s=t("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,l={},u=0;function c(d,f){this._id=d,this._clearFn=f}n.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(d){d.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(d,f){clearTimeout(d._idleTimeoutId),d._idleTimeout=f},n.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},n._unrefActive=n.active=function(d){clearTimeout(d._idleTimeoutId);var f=d._idleTimeout;f>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},f))},n.setImmediate=typeof r=="function"?r:function(d){var f=u++,h=!(arguments.length<2)&&a.call(arguments,1);return l[f]=!0,s(function(){l[f]&&(h?d.apply(null,h):d.call(null),n.clearImmediate(f))}),f},n.clearImmediate=typeof i=="function"?i:function(d){delete l[d]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,e,n){(function(r){(function(){"use strict";function i(s){try{if(!r.localStorage)return!1}catch{return!1}var o=r.localStorage[s];return o!=null&&String(o).toLowerCase()==="true"}e.exports=function(s,o){if(i("noDeprecation"))return s;var a=!1;return function(){if(!a){if(i("throwDeprecation"))throw new Error(o);i("traceDeprecation")?console.trace(o):console.warn(o),a=!0}return s.apply(this,arguments)}}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,e,n){"use strict";typeof Object.create=="function"?e.exports=function(r,i){r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(r,i){r.super_=i;var s=function(){};s.prototype=i.prototype,r.prototype=new s,r.prototype.constructor=r}},{}],526:[function(t,e,n){"use strict";e.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}},{}],527:[function(t,e,n){(function(r,i){(function(){"use strict";var s=/%[sdj%]/g;n.format=function(v){if(!x(v)){for(var b=[],_=0;_<arguments.length;_++)b.push(l(arguments[_]));return b.join(" ")}_=1;for(var w=arguments,S=w.length,I=String(v).replace(s,function(W){if(W==="%%")return"%";if(_>=S)return W;switch(W){case"%s":return String(w[_++]);case"%d":return Number(w[_++]);case"%j":try{return JSON.stringify(w[_++])}catch{return"[Circular]"}default:return W}}),F=w[_];_<S;F=w[++_])g(F)||!$(F)?I+=" "+F:I+=" "+l(F);return I},n.deprecate=function(v,b){if(T(i.process))return function(){return n.deprecate(v,b).apply(this,arguments)};if(r.noDeprecation===!0)return v;var _=!1;return function(){if(!_){if(r.throwDeprecation)throw new Error(b);r.traceDeprecation?console.trace(b):console.error(b),_=!0}return v.apply(this,arguments)}};var o,a={};function l(v,b){var _={seen:[],stylize:c};return arguments.length>=3&&(_.depth=arguments[2]),arguments.length>=4&&(_.colors=arguments[3]),m(b)?_.showHidden=b:b&&n._extend(_,b),T(_.showHidden)&&(_.showHidden=!1),T(_.depth)&&(_.depth=2),T(_.colors)&&(_.colors=!1),T(_.customInspect)&&(_.customInspect=!0),_.colors&&(_.stylize=u),d(_,v,_.depth)}function u(v,b){var _=l.styles[b];return _?"\x1B["+l.colors[_][0]+"m"+v+"\x1B["+l.colors[_][1]+"m":v}function c(v,b){return v}function d(v,b,_){if(v.customInspect&&b&&j(b.inspect)&&b.inspect!==n.inspect&&(!b.constructor||b.constructor.prototype!==b)){var w=b.inspect(_,v);return x(w)||(w=d(v,w,_)),w}var S=(function(k,D){if(T(D))return k.stylize("undefined","undefined");if(x(D)){var z="'"+JSON.stringify(D).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return k.stylize(z,"string")}if(y(D))return k.stylize(""+D,"number");if(m(D))return k.stylize(""+D,"boolean");if(g(D))return k.stylize("null","null")})(v,b);if(S)return S;var I=Object.keys(b),F=(function(k){var D={};return k.forEach(function(z,J){D[z]=!0}),D})(I);if(v.showHidden&&(I=Object.getOwnPropertyNames(b)),U(b)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return f(b);if(I.length===0){if(j(b)){var W=b.name?": "+b.name:"";return v.stylize("[Function"+W+"]","special")}if(R(b))return v.stylize(RegExp.prototype.toString.call(b),"regexp");if(O(b))return v.stylize(Date.prototype.toString.call(b),"date");if(U(b))return f(b)}var B,X="",M=!1,Y=["{","}"];return p(b)&&(M=!0,Y=["[","]"]),j(b)&&(X=" [Function"+(b.name?": "+b.name:"")+"]"),R(b)&&(X=" "+RegExp.prototype.toString.call(b)),O(b)&&(X=" "+Date.prototype.toUTCString.call(b)),U(b)&&(X=" "+f(b)),I.length!==0||M&&b.length!=0?_<0?R(b)?v.stylize(RegExp.prototype.toString.call(b),"regexp"):v.stylize("[Object]","special"):(v.seen.push(b),B=M?(function(k,D,z,J,ne){for(var te=[],se=0,ve=D.length;se<ve;++se)L(D,String(se))?te.push(h(k,D,z,J,String(se),!0)):te.push("");return ne.forEach(function(ye){ye.match(/^\d+$/)||te.push(h(k,D,z,J,ye,!0))}),te})(v,b,_,F,I):I.map(function(k){return h(v,b,_,F,k,M)}),v.seen.pop(),(function(k,D,z){return k.reduce(function(J,ne){return ne.indexOf(`
`)>=0,J+ne.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?z[0]+(D===""?"":D+`
 `)+" "+k.join(`,
  `)+" "+z[1]:z[0]+D+" "+k.join(", ")+" "+z[1]})(B,X,Y)):Y[0]+X+Y[1]}function f(v){return"["+Error.prototype.toString.call(v)+"]"}function h(v,b,_,w,S,I){var F,W,B;if((B=Object.getOwnPropertyDescriptor(b,S)||{value:b[S]}).get?W=B.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):B.set&&(W=v.stylize("[Setter]","special")),L(w,S)||(F="["+S+"]"),W||(v.seen.indexOf(B.value)<0?(W=g(_)?d(v,B.value,null):d(v,B.value,_-1)).indexOf(`
`)>-1&&(W=I?W.split(`
`).map(function(X){return"  "+X}).join(`
`).substr(2):`
`+W.split(`
`).map(function(X){return"   "+X}).join(`
`)):W=v.stylize("[Circular]","special")),T(F)){if(I&&S.match(/^\d+$/))return W;(F=JSON.stringify(""+S)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.substr(1,F.length-2),F=v.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=v.stylize(F,"string"))}return F+": "+W}function p(v){return Array.isArray(v)}function m(v){return typeof v=="boolean"}function g(v){return v===null}function y(v){return typeof v=="number"}function x(v){return typeof v=="string"}function T(v){return v===void 0}function R(v){return $(v)&&q(v)==="[object RegExp]"}function $(v){return typeof v=="object"&&v!==null}function O(v){return $(v)&&q(v)==="[object Date]"}function U(v){return $(v)&&(q(v)==="[object Error]"||v instanceof Error)}function j(v){return typeof v=="function"}function q(v){return Object.prototype.toString.call(v)}function H(v){return v<10?"0"+v.toString(10):v.toString(10)}n.debuglog=function(v){if(T(o)&&(o=r.env.NODE_DEBUG||""),v=v.toUpperCase(),!a[v])if(new RegExp("\\b"+v+"\\b","i").test(o)){var b=r.pid;a[v]=function(){var _=n.format.apply(n,arguments);console.error("%s %d: %s",v,b,_)}}else a[v]=function(){};return a[v]},n.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=function(v){return v==null},n.isNumber=y,n.isString=x,n.isSymbol=function(v){return typeof v=="symbol"},n.isUndefined=T,n.isRegExp=R,n.isObject=$,n.isDate=O,n.isError=U,n.isFunction=j,n.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},n.isBuffer=t("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var v=new Date,b=[H(v.getHours()),H(v.getMinutes()),H(v.getSeconds())].join(":");return[v.getDate(),E[v.getMonth()],b].join(" ")}function L(v,b){return Object.prototype.hasOwnProperty.call(v,b)}n.log=function(){console.log("%s - %s",C(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(v,b){if(!b||!$(b))return v;for(var _=Object.keys(b),w=_.length;w--;)v[_[w]]=b[_[w]];return v}}).call(this)}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return d.default}});var r=f(t("./v1.js")),i=f(t("./v3.js")),s=f(t("./v4.js")),o=f(t("./v5.js")),a=f(t("./nil.js")),l=f(t("./version.js")),u=f(t("./validate.js")),c=f(t("./stringify.js")),d=f(t("./parse.js"));function f(h){return h&&h.__esModule?h:{default:h}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,e,n){"use strict";function r(d){return 14+(d+64>>>9<<4)+1}function i(d,f){let h=(65535&d)+(65535&f);return(d>>16)+(f>>16)+(h>>16)<<16|65535&h}function s(d,f,h,p,m,g){return i((y=i(i(f,d),i(p,g)))<<(x=m)|y>>>32-x,h);var y,x}function o(d,f,h,p,m,g,y){return s(f&h|~f&p,d,f,m,g,y)}function a(d,f,h,p,m,g,y){return s(f&p|h&~p,d,f,m,g,y)}function l(d,f,h,p,m,g,y){return s(f^h^p,d,f,m,g,y)}function u(d,f,h,p,m,g,y){return s(h^(f|~p),d,f,m,g,y)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=function(d){if(typeof d=="string"){let f=unescape(encodeURIComponent(d));d=new Uint8Array(f.length);for(let h=0;h<f.length;++h)d[h]=f.charCodeAt(h)}return(function(f){let h=[],p=32*f.length;for(let m=0;m<p;m+=8){let g=f[m>>5]>>>m%32&255,y=parseInt("0123456789abcdef".charAt(g>>>4&15)+"0123456789abcdef".charAt(15&g),16);h.push(y)}return h})((function(f,h){f[h>>5]|=128<<h%32,f[r(h)-1]=h;let p=1732584193,m=-271733879,g=-1732584194,y=271733878;for(let x=0;x<f.length;x+=16){let T=p,R=m,$=g,O=y;p=o(p,m,g,y,f[x],7,-680876936),y=o(y,p,m,g,f[x+1],12,-389564586),g=o(g,y,p,m,f[x+2],17,606105819),m=o(m,g,y,p,f[x+3],22,-1044525330),p=o(p,m,g,y,f[x+4],7,-176418897),y=o(y,p,m,g,f[x+5],12,1200080426),g=o(g,y,p,m,f[x+6],17,-1473231341),m=o(m,g,y,p,f[x+7],22,-45705983),p=o(p,m,g,y,f[x+8],7,1770035416),y=o(y,p,m,g,f[x+9],12,-1958414417),g=o(g,y,p,m,f[x+10],17,-42063),m=o(m,g,y,p,f[x+11],22,-1990404162),p=o(p,m,g,y,f[x+12],7,1804603682),y=o(y,p,m,g,f[x+13],12,-40341101),g=o(g,y,p,m,f[x+14],17,-1502002290),m=o(m,g,y,p,f[x+15],22,1236535329),p=a(p,m,g,y,f[x+1],5,-165796510),y=a(y,p,m,g,f[x+6],9,-1069501632),g=a(g,y,p,m,f[x+11],14,643717713),m=a(m,g,y,p,f[x],20,-373897302),p=a(p,m,g,y,f[x+5],5,-701558691),y=a(y,p,m,g,f[x+10],9,38016083),g=a(g,y,p,m,f[x+15],14,-660478335),m=a(m,g,y,p,f[x+4],20,-405537848),p=a(p,m,g,y,f[x+9],5,568446438),y=a(y,p,m,g,f[x+14],9,-1019803690),g=a(g,y,p,m,f[x+3],14,-187363961),m=a(m,g,y,p,f[x+8],20,1163531501),p=a(p,m,g,y,f[x+13],5,-1444681467),y=a(y,p,m,g,f[x+2],9,-51403784),g=a(g,y,p,m,f[x+7],14,1735328473),m=a(m,g,y,p,f[x+12],20,-1926607734),p=l(p,m,g,y,f[x+5],4,-378558),y=l(y,p,m,g,f[x+8],11,-2022574463),g=l(g,y,p,m,f[x+11],16,1839030562),m=l(m,g,y,p,f[x+14],23,-35309556),p=l(p,m,g,y,f[x+1],4,-1530992060),y=l(y,p,m,g,f[x+4],11,1272893353),g=l(g,y,p,m,f[x+7],16,-155497632),m=l(m,g,y,p,f[x+10],23,-1094730640),p=l(p,m,g,y,f[x+13],4,681279174),y=l(y,p,m,g,f[x],11,-358537222),g=l(g,y,p,m,f[x+3],16,-722521979),m=l(m,g,y,p,f[x+6],23,76029189),p=l(p,m,g,y,f[x+9],4,-640364487),y=l(y,p,m,g,f[x+12],11,-421815835),g=l(g,y,p,m,f[x+15],16,530742520),m=l(m,g,y,p,f[x+2],23,-995338651),p=u(p,m,g,y,f[x],6,-198630844),y=u(y,p,m,g,f[x+7],10,1126891415),g=u(g,y,p,m,f[x+14],15,-1416354905),m=u(m,g,y,p,f[x+5],21,-57434055),p=u(p,m,g,y,f[x+12],6,1700485571),y=u(y,p,m,g,f[x+3],10,-1894986606),g=u(g,y,p,m,f[x+10],15,-1051523),m=u(m,g,y,p,f[x+1],21,-2054922799),p=u(p,m,g,y,f[x+8],6,1873313359),y=u(y,p,m,g,f[x+15],10,-30611744),g=u(g,y,p,m,f[x+6],15,-1560198380),m=u(m,g,y,p,f[x+13],21,1309151649),p=u(p,m,g,y,f[x+4],6,-145523070),y=u(y,p,m,g,f[x+11],10,-1120210379),g=u(g,y,p,m,f[x+2],15,718787259),m=u(m,g,y,p,f[x+9],21,-343485551),p=i(p,T),m=i(m,R),g=i(g,$),y=i(y,O)}return[p,m,g,y]})((function(f){if(f.length===0)return[];let h=8*f.length,p=new Uint32Array(r(h));for(let m=0;m<h;m+=8)p[m>>5]|=(255&f[m/8])<<m%32;return p})(d),8*d.length))};n.default=c},{}],530:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./validate.js"))&&r.__esModule?r:{default:r},s=function(o){if(!(0,i.default)(o))throw TypeError("Invalid UUID");let a,l=new Uint8Array(16);return l[0]=(a=parseInt(o.slice(0,8),16))>>>24,l[1]=a>>>16&255,l[2]=a>>>8&255,l[3]=255&a,l[4]=(a=parseInt(o.slice(9,13),16))>>>8,l[5]=255&a,l[6]=(a=parseInt(o.slice(14,18),16))>>>8,l[7]=255&a,l[8]=(a=parseInt(o.slice(19,23),16))>>>8,l[9]=255&a,l[10]=(a=parseInt(o.slice(24,36),16))/1099511627776&255,l[11]=a/4294967296&255,l[12]=a>>>24&255,l[13]=a>>>16&255,l[14]=a>>>8&255,l[15]=255&a,l};n.default=s},{"./validate.js":541}],532:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,e,n){"use strict";let r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!r&&(r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)};let i=new Uint8Array(16)},{}],534:[function(t,e,n){"use strict";function r(o,a,l,u){switch(o){case 0:return a&l^~a&u;case 1:return a^l^u;case 2:return a&l^a&u^l&u;case 3:return a^l^u}}function i(o,a){return o<<a|o>>>32-a}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(o){let a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof o=="string"){let f=unescape(encodeURIComponent(o));o=[];for(let h=0;h<f.length;++h)o.push(f.charCodeAt(h))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);let u=o.length/4+2,c=Math.ceil(u/16),d=new Array(c);for(let f=0;f<c;++f){let h=new Uint32Array(16);for(let p=0;p<16;++p)h[p]=o[64*f+4*p]<<24|o[64*f+4*p+1]<<16|o[64*f+4*p+2]<<8|o[64*f+4*p+3];d[f]=h}d[c-1][14]=8*(o.length-1)/Math.pow(2,32),d[c-1][14]=Math.floor(d[c-1][14]),d[c-1][15]=8*(o.length-1)&4294967295;for(let f=0;f<c;++f){let h=new Uint32Array(80);for(let T=0;T<16;++T)h[T]=d[f][T];for(let T=16;T<80;++T)h[T]=i(h[T-3]^h[T-8]^h[T-14]^h[T-16],1);let p=l[0],m=l[1],g=l[2],y=l[3],x=l[4];for(let T=0;T<80;++T){let R=Math.floor(T/20),$=i(p,5)+r(R,m,g,y)+x+a[R]+h[T]>>>0;x=y,y=g,g=i(m,30)>>>0,m=p,p=$}l[0]=l[0]+p>>>0,l[1]=l[1]+m>>>0,l[2]=l[2]+g>>>0,l[3]=l[3]+y>>>0,l[4]=l[4]+x>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,255&l[0],l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,255&l[1],l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,255&l[2],l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,255&l[3],l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,255&l[4]]};n.default=s},{}],535:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./validate.js"))&&r.__esModule?r:{default:r};let s=[];for(let a=0;a<256;++a)s.push((a+256).toString(16).substr(1));var o=function(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=(s[a[l+0]]+s[a[l+1]]+s[a[l+2]]+s[a[l+3]]+"-"+s[a[l+4]]+s[a[l+5]]+"-"+s[a[l+6]]+s[a[l+7]]+"-"+s[a[l+8]]+s[a[l+9]]+"-"+s[a[l+10]]+s[a[l+11]]+s[a[l+12]]+s[a[l+13]]+s[a[l+14]]+s[a[l+15]]).toLowerCase();if(!(0,i.default)(u))throw TypeError("Stringified UUID is invalid");return u};n.default=o},{"./validate.js":541}],536:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(t("./rng.js")),i=s(t("./stringify.js"));function s(d){return d&&d.__esModule?d:{default:d}}let o,a,l=0,u=0;var c=function(d,f,h){let p=f&&h||0,m=f||new Array(16),g=(d=d||{}).node||o,y=d.clockseq!==void 0?d.clockseq:a;if(g==null||y==null){let U=d.random||(d.rng||r.default)();g==null&&(g=o=[1|U[0],U[1],U[2],U[3],U[4],U[5]]),y==null&&(y=a=16383&(U[6]<<8|U[7]))}let x=d.msecs!==void 0?d.msecs:Date.now(),T=d.nsecs!==void 0?d.nsecs:u+1,R=x-l+(T-u)/1e4;if(R<0&&d.clockseq===void 0&&(y=y+1&16383),(R<0||x>l)&&d.nsecs===void 0&&(T=0),T>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=x,u=T,a=y,x+=122192928e5;let $=(1e4*(268435455&x)+T)%4294967296;m[p++]=$>>>24&255,m[p++]=$>>>16&255,m[p++]=$>>>8&255,m[p++]=255&$;let O=x/4294967296*1e4&268435455;m[p++]=O>>>8&255,m[p++]=255&O,m[p++]=O>>>24&15|16,m[p++]=O>>>16&255,m[p++]=y>>>8|128,m[p++]=255&y;for(let U=0;U<6;++U)m[p+U]=g[U];return f||(0,i.default)(m)};n.default=c},{"./rng.js":533,"./stringify.js":535}],537:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(t("./v35.js")),i=s(t("./md5.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v3",48,i.default);n.default=o},{"./md5.js":529,"./v35.js":538}],538:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(l,u,c){function d(f,h,p,m){if(typeof f=="string"&&(f=(function(y){y=unescape(encodeURIComponent(y));let x=[];for(let T=0;T<y.length;++T)x.push(y.charCodeAt(T));return x})(f)),typeof h=="string"&&(h=(0,i.default)(h)),h.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+f.length);if(g.set(h),g.set(f,h.length),g=c(g),g[6]=15&g[6]|u,g[8]=63&g[8]|128,p){m=m||0;for(let y=0;y<16;++y)p[m+y]=g[y];return p}return(0,r.default)(g)}try{d.name=l}catch{}return d.DNS=o,d.URL=a,d},n.URL=n.DNS=void 0;var r=s(t("./stringify.js")),i=s(t("./parse.js"));function s(l){return l&&l.__esModule?l:{default:l}}let o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=o;let a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(t("./rng.js")),i=s(t("./stringify.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=function(a,l,u){let c=(a=a||{}).random||(a.rng||r.default)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,l){u=u||0;for(let d=0;d<16;++d)l[u+d]=c[d];return l}return(0,i.default)(c)};n.default=o},{"./rng.js":533,"./stringify.js":535}],540:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(t("./v35.js")),i=s(t("./sha1.js"));function s(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v5",80,i.default);n.default=o},{"./sha1.js":534,"./v35.js":538}],541:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./regex.js"))&&r.__esModule?r:{default:r},s=function(o){return typeof o=="string"&&i.default.test(o)};n.default=s},{"./regex.js":532}],542:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./validate.js"))&&r.__esModule?r:{default:r},s=function(o){if(!(0,i.default)(o))throw TypeError("Invalid UUID");return parseInt(o.substr(14,1),16)};n.default=s},{"./validate.js":541}],543:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`,n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function r(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(i){return i>=32&&i<=55295||i===10||i===13||i===9||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isS=function(i){return i===32||i===10||i===13||i===9},n.isNameStartChar=r,n.isNameChar=function(i){return r(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],544:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}",n.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F",n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function r(i){return i>=65&&i<=90||i>=97&&i<=122||i===58||i===95||i===8204||i===8205||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(i){return i>=1&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isRestrictedChar=function(i){return i>=1&&i<=8||i===11||i===12||i>=14&&i<=31||i>=127&&i<=132||i>=134&&i<=159},n.isCharAndNotRestricted=function(i){return i===9||i===10||i===13||i>31&&i<127||i===133||i>159&&i<=55295||i>=57344&&i<=65533||i>=65536&&i<=1114111},n.isS=function(i){return i===32||i===10||i===13||i===9},n.isNameStartChar=r,n.isNameChar=function(i){return r(i)||i>=48&&i<=57||i===45||i===46||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}],545:[function(t,e,n){"use strict";function r(i){return i>=65&&i<=90||i===95||i>=97&&i<=122||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=767||i>=880&&i<=893||i>=895&&i<=8191||i>=8204&&i<=8205||i>=8304&&i<=8591||i>=11264&&i<=12271||i>=12289&&i<=55295||i>=63744&&i<=64975||i>=65008&&i<=65533||i>=65536&&i<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=r,n.isNCNameChar=function(i){return r(i)||i===45||i===46||i>=48&&i<=57||i===183||i>=768&&i<=879||i>=8255&&i<=8256}},{}]},{},[15])(15)})});var Gk=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),Xh=class t{element=null;classNames=[];attrs=[];notSelectors=[];static parse(e){let n=[],r=(l,u)=>{u.notSelectors.length>0&&!u.element&&u.classNames.length==0&&u.attrs.length==0&&(u.element="*"),l.push(u)},i=new t,s,o=i,a=!1;for(Gk.lastIndex=0;s=Gk.exec(e);){if(s[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,o=new t,i.notSelectors.push(o)}let l=s[2];if(l){let c=s[3];c==="#"?o.addAttribute("id",l.slice(1)):c==="."?o.addClassName(l.slice(1)):o.setElement(l)}let u=s[4];if(u&&o.addAttribute(o.unescapeAttribute(u),s[6]),s[7]&&(a=!1,o=i),s[8]){if(a)throw new Error("Multiple selectors in :not are not supported");r(n,i),i=o=new t}}return r(n,i),n}unescapeAttribute(e){let n="",r=!1;for(let i=0;i<e.length;i++){let s=e.charAt(i);if(s==="\\"){r=!0;continue}if(s==="$"&&!r)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);r=!1,n+=s}return n}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,n=""){this.attrs.push(e,n&&n.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(n=>e+=`.${n}`),this.attrs)for(let n=0;n<this.attrs.length;n+=2){let r=this.escapeAttribute(this.attrs[n]),i=this.attrs[n+1];e+=`[${r}${i?"="+i:""}]`}return this.notSelectors.forEach(n=>e+=`:not(${n})`),e}},$y=class t{static createNotMatcher(e){let n=new t;return n.addSelectables(e,null),n}_elementMap=new Map;_elementPartialMap=new Map;_classMap=new Map;_classPartialMap=new Map;_attrValueMap=new Map;_attrValuePartialMap=new Map;_listContexts=[];addSelectables(e,n){let r=null;e.length>1&&(r=new ES(e),this._listContexts.push(r));for(let i=0;i<e.length;i++)this._addSelectable(e[i],n,r)}_addSelectable(e,n,r){let i=this,s=e.element,o=e.classNames,a=e.attrs,l=new SS(e,n,r);if(s&&(a.length===0&&o.length===0?this._addTerminal(i._elementMap,s,l):i=this._addPartial(i._elementPartialMap,s)),o)for(let u=0;u<o.length;u++){let c=a.length===0&&u===o.length-1,d=o[u];c?this._addTerminal(i._classMap,d,l):i=this._addPartial(i._classPartialMap,d)}if(a)for(let u=0;u<a.length;u+=2){let c=u===a.length-2,d=a[u],f=a[u+1];if(c){let h=i._attrValueMap,p=h.get(d);p||(p=new Map,h.set(d,p)),this._addTerminal(p,f,l)}else{let h=i._attrValuePartialMap,p=h.get(d);p||(p=new Map,h.set(d,p)),i=this._addPartial(p,f)}}}_addTerminal(e,n,r){let i=e.get(n);i||(i=[],e.set(n,i)),i.push(r)}_addPartial(e,n){let r=e.get(n);return r||(r=new t,e.set(n,r)),r}match(e,n){let r=!1,i=e.element,s=e.classNames,o=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,i,e,n)||r,r=this._matchPartial(this._elementPartialMap,i,e,n)||r,s)for(let a=0;a<s.length;a++){let l=s[a];r=this._matchTerminal(this._classMap,l,e,n)||r,r=this._matchPartial(this._classPartialMap,l,e,n)||r}if(o)for(let a=0;a<o.length;a+=2){let l=o[a],u=o[a+1],c=this._attrValueMap.get(l);u&&(r=this._matchTerminal(c,"",e,n)||r),r=this._matchTerminal(c,u,e,n)||r;let d=this._attrValuePartialMap.get(l);u&&(r=this._matchPartial(d,"",e,n)||r),r=this._matchPartial(d,u,e,n)||r}return r}_matchTerminal(e,n,r,i){if(!e||typeof n!="string")return!1;let s=e.get(n)||[],o=e.get("*");if(o&&(s=s.concat(o)),s.length===0)return!1;let a,l=!1;for(let u=0;u<s.length;u++)a=s[u],l=a.finalize(r,i)||l;return l}_matchPartial(e,n,r,i){if(!e||typeof n!="string")return!1;let s=e.get(n);return s?s.match(r,i):!1}},ES=class{selectors;alreadyMatched=!1;constructor(e){this.selectors=e}},SS=class{selector;cbContext;listContext;notSelectors;constructor(e,n,r){this.selector=e,this.cbContext=n,this.listContext=r,this.notSelectors=e.notSelectors}finalize(e,n){let r=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(r=!$y.createNotMatcher(this.notSelectors).match(e,null)),r&&n&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),n(this.selector,this.cbContext)),r}},qy=class{registry;constructor(e){this.registry=e}match(e){return this.registry.has(e)?this.registry.get(e):[]}};var qd=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(qd||{}),KC=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(KC||{}),Tg=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Tg||{}),Yk={name:"custom-elements"},Xk={name:"no-errors-schema"};var xr=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t[t.ATTRIBUTE_NO_BINDING=6]="ATTRIBUTE_NO_BINDING",t})(xr||{});function P$(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return[t.element&&t.element!=="*"?t.element:"",...t.attrs,...e]}function L$(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return t.element?[5,t.element,...t.attrs,...e]:t.attrs.length?[3,...t.attrs,...e]:t.classNames&&t.classNames.length?[9,...t.classNames]:[]}function F$(t){let e=P$(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(r=>L$(r)):[];return e.concat(...n)}function ZC(t){return t?Xh.parse(t).map(F$):[]}var xu=(function(t){return t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule",t})(xu||{});var zy;function O$(t){return j$(U$(t.nodes).join("")+`[${t.meaning}]`)}function B$(t){return t.id||BN(t)}function BN(t){let e=new CS,n=t.nodes.map(r=>r.visit(e,null));return VN(n.join(""),t.meaning)}var Wy=class{visitText(e,n){return e.value}visitContainer(e,n){return`[${e.children.map(r=>r.visit(this)).join(", ")}]`}visitIcu(e,n){let r=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expression}, ${e.type}, ${r.join(", ")}}`}visitTagPlaceholder(e,n){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,n){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,n){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,n){return`<ph block name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}},V$=new Wy;function U$(t){return t.map(e=>e.visit(V$,null))}var CS=class extends Wy{visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.type}, ${n.join(", ")}}`}};function j$(t){zy??=new TextEncoder;let e=[...zy.encode(t)],n=q$(e,JC.Big),r=e.length*8,i=new Uint32Array(80),s=1732584193,o=4023233417,a=2562383102,l=271733878,u=3285377520;n[r>>5]|=128<<24-r%32,n[(r+64>>9<<4)+15]=r;for(let c=0;c<n.length;c+=16){let d=s,f=o,h=a,p=l,m=u;for(let g=0;g<80;g++){g<16?i[g]=n[c+g]:i[g]=nS(i[g-3]^i[g-8]^i[g-14]^i[g-16],1);let y=H$(g,o,a,l),x=y[0],T=y[1],R=[nS(s,5),x,u,T,i[g]].reduce(Mh);u=l,l=a,a=nS(o,30),o=s,s=R}s=Mh(s,d),o=Mh(o,f),a=Mh(a,h),l=Mh(l,p),u=Mh(u,m)}return wg(s)+wg(o)+wg(a)+wg(l)+wg(u)}function wg(t){return(t>>>0).toString(16).padStart(8,"0")}function H$(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function Kk(t){zy??=new TextEncoder;let e=zy.encode(t),n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=Zk(n,e.length,0),i=Zk(n,e.length,102072);return r==0&&(i==0||i==1)&&(r=r^319790063,i=i^-1801410264),BigInt.asUintN(32,BigInt(r))<<BigInt(32)|BigInt.asUintN(32,BigInt(i))}function VN(t,e=""){let n=Kk(t);return e&&(n=BigInt.asUintN(64,n<<BigInt(1))|n>>BigInt(63)&BigInt(1),n+=Kk(e)),BigInt.asUintN(63,n).toString()}function Zk(t,e,n){let r=2654435769,i=2654435769,s=0,o=e-12;for(;s<=o;s+=12){r+=t.getUint32(s,!0),i+=t.getUint32(s+4,!0),n+=t.getUint32(s+8,!0);let l=Jk(r,i,n);r=l[0],i=l[1],n=l[2]}let a=e-s;return n+=e,a>=4?(r+=t.getUint32(s,!0),s+=4,a>=8?(i+=t.getUint32(s,!0),s+=4,a>=9&&(n+=t.getUint8(s++)<<8),a>=10&&(n+=t.getUint8(s++)<<16),a===11&&(n+=t.getUint8(s++)<<24)):(a>=5&&(i+=t.getUint8(s++)),a>=6&&(i+=t.getUint8(s++)<<8),a===7&&(i+=t.getUint8(s++)<<16))):(a>=1&&(r+=t.getUint8(s++)),a>=2&&(r+=t.getUint8(s++)<<8),a===3&&(r+=t.getUint8(s++)<<16)),Jk(r,i,n)[2]}function Jk(t,e,n){return t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t<<8,n-=t,n-=e,n^=e>>>13,t-=e,t-=n,t^=n>>>12,e-=n,e-=t,e^=t<<16,n-=t,n-=e,n^=e>>>5,t-=e,t-=n,t^=n>>>3,e-=n,e-=t,e^=t<<10,n-=t,n-=e,n^=e>>>15,[t,e,n]}var JC=(function(t){return t[t.Little=0]="Little",t[t.Big=1]="Big",t})(JC||{});function Mh(t,e){return $$(t,e)[1]}function $$(t,e){let n=(t&65535)+(e&65535),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|n&65535]}function nS(t,e){return t<<e|t>>>32-e}function q$(t,e){let n=t.length+3>>>2,r=[];for(let i=0;i<n;i++)r[i]=z$(t,i*4,e);return r}function Qk(t,e){return e>=t.length?0:t[e]}function z$(t,e,n){let r=0;if(n===JC.Big)for(let i=0;i<4;i++)r+=Qk(t,e+i)<<24-8*i;else for(let i=0;i<4;i++)r+=Qk(t,e+i)<<8*i;return r}var UN=(function(t){return t[t.None=0]="None",t[t.Const=1]="Const",t})(UN||{}),Gy=class{modifiers;constructor(e=UN.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},ku=(function(t){return t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None",t})(ku||{}),Al=class extends Gy{name;constructor(e,n){super(n),this.name=e}visitType(e,n){return e.visitBuiltinType(this,n)}},ha=class extends Gy{value;typeParams;constructor(e,n,r=null){super(n),this.value=e,this.typeParams=r}visitType(e,n){return e.visitExpressionType(this,n)}};var Qb=new Al(ku.Dynamic),Oa=new Al(ku.Inferred),W$=new Al(ku.Bool),Rwe=new Al(ku.Int),QC=new Al(ku.Number),e5=new Al(ku.String),Pwe=new Al(ku.Function),Tl=new Al(ku.None),Bg=(function(t){return t[t.Minus=0]="Minus",t[t.Plus=1]="Plus",t})(Bg||{}),st=(function(t){return t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Assign=2]="Assign",t[t.Identical=3]="Identical",t[t.NotIdentical=4]="NotIdentical",t[t.Minus=5]="Minus",t[t.Plus=6]="Plus",t[t.Divide=7]="Divide",t[t.Multiply=8]="Multiply",t[t.Modulo=9]="Modulo",t[t.And=10]="And",t[t.Or=11]="Or",t[t.BitwiseOr=12]="BitwiseOr",t[t.BitwiseAnd=13]="BitwiseAnd",t[t.Lower=14]="Lower",t[t.LowerEquals=15]="LowerEquals",t[t.Bigger=16]="Bigger",t[t.BiggerEquals=17]="BiggerEquals",t[t.NullishCoalesce=18]="NullishCoalesce",t[t.Exponentiation=19]="Exponentiation",t[t.In=20]="In",t[t.AdditionAssignment=21]="AdditionAssignment",t[t.SubtractionAssignment=22]="SubtractionAssignment",t[t.MultiplicationAssignment=23]="MultiplicationAssignment",t[t.DivisionAssignment=24]="DivisionAssignment",t[t.RemainderAssignment=25]="RemainderAssignment",t[t.ExponentiationAssignment=26]="ExponentiationAssignment",t[t.AndAssignment=27]="AndAssignment",t[t.OrAssignment=28]="OrAssignment",t[t.NullishCoalesceAssignment=29]="NullishCoalesceAssignment",t})(st||{});function G$(t,e){return t==null||e==null?t==e:t.isEquivalent(e)}function jN(t,e,n){let r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Ho(t,e){return jN(t,e,(n,r)=>n.isEquivalent(r))}var fr=class{type;sourceSpan;constructor(e,n){this.type=e||null,this.sourceSpan=n||null}prop(e,n){return new $o(this,e,null,n)}key(e,n,r){return new Tu(this,e,n,r)}callFn(e,n,r){return new yo(this,e,null,n,r)}instantiate(e,n,r){return new Ug(this,e,n,r)}conditional(e,n=null,r){return new Il(this,e,n,null,r)}equals(e,n){return new Hn(st.Equals,this,e,null,n)}notEquals(e,n){return new Hn(st.NotEquals,this,e,null,n)}identical(e,n){return new Hn(st.Identical,this,e,null,n)}notIdentical(e,n){return new Hn(st.NotIdentical,this,e,null,n)}minus(e,n){return new Hn(st.Minus,this,e,null,n)}plus(e,n){return new Hn(st.Plus,this,e,null,n)}divide(e,n){return new Hn(st.Divide,this,e,null,n)}multiply(e,n){return new Hn(st.Multiply,this,e,null,n)}modulo(e,n){return new Hn(st.Modulo,this,e,null,n)}power(e,n){return new Hn(st.Exponentiation,this,e,null,n)}and(e,n){return new Hn(st.And,this,e,null,n)}bitwiseOr(e,n){return new Hn(st.BitwiseOr,this,e,null,n)}bitwiseAnd(e,n){return new Hn(st.BitwiseAnd,this,e,null,n)}or(e,n){return new Hn(st.Or,this,e,null,n)}lower(e,n){return new Hn(st.Lower,this,e,null,n)}lowerEquals(e,n){return new Hn(st.LowerEquals,this,e,null,n)}bigger(e,n){return new Hn(st.Bigger,this,e,null,n)}biggerEquals(e,n){return new Hn(st.BiggerEquals,this,e,null,n)}isBlank(e){return this.equals(J$,e)}nullishCoalesce(e,n){return new Hn(st.NullishCoalesce,this,e,null,n)}toStmt(){return new As(this,null)}},Ba=class t extends fr{name;constructor(e,n,r){super(n,r),this.name=e}isEquivalent(e){return e instanceof t&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadVarExpr(this,n)}clone(){return new t(this.name,this.type,this.sourceSpan)}set(e){return new Hn(st.Assign,this,e,null,this.sourceSpan)}},Kh=class t extends fr{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitTypeofExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},Yy=class t extends fr{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitVoidExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},Pn=class t extends fr{node;constructor(e,n,r){super(n,r),this.node=e}isEquivalent(e){return e instanceof t&&this.node===e.node}isConstant(){return!1}visitExpression(e,n){return e.visitWrappedNodeExpr(this,n)}clone(){return new t(this.node,this.type,this.sourceSpan)}},yo=class t extends fr{fn;args;pure;constructor(e,n,r,i,s=!1){super(r,i),this.fn=e,this.args=n,this.pure=s}get receiver(){return this.fn}isEquivalent(e){return e instanceof t&&this.fn.isEquivalent(e.fn)&&Ho(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,n){return e.visitInvokeFunctionExpr(this,n)}clone(){return new t(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},Vg=class t extends fr{tag;template;constructor(e,n,r,i){super(r,i),this.tag=e,this.template=n}isEquivalent(e){return e instanceof t&&this.tag.isEquivalent(e.tag)&&this.template.isEquivalent(e.template)}isConstant(){return!1}visitExpression(e,n){return e.visitTaggedTemplateLiteralExpr(this,n)}clone(){return new t(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},Ug=class t extends fr{classExpr;args;constructor(e,n,r,i){super(r,i),this.classExpr=e,this.args=n}isEquivalent(e){return e instanceof t&&this.classExpr.isEquivalent(e.classExpr)&&Ho(this.args,e.args)}isConstant(){return!1}visitExpression(e,n){return e.visitInstantiateExpr(this,n)}clone(){return new t(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},Zh=class t extends fr{body;flags;constructor(e,n,r){super(null,r),this.body=e,this.flags=n}isEquivalent(e){return e instanceof t&&this.body===e.body&&this.flags===e.flags}isConstant(){return!0}visitExpression(e,n){return e.visitRegularExpressionLiteral(this,n)}clone(){return new t(this.body,this.flags,this.sourceSpan)}},ds=class t extends fr{value;constructor(e,n,r){super(n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value===e.value}isConstant(){return!0}visitExpression(e,n){return e.visitLiteralExpr(this,n)}clone(){return new t(this.value,this.type,this.sourceSpan)}},jg=class t extends fr{elements;expressions;constructor(e,n,r){super(null,r),this.elements=e,this.expressions=n}isEquivalent(e){return e instanceof t&&jN(this.elements,e.elements,(n,r)=>n.text===r.text)&&Ho(this.expressions,e.expressions)}isConstant(){return!1}visitExpression(e,n){return e.visitTemplateLiteralExpr(this,n)}clone(){return new t(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},Xy=class t extends fr{text;rawText;constructor(e,n,r){super(e5,n),this.text=e,this.rawText=r??AS(Oy(e))}visitExpression(e,n){return e.visitTemplateLiteralElementExpr(this,n)}isEquivalent(e){return e instanceof t&&e.text===this.text&&e.rawText===this.rawText}isConstant(){return!0}clone(){return new t(this.text,this.sourceSpan,this.rawText)}},Jd=class{text;sourceSpan;constructor(e,n){this.text=e,this.sourceSpan=n}},Wh=class{text;sourceSpan;associatedMessage;constructor(e,n,r){this.text=e,this.sourceSpan=n,this.associatedMessage=r}},Y$="|",e8="@@",X$="\u241F",Ky=class t extends fr{metaBlock;messageParts;placeHolderNames;expressions;constructor(e,n,r,i,s){super(e5,s),this.metaBlock=e,this.messageParts=n,this.placeHolderNames=r,this.expressions=i}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,n){return e.visitLocalizedString(this,n)}clone(){return new t(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${Y$}${e}`),this.metaBlock.customId&&(e=`${e}${e8}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(n=>{e=`${e}${X$}${n}`}),t8(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let n=this.placeHolderNames[e-1],r=this.messageParts[e],i=n.text;return n.associatedMessage?.legacyIds.length===0&&(i+=`${e8}${VN(n.associatedMessage.messageString,n.associatedMessage.meaning)}`),t8(i,r.text,this.getMessagePartSourceSpan(e))}},Oy=t=>t.replace(/\\/g,"\\\\"),K$=t=>t.replace(/^:/,"\\:"),Z$=t=>t.replace(/:/g,"\\:"),AS=t=>t.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function t8(t,e,n){return t===""?{cooked:e,raw:AS(K$(Oy(e))),range:n}:{cooked:`:${t}:${e}`,raw:AS(`:${Z$(Oy(t))}:${Oy(e)}`),range:n}}var af=class t extends fr{value;typeParams;constructor(e,n,r=null,i){super(n,i),this.value=e,this.typeParams=r}isEquivalent(e){return e instanceof t&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName}isConstant(){return!1}visitExpression(e,n){return e.visitExternalExpr(this,n)}clone(){return new t(this.value,this.type,this.typeParams,this.sourceSpan)}};var Il=class t extends fr{condition;falseCase;trueCase;constructor(e,n,r=null,i,s){super(i||n.type,s),this.condition=e,this.falseCase=r,this.trueCase=n}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&G$(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,n){return e.visitConditionalExpr(this,n)}clone(){return new t(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}};var Hg=class t extends fr{condition;constructor(e,n){super(W$,n),this.condition=e}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,n){return e.visitNotExpr(this,n)}clone(){return new t(this.condition.clone(),this.sourceSpan)}},as=class t{name;type;constructor(e,n=null){this.name=e,this.type=n}isEquivalent(e){return this.name===e.name}clone(){return new t(this.name,this.type)}},Dc=class t extends fr{params;statements;name;constructor(e,n,r,i,s){super(r,i),this.params=e,this.statements=n,this.name=s}isEquivalent(e){return(e instanceof t||e instanceof $g)&&Ho(this.params,e.params)&&Ho(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,n){return e.visitFunctionExpr(this,n)}toDeclStmt(e,n){return new $g(e,this.params,this.statements,this.type,n,this.sourceSpan)}clone(){return new t(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},lf=class t extends fr{params;body;constructor(e,n,r,i){super(r,i),this.params=e,this.body=n}isEquivalent(e){return!(e instanceof t)||!Ho(this.params,e.params)?!1:this.body instanceof fr&&e.body instanceof fr?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?Ho(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,n){return e.visitArrowFunctionExpr(this,n)}clone(){return new t(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new Ui(e,this,Oa,n,this.sourceSpan)}},uf=class t extends fr{operator;expr;parens;constructor(e,n,r,i,s=!0){super(r||QC,i),this.operator=e,this.expr=n,this.parens=s}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,n){return e.visitUnaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},Va=class t extends fr{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitParenthesizedExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},Hn=class t extends fr{operator;rhs;lhs;constructor(e,n,r,i,s){super(i||n.type,s),this.operator=e,this.rhs=r,this.lhs=n}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,n){return e.visitBinaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan)}isAssignment(){let e=this.operator;return e===st.Assign||e===st.AdditionAssignment||e===st.SubtractionAssignment||e===st.MultiplicationAssignment||e===st.DivisionAssignment||e===st.RemainderAssignment||e===st.ExponentiationAssignment||e===st.AndAssignment||e===st.OrAssignment||e===st.NullishCoalesceAssignment}},$o=class t extends fr{receiver;name;constructor(e,n,r,i){super(r,i),this.receiver=e,this.name=n}get index(){return this.name}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadPropExpr(this,n)}set(e){return new Hn(st.Assign,this.receiver.prop(this.name),e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},Tu=class t extends fr{receiver;index;constructor(e,n,r,i){super(r,i),this.receiver=e,this.index=n}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,n){return e.visitReadKeyExpr(this,n)}set(e){return new Hn(st.Assign,this.receiver.key(this.index),e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},Dl=class t extends fr{entries;constructor(e,n,r){super(n,r),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof t&&Ho(this.entries,e.entries)}visitExpression(e,n){return e.visitLiteralArrayExpr(this,n)}clone(){return new t(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},Jh=class t{key;value;quoted;constructor(e,n,r){this.key=e,this.value=n,this.quoted=r}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new t(this.key,this.value.clone(),this.quoted)}isConstant(){return this.value.isConstant()}},kc=class t{expression;constructor(e){this.expression=e}isEquivalent(e){return e instanceof t&&this.expression.isEquivalent(e.expression)}clone(){return new t(this.expression.clone())}isConstant(){return this.expression.isConstant()}},Ua=class t extends fr{entries;valueType=null;constructor(e,n,r){super(n,r),this.entries=e,n&&(this.valueType=n.valueType)}isEquivalent(e){return e instanceof t&&Ho(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.isConstant())}visitExpression(e,n){return e.visitLiteralMapExpr(this,n)}clone(){let e=this.entries.map(n=>n.clone());return new t(e,this.type,this.sourceSpan)}};var cf=class t extends fr{expression;constructor(e,n){super(null,n),this.expression=e}isEquivalent(e){return e instanceof t&&this.expression.isEquivalent(e.expression)}isConstant(){return this.expression.isConstant()}visitExpression(e,n){return e.visitSpreadElementExpr(this,n)}clone(){return new t(this.expression.clone(),this.sourceSpan)}},Qh=new ds(null,null,null),J$=new ds(null,Oa,null),ls=(function(t){return t[t.None=0]="None",t[t.Final=1]="Final",t[t.Private=2]="Private",t[t.Exported=4]="Exported",t[t.Static=8]="Static",t})(ls||{}),TS=class{text;multiline;trailingNewline;constructor(e,n,r){this.text=e,this.multiline=n,this.trailingNewline=r}toString(){return this.multiline?` ${this.text} `:this.text}},Zy=class extends TS{tags;constructor(e){super("",!0,!0),this.tags=e}toString(){return rq(this.tags)}},df=class{modifiers;sourceSpan;leadingComments;constructor(e=ls.None,n=null,r){this.modifiers=e,this.sourceSpan=n,this.leadingComments=r}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},Ui=class t extends df{name;value;type;constructor(e,n,r,i,s,o){super(i,s,o),this.name=e,this.value=n,this.type=r||n&&n.type||null}isEquivalent(e){return e instanceof t&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,n){return e.visitDeclareVarStmt(this,n)}},$g=class t extends df{name;params;statements;type;constructor(e,n,r,i,s,o,a){super(s,o,a),this.name=e,this.params=n,this.statements=r,this.type=i||null}isEquivalent(e){return e instanceof t&&Ho(this.params,e.params)&&Ho(this.statements,e.statements)}visitStatement(e,n){return e.visitDeclareFunctionStmt(this,n)}},As=class t extends df{expr;constructor(e,n,r){super(ls.None,n,r),this.expr=e}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}visitStatement(e,n){return e.visitExpressionStmt(this,n)}},us=class t extends df{value;constructor(e,n=null,r){super(ls.None,n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value.isEquivalent(e.value)}visitStatement(e,n){return e.visitReturnStmt(this,n)}},Jy=class t extends df{condition;trueCase;falseCase;constructor(e,n,r=[],i,s){super(ls.None,i,s),this.condition=e,this.trueCase=n,this.falseCase=r}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&Ho(this.trueCase,e.trueCase)&&Ho(this.falseCase,e.falseCase)}visitStatement(e,n){return e.visitIfStmt(this,n)}};function Q$(t=[]){return new Zy(t)}function On(t,e,n){return new Ba(t,e,n)}function Lt(t,e=null,n){return new af(t,null,e,n)}function cs(t,e,n){return new ha(t,e,n)}function L0(t){return new Kh(t)}function gr(t,e,n){return new Dl(t,e,n)}function pa(t,e=null){return new Ua(t.map(n=>new Jh(n.key,n.value,n.quoted)),e,null)}function eq(t,e){return new Hg(t,e)}function Nc(t,e,n,r,i){return new Dc(t,e,n,r,i)}function kl(t,e,n,r){return new lf(t,e,n,r)}function e2(t,e,n,r,i){return new Jy(t,e,n,r,i)}function tq(t,e,n,r){return new Vg(t,e,n,r)}function Me(t,e,n){return new ds(t,e,n)}function nq(t,e,n,r,i){return new Ky(t,e,n,r,i)}function n8(t){let e="";if(t.tagName&&(e+=` @${t.tagName}`),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}function rq(t){if(t.length===0)return"";if(t.length===1&&t[0].tagName&&!t[0].text)return`*${n8(t[0])} `;let e=`*
`;for(let n of t)e+=" *",e+=n8(n).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var iq="_c",sq={},oq=50,Qy=class t extends fr{resolved;original;shared=!1;constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,n){return n===sq?this.original.visitExpression(e,n):this.resolved.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},eb=class{isClosureCompilerEnabled;statements=[];literals=new Map;literalFactories=new Map;sharedConstants=new Map;_claimedNames=new Map;nextNameIndex=0;constructor(e=!1){this.isClosureCompilerEnabled=e}getConstLiteral(e,n){if(e instanceof ds&&!r8(e)||e instanceof Qy)return e;let r=qg.INSTANCE.keyOf(e),i=this.literals.get(r),s=!1;if(i||(i=new Qy(e),this.literals.set(r,i),s=!0),!s&&!i.shared||s&&n){let o=this.freshName(),a,l;this.isClosureCompilerEnabled&&r8(e)?(a=new Dc([],[new us(e)]),l=On(o).callFn([])):(a=e,l=On(o)),this.statements.push(new Ui(o,a,Oa,ls.Final)),i.fixup(l)}return i}getSharedConstant(e,n){let r=e.keyOf(n);if(!this.sharedConstants.has(r)){let i=this.freshName();this.sharedConstants.set(r,On(i)),this.statements.push(e.toSharedConstantDeclaration(i,n))}return this.sharedConstants.get(r)}getSharedFunctionReference(e,n,r=!0){let i=e instanceof lf;for(let o of this.statements)if(i&&o instanceof Ui&&o.value?.isEquivalent(e)||!i&&o instanceof $g&&e instanceof Dc&&e.isEquivalent(o))return On(o.name);let s=r?this.uniqueName(n):n;return this.statements.push(e instanceof Dc?e.toDeclStmt(s,ls.Final):new Ui(s,e,Oa,ls.Final,e.sourceSpan)),On(s)}uniqueName(e,n=!0){let r=this._claimedNames.get(e)??0,i=r===0&&!n?`${e}`:`${e}${r}`;return this._claimedNames.set(e,r+1),i}freshName(){return this.uniqueName(iq)}},qg=class t{static INSTANCE=new t;keyOf(e){if(e instanceof ds&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof ds)return String(e.value);if(e instanceof Zh)return`/${e.body}/${e.flags??""}`;if(e instanceof Dl){let n=[];for(let r of e.entries)n.push(this.keyOf(r));return`[${n.join(",")}]`}else if(e instanceof Ua){let n=[];for(let r of e.entries)if(r instanceof kc)n.push("..."+this.keyOf(r.expression));else{let i=r.key;r.quoted&&(i=`"${i}"`),n.push(i+":"+this.keyOf(r.value))}return`{${n.join(",")}}`}else{if(e instanceof af)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof Ba)return`read(${e.name})`;if(e instanceof Kh)return`typeof(${this.keyOf(e.expr)})`;if(e instanceof cf)return`...${this.keyOf(e.expression)}`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function r8(t){return t instanceof ds&&typeof t.value=="string"&&t.value.length>=oq}var Ae="@angular/core",be=(()=>{class t{static core={name:null,moduleName:Ae};static namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:Ae};static namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:Ae};static namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:Ae};static element={name:"\u0275\u0275element",moduleName:Ae};static elementStart={name:"\u0275\u0275elementStart",moduleName:Ae};static elementEnd={name:"\u0275\u0275elementEnd",moduleName:Ae};static domElement={name:"\u0275\u0275domElement",moduleName:Ae};static domElementStart={name:"\u0275\u0275domElementStart",moduleName:Ae};static domElementEnd={name:"\u0275\u0275domElementEnd",moduleName:Ae};static domElementContainer={name:"\u0275\u0275domElementContainer",moduleName:Ae};static domElementContainerStart={name:"\u0275\u0275domElementContainerStart",moduleName:Ae};static domElementContainerEnd={name:"\u0275\u0275domElementContainerEnd",moduleName:Ae};static domTemplate={name:"\u0275\u0275domTemplate",moduleName:Ae};static domListener={name:"\u0275\u0275domListener",moduleName:Ae};static advance={name:"\u0275\u0275advance",moduleName:Ae};static syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:Ae};static syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:Ae};static attribute={name:"\u0275\u0275attribute",moduleName:Ae};static classProp={name:"\u0275\u0275classProp",moduleName:Ae};static elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:Ae};static elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:Ae};static elementContainer={name:"\u0275\u0275elementContainer",moduleName:Ae};static styleMap={name:"\u0275\u0275styleMap",moduleName:Ae};static classMap={name:"\u0275\u0275classMap",moduleName:Ae};static styleProp={name:"\u0275\u0275styleProp",moduleName:Ae};static interpolate={name:"\u0275\u0275interpolate",moduleName:Ae};static interpolate1={name:"\u0275\u0275interpolate1",moduleName:Ae};static interpolate2={name:"\u0275\u0275interpolate2",moduleName:Ae};static interpolate3={name:"\u0275\u0275interpolate3",moduleName:Ae};static interpolate4={name:"\u0275\u0275interpolate4",moduleName:Ae};static interpolate5={name:"\u0275\u0275interpolate5",moduleName:Ae};static interpolate6={name:"\u0275\u0275interpolate6",moduleName:Ae};static interpolate7={name:"\u0275\u0275interpolate7",moduleName:Ae};static interpolate8={name:"\u0275\u0275interpolate8",moduleName:Ae};static interpolateV={name:"\u0275\u0275interpolateV",moduleName:Ae};static nextContext={name:"\u0275\u0275nextContext",moduleName:Ae};static resetView={name:"\u0275\u0275resetView",moduleName:Ae};static templateCreate={name:"\u0275\u0275template",moduleName:Ae};static defer={name:"\u0275\u0275defer",moduleName:Ae};static deferWhen={name:"\u0275\u0275deferWhen",moduleName:Ae};static deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:Ae};static deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:Ae};static deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:Ae};static deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:Ae};static deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:Ae};static deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:Ae};static deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:Ae};static deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:Ae};static deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:Ae};static deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:Ae};static deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:Ae};static deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:Ae};static deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:Ae};static deferHydrateWhen={name:"\u0275\u0275deferHydrateWhen",moduleName:Ae};static deferHydrateNever={name:"\u0275\u0275deferHydrateNever",moduleName:Ae};static deferHydrateOnIdle={name:"\u0275\u0275deferHydrateOnIdle",moduleName:Ae};static deferHydrateOnImmediate={name:"\u0275\u0275deferHydrateOnImmediate",moduleName:Ae};static deferHydrateOnTimer={name:"\u0275\u0275deferHydrateOnTimer",moduleName:Ae};static deferHydrateOnHover={name:"\u0275\u0275deferHydrateOnHover",moduleName:Ae};static deferHydrateOnInteraction={name:"\u0275\u0275deferHydrateOnInteraction",moduleName:Ae};static deferHydrateOnViewport={name:"\u0275\u0275deferHydrateOnViewport",moduleName:Ae};static deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:Ae};static conditionalCreate={name:"\u0275\u0275conditionalCreate",moduleName:Ae};static conditionalBranchCreate={name:"\u0275\u0275conditionalBranchCreate",moduleName:Ae};static conditional={name:"\u0275\u0275conditional",moduleName:Ae};static repeater={name:"\u0275\u0275repeater",moduleName:Ae};static repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:Ae};static repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:Ae};static repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:Ae};static componentInstance={name:"\u0275\u0275componentInstance",moduleName:Ae};static text={name:"\u0275\u0275text",moduleName:Ae};static enableBindings={name:"\u0275\u0275enableBindings",moduleName:Ae};static disableBindings={name:"\u0275\u0275disableBindings",moduleName:Ae};static getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:Ae};static textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:Ae};static textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:Ae};static textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:Ae};static textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:Ae};static textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:Ae};static textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:Ae};static textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:Ae};static textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:Ae};static textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:Ae};static textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:Ae};static restoreView={name:"\u0275\u0275restoreView",moduleName:Ae};static pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:Ae};static pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:Ae};static pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:Ae};static pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:Ae};static pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:Ae};static pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:Ae};static pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:Ae};static pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:Ae};static pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:Ae};static pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:Ae};static pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:Ae};static pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:Ae};static pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:Ae};static pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:Ae};static pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:Ae};static domProperty={name:"\u0275\u0275domProperty",moduleName:Ae};static ariaProperty={name:"\u0275\u0275ariaProperty",moduleName:Ae};static property={name:"\u0275\u0275property",moduleName:Ae};static control={name:"\u0275\u0275control",moduleName:Ae};static controlCreate={name:"\u0275\u0275controlCreate",moduleName:Ae};static animationEnterListener={name:"\u0275\u0275animateEnterListener",moduleName:Ae};static animationLeaveListener={name:"\u0275\u0275animateLeaveListener",moduleName:Ae};static animationEnter={name:"\u0275\u0275animateEnter",moduleName:Ae};static animationLeave={name:"\u0275\u0275animateLeave",moduleName:Ae};static i18n={name:"\u0275\u0275i18n",moduleName:Ae};static i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:Ae};static i18nExp={name:"\u0275\u0275i18nExp",moduleName:Ae};static i18nStart={name:"\u0275\u0275i18nStart",moduleName:Ae};static i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:Ae};static i18nApply={name:"\u0275\u0275i18nApply",moduleName:Ae};static i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:Ae};static pipe={name:"\u0275\u0275pipe",moduleName:Ae};static projection={name:"\u0275\u0275projection",moduleName:Ae};static projectionDef={name:"\u0275\u0275projectionDef",moduleName:Ae};static reference={name:"\u0275\u0275reference",moduleName:Ae};static inject={name:"\u0275\u0275inject",moduleName:Ae};static injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:Ae};static directiveInject={name:"\u0275\u0275directiveInject",moduleName:Ae};static invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:Ae};static invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:Ae};static templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:Ae};static forwardRef={name:"forwardRef",moduleName:Ae};static resolveForwardRef={name:"resolveForwardRef",moduleName:Ae};static replaceMetadata={name:"\u0275\u0275replaceMetadata",moduleName:Ae};static getReplaceMetadataURL={name:"\u0275\u0275getReplaceMetadataURL",moduleName:Ae};static \u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:Ae};static declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:Ae};static InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:Ae};static resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:Ae};static resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:Ae};static resolveBody={name:"\u0275\u0275resolveBody",moduleName:Ae};static getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:Ae};static defineComponent={name:"\u0275\u0275defineComponent",moduleName:Ae};static declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:Ae};static setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:Ae};static ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:Ae};static ViewEncapsulation={name:"ViewEncapsulation",moduleName:Ae};static ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:Ae};static FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:Ae};static declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:Ae};static FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:Ae};static defineDirective={name:"\u0275\u0275defineDirective",moduleName:Ae};static declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:Ae};static DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:Ae};static InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:Ae};static InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:Ae};static defineInjector={name:"\u0275\u0275defineInjector",moduleName:Ae};static declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:Ae};static NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:Ae};static ModuleWithProviders={name:"ModuleWithProviders",moduleName:Ae};static defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:Ae};static declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:Ae};static setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:Ae};static registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:Ae};static PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:Ae};static definePipe={name:"\u0275\u0275definePipe",moduleName:Ae};static declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:Ae};static declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:Ae};static declareClassMetadataAsync={name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:Ae};static setClassMetadata={name:"\u0275setClassMetadata",moduleName:Ae};static setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:Ae};static setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:Ae};static queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:Ae};static viewQuery={name:"\u0275\u0275viewQuery",moduleName:Ae};static loadQuery={name:"\u0275\u0275loadQuery",moduleName:Ae};static contentQuery={name:"\u0275\u0275contentQuery",moduleName:Ae};static viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:Ae};static contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:Ae};static queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:Ae};static twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:Ae};static twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:Ae};static twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:Ae};static declareLet={name:"\u0275\u0275declareLet",moduleName:Ae};static storeLet={name:"\u0275\u0275storeLet",moduleName:Ae};static readContextLet={name:"\u0275\u0275readContextLet",moduleName:Ae};static attachSourceLocations={name:"\u0275\u0275attachSourceLocations",moduleName:Ae};static NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:Ae};static InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:Ae};static ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:Ae};static HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:Ae};static ExternalStylesFeature={name:"\u0275\u0275ExternalStylesFeature",moduleName:Ae};static listener={name:"\u0275\u0275listener",moduleName:Ae};static getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:Ae};static sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:Ae};static sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:Ae};static validateAttribute={name:"\u0275\u0275validateAttribute",moduleName:Ae};static sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:Ae};static sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:Ae};static sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:Ae};static sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:Ae};static trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:Ae};static trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:Ae};static inputDecorator={name:"Input",moduleName:Ae};static outputDecorator={name:"Output",moduleName:Ae};static viewChildDecorator={name:"ViewChild",moduleName:Ae};static viewChildrenDecorator={name:"ViewChildren",moduleName:Ae};static contentChildDecorator={name:"ContentChild",moduleName:Ae};static contentChildrenDecorator={name:"ContentChildren",moduleName:Ae};static InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:Ae};static UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:Ae};static unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:Ae};static assertType={name:"\u0275assertType",moduleName:Ae}}return t})(),aq=/-+([a-z0-9])/g;function lq(t){return t.replace(aq,(...e)=>e[1].toUpperCase())}function uq(t,e){return HN(t,":",e)}function cq(t,e){return HN(t,".",e)}function HN(t,e,n){let r=t.indexOf(e);return r==-1?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function dq(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319&&t.length>n+1){let i=t.charCodeAt(n+1);i>=56320&&i<=57343&&(n++,r=(r-55296<<10)+i-56320+65536)}r<=127?e.push(r):r<=2047?e.push(r>>6&31|192,r&63|128):r<=65535?e.push(r>>12|224,r>>6&63|128,r&63|128):r<=2097151&&e.push(r>>18&7|240,r>>12&63|128,r>>6&63|128,r&63|128)}return e}function $N(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map($N).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;if(!t.toString)return"object";let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}var IS=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Mg=globalThis,fq=/^([1-9]|1[0-8])\./;function qN(t){return t.startsWith("0.")?!0:!fq.test(t)}var hq=3,pq="# sourceMappingURL=data:application/json;base64,",DS=class{file;sourcesContent=new Map;lines=[];lastCol0=0;hasMappings=!1;constructor(e=null){this.file=e}addSource(e,n=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,n),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,n,r,i){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(n!=null&&!this.sourcesContent.has(n))throw new Error(`Unknown source file "${n}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(n&&(r==null||i==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:n,sourceLine0:r,sourceCol0:i}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach((u,c)=>{e.set(u,c),n.push(u),r.push(this.sourcesContent.get(u)||null)});let i="",s=0,o=0,a=0,l=0;return this.lines.forEach(u=>{s=0,i+=u.map(c=>{let d=Ey(c.col0-s);return s=c.col0,c.sourceUrl!=null&&(d+=Ey(e.get(c.sourceUrl)-o),o=e.get(c.sourceUrl),d+=Ey(c.sourceLine0-a),a=c.sourceLine0,d+=Ey(c.sourceCol0-l),l=c.sourceCol0),d}).join(","),i+=";"}),i=i.slice(0,-1),{file:this.file||"",version:hq,sourceRoot:"",sources:n,sourcesContent:r,mappings:i}}toJsComment(){return this.hasMappings?"//"+pq+mq(JSON.stringify(this,null,0)):""}};function mq(t){let e="",n=dq(t);for(let r=0;r<n.length;){let i=n[r++],s=r<n.length?n[r++]:null,o=r<n.length?n[r++]:null;e+=Ig(i>>2),e+=Ig((i&3)<<4|(s===null?0:s>>4)),e+=s===null?"=":Ig((s&15)<<2|(o===null?0:o>>6)),e+=s===null||o===null?"=":Ig(o&63)}return e}function Ey(t){t=t<0?(-t<<1)+1:t<<1;let e="";do{let n=t&31;t=t>>5,t>0&&(n=n|32),e+=Ig(n)}while(t>0);return e}var gq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Ig(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return gq[t]}var vq=/'|\\|\n|\r|\$/g,yq=/^[$A-Z_][0-9A-Z_$]*$/i,kS="  ",tb=class{indent;partsLength=0;parts=[];srcSpans=[];constructor(e){this.indent=e}},bq=new Map([[st.And,"&&"],[st.Bigger,">"],[st.BiggerEquals,">="],[st.BitwiseOr,"|"],[st.BitwiseAnd,"&"],[st.Divide,"/"],[st.Assign,"="],[st.Equals,"=="],[st.Identical,"==="],[st.Lower,"<"],[st.LowerEquals,"<="],[st.Minus,"-"],[st.Modulo,"%"],[st.Exponentiation,"**"],[st.Multiply,"*"],[st.NotEquals,"!="],[st.NotIdentical,"!=="],[st.NullishCoalesce,"??"],[st.Or,"||"],[st.Plus,"+"],[st.In,"in"],[st.AdditionAssignment,"+="],[st.SubtractionAssignment,"-="],[st.MultiplicationAssignment,"*="],[st.DivisionAssignment,"/="],[st.RemainderAssignment,"%="],[st.ExponentiationAssignment,"**="],[st.AndAssignment,"&&="],[st.OrAssignment,"||="],[st.NullishCoalesceAssignment,"??="]]),NS=class t{_indent;static createRoot(){return new t(0)}_lines;constructor(e){this._indent=e,this._lines=[new tb(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,n=""){this.print(e||null,n,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*kS.length+this._currentLine.partsLength}print(e,n,r=!1){n.length>0&&(this._currentLine.parts.push(n),this._currentLine.partsLength+=n.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),r&&this._lines.push(new tb(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?i8(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,n=0){let r=new DS(e),i=!1,s=()=>{i||(r.addSource(e," ").addMapping(0,e,0,0),i=!0)};for(let o=0;o<n;o++)r.addLine(),s();return this.sourceLines.forEach((o,a)=>{r.addLine();let l=o.srcSpans,u=o.parts,c=o.indent*kS.length,d=0;for(;d<l.length&&!l[d];)c+=u[d].length,d++;for(d<l.length&&a===0&&c===0?i=!0:s();d<l.length;){let f=l[d],h=f.start.file,p=f.start.line,m=f.start.col;for(r.addSource(h.url,h.content).addMapping(c,h.url,p,m),c+=u[d].length,d++;d<l.length&&(f===l[d]||!l[d]);)c+=u[d].length,d++}}),r}spanOf(e,n){let r=this._lines[e];if(r){let i=n-i8(r.indent).length;for(let s=0;s<r.parts.length;s++){let o=r.parts[s];if(o.length>i)return r.srcSpans[s];i-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},MS=class{_escapeDollarInStrings;lastIfCondition=null;constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,n){if(e.leadingComments!==void 0)for(let r of e.leadingComments)r instanceof Zy?n.print(e,`/*${r.toString()}*/`,r.trailingNewline):r.multiline?n.print(e,`/* ${r.text} */`,r.trailingNewline):r.text.split(`
`).forEach(i=>{n.println(e,`// ${i}`)})}visitExpressionStmt(e,n){return this.printLeadingComments(e,n),e.expr.visitExpression(this,n),n.println(e,";"),null}visitReturnStmt(e,n){return this.printLeadingComments(e,n),n.print(e,"return "),e.value.visitExpression(this,n),n.println(e,";"),null}visitIfStmt(e,n){this.printLeadingComments(e,n),n.print(e,"if ("),this.lastIfCondition=e.condition,e.condition.visitExpression(this,n),this.lastIfCondition=null,n.print(e,") {");let r=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!r?(n.print(e," "),this.visitAllStatements(e.trueCase,n),n.removeEmptyLastLine(),n.print(e," ")):(n.println(),n.incIndent(),this.visitAllStatements(e.trueCase,n),n.decIndent(),r&&(n.println(e,"} else {"),n.incIndent(),this.visitAllStatements(e.falseCase,n),n.decIndent())),n.println(e,"}"),null}visitInvokeFunctionExpr(e,n){let r=e.fn instanceof lf;return r&&n.print(e.fn,"("),e.fn.visitExpression(this,n),r&&n.print(e.fn,")"),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,n){return e.tag.visitExpression(this,n),e.template.visitExpression(this,n),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&(n.print(i,"${"),i.visitExpression(this,n),n.print(i,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){n.print(e,e.rawText)}visitWrappedNodeExpr(e,n){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,n){n.print(e,"typeof "),e.expr.visitExpression(this,n)}visitVoidExpr(e,n){n.print(e,"void "),e.expr.visitExpression(this,n)}visitReadVarExpr(e,n){return n.print(e,e.name),null}visitInstantiateExpr(e,n){return n.print(e,"new "),e.classExpr.visitExpression(this,n),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitLiteralExpr(e,n){let r=e.value;return typeof r=="string"?n.print(e,Yd(r,this._escapeDollarInStrings)):n.print(e,`${r}`),null}visitRegularExpressionLiteral(e,n){return n.print(e,`/${e.body}/${e.flags||""}`),null}visitLocalizedString(e,n){let r=e.serializeI18nHead();n.print(e,"$localize `"+r.raw);for(let i=1;i<e.messageParts.length;i++)n.print(e,"${"),e.expressions[i-1].visitExpression(this,n),n.print(e,`}${e.serializeI18nTemplatePart(i).raw}`);return n.print(e,"`"),null}visitConditionalExpr(e,n){return n.print(e,"("),e.condition.visitExpression(this,n),n.print(e,"? "),e.trueCase.visitExpression(this,n),n.print(e,": "),e.falseCase.visitExpression(this,n),n.print(e,")"),null}visitDynamicImportExpr(e,n){n.print(e,`import(${e.url})`)}visitNotExpr(e,n){return n.print(e,"!"),e.condition.visitExpression(this,n),null}visitUnaryOperatorExpr(e,n){let r;switch(e.operator){case Bg.Plus:r="+";break;case Bg.Minus:r="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}let i=e!==this.lastIfCondition;return i&&n.print(e,"("),n.print(e,r),e.expr.visitExpression(this,n),i&&n.print(e,")"),null}visitBinaryOperatorExpr(e,n){let r=bq.get(e.operator);if(!r)throw new Error(`Unknown operator ${e.operator}`);let i=e!==this.lastIfCondition;return i&&n.print(e,"("),e.lhs.visitExpression(this,n),n.print(e,` ${r} `),e.rhs.visitExpression(this,n),i&&n.print(e,")"),null}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"."),n.print(e,e.name),null}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"]"),null}visitLiteralArrayExpr(e,n){return n.print(e,"["),this.visitAllExpressions(e.entries,n,","),n.print(e,"]"),null}visitLiteralMapExpr(e,n){return n.print(e,"{"),this.visitAllObjects(r=>{r instanceof kc?(n.print(e,"..."),r.expression.visitExpression(this,n)):(n.print(e,`${Yd(r.key,this._escapeDollarInStrings,r.quoted)}:`),r.value.visitExpression(this,n))},e.entries,n,","),n.print(e,"}"),null}visitCommaExpr(e,n){return n.print(e,"("),this.visitAllExpressions(e.parts,n,","),n.print(e,")"),null}visitParenthesizedExpr(e,n){e.expr.visitExpression(this,n)}visitSpreadElementExpr(e,n){n.print(e,"..."),e.expression.visitExpression(this,n)}visitAllExpressions(e,n,r){this.visitAllObjects(i=>i.visitExpression(this,n),e,n,r)}visitAllObjects(e,n,r,i){let s=!1;for(let o=0;o<n.length;o++)o>0&&(r.lineLength()>80?(r.print(null,i,!0),s||(r.incIndent(),r.incIndent(),s=!0)):r.print(null,i,!1)),e(n[o]);s&&(r.decIndent(),r.decIndent())}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function Yd(t,e,n=!0){if(t==null)return null;let r=t.replace(vq,(...s)=>s[0]=="$"?e?"\\$":"$":s[0]==`
`?"\\n":s[0]=="\r"?"\\r":`\\${s[0]}`);return n||!yq.test(r)?`'${r}'`:r}function i8(t){let e="";for(let n=0;n<t;n++)e+=kS;return e}function t2(t,e){if(e===0)return cs(t);let n=[];for(let r=0;r<e;r++)n.push(Qb);return cs(t,void 0,n)}function wq(t,e){let n=Yd(e,!1,!1);return n!==e?`${t}[${n}]`:`${t}.${e}`}function _q(t){return xq("ngJitMode",t)}function xq(t,e){let n=new af({name:t,moduleName:null}),r=new Hn(st.Identical,new Kh(n),Me("undefined")),i=new Hn(st.Or,r,n,void 0,void 0);return new Hn(st.And,i,e)}function Bi(t){let e=new Pn(t);return{value:e,type:e}}function Xd(t,e){let n=gr(t.map(r=>r.value));return e?kl([],n):n}function t5(t,e){return{expression:t,forwardRef:e}}function Eq({expression:t,forwardRef:e}){switch(e){case 0:case 1:return t;case 2:return Sq(t)}}function Sq(t){return Lt(be.forwardRef).callFn([kl([],t)])}var nb=(function(t){return t[t.Class=0]="Class",t[t.Function=1]="Function",t})(nb||{});function zd(t){let e=On("__ngFactoryType__"),n=null,r=o8(t)?e:new Hn(st.Or,e,t.type.value),i=null;t.deps!==null?t.deps!=="invalid"&&(i=new Ug(r,s8(t.deps,t.target))):(n=On(`\u0275${t.name}_BaseFactory`),i=n.callFn([r]));let s=[],o=null;function a(u){let c=On("__ngConditionalFactory__");s.push(new Ui(c.name,Qh,Oa));let d=i!==null?c.set(i).toStmt():Lt(be.invalidFactory).callFn([]).toStmt();return s.push(e2(e,[d],[c.set(u).toStmt()])),c}if(o8(t)){let u=s8(t.delegateDeps,t.target),c=new(t.delegateType===nb.Class?Ug:yo)(t.delegate,u);o=a(c)}else Dq(t)?o=a(t.expression):o=i;if(o===null)s.push(Lt(be.invalidFactory).callFn([]).toStmt());else if(n!==null){let u=Lt(be.getInheritedFactory).callFn([t.type.value]),c=new Hn(st.Or,n,n.set(u));s.push(new us(c.callFn([r])))}else s.push(new us(o));let l=Nc([new as(e.name,Qb)],s,Oa,void 0,`${t.name}_Factory`);return n!==null&&(l=kl([],[new Ui(n.name),new us(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:Cq(t)}}function Cq(t){let e=t.deps!==null&&t.deps!=="invalid"?Tq(t.deps):Tl;return cs(Lt(be.FactoryDeclaration,[t2(t.type.type,t.typeArgumentCount),e]))}function s8(t,e){return t.map((n,r)=>Aq(n,e,r))}function Aq(t,e,n){if(t.token===null)return Lt(be.invalidFactoryDep).callFn([Me(n)]);if(t.attributeNameType===null){let r=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0)|(e===xu.Pipe?16:0),i=r!==0||t.optional?Me(r):null,s=[t.token];i&&s.push(i);let o=kq(e);return Lt(o).callFn(s)}else return Lt(be.injectAttribute).callFn([t.token])}function Tq(t){let e=!1,n=t.map(r=>{let i=Iq(r);return i!==null?(e=!0,i):Me(null)});return e?cs(gr(n)):Tl}function Iq(t){let e=[];return t.attributeNameType!==null&&e.push({key:"attribute",value:t.attributeNameType,quoted:!1}),t.optional&&e.push({key:"optional",value:Me(!0),quoted:!1}),t.host&&e.push({key:"host",value:Me(!0),quoted:!1}),t.self&&e.push({key:"self",value:Me(!0),quoted:!1}),t.skipSelf&&e.push({key:"skipSelf",value:Me(!0),quoted:!1}),e.length>0?pa(e):null}function o8(t){return t.delegateType!==void 0}function Dq(t){return t.expression!==void 0}function kq(t){switch(t){case xu.Component:case xu.Directive:case xu.Pipe:return be.directiveInject;case xu.NgModule:case xu.Injectable:default:return be.inject}}var ff=class{start;end;constructor(e,n){this.start=e,this.end=n}toAbsolute(e){return new Vo(e+this.start,e+this.end)}},Nr=class{span;sourceSpan;constructor(e,n){this.span=e,this.sourceSpan=n}toString(){return"AST"}},zg=class extends Nr{nameSpan;constructor(e,n,r){super(e,n),this.nameSpan=r}},$s=class extends Nr{visit(e,n=null){}},Nl=class extends Nr{visit(e,n=null){return e.visitImplicitReceiver(this,n)}},Wg=class extends Nr{visit(e,n=null){return e.visitThisReceiver?.(this,n)}},ep=class extends Nr{expressions;constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitChain(this,n)}},rb=class extends Nr{condition;trueExp;falseExp;constructor(e,n,r,i,s){super(e,n),this.condition=r,this.trueExp=i,this.falseExp=s}visit(e,n=null){return e.visitConditional(this,n)}},Sl=class extends zg{receiver;name;constructor(e,n,r,i,s){super(e,n,r),this.receiver=i,this.name=s}visit(e,n=null){return e.visitPropertyRead(this,n)}},Gg=class extends zg{receiver;name;constructor(e,n,r,i,s){super(e,n,r),this.receiver=i,this.name=s}visit(e,n=null){return e.visitSafePropertyRead(this,n)}},hf=class extends Nr{receiver;key;constructor(e,n,r,i){super(e,n),this.receiver=r,this.key=i}visit(e,n=null){return e.visitKeyedRead(this,n)}},Yg=class extends Nr{receiver;key;constructor(e,n,r,i){super(e,n),this.receiver=r,this.key=i}visit(e,n=null){return e.visitSafeKeyedRead(this,n)}},By=(function(t){return t[t.ReferencedByName=0]="ReferencedByName",t[t.ReferencedDirectly=1]="ReferencedDirectly",t})(By||{}),ib=class extends zg{exp;name;args;type;constructor(e,n,r,i,s,o,a){super(e,n,a),this.exp=r,this.name=i,this.args=s,this.type=o}visit(e,n=null){return e.visitPipe(this,n)}},po=class extends Nr{value;constructor(e,n,r){super(e,n),this.value=r}visit(e,n=null){return e.visitLiteralPrimitive(this,n)}},Xg=class extends Nr{expressions;constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitLiteralArray(this,n)}},sb=class extends Nr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitSpreadElement(this,n)}},pf=class extends Nr{keys;values;constructor(e,n,r,i){super(e,n),this.keys=r,this.values=i}visit(e,n=null){return e.visitLiteralMap(this,n)}},F0=class extends Nr{strings;expressions;constructor(e,n,r,i){super(e,n),this.strings=r,this.expressions=i}visit(e,n=null){return e.visitInterpolation(this,n)}},qs=class extends Nr{operation;left;right;constructor(e,n,r,i,s){super(e,n),this.operation=r,this.left=i,this.right=s}visit(e,n=null){return e.visitBinary(this,n)}static isAssignmentOperation(e){return e==="="||e==="+="||e==="-="||e==="*="||e==="/="||e==="%="||e==="**="||e==="&&="||e==="||="||e==="??="}},Gh=class t extends qs{operator;expr;left=null;right=null;operation=null;static createMinus(e,n,r){return new t(e,n,"-",r,"-",new po(e,n,0),r)}static createPlus(e,n,r){return new t(e,n,"+",r,"-",r,new po(e,n,0))}constructor(e,n,r,i,s,o,a){super(e,n,s,o,a),this.operator=r,this.expr=i}visit(e,n=null){return e.visitUnary!==void 0?e.visitUnary(this,n):e.visitBinary(this,n)}},Kg=class extends Nr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitPrefixNot(this,n)}},Zg=class extends Nr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitTypeofExpression(this,n)}},Jg=class extends Nr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitVoidExpression(this,n)}},Qg=class extends Nr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitNonNullAssert(this,n)}},tp=class extends Nr{receiver;args;argumentSpan;constructor(e,n,r,i,s){super(e,n),this.receiver=r,this.args=i,this.argumentSpan=s}visit(e,n=null){return e.visitCall(this,n)}},ob=class extends Nr{receiver;args;argumentSpan;constructor(e,n,r,i,s){super(e,n),this.receiver=r,this.args=i,this.argumentSpan=s}visit(e,n=null){return e.visitSafeCall(this,n)}},e0=class extends Nr{tag;template;constructor(e,n,r,i){super(e,n),this.tag=r,this.template=i}visit(e,n){return e.visitTaggedTemplateLiteral(this,n)}},t0=class extends Nr{elements;expressions;constructor(e,n,r,i){super(e,n),this.elements=r,this.expressions=i}visit(e,n){return e.visitTemplateLiteral(this,n)}},ab=class extends Nr{text;constructor(e,n,r){super(e,n),this.text=r}visit(e,n){return e.visitTemplateLiteralElement(this,n)}},n0=class extends Nr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n){return e.visitParenthesizedExpression(this,n)}},lb=class extends Nr{body;flags;constructor(e,n,r,i){super(e,n),this.body=r,this.flags=i}visit(e,n){return e.visitRegularExpressionLiteral(this,n)}},Vo=class{start;end;constructor(e,n){this.start=e,this.end=n}},mo=class extends Nr{ast;source;location;errors;constructor(e,n,r,i,s){super(new ff(0,n===null?0:n.length),new Vo(i,n===null?i:i+n.length)),this.ast=e,this.source=n,this.location=r,this.errors=s}visit(e,n=null){return e.visitASTWithSource?e.visitASTWithSource(this,n):this.ast.visit(e,n)}toString(){return`${this.source} in ${this.location}`}},r0=class{sourceSpan;key;value;constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},RS=class{sourceSpan;key;value;constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},np=class{visit(e,n){e.visit(this,n)}visitUnary(e,n){this.visit(e.expr,n)}visitBinary(e,n){this.visit(e.left,n),this.visit(e.right,n)}visitChain(e,n){this.visitAll(e.expressions,n)}visitConditional(e,n){this.visit(e.condition,n),this.visit(e.trueExp,n),this.visit(e.falseExp,n)}visitPipe(e,n){this.visit(e.exp,n),this.visitAll(e.args,n)}visitImplicitReceiver(e,n){}visitThisReceiver(e,n){}visitInterpolation(e,n){this.visitAll(e.expressions,n)}visitKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitLiteralArray(e,n){this.visitAll(e.expressions,n)}visitLiteralMap(e,n){this.visitAll(e.values,n)}visitLiteralPrimitive(e,n){}visitPrefixNot(e,n){this.visit(e.expression,n)}visitTypeofExpression(e,n){this.visit(e.expression,n)}visitVoidExpression(e,n){this.visit(e.expression,n)}visitNonNullAssert(e,n){this.visit(e.expression,n)}visitPropertyRead(e,n){this.visit(e.receiver,n)}visitSafePropertyRead(e,n){this.visit(e.receiver,n)}visitSafeKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitSafeCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitTemplateLiteral(e,n){for(let r=0;r<e.elements.length;r++){this.visit(e.elements[r],n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&this.visit(i,n)}}visitTemplateLiteralElement(e,n){}visitTaggedTemplateLiteral(e,n){this.visit(e.tag,n),this.visit(e.template,n)}visitParenthesizedExpression(e,n){this.visit(e.expression,n)}visitRegularExpressionLiteral(e,n){}visitSpreadElement(e,n){this.visit(e.expression,n)}visitAll(e,n){for(let r of e)this.visit(r,n)}},jh=class{name;expression;type;sourceSpan;keySpan;valueSpan;isLiteral;isLegacyAnimation;isAnimation;constructor(e,n,r,i,s,o){this.name=e,this.expression=n,this.type=r,this.sourceSpan=i,this.keySpan=s,this.valueSpan=o,this.isLiteral=this.type===wl.LITERAL_ATTR,this.isLegacyAnimation=this.type===wl.LEGACY_ANIMATION,this.isAnimation=this.type===wl.ANIMATION}},wl=(function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.LEGACY_ANIMATION=2]="LEGACY_ANIMATION",t[t.TWO_WAY=3]="TWO_WAY",t[t.ANIMATION=4]="ANIMATION",t})(wl||{}),Gs=(function(t){return t[t.Regular=0]="Regular",t[t.LegacyAnimation=1]="LegacyAnimation",t[t.TwoWay=2]="TwoWay",t[t.Animation=3]="Animation",t})(Gs||{}),ub=class{name;targetOrPhase;type;handler;sourceSpan;handlerSpan;keySpan;constructor(e,n,r,i,s,o,a){this.name=e,this.targetOrPhase=n,this.type=r,this.handler=i,this.sourceSpan=s,this.handlerSpan=o,this.keySpan=a}},PS=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s}},Gn=(function(t){return t[t.Property=0]="Property",t[t.Attribute=1]="Attribute",t[t.Class=2]="Class",t[t.Style=3]="Style",t[t.LegacyAnimation=4]="LegacyAnimation",t[t.TwoWay=5]="TwoWay",t[t.Animation=6]="Animation",t})(Gn||{}),cb=class{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s,o,a,l){this.name=e,this.type=n,this.securityContext=r,this.value=i,this.unit=s,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l}},_l=(function(t){return t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA",t})(_l||{});function ja(t,e=!0){if(t[0]!=":")return[null,t];let n=t.indexOf(":",1);if(n===-1){if(e)throw new Error(`Unsupported format "${t}" expecting ":namespace:name"`);return[null,t]}return[t.slice(1,n),t.slice(n+1)]}function a8(t){return ja(t)[1]==="ng-container"}function LS(t){return ja(t)[1]==="ng-content"}function Nq(t){return ja(t)[1]==="ng-template"}function FS(t){return t===null?null:ja(t)[0]}function Vy(t,e){return t?`:${t}:${e}`:e}var n2=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){throw new Error("visit() not implemented for Comment")}},Kd=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){return e.visitText(this)}},rp=class{value;sourceSpan;i18n;constructor(e,n,r){this.value=e,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitBoundText(this)}},ip=class{name;value;sourceSpan;keySpan;valueSpan;i18n;constructor(e,n,r,i,s,o){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},OS=class t{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;i18n;constructor(e,n,r,i,s,o,a,l,u){this.name=e,this.type=n,this.securityContext=r,this.value=i,this.unit=s,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l,this.i18n=u}static fromBoundElementProperty(e,n){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,n)}visit(e){return e.visitBoundAttribute(this)}},BS=class t{name;type;handler;target;phase;sourceSpan;handlerSpan;keySpan;constructor(e,n,r,i,s,o,a,l){this.name=e,this.type=n,this.handler=r,this.target=i,this.phase=s,this.sourceSpan=o,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let n=e.type===Gs.Regular?e.targetOrPhase:null,r=e.type===Gs.LegacyAnimation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.handler,n,r,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},Ml=class{name;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;isVoid;i18n;constructor(e,n,r,i,s,o,a,l,u,c,d,f,h){this.name=e,this.attributes=n,this.inputs=r,this.outputs=i,this.directives=s,this.children=o,this.references=a,this.isSelfClosing=l,this.sourceSpan=u,this.startSourceSpan=c,this.endSourceSpan=d,this.isVoid=f,this.i18n=h}visit(e){return e.visitElement(this)}},Rl=class{nameSpan;sourceSpan;prefetchSpan;whenOrOnSourceSpan;hydrateSpan;constructor(e,n,r,i,s){this.nameSpan=e,this.sourceSpan=n,this.prefetchSpan=r,this.whenOrOnSourceSpan=i,this.hydrateSpan=s}visit(e){return e.visitDeferredTrigger(this)}},db=class extends Rl{value;constructor(e,n,r,i,s){super(null,n,r,i,s),this.value=e}},VS=class extends Rl{},US=class extends Rl{},jS=class extends Rl{},fb=class extends Rl{reference;constructor(e,n,r,i,s,o){super(n,r,i,s,o),this.reference=e}},HS=class extends Rl{delay;constructor(e,n,r,i,s,o){super(n,r,i,s,o),this.delay=e}},hb=class extends Rl{reference;constructor(e,n,r,i,s,o){super(n,r,i,s,o),this.reference=e}},i0=class extends Rl{reference;options;constructor(e,n,r,i,s,o,a){super(r,i,s,o,a),this.reference=e,this.options=n}},qo=class{nameSpan;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i){this.nameSpan=e,this.sourceSpan=n,this.startSourceSpan=r,this.endSourceSpan=i}},s0=class extends qo{children;minimumTime;i18n;constructor(e,n,r,i,s,o,a){super(r,i,s,o),this.children=e,this.minimumTime=n,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},o0=class extends qo{children;afterTime;minimumTime;i18n;constructor(e,n,r,i,s,o,a,l){super(i,s,o,a),this.children=e,this.afterTime=n,this.minimumTime=r,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},a0=class extends qo{children;i18n;constructor(e,n,r,i,s,o){super(n,r,i,s),this.children=e,this.i18n=o}visit(e){return e.visitDeferredBlockError(this)}},mf=class extends qo{children;placeholder;loading;error;mainBlockSpan;i18n;triggers;prefetchTriggers;hydrateTriggers;definedTriggers;definedPrefetchTriggers;definedHydrateTriggers;constructor(e,n,r,i,s,o,a,l,u,c,d,f,h){super(l,u,d,f),this.children=e,this.placeholder=s,this.loading=o,this.error=a,this.mainBlockSpan=c,this.i18n=h,this.triggers=n,this.prefetchTriggers=r,this.hydrateTriggers=i,this.definedTriggers=Object.keys(n),this.definedPrefetchTriggers=Object.keys(r),this.definedHydrateTriggers=Object.keys(i)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,e),this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),rS(e,this.children);let n=[this.placeholder,this.loading,this.error].filter(r=>r!==null);rS(e,n)}visitTriggers(e,n,r){rS(r,e.map(i=>n[i]))}},pb=class extends qo{expression;groups;unknownBlocks;constructor(e,n,r,i,s,o,a){super(a,i,s,o),this.expression=e,this.groups=n,this.unknownBlocks=r}visit(e){return e.visitSwitchBlock(this)}},$S=class extends qo{expression;constructor(e,n,r,i,s){super(s,n,r,i),this.expression=e}visit(e){return e.visitSwitchBlockCase(this)}},l0=class extends qo{cases;children;i18n;constructor(e,n,r,i,s,o,a){super(o,r,i,s),this.cases=e,this.children=n,this.i18n=a}visit(e){return e.visitSwitchBlockCaseGroup(this)}},sp=class extends qo{item;expression;trackBy;trackKeywordSpan;contextVariables;children;empty;mainBlockSpan;i18n;constructor(e,n,r,i,s,o,a,l,u,c,d,f,h){super(f,l,c,d),this.item=e,this.expression=n,this.trackBy=r,this.trackKeywordSpan=i,this.contextVariables=s,this.children=o,this.empty=a,this.mainBlockSpan=u,this.i18n=h}visit(e){return e.visitForLoopBlock(this)}},u0=class extends qo{children;i18n;constructor(e,n,r,i,s,o){super(s,n,r,i),this.children=e,this.i18n=o}visit(e){return e.visitForLoopBlockEmpty(this)}},mb=class extends qo{branches;constructor(e,n,r,i,s){super(s,n,r,i),this.branches=e}visit(e){return e.visitIfBlock(this)}},Qd=class extends qo{expression;children;expressionAlias;i18n;constructor(e,n,r,i,s,o,a,l){super(a,i,s,o),this.expression=e,this.children=n,this.expressionAlias=r,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},gb=class{name;sourceSpan;nameSpan;constructor(e,n,r){this.name=e,this.sourceSpan=n,this.nameSpan=r}visit(e){return e.visitUnknownBlock(this)}},n5=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=i,this.valueSpan=s}visit(e){return e.visitLetDeclaration(this)}},Rg=class{componentName;tagName;fullName;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,s,o,a,l,u,c,d,f,h,p){this.componentName=e,this.tagName=n,this.fullName=r,this.attributes=i,this.inputs=s,this.outputs=o,this.directives=a,this.children=l,this.references=u,this.isSelfClosing=c,this.sourceSpan=d,this.startSourceSpan=f,this.endSourceSpan=h,this.i18n=p}visit(e){return e.visitComponent(this)}},zN=class{name;attributes;inputs;outputs;references;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,s,o,a,l,u){this.name=e,this.attributes=n,this.inputs=r,this.outputs=i,this.references=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=u}visit(e){return e.visitDirective(this)}},jo=class{tagName;attributes;inputs;outputs;directives;templateAttrs;children;references;variables;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,s,o,a,l,u,c,d,f,h,p){this.tagName=e,this.attributes=n,this.inputs=r,this.outputs=i,this.directives=s,this.templateAttrs=o,this.children=a,this.references=l,this.variables=u,this.isSelfClosing=c,this.sourceSpan=d,this.startSourceSpan=f,this.endSourceSpan=h,this.i18n=p}visit(e){return e.visitTemplate(this)}},op=class{selector;attributes;children;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;name="ng-content";constructor(e,n,r,i,s,o,a,l){this.selector=e,this.attributes=n,this.children=r,this.isSelfClosing=i,this.sourceSpan=s,this.startSourceSpan=o,this.endSourceSpan=a,this.i18n=l}visit(e){return e.visitContent(this)}},Mc=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s}visit(e){return e.visitVariable(this)}},c0=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s}visit(e){return e.visitReference(this)}},WN=class{vars;placeholders;sourceSpan;i18n;constructor(e,n,r,i){this.vars=e,this.placeholders=n,this.sourceSpan=r,this.i18n=i}visit(e){return e.visitIcu(this)}},d0=class{tagNames;bindings;listeners;sourceSpan;constructor(e,n,r,i){if(this.tagNames=e,this.bindings=n,this.listeners=r,this.sourceSpan=i,e.length===0)throw new Error("HostElement must have at least one tag name.")}visit(){throw new Error("HostElement cannot be visited")}};function rS(t,e){let n=[];if(t.visit)for(let r of e)t.visit(r);else for(let r of e){let i=r.visit(t);i&&n.push(i)}return n}var Ys=class{nodes;placeholders;placeholderToMessage;meaning;description;customId;sources;id;legacyIds=[];messageString;constructor(e,n,r,i,s,o){this.nodes=e,this.placeholders=n,this.placeholderToMessage=r,this.meaning=i,this.description=s,this.customId=o,this.id=this.customId,this.messageString=Mq(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},_g=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitText(this,n)}},Cu=class{children;sourceSpan;constructor(e,n){this.children=e,this.sourceSpan=n}visit(e,n){return e.visitContainer(this,n)}},vb=class{expression;type;cases;sourceSpan;expressionPlaceholder;constructor(e,n,r,i,s){this.expression=e,this.type=n,this.cases=r,this.sourceSpan=i,this.expressionPlaceholder=s}visit(e,n){return e.visitIcu(this,n)}},Rc=class{tag;attrs;startName;closeName;children;isVoid;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a,l,u){this.tag=e,this.attrs=n,this.startName=r,this.closeName=i,this.children=s,this.isVoid=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=u}visit(e,n){return e.visitTagPlaceholder(this,n)}},f0=class{value;name;sourceSpan;constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitPlaceholder(this,n)}},ap=class{value;name;sourceSpan;previousMessage;constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitIcuPlaceholder(this,n)}},Pc=class{name;parameters;startName;closeName;children;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a,l){this.name=e,this.parameters=n,this.startName=r,this.closeName=i,this.children=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,n){return e.visitBlockPlaceholder(this,n)}};function Mq(t){let e=new qS;return t.map(r=>r.visit(e)).join("")}var qS=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}};var Rq=class{visitTag(e){let n=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${n}/>`;let r=e.children.map(i=>i.visit(this));return`<${e.name}${n}>${r.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let n=Object.keys(e).map(r=>`${r}="${e[r]}"`).join(" ");return n.length>0?" "+n:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},Wwe=new Rq;function Pq(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var GN="i18n",zS="i18n-",Lq="VAR_";function YN(t){return t===GN||t.startsWith(zS)}function Fq(t){return t.attrs.some(e=>YN(e.name))}function XN(t){return t.nodes[0]}function r5(t={},e){let n={};return t&&Object.keys(t).length&&Object.keys(t).forEach(r=>n[O0(r,e)]=t[r]),n}function O0(t,e=!0){let n=Pq(t);if(!e)return n;let r=n.split("_");if(r.length===1)return t.toLowerCase();let i;/^\d+$/.test(r[r.length-1])&&(i=r.pop());let s=r.shift().toLowerCase();return r.length&&(s+=r.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),i?`${s}_${i}`:s}var Oq=/[-.]/,i5="_t",h0="ctx",s5="rf";function KN(t,e){let n=null;return()=>(n||(t(new Ui(i5,void 0,Qb)),n=On(e)),n)}function Hh(t){return Array.isArray(t)?gr(t.map(Hh)):Me(t,Oa)}function l8(t,e){let n=Object.getOwnPropertyNames(t);return n.length===0?null:pa(n.map(r=>{let i=t[r],s,o,a,l;if(typeof i=="string")s=r,a=r,o=i,l=Hh(o);else{a=r,s=i.classPropertyName,o=i.bindingPropertyName;let u=o!==s,c=i.transformFunction!==null,d=Tg.None;if(i.isSignal&&(d|=Tg.SignalBased),c&&(d|=Tg.HasDecoratorInputTransform),e&&(u||c||d!==Tg.None)){let f=[Me(d),Hh(o)];(u||c)&&(f.push(Hh(s)),c&&f.push(i.transformFunction)),l=gr(f)}else l=Hh(o)}return{key:a,quoted:Oq.test(a),value:l}}))}var Lc=class{values=[];set(e,n){if(n){let r=this.values.find(i=>i.key===e);r?r.value=n:this.values.push({key:e,value:n,quoted:!1})}}toLiteralMap(){return pa(this.values)}};function Bq(t){let e=t instanceof Ml?t.name:"ng-template",n=Vq(t),r=new Xh,i=ja(e)[1];return r.setElement(i),Object.getOwnPropertyNames(n).forEach(s=>{let o=ja(s)[1],a=n[s];r.addAttribute(o,a),s.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(u=>r.addClassName(u))}),r}function Vq(t){let e={};return t instanceof jo&&t.tagName!=="ng-template"?t.templateAttrs.forEach(n=>e[n.name]=""):(t.attributes.forEach(n=>{YN(n.name)||(e[n.name]=n.value)}),t.inputs.forEach(n=>{(n.type===Gn.Property||n.type===Gn.TwoWay)&&(e[n.name]="")}),t.outputs.forEach(n=>{e[n.name]=""})),e}function u8(t,e){let n=null,r={name:t.name,type:t.type,typeArgumentCount:t.typeArgumentCount,deps:[],target:xu.Injectable};if(t.useClass!==void 0){let a=t.useClass.expression.isEquivalent(t.type.value),l;t.deps!==void 0&&(l=t.deps),l!==void 0?n=zd(qt(Ne({},r),{delegate:t.useClass.expression,delegateDeps:l,delegateType:nb.Class})):a?n=zd(r):n={statements:[],expression:c8(t.type.value,t.useClass.expression,e)}}else t.useFactory!==void 0?t.deps!==void 0?n=zd(qt(Ne({},r),{delegate:t.useFactory,delegateDeps:t.deps||[],delegateType:nb.Function})):n={statements:[],expression:kl([],t.useFactory.callFn([]))}:t.useValue!==void 0?n=zd(qt(Ne({},r),{expression:t.useValue.expression})):t.useExisting!==void 0?n=zd(qt(Ne({},r),{expression:Lt(be.inject).callFn([t.useExisting.expression])})):n={statements:[],expression:c8(t.type.value,t.type.value,e)};let i=t.type.value,s=new Lc;return s.set("token",i),s.set("factory",n.expression),t.providedIn.expression.value!==null&&s.set("providedIn",Eq(t.providedIn)),{expression:Lt(be.\u0275\u0275defineInjectable).callFn([s.toLiteralMap()],void 0,!0),type:Uq(t),statements:n.statements}}function Uq(t){return new ha(Lt(be.InjectableDeclaration,[t2(t.type.type,t.typeArgumentCount)]))}function c8(t,e,n){if(t.node===e.node)return e.prop("\u0275fac");if(!n)return d8(e);let r=Lt(be.resolveForwardRef).callFn([e]);return d8(r)}function d8(t){let e=new as("__ngFactoryType__",Qb);return kl([e],t.prop("\u0275fac").callFn([On(e.name)]))}var Wi=0,jq=8,o5=9,ef=10,ZN=11,JN=12,a5=13,QN=32,WS=33,p0=34,eM=35,r2=36,Hq=37,yb=38,m0=39,Uo=40,os=41,f8=42,tM=43,go=44,bb=45,Hd=46,ua=47,xl=58,Oo=59,Yh=60,Ss=61,aa=62,h8=63,l5=48,$q=55,nM=57,jc=65,qq=69,zq=70,Wq=88,mp=90,Cl=91,tf=92,Eu=93,Gq=94,Hc=95,gf=97,Yq=98,Xq=101,u5=102,rM=110,iM=114,sM=116,oM=117,aM=118,lM=120,B0=122,Fa=123,p8=124,zs=125,uM=160,Rh=64,GS=96;function g0(t){return t>=o5&&t<=QN||t==uM}function La(t){return l5<=t&&t<=nM}function Fc(t){return t>=gf&&t<=B0||t>=jc&&t<=mp}function Kq(t){return t>=gf&&t<=u5||t>=jc&&t<=zq||La(t)}function wb(t){return t===ef||t===a5}function m8(t){return l5<=t&&t<=$q}function Pg(t){return t===m0||t===p0||t===GS}var v0=class t{file;offset;line;col;constructor(e,n,r,i){this.file=e,this.offset=n,this.line=r,this.col=i}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let n=this.file.content,r=n.length,i=this.offset,s=this.line,o=this.col;for(;i>0&&e<0;)if(i--,e++,n.charCodeAt(i)==ef){s--;let l=n.substring(0,i-1).lastIndexOf(String.fromCharCode(ef));o=l>0?i-l:i}else o--;for(;i<r&&e>0;){let a=n.charCodeAt(i);i++,e--,a==ef?(s++,o=0):o++}return new t(this.file,i,s,o)}getContext(e,n){let r=this.file.content,i=this.offset;if(i!=null){i>r.length-1&&(i=r.length-1);let s=i,o=0,a=0;for(;o<e&&i>0&&(i--,o++,!(r[i]==`
`&&++a==n)););for(o=0,a=0;o<e&&s<r.length-1&&(s++,o++,!(r[s]==`
`&&++a==n)););return{before:r.substring(i,this.offset),after:r.substring(this.offset,s+1)}}return null}},_b=class{content;url;constructor(e,n){this.content=e,this.url=n}},an=class{start;end;fullStart;details;constructor(e,n,r=e,i=null){this.start=e,this.end=n,this.fullStart=r,this.details=i}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},Tc=(function(t){return t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR",t})(Tc||{}),tn=class extends Error{span;msg;level;relatedError;constructor(e,n,r=Tc.ERROR,i){super(n),this.span=e,this.msg=n,this.level=r,this.relatedError=i,Object.setPrototypeOf(this,new.target.prototype)}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Tc[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function Zq(t,e,n){let r=`in ${t} ${e} in ${n}`,i=new _b("",r);return new an(new v0(i,-1,-1,-1),new v0(i,-1,-1,-1))}var Jq=0;function Qq(t){if(!t||!t.reference)return null;let e=t.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let n=$N(e);return n.indexOf("(")>=0?(n=`anonymous_${Jq++}`,e.__anonymousType=n):n=Wd(n),n}function Wd(t){return t.replace(/\W/g,"_")}var g8='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',YS=class extends MS{constructor(){super(!1)}visitWrappedNodeExpr(e,n){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,n){return n.print(e,`var ${e.name}`),e.value&&(n.print(e," = "),e.value.visitExpression(this,n)),n.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,n){let r=e.template.elements;return e.tag.visitExpression(this,n),n.print(e,`(${g8}(`),n.print(e,`[${r.map(i=>Yd(i.text,!1)).join(", ")}], `),n.print(e,`[${r.map(i=>Yd(i.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(i=>{n.print(e,", "),i.visitExpression(this,n)}),n.print(e,")"),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&(n.print(i,"${"),i.visitExpression(this,n),n.print(i,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){return n.print(e,e.rawText),null}visitFunctionExpr(e,n){return n.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.print(e,"}"),null}visitArrowFunctionExpr(e,n){if(n.print(e,"("),this._visitParams(e.params,n),n.print(e,") =>"),Array.isArray(e.body))n.println(e,"{"),n.incIndent(),this.visitAllStatements(e.body,n),n.decIndent(),n.print(e,"}");else{let r=e.body instanceof Ua;r&&n.print(e,"("),e.body.visitExpression(this,n),r&&n.print(e,")")}return null}visitDeclareFunctionStmt(e,n){return n.print(e,`function ${e.name}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.println(e,"}"),null}visitLocalizedString(e,n){n.print(e,`$localize(${g8}(`);let r=[e.serializeI18nHead()];for(let i=1;i<e.messageParts.length;i++)r.push(e.serializeI18nTemplatePart(i));return n.print(e,`[${r.map(i=>Yd(i.cooked,!1)).join(", ")}], `),n.print(e,`[${r.map(i=>Yd(i.raw,!1)).join(", ")}])`),e.expressions.forEach(i=>{n.print(e,", "),i.visitExpression(this,n)}),n.print(e,")"),null}_visitParams(e,n){this.visitAllObjects(r=>n.print(null,r.name),e,n,",")}},Sy;function ez(){if(Sy===void 0){let t=Mg.trustedTypes;if(Sy=null,t)try{Sy=t.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return Sy}function tz(t){return ez()?.createScript(t)||t}function v8(...t){if(!Mg.trustedTypes)return new Function(...t);let e=t.slice(0,-1).join(","),n=t[t.length-1],r=`(function anonymous(${e}
) { ${n}
})`,i=Mg.eval(tz(r));return i.bind===void 0?new Function(...t):(i.toString=()=>r,i.bind(Mg))}var XS=class{evaluateStatements(e,n,r,i){let s=new KS(r),o=NS.createRoot();return n.length>0&&!nz(n[0])&&(n=[Me("use strict").toStmt(),...n]),s.visitAllStatements(n,o),s.createReturnStmt(o),this.evaluateCode(e,o,s.getArgs(),i)}evaluateCode(e,n,r,i){let s=`"use strict";${n.toSource()}
//# sourceURL=${e}`,o=[],a=[];for(let u in r)a.push(r[u]),o.push(u);if(i){let u=v8(...o.concat("return null;")).toString(),c=u.slice(0,u.indexOf("return null;")).split(`
`).length-1;s+=`
${n.toSourceMapGenerator(e,c).toJsComment()}`}let l=v8(...o.concat(s));return this.executeFunction(l,a)}executeFunction(e,n){return e(...n)}},KS=class extends YS{refResolver;_evalArgNames=[];_evalArgValues=[];_evalExportedVars=[];constructor(e){super(),this.refResolver=e}createReturnStmt(e){new us(new Ua(this._evalExportedVars.map(r=>new Jh(r,On(r),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let n=0;n<this._evalArgNames.length;n++)e[this._evalArgNames[n]]=this._evalArgValues[n];return e}visitExternalExpr(e,n){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),n),null}visitWrappedNodeExpr(e,n){return this._emitReferenceToExternal(e,e.node,n),null}visitDeclareVarStmt(e,n){return e.hasModifier(ls.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,n)}visitDeclareFunctionStmt(e,n){return e.hasModifier(ls.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,n)}_emitReferenceToExternal(e,n,r){let i=this._evalArgValues.indexOf(n);if(i===-1){i=this._evalArgValues.length,this._evalArgValues.push(n);let s=Qq({reference:n})||"val";this._evalArgNames.push(`jit_${s}_${i}`)}r.print(e,this._evalArgNames[i])}};function nz(t){return t.isEquivalent(Me("use strict").toStmt())}function y8(t){let e=new Lc;t.providers!==null&&e.set("providers",t.providers),t.imports.length>0&&e.set("imports",gr(t.imports));let n=Lt(be.defineInjector).callFn([e.toLiteralMap()],void 0,!0),r=rz(t);return{expression:n,type:r,statements:[]}}function rz(t){return new ha(Lt(be.InjectorDeclaration,[new ha(t.type.type)]))}var ZS=class{context;constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},xb=(function(t){return t[t.Inline=0]="Inline",t[t.SideEffect=1]="SideEffect",t[t.Omit=2]="Omit",t})(xb||{}),Ic=(function(t){return t[t.Global=0]="Global",t[t.Local=1]="Local",t})(Ic||{});function iz(t){let e=[],n=new Lc;if(n.set("type",t.type.value),t.kind===Ic.Global&&t.bootstrap.length>0&&n.set("bootstrap",Xd(t.bootstrap,t.containsForwardDecls)),t.selectorScopeMode===xb.Inline)t.declarations.length>0&&n.set("declarations",Xd(t.declarations,t.containsForwardDecls)),t.imports.length>0&&n.set("imports",Xd(t.imports,t.containsForwardDecls)),t.exports.length>0&&n.set("exports",Xd(t.exports,t.containsForwardDecls));else if(t.selectorScopeMode===xb.SideEffect){let s=az(t);s!==null&&e.push(s)}t.schemas!==null&&t.schemas.length>0&&n.set("schemas",gr(t.schemas.map(s=>s.value))),t.id!==null&&(n.set("id",t.id),e.push(Lt(be.registerNgModuleType).callFn([t.type.value,t.id]).toStmt()));let r=Lt(be.defineNgModule).callFn([n.toLiteralMap()],void 0,!0),i=oz(t);return{expression:r,type:i,statements:e}}function sz(t){let e=new Lc;return e.set("type",new Pn(t.type)),t.bootstrap!==void 0&&e.set("bootstrap",new Pn(t.bootstrap)),t.declarations!==void 0&&e.set("declarations",new Pn(t.declarations)),t.imports!==void 0&&e.set("imports",new Pn(t.imports)),t.exports!==void 0&&e.set("exports",new Pn(t.exports)),t.schemas!==void 0&&e.set("schemas",new Pn(t.schemas)),t.id!==void 0&&e.set("id",new Pn(t.id)),Lt(be.defineNgModule).callFn([e.toLiteralMap()])}function oz(t){if(t.kind===Ic.Local)return new ha(t.type.value);let{type:e,declarations:n,exports:r,imports:i,includeImportTypes:s,publicDeclarationTypes:o}=t;return new ha(Lt(be.NgModuleDeclaration,[new ha(e.type),o===null?iS(n):lz(o),s?iS(i):Tl,iS(r)]))}function az(t){let e=new Lc;if(t.kind===Ic.Global?t.declarations.length>0&&e.set("declarations",Xd(t.declarations,t.containsForwardDecls)):t.declarationsExpression&&e.set("declarations",t.declarationsExpression),t.kind===Ic.Global?t.imports.length>0&&e.set("imports",Xd(t.imports,t.containsForwardDecls)):t.importsExpression&&e.set("imports",t.importsExpression),t.kind===Ic.Global?t.exports.length>0&&e.set("exports",Xd(t.exports,t.containsForwardDecls)):t.exportsExpression&&e.set("exports",t.exportsExpression),t.kind===Ic.Local&&t.bootstrapExpression&&e.set("bootstrap",t.bootstrapExpression),Object.keys(e.values).length===0)return null;let n=new yo(Lt(be.setNgModuleScope),[t.type.value,e.toLiteralMap()]),r=_q(n),i=new Dc([],[r.toStmt()]);return new yo(i,[]).toStmt()}function iS(t){let e=t.map(n=>L0(n.type));return t.length>0?cs(gr(e)):Tl}function lz(t){let e=t.map(n=>L0(n));return t.length>0?cs(gr(e)):Tl}function b8(t){let e=[];e.push({key:"name",value:Me(t.pipeName??t.name),quoted:!1}),e.push({key:"type",value:t.type.value,quoted:!1}),e.push({key:"pure",value:Me(t.pure),quoted:!1}),t.isStandalone===!1&&e.push({key:"standalone",value:Me(!1),quoted:!1});let n=Lt(be.definePipe).callFn([pa(e)],void 0,!0),r=uz(t);return{expression:n,type:r,statements:[]}}function uz(t){return new ha(Lt(be.PipeDeclaration,[t2(t.type.type,t.typeArgumentCount),new ha(new ds(t.pipeName)),new ha(new ds(t.isStandalone))]))}var lp=(function(t){return t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule",t})(lp||{}),cz=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),dz=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],JS=class{shimCssText(e,n,r=""){let i=[];e=e.replace(Tz,a=>{if(a.match(Iz))i.push(a);else{let l=a.match(Az);i.push((l?.join("")??"")+`
`)}return d5}),e=this._insertDirectives(e);let s=this._scopeCssText(e,n,r),o=0;return s.replace(Dz,()=>i[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,n){let r=new Set,i=Cy(e,s=>this._scopeLocalKeyframeDeclarations(s,n,r));return Cy(i,s=>this._scopeAnimationRule(s,n,r))}_scopeLocalKeyframeDeclarations(e,n,r){return qt(Ne({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(i,s,o,a,l)=>(r.add(x8(a,o)),`${s}${o}${n}_${a}${o}${l}`))})}_scopeAnimationKeyframe(e,n,r){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(i,s,o,a,l)=>(a=`${r.has(x8(a,o))?n+"_":""}${a}`,`${s}${o}${a}${o}${l}`))}_animationDeclarationKeyframesRe=/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g;_scopeAnimationRule(e,n,r){let i=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(s,o,a)=>o+a.replace(this._animationDeclarationKeyframesRe,(l,u,c="",d,f)=>d?`${u}${this._scopeAnimationKeyframe(`${c}${d}${c}`,n,r)}`:cz.has(f)?l:`${u}${this._scopeAnimationKeyframe(f,n,r)}`));return i=i.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(s,o,a)=>`${o}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,n,r)).join(",")}`),qt(Ne({},e),{content:i})}_insertPolyfillDirectivesInCssText(e){return e.replace(hz,function(...n){return n[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(pz,(...n)=>{let r=n[0].replace(n[1],"").replace(n[2],"");return n[4]+r})}_scopeCssText(e,n,r){let i=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),n&&(e=this._scopeKeyframesRelatedCss(e,n),e=this._scopeSelectors(e,n,r)),e=e+`
`+i,e.trim()}_extractUnscopedRulesFromCssText(e){let n="",r;for(w8.lastIndex=0;(r=w8.exec(e))!==null;){let i=r[0].replace(r[2],"").replace(r[1],r[4]);n+=i+`

`}return n}_convertColonHost(e){return e.replace(yz,(n,r,i)=>{if(r){let s=[];for(let o of this._splitOnTopLevelCommas(r,!0)){let a=o.trim();if(!a)break;let l=Sc+a.replace(Eb,"")+i;s.push(l)}return s.join(",")}else return Sc+i})}*_splitOnTopLevelCommas(e,n){let r=e.length,i=0,s=0;for(let o=0;o<r;o++){let a=e.charCodeAt(o);if(a===Uo)i++;else if(a===os){if(i--,i<0&&n){yield e.slice(s,o);return}}else a===go&&i===0&&(yield e.slice(s,o),s=o+1)}yield e.slice(s)}_convertColonHostContext(e){let n=[];for(let r of this._splitOnTopLevelCommas(e,!1))n.push(this._convertColonHostContextInSelectorPart(r));return n.join(",")}_convertColonHostContextInSelectorPart(e){return e.replace(wz,(n,r)=>{let i=[[]],s=n.indexOf(Uh);for(;s!==-1;){let o=n.substring(s+Uh.length);if(!o||o[0]!=="("){n=o,s=n.indexOf(Uh);continue}let a=[],l=0;for(let c of this._splitOnTopLevelCommas(o.substring(1),!0)){l=l+c.length+1;let d=c.trim();d&&a.push(d)}let u=i.length;Uz(i,a.length);for(let c=0;c<a.length;c++)for(let d=0;d<u;d++)i[d+c*u].push(a[c]);n=o.substring(l+1),s=n.indexOf(Uh)}return i.map(o=>Vz(o,n,r)).join(", ")})}_convertShadowDOMSelectors(e){return xz.reduce((n,r)=>n.replace(r," "),e)}_scopeSelectors(e,n,r){return Cy(e,i=>{let s=i.selector,o=i.content;return i.selector[0]!=="@"?s=this._scopeSelector({selector:s,scopeSelector:n,hostSelector:r,isParentSelector:!0}):dz.some(a=>i.selector.startsWith(a))?o=this._scopeSelectors(i.content,n,r):(i.selector.startsWith("@font-face")||i.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(i.content)),new y0(s,o)})}_stripScopingSelectors(e){return Cy(e,n=>{let r=n.selector.replace(_8," ").replace(sS," ");return new y0(r,n.content)})}_safeSelector;_shouldScopeIndicator;_scopeSelector({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:i=!1}){let s=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(s).map(o=>o.split(_8)).map(o=>{let[a,...l]=o;return[(c=>this._selectorNeedsScoping(c,n)?this._applySelectorScope({selector:c,scopeSelector:n,hostSelector:r,isParentSelector:i}):c)(a),...l].join(" ")}).join(", ")}_selectorNeedsScoping(e,n){return!this._makeScopeMatcher(n).test(e)}_makeScopeMatcher(e){let n=/\[/g,r=/\]/g;return e=e.replace(n,"\\[").replace(r,"\\]"),new RegExp("^("+e+")"+Ez,"m")}_applySimpleSelectorScope(e,n,r){if($h.lastIndex=0,$h.test(e)){let i=`[${r}]`,s=e;for(;s.match(sS);)s=s.replace(sS,(o,a)=>a.replace(/([^:\)]*)(:*)(.*)/,(l,u,c,d)=>u+i+c+d));return s.replace($h,i)}return n+" "+e}_applySelectorScope({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:i}){let s=/\[is=([^\]]*)\]/g;n=n.replace(s,(m,...g)=>g[0]);let o=`[${n}]`,a=m=>{let g=m.trim();if(!g)return m;if(m.includes(Sc)){if(g=this._applySimpleSelectorScope(m,n,r),!m.match(_z)){let[y,x,T,R]=g.match(/([^:]*)(:*)([\s\S]*)/);g=x+o+T+R}}else{let y=m.replace($h,"");if(y.length>0){let x=y.match(/([^:]*)(:*)([\s\S]*)/);x&&(g=x[1]+o+x[2]+x[3])}}return g},l=m=>{let g="",y=[],x;for(;(x=xg.exec(m))!==null;){let T=1,R=xg.lastIndex;for(;R<m.length;){let $=m[R];if(R++,$==="("){T++;continue}if($===")"){if(T--,T===0)break;continue}}y.push(`${x[0]}${m.slice(xg.lastIndex,R)}`),xg.lastIndex=R}return y.join("")===m?g=y.map(T=>{let[R]=T.match(xg)??[],$=T.slice(R?.length,-1);$.includes(Sc)&&(this._shouldScopeIndicator=!0);let O=this._scopeSelector({selector:$,scopeSelector:n,hostSelector:r});return`${R}${O})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||m.includes(Sc),g=this._shouldScopeIndicator?a(m):m),g};i&&(this._safeSelector=new QS(e),e=this._safeSelector.content());let u="",c=0,d,f=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,h=e.includes(Sc);for((i||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!h);(d=f.exec(e))!==null;){let m=d[1],g=e.slice(c,d.index);if(g.match(/__esc-ph-(\d+)__/)&&e[d.index+1]?.match(/[a-fA-F\d]/))continue;let y=l(g);u+=`${y} ${m} `,c=f.lastIndex}let p=e.substring(c);return u+=l(p),this._safeSelector.restore(u)}_insertPolyfillHostInCssText(e){return e.replace(Cz,Uh).replace(Sz,Eb)}},QS=class{placeholders=[];index=0;_content;constructor(e){e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(n,r)=>{let i=`__esc-ph-${this.index}__`;return this.placeholders.push(r),this.index++,i}),this._content=e.replace(vz,(n,r,i)=>{let s=`__ph-${this.index}__`;return this.placeholders.push(`(${i})`),this.index++,r+s})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(n,r)=>this.placeholders[+r])}content(){return this._content}_escapeRegexMatches(e,n){return e.replace(n,(r,i)=>{let s=`__ph-${this.index}__`;return this.placeholders.push(i),this.index++,s})}},fz="(:(where|is)\\()?",xg=/:(where|is)\(/gi,hz=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,pz=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,w8=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Eb="-shadowcsshost",Uh="-shadowcsscontext",eC="[^)(]*",mz=String.raw`(?:\(${eC}\)|${eC})+?`,gz=String.raw`(?:\(${mz}\)|${eC})+?`,c5=String.raw`(?:\((${gz})\))`,vz=new RegExp(String.raw`(:nth-[-\w]+)`+c5,"g"),yz=new RegExp(Eb+c5+"?([^,{]*)","gim"),bz=Uh+c5+"?([^{]*)",wz=new RegExp(`${fz}(${bz})`,"gim"),Sc=Eb+"-no-combinator",_z=new RegExp(`${Sc}(?![^(]*\\))`,"g"),sS=/-shadowcsshost-no-combinator([^\s,]*)/,xz=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_8=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,Ez="([>\\s~+[.,{:][\\s\\S]*)?$",$h=/-shadowcsshost/gim,Sz=/:host/gim,Cz=/:host-context/gim,Az=/\r?\n/g,Tz=/\/\*[\s\S]*?\*\//g,Iz=/\/\*\s*#\s*source(Mapping)?URL=/g,d5="%COMMENT%",Dz=new RegExp(d5,"g"),oS="%BLOCK%",kz=new RegExp(`(\\s*(?:${d5}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),Nz=new Map([["{","}"]]),cM="%COMMA_IN_PLACEHOLDER%",dM="%SEMI_IN_PLACEHOLDER%",fM="%COLON_IN_PLACEHOLDER%",Mz=new RegExp(cM,"g"),Rz=new RegExp(dM,"g"),Pz=new RegExp(fM,"g"),y0=class{selector;content;constructor(e,n){this.selector=e,this.content=n}};function Cy(t,e){let n=Oz(t),r=Lz(n,Nz,oS),i=0,s=r.escapedString.replace(kz,(...o)=>{let a=o[2],l="",u=o[4],c="";u&&u.startsWith("{"+oS)&&(l=r.blocks[i++],u=u.substring(oS.length+1),c="{");let d=e(new y0(a,l));return`${o[1]}${d.selector}${o[3]}${c}${d.content}${u}`});return Bz(s)}var tC=class{escapedString;blocks;constructor(e,n){this.escapedString=e,this.blocks=n}};function Lz(t,e,n){let r=[],i=[],s=0,o=0,a=-1,l,u;for(let c=0;c<t.length;c++){let d=t[c];d==="\\"?c++:d===u?(s--,s===0&&(i.push(t.substring(a,c)),r.push(n),o=c,a=-1,l=u=void 0)):d===l?s++:s===0&&e.has(d)&&(l=d,u=e.get(d),s=1,a=c+1,r.push(t.substring(o,a)))}return a!==-1?(i.push(t.substring(a)),r.push(n)):r.push(t.substring(o)),new tC(r.join(""),i)}var Fz={";":dM,",":cM,":":fM};function Oz(t){let e=t,n=null;for(let r=0;r<e.length;r++){let i=e[r];if(i==="\\")r++;else if(n!==null)if(i===n)n=null;else{let s=Fz[i];s&&(e=`${e.substr(0,r)}${s}${e.substr(r+1)}`,r+=s.length-1)}else(i==="'"||i==='"')&&(n=i)}return e}function Bz(t){let e=t.replace(Mz,",");return e=e.replace(Rz,";"),e=e.replace(Pz,":"),e}function x8(t,e){return e?t.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):t}function Vz(t,e,n=""){let r=Sc;$h.lastIndex=0;let i=$h.test(e);if(t.length===0)return r+e;let s=[t.pop()||""];for(;t.length>0;){let o=s.length,a=t.pop();for(let l=0;l<o;l++){let u=s[l];s[o*2+l]=u+" "+a,s[o+l]=a+" "+u,s[l]=a+u}}return s.map(o=>i?`${n}${o}${e}`:`${n}${o}${r}${e}, ${n}${o} ${r}${e}`).join(",")}function Uz(t,e){let n=t.length;for(let r=1;r<e;r++)for(let i=0;i<n;i++)t[i+r*n]=t[i].slice(0)}var ee=(function(t){return t[t.ListEnd=0]="ListEnd",t[t.Statement=1]="Statement",t[t.Variable=2]="Variable",t[t.ElementStart=3]="ElementStart",t[t.Element=4]="Element",t[t.Template=5]="Template",t[t.ElementEnd=6]="ElementEnd",t[t.ContainerStart=7]="ContainerStart",t[t.Container=8]="Container",t[t.ContainerEnd=9]="ContainerEnd",t[t.DisableBindings=10]="DisableBindings",t[t.ConditionalCreate=11]="ConditionalCreate",t[t.ConditionalBranchCreate=12]="ConditionalBranchCreate",t[t.Conditional=13]="Conditional",t[t.EnableBindings=14]="EnableBindings",t[t.Text=15]="Text",t[t.Listener=16]="Listener",t[t.InterpolateText=17]="InterpolateText",t[t.Binding=18]="Binding",t[t.Property=19]="Property",t[t.StyleProp=20]="StyleProp",t[t.ClassProp=21]="ClassProp",t[t.StyleMap=22]="StyleMap",t[t.ClassMap=23]="ClassMap",t[t.Advance=24]="Advance",t[t.Pipe=25]="Pipe",t[t.Attribute=26]="Attribute",t[t.ExtractedAttribute=27]="ExtractedAttribute",t[t.Defer=28]="Defer",t[t.DeferOn=29]="DeferOn",t[t.DeferWhen=30]="DeferWhen",t[t.I18nMessage=31]="I18nMessage",t[t.DomProperty=32]="DomProperty",t[t.Namespace=33]="Namespace",t[t.ProjectionDef=34]="ProjectionDef",t[t.Projection=35]="Projection",t[t.RepeaterCreate=36]="RepeaterCreate",t[t.Repeater=37]="Repeater",t[t.TwoWayProperty=38]="TwoWayProperty",t[t.TwoWayListener=39]="TwoWayListener",t[t.DeclareLet=40]="DeclareLet",t[t.StoreLet=41]="StoreLet",t[t.I18nStart=42]="I18nStart",t[t.I18n=43]="I18n",t[t.I18nEnd=44]="I18nEnd",t[t.I18nExpression=45]="I18nExpression",t[t.I18nApply=46]="I18nApply",t[t.IcuStart=47]="IcuStart",t[t.IcuEnd=48]="IcuEnd",t[t.IcuPlaceholder=49]="IcuPlaceholder",t[t.I18nContext=50]="I18nContext",t[t.I18nAttributes=51]="I18nAttributes",t[t.SourceLocation=52]="SourceLocation",t[t.Animation=53]="Animation",t[t.AnimationString=54]="AnimationString",t[t.AnimationBinding=55]="AnimationBinding",t[t.AnimationListener=56]="AnimationListener",t[t.Control=57]="Control",t[t.ControlCreate=58]="ControlCreate",t})(ee||{}),Ut=(function(t){return t[t.LexicalRead=0]="LexicalRead",t[t.Context=1]="Context",t[t.TrackContext=2]="TrackContext",t[t.ReadVariable=3]="ReadVariable",t[t.NextContext=4]="NextContext",t[t.Reference=5]="Reference",t[t.StoreLet=6]="StoreLet",t[t.ContextLetReference=7]="ContextLetReference",t[t.GetCurrentView=8]="GetCurrentView",t[t.RestoreView=9]="RestoreView",t[t.ResetView=10]="ResetView",t[t.PureFunctionExpr=11]="PureFunctionExpr",t[t.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",t[t.PipeBinding=13]="PipeBinding",t[t.PipeBindingVariadic=14]="PipeBindingVariadic",t[t.SafePropertyRead=15]="SafePropertyRead",t[t.SafeKeyedRead=16]="SafeKeyedRead",t[t.SafeInvokeFunction=17]="SafeInvokeFunction",t[t.SafeTernaryExpr=18]="SafeTernaryExpr",t[t.EmptyExpr=19]="EmptyExpr",t[t.AssignTemporaryExpr=20]="AssignTemporaryExpr",t[t.ReadTemporaryExpr=21]="ReadTemporaryExpr",t[t.SlotLiteralExpr=22]="SlotLiteralExpr",t[t.ConditionalCase=23]="ConditionalCase",t[t.ConstCollected=24]="ConstCollected",t[t.TwoWayBindingSet=25]="TwoWayBindingSet",t})(Ut||{}),da=(function(t){return t[t.None=0]="None",t[t.AlwaysInline=1]="AlwaysInline",t})(da||{}),Gi=(function(t){return t[t.Context=0]="Context",t[t.Identifier=1]="Identifier",t[t.SavedView=2]="SavedView",t[t.Alias=3]="Alias",t})(Gi||{}),zo=(function(t){return t[t.Normal=0]="Normal",t[t.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder",t})(zo||{}),Dt=(function(t){return t[t.Attribute=0]="Attribute",t[t.ClassName=1]="ClassName",t[t.StyleProperty=2]="StyleProperty",t[t.Property=3]="Property",t[t.Template=4]="Template",t[t.I18n=5]="I18n",t[t.LegacyAnimation=6]="LegacyAnimation",t[t.TwoWayProperty=7]="TwoWayProperty",t[t.Animation=8]="Animation",t})(Dt||{}),b0=(function(t){return t[t.Creation=0]="Creation",t[t.Postproccessing=1]="Postproccessing",t})(b0||{}),gp=(function(t){return t[t.I18nText=0]="I18nText",t[t.I18nAttribute=1]="I18nAttribute",t})(gp||{}),kr=(function(t){return t[t.None=0]="None",t[t.ElementTag=1]="ElementTag",t[t.TemplateTag=2]="TemplateTag",t[t.OpenTag=4]="OpenTag",t[t.CloseTag=8]="CloseTag",t[t.ExpressionIndex=16]="ExpressionIndex",t})(kr||{}),Cs=(function(t){return t[t.HTML=0]="HTML",t[t.SVG=1]="SVG",t[t.Math=2]="Math",t})(Cs||{}),_r=(function(t){return t[t.Idle=0]="Idle",t[t.Immediate=1]="Immediate",t[t.Timer=2]="Timer",t[t.Hover=3]="Hover",t[t.Interaction=4]="Interaction",t[t.Viewport=5]="Viewport",t[t.Never=6]="Never",t})(_r||{}),Zd=(function(t){return t[t.RootI18n=0]="RootI18n",t[t.Icu=1]="Icu",t[t.Attr=2]="Attr",t})(Zd||{}),vo=(function(t){return t[t.NgTemplate=0]="NgTemplate",t[t.Structural=1]="Structural",t[t.Block=2]="Block",t})(vo||{}),hM=Symbol("ConsumesSlot"),f5=Symbol("DependsOnSlotContext"),vp=Symbol("ConsumesVars"),i2=Symbol("UsesVarOffset"),ga={[hM]:!0,numSlotsUsed:1},bo={[f5]:!0},Xs={[vp]:!0};function yp(t){return t[hM]===!0}function w0(t){return t[f5]===!0}function aS(t){return t[vp]===!0}function E8(t){return t[i2]===!0}function ma(t){return Ne({kind:ee.Statement,statement:t},ln)}function Ac(t,e,n,r){return Ne({kind:ee.Variable,xref:t,variable:e,initializer:n,flags:r},ln)}var ln={debugListId:null,prev:null,next:null};function jz(t,e,n){return Ne(Ne(Ne({kind:ee.InterpolateText,target:t,interpolation:e,sourceSpan:n},bo),Xs),ln)}var Jr=class{strings;expressions;i18nPlaceholders;constructor(e,n,r){if(this.strings=e,this.expressions=n,this.i18nPlaceholders=r,r.length!==0&&r.length!==n.length)throw new Error(`Expected ${n.length} placeholders to match interpolation expression count, but got ${r.length}`)}};function vf(t,e,n,r,i,s,o,a,l,u,c){return Ne({kind:ee.Binding,bindingKind:e,target:t,name:n,expression:r,unit:i,securityContext:s,isTextAttribute:o,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:u,sourceSpan:c},ln)}function Hz(t,e,n,r,i,s,o,a,l,u){return Ne(Ne(Ne({kind:ee.Property,target:t,name:e,expression:n,bindingKind:r,securityContext:i,sanitizer:null,isStructuralTemplateAttribute:s,templateKind:o,i18nContext:a,i18nMessage:l,sourceSpan:u},bo),Xs),ln)}function $z(t,e,n,r,i,s,o,a,l){return Ne(Ne(Ne({kind:ee.TwoWayProperty,target:t,name:e,expression:n,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:i,templateKind:s,i18nContext:o,i18nMessage:a,sourceSpan:l},bo),Xs),ln)}function qz(t,e,n,r,i){return Ne(Ne(Ne({kind:ee.StyleProp,target:t,name:e,expression:n,unit:r,sourceSpan:i},bo),Xs),ln)}function zz(t,e,n,r){return Ne(Ne(Ne({kind:ee.ClassProp,target:t,name:e,expression:n,sourceSpan:r},bo),Xs),ln)}function Wz(t,e,n){return Ne(Ne(Ne({kind:ee.StyleMap,target:t,expression:e,sourceSpan:n},bo),Xs),ln)}function Gz(t,e,n){return Ne(Ne(Ne({kind:ee.ClassMap,target:t,expression:e,sourceSpan:n},bo),Xs),ln)}function S8(t,e,n,r,i,s,o,a,l,u){return Ne(Ne(Ne({kind:ee.Attribute,target:t,namespace:e,name:n,expression:r,securityContext:i,sanitizer:null,isTextAttribute:s,isStructuralTemplateAttribute:o,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:u},bo),Xs),ln)}function Yz(t,e){return Ne({kind:ee.Advance,delta:t,sourceSpan:e},ln)}function pM(t,e,n,r){return Ne(Ne(Ne({kind:ee.Conditional,target:t,test:e,conditions:n,processed:null,sourceSpan:r,contextValue:null},ln),bo),Xs)}function Xz(t,e,n,r){return Ne(Ne({kind:ee.Repeater,target:t,targetSlot:e,collection:n,sourceSpan:r},ln),bo)}function C8(t,e,n,r,i,s,o){return Ne({kind:ee.AnimationBinding,name:t,target:e,animationKind:n,expression:r,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:s,animationBindingKind:o},ln)}function Kz(t,e,n,r){return Ne(Ne(Ne({kind:ee.DeferWhen,target:t,expr:e,modifier:n,sourceSpan:r},ln),bo),Xs)}function mM(t,e,n,r,i,s,o,a,l,u,c){return Ne(Ne(Ne({kind:ee.I18nExpression,context:t,target:e,i18nOwner:n,handle:r,expression:i,icuPlaceholder:s,i18nPlaceholder:o,resolutionTime:a,usage:l,name:u,sourceSpan:c},ln),Xs),bo)}function Zz(t,e,n){return Ne({kind:ee.I18nApply,owner:t,handle:e,sourceSpan:n},ln)}function Jz(t,e,n,r){return Ne(Ne(Ne({kind:ee.StoreLet,target:t,declaredName:e,value:n,sourceSpan:r},bo),Xs),ln)}function Qz(t){return Ne(Ne(Ne({kind:ee.Control,target:t.target,name:t.name,expression:t.expression,bindingKind:t.bindingKind,securityContext:t.securityContext,sanitizer:null,isStructuralTemplateAttribute:t.isStructuralTemplateAttribute,templateKind:t.templateKind,i18nContext:t.i18nContext,i18nMessage:t.i18nMessage,sourceSpan:t.sourceSpan},bo),Xs),ln)}function Pl(t){return t instanceof Er}var Er=class extends fr{constructor(e=null){super(null,e)}},ss=class t extends Er{name;kind=Ut.LexicalRead;constructor(e){super(),this.name=e}visitExpression(e,n){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.name)}},Sb=class t extends Er{target;targetSlot;offset;kind=Ut.Reference;constructor(e,n,r){super(),this.target=e,this.targetSlot=n,this.offset=r}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot,this.offset)}},_0=class t extends Er{target;value;sourceSpan;kind=Ut.StoreLet;[vp]=!0;[f5]=!0;constructor(e,n,r){super(),this.target=e,this.value=n,this.sourceSpan=r}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target&&e.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.value=Tt(this.value,e,n)}clone(){return new t(this.target,this.value,this.sourceSpan)}},x0=class t extends Er{target;targetSlot;kind=Ut.ContextLetReference;constructor(e,n){super(),this.target=e,this.targetSlot=n}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot)}},Oc=class t extends Er{view;kind=Ut.Context;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},nC=class t extends Er{view;kind=Ut.TrackContext;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},Cb=class t extends Er{kind=Ut.NextContext;steps=1;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof t&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t;return e.steps=this.steps,e}},rC=class t extends Er{kind=Ut.GetCurrentView;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof t}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t}},Ab=class t extends Er{view;kind=Ut.RestoreView;constructor(e){super(),this.view=e}visitExpression(e,n){typeof this.view!="number"&&this.view.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,n){typeof this.view!="number"&&(this.view=Tt(this.view,e,n))}clone(){return new t(this.view instanceof fr?this.view.clone():this.view)}},iC=class t extends Er{expr;kind=Ut.ResetView;constructor(e){super(),this.expr=e}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=Tt(this.expr,e,n)}clone(){return new t(this.expr.clone())}},Tb=class t extends Er{target;value;kind=Ut.TwoWayBindingSet;constructor(e,n){super(),this.target=e,this.value=n}visitExpression(e,n){this.target.visitExpression(e,n),this.value.visitExpression(e,n)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.target=Tt(this.target,e,n),this.value=Tt(this.value,e,n)}clone(){return new t(this.target,this.value)}},Au=class t extends Er{xref;kind=Ut.ReadVariable;name=null;constructor(e){super(),this.xref=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t(this.xref);return e.name=this.name,e}},yf=class t extends Er{kind=Ut.PureFunctionExpr;[vp]=!0;[i2]=!0;varOffset=null;body;args;fn=null;constructor(e,n){super(),this.body=e,this.args=n}visitExpression(e,n){this.body?.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((n,r)=>n.isEquivalent(this.args[r]))}isConstant(){return!1}transformInternalExpressions(e,n){this.body!==null?this.body=Tt(this.body,e,n|Jn.InChildOperation):this.fn!==null&&(this.fn=Tt(this.fn,e,n));for(let r=0;r<this.args.length;r++)this.args[r]=Tt(this.args[r],e,n)}clone(){let e=new t(this.body?.clone()??null,this.args.map(n=>n.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},Bc=class t extends Er{index;kind=Ut.PureFunctionParameterExpr;constructor(e){super(),this.index=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new t(this.index)}},bf=class t extends Er{target;targetSlot;name;args;kind=Ut.PipeBinding;[vp]=!0;[i2]=!0;varOffset=null;constructor(e,n,r,i){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=i}visitExpression(e,n){for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){for(let r=0;r<this.args.length;r++)this.args[r]=Tt(this.args[r],e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.map(n=>n.clone()));return e.varOffset=this.varOffset,e}},E0=class t extends Er{target;targetSlot;name;args;numArgs;kind=Ut.PipeBindingVariadic;[vp]=!0;[i2]=!0;varOffset=null;constructor(e,n,r,i,s){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=i,this.numArgs=s}visitExpression(e,n){this.args.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.args=Tt(this.args,e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},up=class t extends Er{receiver;name;kind=Ut.SafePropertyRead;constructor(e,n){super(),this.receiver=e,this.name=n}get index(){return this.name}visitExpression(e,n){this.receiver.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=Tt(this.receiver,e,n)}clone(){return new t(this.receiver.clone(),this.name)}},cp=class t extends Er{receiver;index;kind=Ut.SafeKeyedRead;constructor(e,n,r){super(r),this.receiver=e,this.index=n}visitExpression(e,n){this.receiver.visitExpression(e,n),this.index.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=Tt(this.receiver,e,n),this.index=Tt(this.index,e,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},wf=class t extends Er{receiver;args;kind=Ut.SafeInvokeFunction;constructor(e,n){super(),this.receiver=e,this.args=n}visitExpression(e,n){this.receiver.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=Tt(this.receiver,e,n);for(let r=0;r<this.args.length;r++)this.args[r]=Tt(this.args[r],e,n)}clone(){return new t(this.receiver.clone(),this.args.map(e=>e.clone()))}},dp=class t extends Er{guard;expr;kind=Ut.SafeTernaryExpr;constructor(e,n){super(),this.guard=e,this.expr=n}visitExpression(e,n){this.guard.visitExpression(e,n),this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.guard=Tt(this.guard,e,n),this.expr=Tt(this.expr,e,n)}clone(){return new t(this.guard.clone(),this.expr.clone())}},S0=class t extends Er{kind=Ut.EmptyExpr;visitExpression(e,n){}isEquivalent(e){return e instanceof t}isConstant(){return!0}clone(){return new t}transformInternalExpressions(){}},Ll=class t extends Er{expr;xref;kind=Ut.AssignTemporaryExpr;name=null;constructor(e,n){super(),this.expr=e,this.xref=n}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=Tt(this.expr,e,n)}clone(){let e=new t(this.expr.clone(),this.xref);return e.name=this.name,e}},Vc=class t extends Er{xref;kind=Ut.ReadTemporaryExpr;name=null;constructor(e){super(),this.xref=e}visitExpression(e,n){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,n){}clone(){let e=new t(this.xref);return e.name=this.name,e}},Ib=class t extends Er{slot;kind=Ut.SlotLiteralExpr;constructor(e){super(),this.slot=e}visitExpression(e,n){}isEquivalent(e){return e instanceof t&&e.slot===this.slot}isConstant(){return!0}clone(){return new t(this.slot)}transformInternalExpressions(){}},Db=class t extends Er{expr;target;targetSlot;alias;kind=Ut.ConditionalCase;constructor(e,n,r,i=null){super(),this.expr=e,this.target=n,this.targetSlot=r,this.alias=i}visitExpression(e,n){this.expr!==null&&this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&e.expr===this.expr}isConstant(){return!0}clone(){return new t(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,n){this.expr!==null&&(this.expr=Tt(this.expr,e,n))}},C0=class t extends Er{expr;kind=Ut.ConstCollected;constructor(e){super(),this.expr=e}transformInternalExpressions(e,n){this.expr=e(this.expr,n)}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr)}};function Yi(t,e){yi(t,(n,r)=>(e(n,r),n),Jn.None)}var Jn=(function(t){return t[t.None=0]="None",t[t.InChildOperation=1]="InChildOperation",t})(Jn||{});function lS(t,e,n){for(let r=0;r<t.expressions.length;r++)t.expressions[r]=Tt(t.expressions[r],e,n)}function yi(t,e,n){switch(t.kind){case ee.StyleProp:case ee.StyleMap:case ee.ClassProp:case ee.ClassMap:case ee.AnimationString:case ee.AnimationBinding:case ee.Binding:t.expression instanceof Jr?lS(t.expression,e,n):t.expression=Tt(t.expression,e,n);break;case ee.Property:case ee.DomProperty:case ee.Attribute:case ee.Control:t.expression instanceof Jr?lS(t.expression,e,n):t.expression=Tt(t.expression,e,n),t.sanitizer=t.sanitizer&&Tt(t.sanitizer,e,n);break;case ee.TwoWayProperty:t.expression=Tt(t.expression,e,n),t.sanitizer=t.sanitizer&&Tt(t.sanitizer,e,n);break;case ee.I18nExpression:t.expression=Tt(t.expression,e,n);break;case ee.InterpolateText:lS(t.interpolation,e,n);break;case ee.Statement:kb(t.statement,e,n);break;case ee.Variable:t.initializer=Tt(t.initializer,e,n);break;case ee.Conditional:for(let r of t.conditions)r.expr!==null&&(r.expr=Tt(r.expr,e,n));t.processed!==null&&(t.processed=Tt(t.processed,e,n)),t.contextValue!==null&&(t.contextValue=Tt(t.contextValue,e,n));break;case ee.Animation:case ee.AnimationListener:case ee.Listener:case ee.TwoWayListener:for(let r of t.handlerOps)yi(r,e,n|Jn.InChildOperation);break;case ee.ExtractedAttribute:t.expression=t.expression&&Tt(t.expression,e,n),t.trustedValueFn=t.trustedValueFn&&Tt(t.trustedValueFn,e,n);break;case ee.RepeaterCreate:if(t.trackByOps===null)t.track=Tt(t.track,e,n);else for(let r of t.trackByOps)yi(r,e,n|Jn.InChildOperation);t.trackByFn!==null&&(t.trackByFn=Tt(t.trackByFn,e,n));break;case ee.Repeater:t.collection=Tt(t.collection,e,n);break;case ee.Defer:t.loadingConfig!==null&&(t.loadingConfig=Tt(t.loadingConfig,e,n)),t.placeholderConfig!==null&&(t.placeholderConfig=Tt(t.placeholderConfig,e,n)),t.resolverFn!==null&&(t.resolverFn=Tt(t.resolverFn,e,n));break;case ee.I18nMessage:for(let[r,i]of t.params)t.params.set(r,Tt(i,e,n));for(let[r,i]of t.postprocessingParams)t.postprocessingParams.set(r,Tt(i,e,n));break;case ee.DeferWhen:t.expr=Tt(t.expr,e,n);break;case ee.StoreLet:t.value=Tt(t.value,e,n);break;case ee.Advance:case ee.Container:case ee.ContainerEnd:case ee.ContainerStart:case ee.DeferOn:case ee.DisableBindings:case ee.Element:case ee.ElementEnd:case ee.ElementStart:case ee.EnableBindings:case ee.I18n:case ee.I18nApply:case ee.I18nContext:case ee.I18nEnd:case ee.I18nStart:case ee.IcuEnd:case ee.IcuStart:case ee.Namespace:case ee.Pipe:case ee.Projection:case ee.ProjectionDef:case ee.Template:case ee.Text:case ee.I18nAttributes:case ee.IcuPlaceholder:case ee.DeclareLet:case ee.SourceLocation:case ee.ConditionalCreate:case ee.ConditionalBranchCreate:case ee.ControlCreate:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${ee[t.kind]}`)}}function Tt(t,e,n){if(t instanceof Er)t.transformInternalExpressions(e,n);else if(t instanceof Hn)t.lhs=Tt(t.lhs,e,n),t.rhs=Tt(t.rhs,e,n);else if(t instanceof uf)t.expr=Tt(t.expr,e,n);else if(t instanceof $o)t.receiver=Tt(t.receiver,e,n);else if(t instanceof Tu)t.receiver=Tt(t.receiver,e,n),t.index=Tt(t.index,e,n);else if(t instanceof yo){t.fn=Tt(t.fn,e,n);for(let r=0;r<t.args.length;r++)t.args[r]=Tt(t.args[r],e,n)}else if(t instanceof Dl)for(let r=0;r<t.entries.length;r++)t.entries[r]=Tt(t.entries[r],e,n);else if(t instanceof Ua)for(let r of t.entries)r instanceof kc?r.expression=Tt(r.expression,e,n):r.value=Tt(r.value,e,n);else if(t instanceof Il)t.condition=Tt(t.condition,e,n),t.trueCase=Tt(t.trueCase,e,n),t.falseCase!==null&&(t.falseCase=Tt(t.falseCase,e,n));else if(t instanceof Kh)t.expr=Tt(t.expr,e,n);else if(t instanceof Yy)t.expr=Tt(t.expr,e,n);else if(t instanceof Ky)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=Tt(t.expressions[r],e,n);else if(t instanceof Hg)t.condition=Tt(t.condition,e,n);else if(t instanceof Vg)t.tag=Tt(t.tag,e,n),t.template.expressions=t.template.expressions.map(r=>Tt(r,e,n));else if(t instanceof lf)if(Array.isArray(t.body))for(let r=0;r<t.body.length;r++)kb(t.body[r],e,n);else t.body=Tt(t.body,e,n);else if(!(t instanceof Pn)){if(t instanceof jg)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=Tt(t.expressions[r],e,n);else if(t instanceof Va)t.expr=Tt(t.expr,e,n);else if(t instanceof cf)t.expression=Tt(t.expression,e,n);else if(!(t instanceof Ba||t instanceof af||t instanceof ds||t instanceof Zh))throw new Error(`Unhandled expression kind: ${t.constructor.name}`)}return e(t,n)}function kb(t,e,n){if(t instanceof As)t.expr=Tt(t.expr,e,n);else if(t instanceof us)t.value=Tt(t.value,e,n);else if(t instanceof Ui)t.value!==void 0&&(t.value=Tt(t.value,e,n));else if(t instanceof Jy){t.condition=Tt(t.condition,e,n);for(let r of t.trueCase)kb(r,e,n);for(let r of t.falseCase)kb(r,e,n)}else throw new Error(`Unhandled statement kind: ${t.constructor.name}`)}function gM(t){return t instanceof ds&&typeof t.value=="string"}var Ye=(()=>{class t{static nextListId=0;debugListId=t.nextListId++;head={kind:ee.ListEnd,next:null,prev:null,debugListId:this.debugListId};tail={kind:ee.ListEnd,next:null,prev:null,debugListId:this.debugListId};constructor(){this.head.next=this.tail,this.tail.prev=this.head}push(n){if(Array.isArray(n)){for(let i of n)this.push(i);return}t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=this.debugListId;let r=this.tail.prev;n.prev=r,r.next=n,n.next=this.tail,this.tail.prev=n}prepend(n){if(n.length===0)return;for(let s of n)t.assertIsNotEnd(s),t.assertIsUnowned(s),s.debugListId=this.debugListId;let r=this.head.next,i=this.head;for(let s of n)i.next=s,s.prev=i,i=s;i.next=r,r.prev=i}*[Symbol.iterator](){let n=this.head.next;for(;n!==this.tail;){t.assertIsOwned(n,this.debugListId);let r=n.next;yield n,n=r}}*reversed(){let n=this.tail.prev;for(;n!==this.head;){t.assertIsOwned(n,this.debugListId);let r=n.prev;yield n,n=r}}static replace(n,r){t.assertIsNotEnd(n),t.assertIsNotEnd(r),t.assertIsOwned(n),t.assertIsUnowned(r),r.debugListId=n.debugListId,n.prev!==null&&(n.prev.next=r,r.prev=n.prev),n.next!==null&&(n.next.prev=r,r.next=n.next),n.debugListId=null,n.prev=null,n.next=null}static replaceWithMany(n,r){if(r.length===0){t.remove(n);return}t.assertIsNotEnd(n),t.assertIsOwned(n);let i=n.debugListId;n.debugListId=null;for(let c of r)t.assertIsNotEnd(c),t.assertIsUnowned(c);let{prev:s,next:o}=n;n.prev=null,n.next=null;let a=s;for(let c of r)t.assertIsUnowned(c),c.debugListId=i,a.next=c,c.prev=a,c.next=null,a=c;let l=r[0],u=a;s!==null&&(s.next=l,l.prev=s),o!==null&&(o.prev=u,u.next=o)}static remove(n){t.assertIsNotEnd(n),t.assertIsOwned(n),n.prev.next=n.next,n.next.prev=n.prev,n.debugListId=null,n.prev=null,n.next=null}static insertBefore(n,r){if(Array.isArray(n)){for(let i of n)t.insertBefore(i,r);return}if(t.assertIsOwned(r),r.prev===null)throw new Error("AssertionError: illegal operation on list start");t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=r.debugListId,n.prev=null,r.prev.next=n,n.prev=r.prev,n.next=r,r.prev=n}static insertAfter(n,r){if(t.assertIsOwned(r),r.next===null)throw new Error("AssertionError: illegal operation on list end");t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=r.debugListId,r.next.prev=n,n.next=r.next,n.prev=r,r.next=n}static assertIsUnowned(n){if(n.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${ee[n.kind]}`)}static assertIsOwned(n,r){if(n.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${ee[n.kind]}`);if(r!==void 0&&n.debugListId!==r)throw new Error(`AssertionError: node belongs to the wrong list (expected ${r}, actual ${n.debugListId})`)}static assertIsNotEnd(n){if(n.kind===ee.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}}return t})(),fs=class{slot=null},eW=new Set([ee.Element,ee.ElementStart,ee.Container,ee.ContainerStart,ee.Template,ee.RepeaterCreate,ee.ConditionalCreate,ee.ConditionalBranchCreate]);function Uc(t){return eW.has(t.kind)}function tW(t,e,n,r,i,s){return Ne(Ne({kind:ee.ElementStart,xref:e,tag:t,handle:new fs,attributes:null,localRefs:[],nonBindable:!1,namespace:n,i18nPlaceholder:r,startSourceSpan:i,wholeSourceSpan:s},ga),ln)}function vM(t,e,n,r,i,s,o,a){return Ne(Ne({kind:ee.Template,xref:t,templateKind:e,attributes:null,tag:n,handle:new fs,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:s,startSourceSpan:o,wholeSourceSpan:a},ga),ln)}function yM(t,e,n,r,i,s,o,a){return Ne(Ne({kind:ee.ConditionalCreate,xref:t,templateKind:e,attributes:null,tag:n,handle:new fs,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:s,startSourceSpan:o,wholeSourceSpan:a},ga),ln)}function bM(t,e,n,r,i,s,o,a){return Ne(Ne({kind:ee.ConditionalBranchCreate,xref:t,templateKind:e,attributes:null,tag:n,handle:new fs,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:s,startSourceSpan:o,wholeSourceSpan:a},ga),ln)}function nW(t,e,n,r,i,s,o,a,l,u){return qt(Ne(Ne(Ne({kind:ee.RepeaterCreate,attributes:null,xref:t,handle:new fs,emptyView:e,track:r,trackByFn:null,trackByOps:null,tag:n,emptyTag:s,emptyAttributes:null,functionNameSuffix:"For",namespace:Cs.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:i,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:u},ga),ln),Xs),{numSlotsUsed:e===null?2:3})}function rW(t,e){return Ne({kind:ee.ElementEnd,xref:t,sourceSpan:e},ln)}function iW(t){return Ne({kind:ee.DisableBindings,xref:t},ln)}function sW(t){return Ne({kind:ee.EnableBindings,xref:t},ln)}function wM(t,e,n,r){return Ne(Ne({kind:ee.Text,xref:t,handle:new fs,initialValue:e,icuPlaceholder:n,sourceSpan:r},ga),ln)}function oW(t,e,n,r,i,s){return Ne({kind:ee.AnimationString,name:t,target:e,animationKind:n,expression:r,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:s},ln)}function aW(t,e,n,r,i,s){let o=new Ye;return o.push(r),Ne({kind:ee.Animation,name:t,target:e,animationKind:n,handlerOps:o,handlerFnName:null,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:s},ln)}function h5(t,e,n,r,i,s,o,a,l){let u=new Ye;return u.push(i),Ne({kind:ee.Listener,target:t,targetSlot:e,tag:r,hostListener:a,name:n,handlerOps:u,handlerFnName:null,consumesDollarEvent:!1,isLegacyAnimationListener:s!==null,legacyAnimationPhase:s,eventTarget:o,sourceSpan:l},ln)}function _M(t,e,n,r,i,s,o,a,l){let u=new Ye;return u.push(i),Ne({kind:ee.AnimationListener,target:t,targetSlot:e,tag:r,hostListener:a,name:n,animationKind:s,handlerOps:u,handlerFnName:null,consumesDollarEvent:!1,eventTarget:o,sourceSpan:l},ln)}function xM(t,e,n,r,i,s){let o=new Ye;return o.push(i),Ne({kind:ee.TwoWayListener,target:t,targetSlot:e,tag:r,name:n,handlerOps:o,handlerFnName:null,sourceSpan:s},ln)}function EM(t,e,n){return Ne(Ne({kind:ee.Pipe,xref:t,handle:e,name:n},ln),ga)}function lW(t){return Ne({kind:ee.Namespace,active:t},ln)}function uW(t){return Ne({kind:ee.ProjectionDef,def:t},ln)}function cW(t,e,n,r,i){return qt(Ne(Ne({kind:ee.Projection,xref:t,handle:new fs,selector:e,i18nPlaceholder:n,fallbackView:r,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:i},ln),ga),{numSlotsUsed:r===null?1:2})}function Fo(t,e,n,r,i,s,o,a){return Ne({kind:ee.ExtractedAttribute,target:t,bindingKind:e,namespace:n,name:r,expression:i,i18nContext:s,i18nMessage:o,securityContext:a,trustedValueFn:null},ln)}function dW(t,e,n,r,i,s){return qt(Ne(Ne({kind:ee.Defer,xref:t,handle:new fs,mainView:e,mainSlot:n,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:r,resolverFn:i,flags:null,sourceSpan:s},ln),ga),{numSlotsUsed:2})}function Ec(t,e,n,r){return Ne({kind:ee.DeferOn,defer:t,trigger:e,modifier:n,sourceSpan:r},ln)}function fW(t,e,n){return Ne(Ne({kind:ee.DeclareLet,xref:t,declaredName:e,sourceSpan:n,handle:new fs},ga),ln)}function hW(t,e,n,r,i,s,o,a){return Ne({kind:ee.I18nMessage,xref:t,i18nContext:e,i18nBlock:n,message:r,messagePlaceholder:i,params:s,postprocessingParams:o,needsPostprocessing:a,subMessages:[]},ln)}function s2(t,e,n,r){return Ne(Ne({kind:ee.I18nStart,xref:t,handle:new fs,root:n??t,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:r},ln),ga)}function o2(t,e){return Ne({kind:ee.I18nEnd,xref:t,sourceSpan:e},ln)}function pW(t,e,n,r){return Ne({kind:ee.IcuStart,xref:t,message:e,messagePlaceholder:n,context:null,sourceSpan:r},ln)}function mW(t){return Ne({kind:ee.IcuEnd,xref:t},ln)}function gW(t,e,n){return Ne({kind:ee.IcuPlaceholder,xref:t,name:e,strings:n,expressionPlaceholders:[]},ln)}function uS(t,e,n,r,i){if(n===null&&t!==Zd.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return Ne({kind:ee.I18nContext,contextKind:t,xref:e,i18nBlock:n,message:r,sourceSpan:i,params:new Map,postprocessingParams:new Map},ln)}function SM(t,e,n){return Ne(Ne({kind:ee.I18nAttributes,xref:t,handle:e,target:n,i18nAttributesConfig:null},ln),ga)}function vW(t,e){return Ne({kind:ee.SourceLocation,templatePath:t,locations:e},ln)}function yW(t){return Ne({kind:ee.ControlCreate,sourceSpan:t},ln)}function bW(t,e,n,r,i,s){return Ne(Ne({kind:ee.DomProperty,name:t,expression:e,bindingKind:n,i18nContext:r,securityContext:i,sanitizer:null,sourceSpan:s},Xs),ln)}var CM="CTX_REF_MARKER",Et=(function(t){return t[t.Tmpl=0]="Tmpl",t[t.Host=1]="Host",t[t.Both=2]="Both",t})(Et||{}),fo=(function(t){return t[t.Full=0]="Full",t[t.DomOnly=1]="DomOnly",t})(fo||{}),Nb=class{componentName;pool;compatibility;mode;constructor(e,n,r,i){this.componentName=e,this.pool=n,this.compatibility=r,this.mode=i}kind=Et.Both;allocateXrefId(){return this.nextXrefId++}nextXrefId=0},A0=class extends Nb{relativeContextFilePath;i18nUseExternalIds;deferMeta;allDeferrableDepsFn;relativeTemplatePath;enableDebugLocations;constructor(e,n,r,i,s,o,a,l,u,c){super(e,n,r,i),this.relativeContextFilePath=s,this.i18nUseExternalIds=o,this.deferMeta=a,this.allDeferrableDepsFn=l,this.relativeTemplatePath=u,this.enableDebugLocations=c,this.root=new fa(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}kind=Et.Tmpl;fnSuffix="Template";root;views=new Map;contentSelectors=null;allocateView(e){let n=new fa(this,this.allocateXrefId(),e);return this.views.set(n.xref,n),n}get units(){return this.views.values()}addConst(e,n){for(let i=0;i<this.consts.length;i++)if(this.consts[i].isEquivalent(e))return i;let r=this.consts.length;return this.consts.push(e),n&&this.constsInitializers.push(...n),r}consts=[];constsInitializers=[]},Mb=class{xref;constructor(e){this.xref=e}create=new Ye;update=new Ye;fnName=null;vars=null;*ops(){for(let e of this.create)if(yield e,e.kind===ee.Listener||e.kind===ee.Animation||e.kind===ee.AnimationListener||e.kind===ee.TwoWayListener)for(let n of e.handlerOps)yield n;else if(e.kind===ee.RepeaterCreate&&e.trackByOps!==null)for(let n of e.trackByOps)yield n;for(let e of this.update)yield e}},fa=class extends Mb{job;parent;constructor(e,n,r){super(n),this.job=e,this.parent=r}contextVariables=new Map;aliases=new Set;decls=null},Rb=class extends Nb{constructor(e,n,r,i){super(e,n,r,i),this.root=new sC(this)}kind=Et.Host;fnSuffix="HostBindings";root;get units(){return[this.root]}},sC=class extends Mb{job;constructor(e){super(0),this.job=e}attributes=null};function wW(t){for(let e of t.units)for(let n of e.ops())yi(n,_W,Jn.None)}function _W(t){if(t instanceof yo&&t.fn instanceof ss&&t.fn.name==="$any"){if(t.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return t.args[0]}return t}function xW(t){let e=new Map;for(let n of t.units)for(let r of n.create)r.kind===ee.I18nContext&&e.set(r.xref,r);for(let n of t.units)for(let r of n.update)r.kind===ee.I18nExpression&&EW(e,r)&&Ye.insertAfter(Zz(r.i18nOwner,r.handle,null),r)}function EW(t,e){if(e.next?.kind!==ee.I18nExpression)return!0;let n=t.get(e.context),r=t.get(e.next.context);if(n===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(r===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return n.i18nBlock!==null?n.i18nBlock!==r.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function SW(t){for(let e of t.units){let n=e.update.head,r=[],i=null;for(let s of e.create){if(s.kind===ee.I18nStart)i={blockXref:s.xref,lastSlotConsumer:s.xref};else if(s.kind===ee.I18nEnd){for(let o of r)o.target=i.lastSlotConsumer,Ye.insertBefore(o,n);r.length=0,i=null}if(yp(s))for(i!==null&&(i.lastSlotConsumer=s.xref);n.next!==null;){if(i!==null&&n.kind===ee.I18nExpression&&n.usage===gp.I18nText&&n.i18nOwner===i.blockXref){let a=n;n=n.next,Ye.remove(a),r.push(a);continue}let o=!1;if(w0(n)&&n.target!==s.xref?o=!0:(n.kind===ee.Statement||n.kind===ee.Variable)&&Yi(n,a=>{!o&&w0(a)&&a.target!==s.xref&&(o=!0)}),o)break;n=n.next}}}}function CW(t){if(!(!t.enableDebugLocations||t.relativeTemplatePath===null))for(let e of t.units){let n=[];for(let r of e.create)if(r.kind===ee.ElementStart||r.kind===ee.Element){let i=r.startSourceSpan.start;n.push({targetSlot:r.handle,offset:i.offset,line:i.line,column:i.col})}n.length>0&&e.create.push(vW(t.relativeTemplatePath,n))}}function AM(t){let e=new Map;for(let n of t.create)yp(n)&&(e.set(n.xref,n),n.kind===ee.RepeaterCreate&&n.emptyView!==null&&e.set(n.emptyView,n));return e}function AW(t){for(let e of t.units){let n=AM(e);for(let r of e.ops())switch(r.kind){case ee.Attribute:TW(e,r,n);break;case ee.Property:if(r.bindingKind!==Dt.LegacyAnimation&&r.bindingKind!==Dt.Animation){let i;r.i18nMessage!==null&&r.templateKind===null?i=Dt.I18n:r.isStructuralTemplateAttribute?i=Dt.Template:i=Dt.Property,Ye.insertBefore(Fo(r.target,i,null,r.name,null,null,null,r.securityContext),$d(n,r.target))}break;case ee.Control:Ye.insertBefore(Fo(r.target,Dt.Property,null,r.name,null,null,null,r.securityContext),$d(n,r.target));break;case ee.TwoWayProperty:Ye.insertBefore(Fo(r.target,Dt.TwoWayProperty,null,r.name,null,null,null,r.securityContext),$d(n,r.target));break;case ee.StyleProp:case ee.ClassProp:e.job.compatibility===zo.TemplateDefinitionBuilder&&r.expression instanceof S0&&Ye.insertBefore(Fo(r.target,Dt.Property,null,r.name,null,null,null,xr.STYLE),$d(n,r.target));break;case ee.Listener:if(!r.isLegacyAnimationListener){let i=Fo(r.target,Dt.Property,null,r.name,null,null,null,xr.NONE);if(t.kind===Et.Host){if(t.compatibility)break;e.create.push(i)}else Ye.insertBefore(i,$d(n,r.target))}break;case ee.TwoWayListener:if(t.kind!==Et.Host){let i=Fo(r.target,Dt.Property,null,r.name,null,null,null,xr.NONE);Ye.insertBefore(i,$d(n,r.target))}break}}}function $d(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function TW(t,e,n){if(e.expression instanceof Jr)return;let r=e.isTextAttribute||e.expression.isConstant();if(t.job.compatibility===zo.TemplateDefinitionBuilder&&(r&&=e.isTextAttribute),r){let i=Fo(e.target,e.isStructuralTemplateAttribute?Dt.Template:Dt.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(t.job.kind===Et.Host)t.create.push(i);else{let s=$d(n,e.target);Ye.insertBefore(i,s)}Ye.remove(e)}}var A8="aria-";function TM(t){return t.startsWith(A8)&&t.length>A8.length}function IW(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function DW(t){let e=new Map;for(let n of t.units)for(let r of n.create)Uc(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===ee.Binding)switch(r.bindingKind){case Dt.Attribute:if(r.name==="ngNonBindable"){Ye.remove(r);let i=IW(e,r.target);i.nonBindable=!0}else if(r.name.startsWith("animate."))Ye.replace(r,C8(r.name,r.target,r.name==="animate.enter"?"enter":"leave",r.expression,r.securityContext,r.sourceSpan,0));else{let[i,s]=ja(r.name);Ye.replace(r,S8(r.target,i,s,r.expression,r.securityContext,r.isTextAttribute,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan))}break;case Dt.Animation:Ye.replace(r,C8(r.name,r.target,r.name==="animate.enter"?"enter":"leave",r.expression,r.securityContext,r.sourceSpan,1));break;case Dt.Property:case Dt.LegacyAnimation:t.mode===fo.DomOnly&&TM(r.name)?Ye.replace(r,S8(r.target,null,r.name,r.expression,r.securityContext,!1,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan)):t.kind===Et.Host?Ye.replace(r,bW(r.name,r.expression,r.bindingKind,r.i18nContext,r.securityContext,r.sourceSpan)):r.name==="formField"?Ye.replace(r,Qz(r)):Ye.replace(r,Hz(r.target,r.name,r.expression,r.bindingKind,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case Dt.TwoWayProperty:if(!(r.expression instanceof fr))throw new Error(`Expected value of two-way property binding "${r.name}" to be an expression`);Ye.replace(r,$z(r.target,r.name,r.expression,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case Dt.I18n:case Dt.ClassName:case Dt.StyleProperty:throw new Error(`Unhandled binding of kind ${Dt[r.bindingKind]}`)}}var T8=new Map([[be.ariaProperty,be.ariaProperty],[be.attribute,be.attribute],[be.classProp,be.classProp],[be.element,be.element],[be.elementContainer,be.elementContainer],[be.elementContainerEnd,be.elementContainerEnd],[be.elementContainerStart,be.elementContainerStart],[be.elementEnd,be.elementEnd],[be.elementStart,be.elementStart],[be.domProperty,be.domProperty],[be.i18nExp,be.i18nExp],[be.listener,be.listener],[be.listener,be.listener],[be.property,be.property],[be.styleProp,be.styleProp],[be.syntheticHostListener,be.syntheticHostListener],[be.syntheticHostProperty,be.syntheticHostProperty],[be.templateCreate,be.templateCreate],[be.twoWayProperty,be.twoWayProperty],[be.twoWayListener,be.twoWayListener],[be.declareLet,be.declareLet],[be.conditionalCreate,be.conditionalBranchCreate],[be.conditionalBranchCreate,be.conditionalBranchCreate],[be.domElement,be.domElement],[be.domElementStart,be.domElementStart],[be.domElementEnd,be.domElementEnd],[be.domElementContainer,be.domElementContainer],[be.domElementContainerStart,be.domElementContainerStart],[be.domElementContainerEnd,be.domElementContainerEnd],[be.domListener,be.domListener],[be.domTemplate,be.domTemplate],[be.animationEnter,be.animationEnter],[be.animationLeave,be.animationLeave],[be.animationEnterListener,be.animationEnterListener],[be.animationLeaveListener,be.animationLeaveListener]]),kW=256;function NW(t){for(let e of t.units)I8(e.create),I8(e.update)}function I8(t){let e=null;for(let n of t){if(n.kind!==ee.Statement||!(n.statement instanceof As)){e=null;continue}if(!(n.statement.expr instanceof yo)||!(n.statement.expr.fn instanceof af)){e=null;continue}let r=n.statement.expr.fn.value;if(!T8.has(r)){e=null;continue}if(e!==null&&T8.get(e.instruction)===r&&e.length<kW){let i=e.expression.callFn(n.statement.expr.args,n.statement.expr.sourceSpan,n.statement.expr.pure);e.expression=i,e.op.statement=i.toStmt(),e.length++,Ye.remove(n)}else e={op:n,instruction:r,expression:n.statement.expr,length:1}}}function MW(t){for(let e of t.units)for(let n of e.update)(n.kind===ee.Attribute||n.kind===ee.StyleProp||n.kind==ee.StyleMap||n.kind===ee.ClassMap)&&n.expression instanceof Jr&&n.expression.strings.length===2&&n.expression.strings.every(i=>i==="")&&(n.expression=n.expression.expressions[0])}function RW(t){for(let e of t.units)for(let n of e.ops()){if(n.kind!==ee.Conditional)continue;let r,i=n.conditions.findIndex(a=>a.expr===null);if(i>=0){let a=n.conditions.splice(i,1)[0].targetSlot;r=new Ib(a)}else r=Me(-1);let s=n.test==null?null:new Ll(n.test,t.allocateXrefId()),o=null;for(let a=n.conditions.length-1;a>=0;a--){let l=n.conditions[a];if(l.expr!==null){if(s!==null){let u=a===0?s:new Vc(s.xref);l.expr=new Hn(st.Identical,u,l.expr)}else l.alias!==null&&(o??=t.allocateXrefId(),l.expr=new Ll(l.expr,o),n.contextValue=new Vc(o));r=new Il(l.expr,new Ib(l.targetSlot),r)}}n.processed=r,n.conditions=[]}}var PW=new Map([["&&",st.And],[">",st.Bigger],[">=",st.BiggerEquals],["|",st.BitwiseOr],["&",st.BitwiseAnd],["/",st.Divide],["=",st.Assign],["==",st.Equals],["===",st.Identical],["<",st.Lower],["<=",st.LowerEquals],["-",st.Minus],["%",st.Modulo],["**",st.Exponentiation],["*",st.Multiply],["!=",st.NotEquals],["!==",st.NotIdentical],["??",st.NullishCoalesce],["||",st.Or],["+",st.Plus],["in",st.In],["+=",st.AdditionAssignment],["-=",st.SubtractionAssignment],["*=",st.MultiplicationAssignment],["/=",st.DivisionAssignment],["%=",st.RemainderAssignment],["**=",st.ExponentiationAssignment],["&&=",st.AndAssignment],["||=",st.OrAssignment],["??=",st.NullishCoalesceAssignment]]);function IM(t){let e=new Map([["svg",Cs.SVG],["math",Cs.Math]]);return t===null?Cs.HTML:e.get(t)??Cs.HTML}function LW(t){let e=new Map([["svg",Cs.SVG],["math",Cs.Math]]);for(let[n,r]of e.entries())if(r===t)return n;return null}function FW(t,e){return e===Cs.HTML?t:`:${LW(e)}:${t}`}function fp(t){return Array.isArray(t)?gr(t.map(fp)):Me(t)}function OW(t){let e=new Map;for(let n of t.units)for(let r of n.create)if(r.kind===ee.ExtractedAttribute){let i=e.get(r.target)||new oC(t.compatibility);e.set(r.target,i),i.add(r.bindingKind,r.name,r.expression,r.namespace,r.trustedValueFn),Ye.remove(r)}if(t instanceof A0)for(let n of t.units)for(let r of n.create)if(r.kind==ee.Projection){let i=e.get(r.xref);if(i!==void 0){let s=aC(i);s.entries.length>0&&(r.attributes=s)}}else Uc(r)&&(r.attributes=D8(t,e,r.xref),r.kind===ee.RepeaterCreate&&r.emptyView!==null&&(r.emptyAttributes=D8(t,e,r.emptyView)));else if(t instanceof Rb)for(let[n,r]of e.entries()){if(n!==t.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let i=aC(r);i.entries.length>0&&(t.root.attributes=i)}}function D8(t,e,n){let r=e.get(n);if(r!==void 0){let i=aC(r);if(i.entries.length>0)return t.addConst(i)}return null}var Ph=Object.freeze([]),oC=class{compatibility;known=new Map;byKind=new Map;propertyBindings=null;projectAs=null;get attributes(){return this.byKind.get(Dt.Attribute)??Ph}get classes(){return this.byKind.get(Dt.ClassName)??Ph}get styles(){return this.byKind.get(Dt.StyleProperty)??Ph}get bindings(){return this.propertyBindings??Ph}get template(){return this.byKind.get(Dt.Template)??Ph}get i18n(){return this.byKind.get(Dt.I18n)??Ph}constructor(e){this.compatibility=e}isKnown(e,n){let r=this.known.get(e)??new Set;return this.known.set(e,r),r.has(n)?!0:(r.add(n),!1)}add(e,n,r,i,s){if(!(this.compatibility===zo.TemplateDefinitionBuilder&&(e===Dt.Attribute||e===Dt.ClassName||e===Dt.StyleProperty))&&this.isKnown(e,n))return;if(n==="ngProjectAs"){if(r===null||!(r instanceof ds)||r.value==null||typeof r.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=r.value.toString()}let a=this.arrayFor(e);if(a.push(...BW(i,n)),e===Dt.Attribute||e===Dt.StyleProperty){if(r===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(s!==null){if(!gM(r))throw Error("AssertionError: extracted attribute value should be string literal");a.push(tq(s,new jg([new Xy(r.value)],[]),void 0,r.sourceSpan))}else a.push(r)}}arrayFor(e){return e===Dt.Property||e===Dt.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function BW(t,e){let n=Me(e);return t?[Me(0),Me(t),n]:[n]}function aC({attributes:t,bindings:e,classes:n,i18n:r,projectAs:i,styles:s,template:o}){let a=[...t];if(i!==null){let l=ZC(i)[0];a.push(Me(5),fp(l))}return n.length>0&&a.push(Me(1),...n),s.length>0&&a.push(Me(2),...s),e.length>0&&a.push(Me(3),...e),o.length>0&&a.push(Me(4),...o),r.length>0&&a.push(Me(6),...r),gr(a)}function VW(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function UW(t){let e=new Map;for(let n of t.units)for(let r of n.create)Uc(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===ee.AnimationBinding){let i=jW(r);t.kind===Et.Host?n.create.push(i):Ye.insertAfter(i,VW(e,r.target)),Ye.remove(r)}}function jW(t){if(t.animationBindingKind===0)return oW(t.name,t.target,t.name==="animate.enter"?"enter":"leave",t.expression,t.securityContext,t.sourceSpan);{let e=t.expression;return aW(t.name,t.target,t.name==="animate.enter"?"enter":"leave",[ma(new us(e,e.sourceSpan))],t.securityContext,t.sourceSpan)}}function HW(t){let e=new Map;for(let n of t.units){for(let r of n.create)r.kind===ee.I18nAttributes&&e.set(r.target,r);for(let r of n.update)switch(r.kind){case ee.Property:case ee.Attribute:if(r.i18nContext===null||!(r.expression instanceof Jr))continue;let i=e.get(r.target);if(i===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(i.target!==r.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let s=[];for(let o=0;o<r.expression.expressions.length;o++){let a=r.expression.expressions[o];if(r.expression.i18nPlaceholders.length!==r.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${r.expression.i18nPlaceholders.length} placeholders and ${r.expression.expressions.length} expressions`);s.push(mM(r.i18nContext,i.target,i.xref,i.handle,a,null,r.expression.i18nPlaceholders[o],b0.Creation,gp.I18nAttribute,r.name,r.sourceSpan))}Ye.replaceWithMany(r,s);break}}}function $W(t){let e=new Map;for(let i of t.units)for(let s of i.ops())switch(s.kind){case ee.Binding:case ee.Property:case ee.Attribute:case ee.ExtractedAttribute:if(s.i18nMessage===null)continue;if(!e.has(s.i18nMessage)){let o=uS(Zd.Attr,t.allocateXrefId(),null,s.i18nMessage,null);i.create.push(o),e.set(s.i18nMessage,o.xref)}s.i18nContext=e.get(s.i18nMessage);break}let n=new Map;for(let i of t.units)for(let s of i.create)switch(s.kind){case ee.I18nStart:if(s.xref===s.root){let o=uS(Zd.RootI18n,t.allocateXrefId(),s.xref,s.message,null);i.create.push(o),s.context=o.xref,n.set(s.xref,o)}break}for(let i of t.units)for(let s of i.create)if(s.kind===ee.I18nStart&&s.xref!==s.root){let o=n.get(s.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");s.context=o.xref,n.set(s.xref,o)}let r=null;for(let i of t.units)for(let s of i.create)switch(s.kind){case ee.I18nStart:r=s;break;case ee.I18nEnd:r=null;break;case ee.IcuStart:if(r===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(s.message.id!==r.message.id){let o=uS(Zd.Icu,t.allocateXrefId(),r.root,s.message,null);i.create.push(o),s.context=o.xref}else s.context=r.context,n.get(r.xref).contextKind=Zd.Icu;break}}function qW(t){let e=new Map;for(let n of t.units)for(let r of n.update.reversed())if(r.kind===ee.Binding&&r.isTextAttribute){let i=e.get(r.target)||new Set;i.has(r.name)&&t.compatibility===zo.TemplateDefinitionBuilder&&(r.name==="style"||r.name==="class")&&Ye.remove(r),i.add(r.name),e.set(r.target,i)}}function zW(t){for(let e of t.units)for(let n of e.create)n.kind===ee.Defer&&(n.placeholderMinimumTime!==null&&(n.placeholderConfig=new C0(fp([n.placeholderMinimumTime]))),(n.loadingMinimumTime!==null||n.loadingAfterTime!==null)&&(n.loadingConfig=new C0(fp([n.loadingMinimumTime,n.loadingAfterTime]))))}function WW(t){let e=new Map;function n(i){if(e.has(i.xref))return e.get(i.xref);let s=new GW;for(let o of i.create)if(!(!Uc(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of o.localRefs)a.target===""&&s.targets.set(a.name,{xref:o.xref,slot:o.handle})}return e.set(i.xref,s),s}function r(i,s,o){switch(s.trigger.kind){case _r.Idle:case _r.Never:case _r.Immediate:case _r.Timer:return;case _r.Hover:case _r.Interaction:case _r.Viewport:if(s.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let u=t.views.get(o);if(u==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let c of u.create)if(yp(c)&&(Uc(c)||c.kind===ee.Projection)){s.trigger.targetXref=c.xref,s.trigger.targetView=o,s.trigger.targetSlotViewSteps=-1,s.trigger.targetSlot=c.handle;return}return}let a=o!==null?t.views.get(o):i,l=o!==null?-1:0;for(;a!==null;){let u=n(a);if(u.targets.has(s.trigger.targetName)){let{xref:c,slot:d}=u.targets.get(s.trigger.targetName);s.trigger.targetXref=c,s.trigger.targetView=a.xref,s.trigger.targetSlotViewSteps=l,s.trigger.targetSlot=d;return}a=a.parent!==null?t.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${s.trigger.kind} not handled`)}}for(let i of t.units){let s=new Map;for(let o of i.create)switch(o.kind){case ee.Defer:s.set(o.xref,o);break;case ee.DeferOn:let a=s.get(o.defer);r(i,o,o.modifier==="hydrate"?a.mainView:a.placeholderView);break}}}var GW=class{targets=new Map},YW=new Map([[ee.ElementEnd,[ee.ElementStart,ee.Element]],[ee.ContainerEnd,[ee.ContainerStart,ee.Container]],[ee.I18nEnd,[ee.I18nStart,ee.I18n]]]),XW=new Set([ee.Pipe]);function KW(t){for(let e of t.units)for(let n of e.create){let r=YW.get(n.kind);if(r===void 0)continue;let[i,s]=r,o=n.prev;for(;o!==null&&XW.has(o.kind);)o=o.prev;o!==null&&o.kind===i&&(o.kind=s,Ye.remove(n))}}function ZW(t){for(let e of t.units)for(let n of e.ops())yi(n,r=>rG(r,{job:t}),Jn.None),yi(n,iG,Jn.None)}function Lo(t){return t instanceof uf?Lo(t.expr):t instanceof Hn?Lo(t.lhs)||Lo(t.rhs):t instanceof Il?t.falseCase&&Lo(t.falseCase)?!0:Lo(t.condition)||Lo(t.trueCase):t instanceof Hg?Lo(t.condition):t instanceof Ll?Lo(t.expr):t instanceof $o?Lo(t.receiver):t instanceof Tu?Lo(t.receiver)||Lo(t.index):t instanceof Va?Lo(t.expr):t instanceof yo||t instanceof Dl||t instanceof Ua||t instanceof wf||t instanceof bf}function JW(t){let e=new Set;return Tt(t,n=>(n instanceof Ll&&e.add(n.xref),n),Jn.None),e}function QW(t,e,n){return Tt(t,r=>{if(r instanceof Ll&&e.has(r.xref)){let i=new Vc(r.xref);return n.job.compatibility===zo.TemplateDefinitionBuilder?new Ll(i,i.xref):i}return r},Jn.None),t}function Lh(t,e,n){let r;if(Lo(t)){let i=n.job.allocateXrefId();r=[new Ll(t,i),new Vc(i)]}else r=[t,t.clone()],QW(r[1],JW(r[0]),n);return new dp(r[0],e(r[1]))}function eG(t){return t instanceof up||t instanceof cp||t instanceof wf}function tG(t){return t instanceof $o||t instanceof Tu||t instanceof yo}function DM(t){return eG(t)||tG(t)}function nG(t){if(DM(t)&&t.receiver instanceof dp){let e=t.receiver;for(;e.expr instanceof dp;)e=e.expr;return e}return null}function rG(t,e){if(!DM(t))return t;let n=nG(t);if(n){if(t instanceof yo)return n.expr=n.expr.callFn(t.args),t.receiver;if(t instanceof $o)return n.expr=n.expr.prop(t.name),t.receiver;if(t instanceof Tu)return n.expr=n.expr.key(t.index),t.receiver;if(t instanceof wf)return n.expr=Lh(n.expr,r=>r.callFn(t.args),e),t.receiver;if(t instanceof up)return n.expr=Lh(n.expr,r=>r.prop(t.name),e),t.receiver;if(t instanceof cp)return n.expr=Lh(n.expr,r=>r.key(t.index),e),t.receiver}else{if(t instanceof wf)return Lh(t.receiver,r=>r.callFn(t.args),e);if(t instanceof up)return Lh(t.receiver,r=>r.prop(t.name),e);if(t instanceof cp)return Lh(t.receiver,r=>r.key(t.index),e)}return t}function iG(t){return t instanceof dp?new Va(new Il(new Hn(st.Equals,t.guard,Qh),Qh,t.expr)):t}var k8="\uFFFD",sG="#",oG="*",aG="/",lG=":",uG="[",cG="]",dG="|";function fG(t){let e=new Map,n=new Map,r=new Map;for(let s of t.units)for(let o of s.create)switch(o.kind){case ee.I18nContext:let a=hG(t,o);s.create.push(a),e.set(o.xref,a),r.set(o.xref,o);break;case ee.I18nStart:n.set(o.xref,o);break}let i=null;for(let s of t.units)for(let o of s.create)switch(o.kind){case ee.IcuStart:i=o,Ye.remove(o);let a=r.get(o.context);if(a.contextKind!==Zd.Icu)continue;let l=n.get(a.i18nBlock);if(l.context===a.xref)continue;let u=n.get(l.root),c=e.get(u.context);if(c===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let d=e.get(a.xref);d.messagePlaceholder=o.messagePlaceholder,c.subMessages.push(d.xref);break;case ee.IcuEnd:i=null,Ye.remove(o);break;case ee.IcuPlaceholder:if(i===null||i.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(i.context).postprocessingParams.set(o.name,Me(pG(o))),Ye.remove(o);break}}function hG(t,e,n){let r=N8(e.params),i=N8(e.postprocessingParams),s=[...e.params.values()].some(o=>o.length>1);return hW(t.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,r,i,s)}function pG(t){if(t.strings.length!==t.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${t.strings.length} strings and ${t.expressionPlaceholders.length} expressions`);let e=t.expressionPlaceholders.map(qh);return t.strings.flatMap((n,r)=>[n,e[r]||""]).join("")}function N8(t){let e=new Map;for(let[n,r]of t){let i=mG(r);i!==null&&e.set(n,Me(i))}return e}function mG(t){if(t.length===0)return null;let e=t.map(n=>qh(n));return e.length===1?e[0]:`${uG}${e.join(dG)}${cG}`}function qh(t){if(t.flags&kr.ElementTag&&t.flags&kr.TemplateTag){if(typeof t.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let i=qh(qt(Ne({},t),{value:t.value.element,flags:t.flags&~kr.TemplateTag})),s=qh(qt(Ne({},t),{value:t.value.template,flags:t.flags&~kr.ElementTag}));return t.flags&kr.OpenTag&&t.flags&kr.CloseTag?`${s}${i}${s}`:t.flags&kr.CloseTag?`${i}${s}`:`${s}${i}`}if(t.flags&kr.OpenTag&&t.flags&kr.CloseTag)return`${qh(qt(Ne({},t),{flags:t.flags&~kr.CloseTag}))}${qh(qt(Ne({},t),{flags:t.flags&~kr.OpenTag}))}`;if(t.flags===kr.None)return`${t.value}`;let e="",n="";t.flags&kr.ElementTag?e=sG:t.flags&kr.TemplateTag&&(e=oG),e!==""&&(n=t.flags&kr.CloseTag?aG:"");let r=t.subTemplateIndex===null?"":`${lG}${t.subTemplateIndex}`;return`${k8}${n}${e}${t.value}${r}${k8}`}function gG(t){for(let e of t.units){let n=new Map;for(let i of e.create){if(yp(i)){if(i.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;n.set(i.xref,i.handle.slot)}let r=0;for(let i of e.update){let s=null;if(w0(i)?s=i:Yi(i,a=>{s===null&&w0(a)&&(s=a)}),s===null)continue;if(!n.has(s.target))throw new Error(`AssertionError: reference to unknown slot for target ${s.target}`);let o=n.get(s.target);if(r!==o){let a=o-r;if(a<0)throw new Error("AssertionError: slot counter should never need to move backwards");Ye.insertBefore(Yz(a,s.sourceSpan),i),r=o}}}}function vG(t){for(let e of t.units)for(let n of e.update){if(n.kind!==ee.StoreLet)continue;let r={kind:Gi.Identifier,name:null,identifier:n.declaredName,local:!0};Ye.replace(n,Ac(t.allocateXrefId(),r,new _0(n.target,n.value,n.sourceSpan),da.None))}}function yG(t){let e=t.compatibility===zo.TemplateDefinitionBuilder,n=[],r=0;for(let i of t.units)for(let s of i.create)s.kind===ee.Projection&&(n.push(s.selector),s.projectionSlotIndex=r++);if(n.length>0){let i=null;if(n.length>1||n[0]!=="*"){let s=n.map(o=>o==="*"?o:ZC(o));i=t.pool.getConstLiteral(fp(s),e)}t.contentSelectors=t.pool.getConstLiteral(fp(n),e),t.root.create.prepend([uW(i)])}}function bG(t){Dg(t.root,null)}function Dg(t,e){let n=wG(t,e);for(let r of t.create)switch(r.kind){case ee.ConditionalCreate:case ee.ConditionalBranchCreate:case ee.Template:Dg(t.job.views.get(r.xref),n);break;case ee.Projection:r.fallbackView!==null&&Dg(t.job.views.get(r.fallbackView),n);break;case ee.RepeaterCreate:Dg(t.job.views.get(r.xref),n),r.emptyView&&Dg(t.job.views.get(r.emptyView),n),r.trackByOps!==null&&r.trackByOps.prepend(Uy(t,n,!1));break;case ee.Animation:case ee.AnimationListener:case ee.Listener:case ee.TwoWayListener:r.handlerOps.prepend(Uy(t,n,!0));break}t.update.prepend(Uy(t,n,!1))}function wG(t,e){let n={view:t.xref,viewContextVariable:{kind:Gi.Context,name:null,view:t.xref},contextVariables:new Map,aliases:t.aliases,references:[],letDeclarations:[],parent:e};for(let r of t.contextVariables.keys())n.contextVariables.set(r,{kind:Gi.Identifier,name:null,identifier:r,local:!1});for(let r of t.create)switch(r.kind){case ee.ElementStart:case ee.ConditionalCreate:case ee.ConditionalBranchCreate:case ee.Template:if(!Array.isArray(r.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let i=0;i<r.localRefs.length;i++)n.references.push({name:r.localRefs[i].name,targetId:r.xref,targetSlot:r.handle,offset:i,variable:{kind:Gi.Identifier,name:null,identifier:r.localRefs[i].name,local:!1}});break;case ee.DeclareLet:n.letDeclarations.push({targetId:r.xref,targetSlot:r.handle,variable:{kind:Gi.Identifier,name:null,identifier:r.declaredName,local:!1}});break}return n}function Uy(t,e,n){let r=[];e.view!==t.xref&&r.push(Ac(t.job.allocateXrefId(),e.viewContextVariable,new Cb,da.None));let i=t.job.views.get(e.view);for(let[s,o]of i.contextVariables){let a=new Oc(e.view),l=o===CM?a:new $o(a,o);r.push(Ac(t.job.allocateXrefId(),e.contextVariables.get(s),l,da.None))}for(let s of i.aliases)r.push(Ac(t.job.allocateXrefId(),s,s.expression.clone(),da.AlwaysInline));for(let s of e.references)r.push(Ac(t.job.allocateXrefId(),s.variable,new Sb(s.targetId,s.targetSlot,s.offset),da.None));if(e.view!==t.xref||n)for(let s of e.letDeclarations)r.push(Ac(t.job.allocateXrefId(),s.variable,new x0(s.targetId,s.targetSlot),da.None));return e.parent!==null&&r.push(...Uy(t,e.parent,!1)),r}function _G(t){for(let e of t.units)for(let n of e.ops())yi(n,r=>r instanceof C0?Me(t.addConst(r.expr)):r,Jn.None)}var M8="style.",R8="class.",xG="style!",P8="class!",L8="!important";function EG(t){for(let e of t.root.update)if(e.kind===ee.Binding&&e.bindingKind===Dt.Property)if(e.name.endsWith(L8)&&(e.name=e.name.substring(0,e.name.length-L8.length)),e.name.startsWith(M8)){e.bindingKind=Dt.StyleProperty,e.name=e.name.substring(M8.length),SG(e.name)||(e.name=CG(e.name));let{property:n,suffix:r}=cS(e.name);e.name=n,e.unit=r}else e.name.startsWith(xG)?(e.bindingKind=Dt.StyleProperty,e.name="style"):e.name.startsWith(R8)?(e.bindingKind=Dt.ClassName,e.name=cS(e.name.substring(R8.length)).property):e.name.startsWith(P8)&&(e.bindingKind=Dt.ClassName,e.name=cS(e.name.substring(P8.length)).property)}function SG(t){return t.startsWith("--")}function CG(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function cS(t){let e=t.indexOf("!important");e!==-1&&(t=e>0?t.substring(0,e):"");let n=null,r=t,i=t.lastIndexOf(".");return i>0&&(n=t.slice(i+1),r=t.substring(0,i)),{property:r,suffix:n}}function lC(t,e=!1){return pa(Object.keys(t).map(n=>({key:n,quoted:e,value:t[n]})))}var uC=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}formatPh(e){return`{${O0(e,!1)}}`}},AG=new uC;function kM(t){return t.visit(AG)}var Iu=class{sourceSpan;i18n;constructor(e,n){this.sourceSpan=e,this.i18n=n}},_f=class extends Iu{value;tokens;constructor(e,n,r,i){super(n,i),this.value=e,this.tokens=r}visit(e,n){return e.visitText(this,n)}},nf=class extends Iu{switchValue;type;cases;switchValueSourceSpan;constructor(e,n,r,i,s,o){super(i,o),this.switchValue=e,this.type=n,this.cases=r,this.switchValueSourceSpan=s}visit(e,n){return e.visitExpansion(this,n)}},Pb=class{value;expression;sourceSpan;valueSourceSpan;expSourceSpan;constructor(e,n,r,i,s){this.value=e,this.expression=n,this.sourceSpan=r,this.valueSourceSpan=i,this.expSourceSpan=s}visit(e,n){return e.visitExpansionCase(this,n)}},cC=class extends Iu{name;value;keySpan;valueSpan;valueTokens;constructor(e,n,r,i,s,o,a){super(r,a),this.name=e,this.value=n,this.keySpan=i,this.valueSpan=s,this.valueTokens=o}visit(e,n){return e.visitAttribute(this,n)}},la=class extends Iu{name;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;isVoid;constructor(e,n,r,i,s,o,a,l=null,u,c){super(o,c),this.name=e,this.attrs=n,this.directives=r,this.children=i,this.isSelfClosing=s,this.startSourceSpan=a,this.endSourceSpan=l,this.isVoid=u}visit(e,n){return e.visitElement(this,n)}},T0=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitComment(this,n)}},ca=class extends Iu{name;parameters;children;nameSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a=null,l){super(i,l),this.name=e,this.parameters=n,this.children=r,this.nameSpan=s,this.startSourceSpan=o,this.endSourceSpan=a}visit(e,n){return e.visitBlock(this,n)}},ho=class extends Iu{componentName;tagName;fullName;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a,l,u,c=null,d){super(l,d),this.componentName=e,this.tagName=n,this.fullName=r,this.attrs=i,this.directives=s,this.children=o,this.isSelfClosing=a,this.startSourceSpan=u,this.endSourceSpan=c}visit(e,n){return e.visitComponent(this,n)}},dC=class{name;attrs;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s=null){this.name=e,this.attrs=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=s}visit(e,n){return e.visitDirective(this,n)}},Lb=class{expression;sourceSpan;constructor(e,n){this.expression=e,this.sourceSpan=n}visit(e,n){return e.visitBlockParameter(this,n)}},Fb=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=i,this.valueSpan=s}visit(e,n){return e.visitLetDeclaration(this,n)}};function Vr(t,e,n=null){let r=[],i=t.visit?s=>t.visit(s,n)||s.visit(t,n):s=>s.visit(t,n);return e.forEach(s=>{let o=i(s);o&&r.push(o)}),r}var I0={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},NM="\uE500";I0.ngsp=NM;var fC=class{tokens;errors;nonNormalizedIcuExpressions;constructor(e,n,r){this.tokens=e,this.errors=n,this.nonNormalizedIcuExpressions=r}};function TG(t,e,n,r={}){let i=new pC(new _b(t,e),n,r);return i.tokenize(),new fC(OG(i.tokens),i.errors,i.nonNormalizedIcuExpressions)}var IG=/\r\n?/g;function Fh(t){return`Unexpected character "${t===Wi?"EOF":String.fromCharCode(t)}"`}function F8(t){return`Unknown entity "${t}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function DG(t,e){return`Unable to parse entity "${e}" - ${t} character reference entities must end with ";"`}var hC=(function(t){return t.HEX="hexadecimal",t.DEC="decimal",t})(hC||{}),kG=["@if","@else","@for","@switch","@case","@default","@empty","@defer","@placeholder","@loading","@error"],Eg={start:"{{",end:"}}"},pC=class{_getTagDefinition;_cursor;_tokenizeIcu;_leadingTriviaCodePoints;_currentTokenStart=null;_currentTokenType=null;_expansionCaseStack=[];_openDirectiveCount=0;_inInterpolation=!1;_preserveLineEndings;_i18nNormalizeLineEndingsInICUs;_tokenizeBlocks;_tokenizeLet;_selectorlessEnabled;tokens=[];errors=[];nonNormalizedIcuExpressions=[];constructor(e,n,r){this._getTagDefinition=n,this._tokenizeIcu=r.tokenizeExpansionForms||!1,this._leadingTriviaCodePoints=r.leadingTriviaChars&&r.leadingTriviaChars.map(s=>s.codePointAt(0)||0);let i=r.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=r.escapedString?new mC(e,i):new Ob(e,i),this._preserveLineEndings=r.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=r.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=r.tokenizeBlocks??!0,this._tokenizeLet=r.tokenizeLet??!0,this._selectorlessEnabled=r.selectorlessEnabled??!1;try{this._cursor.init()}catch(s){this.handleError(s)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(IG,`
`)}tokenize(){for(;this._cursor.peek()!==Wi;){let e=this._cursor.clone();try{this._attemptCharCode(Yh)?this._attemptCharCode(WS)?this._attemptCharCode(Cl)?this._consumeCdata(e):this._attemptCharCode(bb)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(ua)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===Rh&&!this._inInterpolation&&this._isLetStart()?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._isBlockStart()?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(zs)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(n){this.handleError(n)}}this._beginToken(41),this._endToken([])}_getBlockName(){let e=!1,n=this._cursor.clone();return this._attemptCharCodeUntilFn(r=>g0(r)?!e:FG(r)?(e=!0,!1):!0),this._cursor.getChars(n).trim()}_consumeBlockStart(e){this._requireCharCode(Rh),this._beginToken(24,e);let n=this._endToken([this._getBlockName()]);if(this._cursor.peek()===Uo)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(Kr),this._attemptCharCode(os))this._attemptCharCodeUntilFn(Kr);else{n.type=28;return}this._attemptCharCode(Fa)?(this._beginToken(25),this._endToken([])):this._isBlockStart()&&(n.parts[0]==="case"||n.parts[0]==="default")?(this._beginToken(25),this._endToken([]),this._beginToken(26),this._endToken([])):n.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(B8);this._cursor.peek()!==os&&this._cursor.peek()!==Wi;){this._beginToken(27);let e=this._cursor.clone(),n=null,r=0;for(;this._cursor.peek()!==Oo&&this._cursor.peek()!==Wi||n!==null;){let i=this._cursor.peek();if(i===tf)this._cursor.advance();else if(i===n)n=null;else if(n===null&&Pg(i))n=i;else if(i===Uo&&n===null)r++;else if(i===os&&n===null){if(r===0)break;r>0&&r--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(B8)}}_consumeLetDeclaration(e){if(this._requireStr("@let"),this._beginToken(29,e),g0(this._cursor.peek()))this._attemptCharCodeUntilFn(Kr);else{let i=this._endToken([this._cursor.getChars(e)]);i.type=32;return}let n=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(Kr),!this._attemptCharCode(Ss)){n.type=32;return}this._attemptCharCodeUntilFn(i=>Kr(i)&&!wb(i)),this._consumeLetDeclarationValue(),this._cursor.peek()===Oo?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(n.type=32,n.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),n=!1;return this._attemptCharCodeUntilFn(r=>Fc(r)||r===r2||r===Hc||n&&La(r)?(n=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==Wi;){let n=this._cursor.peek();if(n===Oo)break;Pg(n)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(r=>r===tf?(this._cursor.advance(),!1):r===n)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(PG(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===zs){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,n=this._cursor.clone()){this._currentTokenStart=n,this._currentTokenType=e}_endToken(e,n){if(this._currentTokenStart===null)throw new tn(this._cursor.getSpan(n),"Programming error - attempted to end a token when there was no start to the token");if(this._currentTokenType===null)throw new tn(this._cursor.getSpan(this._currentTokenStart),"Programming error - attempted to end a token which has no token type");let r={type:this._currentTokenType,parts:e,sourceSpan:(n??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r}_createError(e,n){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let r=new tn(n,e);return this._currentTokenStart=null,this._currentTokenType=null,r}handleError(e){if(e instanceof D0&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof tn)this.errors.push(e);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return LG(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let n=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Fh(this._cursor.peek()),this._cursor.getSpan(n))}_attemptStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let i=0;i<n;i++)if(!this._attemptCharCode(e.charCodeAt(i)))return this._cursor=r,!1;return!0}_attemptStrCaseInsensitive(e){for(let n=0;n<e.length;n++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(n)))return!1;return!0}_requireStr(e){let n=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Fh(this._cursor.peek()),this._cursor.getSpan(n))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,n){let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(r)<n)throw this._createError(Fh(this._cursor.peek()),this._cursor.getSpan(r))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_peekStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let i=0;i<n;i++){if(r.peek()!==e.charCodeAt(i))return!1;r.advance()}return!0}_isBlockStart(){return this._cursor.peek()===Rh&&kG.some(e=>this._peekStr(e))}_isLetStart(){return this._cursor.peek()===Rh&&this._peekStr("@let")}_consumeEntity(e){this._beginToken(9);let n=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(eM)){let r=this._attemptCharCode(lM)||this._attemptCharCode(Wq),i=this._cursor.clone();if(this._attemptCharCodeUntilFn(MG),this._cursor.peek()!=Oo){this._cursor.advance();let o=r?hC.HEX:hC.DEC;throw this._createError(DG(o,this._cursor.getChars(n)),this._cursor.getSpan())}let s=this._cursor.getChars(i);this._cursor.advance();try{let o=parseInt(s,r?16:10);this._endToken([String.fromCodePoint(o),this._cursor.getChars(n)])}catch{throw this._createError(F8(this._cursor.getChars(n)),this._cursor.getSpan())}}else{let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(RG),this._cursor.peek()!=Oo)this._beginToken(e,n),this._cursor=r,this._endToken(["&"]);else{let i=this._cursor.getChars(r);this._cursor.advance();let s=I0.hasOwnProperty(i)&&I0[i];if(!s)throw this._createError(F8(i),this._cursor.getSpan(n));this._endToken([s,`&${i};`])}}}_consumeRawText(e,n){this._beginToken(e?6:7);let r=[];for(;;){let i=this._cursor.clone(),s=n();if(this._cursor=i,s)break;e&&this._cursor.peek()===yb?(this._endToken([this._processCarriageReturns(r.join(""))]),r.length=0,this._consumeEntity(6),this._beginToken(6)):r.push(this._readChar())}this._endToken([this._processCarriageReturns(r.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(bb),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let n=this._cursor.clone();this._attemptUntilChar(aa);let r=this._cursor.getChars(n);this._cursor.advance(),this._endToken([r])}_consumePrefixAndName(e){let n=this._cursor.clone(),r="";for(;this._cursor.peek()!==xl&&!NG(this._cursor.peek());)this._cursor.advance();let i;this._cursor.peek()===xl?(r=this._cursor.getChars(n),this._cursor.advance(),i=this._cursor.clone()):i=n,this._requireCharCodeUntilFn(e,r===""?0:1);let s=this._cursor.getChars(i);return[r,s]}_consumeTagOpen(e){let n,r,i,s;try{if(this._selectorlessEnabled&&Ay(this._cursor.peek()))s=this._consumeComponentOpenStart(e),[i,r,n]=s.parts,r&&(i+=`:${r}`),n&&(i+=`:${n}`),this._attemptCharCodeUntilFn(Kr);else{if(!Fc(this._cursor.peek()))throw this._createError(Fh(this._cursor.peek()),this._cursor.getSpan(e));s=this._consumeTagOpenStart(e),r=s.parts[0],n=i=s.parts[1],this._attemptCharCodeUntilFn(Kr)}for(;!U8(this._cursor.peek());)if(this._selectorlessEnabled&&this._cursor.peek()===Rh){let a=this._cursor.clone(),l=a.clone();l.advance(),Ay(l.peek())&&this._consumeDirective(a,l)}else this._consumeAttribute();s.type===33?this._consumeComponentOpenEnd():this._consumeTagOpenEnd()}catch(a){if(a instanceof tn){s?s.type=s.type===33?37:4:(this._beginToken(5,e),this._endToken(["<"]));return}throw a}let o=this._getTagDefinition(n).getContentType(r);o===_l.RAW_TEXT?this._consumeRawTextWithTagClose(s,i,!1):o===_l.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(s,i,!0)}_consumeRawTextWithTagClose(e,n,r){this._consumeRawText(r,()=>!this._attemptCharCode(Yh)||!this._attemptCharCode(ua)||(this._attemptCharCodeUntilFn(Kr),!this._attemptStrCaseInsensitive(n))?!1:(this._attemptCharCodeUntilFn(Kr),this._attemptCharCode(aa))),this._beginToken(e.type===33?36:3),this._requireCharCodeUntilFn(i=>i===aa,3),this._cursor.advance(),this._endToken(e.parts)}_consumeTagOpenStart(e){this._beginToken(0,e);let n=this._consumePrefixAndName(jd);return this._endToken(n)}_consumeComponentOpenStart(e){this._beginToken(33,e);let n=this._consumeComponentName();return this._endToken(n)}_consumeComponentName(){let e=this._cursor.clone();for(;V8(this._cursor.peek());)this._cursor.advance();let n=this._cursor.getChars(e),r="",i="";return this._cursor.peek()===xl&&(this._cursor.advance(),[r,i]=this._consumePrefixAndName(jd)),[n,r,i]}_consumeAttribute(){this._consumeAttributeName(),this._attemptCharCodeUntilFn(Kr),this._attemptCharCode(Ss)&&(this._attemptCharCodeUntilFn(Kr),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Kr)}_consumeAttributeName(){let e=this._cursor.peek();if(e===m0||e===p0)throw this._createError(Fh(e),this._cursor.getSpan());this._beginToken(14);let n;if(this._openDirectiveCount>0){let i=0;n=s=>{if(this._openDirectiveCount>0){if(s===Uo)i++;else if(s===os){if(i===0)return!0;i--}}return jd(s)}}else if(e===Cl){let i=0;n=s=>(s===Cl?i++:s===Eu&&i--,i<=0?jd(s):wb(s))}else n=jd;let r=this._consumePrefixAndName(n);this._endToken(r)}_consumeAttributeValue(){if(this._cursor.peek()===m0||this._cursor.peek()===p0){let e=this._cursor.peek();this._consumeQuote(e);let n=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,n,n),this._consumeQuote(e)}else{let e=()=>jd(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(ua)?2:1;this._beginToken(e),this._requireCharCode(aa),this._endToken([])}_consumeComponentOpenEnd(){let e=this._attemptCharCode(ua)?35:34;this._beginToken(e),this._requireCharCode(aa),this._endToken([])}_consumeTagClose(e){if(this._selectorlessEnabled){let r=e.clone();for(;r.peek()!==aa&&!Ay(r.peek());)r.advance();if(Ay(r.peek())){this._beginToken(36,e);let i=this._consumeComponentName();this._attemptCharCodeUntilFn(Kr),this._requireCharCode(aa),this._endToken(i);return}}this._beginToken(3,e),this._attemptCharCodeUntilFn(Kr);let n=this._consumePrefixAndName(jd);this._attemptCharCodeUntilFn(Kr),this._requireCharCode(aa),this._endToken(n)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(Fa),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(go),n=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([n]);else{let i=this._endToken([e]);n!==e&&this.nonNormalizedIcuExpressions.push(i)}this._requireCharCode(go),this._attemptCharCodeUntilFn(Kr),this._beginToken(7);let r=this._readUntil(go);this._endToken([r]),this._requireCharCode(go),this._attemptCharCodeUntilFn(Kr)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(Fa).trim();this._endToken([e]),this._attemptCharCodeUntilFn(Kr),this._beginToken(21),this._requireCharCode(Fa),this._endToken([]),this._attemptCharCodeUntilFn(Kr),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(zs),this._endToken([]),this._attemptCharCodeUntilFn(Kr),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(zs),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,n,r,i){this._beginToken(e);let s=[];for(;!r();){let o=this._cursor.clone();this._attemptStr(Eg.start)?(this._endToken([this._processCarriageReturns(s.join(""))],o),s.length=0,this._consumeInterpolation(n,o,i),this._beginToken(e)):this._cursor.peek()===yb?(this._endToken([this._processCarriageReturns(s.join(""))]),s.length=0,this._consumeEntity(e),this._beginToken(e)):s.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(s.join(""))])}_consumeInterpolation(e,n,r){let i=[];this._beginToken(e,n),i.push(Eg.start);let s=this._cursor.clone(),o=null,a=!1;for(;this._cursor.peek()!==Wi&&(r===null||!r());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,i.push(this._getProcessedChars(s,l)),this._endToken(i);return}if(o===null)if(this._attemptStr(Eg.end)){i.push(this._getProcessedChars(s,l)),i.push(Eg.end),this._endToken(i);return}else this._attemptStr("//")&&(a=!0);let u=this._cursor.peek();this._cursor.advance(),u===tf?this._cursor.advance():u===o?o=null:!a&&o===null&&Pg(u)&&(o=u)}i.push(this._getProcessedChars(s,this._cursor)),this._endToken(i)}_consumeDirective(e,n){for(this._requireCharCode(Rh),this._cursor.advance();V8(this._cursor.peek());)this._cursor.advance();this._beginToken(38,e);let r=this._cursor.getChars(n);if(this._endToken([r]),this._attemptCharCodeUntilFn(Kr),this._cursor.peek()===Uo){for(this._openDirectiveCount++,this._beginToken(39),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(Kr);!U8(this._cursor.peek())&&this._cursor.peek()!==os;)this._consumeAttribute();if(this._attemptCharCodeUntilFn(Kr),this._openDirectiveCount--,this._cursor.peek()!==os){if(this._cursor.peek()===aa||this._cursor.peek()===ua)return;throw this._createError(Fh(this._cursor.peek()),this._cursor.getSpan(e))}this._beginToken(40),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(Kr)}}_getProcessedChars(e,n){return this._processCarriageReturns(n.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===Wi||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===zs&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._isBlockStart()||this._isLetStart()||this._cursor.peek()===zs))}_isTagStart(){if(this._cursor.peek()===Yh){let e=this._cursor.clone();e.advance();let n=e.peek();if(gf<=n&&n<=B0||jc<=n&&n<=mp||n===ua||n===WS)return!0}return!1}_readUntil(e){let n=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(n)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==Fa)return!1;let e=this._cursor.clone(),n=this._attemptStr(Eg.start);return this._cursor=e,!n}};function Kr(t){return!g0(t)||t===Wi}function jd(t){return g0(t)||t===aa||t===Yh||t===ua||t===m0||t===p0||t===Ss||t===Wi}function NG(t){return(t<gf||B0<t)&&(t<jc||mp<t)&&(t<l5||t>nM)}function MG(t){return t===Oo||t===Wi||!Kq(t)}function RG(t){return t===Oo||t===Wi||!Fc(t)}function PG(t){return t!==zs}function LG(t,e){return O8(t)===O8(e)}function O8(t){return t>=gf&&t<=B0?t-gf+jc:t}function FG(t){return Fc(t)||La(t)||t===Hc}function B8(t){return t!==Oo&&Kr(t)}function Ay(t){return t===Hc||t>=jc&&t<=mp}function V8(t){return Fc(t)||La(t)||t===Hc}function U8(t){return t===ua||t===aa||t===Yh||t===Wi}function OG(t){let e=[],n;for(let r=0;r<t.length;r++){let i=t[r];n&&n.type===5&&i.type===5||n&&n.type===16&&i.type===16?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):(n=i,e.push(n))}return e}var Ob=class t{state;file;input;end;constructor(e,n){if(e instanceof t){this.file=e.file,this.input=e.input,this.end=e.end;let r=e.state;this.state={peek:r.peek,offset:r.offset,line:r.line,column:r.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}clone(){return new t(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,n){e=e||this;let r=e;if(n)for(;this.diff(e)>0&&n.indexOf(e.peek())!==-1;)r===e&&(e=e.clone()),e.advance();let i=this.locationFromCursor(e),s=this.locationFromCursor(this),o=r!==e?this.locationFromCursor(r):i;return new an(i,s,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new D0('Unexpected character "EOF"',this);let n=this.charAt(e.offset);n===ef?(e.line++,e.column=0):wb(n)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?Wi:this.charAt(e.offset)}locationFromCursor(e){return new v0(e.file,e.state.offset,e.state.line,e.state.column)}},mC=class t extends Ob{internalState;constructor(e,n){e instanceof t?(super(e),this.internalState=Ne({},e.internalState)):(super(e,n),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new t(this)}getChars(e){let n=e.clone(),r="";for(;n.internalState.offset<this.internalState.offset;)r+=String.fromCodePoint(n.peek()),n.advance();return r}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===tf)if(this.internalState=Ne({},this.state),this.advanceState(this.internalState),e()===rM)this.state.peek=ef;else if(e()===iM)this.state.peek=a5;else if(e()===aM)this.state.peek=ZN;else if(e()===sM)this.state.peek=o5;else if(e()===Yq)this.state.peek=jq;else if(e()===u5)this.state.peek=JN;else if(e()===oM)if(this.advanceState(this.internalState),e()===Fa){this.advanceState(this.internalState);let n=this.clone(),r=0;for(;e()!==zs;)this.advanceState(this.internalState),r++;this.state.peek=this.decodeHexDigits(n,r)}else{let n=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,4)}else if(e()===lM){this.advanceState(this.internalState);let n=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,2)}else if(m8(e())){let n="",r=0,i=this.clone();for(;m8(e())&&r<3;)i=this.clone(),n+=String.fromCodePoint(e()),this.advanceState(this.internalState),r++;this.state.peek=parseInt(n,8),this.internalState=i.internalState}else wb(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,n){let r=this.input.slice(e.internalState.offset,e.internalState.offset+n),i=parseInt(r,16);if(isNaN(i))throw e.state=e.internalState,new D0("Invalid hexadecimal escape sequence",e);return i}},D0=class extends Error{msg;cursor;constructor(e,n){super(e),this.msg=e,this.cursor=n,Object.setPrototypeOf(this,new.target.prototype)}},Ii=class t extends tn{elementName;static create(e,n,r){return new t(e,n,r)}constructor(e,n,r){super(n,r),this.elementName=e}},Bb=class{rootNodes;errors;constructor(e,n){this.rootNodes=e,this.errors=n}},BG=class{getTagDefinition;constructor(e){this.getTagDefinition=e}parse(e,n,r){let i=TG(e,n,this.getTagDefinition,r),s=new gC(i.tokens,this.getTagDefinition);return s.build(),new Bb(s.rootNodes,[...i.errors,...s.errors])}},gC=class t{tokens;tagDefinitionResolver;_index=-1;_peek;_containerStack=[];rootNodes=[];errors=[];constructor(e,n){this.tokens=e,this.tagDefinitionResolver=n,this._advance()}build(){for(;this._peek.type!==41;)this._peek.type===0||this._peek.type===4?this._consumeElementStartTag(this._advance()):this._peek.type===3?this._consumeElementEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._peek.type===33||this._peek.type===37?this._consumeComponentStartTag(this._advance()):this._peek.type===36?this._consumeComponentEndTag(this._advance()):this._advance();for(let e of this._containerStack)e instanceof ca&&this.errors.push(Ii.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let n=this._advanceIf(7),r=this._advanceIf(11),i=n!=null?n.parts[0].trim():null,s=r==null?e.sourceSpan:new an(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new T0(i,s))}_consumeExpansion(e){let n=this._advance(),r=this._advance(),i=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;i.push(o)}if(this._peek.type!==23){this.errors.push(Ii.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let s=new an(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new nf(n.parts[0],r.parts[0],i,s,n.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(Ii.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;let i=this._advance();r.push({type:41,parts:[],sourceSpan:i.sourceSpan});let s=new t(r,this.tagDefinitionResolver);if(s.build(),s.errors.length>0)return this.errors=this.errors.concat(s.errors),null;let o=new an(e.sourceSpan.start,i.sourceSpan.end,e.sourceSpan.fullStart),a=new an(n.sourceSpan.start,i.sourceSpan.end,n.sourceSpan.fullStart);return new Pb(e.parts[0],s.rootNodes,o,e.sourceSpan,a)}_collectExpansionExpTokens(e){let n=[],r=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&r.push(this._peek.type),this._peek.type===22)if(j8(r,21)){if(r.pop(),r.length===0)return n}else return this.errors.push(Ii.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(j8(r,19))r.pop();else return this.errors.push(Ii.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===41)return this.errors.push(Ii.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.push(this._advance())}}_consumeText(e){let n=[e],r=e.sourceSpan,i=e.parts[0];if(i.length>0&&i[0]===`
`){let s=this._getContainer();s!=null&&s.children.length===0&&this._getTagDefinition(s)?.ignoreFirstLf&&(i=i.substring(1),n[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[i]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),n.push(e),e.type===8?i+=e.parts.join("").replace(/&([^;]+);/g,H8):e.type===9?i+=e.parts[0]:i+=e.parts.join("");if(i.length>0){let s=e.sourceSpan;this._addToParent(new _f(i,new an(r.start,s.end,r.fullStart,r.details),n))}}_closeVoidElement(){let e=this._getContainer();e!==null&&this._getTagDefinition(e)?.isVoid&&this._containerStack.pop()}_consumeElementStartTag(e){let n=[],r=[];this._consumeAttributesAndDirectives(n,r);let i=this._getElementFullName(e,this._getClosestElementLikeParent()),s=this._getTagDefinition(i),o=!1;this._peek.type===2?(this._advance(),o=!0,s?.canSelfClose||FS(i)!==null||s?.isVoid||this.errors.push(Ii.create(i,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))):this._peek.type===1&&(this._advance(),o=!1);let a=this._peek.sourceSpan.fullStart,l=new an(e.sourceSpan.start,a,e.sourceSpan.fullStart),u=new an(e.sourceSpan.start,a,e.sourceSpan.fullStart),c=new la(i,n,r,[],o,l,u,void 0,s?.isVoid??!1),d=this._getContainer(),f=d!==null&&!!this._getTagDefinition(d)?.isClosedByChild(c.name);this._pushContainer(c,f),o?this._popContainer(i,la,l):e.type===4&&(this._popContainer(i,la,null),this.errors.push(Ii.create(i,l,`Opening tag "${i}" not terminated.`)))}_consumeComponentStartTag(e){let n=e.parts[0],r=[],i=[];this._consumeAttributesAndDirectives(r,i);let s=this._getClosestElementLikeParent(),o=this._getComponentTagName(e,s),a=this._getComponentFullName(e,s),l=this._peek.type===35;this._advance();let u=this._peek.sourceSpan.fullStart,c=new an(e.sourceSpan.start,u,e.sourceSpan.fullStart),d=new an(e.sourceSpan.start,u,e.sourceSpan.fullStart),f=new ho(n,o,a,r,i,[],l,c,d,void 0),h=this._getContainer(),p=h!==null&&f.tagName!==null&&!!this._getTagDefinition(h)?.isClosedByChild(f.tagName);this._pushContainer(f,p),l?this._popContainer(a,ho,c):e.type===37&&(this._popContainer(a,ho,null),this.errors.push(Ii.create(a,c,`Opening tag "${a}" not terminated.`)))}_consumeAttributesAndDirectives(e,n){for(;this._peek.type===14||this._peek.type===38;)this._peek.type===38?n.push(this._consumeDirective(this._peek)):e.push(this._consumeAttr(this._advance()))}_consumeComponentEndTag(e){let n=this._getComponentFullName(e,this._getClosestElementLikeParent());if(!this._popContainer(n,ho,e.sourceSpan)){let r=this._containerStack[this._containerStack.length-1],i;r instanceof ho&&r.componentName===e.parts[0]?i=`, did you mean "${r.fullName}"?`:i=". It may happen when the tag has already been closed by another tag.";let s=`Unexpected closing tag "${n}"${i}`;this.errors.push(Ii.create(n,e.sourceSpan,s))}}_getTagDefinition(e){return typeof e=="string"?this.tagDefinitionResolver(e):e instanceof la?this.tagDefinitionResolver(e.name):e instanceof ho&&e.tagName!==null?this.tagDefinitionResolver(e.tagName):null}_pushContainer(e,n){n&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeElementEndTag(e){let n=this._getElementFullName(e,this._getClosestElementLikeParent());if(this._getTagDefinition(n)?.isVoid)this.errors.push(Ii.create(n,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(n,la,e.sourceSpan)){let r=`Unexpected closing tag "${n}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(Ii.create(n,e.sourceSpan,r))}}_popContainer(e,n,r){let i=!1;for(let s=this._containerStack.length-1;s>=0;s--){let o=this._containerStack[s];if(((o instanceof ho?o.fullName:o.name)===e||e===null)&&o instanceof n)return o.endSourceSpan=r,o.sourceSpan.end=r!==null?r.end:o.sourceSpan.end,this._containerStack.splice(s,this._containerStack.length-s),!i;(o instanceof ca||!this._getTagDefinition(o)?.closedByParent)&&(i=!0)}return!1}_consumeAttr(e){let n=Vy(e.parts[0],e.parts[1]),r=e.sourceSpan.end;this._peek.type===15&&this._advance();let i="",s=[],o,a;if(this._peek.type===16)for(o=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let c=this._advance();s.push(c),c.type===17?i+=c.parts.join("").replace(/&([^;]+);/g,H8):c.type===9?i+=c.parts[0]:i+=c.parts.join(""),a=r=c.sourceSpan.end}this._peek.type===15&&(r=this._advance().sourceSpan.end);let u=o&&a&&new an(o.start,a,o.fullStart);return new cC(n,i,new an(e.sourceSpan.start,r,e.sourceSpan.fullStart),e.sourceSpan,u,s.length>0?s:void 0,void 0)}_consumeDirective(e){let n=[],r=e.sourceSpan.end,i=null;if(this._advance(),this._peek.type===39){for(r=this._peek.sourceSpan.end,this._advance();this._peek.type===14;)n.push(this._consumeAttr(this._advance()));this._peek.type===40?(i=this._peek.sourceSpan,this._advance()):this.errors.push(Ii.create(null,e.sourceSpan,"Unterminated directive definition"))}let s=new an(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new an(s.start,i===null?e.sourceSpan.end:i.end,s.fullStart);return new dC(e.parts[0],n,o,s,i)}_consumeBlockOpen(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new Lb(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let r=this._peek.sourceSpan.fullStart,i=new an(e.sourceSpan.start,r,e.sourceSpan.fullStart),s=new an(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new ca(e.parts[0],n,[],i,e.sourceSpan,s);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,ca,e.sourceSpan)||this.errors.push(Ii.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new Lb(a.parts[0],a.sourceSpan))}let r=this._peek.sourceSpan.fullStart,i=new an(e.sourceSpan.start,r,e.sourceSpan.fullStart),s=new an(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new ca(e.parts[0],n,[],i,e.sourceSpan,s);this._pushContainer(o,!1),this._popContainer(null,ca,null),this.errors.push(Ii.create(e.parts[0],i,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let n=e.parts[0],r,i;if(this._peek.type!==30){this.errors.push(Ii.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${n}". Declaration must have a value.`));return}else r=this._advance();if(this._peek.type!==31){this.errors.push(Ii.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${n}". Declaration must be terminated with a semicolon.`));return}else i=this._advance();let s=i.sourceSpan.fullStart,o=new an(e.sourceSpan.start,s,e.sourceSpan.fullStart),a=e.sourceSpan.toString().lastIndexOf(n),l=e.sourceSpan.start.moveBy(a),u=new an(l,e.sourceSpan.end),c=new Fb(n,r.parts[0],o,u,r.sourceSpan);this._addToParent(c)}_consumeIncompleteLet(e){let n=e.parts[0]??"",r=n?` "${n}"`:"";if(n.length>0){let i=e.sourceSpan.toString().lastIndexOf(n),s=e.sourceSpan.start.moveBy(i),o=new an(s,e.sourceSpan.end),a=new an(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),l=new Fb(n,"",e.sourceSpan,o,a);this._addToParent(l)}this.errors.push(Ii.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${r}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestElementLikeParent(){for(let e=this._containerStack.length-1;e>-1;e--){let n=this._containerStack[e];if(n instanceof la||n instanceof ho)return n}return null}_addToParent(e){let n=this._getContainer();n===null?this.rootNodes.push(e):n.children.push(e)}_getElementFullName(e,n){let r=this._getPrefix(e,n);return Vy(r,e.parts[1])}_getComponentFullName(e,n){let r=e.parts[0],i=this._getComponentTagName(e,n);return i===null?r:i.startsWith(":")?r+i:`${r}:${i}`}_getComponentTagName(e,n){let r=this._getPrefix(e,n),i=e.parts[2];return!r&&!i?null:!r&&i?i:Vy(r,i||"ng-component")}_getPrefix(e,n){let r,i;if(e.type===33||e.type===37||e.type===36?(r=e.parts[1],i=e.parts[2]):(r=e.parts[0],i=e.parts[1]),r=r||this._getTagDefinition(i)?.implicitNamespacePrefix||"",!r&&n){let s=n instanceof la?n.name:n.tagName;if(s!==null){let o=ja(s)[1],a=this._getTagDefinition(o);a!==null&&!a.preventNamespaceInheritance&&(r=FS(s))}}return r}};function j8(t,e){return t.length>0&&t[t.length-1]===e}function H8(t,e){return I0[e]!==void 0?I0[e]||t:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):t}var MM="ngPreserveWhitespaces",$8=new Set(["pre","template","textarea","script","style"]),RM=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,VG=new RegExp(`[^${RM}]`),UG=new RegExp(`[${RM}]{2,}`,"g");function q8(t){return t.some(e=>e.name===MM)}function PM(t){return t.replace(new RegExp(NM,"g")," ")}var Vb=class{preserveSignificantWhitespace;originalNodeMap;requireContext;icuExpansionDepth=0;constructor(e,n,r=!0){this.preserveSignificantWhitespace=e,this.originalNodeMap=n,this.requireContext=r}visitElement(e,n){if($8.has(e.name)||q8(e.attrs)){let i=new la(e.name,yl(this,e.attrs),yl(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(i,e),i}let r=new la(e.name,e.attrs,e.directives,yl(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(r,e),r}visitAttribute(e,n){return e.name!==MM?e:null}visitText(e,n){let r=e.value.match(VG),i=n&&(n.prev instanceof nf||n.next instanceof nf);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(r||i){let o=e.tokens.map(c=>c.type===5?qG(c):c);if(!this.preserveSignificantWhitespace&&o.length>0){let c=o[0];o.splice(0,1,jG(c,n));let d=o[o.length-1];o.splice(o.length-1,1,HG(d,n))}let a=FM(e.value),l=this.preserveSignificantWhitespace?a:$G(a,n),u=new _f(l,e.sourceSpan,o,e.i18n);return this.originalNodeMap?.set(u,e),u}return null}visitComment(e,n){return e}visitExpansion(e,n){this.icuExpansionDepth++;let r;try{r=new nf(e.switchValue,e.type,yl(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return this.originalNodeMap?.set(r,e),r}visitExpansionCase(e,n){let r=new Pb(e.value,yl(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return this.originalNodeMap?.set(r,e),r}visitBlock(e,n){let r=new ca(e.name,e.parameters,yl(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return this.originalNodeMap?.set(r,e),r}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}visitComponent(e,n){if(e.tagName&&$8.has(e.tagName)||q8(e.attrs)){let i=new ho(e.componentName,e.tagName,e.fullName,yl(this,e.attrs),yl(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(i,e),i}let r=new ho(e.componentName,e.tagName,e.fullName,e.attrs,e.directives,yl(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(r,e),r}visitDirective(e,n){return e}visit(e,n){if(this.requireContext&&!n)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function jG(t,e){return t.type!==5||!!e?.prev?t:LM(t,r=>r.trimStart())}function HG(t,e){return t.type!==5||!!e?.next?t:LM(t,r=>r.trimEnd())}function $G(t,e){let n=!e?.prev,r=!e?.next,i=n?t.trimStart():t;return r?i.trimEnd():i}function qG({type:t,parts:e,sourceSpan:n}){return{type:t,parts:[FM(e[0])],sourceSpan:n}}function LM({type:t,parts:e,sourceSpan:n},r){return{type:t,parts:[r(e[0])],sourceSpan:n}}function FM(t){return PM(t).replace(UG," ")}function yl(t,e){let n=[];return e.forEach((r,i)=>{let s={prev:e[i-1],next:e[i+1]},o=r.visit(t,s);o&&n.push(o)}),n}var on=(function(t){return t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.PrivateIdentifier=2]="PrivateIdentifier",t[t.Keyword=3]="Keyword",t[t.String=4]="String",t[t.Operator=5]="Operator",t[t.Number=6]="Number",t[t.RegExpBody=7]="RegExpBody",t[t.RegExpFlags=8]="RegExpFlags",t[t.Error=9]="Error",t})(on||{}),rf=(function(t){return t[t.Plain=0]="Plain",t[t.TemplateLiteralPart=1]="TemplateLiteralPart",t[t.TemplateLiteralEnd=2]="TemplateLiteralEnd",t})(rf||{}),zG=["var","let","as","null","undefined","true","false","if","else","this","typeof","void","in"],k0=class{tokenize(e){return new vC(e).scan()}},Wo=class{index;end;type;numValue;strValue;constructor(e,n,r,i,s){this.index=e,this.end=n,this.type=r,this.numValue=i,this.strValue=s}isCharacter(e){return this.type===on.Character&&this.numValue===e}isNumber(){return this.type===on.Number}isString(){return this.type===on.String}isOperator(e){return this.type===on.Operator&&this.strValue===e}isIdentifier(){return this.type===on.Identifier}isPrivateIdentifier(){return this.type===on.PrivateIdentifier}isKeyword(){return this.type===on.Keyword}isKeywordLet(){return this.type===on.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===on.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===on.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===on.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===on.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===on.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===on.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===on.Keyword&&this.strValue==="typeof"}isKeywordVoid(){return this.type===on.Keyword&&this.strValue==="void"}isKeywordIn(){return this.type===on.Keyword&&this.strValue==="in"}isError(){return this.type===on.Error}isRegExpBody(){return this.type===on.RegExpBody}isRegExpFlags(){return this.type===on.RegExpFlags}toNumber(){return this.type===on.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===rf.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===rf.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}toString(){switch(this.type){case on.Character:case on.Identifier:case on.Keyword:case on.Operator:case on.PrivateIdentifier:case on.String:case on.Error:case on.RegExpBody:case on.RegExpFlags:return this.strValue;case on.Number:return this.numValue.toString();default:return null}}},Lg=class extends Wo{kind;constructor(e,n,r,i){super(e,n,on.String,0,r),this.kind=i}};function Sg(t,e,n){return new Wo(t,e,on.Character,n,String.fromCharCode(n))}function WG(t,e,n){return new Wo(t,e,on.Identifier,0,n)}function GG(t,e,n){return new Wo(t,e,on.PrivateIdentifier,0,n)}function YG(t,e,n){return new Wo(t,e,on.Keyword,0,n)}function Oh(t,e,n){return new Wo(t,e,on.Operator,0,n)}function XG(t,e,n){return new Wo(t,e,on.Number,n,"")}function KG(t,e,n){return new Wo(t,e,on.Error,0,n)}function ZG(t,e,n){return new Wo(t,e,on.RegExpBody,0,n)}function JG(t,e,n){return new Wo(t,e,on.RegExpFlags,0,n)}var Ty=new Wo(-1,-1,on.Character,0,""),vC=class{input;tokens=[];length;peek=0;index=-1;braceStack=[];constructor(e){this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?Wi:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,n=this.length,r=this.peek,i=this.index;for(;r<=QN;)if(++i>=n){r=Wi;break}else r=e.charCodeAt(i);if(this.peek=r,this.index=i,i>=n)return null;if(z8(r))return this.scanIdentifier();if(La(r))return this.scanNumber(i);let s=i;switch(r){case Hd:return this.advance(),La(this.peek)?this.scanNumber(s):this.peek!==Hd?Sg(s,this.index,Hd):(this.advance(),this.peek===Hd?(this.advance(),Oh(s,this.index,"...")):this.error(`Unexpected character [${String.fromCharCode(r)}]`,0));case Uo:case os:case Cl:case Eu:case go:case xl:case Oo:return this.scanCharacter(s,r);case Fa:return this.scanOpenBrace(s,r);case zs:return this.scanCloseBrace(s,r);case m0:case p0:return this.scanString();case GS:return this.advance(),this.scanTemplateLiteralPart(s);case eM:return this.scanPrivateIdentifier();case tM:return this.scanComplexOperator(s,"+",Ss,"=");case bb:return this.scanComplexOperator(s,"-",Ss,"=");case ua:return this.isStartOfRegex()?this.scanRegex(i):this.scanComplexOperator(s,"/",Ss,"=");case Hq:return this.scanComplexOperator(s,"%",Ss,"=");case Gq:return this.scanOperator(s,"^");case f8:return this.scanStar(s);case h8:return this.scanQuestion(s);case Yh:case aa:return this.scanComplexOperator(s,String.fromCharCode(r),Ss,"=");case WS:case Ss:return this.scanComplexOperator(s,String.fromCharCode(r),Ss,"=",Ss,"=");case yb:return this.scanComplexOperator(s,"&",yb,"&",Ss,"=");case p8:return this.scanComplexOperator(s,"|",p8,"|",Ss,"=");case uM:for(;g0(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(r)}]`,0)}scanCharacter(e,n){return this.advance(),Sg(e,this.index,n)}scanOperator(e,n){return this.advance(),Oh(e,this.index,n)}scanOpenBrace(e,n){return this.braceStack.push("expression"),this.advance(),Sg(e,this.index,n)}scanCloseBrace(e,n){return this.advance(),this.braceStack.pop()==="interpolation"?(this.tokens.push(Sg(e,this.index,zs)),this.scanTemplateLiteralPart(this.index)):Sg(e,this.index,n)}scanComplexOperator(e,n,r,i,s,o){this.advance();let a=n;return this.peek==r&&(this.advance(),a+=i),s!=null&&this.peek==s&&(this.advance(),a+=o),Oh(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();W8(this.peek);)this.advance();let n=this.input.substring(e,this.index);return zG.indexOf(n)>-1?YG(e,this.index,n):WG(e,this.index,n)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!z8(this.peek))return this.error("Invalid character [#]",-1);for(;W8(this.peek);)this.advance();let n=this.input.substring(e,this.index);return GG(e,this.index,n)}scanNumber(e){let n=this.index===e,r=!1;for(this.advance();;){if(!La(this.peek))if(this.peek===Hc){if(!La(this.input.charCodeAt(this.index-1))||!La(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);r=!0}else if(this.peek===Hd)n=!1;else if(QG(this.peek)){if(this.advance(),eY(this.peek)&&this.advance(),!La(this.peek))return this.error("Invalid exponent",-1);n=!1}else break;this.advance()}let i=this.input.substring(e,this.index);r&&(i=i.replace(/_/g,""));let s=n?nY(i):parseFloat(i);return XG(e,this.index,s)}scanString(){let e=this.index,n=this.peek;this.advance();let r="",i=this.index,s=this.input;for(;this.peek!=n;)if(this.peek==tf){let a=this.scanStringBackslash(r,i);if(typeof a!="string")return a;r=a,i=this.index}else{if(this.peek==Wi)return this.error("Unterminated quote",0);this.advance()}let o=s.substring(i,this.index);return this.advance(),new Lg(e,this.index,r+o,rf.Plain)}scanQuestion(e){this.advance();let n="?";return this.peek===h8?(n+="?",this.advance(),this.peek===Ss&&(n+="=",this.advance())):this.peek===Hd&&(n+=".",this.advance()),Oh(e,this.index,n)}scanTemplateLiteralPart(e){let n="",r=this.index;for(;this.peek!==GS;)if(this.peek===tf){let s=this.scanStringBackslash(n,r);if(typeof s!="string")return s;n=s,r=this.index}else if(this.peek===r2){let s=this.index;if(this.advance(),this.peek===Fa)return this.braceStack.push("interpolation"),this.tokens.push(new Lg(e,s,n+this.input.substring(r,s),rf.TemplateLiteralPart)),this.advance(),Oh(s,this.index,this.input.substring(s,this.index))}else{if(this.peek===Wi)return this.error("Unterminated template literal",0);this.advance()}let i=this.input.substring(r,this.index);return this.advance(),new Lg(e,this.index,n+i,rf.TemplateLiteralEnd)}error(e,n){let r=this.index+n;return KG(r,this.index,`Lexer Error: ${e} at column ${r} in expression [${this.input}]`)}scanStringBackslash(e,n){e+=this.input.substring(n,this.index);let r;if(this.advance(),this.peek===oM){let i=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(i))r=parseInt(i,16);else return this.error(`Invalid unicode escape [\\u${i}]`,0);for(let s=0;s<5;s++)this.advance()}else r=tY(this.peek),this.advance();return e+=String.fromCharCode(r),e}scanStar(e){this.advance();let n="*";return this.peek===f8?(n+="*",this.advance(),this.peek===Ss&&(n+="=",this.advance())):this.peek===Ss&&(n+="=",this.advance()),Oh(e,this.index,n)}isStartOfRegex(){if(this.tokens.length===0)return!0;let e=this.tokens[this.tokens.length-1];if(e.isOperator("!")){let n=this.tokens.length>1?this.tokens[this.tokens.length-2]:null;return n===null||n.type!==on.Identifier&&!n.isCharacter(os)&&!n.isCharacter(Eu)}return e.type===on.Operator||e.isCharacter(Uo)||e.isCharacter(Cl)||e.isCharacter(go)||e.isCharacter(xl)}scanRegex(e){this.advance();let n=this.index,r=!1,i=!1;for(;;){let l=this.peek;if(l===Wi)return this.error("Unterminated regular expression",0);if(r)r=!1;else if(l===tf)r=!0;else if(l===Cl)i=!0;else if(l===Eu)i=!1;else if(l===ua&&!i)break;this.advance()}let s=this.input.substring(n,this.index);this.advance();let o=ZG(e,this.index,s),a=this.scanRegexFlags(this.index);return a!==null?(this.tokens.push(o),a):o}scanRegexFlags(e){if(!Fc(this.peek))return null;for(;Fc(this.peek);)this.advance();return JG(e,this.index,this.input.substring(e,this.index))}};function z8(t){return gf<=t&&t<=B0||jc<=t&&t<=mp||t==Hc||t==r2}function W8(t){return Fc(t)||La(t)||t==Hc||t==r2}function QG(t){return t==Xq||t==qq}function eY(t){return t==bb||t==tM}function tY(t){switch(t){case rM:return ef;case u5:return JN;case iM:return a5;case sM:return o5;case aM:return ZN;default:return t}}function nY(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var yC=class{strings;expressions;offsets;constructor(e,n,r){this.strings=e,this.expressions=n,this.offsets=r}},bC=class{templateBindings;warnings;errors;constructor(e,n,r){this.templateBindings=e,this.warnings=n,this.errors=r}};function Cc(t){return t.start.toString()||"(unknown)"}var Ub=class{_lexer;_supportsDirectPipeReferences;constructor(e,n=!1){this._lexer=e,this._supportsDirectPipeReferences=n}parseAction(e,n,r){let i=[];this._checkNoInterpolation(i,e,n);let{stripped:s}=this._stripComments(e),o=this._lexer.tokenize(s),a=new Gd(e,n,r,o,1,i,0,this._supportsDirectPipeReferences).parseChain();return new mo(a,e,Cc(n),r,i)}parseBinding(e,n,r){let i=[],s=this._parseBindingAst(e,n,r,i);return new mo(s,e,Cc(n),r,i)}checkSimpleExpression(e){let n=new wC;return e.visit(n),n.errors}parseSimpleBinding(e,n,r){let i=[],s=this._parseBindingAst(e,n,r,i),o=this.checkSimpleExpression(s);return o.length>0&&i.push(zh(`Host binding expression cannot contain ${o.join(" ")}`,e,"",n)),new mo(s,e,Cc(n),r,i)}_parseBindingAst(e,n,r,i){this._checkNoInterpolation(i,e,n);let{stripped:s}=this._stripComments(e),o=this._lexer.tokenize(s);return new Gd(e,n,r,o,0,i,0,this._supportsDirectPipeReferences).parseChain()}parseTemplateBindings(e,n,r,i,s){let o=this._lexer.tokenize(n),a=[];return new Gd(n,r,s,o,0,a,0,this._supportsDirectPipeReferences).parseTemplateBindings({source:e,span:new Vo(i,i+e.length)})}parseInterpolation(e,n,r,i){let s=[],{strings:o,expressions:a,offsets:l}=this.splitInterpolation(e,n,s,i);if(a.length===0)return null;let u=[];for(let c=0;c<a.length;++c){let d=i?.[c*2+1]?.sourceSpan,f=a[c].text,{stripped:h,hasComments:p}=this._stripComments(f),m=this._lexer.tokenize(h);if(p&&h.trim().length===0&&m.length===0){s.push(zh("Interpolation expression cannot only contain a comment",e,`at column ${a[c].start} in`,n));continue}let g=new Gd(d?f:e,d||n,r,m,0,s,l[c],this._supportsDirectPipeReferences).parseChain();u.push(g)}return this.createInterpolationAst(o.map(c=>c.text),u,e,Cc(n),r,s)}parseInterpolationExpression(e,n,r){let{stripped:i}=this._stripComments(e),s=this._lexer.tokenize(i),o=[],a=new Gd(e,n,r,s,0,o,0,this._supportsDirectPipeReferences).parseChain(),l=["",""];return this.createInterpolationAst(l,[a],e,Cc(n),r,o)}createInterpolationAst(e,n,r,i,s,o){let a=new ff(0,r.length),l=new F0(a,a.toAbsolute(s),e,n);return new mo(l,r,i,s,o)}splitInterpolation(e,n,r,i){let s=[],o=[],a=[],l=i?rY(i):null,u=0,c=!1,d=!1,f="{{",h="}}";for(;u<e.length;)if(c){let p=u,m=p+f.length,g=this._getInterpolationEndIndex(e,h,m);if(g===-1){c=!1,d=!0;break}let y=g+h.length,x=e.substring(m,g);x.trim().length===0&&r.push(zh("Blank expressions are not allowed in interpolated strings",e,`at column ${u} in`,n)),o.push({text:x,start:p,end:y});let R=(l?.get(p)??p)+f.length;a.push(R),u=y,c=!1}else{let p=u;u=e.indexOf(f,u),u===-1&&(u=e.length);let m=e.substring(p,u);s.push({text:m,start:p,end:u}),c=!0}if(!c)if(d){let p=s[s.length-1];p.text+=e.substring(u),p.end=e.length}else s.push({text:e.substring(u),start:u,end:e.length});return new yC(s,o,a)}wrapLiteralPrimitive(e,n,r){let i=new ff(0,e==null?0:e.length);return new mo(new po(i,i.toAbsolute(r),e),e,typeof n=="string"?n:Cc(n),r,[])}_stripComments(e){let n=this._commentStart(e);return n!=null?{stripped:e.substring(0,n),hasComments:!0}:{stripped:e,hasComments:!1}}_commentStart(e){let n=null;for(let r=0;r<e.length-1;r++){let i=e.charCodeAt(r),s=e.charCodeAt(r+1);if(i===ua&&s==ua&&n==null)return r;n===i?n=null:n==null&&Pg(i)&&(n=i)}return null}_checkNoInterpolation(e,n,r){let i=-1,s=-1;for(let o of this._forEachUnquotedChar(n,0))if(i===-1)n.startsWith("{{")&&(i=o);else if(s=this._getInterpolationEndIndex(n,"}}",o),s>-1)break;i>-1&&s>-1&&e.push(zh("Got interpolation ({{}}) where expression was expected",n,`at column ${i} in`,r))}_getInterpolationEndIndex(e,n,r){for(let i of this._forEachUnquotedChar(e,r)){if(e.startsWith(n,i))return i;if(e.startsWith("//",i))return e.indexOf(n,i)}return-1}*_forEachUnquotedChar(e,n){let r=null,i=0;for(let s=n;s<e.length;s++){let o=e[s];Pg(e.charCodeAt(s))&&(r===null||r===o)&&i%2===0?r=r===null?o:null:r===null&&(yield s),i=o==="\\"?i+1:0}}},kg=(function(t){return t[t.None=0]="None",t[t.Writable=1]="Writable",t})(kg||{}),G8=new Set(["d","g","i","m","s","u","v","y"]),Gd=class{input;parseSourceSpan;absoluteOffset;tokens;parseFlags;errors;offset;supportsDirectPipeReferences;rparensExpected=0;rbracketsExpected=0;rbracesExpected=0;context=kg.None;sourceSpanCache=new Map;index=0;constructor(e,n,r,i,s,o,a,l){this.input=e,this.parseSourceSpan=n,this.absoluteOffset=r,this.tokens=i,this.parseFlags=s,this.errors=o,this.offset=a,this.supportsDirectPipeReferences=l}peek(e){let n=this.index+e;return n<this.tokens.length?this.tokens[n]:Ty}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,n){let r=this.currentEndIndex;if(n!==void 0&&n>this.currentEndIndex&&(r=n),e>r){let i=r;r=e,e=i}return new ff(e,r)}sourceSpan(e,n){let r=`${e}@${this.inputIndex}:${n}`;return this.sourceSpanCache.has(r)||this.sourceSpanCache.set(r,this.span(e,n).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(r)}advance(){this.index++}withContext(e,n){this.context|=e;let r=n();return this.context^=e,r}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}isAssignmentOperator(e){return e.type===on.Operator&&qs.isAssignmentOperation(e.strValue)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===Ty?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],n=this.inputIndex;for(;this.index<this.tokens.length;){let r=this.parsePipe();if(e.push(r),this.consumeOptionalCharacter(Oo))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(Oo););else if(this.index<this.tokens.length){let i=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===i)break}}if(e.length===0){let r=this.offset,i=this.offset+this.input.length;return new $s(this.span(r,i),this.sourceSpan(r,i))}return e.length==1?e[0]:new ep(this.span(n),this.sourceSpan(n),e)}parsePipe(){let e=this.inputIndex,n=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let r=this.inputIndex,i=this.expectIdentifierOrKeyword(),s,o;i!==null?s=this.sourceSpan(r):(i="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,s=new ff(o,o).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(xl);)a.push(this.parseExpression());let l;if(this.supportsDirectPipeReferences){let u=i.charCodeAt(0);l=u===Hc||u>=jc&&u<=mp?By.ReferencedDirectly:By.ReferencedByName}else l=By.ReferencedByName;n=new ib(this.span(e),this.sourceSpan(e,o),n,i,a,l,s)}while(this.consumeOptionalOperator("|"))}return n}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,n=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let r=this.parsePipe(),i;if(this.consumeOptionalCharacter(xl))i=this.parsePipe();else{let s=this.inputIndex,o=this.input.substring(e,s);this.error(`Conditional expression ${o} requires all 3 expressions`),i=new $s(this.span(e),this.sourceSpan(e))}return new rb(this.span(e),this.sourceSpan(e),n,r,i)}else return n}parseLogicalOr(){let e=this.inputIndex,n=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let r=this.parseLogicalAnd();n=new qs(this.span(e),this.sourceSpan(e),"||",n,r)}return n}parseLogicalAnd(){let e=this.inputIndex,n=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let r=this.parseNullishCoalescing();n=new qs(this.span(e),this.sourceSpan(e),"&&",n,r)}return n}parseNullishCoalescing(){let e=this.inputIndex,n=this.parseEquality();for(;this.consumeOptionalOperator("??");){let r=this.parseEquality();n=new qs(this.span(e),this.sourceSpan(e),"??",n,r)}return n}parseEquality(){let e=this.inputIndex,n=this.parseRelational();for(;this.next.type==on.Operator;){let r=this.next.strValue;switch(r){case"==":case"===":case"!=":case"!==":this.advance();let i=this.parseRelational();n=new qs(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseRelational(){let e=this.inputIndex,n=this.parseAdditive();for(;this.next.type==on.Operator||this.next.isKeywordIn;){let r=this.next.strValue;switch(r){case"<":case">":case"<=":case">=":case"in":this.advance();let i=this.parseAdditive();n=new qs(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseAdditive(){let e=this.inputIndex,n=this.parseMultiplicative();for(;this.next.type==on.Operator;){let r=this.next.strValue;switch(r){case"+":case"-":this.advance();let i=this.parseMultiplicative();n=new qs(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseMultiplicative(){let e=this.inputIndex,n=this.parseExponentiation();for(;this.next.type==on.Operator;){let r=this.next.strValue;switch(r){case"*":case"%":case"/":this.advance();let i=this.parseExponentiation();n=new qs(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseExponentiation(){let e=this.inputIndex,n=this.parsePrefix();for(;this.next.type==on.Operator&&this.next.strValue==="**";){(n instanceof Gh||n instanceof Kg||n instanceof Zg||n instanceof Jg)&&this.error("Unary operator used immediately before exponentiation expression. Parenthesis must be used to disambiguate operator precedence"),this.advance();let r=this.parseExponentiation();n=new qs(this.span(e),this.sourceSpan(e),"**",n,r)}return n}parsePrefix(){if(this.next.type==on.Operator){let e=this.inputIndex,n=this.next.strValue,r;switch(n){case"+":return this.advance(),r=this.parsePrefix(),Gh.createPlus(this.span(e),this.sourceSpan(e),r);case"-":return this.advance(),r=this.parsePrefix(),Gh.createMinus(this.span(e),this.sourceSpan(e),r);case"!":return this.advance(),r=this.parsePrefix(),new Kg(this.span(e),this.sourceSpan(e),r)}}else if(this.next.isKeywordTypeof()){let e=this.inputIndex;this.advance();let n=this.parsePrefix();return new Zg(this.span(e),this.sourceSpan(e),n)}else if(this.next.isKeywordVoid()){let e=this.inputIndex;this.advance();let n=this.parsePrefix();return new Jg(this.span(e),this.sourceSpan(e),n)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,n=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(Hd))n=this.parseAccessMember(n,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(Uo)?n=this.parseCall(n,e,!0):n=this.consumeOptionalCharacter(Cl)?this.parseKeyedReadOrWrite(n,e,!0):this.parseAccessMember(n,e,!0);else if(this.consumeOptionalCharacter(Cl))n=this.parseKeyedReadOrWrite(n,e,!1);else if(this.consumeOptionalCharacter(Uo))n=this.parseCall(n,e,!1);else if(this.consumeOptionalOperator("!"))n=new Qg(this.span(e),this.sourceSpan(e),n);else if(this.next.isTemplateLiteralEnd())n=this.parseNoInterpolationTaggedTemplateLiteral(n,e);else if(this.next.isTemplateLiteralPart())n=this.parseTaggedTemplateLiteral(n,e);else return n}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(Uo)){this.rparensExpected++;let n=this.parsePipe();return this.consumeOptionalCharacter(os)||(this.error("Missing closing parentheses"),this.consumeOptionalCharacter(os)),this.rparensExpected--,new n0(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isKeywordNull())return this.advance(),new po(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new po(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new po(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new po(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordIn())return this.advance(),new po(this.span(e),this.sourceSpan(e),"in");if(this.next.isKeywordThis())return this.advance(),new Wg(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(Cl))return this.parseLiteralArray(e);if(this.next.isCharacter(Fa))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new Nl(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let n=this.next.toNumber();return this.advance(),new po(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===rf.Plain){let n=this.next.toString();return this.advance(),new po(this.span(e),this.sourceSpan(e),n)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new $s(this.span(e),this.sourceSpan(e))):this.next.isRegExpBody()?this.parseRegularExpressionLiteral():this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new $s(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new $s(this.span(e),this.sourceSpan(e)))}}}parseLiteralArray(e){this.rbracketsExpected++;let n=[];do if(this.next.isOperator("..."))n.push(this.parseSpreadElement());else if(!this.next.isCharacter(Eu))n.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(go));return this.rbracketsExpected--,this.expectCharacter(Eu),new Xg(this.span(e),this.sourceSpan(e),n)}parseLiteralMap(){let e=[],n=[],r=this.inputIndex;if(this.expectCharacter(Fa),!this.consumeOptionalCharacter(zs)){this.rbracesExpected++;do{let i=this.inputIndex;if(this.next.isOperator("...")){this.advance(),e.push({kind:"spread",span:this.span(i),sourceSpan:this.sourceSpan(i)}),n.push(this.parsePipe());continue}let s=this.next.isString(),o=this.expectIdentifierOrKeywordOrString(),a=this.span(i),l=this.sourceSpan(i),u={kind:"property",key:o,quoted:s,span:a,sourceSpan:l};e.push(u),s?(this.expectCharacter(xl),n.push(this.parsePipe())):this.consumeOptionalCharacter(xl)?n.push(this.parsePipe()):(u.isShorthandInitialized=!0,n.push(new Sl(a,l,l,new Nl(a,l),o)))}while(this.consumeOptionalCharacter(go)&&!this.next.isCharacter(zs));this.rbracesExpected--,this.expectCharacter(zs)}return new pf(this.span(r),this.sourceSpan(r),e,n)}parseAccessMember(e,n,r){let i=this.inputIndex,s=this.withContext(kg.Writable,()=>{let a=this.expectIdentifierOrKeyword()??"";return a.length===0&&this.error("Expected identifier for property access",e.span.end),a}),o=this.sourceSpan(i);if(r)return this.isAssignmentOperator(this.next)?(this.advance(),this.error("The '?.' operator cannot be used in the assignment"),new $s(this.span(n),this.sourceSpan(n))):new Gg(this.span(n),this.sourceSpan(n),o,e,s);if(this.isAssignmentOperator(this.next)){let a=this.next.strValue;if(!(this.parseFlags&1))return this.advance(),this.error("Bindings cannot contain assignments"),new $s(this.span(n),this.sourceSpan(n));let l=new Sl(this.span(n),this.sourceSpan(n),o,e,s);this.advance();let u=this.parseConditional();return new qs(this.span(n),this.sourceSpan(n),a,l,u)}else return new Sl(this.span(n),this.sourceSpan(n),o,e,s)}parseCall(e,n,r){let i=this.inputIndex;this.rparensExpected++;let s=this.parseCallArguments(),o=this.span(i,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(os),this.rparensExpected--;let a=this.span(n),l=this.sourceSpan(n);return r?new ob(a,l,e,s,o):new tp(a,l,e,s,o)}parseCallArguments(){if(this.next.isCharacter(os))return[];let e=[];do e.push(this.next.isOperator("...")?this.parseSpreadElement():this.parsePipe());while(this.consumeOptionalCharacter(go));return e}parseSpreadElement(){this.next.isOperator("...")||this.error("Spread element must start with '...' operator");let e=this.inputIndex;this.advance();let n=this.parsePipe(),r=this.span(e),i=this.sourceSpan(e);return new sb(r,i,n)}expectTemplateBindingKey(){let e="",n=!1,r=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),n=this.consumeOptionalOperator("-"),n&&(e+="-");while(n);return{source:e,span:new Vo(r,r+e.length)}}parseTemplateBindings(e){let n=[];for(n.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let r=this.parseLetBinding();if(r)n.push(r);else{let i=this.expectTemplateBindingKey(),s=this.parseAsBinding(i);s?n.push(s):(i.source=e.source+i.source.charAt(0).toUpperCase()+i.source.substring(1),n.push(...this.parseDirectiveKeywordBindings(i)))}this.consumeStatementTerminator()}return new bC(n,[],this.errors)}parseKeyedReadOrWrite(e,n,r){return this.withContext(kg.Writable,()=>{this.rbracketsExpected++;let i=this.parsePipe();if(i instanceof $s&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(Eu),this.isAssignmentOperator(this.next)){let s=this.next.strValue;if(r)this.advance(),this.error("The '?.' operator cannot be used in the assignment");else{let o=new hf(this.span(n),this.sourceSpan(n),e,i);this.advance();let a=this.parseConditional();return new qs(this.span(n),this.sourceSpan(n),s,o,a)}}else return r?new Yg(this.span(n),this.sourceSpan(n),e,i):new hf(this.span(n),this.sourceSpan(n),e,i);return new $s(this.span(n),this.sourceSpan(n))})}parseDirectiveKeywordBindings(e){let n=[];this.consumeOptionalCharacter(xl);let r=this.getDirectiveBoundTarget(),i=this.currentAbsoluteOffset,s=this.parseAsBinding(e);s||(this.consumeStatementTerminator(),i=this.currentAbsoluteOffset);let o=new Vo(e.span.start,i);return n.push(new RS(o,e,r)),s&&n.push(s),n}getDirectiveBoundTarget(){if(this.next===Ty||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:n,end:r}=e.span,i=this.input.substring(n,r);return new mo(e,i,Cc(this.parseSourceSpan),this.absoluteOffset+n,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let n=this.expectTemplateBindingKey();this.consumeStatementTerminator();let r=new Vo(e.span.start,this.currentAbsoluteOffset);return new r0(r,n,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let n=this.expectTemplateBindingKey(),r=null;this.consumeOptionalOperator("=")&&(r=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let i=new Vo(e,this.currentAbsoluteOffset);return new r0(i,n,r)}parseNoInterpolationTaggedTemplateLiteral(e,n){let r=this.parseNoInterpolationTemplateLiteral();return new e0(this.span(n),this.sourceSpan(n),e,r)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,n=this.inputIndex;this.advance();let r=this.span(n),i=this.sourceSpan(n);return new t0(r,i,[new ab(r,i,e)],[])}parseTaggedTemplateLiteral(e,n){let r=this.parseTemplateLiteral();return new e0(this.span(n),this.sourceSpan(n),e,r)}parseTemplateLiteral(){let e=[],n=[],r=this.inputIndex;for(;this.next!==Ty;){let i=this.next;if(i.isTemplateLiteralPart()||i.isTemplateLiteralEnd()){let s=this.inputIndex;if(this.advance(),e.push(new ab(this.span(s),this.sourceSpan(s),i.strValue)),i.isTemplateLiteralEnd())break}else if(i.isTemplateLiteralInterpolationStart()){this.advance(),this.rbracesExpected++;let s=this.parsePipe();s instanceof $s?this.error("Template literal interpolation cannot be empty"):n.push(s),this.rbracesExpected--}else this.advance()}return new t0(this.span(r),this.sourceSpan(r),e,n)}parseRegularExpressionLiteral(){let e=this.next;if(this.advance(),!e.isRegExpBody())return new $s(this.span(this.inputIndex),this.sourceSpan(this.inputIndex));let n=null;if(this.next.isRegExpFlags()){n=this.next,this.advance();let s=new Set;for(let o=0;o<n.strValue.length;o++){let a=n.strValue[o];G8.has(a)?s.has(a)?this.error(`Duplicate regular expression flag "${a}"`,n.index+o):s.add(a):this.error(`Unsupported regular expression flag "${a}". The supported flags are: `+Array.from(G8,l=>`"${l}"`).join(", "),n.index+o)}}let r=e.index,i=n?n.end:e.end;return new lb(this.span(r,i),this.sourceSpan(r,i),e.strValue,n?n.strValue:null)}consumeStatementTerminator(){this.consumeOptionalCharacter(Oo)||this.consumeOptionalCharacter(go)}error(e,n=this.index){this.errors.push(zh(e,this.input,this.getErrorLocationText(n),this.parseSourceSpan)),this.skip()}getErrorLocationText(e){return e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,n){let r=`Private identifiers are not supported. Unexpected private identifier: ${e}`;n!==null&&(r+=`, ${n}`),this.error(r)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(Oo)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(os))&&(this.rbracesExpected<=0||!e.isCharacter(zs))&&(this.rbracketsExpected<=0||!e.isCharacter(Eu))&&(!(this.context&kg.Writable)||!this.isAssignmentOperator(e));)this.next.isError()&&this.errors.push(zh(this.next.toString(),this.input,this.getErrorLocationText(this.next.index),this.parseSourceSpan)),this.advance(),e=this.next}};function zh(t,e,n,r){n.length>0&&(n=` ${n} `);let i=Cc(r),s=`Parser Error: ${t}${n}[${e}] in ${i}`;return new tn(r,s)}var wC=class extends np{errors=[];visitPipe(){this.errors.push("pipes")}};function rY(t){let e=new Map,n=0,r=0,i=0;for(;i<t.length;){let s=t[i];if(s.type===9){let[o,a]=s.parts;n+=a.length,r+=o.length}else{let o=s.parts.reduce((a,l)=>a+l.length,0);r+=o,n+=o}e.set(r,n),i++}return e}function iY(t){return t.visit(new _C)}var _C=class{visitUnary(e,n){return`${e.operator}${e.expr.visit(this,n)}`}visitBinary(e,n){return`${e.left.visit(this,n)} ${e.operation} ${e.right.visit(this,n)}`}visitChain(e,n){return e.expressions.map(r=>r.visit(this,n)).join("; ")}visitConditional(e,n){return`${e.condition.visit(this,n)} ? ${e.trueExp.visit(this,n)} : ${e.falseExp.visit(this,n)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,n){return oY(e.strings,e.expressions.map(r=>r.visit(this,n))).join("")}visitKeyedRead(e,n){return`${e.receiver.visit(this,n)}[${e.key.visit(this,n)}]`}visitLiteralArray(e,n){return`[${e.expressions.map(r=>r.visit(this,n)).join(", ")}]`}visitLiteralMap(e,n){return`{${sY(e.keys.map(r=>r.kind==="spread"?"...":r.quoted?`'${r.key}'`:r.key),e.values.map(r=>r.visit(this,n))).map(([r,i])=>`${r}: ${i}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,n){return`${e.exp.visit(this,n)} | ${e.name}`}visitPrefixNot(e,n){return`!${e.expression.visit(this,n)}`}visitNonNullAssert(e,n){return`${e.expression.visit(this,n)}!`}visitPropertyRead(e,n){return e.receiver instanceof Nl||e.receiver instanceof Wg?e.name:`${e.receiver.visit(this,n)}.${e.name}`}visitSafePropertyRead(e,n){return`${e.receiver.visit(this,n)}?.${e.name}`}visitSafeKeyedRead(e,n){return`${e.receiver.visit(this,n)}?.[${e.key.visit(this,n)}]`}visitCall(e,n){return`${e.receiver.visit(this,n)}(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitSafeCall(e,n){return`${e.receiver.visit(this,n)}?.(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitTypeofExpression(e,n){return`typeof ${e.expression.visit(this,n)}`}visitVoidExpression(e,n){return`void ${e.expression.visit(this,n)}`}visitRegularExpressionLiteral(e,n){return`/${e.body}/${e.flags||""}`}visitASTWithSource(e,n){return e.ast.visit(this,n)}visitTemplateLiteral(e,n){let r="";for(let i=0;i<e.elements.length;i++){r+=e.elements[i].visit(this,n);let s=i<e.expressions.length?e.expressions[i]:null;s!==null&&(r+="${"+s.visit(this,n)+"}")}return"`"+r+"`"}visitTemplateLiteralElement(e,n){return e.text}visitTaggedTemplateLiteral(e,n){return e.tag.visit(this,n)+e.template.visit(this,n)}visitSpreadElement(e,n){return`...${e.expression.visit(this,n)}`}visitParenthesizedExpression(e,n){return"("+e.expression.visit(this,n)+")"}};function sY(t,e){if(t.length!==e.length)throw new Error("Array lengths must match");return t.map((n,r)=>[n,e[r]])}function oY(t,e){let n=[];for(let r=0;r<Math.max(t.length,e.length);r++)r<t.length&&n.push(t[r]),r<e.length&&n.push(e[r]);return n}var jy;function Y8(){return jy||(jy={},Cg(xr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Cg(xr.STYLE,["*|style"]),Cg(xr.URL,["*|formAction","area|href","a|href","a|xlink:href","form|action","annotation|href","annotation|xlink:href","annotation-xml|href","annotation-xml|xlink:href","maction|href","maction|xlink:href","malignmark|href","malignmark|xlink:href","math|href","math|xlink:href","mroot|href","mroot|xlink:href","msqrt|href","msqrt|xlink:href","merror|href","merror|xlink:href","mfrac|href","mfrac|xlink:href","mglyph|href","mglyph|xlink:href","msub|href","msub|xlink:href","msup|href","msup|xlink:href","msubsup|href","msubsup|xlink:href","mmultiscripts|href","mmultiscripts|xlink:href","mprescripts|href","mprescripts|xlink:href","mi|href","mi|xlink:href","mn|href","mn|xlink:href","mo|href","mo|xlink:href","mpadded|href","mpadded|xlink:href","mphantom|href","mphantom|xlink:href","mrow|href","mrow|xlink:href","ms|href","ms|xlink:href","mspace|href","mspace|xlink:href","mstyle|href","mstyle|xlink:href","mtable|href","mtable|xlink:href","mtd|href","mtd|xlink:href","mtr|href","mtr|xlink:href","mtext|href","mtext|xlink:href","mover|href","mover|xlink:href","munder|href","munder|xlink:href","munderover|href","munderover|xlink:href","semantics|href","semantics|xlink:href","none|href","none|xlink:href","img|src","video|src"]),Cg(xr.RESOURCE_URL,["base|href","embed|src","frame|src","iframe|src","link|href","object|codebase","object|data","script|src","script|href","script|xlink:href"]),Cg(xr.ATTRIBUTE_NO_BINDING,["animate|attributeName","set|attributeName","animateMotion|attributeName","animateTransform|attributeName","unknown|attributeName","iframe|sandbox","iframe|allow","iframe|allowFullscreen","iframe|referrerPolicy","iframe|csp","iframe|fetchPriority","unknown|sandbox","unknown|allow","unknown|allowFullscreen","unknown|referrerPolicy","unknown|csp","unknown|fetchPriority"])),jy}function Cg(t,e){for(let n of e)jy[n.toLowerCase()]=t}var xC=class{},aY="boolean",lY="number",uY="string",cY="object",dY=["[Element]|textContent,%ariaActiveDescendantElement,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColIndexText,%ariaColSpan,%ariaControlsElements,%ariaCurrent,%ariaDescribedByElements,%ariaDescription,%ariaDetailsElements,%ariaDisabled,%ariaErrorMessageElements,%ariaExpanded,%ariaFlowToElements,%ariaHasPopup,%ariaHidden,%ariaInvalid,%ariaKeyShortcuts,%ariaLabel,%ariaLabelledByElements,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaOwnsElements,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowIndexText,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","selectedcontent^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],OM=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex","aria-activedescendant":"ariaActiveDescendantElement","aria-atomic":"ariaAtomic","aria-autocomplete":"ariaAutoComplete","aria-busy":"ariaBusy","aria-checked":"ariaChecked","aria-colcount":"ariaColCount","aria-colindex":"ariaColIndex","aria-colindextext":"ariaColIndexText","aria-colspan":"ariaColSpan","aria-controls":"ariaControlsElements","aria-current":"ariaCurrent","aria-describedby":"ariaDescribedByElements","aria-description":"ariaDescription","aria-details":"ariaDetailsElements","aria-disabled":"ariaDisabled","aria-errormessage":"ariaErrorMessageElements","aria-expanded":"ariaExpanded","aria-flowto":"ariaFlowToElements","aria-haspopup":"ariaHasPopup","aria-hidden":"ariaHidden","aria-invalid":"ariaInvalid","aria-keyshortcuts":"ariaKeyShortcuts","aria-label":"ariaLabel","aria-labelledby":"ariaLabelledByElements","aria-level":"ariaLevel","aria-live":"ariaLive","aria-modal":"ariaModal","aria-multiline":"ariaMultiLine","aria-multiselectable":"ariaMultiSelectable","aria-orientation":"ariaOrientation","aria-owns":"ariaOwnsElements","aria-placeholder":"ariaPlaceholder","aria-posinset":"ariaPosInSet","aria-pressed":"ariaPressed","aria-readonly":"ariaReadOnly","aria-required":"ariaRequired","aria-roledescription":"ariaRoleDescription","aria-rowcount":"ariaRowCount","aria-rowindex":"ariaRowIndex","aria-rowindextext":"ariaRowIndexText","aria-rowspan":"ariaRowSpan","aria-selected":"ariaSelected","aria-setsize":"ariaSetSize","aria-sort":"ariaSort","aria-valuemax":"ariaValueMax","aria-valuemin":"ariaValueMin","aria-valuenow":"ariaValueNow","aria-valuetext":"ariaValueText"})),fY=Array.from(OM).reduce((t,[e,n])=>(t.set(e,n),t),new Map),hp=class extends xC{_schema=new Map;_eventSchema=new Map;constructor(){super(),dY.forEach(e=>{let n=new Map,r=new Set,[i,s]=e.split("|"),o=s.split(","),[a,l]=i.split("^");a.split(",").forEach(c=>{this._schema.set(c.toLowerCase(),n),this._eventSchema.set(c.toLowerCase(),r)});let u=l&&this._schema.get(l.toLowerCase());if(u){for(let[c,d]of u)n.set(c,d);for(let c of this._eventSchema.get(l.toLowerCase()))r.add(c)}o.forEach(c=>{if(c.length>0)switch(c[0]){case"*":r.add(c.substring(1));break;case"!":n.set(c.substring(1),aY);break;case"#":n.set(c.substring(1),lY);break;case"%":n.set(c.substring(1),cY);break;default:n.set(c,uY)}})})}hasProperty(e,n,r){if(r.some(s=>s.name===Xk.name))return!0;if(e.indexOf("-")>-1){if(a8(e)||LS(e))return!1;if(r.some(s=>s.name===Yk.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(n)}hasElement(e,n){return n.some(r=>r.name===Xk.name)||e.indexOf("-")>-1&&(a8(e)||LS(e)||n.some(r=>r.name===Yk.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,n,r){r&&(n=this.getMappedPropName(n)),e=e.toLowerCase(),n=n.toLowerCase();let i=Y8()[e+"|"+n];return i||(i=Y8()["*|"+n],i||xr.NONE)}getMappedPropName(e){return OM.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let n=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(n.keys()).map(r=>fY.get(r)??r)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return lq(e)}normalizeAnimationStyleValue(e,n,r){let i="",s=r.toString().trim(),o=null;if(hY(e)&&r!==0&&r!=="0")if(typeof r=="number")i="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(o=`Please provide a CSS unit value for ${n}:${r}`)}return{error:o,value:s+i}}};function hY(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var Tn=class{closedByChildren={};contentType;closedByParent=!1;implicitNamespacePrefix;isVoid;ignoreFirstLf;canSelfClose;preventNamespaceInheritance;constructor({closedByChildren:e,implicitNamespacePrefix:n,contentType:r=_l.PARSABLE_DATA,closedByParent:i=!1,isVoid:s=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){e&&e.length>0&&e.forEach(u=>this.closedByChildren[u]=!0),this.isVoid=s,this.closedByParent=i||s,this.implicitNamespacePrefix=n||null,this.contentType=r,this.ignoreFirstLf=o,this.preventNamespaceInheritance=a,this.canSelfClose=l??s}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},X8,Bh;function EC(t){return Bh||(X8=new Tn({canSelfClose:!0}),Bh=Object.assign(Object.create(null),{base:new Tn({isVoid:!0}),meta:new Tn({isVoid:!0}),area:new Tn({isVoid:!0}),embed:new Tn({isVoid:!0}),link:new Tn({isVoid:!0}),img:new Tn({isVoid:!0}),input:new Tn({isVoid:!0}),param:new Tn({isVoid:!0}),hr:new Tn({isVoid:!0}),br:new Tn({isVoid:!0}),source:new Tn({isVoid:!0}),track:new Tn({isVoid:!0}),wbr:new Tn({isVoid:!0}),p:new Tn({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new Tn({closedByChildren:["tbody","tfoot"]}),tbody:new Tn({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new Tn({closedByChildren:["tbody"],closedByParent:!0}),tr:new Tn({closedByChildren:["tr"],closedByParent:!0}),td:new Tn({closedByChildren:["td","th"],closedByParent:!0}),th:new Tn({closedByChildren:["td","th"],closedByParent:!0}),col:new Tn({isVoid:!0}),svg:new Tn({implicitNamespacePrefix:"svg"}),foreignObject:new Tn({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new Tn({implicitNamespacePrefix:"math"}),li:new Tn({closedByChildren:["li"],closedByParent:!0}),dt:new Tn({closedByChildren:["dt","dd"]}),dd:new Tn({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new Tn({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new Tn({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new Tn({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new Tn({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new Tn({closedByChildren:["optgroup"],closedByParent:!0}),option:new Tn({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new Tn({ignoreFirstLf:!0}),listing:new Tn({ignoreFirstLf:!0}),style:new Tn({contentType:_l.RAW_TEXT}),script:new Tn({contentType:_l.RAW_TEXT}),title:new Tn({contentType:{default:_l.ESCAPABLE_RAW_TEXT,svg:_l.PARSABLE_DATA}}),textarea:new Tn({contentType:_l.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new hp().allKnownElementNames().forEach(e=>{!Bh[e]&&FS(e)===null&&(Bh[e]=new Tn({canSelfClose:!1}))})),Bh[t]??Bh[t.toLowerCase()]??X8}var K8={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},SC=class{_placeHolderNameCounts={};_signatureToName={};getStartTagPlaceholderName(e,n,r){let i=this._hashTag(e,n,r);if(this._signatureToName[i])return this._signatureToName[i];let s=e.toUpperCase(),o=K8[s]||`TAG_${s}`,a=this._generateUniqueName(r?o:`START_${o}`);return this._signatureToName[i]=a,a}getCloseTagPlaceholderName(e){let n=this._hashClosingTag(e);if(this._signatureToName[n])return this._signatureToName[n];let r=e.toUpperCase(),i=K8[r]||`TAG_${r}`,s=this._generateUniqueName(`CLOSE_${i}`);return this._signatureToName[n]=s,s}getPlaceholderName(e,n){let r=e.toUpperCase(),i=`PH: ${r}=${n}`;if(this._signatureToName[i])return this._signatureToName[i];let s=this._generateUniqueName(r);return this._signatureToName[i]=s,s}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,n){let r=this._hashBlock(e,n);if(this._signatureToName[r])return this._signatureToName[r];let i=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[r]=i,i}getCloseBlockPlaceholderName(e){let n=this._hashClosingBlock(e);if(this._signatureToName[n])return this._signatureToName[n];let r=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[n]=r,r}_hashTag(e,n,r){let i=`<${e}`,s=Object.keys(n).sort().map(a=>` ${a}=${n[a]}`).join(""),o=r?"/>":`></${e}>`;return i+s+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,n){let r=n.length===0?"":` (${n.sort().join("; ")})`;return`@${e}${r} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let r=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=r+1,`${e}_${r}`}},pY=new Ub(new k0);function mY(t,e){let n=new CC(pY,t,e);return(r,i,s,o,a)=>n.toI18nMessage(r,i,s,o,a)}function gY(t,e){return e}var CC=class{_expressionParser;_retainEmptyTokens;_preserveExpressionWhitespace;constructor(e,n,r){this._expressionParser=e,this._retainEmptyTokens=n,this._preserveExpressionWhitespace=r}toI18nMessage(e,n="",r="",i="",s){let o={isIcu:e.length==1&&e[0]instanceof nf,icuDepth:0,placeholderRegistry:new SC,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:s||gY},a=Vr(this,e,o);return new Ys(a,o.placeholderToContent,o.placeholderToMessage,n,r,i)}visitElement(e,n){return this._visitElementLike(e,n)}visitComponent(e,n){return this._visitElementLike(e,n)}visitDirective(e,n){throw new Error("Unreachable code")}visitAttribute(e,n){let r=e.valueTokens===void 0||e.valueTokens.length===1?new _g(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitText(e,n){let r=e.tokens.length===1?new _g(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitComment(e,n){return null}visitExpansion(e,n){n.icuDepth++;let r={},i=new vb(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(a=>{r[a.value]=new Cu(a.expression.map(l=>l.visit(this,n)),a.expSourceSpan)}),n.icuDepth--,n.isIcu||n.icuDepth>0){let a=n.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return i.expressionPlaceholder=a,n.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},n.visitNodeFn(e,i)}let s=n.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());n.placeholderToMessage[s]=this.toI18nMessage([e],"","","",void 0);let o=new ap(i,s,e.sourceSpan);return n.visitNodeFn(e,o)}visitExpansionCase(e,n){throw new Error("Unreachable code")}visitBlock(e,n){let r=Vr(this,e.children,n);if(e.name==="switch")return new Cu(r,e.sourceSpan);let i=e.parameters.map(l=>l.expression),s=n.placeholderRegistry.getStartBlockPlaceholderName(e.name,i),o=n.placeholderRegistry.getCloseBlockPlaceholderName(e.name);n.placeholderToContent[s]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},n.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new Pc(e.name,i,s,o,r,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,a)}visitBlockParameter(e,n){throw new Error("Unreachable code")}visitLetDeclaration(e,n){return null}_visitElementLike(e,n){let r=Vr(this,e.children,n),i={},s=d=>{i[d.name]=d.value},o,a;e instanceof la?(o=e.name,a=EC(e.name).isVoid):(o=e.fullName,a=e.tagName?EC(e.tagName).isVoid:!1),e.attrs.forEach(s),e.directives.forEach(d=>d.attrs.forEach(s));let l=n.placeholderRegistry.getStartTagPlaceholderName(o,i,a);n.placeholderToContent[l]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let u="";a||(u=n.placeholderRegistry.getCloseTagPlaceholderName(o),n.placeholderToContent[u]={text:`</${o}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let c=new Rc(o,i,l,u,r,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,c)}_visitTextWithInterpolation(e,n,r,i){let s=[],o=!1;for(let a of e)switch(a.type){case 8:case 17:o=!0;let[l,u,c]=a.parts,d=_Y(u)||"INTERPOLATION",f=r.placeholderRegistry.getPlaceholderName(d,u);if(this._preserveExpressionWhitespace)r.placeholderToContent[f]={text:a.parts.join(""),sourceSpan:a.sourceSpan},s.push(new f0(u,f,a.sourceSpan));else{let h=this.normalizeExpression(a);r.placeholderToContent[f]={text:`${l}${h}${c}`,sourceSpan:a.sourceSpan},s.push(new f0(h,f,a.sourceSpan))}break;default:if(a.parts[0].length>0||this._retainEmptyTokens){let h=s[s.length-1];h instanceof _g?(h.value+=a.parts[0],h.sourceSpan=new an(h.sourceSpan.start,a.sourceSpan.end,h.sourceSpan.fullStart,h.sourceSpan.details)):s.push(new _g(a.parts[0],a.sourceSpan))}else this._retainEmptyTokens&&s.push(new _g(a.parts[0],a.sourceSpan));break}return o?(vY(s,i),new Cu(s,n)):s[0]}normalizeExpression(e){let n=e.parts[1],r=this._expressionParser.parseBinding(n,e.sourceSpan,e.sourceSpan.start.offset);return iY(r)}};function vY(t,e){if(e instanceof Ys&&(yY(e),e=e.nodes[0]),e instanceof Cu){bY(e.children,t);for(let n=0;n<t.length;n++)t[n].sourceSpan=e.children[n].sourceSpan}}function yY(t){let e=t.nodes;if(e.length!==1||!(e[0]instanceof Cu))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function bY(t,e){if(t.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${t.length} tokens):
${t.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(t.some((n,r)=>e[r].constructor!==n.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var wY=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function _Y(t){return t.split(wY)[2]}var Z8=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function J8(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),Z8.has(t+"|"+e)||Z8.has("*|"+e)}var xY=t=>(e,n)=>{let r=t.get(e)??e;return r instanceof Iu&&(n instanceof ap&&r.i18n instanceof Ys&&(n.previousMessage=r.i18n),r.i18n=n),n},jb=class{keepI18nAttrs;enableI18nLegacyMessageIdFormat;preserveSignificantWhitespace;retainEmptyTokens;hasI18nMeta=!1;_errors=[];constructor(e=!1,n=!1,r=!0,i=!r){this.keepI18nAttrs=e,this.enableI18nLegacyMessageIdFormat=n,this.preserveSignificantWhitespace=r,this.retainEmptyTokens=i}_generateI18nMessage(e,n="",r){let{meaning:i,description:s,customId:o}=this._parseMetadata(n),l=mY(this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,i,s,o,r);return this._setMessageId(l,n),this._setLegacyIds(l,n),l}visitAllWithErrors(e){let n=e.map(r=>r.visit(this,null));return new Bb(n,this._errors)}visitElement(e){return this._visitElementLike(e),e}visitComponent(e,n){return this._visitElementLike(e),e}visitExpansion(e,n){let r,i=e.i18n;if(this.hasI18nMeta=!0,i instanceof ap){let s=i.name;r=this._generateI18nMessage([e],i);let o=XN(r);o.name=s,n!==null&&(n.placeholderToMessage[s]=r)}else r=this._generateI18nMessage([e],n||i);return e.i18n=r,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,n){return Vr(this,e.children,n),e}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}visitDirective(e,n){return e}_visitElementLike(e){let n;if(Fq(e)){this.hasI18nMeta=!0;let r=[],i={};for(let s of e.attrs)if(s.name===GN){let o=e.i18n||s.value,a=new Map,l=this.preserveSignificantWhitespace?e.children:yl(new Vb(!1,a),e.children);n=this._generateI18nMessage(l,o,xY(a)),n.nodes.length===0&&(n=void 0),e.i18n=n}else if(s.name.startsWith(zS)){let o=s.name.slice(zS.length),a;e instanceof ho?a=e.tagName===null?!1:J8(e.tagName,o):a=J8(e.name,o),a?this._reportError(s,`Translating attribute '${o}' is disallowed for security reasons.`):i[o]=s.value}else r.push(s);if(Object.keys(i).length)for(let s of r){let o=i[s.name];o!==void 0&&s.value&&(s.i18n=this._generateI18nMessage([s],s.i18n||o))}this.keepI18nAttrs||(e.attrs=r)}Vr(this,e.children,n)}_parseMetadata(e){return typeof e=="string"?CY(e):e instanceof Ys?e:{}}_setMessageId(e,n){e.id||(e.id=n instanceof Ys&&n.id||B$(e))}_setLegacyIds(e,n){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[O$(e),BN(e)];else if(typeof n!="string"){let r=n instanceof Ys?n:n instanceof ap?n.previousMessage:void 0;e.legacyIds=r?r.legacyIds:[]}}_reportError(e,n){this._errors.push(new tn(e.sourceSpan,n))}},EY="|",SY="@@";function CY(t=""){let e,n,r;if(t=t.trim(),t){let i=t.indexOf(SY),s=t.indexOf(EY),o;[o,e]=i>-1?[t.slice(0,i),t.slice(i+2)]:[t,""],[n,r]=s>-1?[o.slice(0,s),o.slice(s+1)]:["",o]}return{customId:e,meaning:n,description:r}}function AY(t){let e=[];return t.description?e.push({tagName:"desc",text:t.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),t.meaning&&e.push({tagName:"meaning",text:t.meaning}),Q$(e)}var TY="goog.getMsg";function IY(t,e,n,r){let i=kY(e),s=[Me(i)];Object.keys(r).length&&(s.push(lC(r5(r,!0),!0)),s.push(lC({original_code:pa(Object.keys(r).map(l=>({key:O0(l),quoted:!0,value:e.placeholders[l]?Me(e.placeholders[l].sourceSpan.toString()):Me(e.placeholderToMessage[l].nodes.map(u=>u.sourceSpan.toString()).join(""))})))})));let o=new Ui(n.name,On(TY).callFn(s),Oa,ls.Final);o.addLeadingComment(AY(e));let a=new As(t.set(n));return[o,a]}var AC=class{formatPh(e){return`{$${O0(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){return kM(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}},DY=new AC;function kY(t){return t.nodes.map(e=>e.visit(DY,null)).join("")}function NY(t,e,n){let{messageParts:r,placeHolders:i}=MY(e),s=RY(e),o=i.map(u=>n[u.text]),a=nq(e,r,i,o,s),l=t.set(a);return[new As(l)]}var TC=class{placeholderToMessage;pieces;constructor(e,n){this.placeholderToMessage=e,this.pieces=n}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Jd)this.pieces[this.pieces.length-1].text+=e.value;else{let n=new an(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Jd(e.value,n))}}visitContainer(e){e.children.forEach(n=>n.visit(this))}visitIcu(e){this.pieces.push(new Jd(kM(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,n,r){return new Wh(O0(e,!1),n,r)}};function MY(t){let e=[],n=new TC(t.placeholderToMessage,e);return t.nodes.forEach(r=>r.visit(n)),PY(e)}function RY(t){let e=t.nodes[0],n=t.nodes[t.nodes.length-1];return new an(e.sourceSpan.fullStart,n.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function PY(t){let e=[],n=[];t[0]instanceof Wh&&e.push(dS(t[0].sourceSpan.start));for(let r=0;r<t.length;r++){let i=t[r];i instanceof Jd?e.push(i):(n.push(i),t[r-1]instanceof Wh&&e.push(dS(t[r-1].sourceSpan.end)))}return t[t.length-1]instanceof Wh&&e.push(dS(t[t.length-1].sourceSpan.end)),{messageParts:e,placeHolders:n}}function dS(t){return new Jd("",new an(t,t))}var Q8="ngI18nClosureMode",LY="i18n_",FY="I18N_EXP_",eN="\uFFFD",OY="MSG_";function tN(t){return`${OY}${t}`.toUpperCase()}function BY(t){return new Ui(t.name,void 0,Oa,void 0,t.sourceSpan)}function VY(t){let e=t.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",n=new Map,r=new Map,i=new Map,s=new Map;for(let l of t.units)for(let u of l.ops())if(u.kind===ee.ExtractedAttribute&&u.i18nContext!==null){let c=n.get(u.i18nContext)??[];c.push(u),n.set(u.i18nContext,c)}else if(u.kind===ee.I18nAttributes)r.set(u.target,u);else if(u.kind===ee.I18nExpression&&u.usage===gp.I18nAttribute){let c=i.get(u.target)??[];c.push(u),i.set(u.target,c)}else u.kind===ee.I18nMessage&&s.set(u.xref,u);let o=new Map,a=new Map;for(let l of t.units)for(let u of l.create)if(u.kind===ee.I18nMessage){if(u.messagePlaceholder===null){let{mainVar:c,statements:d}=BM(t,e,s,u);if(u.i18nBlock!==null){let f=t.addConst(c,d);a.set(u.i18nBlock,f)}else{t.constsInitializers.push(...d),o.set(u.i18nContext,c);let f=n.get(u.i18nContext);if(f!==void 0)for(let h of f)h.expression=c.clone()}}Ye.remove(u)}for(let l of t.units)for(let u of l.create)if(Uc(u)){let c=r.get(u.xref);if(c===void 0)continue;let d=i.get(u.xref);if(d===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let f=new Set;d=d.filter(p=>{let m=f.has(p.name);return f.add(p.name),!m});let h=d.flatMap(p=>{let m=o.get(p.context);if(m===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[Me(p.name),m]});c.i18nAttributesConfig=t.addConst(new Dl(h))}for(let l of t.units)for(let u of l.create)if(u.kind===ee.I18nStart){let c=a.get(u.root);if(c===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");u.messageIndex=c}}function BM(t,e,n,r){let i=[],s=new Map;for(let u of r.subMessages){let c=n.get(u),{mainVar:d,statements:f}=BM(t,e,n,c);i.push(...f);let h=s.get(c.messagePlaceholder)??[];h.push(d),s.set(c.messagePlaceholder,h)}UY(r,s),r.params=new Map([...r.params.entries()].sort());let o=On(t.pool.uniqueName(LY)),a=$Y(t.pool,r.message.id,e,t.i18nUseExternalIds),l;if(r.needsPostprocessing||r.postprocessingParams.size>0){let u=Object.fromEntries([...r.postprocessingParams.entries()].sort()),c=r5(u,!1),d=[];r.postprocessingParams.size>0&&d.push(lC(c,!0)),l=f=>Lt(be.i18nPostprocess).callFn([f,...d])}return i.push(...jY(r.message,o,a,r.params,l)),{mainVar:o,statements:i}}function UY(t,e){for(let[n,r]of e)r.length===1?t.params.set(n,r[0]):(t.params.set(n,Me(`${eN}${FY}${n}${eN}`)),t.postprocessingParams.set(n,gr(r)))}function jY(t,e,n,r,i){let s=Object.fromEntries(r),o=[BY(e),e2(HY(),IY(e,t,n,s),NY(e,t,r5(s,!1)))];return i&&o.push(new As(e.set(i(e)))),o}function HY(){return L0(On(Q8)).notIdentical(Me("undefined",e5)).and(On(Q8))}function $Y(t,e,n,r){let i,s=n;if(r){let o=tN("EXTERNAL_"),a=t.uniqueName(s);i=`${o}${Wd(e)}$$${a}`}else{let o=tN(s);i=t.uniqueName(o)}return On(i)}function qY(t){for(let e of t.units){let n=null,r=null,i=new Map,s=new Map,o=new Map;for(let a of e.create)switch(a.kind){case ee.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");n=a;break;case ee.I18nEnd:n=null;break;case ee.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");r=a;break;case ee.IcuEnd:r=null;break;case ee.Text:if(n!==null)if(i.set(a.xref,n),s.set(a.xref,r),a.icuPlaceholder!==null){let l=gW(t.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);Ye.replace(a,l),o.set(a.xref,l)}else Ye.remove(a);break}for(let a of e.update)switch(a.kind){case ee.InterpolateText:if(!i.has(a.target))continue;let l=i.get(a.target),u=s.get(a.target),c=o.get(a.target),d=u?u.context:l.context,f=u?b0.Postproccessing:b0.Creation,h=[];for(let p=0;p<a.interpolation.expressions.length;p++){let m=a.interpolation.expressions[p];h.push(mM(d,l.xref,l.xref,l.handle,m,c?.xref??null,a.interpolation.i18nPlaceholders[p]??null,f,gp.I18nText,"",m.sourceSpan??a.sourceSpan))}Ye.replaceWithMany(a,h),c!==void 0&&(c.strings=a.interpolation.strings);break}}}function zY(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case ee.ElementStart:case ee.ConditionalCreate:case ee.ConditionalBranchCreate:case ee.Template:if(!Array.isArray(n.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(n.numSlotsUsed+=n.localRefs.length,n.localRefs.length>0){let r=WY(n.localRefs);n.localRefs=t.addConst(r)}else n.localRefs=null;break}}function WY(t){let e=[];for(let n of t)e.push(Me(n.name),Me(n.target));return gr(e)}function GY(t){for(let e of t.units){let n=Cs.HTML;for(let r of e.create)r.kind===ee.ElementStart&&r.namespace!==n&&(Ye.insertBefore(lW(r.namespace),r),n=r.namespace)}}function YY(t){let e=[],n=0,r=0,i=0,s=0,o=0,a=null;for(;n<t.length;)switch(t.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:i===0?i=39:i===39&&t.charCodeAt(n-1)!==92&&(i=0);break;case 34:i===0?i=34:i===34&&t.charCodeAt(n-1)!==92&&(i=0);break;case 58:!a&&r===0&&i===0&&(a=VM(t.substring(o,n-1).trim()),s=n);break;case 59:if(a&&s>0&&r===0&&i===0){let u=t.substring(s,n-1).trim();e.push(a,u),o=n,s=0,a=null}break}if(a&&s){let l=t.slice(s).trim();e.push(a,l)}return e}function VM(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function XY(t){let e=new Map;for(let n of t.units)for(let r of n.create)Uc(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)if(r.kind===ee.ExtractedAttribute&&r.bindingKind===Dt.Attribute&&gM(r.expression)){let i=e.get(r.target);if(i!==void 0&&(i.kind===ee.Template||i.kind===ee.ConditionalCreate||i.kind===ee.ConditionalBranchCreate)&&i.templateKind===vo.Structural)continue;if(r.name==="style"){let s=YY(r.expression.value);for(let o=0;o<s.length-1;o+=2)Ye.insertBefore(Fo(r.target,Dt.StyleProperty,null,s[o],Me(s[o+1]),null,null,xr.STYLE),r);Ye.remove(r)}else if(r.name==="class"){let s=r.expression.value.trim().split(/\s+/g);for(let o of s)Ye.insertBefore(Fo(r.target,Dt.ClassName,null,o,null,null,null,xr.NONE),r);Ye.remove(r)}}}function KY(t){Ng(t.root,t.componentName,{index:0},t.compatibility===zo.TemplateDefinitionBuilder)}function Ng(t,e,n,r){t.fnName===null&&(t.fnName=t.job.pool.uniqueName(Wd(`${e}_${t.job.fnSuffix}`),!1));let i=new Map;for(let s of t.ops())switch(s.kind){case ee.Property:case ee.DomProperty:s.bindingKind===Dt.LegacyAnimation&&(s.name="@"+s.name);break;case ee.Animation:if(s.handlerFnName===null){let c=s.name.replace(".","");s.handlerFnName=`${t.fnName}_${c}_cb`,s.handlerFnName=Wd(s.handlerFnName)}break;case ee.AnimationListener:if(s.handlerFnName!==null)break;if(!s.hostListener&&s.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o=s.name.replace(".","");s.hostListener?s.handlerFnName=`${e}_${o}_HostBindingHandler`:s.handlerFnName=`${t.fnName}_${s.tag.replace("-","_")}_${o}_${s.targetSlot.slot}_listener`,s.handlerFnName=Wd(s.handlerFnName);break;case ee.Listener:if(s.handlerFnName!==null)break;if(!s.hostListener&&s.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let a="";s.isLegacyAnimationListener&&(s.name=`@${s.name}.${s.legacyAnimationPhase}`,a="animation"),s.hostListener?s.handlerFnName=`${e}_${a}${s.name}_HostBindingHandler`:s.handlerFnName=`${t.fnName}_${s.tag.replace("-","_")}_${a}${s.name}_${s.targetSlot.slot}_listener`,s.handlerFnName=Wd(s.handlerFnName);break;case ee.TwoWayListener:if(s.handlerFnName!==null)break;if(s.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");s.handlerFnName=Wd(`${t.fnName}_${s.tag.replace("-","_")}_${s.name}_${s.targetSlot.slot}_listener`);break;case ee.Variable:i.set(s.xref,ZY(t,s.variable,n));break;case ee.RepeaterCreate:if(!(t instanceof fa))throw new Error("AssertionError: must be compiling a component");if(s.handle.slot===null)throw new Error("Expected slot to be assigned");if(s.emptyView!==null){let c=t.job.views.get(s.emptyView);Ng(c,`${e}_${s.functionNameSuffix}Empty_${s.handle.slot+2}`,n,r)}Ng(t.job.views.get(s.xref),`${e}_${s.functionNameSuffix}_${s.handle.slot+1}`,n,r);break;case ee.Projection:if(!(t instanceof fa))throw new Error("AssertionError: must be compiling a component");if(s.handle.slot===null)throw new Error("Expected slot to be assigned");if(s.fallbackView!==null){let c=t.job.views.get(s.fallbackView);Ng(c,`${e}_ProjectionFallback_${s.handle.slot}`,n,r)}break;case ee.ConditionalCreate:case ee.ConditionalBranchCreate:case ee.Template:if(!(t instanceof fa))throw new Error("AssertionError: must be compiling a component");let l=t.job.views.get(s.xref);if(s.handle.slot===null)throw new Error("Expected slot to be assigned");let u=s.functionNameSuffix.length===0?"":`_${s.functionNameSuffix}`;Ng(l,`${e}${u}_${s.handle.slot}`,n,r);break;case ee.StyleProp:s.name=JY(s.name),r&&(s.name=nN(s.name));break;case ee.ClassProp:r&&(s.name=nN(s.name));break}for(let s of t.ops())Yi(s,o=>{if(!(!(o instanceof Au)||o.name!==null)){if(!i.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=i.get(o.xref)}})}function ZY(t,e,n){if(e.name===null)switch(e.kind){case Gi.Context:e.name=`ctx_r${n.index++}`;break;case Gi.Identifier:if(t.job.compatibility===zo.TemplateDefinitionBuilder){let r=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${r}r${++n.index}`}else e.name=`${e.identifier}_i${n.index++}`;break;default:e.name=`_r${++n.index}`;break}return e.name}function JY(t){return t.startsWith("--")?t:VM(t)}function nN(t){let e=t.indexOf("!important");return e>-1?t.substring(0,e):t}function QY(t){for(let e of t.units){for(let n of e.create)(n.kind===ee.Listener||n.kind===ee.Animation||n.kind===ee.AnimationListener||n.kind===ee.TwoWayListener)&&rN(n.handlerOps);rN(e.update)}}function rN(t){for(let e of t){if(e.kind!==ee.Statement||!(e.statement instanceof As)||!(e.statement.expr instanceof Cb))continue;let n=e.statement.expr.steps,r=!0;for(let i=e.next;i.kind!==ee.ListEnd&&r;i=i.next)Yi(i,(s,o)=>{if(!Pl(s))return s;if(r&&!(o&Jn.InChildOperation))switch(s.kind){case Ut.NextContext:s.steps+=n,Ye.remove(e),r=!1;break;case Ut.GetCurrentView:case Ut.Reference:case Ut.ContextLetReference:r=!1;break}})}}var eX="ng-container";function tX(t){for(let e of t.units){let n=new Set;for(let r of e.create)r.kind===ee.ElementStart&&r.tag===eX&&(r.kind=ee.ContainerStart,n.add(r.xref)),r.kind===ee.ElementEnd&&n.has(r.xref)&&(r.kind=ee.ContainerEnd)}}function nX(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function rX(t){let e=new Map;for(let n of t.units)for(let r of n.create)Uc(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)(r.kind===ee.ElementStart||r.kind===ee.ContainerStart)&&r.nonBindable&&Ye.insertAfter(iW(r.xref),r),(r.kind===ee.ElementEnd||r.kind===ee.ContainerEnd)&&nX(e,r.xref).nonBindable&&Ye.insertBefore(sW(r.xref),r)}function El(t){return e=>e.kind===t}function Fg(t,e){return n=>n.kind===t&&e===n.expression instanceof Jr}function iX(t){return t.kind===ee.Listener&&!(t.hostListener&&t.isLegacyAnimationListener)||t.kind===ee.TwoWayListener||t.kind===ee.Animation||t.kind===ee.AnimationListener}function sX(t){return(t.kind===ee.Property||t.kind===ee.TwoWayProperty)&&!(t.expression instanceof Jr)}var oX=[{test:t=>t.kind===ee.Listener&&t.hostListener&&t.isLegacyAnimationListener},{test:iX}],aX=[{test:El(ee.StyleMap),transform:Hb},{test:El(ee.ClassMap),transform:Hb},{test:El(ee.StyleProp)},{test:El(ee.ClassProp)},{test:Fg(ee.Attribute,!0)},{test:Fg(ee.Property,!0)},{test:sX},{test:Fg(ee.Attribute,!1)},{test:El(ee.Control)}],lX=[{test:Fg(ee.DomProperty,!0)},{test:Fg(ee.DomProperty,!1)},{test:El(ee.Attribute)},{test:El(ee.StyleMap),transform:Hb},{test:El(ee.ClassMap),transform:Hb},{test:El(ee.StyleProp)},{test:El(ee.ClassProp)}],iN=new Set([ee.Listener,ee.TwoWayListener,ee.AnimationListener,ee.StyleMap,ee.ClassMap,ee.StyleProp,ee.ClassProp,ee.Property,ee.TwoWayProperty,ee.DomProperty,ee.Attribute,ee.Animation,ee.Control]);function uX(t){for(let e of t.units){sN(e.create,oX);let n=e.job.kind===Et.Host?lX:aX;sN(e.update,n)}}function sN(t,e){let n=[],r=null;for(let i of t){let s=w0(i)?i.target:null;(!iN.has(i.kind)||s!==r&&r!==null&&s!==null)&&(Ye.insertBefore(oN(n,e),i),n=[],r=null),iN.has(i.kind)&&(n.push(i),Ye.remove(i),r=s??r)}t.push(oN(n,e))}function oN(t,e){let n=Array.from(e,()=>new Array);for(let r of t){let i=e.findIndex(s=>s.test(r));n[i].push(r)}return n.flatMap((r,i)=>{let s=e[i].transform;return s?s(r):r})}function Hb(t){return t.slice(t.length-1)}function cX(t){for(let e of t.units){let n=AM(e);for(let r of e.ops())if(r.kind===ee.Binding){let i=fX(n,r.target);dX(r.name)&&i.kind===ee.Projection&&Ye.remove(r)}}}function dX(t){return t.toLowerCase()==="select"}function fX(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an slottable target.");return n}function hX(t){for(let e of t.units)pX(e)}function pX(t){for(let e of t.update)Yi(e,(n,r)=>{if(Pl(n)&&n.kind===Ut.PipeBinding){if(r&Jn.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(t.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");mX(t,e.target,n)}else t.create.push(EM(n.target,n.targetSlot,n.name))}})}function mX(t,e,n){for(let r=t.create.head.next;r.kind!==ee.ListEnd;r=r.next){if(!yp(r)||r.xref!==e)continue;for(;r.next.kind===ee.Pipe;)r=r.next;let i=EM(n.target,n.targetSlot,n.name);Ye.insertBefore(i,r.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${n.name}`)}function gX(t){for(let e of t.units)for(let n of e.update)yi(n,r=>!(r instanceof bf)||r.args.length<=4?r:new E0(r.target,r.targetSlot,r.name,gr(r.args),r.args.length),Jn.None)}function vX(t){UM(t.root,0)}function UM(t,e){let n=null;for(let r of t.create)switch(r.kind){case ee.I18nStart:r.subTemplateIndex=e===0?null:e,n=r;break;case ee.I18nEnd:n.subTemplateIndex===null&&(e=0),n=null;break;case ee.ConditionalCreate:case ee.ConditionalBranchCreate:case ee.Template:e=Iy(t.job.views.get(r.xref),n,r.i18nPlaceholder,e);break;case ee.RepeaterCreate:let i=t.job.views.get(r.xref);e=Iy(i,n,r.i18nPlaceholder,e),r.emptyView!==null&&(e=Iy(t.job.views.get(r.emptyView),n,r.emptyI18nPlaceholder,e));break;case ee.Projection:r.fallbackView!==null&&(e=Iy(t.job.views.get(r.fallbackView),n,r.fallbackViewI18nPlaceholder,e));break}return e}function Iy(t,e,n,r){if(n!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");r++,yX(t,e)}return UM(t,r)}function yX(t,e){if(t.create.head.next?.kind!==ee.I18nStart){let n=t.job.allocateXrefId();Ye.insertAfter(s2(n,e.message,e.root,null),t.create.head),Ye.insertBefore(o2(n,null),t.create.tail)}}function bX(t){for(let e of t.units)for(let n of e.ops())Yi(n,r=>{if(!(r instanceof yf)||r.body===null)return;let i=new IC(r.args.length);r.fn=t.pool.getSharedConstant(i,r.body),r.body=null})}var IC=class extends qg{numArgs;constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof Bc?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,n){let r=[];for(let s=0;s<this.numArgs;s++)r.push(new as("a"+s));let i=Tt(n,s=>s instanceof Bc?On("a"+s.index):s,Jn.None);return new Ui(e,new lf(r,i),void 0,ls.Final)}};function wX(t){for(let e of t.units)for(let n of e.update)yi(n,(r,i)=>i&Jn.InChildOperation?r:r instanceof Dl?_X(r):r instanceof Ua?xX(r):r,Jn.None)}function _X(t){let e=[],n=[];for(let r of t.entries){if(r instanceof cf){if(r.expression.isConstant())e.push(r);else{let i=n.length;n.push(r.expression),e.push(new cf(new Bc(i)))}continue}if(r.isConstant())e.push(r);else{let i=n.length;n.push(r),e.push(new Bc(i))}}return new yf(gr(e),n)}function xX(t){let e=[],n=[];for(let r of t.entries){if(r instanceof kc){if(r.expression.isConstant())e.push(r);else{let i=n.length;n.push(r.expression),e.push(new kc(new Bc(i)))}continue}if(r.value.isConstant())e.push(r);else{let i=n.length;n.push(r.value),e.push(new Jh(r.key,new Bc(i),r.quoted))}}return new yf(new Ua(e),n)}function EX(t){for(let e of t.units)for(let n of e.ops())yi(n,r=>r instanceof Zh&&(r.flags===null||!r.flags.includes("g"))?t.pool.getSharedConstant(new DC,r):r,Jn.None)}var DC=class extends qg{toSharedConstantDeclaration(e,n){return new Ui(e,n,void 0,ls.Final)}};function SX(t,e,n,r,i){return $c(be.element,t,e,n,r,i)}function CX(t,e,n,r,i){return $c(be.elementStart,t,e,n,r,i)}function $c(t,e,n,r,i,s){let o=[Me(e)];return n!==null&&o.push(Me(n)),i!==null?o.push(Me(r),Me(i)):r!==null&&o.push(Me(r)),gn(t,o,s)}function jM(t,e,n,r,i,s,o,a,l){let u=[Me(e),n,Me(r),Me(i),Me(s),Me(o)];for(a!==null&&(u.push(Me(a)),u.push(Lt(be.templateRefExtractor)));u[u.length-1].isEquivalent(Qh);)u.pop();return gn(t,u,l)}function p5(t,e,n,r,i){let s=[Me(e)];return n instanceof Jr?s.push(xf(n,i)):s.push(n),r!==null&&s.push(r),gn(t,s,i)}function AX(t){return gn(be.elementEnd,[],t)}function TX(t,e,n,r){return $c(be.elementContainerStart,t,null,e,n,r)}function IX(t,e,n,r){return $c(be.elementContainer,t,null,e,n,r)}function DX(){return gn(be.elementContainerEnd,[],null)}function kX(t,e,n,r,i,s,o,a){return jM(be.templateCreate,t,e,n,r,i,s,o,a)}function NX(){return gn(be.disableBindings,[],null)}function MX(){return gn(be.enableBindings,[],null)}function RX(t,e,n,r,i){let s=[Me(t),e];return n!==null&&s.push(Lt(n)),gn(r?be.syntheticHostListener:be.listener,s,i)}function aN(t,e){return Lt(be.twoWayBindingSet).callFn([t,e])}function PX(t,e,n){return gn(be.twoWayListener,[Me(t),e],n)}function LX(t,e){return gn(be.pipe,[Me(t),Me(e)],null)}function FX(){return gn(be.namespaceHTML,[],null)}function OX(){return gn(be.namespaceSVG,[],null)}function BX(){return gn(be.namespaceMathML,[],null)}function VX(t,e){return gn(be.advance,t>1?[Me(t)]:[],e)}function UX(t){return Lt(be.reference).callFn([Me(t)])}function jX(t){return Lt(be.nextContext).callFn(t===1?[]:[Me(t)])}function HX(){return Lt(be.getCurrentView).callFn([])}function $X(t){return Lt(be.restoreView).callFn([t])}function qX(t){return Lt(be.resetView).callFn([t])}function zX(t,e,n){let r=[Me(t,null)];return e!==""&&r.push(Me(e)),gn(be.text,r,n)}function WX(t,e,n,r,i,s,o,a,l,u,c){let d=[Me(t),Me(e),n??Me(null),Me(r),Me(i),Me(s),o??Me(null),a??Me(null),l?Lt(be.deferEnableTimerScheduling):Me(null),Me(c)],f;for(;(f=d[d.length-1])!==null&&f instanceof ds&&f.value===null;)d.pop();return gn(be.defer,d,u)}var GX=new Map([[_r.Idle,{none:be.deferOnIdle,prefetch:be.deferPrefetchOnIdle,hydrate:be.deferHydrateOnIdle}],[_r.Immediate,{none:be.deferOnImmediate,prefetch:be.deferPrefetchOnImmediate,hydrate:be.deferHydrateOnImmediate}],[_r.Timer,{none:be.deferOnTimer,prefetch:be.deferPrefetchOnTimer,hydrate:be.deferHydrateOnTimer}],[_r.Hover,{none:be.deferOnHover,prefetch:be.deferPrefetchOnHover,hydrate:be.deferHydrateOnHover}],[_r.Interaction,{none:be.deferOnInteraction,prefetch:be.deferPrefetchOnInteraction,hydrate:be.deferHydrateOnInteraction}],[_r.Viewport,{none:be.deferOnViewport,prefetch:be.deferPrefetchOnViewport,hydrate:be.deferHydrateOnViewport}],[_r.Never,{none:be.deferHydrateNever,prefetch:be.deferHydrateNever,hydrate:be.deferHydrateNever}]]);function YX(t,e,n,r){let i=GX.get(t)?.[n];if(i===void 0)throw new Error(`Unable to determine instruction for trigger ${t}`);return gn(i,e,r)}function XX(t){return gn(be.projectionDef,t?[t]:[],null)}function KX(t,e,n,r,i,s,o){let a=[Me(t)];return(e!==0||n!==null||r!==null)&&(a.push(Me(e)),n!==null&&a.push(n),r!==null&&(n===null&&a.push(Me(null)),a.push(On(r),Me(i),Me(s)))),gn(be.projection,a,o)}function ZX(t,e,n,r){let i=[Me(t),Me(e)];return n!==null&&i.push(Me(n)),gn(be.i18nStart,i,r)}function JX(t,e,n,r,i,s,o,a){let l=[Me(t),e,Me(n),Me(r),Me(i),Me(s)];for(o!==null&&(l.push(Me(o)),l.push(Lt(be.templateRefExtractor)));l[l.length-1].isEquivalent(Qh);)l.pop();return gn(be.conditionalCreate,l,a)}function QX(t,e,n,r,i,s,o,a){let l=[Me(t),e,Me(n),Me(r),Me(i),Me(s)];for(o!==null&&(l.push(Me(o)),l.push(Lt(be.templateRefExtractor)));l[l.length-1].isEquivalent(Qh);)l.pop();return gn(be.conditionalBranchCreate,l,a)}function eK(t,e,n,r,i,s,o,a,l,u,c,d,f,h){let p=[Me(t),On(e),Me(n),Me(r),Me(i),Me(s),o];return(a||l!==null)&&(p.push(Me(a)),l!==null&&(p.push(On(l),Me(u),Me(c)),(d!==null||f!==null)&&p.push(Me(d)),f!==null&&p.push(Me(f)))),gn(be.repeaterCreate,p,h)}function tK(t,e){return gn(be.repeater,[t],e)}function nK(t,e,n){return t==="prefetch"?gn(be.deferPrefetchWhen,[e],n):t==="hydrate"?gn(be.deferHydrateWhen,[e],n):gn(be.deferWhen,[e],n)}function rK(t,e){return gn(be.declareLet,[Me(t)],e)}function iK(t,e){return Lt(be.storeLet).callFn([t],e)}function sK(t){return Lt(be.readContextLet).callFn([Me(t)])}function oK(t,e,n,r){let i=[Me(t),Me(e)];return n&&i.push(Me(n)),gn(be.i18n,i,r)}function aK(t){return gn(be.i18nEnd,[],t)}function lK(t,e){let n=[Me(t),Me(e)];return gn(be.i18nAttributes,n,null)}function uK(t,e,n){return p5(be.ariaProperty,t,e,null,n)}function cK(t,e,n,r){return p5(be.property,t,e,n,r)}function dK(t,e,n,r){let i=[];return e instanceof Jr?i.push(xf(e,r)):i.push(e),i.push(Me(t)),n!==null&&i.push(n),gn(be.control,i,r)}function fK(t){return gn(be.controlCreate,[],t)}function hK(t,e,n,r){let i=[Me(t),e];return n!==null&&i.push(n),gn(be.twoWayProperty,i,r)}function pK(t,e,n,r,i){let s=[Me(t)];return e instanceof Jr?s.push(xf(e,i)):s.push(e),(n!==null||r!==null)&&s.push(n??Me(null)),r!==null&&s.push(Me(r)),gn(be.attribute,s,null)}function mK(t,e,n,r){let i=[Me(t)];return e instanceof Jr?i.push(xf(e,r)):i.push(e),n!==null&&i.push(Me(n)),gn(be.styleProp,i,r)}function gK(t,e,n){return gn(be.classProp,[Me(t),e],n)}function vK(t,e){let n=t instanceof Jr?xf(t,e):t;return gn(be.styleMap,[n],e)}function yK(t,e){let n=t instanceof Jr?xf(t,e):t;return gn(be.classMap,[n],e)}function bK(t,e,n,r,i){return $c(be.domElement,t,e,n,r,i)}function wK(t,e,n,r,i){return $c(be.domElementStart,t,e,n,r,i)}function _K(t){return gn(be.domElementEnd,[],t)}function xK(t,e,n,r){return $c(be.domElementContainerStart,t,null,e,n,r)}function EK(t,e,n,r){return $c(be.domElementContainer,t,null,e,n,r)}function SK(){return gn(be.domElementContainerEnd,[],null)}function CK(t,e,n,r){let i=[Me(t),e];return n!==null&&i.push(Lt(n)),gn(be.domListener,i,r)}function AK(t,e,n,r,i,s,o,a){return jM(be.domTemplate,t,e,n,r,i,s,o,a)}var lN=[be.pipeBind1,be.pipeBind2,be.pipeBind3,be.pipeBind4];function TK(t,e,n){if(n.length<1||n.length>lN.length)throw new Error("pipeBind() argument count out of bounds");let r=lN[n.length-1];return Lt(r).callFn([Me(t),Me(e),...n])}function IK(t,e,n){return Lt(be.pipeBindV).callFn([Me(t),Me(e),n])}function DK(t,e,n){let r=HM(t,e);return $K(UK,[],r,n)}function kK(t,e){return gn(be.i18nExp,[t],e)}function NK(t,e){return gn(be.i18nApply,[Me(t)],e)}function MK(t,e,n,r){return p5(be.domProperty,t,e,n,r)}function RK(t,e,n,r){let i=[e];n!==null&&i.push(n);let s=t==="enter"?be.animationEnter:be.animationLeave;return gn(s,i,r)}function PK(t,e,n,r){let s=[e instanceof Jr?xf(e,r):e];n!==null&&s.push(n);let o=t==="enter"?be.animationEnter:be.animationLeave;return gn(o,s,r)}function LK(t,e,n,r){let i=[e],s=t==="enter"?be.animationEnterListener:be.animationLeaveListener;return gn(s,i,r)}function FK(t,e,n){return gn(be.syntheticHostProperty,[Me(t),e],n)}function OK(t,e,n){return m5(HK,[Me(t),e],n,null)}function BK(t,e){return gn(be.attachSourceLocations,[Me(t),e],null)}function HM(t,e){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let n=[];if(e.length===1&&t[0]===""&&t[1]==="")n.push(e[0]);else{let r;for(r=0;r<e.length;r++)n.push(Me(t[r]),e[r]);n.push(Me(t[r]))}return n}function xf(t,e){let n=HM(t.strings,t.expressions);return m5(jK,[],n,e)}function gn(t,e,n){let r=Lt(t).callFn(e,n);return ma(new As(r,n))}function VK(t,e,n){let r=[t];return e!==null&&r.push(e),gn(be.conditional,r,n)}var UK={constant:[be.textInterpolate,be.textInterpolate1,be.textInterpolate2,be.textInterpolate3,be.textInterpolate4,be.textInterpolate5,be.textInterpolate6,be.textInterpolate7,be.textInterpolate8],variable:be.textInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},jK={constant:[be.interpolate,be.interpolate1,be.interpolate2,be.interpolate3,be.interpolate4,be.interpolate5,be.interpolate6,be.interpolate7,be.interpolate8],variable:be.interpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},HK={constant:[be.pureFunction0,be.pureFunction1,be.pureFunction2,be.pureFunction3,be.pureFunction4,be.pureFunction5,be.pureFunction6,be.pureFunction7,be.pureFunction8],variable:be.pureFunctionV,mapping:t=>t};function m5(t,e,n,r){let i=t.mapping(n.length),s=n.at(-1);if(n.length>1&&s instanceof ds&&s.value===""&&n.pop(),i<t.constant.length)return Lt(t.constant[i]).callFn([...e,...n],r);if(t.variable!==null)return Lt(t.variable).callFn([...e,gr(n)],r);throw new Error("AssertionError: unable to call variadic function")}function $K(t,e,n,r){return ma(m5(t,e,n,r).toStmt())}var qK=new Map([["window",be.resolveWindow],["document",be.resolveDocument],["body",be.resolveBody]]),zK=new Map([["class","className"],["for","htmlFor"],["formaction","formAction"],["innerHtml","innerHTML"],["readonly","readOnly"],["tabindex","tabIndex"]]);function WK(t){for(let e of t.units)GK(e,e.create),g5(e,e.update)}function GK(t,e){for(let n of e)switch(yi(n,$M,Jn.None),n.kind){case ee.Text:Ye.replace(n,zX(n.handle.slot,n.initialValue,n.sourceSpan));break;case ee.ElementStart:Ye.replace(n,t.job.mode===fo.DomOnly?wK(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan):CX(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case ee.Element:Ye.replace(n,t.job.mode===fo.DomOnly?bK(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan):SX(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan));break;case ee.ElementEnd:Ye.replace(n,t.job.mode===fo.DomOnly?_K(n.sourceSpan):AX(n.sourceSpan));break;case ee.ContainerStart:Ye.replace(n,t.job.mode===fo.DomOnly?xK(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan):TX(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan));break;case ee.Container:Ye.replace(n,t.job.mode===fo.DomOnly?EK(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan):IX(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan));break;case ee.ContainerEnd:Ye.replace(n,t.job.mode===fo.DomOnly?SK():DX());break;case ee.I18nStart:Ye.replace(n,ZX(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case ee.I18nEnd:Ye.replace(n,aK(n.sourceSpan));break;case ee.I18n:Ye.replace(n,oK(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case ee.I18nAttributes:if(n.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");Ye.replace(n,lK(n.handle.slot,n.i18nAttributesConfig));break;case ee.Template:if(!(t instanceof fa))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let r=t.job.views.get(n.xref);Ye.replace(n,n.templateKind===vo.Block||t.job.mode===fo.DomOnly?AK(n.handle.slot,On(r.fnName),r.decls,r.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan):kX(n.handle.slot,On(r.fnName),r.decls,r.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case ee.DisableBindings:Ye.replace(n,NX());break;case ee.EnableBindings:Ye.replace(n,MX());break;case ee.Pipe:Ye.replace(n,LX(n.handle.slot,n.name));break;case ee.DeclareLet:Ye.replace(n,rK(n.handle.slot,n.sourceSpan));break;case ee.AnimationString:Ye.replace(n,PK(n.animationKind,n.expression,n.sanitizer,n.sourceSpan));break;case ee.Animation:let i=Dy(t,n.handlerFnName,n.handlerOps,!1);Ye.replace(n,RK(n.animationKind,i,n.sanitizer,n.sourceSpan));break;case ee.AnimationListener:let s=Dy(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent);Ye.replace(n,LK(n.animationKind,s,null,n.sourceSpan));break;case ee.Listener:let o=Dy(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent),a=n.eventTarget?qK.get(n.eventTarget):null;if(a===void 0)throw new Error(`Unexpected global target '${n.eventTarget}' defined for '${n.name}' event. Supported list of global targets: window,document,body.`);Ye.replace(n,t.job.mode===fo.DomOnly&&!n.hostListener&&!n.isLegacyAnimationListener?CK(n.name,o,a,n.sourceSpan):RX(n.name,o,a,n.hostListener&&n.isLegacyAnimationListener,n.sourceSpan));break;case ee.TwoWayListener:Ye.replace(n,PX(n.name,Dy(t,n.handlerFnName,n.handlerOps,!0),n.sourceSpan));break;case ee.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);Ye.replace(n,ma(new Ui(n.variable.name,n.initializer,void 0,ls.Final)));break;case ee.Namespace:switch(n.active){case Cs.HTML:Ye.replace(n,FX());break;case Cs.SVG:Ye.replace(n,OX());break;case Cs.Math:Ye.replace(n,BX());break}break;case ee.Defer:let l=!!n.loadingMinimumTime||!!n.loadingAfterTime||!!n.placeholderMinimumTime;Ye.replace(n,WX(n.handle.slot,n.mainSlot.slot,n.resolverFn,n.loadingSlot?.slot??null,n.placeholderSlot?.slot??null,n.errorSlot?.slot??null,n.loadingConfig,n.placeholderConfig,l,n.sourceSpan,n.flags));break;case ee.DeferOn:let u=[];switch(n.trigger.kind){case _r.Never:case _r.Idle:case _r.Immediate:break;case _r.Timer:u=[Me(n.trigger.delay)];break;case _r.Viewport:n.modifier==="hydrate"?u=n.trigger.options?[n.trigger.options]:[]:(u=[Me(n.trigger.targetSlot?.slot??null)],n.trigger.targetSlotViewSteps!==0?u.push(Me(n.trigger.targetSlotViewSteps)):n.trigger.options&&u.push(Me(null)),n.trigger.options&&u.push(n.trigger.options));break;case _r.Interaction:case _r.Hover:n.modifier==="hydrate"?u=[]:(u=[Me(n.trigger.targetSlot?.slot??null)],n.trigger.targetSlotViewSteps!==0&&u.push(Me(n.trigger.targetSlotViewSteps)));break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${n.trigger.kind}`)}Ye.replace(n,YX(n.trigger.kind,u,n.modifier,n.sourceSpan));break;case ee.ProjectionDef:Ye.replace(n,XX(n.def));break;case ee.Projection:if(n.handle.slot===null)throw new Error("No slot was assigned for project instruction");let c=null,d=null,f=null;if(n.fallbackView!==null){if(!(t instanceof fa))throw new Error("AssertionError: must be compiling a component");let R=t.job.views.get(n.fallbackView);if(R===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(R.fnName===null||R.decls===null||R.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");c=R.fnName,d=R.decls,f=R.vars}Ye.replace(n,KX(n.handle.slot,n.projectionSlotIndex,n.attributes,c,d,f,n.sourceSpan));break;case ee.ConditionalCreate:if(!(t instanceof fa))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let h=t.job.views.get(n.xref);Ye.replace(n,JX(n.handle.slot,On(h.fnName),h.decls,h.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case ee.ConditionalBranchCreate:if(!(t instanceof fa))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let p=t.job.views.get(n.xref);Ye.replace(n,QX(n.handle.slot,On(p.fnName),p.decls,p.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case ee.RepeaterCreate:if(n.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(t instanceof fa))throw new Error("AssertionError: must be compiling a component");let m=t.job.views.get(n.xref);if(m.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let g=null,y=null,x=null;if(n.emptyView!==null){let R=t.job.views.get(n.emptyView);if(R===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(R.fnName===null||R.decls===null||R.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");g=R.fnName,y=R.decls,x=R.vars}Ye.replace(n,eK(n.handle.slot,m.fnName,n.decls,n.vars,n.tag,n.attributes,KK(t,n),n.usesComponentInstance,g,y,x,n.emptyTag,n.emptyAttributes,n.wholeSourceSpan));break;case ee.SourceLocation:let T=gr(n.locations.map(({targetSlot:R,offset:$,line:O,column:U})=>{if(R.slot===null)throw new Error("No slot was assigned for source location");return gr([Me(R.slot),Me($),Me(O),Me(U)])}));Ye.replace(n,BK(n.templatePath,T));break;case ee.ControlCreate:Ye.replace(n,fK(n.sourceSpan));break;case ee.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${ee[n.kind]}`)}}function g5(t,e){for(let n of e)switch(yi(n,$M,Jn.None),n.kind){case ee.Advance:Ye.replace(n,VX(n.delta,n.sourceSpan));break;case ee.Property:Ye.replace(n,t.job.mode===fo.DomOnly&&n.bindingKind!==Dt.LegacyAnimation&&n.bindingKind!==Dt.Animation?uN(n):YK(n));break;case ee.Control:Ye.replace(n,XK(n));break;case ee.TwoWayProperty:Ye.replace(n,hK(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case ee.StyleProp:Ye.replace(n,mK(n.name,n.expression,n.unit,n.sourceSpan));break;case ee.ClassProp:Ye.replace(n,gK(n.name,n.expression,n.sourceSpan));break;case ee.StyleMap:Ye.replace(n,vK(n.expression,n.sourceSpan));break;case ee.ClassMap:Ye.replace(n,yK(n.expression,n.sourceSpan));break;case ee.I18nExpression:Ye.replace(n,kK(n.expression,n.sourceSpan));break;case ee.I18nApply:Ye.replace(n,NK(n.handle.slot,n.sourceSpan));break;case ee.InterpolateText:Ye.replace(n,DK(n.interpolation.strings,n.interpolation.expressions,n.sourceSpan));break;case ee.Attribute:Ye.replace(n,pK(n.name,n.expression,n.sanitizer,n.namespace,n.sourceSpan));break;case ee.DomProperty:if(n.expression instanceof Jr)throw new Error("not yet handled");n.bindingKind===Dt.LegacyAnimation||n.bindingKind===Dt.Animation?Ye.replace(n,FK(n.name,n.expression,n.sourceSpan)):Ye.replace(n,uN(n));break;case ee.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);Ye.replace(n,ma(new Ui(n.variable.name,n.initializer,void 0,ls.Final)));break;case ee.Conditional:if(n.processed===null)throw new Error("Conditional test was not set.");Ye.replace(n,VK(n.processed,n.contextValue,n.sourceSpan));break;case ee.Repeater:Ye.replace(n,tK(n.collection,n.sourceSpan));break;case ee.DeferWhen:Ye.replace(n,nK(n.modifier,n.expr,n.sourceSpan));break;case ee.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${n.declaredName}`);case ee.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${ee[n.kind]}`)}}function uN(t){return MK(zK.get(t.name)??t.name,t.expression,t.sanitizer,t.sourceSpan)}function YK(t){return TM(t.name)?uK(t.name,t.expression,t.sourceSpan):cK(t.name,t.expression,t.sanitizer,t.sourceSpan)}function XK(t){return dK(t.name,t.expression,t.sanitizer,t.sourceSpan)}function $M(t){if(!Pl(t))return t;switch(t.kind){case Ut.NextContext:return jX(t.steps);case Ut.Reference:return UX(t.targetSlot.slot+1+t.offset);case Ut.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${t.name}`);case Ut.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case Ut.RestoreView:if(typeof t.view=="number")throw new Error("AssertionError: unresolved RestoreView");return $X(t.view);case Ut.ResetView:return qX(t.expr);case Ut.GetCurrentView:return HX();case Ut.ReadVariable:if(t.name===null)throw new Error(`Read of unnamed variable ${t.xref}`);return On(t.name);case Ut.ReadTemporaryExpr:if(t.name===null)throw new Error(`Read of unnamed temporary ${t.xref}`);return On(t.name);case Ut.AssignTemporaryExpr:if(t.name===null)throw new Error(`Assign of unnamed temporary ${t.xref}`);return On(t.name).set(t.expr);case Ut.PureFunctionExpr:if(t.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return OK(t.varOffset,t.fn,t.args);case Ut.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case Ut.PipeBinding:return TK(t.targetSlot.slot,t.varOffset,t.args);case Ut.PipeBindingVariadic:return IK(t.targetSlot.slot,t.varOffset,t.args);case Ut.SlotLiteralExpr:return Me(t.slot.slot);case Ut.ContextLetReference:return sK(t.targetSlot.slot);case Ut.StoreLet:return iK(t.value,t.sourceSpan);case Ut.TrackContext:return On("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${Ut[t.kind]}`)}}function Dy(t,e,n,r){g5(t,n);let i=[];for(let o of n){if(o.kind!==ee.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${ee[o.kind]}`);i.push(o.statement)}let s=[];return r&&s.push(new as("$event")),Nc(s,i,void 0,void 0,e)}function KK(t,e){if(e.trackByFn!==null)return e.trackByFn;let n=[new as("$index"),new as("$item")],r;if(e.trackByOps===null)r=e.usesComponentInstance?Nc(n,[new us(e.track)]):kl(n,e.track);else{g5(t,e.trackByOps);let i=[];for(let s of e.trackByOps){if(s.kind!==ee.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${ee[s.kind]}`);i.push(s.statement)}r=e.usesComponentInstance||i.length!==1||!(i[0]instanceof us)?Nc(n,i):kl(n,i[0].value)}return e.trackByFn=t.job.pool.getSharedFunctionReference(r,"_forTrack"),e.trackByFn}function ZK(t){for(let e of t.units)for(let n of e.update)switch(n.kind){case ee.Attribute:case ee.Binding:case ee.ClassProp:case ee.ClassMap:case ee.Property:case ee.StyleProp:case ee.StyleMap:n.expression instanceof S0&&Ye.remove(n);break}}function JK(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case ee.I18nContext:Ye.remove(n);break;case ee.I18nStart:n.context=null;break}}function QK(t){for(let e of t.units)for(let n of e.update){if(n.kind!==ee.Variable||n.variable.kind!==Gi.Identifier||!(n.initializer instanceof _0))continue;let r=n.variable.identifier,i=n;for(;i&&i.kind!==ee.ListEnd;)yi(i,s=>s instanceof ss&&s.name===r?Me(void 0):s,Jn.None),i=i.prev}}function eZ(t){for(let e of t.units){let n=new Set;for(let r of e.update)r.kind===ee.I18nExpression&&n.add(r.i18nOwner);for(let r of e.create)switch(r.kind){case ee.I18nAttributes:if(n.has(r.xref))continue;Ye.remove(r)}}}function tZ(t){for(let e of t.units)$b(e,e.create),$b(e,e.update)}function $b(t,e){let n=new Map;n.set(t.xref,On("ctx"));for(let r of e)switch(r.kind){case ee.Variable:r.variable.kind===Gi.Context&&n.set(r.variable.view,new Au(r.xref));break;case ee.Animation:case ee.AnimationListener:case ee.Listener:case ee.TwoWayListener:$b(t,r.handlerOps);break;case ee.RepeaterCreate:r.trackByOps!==null&&$b(t,r.trackByOps);break}t===t.job.root&&n.set(t.xref,On("ctx"));for(let r of e)yi(r,i=>{if(i instanceof Oc){if(!n.has(i.view))throw new Error(`No context found for reference to view ${i.view} from view ${t.xref}`);return n.get(i.view)}else return i},Jn.None)}function nZ(t){for(let e of t.units)for(let n of e.create)if(n.kind===ee.Defer){if(n.resolverFn!==null)continue;if(n.ownResolverFn!==null){if(n.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let r=e.fnName?.replace("_Template","");n.resolverFn=t.pool.getSharedFunctionReference(n.ownResolverFn,`${r}_Defer_${n.handle.slot}_DepsFn`,!1)}}}function rZ(t){for(let e of t.units)cN(e.create),cN(e.update)}function cN(t){for(let e of t)(e.kind===ee.Listener||e.kind===ee.TwoWayListener||e.kind===ee.AnimationListener)&&yi(e,n=>n instanceof ss&&n.name==="$event"?((e.kind===ee.Listener||e.kind===ee.AnimationListener)&&(e.consumesDollarEvent=!0),new Ba(n.name)):n,Jn.InChildOperation)}function iZ(t){let e=new Map,n=new Map;for(let r of t.units)for(let i of r.create)switch(i.kind){case ee.I18nContext:e.set(i.xref,i);break;case ee.ElementStart:n.set(i.xref,i);break}bl(t,t.root,e,n)}function bl(t,e,n,r,i){let s=null,o=new Map;for(let a of e.create)switch(a.kind){case ee.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");s={i18nBlock:a,i18nContext:n.get(a.context)};break;case ee.I18nEnd:s=null;break;case ee.ElementStart:if(a.i18nPlaceholder!==void 0){if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");dN(a,s.i18nContext,s.i18nBlock,i),i&&a.i18nPlaceholder.closeName&&o.set(a.xref,i),i=void 0}break;case ee.ElementEnd:let l=r.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(s===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");fN(l,s.i18nContext,s.i18nBlock,o.get(a.xref)),o.delete(a.xref)}break;case ee.Projection:if(a.i18nPlaceholder!==void 0){if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");dN(a,s.i18nContext,s.i18nBlock,i),fN(a,s.i18nContext,s.i18nBlock,i),i=void 0}if(a.fallbackView!==null){let f=t.views.get(a.fallbackView);if(a.fallbackViewI18nPlaceholder===void 0)bl(t,f,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");ky(t,f,a.handle.slot,a.fallbackViewI18nPlaceholder,s.i18nContext,s.i18nBlock,i),bl(t,f,n,r),Ny(t,f,a.handle.slot,a.fallbackViewI18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0}}break;case ee.ConditionalCreate:case ee.ConditionalBranchCreate:case ee.Template:let u=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)bl(t,u,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===vo.Structural?bl(t,u,n,r,a):(ky(t,u,a.handle.slot,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),bl(t,u,n,r),Ny(t,u,a.handle.slot,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0)}break;case ee.RepeaterCreate:if(i!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let c=a.handle.slot+1,d=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)bl(t,d,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");ky(t,d,c,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),bl(t,d,n,r),Ny(t,d,c,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0}if(a.emptyView!==null){let f=a.handle.slot+2,h=t.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)bl(t,h,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");ky(t,h,f,a.emptyI18nPlaceholder,s.i18nContext,s.i18nBlock,i),bl(t,h,n,r),Ny(t,h,f,a.emptyI18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0}}break}}function dN(t,e,n,r){let{startName:i,closeName:s}=t.i18nPlaceholder,o=kr.ElementTag|kr.OpenTag,a=t.handle.slot;r!==void 0&&(o|=kr.TemplateTag,a={element:a,template:r.handle.slot}),s||(o|=kr.CloseTag),pp(e.params,i,a,n.subTemplateIndex,o)}function fN(t,e,n,r){let{closeName:i}=t.i18nPlaceholder;if(i){let s=kr.ElementTag|kr.CloseTag,o=t.handle.slot;r!==void 0&&(s|=kr.TemplateTag,o={element:o,template:r.handle.slot}),pp(e.params,i,o,n.subTemplateIndex,s)}}function ky(t,e,n,r,i,s,o){let{startName:a,closeName:l}=r,u=kr.TemplateTag|kr.OpenTag;l||(u|=kr.CloseTag),o!==void 0&&pp(i.params,a,o.handle.slot,s.subTemplateIndex,u),pp(i.params,a,n,qM(t,s,e),u)}function Ny(t,e,n,r,i,s,o){let{closeName:a}=r,l=kr.TemplateTag|kr.CloseTag;a&&(pp(i.params,a,n,qM(t,s,e),l),o!==void 0&&pp(i.params,a,o.handle.slot,s.subTemplateIndex,l))}function qM(t,e,n){for(let r of n.create)if(r.kind===ee.I18nStart)return r.subTemplateIndex;return e.subTemplateIndex}function pp(t,e,n,r,i){let s=t.get(e)??[];s.push({value:n,subTemplateIndex:r,flags:i}),t.set(e,s)}function sZ(t){let e=new Map,n=new Map,r=new Map;for(let o of t.units)for(let a of o.create)switch(a.kind){case ee.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case ee.I18nContext:n.set(a.xref,a);break;case ee.IcuPlaceholder:r.set(a.xref,a);break}let i=new Map,s=o=>o.usage===gp.I18nText?o.i18nOwner:o.context;for(let o of t.units)for(let a of o.update)if(a.kind===ee.I18nExpression){let l=i.get(s(a))||0,u=e.get(a.i18nOwner)??null,c={value:l,subTemplateIndex:u,flags:kr.ExpressionIndex};oZ(a,c,n,r),i.set(s(a),l+1)}}function oZ(t,e,n,r){if(t.i18nPlaceholder!==null){let i=n.get(t.context),s=t.resolutionTime===b0.Creation?i.params:i.postprocessingParams,o=s.get(t.i18nPlaceholder)||[];o.push(e),s.set(t.i18nPlaceholder,o)}t.icuPlaceholder!==null&&r.get(t.icuPlaceholder)?.expressionPlaceholders.push(e)}function aZ(t){for(let e of t.units)qb(e,e.create,null),qb(e,e.update,null)}function qb(t,e,n){let r=new Map,i=new Map;for(let s of e)switch(s.kind){case ee.Variable:switch(s.variable.kind){case Gi.Identifier:if(s.variable.local){if(i.has(s.variable.identifier))continue;i.set(s.variable.identifier,s.xref)}else if(r.has(s.variable.identifier))continue;r.set(s.variable.identifier,s.xref);break;case Gi.Alias:if(r.has(s.variable.identifier))continue;r.set(s.variable.identifier,s.xref);break;case Gi.SavedView:n={view:s.variable.view,variable:s.xref};break}break;case ee.Animation:case ee.AnimationListener:case ee.Listener:case ee.TwoWayListener:qb(t,s.handlerOps,n);break;case ee.RepeaterCreate:s.trackByOps!==null&&qb(t,s.trackByOps,n);break}for(let s of e)s.kind==ee.Listener||s.kind===ee.TwoWayListener||s.kind===ee.Animation||s.kind===ee.AnimationListener||yi(s,o=>{if(o instanceof ss)return i.has(o.name)?new Au(i.get(o.name)):r.has(o.name)?new Au(r.get(o.name)):new $o(new Oc(t.job.root.xref),o.name);if(o instanceof Ab&&typeof o.view=="number"){if(n===null||n.view!==o.view)throw new Error(`AssertionError: no saved view ${o.view} from view ${t.xref}`);return o.view=new Au(n.variable),o}else return o},Jn.None);for(let s of e)Yi(s,o=>{if(o instanceof ss)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${o.name}`)})}var lZ=new Map([[xr.HTML,be.sanitizeHtml],[xr.RESOURCE_URL,be.sanitizeResourceUrl],[xr.SCRIPT,be.sanitizeScript],[xr.STYLE,be.sanitizeStyle],[xr.URL,be.sanitizeUrl],[xr.ATTRIBUTE_NO_BINDING,be.validateAttribute]]),uZ=new Map([[xr.HTML,be.trustConstantHtml],[xr.RESOURCE_URL,be.trustConstantResourceUrl]]);function cZ(t){for(let e of t.units){if(t.kind!==Et.Host){for(let n of e.create)if(n.kind===ee.ExtractedAttribute){let r=uZ.get(hN(n.securityContext))??null;n.trustedValueFn=r!==null?Lt(r):null}}for(let n of e.update)switch(n.kind){case ee.Property:case ee.Attribute:case ee.DomProperty:let r=null;Array.isArray(n.securityContext)&&n.securityContext.length===2&&n.securityContext.includes(xr.URL)&&n.securityContext.includes(xr.RESOURCE_URL)?r=be.sanitizeUrlOrResourceUrl:r=lZ.get(hN(n.securityContext))??null,n.sanitizer=r!==null?Lt(r):null;break}}}function hN(t){if(Array.isArray(t)){if(t.length>1)throw Error("AssertionError: Ambiguous security context");return t[0]||xr.NONE}return t}function dZ(t){for(let e of t.units){e.create.prepend([Ac(e.job.allocateXrefId(),{kind:Gi.SavedView,name:null,view:e.xref},new rC,da.None)]);for(let n of e.create){if(n.kind!==ee.Listener&&n.kind!==ee.TwoWayListener&&n.kind!==ee.Animation&&n.kind!==ee.AnimationListener)continue;let r=e!==t.root;if(!r)for(let i of n.handlerOps)Yi(i,s=>{(s instanceof Sb||s instanceof x0)&&(r=!0)});r&&fZ(e,n)}}}function fZ(t,e){e.handlerOps.prepend([Ac(t.job.allocateXrefId(),{kind:Gi.Context,name:null,view:t.xref},new Ab(t.xref),da.None)]);for(let n of e.handlerOps)n.kind===ee.Statement&&n.statement instanceof us&&(n.statement.value=new iC(n.statement.value))}function hZ(t){let e=new Map;for(let n of t.units){let r=0;for(let i of n.create)yp(i)&&(i.handle.slot=r,e.set(i.xref,i.handle.slot),r+=i.numSlotsUsed);n.decls=r}for(let n of t.units)for(let r of n.ops())if(r.kind===ee.Template||r.kind===ee.ConditionalCreate||r.kind===ee.ConditionalBranchCreate||r.kind===ee.RepeaterCreate){let i=t.views.get(r.xref);r.decls=i.decls}}function pZ(t){let e=new Set,n=new Map;for(let r of t.units)for(let i of r.ops())i.kind===ee.DeclareLet&&n.set(i.xref,i),Yi(i,s=>{s instanceof x0&&e.add(s.target)});for(let r of t.units)for(let i of r.update)yi(i,s=>s instanceof _0&&!e.has(s.target)?(mZ(s)||Ye.remove(n.get(s.target)),s.value):s,Jn.None)}function mZ(t){let e=!1;return Tt(t,n=>((n instanceof bf||n instanceof E0)&&(e=!0),n),Jn.None),e}function gZ(t){let e=new Set;for(let n of t.units)for(let r of n.ops())Yi(r,i=>{if(i instanceof Hn)switch(i.operator){case st.Exponentiation:vZ(i,e);break;case st.NullishCoalesce:yZ(i,e);break;case st.And:case st.Or:bZ(i,e)}});for(let n of t.units)for(let r of n.ops())yi(r,i=>i instanceof Va?e.has(i)?i:i.expr:i,Jn.None)}function vZ(t,e){t.lhs instanceof Va&&t.lhs.expr instanceof uf&&e.add(t.lhs)}function yZ(t,e){t.lhs instanceof Va&&(pN(t.lhs.expr)||t.lhs.expr instanceof Il)&&e.add(t.lhs),t.rhs instanceof Va&&(pN(t.rhs.expr)||t.rhs.expr instanceof Il)&&e.add(t.rhs)}function bZ(t,e){t.lhs instanceof Va&&t.lhs.expr instanceof Hn&&t.lhs.expr.operator===st.NullishCoalesce&&e.add(t.lhs)}function pN(t){return t instanceof Hn&&(t.operator===st.And||t.operator===st.Or)}function wZ(t){for(let e of t.units)for(let n of e.update)if(n.kind===ee.Binding)switch(n.bindingKind){case Dt.ClassName:if(n.expression instanceof Jr)throw new Error("Unexpected interpolation in ClassName binding");Ye.replace(n,zz(n.target,n.name,n.expression,n.sourceSpan));break;case Dt.StyleProperty:Ye.replace(n,qz(n.target,n.name,n.expression,n.unit,n.sourceSpan));break;case Dt.Property:case Dt.Template:n.name==="style"?Ye.replace(n,Wz(n.target,n.expression,n.sourceSpan)):n.name==="class"&&Ye.replace(n,Gz(n.target,n.expression,n.sourceSpan));break}}function _Z(t){for(let e of t.units)e.create.prepend(zb(e.create)),e.update.prepend(zb(e.update))}function zb(t){let e=0,n=[];for(let r of t){let i=new Map;Yi(r,(u,c)=>{c&Jn.InChildOperation||u instanceof Vc&&i.set(u.xref,u)});let s=0,o=new Set,a=new Set,l=new Map;Yi(r,(u,c)=>{c&Jn.InChildOperation||(u instanceof Ll?(o.has(u.xref)||(o.add(u.xref),l.set(u.xref,`tmp_${e}_${s++}`)),mN(l,u)):u instanceof Vc&&(i.get(u.xref)===u&&(a.add(u.xref),s--),mN(l,u)))}),n.push(...Array.from(new Set(l.values())).map(u=>ma(new Ui(u)))),e++,r.kind===ee.Listener||r.kind===ee.Animation||r.kind===ee.AnimationListener||r.kind===ee.TwoWayListener?r.handlerOps.prepend(zb(r.handlerOps)):r.kind===ee.RepeaterCreate&&r.trackByOps!==null&&r.trackByOps.prepend(zb(r.trackByOps))}return n}function mN(t,e){let n=t.get(e.xref);if(n===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=n}function xZ(t){for(let e of t.units)for(let n of e.create)if(n.kind===ee.RepeaterCreate)if(n.track instanceof Ba&&n.track.name==="$index")n.trackByFn=Lt(be.repeaterTrackByIndex);else if(n.track instanceof Ba&&n.track.name==="$item")n.trackByFn=Lt(be.repeaterTrackByIdentity);else if(EZ(t.root.xref,n.track))n.usesComponentInstance=!0,n.track.receiver.receiver.view===e.xref?n.trackByFn=n.track.receiver:(n.trackByFn=Lt(be.componentInstance).callFn([]).prop(n.track.receiver.name),n.track=n.trackByFn);else{n.track=Tt(n.track,i=>{if(i instanceof bf||i instanceof E0)throw new Error("Illegal State: Pipes are not allowed in this context");return i instanceof Oc?(n.usesComponentInstance=!0,new nC(i.view)):i},Jn.None);let r=new Ye;r.push(ma(new us(n.track,n.track.sourceSpan))),n.trackByOps=r}}function EZ(t,e){if(!(e instanceof yo)||e.args.length===0||e.args.length>2||!(e.receiver instanceof $o&&e.receiver.receiver instanceof Oc)||e.receiver.receiver.view!==t)return!1;let[n,r]=e.args;return!(n instanceof Ba)||n.name!=="$index"?!1:e.args.length===1?!0:!(!(r instanceof Ba)||r.name!=="$item")}function SZ(t){for(let e of t.units)for(let n of e.create)n.kind===ee.RepeaterCreate&&(n.track=Tt(n.track,r=>{if(r instanceof ss){if(n.varNames.$index.has(r.name))return On("$index");if(r.name===n.varNames.$implicit)return On("$item")}return r},Jn.None))}function CZ(t){for(let e of t.units)for(let n of e.create)n.kind===ee.TwoWayListener&&yi(n,r=>{if(!(r instanceof Tb))return r;let{target:i,value:s}=r;if(i instanceof $o||i instanceof Tu)return aN(i,s).or(i.set(s));if(i instanceof Au)return aN(i,s);throw new Error("Unsupported expression in two-way action binding.")},Jn.InChildOperation)}function AZ(t){for(let e of t.units){let n=0;for(let r of e.ops())aS(r)&&(n+=TZ(r));for(let r of e.ops())Yi(r,i=>{Pl(i)&&(t.compatibility===zo.TemplateDefinitionBuilder&&i instanceof yf||(E8(i)&&(i.varOffset=n),aS(i)&&(n+=gN(i))))});if(t.compatibility===zo.TemplateDefinitionBuilder)for(let r of e.ops())Yi(r,i=>{!Pl(i)||!(i instanceof yf)||(E8(i)&&(i.varOffset=n),aS(i)&&(n+=gN(i)))});e.vars=n}if(t instanceof A0)for(let e of t.units)for(let n of e.create){if(n.kind!==ee.Template&&n.kind!==ee.RepeaterCreate&&n.kind!==ee.ConditionalCreate&&n.kind!==ee.ConditionalBranchCreate)continue;let r=t.views.get(n.xref);n.vars=r.vars}}function TZ(t){let e;switch(t.kind){case ee.Attribute:return e=1,t.expression instanceof Jr&&!IZ(t.expression)&&(e+=t.expression.expressions.length),e;case ee.Property:case ee.DomProperty:return e=1,t.expression instanceof Jr&&(e+=t.expression.expressions.length),e;case ee.Control:return 2;case ee.TwoWayProperty:return 1;case ee.StyleProp:case ee.ClassProp:case ee.StyleMap:case ee.ClassMap:return e=2,t.expression instanceof Jr&&(e+=t.expression.expressions.length),e;case ee.InterpolateText:return t.interpolation.expressions.length;case ee.I18nExpression:case ee.Conditional:case ee.DeferWhen:case ee.StoreLet:return 1;case ee.RepeaterCreate:return t.emptyView?1:0;default:throw new Error(`Unhandled op: ${ee[t.kind]}`)}}function gN(t){switch(t.kind){case Ut.PureFunctionExpr:return 1+t.args.length;case Ut.PipeBinding:return 1+t.args.length;case Ut.PipeBindingVariadic:return 1+t.numArgs;case Ut.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${t.constructor.name}`)}}function IZ(t){return!(t.expressions.length!==1||t.strings.length!==2||t.strings[0]!==""||t.strings[1]!=="")}function DZ(t){for(let e of t.units){My(e.create),My(e.update);for(let n of e.create)n.kind===ee.Listener||n.kind===ee.Animation||n.kind===ee.AnimationListener||n.kind===ee.TwoWayListener?My(n.handlerOps):n.kind===ee.RepeaterCreate&&n.trackByOps!==null&&My(n.trackByOps);Ry(e.create,t.compatibility),Ry(e.update,t.compatibility);for(let n of e.create)n.kind===ee.Listener||n.kind===ee.Animation||n.kind===ee.AnimationListener||n.kind===ee.TwoWayListener?Ry(n.handlerOps,t.compatibility):n.kind===ee.RepeaterCreate&&n.trackByOps!==null&&Ry(n.trackByOps,t.compatibility)}}var Vi=(function(t){return t[t.None=0]="None",t[t.ViewContextRead=1]="ViewContextRead",t[t.ViewContextWrite=2]="ViewContextWrite",t[t.SideEffectful=4]="SideEffectful",t})(Vi||{});function My(t){let e=new Map;for(let n of t)n.kind===ee.Variable&&n.flags&da.AlwaysInline&&(Yi(n,r=>{if(Pl(r)&&v5(r)!==Vi.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(n.xref,n)),yi(n,r=>r instanceof Au&&e.has(r.xref)?e.get(r.xref).initializer.clone():r,Jn.None);for(let n of e.values())Ye.remove(n)}function Ry(t,e){let n=new Map,r=new Map,i=new Set,s=new Map;for(let u of t){if(u.kind===ee.Variable){if(n.has(u.xref)||r.has(u.xref))throw new Error(`Should not see two declarations of the same variable: ${u.xref}`);n.set(u.xref,u),r.set(u.xref,0)}s.set(u,kZ(u)),NZ(u,r,i)}let o=!1;for(let u of t.reversed()){let c=s.get(u);if(u.kind===ee.Variable&&r.get(u.xref)===0){if(o&&c.fences&Vi.ViewContextWrite||c.fences&Vi.SideEffectful){let d=ma(u.initializer.toStmt());s.set(d,c),Ye.replace(u,d)}else MZ(u,r),Ye.remove(u);s.delete(u),n.delete(u.xref),r.delete(u.xref);continue}c.fences&Vi.ViewContextRead&&(o=!0)}let a=[];for(let[u,c]of r){let f=!!(n.get(u).flags&da.AlwaysInline);c!==1||f||i.has(u)||a.push(u)}let l;for(;l=a.pop();){let u=n.get(l),c=s.get(u);if(!!(u.flags&da.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let f=u.next;f.kind!==ee.ListEnd;f=f.next){let h=s.get(f);if(h.variablesUsed.has(l)){if(e===zo.TemplateDefinitionBuilder&&!PZ(u,f))break;if(RZ(l,u.initializer,f,c.fences)){h.variablesUsed.delete(l);for(let p of c.variablesUsed)h.variablesUsed.add(p);h.fences|=c.fences,n.delete(l),r.delete(l),s.delete(u),Ye.remove(u)}break}if(!zM(h.fences,c.fences))break}}}function v5(t){switch(t.kind){case Ut.NextContext:return Vi.ViewContextRead|Vi.ViewContextWrite;case Ut.RestoreView:return Vi.ViewContextRead|Vi.ViewContextWrite|Vi.SideEffectful;case Ut.StoreLet:return Vi.SideEffectful;case Ut.Reference:case Ut.ContextLetReference:return Vi.ViewContextRead;default:return Vi.None}}function kZ(t){let e=Vi.None,n=new Set;return Yi(t,r=>{Pl(r)&&(r.kind===Ut.ReadVariable?n.add(r.xref):e|=v5(r))}),{fences:e,variablesUsed:n}}function NZ(t,e,n){Yi(t,(r,i)=>{if(!Pl(r)||r.kind!==Ut.ReadVariable)return;let s=e.get(r.xref);s!==void 0&&(e.set(r.xref,s+1),i&Jn.InChildOperation&&n.add(r.xref))})}function MZ(t,e){Yi(t,n=>{if(!Pl(n)||n.kind!==Ut.ReadVariable)return;let r=e.get(n.xref);if(r!==void 0){if(r===0)throw new Error(`Inaccurate variable count: ${n.xref} - found another read but count is already 0`);e.set(n.xref,r-1)}})}function zM(t,e){if(t&Vi.ViewContextWrite){if(e&Vi.ViewContextRead)return!1}else if(t&Vi.ViewContextRead&&e&Vi.ViewContextWrite)return!1;return!0}function RZ(t,e,n,r){let i=!1,s=!0;return yi(n,(o,a)=>{if(!Pl(o)||i||!s)return o;if(a&Jn.InChildOperation&&r&Vi.ViewContextRead)return o;switch(o.kind){case Ut.ReadVariable:if(o.xref===t)return i=!0,e;break;default:let l=v5(o);s=s&&zM(l,r);break}return o},Jn.None),i}function PZ(t,e){switch(t.variable.kind){case Gi.Identifier:return t.initializer instanceof Ba&&t.initializer.name==="ctx";case Gi.Context:return e.kind===ee.Variable;default:return!0}}function LZ(t){for(let e of t.units){let n=null,r=null;for(let i of e.create)switch(i.kind){case ee.I18nStart:n=i;break;case ee.I18nEnd:n=null;break;case ee.IcuStart:n===null&&(r=t.allocateXrefId(),Ye.insertBefore(s2(r,i.message,void 0,null),i));break;case ee.IcuEnd:r!==null&&(Ye.insertAfter(o2(r,null),i),r=null);break}}}var FZ=[{kind:Et.Tmpl,fn:cX},{kind:Et.Both,fn:EX},{kind:Et.Host,fn:EG},{kind:Et.Tmpl,fn:GY},{kind:Et.Tmpl,fn:vX},{kind:Et.Tmpl,fn:LZ},{kind:Et.Both,fn:qW},{kind:Et.Both,fn:wZ},{kind:Et.Both,fn:DW},{kind:Et.Both,fn:UW},{kind:Et.Both,fn:AW},{kind:Et.Tmpl,fn:$W},{kind:Et.Both,fn:XY},{kind:Et.Tmpl,fn:ZK},{kind:Et.Both,fn:MW},{kind:Et.Both,fn:uX},{kind:Et.Tmpl,fn:RW},{kind:Et.Tmpl,fn:hX},{kind:Et.Tmpl,fn:zW},{kind:Et.Tmpl,fn:gX},{kind:Et.Both,fn:wX},{kind:Et.Tmpl,fn:yG},{kind:Et.Tmpl,fn:vG},{kind:Et.Tmpl,fn:bG},{kind:Et.Tmpl,fn:dZ},{kind:Et.Both,fn:wW},{kind:Et.Both,fn:rZ},{kind:Et.Tmpl,fn:SZ},{kind:Et.Tmpl,fn:QK},{kind:Et.Both,fn:aZ},{kind:Et.Tmpl,fn:WW},{kind:Et.Tmpl,fn:CZ},{kind:Et.Tmpl,fn:xZ},{kind:Et.Both,fn:tZ},{kind:Et.Both,fn:cZ},{kind:Et.Tmpl,fn:zY},{kind:Et.Both,fn:ZW},{kind:Et.Both,fn:gZ},{kind:Et.Both,fn:_Z},{kind:Et.Both,fn:DZ},{kind:Et.Both,fn:pZ},{kind:Et.Tmpl,fn:qY},{kind:Et.Tmpl,fn:HW},{kind:Et.Tmpl,fn:eZ},{kind:Et.Tmpl,fn:SW},{kind:Et.Tmpl,fn:xW},{kind:Et.Tmpl,fn:hZ},{kind:Et.Tmpl,fn:iZ},{kind:Et.Tmpl,fn:sZ},{kind:Et.Tmpl,fn:fG},{kind:Et.Tmpl,fn:VY},{kind:Et.Tmpl,fn:_G},{kind:Et.Both,fn:OW},{kind:Et.Tmpl,fn:JK},{kind:Et.Both,fn:AZ},{kind:Et.Tmpl,fn:gG},{kind:Et.Both,fn:KY},{kind:Et.Tmpl,fn:nZ},{kind:Et.Tmpl,fn:QY},{kind:Et.Tmpl,fn:tX},{kind:Et.Tmpl,fn:KW},{kind:Et.Tmpl,fn:CW},{kind:Et.Tmpl,fn:rX},{kind:Et.Both,fn:bX},{kind:Et.Both,fn:WK},{kind:Et.Both,fn:NW}];function WM(t,e){for(let n of FZ)(n.kind===e||n.kind===Et.Both)&&n.fn(t)}function OZ(t,e){let n=YM(t.root);return GM(t.root,e),n}function GM(t,e){for(let n of t.job.units){if(n.parent!==t.xref)continue;GM(n,e);let r=YM(n);e.statements.push(r.toDeclStmt(r.name))}}function YM(t){if(t.fnName===null)throw new Error(`AssertionError: view ${t.xref} is unnamed`);let e=[];for(let s of t.create){if(s.kind!==ee.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${ee[s.kind]}`);e.push(s.statement)}let n=[];for(let s of t.update){if(s.kind!==ee.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${ee[s.kind]}`);n.push(s.statement)}let r=Wb(1,e),i=Wb(2,n);return Nc([new as("rf"),new as("ctx")],[...r,...i],void 0,void 0,t.fnName)}function Wb(t,e){return e.length===0?[]:[e2(new Hn(st.BitwiseAnd,On("rf"),Me(t)),e)]}function BZ(t){if(t.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let s of t.root.create){if(s.kind!==ee.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${ee[s.kind]}`);e.push(s.statement)}let n=[];for(let s of t.root.update){if(s.kind!==ee.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${ee[s.kind]}`);n.push(s.statement)}if(e.length===0&&n.length===0)return null;let r=Wb(1,e),i=Wb(2,n);return Nc([new as("rf"),new as("ctx")],[...r,...i],void 0,void 0,t.root.fnName)}var XM=zo.TemplateDefinitionBuilder,sf=new hp,of="ng-template",VZ="animate.";function Hy(t){return t instanceof Ys}function UZ(t){return Hy(t)&&t.nodes.length===1&&t.nodes[0]instanceof vb}function jZ(t,e,n,r,i,s,o,a,l,u){let c=new A0(t,n,XM,r,i,s,o,a,l,u);return Du(c.root,e),c}function HZ(t,e,n){let r=new Rb(t.componentName,n,XM,fo.DomOnly);for(let i of t.properties??[]){let s=Dt.Property;i.name.startsWith("attr.")&&(i.name=i.name.substring(5),s=Dt.Attribute),i.isLegacyAnimation&&(s=Dt.LegacyAnimation),i.isAnimation&&(s=Dt.Animation);let o=e.calcPossibleSecurityContexts(t.componentSelector,i.name,s===Dt.Attribute).filter(a=>a!==xr.NONE);$Z(r,i,s,o)}for(let[i,s]of Object.entries(t.attributes)??[]){let o=e.calcPossibleSecurityContexts(t.componentSelector,i,!0).filter(a=>a!==xr.NONE);qZ(r,i,s,o)}for(let i of t.events??[])zZ(r,i);return r}function $Z(t,e,n,r){let i,s=e.expression.ast;s instanceof F0?i=new Jr(s.strings,s.expressions.map(o=>xn(o,t,e.sourceSpan)),[]):i=xn(s,t,e.sourceSpan),t.root.update.push(vf(t.root.xref,n,e.name,i,null,r,!1,!1,null,null,e.sourceSpan))}function qZ(t,e,n,r){let i=vf(t.root.xref,Dt.Attribute,e,n,null,r,!0,!1,null,null,n.sourceSpan);t.root.update.push(i)}function zZ(t,e){let n;if(e.type===Gs.Animation)n=_M(t.root.xref,new fs,e.name,null,N0(t.root,e.handler,e.handlerSpan),e.name.endsWith("enter")?"enter":"leave",e.targetOrPhase,!0,e.sourceSpan);else{let[r,i]=e.type!==Gs.LegacyAnimation?[null,e.targetOrPhase]:[e.targetOrPhase,null];n=h5(t.root.xref,new fs,e.name,null,N0(t.root,e.handler,e.handlerSpan),r,i,!0,e.sourceSpan)}t.root.create.push(n)}function Du(t,e){for(let n of e)if(n instanceof Ml)WZ(t,n);else if(n instanceof jo)GZ(t,n);else if(n instanceof op)YZ(t,n);else if(n instanceof Kd)KM(t,n,null);else if(n instanceof rp)ZM(t,n,null);else if(n instanceof mb)XZ(t,n);else if(n instanceof pb)KZ(t,n);else if(n instanceof mf)ZZ(t,n);else if(n instanceof WN)QZ(t,n);else if(n instanceof sp)eJ(t,n);else if(n instanceof n5)nJ(t,n);else if(!(n instanceof Rg))throw new Error(`Unsupported template node: ${n.constructor.name}`)}function WZ(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof Ys||e.i18n instanceof Rc))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=t.job.allocateXrefId(),[r,i]=ja(e.name),s=tW(i,n,IM(r),e.i18n instanceof Rc?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);t.create.push(s),iJ(t,s,e),eR(s,e);let o=null;e.i18n instanceof Ys&&(o=t.job.allocateXrefId(),t.create.push(s2(o,e.i18n,void 0,e.startSourceSpan))),Du(t,e.children);let a=rW(n,e.endSourceSpan??e.startSourceSpan);t.create.push(a);let l=e.inputs.find(u=>u.name==="formField"&&u.type===Gn.Property);l&&t.create.push(yW(l.sourceSpan)),o!==null&&Ye.insertBefore(o2(o,e.endSourceSpan??e.startSourceSpan),a)}function GZ(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof Ys||e.i18n instanceof Rc))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let n=t.job.allocateView(t.xref),r=e.tagName,i="";e.tagName&&([i,r]=ja(e.tagName));let s=e.i18n instanceof Rc?e.i18n:void 0,o=IM(i),a=r===null?"":FW(r,o),l=rJ(e)?vo.NgTemplate:vo.Structural,u=vM(n.xref,l,r,a,o,s,e.startSourceSpan,e.sourceSpan);t.create.push(u),sJ(t,u,e,l),eR(u,e),Du(n,e.children);for(let{name:c,value:d}of e.variables)n.contextVariables.set(c,d!==""?d:"$implicit");if(l===vo.NgTemplate&&e.i18n instanceof Ys){let c=t.job.allocateXrefId();Ye.insertAfter(s2(c,e.i18n,void 0,e.startSourceSpan),n.create.head),Ye.insertBefore(o2(c,e.endSourceSpan??e.startSourceSpan),n.create.tail)}}function YZ(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof Rc))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=null;e.children.some(s=>!(s instanceof n2)&&(!(s instanceof Kd)||s.value.trim().length>0))&&(n=t.job.allocateView(t.xref),Du(n,e.children));let r=t.job.allocateXrefId(),i=cW(r,e.selector,e.i18n,n?.xref??null,e.sourceSpan);for(let s of e.attributes){let o=sf.securityContext(e.name,s.name,!0);t.update.push(vf(i.xref,Dt.Attribute,s.name,Me(s.value),null,o,!0,!1,null,Su(s.i18n),s.sourceSpan))}t.create.push(i)}function KM(t,e,n){t.create.push(wM(t.job.allocateXrefId(),e.value,n,e.sourceSpan))}function ZM(t,e,n){let r=e.value;if(r instanceof mo&&(r=r.ast),!(r instanceof F0))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${r.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof Cu))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let i=e.i18n instanceof Cu?e.i18n.children.filter(a=>a instanceof f0).map(a=>a.name):[];if(i.length>0&&i.length!==r.expressions.length)throw Error(`Unexpected number of i18n placeholders (${r.expressions.length}) for BoundText with ${r.expressions.length} expressions`);let s=t.job.allocateXrefId();t.create.push(wM(s,"",n,e.sourceSpan));let o=t.job.compatibility?null:e.sourceSpan;t.update.push(jz(s,new Jr(r.strings,r.expressions.map(a=>xn(a,t.job,o)),i),e.sourceSpan))}function XZ(t,e){let n=null,r=[];for(let i=0;i<e.branches.length;i++){let s=e.branches[i],o=t.job.allocateView(t.xref),a=Gb(t,o.xref,s);s.expressionAlias!==null&&o.contextVariables.set(s.expressionAlias.name,CM);let l;if(s.i18n!==void 0){if(!(s.i18n instanceof Pc))throw Error(`Unhandled i18n metadata type for if block: ${s.i18n?.constructor.name}`);l=s.i18n}let c=(i===0?yM:bM)(o.xref,vo.Block,a,"Conditional",Cs.HTML,l,s.startSourceSpan,s.sourceSpan);t.create.push(c),n===null&&(n=o.xref);let d=s.expression?xn(s.expression,t.job,null):null,f=new Db(d,c.xref,c.handle,s.expressionAlias);r.push(f),Du(o,s.children)}t.update.push(pM(n,null,r,e.sourceSpan))}function KZ(t,e){if(e.groups.length===0)return;let n=null,r=[];for(let i=0;i<e.groups.length;i++){let s=e.groups[i],o=t.job.allocateView(t.xref),a=Gb(t,o.xref,s),l;if(s.i18n!==void 0){if(!(s.i18n instanceof Pc))throw Error(`Unhandled i18n metadata type for switch block: ${s.i18n?.constructor.name}`);l=s.i18n}let c=(i===0?yM:bM)(o.xref,vo.Block,a,"Case",Cs.HTML,l,s.startSourceSpan,s.sourceSpan);t.create.push(c),n===null&&(n=o.xref);for(let d of s.cases){let f=d.expression?xn(d.expression,t.job,e.startSourceSpan):null,h=new Db(f,c.xref,c.handle);r.push(h)}Du(o,s.children)}t.update.push(pM(n,xn(e.expression,t.job,null),r,e.sourceSpan))}function Py(t,e,n,r,i){if(n!==void 0&&!(n instanceof Pc))throw Error("Unhandled i18n metadata type for defer block");if(r===void 0)return null;let s=t.job.allocateView(t.xref);Du(s,r);let o=vM(s.xref,vo.Block,null,`Defer${e}`,Cs.HTML,n,i,i);return t.create.push(o),o}function ZZ(t,e){let n=null;if(t.job.deferMeta.mode===0){if(!t.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");n=t.job.deferMeta.blocks.get(e)??null}let r=Py(t,"",e.i18n,e.children,e.sourceSpan),i=Py(t,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),s=Py(t,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),o=Py(t,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=t.job.allocateXrefId(),l=dW(a,r.xref,r.handle,n,t.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=s?.xref??null,l.placeholderSlot=s?.handle??null,l.loadingSlot=i?.handle??null,l.errorSlot=o?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,l.flags=JZ(e),t.create.push(l);let u=[],c=[];fS("hydrate",e.hydrateTriggers,u,c,t,a),fS("none",e.triggers,u,c,t,a),fS("prefetch",e.prefetchTriggers,u,c,t,a),u.some(f=>f.modifier==="none")||c.some(f=>f.modifier==="none")||u.push(Ec(a,{kind:_r.Idle},"none",null)),t.create.push(u),t.update.push(c)}function JZ(t){return Object.keys(t.hydrateTriggers).length>0?1:null}function fS(t,e,n,r,i,s){if(e.idle!==void 0){let o=Ec(s,{kind:_r.Idle},t,e.idle.sourceSpan);n.push(o)}if(e.immediate!==void 0){let o=Ec(s,{kind:_r.Immediate},t,e.immediate.sourceSpan);n.push(o)}if(e.timer!==void 0){let o=Ec(s,{kind:_r.Timer,delay:e.timer.delay},t,e.timer.sourceSpan);n.push(o)}if(e.hover!==void 0){let o=Ec(s,{kind:_r.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.hover.sourceSpan);n.push(o)}if(e.interaction!==void 0){let o=Ec(s,{kind:_r.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.interaction.sourceSpan);n.push(o)}if(e.viewport!==void 0){let o=Ec(s,{kind:_r.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null,options:e.viewport.options?xn(e.viewport.options,i.job,e.viewport.sourceSpan):null},t,e.viewport.sourceSpan);n.push(o)}if(e.never!==void 0){let o=Ec(s,{kind:_r.Never},t,e.never.sourceSpan);n.push(o)}if(e.when!==void 0){if(e.when.value instanceof F0)throw new Error("Unexpected interpolation in defer block when trigger");let o=Kz(s,xn(e.when.value,i.job,e.when.sourceSpan),t,e.when.sourceSpan);r.push(o)}}function QZ(t,e){if(e.i18n instanceof Ys&&UZ(e.i18n)){let n=t.job.allocateXrefId();t.create.push(pW(n,e.i18n,XN(e.i18n).name,null));for(let[r,i]of Object.entries(Ne(Ne({},e.vars),e.placeholders)))i instanceof rp?ZM(t,i,r):KM(t,i,r);t.create.push(mW(n))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function eJ(t,e){let n=t.job.allocateView(t.xref),r=`\u0275$index_${n.xref}`,i=`\u0275$count_${n.xref}`,s=new Set;n.contextVariables.set(e.item.name,e.item.value);for(let y of e.contextVariables)y.value==="$index"&&s.add(y.name),y.name==="$index"?n.contextVariables.set("$index",y.value).set(r,y.value):y.name==="$count"?n.contextVariables.set("$count",y.value).set(i,y.value):n.aliases.add({kind:Gi.Alias,name:null,identifier:y.name,expression:tJ(y,r,i)});let o=Oi(e.trackBy.span,e.sourceSpan),a=xn(e.trackBy,t.job,o);Du(n,e.children);let l=null,u=null;e.empty!==null&&(l=t.job.allocateView(t.xref),Du(l,e.empty.children),u=Gb(t,l.xref,e.empty));let c={$index:s,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof Pc))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof Pc))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let d=e.i18n,f=e.empty?.i18n,h=Gb(t,n.xref,e),p=nW(n.xref,l?.xref??null,h,a,c,u,d,f,e.startSourceSpan,e.sourceSpan);t.create.push(p);let m=xn(e.expression,t.job,Oi(e.expression.span,e.sourceSpan)),g=Xz(p.xref,p.handle,m,e.sourceSpan);t.update.push(g)}function tJ(t,e,n){switch(t.value){case"$index":return new ss(e);case"$count":return new ss(n);case"$first":return new ss(e).identical(Me(0));case"$last":return new ss(e).identical(new ss(n).minus(Me(1)));case"$even":return new ss(e).modulo(Me(2)).identical(Me(0));case"$odd":return new ss(e).modulo(Me(2)).notIdentical(Me(0));default:throw new Error(`AssertionError: unknown @for loop variable ${t.value}`)}}function nJ(t,e){let n=t.job.allocateXrefId();t.create.push(fW(n,e.name,e.sourceSpan)),t.update.push(Jz(n,e.name,xn(e.value,t.job,e.valueSpan),e.sourceSpan))}function xn(t,e,n){if(t instanceof mo)return xn(t.ast,e,n);if(t instanceof Sl)return t.receiver instanceof Nl?new ss(t.name):new $o(xn(t.receiver,e,n),t.name,null,Oi(t.span,n));if(t instanceof tp){if(t.receiver instanceof Nl)throw new Error("Unexpected ImplicitReceiver");return new yo(xn(t.receiver,e,n),t.args.map(r=>xn(r,e,n)),void 0,Oi(t.span,n))}else{if(t instanceof po)return Me(t.value,void 0,Oi(t.span,n));if(t instanceof Gh)switch(t.operator){case"+":return new uf(Bg.Plus,xn(t.expr,e,n),void 0,Oi(t.span,n));case"-":return new uf(Bg.Minus,xn(t.expr,e,n),void 0,Oi(t.span,n));default:throw new Error(`AssertionError: unknown unary operator ${t.operator}`)}else if(t instanceof qs){let r=PW.get(t.operation);if(r===void 0)throw new Error(`AssertionError: unknown binary operator ${t.operation}`);return new Hn(r,xn(t.left,e,n),xn(t.right,e,n),void 0,Oi(t.span,n))}else{if(t instanceof Wg)return new Oc(e.root.xref);if(t instanceof hf)return new Tu(xn(t.receiver,e,n),xn(t.key,e,n),void 0,Oi(t.span,n));if(t instanceof ep)throw new Error("AssertionError: Chain in unknown context");if(t instanceof pf){let r=t.keys.map((i,s)=>{let o=xn(t.values[s],e,n);return i.kind==="spread"?new kc(o):new Jh(i.key,o,i.quoted)});return new Ua(r,void 0,Oi(t.span,n))}else{if(t instanceof Xg)return new Dl(t.expressions.map(r=>xn(r,e,n)));if(t instanceof rb)return new Il(xn(t.condition,e,n),xn(t.trueExp,e,n),xn(t.falseExp,e,n),void 0,Oi(t.span,n));if(t instanceof Qg)return xn(t.expression,e,n);if(t instanceof ib)return new bf(e.allocateXrefId(),new fs,t.name,[xn(t.exp,e,n),...t.args.map(r=>xn(r,e,n))]);if(t instanceof Yg)return new cp(xn(t.receiver,e,n),xn(t.key,e,n),Oi(t.span,n));if(t instanceof Gg)return new up(xn(t.receiver,e,n),t.name);if(t instanceof ob)return new wf(xn(t.receiver,e,n),t.args.map(r=>xn(r,e,n)));if(t instanceof $s)return new S0(Oi(t.span,n));if(t instanceof Kg)return eq(xn(t.expression,e,n),Oi(t.span,n));if(t instanceof Zg)return L0(xn(t.expression,e,n));if(t instanceof Jg)return new Yy(xn(t.expression,e,n),void 0,Oi(t.span,n));if(t instanceof t0)return vN(t,e,n);if(t instanceof e0)return new Vg(xn(t.tag,e,n),vN(t.template,e,n),void 0,Oi(t.span,n));if(t instanceof n0)return new Va(xn(t.expression,e,n),void 0,Oi(t.span,n));if(t instanceof lb)return new Zh(t.body,t.flags,n);if(t instanceof sb)return new cf(xn(t.expression,e,n));throw new Error(`Unhandled expression type "${t.constructor.name}" in file "${n?.start.file.url}"`)}}}}function vN(t,e,n){return new jg(t.elements.map(r=>new Xy(r.text,Oi(r.span,n))),t.expressions.map(r=>xn(r,e,n)),Oi(t.span,n))}function kC(t,e,n,r){let i;return e instanceof F0?i=new Jr(e.strings,e.expressions.map(s=>xn(s,t,null)),Object.keys(Su(n)?.placeholders??{})):e instanceof Nr?i=xn(e,t,null):i=Me(e),i}var JM=new Map([[Gn.Property,Dt.Property],[Gn.TwoWay,Dt.TwoWayProperty],[Gn.Attribute,Dt.Attribute],[Gn.Class,Dt.ClassName],[Gn.Style,Dt.StyleProperty],[Gn.LegacyAnimation,Dt.LegacyAnimation],[Gn.Animation,Dt.Animation]]);function rJ(t){return ja(t.tagName??"")[1]===of}function Su(t){if(t==null)return null;if(!(t instanceof Ys))throw Error(`Expected i18n meta to be a Message, but got: ${t.constructor.name}`);return t}function iJ(t,e,n){let r=new Array,i=new Set;for(let s of n.attributes){let o=sf.securityContext(n.name,s.name,!0);r.push(vf(e.xref,Dt.Attribute,s.name,kC(t.job,s.value,s.i18n),null,o,!0,!1,null,Su(s.i18n),s.sourceSpan)),s.i18n&&i.add(s.name)}for(let s of n.inputs)i.has(s.name)&&console.error(`On component ${t.job.componentName}, the binding ${s.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),r.push(vf(e.xref,JM.get(s.type),s.name,kC(t.job,M0(s.value),s.i18n),s.unit,s.securityContext,!1,!1,null,Su(s.i18n)??null,s.sourceSpan));t.create.push(r.filter(s=>s?.kind===ee.ExtractedAttribute)),t.update.push(r.filter(s=>s?.kind===ee.Binding));for(let s of n.outputs){if(s.type===Gs.LegacyAnimation&&s.phase===null)throw Error("Animation listener should have a phase");s.type===Gs.TwoWay?t.create.push(xM(e.xref,e.handle,s.name,e.tag,QM(t,s.handler,s.handlerSpan),s.sourceSpan)):s.type===Gs.Animation?t.create.push(_M(e.xref,e.handle,s.name,e.tag,N0(t,s.handler,s.handlerSpan),s.name.endsWith("enter")?"enter":"leave",s.target,!1,s.sourceSpan)):t.create.push(h5(e.xref,e.handle,s.name,e.tag,N0(t,s.handler,s.handlerSpan),s.phase,s.target,!1,s.sourceSpan))}r.some(s=>s?.i18nMessage)!==null&&t.create.push(SM(t.job.allocateXrefId(),new fs,e.xref))}function sJ(t,e,n,r){let i=new Array;for(let s of n.templateAttrs)if(s instanceof ip){let o=sf.securityContext(of,s.name,!0);i.push(Ly(t,e.xref,Gn.Attribute,s.name,s.value,null,o,!0,r,Su(s.i18n),s.sourceSpan))}else i.push(Ly(t,e.xref,s.type,s.name,M0(s.value),s.unit,s.securityContext,!0,r,Su(s.i18n),s.sourceSpan));for(let s of n.attributes){let o=sf.securityContext(of,s.name,!0);i.push(Ly(t,e.xref,Gn.Attribute,s.name,s.value,null,o,!1,r,Su(s.i18n),s.sourceSpan))}for(let s of n.inputs)i.push(Ly(t,e.xref,s.type,s.name,M0(s.value),s.unit,s.securityContext,!1,r,Su(s.i18n),s.sourceSpan));t.create.push(i.filter(s=>s?.kind===ee.ExtractedAttribute)),t.update.push(i.filter(s=>s?.kind===ee.Binding));for(let s of n.outputs){if(s.type===Gs.LegacyAnimation&&s.phase===null)throw Error("Animation listener should have a phase");if(r===vo.NgTemplate&&(s.type===Gs.TwoWay?t.create.push(xM(e.xref,e.handle,s.name,e.tag,QM(t,s.handler,s.handlerSpan),s.sourceSpan)):t.create.push(h5(e.xref,e.handle,s.name,e.tag,N0(t,s.handler,s.handlerSpan),s.phase,s.target,!1,s.sourceSpan))),r===vo.Structural&&s.type!==Gs.LegacyAnimation){let o=sf.securityContext(of,s.name,!1);t.create.push(Fo(e.xref,Dt.Property,null,s.name,null,null,null,o))}}i.some(s=>s?.i18nMessage)!==null&&t.create.push(SM(t.job.allocateXrefId(),new fs,e.xref))}function Ly(t,e,n,r,i,s,o,a,l,u,c){let d=typeof i=="string";if(l===vo.Structural){if(!a)switch(n){case Gn.Property:case Gn.Class:case Gn.Style:return Fo(e,Dt.Property,null,r,null,null,u,o);case Gn.TwoWay:return Fo(e,Dt.TwoWayProperty,null,r,null,null,u,o)}if(!d&&(n===Gn.Attribute||n===Gn.LegacyAnimation||n===Gn.Animation))return null}let f=JM.get(n);return l===vo.NgTemplate&&(n===Gn.Class||n===Gn.Style||n===Gn.Attribute&&!d)&&(f=Dt.Property),vf(e,f,r,kC(t.job,i,u),s,o,d,a,l,u,c)}function N0(t,e,n){e=M0(e);let r=new Array,i=e instanceof ep?e.expressions:[e];if(i.length===0)throw new Error("Expected listener to have non-empty expression list.");let s=i.map(a=>xn(a,t.job,n)),o=s.pop();return r.push(...s.map(a=>ma(new As(a,a.sourceSpan)))),r.push(ma(new us(o,o.sourceSpan))),r}function QM(t,e,n){e=M0(e);let r=new Array;if(e instanceof ep)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let i=xn(e,t.job,n),s=new ss("$event"),o=new Tb(i,s);return r.push(ma(new As(o))),r.push(ma(new us(s))),r}function M0(t){return t instanceof mo?t.ast:t}function eR(t,e){oJ(t.localRefs);for(let{name:n,value:r}of e.references)t.localRefs.push({name:n,target:r})}function oJ(t){if(!Array.isArray(t))throw new Error("AssertionError: expected an array")}function Oi(t,e){if(e===null)return null;let n=e.start.moveBy(t.start),r=e.start.moveBy(t.end),i=e.fullStart.moveBy(t.start);return new an(n,r,i)}function Gb(t,e,n){let r=null;for(let i of n.children)if(!(i instanceof n2||i instanceof n5)){if(r!==null)return null;if(i instanceof Ml||i instanceof jo&&i.tagName!==null)r=i;else return null}if(r!==null){for(let s of r.attributes)if(!s.name.startsWith(VZ)){let o=sf.securityContext(of,s.name,!0);t.update.push(vf(e,Dt.Attribute,s.name,Me(s.value),null,o,!0,!1,null,Su(s.i18n),s.sourceSpan))}for(let s of r.inputs)if(s.type!==Gn.LegacyAnimation&&s.type!==Gn.Animation&&s.type!==Gn.Attribute){let o=sf.securityContext(of,s.name,!0);t.create.push(Fo(e,Dt.Property,null,s.name,null,null,null,o))}let i=r instanceof Ml?r.name:r.tagName;return i===of?null:i}return null}var aJ=!1;function lJ(){return aJ}function Yb(t,e){return e2(On(s5).bitwiseAnd(Me(t),null),e)}function uJ(t){return(t.descendants?1:0)|(t.static?2:0)|(t.emitDistinctChangesOnly?4:0)}function cJ(t,e){if(Array.isArray(t.predicate)){let n=[];return t.predicate.forEach(r=>{let i=r.split(",").map(s=>Me(s.trim()));n.push(...i)}),e.getConstLiteral(gr(n),!0)}else switch(t.predicate.forwardRef){case 0:case 2:return t.predicate.expression;case 1:return Lt(be.resolveForwardRef).callFn([t.predicate.expression])}}function tR(t,e,n){let r=[];return n!==void 0&&r.push(...n),t.isSignal&&r.push(new $o(On(h0),t.propertyName)),r.push(cJ(t,e),Me(uJ(t))),t.read&&r.push(t.read),r}var y5=Symbol("queryAdvancePlaceholder");function nR(t){let e=[],n=0,r=()=>{n>0&&(e.unshift(Lt(be.queryAdvance).callFn(n===1?[]:[Me(n)]).toStmt()),n=0)};for(let i=t.length-1;i>=0;i--){let s=t[i];s===y5?n++:(r(),e.unshift(s))}return r(),e}function dJ(t,e,n){let r=[],i=[],s=KN(u=>i.push(u),i5),o=null,a=null;t.forEach(u=>{let c=tR(u,e);if(u.isSignal?(o??=Lt(be.viewQuerySignal),o=o.callFn(c)):(a??=Lt(be.viewQuery),a=a.callFn(c)),u.isSignal){i.push(y5);return}let d=s(),f=Lt(be.loadQuery).callFn([]),h=Lt(be.queryRefresh).callFn([d.set(f)]),p=On(h0).prop(u.propertyName).set(u.first?d.prop("first"):d);i.push(h.and(p).toStmt())}),o!==null&&r.push(new As(o)),a!==null&&r.push(new As(a));let l=n?`${n}_Query`:null;return Nc([new as(s5,QC),new as(h0,null)],[Yb(1,r),Yb(2,nR(i))],Oa,null,l)}function fJ(t,e,n){let r=[],i=[],s=KN(u=>i.push(u),i5),o=null,a=null;for(let u of t){let c=tR(u,e,[On("dirIndex")]);if(u.isSignal?(o??=Lt(be.contentQuerySignal),o=o.callFn(c)):(a??=Lt(be.contentQuery),a=a.callFn(c)),u.isSignal){i.push(y5);continue}let d=s(),f=Lt(be.loadQuery).callFn([]),h=Lt(be.queryRefresh).callFn([d.set(f)]),p=On(h0).prop(u.propertyName).set(u.first?d.prop("first"):d);i.push(h.and(p).toStmt())}o!==null&&r.push(new As(o)),a!==null&&r.push(new As(a));let l=n?`${n}_ContentQueries`:null;return Nc([new as(s5,QC),new as(h0,null),new as("dirIndex",null)],[Yb(1,r),Yb(2,nR(i))],Oa,null,l)}var NC=class extends BG{constructor(){super(EC)}parse(e,n,r){return super.parse(e,n,r)}},Fy=".",hJ="attr",hS="animate",pJ="class",mJ="style",gJ="*",pS="animate-",MC=class{_exprParser;_schemaRegistry;errors;constructor(e,n,r){this._exprParser=e,this._schemaRegistry=n,this.errors=r}createBoundHostProperties(e,n){let r=[];for(let i of Object.keys(e)){let s=e[i];typeof s=="string"?this.parsePropertyBinding(i,s,!0,!1,n,n.start.offset,void 0,[],r,n):this._reportError(`Value of the host property binding "${i}" needs to be a string representing an expression but got "${s}" (${typeof s})`,n)}return r}createDirectiveHostEventAsts(e,n){let r=[];for(let i of Object.keys(e)){let s=e[i];typeof s=="string"?this.parseEvent(i,s,!1,n,n,[],r,n):this._reportError(`Value of the host listener "${i}" needs to be a string representing an expression but got "${s}" (${typeof s})`,n)}return r}parseInterpolation(e,n,r){let i=n.fullStart.offset;try{let s=this._exprParser.parseInterpolation(e,n,i,r);return s&&this.errors.push(...s.errors),s}catch(s){return this._reportError(`${s}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,i)}}parseInterpolationExpression(e,n){let r=n.start.offset;try{let i=this._exprParser.parseInterpolationExpression(e,n,r);return i&&this.errors.push(...i.errors),i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}parseInlineTemplateBinding(e,n,r,i,s,o,a,l){let u=r.start.offset+gJ.length,c=this._parseTemplateBindings(e,n,r,u,i);for(let d of c){let f=_c(r,d.sourceSpan),h=d.key.source,p=_c(r,d.key.span);if(d instanceof r0){let m=d.value?d.value.source:"$implicit",g=d.value?_c(r,d.value.span):void 0;a.push(new PS(h,m,f,p,g))}else if(d.value){let m=l?f:r,g=_c(r,d.value.ast.sourceSpan);this._parsePropertyAst(h,d.value,!1,m,p,g,s,o)}else s.push([h,""]),this.parseLiteralAttr(h,null,p,i,void 0,s,o,p)}}_parseTemplateBindings(e,n,r,i,s){try{let o=this._exprParser.parseTemplateBindings(e,n,r,i,s);return o.errors.forEach(a=>this.errors.push(a)),o.warnings.forEach(a=>{this._reportError(a,r,Tc.WARNING)}),o.templateBindings}catch(o){return this._reportError(`${o}`,r),[]}}parseLiteralAttr(e,n,r,i,s,o,a,l){mS(e)?(e=e.substring(1),l!==void 0&&(l=_c(l,new Vo(l.start.offset+1,l.end.offset))),n&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',r,Tc.ERROR),this._parseLegacyAnimation(e,n,r,i,l,s,o,a)):a.push(new jh(e,this._exprParser.wrapLiteralPrimitive(n,"",i),wl.LITERAL_ATTR,r,l,s))}parsePropertyBinding(e,n,r,i,s,o,a,l,u,c){e.length===0&&this._reportError("Property name is missing in binding",s);let d=!1;e.startsWith(pS)?(d=!0,e=e.substring(pS.length),c!==void 0&&(c=_c(c,new Vo(c.start.offset+pS.length,c.end.offset)))):mS(e)&&(d=!0,e=e.substring(1),c!==void 0&&(c=_c(c,new Vo(c.start.offset+1,c.end.offset)))),d?this._parseLegacyAnimation(e,n,s,o,c,a,l,u):e.startsWith(`${hS}${Fy}`)?this._parseAnimation(e,this.parseBinding(n,r,a||s,o),s,c,a,l,u):this._parsePropertyAst(e,this.parseBinding(n,r,a||s,o),i,s,c,a,l,u)}parsePropertyInterpolation(e,n,r,i,s,o,a,l){let u=this.parseInterpolation(n,i||r,l);return u?(this._parsePropertyAst(e,u,!1,r,a,i,s,o),!0):!1}_parsePropertyAst(e,n,r,i,s,o,a,l){a.push([e,n.source]),l.push(new jh(e,n,r?wl.TWO_WAY:wl.DEFAULT,i,s,o))}_parseAnimation(e,n,r,i,s,o,a){o.push([e,n.source]),a.push(new jh(e,n,wl.ANIMATION,r,i,s))}_parseLegacyAnimation(e,n,r,i,s,o,a,l){e.length===0&&this._reportError("Animation trigger is missing",r);let u=this.parseBinding(n||"undefined",!1,o||r,i);a.push([e,u.source]),l.push(new jh(e,u,wl.LEGACY_ANIMATION,r,s,o))}parseBinding(e,n,r,i){try{let s=n?this._exprParser.parseSimpleBinding(e,r,i):this._exprParser.parseBinding(e,r,i);return s&&this.errors.push(...s.errors),s}catch(s){return this._reportError(`${s}`,r),this._exprParser.wrapLiteralPrimitive("ERROR",r,i)}}createBoundElementProperty(e,n,r=!1,i=!0){if(n.isLegacyAnimation)return new cb(n.name,Gn.LegacyAnimation,xr.NONE,n.expression,null,n.sourceSpan,n.keySpan,n.valueSpan);let s=null,o,a=null,l=n.name.split(Fy),u;if(l.length>1)if(l[0]==hJ){a=l.slice(1).join(Fy),r||this._validatePropertyOrAttributeName(a,n.sourceSpan,!0),u=gS(this._schemaRegistry,e,a,!0);let c=a.indexOf(":");if(c>-1){let d=a.substring(0,c),f=a.substring(c+1);a=Vy(d,f)}o=Gn.Attribute}else l[0]==pJ?(a=l[1],o=Gn.Class,u=[xr.NONE]):l[0]==mJ?(s=l.length>2?l[2]:null,a=l[1],o=Gn.Style,u=[xr.STYLE]):l[0]==hS&&(a=n.name,o=Gn.Animation,u=[xr.NONE]);if(a===null){let c=this._schemaRegistry.getMappedPropName(n.name);a=i?c:n.name,u=gS(this._schemaRegistry,e,c,!1),o=n.type===wl.TWO_WAY?Gn.TwoWay:Gn.Property,r||this._validatePropertyOrAttributeName(c,n.sourceSpan,!1)}return new cb(a,o,u[0],n.expression,s,n.sourceSpan,n.keySpan,n.valueSpan)}parseEvent(e,n,r,i,s,o,a,l){e.length===0&&this._reportError("Event name is missing in binding",i),mS(e)?(e=e.slice(1),l!==void 0&&(l=_c(l,new Vo(l.start.offset+1,l.end.offset))),this._parseLegacyAnimationEvent(e,n,i,s,a,l)):this._parseRegularEvent(e,n,r,i,s,o,a,l)}calcPossibleSecurityContexts(e,n,r){let i=this._schemaRegistry.getMappedPropName(n);return gS(this._schemaRegistry,e,i,r)}parseEventListenerName(e){let[n,r]=uq(e,[null,e]);return{eventName:r,target:n}}parseLegacyAnimationEventName(e){let n=cq(e,[e,null]);return{eventName:n[0],phase:n[1]===null?null:n[1].toLowerCase()}}_parseLegacyAnimationEvent(e,n,r,i,s,o){let{eventName:a,phase:l}=this.parseLegacyAnimationEventName(e),u=this._parseAction(n,i);s.push(new ub(a,l,Gs.LegacyAnimation,u,r,i,o)),a.length===0&&this._reportError("Animation event name is missing in binding",r),l?l!=="start"&&l!=="done"&&this._reportError(`The provided animation output phase value "${l}" for "@${a}" is not supported (use start or done)`,r):this._reportError(`The animation trigger output event (@${a}) is missing its phase value name (start or done are currently supported)`,r)}_parseRegularEvent(e,n,r,i,s,o,a,l){let{eventName:u,target:c}=this.parseEventListenerName(e),d=this.errors.length,f=this._parseAction(n,s),h=this.errors.length===d;o.push([e,f.source]),r&&h&&!this._isAllowedAssignmentEvent(f)&&this._reportError("Unsupported expression in a two-way binding",i);let p=Gs.Regular;r&&(p=Gs.TwoWay),e.startsWith(`${hS}${Fy}`)&&(p=Gs.Animation),a.push(new ub(u,c,p,f,i,s,l))}_parseAction(e,n){let r=n&&n.start?n.start.offset:0;try{let i=this._exprParser.parseAction(e,n,r);return i&&this.errors.push(...i.errors),!i||i.ast instanceof $s?(this._reportError("Empty expressions are not allowed",n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}_reportError(e,n,r=Tc.ERROR){this.errors.push(new tn(n,e,r))}_validatePropertyOrAttributeName(e,n,r){let i=r?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);i.error&&this._reportError(i.msg,n,Tc.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof mo?this._isAllowedAssignmentEvent(e.ast):e instanceof Qg?this._isAllowedAssignmentEvent(e.expression):e instanceof tp&&e.args.length===1&&e.receiver instanceof Sl&&e.receiver.name==="$any"&&e.receiver.receiver instanceof Nl?this._isAllowedAssignmentEvent(e.args[0]):(e instanceof Sl||e instanceof hf)&&!RC(e)}};function RC(t){return t instanceof Gg||t instanceof Yg?!0:t instanceof n0?RC(t.expression):t instanceof Sl||t instanceof hf||t instanceof tp?RC(t.receiver):!1}function mS(t){return t[0]=="@"}function gS(t,e,n,r){let i,s=o=>t.securityContext(o,n,r);return e===null?i=t.allKnownElementNames().map(s):(i=[],Xh.parse(e).forEach(o=>{let a=o.element?[o.element]:t.allKnownElementNames(),l=new Set(o.notSelectors.filter(c=>c.isElementSelector()).map(c=>c.element)),u=a.filter(c=>!l.has(c));i.push(...u.map(s))})),i.length===0?[xr.NONE]:Array.from(new Set(i)).sort()}function _c(t,e){let n=e.start-t.start.offset,r=e.end-t.end.offset;return new an(t.start.moveBy(n),t.end.moveBy(r),t.fullStart.moveBy(n),t.details)}function vJ(t){if(t==null||t.length===0||t[0]=="/")return!1;let e=t.match(yJ);return e===null||e[1]=="package"||e[1]=="asset"}var yJ=/^([^:/?#]+):/,bJ="select",wJ="link",_J="rel",xJ="href",EJ="stylesheet",SJ="style",CJ="script",AJ="ngNonBindable",TJ="ngProjectAs";function rR(t){let e=null,n=null,r=null,i=!1,s="";t.attrs.forEach(l=>{let u=l.name.toLowerCase();u==bJ?e=l.value:u==xJ?n=l.value:u==_J?r=l.value:l.name==AJ?i=!0:l.name==TJ&&l.value.length>0&&(s=l.value)}),e=IJ(e);let o=t.name.toLowerCase(),a=Bo.OTHER;return LS(o)?a=Bo.NG_CONTENT:o==SJ?a=Bo.STYLE:o==CJ?a=Bo.SCRIPT:o==wJ&&r==EJ&&(a=Bo.STYLESHEET),new PC(a,e,n,i,s)}var Bo=(function(t){return t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER",t})(Bo||{}),PC=class{type;selectAttr;hrefAttr;nonBindable;projectAs;constructor(e,n,r,i,s){this.type=e,this.selectAttr=n,this.hrefAttr=r,this.nonBindable=i,this.projectAs=s}};function IJ(t){return t===null||t.length===0?"*":t}var DJ=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,kJ=/^track\s+([\S\s]*)/,NJ=/^(as\s+)(.*)/,a2=/^else[^\S\r\n]+if/,MJ=/^let\s+([\S\s]*)/,RJ=/^[$A-Z_][0-9A-Z_$]*$/i,yN=/(\s*)(\S+)(\s*)/,Og=new Set(["$index","$first","$last","$even","$odd","$count"]);function bN(t){return t==="empty"}function wN(t){return t==="else"||a2.test(t)}function PJ(t,e,n,r){let i=UJ(e),s=[],o=_N(t,i,r);o!==null&&s.push(new Qd(o.expression,Vr(n,t.children,t.children),o.expressionAlias,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan,t.i18n));for(let d of e)if(a2.test(d.name)){let f=_N(d,i,r);if(f!==null){let h=Vr(n,d.children,d.children);s.push(new Qd(f.expression,h,f.expressionAlias,d.sourceSpan,d.startSourceSpan,d.endSourceSpan,d.nameSpan,d.i18n))}}else if(d.name==="else"){let f=Vr(n,d.children,d.children);s.push(new Qd(null,f,null,d.sourceSpan,d.startSourceSpan,d.endSourceSpan,d.nameSpan,d.i18n))}let a=s.length>0?s[0].startSourceSpan:t.startSourceSpan,l=s.length>0?s[s.length-1].endSourceSpan:t.endSourceSpan,u=t.sourceSpan,c=s[s.length-1];return c!==void 0&&(u=new an(a.start,c.sourceSpan.end)),{node:new mb(s,u,t.startSourceSpan,l,t.nameSpan),errors:i}}function LJ(t,e,n,r){let i=[],s=OJ(t,i,r),o=null,a=null;for(let l of e)l.name==="empty"?a!==null?i.push(new tn(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?i.push(new tn(l.sourceSpan,"@empty block cannot have parameters")):a=new u0(Vr(n,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):i.push(new tn(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(s!==null)if(s.trackBy===null)i.push(new tn(t.startSourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??t.endSourceSpan,u=new an(t.sourceSpan.start,l?.end??t.sourceSpan.end);BJ(s.trackBy.expression,s.trackBy.keywordSpan,i),o=new sp(s.itemName,s.expression,s.trackBy.expression,s.trackBy.keywordSpan,s.context,Vr(n,t.children,t.children),a,u,t.sourceSpan,t.startSourceSpan,l,t.nameSpan,t.i18n)}return{node:o,errors:i}}function FJ(t,e,n){let r=jJ(t),i=t.parameters.length>0?R0(t.parameters[0],n):n.parseBinding("",!1,t.sourceSpan,0),s=[],o=[],a=[],l=null;for(let c of t.children){if(!(c instanceof ca))continue;if((c.name!=="case"||c.parameters.length===0)&&c.name!=="default"){o.push(new gb(c.name,c.sourceSpan,c.nameSpan));continue}let d=c.name==="case",f=null;d&&(f=R0(c.parameters[0],n));let h=new $S(f,c.sourceSpan,c.startSourceSpan,c.endSourceSpan,c.nameSpan);if(a.push(h),c.children.length===0&&c.endSourceSpan!==null&&c.endSourceSpan.start.offset===c.endSourceSpan.end.offset){l===null&&(l=c.sourceSpan);continue}let m=c.sourceSpan,g=c.startSourceSpan;l!==null&&(m=new an(l.start,c.sourceSpan.end),g=new an(l.start,c.startSourceSpan.end),l=null);let y=new l0(a,Vr(e,c.children,c.children),m,g,c.endSourceSpan,c.nameSpan,c.i18n);s.push(y),a=[]}return{node:new pb(i,s,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan),errors:r}}function OJ(t,e,n){if(t.parameters.length===0)return e.push(new tn(t.startSourceSpan,"@for loop does not have an expression")),null;let[r,...i]=t.parameters,s=HJ(r,e)?.match(DJ);if(!s||s[2].trim().length===0)return e.push(new tn(r.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,a]=s;Og.has(o)&&e.push(new tn(r.sourceSpan,`@for loop item name cannot be one of ${Array.from(Og).join(", ")}.`));let l=r.expression.split(" ")[0],u=new an(r.sourceSpan.start,r.sourceSpan.start.moveBy(l.length)),c={itemName:new Mc(o,"$implicit",u,u),trackBy:null,expression:R0(r,n,a),context:Array.from(Og,d=>{let f=new an(t.startSourceSpan.end,t.startSourceSpan.end);return new Mc(d,d,f,f)})};for(let d of i){let f=d.expression.match(MJ);if(f!==null){let p=new an(d.sourceSpan.start.moveBy(f[0].length-f[1].length),d.sourceSpan.end);VJ(d.sourceSpan,f[1],p,o,c.context,e);continue}let h=d.expression.match(kJ);if(h!==null){if(c.trackBy!==null)e.push(new tn(d.sourceSpan,'@for loop can only have one "track" expression'));else{let p=R0(d,n,h[1]);p.ast instanceof $s&&e.push(new tn(t.startSourceSpan,'@for loop must have a "track" expression'));let m=new an(d.sourceSpan.start,d.sourceSpan.start.moveBy(5));c.trackBy={expression:p,keywordSpan:m}}continue}e.push(new tn(d.sourceSpan,`Unrecognized @for loop parameter "${d.expression}"`))}return c}function BJ(t,e,n){let r=new LC;t.ast.visit(r),r.hasPipe&&n.push(new tn(e,"Cannot use pipes in track expressions"))}function VJ(t,e,n,r,i,s){let o=e.split(","),a=n.start;for(let l of o){let u=l.split("="),c=u.length===2?u[0].trim():"",d=u.length===2?u[1].trim():"";if(c.length===0||d.length===0)s.push(new tn(t,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!Og.has(d))s.push(new tn(t,`Unknown "let" parameter variable "${d}". The allowed variables are: ${Array.from(Og).join(", ")}`));else if(c===r)s.push(new tn(t,`Invalid @for loop "let" parameter. Variable cannot be called "${r}"`));else if(i.some(f=>f.name===c))s.push(new tn(t,`Duplicate "let" parameter variable "${d}"`));else{let[,f,h]=u[0].match(yN)??[],p=f!==void 0&&u.length===2?new an(a.moveBy(f.length),a.moveBy(f.length+h.length)):n,m;if(u.length===2){let[,y,x]=u[1].match(yN)??[];m=y!==void 0?new an(a.moveBy(u[0].length+1+y.length),a.moveBy(u[0].length+1+y.length+x.length)):void 0}let g=new an(p.start,m?.end??p.end);i.push(new Mc(c,d,g,p,m))}a=a.moveBy(l.length+1)}}function UJ(t){let e=[],n=!1;for(let r=0;r<t.length;r++){let i=t[r];i.name==="else"?(n?e.push(new tn(i.startSourceSpan,"Conditional can only have one @else block")):t.length>1&&r<t.length-1?e.push(new tn(i.startSourceSpan,"@else block must be last inside the conditional")):i.parameters.length>0&&e.push(new tn(i.startSourceSpan,"@else block cannot have parameters")),n=!0):a2.test(i.name)||e.push(new tn(i.startSourceSpan,`Unrecognized conditional block @${i.name}`))}return e}function jJ(t){let e=[],n=!1;if(t.parameters.length!==1)return e.push(new tn(t.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let r of t.children)if(!(r instanceof T0||r instanceof _f&&r.value.trim().length===0)){if(!(r instanceof ca)||r.name!=="case"&&r.name!=="default"){e.push(new tn(r.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}r.name==="default"?(n?e.push(new tn(r.startSourceSpan,"@switch block can only have one @default block")):r.parameters.length>0&&e.push(new tn(r.startSourceSpan,"@default block cannot have parameters")),n=!0):r.name==="case"&&r.parameters.length!==1&&e.push(new tn(r.startSourceSpan,"@case block must have exactly one parameter"))}return e}function R0(t,e,n){let r,i;return typeof n=="string"?(r=Math.max(0,t.expression.lastIndexOf(n)),i=r+n.length):(r=0,i=t.expression.length),e.parseBinding(t.expression.slice(r,i),!1,t.sourceSpan,t.sourceSpan.start.offset+r)}function _N(t,e,n){if(t.parameters.length===0)return e.push(new tn(t.startSourceSpan,"Conditional block does not have an expression")),null;let r=R0(t.parameters[0],n),i=null;for(let s=1;s<t.parameters.length;s++){let o=t.parameters[s],a=o.expression.match(NJ);if(a===null)e.push(new tn(o.sourceSpan,`Unrecognized conditional parameter "${o.expression}"`));else if(t.name!=="if"&&!a2.test(t.name))e.push(new tn(o.sourceSpan,'"as" expression is only allowed on `@if` and `@else if` blocks'));else if(i!==null)e.push(new tn(o.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim();if(RJ.test(l)){let u=o.sourceSpan.start.moveBy(a[1].length),c=new an(u,u.moveBy(l.length));i=new Mc(l,l,c,c)}else e.push(new tn(o.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}}return{expression:r,expressionAlias:i}}function HJ(t,e){let n=t.expression,r=/^\s$/,i=0,s=0,o=n.length-1;for(let a=0;a<n.length;a++){let l=n[a];if(l==="(")s=a+1,i++;else{if(r.test(l))continue;break}}if(i===0)return n;for(let a=n.length-1;a>-1;a--){let l=n[a];if(l===")"){if(o=a,i--,i===0)break}else{if(r.test(l))continue;break}}return i!==0?(e.push(new tn(t.sourceSpan,"Unclosed parentheses in expression")),null):n.slice(s,o)}var LC=class extends np{hasPipe=!1;visitPipe(){this.hasPipe=!0}},$J=/^\d+\.?\d*(ms|s)?$/,qJ=/^\s$/,xN=new Map([[Fa,zs],[Cl,Eu],[Uo,os]]),Ws=(function(t){return t.IDLE="idle",t.TIMER="timer",t.INTERACTION="interaction",t.IMMEDIATE="immediate",t.HOVER="hover",t.VIEWPORT="viewport",t.NEVER="never",t})(Ws||{});function zJ({expression:t,sourceSpan:e},n,r){let i=t.indexOf("never"),s=new an(e.start.moveBy(i),e.start.moveBy(i+5)),o=b5(t,e),a=w5(t,e);i===-1?r.push(new tn(e,'Could not find "never" keyword in expression')):_5("never",n,r,new VS(s,e,o,null,a))}function vS({expression:t,sourceSpan:e},n,r,i){let s=t.indexOf("when"),o=new an(e.start.moveBy(s),e.start.moveBy(s+4)),a=b5(t,e),l=w5(t,e);if(s===-1)i.push(new tn(e,'Could not find "when" keyword in expression'));else{let u=P0(t,s+1),c=n.parseBinding(t.slice(u),!1,e,e.start.offset+u);_5("when",r,i,new db(c,e,a,o,l))}}function yS({expression:t,sourceSpan:e},n,r,i,s){let o=t.indexOf("on"),a=new an(e.start.moveBy(o),e.start.moveBy(o+2)),l=b5(t,e),u=w5(t,e);if(o===-1)i.push(new tn(e,'Could not find "on" keyword in expression'));else{let c=P0(t,o+1),d=t.startsWith("hydrate");new FC(t,n,c,e,r,i,d?QJ:JJ,d,l,a,u).parse()}}function b5(t,e){return t.startsWith("prefetch")?new an(e.start,e.start.moveBy(8)):null}function w5(t,e){return t.startsWith("hydrate")?new an(e.start,e.start.moveBy(7)):null}var FC=class{expression;bindingParser;start;span;triggers;errors;validator;isHydrationTrigger;prefetchSpan;onSourceSpan;hydrateSpan;index=0;tokens;constructor(e,n,r,i,s,o,a,l,u,c,d){this.expression=e,this.bindingParser=n,this.start=r,this.span=i,this.triggers=s,this.errors=o,this.validator=a,this.isHydrationTrigger=l,this.prefetchSpan=u,this.onSourceSpan=c,this.hydrateSpan=d,this.tokens=new k0().tokenize(e.slice(r))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(go))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(Uo)){this.advance();let n=this.errors.length,r=this.consumeParameters();if(this.errors.length!==n)break;this.consumeTrigger(e,r),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,n){let r=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),i=new an(r,r.moveBy(e.strValue.length)),s=r.moveBy(this.token().end-e.index),o=e.index===0,a=o?this.onSourceSpan:null,l=o?this.prefetchSpan:null,u=o?this.hydrateSpan:null,c=new an(o?this.span.start:r,s);try{switch(e.toString()){case Ws.IDLE:this.trackTrigger("idle",WJ(n,i,c,l,a,u));break;case Ws.TIMER:this.trackTrigger("timer",GJ(n,i,c,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Ws.INTERACTION:this.trackTrigger("interaction",KJ(n,i,c,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case Ws.IMMEDIATE:this.trackTrigger("immediate",YJ(n,i,c,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Ws.HOVER:this.trackTrigger("hover",XJ(n,i,c,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case Ws.VIEWPORT:this.trackTrigger("viewport",ZJ(this.start,this.isHydrationTrigger,this.bindingParser,n,i,c,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(d){this.error(e,d.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(Uo))return this.unexpectedToken(this.token()),e;this.advance();let n=[],r=[];for(;this.index<this.tokens.length;){let i=this.token();if(i.isCharacter(os)&&n.length===0){r.length&&e.push({expression:this.tokenRangeText(r),start:r[0].index});break}if(i.type===on.Character&&xN.has(i.numValue)&&n.push(xN.get(i.numValue)),n.length>0&&i.isCharacter(n[n.length-1])&&n.pop(),n.length===0&&i.isCharacter(go)&&r.length>0){e.push({expression:this.tokenRangeText(r),start:r[0].index}),this.advance(),r=[];continue}r.push(i),this.advance()}return(!this.token().isCharacter(os)||n.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(go)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenRangeText(e){return e.length===0?"":this.expression.slice(this.start+e[0].index,this.start+e[e.length-1].end)}trackTrigger(e,n){_5(e,this.triggers,this.errors,n)}error(e,n){let r=this.span.start.moveBy(this.start+e.index),i=r.moveBy(e.end-e.index);this.errors.push(new tn(new an(r,i),n))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function _5(t,e,n,r){e[t]?n.push(new tn(r.sourceSpan,`Duplicate "${t}" trigger is not allowed`)):e[t]=r}function WJ(t,e,n,r,i,s){if(t.length>0)throw new Error(`"${Ws.IDLE}" trigger cannot have parameters`);return new US(e,n,r,i,s)}function GJ(t,e,n,r,i,s){if(t.length!==1)throw new Error(`"${Ws.TIMER}" trigger must have exactly one parameter`);let o=Xb(t[0].expression);if(o===null)throw new Error(`Could not parse time value of trigger "${Ws.TIMER}"`);return new HS(o,e,n,r,i,s)}function YJ(t,e,n,r,i,s){if(t.length>0)throw new Error(`"${Ws.IMMEDIATE}" trigger cannot have parameters`);return new jS(e,n,r,i,s)}function XJ(t,e,n,r,i,s,o){return o(Ws.HOVER,t),new fb(t[0]?.expression??null,e,n,r,i,s)}function KJ(t,e,n,r,i,s,o){return o(Ws.INTERACTION,t),new hb(t[0]?.expression??null,e,n,r,i,s)}function ZJ(t,e,n,r,i,s,o,a,l,u){u(Ws.VIEWPORT,r);let c,d;if(r.length===0)c=d=null;else if(!r[0].expression.startsWith("{"))c=r[0].expression,d=null;else{let f=n.parseBinding(r[0].expression,!1,s,s.start.offset+t+r[0].start);if(f.ast instanceof pf){if(f.ast.keys.some(p=>p.kind==="spread"))throw new Error("Spread operator are not allowed in this context");if(f.ast.keys.some(p=>p.kind==="property"&&p.key==="root"))throw new Error('The "root" option is not supported in the options parameter of the "viewport" trigger')}else throw new Error('Options parameter of the "viewport" trigger must be an object literal');let h=f.ast.keys.findIndex(p=>p.kind==="property"&&p.key==="trigger");if(h===-1)c=null,d=f.ast;else{let p=f.ast.values[h],m=(g,y)=>y!==h;if(!(p instanceof Sl)||!(p.receiver instanceof Nl))throw new Error('"trigger" option of the "viewport" trigger must be an identifier');c=p.name,d=new pf(f.ast.span,f.ast.sourceSpan,f.ast.keys.filter(m),f.ast.values.filter(m))}}if(e&&c!==null)throw new Error('"viewport" hydration trigger cannot have a "trigger"');if(d){let f=OC.findDynamicNode(d);if(f!==null)throw new Error(`Options of the "viewport" trigger must be an object literal containing only literal values, but "${f.constructor.name}" was found`)}return new i0(c,d,i,s,o,a,l)}function JJ(t,e){if(e.length>1)throw new Error(`"${t}" trigger can only have zero or one parameters`)}function QJ(t,e){if(t===Ws.VIEWPORT){if(e.length>1)throw new Error(`Hydration trigger "${t}" cannot have more than one parameter`);return}if(e.length>0)throw new Error(`Hydration trigger "${t}" cannot have parameters`)}function P0(t,e=0){let n=!1;for(let r=e;r<t.length;r++)if(qJ.test(t[r]))n=!0;else if(n)return r;return-1}function Xb(t){let e=t.match($J);if(!e)return null;let[n,r]=e;return parseFloat(n)*(r==="s"?1e3:1)}var OC=class t extends np{dynamicNode=null;static findDynamicNode(e){let n=new t;return n.visit(e),n.dynamicNode}visit(e){!(e instanceof mo)&&!(e instanceof po)&&!(e instanceof Xg)&&!(e instanceof pf)?this.dynamicNode=e:super.visit(e)}},eQ=/^prefetch\s+when\s/,tQ=/^prefetch\s+on\s/,nQ=/^hydrate\s+when\s/,rQ=/^hydrate\s+on\s/,iQ=/^hydrate\s+never(\s*)$/,iR=/^minimum\s/,sQ=/^after\s/,oQ=/^when\s/,aQ=/^on\s/;function BC(t){return t==="placeholder"||t==="loading"||t==="error"}function lQ(t,e,n,r){let i=[],{placeholder:s,loading:o,error:a}=uQ(e,i,n),{triggers:l,prefetchTriggers:u,hydrateTriggers:c}=hQ(t,r,i),d=t.endSourceSpan,f=t.sourceSpan.end;if(e.length>0){let m=e[e.length-1];d=m.endSourceSpan,f=m.sourceSpan.end}let h=new an(t.sourceSpan.start,f);return{node:new mf(Vr(n,t.children,t.children),l,u,c,s,o,a,t.nameSpan,h,t.sourceSpan,t.startSourceSpan,d,t.i18n),errors:i}}function uQ(t,e,n){let r=null,i=null,s=null;for(let o of t)try{if(!BC(o.name)){e.push(new tn(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":r!==null?e.push(new tn(o.startSourceSpan,"@defer block can only have one @placeholder block")):r=cQ(o,n);break;case"loading":i!==null?e.push(new tn(o.startSourceSpan,"@defer block can only have one @loading block")):i=dQ(o,n);break;case"error":s!==null?e.push(new tn(o.startSourceSpan,"@defer block can only have one @error block")):s=fQ(o,n);break}}catch(a){e.push(new tn(o.startSourceSpan,a.message))}return{placeholder:r,loading:i,error:s}}function cQ(t,e){let n=null;for(let r of t.parameters)if(iR.test(r.expression)){if(n!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let i=Xb(r.expression.slice(P0(r.expression)));if(i===null)throw new Error('Could not parse time value of parameter "minimum"');n=i}else throw new Error(`Unrecognized parameter in @placeholder block: "${r.expression}"`);return new s0(Vr(e,t.children,t.children),n,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function dQ(t,e){let n=null,r=null;for(let i of t.parameters)if(sQ.test(i.expression)){if(n!=null)throw new Error('@loading block can only have one "after" parameter');let s=Xb(i.expression.slice(P0(i.expression)));if(s===null)throw new Error('Could not parse time value of parameter "after"');n=s}else if(iR.test(i.expression)){if(r!=null)throw new Error('@loading block can only have one "minimum" parameter');let s=Xb(i.expression.slice(P0(i.expression)));if(s===null)throw new Error('Could not parse time value of parameter "minimum"');r=s}else throw new Error(`Unrecognized parameter in @loading block: "${i.expression}"`);return new o0(Vr(e,t.children,t.children),n,r,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function fQ(t,e){if(t.parameters.length>0)throw new Error("@error block cannot have parameters");return new a0(Vr(e,t.children,t.children),t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function hQ(t,e,n,r){let i={},s={},o={};for(let a of t.parameters)oQ.test(a.expression)?vS(a,e,i,n):aQ.test(a.expression)?yS(a,e,i,n):eQ.test(a.expression)?vS(a,e,s,n):tQ.test(a.expression)?yS(a,e,s,n):nQ.test(a.expression)?vS(a,e,o,n):rQ.test(a.expression)?yS(a,e,o,n):iQ.test(a.expression)?zJ(a,o,n):n.push(new tn(a.sourceSpan,"Unrecognized trigger"));return o.never&&Object.keys(o).length>1&&n.push(new tn(t.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:i,prefetchTriggers:s,hydrateTriggers:o}}var pQ=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,EN=1,SN=2,CN=3,AN=4,TN=5,mQ=6,Ag=7,xc={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},bS="*",gQ=new Set(["link","style","script","ng-template","ng-container","ng-content"]),vQ=new Set(["ngProjectAs","ngNonBindable"]);function yQ(t,e,n){let r=new VC(e,n),i=Vr(r,t,t),s=e.errors.concat(r.errors),o={nodes:i,errors:s,styleUrls:r.styleUrls,styles:r.styles,ngContentSelectors:r.ngContentSelectors};return n.collectCommentNodes&&(o.commentNodes=r.commentNodes),o}var VC=class{bindingParser;options;errors=[];styles=[];styleUrls=[];ngContentSelectors=[];commentNodes=[];inI18nBlock=!1;processedNodes=new Set;constructor(e,n){this.bindingParser=e,this.options=n}visitElement(e){let n=Hy(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let r=rR(e);if(r.type===Bo.SCRIPT)return null;if(r.type===Bo.STYLE){let y=bQ(e);return y!==null&&this.styles.push(y),null}else if(r.type===Bo.STYLESHEET&&vJ(r.hrefAttr))return this.styleUrls.push(r.hrefAttr),null;let i=Nq(e.name),{attributes:s,boundEvents:o,references:a,variables:l,templateVariables:u,elementHasInlineTemplate:c,parsedProperties:d,templateParsedProperties:f,i18nAttrsMeta:h}=this.prepareAttributes(e.attrs,i),p=this.extractDirectives(e),m;r.nonBindable?m=Vr(IN,e.children).flat(1/0):m=Vr(this,e.children,e.children);let g;if(r.type===Bo.NG_CONTENT){let y=r.selectAttr,x=e.attrs.map(T=>this.visitAttribute(T));g=new op(y,x,m,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n),this.ngContentSelectors.push(y)}else if(i){let y=this.categorizePropertyAttributes(e.name,d,h);g=new jo(e.name,s,y.bound,o,p,[],m,a,l,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let y=this.categorizePropertyAttributes(e.name,d,h);if(e.name==="ng-container")for(let x of y.bound)x.type===Gn.Attribute&&this.reportError("Attribute bindings are not supported on ng-container. Use property bindings instead.",x.sourceSpan);g=new Ml(e.name,s,y.bound,o,p,m,a,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n)}return c&&(g=this.wrapInTemplate(g,f,u,h,i,n)),n&&(this.inI18nBlock=!1),g}visitAttribute(e){return new ip(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!Hy(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let n=e.i18n,r={},i={};return Object.keys(n.placeholders).forEach(s=>{let o=n.placeholders[s];if(s.startsWith(Lq)){let a=s.trim(),l=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);r[a]=new rp(l,o.sourceSpan)}else i[s]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new WN(r,i,e.sourceSpan,n)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new n2(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,n){let r=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return r.errors.length===0&&r.ast instanceof $s&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new n5(e.name,r,e.sourceSpan,e.nameSpan,e.valueSpan)}visitComponent(e){let n=Hy(e.i18n);if(n&&(this.inI18nBlock&&this.reportError("Cannot mark a component as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0),e.tagName!==null&&gQ.has(e.tagName))return this.reportError(`Tag name "${e.tagName}" cannot be used as a component tag`,e.startSourceSpan),null;let{attributes:r,boundEvents:i,references:s,templateVariables:o,elementHasInlineTemplate:a,parsedProperties:l,templateParsedProperties:u,i18nAttrsMeta:c}=this.prepareAttributes(e.attrs,!1);this.validateSelectorlessReferences(s);let d=this.extractDirectives(e),f;e.attrs.find(m=>m.name==="ngNonBindable")?f=Vr(IN,e.children).flat(1/0):f=Vr(this,e.children,e.children);let h=this.categorizePropertyAttributes(e.tagName,l,c),p=new Rg(e.componentName,e.tagName,e.fullName,r,h.bound,i,d,f,s,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return a&&(p=this.wrapInTemplate(p,u,o,c,!1,n)),n&&(this.inI18nBlock=!1),p}visitDirective(){return null}visitBlockParameter(){return null}visitBlock(e,n){let r=Array.isArray(n)?n.indexOf(e):-1;if(r===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let i=null;switch(e.name){case"defer":i=lQ(e,this.findConnectedBlocks(r,n,BC),this,this.bindingParser);break;case"switch":i=FJ(e,this,this.bindingParser);break;case"for":i=LJ(e,this.findConnectedBlocks(r,n,bN),this,this.bindingParser);break;case"if":i=PJ(e,this.findConnectedBlocks(r,n,wN),this,this.bindingParser);break;default:let s;BC(e.name)?(s=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):bN(e.name)?(s=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):wN(e.name)?(s=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):s=`Unrecognized block @${e.name}.`,i={node:new gb(e.name,e.sourceSpan,e.nameSpan),errors:[new tn(e.sourceSpan,s)]};break}return this.errors.push(...i.errors),i.node}findConnectedBlocks(e,n,r){let i=[];for(let s=e+1;s<n.length;s++){let o=n[s];if(!(o instanceof T0)){if(o instanceof _f&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof ca)||!r(o.name))break;i.push(o),this.processedNodes.add(o)}}return i}categorizePropertyAttributes(e,n,r){let i=[],s=[];return n.forEach(o=>{let a=r[o.name];if(o.isLiteral)s.push(new ip(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,o,!0,!1);i.push(OS.fromBoundElementProperty(l,a))}}),{bound:i,literal:s}}prepareAttributes(e,n){let r=[],i=[],s=[],o=[],a=[],l={},u=[],c=[],d=!1;for(let f of e){let h=!1,p=DN(f.name),m=!1;if(f.i18n&&(l[f.name]=f.i18n),p.startsWith(bS)){d&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",f.sourceSpan),m=!0,d=!0;let g=f.value,y=p.substring(bS.length),x=[],T=f.valueSpan?f.valueSpan.fullStart.offset:f.sourceSpan.fullStart.offset+f.name.length;this.bindingParser.parseInlineTemplateBinding(y,g,f.sourceSpan,T,[],u,x,!0),c.push(...x.map(R=>new Mc(R.name,R.value,R.sourceSpan,R.keySpan,R.valueSpan)))}else h=this.parseAttribute(n,f,[],r,i,s,o);!h&&!m&&a.push(this.visitAttribute(f))}return{attributes:a,boundEvents:i,references:o,variables:s,templateVariables:c,elementHasInlineTemplate:d,parsedProperties:r,templateParsedProperties:u,i18nAttrsMeta:l}}parseAttribute(e,n,r,i,s,o,a){let l=DN(n.name),u=n.value,c=n.sourceSpan,d=n.valueSpan?n.valueSpan.fullStart.offset:c.fullStart.offset;function f(y,x,T){let R=n.name.length-l.length,$=y.start.moveBy(x.length+R),O=$.moveBy(T.length);return new an($,O,$,T)}let h=l.match(pQ);if(h){if(h[EN]!=null){let y=h[Ag],x=f(c,h[EN],y);this.bindingParser.parsePropertyBinding(y,u,!1,!1,c,d,n.valueSpan,r,i,x)}else if(h[SN])if(e){let y=h[Ag],x=f(c,h[SN],y);this.parseVariable(y,u,c,x,n.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',c);else if(h[CN]){let y=h[Ag],x=f(c,h[CN],y);this.parseReference(y,u,c,x,n.valueSpan,a)}else if(h[AN]){let y=[],x=h[Ag],T=f(c,h[AN],x);this.bindingParser.parseEvent(x,u,!1,c,n.valueSpan||c,r,y,T),wS(y,s)}else if(h[TN]){let y=h[Ag],x=f(c,h[TN],y);this.bindingParser.parsePropertyBinding(y,u,!1,!0,c,d,n.valueSpan,r,i,x),this.parseAssignmentEvent(y,u,c,n.valueSpan,r,s,x,d)}else if(h[mQ]){let y=f(c,"",l);this.bindingParser.parseLiteralAttr(l,u,c,d,n.valueSpan,r,i,y)}return!0}let p=null;if(l.startsWith(xc.BANANA_BOX.start)?p=xc.BANANA_BOX:l.startsWith(xc.PROPERTY.start)?p=xc.PROPERTY:l.startsWith(xc.EVENT.start)&&(p=xc.EVENT),p!==null&&l.endsWith(p.end)&&l.length>p.start.length+p.end.length){let y=l.substring(p.start.length,l.length-p.end.length),x=f(c,p.start,y);if(p.start===xc.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(y,u,!1,!0,c,d,n.valueSpan,r,i,x),this.parseAssignmentEvent(y,u,c,n.valueSpan,r,s,x,d);else if(p.start===xc.PROPERTY.start)this.bindingParser.parsePropertyBinding(y,u,!1,!1,c,d,n.valueSpan,r,i,x);else{let T=[];this.bindingParser.parseEvent(y,u,!1,c,n.valueSpan||c,r,T,x),wS(T,s)}return!0}let m=f(c,"",l);return this.bindingParser.parsePropertyInterpolation(l,u,c,n.valueSpan,r,i,m,n.valueTokens??null)}extractDirectives(e){let n=e instanceof ho?e.tagName:e.name,r=[],i=new Set;for(let s of e.directives){let o=!1;for(let h of s.attrs)h.name.startsWith(bS)?(o=!0,this.reportError(`Shorthand template syntax "${h.name}" is not supported inside a directive context`,h.sourceSpan)):vQ.has(h.name)&&(o=!0,this.reportError(`Attribute "${h.name}" is not supported in a directive context`,h.sourceSpan));if(!o&&i.has(s.name)&&(o=!0,this.reportError(`Cannot apply directive "${s.name}" multiple times on the same element`,s.sourceSpan)),o)continue;let{attributes:a,parsedProperties:l,boundEvents:u,references:c,i18nAttrsMeta:d}=this.prepareAttributes(s.attrs,!1);this.validateSelectorlessReferences(c);let{bound:f}=this.categorizePropertyAttributes(n,l,d);for(let h of f)h.type!==Gn.Property&&h.type!==Gn.TwoWay&&(o=!0,this.reportError("Binding is not supported in a directive context",h.sourceSpan));o||(i.add(s.name),r.push(new zN(s.name,a,f,u,c,s.sourceSpan,s.startSourceSpan,s.endSourceSpan,void 0)))}return r}filterAnimationAttributes(e){return e.filter(n=>!n.name.startsWith("animate."))}filterAnimationInputs(e){return e.filter(n=>n.type!==Gn.Animation)}wrapInTemplate(e,n,r,i,s,o){let a=this.categorizePropertyAttributes("ng-template",n,i),l=[];a.literal.forEach(f=>l.push(f)),a.bound.forEach(f=>l.push(f));let u={attributes:[],inputs:[],outputs:[]};(e instanceof Ml||e instanceof Rg)&&(u.attributes.push(...this.filterAnimationAttributes(e.attributes)),u.inputs.push(...this.filterAnimationInputs(e.inputs)),u.outputs.push(...e.outputs));let c=s&&o?void 0:e.i18n,d;return e instanceof Rg?d=e.tagName:e instanceof jo?d=null:d=e.name,new jo(d,u.attributes,u.inputs,u.outputs,[],l,[e],[],r,!1,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,c)}_visitTextWithInterpolation(e,n,r,i){let s=PM(e),o=this.bindingParser.parseInterpolation(s,n,r);return o?new rp(o,n,i):new Kd(s,n)}parseVariable(e,n,r,i,s,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',r):e.length===0&&this.reportError("Variable does not have a name",r),o.push(new Mc(e,n,r,i,s))}parseReference(e,n,r,i,s,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',r):e.length===0?this.reportError("Reference does not have a name",r):o.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,r),o.push(new c0(e,n,r,i,s))}parseAssignmentEvent(e,n,r,i,s,o,a,l){let u=[];this.bindingParser.parseEvent(`${e}Change`,n,!0,r,i||r,s,u,a),wS(u,o)}validateSelectorlessReferences(e){if(e.length===0)return;let n=new Set;for(let r of e)r.value.length>0?this.reportError("Cannot specify a value for a local reference in this context",r.valueSpan||r.sourceSpan):n.has(r.name)?this.reportError("Duplicate reference names are not allowed",r.sourceSpan):n.add(r.name)}reportError(e,n,r=Tc.ERROR){this.errors.push(new tn(n,e,r))}},UC=class{visitElement(e){let n=rR(e);if(n.type===Bo.SCRIPT||n.type===Bo.STYLE||n.type===Bo.STYLESHEET)return null;let r=Vr(this,e.children,null);return new Ml(e.name,Vr(this,e.attrs),[],[],[],r,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid)}visitComment(e){return null}visitAttribute(e){return new ip(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new Kd(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,n){let r=[new Kd(e.startSourceSpan.toString(),e.startSourceSpan),...Vr(this,e.children)];return e.endSourceSpan!==null&&r.push(new Kd(e.endSourceSpan.toString(),e.endSourceSpan)),r}visitBlockParameter(e,n){return null}visitLetDeclaration(e,n){return new Kd(`@let ${e.name} = ${e.value};`,e.sourceSpan)}visitComponent(e,n){let r=Vr(this,e.children,null);return new Ml(e.fullName,Vr(this,e.attrs),[],[],[],r,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,!1)}visitDirective(e,n){return null}},IN=new UC;function DN(t){return/^data-/i.test(t)?t.substring(5):t}function wS(t,e){e.push(...t.map(n=>BS.fromParsedEvent(n)))}function bQ(t){return t.children.length!==1||!(t.children[0]instanceof _f)?null:t.children[0].value}var wQ=[" ",`
`,"\r","	"];function _Q(t,e,n={}){let{preserveWhitespaces:r,enableI18nLegacyMessageIdFormat:i}=n,s=n.enableSelectorless??!1,o=Kb(s),l=new NC().parse(t,e,qt(Ne({leadingTriviaChars:wQ},n),{tokenizeExpansionForms:!0,tokenizeBlocks:n.enableBlockSyntax??!0,tokenizeLet:n.enableLetSyntax??!0,selectorlessEnabled:s}));if(!n.alwaysAttemptHtmlToR3AstConversion&&l.errors&&l.errors.length>0){let R={preserveWhitespaces:r,errors:l.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(R.commentNodes=[]),R}let u=l.rootNodes,c=!(n.preserveSignificantWhitespace??!0),d=new jb(!r,i,n.preserveSignificantWhitespace,c),f=d.visitAllWithErrors(u);if(!n.alwaysAttemptHtmlToR3AstConversion&&f.errors&&f.errors.length>0){let R={preserveWhitespaces:r,errors:f.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(R.commentNodes=[]),R}u=f.rootNodes,r||(u=Vr(new Vb(!0,void 0,!1),u),d.hasI18nMeta&&(u=Vr(new jb(!1,void 0,!0,c),u)));let{nodes:h,errors:p,styleUrls:m,styles:g,ngContentSelectors:y,commentNodes:x}=yQ(u,o,{collectCommentNodes:!!n.collectCommentNodes});p.push(...l.errors,...f.errors);let T={preserveWhitespaces:r,errors:p.length>0?p:null,nodes:h,styleUrls:m,styles:g,ngContentSelectors:y};return n.collectCommentNodes&&(T.commentNodes=x),T}var xQ=new hp;function Kb(t=!1){return new MC(new Ub(new k0,t),xQ,[])}var sR="%COMP%",EQ=`_nghost-${sR}`,SQ=`_ngcontent-${sR}`;function oR(t,e,n){let r=new Lc,i=ZC(t.selector);return r.set("type",t.type.value),i.length>0&&r.set("selectors",Hh(i)),t.queries.length>0&&r.set("contentQueries",fJ(t.queries,e,t.name)),t.viewQueries.length&&r.set("viewQuery",dJ(t.viewQueries,e,t.name)),r.set("hostBindings",MQ(t.host,t.typeSourceSpan,n,e,t.selector||"",t.name,r)),r.set("inputs",l8(t.inputs,!0)),r.set("outputs",l8(t.outputs)),t.exportAs!==null&&r.set("exportAs",gr(t.exportAs.map(s=>Me(s)))),t.isStandalone===!1&&r.set("standalone",Me(!1)),t.isSignal&&r.set("signals",Me(!0)),r}function aR(t,e){let n=[],r=e.providers,i=e.viewProviders;if(r||i){let s=[r||new Dl([])];i&&s.push(i),n.push(Lt(be.ProvidersFeature).callFn(s))}if(e.hostDirectives?.length&&n.push(Lt(be.HostDirectivesFeature).callFn([OQ(e.hostDirectives)])),e.usesInheritance&&n.push(Lt(be.InheritDefinitionFeature)),e.lifecycle.usesOnChanges&&n.push(Lt(be.NgOnChangesFeature)),"externalStyles"in e&&e.externalStyles?.length){let s=e.externalStyles.map(o=>Me(o));n.push(Lt(be.ExternalStylesFeature).callFn([gr(s)]))}n.length&&t.set("features",gr(n))}function CQ(t,e,n){let r=oR(t,e,n);aR(r,t);let i=Lt(be.defineDirective).callFn([r.toLiteralMap()],void 0,!0),s=NQ(t);return{expression:i,type:s,statements:[]}}function AQ(t,e,n){let r=oR(t,e,n);aR(r,t);let i=t.selector&&Xh.parse(t.selector),s=i&&i[0];if(s){let p=s.getAttrs();p.length&&r.set("attrs",e.getConstLiteral(gr(p.map(m=>m!=null?Me(m):Me(void 0))),!0))}let o=t.name,a=null;if(t.defer.mode===1&&t.defer.dependenciesFn!==null){let p=`${o}_DeferFn`;e.statements.push(new Ui(p,t.defer.dependenciesFn,void 0,ls.Final)),a=On(p)}let l=t.isStandalone&&!t.hasDirectiveDependencies?fo.DomOnly:fo.Full,u=jZ(t.name,t.template.nodes,e,l,t.relativeContextFilePath,t.i18nUseExternalIds,t.defer,a,t.relativeTemplatePath,lJ());WM(u,Et.Tmpl);let c=OZ(u,e);if(u.contentSelectors!==null&&r.set("ngContentSelectors",u.contentSelectors),r.set("decls",Me(u.root.decls)),r.set("vars",Me(u.root.vars)),u.consts.length>0&&(u.constsInitializers.length>0?r.set("consts",kl([],[...u.constsInitializers,new us(gr(u.consts))])):r.set("consts",gr(u.consts))),r.set("template",c),t.declarationListEmitMode!==3&&t.declarations.length>0)r.set("dependencies",IQ(gr(t.declarations.map(p=>p.type)),t.declarationListEmitMode));else if(t.declarationListEmitMode===3){let p=[t.type.value];t.rawImports&&p.push(t.rawImports),r.set("dependencies",Lt(be.getComponentDepsFactory).callFn(p))}t.encapsulation===null&&(t.encapsulation=qd.Emulated);let d=!!t.externalStyles?.length;if(t.styles&&t.styles.length){let m=(t.encapsulation==qd.Emulated?FQ(t.styles,SQ,EQ):t.styles).reduce((g,y)=>(y.trim().length>0&&g.push(e.getConstLiteral(Me(y))),g),[]);m.length>0&&(d=!0,r.set("styles",gr(m)))}!d&&t.encapsulation===qd.Emulated&&(t.encapsulation=qd.None),t.encapsulation!==qd.Emulated&&r.set("encapsulation",Me(t.encapsulation)),t.animations!==null&&r.set("data",pa([{key:"animation",value:t.animations,quoted:!1}])),t.changeDetection!==null&&(typeof t.changeDetection=="number"&&t.changeDetection!==KC.Default?r.set("changeDetection",Me(t.changeDetection)):typeof t.changeDetection=="object"&&r.set("changeDetection",t.changeDetection));let f=Lt(be.defineComponent).callFn([r.toLiteralMap()],void 0,!0),h=TQ(t);return{expression:f,type:h,statements:[]}}function TQ(t){let e=lR(t);return e.push(HC(t.template.ngContentSelectors)),e.push(cs(Me(t.isStandalone))),e.push(uR(t)),t.isSignal&&e.push(cs(Me(t.isSignal))),cs(Lt(be.ComponentDeclaration,e))}function IQ(t,e){switch(e){case 0:return t;case 1:return kl([],t);case 2:let n=t.prop("map").callFn([Lt(be.resolveForwardRef)]);return kl([],n);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function DQ(t){return cs(Me(t))}function jC(t){let e=Object.keys(t).map(n=>{let r=Array.isArray(t[n])?t[n][0]:t[n];return{key:n,value:Me(r),quoted:!0}});return pa(e)}function HC(t){return t.length>0?cs(gr(t.map(e=>Me(e)))):Tl}function lR(t){let e=t.selector!==null?t.selector.replace(/\n/g,""):null;return[t2(t.type.type,t.typeArgumentCount),e!==null?DQ(e):Tl,t.exportAs!==null?HC(t.exportAs):Tl,cs(kQ(t)),cs(jC(t.outputs)),HC(t.queries.map(n=>n.propertyName))]}function kQ(t){return pa(Object.keys(t.inputs).map(e=>{let n=t.inputs[e],r=[{key:"alias",value:Me(n.bindingPropertyName),quoted:!0},{key:"required",value:Me(n.required),quoted:!0}];return n.isSignal&&r.push({key:"isSignal",value:Me(n.isSignal),quoted:!0}),{key:e,value:pa(r),quoted:!0}}))}function NQ(t){let e=lR(t);return e.push(Tl),e.push(cs(Me(t.isStandalone))),e.push(uR(t)),t.isSignal&&e.push(cs(Me(t.isSignal))),cs(Lt(be.DirectiveDeclaration,e))}function MQ(t,e,n,r,i,s,o){let a=n.createBoundHostProperties(t.properties,e),l=n.createDirectiveHostEventAsts(t.listeners,e);t.specialAttributes.styleAttr&&(t.attributes.style=Me(t.specialAttributes.styleAttr)),t.specialAttributes.classAttr&&(t.attributes.class=Me(t.specialAttributes.classAttr));let u=HZ({componentName:s,componentSelector:i,properties:a,events:l,attributes:t.attributes},n,r);WM(u,Et.Host),o.set("hostAttrs",u.root.attributes);let c=u.root.vars;return c!==null&&c>0&&o.set("hostVars",Me(c)),BZ(u)}var RQ=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function PQ(t){let e={},n={},r={},i={};for(let s of Object.keys(t)){let o=t[s],a=s.match(RQ);if(a===null)switch(s){case"class":if(typeof o!="string")throw new Error("Class binding must be string");i.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");i.styleAttr=o;break;default:typeof o=="string"?e[s]=Me(o):e[s]=o}else if(a[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");r[a[1]]=o}else if(a[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:e,listeners:n,properties:r,specialAttributes:i}}function LQ(t,e){let n=Kb();return n.createDirectiveHostEventAsts(t.listeners,e),n.createBoundHostProperties(t.properties,e),n.errors}function FQ(t,e,n){let r=new JS;return t.map(i=>r.shimCssText(i,e,n))}function uR(t){return t.hostDirectives?.length?cs(gr(t.hostDirectives.map(e=>pa([{key:"directive",value:L0(e.directive.type),quoted:!1},{key:"inputs",value:jC(e.inputs||{}),quoted:!1},{key:"outputs",value:jC(e.outputs||{}),quoted:!1}])))):Tl}function OQ(t){let e=[],n=!1;for(let r of t){if(!r.inputs&&!r.outputs)e.push(r.directive.type);else{let i=[{key:"directive",value:r.directive.type,quoted:!1}];if(r.inputs){let s=kN(r.inputs);s&&i.push({key:"inputs",value:s,quoted:!1})}if(r.outputs){let s=kN(r.outputs);s&&i.push({key:"outputs",value:s,quoted:!1})}e.push(pa(i))}r.isForwardReference&&(n=!0)}return n?new Dc([],[new us(gr(e))]):gr(e)}function kN(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(Me(n),Me(t[n]));return e.length>0?gr(e):null}var $C=class extends np{visit(e){e instanceof mo?this.visit(e.ast):e.visit(this)}visitElement(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitTemplate(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.templateAttrs),this.visitAllTemplateNodes(e.variables),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitContent(e){this.visitAllTemplateNodes(e.children)}visitBoundAttribute(e){this.visit(e.value)}visitBoundEvent(e){this.visit(e.handler)}visitBoundText(e){this.visit(e.value)}visitIcu(e){Object.keys(e.vars).forEach(n=>this.visit(e.vars[n])),Object.keys(e.placeholders).forEach(n=>this.visit(e.placeholders[n]))}visitDeferredBlock(e){e.visitAll(this)}visitDeferredTrigger(e){e instanceof db?this.visit(e.value):e instanceof i0&&e.options!==null&&this.visit(e.options)}visitDeferredBlockPlaceholder(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockError(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockLoading(e){this.visitAllTemplateNodes(e.children)}visitSwitchBlock(e){this.visit(e.expression),this.visitAllTemplateNodes(e.groups)}visitSwitchBlockCase(e){e.expression&&this.visit(e.expression)}visitSwitchBlockCaseGroup(e){this.visitAllTemplateNodes(e.cases),this.visitAllTemplateNodes(e.children)}visitForLoopBlock(e){e.item.visit(this),this.visitAllTemplateNodes(e.contextVariables),this.visit(e.expression),this.visitAllTemplateNodes(e.children),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.visitAllTemplateNodes(e.children)}visitIfBlock(e){this.visitAllTemplateNodes(e.branches)}visitIfBlockBranch(e){e.expression&&this.visit(e.expression),e.expressionAlias?.visit(this),this.visitAllTemplateNodes(e.children)}visitLetDeclaration(e){this.visit(e.value)}visitComponent(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitDirective(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.references)}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitText(e){}visitUnknownBlock(e){}visitAllTemplateNodes(e){for(let n of e)this.visit(n)}};var qC=class{directiveMatcher;constructor(e){this.directiveMatcher=e}bind(e){if(!e.template&&!e.host)throw new Error("Empty bound targets are not supported");let n=new Map,r=[],i=new Set,s=new Map,o=new Map,a=new Map,l=new Map,u=new Map,c=new Map,d=new Set,f=new Set,h=[];if(e.template){let p=Zb.apply(e.template);BQ(p,a),zC.apply(e.template,this.directiveMatcher,n,r,i,s,o),Jb.applyWithScope(e.template,p,l,u,c,d,f,h)}return e.host&&(n.set(e.host.node,e.host.directives),Jb.applyWithScope(e.host.node,Zb.apply(e.host.node),l,u,c,d,f,h)),new WC(e,n,r,i,s,o,l,u,c,a,d,f,h)}},Zb=class t{parentScope;rootNode;namedEntities=new Map;elementLikeInScope=new Set;childScopes=new Map;isDeferred;constructor(e,n){this.parentScope=e,this.rootNode=n,this.isDeferred=e!==null&&e.isDeferred?!0:n instanceof mf}static newRootScope(){return new t(null,null)}static apply(e){let n=t.newRootScope();return n.ingest(e),n}ingest(e){e instanceof jo?(e.variables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof Qd?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(n=>n.visit(this))):e instanceof sp?(this.visitVariable(e.item),e.contextVariables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof l0||e instanceof u0||e instanceof mf||e instanceof a0||e instanceof s0||e instanceof o0||e instanceof op?e.children.forEach(n=>n.visit(this)):e instanceof d0||e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementLike(e)}visitTemplate(e){e.directives.forEach(n=>n.visit(this)),e.references.forEach(n=>this.visitReference(n)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.groups.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){}visitSwitchBlockCaseGroup(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitComponent(e){this.visitElementLike(e)}visitDirective(e){e.references.forEach(n=>this.visitReference(n))}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitElementLike(e){e.directives.forEach(n=>n.visit(this)),e.references.forEach(n=>this.visitReference(n)),e.children.forEach(n=>n.visit(this)),this.elementLikeInScope.add(e)}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let n=this.childScopes.get(e);if(n===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return n}ingestScopedNode(e){let n=new t(this,e);n.ingest(e),this.childScopes.set(e,n)}},zC=class t{directiveMatcher;directives;eagerDirectives;missingDirectives;bindings;references;isInDeferBlock=!1;constructor(e,n,r,i,s,o){this.directiveMatcher=e,this.directives=n,this.eagerDirectives=r,this.missingDirectives=i,this.bindings=s,this.references=o}static apply(e,n,r,i,s,o,a){new t(n,r,i,s,o,a).ingest(e)}ingest(e){e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitDeferredBlock(e){let n=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(r=>r.visit(this)),this.isInDeferBlock=n,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockError(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(n=>n.visit(this))}visitSwitchBlock(e){e.groups.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){}visitSwitchBlockCaseGroup(e){e.children.forEach(n=>n.visit(this))}visitForLoopBlock(e){e.item.visit(this),e.contextVariables.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(n=>n.visit(this))}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(n=>n.visit(this))}visitContent(e){e.children.forEach(n=>n.visit(this))}visitComponent(e){if(this.directiveMatcher instanceof qy){let n=this.directiveMatcher.match(e.componentName);n.length>0?this.trackSelectorlessMatchesAndDirectives(e,n):this.missingDirectives.add(e.componentName)}e.directives.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this))}visitDirective(e){if(this.directiveMatcher instanceof qy){let n=this.directiveMatcher.match(e.name);n.length>0?this.trackSelectorlessMatchesAndDirectives(e,n):this.missingDirectives.add(e.name)}}visitElementOrTemplate(e){if(this.directiveMatcher instanceof $y){let n=[],r=Bq(e);this.directiveMatcher.match(r,(i,s)=>n.push(...s)),this.trackSelectorBasedBindingsAndDirectives(e,n)}else e.references.forEach(n=>{n.value.trim()===""&&this.references.set(n,e)});e.directives.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this))}trackMatchedDirectives(e,n){n.length>0&&(this.directives.set(e,n),this.isInDeferBlock||this.eagerDirectives.push(...n))}trackSelectorlessMatchesAndDirectives(e,n){if(n.length===0)return;this.trackMatchedDirectives(e,n);let r=(i,s,o)=>{i[o].hasBindingPropertyName(s.name)&&this.bindings.set(s,i)};for(let i of n)e.inputs.forEach(s=>r(i,s,"inputs")),e.attributes.forEach(s=>r(i,s,"inputs")),e.outputs.forEach(s=>r(i,s,"outputs"));e.references.forEach(i=>this.references.set(i,{directive:n[0],node:e}))}trackSelectorBasedBindingsAndDirectives(e,n){this.trackMatchedDirectives(e,n),e.references.forEach(i=>{let s=null;if(i.value.trim()==="")s=n.find(o=>o.isComponent)||null;else if(s=n.find(o=>o.exportAs!==null&&o.exportAs.some(a=>a===i.value))||null,s===null)return;s!==null?this.references.set(i,{directive:s,node:e}):this.references.set(i,e)});let r=(i,s)=>{let o=n.find(l=>l[s].hasBindingPropertyName(i.name)),a=o!==void 0?o:e;this.bindings.set(i,a)};e.inputs.forEach(i=>r(i,"inputs")),e.attributes.forEach(i=>r(i,"inputs")),e instanceof jo&&e.templateAttrs.forEach(i=>r(i,"inputs")),e.outputs.forEach(i=>r(i,"outputs"))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},Jb=class t extends $C{bindings;symbols;usedPipes;eagerPipes;deferBlocks;nestingLevel;scope;rootNode;level;visitNode=e=>e.visit(this);constructor(e,n,r,i,s,o,a,l,u){super(),this.bindings=e,this.symbols=n,this.usedPipes=r,this.eagerPipes=i,this.deferBlocks=s,this.nestingLevel=o,this.scope=a,this.rootNode=l,this.level=u}static applyWithScope(e,n,r,i,s,o,a,l){let u=e instanceof jo?e:null;new t(r,i,o,a,l,s,n,u,0).ingest(e)}ingest(e){if(e instanceof jo)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Qd)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof sp)this.visitNode(e.item),e.contextVariables.forEach(n=>this.visitNode(n)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof mf){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.push([e,this.scope]),e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof l0||e instanceof u0||e instanceof a0||e instanceof s0||e instanceof o0||e instanceof op?(e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)):e instanceof d0?this.nestingLevel.set(e,0):e.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.directives.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.hydrateTriggers.when?.value.visit(this),e.hydrateTriggers.never?.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlockCase(e){e.expression?.visit(this)}visitSwitchBlockCaseGroup(e){e.cases.forEach(n=>n.visit(this)),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){super.visitLetDeclaration(e),this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitPipe(e,n){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,n)}visitPropertyRead(e,n){return this.maybeMap(e,e.name),super.visitPropertyRead(e,n)}visitSafePropertyRead(e,n){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,n)}ingestScopedNode(e){let n=this.scope.getChildScope(e);new t(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,n,e,this.level+1).ingest(e)}maybeMap(e,n){if(!(e.receiver instanceof Nl))return;let r=this.scope.lookup(n);r!==null&&this.bindings.set(e,r)}},WC=class{target;directives;eagerDirectives;missingDirectives;bindings;references;exprTargets;symbols;nestingLevel;scopedNodeEntities;usedPipes;eagerPipes;deferredBlocks;deferredScopes;constructor(e,n,r,i,s,o,a,l,u,c,d,f,h){this.target=e,this.directives=n,this.eagerDirectives=r,this.missingDirectives=i,this.bindings=s,this.references=o,this.exprTargets=a,this.symbols=l,this.nestingLevel=u,this.scopedNodeEntities=c,this.usedPipes=d,this.eagerPipes=f,this.deferredBlocks=h.map(p=>p[0]),this.deferredScopes=new Map(h)}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(n=>n.forEach(r=>e.add(r))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,n){if(!(n instanceof hb)&&!(n instanceof i0)&&!(n instanceof fb))return null;let r=n.reference;if(r===null){let s=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof n2)){if(s!==null)return null;o instanceof Ml&&(s=o)}}return s}let i=this.findEntityInScope(e,r);if(i instanceof c0&&this.getDefinitionNodeOfSymbol(i)!==e){let s=this.getReferenceTarget(i);if(s!==null)return this.referenceTargetToElement(s)}if(e.placeholder!==null){let s=this.findEntityInScope(e.placeholder,r),o=s instanceof c0?this.getReferenceTarget(s):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let n of this.deferredBlocks){if(!this.deferredScopes.has(n))continue;let r=[this.deferredScopes.get(n)];for(;r.length>0;){let i=r.pop();if(i.elementLikeInScope.has(e))return!0;r.push(...i.childScopes.values())}}return!1}referencedDirectiveExists(e){return!this.missingDirectives.has(e)}findEntityInScope(e,n){let r=this.getEntitiesInScope(e);for(let i of r)if(i.name===n)return i;return null}referenceTargetToElement(e){return e instanceof Ml?e:e instanceof jo||e.node instanceof Rg||e.node instanceof zN||e.node instanceof d0?null:this.referenceTargetToElement(e.node)}};function BQ(t,e){let n=new Map;function r(s){if(n.has(s.rootNode))return n.get(s.rootNode);let o=s.namedEntities,a;return s.parentScope!==null?a=new Map([...r(s.parentScope),...o]):a=new Map(o),n.set(s.rootNode,a),a}let i=[t];for(;i.length>0;){let s=i.pop();for(let o of s.childScopes.values())i.push(o);r(s)}for(let[s,o]of n)e.set(s,new Set(o.values()))}var GC=class{},YC=class{jitEvaluator;FactoryTarget=xu;ResourceLoader=GC;elementSchemaRegistry=new hp;constructor(e=new XS){this.jitEvaluator=e}compilePipe(e,n,r){let i={name:r.name,type:Bi(r.type),typeArgumentCount:0,deps:null,pipeName:r.pipeName,pure:r.pure,isStandalone:r.isStandalone},s=b8(i);return this.jitExpression(s.expression,e,n,[])}compilePipeDeclaration(e,n,r){let i=tee(r),s=b8(i);return this.jitExpression(s.expression,e,n,[])}compileInjectable(e,n,r){let{expression:i,statements:s}=u8({name:r.name,type:Bi(r.type),typeArgumentCount:r.typeArgumentCount,providedIn:FN(r.providedIn),useClass:Vh(r,"useClass"),useFactory:LN(r,"useFactory"),useValue:Vh(r,"useValue"),useExisting:Vh(r,"useExisting"),deps:r.deps?.map(hR)},!0);return this.jitExpression(i,e,n,s)}compileInjectableDeclaration(e,n,r){let{expression:i,statements:s}=u8({name:r.type.name,type:Bi(r.type),typeArgumentCount:0,providedIn:FN(r.providedIn),useClass:Vh(r,"useClass"),useFactory:LN(r,"useFactory"),useValue:Vh(r,"useValue"),useExisting:Vh(r,"useExisting"),deps:r.deps?.map(ON)},!0);return this.jitExpression(i,e,n,s)}compileInjector(e,n,r){let i={name:r.name,type:Bi(r.type),providers:r.providers&&r.providers.length>0?new Pn(r.providers):null,imports:r.imports.map(o=>new Pn(o))},s=y8(i);return this.jitExpression(s.expression,e,n,[])}compileInjectorDeclaration(e,n,r){let i=nee(r),s=y8(i);return this.jitExpression(s.expression,e,n,[])}compileNgModule(e,n,r){let i={kind:Ic.Global,type:Bi(r.type),bootstrap:r.bootstrap.map(Bi),declarations:r.declarations.map(Bi),publicDeclarationTypes:null,imports:r.imports.map(Bi),includeImportTypes:!0,exports:r.exports.map(Bi),selectorScopeMode:xb.Inline,containsForwardDecls:!1,schemas:r.schemas?r.schemas.map(Bi):null,id:r.id?new Pn(r.id):null},s=iz(i);return this.jitExpression(s.expression,e,n,[])}compileNgModuleDeclaration(e,n,r){let i=sz(r);return this.jitExpression(i,e,n,[])}compileDirective(e,n,r){let i=RN(r);return this.compileDirectiveFromMeta(e,n,i)}compileDirectiveDeclaration(e,n,r){let i=this.createParseSourceSpan("Directive",r.type.name,n),s=dR(r,i);return this.compileDirectiveFromMeta(e,n,s)}compileDirectiveFromMeta(e,n,r){let i=new eb,s=Kb(),o=CQ(r,i,s);return this.jitExpression(o.expression,e,n,i.statements)}compileComponent(e,n,r){let{template:i,defer:s}=fR(r.template,r.name,n,r.preserveWhitespaces,void 0),o=qt(Ne(Ne({},r),RN(r)),{selector:r.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:i,declarations:r.declarations.map(HQ),declarationListEmitMode:0,defer:s,styles:[...r.styles,...i.styles],encapsulation:r.encapsulation,changeDetection:r.changeDetection??null,animations:r.animations!=null?new Pn(r.animations):null,viewProviders:r.viewProviders!=null?new Pn(r.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),a=`ng:///${r.name}.js`;return this.compileComponentFromMeta(e,a,o)}compileComponentDeclaration(e,n,r){let i=this.createParseSourceSpan("Component",r.type.name,n),s=jQ(r,i,n);return this.compileComponentFromMeta(e,n,s)}compileComponentFromMeta(e,n,r){let i=new eb,s=Kb(),o=AQ(r,i,s);return this.jitExpression(o.expression,e,n,i.statements)}compileFactory(e,n,r){let i=zd({name:r.name,type:Bi(r.type),typeArgumentCount:r.typeArgumentCount,deps:zQ(r.deps),target:r.target});return this.jitExpression(i.expression,e,n,i.statements)}compileFactoryDeclaration(e,n,r){let i=zd({name:r.type.name,type:Bi(r.type),typeArgumentCount:0,deps:Array.isArray(r.deps)?r.deps.map(ON):r.deps,target:r.target});return this.jitExpression(i.expression,e,n,i.statements)}createParseSourceSpan(e,n,r){return Zq(e,n,r)}jitExpression(e,n,r,i){let s=[...i,new Ui("$def",e,void 0,ls.Exported)];return this.jitEvaluator.evaluateStatements(r,s,new ZS(n),!0).$def}};function NN(t){return qt(Ne({},t),{isSignal:t.isSignal,predicate:cR(t.predicate),read:t.read?new Pn(t.read):null,static:t.static,emitDistinctChangesOnly:t.emitDistinctChangesOnly})}function MN(t){return{propertyName:t.propertyName,first:t.first??!1,predicate:cR(t.predicate),descendants:t.descendants??!1,read:t.read?new Pn(t.read):null,static:t.static??!1,emitDistinctChangesOnly:t.emitDistinctChangesOnly??!0,isSignal:!!t.isSignal}}function cR(t){return Array.isArray(t)?t:t5(new Pn(t),1)}function RN(t){let e=eee(t.inputs||[]),n=xS(t.outputs||[]),r=t.propMetadata,i={},s={};for(let a in r)r.hasOwnProperty(a)&&r[a].forEach(l=>{KQ(l)?i[a]={bindingPropertyName:l.alias||a,classPropertyName:a,required:l.required||!1,isSignal:!!l.isSignal,transformFunction:l.transform!=null?new Pn(l.transform):null}:ZQ(l)&&(s[a]=l.alias||a)});let o=t.hostDirectives?.length?t.hostDirectives.map(a=>typeof a=="function"?{directive:Bi(a),inputs:null,outputs:null,isForwardReference:!1}:{directive:Bi(a.directive),isForwardReference:!1,inputs:a.inputs?xS(a.inputs):null,outputs:a.outputs?xS(a.outputs):null}):null;return qt(Ne({},t),{typeArgumentCount:0,typeSourceSpan:t.typeSourceSpan,type:Bi(t.type),deps:null,host:Ne({},GQ(t.propMetadata,t.typeSourceSpan,t.host)),inputs:Ne(Ne({},e),i),outputs:Ne(Ne({},n),s),queries:t.queries.map(NN),providers:t.providers!=null?new Pn(t.providers):null,viewQueries:t.viewQueries.map(NN),hostDirectives:o})}function dR(t,e){let n=t.hostDirectives?.length?t.hostDirectives.map(r=>({directive:Bi(r.directive),isForwardReference:!1,inputs:r.inputs?PN(r.inputs):null,outputs:r.outputs?PN(r.outputs):null})):null;return{name:t.type.name,type:Bi(t.type),typeSourceSpan:e,selector:t.selector??null,inputs:t.inputs?JQ(t.inputs):{},outputs:t.outputs??{},host:VQ(t.host),queries:(t.queries??[]).map(MN),viewQueries:(t.viewQueries??[]).map(MN),providers:t.providers!==void 0?new Pn(t.providers):null,exportAs:t.exportAs??null,usesInheritance:t.usesInheritance??!1,lifecycle:{usesOnChanges:t.usesOnChanges??!1},deps:null,typeArgumentCount:0,isStandalone:t.isStandalone??qN(t.version),isSignal:t.isSignal??!1,hostDirectives:n}}function VQ(t={}){return{attributes:UQ(t.attributes??{}),listeners:t.listeners??{},properties:t.properties??{},specialAttributes:{classAttr:t.classAttribute,styleAttr:t.styleAttribute}}}function PN(t){let e=null;for(let n=1;n<t.length;n+=2)e=e||{},e[t[n-1]]=t[n];return e}function UQ(t){let e={};for(let n of Object.keys(t))e[n]=new Pn(t[n]);return e}function jQ(t,e,n){let{template:r,defer:i}=fR(t.template,t.type.name,n,t.preserveWhitespaces??!1,t.deferBlockDependencies),s=[];if(t.dependencies)for(let a of t.dependencies)switch(a.kind){case"directive":case"component":s.push(_S(a));break;case"pipe":s.push(qQ(a));break}else(t.components||t.directives||t.pipes)&&(t.components&&s.push(...t.components.map(a=>_S(a,!0))),t.directives&&s.push(...t.directives.map(a=>_S(a))),t.pipes&&s.push(...$Q(t.pipes)));let o=s.some(({kind:a})=>a===lp.Directive||a===lp.NgModule);return qt(Ne({},dR(t,e)),{template:r,styles:t.styles??[],declarations:s,viewProviders:t.viewProviders!==void 0?new Pn(t.viewProviders):null,animations:t.animations!==void 0?new Pn(t.animations):null,defer:i,changeDetection:t.changeDetection??KC.Default,encapsulation:t.encapsulation??qd.Emulated,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null,hasDirectiveDependencies:o})}function HQ(t){return qt(Ne({},t),{type:new Pn(t.type)})}function _S(t,e=null){return{kind:lp.Directive,isComponent:e||t.kind==="component",selector:t.selector,type:new Pn(t.type),inputs:t.inputs??[],outputs:t.outputs??[],exportAs:t.exportAs??null}}function $Q(t){return t?Object.keys(t).map(e=>({kind:lp.Pipe,name:e,type:new Pn(t[e])})):[]}function qQ(t){return{kind:lp.Pipe,name:t.name,type:new Pn(t.type)}}function fR(t,e,n,r,i){let s=_Q(t,n,{preserveWhitespaces:r});if(s.errors!==null){let l=s.errors.map(u=>u.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${l}`)}let a=new qC(null).bind({template:s.nodes});return{template:s,defer:WQ(a,i)}}function Vh(t,e){if(t.hasOwnProperty(e))return t5(new Pn(t[e]),0)}function LN(t,e){if(t.hasOwnProperty(e))return new Pn(t[e])}function FN(t){let e=typeof t=="function"?new Pn(t):new ds(t??null);return t5(e,0)}function zQ(t){return t==null?null:t.map(hR)}function hR(t){let e=t.attribute!=null,n=t.token===null?null:new Pn(t.token),r=e?new Pn(t.attribute):n;return pR(r,e,t.host,t.optional,t.self,t.skipSelf)}function ON(t){let e=t.attribute??!1,n=t.token===null?null:new Pn(t.token);return pR(n,e,t.host??!1,t.optional??!1,t.self??!1,t.skipSelf??!1)}function pR(t,e,n,r,i,s){let o=e?Me("unknown"):null;return{token:t,attributeNameType:o,host:n,optional:r,self:i,skipSelf:s}}function WQ(t,e){let n=t.getDeferBlocks(),r=new Map;for(let i=0;i<n.length;i++){let s=e?.[i];r.set(n[i],s?new Pn(s):null)}return{mode:0,blocks:r}}function GQ(t,e,n){let r=PQ(n||{}),i=LQ(r,e);if(i.length)throw new Error(i.map(s=>s.msg).join(`
`));for(let s in t)t.hasOwnProperty(s)&&t[s].forEach(o=>{YQ(o)?r.properties[o.hostPropertyName||s]=wq("this",s):XQ(o)&&(r.listeners[o.eventName||s]=`${s}(${(o.args||[]).join(",")})`)});return r}function YQ(t){return t.ngMetadataName==="HostBinding"}function XQ(t){return t.ngMetadataName==="HostListener"}function KQ(t){return t.ngMetadataName==="Input"}function ZQ(t){return t.ngMetadataName==="Output"}function JQ(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return typeof r=="string"||Array.isArray(r)?e[n]=QQ(r):e[n]={bindingPropertyName:r.publicName,classPropertyName:n,transformFunction:r.transformFunction!==null?new Pn(r.transformFunction):null,required:r.isRequired,isSignal:r.isSignal},e},{})}function QQ(t){return typeof t=="string"?{bindingPropertyName:t,classPropertyName:t,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:t[0],classPropertyName:t[1],transformFunction:t[2]?new Pn(t[2]):null,required:!1,isSignal:!1}}function eee(t){return t.reduce((e,n)=>{if(typeof n=="string"){let[r,i]=mR(n);e[i]={bindingPropertyName:r,classPropertyName:i,required:!1,isSignal:!1,transformFunction:null}}else e[n.name]={bindingPropertyName:n.alias||n.name,classPropertyName:n.name,required:n.required||!1,isSignal:!1,transformFunction:n.transform!=null?new Pn(n.transform):null};return e},{})}function xS(t){return t.reduce((e,n)=>{let[r,i]=mR(n);return e[i]=r,e},{})}function mR(t){let[e,n]=t.split(":",2).map(r=>r.trim());return[n??e,e]}function tee(t){return{name:t.type.name,type:Bi(t.type),typeArgumentCount:0,pipeName:t.name,deps:null,pure:t.pure??!0,isStandalone:t.isStandalone??qN(t.version)}}function nee(t){return{name:t.type.name,type:Bi(t.type),providers:t.providers!==void 0&&t.providers.length>0?new Pn(t.providers):null,imports:t.imports!==void 0?t.imports.map(e=>new Pn(e)):[]}}function ree(t){let e=t.ng||(t.ng={});e.\u0275compilerFacade=new YC}var XC=class{closedByParent=!1;implicitNamespacePrefix=null;isVoid=!1;ignoreFirstLf=!1;canSelfClose=!0;preventNamespaceInheritance=!1;requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return _l.PARSABLE_DATA}},Xwe=new XC;var Kwe=new IS("21.1.2");ree(Mg);var Ts=null,l2=!1,C5=1,iee=null,Ks=Symbol("SIGNAL");function dn(t){let e=Ts;return Ts=t,e}function c2(){return Ts}var bp={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function V0(t){if(l2)throw new Error("");if(Ts===null)return;Ts.consumerOnSignalRead(t);let e=Ts.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Ts.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Ts.producers,n!==void 0&&n.producer===t)){Ts.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Ts&&(!r||oee(i,Ts)))return;let s=_p(Ts),o={producer:t,consumer:Ts,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Ts.producersTail=o,e!==void 0?e.nextProducer=o:Ts.producers=o,s&&bR(t,o)}function gR(){C5++}function A5(t){if(!(_p(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===C5)){if(!t.producerMustRecompute(t)&&!j0(t)){S5(t);return}t.producerRecomputeValue(t),S5(t)}}function T5(t){if(t.consumers===void 0)return;let e=l2;l2=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||see(r)}}finally{l2=e}}function I5(){return Ts?.consumerAllowSignalWrites!==!1}function see(t){t.dirty=!0,T5(t),t.consumerMarkedDirty?.(t)}function S5(t){t.dirty=!1,t.lastCleanEpoch=C5}function wp(t){return t&&vR(t),dn(t)}function vR(t){t.producersTail=void 0,t.recomputing=!0}function U0(t,e){dn(e),t&&yR(t)}function yR(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(_p(t))do n=D5(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function j0(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(A5(n),r!==n.version))return!0}return!1}function Ef(t){if(_p(t)){let e=t.producers;for(;e!==void 0;)e=D5(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function bR(t,e){let n=t.consumersTail,r=_p(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)bR(i.producer,i)}function D5(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!_p(e)){let s=e.producers;for(;s!==void 0;)s=D5(s)}return n}function _p(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function k5(t){iee?.(t)}function oee(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function N5(t,e){return Object.is(t,e)}function d2(t,e){let n=Object.create(aee);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(A5(n),V0(n),n.value===u2)throw n.error;return n.value};return r[Ks]=n,k5(n),r}var x5=Symbol("UNSET"),E5=Symbol("COMPUTING"),u2=Symbol("ERRORED"),aee=qt(Ne({},bp),{value:x5,dirty:!0,error:null,equal:N5,kind:"computed",producerMustRecompute(t){return t.value===x5||t.value===E5},producerRecomputeValue(t){if(t.value===E5)throw new Error("");let e=t.value;t.value=E5;let n=wp(t),r,i=!1;try{r=t.computation(),dn(null),i=e!==x5&&e!==u2&&r!==u2&&t.equal(e,r)}catch(s){r=u2,t.error=s}finally{U0(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function lee(){throw new Error}var wR=lee;function _R(t){wR(t)}function M5(t){wR=t}var uee=null;function R5(t,e){let n=Object.create(f2);n.value=t,e!==void 0&&(n.equal=e);let r=()=>xR(n);return r[Ks]=n,k5(n),[r,o=>H0(n,o),o=>ER(n,o)]}function xR(t){return V0(t),t.value}function H0(t,e){I5()||_R(t),t.equal(t.value,e)||(t.value=e,cee(t))}function ER(t,e){I5()||_R(t),H0(t,e(t.value))}var f2=qt(Ne({},bp),{equal:N5,value:void 0,kind:"signal"});function cee(t){t.version++,gR(),T5(t),uee?.(t)}function P5(t){let e=dn(null);try{return t()}finally{dn(e)}}var L5=qt(Ne({},bp),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function F5(t){if(t.dirty=!1,t.version>0&&!j0(t))return;t.version++;let e=wp(t);try{t.cleanup(),t.fn()}finally{U0(t,e)}}function Sr(t){return typeof t=="function"}function h2(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var p2=h2(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function $0(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Zs=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Sr(r))try{r()}catch(s){e=s instanceof p2?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{SR(s)}catch(o){e=e??[],o instanceof p2?e=[...e,...o.errors]:e.push(o)}}if(e)throw new p2(e)}}add(e){var n;if(e&&e!==this)if(this.closed)SR(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$0(n,e)}remove(e){let{_finalizers:n}=this;n&&$0(n,e),e instanceof t&&e._removeParent(this)}};Zs.EMPTY=(()=>{let t=new Zs;return t.closed=!0,t})();var O5=Zs.EMPTY;function m2(t){return t instanceof Zs||t&&"closed"in t&&Sr(t.remove)&&Sr(t.add)&&Sr(t.unsubscribe)}function SR(t){Sr(t)?t():t.unsubscribe()}var Ha={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xp={setTimeout(t,e,...n){let{delegate:r}=xp;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xp;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function g2(t){xp.setTimeout(()=>{let{onUnhandledError:e}=Ha;if(e)e(t);else throw t})}function B5(){}var CR=V5("C",void 0,void 0);function AR(t){return V5("E",void 0,t)}function TR(t){return V5("N",t,void 0)}function V5(t,e,n){return{kind:t,value:e,error:n}}var Sf=null;function Ep(t){if(Ha.useDeprecatedSynchronousErrorHandling){let e=!Sf;if(e&&(Sf={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Sf;if(Sf=null,n)throw r}}else t()}function IR(t){Ha.useDeprecatedSynchronousErrorHandling&&Sf&&(Sf.errorThrown=!0,Sf.error=t)}var Cf=class extends Zs{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,m2(e)&&e.add(this)):this.destination=hee}static create(e,n,r){return new Sp(e,n,r)}next(e){this.isStopped?j5(TR(e),this):this._next(e)}error(e){this.isStopped?j5(AR(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?j5(CR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dee=Function.prototype.bind;function U5(t,e){return dee.call(t,e)}var H5=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){v2(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){v2(r)}else v2(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){v2(n)}}},Sp=class extends Cf{constructor(e,n,r){super();let i;if(Sr(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ha.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&U5(e.next,s),error:e.error&&U5(e.error,s),complete:e.complete&&U5(e.complete,s)}):i=e}this.destination=new H5(i)}};function v2(t){Ha.useDeprecatedSynchronousErrorHandling?IR(t):g2(t)}function fee(t){throw t}function j5(t,e){let{onStoppedNotification:n}=Ha;n&&xp.setTimeout(()=>n(t,e))}var hee={closed:!0,next:B5,error:fee,complete:B5};var Cp=typeof Symbol=="function"&&Symbol.observable||"@@observable";function DR(t){return t}function kR(t){return t.length===0?DR:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var bi=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=mee(n)?n:new Sp(n,r,i);return Ep(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=NR(r),new r((i,s)=>{let o=new Sp({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Cp](){return this}pipe(...n){return kR(n)(this)}toPromise(n){return n=NR(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function NR(t){var e;return(e=t??Ha.Promise)!==null&&e!==void 0?e:Promise}function pee(t){return t&&Sr(t.next)&&Sr(t.error)&&Sr(t.complete)}function mee(t){return t&&t instanceof Cf||pee(t)&&m2(t)}function gee(t){return Sr(t?.lift)}function Ap(t){return e=>{if(gee(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tp(t,e,n,r,i){return new $5(t,e,n,r,i)}var $5=class extends Cf{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var MR=h2(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $a=(()=>{class t extends bi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new y2(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new MR}next(n){Ep(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ep(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ep(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?O5:(this.currentObservers=null,s.push(n),new Zs(()=>{this.currentObservers=null,$0(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new bi;return n.source=this,n}}return t.create=(e,n)=>new y2(e,n),t})(),y2=class extends $a{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:O5}};var q0=class extends $a{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function vee(t){return t[t.length-1]}function RR(t){return Sr(vee(t))?t.pop():void 0}function LR(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function PR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Af(t){return this instanceof Af?(this.v=t,this):new Af(t)}function FR(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(g,y){s.push([h,m,g,y])>1||l(h,m)})},p&&(i[h]=p(i[h])))}function l(h,p){try{u(r[h](p))}catch(m){f(s[0][3],m)}}function u(h){h.value instanceof Af?Promise.resolve(h.value.v).then(c,d):f(s[0][2],h)}function c(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function OR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof PR=="function"?PR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}var b2=t=>t&&typeof t.length=="number"&&typeof t!="function";function w2(t){return Sr(t?.then)}function _2(t){return Sr(t[Cp])}function x2(t){return Symbol.asyncIterator&&Sr(t?.[Symbol.asyncIterator])}function E2(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yee(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var S2=yee();function C2(t){return Sr(t?.[S2])}function A2(t){return FR(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Af(n.read());if(i)return yield Af(void 0);yield yield Af(r)}}finally{n.releaseLock()}})}function T2(t){return Sr(t?.getReader)}function qc(t){if(t instanceof bi)return t;if(t!=null){if(_2(t))return bee(t);if(b2(t))return wee(t);if(w2(t))return _ee(t);if(x2(t))return BR(t);if(C2(t))return xee(t);if(T2(t))return Eee(t)}throw E2(t)}function bee(t){return new bi(e=>{let n=t[Cp]();if(Sr(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wee(t){return new bi(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _ee(t){return new bi(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,g2)})}function xee(t){return new bi(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function BR(t){return new bi(e=>{See(t,e).catch(n=>e.error(n))})}function Eee(t){return BR(A2(t))}function See(t,e){var n,r,i,s;return LR(this,void 0,void 0,function*(){try{for(n=OR(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Fl(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function I2(t,e=0){return Ap((n,r)=>{n.subscribe(Tp(r,i=>Fl(r,t,()=>r.next(i),e),()=>Fl(r,t,()=>r.complete(),e),i=>Fl(r,t,()=>r.error(i),e)))})}function D2(t,e=0){return Ap((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function VR(t,e){return qc(t).pipe(D2(e),I2(e))}function UR(t,e){return qc(t).pipe(D2(e),I2(e))}function jR(t,e){return new bi(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function HR(t,e){return new bi(n=>{let r;return Fl(n,e,()=>{r=t[S2](),Fl(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Sr(r?.return)&&r.return()})}function k2(t,e){if(!t)throw new Error("Iterable cannot be null");return new bi(n=>{Fl(n,e,()=>{let r=t[Symbol.asyncIterator]();Fl(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $R(t,e){return k2(A2(t),e)}function qR(t,e){if(t!=null){if(_2(t))return VR(t,e);if(b2(t))return jR(t,e);if(w2(t))return UR(t,e);if(x2(t))return k2(t,e);if(C2(t))return HR(t,e);if(T2(t))return $R(t,e)}throw E2(t)}function q5(t,e){return e?qR(t,e):qc(t)}function Tf(t,e){return Ap((n,r)=>{let i=0;n.subscribe(Tp(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:Cee}=Array;function Aee(t,e){return Cee(e)?t(...e):t(e)}function zR(t){return Tf(e=>Aee(t,e))}var{isArray:Tee}=Array,{getPrototypeOf:Iee,prototype:Dee,keys:kee}=Object;function WR(t){if(t.length===1){let e=t[0];if(Tee(e))return{args:e,keys:null};if(Nee(e)){let n=kee(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Nee(t){return t&&typeof t=="object"&&Iee(t)===Dee}function GR(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function z5(...t){let e=RR(t),{args:n,keys:r}=WR(t),i=new bi(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,u=o;for(let c=0;c<o;c++){let d=!1;qc(n[c]).subscribe(Tp(s,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?GR(r,a):a),s.complete())}))}});return e?i.pipe(zR(e)):i}var W5;function N2(){return W5}function Ol(t){let e=W5;return W5=t,e}var YR=Symbol("NotFound");function Ip(t){return t===YR||t?.name==="\u0275NotFound"}var B2="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",vn=class extends Error{code;constructor(e,n){super(V2(e,n)),this.code=e}};function Mee(t){return`NG0${Math.abs(t)}`}function V2(t,e){return`${Mee(t)}${e?": "+e:""}`}var qa=globalThis;function Lr(t){for(let e in t)if(t[e]===Lr)return e;throw Error("")}function QR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function zc(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(zc).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function U2(t,e){return t?e?`${t} ${e}`:t:e||""}var Ree=Lr({__forward_ref__:Lr});function Mu(t){return t.__forward_ref__=Mu,t.toString=function(){return zc(this())},t}function hs(t){return s3(t)?t():t}function s3(t){return typeof t=="function"&&t.hasOwnProperty(Ree)&&t.__forward_ref__===Mu}function Ur(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kc(t){return{providers:t.providers||[],imports:t.imports||[]}}function j2(t){return Pee(t,H2)}function Pee(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Lee(t){let e=t?.[H2]??null;return e||null}function Y5(t){return t&&t.hasOwnProperty(R2)?t[R2]:null}var H2=Lr({\u0275prov:Lr}),R2=Lr({\u0275inj:Lr}),Ln=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Ur({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function o3(t){return t&&!!t.\u0275providers}var a3=Lr({\u0275cmp:Lr}),l3=Lr({\u0275dir:Lr}),u3=Lr({\u0275pipe:Lr});var W0=Lr({\u0275fac:Lr}),Mf=Lr({__NG_ELEMENT_ID__:Lr}),XR=Lr({__NG_ENV_ID__:Lr});function Rf(t){return d3(t,"@Component"),t[a3]||null}function c3(t){return d3(t,"@Directive"),t[l3]||null}function eP(t){return d3(t,"@Pipe"),t[u3]||null}function d3(t,e){if(t==null)throw new vn(-919,!1)}function Zc(t){return typeof t=="string"?t:t==null?"":String(t)}var tP=Lr({ngErrorCode:Lr}),Fee=Lr({ngErrorMessage:Lr}),Oee=Lr({ngTokenPath:Lr});function f3(t,e){return nP("",-200,e)}function $2(t,e){throw new vn(-201,!1)}function nP(t,e,n){let r=new vn(e,t);return r[tP]=e,r[Fee]=t,n&&(r[Oee]=n),r}function Bee(t){return t[tP]}var X5;function rP(){return X5}function Js(t){let e=X5;return X5=t,e}function h3(t,e,n){let r=j2(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;$2(t,"")}var Vee={},If=Vee,Uee="__NG_DI_FLAG__",K5=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Df(n)||0;try{return this.injector.get(e,r&8?null:If,r)}catch(i){if(Ip(i))return i;throw i}}};function jee(t,e=0){let n=N2();if(n===void 0)throw new vn(-203,!1);if(n===null)return h3(t,void 0,e);{let r=Hee(e),i=n.retrieve(t,r);if(Ip(i)){if(r.optional)return null;throw i}return i}}function Mr(t,e=0){return(rP()||jee)(hs(t),e)}function rn(t,e){return Mr(t,Df(e))}function Df(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hee(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Z5(t){let e=[];for(let n=0;n<t.length;n++){let r=hs(t[n]);if(Array.isArray(r)){if(r.length===0)throw new vn(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],l=$ee(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(Mr(i,s))}else e.push(Mr(r))}return e}function $ee(t){return t[Uee]}function Wc(t,e){let n=t.hasOwnProperty(W0);return n?t[W0]:null}function iP(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function sP(t){return t.flat(Number.POSITIVE_INFINITY)}function q2(t,e){t.forEach(n=>Array.isArray(n)?q2(n,e):e(n))}function p3(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Z0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function oP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function z2(t,e,n){let r=kp(t,e);return r>=0?t[r|1]=n:(r=~r,oP(t,r,e,n)),r}function W2(t,e){let n=kp(t,e);if(n>=0)return t[n|1]}function kp(t,e){return qee(t,e,1)}function qee(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Jc={},Qs=[],J0=new Ln(""),m3=new Ln("",-1),g3=new Ln(""),G0=class{get(e,n=If){if(n===If){let i=nP("",-201);throw i.name="\u0275NotFound",i}return n}};function v3(t){return{\u0275providers:t}}function aP(...t){return{\u0275providers:y3(!0,t),\u0275fromNgModule:!0}}function y3(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return q2(e,o=>{let a=o;P2(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&lP(i,s),n}function lP(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];b3(i,s=>{e(s,r)})}}function P2(t,e,n,r){if(t=hs(t),!t)return!1;let i=null,s=Y5(t),o=!s&&Rf(t);if(!s&&!o){let l=t.ngModule;if(s=Y5(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)P2(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;q2(s.imports,c=>{P2(c,e,n,r)&&(u||=[],u.push(c))}),u!==void 0&&lP(u,e)}if(!a){let u=Wc(i)||(()=>new i);e({provide:i,useFactory:u,deps:Qs},i),e({provide:g3,useValue:i,multi:!0},i),e({provide:J0,useValue:()=>Mr(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let u=t;b3(l,c=>{e(c,u)})}}else return!1;return i!==t&&t.providers!==void 0}function b3(t,e){for(let n of t)o3(n)&&(n=n.\u0275providers),Array.isArray(n)?b3(n,e):e(n)}var zee=Lr({provide:String,useValue:Lr});function uP(t){return t!==null&&typeof t=="object"&&zee in t}function Wee(t){return!!(t&&t.useExisting)}function Gee(t){return!!(t&&t.useFactory)}function kf(t){return typeof t=="function"}function cP(t){return!!t.useClass}var Q0=new Ln(""),M2={},KR={},G5;function e1(){return G5===void 0&&(G5=new G0),G5}var va=class{},Nf=class extends va{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Q5(e,o=>this.processProvider(o)),this.records.set(m3,Dp(void 0,this)),i.has("environment")&&this.records.set(va,Dp(void 0,this));let s=this.records.get(Q0);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(g3,Qs,{self:!0}))}retrieve(e,n){let r=Df(n)||0;try{return this.get(e,If,r)}catch(i){if(Ip(i))return i;throw i}}destroy(){z0(this),this._destroyed=!0;let e=dn(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),dn(e)}}onDestroy(e){return z0(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){z0(this);let n=Ol(this),r=Js(void 0),i;try{return e()}finally{Ol(n),Js(r)}}get(e,n=If,r){if(z0(this),e.hasOwnProperty(XR))return e[XR](this);let i=Df(r),s,o=Ol(this),a=Js(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let c=Jee(e)&&j2(e);c&&this.injectableDefInScope(c)?u=Dp(J5(e),M2):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let l=i&2?e1():this.parent;return n=i&8&&n===If?null:n,l.get(e,n)}catch(l){let u=Bee(l);throw u===-200||u===-201?new vn(u,null):l}finally{Js(a),Ol(o)}}resolveInjectorInitializers(){let e=dn(null),n=Ol(this),r=Js(void 0),i;try{let s=this.get(J0,Qs,{self:!0});for(let o of s)o()}finally{Ol(n),Js(r),dn(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(zc(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=hs(e);let n=kf(e)?e:hs(e&&e.provide),r=Xee(e);if(!kf(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Dp(void 0,M2,!0),i.factory=()=>Z5(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=dn(null);try{if(n.value===KR)throw f3(zc(e));return n.value===M2&&(n.value=KR,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Zee(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{dn(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=hs(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function J5(t){let e=j2(t),n=e!==null?e.factory:Wc(t);if(n!==null)return n;if(t instanceof Ln)throw new vn(204,!1);if(t instanceof Function)return Yee(t);throw new vn(204,!1)}function Yee(t){if(t.length>0)throw new vn(204,!1);let n=Lee(t);return n!==null?()=>n.factory(t):()=>new t}function Xee(t){if(uP(t))return Dp(void 0,t.useValue);{let e=w3(t);return Dp(e,M2)}}function w3(t,e,n){let r;if(kf(t)){let i=hs(t);return Wc(i)||J5(i)}else if(uP(t))r=()=>hs(t.useValue);else if(Gee(t))r=()=>t.useFactory(...Z5(t.deps||[]));else if(Wee(t))r=(i,s)=>Mr(hs(t.useExisting),s!==void 0&&s&8?8:void 0);else{let i=hs(t&&(t.useClass||t.provide));if(Kee(t))r=()=>new i(...Z5(t.deps));else return Wc(i)||J5(i)}return r}function z0(t){if(t.destroyed)throw new vn(205,!1)}function Dp(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Kee(t){return!!t.deps}function Zee(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Jee(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Q5(t,e){for(let n of t)Array.isArray(n)?Q5(n,e):n&&o3(n)?Q5(n.\u0275providers,e):e(n)}function G2(t,e){let n;t instanceof Nf?(z0(t),n=t):n=new K5(t);let r,i=Ol(n),s=Js(void 0);try{return e()}finally{Ol(i),Js(s)}}function dP(){return rP()!==void 0||N2()!=null}var za=0,fn=1,_n=2,ji=3,ya=4,ba=5,Np=6,Mp=7,wi=8,Ru=9,Ul=10,Qr=11,Rp=12,_3=13,Pf=14,Xo=15,Qc=16,Lf=17,jl=18,Pu=19,x3=20,Nu=21,Y2=22,Gc=23,Ko=24,Ff=25,Of=26,_i=27,fP=1,E3=6,ed=7,t1=8,Bf=9,li=10;function Hl(t){return Array.isArray(t)&&typeof t[fP]=="object"}function Wa(t){return Array.isArray(t)&&t[fP]===!0}function S3(t){return(t.flags&4)!==0}function td(t){return t.componentOffset>-1}function X2(t){return(t.flags&1)===1}function $l(t){return!!t.template}function Pp(t){return(t[_n]&512)!==0}function Vf(t){return(t[_n]&256)===256}var hP="svg",pP="math";function wa(t){for(;Array.isArray(t);)t=t[za];return t}function C3(t,e){return wa(e[t])}function ql(t,e){return wa(e[t.index])}function n1(t,e){return t.data[e]}function K2(t,e){return t[e]}function A3(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function _a(t,e){let n=e[t];return Hl(n)?n:n[za]}function mP(t){return(t[_n]&4)===4}function Z2(t){return(t[_n]&128)===128}function gP(t){return Wa(t[ji])}function zl(t,e){return e==null?null:t[e]}function T3(t){t[Lf]=0}function I3(t){t[_n]&1024||(t[_n]|=1024,Z2(t)&&Uf(t))}function vP(t,e){for(;t>0;)e=e[Pf],t--;return e}function r1(t){return!!(t[_n]&9216||t[Ko]?.dirty)}function J2(t){t[Ul].changeDetectionScheduler?.notify(8),t[_n]&64&&(t[_n]|=1024),r1(t)&&Uf(t)}function Uf(t){t[Ul].changeDetectionScheduler?.notify(0);let e=Yc(t);for(;e!==null&&!(e[_n]&8192||(e[_n]|=8192,!Z2(e)));)e=Yc(e)}function D3(t,e){if(Vf(t))throw new vn(911,!1);t[Nu]===null&&(t[Nu]=[]),t[Nu].push(e)}function yP(t,e){if(t[Nu]===null)return;let n=t[Nu].indexOf(e);n!==-1&&t[Nu].splice(n,1)}function Yc(t){let e=t[ji];return Wa(e)?e[ji]:e}function k3(t){return t[Mp]??=[]}function N3(t){return t.cleanup??=[]}function bP(t,e,n,r){let i=k3(e);i.push(n),t.firstCreatePass&&N3(t).push(r,i.length-1)}var Bn={lFrame:RP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var e3=!1;function wP(){return Bn.lFrame.elementDepthCount}function _P(){Bn.lFrame.elementDepthCount++}function M3(){Bn.lFrame.elementDepthCount--}function xP(){return Bn.bindingsEnabled}function EP(){return Bn.skipHydrationRootTNode!==null}function R3(t){return Bn.skipHydrationRootTNode===t}function P3(){Bn.skipHydrationRootTNode=null}function Nn(){return Bn.lFrame.lView}function Hi(){return Bn.lFrame.tView}function Yn(t){return Bn.lFrame.contextLView=t,t[wi]}function Xn(t){return Bn.lFrame.contextLView=null,t}function Is(){let t=L3();for(;t!==null&&t.type===64;)t=t.parent;return t}function L3(){return Bn.lFrame.currentTNode}function SP(){let t=Bn.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Lp(t,e){let n=Bn.lFrame;n.currentTNode=t,n.isParent=e}function F3(){return Bn.lFrame.isParent}function CP(){Bn.lFrame.isParent=!1}function AP(){return Bn.lFrame.contextLView}function O3(){return e3}function Y0(t){let e=e3;return e3=t,e}function B3(){let t=Bn.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function V3(){return Bn.lFrame.bindingIndex}function TP(t){return Bn.lFrame.bindingIndex=t}function Fp(){return Bn.lFrame.bindingIndex++}function i1(t){let e=Bn.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function IP(){return Bn.lFrame.inI18n}function DP(t,e){let n=Bn.lFrame;n.bindingIndex=n.bindingRootIndex=t,Q2(e)}function kP(){return Bn.lFrame.currentDirectiveIndex}function Q2(t){Bn.lFrame.currentDirectiveIndex=t}function NP(t){let e=Bn.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function U3(){return Bn.lFrame.currentQueryIndex}function ew(t){Bn.lFrame.currentQueryIndex=t}function Qee(t){let e=t[fn];return e.type===2?e.declTNode:e.type===1?t[ba]:null}function j3(t,e,n){if(n&4){let i=e,s=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Qee(s),i===null||(s=s[Pf],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Bn.lFrame=MP();return r.currentTNode=e,r.lView=t,!0}function tw(t){let e=MP(),n=t[fn];Bn.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function MP(){let t=Bn.lFrame,e=t===null?null:t.child;return e===null?RP(t):e}function RP(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function PP(){let t=Bn.lFrame;return Bn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var H3=PP;function nw(){let t=PP();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function LP(t){return(Bn.lFrame.contextLView=vP(t,Bn.lFrame.contextLView))[wi]}function Ga(){return Bn.lFrame.selectedIndex}function nd(t){Bn.lFrame.selectedIndex=t}function $3(){let t=Bn.lFrame;return n1(t.tView,t.selectedIndex)}function FP(){return Bn.lFrame.currentNamespace}var OP=!0;function rw(){return OP}function iw(t){OP=t}function t3(t,e=null,n=null,r){let i=BP(t,e,n,r);return i.resolveInjectorInitializers(),i}function BP(t,e=null,n=null,r,i=new Set){let s=[n||Qs,aP(t)];return r=r||(typeof t=="object"?void 0:zc(t)),new Nf(s,e||e1(),r||null,i)}var Bl=class t{static THROW_IF_NOT_FOUND=If;static NULL=new G0;static create(e,n){if(Array.isArray(e))return t3({name:""},n,e,"");{let r=e.name??"";return t3({name:r},e.parent,e.providers,r)}}static \u0275prov=Ur({token:t,providedIn:"any",factory:()=>Mr(m3)});static __NG_ELEMENT_ID__=-1},Ya=new Ln(""),rd=(()=>{class t{static __NG_ELEMENT_ID__=ete;static __NG_ENV_ID__=n=>n}return t})(),L2=class extends rd{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Vf(this._lView)}onDestroy(e){let n=this._lView;return D3(n,e),()=>yP(n,e)}};function ete(){return new L2(Nn())}var VP=!1,UP=new Ln(""),Op=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new q0(!1);debugTaskTracker=rn(UP,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new bi(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Ur({token:t,providedIn:"root",factory:()=>new t})}return t})(),n3=class extends $a{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,dP()&&(this.destroyRef=rn(rd,{optional:!0})??void 0,this.pendingTasks=rn(Op,{optional:!0})??void 0)}emit(e){let n=dn(null);try{super.next(e)}finally{dn(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Zs&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Go=n3;function F2(...t){}function q3(t){let e,n;function r(){t=F2;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function jP(t){return queueMicrotask(()=>t()),()=>{t=F2}}var z3="isAngularZone",X0=z3+"_ID",tte=0,Yo=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Go(!1);onMicrotaskEmpty=new Go(!1);onStable=new Go(!1);onError=new Go(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=VP}=e;if(typeof Zone>"u")throw new vn(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,ite(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(z3)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new vn(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new vn(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,nte,F2,F2);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},nte={};function W3(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rte(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){q3(()=>{t.callbackScheduled=!1,r3(t),t.isCheckStableRunning=!0,W3(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),r3(t)}function ite(t){let e=()=>{rte(t)},n=tte++;t._inner=t._inner.fork({name:"angular",properties:{[z3]:!0,[X0]:n,[X0+n]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(ste(l))return r.invokeTask(s,o,a,l);try{return ZR(t),r.invokeTask(s,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),JR(t)}},onInvoke:(r,i,s,o,a,l,u)=>{try{return ZR(t),r.invoke(s,o,a,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!ote(l)&&e(),JR(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,r3(t),W3(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function r3(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ZR(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function JR(t){t._nesting--,W3(t)}var K0=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Go;onMicrotaskEmpty=new Go;onStable=new Go;onError=new Go;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ste(t){return HP(t,"__ignore_ng_zone__")}function ote(t){return HP(t,"__scheduler_tick__")}function HP(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Vl=class{_console=console;handleError(e){this._console.error("ERROR",e)}},jf=new Ln("",{factory:()=>{let t=rn(Yo),e=rn(va),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(Vl),n.handleError(r))})}}}),$P={provide:J0,useValue:()=>{let t=rn(Vl,{optional:!0})},multi:!0};function hr(t,e){let[n,r,i]=R5(t,e?.equal),s=n,o=s[Ks];return s.set=r,s.update=i,s.asReadonly=qP.bind(s),s}function qP(){let t=this[Ks];if(t.readonlyFn===void 0){let e=()=>this();e[Ks]=t,t.readonlyFn=e}return t.readonlyFn}var s1=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=ate}return t})();function ate(){return new s1(Nn(),Is())}var Xc=class{},o1=new Ln("",{factory:()=>!0});var G3=new Ln("");var sw=(()=>{class t{static \u0275prov=Ur({token:t,providedIn:"root",factory:()=>new i3})}return t})(),i3=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},O2=class{[Ks];constructor(e){this[Ks]=e}destroy(){this[Ks].destroy()}};function Lu(t,e){let n=e?.injector??rn(Bl),r=e?.manualCleanup!==!0?n.get(rd):null,i,s=n.get(s1,null,{optional:!0}),o=n.get(Xc);return s!==null?(i=cte(s.view,o,t),r instanceof L2&&r._lView===s.view&&(r=null)):i=dte(t,n.get(sw),o),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new O2(i)}var zP=qt(Ne({},L5),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=Y0(!1);try{F5(this)}finally{Y0(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=dn(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],dn(t)}}}),lte=qt(Ne({},zP),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(Ef(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),ute=qt(Ne({},zP),{consumerMarkedDirty(){this.view[_n]|=8192,Uf(this.view),this.notifier.notify(13)},destroy(){if(Ef(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[Gc]?.delete(this)}});function cte(t,e,n){let r=Object.create(ute);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=WP(r,n),t[Gc]??=new Set,t[Gc].add(r),r.consumerMarkedDirty(r),r}function dte(t,e,n){let r=Object.create(lte);return r.fn=WP(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function WP(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function Wl(t){return P5(t)}function y1(t){return{toString:t}.toString()}function xte(t){return typeof t=="function"}function S7(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var mw=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},kw=(()=>{let t=()=>C7;return t.ngInherit=!0,t})();function C7(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ste),Ete}function Ete(){let t=T7(this),e=t?.current;if(e){let n=t.previous;if(n===Jc)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ste(t,e,n,r,i){let s=this.declaredInputs[r],o=T7(t)||Cte(t,{previous:Jc,current:null}),a=o.current||(o.current={}),l=o.previous,u=l[s];a[s]=new mw(u&&u.currentValue,n,l===Jc),S7(t,e,i,n)}var A7="__ngSimpleChanges__";function T7(t){return t[A7]||null}function Cte(t,e){return t[A7]=e}var GP=[];var Cr=function(t,e=null,n){for(let r=0;r<GP.length;r++){let i=GP[r];i(t,e,n)}},pr=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(pr||{});function Ate(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=C7(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Tte(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),c!=null&&(t.destroyHooks??=[]).push(n,c)}}function cw(t,e,n){I7(t,e,3,n)}function dw(t,e,n,r){(t[_n]&3)===n&&I7(t,e,n,r)}function Y3(t,e){let n=t[_n];(n&3)===e&&(n&=16383,n+=1,t[_n]=n)}function I7(t,e,n,r){let i=r!==void 0?t[Lf]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Lf]+=65536),(a<s||s==-1)&&(Ite(t,n,e,l),t[Lf]=(t[Lf]&4294901760)+l+2),l++}function YP(t,e){Cr(pr.LifecycleHookStart,t,e);let n=dn(null);try{e.call(t)}finally{dn(n),Cr(pr.LifecycleHookEnd,t,e)}}function Ite(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[_n]>>14<t[Lf]>>16&&(t[_n]&3)===e&&(t[_n]+=16384,YP(a,s)):YP(a,s)}var Vp=-1,$f=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function Dte(t){return(t.flags&8)!==0}function kte(t){return(t.flags&16)!==0}function Nte(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Rte(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Mte(t){return t===3||t===4||t===6}function Rte(t){return t.charCodeAt(0)===64}function Up(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?XP(t,n,i,null,e[++r]):XP(t,n,i,null,null))}}return t}function XP(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){i!==null&&(t[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i)}function D7(t){return t!==Vp}function gw(t){return t&32767}function Pte(t){return t>>16}function vw(t,e){let n=Pte(t),r=e;for(;n>0;)r=r[Pf],n--;return r}var sA=!0;function yw(t){let e=sA;return sA=t,e}var Lte=256,k7=Lte-1,N7=5,Fte=0,Gl={};function Ote(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mf)&&(r=n[Mf]),r==null&&(r=n[Mf]=Fte++);let i=r&k7,s=1<<i;e.data[t+(i>>N7)]|=s}function bw(t,e){let n=M7(t,e);if(n!==-1)return n;let r=e[fn];r.firstCreatePass&&(t.injectorIndex=e.length,X3(r.data,t),X3(e,null),X3(r.blueprint,null));let i=BA(t,e),s=t.injectorIndex;if(D7(i)){let o=gw(i),a=vw(i,e),l=a[fn].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function X3(t,e){t.push(0,0,0,0,0,0,0,0,e)}function M7(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function BA(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=O7(i),r===null)return Vp;if(n++,i=i[Pf],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Vp}function oA(t,e,n){Ote(t,e,n)}function R7(t,e,n){if(n&8||t!==void 0)return t;$2(e,"NodeInjector")}function P7(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Ru],s=Js(void 0);try{return i?i.get(e,r,n&8):h3(e,r,n&8)}finally{Js(s)}}return R7(r,e,n)}function L7(t,e,n,r=0,i){if(t!==null){if(e[_n]&2048&&!(r&2)){let o=jte(t,e,n,r,Gl);if(o!==Gl)return o}let s=F7(t,e,n,r,Gl);if(s!==Gl)return s}return P7(e,n,r,i)}function F7(t,e,n,r,i){let s=Vte(n);if(typeof s=="function"){if(!j3(e,t,r))return r&1?R7(i,n,r):P7(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&8))$2(n);else return o}finally{H3()}}else if(typeof s=="number"){let o=null,a=M7(t,e),l=Vp,u=r&1?e[Xo][ba]:null;for((a===-1||r&4)&&(l=a===-1?BA(t,e):e[a+8],l===Vp||!ZP(r,!1)?a=-1:(o=e[fn],a=gw(l),e=vw(l,e)));a!==-1;){let c=e[fn];if(KP(s,a,c.data)){let d=Bte(a,e,n,o,r,u);if(d!==Gl)return d}l=e[a+8],l!==Vp&&ZP(r,e[fn].data[a+8]===u)&&KP(s,a,e)?(o=c,a=gw(l),e=vw(l,e)):a=-1}}return i}function Bte(t,e,n,r,i,s){let o=e[fn],a=o.data[t+8],l=r==null?td(a)&&sA:r!=o&&(a.type&3)!==0,u=i&1&&s===a,c=fw(a,o,n,l,u);return c!==null?c1(e,o,c,a,i):Gl}function fw(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,u=t.directiveEnd,c=s>>20,d=r?a:a+c,f=i?a+c:u;for(let h=d;h<f;h++){let p=o[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){let h=o[l];if(h&&$l(h)&&h.type===n)return l}return null}function c1(t,e,n,r,i){let s=t[n],o=e.data;if(s instanceof $f){let a=s;if(a.resolving)throw f3("");let l=yw(a.canSeeViewProviders);a.resolving=!0;let u=o[n].type||o[n],c,d=a.injectImpl?Js(a.injectImpl):null,f=j3(t,r,0);try{s=t[n]=a.factory(void 0,i,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Ate(n,o[n],e)}finally{d!==null&&Js(d),yw(l),a.resolving=!1,H3()}}return s}function Vte(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Mf)?t[Mf]:void 0;return typeof e=="number"?e>=0?e&k7:Ute:e}function KP(t,e,n){let r=1<<t;return!!(n[e+(t>>N7)]&r)}function ZP(t,e){return!(t&2)&&!(t&1&&e)}var Hf=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return L7(this._tNode,this._lView,e,Df(r),n)}};function Ute(){return new Hf(Is(),Nn())}function b1(t){return y1(()=>{let e=t.prototype.constructor,n=e[W0]||aA(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[W0]||aA(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function aA(t){return s3(t)?()=>{let e=aA(hs(t));return e&&e()}:Wc(t)}function jte(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[_n]&2048&&!Pp(o);){let a=F7(s,o,n,r|2,Gl);if(a!==Gl)return a;let l=s.parent;if(!l){let u=o[x3];if(u){let c=u.get(n,Gl,r);if(c!==Gl)return c}l=O7(o),o=o[Pf]}s=l}return i}function O7(t){let e=t[fn],n=e.type;return n===2?e.declTNode:n===1?t[ba]:null}function Hte(){return qp(Is(),Nn())}function qp(t,e){return new Qa(ql(t,e))}var Qa=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Hte}return t})();function $te(t){return t instanceof Qa?t.nativeElement:t}function qte(){return this._results[Symbol.iterator]()}var ww=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new $a}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=sP(e);(this._changesDetected=!iP(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=qte};function B7(t){return(t.flags&128)===128}var VA=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(VA||{}),V7=new Map,zte=0;function Wte(){return zte++}function Gte(t){V7.set(t[Pu],t)}function lA(t){V7.delete(t[Pu])}var JP="__ngContext__";function jp(t,e){Hl(e)?(t[JP]=e[Pu],Gte(e)):t[JP]=e}function U7(t){return H7(t[Rp])}function j7(t){return H7(t[ya])}function H7(t){for(;t!==null&&!Wa(t);)t=t[ya];return t}var uA;function UA(t){uA=t}function $7(){if(uA!==void 0)return uA;if(typeof document<"u")return document;throw new vn(210,!1)}var Nw=new Ln("",{factory:()=>Yte}),Yte="ng";var Mw=new Ln(""),w1=new Ln("",{providedIn:"platform",factory:()=>"unknown"});var Rw=new Ln("",{factory:()=>rn(Ya).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var q7="r";var z7="di";var W7=!1,G7=new Ln("",{factory:()=>W7});var Xte=(t,e,n,r)=>{};function Kte(t,e,n,r){Xte(t,e,n,r)}function jA(t){return(t.flags&32)===32}var Zte=()=>null;function Y7(t,e,n=!1){return Zte(t,e,n)}function X7(t,e){let n=t.contentQueries;if(n!==null){let r=dn(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];ew(s),a.contentQueries(2,e[o],o)}}}finally{dn(r)}}}function cA(t,e,n){ew(0);let r=dn(null);try{e(t,n)}finally{dn(r)}}function K7(t,e,n){if(S3(e)){let r=dn(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{dn(r)}}}var Za=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Za||{});var ow;function Jte(){if(ow===void 0&&(ow=null,qa.trustedTypes))try{ow=qa.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ow}function Pw(t){return Jte()?.createHTML(t)||t}var aw;function Qte(){if(aw===void 0&&(aw=null,qa.trustedTypes))try{aw=qa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return aw}function QP(t){return Qte()?.createHTML(t)||t}var _w=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${B2})`}};function Lw(t){return t instanceof _w?t.changingThisBreaksApplicationSecurity:t}function Z7(t,e){let n=J7(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${B2})`)}return n===e}function J7(t){return t instanceof _w&&t.getTypeName()||null}function ene(t){let e=new fA(t);return tne()?new dA(e):e}var dA=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Pw(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},fA=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Pw(e),n}};function tne(){try{return!!new window.DOMParser().parseFromString(Pw(""),"text/html")}catch{return!1}}var nne=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Q7(t){return t=String(t),t.match(nne)?t:"unsafe:"+t}function Fu(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function _1(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var eL=Fu("area,br,col,hr,img,wbr"),tL=Fu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nL=Fu("rp,rt"),rne=_1(nL,tL),ine=_1(tL,Fu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sne=_1(nL,Fu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),e7=_1(eL,ine,sne,rne),rL=Fu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),one=Fu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ane=Fu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),lne=_1(rL,one,ane),une=Fu("script,style,template"),hA=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=fne(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=dne(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=t7(e).toLowerCase();if(!e7.hasOwnProperty(n))return this.sanitizedSomething=!0,!une.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!lne.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;rL[a]&&(l=Q7(l)),this.buf.push(" ",o,'="',n7(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=t7(e).toLowerCase();e7.hasOwnProperty(n)&&!eL.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(n7(e))}};function cne(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function dne(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw iL(e);return e}function fne(t){let e=t.firstChild;if(e&&cne(t,e))throw iL(e);return e}function t7(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function iL(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var hne=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pne=/([^\#-~ |!])/g;function n7(t){return t.replace(/&/g,"&amp;").replace(hne,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(pne,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var lw;function sL(t,e){let n=null;try{lw=lw||ene(t);let r=e?String(e):"";n=lw.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=lw.getInertBodyElement(r)}while(r!==s);let a=new hA().sanitizeChildren(r7(n)||n);return Pw(a)}finally{if(n){let r=r7(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function r7(t){return"content"in t&&mne(t)?t.content:null}function mne(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}function gne(t,e){return t.createText(e)}function vne(t,e,n){t.setValue(e,n)}function oL(t,e,n){return t.createElement(e,n)}function xw(t,e,n,r,i){t.insertBefore(e,n,r,i)}function aL(t,e,n){t.appendChild(e,n)}function i7(t,e,n,r,i){r!==null?xw(t,e,n,r,i):aL(t,e,n)}function lL(t,e,n,r){t.removeChild(null,e,n,r)}function yne(t,e,n){t.setAttribute(e,"style",n)}function bne(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function uL(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Nte(t,e,r),i!==null&&bne(t,e,i),s!==null&&yne(t,e,s)}var HA=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(HA||{});function zp(t){let e=wne();return e?QP(e.sanitize(HA.HTML,t)||""):Z7(t,"HTML")?QP(Lw(t)):sL($7(),Zc(t))}function wne(){let t=Nn();return t&&t[Ul].sanitizer}function _ne(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var cL="ng-template";function xne(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&_ne(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if($A(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function $A(t){return t.type===4&&t.value!==cL}function Ene(t,e,n){let r=t.type===4&&!n?cL:t.value;return e===r}function Sne(t,e,n){let r=4,i=t.attrs,s=i!==null?Tne(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Xa(r)&&!Xa(l))return!1;if(o&&Xa(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!Ene(t,l,n)||l===""&&e.length===1){if(Xa(r))return!1;o=!0}}else if(r&8){if(i===null||!xne(t,i,l,n)){if(Xa(r))return!1;o=!0}}else{let u=e[++a],c=Cne(l,i,$A(t),n);if(c===-1){if(Xa(r))return!1;o=!0;continue}if(u!==""){let d;if(c>s?d="":d=i[c+1].toLowerCase(),r&2&&u!==d){if(Xa(r))return!1;o=!0}}}}return Xa(r)||o}function Xa(t){return(t&1)===0}function Cne(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Ine(e,t)}function Ane(t,e,n=!1){for(let r=0;r<e.length;r++)if(Sne(t,e[r],n))return!0;return!1}function Tne(t){for(let e=0;e<t.length;e++){let n=t[e];if(Mte(n))return e}return t.length}function Ine(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function s7(t,e){return t?":not("+e.trim()+")":e}function Dne(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Xa(o)&&(e+=s7(s,i),i=""),r=o,s=s||!Xa(r);n++}return i!==""&&(e+=s7(s,i)),e}function kne(t){return t.map(Dne).join(",")}function Nne(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Xa(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var Ds={};function qA(t,e,n,r,i,s,o,a,l,u,c){let d=_i+r,f=d+i,h=Mne(d,f),p=typeof u=="function"?u():u;return h[fn]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}function Mne(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ds);return n}function Rne(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=qA(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function zA(t,e,n,r,i,s,o,a,l,u,c){let d=e.blueprint.slice();return d[za]=i,d[_n]=r|4|128|8|64|1024,(u!==null||t&&t[_n]&2048)&&(d[_n]|=2048),T3(d),d[ji]=d[Pf]=t,d[wi]=n,d[Ul]=o||t&&t[Ul],d[Qr]=a||t&&t[Qr],d[Ru]=l||t&&t[Ru]||null,d[ba]=s,d[Pu]=Wte(),d[Np]=c,d[x3]=u,d[Xo]=e.type==2?t[Xo]:d,d}function Pne(t,e,n){let r=ql(e,t),i=Rne(n),s=t[Ul].rendererFactory,o=WA(t,zA(t,i,null,dL(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function dL(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function fL(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function WA(t,e){return t[Rp]?t[_3][ya]=e:t[Rp]=e,t[_3]=e,e}function je(t=1){hL(Hi(),Nn(),Ga()+t,!1)}function hL(t,e,n,r){if(!r)if((e[_n]&3)===3){let s=t.preOrderCheckHooks;s!==null&&cw(e,s,n)}else{let s=t.preOrderHooks;s!==null&&dw(e,s,0,n)}nd(n)}var Fw=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Fw||{});function pA(t,e,n,r){let i=dn(null);try{let[s,o,a]=t.inputs[n],l=null;(o&Fw.SignalBased)!==0&&(l=e[s][Ks]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,s):S7(e,l,s,r)}finally{dn(i)}}var Yl=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Yl||{}),Lne;function GA(t,e){return Lne(t,e)}var qf=new Set,Ow=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Ow||{}),Gf=new Ln(""),o7=new Set;function sd(t){o7.has(t)||(o7.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var YA=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ur({token:t,providedIn:"root",factory:()=>new t})}return t})(),pL=[0,1,2,3],mL=(()=>{class t{ngZone=rn(Yo);scheduler=rn(Xc);errorHandler=rn(Vl,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){rn(Gf,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Cr(pr.AfterRenderHooksStart),this.executing=!0;for(let r of pL)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Cr(pr.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Ff]??=[]).push(n),Uf(r),r[_n]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Ow.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Ur({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ew=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,s,o=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ff];e&&(this.view[Ff]=e.filter(n=>n!==this))}};function XA(t,e){let n=e?.injector??rn(Bl);return sd("NgAfterNextRender"),One(t,n,e,!0)}function Fne(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function One(t,e,n,r){let i=e.get(YA);i.impl??=e.get(mL);let s=e.get(Gf,null,{optional:!0}),o=n?.manualCleanup!==!0?e.get(rd):null,a=e.get(s1,null,{optional:!0}),l=new Ew(i.impl,Fne(t),a?.view,r,o,s?.snapshot(null));return i.impl.register(l),l}var gL=new Ln("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:rn(va)})});function vL(t,e,n){let r=t.get(gL);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function Bne(t,e){let n=t.get(gL);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function Vne(t,e){for(let[n,r]of e)vL(t,r.animateFns)}function a7(t,e,n,r){let i=t?.[Of]?.enter;e!==null&&i&&i.has(n.index)&&Vne(r,i)}function Bp(t,e,n,r,i,s,o,a){if(i!=null){let l,u=!1;Wa(i)?l=i:Hl(i)&&(u=!0,i=i[za]);let c=wa(i);t===0&&r!==null?(a7(a,r,s,n),o==null?aL(e,r,c):xw(e,r,c,o||null,!0)):t===1&&r!==null?(a7(a,r,s,n),xw(e,r,c,o||null,!0)):t===2?l7(a,s,n,d=>{lL(e,c,u,d)}):t===3&&l7(a,s,n,()=>{e.destroyNode(c)}),l!=null&&Jne(e,t,n,l,s,r,o)}}function Une(t,e){yL(t,e),e[za]=null,e[ba]=null}function jne(t,e,n,r,i,s){r[za]=i,r[ba]=e,Vw(t,r,n,1,i,s)}function yL(t,e){e[Ul].changeDetectionScheduler?.notify(9),Vw(t,e,e[Qr],2,null,null)}function Hne(t){let e=t[Rp];if(!e)return K3(t[fn],t);for(;e;){let n=null;if(Hl(e))n=e[Rp];else{let r=e[li];r&&(n=r)}if(!n){for(;e&&!e[ya]&&e!==t;)Hl(e)&&K3(e[fn],e),e=e[ji];e===null&&(e=t),Hl(e)&&K3(e[fn],e),n=e&&e[ya]}e=n}}function KA(t,e){let n=t[Bf],r=n.indexOf(e);n.splice(r,1)}function Bw(t,e){if(Vf(e))return;let n=e[Qr];n.destroyNode&&Vw(t,e,n,3,null,null),Hne(e)}function K3(t,e){if(Vf(e))return;let n=dn(null);try{e[_n]&=-129,e[_n]|=256,e[Ko]&&Ef(e[Ko]),zne(t,e),qne(t,e),e[fn].type===1&&e[Qr].destroy();let r=e[Qc];if(r!==null&&Wa(e[ji])){r!==e[ji]&&KA(r,e);let i=e[jl];i!==null&&i.detachView(t)}lA(e)}finally{dn(n)}}function l7(t,e,n,r){let i=t?.[Of];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&qf.add(t[Pu]),vL(n,()=>{if(i.leave&&i.leave.has(e.index)){let o=i.leave.get(e.index),a=[];if(o){for(let l=0;l<o.animateFns.length;l++){let u=o.animateFns[l],{promise:c}=u();a.push(c)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),$ne(t,r)}else t&&qf.delete(t[Pu]),r(!1)},i)}function $ne(t,e){let n=t[Of]?.running;if(n){n.then(()=>{t[Of].running=void 0,qf.delete(t[Pu]),e(!0)});return}e(!1)}function qne(t,e){let n=t.cleanup,r=e[Mp];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[n[o+1]];n[o].call(a)}r!==null&&(e[Mp]=null);let i=e[Nu];if(i!==null){e[Nu]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Gc];if(s!==null){e[Gc]=null;for(let o of s)o.destroy()}}function zne(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof $f)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];Cr(pr.LifecycleHookStart,a,l);try{l.call(a)}finally{Cr(pr.LifecycleHookEnd,a,l)}}else{Cr(pr.LifecycleHookStart,i,s);try{s.call(i)}finally{Cr(pr.LifecycleHookEnd,i,s)}}}}}function Wne(t,e,n){return Gne(t,e.parent,n)}function Gne(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[za];if(td(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Za.None||i===Za.Emulated)return null}return ql(r,n)}function Yne(t,e,n){return Kne(t,e,n)}function Xne(t,e,n){return t.type&40?ql(t,n):null}var Kne=Xne,u7;function ZA(t,e,n,r){let i=Wne(t,r,e),s=e[Qr],o=r.parent||e[ba],a=Yne(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)i7(s,i,n[l],a,!1);else i7(s,i,n,a,!1);u7!==void 0&&u7(s,r,e,n,i)}function l1(t,e){if(e!==null){let n=e.type;if(n&3)return ql(e,t);if(n&4)return mA(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return l1(t,r);{let i=t[e.index];return Wa(i)?mA(-1,i):wa(i)}}else{if(n&128)return l1(t,e.next);if(n&32)return GA(e,t)()||wa(t[e.index]);{let r=bL(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yc(t[Xo]);return l1(i,r)}else return l1(t,e.next)}}}return null}function bL(t,e){if(e!==null){let r=t[Xo][ba],i=e.projection;return r.projection[i]}return null}function mA(t,e){let n=li+t+1;if(n<e.length){let r=e[n],i=r[fn].firstChild;if(i!==null)return l1(r,i)}return e[ed]}function JA(t,e,n,r,i,s,o){for(;n!=null;){let a=r[Ru];if(n.type===128){n=n.next;continue}let l=r[n.index],u=n.type;if(o&&e===0&&(l&&jp(wa(l),r),n.flags|=2),!jA(n))if(u&8)JA(t,e,n.child,r,i,s,!1),Bp(e,t,a,i,l,n,s,r);else if(u&32){let c=GA(n,r),d;for(;d=c();)Bp(e,t,a,i,d,n,s,r);Bp(e,t,a,i,l,n,s,r)}else u&16?Zne(t,e,r,n,i,s):Bp(e,t,a,i,l,n,s,r);n=o?n.projectionNext:n.next}}function Vw(t,e,n,r,i,s){JA(n,r,t.firstChild,e,i,s,!1)}function Zne(t,e,n,r,i,s){let o=n[Xo],l=o[ba].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let c=l[u];Bp(e,t,n[Ru],i,c,r,s,n)}else{let u=l,c=o[ji];B7(r)&&(u.flags|=128),JA(t,e,u,c,i,s,!0)}}function Jne(t,e,n,r,i,s,o){let a=r[ed],l=wa(r);a!==l&&Bp(e,t,n,s,a,i,o);for(let u=li;u<r.length;u++){let c=r[u];Vw(c[fn],c,t,e,s,a)}}function Qne(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Yl.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Yl.Important),t.setStyle(n,r,i,s))}}function wL(t,e,n,r,i){let s=Ga(),o=r&2;try{nd(-1),o&&e.length>_i&&hL(t,e,_i,!1);let a=o?pr.TemplateUpdateStart:pr.TemplateCreateStart;Cr(a,i,n),n(r,i)}finally{nd(s);let a=o?pr.TemplateUpdateEnd:pr.TemplateCreateEnd;Cr(a,i,n)}}function _L(t,e,n){ore(t,e,n),(n.flags&64)===64&&are(t,e,n)}function QA(t,e,n=ql){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function ere(t,e,n,r){let s=r.get(G7,W7)||n===Za.ShadowDom||n===Za.ExperimentalIsolatedShadowDom,o=t.selectRootElement(e,s);return tre(o),o}function tre(t){nre(t)}var nre=()=>null;function rre(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function xL(t,e,n,r,i,s){let o=e[fn];if(eT(t,o,e,n,r)){td(t)&&sre(e,t.index);return}t.type&3&&(n=rre(n)),ire(t,e,n,r,i,s)}function ire(t,e,n,r,i,s){if(t.type&3){let o=ql(t,e);r=s!=null?s(r,t.value||"",n):r,i.setProperty(o,n,r)}else t.type&12}function sre(t,e){let n=_a(e,t);n[_n]&16||(n[_n]|=64)}function ore(t,e,n){let r=n.directiveStart,i=n.directiveEnd;td(n)&&Pne(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||bw(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let a=t.data[o],l=c1(e,t,o,n);if(jp(l,e),s!==null&&cre(e,o-r,l,a,n,s),$l(a)){let u=_a(n.index,e);u[wi]=c1(e,t,o,n)}}}function are(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=kP();try{nd(s);for(let a=r;a<i;a++){let l=t.data[a],u=e[a];Q2(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&lre(l,u)}}finally{nd(-1),Q2(o)}}function lre(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ure(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];Ane(e,s.selectors,!1)&&(r??=[],$l(s)?r.unshift(s):r.push(s))}return r}function cre(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let l=o[a],u=o[a+1];pA(r,n,l,u)}}function EL(t,e,n,r,i){let s=_i+n,o=e[fn],a=i(o,e,t,r,n);e[s]=a,Lp(t,!0);let l=t.type===2;return l?(uL(e[Qr],a,t),(wP()===0||X2(t))&&jp(a,e),_P()):jp(a,e),rw()&&(!l||!jA(t))&&ZA(o,e,a,t),t}function SL(t){let e=t;return F3()?CP():(e=e.parent,Lp(e,!1)),e}function dre(t,e){let n=t[Ru];if(!n)return;let r;try{r=n.get(jf,null)}catch{r=null}r?.(e)}function eT(t,e,n,r,i){let s=t.inputs?.[r],o=t.hostDirectiveInputs?.[r],a=!1;if(o)for(let l=0;l<o.length;l+=2){let u=o[l],c=o[l+1],d=e.data[u];pA(d,n[u],c,i),a=!0}if(s)for(let l of s){let u=n[l],c=e.data[l];pA(c,u,r,i),a=!0}return a}function fre(t,e){let n=_a(e,t),r=n[fn];hre(r,n);let i=n[za];i!==null&&n[Np]===null&&(n[Np]=Y7(i,n[Ru])),Cr(pr.ComponentStart);try{tT(r,n,n[wi])}finally{Cr(pr.ComponentEnd,n[wi])}}function hre(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function tT(t,e,n){tw(e);try{let r=t.viewQuery;r!==null&&cA(1,r,n);let i=t.template;i!==null&&wL(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[jl]?.finishViewCreation(t),t.staticContentQueries&&X7(t,e),t.staticViewQueries&&cA(2,t.viewQuery,n);let s=t.components;s!==null&&pre(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[_n]&=-5,nw()}}function pre(t,e){for(let n=0;n<e.length;n++)fre(t,e[n])}function Uw(t,e,n,r){let i=dn(null);try{let s=e.tView,a=t[_n]&4096?4096:16,l=zA(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[Qc]=u;let c=t[jl];return c!==null&&(l[jl]=c.createEmbeddedView(s)),tT(s,l,n),l}finally{dn(i)}}function d1(t,e){return!e||e.firstChild===null||B7(t)}function f1(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(wa(s)),Wa(s)&&CL(s,r);let o=n.type;if(o&8)f1(t,e,n.child,r);else if(o&32){let a=GA(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=bL(e,n);if(Array.isArray(a))r.push(...a);else{let l=Yc(e[Xo]);f1(l[fn],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function CL(t,e){for(let n=li;n<t.length;n++){let r=t[n],i=r[fn].firstChild;i!==null&&f1(r[fn],r,i,e)}t[ed]!==t[za]&&e.push(t[ed])}function AL(t){if(t[Ff]!==null){for(let e of t[Ff])e.impl.addSequence(e);t[Ff].length=0}}var TL=[];function mre(t){return t[Ko]??gre(t)}function gre(t){let e=TL.pop()??Object.create(yre);return e.lView=t,e}function vre(t){t.lView[Ko]!==t&&(t.lView=null,TL.push(t))}var yre=qt(Ne({},bp),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Uf(t.lView)},consumerOnSignalRead(){this.lView[Ko]=this}});function bre(t){let e=t[Ko]??Object.create(wre);return e.lView=t,e}var wre=qt(Ne({},bp),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Yc(t.lView);for(;e&&!IL(e[fn]);)e=Yc(e);e&&I3(e)},consumerOnSignalRead(){this.lView[Ko]=this}});function IL(t){return t.type!==2}function DL(t){if(t[Gc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Gc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[_n]&8192)}}var _re=100;function kL(t,e=0){let r=t[Ul].rendererFactory,i=!1;i||r.begin?.();try{xre(t,e)}finally{i||r.end?.()}}function xre(t,e){let n=O3();try{Y0(!0),gA(t,e);let r=0;for(;r1(t);){if(r===_re)throw new vn(103,!1);r++,gA(t,1)}}finally{Y0(n)}}function Ere(t,e,n,r){if(Vf(e))return;let i=e[_n],s=!1,o=!1;tw(e);let a=!0,l=null,u=null;s||(IL(t)?(u=mre(e),l=wp(u)):c2()===null?(a=!1,u=bre(e),l=wp(u)):e[Ko]&&(Ef(e[Ko]),e[Ko]=null));try{T3(e),TP(t.bindingStartIndex),n!==null&&wL(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let h=t.preOrderCheckHooks;h!==null&&cw(e,h,null)}else{let h=t.preOrderHooks;h!==null&&dw(e,h,0,null),Y3(e,0)}if(o||Sre(e),DL(e),NL(e,0),t.contentQueries!==null&&X7(t,e),!s)if(c){let h=t.contentCheckHooks;h!==null&&cw(e,h)}else{let h=t.contentHooks;h!==null&&dw(e,h,1),Y3(e,1)}Are(t,e);let d=t.components;d!==null&&RL(e,d,0);let f=t.viewQuery;if(f!==null&&cA(2,f,r),!s)if(c){let h=t.viewCheckHooks;h!==null&&cw(e,h)}else{let h=t.viewHooks;h!==null&&dw(e,h,2),Y3(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Y2]){for(let h of e[Y2])h();e[Y2]=null}s||(AL(e),e[_n]&=-73)}catch(c){throw s||Uf(e),c}finally{u!==null&&(U0(u,l),a&&vre(u)),nw()}}function NL(t,e){for(let n=U7(t);n!==null;n=j7(n))for(let r=li;r<n.length;r++){let i=n[r];ML(i,e)}}function Sre(t){for(let e=U7(t);e!==null;e=j7(e)){if(!(e[_n]&2))continue;let n=e[Bf];for(let r=0;r<n.length;r++){let i=n[r];I3(i)}}}function Cre(t,e,n){Cr(pr.ComponentStart);let r=_a(e,t);try{ML(r,n)}finally{Cr(pr.ComponentEnd,r[wi])}}function ML(t,e){Z2(t)&&gA(t,e)}function gA(t,e){let r=t[fn],i=t[_n],s=t[Ko],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&j0(s)),o||=!1,s&&(s.dirty=!1),t[_n]&=-9217,o)Ere(r,t,r.template,t[wi]);else if(i&8192){let a=dn(null);try{DL(t),NL(t,1);let l=r.components;l!==null&&RL(t,l,1),AL(t)}finally{dn(a)}}}function RL(t,e,n){for(let r=0;r<e.length;r++)Cre(t,e[r],n)}function Are(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)nd(~i);else{let s=i,o=n[++r],a=n[++r];DP(o,s);let l=e[s];Cr(pr.HostBindingsUpdateStart,l);try{a(2,l)}finally{Cr(pr.HostBindingsUpdateEnd,l)}}}}finally{nd(-1)}}function nT(t,e){let n=O3()?64:1088;for(t[Ul].changeDetectionScheduler?.notify(e);t;){t[_n]|=n;let r=Yc(t);if(Pp(t)&&!r)return t;t=r}return null}function PL(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function LL(t,e){let n=li+e;if(n<t.length)return t[n]}function jw(t,e,n,r=!0){let i=e[fn];if(Tre(i,e,t,n),r){let o=mA(n,t),a=e[Qr],l=a.parentNode(t[ed]);l!==null&&jne(i,t[ba],a,e,l,o)}let s=e[Np];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function FL(t,e){let n=h1(t,e);return n!==void 0&&Bw(n[fn],n),n}function h1(t,e){if(t.length<=li)return;let n=li+e,r=t[n];if(r){let i=r[Qc];i!==null&&i!==t&&KA(i,r),e>0&&(t[n-1][ya]=r[ya]);let s=Z0(t,li+e);Une(r[fn],r);let o=s[jl];o!==null&&o.detachView(s[fn]),r[ji]=null,r[ya]=null,r[_n]&=-129}return r}function Tre(t,e,n,r){let i=li+r,s=n.length;r>0&&(n[i-1][ya]=e),r<s-li?(e[ya]=n[i],p3(n,li+r,e)):(n.push(e),e[ya]=null),e[ji]=n;let o=e[Qc];o!==null&&n!==o&&OL(o,e);let a=e[jl];a!==null&&a.insertView(t),J2(e),e[_n]|=128}function OL(t,e){let n=t[Bf],r=e[ji];if(Hl(r))t[_n]|=2;else{let i=r[ji][Xo];e[Xo]!==i&&(t[_n]|=2)}n===null?t[Bf]=[e]:n.push(e)}var id=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[fn];return f1(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[wi]}set context(e){this._lView[wi]=e}get destroyed(){return Vf(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ji];if(Wa(e)){let n=e[t1],r=n?n.indexOf(this):-1;r>-1&&(h1(e,r),Z0(n,r))}this._attachedToViewContainer=!1}Bw(this._lView[fn],this._lView)}onDestroy(e){D3(this._lView,e)}markForCheck(){nT(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[_n]&=-129}reattach(){J2(this._lView),this._lView[_n]|=128}detectChanges(){this._lView[_n]|=1024,kL(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new vn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Pp(this._lView),n=this._lView[Qc];n!==null&&!e&&KA(n,this._lView),yL(this._lView[fn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new vn(902,!1);this._appRef=e;let n=Pp(this._lView),r=this._lView[Qc];r!==null&&!n&&OL(r,this._lView),J2(this._lView)}};var Hp=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Ire;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let s=Uw(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new id(s)}}return t})();function Ire(){return rT(Is(),Nn())}function rT(t,e){return t.type&4?new Hp(e,t,qp(t,e)):null}function Hw(t,e,n,r,i){let s=t.data[e];if(s===null)s=Dre(t,e,n,r,i),IP()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=SP();s.injectorIndex=o===null?-1:o.injectorIndex}return Lp(s,!0),s}function Dre(t,e,n,r,i){let s=L3(),o=F3(),a=o?s:s&&s.parent,l=t.data[e]=Nre(t,a,n,e,r,i);return kre(t,l,s,o),l}function kre(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Nre(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return EP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Mre(t){let e=t[E3]??[],r=t[ji][Qr],i=[];for(let s of e)s.data[z7]!==void 0?i.push(s):Rre(s,r);t[E3]=i}function Rre(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[q7];for(;n<i;){let s=r.nextSibling;lL(e,r,!1),r=s,n++}}}var Pre=()=>null,Lre=()=>null;function vA(t,e){return Pre(t,e)}function BL(t,e,n){return Lre(t,e,n)}var VL=class{},$w=class{},yA=class{resolveComponentFactory(e){throw new vn(917,!1)}},qw=class{static NULL=new yA},zf=class{},Yf=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Fre()}return t})();function Fre(){let t=Nn(),e=Is(),n=_a(e.index,t);return(Hl(n)?n:t)[Qr]}var UL=(()=>{class t{static \u0275prov=Ur({token:t,providedIn:"root",factory:()=>null})}return t})();var hw={},bA=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,hw,r);return i!==hw||n===hw?i:this.parentInjector.get(e,n,r)}};function Sw(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=U2(i,a);else if(s==2){let l=a,u=e[++o];r=U2(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ar(t,e=0){let n=Nn();if(n===null)return Mr(t,e);let r=Is();return L7(r,n,hs(t),e)}function Ore(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let a=o,l=null,u=null;for(let c of o)if(c.resolveHostDirectives!==null){[a,l,u]=c.resolveHostDirectives(o);break}Ure(t,e,n,a,s,l,u)}s!==null&&r!==null&&Bre(n,r,s)}function Bre(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new vn(-301,!1);r.push(e[i],s)}}function Vre(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ure(t,e,n,r,i,s,o){let a=r.length,l=null;for(let f=0;f<a;f++){let h=r[f];l===null&&$l(h)&&(l=h,Vre(t,n,f)),oA(bw(n,e),t,h.type)}Wre(n,t.data.length,a),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let u=!1,c=!1,d=fL(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=Up(n.mergedAttrs,h.hostAttrs),Hre(t,n,e,d,h),zre(d,h,i),o!==null&&o.has(h)){let[m,g]=o.get(h);n.directiveToIndex.set(h.type,[d,m+n.directiveStart,g+n.directiveStart])}else(s===null||!s.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),d++}jre(t,n,s)}function jre(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))c7(0,e,i,r),c7(1,e,i,r),f7(e,r,!1);else{let s=n.get(i);d7(0,e,s,r),d7(1,e,s,r),f7(e,r,!0)}}}function c7(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),jL(e,s)}}function d7(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),jL(e,o)}}function jL(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function f7(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=t;if(r===null||!n&&i===null||n&&s===null||$A(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let u=i[l];for(let c of u)if(c===e){o??=[],o.push(l,r[a+1]);break}}else if(n&&s.hasOwnProperty(l)){let u=s[l];for(let c=0;c<u.length;c+=2)if(u[c]===e){o??=[],o.push(u[c+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(o)}function Hre(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Wc(i.type,!0)),o=new $f(s,$l(i),Ar,null);t.blueprint[r]=o,n[r]=o,$re(t,e,r,fL(t,n,i.hostVars,Ds),i)}function $re(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;qre(o)!=a&&o.push(a),o.push(n,r,s)}}function qre(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zre(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$l(e)&&(n[""]=t)}}function Wre(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function HL(t,e,n,r,i,s,o,a){let l=e[fn],u=l.consts,c=zl(u,o),d=Hw(l,t,n,r,c);return s&&Ore(l,e,d,zl(u,a),i),d.mergedAttrs=Up(d.mergedAttrs,d.attrs),d.attrs!==null&&Sw(d,d.attrs,!1),d.mergedAttrs!==null&&Sw(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function $L(t,e){Tte(t,e),S3(e)&&t.queries.elementEnd(e)}function Gre(t,e,n,r,i,s){let o=e.consts,a=zl(o,i),l=Hw(e,t,n,r,a);if(l.mergedAttrs=Up(l.mergedAttrs,l.attrs),s!=null){let u=zl(o,s);l.localNames=[];for(let c=0;c<u.length;c+=2)l.localNames.push(u[c],-1)}return l.attrs!==null&&Sw(l,l.attrs,!1),l.mergedAttrs!==null&&Sw(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function qL(t,e,n){return t[e]=n}function Ja(t,e,n){if(n===Ds)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function iT(t,e,n,r){let i=Ja(t,e,n);return Ja(t,e+1,r)||i}function Yre(t,e,n,r,i){let s=iT(t,e,n,r);return Ja(t,e+2,i)||s}function pw(t,e,n){return function r(i){let s=td(t)?_a(t.index,e):e;nT(s,5);let o=e[wi],a=h7(e,o,n,i),l=r.__ngNextListenerFn__;for(;l;)a=h7(e,o,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function h7(t,e,n,r){let i=dn(null);try{return Cr(pr.OutputStart,e,n),n(r)!==!1}catch(s){return dre(t,s),!1}finally{Cr(pr.OutputEnd,e,n),dn(i)}}function zL(t,e,n,r,i,s,o,a){let l=X2(t),u=!1,c=null;if(!r&&l&&(c=Kre(e,n,s,t.index)),c!==null){let d=c.__ngLastListenerFn__||c;d.__ngNextListenerFn__=o,c.__ngLastListenerFn__=o,u=!0}else{let d=ql(t,n),f=r?r(d):d;Kte(n,f,s,a);let h=i.listen(f,s,a);if(!Xre(s)){let p=r?m=>r(wa(m[t.index])):t.index;WL(p,e,n,s,a,h,!1)}}return u}function Xre(t){return t.startsWith("animation")||t.startsWith("transition")}function Kre(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Mp],l=i[s+2];return a&&a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function WL(t,e,n,r,i,s,o){let a=e.firstCreatePass?N3(e):null,l=k3(n),u=l.length;l.push(i,s),a&&a.push(r,t,u,(u+1)*(o?-1:1))}function p7(t,e,n,r,i,s){let o=e[n],a=e[fn],u=a.data[n].outputs[r],d=o[u].subscribe(s);WL(t.index,a,e,i,s,d,!0)}var wA=Symbol("BINDING");var _A=class extends qw{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Rf(e);return new p1(n,this.ngModule)}};function Zre(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],s={propName:n,templateName:e,isSignal:(r&Fw.SignalBased)!==0};return i&&(s.transform=i),s})}function Jre(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Qre(t,e,n){let r=e instanceof va?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new bA(n,r):n}function eie(t){let e=t.get(zf,null);if(e===null)throw new vn(407,!1);let n=t.get(UL,null),r=t.get(Xc,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function tie(t,e){let n=GL(t);return oL(e,n,n==="svg"?hP:n==="math"?pP:null)}function GL(t){return(t.selectors[0][0]||"div").toLowerCase()}var p1=class extends $w{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Zre(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Jre(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=kne(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,s,o){Cr(pr.DynamicComponentStart);let a=dn(null);try{let l=this.componentDef,u=nie(r,l,o,s),c=Qre(l,i||this.ngModule,e),d=eie(c),f=d.rendererFactory.createRenderer(null,l),h=r?ere(f,r,l.encapsulation,c):tie(l,f),p=o?.some(m7)||s?.some(y=>typeof y!="function"&&y.bindings.some(m7)),m=zA(null,u,null,512|dL(l),null,null,d,f,c,null,Y7(h,c,!0));m[_i]=h,tw(m);let g=null;try{let y=HL(_i,m,2,"#host",()=>u.directiveRegistry,!0,0);uL(f,h,y),jp(h,m),_L(u,m,y),K7(u,y,m),$L(u,y),n!==void 0&&iie(y,this.ngContentSelectors,n),g=_a(y.index,m),m[wi]=g[wi],tT(u,m,null)}catch(y){throw g!==null&&lA(g),lA(m),y}finally{Cr(pr.DynamicComponentEnd),nw()}return new Cw(this.componentType,m,!!p)}finally{dn(a)}}};function nie(t,e,n,r){let i=t?["ng-version","21.1.2"]:Nne(e.selectors[0]),s=null,o=null,a=0;if(n)for(let c of n)a+=c[wA].requiredVars,c.create&&(c.targetIdx=0,(s??=[]).push(c)),c.update&&(c.targetIdx=0,(o??=[]).push(c));if(r)for(let c=0;c<r.length;c++){let d=r[c];if(typeof d!="function")for(let f of d.bindings){a+=f[wA].requiredVars;let h=c+1;f.create&&(f.targetIdx=h,(s??=[]).push(f)),f.update&&(f.targetIdx=h,(o??=[]).push(f))}}let l=[e];if(r)for(let c of r){let d=typeof c=="function"?c:c.type,f=c3(d);l.push(f)}return qA(0,null,rie(s,o),1,a,l,null,null,null,[i],null)}function rie(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function m7(t){let e=t[wA].kind;return e==="input"||e==="twoWay"}var Cw=class extends VL{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=n1(n[fn],_i),this.location=qp(this._tNode,n),this.instance=_a(this._tNode.index,n)[wi],this.hostView=this.changeDetectorRef=new id(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,s=eT(r,i[fn],i,e,n);this.previousInputValues.set(e,n);let o=_a(r.index,i);nT(o,1)}get injector(){return new Hf(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function iie(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var x1=(()=>{class t{static __NG_ELEMENT_ID__=sie}return t})();function sie(){let t=Is();return XL(t,Nn())}var oie=x1,YL=class extends oie{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qp(this._hostTNode,this._hostLView)}get injector(){return new Hf(this._hostTNode,this._hostLView)}get parentInjector(){let e=BA(this._hostTNode,this._hostLView);if(D7(e)){let n=vw(e,this._hostLView),r=gw(e),i=n[fn].data[r+8];return new Hf(i,n)}else return new Hf(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=g7(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-li}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=vA(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,d1(this._hostTNode,o)),a}createComponent(e,n,r,i,s,o,a){let l=e&&!xte(e),u;if(l)u=n;else{let g=n||{};u=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef,o=g.directives,a=g.bindings}let c=l?e:new p1(Rf(e)),d=r||this.parentInjector;if(!s&&c.ngModule==null){let y=(l?d:this.parentInjector).get(va,null);y&&(s=y)}let f=Rf(c.componentType??{}),h=vA(this._lContainer,f?.id??null),p=h?.firstChild??null,m=c.create(d,i,p,s,o,a);return this.insertImpl(m.hostView,u,d1(this._hostTNode,h)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(gP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[ji],u=new YL(l,l[ba],l[ji]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return jw(o,i,s,r),e.attachToViewContainerRef(),p3(Z3(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=g7(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=h1(this._lContainer,n);r&&(Z0(Z3(this._lContainer),n),Bw(r[fn],r))}detach(e){let n=this._adjustIndex(e,-1),r=h1(this._lContainer,n);return r&&Z0(Z3(this._lContainer),n)!=null?new id(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function g7(t){return t[t1]}function Z3(t){return t[t1]||(t[t1]=[])}function XL(t,e){let n,r=e[t.index];return Wa(r)?n=r:(n=PL(r,e,null,t),e[t.index]=n,WA(e,n)),lie(n,e,t,r),new YL(n,t,e)}function aie(t,e){let n=t[Qr],r=n.createComment(""),i=ql(e,t),s=n.parentNode(i);return xw(n,s,r,n.nextSibling(i),!1),r}var lie=die,uie=()=>!1;function cie(t,e,n){return uie(t,e,n)}function die(t,e,n,r){if(t[ed])return;let i;n.type&8?i=wa(r):i=aie(e,n),t[ed]=i}var xA=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},EA=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)sT(e,n).matches!==null&&this.queries[n].setDirty()}},SA=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=bie(e):this.predicate=e}},CA=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},AA=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,fie(n,s)),this.matchTNodeWithReadOption(e,n,fw(n,e,s,!1,!1))}else r===Hp?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,fw(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Qa||i===x1||i===Hp&&n.type&4)this.addMatch(n.index,-2);else{let s=fw(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function fie(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function hie(t,e){return t.type&11?qp(t,e):t.type&4?rT(t,e):null}function pie(t,e,n,r){return n===-1?hie(e,t):n===-2?mie(t,e,r):c1(t,t[fn],n,e)}function mie(t,e,n){if(n===Qa)return qp(e,t);if(n===Hp)return rT(e,t);if(n===x1)return XL(e,t)}function KL(t,e,n,r){let i=e[jl].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let u=o[l];if(u<0)a.push(null);else{let c=s[u];a.push(pie(e,c,o[l+1],n.metadata.read))}}i.matches=a}return i.matches}function TA(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=KL(t,e,i,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let u=s[a+1],c=e[-l];for(let d=li;d<c.length;d++){let f=c[d];f[Qc]===f[ji]&&TA(f[fn],f,u,r)}if(c[Bf]!==null){let d=c[Bf];for(let f=0;f<d.length;f++){let h=d[f];TA(h[fn],h,u,r)}}}}}return r}function gie(t,e){return t[jl].queries[e].queryList}function vie(t,e,n){let r=new ww((n&4)===4);return bP(t,e,r,r.destroy),(e[jl]??=new EA).queries.push(new xA(r))-1}function yie(t,e,n){let r=Hi();return r.firstCreatePass&&(wie(r,new SA(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),vie(r,Nn(),e)}function bie(t){return t.split(",").map(e=>e.trim())}function wie(t,e,n){t.queries===null&&(t.queries=new CA),t.queries.track(new AA(e,n))}function sT(t,e){return t.queries.getByIndex(e)}function _ie(t,e){let n=t[fn],r=sT(n,e);return r.crossesNgTemplate?TA(n,t,e,[]):KL(n,t,r,e)}var m1=class{};var g1=class extends m1{injector;componentFactoryResolver=new _A(this);instance=null;constructor(e){super();let n=new Nf([...e.providers,{provide:m1,useValue:this},{provide:qw,useValue:this.componentFactoryResolver}],e.parent||e1(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ZL(t,e,n=null){return new g1({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var xie=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=y3(!1,n.type),i=r.length>0?ZL([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ur({token:t,providedIn:"environment",factory:()=>new t(Mr(va))})}return t})();function eo(t){return y1(()=>{let e=JL(t),n=qt(Ne({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===VA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(xie).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Za.Emulated,styles:t.styles||Qs,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&sd("NgStandalone"),QL(n);let r=t.dependencies;return n.directiveDefs=v7(r,Eie),n.pipeDefs=v7(r,eP),n.id=Aie(n),n})}function Eie(t){return Rf(t)||c3(t)}function Xf(t){return y1(()=>({type:t.type,bootstrap:t.bootstrap||Qs,declarations:t.declarations||Qs,imports:t.imports||Qs,exports:t.exports||Qs,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Sie(t,e){if(t==null)return Jc;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a,l;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,a=Fw.None,l=null),n[s]=[r,a,l],e[s]=o}return n}function Cie(t){if(t==null)return Jc;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function xa(t){return y1(()=>{let e=JL(t);return QL(e),e})}function zw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function JL(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Jc,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Qs,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Sie(t.inputs,e),outputs:Cie(t.outputs),debugInfo:null}}function QL(t){t.features?.forEach(e=>e(t))}function v7(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let s=e(i);s!==null&&r.push(s)}return r}:null}function Aie(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Tie(t){return Object.getPrototypeOf(t.prototype).constructor}function Ou(t){let e=Tie(t.type),n=!0,r=[t];for(;e;){let i;if($l(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new vn(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=J3(t.inputs),o.declaredInputs=J3(t.declaredInputs),o.outputs=J3(t.outputs);let a=i.hostBindings;a&&Mie(t,a);let l=i.viewQuery,u=i.contentQueries;if(l&&kie(t,l),u&&Nie(t,u),Iie(t,i),QR(t.outputs,i.outputs),$l(i)&&i.data.animation){let c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Ou&&(n=!1)}}e=Object.getPrototypeOf(e)}Die(r)}function Iie(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Die(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Up(i.hostAttrs,n=Up(n,i.hostAttrs))}}function J3(t){return t===Jc?{}:t===Qs?[]:t}function kie(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Nie(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Mie(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Rie(t,e,n,r,i,s,o,a){if(n.firstCreatePass){t.mergedAttrs=Up(t.mergedAttrs,t.attrs);let c=t.tView=qA(2,t,i,s,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),c.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Lp(t,!1);let l=Pie(n,e,t,r);rw()&&ZA(n,e,l,t),jp(l,e);let u=PL(l,e,l,t);e[r+_i]=u,WA(e,u),cie(u,t,e)}function Aw(t,e,n,r,i,s,o,a,l,u,c){let d=n+_i,f;if(e.firstCreatePass){if(f=Hw(e,d,4,o||null,a||null),u!=null){let h=zl(e.consts,u);f.localNames=[];for(let p=0;p<h.length;p+=2)f.localNames.push(h[p],-1)}}else f=e.data[d];return Rie(f,t,e,n,r,i,s,l),u!=null&&QA(t,f,c),f}var Pie=Lie;function Lie(t,e,n,r){return iw(!0),e[Qr].createComment("")}function e9(t){return typeof t=="function"&&t[Ks]!==void 0}function oT(t){return e9(t)&&typeof t.set=="function"}var aT=new Ln("");function Wp(t){return!!t&&typeof t.then=="function"}function lT(t){return!!t&&typeof t.subscribe=="function"}var t9=new Ln("");var uT=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=rn(t9,{optional:!0})??[];injector=rn(Bl);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=G2(this.injector,i);if(Wp(s))n.push(s);else if(lT(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ur({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),n9=new Ln("");function r9(){M5(()=>{let t="";throw new vn(600,t)})}function i9(t){return t.isBoundToModule}var Fie=10;var Gp=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=rn(jf);afterRenderManager=rn(YA);zonelessEnabled=rn(o1);rootEffectScheduler=rn(sw);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new $a;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=rn(Op);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Tf(n=>!n))}constructor(){rn(Gf,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=rn(va);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Bl.NULL){return this._injector.get(Yo).run(()=>{Cr(pr.BootstrapComponentStart);let o=n instanceof $w;if(!this._injector.get(uT).done){let p="";throw new vn(405,p)}let l;o?l=n:l=this._injector.get(qw).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let u=i9(l)?void 0:this._injector.get(m1),c=r||l.selector,d=l.create(i,[],c,u),f=d.location.nativeElement,h=d.injector.get(aT,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),u1(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),Cr(pr.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Cr(pr.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ow.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Cr(pr.ChangeDetectionEnd),new vn(101,!1);let n=dn(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,dn(n),this.afterTick.next(),Cr(pr.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zf,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Fie;){Cr(pr.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Cr(pr.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!r1(i))continue;let s=r&&!this.zonelessEnabled?0:1;kL(i,s),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>r1(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;u1(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(n9,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>u1(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new vn(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ur({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function u1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var PCe=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var IA=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Q3(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Oie(t,e,n,r){let i,s,o=0,a=t.length-1,l=void 0;if(Array.isArray(e)){dn(r);let u=e.length-1;for(dn(null);o<=a&&o<=u;){let c=t.at(o),d=e[o],f=Q3(o,c,o,d,n);if(f!==0){f<0&&t.updateValue(o,d),o++;continue}let h=t.at(a),p=e[u],m=Q3(a,h,u,p,n);if(m!==0){m<0&&t.updateValue(a,p),a--,u--;continue}let g=n(o,c),y=n(a,h),x=n(o,d);if(Object.is(x,y)){let T=n(u,p);Object.is(T,g)?(t.swap(o,a),t.updateValue(a,p),u--,a--):t.move(a,o),t.updateValue(o,d),o++;continue}if(i??=new Tw,s??=b7(t,o,a,n),DA(t,i,o,x))t.updateValue(o,d),o++,a++;else if(s.has(x))i.set(g,t.detach(o)),a--;else{let T=t.create(o,e[o]);t.attach(o,T),o++,a++}}for(;o<=u;)y7(t,i,n,o,e[o]),o++}else if(e!=null){dn(r);let u=e[Symbol.iterator]();dn(null);let c=u.next();for(;!c.done&&o<=a;){let d=t.at(o),f=c.value,h=Q3(o,d,o,f,n);if(h!==0)h<0&&t.updateValue(o,f),o++,c=u.next();else{i??=new Tw,s??=b7(t,o,a,n);let p=n(o,f);if(DA(t,i,o,p))t.updateValue(o,f),o++,a++,c=u.next();else if(!s.has(p))t.attach(o,t.create(o,f)),o++,a++,c=u.next();else{let m=n(o,d);i.set(m,t.detach(o)),a--}}}for(;!c.done;)y7(t,i,n,t.length,c.value),c=u.next()}for(;o<=a;)t.destroy(t.detach(a--));i?.forEach(u=>{t.destroy(u)})}function DA(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function y7(t,e,n,r,i){if(DA(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function b7(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Tw=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Qn(t,e,n,r,i,s,o,a){sd("NgControlFlow");let l=Nn(),u=Hi(),c=zl(u.consts,s);return Aw(l,u,t,e,n,r,i,c,256,o,a),cT}function cT(t,e,n,r,i,s,o,a){sd("NgControlFlow");let l=Nn(),u=Hi(),c=zl(u.consts,s);return Aw(l,u,t,e,n,r,i,c,512,o,a),cT}function er(t,e){sd("NgControlFlow");let n=Nn(),r=Fp(),i=n[r]!==Ds?n[r]:-1,s=i!==-1?Iw(n,_i+i):void 0,o=0;if(Ja(n,r,t)){let a=dn(null);try{if(s!==void 0&&FL(s,o),t!==-1){let l=_i+t,u=Iw(n,l),c=RA(n[fn],l),d=BL(u,c,n),f=Uw(n,c,e,{dehydratedView:d});jw(u,f,o,d1(c,d))}}finally{dn(a)}}else if(s!==void 0){let a=LL(s,o);a!==void 0&&(a[wi]=e)}}var kA=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-li}};function dT(t){return t}var NA=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function ps(t,e,n,r,i,s,o,a,l,u,c,d,f){sd("NgControlFlow");let h=Nn(),p=Hi(),m=l!==void 0,g=Nn(),y=a?o.bind(g[Xo][wi]):o,x=new NA(m,y);g[_i+t]=x,Aw(h,p,t+1,e,n,r,i,zl(p.consts,s),256),m&&Aw(h,p,t+2,l,u,c,d,zl(p.consts,f),512)}var MA=class extends IA{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-li}at(e){return this.getLView(e)[wi].$implicit}attach(e,n){let r=n[Np];this.needsIndexUpdate||=e!==this.length,jw(this.lContainer,n,e,d1(this.templateTNode,r)),Bie(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Vie(this.lContainer,e),Uie(this.lContainer,e)}create(e,n){let r=vA(this.lContainer,this.templateTNode.tView.ssrId);return Uw(this.hostLView,this.templateTNode,new kA(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Bw(e[fn],e)}updateValue(e,n){this.getLView(e)[wi].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[wi].$index=e}getLView(e){return jie(this.lContainer,e)}};function ms(t){let e=dn(null),n=Ga();try{let r=Nn(),i=r[fn],s=r[n],o=n+1,a=Iw(r,o);if(s.liveCollection===void 0){let u=RA(i,o);s.liveCollection=new MA(a,r,u)}else s.liveCollection.reset();let l=s.liveCollection;if(Oie(l,t,s.trackByFn,e),l.updateIndexes(),s.hasEmptyBlock){let u=Fp(),c=l.length===0;if(Ja(r,u,c)){let d=n+2,f=Iw(r,d);if(c){let h=RA(i,d),p=BL(f,h,r),m=Uw(r,h,void 0,{dehydratedView:p});jw(f,m,0,d1(h,p))}else i.firstUpdatePass&&Mre(f),FL(f,0)}}}finally{dn(e)}}function Iw(t,e){return t[e]}function Bie(t,e){if(t.length<=li)return;let n=li+e,r=t[n],i=r?r[Of]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let s=r[Ru];Bne(s,i),qf.delete(r[Pu]),i.detachedLeaveAnimationFns=void 0}}function Vie(t,e){if(t.length<=li)return;let n=li+e,r=t[n],i=r?r[Of]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function Uie(t,e){return h1(t,e)}function jie(t,e){return LL(t,e)}function RA(t,e){return n1(t,e)}function Xi(t,e,n){let r=Nn(),i=Fp();if(Ja(r,i,e)){let s=Hi(),o=$3();xL(o,r,t,e,r[Qr],n)}return Xi}function PA(t,e,n,r,i){eT(e,t,n,i?"class":"style",r)}function Ie(t,e,n,r){let i=Nn(),s=i[fn],o=t+_i,a=s.firstCreatePass?HL(o,i,2,e,ure,xP(),n,r):s.data[o];if(EL(a,i,t,e,s9),X2(a)){let l=i[fn];_L(l,i,a),K7(l,a,i)}return r!=null&&QA(i,a),Ie}function ke(){let t=Hi(),e=Is(),n=SL(e);return t.firstCreatePass&&$L(t,n),R3(n)&&P3(),M3(),n.classesWithoutHost!=null&&Dte(n)&&PA(t,n,Nn(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&kte(n)&&PA(t,n,Nn(),n.stylesWithoutHost,!1),ke}function kt(t,e,n,r){return Ie(t,e,n,r),ke(),kt}function lt(t,e,n,r){let i=Nn(),s=i[fn],o=t+_i,a=s.firstCreatePass?Gre(o,s,2,e,n,r):s.data[o];return EL(a,i,t,e,s9),r!=null&&QA(i,a),lt}function ct(){let t=Is(),e=SL(t);return R3(e)&&P3(),M3(),ct}function or(t,e,n,r){return lt(t,e,n,r),ct(),or}var s9=(t,e,n,r,i)=>(iw(!0),oL(e[Qr],r,FP()));function ei(){return Nn()}var a1=void 0;function Hie(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var $ie=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],a1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],a1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",a1,a1,a1],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Hie],eA={};function to(t){let e=qie(t),n=w7(e);if(n)return n;let r=e.split("-")[0];if(n=w7(r),n)return n;if(r==="en")return $ie;throw new vn(701,!1)}function w7(t){return t in eA||(eA[t]=qa.ng&&qa.ng.common&&qa.ng.common.locales&&qa.ng.common.locales[t]),eA[t]}var ii=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(ii||{});function qie(t){return t.toLowerCase().replace(/_/g,"-")}var E1="en-US",zie="USD";var Wie=E1;function o9(t){typeof t=="string"&&(Wie=t.toLowerCase().replace(/_/g,"-"))}function Vn(t,e,n){let r=Nn(),i=Hi(),s=Is();return a9(i,r,r[Qr],s,t,e,n),Vn}function Ea(t,e,n){let r=Nn(),i=Hi(),s=Is();return(s.type&3||n)&&zL(s,i,r,n,r[Qr],t,e,pw(s,r,e)),Ea}function a9(t,e,n,r,i,s,o){let a=!0,l=null;if((r.type&3||o)&&(l??=pw(r,e,s),zL(r,t,e,o,n,i,s,l)&&(a=!1)),a){let u=r.outputs?.[i],c=r.hostDirectiveOutputs?.[i];if(c&&c.length)for(let d=0;d<c.length;d+=2){let f=c[d],h=c[d+1];l??=pw(r,e,s),p7(r,e,f,h,i,l)}if(u&&u.length)for(let d of u)l??=pw(r,e,s),p7(r,e,d,i,i,l)}}function Jt(t=1){return LP(t)}function Ww(t,e,n){return yie(t,e,n),Ww}function Gw(t){let e=Nn(),n=Hi(),r=U3();ew(r+1);let i=sT(n,r);if(t.dirty&&mP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=_ie(e,r);t.reset(s,$te),t.notifyOnChanges()}return!0}return!1}function Yw(){return gie(Nn(),U3())}function Zo(t){let e=AP();return K2(e,_i+t)}function uw(t,e){return t<<17|e<<2}function Wf(t){return t>>17&32767}function Gie(t){return(t&2)==2}function Yie(t,e){return t&131071|e<<17}function LA(t){return t|2}function $p(t){return(t&131068)>>2}function tA(t,e){return t&-131069|e<<2}function Xie(t){return(t&1)===1}function FA(t){return t|1}function Kie(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Wf(o),l=$p(o);t[r]=n;let u=!1,c;if(Array.isArray(n)){let d=n;c=d[1],(c===null||kp(d,c)>0)&&(u=!0)}else c=n;if(i)if(l!==0){let f=Wf(t[a+1]);t[r+1]=uw(f,a),f!==0&&(t[f+1]=tA(t[f+1],r)),t[a+1]=Yie(t[a+1],r)}else t[r+1]=uw(a,0),a!==0&&(t[a+1]=tA(t[a+1],r)),a=r;else t[r+1]=uw(l,0),a===0?a=r:t[l+1]=tA(t[l+1],r),l=r;u&&(t[r+1]=LA(t[r+1])),_7(t,c,r,!0),_7(t,c,r,!1),Zie(e,c,t,r,s),o=uw(a,l),s?e.classBindings=o:e.styleBindings=o}function Zie(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&kp(s,e)>=0&&(n[r+1]=FA(n[r+1]))}function _7(t,e,n,r){let i=t[n+1],s=e===null,o=r?Wf(i):$p(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],u=t[o+1];Jie(l,e)&&(a=!0,t[o+1]=r?FA(u):LA(u)),o=r?Wf(u):$p(u)}a&&(t[n+1]=r?LA(i):FA(i))}function Jie(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?kp(t,e)>=0:!1}var Ka={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qie(t){return t.substring(Ka.key,Ka.keyEnd)}function ese(t){return tse(t),l9(t,u9(t,0,Ka.textEnd))}function l9(t,e){let n=Ka.textEnd;return n===e?-1:(e=Ka.keyEnd=nse(t,Ka.key=e,n),u9(t,e,n))}function tse(t){Ka.key=0,Ka.keyEnd=0,Ka.value=0,Ka.valueEnd=0,Ka.textEnd=t.length}function u9(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function nse(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function S1(t,e,n){return c9(t,e,n,!1),S1}function Un(t,e){return c9(t,e,null,!0),Un}function od(t){ise(cse,rse,t,!0)}function rse(t,e){for(let n=ese(e);n>=0;n=l9(e,n))z2(t,Qie(e),!0)}function c9(t,e,n,r){let i=Nn(),s=Hi(),o=i1(2);if(s.firstUpdatePass&&f9(s,t,o,r),e!==Ds&&Ja(i,o,e)){let a=s.data[Ga()];h9(s,a,i,i[Qr],t,i[o+1]=fse(e,n),r,o)}}function ise(t,e,n,r){let i=Hi(),s=i1(2);i.firstUpdatePass&&f9(i,null,s,r);let o=Nn();if(n!==Ds&&Ja(o,s,n)){let a=i.data[Ga()];if(p9(a,r)&&!d9(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=U2(l,n||"")),PA(i,a,o,n,r)}else dse(i,a,o,o[Qr],o[s+1],o[s+1]=use(t,e,n),r,s)}}function d9(t,e){return e>=t.expandoStartIndex}function f9(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ga()],o=d9(t,n);p9(s,r)&&e===null&&!o&&(e=!1),e=sse(i,s,e,r),Kie(i,s,e,n,o,r)}}function sse(t,e,n,r){let i=NP(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=nA(null,t,e,n,r),n=v1(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=nA(i,t,e,n,r),s===null){let l=ose(t,e,r);l!==void 0&&Array.isArray(l)&&(l=nA(null,t,e,l[1],r),l=v1(l,e.attrs,r),ase(t,e,r,l))}else s=lse(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function ose(t,e,n){let r=n?e.classBindings:e.styleBindings;if($p(r)!==0)return t[Wf(r)]}function ase(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Wf(i)]=r}function lse(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=v1(r,o,n)}return v1(r,e.attrs,n)}function nA(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=v1(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function v1(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),z2(t,o,n?!0:e[++s]))}return t===void 0?null:t}function use(t,e,n){if(n==null||n==="")return Qs;let r=[],i=Lw(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(i instanceof Set)for(let s of i)t(r,s,!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function cse(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&z2(t,r,n)}function dse(t,e,n,r,i,s,o,a){i===Ds&&(i=Qs);let l=0,u=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;c!==null||d!==null;){let f=l<i.length?i[l+1]:void 0,h=u<s.length?s[u+1]:void 0,p=null,m;c===d?(l+=2,u+=2,f!==h&&(p=d,m=h)):d===null||c!==null&&c<d?(l+=2,p=c):(u+=2,p=d,m=h),p!==null&&h9(t,e,n,r,p,m,o,a),c=l<i.length?i[l]:null,d=u<s.length?s[u]:null}}function h9(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,u=l[a+1],c=Xie(u)?x7(l,e,n,i,$p(u),o):void 0;if(!Dw(c)){Dw(s)||Gie(u)&&(s=x7(l,null,n,i,a,o));let d=C3(Ga(),n);Qne(r,o,d,i,s)}}function x7(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=c===null,f=n[i+1];f===Ds&&(f=d?Qs:void 0);let h=d?W2(f,r):c===r?f:void 0;if(u&&!Dw(h)&&(h=W2(l,r)),Dw(h)&&(a=h,o))return a;let p=t[i+1];i=o?Wf(p):$p(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=W2(l,r))}return a}function Dw(t){return t!==void 0}function fse(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=zc(Lw(t)))),t}function p9(t,e){return(t.flags&(e?8:16))!==0}function xe(t,e=""){let n=Nn(),r=Hi(),i=t+_i,s=r.firstCreatePass?Hw(r,i,1,e,null):r.data[i],o=hse(r,n,s,e);n[i]=o,rw()&&ZA(r,n,o,s),Lp(s,!1)}var hse=(t,e,n,r)=>(iw(!0),gne(e[Qr],r));function pse(t,e,n,r=""){return Ja(t,Fp(),n)?e+Zc(n)+r:Ds}function mse(t,e,n,r,i,s=""){let o=V3(),a=iT(t,o,n,i);return i1(2),a?e+Zc(n)+r+Zc(i)+s:Ds}function gse(t,e,n,r,i,s,o,a=""){let l=V3(),u=Yre(t,l,n,i,o);return i1(3),u?e+Zc(n)+r+Zc(i)+s+Zc(o)+a:Ds}function $n(t){return In("",t),$n}function In(t,e,n){let r=Nn(),i=pse(r,t,e,n);return i!==Ds&&fT(r,Ga(),i),In}function Xw(t,e,n,r,i){let s=Nn(),o=mse(s,t,e,n,r,i);return o!==Ds&&fT(s,Ga(),o),Xw}function C1(t,e,n,r,i,s,o){let a=Nn(),l=gse(a,t,e,n,r,i,s,o);return l!==Ds&&fT(a,Ga(),l),C1}function fT(t,e,n){let r=C3(e,t);vne(t[Qr],r,n)}function Bu(t,e,n){oT(e)&&(e=e());let r=Nn(),i=Fp();if(Ja(r,i,e)){let s=Hi(),o=$3();xL(o,r,t,e,r[Qr],n)}return Bu}function ad(t,e){let n=oT(t);return n&&t.set(e),n}function Vu(t,e){let n=Nn(),r=Hi(),i=Is();return a9(r,n,n[Qr],i,t,e),Vu}function E7(t,e,n){let r=Hi();r.firstCreatePass&&m9(e,r.data,r.blueprint,$l(t),n)}function m9(t,e,n,r,i){if(t=hs(t),Array.isArray(t))for(let s=0;s<t.length;s++)m9(t[s],e,n,r,i);else{let s=Hi(),o=Nn(),a=Is(),l=kf(t)?t:hs(t.provide),u=w3(t),c=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(kf(t)||!t.multi){let h=new $f(u,i,Ar,null),p=iA(l,e,i?c:c+f,d);p===-1?(oA(bw(a,o),s,l),rA(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{let h=iA(l,e,c+f,d),p=iA(l,e,c,c+f),m=h>=0&&n[h],g=p>=0&&n[p];if(i&&!g||!i&&!m){oA(bw(a,o),s,l);let y=bse(i?yse:vse,n.length,i,r,u,t);!i&&g&&(n[p].providerFactory=y),rA(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)}else{let y=g9(n[i?p:h],u,!i&&r);rA(s,t,h>-1?h:p,y)}!i&&r&&g&&n[p].componentProviders++}}}function rA(t,e,n,r){let i=kf(e),s=cP(e);if(i||s){let l=(s?hs(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let c=u.indexOf(n);c===-1?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function g9(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function iA(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vse(t,e,n,r,i){return OA(this.multi,[])}function yse(t,e,n,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=c1(r,r[fn],this.providerFactory.index,i);o=l.slice(0,a),OA(s,o);for(let u=a;u<l.length;u++)o.push(l[u])}else o=[],OA(s,o);return o}function OA(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function bse(t,e,n,r,i,s){let o=new $f(t,n,Ar,null);return o.multi=[],o.index=e,o.componentProviders=0,g9(o,i,r&&!n),o}function Yp(t,e){return n=>{n.providersResolver=(r,i)=>E7(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>E7(r,i?i(e):e,!0))}}function v9(t,e){let n=t[e];return n===Ds?void 0:n}function wse(t,e,n,r,i,s){let o=e+n;return Ja(t,o,i)?qL(t,o+1,s?r.call(s,i):r(i)):v9(t,o+1)}function _se(t,e,n,r,i,s,o){let a=e+n;return iT(t,a,i,s)?qL(t,a+2,o?r.call(o,i,s):r(i,s)):v9(t,a+2)}function no(t,e){let n=Hi(),r,i=t+_i;n.firstCreatePass?(r=xse(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Wc(r.type,!0)),o,a=Js(Ar);try{let l=yw(!1),u=s();return yw(l),A3(n,Nn(),i,u),u}finally{Js(a)}}function xse(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Xp(t,e,n){let r=t+_i,i=Nn(),s=K2(i,r);return y9(i,r)?wse(i,B3(),e,s.transform,n,s):s.transform(n)}function Sa(t,e,n,r){let i=t+_i,s=Nn(),o=K2(s,i);return y9(s,i)?_se(s,B3(),e,o.transform,n,r,o):o.transform(n,r)}function y9(t,e){return t[fn].data[e].pure}var b9=(()=>{class t{applicationErrorHandler=rn(jf);appRef=rn(Gp);taskService=rn(Op);ngZone=rn(Yo);zonelessEnabled=rn(o1);tracing=rn(Gf,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Zs;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(X0):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(rn(G3,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?jP:q3;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(X0+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ur({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hT(){return sd("NgZoneless"),v3([...pT(),[]])}function pT(){return[{provide:Xc,useExisting:b9},{provide:Yo,useClass:K0},{provide:o1,useValue:!0}]}function Ese(){return typeof $localize<"u"&&$localize.locale||E1}var Kp=new Ln("",{factory:()=>rn(Kp,{optional:!0,skipSelf:!0})||Ese()}),mT=new Ln("",{factory:()=>zie});function Ki(t,e){return d2(t,e?.equal)}var _9=Symbol("InputSignalNode#UNSET"),Lse=qt(Ne({},f2),{transformFn:void 0,applyValueToInputSignal(t,e){H0(t,e)}});function x9(t,e){let n=Object.create(Lse);n.value=t,n.transformFn=e?.transform;function r(){if(V0(n),n.value===_9){let i=null;throw new vn(-950,i)}return n.value}return r[Ks]=n,r}function w9(t,e){return x9(t,e)}function Fse(t){return x9(_9,t)}var E9=(w9.required=Fse,w9);var gT=new Ln(""),Ose=new Ln("");function A1(t){return!t.moduleRef}function Bse(t){let e=A1(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Yo);return n.run(()=>{A1(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(jf),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),A1(t)){let s=()=>e.destroy(),o=t.platformInjector.get(gT);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(gT);o.add(s),t.moduleRef.onDestroy(()=>{u1(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return Use(r,n,()=>{let s=e.get(Op),o=s.add(),a=e.get(uT);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(Kp,E1);if(o9(l||E1),!e.get(Ose,!0))return A1(t)?e.get(Gp):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(A1(t)){let c=e.get(Gp);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return Vse?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{s.remove(o)})})})}var Vse;function Use(t,e,n){try{let r=n();return Wp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Kw=null;function jse(t=[],e){return Bl.create({name:e,providers:[{provide:Q0,useValue:"platform"},{provide:gT,useValue:new Set([()=>Kw=null])},...t]})}function Hse(t=[]){if(Kw)return Kw;let e=jse(t);return Kw=e,r9(),$se(e),e}function $se(t){let e=t.get(Mw,null);G2(t,()=>{e?.forEach(n=>n())})}var qse=1e4;var nDe=qse-1e3;var Zw=(()=>{class t{static __NG_ELEMENT_ID__=zse}return t})();function zse(t){return Wse(Is(),Nn(),(t&16)===16)}function Wse(t,e,n){if(td(t)&&!n){let r=_a(t.index,e);return new id(r,r)}else if(t.type&175){let r=e[Xo];return new id(r,e)}return null}function S9(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Cr(pr.BootstrapApplicationStart);try{let s=i?.injector??Hse(r),o=[pT(),$P,...n||[]],a=new g1({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return Bse({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}finally{Cr(pr.BootstrapApplicationEnd)}}function C9(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var A9=null;function ld(){return A9}function vT(t){A9??=t}var T1=class{};var k9={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KGS:[void 0,"\u20C0"],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XCG:["Cg."],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},ET=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(ET||{});var ks=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(ks||{}),Fr=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Fr||{}),wo=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(wo||{}),_o={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function N9(t){return to(t)[ii.LocaleId]}function M9(t,e,n){let r=to(t),i=[r[ii.DayPeriodsFormat],r[ii.DayPeriodsStandalone]],s=Ca(i,e);return Ca(s,n)}function R9(t,e,n){let r=to(t),i=[r[ii.DaysFormat],r[ii.DaysStandalone]],s=Ca(i,e);return Ca(s,n)}function P9(t,e,n){let r=to(t),i=[r[ii.MonthsFormat],r[ii.MonthsStandalone]],s=Ca(i,e);return Ca(s,n)}function L9(t,e){let r=to(t)[ii.Eras];return Ca(r,e)}function I1(t,e){let n=to(t);return Ca(n[ii.DateFormat],e)}function D1(t,e){let n=to(t);return Ca(n[ii.TimeFormat],e)}function k1(t,e){let r=to(t)[ii.DateTimeFormat];return Ca(r,e)}function Xl(t,e){let n=to(t),r=n[ii.NumberSymbols][e];if(typeof r>"u"){if(e===_o.CurrencyDecimal)return n[ii.NumberSymbols][_o.Decimal];if(e===_o.CurrencyGroup)return n[ii.NumberSymbols][_o.Group]}return r}function F9(t,e){return to(t)[ii.NumberFormats][e]}function Gse(t){return to(t)[ii.Currencies]}function O9(t){if(!t[ii.ExtraData])throw new vn(2303,!1)}function B9(t){let e=to(t);return O9(e),(e[ii.ExtraData][2]||[]).map(r=>typeof r=="string"?yT(r):[yT(r[0]),yT(r[1])])}function V9(t,e,n){let r=to(t);O9(r);let i=[r[ii.ExtraData][0],r[ii.ExtraData][1]],s=Ca(i,e)||[];return Ca(s,n)||[]}function Ca(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new vn(2304,!1)}function yT(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function U9(t,e,n="en"){let r=Gse(n)[t]||k9[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var Yse=2;function j9(t){let e,n=k9[t];return n&&(e=n[2]),typeof e=="number"?e:Yse}var Xse=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Jw={},Kse=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function H9(t,e,n,r){let i=soe(t);e=Uu(n,e)||e;let o=[],a;for(;e;)if(a=Kse.exec(e),a){o=o.concat(a.slice(1));let c=o.pop();if(!c)break;e=c}else{o.push(e);break}let l=i.getTimezoneOffset();r&&(l=q9(r,l),i=ioe(i,r));let u="";return o.forEach(c=>{let d=noe(c);u+=d?d(i,n,l):c==="''"?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function r_(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Uu(t,e){let n=N9(t);if(Jw[n]??={},Jw[n][e])return Jw[n][e];let r="";switch(e){case"shortDate":r=I1(t,wo.Short);break;case"mediumDate":r=I1(t,wo.Medium);break;case"longDate":r=I1(t,wo.Long);break;case"fullDate":r=I1(t,wo.Full);break;case"shortTime":r=D1(t,wo.Short);break;case"mediumTime":r=D1(t,wo.Medium);break;case"longTime":r=D1(t,wo.Long);break;case"fullTime":r=D1(t,wo.Full);break;case"short":let i=Uu(t,"shortTime"),s=Uu(t,"shortDate");r=Qw(k1(t,wo.Short),[i,s]);break;case"medium":let o=Uu(t,"mediumTime"),a=Uu(t,"mediumDate");r=Qw(k1(t,wo.Medium),[o,a]);break;case"long":let l=Uu(t,"longTime"),u=Uu(t,"longDate");r=Qw(k1(t,wo.Long),[l,u]);break;case"full":let c=Uu(t,"fullTime"),d=Uu(t,"fullDate");r=Qw(k1(t,wo.Full),[c,d]);break}return r&&(Jw[n][e]=r),r}function Qw(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function el(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Zse(t,e){return el(t,3).substring(0,e)}function Di(t,e,n=0,r=!1,i=!1){return function(s,o){let a=Jse(t,s);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return Zse(a,e);let l=Xl(o,_o.MinusSign);return el(a,e,l,r,i)}}function Jse(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new vn(2301,!1)}}function Wr(t,e,n=ks.Format,r=!1){return function(i,s){return Qse(i,s,t,e,n,r)}}function Qse(t,e,n,r,i,s){switch(n){case 2:return P9(e,i,r)[t.getMonth()];case 1:return R9(e,i,r)[t.getDay()];case 0:let o=t.getHours(),a=t.getMinutes();if(s){let u=B9(e),c=V9(e,i,r),d=u.findIndex(f=>{if(Array.isArray(f)){let[h,p]=f,m=o>=h.hours&&a>=h.minutes,g=o<p.hours||o===p.hours&&a<p.minutes;if(h.hours<p.hours){if(m&&g)return!0}else if(m||g)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(d!==-1)return c[d]}return M9(e,i,r)[o<12?0:1];case 3:return L9(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new vn(2302,!1)}}function e_(t){return function(e,n,r){let i=-1*r,s=Xl(n,_o.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+el(o,2,s)+el(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+el(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+el(o,2,s)+":"+el(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+el(o,2,s)+":"+el(Math.abs(i%60),2,s);default:throw new vn(2310,!1)}}}var eoe=0,n_=4;function toe(t){let e=r_(t,eoe,1).getDay();return r_(t,0,1+(e<=n_?n_:n_+7)-e)}function $9(t){let e=t.getDay(),n=e===0?-3:n_-e;return r_(t.getFullYear(),t.getMonth(),t.getDate()+n)}function bT(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=$9(n),o=toe(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return el(i,t,Xl(r,_o.MinusSign))}}function t_(t,e=!1){return function(n,r){let s=$9(n).getFullYear();return el(s,t,Xl(r,_o.MinusSign),e)}}var wT={};function noe(t){if(wT[t])return wT[t];let e;switch(t){case"G":case"GG":case"GGG":e=Wr(3,Fr.Abbreviated);break;case"GGGG":e=Wr(3,Fr.Wide);break;case"GGGGG":e=Wr(3,Fr.Narrow);break;case"y":e=Di(0,1,0,!1,!0);break;case"yy":e=Di(0,2,0,!0,!0);break;case"yyy":e=Di(0,3,0,!1,!0);break;case"yyyy":e=Di(0,4,0,!1,!0);break;case"Y":e=t_(1);break;case"YY":e=t_(2,!0);break;case"YYY":e=t_(3);break;case"YYYY":e=t_(4);break;case"M":case"L":e=Di(1,1,1);break;case"MM":case"LL":e=Di(1,2,1);break;case"MMM":e=Wr(2,Fr.Abbreviated);break;case"MMMM":e=Wr(2,Fr.Wide);break;case"MMMMM":e=Wr(2,Fr.Narrow);break;case"LLL":e=Wr(2,Fr.Abbreviated,ks.Standalone);break;case"LLLL":e=Wr(2,Fr.Wide,ks.Standalone);break;case"LLLLL":e=Wr(2,Fr.Narrow,ks.Standalone);break;case"w":e=bT(1);break;case"ww":e=bT(2);break;case"W":e=bT(1,!0);break;case"d":e=Di(2,1);break;case"dd":e=Di(2,2);break;case"c":case"cc":e=Di(7,1);break;case"ccc":e=Wr(1,Fr.Abbreviated,ks.Standalone);break;case"cccc":e=Wr(1,Fr.Wide,ks.Standalone);break;case"ccccc":e=Wr(1,Fr.Narrow,ks.Standalone);break;case"cccccc":e=Wr(1,Fr.Short,ks.Standalone);break;case"E":case"EE":case"EEE":e=Wr(1,Fr.Abbreviated);break;case"EEEE":e=Wr(1,Fr.Wide);break;case"EEEEE":e=Wr(1,Fr.Narrow);break;case"EEEEEE":e=Wr(1,Fr.Short);break;case"a":case"aa":case"aaa":e=Wr(0,Fr.Abbreviated);break;case"aaaa":e=Wr(0,Fr.Wide);break;case"aaaaa":e=Wr(0,Fr.Narrow);break;case"b":case"bb":case"bbb":e=Wr(0,Fr.Abbreviated,ks.Standalone,!0);break;case"bbbb":e=Wr(0,Fr.Wide,ks.Standalone,!0);break;case"bbbbb":e=Wr(0,Fr.Narrow,ks.Standalone,!0);break;case"B":case"BB":case"BBB":e=Wr(0,Fr.Abbreviated,ks.Format,!0);break;case"BBBB":e=Wr(0,Fr.Wide,ks.Format,!0);break;case"BBBBB":e=Wr(0,Fr.Narrow,ks.Format,!0);break;case"h":e=Di(3,1,-12);break;case"hh":e=Di(3,2,-12);break;case"H":e=Di(3,1);break;case"HH":e=Di(3,2);break;case"m":e=Di(4,1);break;case"mm":e=Di(4,2);break;case"s":e=Di(5,1);break;case"ss":e=Di(5,2);break;case"S":e=Di(6,1);break;case"SS":e=Di(6,2);break;case"SSS":e=Di(6,3);break;case"Z":case"ZZ":case"ZZZ":e=e_(0);break;case"ZZZZZ":e=e_(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=e_(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=e_(2);break;default:return null}return wT[t]=e,e}function q9(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function roe(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function ioe(t,e,n){let i=t.getTimezoneOffset(),s=q9(e,i);return roe(t,-1*(s-i))}function soe(t){if(T9(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return r_(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Xse))return ooe(r)}let e=new Date(t);if(!T9(e))throw new vn(2311,!1);return e}function ooe(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,l,u),e}function T9(t){return t instanceof Date&&!isNaN(t.valueOf())}var aoe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,I9=22,i_=".",N1="0",loe=";",uoe=",",_T="#",D9="\xA4";function coe(t,e,n,r,i,s,o=!1){let a="",l=!1;if(!isFinite(t))a=Xl(n,_o.Infinity);else{let u=hoe(t);o&&(u=foe(u));let c=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){let x=s.match(aoe);if(x===null)throw new vn(2306,!1);let T=x[1],R=x[3],$=x[5];T!=null&&(c=xT(T)),R!=null&&(d=xT(R)),$!=null?f=xT($):R!=null&&d>f&&(f=d)}poe(u,d,f);let h=u.digits,p=u.integerLen,m=u.exponent,g=[];for(l=h.every(x=>!x);p<c;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?g=h.splice(p,h.length):(g=h,h=[0]);let y=[];for(h.length>=e.lgSize&&y.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)y.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&y.unshift(h.join("")),a=y.join(Xl(n,r)),g.length&&(a+=Xl(n,i)+g.join("")),m&&(a+=Xl(n,_o.Exponential)+"+"+m)}return t<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function z9(t,e,n,r,i){let s=F9(e,ET.Currency),o=doe(s,Xl(e,_o.MinusSign));return o.minFrac=j9(r),o.maxFrac=o.minFrac,coe(t,o,e,_o.CurrencyGroup,_o.CurrencyDecimal,i).replace(D9,n).replace(D9,"").trim()}function doe(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(loe),i=r[0],s=r[1],o=i.indexOf(i_)!==-1?i.split(i_):[i.substring(0,i.lastIndexOf(N1)+1),i.substring(i.lastIndexOf(N1)+1)],a=o[0],l=o[1]||"";n.posPre=a.substring(0,a.indexOf(_T));for(let c=0;c<l.length;c++){let d=l.charAt(c);d===N1?n.minFrac=n.maxFrac=c+1:d===_T?n.maxFrac=c+1:n.posSuf+=d}let u=a.split(uoe);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let c=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(_T);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+c).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function foe(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function hoe(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(i_))>-1&&(e=e.replace(i_,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===N1;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===N1;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>I9&&(r=r.splice(0,I9-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function poe(t,e,n){if(e>n)throw new vn(2307,!1);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=s!==0,u=e+t.integerLen,c=r.reduceRight(function(d,f,h,p){return f=f+d,p[h]=f<10?f:f-10,l&&(p[h]===0&&h>=u?p.pop():l=!1),f>=10?1:0},0);c&&(r.unshift(c),t.integerLen++)}function xT(t){let e=parseInt(t);if(isNaN(e))throw new vn(2305,!1);return e}function W9(t,e){return new vn(2100,!1)}var moe="mediumDate",G9=new Ln(""),Y9=new Ln(""),ju=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??moe,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return H9(n,o,s||this.locale,a)}catch(o){throw W9(t,o.message)}}static \u0275fac=function(r){return new(r||t)(Ar(Kp,16),Ar(G9,24),Ar(Y9,24))};static \u0275pipe=zw({name:"date",type:t,pure:!0})}return t})();var M1=(()=>{class t{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!goe(n))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=U9(a,i==="symbol"?"wide":"narrow",o):a=i);try{let l=voe(n);return z9(l,o,a,r,s)}catch(l){throw W9(t,l.message)}}static \u0275fac=function(r){return new(r||t)(Ar(Kp,16),Ar(mT,16))};static \u0275pipe=zw({name:"currency",type:t,pure:!0})}return t})();function goe(t){return!(t==null||t===""||t!==t)}function voe(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new vn(2309,!1);return t}var Ns=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xf({type:t});static \u0275inj=Kc({})}return t})();function ST(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var R1=class{};var X9="browser";var P1=class{_doc;constructor(e){this._doc=e}manager},o_=(()=>{class t extends P1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(Mr(Ya))};static \u0275prov=Ur({token:t,factory:t.\u0275fac})}return t})(),u_=new Ln(""),IT=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this});let i=n.filter(o=>!(o instanceof o_));this._plugins=i.slice().reverse();let s=n.find(o=>o instanceof o_);s&&this._plugins.push(s)}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new vn(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Mr(u_),Mr(Yo))};static \u0275prov=Ur({token:t,factory:t.\u0275fac})}return t})(),CT="ng-app-id";function K9(t){for(let e of t)e.remove()}function Z9(t,e){let n=e.createElement("style");return n.textContent=t,n}function boe(t,e,n,r){let i=t.head?.querySelectorAll(`style[${CT}="${e}"],link[${CT}="${e}"]`);if(i)for(let s of i)s.removeAttribute(CT),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function TT(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var DT=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,boe(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Z9);r?.forEach(i=>this.addUsage(i,this.external,TT))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(K9(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])K9(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Z9(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,TT(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Mr(Ya),Mr(Nw),Mr(Rw,8),Mr(w1))};static \u0275prov=Ur({token:t,factory:t.\u0275fac})}return t})(),AT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kT=/%COMP%/g;var Q9="%COMP%",woe=`_nghost-${Q9}`,_oe=`_ngcontent-${Q9}`,xoe=!0,Eoe=new Ln("",{factory:()=>xoe});function Soe(t){return _oe.replace(kT,t)}function Coe(t){return woe.replace(kT,t)}function eF(t,e){return e.map(n=>n.replace(kT,t))}var NT=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,s,o,a,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=l,this.tracingService=u,this.defaultRenderer=new L1(n,o,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof l_?i.applyToHost(n):i instanceof F1&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case Za.Emulated:s=new l_(l,u,r,this.appId,c,o,a,d);break;case Za.ShadowDom:return new a_(l,n,r,o,a,this.nonce,d,u);case Za.ExperimentalIsolatedShadowDom:return new a_(l,n,r,o,a,this.nonce,d);default:s=new F1(l,u,r,c,o,a,d);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Mr(IT),Mr(DT),Mr(Nw),Mr(Eoe),Mr(Ya),Mr(Yo),Mr(Rw),Mr(Gf,8))};static \u0275prov=Ur({token:t,factory:t.\u0275fac})}return t})(),L1=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(AT[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(J9(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(J9(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new vn(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=AT[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=AT[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Yl.DashCase|Yl.Important)?e.style.setProperty(n,r,i&Yl.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Yl.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=ld().getGlobalEventTarget(this.doc,e),!e))throw new vn(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function J9(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var a_=class extends L1{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,s,o,a,l){super(e,i,s,a),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=eF(r.id,u);for(let d of u){let f=document.createElement("style");o&&f.setAttribute("nonce",o),f.textContent=d,this.shadowRoot.appendChild(f)}let c=r.getExternalStyles?.();if(c)for(let d of c){let f=TT(d,i);o&&f.setAttribute("nonce",o),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},F1=class extends L1{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?eF(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&qf.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},l_=class extends F1{contentAttr;hostAttr;constructor(e,n,r,i,s,o,a,l){let u=i+"-"+r.id;super(e,n,r,s,o,a,l,u),this.contentAttr=Soe(u),this.hostAttr=Coe(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var c_=class t extends T1{supportsDOMEvents=!0;static makeCurrent(){vT(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Aoe();return n==null?null:Toe(n)}resetBaseElement(){O1=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ST(document.cookie,e)}},O1=null;function Aoe(){return O1=O1||document.head.querySelector("base"),O1?O1.getAttribute("href"):null}function Toe(t){return new URL(t,document.baseURI).pathname}var Ioe=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ur({token:t,factory:t.\u0275fac})}return t})(),tF=["alt","control","meta","shift"],Doe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},koe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nF=(()=>{class t extends P1{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ld().onAndCancel(n,o.domEventName,a,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),tF.forEach(u=>{let c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=Doe[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tF.forEach(o=>{if(o!==i){let a=koe[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Mr(Ya))};static \u0275prov=Ur({token:t,factory:t.\u0275fac})}return t})();async function MT(t,e,n){let r=Ne({rootComponent:t},Noe(e,n));return S9(r)}function Noe(t,e){return{platformRef:e?.platformRef,appProviders:[...Foe,...t?.providers??[]],platformProviders:Loe}}function Moe(){c_.makeCurrent()}function Roe(){return new Vl}function Poe(){return UA(document),document}var Loe=[{provide:w1,useValue:X9},{provide:Mw,useValue:Moe,multi:!0},{provide:Ya,useFactory:Poe}];var Foe=[{provide:Q0,useValue:"root"},{provide:Vl,useFactory:Roe},{provide:u_,useClass:o_,multi:!0},{provide:u_,useClass:nF,multi:!0},NT,DT,IT,{provide:zf,useExisting:NT},{provide:R1,useClass:Ioe},[]];var rF=()=>{};var RT={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var gt=function(t,e){if(!t)throw Jf(e)},Jf=function(t){return new Error("Firebase Database ("+RT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var oF=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ooe=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},h_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ooe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new PT;let f=s<<2|a>>4;if(r.push(f),u!==64){let h=a<<4&240|u>>2;if(r.push(h),d!==64){let p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},PT=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},LT=function(t){let e=oF(t);return h_.encodeByteArray(e,!0)},V1=function(t){return LT(t).replace(/\./g,"")},d_=function(t){try{return h_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aF(t){return lF(void 0,t)}function lF(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!Boe(n)||(t[n]=lF(t[n],e[n]));return t}function Boe(t){return t!=="__proto__"}function Voe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Uoe=()=>Voe().__FIREBASE_DEFAULTS__,joe=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hoe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&d_(t[1]);return e&&JSON.parse(e)},uF=()=>{try{return rF()||Uoe()||joe()||Hoe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$oe=t=>uF()?.emulatorHosts?.[t],cF=t=>{let e=$oe(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FT=()=>uF()?.config;var Hu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function p_(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dF(t){return(await fetch(t,{credentials:"include"})).ok}function fF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Ne({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[V1(JSON.stringify(n)),V1(JSON.stringify(o)),""].join(".")}var B1={};function qoe(){let t={prod:[],emulator:[]};for(let e of Object.keys(B1))B1[e]?t.emulator.push(e):t.prod.push(e);return t}function zoe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var iF=!1;function hF(t,e){if(typeof window>"u"||typeof document>"u"||!p_(window.location.host)||B1[t]===e||B1[t]||iF)return;B1[t]=e;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",s=qoe().prod.length>0;function o(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{iF=!0,o()},f}function c(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=zoe(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),m=n("learnmore"),g=document.getElementById(m)||document.createElement("a"),y=n("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let T=f.element;a(T),c(g,m);let R=u();l(x,y),T.append(x,p,g,R),document.body.appendChild(T)}s?(p.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Woe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Woe())}function pF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kl(){return RT.NODE_CLIENT===!0||RT.NODE_ADMIN===!0}function mF(){try{return typeof indexedDB=="object"}catch{return!1}}function gF(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var Goe="FirebaseError",Zf=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Goe,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U1.prototype.create)}},U1=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Yoe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Zf(i,a,r)}};function Yoe(t,e){return t.replace(Xoe,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Xoe=/\{\$([^}]+)}/g;function Zp(t){return JSON.parse(t)}function $i(t){return JSON.stringify(t)}var vF=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Zp(d_(s[0])||""),n=Zp(d_(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var yF=function(t){let e=vF(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},bF=function(t){let e=vF(t).claims;return typeof e=="object"&&e.admin===!0};function tl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qf(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function BT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function j1(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Jp(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(sF(s)&&sF(o)){if(!Jp(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function sF(t){return t!==null&&typeof t=="object"}function wF(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var f_=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);let f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function H1(t,e){return`${t} failed: ${e} argument `}var _F=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,gt(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$1=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var H6e=14400*1e3;function Qp(t){return t&&t._delegate?t._delegate:t}var $u=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var eh="[DEFAULT]";var m_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Hu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zoe(e))try{this.getOrInitializeService({instanceIdentifier:eh})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=eh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eh){return this.instances.has(e)}getOptions(e=eh){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Koe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eh){return this.component?this.component.multipleInstances?e:eh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Koe(t){return t===eh?void 0:t}function Zoe(t){return t.instantiationMode==="EAGER"}var q1=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new m_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Joe=[],Gr=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(Gr||{}),Qoe={debug:Gr.DEBUG,verbose:Gr.VERBOSE,info:Gr.INFO,warn:Gr.WARN,error:Gr.ERROR,silent:Gr.SILENT},eae=Gr.INFO,tae={[Gr.DEBUG]:"log",[Gr.VERBOSE]:"log",[Gr.INFO]:"info",[Gr.WARN]:"warn",[Gr.ERROR]:"error"},nae=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=tae[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},em=class{constructor(e){this.name=e,this._logLevel=eae,this._logHandler=nae,this._userLogHandler=null,Joe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qoe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gr.DEBUG,...e),this._logHandler(this,Gr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gr.VERBOSE,...e),this._logHandler(this,Gr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gr.INFO,...e),this._logHandler(this,Gr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gr.WARN,...e),this._logHandler(this,Gr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gr.ERROR,...e),this._logHandler(this,Gr.ERROR,...e)}};var rae=(t,e)=>e.some(n=>t instanceof n),xF,EF;function iae(){return xF||(xF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sae(){return EF||(EF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var SF=new WeakMap,UT=new WeakMap,CF=new WeakMap,VT=new WeakMap,HT=new WeakMap;function oae(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SF.set(n,t)}).catch(()=>{}),HT.set(e,t),e}function aae(t){if(UT.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});UT.set(t,e)}var jT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return UT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AF(t){jT=t(jT)}function lae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(g_(this),e,...n);return CF.set(r,e.sort?e.sort():[e]),Zl(r)}:sae().includes(t)?function(...e){return t.apply(g_(this),e),Zl(SF.get(this))}:function(...e){return Zl(t.apply(g_(this),e))}}function uae(t){return typeof t=="function"?lae(t):(t instanceof IDBTransaction&&aae(t),rae(t,iae())?new Proxy(t,jT):t)}function Zl(t){if(t instanceof IDBRequest)return oae(t);if(VT.has(t))return VT.get(t);let e=uae(t);return e!==t&&(VT.set(t,e),HT.set(e,t)),e}var g_=t=>HT.get(t);function IF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Zl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zl(o.result),l.oldVersion,l.newVersion,Zl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var cae=["get","getKey","getAll","getAllKeys","count"],dae=["put","add","delete","clear"],$T=new Map;function TF(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($T.get(e))return $T.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=dae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cae.includes(n)))return;let s=async function(o,...a){let l=this.transaction(o,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return $T.set(e,s),s}AF(t=>qt(Ne({},t),{get:(e,n,r)=>TF(e,n)||t.get(e,n,r),has:(e,n)=>!!TF(e,n)||t.has(e,n)}));var zT=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fae(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function fae(t){return t.getComponent()?.type==="VERSION"}var WT="@firebase/app",DF="0.14.7";var qu=new em("@firebase/app"),hae="@firebase/app-compat",pae="@firebase/analytics-compat",mae="@firebase/analytics",gae="@firebase/app-check-compat",vae="@firebase/app-check",yae="@firebase/auth",bae="@firebase/auth-compat",wae="@firebase/database",_ae="@firebase/data-connect",xae="@firebase/database-compat",Eae="@firebase/functions",Sae="@firebase/functions-compat",Cae="@firebase/installations",Aae="@firebase/installations-compat",Tae="@firebase/messaging",Iae="@firebase/messaging-compat",Dae="@firebase/performance",kae="@firebase/performance-compat",Nae="@firebase/remote-config",Mae="@firebase/remote-config-compat",Rae="@firebase/storage",Pae="@firebase/storage-compat",Lae="@firebase/firestore",Fae="@firebase/ai",Oae="@firebase/firestore-compat",Bae="firebase",Vae="12.8.0";var GT="[DEFAULT]",Uae={[WT]:"fire-core",[hae]:"fire-core-compat",[mae]:"fire-analytics",[pae]:"fire-analytics-compat",[vae]:"fire-app-check",[gae]:"fire-app-check-compat",[yae]:"fire-auth",[bae]:"fire-auth-compat",[wae]:"fire-rtdb",[_ae]:"fire-data-connect",[xae]:"fire-rtdb-compat",[Eae]:"fire-fn",[Sae]:"fire-fn-compat",[Cae]:"fire-iid",[Aae]:"fire-iid-compat",[Tae]:"fire-fcm",[Iae]:"fire-fcm-compat",[Dae]:"fire-perf",[kae]:"fire-perf-compat",[Nae]:"fire-rc",[Mae]:"fire-rc-compat",[Rae]:"fire-gcs",[Pae]:"fire-gcs-compat",[Lae]:"fire-fst",[Oae]:"fire-fst-compat",[Fae]:"fire-vertex","fire-js":"fire-js",[Bae]:"fire-js-all"};var v_=new Map,jae=new Map,YT=new Map;function kF(t,e){try{t.container.addComponent(e)}catch(n){qu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function z1(t){let e=t.name;if(YT.has(e))return qu.debug(`There were multiple attempts to register component ${e}.`),!1;YT.set(e,t);for(let n of v_.values())kF(n,t);for(let n of jae.values())kF(n,t);return!0}function PF(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function LF(t){return t==null?!1:t.settings!==void 0}var Hae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ud=new U1("app","Firebase",Hae);var XT=class{constructor(e,n,r){this._isDeleted=!1,this._options=Ne({},e),this._config=Ne({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $u("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ud.create("app-deleted",{appName:this._name})}};var FF=Vae;function JT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Ne({name:GT,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ud.create("bad-app-name",{appName:String(i)});if(n||(n=FT()),!n)throw ud.create("no-options");let s=v_.get(i);if(s){if(Jp(n,s.options)&&Jp(r,s.config))return s;throw ud.create("duplicate-app",{appName:i})}let o=new q1(i);for(let l of YT.values())o.addComponent(l);let a=new XT(n,r,o);return v_.set(i,a),a}function OF(t=GT){let e=v_.get(t);if(!e&&t===GT&&FT())return JT();if(!e)throw ud.create("no-app",{appName:t});return e}function cd(t,e,n){let r=Uae[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qu.warn(o.join(" "));return}z1(new $u(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var $ae="firebase-heartbeat-database",qae=1,W1="firebase-heartbeat-store",qT=null;function BF(){return qT||(qT=IF($ae,qae,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(W1)}catch(n){console.warn(n)}}}}).catch(t=>{throw ud.create("idb-open",{originalErrorMessage:t.message})})),qT}async function zae(t){try{let n=(await BF()).transaction(W1),r=await n.objectStore(W1).get(VF(t));return await n.done,r}catch(e){if(e instanceof Zf)qu.warn(e.message);else{let n=ud.create("idb-get",{originalErrorMessage:e?.message});qu.warn(n.message)}}}async function NF(t,e){try{let r=(await BF()).transaction(W1,"readwrite");await r.objectStore(W1).put(e,VF(t)),await r.done}catch(n){if(n instanceof Zf)qu.warn(n.message);else{let r=ud.create("idb-set",{originalErrorMessage:n?.message});qu.warn(r.message)}}}function VF(t){return`${t.name}!${t.options.appId}`}var Wae=1024,Gae=30,KT=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ZT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=MF();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Gae){let i=Xae(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=MF(),{heartbeatsToSend:n,unsentEntries:r}=Yae(this._heartbeatsCache.heartbeats),i=V1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return qu.warn(e),""}}};function MF(){return new Date().toISOString().substring(0,10)}function Yae(t,e=Wae){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),RF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ZT=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mF()?gF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await zae(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return NF(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return NF(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function RF(t){return V1(JSON.stringify({version:2,heartbeats:t})).length}function Xae(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Kae(t){z1(new $u("platform-logger",e=>new zT(e),"PRIVATE")),z1(new $u("heartbeat",e=>new KT(e),"PRIVATE")),cd(WT,DF,t),cd(WT,DF,"esm2020"),cd("fire-js","")}Kae("");var Zae="firebase",Jae="12.8.0";cd(Zae,Jae,"app");var UF="@firebase/database",jF="1.1.0";var s4="";function Qae(t){s4=t}var oI=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$i(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zp(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var aI=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return tl(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var bO=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new oI(e)}}catch{}return new aI},nh=bO("localStorage"),lI=bO("sessionStorage");var rm=new em("@firebase/database"),ele=(function(){let t=1;return function(){return t++}})(),wO=function(t){let e=_F(t),n=new f_;n.update(e);let r=n.digest();return h_.encodeByteArray(r)},cv=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=cv.apply(null,r):typeof r=="object"?e+=$i(r):e+=r,e+=" "}return e},rh=null,HF=!0,tle=function(t,e){gt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(rm.logLevel=Gr.VERBOSE,rh=rm.log.bind(rm),e&&lI.set("logging_enabled",!0)):typeof t=="function"?rh=t:(rh=null,lI.remove("logging_enabled"))},gs=function(...t){if(HF===!0&&(HF=!1,rh===null&&lI.get("logging_enabled")===!0&&tle(!0)),rh){let e=cv.apply(null,t);rh(e)}},dv=function(t){return function(...e){gs(t,...e)}},uI=function(...t){let e="FIREBASE INTERNAL ERROR: "+cv(...t);rm.error(e)},zu=function(...t){let e=`FIREBASE FATAL ERROR: ${cv(...t)}`;throw rm.error(e),new Error(e)},ro=function(...t){let e="FIREBASE WARNING: "+cv(...t);rm.warn(e)},nle=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ro("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},o4=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},rle=function(t){if(Kl()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},om="[MIN_NAME]",ih="[MAX_NAME]",oh=function(t,e){if(t===e)return 0;if(t===om||e===ih)return-1;if(e===om||t===ih)return 1;{let n=$F(t),r=$F(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ile=function(t,e){return t===e?0:t<e?-1:1},G1=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+$i(e))},a4=function(t){if(typeof t!="object"||t===null)return $i(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=$i(e[r]),n+=":",n+=a4(t[e[r]]);return n+="}",n},_O=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function vs(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var xO=function(t){gt(!o4(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();let c=u.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},sle=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ole=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ale(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var lle=new RegExp("^-?(0*)\\d{1,10}$"),ule=-2147483648,cle=2147483647,$F=function(t){if(lle.test(t)){let e=Number(t);if(e>=ule&&e<=cle)return e}return null},pm=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ro("Exception was thrown by user callback.",n),e},Math.floor(0))}},dle=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},J1=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var cI=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,LF(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){ro(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var dI=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(gs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ro(e)}},Q1=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),b_="5",EO="v",SO="s",CO="r",AO="f",TO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,IO="ls",DO="p",fI="ac",kO="websocket",NO="long_polling";var w_=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nh.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function fle(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function MO(t,e,n){gt(typeof e=="string","typeof type must == string"),gt(typeof n=="object","typeof params must == object");let r;if(e===kO)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===NO)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fle(t)&&(n.ns=t.namespace);let i=[];return vs(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var hI=class{constructor(){this.counters_={}}incrementCounter(e,n=1){tl(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return aF(this.counters_)}};var QT={},eI={};function l4(t){let e=t.toString();return QT[e]||(QT[e]=new hI),QT[e]}function hle(t,e){let n=t.toString();return eI[n]||(eI[n]=e()),eI[n]}var pI=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&pm(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var qF="start",ple="close",mle="pLPCommand",gle="pRTLPCB",RO="id",PO="pw",LO="ser",vle="cb",yle="seg",ble="ts",wle="d",_le="dframe",FO=1870,OO=30,xle=FO-OO,Ele=25e3,Sle=3e4,mI=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dv(e),this.stats_=l4(n),this.urlFn=l=>(this.appCheckToken&&(l[fI]=this.appCheckToken),MO(n,NO,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Sle)),rle(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gI((...s)=>{let[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===qF)this.id=a,this.password=l;else if(o===ple)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[qF]="t",r[LO]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[vle]=this.scriptTagHolder.uniqueCallbackIdentifier),r[EO]=b_,this.transportSessionId&&(r[SO]=this.transportSessionId),this.lastSessionId&&(r[IO]=this.lastSessionId),this.applicationId&&(r[DO]=this.applicationId),this.appCheckToken&&(r[fI]=this.appCheckToken),typeof location<"u"&&location.hostname&&TO.test(location.hostname)&&(r[CO]=AO);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Kl()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!sle()&&!ole()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=$i(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=LT(n),i=_O(r,xle);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Kl())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[_le]="t",r[RO]=e,r[PO]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=$i(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},gI=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Kl())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=ele(),window[mle+this.uniqueCallbackIdentifier]=e,window[gle+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){gs("frame writing exception"),a.stack&&gs(a.stack),gs(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gs("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[RO]=this.myID,e[PO]=this.myPW,e[LO]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+OO+r.length<=FO;){let o=this.pendingSegs.shift();r=r+"&"+yle+i+"="+o.seg+"&"+ble+i+"="+o.ts+"&"+wle+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Ele)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Kl()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{gs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Cle=16384,Ale=45e3,__=null;typeof MozWebSocket<"u"?__=MozWebSocket:typeof WebSocket<"u"&&(__=WebSocket);var Y1=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dv(this.connId),this.stats_=l4(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[EO]=b_,!Kl()&&typeof location<"u"&&location.hostname&&TO.test(location.hostname)&&(a[CO]=AO),r&&(a[SO]=r),i&&(a[IO]=i),s&&(a[fI]=s),o&&(a[DO]=o),MO(n,kO,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nh.set("previous_websocket_failure",!0);try{let i;if(Kl()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${b_}/${s4}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new __(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&__!==null&&!t.forceDisallow_}static previouslyFailed(){return nh.isInMemoryStorage||nh.get("previous_websocket_failure")===!0}markConnectionHealthy(){nh.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Zp(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(gt(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=$i(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=_O(r,Cle);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ale))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),Tle=(()=>{class t{static get ALL_TRANSPORTS(){return[mI,Y1]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Y1&&Y1.isAvailable(),i=r&&!Y1.previouslyFailed();if(n.webSocketOnly&&(r||ro("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Y1];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Ile=6e4,Dle=5e3,kle=10*1024,Nle=100*1024,tI="t",zF="d",Mle="s",WF="r",Rle="e",GF="o",YF="a",XF="n",KF="p",Ple="h",vI=class{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dv("c:"+this.id+":"),this.transportManager_=new Tle(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=J1(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Nle?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kle?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(tI in e){let n=e[tI];n===YF?this.upgradeIfSecondaryHealthy_():n===WF?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===GF&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=G1("t",e),r=G1("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:KF,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:YF,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:XF,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=G1("t",e),r=G1("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=G1(tI,e);if(zF in e){let r=e[zF];if(n===Ple){let i=Ne({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===XF){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Mle?this.onConnectionShutdown_(r):n===WF?this.onReset_(r):n===Rle?uI("Server Error: "+r):n===GF?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uI("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),b_!==r&&ro("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),J1(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ile))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):J1(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Dle))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:KF,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var x_=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var E_=class{constructor(e){this.allowedEvents_=e,this.listeners_={},gt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){gt(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var S_=class t extends E_{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!OT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return gt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var ZF=32,JF=768,Tr=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function vr(){return new Tr("")}function qn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function hd(t){return t.pieces_.length-t.pieceNum_}function Yr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Tr(t.pieces_,e)}function u4(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Lle(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function rv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function BO(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Tr(e,0)}function ui(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Tr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Tr(n,0)}function Kn(t){return t.pieceNum_>=t.pieces_.length}function xo(t,e){let n=qn(t),r=qn(e);if(n===null)return e;if(n===r)return xo(Yr(t),Yr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Fle(t,e){let n=rv(t,0),r=rv(e,0);for(let i=0;i<n.length&&i<r.length;i++){let s=oh(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function c4(t,e){if(hd(t)!==hd(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Aa(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(hd(t)>hd(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var yI=class{constructor(e,n){this.errorPrefix_=n,this.parts_=rv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$1(this.parts_[r]);VO(this)}};function Ole(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=$1(e),VO(t)}function Ble(t){let e=t.parts_.pop();t.byteLength_-=$1(e),t.parts_.length>0&&(t.byteLength_-=1)}function VO(t){if(t.byteLength_>JF)throw new Error(t.errorPrefix_+"has a key path longer than "+JF+" bytes ("+t.byteLength_+").");if(t.parts_.length>ZF)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ZF+") or object contains a cycle "+th(t))}function th(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var bI=class t extends E_{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return gt(e==="visible","Unknown event type: "+e),[this.visible_]}};var X1=1e3,Vle=300*1e3,QF=30*1e3,Ule=1.3,jle=3e4,Hle="server_kill",eO=3,d4=(()=>{class t extends x_{constructor(n,r,i,s,o,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=dv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=X1,this.maxReconnectDelay_=Vle,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!Kl())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bI.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&S_.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_($i(o)),gt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Hu,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),gt(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),gt(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let u=l.d,c=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&tl(n,"w")){let i=Qf(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();ro(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||bF(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=QF)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=yF(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),gt(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+$i(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):uI("Unrecognized action received from server: "+$i(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){gt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=X1,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=X1,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jle&&(this.reconnectDelay_=X1),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ule)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,u=function(){l?l.close():(a=!0,i())},c=function(f){gt(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:u,sendRequest:c};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?gs("getToken() completed but was canceled"):(gs("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new vI(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{ro(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Hle)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ro(f),u())}}}interrupt(n){gs("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){gs("Resuming connection for reason: "+n),delete this.interruptReasons_[n],BT(this.interruptReasons_)&&(this.reconnectDelay_=X1,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>a4(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new Tr(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){gs("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=eO&&(this.reconnectDelay_=QF,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){gs("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=eO&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Kl()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+s4.replace(/\./g,"-")]=1,OT()?n["framework.cordova"]=1:pF()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=S_.getInstance().currentlyOnline();return BT(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),zn=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var am=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new zn(om,e),i=new zn(om,n);return this.compare(r,i)!==0}minPost(){return zn.MIN}};var y_,C_=class extends am{static get __EMPTY_NODE(){return y_}static set __EMPTY_NODE(e){y_=e}compare(e,n){return oh(e.name,n.name)}isDefinedOn(e){throw Jf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return zn.MIN}maxPost(){return new zn(ih,y_)}makePost(e,n){return gt(typeof e=="string","KeyIndex indexValue must always be a string."),new zn(e,y_)}toString(){return".key"}},im=new C_;var nm=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},nl=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Ta.EMPTY_NODE,this.right=o??Ta.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ta.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ta.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),wI=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new nl(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ta=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nl.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nl.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new nm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new nm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new nm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new nm(this.root_,null,this.comparator_,!0,e)}};Ta.EMPTY_NODE=new wI;function $le(t,e){return oh(t.name,e.name)}function f4(t,e){return oh(t,e)}var _I;function qle(t){_I=t}var UO=function(t){return typeof t=="number"?"number:"+xO(t):"string:"+t},jO=function(t){if(t.isLeafNode()){let e=t.val();gt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&tl(e,".sv"),"Priority must be a string or number.")}else gt(t===_I||t.isEmpty(),"priority of unexpected type.");gt(t===_I||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var tO,lm=(()=>{class t{static set __childrenNodeConstructor(n){tO=n}static get __childrenNodeConstructor(){return tO}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,gt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jO(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Kn(n)?this:qn(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=qn(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(gt(i!==".priority"||hd(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yr(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+UO(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=xO(this.value_):n+=this.value_,this.lazyHash_=wO(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(gt(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return gt(s>=0,"Unknown leaf type: "+r),gt(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),HO,$O;function zle(t){HO=t}function Wle(t){$O=t}var xI=class extends am{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?oh(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return zn.MIN}maxPost(){return new zn(ih,new lm("[PRIORITY-POST]",$O))}makePost(e,n){let r=HO(e);return new zn(n,new lm("[PRIORITY-POST]",r))}toString(){return".priority"}},ci=new xI;var Gle=Math.log(2),EI=class{constructor(e){let n=s=>parseInt(Math.log(s)/Gle,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},A_=function(t,e,n,r){t.sort(e);let i=function(l,u){let c=u-l,d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new nl(f,d.node,nl.BLACK,null,null);{let h=parseInt(c/2,10)+l,p=i(l,h),m=i(h+1,u);return d=t[h],f=n?n(d):d,new nl(f,d.node,nl.BLACK,p,m)}},s=function(l){let u=null,c=null,d=t.length,f=function(p,m){let g=d-p,y=d;d-=p;let x=i(g+1,y),T=t[g],R=n?n(T):T;h(new nl(R,T.node,m,null,x))},h=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?f(g,nl.BLACK):(f(g,nl.BLACK),f(g,nl.RED))}return c},o=new EI(t.length),a=s(o);return new Ta(r||e,a)};var nI,tm={},um=class t{static get Default(){return gt(tm&&ci,"ChildrenNode.ts has not been loaded"),nI=nI||new t({".priority":tm},{".priority":ci}),nI}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Qf(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ta?n:null}hasIndex(e){return tl(this.indexSet_,e.toString())}addIndex(e,n){gt(e!==im,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(zn.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=A_(r,e.getCompare()):a=tm;let l=e.toString(),u=Ne({},this.indexSet_);u[l]=e;let c=Ne({},this.indexes_);return c[l]=a,new t(c,u)}addToIndexes(e,n){let r=j1(this.indexes_,(i,s)=>{let o=Qf(this.indexSet_,s);if(gt(o,"Missing index implementation for "+s),i===tm)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(zn.Wrap),u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),A_(a,o.getCompare())}else return tm;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new zn(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=j1(this.indexes_,i=>{if(i===tm)return i;{let s=n.get(e.name);return s?i.remove(new zn(e.name,s)):i}});return new t(r,this.indexSet_)}};var K1,Fn=(()=>{class t{static get EMPTY_NODE(){return K1||(K1=new t(new Ta(f4),null,um.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&jO(this.priorityNode_),this.children_.isEmpty()&&gt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||K1}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?K1:r}}getChild(n){let r=qn(n);return r===null?this:this.getImmediateChild(r).getChild(Yr(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(gt(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new zn(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?K1:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=qn(n);if(i===null)return r;{gt(qn(n)!==".priority"||hd(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(Yr(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(ci,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+UO(this.getPriority().val())+":"),this.forEachChild(ci,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":wO(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new zn(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new zn(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new zn(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,zn.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,zn.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===fv?-1:0}withIndex(n){if(n===im||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===im||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ci),s=r.getIterator(ci),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===im?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),SI=class extends Fn{constructor(){super(new Ta(f4),Fn.EMPTY_NODE,um.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Fn.EMPTY_NODE}isEmpty(){return!1}},fv=new SI;Object.defineProperties(zn,{MIN:{value:new zn(om,Fn.EMPTY_NODE)},MAX:{value:new zn(ih,fv)}});C_.__EMPTY_NODE=Fn.EMPTY_NODE;lm.__childrenNodeConstructor=Fn;qle(fv);Wle(fv);var Yle=!0;function Zi(t,e=null){if(t===null)return Fn.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),gt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new lm(n,Zi(e))}if(!(t instanceof Array)&&Yle){let n=[],r=!1;if(vs(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=Zi(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new zn(o,l)))}}),n.length===0)return Fn.EMPTY_NODE;let s=A_(n,$le,o=>o.name,f4);if(r){let o=A_(n,ci.getCompare());return new Fn(s,Zi(e),new um({".priority":o},{".priority":ci}))}else return new Fn(s,Zi(e),um.Default)}else{let n=Fn.EMPTY_NODE;return vs(t,(r,i)=>{if(tl(t,r)&&r.substring(0,1)!=="."){let s=Zi(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Zi(e))}}zle(Zi);var CI=class extends am{constructor(e){super(),this.indexPath_=e,gt(!Kn(e)&&qn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?oh(e.name,n.name):s}makePost(e,n){let r=Zi(e),i=Fn.EMPTY_NODE.updateChild(this.indexPath_,r);return new zn(n,i)}maxPost(){let e=Fn.EMPTY_NODE.updateChild(this.indexPath_,fv);return new zn(ih,e)}toString(){return rv(this.indexPath_,0).join("/")}};var AI=class extends am{compare(e,n){let r=e.node.compareTo(n.node);return r===0?oh(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return zn.MIN}maxPost(){return zn.MAX}makePost(e,n){let r=Zi(e);return new zn(n,r)}toString(){return".value"}},Xle=new AI;function qO(t){return{type:"value",snapshotNode:t}}function cm(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function iv(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function sv(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Kle(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var ov=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){gt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(iv(n,a)):gt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(cm(n,r)):o.trackChildChange(sv(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ci,(i,s)=>{n.hasChild(i)||r.trackChildChange(iv(i,s))}),n.isLeafNode()||n.forEachChild(ci,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(sv(i,s,o))}else r.trackChildChange(cm(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Fn.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var T_=class t{constructor(e){this.indexedFilter_=new ov(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new zn(n,r))||(r=Fn.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Fn.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Fn.EMPTY_NODE);let s=this;return n.forEachChild(ci,(o,a)=>{s.matches(new zn(o,a))||(i=i.updateImmediateChild(o,Fn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var TI=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new T_(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new zn(n,r))||(r=Fn.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Fn.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Fn.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Fn.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Fn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();let a=e;gt(a.numChildren()===this.limit_,"");let l=new zn(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:o(f,l);if(c&&!r.isEmpty()&&h>=0)return s?.trackChildChange(sv(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(iv(n,d));let m=a.updateImmediateChild(n,Fn.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s?.trackChildChange(cm(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(iv(u.name,u.node)),s.trackChildChange(cm(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Fn.EMPTY_NODE)):e}};var II=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ci}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return gt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return gt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:om}hasEnd(){return this.endSet_}getIndexEndValue(){return gt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return gt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ih}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return gt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ci}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function Zle(t){return t.loadsAllData()?new ov(t.getIndex()):t.hasLimit()?new TI(t):new T_(t)}function nO(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ci?n="$priority":t.index_===Xle?n="$value":t.index_===im?n="$key":(gt(t.index_ instanceof CI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=$i(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=$i(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+$i(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=$i(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+$i(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rO(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ci&&(e.i=t.index_.toString()),e}var DI=class t extends x_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(gt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=dv("p:rest:"),this.listens_={}}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=nO(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Qf(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=nO(e._queryParams),r=e._path.toString(),i=new Hu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wF(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Zp(a.responseText)}catch{ro("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ro("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var kI=class{constructor(){this.rootNode_=Fn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function I_(){return{value:null,children:new Map}}function zO(t,e,n){if(Kn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=qn(e);t.children.has(r)||t.children.set(r,I_());let i=t.children.get(r);e=Yr(e),zO(i,e,n)}}function NI(t,e,n){t.value!==null?n(e,t.value):Jle(t,(r,i)=>{let s=new Tr(e.toString()+"/"+r);NI(i,s,n)})}function Jle(t,e){t.children.forEach((n,r)=>{e(r,n)})}var MI=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Ne({},e);return this.last_&&vs(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var iO=10*1e3,Qle=30*1e3,eue=300*1e3,RI=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new MI(e);let r=iO+(Qle-iO)*Math.random();J1(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;vs(e,(i,s)=>{s>0&&tl(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),J1(this.reportStats_.bind(this),Math.floor(Math.random()*2*eue))}};var Jl=(function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t})(Jl||{});function h4(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function p4(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function m4(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var PI=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Jl.ACK_USER_WRITE,this.source=h4()}operationForChild(e){if(Kn(this.path)){if(this.affectedTree.value!=null)return gt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Tr(e));return new t(vr(),n,this.revert)}}else return gt(qn(this.path)===e,"operationForChild called for unrelated child."),new t(Yr(this.path),this.affectedTree,this.revert)}};var D_=class t{constructor(e,n){this.source=e,this.path=n,this.type=Jl.LISTEN_COMPLETE}operationForChild(e){return Kn(this.path)?new t(this.source,vr()):new t(this.source,Yr(this.path))}};var dm=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Jl.OVERWRITE}operationForChild(e){return Kn(this.path)?new t(this.source,vr(),this.snap.getImmediateChild(e)):new t(this.source,Yr(this.path),this.snap)}};var av=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Jl.MERGE}operationForChild(e){if(Kn(this.path)){let n=this.children.subtree(new Tr(e));return n.isEmpty()?null:n.value?new dm(this.source,vr(),n.value):new t(this.source,vr(),n)}else return gt(qn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Yr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Wu=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Kn(e))return this.isFullyInitialized()&&!this.filtered_;let n=qn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var LI=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function tue(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Kle(o.childName,o.snapshotNode))}),Z1(t,i,"child_removed",e,r,n),Z1(t,i,"child_added",e,r,n),Z1(t,i,"child_moved",s,r,n),Z1(t,i,"child_changed",e,r,n),Z1(t,i,"value",e,r,n),i}function Z1(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>rue(t,a,l)),o.forEach(a=>{let l=nue(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function nue(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function rue(t,e,n){if(e.childName==null||n.childName==null)throw Jf("Should only compare child_ events.");let r=new zn(e.childName,e.snapshotNode),i=new zn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function j_(t,e){return{eventCache:t,serverCache:e}}function ev(t,e,n,r){return j_(new Wu(e,n,r),t.serverCache)}function WO(t,e,n,r){return j_(t.eventCache,new Wu(e,n,r))}function FI(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function sh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var rI,iue=()=>(rI||(rI=new Ta(ile)),rI),io=class t{static fromObject(e){let n=new t(null);return vs(e,(r,i)=>{n=n.set(new Tr(r),i)}),n}constructor(e,n=iue()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:vr(),value:this.value};if(Kn(e))return null;{let r=qn(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(Yr(e),n);return s!=null?{path:ui(new Tr(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Kn(e))return this;{let n=qn(e),r=this.children.get(n);return r!==null?r.subtree(Yr(e)):new t(null)}}set(e,n){if(Kn(e))return new t(n,this.children);{let r=qn(e),s=(this.children.get(r)||new t(null)).set(Yr(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Kn(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=qn(e),r=this.children.get(n);if(r){let i=r.remove(Yr(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Kn(e))return this.value;{let n=qn(e),r=this.children.get(n);return r?r.get(Yr(e)):null}}setTree(e,n){if(Kn(e))return n;{let r=qn(e),s=(this.children.get(r)||new t(null)).setTree(Yr(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(vr(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ui(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,vr(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Kn(e))return null;{let s=qn(e),o=this.children.get(s);return o?o.findOnPath_(Yr(e),ui(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,vr(),n)}foreachOnPath_(e,n,r){if(Kn(e))return this;{this.value&&r(n,this.value);let i=qn(e),s=this.children.get(i);return s?s.foreachOnPath_(Yr(e),ui(n,i),r):new t(null)}}foreach(e){this.foreach_(vr(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ui(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var rl=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new io(null))}};function tv(t,e,n){if(Kn(e))return new rl(new io(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=xo(i,e);return s=s.updateChild(o,n),new rl(t.writeTree_.set(i,s))}else{let i=new io(n),s=t.writeTree_.setTree(e,i);return new rl(s)}}}function OI(t,e,n){let r=t;return vs(n,(i,s)=>{r=tv(r,ui(e,i),s)}),r}function sO(t,e){if(Kn(e))return rl.empty();{let n=t.writeTree_.setTree(e,new io(null));return new rl(n)}}function BI(t,e){return ah(t,e)!=null}function ah(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(xo(n.path,e)):null}function oO(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ci,(r,i)=>{e.push(new zn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new zn(r,i.value))}),e}function fd(t,e){if(Kn(e))return t;{let n=ah(t,e);return n!=null?new rl(new io(n)):new rl(t.writeTree_.subtree(e))}}function VI(t){return t.writeTree_.isEmpty()}function fm(t,e){return GO(vr(),t.writeTree_,e)}function GO(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(gt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=GO(ui(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ui(t,".priority"),r)),n}}function g4(t,e){return ZO(e,t)}function sue(t,e,n,r,i){gt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=tv(t.visibleWrites,e,n)),t.lastWriteId=r}function oue(t,e,n,r){gt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=OI(t.visibleWrites,e,n),t.lastWriteId=r}function aue(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function lue(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);gt(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&uue(a,r.path)?i=!1:Aa(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return cue(t),!0;if(r.snap)t.visibleWrites=sO(t.visibleWrites,r.path);else{let a=r.children;vs(a,l=>{t.visibleWrites=sO(t.visibleWrites,ui(r.path,l))})}return!0}else return!1}function uue(t,e){if(t.snap)return Aa(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Aa(ui(t.path,n),e))return!0;return!1}function cue(t){t.visibleWrites=YO(t.allWrites,due,vr()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function due(t){return t.visible}function YO(t,e,n){let r=rl.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Aa(n,o)?(a=xo(n,o),r=tv(r,a,s.snap)):Aa(o,n)&&(a=xo(o,n),r=tv(r,vr(),s.snap.getChild(a)));else if(s.children){if(Aa(n,o))a=xo(n,o),r=OI(r,a,s.children);else if(Aa(o,n))if(a=xo(o,n),Kn(a))r=OI(r,vr(),s.children);else{let l=Qf(s.children,qn(a));if(l){let u=l.getChild(Yr(a));r=tv(r,vr(),u)}}}else throw Jf("WriteRecord should have .snap or .children")}}return r}function XO(t,e,n,r,i){if(!r&&!i){let s=ah(t.visibleWrites,e);if(s!=null)return s;{let o=fd(t.visibleWrites,e);if(VI(o))return n;if(n==null&&!BI(o,vr()))return null;{let a=n||Fn.EMPTY_NODE;return fm(o,a)}}}else{let s=fd(t.visibleWrites,e);if(!i&&VI(s))return n;if(!i&&n==null&&!BI(s,vr()))return null;{let o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Aa(u.path,e)||Aa(e,u.path))},a=YO(t.allWrites,o,e),l=n||Fn.EMPTY_NODE;return fm(a,l)}}}function fue(t,e,n){let r=Fn.EMPTY_NODE,i=ah(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ci,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=fd(t.visibleWrites,e);return n.forEachChild(ci,(o,a)=>{let l=fm(fd(s,new Tr(o)),a);r=r.updateImmediateChild(o,l)}),oO(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=fd(t.visibleWrites,e);return oO(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function hue(t,e,n,r,i){gt(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=ui(e,n);if(BI(t.visibleWrites,s))return null;{let o=fd(t.visibleWrites,s);return VI(o)?i.getChild(n):fm(o,i.getChild(n))}}function pue(t,e,n,r){let i=ui(e,n),s=ah(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=fd(t.visibleWrites,i);return fm(o,r.getNode().getImmediateChild(n))}else return null}function mue(t,e){return ah(t.visibleWrites,e)}function gue(t,e,n,r,i,s,o){let a,l=fd(t.visibleWrites,e),u=ah(l,vr());if(u!=null)a=u;else if(n!=null)a=fm(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),h=f.getNext();for(;h&&c.length<i;)d(h,r)!==0&&c.push(h),h=f.getNext();return c}else return[]}function vue(){return{visibleWrites:rl.empty(),allWrites:[],lastWriteId:-1}}function k_(t,e,n,r){return XO(t.writeTree,t.treePath,e,n,r)}function v4(t,e){return fue(t.writeTree,t.treePath,e)}function aO(t,e,n,r){return hue(t.writeTree,t.treePath,e,n,r)}function N_(t,e){return mue(t.writeTree,ui(t.treePath,e))}function yue(t,e,n,r,i,s){return gue(t.writeTree,t.treePath,e,n,r,i,s)}function y4(t,e,n){return pue(t.writeTree,t.treePath,e,n)}function KO(t,e){return ZO(ui(t.treePath,e),t.writeTree)}function ZO(t,e){return{treePath:t,writeTree:e}}var UI=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;gt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),gt(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,sv(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,iv(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,cm(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,sv(r,e.snapshotNode,i.oldSnap));else throw Jf("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var jI=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},JO=new jI,lv=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Wu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return y4(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sh(this.viewCache_),s=yue(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function bue(t){return{filter:t}}function wue(t,e){gt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),gt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function _ue(t,e,n,r,i){let s=new UI,o,a;if(n.type===Jl.OVERWRITE){let u=n;u.source.fromUser?o=HI(t,e,u.path,u.snap,r,i,s):(gt(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Kn(u.path),o=M_(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Jl.MERGE){let u=n;u.source.fromUser?o=Eue(t,e,u.path,u.children,r,i,s):(gt(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=$I(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Jl.ACK_USER_WRITE){let u=n;u.revert?o=Aue(t,e,u.path,r,i,s):o=Sue(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Jl.LISTEN_COMPLETE)o=Cue(t,e,n.path,r,s);else throw Jf("Unknown operation type: "+n.type);let l=s.getChanges();return xue(e,o,l),{viewCache:o,changes:l}}function xue(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=FI(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(qO(FI(e)))}}function QO(t,e,n,r,i,s){let o=e.eventCache;if(N_(r,n)!=null)return e;{let a,l;if(Kn(n))if(gt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=sh(e),c=u instanceof Fn?u:Fn.EMPTY_NODE,d=v4(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let u=k_(r,sh(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let u=qn(n);if(u===".priority"){gt(hd(n)===1,"Can't have a priority with additional path components");let c=o.getNode();l=e.serverCache.getNode();let d=aO(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{let c=Yr(n),d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();let f=aO(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=y4(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return ev(e,a,o.isFullyInitialized()||Kn(n),t.filter.filtersNodes())}}function M_(t,e,n,r,i,s,o,a){let l=e.serverCache,u,c=o?t.filter:t.filter.getIndexedFilter();if(Kn(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{let h=qn(n);if(!l.isCompleteForPath(n)&&hd(n)>1)return e;let p=Yr(n),g=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?u=c.updatePriority(l.getNode(),g):u=c.updateChild(l.getNode(),h,g,p,JO,null)}let d=WO(e,u,l.isFullyInitialized()||Kn(n),c.filtersNodes()),f=new lv(i,d,s);return QO(t,d,n,i,f,a)}function HI(t,e,n,r,i,s,o){let a=e.eventCache,l,u,c=new lv(i,e,s);if(Kn(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ev(e,u,!0,t.filter.filtersNodes());else{let d=qn(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=ev(e,u,a.isFullyInitialized(),a.isFiltered());else{let f=Yr(n),h=a.getNode().getImmediateChild(d),p;if(Kn(f))p=r;else{let m=c.getCompleteChild(d);m!=null?u4(f)===".priority"&&m.getChild(BO(f)).isEmpty()?p=m:p=m.updateChild(f,r):p=Fn.EMPTY_NODE}if(h.equals(p))l=e;else{let m=t.filter.updateChild(a.getNode(),d,p,f,c,o);l=ev(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function lO(t,e){return t.eventCache.isCompleteForChild(e)}function Eue(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{let c=ui(n,l);lO(e,qn(c))&&(a=HI(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{let c=ui(n,l);lO(e,qn(c))||(a=HI(t,a,c,u,i,s,o))}),a}function uO(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function $I(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Kn(n)?u=r:u=new io(null).setTree(n,r);let c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=uO(t,h,f);l=M_(t,l,new Tr(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),m=uO(t,p,f);l=M_(t,l,new Tr(d),m,i,s,o,a)}}),l}function Sue(t,e,n,r,i,s,o){if(N_(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Kn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return M_(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Kn(n)){let u=new io(null);return l.getNode().forEachChild(im,(c,d)=>{u=u.set(new Tr(c),d)}),$I(t,e,n,u,i,s,a,o)}else return e}else{let u=new io(null);return r.foreach((c,d)=>{let f=ui(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),$I(t,e,n,u,i,s,a,o)}}function Cue(t,e,n,r,i){let s=e.serverCache,o=WO(e,s.getNode(),s.isFullyInitialized()||Kn(n),s.isFiltered());return QO(t,o,n,r,JO,i)}function Aue(t,e,n,r,i,s){let o;if(N_(r,n)!=null)return e;{let a=new lv(r,e,i),l=e.eventCache.getNode(),u;if(Kn(n)||qn(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=k_(r,sh(e));else{let d=e.serverCache.getNode();gt(d instanceof Fn,"serverChildren would be complete if leaf node"),c=v4(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{let c=qn(n),d=y4(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,Yr(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Fn.EMPTY_NODE,Yr(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=k_(r,sh(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||N_(r,vr())!=null,ev(e,u,o,t.filter.filtersNodes())}}var qI=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new ov(r.getIndex()),s=Zle(r);this.processor_=bue(s);let o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Fn.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Fn.EMPTY_NODE,a.getNode(),null),c=new Wu(l,o.isFullyInitialized(),i.filtersNodes()),d=new Wu(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=j_(d,c),this.eventGenerator_=new LI(this.query_)}get query(){return this.query_}};function Tue(t){return t.viewCache_.serverCache.getNode()}function Iue(t,e){let n=sh(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Kn(e)&&!n.getImmediateChild(qn(e)).isEmpty())?n.getChild(e):null}function cO(t){return t.eventRegistrations_.length===0}function Due(t,e){t.eventRegistrations_.push(e)}function dO(t,e,n){let r=[];if(n){gt(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function fO(t,e,n,r){e.type===Jl.MERGE&&e.source.queryId!==null&&(gt(sh(t.viewCache_),"We should always have a full cache before handling merges"),gt(FI(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=_ue(t.processor_,i,e,n,r);return wue(t.processor_,s.viewCache),gt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,eB(t,s.changes,s.viewCache.eventCache.getNode(),null)}function kue(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ci,(s,o)=>{r.push(cm(s,o))}),n.isFullyInitialized()&&r.push(qO(n.getNode())),eB(t,r,n.getNode(),e)}function eB(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return tue(t.eventGenerator_,e,n,i)}var R_,zI=class{constructor(){this.views=new Map}};function Nue(t){gt(!R_,"__referenceConstructor has already been defined"),R_=t}function Mue(){return gt(R_,"Reference.ts has not been loaded"),R_}function Rue(t){return t.views.size===0}function b4(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return gt(s!=null,"SyncTree gave us an op for an invalid query."),fO(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(fO(o,e,n,r));return s}}function Pue(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=k_(n,i?r:null),l=!1;a?l=!0:r instanceof Fn?(a=v4(n,r),l=!1):(a=Fn.EMPTY_NODE,l=!1);let u=j_(new Wu(a,l,!1),new Wu(r,i,!1));return new qI(e,u)}return o}function Lue(t,e,n,r,i,s){let o=Pue(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Due(o,n),kue(o,n)}function Fue(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=pd(t);if(i==="default")for(let[l,u]of t.views.entries())o=o.concat(dO(u,n,r)),cO(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{let l=t.views.get(i);l&&(o=o.concat(dO(l,n,r)),cO(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!pd(t)&&s.push(new(Mue())(e._repo,e._path)),{removed:s,events:o}}function tB(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function sm(t,e){let n=null;for(let r of t.views.values())n=n||Iue(r,e);return n}function nB(t,e){if(e._queryParams.loadsAllData())return H_(t);{let r=e._queryIdentifier;return t.views.get(r)}}function rB(t,e){return nB(t,e)!=null}function pd(t){return H_(t)!=null}function H_(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var P_;function Oue(t){gt(!P_,"__referenceConstructor has already been defined"),P_=t}function Bue(){return gt(P_,"Reference.ts has not been loaded"),P_}var Vue=1,L_=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new io(null),this.pendingWriteTree_=vue(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function iB(t,e,n,r,i){return sue(t.pendingWriteTree_,e,n,r,i),i?mm(t,new dm(h4(),e,n)):[]}function Uue(t,e,n,r){oue(t.pendingWriteTree_,e,n,r);let i=io.fromObject(n);return mm(t,new av(h4(),e,i))}function dd(t,e,n=!1){let r=aue(t.pendingWriteTree_,e);if(lue(t.pendingWriteTree_,e)){let s=new io(null);return r.snap!=null?s=s.set(vr(),!0):vs(r.children,o=>{s=s.set(new Tr(o),!0)}),mm(t,new PI(r.path,s,n))}else return[]}function $_(t,e,n){return mm(t,new dm(p4(),e,n))}function jue(t,e,n){let r=io.fromObject(n);return mm(t,new av(p4(),e,r))}function Hue(t,e){return mm(t,new D_(p4(),e))}function $ue(t,e,n){let r=_4(t,n);if(r){let i=x4(r),s=i.path,o=i.queryId,a=xo(s,e),l=new D_(m4(o),a);return E4(t,s,l)}else return[]}function WI(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||rB(o,e))){let l=Fue(o,e,n,r);Rue(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let u=l.removed;if(a=l.events,!i){let c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,h)=>pd(h));if(c&&!d){let f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){let h=Wue(f);for(let p=0;p<h.length;++p){let m=h[p],g=m.query,y=aB(t,m);t.listenProvider_.startListening(nv(g),F_(t,g),y.hashFn,y.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(nv(e),null):u.forEach(f=>{let h=t.queryToTagMap.get(q_(f));t.listenProvider_.stopListening(nv(f),h)}))}Gue(t,u)}return a}function que(t,e,n,r){let i=_4(t,r);if(i!=null){let s=x4(i),o=s.path,a=s.queryId,l=xo(o,e),u=new dm(m4(a),l,n);return E4(t,o,u)}else return[]}function zue(t,e,n,r){let i=_4(t,r);if(i){let s=x4(i),o=s.path,a=s.queryId,l=xo(o,e),u=io.fromObject(n),c=new av(m4(a),l,u);return E4(t,o,c)}else return[]}function hO(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=xo(f,i);s=s||sm(h,p),o=o||pd(h)});let a=t.syncPointTree_.get(i);a?(o=o||pd(a),s=s||sm(a,vr())):(a=new zI,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Fn.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let m=sm(p,vr());m&&(s=s.updateImmediateChild(h,m))}));let u=rB(a,e);if(!u&&!e._queryParams.loadsAllData()){let f=q_(e);gt(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=Yue();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let c=g4(t.pendingWriteTree_,i),d=Lue(a,e,n,c,s,l);if(!u&&!o&&!r){let f=nB(a,e);d=d.concat(Xue(t,e,f))}return d}function w4(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=xo(o,e),u=sm(a,l);if(u)return u});return XO(i,e,s,n,!0)}function mm(t,e){return sB(e,t.syncPointTree_,null,g4(t.pendingWriteTree_,vr()))}function sB(t,e,n,r){if(Kn(t.path))return oB(t,e,n,r);{let i=e.get(vr());n==null&&i!=null&&(n=sm(i,vr()));let s=[],o=qn(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let u=n?n.getImmediateChild(o):null,c=KO(r,o);s=s.concat(sB(a,l,u,c))}return i&&(s=s.concat(b4(i,t,r,n))),s}}function oB(t,e,n,r){let i=e.get(vr());n==null&&i!=null&&(n=sm(i,vr()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,u=KO(r,o),c=t.operationForChild(o);c&&(s=s.concat(oB(c,a,l,u)))}),i&&(s=s.concat(b4(i,t,r,n))),s}function aB(t,e){let n=e.query,r=F_(t,n);return{hashFn:()=>(Tue(e)||Fn.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?$ue(t,n._path,r):Hue(t,n._path);{let s=ale(i,n);return WI(t,n,null,s)}}}}function F_(t,e){let n=q_(e);return t.queryToTagMap.get(n)}function q_(t){return t._path.toString()+"$"+t._queryIdentifier}function _4(t,e){return t.tagToQueryMap.get(e)}function x4(t){let e=t.indexOf("$");return gt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Tr(t.substr(0,e))}}function E4(t,e,n){let r=t.syncPointTree_.get(e);gt(r,"Missing sync point for query tag that we're tracking");let i=g4(t.pendingWriteTree_,e);return b4(r,n,i,null)}function Wue(t){return t.fold((e,n,r)=>{if(n&&pd(n))return[H_(n)];{let i=[];return n&&(i=tB(n)),vs(r,(s,o)=>{i=i.concat(o)}),i}})}function nv(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Bue())(t._repo,t._path):t}function Gue(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=q_(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Yue(){return Vue++}function Xue(t,e,n){let r=e._path,i=F_(t,e),s=aB(t,n),o=t.listenProvider_.startListening(nv(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)gt(!pd(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((u,c,d)=>{if(!Kn(u)&&c&&pd(c))return[H_(c).query];{let f=[];return c&&(f=f.concat(tB(c).map(h=>h.query))),vs(d,(h,p)=>{f=f.concat(p)}),f}});for(let u=0;u<l.length;++u){let c=l[u];t.listenProvider_.stopListening(nv(c),F_(t,c))}}return o}var GI=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},YI=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=ui(this.path_,e);return new t(this.syncTree_,n)}node(){return w4(this.syncTree_,this.path_)}},Kue=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},pO=function(t,e,n){if(!t||typeof t!="object")return t;if(gt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Zue(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Jue(t[".sv"],e);gt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Zue=function(t,e,n){if(t==="timestamp")return n.timestamp;gt(!1,"Unexpected server value: "+t)},Jue=function(t,e,n){t.hasOwnProperty("increment")||gt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&gt(!1,"Unexpected increment value: "+r);let i=e.node();if(gt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},lB=function(t,e,n,r){return S4(e,new YI(n,t),r)},uB=function(t,e,n){return S4(t,new GI(e),n)};function S4(t,e,n){let r=t.getPriority().val(),i=pO(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=pO(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new lm(a,Zi(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new lm(i))),o.forEachChild(ci,(a,l)=>{let u=S4(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}var uv=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function C4(t,e){let n=e instanceof Tr?e:new Tr(e),r=t,i=qn(n);for(;i!==null;){let s=Qf(r.node.children,i)||{children:{},childCount:0};r=new uv(i,r,s),n=Yr(n),i=qn(n)}return r}function gm(t){return t.node.value}function cB(t,e){t.node.value=e,XI(t)}function dB(t){return t.node.childCount>0}function Que(t){return gm(t)===void 0&&!dB(t)}function z_(t,e){vs(t.node.children,(n,r)=>{e(new uv(n,t,r))})}function fB(t,e,n,r){n&&!r&&e(t),z_(t,i=>{fB(i,e,!0,r)}),n&&r&&e(t)}function ece(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function hv(t){return new Tr(t.parent===null?t.name:hv(t.parent)+"/"+t.name)}function XI(t){t.parent!==null&&tce(t.parent,t.name,t)}function tce(t,e,n){let r=Que(n),i=tl(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,XI(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,XI(t))}var nce=/[\[\].#$\/\u0000-\u001F\u007F]/,rce=/[\[\].#$\u0000-\u001F\u007F]/,iI=10*1024*1024,A4=function(t){return typeof t=="string"&&t.length!==0&&!nce.test(t)},hB=function(t){return typeof t=="string"&&t.length!==0&&!rce.test(t)},ice=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),hB(t)},sce=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!o4(t)||t&&typeof t=="object"&&tl(t,".sv")},oce=function(t,e,n,r){r&&e===void 0||W_(H1(t,"value"),e,n)},W_=function(t,e,n){let r=n instanceof Tr?new yI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+th(r));if(typeof e=="function")throw new Error(t+"contains a function "+th(r)+" with contents = "+e.toString());if(o4(e))throw new Error(t+"contains "+e.toString()+" "+th(r));if(typeof e=="string"&&e.length>iI/3&&$1(e)>iI)throw new Error(t+"contains a string greater than "+iI+" utf8 bytes "+th(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(vs(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!A4(o)))throw new Error(t+" contains an invalid key ("+o+") "+th(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ole(r,o),W_(t,a,r),Ble(r)}),i&&s)throw new Error(t+' contains ".value" child '+th(r)+" in addition to actual children.")}},ace=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let s=rv(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!A4(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Fle);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Aa(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},lce=function(t,e,n,r){if(r&&e===void 0)return;let i=H1(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let s=[];vs(e,(o,a)=>{let l=new Tr(o);if(W_(i,a,ui(n,l)),u4(l)===".priority"&&!sce(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),ace(i,s)};var pB=function(t,e,n,r){if(!(r&&n===void 0)&&!hB(n))throw new Error(H1(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},uce=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pB(t,e,n,r)},cce=function(t,e){if(qn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},dce=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!A4(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ice(n))throw new Error(H1(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var KI=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function G_(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!c4(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function mB(t,e,n){G_(t,n),gB(t,r=>c4(r,e))}function il(t,e,n){G_(t,n),gB(t,r=>Aa(r,e)||Aa(e,r))}function gB(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(fce(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function fce(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();rh&&gs("event: "+n.toString()),pm(r)}}}var hce="repo_interrupt",pce=25,ZI=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=I_(),this.transactionQueueTree_=new uv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function mce(t,e,n){if(t.stats_=l4(t.repoInfo_),t.forceRestClient_||dle())t.server_=new DI(t.repoInfo_,(r,i,s,o)=>{mO(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>gO(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$i(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new d4(t.repoInfo_,e,(r,i,s,o)=>{mO(t,r,i,s,o)},r=>{gO(t,r)},r=>{vce(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=hle(t.repoInfo_,()=>new RI(t.stats_,t.server_)),t.infoData_=new kI,t.infoSyncTree_=new L_({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=$_(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),T4(t,"connected",!1),t.serverSyncTree_=new L_({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let u=o(a,l);il(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function gce(t){let n=t.infoData_.getNode(new Tr(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Y_(t){return Kue({timestamp:gce(t)})}function mO(t,e,n,r,i){t.dataUpdateCount++;let s=new Tr(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=j1(n,u=>Zi(u));o=zue(t.serverSyncTree_,s,l,i)}else{let l=Zi(n);o=que(t.serverSyncTree_,s,l,i)}else if(r){let l=j1(n,u=>Zi(u));o=jue(t.serverSyncTree_,s,l)}else{let l=Zi(n);o=$_(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=hm(t,s)),il(t.eventQueue_,a,o)}function gO(t,e){T4(t,"connected",e),e===!1&&wce(t)}function vce(t,e){vs(e,(n,r)=>{T4(t,n,r)})}function T4(t,e,n){let r=new Tr("/.info/"+e),i=Zi(n);t.infoData_.updateSnapshot(r,i);let s=$_(t.infoSyncTree_,r,i);il(t.eventQueue_,r,s)}function I4(t){return t.nextWriteId_++}function yce(t,e,n,r,i){X_(t,"set",{path:e.toString(),value:n,priority:r});let s=Y_(t),o=Zi(n,r),a=w4(t.serverSyncTree_,e),l=uB(o,a,s),u=I4(t),c=iB(t.serverSyncTree_,e,l,u,!0);G_(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(f,h)=>{let p=f==="ok";p||ro("set at "+e+" failed: "+f);let m=dd(t.serverSyncTree_,u,!p);il(t.eventQueue_,e,m),JI(t,i,f,h)});let d=k4(t,e);hm(t,d),il(t.eventQueue_,d,[])}function bce(t,e,n,r){X_(t,"update",{path:e.toString(),value:n});let i=!0,s=Y_(t),o={};if(vs(n,(a,l)=>{i=!1,o[a]=lB(ui(e,a),Zi(l),t.serverSyncTree_,s)}),i)gs("update() called with empty data.  Don't do anything."),JI(t,r,"ok",void 0);else{let a=I4(t),l=Uue(t.serverSyncTree_,e,o,a);G_(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{let d=u==="ok";d||ro("update at "+e+" failed: "+u);let f=dd(t.serverSyncTree_,a,!d),h=f.length>0?hm(t,e):e;il(t.eventQueue_,h,f),JI(t,r,u,c)}),vs(n,u=>{let c=k4(t,ui(e,u));hm(t,c)}),il(t.eventQueue_,e,[])}}function wce(t){X_(t,"onDisconnectEvents");let e=Y_(t),n=I_();NI(t.onDisconnect_,vr(),(i,s)=>{let o=lB(i,s,t.serverSyncTree_,e);zO(n,i,o)});let r=[];NI(n,vr(),(i,s)=>{r=r.concat($_(t.serverSyncTree_,i,s));let o=k4(t,i);hm(t,o)}),t.onDisconnect_=I_(),il(t.eventQueue_,vr(),r)}function _ce(t,e,n){let r;qn(e._path)===".info"?r=hO(t.infoSyncTree_,e,n):r=hO(t.serverSyncTree_,e,n),mB(t.eventQueue_,e._path,r)}function vO(t,e,n){let r;qn(e._path)===".info"?r=WI(t.infoSyncTree_,e,n):r=WI(t.serverSyncTree_,e,n),mB(t.eventQueue_,e._path,r)}function xce(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hce)}function X_(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),gs(n,...e)}function JI(t,e,n,r){e&&pm(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function vB(t,e,n){return w4(t.serverSyncTree_,e,n)||Fn.EMPTY_NODE}function D4(t,e=t.transactionQueueTree_){if(e||K_(t,e),gm(e)){let n=bB(t,e);gt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Ece(t,hv(e),n)}else dB(e)&&z_(e,n=>{D4(t,n)})}function Ece(t,e,n){let r=n.map(u=>u.currentWriteId),i=vB(t,e,r),s=i,o=i.hash();for(let u=0;u<n.length;u++){let c=n[u];gt(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;let d=xo(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{X_(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(dd(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();K_(t,C4(t.transactionQueueTree_,e)),D4(t,t.transactionQueueTree_),il(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)pm(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ro("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}hm(t,e)}},o)}function hm(t,e){let n=yB(t,e),r=hv(n),i=bB(t,n);return Sce(t,i,r),r}function Sce(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],u=xo(n,l.path),c=!1,d;if(gt(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(dd(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=pce)c=!0,d="maxretry",i=i.concat(dd(t.serverSyncTree_,l.currentWriteId,!0));else{let f=vB(t,l.path,o);l.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){W_("transaction failed: Data returned ",h,l.path);let p=Zi(h);typeof h=="object"&&h!=null&&tl(h,".priority")||(p=p.updatePriority(f.getPriority()));let g=l.currentWriteId,y=Y_(t),x=uB(p,f,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=x,l.currentWriteId=I4(t),o.splice(o.indexOf(g),1),i=i.concat(iB(t.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(dd(t.serverSyncTree_,g,!0))}else c=!0,d="nodata",i=i.concat(dd(t.serverSyncTree_,l.currentWriteId,!0))}il(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,(function(f){setTimeout(f,Math.floor(0))})(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}K_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)pm(r[a]);D4(t,t.transactionQueueTree_)}function yB(t,e){let n,r=t.transactionQueueTree_;for(n=qn(e);n!==null&&gm(r)===void 0;)r=C4(r,n),e=Yr(e),n=qn(e);return r}function bB(t,e){let n=[];return wB(t,e,n),n.sort((r,i)=>r.order-i.order),n}function wB(t,e,n){let r=gm(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);z_(e,i=>{wB(t,i,n)})}function K_(t,e){let n=gm(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,cB(e,n.length>0?n:void 0)}z_(e,r=>{K_(t,r)})}function k4(t,e){let n=hv(yB(t,e)),r=C4(t.transactionQueueTree_,e);return ece(r,i=>{sI(t,i)}),sI(t,r),fB(r,i=>{sI(t,i)}),n}function sI(t,e){let n=gm(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(gt(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(gt(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(dd(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?cB(e,void 0):n.length=s+1,il(t.eventQueue_,hv(e),i);for(let o=0;o<r.length;o++)pm(r[o])}}function Cce(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Ace(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ro(`Invalid query segment '${n}' in query '${t}'`)}return e}var yO=function(t,e){let n=Tce(t),r=n.namespace;n.domain==="firebase.com"&&zu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&zu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||nle();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new w_(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Tr(n.pathString)}},Tce=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=Cce(t.substring(c,d)));let f=Ace(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;let h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var O_=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$i(this.snapshot.exportVal())}},B_=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var QI=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return gt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var e4=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Kn(this._path)?null:u4(this._path)}get ref(){return new Gu(this._repo,this._path)}get _queryIdentifier(){let e=rO(this._queryParams),n=a4(e);return n==="{}"?"default":n}get _queryObject(){return rO(this._queryParams)}isEqual(e){if(e=Qp(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=c4(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Lle(this._path)}};var Gu=class t extends e4{constructor(e,n){super(e,n,new II,!1)}get parent(){let e=BO(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},V_=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Tr(e),r=U_(this.ref,e);return new t(this._node.getChild(n),r,ci)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,U_(this.ref,r),ci)))}hasChild(e){let n=new Tr(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Yu(t,e){return t=Qp(t),t._checkNotDeleted("ref"),e!==void 0?U_(t._root,e):t._root}function U_(t,e){return t=Qp(t),qn(t._path)===null?uce("child","path",e,!1):pB("child","path",e,!1),new Gu(t._repo,ui(t._path,e))}function N4(t,e){t=Qp(t),cce("set",t._path),oce("set",e,t._path,!1);let n=new Hu;return yce(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function pv(t,e){lce("update",e,t._path,!1);let n=new Hu;return bce(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}var t4=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new O_("value",this,new V_(e.snapshotNode,new Gu(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new B_(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},n4=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new B_(this,e,n):null}createEvent(e,n){gt(e.childName!=null,"Child events should have a childName.");let r=U_(new Gu(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new O_(e.type,this,new V_(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Ice(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let l=n,u=(c,d)=>{vO(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}let o=new QI(n,s||void 0),a=e==="value"?new t4(o):new n4(e,o);return _ce(t._repo,t,a),()=>vO(t._repo,t,a)}function M4(t,e,n,r){return Ice(t,"value",e,n,r)}Nue(Gu);Oue(Gu);var Dce="FIREBASE_DATABASE_EMULATOR_HOST",r4={},kce=!1;function Nce(t,e,n,r){let i=e.lastIndexOf(":"),s=e.substring(0,i),o=p_(s);t.repoInfo_=new w_(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Mce(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||zu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gs("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=yO(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[Dce]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=yO(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let c=i&&l?new Q1(Q1.OWNER):new dI(t.name,t.options,e);dce("Invalid Firebase Database URL",o),Kn(o.path)||zu("Database URL must point to the root of a Firebase Database (not including a child path).");let d=Pce(a,t,c,new cI(t,n));return new i4(d,t)}function Rce(t,e){let n=r4[e];(!n||n[t.key]!==t)&&zu(`Database ${e}(${t.repoInfo_}) has already been deleted.`),xce(t),delete n[t.key]}function Pce(t,e,n,r){let i=r4[e.name];i||(i={},r4[e.name]=i);let s=i[t.toURLString()];return s&&zu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ZI(t,kce,n,r),i[t.toURLString()]=s,s}var i4=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(mce(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gu(this._repo,vr())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Rce(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zu("Cannot call "+e+" on a deleted database.")}};function _B(t=OF(),e){let n=PF(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=cF("database");r&&Lce(n,...r)}return n}function Lce(t,e,n,r={}){t=Qp(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Jp(r,s.repoInfo_.emulatorOptions))return;zu("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&zu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Q1(Q1.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:fF(r.mockUserToken,t.app.options.projectId);o=new Q1(a)}p_(e)&&(dF(e),hF("Database",!0)),Nce(s,i,r,o)}function Fce(t){Qae(FF),z1(new $u("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Mce(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),cd(UF,jF,t),cd(UF,jF,"esm2020")}d4.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};d4.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Fce();var R4=[{eco:"35526",serial:"92719",sap:"4000026523",ops:["Carlos Eduardo Vazquez Calderon","Cristofer Ariel Rivera Cruz","Juan Gardu\xF1o Chaparro","Victor Hugo Moreno De la cruz"]},{eco:"37191",serial:"95159",sap:void 0,ops:["Miguel \xC1ngel Torres","Jos\xE9 Luis Hern\xE1ndez","Roberto S\xE1nchez","Alejandro Ruiz"]},{eco:"37192",serial:"95162",sap:void 0,ops:["Fernando Mart\xEDnez","Ricardo L\xF3pez","Daniel Garc\xEDa"]},{eco:"37193",serial:"95074",sap:void 0,ops:["Eduardo P\xE9rez","Jorge Ram\xEDrez","Luis Morales","Gabriel Flores"]},{eco:"37194",serial:"95056",sap:void 0,ops:["Oscar Gonz\xE1lez","Adri\xE1n Castillo","Manuel D\xEDaz","Rub\xE9n Romero"]},{eco:"37195",serial:"95049",sap:void 0,ops:["Javier Ortiz","Sergio Medina","Andr\xE9s Vargas","Ra\xFAl Castro"]},{eco:"40019",serial:"97520",sap:void 0,ops:["Hugo Herrera","Francisco Jim\xE9nez","Mart\xEDn Silva","Pedro Mendoza"]},{eco:"40020",serial:"97519",sap:void 0,ops:["Diego Rojas","Alberto Cruz","Mario Aguilar","C\xE9sar Guti\xE9rrez"]},{eco:"40021",serial:"97532",sap:void 0,ops:["Enrique \xC1lvarez","Gustavo M\xE9ndez","Felipe Ortega"]},{eco:"40060",serial:"97529",sap:void 0,ops:["Pablo Rios","H\xE9ctor Delgado","Salvador Pe\xF1a","Tom\xE1s Navarro"]},{eco:"40327",serial:"97560",sap:void 0,ops:["Ismael Guerrero","Rafael Soto","\xC1ngel Campos","Ram\xF3n Vega"]},{eco:"40328",serial:"97562",sap:void 0,ops:["Vicente Molina","Julio Cabrera","Esteban Miranda"]},{eco:"40338",serial:"66458",sap:void 0,ops:["Emilio Pacheco","F\xE9lix Cordero","Lorenzo Montes","Benjam\xEDn Sol\xEDs"]},{eco:"29439",serial:"66454",sap:"4000018761",ops:["Gerardo Lara","Mauricio Acosta"]},{eco:"29440",serial:"66541",sap:"4000018763",ops:["Samuel Valencia","Dario Espinoza"]},{eco:"35482",serial:"92714",sap:"4000026495",ops:["Alfredo Beltr\xE1n","Rogelio C\xE1rdenas","Sim\xF3n Orozco","Elias Villalobos"]},{eco:"35483",serial:"92730",sap:"4000026496",ops:["Lucas Maldonado","Mateo Ibarra","Nicol\xE1s Zavala","Joaqu\xEDn Trejo"]},{eco:"35494",serial:"92732",sap:"4000026522",ops:["Sebasti\xE1n Gallegos","Dami\xE1n Ponce","Juli\xE1n Esquivel","Leonardo Rocha"]}],Oce="Sergio Guadarrama Gonzales",Bce="Planta Cuautitl\xE1n - Cuautitl\xE1n Izcalli, Edo de Mex.",Vce="Toyota 32-8FG30";function xB(t){return R4.map((e,n)=>{let r=Math.random(),i=0;r>.95?i=1:r>.85&&(i=2),e.eco==="35526"&&(i=1);let s=t[i],o=new Date;return i!==0&&o.setDate(o.getDate()-Math.floor(Math.random()*5)),{id:e.eco,brand:"Toyota",model:Vce,serial:e.serial,sapCode:e.sap,acquisitionDate:"2020-06-15",fuelType:"GLP/Gasolina Dual",status:s,statusSince:o.toISOString(),location:Bce,critical:n<5,cleanlinessStatus:"Pending",supervisor:Oce,operatingHours:Math.floor(Math.random()*1301+1200),assignedOperators:e.ops.map((a,l)=>({name:a,role:"Operador",shift:`Turno ${l%4+1}`})),maintenanceTasks:[]}})}var Ms=class t{constructor(){this.firebaseConfig={apiKey:import.meta.env.VITE_FIREBASE_API_KEY,authDomain:import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,databaseURL:import.meta.env.VITE_FIREBASE_DATABASE_URL,projectId:import.meta.env.VITE_FIREBASE_PROJECT_ID,storageBucket:import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:import.meta.env.VITE_FIREBASE_APP_ID};this.dbConnected=!1;this.statuses=[{id:"1",name:"Operativo",color:"bg-green-100 text-green-800",hex:"#22c55e"},{id:"2",name:"Taller",color:"bg-red-100 text-red-800",hex:"#ef4444"},{id:"3",name:"Preventivo",color:"bg-yellow-100 text-yellow-800",hex:"#eab308"},{id:"4",name:"Baja",color:"bg-gray-100 text-gray-800",hex:"#6b7280"}];this.assetsSignal=hr(this.loadRealFleet());this.reportsSignal=hr(this.generateRealReports());this.plantMode=hr(!1);this.isKioskMode=hr(!1);this.activeSlide=hr(0);this.forkliftFailures=hr(this.generateRealLiveFailures());this.assets=this.assetsSignal.asReadonly();this.reports=this.reportsSignal.asReadonly();this.kpiData=Ki(()=>{let e=this.assetsSignal().length,n=this.assetsSignal().filter(l=>l.status.name==="Operativo").length,r=this.reportsSignal().filter(l=>l.exitDate),i=0;r.forEach(l=>{let u=new Date(l.entryDate).getTime(),c=new Date(l.exitDate).getTime();i+=(c-u)/(1e3*60*60)});let s=r.length>0?i/r.length:0,o=new Date().getMonth(),a=this.reportsSignal().filter(l=>new Date(l.entryDate).getMonth()===o).reduce((l,u)=>l+u.estimatedCost,0);return{availability:e>0?n/e*100:0,mttr:Math.round(s*10)/10,totalCostMonth:a,budgetMonth:18e3}});this.fleetAvailability=Ki(()=>{let e=this.assetsSignal();if(e.length===0)return{percentage:100,label:"Excelente",color:"#22c55e"};let r=e.filter(i=>i.status.name==="Operativo").length/e.length*100;return{percentage:Math.round(r),label:r>=90?"Excelente":r>=80?"Regular":"Cr\xEDtico",color:r>=90?"#22c55e":r>=80?"#eab308":"#ef4444"}});this.topOperators=Ki(()=>{let e=this.forkliftFailures(),n={};return e.forEach(r=>{r.reporta&&(n[r.reporta]=(n[r.reporta]||0)+10)}),Object.entries(n).map(([r,i])=>({name:r,points:i})).sort((r,i)=>i.points-r.points).slice(0,3)});this.safetyStats=hr({daysWithoutAccident:142,record:180,announcement:"Uso obligatorio de chaleco en Patio de Maniobras"});this.crewLeaderboard=hr([{rank:1,name:"Turno 1 (Matutino)",score:98,pallets:1450},{rank:2,name:"Turno 2 (Vespertino)",score:94,pallets:1320},{rank:3,name:"Turno 3 (Nocturno)",score:89,pallets:1105}]);this.initFirebase(),this.syncAssetsWithFailures(this.forkliftFailures()),Lu(()=>{this.isKioskMode()?this.startKioskRotation():this.stopKioskRotation()})}initFirebase(){try{this.app=JT(this.firebaseConfig),this.db=_B(this.app),this.dbConnected=!0,console.log("\u2705 Firebase Initialized"),this.setupListeners()}catch(e){console.error("Firebase init error:",e),this.dbConnected=!1}}setupListeners(){if(!this.dbConnected)return;let e=Yu(this.db,"failures");M4(e,r=>{let i=r.val();if(i){let s=Object.values(i);s.sort((o,a)=>new Date(a.fechaIngreso).getTime()-new Date(o.fechaIngreso).getTime()),this.forkliftFailures.set(s),this.syncAssetsWithFailures(s)}else console.log("Database empty. Seeding with initial mock data..."),this.seedDatabase()},r=>{console.warn("\u26A0\uFE0F Firebase Permission Denied or Offline. Switching to Local Mode.",r),this.dbConnected=!1});let n=Yu(this.db,"settings/kioskMode");M4(n,r=>{let i=r.val();i!==null&&this.isKioskMode()!==i&&this.isKioskMode.set(i)},r=>{})}seedDatabase(){let e={};this.forkliftFailures().forEach(r=>{e["failures/"+r.id]=r}),e["settings/kioskMode"]=!1,pv(Yu(this.db),e).catch(r=>{console.error("Seeding failed (likely permissions):",r),this.dbConnected=!1})}toggleKioskMode(){let e=!this.isKioskMode();this.isKioskMode.set(e),this.dbConnected&&N4(Yu(this.db,"settings/kioskMode"),e).catch(()=>{})}startKioskRotation(){this.kioskInterval&&clearInterval(this.kioskInterval),this.kioskInterval=setInterval(()=>{this.activeSlide.update(e=>(e+1)%3)},15e3)}stopKioskRotation(){this.kioskInterval&&clearInterval(this.kioskInterval),this.activeSlide.set(0)}togglePlantMode(){this.plantMode.update(e=>!e)}getAsset(e){return this.assetsSignal().find(n=>n.id===e)}getAssetHistory(e){return this.reportsSignal().filter(n=>n.assetId===e).sort((n,r)=>new Date(r.entryDate).getTime()-new Date(n.entryDate).getTime())}reportFailure(e,n,r){let i=this.getAsset(e);i&&this.addLiveFailure({economico:i.id,falla:n,prioridad:"Media",reporta:"Operador (App)",estatus:"Abierta"})}addLiveFailure(e){let n=qt(Ne({},e),{id:"F-"+Date.now(),fechaIngreso:new Date().toISOString(),seguimiento:[]});this.forkliftFailures.update(r=>[n,...r]),this.syncAssetsWithFailures(this.forkliftFailures()),this.dbConnected&&N4(Yu(this.db,"failures/"+n.id),n).catch(r=>{console.error("Sync failed:",r)})}addFailureUpdate(e,n,r){let i=this.forkliftFailures().find(o=>o.id===e);if(!i)return;let s=qt(Ne({},i),{estatus:"En Proceso",seguimiento:[...i.seguimiento,{usuario:r,mensaje:n,fecha:new Date().toISOString()}]});this.forkliftFailures.update(o=>o.map(a=>a.id===e?s:a)),this.dbConnected&&pv(Yu(this.db,"failures/"+e),s).catch(o=>console.error(o))}updateToyotaLogistics(e,n,r,i){let s={ordenCompra:n,estatusRefaccion:r,fechaPromesa:i,estatus:"En Proceso"};this.forkliftFailures.update(o=>o.map(a=>a.id===e?qt(Ne(Ne({},a),s),{estatus:"En Proceso"}):a)),this.dbConnected&&pv(Yu(this.db,"failures/"+e),s).catch(o=>console.error(o))}closeLiveFailure(e){let n=this.forkliftFailures().find(i=>i.id===e);if(!n)return;let r=qt(Ne({},n),{estatus:"Cerrada",fechaSalida:new Date().toISOString()});this.forkliftFailures.update(i=>i.map(s=>s.id===e?r:s)),this.syncAssetsWithFailures(this.forkliftFailures()),this.dbConnected&&pv(Yu(this.db,"failures/"+e),r).catch(i=>console.error(i))}completeRepair(e,n,r,i){let s=this.forkliftFailures().find(o=>o.economico===e&&o.estatus!=="Cerrada");s&&this.closeLiveFailure(s.id),this.reportsSignal.update(o=>o)}syncAssetsWithFailures(e){let n=e.filter(a=>a.estatus!=="Cerrada"),r=new Set(n.map(a=>a.economico)),i=new Map(n.map(a=>[a.economico,a])),s=this.statuses.find(a=>a.name==="Taller"),o=this.statuses.find(a=>a.name==="Operativo");this.assetsSignal.update(a=>a.map(l=>{if(r.has(l.id)){if(l.status.name!=="Taller")return qt(Ne({},l),{status:s,statusSince:i.get(l.id)?.fechaIngreso||new Date().toISOString(),lastFailure:i.get(l.id)?.falla})}else if(l.status.name==="Taller"&&!r.has(l.id))return qt(Ne({},l),{status:o,statusSince:new Date().toISOString(),lastFailure:void 0});return l}))}updateAssetsFromExcel(e){}loadRealFleet(){let e=xB(this.statuses);return e.forEach((n,r)=>{n.maintenanceTasks=this.generateMockMaintenance(r)}),e}generateMockMaintenance(e){let n=[],r=Math.floor(Math.random()*45)-5,i=new Date;i.setDate(i.getDate()+r);let s=["Cambio de Aceite","Revisi\xF3n de Frenos","Ajuste de Cadenas","Servicio General","Inspecci\xF3n de Bater\xEDa"][e%5];return n.push({id:`T-${e}-1`,date:i.toISOString(),description:s,status:r<0?"Overdue":"Pending"}),n}generateRealReports(){return[]}generateRealLiveFailures(){return[{id:"FAIL-2026-0001",economico:"35526",falla:"Fuga de aceite hidr\xE1ulico en cilindro de elevaci\xF3n principal.",reporta:"Carlos Eduardo Vazquez Calderon",fechaIngreso:new Date().toISOString(),prioridad:"Alta",estatus:"Abierta",seguimiento:[]}]}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Ur({token:t,factory:t.\u0275fac,providedIn:"root"})}};var Uce=["paretoChart"],jce=["qualityChart"],EB=(t,e)=>e.id,Hce=(t,e)=>e.rank;function $ce(t,e){t&1&&(lt(0,"div",74),or(1,"i",87),lt(2,"p",88),xe(3,"Sin reparaciones activas"),ct()())}function qce(t,e){if(t&1){let n=ei();lt(0,"div",89)(1,"div")(2,"div",90)(3,"span",91),xe(4),ct(),lt(5,"span",92),xe(6),ct()(),lt(7,"p",93),xe(8),ct(),lt(9,"div",94),or(10,"i",95),xe(11),no(12,"date"),ct()(),lt(13,"button",96),Ea("click",function(){let i=Yn(n).$implicit,s=Jt();return Xn(s.closeFailure(i.id))}),xe(14," Liberar Unidad "),ct()()}if(t&2){let n=e.$implicit,r=Jt();Un("bg-[#0f172a]",r.plantMode())("border-slate-700",r.plantMode())("bg-white",!r.plantMode())("border-slate-200",!r.plantMode())("shadow-md",!r.plantMode()),je(4),$n(n.economico),je(),Un("bg-red-500",n.prioridad==="Alta")("text-white",n.prioridad==="Alta")("bg-orange-500",n.prioridad==="Media")("text-white",n.prioridad==="Media"),je(),In(" ",n.prioridad," "),je(2),In(" ",n.falla," "),je(3),In(" Ingreso: ",Sa(12,22,n.fechaIngreso,"HH:mm")," ")}}function zce(t,e){t&1&&or(0,"i",102)}function Wce(t,e){if(t&1){let n=ei();lt(0,"div",97),Ea("click",function(){let i=Yn(n).$implicit,s=Jt();return Xn(s.selectAsset(i))}),lt(1,"div",98)(2,"span",99),xe(3),ct(),lt(4,"span",100),xe(5),ct()(),lt(6,"div",101),Qn(7,zce,1,0,"i",102),lt(8,"span",103),xe(9),ct()()()}if(t&2){let n=e.$implicit;Un("border-l-2",!0)("border-l-green-500",n.status.name==="Operativo")("border-l-red-500",n.status.name==="Taller"),je(3),$n(n.id),je(2),$n(n.model),je(2),er(n.status.name==="Taller"?7:-1),je(2),$n(n.status.name)}}function Gce(t,e){if(t&1&&(lt(0,"div",106)(1,"h2",110),xe(2,"Estatus de Flota en Tiempo Real"),ct(),lt(3,"div",111)(4,"div",112),xe(5),ct(),lt(6,"div",113)(7,"div",114),xe(8),ct(),lt(9,"div",115),xe(10),ct()()()()),t&2){let n=Jt(2);je(4),S1("color",n.fleetAvailability().color),je(),In(" ",n.fleetAvailability().percentage,"% "),je(3),$n(n.fleetAvailability().label),je(2),Xw("",n.operativeCount()," / ",n.assets().length," Unidades")}}function Yce(t,e){if(t&1&&(lt(0,"div",128)(1,"div",4)(2,"span",129),xe(3),ct(),lt(4,"span",130),xe(5),ct()(),lt(6,"span",131),xe(7),ct()()),t&2){let n=e.$implicit;je(3),In("#",n.rank),je(2),$n(n.name),je(2),$n(n.pallets)}}function Xce(t,e){if(t&1&&(lt(0,"div",107)(1,"h2",116),or(2,"i",117),xe(3," L\xEDderes de Productividad "),ct(),lt(4,"div",118)(5,"div",119)(6,"div",120)(7,"span",121),xe(8,"#1"),ct(),lt(9,"div")(10,"h3",122),xe(11),ct(),lt(12,"p",123),xe(13),ct()()(),lt(14,"div",124)(15,"div",125),xe(16),ct(),lt(17,"div",126),xe(18,"Pallets Movidos"),ct()()(),lt(19,"div",127),ps(20,Yce,8,3,"div",128,Hce),ct()()()),t&2){let n=Jt(2);je(11),$n(n.crewStats()[0].name),je(2),In("Puntuaci\xF3n: ",n.crewStats()[0].score,"/100"),je(3),$n(n.crewStats()[0].pallets),je(4),ms(n.crewStats().slice(1))}}function Kce(t,e){if(t&1&&(lt(0,"div",108)(1,"div",132)(2,"span",133),xe(3),ct(),lt(4,"span",134),xe(5,"D\xEDas sin Accidentes"),ct(),lt(6,"div",135)(7,"span",136),xe(8,"R\xE9cord Planta: "),lt(9,"span",137),xe(10),ct()()()(),lt(11,"div",138),or(12,"i",139),lt(13,"div")(14,"h3",140),xe(15,"Anuncio de Seguridad"),ct(),lt(16,"p",141),xe(17),ct()()()()),t&2){let n=Jt(2);je(),Un("border-green-500",n.safetyStats().daysWithoutAccident>0)("border-red-500",n.safetyStats().daysWithoutAccident===0),je(2),In(" ",n.safetyStats().daysWithoutAccident," "),je(7),$n(n.safetyStats().record),je(7),$n(n.safetyStats().announcement)}}function Zce(t,e){if(t&1){let n=ei();lt(0,"div",86)(1,"button",104),Ea("click",function(){Yn(n);let i=Jt();return Xn(i.toggleKiosk())}),or(2,"i",105),ct(),Qn(3,Gce,11,6,"div",106),Qn(4,Xce,22,3,"div",107),Qn(5,Kce,18,7,"div",108),or(6,"div",109),ct()}if(t&2){let n=Jt();je(3),er(n.activeSlide()===0?3:-1),je(),er(n.activeSlide()===1?4:-1),je(),er(n.activeSlide()===2?5:-1)}}var Z_=class t{constructor(){this.dataService=rn(Ms);this.kpi=this.dataService.kpiData;this.fleetAvailability=this.dataService.fleetAvailability;this.assets=this.dataService.assets;this.forkliftFailures=this.dataService.forkliftFailures;this.plantMode=this.dataService.plantMode;this.topOperators=this.dataService.topOperators;this.isKioskMode=this.dataService.isKioskMode;this.activeSlide=this.dataService.activeSlide;this.safetyStats=this.dataService.safetyStats;this.crewStats=this.dataService.crewLeaderboard;this.now=new Date;this.activeFailures=Ki(()=>this.forkliftFailures().filter(e=>e.estatus!=="Cerrada"));this.operativeCount=Ki(()=>this.assets().filter(e=>e.status.name==="Operativo").length);this.geminiCostAnalysis=Ki(()=>{let e=this.kpi(),n=e.totalCostMonth/e.budgetMonth;return n<.8?"Gasto controlado. Tendencia positiva de ahorro detectada en mantenimiento correctivo.":n<1?"En l\xEDnea con el presupuesto. Se recomienda monitorear refacciones de frenos.":"Alerta: Proyecci\xF3n de sobrecosto por reparaciones mayores no programadas."});setInterval(()=>{this.now=new Date},6e4),Lu(()=>{let e=this.dataService.reports(),n=this.plantMode(),r=this.fleetAvailability();this.isKioskMode()||setTimeout(()=>{this.initParetoChart(e,n),this.initQualityChart(r,n)},100)})}togglePlantMode(){this.dataService.togglePlantMode()}toggleKiosk(){this.dataService.toggleKioskMode()}closeFailure(e){this.dataService.closeLiveFailure(e)}selectAsset(e){window.dispatchEvent(new CustomEvent("asset-selected",{detail:e.id}))}initQualityChart(e,n){if(!this.qualityCanvas)return;Chart.getChart(this.qualityCanvas.nativeElement)&&Chart.getChart(this.qualityCanvas.nativeElement).destroy();let r=100-e.percentage,i=e.percentage>=90?"#10b981":e.percentage>=80?"#eab308":"#ef4444",s=n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)";new Chart(this.qualityCanvas.nativeElement,{type:"doughnut",data:{labels:["Disponible","Inactivo"],datasets:[{data:[e.percentage,r],backgroundColor:[i,s],borderWidth:0,hoverOffset:4}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"85%",plugins:{legend:{display:!1},tooltip:{enabled:!1}}}})}initParetoChart(e,n){if(!this.paretoCanvas)return;let r={};e.forEach(u=>{r[u.type]=(r[u.type]||0)+1});let i=Object.entries(r).sort((u,c)=>c[1]-u[1]),s=i.map(u=>u[0]),o=i.map(u=>u[1]),a=n?"#94a3b8":"#334155",l=n?"#334155":"#e2e8f0";Chart.getChart(this.paretoCanvas.nativeElement)&&Chart.getChart(this.paretoCanvas.nativeElement).destroy(),new Chart(this.paretoCanvas.nativeElement,{type:"bar",data:{labels:s,datasets:[{label:"Eventos",data:o,backgroundColor:"#ce1126",borderRadius:4,barThickness:"flex",maxBarThickness:30}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:l,drawBorder:!1},ticks:{color:a,font:{size:10}}},x:{grid:{display:!1},ticks:{color:a,font:{size:10}}}}}})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=eo({type:t,selectors:[["app-dashboard"]],viewQuery:function(n,r){if(n&1&&Ww(Uce,5)(jce,5),n&2){let i;Gw(i=Yw())&&(r.paretoCanvas=i.first),Gw(i=Yw())&&(r.qualityCanvas=i.first)}},decls:132,vars:91,consts:[["qualityChart",""],["paretoChart",""],[1,"min-h-full","transition-colors","duration-500","ease-in-out","font-sans","relative"],[1,"flex","justify-between","items-center","mb-6"],[1,"flex","items-center","gap-4"],[1,"text-2xl","font-black","uppercase","tracking-widest","flex","items-center","gap-2"],[1,"fas","fa-network-wired"],[1,"flex","gap-2"],[1,"px-4","py-1.5","text-xs","rounded-full","font-bold","transition-all","border","uppercase","tracking-wide","flex","items-center","gap-2",3,"click"],[1,"fas"],[1,"px-4","py-1.5","text-xs","rounded-full","font-bold","transition-all","border","uppercase","tracking-wide","flex","items-center","gap-2","bg-black","text-white","hover:bg-gray-800",3,"click"],[1,"fas","fa-play"],[1,"text-xs","font-bold","font-mono","opacity-60"],[1,"bento-grid"],[1,"col-span-12","lg:col-span-6","card-kpi","priority-1","group"],[1,"absolute","right-0","top-0","p-4","opacity-10","group-hover:scale-110","transition-transform","duration-500"],[1,"fas","fa-shield-alt","text-8xl","text-emerald-500"],[1,"text-xs","font-bold","uppercase","tracking-widest","text-emerald-500","mb-1","flex","items-center","gap-2"],[1,"fas","fa-hard-hat"],[1,"flex","items-baseline","gap-2","mt-2"],[1,"text-5xl","font-black","tracking-tighter"],[1,"text-xl","font-bold","opacity-50","uppercase"],[1,"text-emerald-500","text-sm","mt-1","font-bold","flex","items-center","gap-1"],[1,"fas","fa-check-circle"],[1,"text-xs","opacity-60","mt-1"],[1,"w-full","bg-gray-200/20","h-2","mt-6","rounded-full","overflow-hidden","border","border-emerald-500/20"],[1,"bg-emerald-500","h-full","shadow-[0_0_10px_rgba(16,185,129,0.5)]"],[1,"flex","justify-between","text-[10px]","uppercase","font-bold","opacity-50","mt-2"],[1,"col-span-12","md:col-span-6","lg:col-span-3","card-kpi","priority-2","group"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-xs","font-bold","uppercase","tracking-widest","text-cyan-400","flex","items-center","gap-2"],[1,"fas","fa-star"],[1,"text-[10px]","font-bold","text-cyan-400","bg-cyan-900/30","px-2","py-0.5","rounded","border","border-cyan-500/30"],[1,"relative","flex","items-center","justify-center","h-32"],[1,"absolute","inset-0","flex","items-center","justify-center","flex-col","pointer-events-none"],[1,"text-2xl","font-black"],[1,"text-[8px]","uppercase","font-bold","opacity-50","tracking-wider"],[1,"text-center","text-[10px]","opacity-50","mt-2"],[1,"col-span-12","md:col-span-6","lg:col-span-3","card-kpi","priority-3","group"],[1,"text-xs","font-bold","uppercase","tracking-widest","text-yellow-400","mb-2","flex","items-center","gap-2"],[1,"fas","fa-cubes"],[1,"mt-2","relative","z-10"],[1,"text-4xl","font-black"],[1,"text-lg","opacity-40","font-bold"],[1,"text-xs","text-yellow-500","uppercase","font-bold","mt-1"],[1,"absolute","right-2","bottom-2","p-4","opacity-10"],[1,"fas","fa-dolly","text-6xl"],[1,"mt-auto","pt-4"],[1,"p-3","bg-yellow-500/10","rounded-lg","border","border-yellow-500/20","flex","justify-between","items-center"],[1,"text-[9px]","opacity-60","uppercase","font-bold"],[1,"text-lg","font-bold","text-yellow-400"],[1,"fas","fa-stopwatch","text-yellow-500","text-xl"],[1,"col-span-12","card-kpi","priority-4","group","flex","flex-col","md:flex-row","items-start","md:items-center","justify-between","gap-6"],[1,"flex-1"],[1,"text-xs","font-bold","uppercase","tracking-widest","text-red-500","mb-2","flex","items-center","gap-2"],[1,"fas","fa-chart-line"],[1,"flex","flex-wrap","items-baseline","gap-4"],[1,"text-xs","font-bold","text-red-500","bg-red-500/10","px-2","py-1","rounded"],[1,"fas","fa-arrow-down","mr-1"],[1,"text-xs","opacity-50","mt-1"],[1,"flex-[2]","w-full","md:border-l","pl-0","md:pl-6","border-slate-500/20"],[1,"text-[10px]","font-bold","text-red-500","uppercase","mb-2","flex","items-center","gap-1"],[1,"fas","fa-robot"],[1,"relative","bg-gradient-to-r","from-red-500/10","to-transparent","p-3","rounded-lg","border-l-2","border-red-500"],[1,"text-sm","leading-relaxed","italic","opacity-80"],[1,"col-span-12","lg:col-span-8","card-kpi","p-0","relative","overflow-hidden","flex","flex-col","min-h-[300px]"],[1,"p-6","pb-2"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-bold","flex","items-center","gap-3","uppercase","tracking-wide","text-sm"],[1,"relative","flex","h-3","w-3"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-red-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-3","w-3","bg-[#ce1126]"],[1,"text-[10px]","font-mono","opacity-50","bg-slate-500/20","px-2","py-1","rounded"],[1,"flex-1","overflow-x-auto","p-6","pt-0","custom-scroll","snap-x","flex","gap-4"],[1,"w-full","flex","flex-col","items-center","justify-center","opacity-40","border-2","border-dashed","rounded-xl","border-slate-500/30"],[1,"min-w-[280px]","max-w-[280px]","p-4","rounded-xl","border","flex","flex-col","justify-between","snap-center","transition-all","hover:translate-y-[-2px]",3,"bg-[#0f172a]","border-slate-700","bg-white","border-slate-200","shadow-md"],[1,"col-span-12","lg:col-span-4","card-kpi","p-0","overflow-hidden","flex","flex-col","max-h-[300px]"],[1,"p-4","border-b","border-slate-500/20","bg-slate-500/5"],[1,"text-xs","font-bold","uppercase","tracking-wide","opacity-80"],[1,"overflow-y-auto","custom-scroll","p-2","flex-1"],[1,"grid","grid-cols-1","gap-2"],[1,"p-2.5","rounded-lg","border","text-xs","flex","justify-between","items-center","transition-colors","hover:bg-slate-500/10","cursor-pointer","border-transparent",3,"border-l-2","border-l-green-500","border-l-red-500"],[1,"col-span-12","card-kpi","p-6"],[1,"text-xs","font-bold","flex","items-center","gap-2","uppercase","tracking-wide","opacity-80"],[1,"fas","fa-chart-bar","text-[#ce1126]"],[1,"relative","h-48","w-full"],[1,"fixed","inset-0","z-50","bg-[#0a0e14]","text-white","flex","flex-col","items-center","justify-center","p-8","font-sans","overflow-hidden","cursor-none"],[1,"fas","fa-clipboard-check","text-4xl","mb-2"],[1,"font-bold","uppercase","text-xs"],[1,"min-w-[280px]","max-w-[280px]","p-4","rounded-xl","border","flex","flex-col","justify-between","snap-center","transition-all","hover:translate-y-[-2px]"],[1,"flex","justify-between","items-start","mb-2"],[1,"font-black","text-xl","text-[#ce1126]"],[1,"px-2","py-0.5","rounded","text-[9px]","font-bold","uppercase","tracking-wider"],[1,"text-xs","font-medium","leading-snug","mb-3","line-clamp-2","opacity-80"],[1,"text-[10px]","p-2","rounded","bg-slate-500/10","mb-2"],[1,"fas","fa-clock","mr-1"],[1,"w-full","mt-2","bg-green-600/90","hover:bg-green-600","text-white","text-[10px]","font-bold","py-2","rounded","uppercase","transition-colors",3,"click"],[1,"p-2.5","rounded-lg","border","text-xs","flex","justify-between","items-center","transition-colors","hover:bg-slate-500/10","cursor-pointer","border-transparent",3,"click"],[1,"flex","items-center","gap-3"],[1,"font-black","font-mono"],[1,"opacity-60"],[1,"flex","items-center","gap-2"],[1,"fas","fa-tools","text-red-500","text-[10px]"],[1,"opacity-70"],[1,"absolute","top-8","right-8","text-white/20","hover:text-white","transition-colors",3,"click"],[1,"fas","fa-times","text-2xl"],[1,"animate-fade-in","flex","flex-col","items-center","justify-center","w-full","h-full","text-center"],[1,"animate-fade-in","w-full","max-w-6xl"],[1,"animate-fade-in","flex","flex-col","items-center","justify-center","w-full","h-full"],[1,"absolute","bottom-0","left-0","h-2","bg-[#ce1126]","transition-all","duration-[15000ms]","ease-linear","w-full","opacity-50"],[1,"text-4xl","font-bold","text-slate-400","uppercase","tracking-[0.2em]","mb-8"],[1,"flex","items-center","justify-center","gap-12","scale-150","transform"],[1,"text-[12rem]","font-black","leading-none"],[1,"text-left","flex","flex-col","gap-4"],[1,"text-6xl","font-bold","uppercase"],[1,"text-3xl","text-slate-400"],[1,"text-5xl","font-black","text-center","mb-16","uppercase","tracking-wider","text-orange-500"],[1,"fas","fa-trophy","text-yellow-400","mr-4"],[1,"grid","grid-cols-1","gap-6"],[1,"bg-gradient-to-r","from-orange-600","to-orange-500","p-12","rounded-[3rem]","shadow-2xl","flex","justify-between","items-center","transform","hover:scale-105","transition-transform","duration-500"],[1,"flex","items-center","gap-8"],[1,"text-8xl","font-black","text-white/20"],[1,"text-6xl","font-black","text-white","leading-tight"],[1,"text-2xl","text-orange-100","font-bold","uppercase","mt-2"],[1,"text-right"],[1,"text-7xl","font-black","text-white"],[1,"text-xl","font-bold","uppercase","text-orange-200"],[1,"grid","grid-cols-2","gap-6"],[1,"bg-white/10","p-8","rounded-3xl","flex","justify-between","items-center","backdrop-blur-md","border","border-white/5"],[1,"text-4xl","font-black","text-white/40"],[1,"text-3xl","font-bold"],[1,"text-4xl","font-mono","font-bold","text-orange-400"],[1,"w-[30rem]","h-[30rem]","rounded-full","border-[1.5rem]","flex","flex-col","items-center","justify-center","relative","bg-green-900/20"],[1,"text-[12rem]","font-black","leading-none","text-white"],[1,"text-3xl","font-bold","uppercase","tracking-widest","text-green-400","mt-4"],[1,"absolute","-bottom-12","bg-slate-800","px-8","py-3","rounded-full","border","border-slate-600"],[1,"text-xl","text-slate-400","font-bold"],[1,"text-white"],[1,"mt-24","w-full","max-w-5xl","bg-yellow-500","text-black","p-10","rounded-2xl","shadow-xl","flex","items-center","gap-8","border-l-[1rem]","border-yellow-700","animate-pulse"],[1,"fas","fa-bullhorn","text-6xl","opacity-80"],[1,"text-xl","font-black","uppercase","opacity-60","mb-1"],[1,"text-4xl","font-bold","leading-tight"]],template:function(n,r){if(n&1){let i=ei();lt(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),or(4,"i",6),xe(5," NOC - CENTER "),ct(),lt(6,"div",7)(7,"button",8),Ea("click",function(){return Yn(i),Xn(r.togglePlantMode())}),or(8,"i",9),xe(9),ct(),lt(10,"button",10),Ea("click",function(){return Yn(i),Xn(r.toggleKiosk())}),or(11,"i",11),xe(12," Quiosco TV "),ct()()(),lt(13,"div",12),xe(14),no(15,"date"),ct()(),lt(16,"div",13)(17,"div",14)(18,"div",15),or(19,"i",16),ct(),lt(20,"div")(21,"h3",17),or(22,"i",18),xe(23," Seguridad Industrial "),ct(),lt(24,"div",19)(25,"div",20),xe(26),ct(),lt(27,"span",21),xe(28,"D\xEDas"),ct()(),lt(29,"p",22),or(30,"i",23),xe(31," Operaci\xF3n Segura "),ct(),lt(32,"p",24),xe(33,"Sin incidentes reportados en turno actual"),ct()(),lt(34,"div",25),or(35,"div",26),ct(),lt(36,"div",27)(37,"span"),xe(38,"Meta Diaria"),ct(),lt(39,"span"),xe(40),ct()()(),lt(41,"div",28)(42,"div",29)(43,"h3",30),or(44,"i",31),xe(45," Calidad "),ct(),lt(46,"span",32),xe(47,"KPI"),ct()(),lt(48,"div",33),or(49,"canvas",null,0),lt(51,"div",34)(52,"span",35),xe(53),ct(),lt(54,"span",36),xe(55,"Disponibilidad"),ct()()(),lt(56,"p",37),xe(57,"Cumplimiento de Mantenimiento"),ct()(),lt(58,"div",38)(59,"h3",39),or(60,"i",40),xe(61," Volumen "),ct(),lt(62,"div",41)(63,"div",42),xe(64),lt(65,"span",43),xe(66),ct()(),lt(67,"p",44),xe(68,"Unidades Operativas"),ct()(),lt(69,"div",45),or(70,"i",46),ct(),lt(71,"div",47)(72,"div",48)(73,"div")(74,"p",49),xe(75,"MTTR (Reparaci\xF3n)"),ct(),lt(76,"p",50),xe(77),ct()(),or(78,"i",51),ct()()(),lt(79,"div",52)(80,"div",53)(81,"h3",54),or(82,"i",55),xe(83," Eficiencia de Costos "),ct(),lt(84,"div",56)(85,"span",42),xe(86),no(87,"currency"),ct(),lt(88,"span",57),or(89,"i",58),xe(90," 4.2% vs Mes Anterior "),ct()(),lt(91,"p",59),xe(92),no(93,"currency"),ct()(),lt(94,"div",60)(95,"p",61),or(96,"i",62),xe(97," An\xE1lisis Gemini AI "),ct(),lt(98,"div",63)(99,"p",64),xe(100),ct()()()(),lt(101,"div",65)(102,"div",66)(103,"div",67)(104,"h3",68)(105,"span",69),or(106,"span",70)(107,"span",71),ct(),xe(108," Taller en Vivo (Toyota Live) "),ct(),lt(109,"span",72),xe(110),ct()()(),lt(111,"div",73),Qn(112,$ce,4,0,"div",74),ps(113,qce,15,25,"div",75,EB),ct()(),lt(115,"div",76)(116,"div",77)(117,"h3",78),xe(118,"Inventario Flota"),ct()(),lt(119,"div",79)(120,"div",80),ps(121,Wce,10,10,"div",81,EB),ct()()(),lt(123,"div",82)(124,"div",67)(125,"h3",83),or(126,"i",84),xe(127," Pareto de Fallas "),ct()(),lt(128,"div",85),or(129,"canvas",null,1),ct()()(),Qn(131,Zce,7,3,"div",86),ct()}n&2&&(Un("bg-[#0a0e14]",r.plantMode())("bg-[#f1f5f9]",!r.plantMode())("p-4",r.plantMode())("p-6",!r.plantMode()),je(3),Un("text-[#ce1126]",r.plantMode())("text-slate-800",!r.plantMode()),je(4),Un("bg-[#ce1126]",r.plantMode())("text-white",r.plantMode())("border-[#ce1126]",r.plantMode())("bg-white",!r.plantMode())("text-slate-600",!r.plantMode())("border-slate-300",!r.plantMode()),je(),Un("fa-tv",r.plantMode())("fa-desktop",!r.plantMode()),je(),In(" ",r.plantMode()?"Modo Planta":"Modo Gesti\xF3n"," "),je(4),Un("text-white",r.plantMode())("text-slate-500",!r.plantMode()),je(),In(" SYNC: ",Sa(15,84,r.now,"mediumTime")," "),je(3),Un("text-white",r.plantMode())("text-slate-800",!r.plantMode()),je(8),Un("text-white",r.plantMode())("text-emerald-900",!r.plantMode()),je(),In(" ",r.safetyStats().daysWithoutAccident," "),je(9),S1("width",r.safetyStats().daysWithoutAccident/r.safetyStats().record*100,"%"),je(5),In("R\xE9cord Planta: ",r.safetyStats().record),je(),Un("text-white",r.plantMode())("text-slate-800",!r.plantMode()),je(12),In("",r.fleetAvailability().percentage,"%"),je(5),Un("text-white",r.plantMode())("text-slate-800",!r.plantMode()),je(6),In("",r.operativeCount()," "),je(2),In("/ ",r.assets().length),je(11),In("",r.kpi().mttr," h"),je(2),Un("text-white",r.plantMode())("text-slate-800",!r.plantMode()),je(6),Un("text-white",r.plantMode())("text-slate-900",!r.plantMode()),je(),$n(Xp(87,87,r.kpi().totalCostMonth)),je(6),In("Presupuesto asignado: ",Xp(93,89,r.kpi().budgetMonth)),je(8),In(' "',r.geminiCostAnalysis(),'" '),je(),Un("text-white",r.plantMode())("text-slate-800",!r.plantMode()),je(9),In("",r.activeFailures().length," Tickets"),je(2),er(r.activeFailures().length===0?112:-1),je(),ms(r.activeFailures()),je(2),Un("text-white",r.plantMode())("text-slate-800",!r.plantMode()),je(6),ms(r.assets()),je(2),Un("text-white",r.plantMode())("text-slate-800",!r.plantMode()),je(8),er(r.isKioskMode()?131:-1))},dependencies:[Ns,M1,ju],styles:[".bento-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(12,1fr);grid-auto-rows:minmax(100px,auto);gap:1.25rem}.col-span-12[_ngcontent-%COMP%]{grid-column:span 12}@media(min-width:1024px){.lg\\:col-span-3[_ngcontent-%COMP%]{grid-column:span 3}.lg\\:col-span-4[_ngcontent-%COMP%]{grid-column:span 4}.lg\\:col-span-6[_ngcontent-%COMP%]{grid-column:span 6}.lg\\:col-span-8[_ngcontent-%COMP%]{grid-column:span 8}}.card-kpi[_ngcontent-%COMP%]{position:relative;background:#ffffffb3;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.5);border-radius:1.25rem;padding:1.5rem;box-shadow:0 4px 6px -1px #0000001a;transition:transform .3s ease,box-shadow .3s ease;display:flex;flex-direction:column}.card-kpi[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 30px -10px #0000001a;z-index:10}.bg-\\__ph-0__[_ngcontent-%COMP%]   .card-kpi[_ngcontent-%COMP%]{background:#0f172a99;border:1px solid rgba(255,255,255,.05);box-shadow:none}.bg-\\__ph-0__[_ngcontent-%COMP%]   .card-kpi[_ngcontent-%COMP%]:hover{background:#1e293b99;border-color:#ffffff1a}.priority-1[_ngcontent-%COMP%]{border-left:4px solid #10b981}.priority-2[_ngcontent-%COMP%]{border-left:4px solid #06b6d4}.priority-3[_ngcontent-%COMP%]{border-left:4px solid #eab308}.priority-4[_ngcontent-%COMP%]{border-left:4px solid #ef4444}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px;width:6px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#94a3b880;border-radius:3px}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}};var Jce=(t,e)=>e.id;function Qce(t,e){t&1&&or(0,"i",22)}function ede(t,e){t&1&&(lt(0,"div",24),xe(1," \xA1Demora Cr\xEDtica! "),ct())}function tde(t,e){t&1&&(lt(0,"span",32),xe(1,"Vencido"),ct())}function nde(t,e){if(t&1&&(lt(0,"div",25)(1,"div",29),or(2,"i",30),ct(),lt(3,"div")(4,"p",31),xe(5),no(6,"date"),Qn(7,tde,2,0,"span",32),ct(),lt(8,"p",33),xe(9),ct()()()),t&2){let n=e;je(5),In(" ",Sa(6,3,n.date,"dd MMM yyyy")," "),je(2),er(n.status==="Overdue"?7:-1),je(2),$n(n.description)}}function rde(t,e){t&1&&(lt(0,"span",26),xe(1,"No programado"),ct())}function ide(t,e){if(t&1){let n=ei();lt(0,"tr",15),Ea("click",function(){let i=Yn(n).$implicit,s=Jt();return Xn(s.selectAsset(i))}),lt(1,"td",16),xe(2),ct(),lt(3,"td",17)(4,"div",18),xe(5),ct(),lt(6,"div",19),xe(7),ct()(),lt(8,"td",20),xe(9),ct(),lt(10,"td",11)(11,"div",21)(12,"span"),xe(13),ct(),Qn(14,Qce,1,0,"i",22),ct()(),lt(15,"td",11)(16,"div"),or(17,"i",23),xe(18),ct(),Qn(19,ede,2,0,"div",24),ct(),lt(20,"td",11),Qn(21,nde,10,6,"div",25)(22,rde,2,0,"span",26),ct(),lt(23,"td",12)(24,"button",27),Ea("click",function(i){let s=Yn(n).$implicit;return Jt().selectAsset(s),Xn(i.stopPropagation())}),xe(25," Ver Detalle "),or(26,"i",28),ct()()()}if(t&2){let n,r=e.$implicit,i=Jt();Un("bg-red-50",i.isCriticalDelay(r))("animate-pulse-bg",i.isCriticalDelay(r))("border-l-4",i.isCriticalDelay(r))("border-[#ce1126]",i.isCriticalDelay(r)),je(2),$n(r.id),je(3),$n(r.brand),je(2),$n(r.model),je(2),$n(r.serial),je(3),od("px-3 py-1 rounded-full text-[10px] uppercase font-bold "+r.status.color),je(),In(" ",r.status.name," "),je(),er(i.isCriticalDelay(r)?14:-1),je(2),od("flex items-center "+i.getTimeClass(r)),je(),Un("animate-pulse",i.isCriticalDelay(r)),je(),In(" ",i.getHoursInStatus(r.statusSince)," hrs "),je(),er(i.isCriticalDelay(r)?19:-1),je(2),er((n=i.getNextTask(r))?21:22,n)}}function sde(t,e){t&1&&(lt(0,"tr")(1,"td",34),xe(2,"No se encontraron equipos"),ct()())}var J_=class t{constructor(){this.dataService=rn(Ms);this.filterText=hr("");this.filteredAssets=Ki(()=>{let e=this.filterText().toLowerCase();return[...this.dataService.assets().filter(r=>r.id.toLowerCase().includes(e)||r.serial.toLowerCase().includes(e)||r.brand.toLowerCase().includes(e))].sort((r,i)=>{let s=this.getNextTask(r),o=this.getNextTask(i);return!s&&!o?0:s?o?new Date(s.date).getTime()-new Date(o.date).getTime():-1:1})})}selectAsset(e){window.dispatchEvent(new CustomEvent("asset-selected",{detail:e.id}))}updateFilter(e){let n=e.target;this.filterText.set(n.value)}getHoursInStatus(e){let n=new Date(e).getTime(),r=new Date().getTime();return Math.floor((r-n)/(1e3*60*60))}isCriticalDelay(e){return e.status.name!=="Taller"?!1:this.getHoursInStatus(e.statusSince)>48}getTimeClass(e){return this.isCriticalDelay(e)?"text-[#ce1126] font-bold":"text-gray-600"}getNextTask(e){return!e.maintenanceTasks||e.maintenanceTasks.length===0?void 0:e.maintenanceTasks.filter(r=>r.status==="Pending"||r.status==="Overdue").sort((r,i)=>new Date(r.date).getTime()-new Date(i.date).getTime())[0]}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=eo({type:t,selectors:[["app-asset-list"]],decls:33,vars:1,consts:[[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","overflow-hidden"],[1,"p-6","border-b","border-gray-100","flex","flex-col","md:flex-row","md:items-center","justify-between","gap-4"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"flex","gap-2"],["type","text","placeholder","Buscar ID o Serie...",1,"px-4","py-2","border","border-gray-200","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[#ce1126]","w-full","md:w-64",3,"input"],[1,"px-4","py-2","bg-gray-100","text-gray-600","rounded-lg","hover:bg-gray-200","transition"],[1,"fas","fa-filter"],[1,"overflow-x-auto"],[1,"w-full","text-left","border-collapse"],[1,"bg-gray-50","text-gray-500","text-[10px]","uppercase","font-bold","tracking-widest"],[1,"p-4"],[1,"p-4","text-right"],[1,"divide-y","divide-gray-100","text-sm"],[1,"hover:bg-gray-50","transition","cursor-pointer",3,"bg-red-50","animate-pulse-bg","border-l-4","border-[#ce1126]"],[1,"hover:bg-gray-50","transition","cursor-pointer",3,"click"],[1,"p-4","font-black","text-gray-900"],[1,"p-4","text-gray-600"],[1,"font-bold"],[1,"text-xs"],[1,"p-4","text-gray-500","font-mono","text-xs"],[1,"flex","items-center","gap-2"],["title","Atenci\xF3n: Demora Cr\xEDtica",1,"fas","fa-exclamation-triangle","text-[#ce1126]","text-base","animate-bounce"],[1,"fas","fa-clock","mr-2"],[1,"text-[10px]","text-[#ce1126]","font-bold","mt-1","uppercase","tracking-wide"],[1,"flex","items-start","gap-2"],[1,"text-xs","text-gray-400","italic"],[1,"text-[#ce1126]","hover:text-[#a30d1d]","font-bold","text-xs","uppercase","tracking-wide",3,"click"],[1,"fas","fa-arrow-right","ml-1"],[1,"p-2","rounded","bg-gray-100","text-gray-500"],[1,"fas","fa-calendar-alt"],[1,"font-bold","text-gray-700","text-xs","flex","items-center","gap-1"],[1,"text-[9px]","bg-red-100","text-red-600","px-1","rounded","uppercase"],[1,"text-[10px]","text-gray-500","uppercase"],["colspan","7",1,"p-8","text-center","text-gray-500"]],template:function(n,r){n&1&&(lt(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),xe(4,"Torre de Control"),ct(),lt(5,"p",3),xe(6,"Monitoreo en tiempo real de la flota"),ct()(),lt(7,"div",4)(8,"input",5),Ea("input",function(s){return r.updateFilter(s)}),ct(),lt(9,"button",6),or(10,"i",7),ct()()(),lt(11,"div",8)(12,"table",9)(13,"thead")(14,"tr",10)(15,"th",11),xe(16,"ID Economico"),ct(),lt(17,"th",11),xe(18,"Equipo"),ct(),lt(19,"th",11),xe(20,"Serie"),ct(),lt(21,"th",11),xe(22,"Estatus"),ct(),lt(23,"th",11),xe(24,"Tiempo en Estatus"),ct(),lt(25,"th",11),xe(26,"Mantenimiento Programado"),ct(),lt(27,"th",12),xe(28,"Acciones"),ct()()(),lt(29,"tbody",13),ps(30,ide,27,23,"tr",14,Jce,!1,sde,3,0,"tr"),ct()()()()),n&2&&(je(30),ms(r.filteredAssets()))},dependencies:[Ns,ju],styles:["@keyframes _ngcontent-%COMP%_pulse-bg{0%,to{background-color:#fef2f2}50%{background-color:#fee2e2}}.animate-pulse-bg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-bg 2s cubic-bezier(.4,0,.6,1) infinite}"]})}};var MB=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Ar(Yf),Ar(Qa))};static \u0275dir=xa({type:t})}return t})(),V4=(()=>{class t extends MB{static \u0275fac=(()=>{let n;return function(i){return(n||(n=b1(t)))(i||t)}})();static \u0275dir=xa({type:t,features:[Ou]})}return t})(),rx=new Ln("");var ode={provide:rx,useExisting:Mu(()=>bm),multi:!0};function ade(){let t=ld()?ld().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var lde=new Ln(""),bm=(()=>{class t extends MB{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!ade())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Ar(Yf),Ar(Qa),Ar(lde,8))};static \u0275dir=xa({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Vn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Yp([ode]),Ou]})}return t})();var ude=new Ln(""),cde=new Ln("");function RB(t){return t!=null}function PB(t){return Wp(t)?q5(t):t}function LB(t){let e={};return t.forEach(n=>{e=n!=null?Ne(Ne({},e),n):e}),Object.keys(e).length===0?null:e}function FB(t,e){return e.map(n=>n(t))}function dde(t){return!t.validate}function OB(t){return t.map(e=>dde(e)?e:n=>e.validate(n))}function fde(t){if(!t)return null;let e=t.filter(RB);return e.length==0?null:function(n){return LB(FB(n,e))}}function BB(t){return t!=null?fde(OB(t)):null}function hde(t){if(!t)return null;let e=t.filter(RB);return e.length==0?null:function(n){let r=FB(n,e).map(PB);return z5(r).pipe(Tf(LB))}}function VB(t){return t!=null?hde(OB(t)):null}function SB(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function pde(t){return t._rawValidators}function mde(t){return t._rawAsyncValidators}function P4(t){return t?Array.isArray(t)?t:[t]:[]}function ex(t,e){return Array.isArray(t)?t.includes(e):t===e}function CB(t,e){let n=P4(e);return P4(t).forEach(i=>{ex(n,i)||n.push(i)}),n}function AB(t,e){return P4(e).filter(n=>!ex(t,n))}var tx=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BB(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=VB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},L4=class extends tx{name;get formDirective(){return null}get path(){return null}},bv=class extends tx{_parent=null;name=null;valueAccessor=null},F4=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var ix=(()=>{class t extends F4{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Ar(bv,2))};static \u0275dir=xa({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Un("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ou]})}return t})();var mv="VALID",Q_="INVALID",vm="PENDING",gv="DISABLED",lh=class{},nx=class extends lh{value;source;constructor(e,n){super(),this.value=e,this.source=n}},vv=class extends lh{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},yv=class extends lh{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ym=class extends lh{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var O4=class extends lh{source;constructor(e){super(),this.source=e}};function gde(t){return(sx(t)?t.validators:t)||null}function vde(t){return Array.isArray(t)?BB(t):t||null}function yde(t,e){return(sx(e)?e.asyncValidators:t)||null}function bde(t){return Array.isArray(t)?VB(t):t||null}function sx(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var B4=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Wl(this.statusReactive)}set status(e){Wl(()=>this.statusReactive.set(e))}_status=Ki(()=>this.statusReactive());statusReactive=hr(void 0);get valid(){return this.status===mv}get invalid(){return this.status===Q_}get pending(){return this.status==vm}get disabled(){return this.status===gv}get enabled(){return this.status!==gv}errors;get pristine(){return Wl(this.pristineReactive)}set pristine(e){Wl(()=>this.pristineReactive.set(e))}_pristine=Ki(()=>this.pristineReactive());pristineReactive=hr(!0);get dirty(){return!this.pristine}get touched(){return Wl(this.touchedReactive)}set touched(e){Wl(()=>this.touchedReactive.set(e))}_touched=Ki(()=>this.touchedReactive());touchedReactive=hr(!1);get untouched(){return!this.touched}_events=new $a;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(CB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AB(e,this._rawAsyncValidators))}hasValidator(e){return ex(this._rawValidators,e)}hasAsyncValidator(e){return ex(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(qt(Ne({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new yv(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new yv(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(qt(Ne({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new vv(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new vv(!0,r))}markAsPending(e={}){this.status=vm;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ym(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(qt(Ne({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=gv,this.errors=null,this._forEachChild(i=>{i.disable(qt(Ne({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nx(this.value,r)),this._events.next(new ym(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(qt(Ne({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=mv,this._forEachChild(r=>{r.enable(qt(Ne({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(qt(Ne({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mv||this.status===vm)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nx(this.value,n)),this._events.next(new ym(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(qt(Ne({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gv:mv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=vm,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=PB(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ym(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Go,this.statusChanges=new Go}_calculateStatus(){return this._allControlsDisabled()?gv:this.errors?Q_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vm)?vm:this._anyControlsHaveStatus(Q_)?Q_:mv}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new vv(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new yv(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sx(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vde(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=bde(this._rawAsyncValidators)}};var UB=new Ln("",{factory:()=>U4}),U4="always";function wde(t,e){return[...e.path,t]}function _de(t,e,n=U4){Ede(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Sde(t,e),Ade(t,e),Cde(t,e),xde(t,e)}function TB(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function xde(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ede(t,e){let n=pde(t);e.validator!==null?t.setValidators(SB(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=mde(t);e.asyncValidator!==null?t.setAsyncValidators(SB(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();TB(e._rawValidators,i),TB(e._rawAsyncValidators,i)}function Sde(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&jB(t,e)})}function Cde(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&jB(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function jB(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ade(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Tde(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Ide(t){return Object.getPrototypeOf(t.constructor)===V4}function Dde(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===bm?n=s:Ide(s)?r=s:i=s}),i||r||n||null}function IB(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function DB(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var kde=class extends B4{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(gde(n),yde(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sx(n)&&(n.nonNullable||n.initialValueIsDefault)&&(DB(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new O4(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Nde={provide:bv,useExisting:Mu(()=>wv)},kB=Promise.resolve(),wv=(()=>{class t extends bv{_changeDetectorRef;callSetDisabledState;control=new kde;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Go;constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Dde(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Tde(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_de(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){kB.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&C9(r);kB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?wde(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Ar(L4,9),Ar(ude,10),Ar(cde,10),Ar(rx,10),Ar(Zw,8),Ar(UB,8))};static \u0275dir=xa({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Yp([Nde]),Ou,kw]})}return t})();var Mde={provide:rx,useExisting:Mu(()=>ox),multi:!0};function HB(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Rde(t){return t.split(":")[0]}var ox=(()=>{class t extends V4{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=rn(Gp).injector;destroyRef=rn(rd);cdr=rn(Zw);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,XA({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=HB(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=Rde(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=b1(t)))(i||t)}})();static \u0275dir=xa({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Vn("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Yp([Mde]),Ou]})}return t})(),wm=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(HB(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(Ar(Qa),Ar(Yf),Ar(ox,9))};static \u0275dir=xa({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),Pde={provide:rx,useExisting:Mu(()=>$B),multi:!0};function NB(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Lde(t){return t.split(":")[0]}var $B=(()=>{class t extends V4{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],u=this._getOptionValue(l.value);i.push(u)}}else{let o=r.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Lde(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=b1(t)))(i||t)}})();static \u0275dir=xa({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Vn("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Yp([Pde]),Ou]})}return t})(),_m=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(NB(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(NB(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Ar(Qa),Ar(Yf),Ar($B,9))};static \u0275dir=xa({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var Fde=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xf({type:t});static \u0275inj=Kc({})}return t})();var md=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:UB,useValue:n.callSetDisabledState??U4}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xf({type:t});static \u0275inj=Kc({imports:[Fde]})}return t})();var Ode,Bde;function Vde(){return{geminiUrl:Ode,vertexUrl:Bde}}function Ude(t,e,n,r){var i,s;if(!t?.baseUrl){let o=Vde();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}var al=class{};function It(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){let s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function P(t,e,n){for(let s=0;s<e.length-1;s++){let o=e[s];if(o.endsWith("[]")){let a=o.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[a])){let l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){let c=l[u];P(c,e.slice(s+1),n[u])}else for(let u of l)P(u,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){let a=o.slice(0,-3);a in t||(t[a]=[{}]);let l=t[a];P(l[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}let r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function A(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;let i=e[r];if(i.endsWith("[]")){let s=i.slice(0,-2);if(s in t){let o=t[s];return Array.isArray(o)?o.map(a=>A(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function jde(t,e){for(let[n,r]of Object.entries(e)){let i=n.split("."),s=r.split("."),o=new Set,a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&s.length>a)for(let l=a;l<s.length;l++){let u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}$4(t,i,s,0,o)}}function $4(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;let s=e[r];if(s.endsWith("[]")){let o=s.slice(0,-2),a=t;if(o in a&&Array.isArray(a[o]))for(let l of a[o])$4(l,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let o=t,a=Object.keys(o).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(let u of a)l[u]=o[u];for(let[u,c]of Object.entries(l)){let d=[];for(let f of n.slice(r))f==="*"?d.push(u):d.push(f);P(o,d,c)}for(let u of a)delete o[u]}}else{let o=t;s in o&&$4(o[s],e,n,r+1,i)}}function jD(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Hde(t){let e={},n=A(t,["operationName"]);n!=null&&P(e,["operationName"],n);let r=A(t,["resourceName"]);return r!=null&&P(e,["_url","resourceName"],r),e}function $de(t){let e={},n=A(t,["name"]);n!=null&&P(e,["name"],n);let r=A(t,["metadata"]);r!=null&&P(e,["metadata"],r);let i=A(t,["done"]);i!=null&&P(e,["done"],i);let s=A(t,["error"]);s!=null&&P(e,["error"],s);let o=A(t,["response","generateVideoResponse"]);return o!=null&&P(e,["response"],zde(o)),e}function qde(t){let e={},n=A(t,["name"]);n!=null&&P(e,["name"],n);let r=A(t,["metadata"]);r!=null&&P(e,["metadata"],r);let i=A(t,["done"]);i!=null&&P(e,["done"],i);let s=A(t,["error"]);s!=null&&P(e,["error"],s);let o=A(t,["response"]);return o!=null&&P(e,["response"],Wde(o)),e}function zde(t){let e={},n=A(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Gde(o))),P(e,["generatedVideos"],s)}let r=A(t,["raiMediaFilteredCount"]);r!=null&&P(e,["raiMediaFilteredCount"],r);let i=A(t,["raiMediaFilteredReasons"]);return i!=null&&P(e,["raiMediaFilteredReasons"],i),e}function Wde(t){let e={},n=A(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Yde(o))),P(e,["generatedVideos"],s)}let r=A(t,["raiMediaFilteredCount"]);r!=null&&P(e,["raiMediaFilteredCount"],r);let i=A(t,["raiMediaFilteredReasons"]);return i!=null&&P(e,["raiMediaFilteredReasons"],i),e}function Gde(t){let e={},n=A(t,["video"]);return n!=null&&P(e,["video"],efe(n)),e}function Yde(t){let e={},n=A(t,["_self"]);return n!=null&&P(e,["video"],tfe(n)),e}function Xde(t){let e={},n=A(t,["operationName"]);return n!=null&&P(e,["_url","operationName"],n),e}function Kde(t){let e={},n=A(t,["operationName"]);return n!=null&&P(e,["_url","operationName"],n),e}function Zde(t){let e={},n=A(t,["name"]);n!=null&&P(e,["name"],n);let r=A(t,["metadata"]);r!=null&&P(e,["metadata"],r);let i=A(t,["done"]);i!=null&&P(e,["done"],i);let s=A(t,["error"]);s!=null&&P(e,["error"],s);let o=A(t,["response"]);return o!=null&&P(e,["response"],Jde(o)),e}function Jde(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["parent"]);r!=null&&P(e,["parent"],r);let i=A(t,["documentName"]);return i!=null&&P(e,["documentName"],i),e}function mV(t){let e={},n=A(t,["name"]);n!=null&&P(e,["name"],n);let r=A(t,["metadata"]);r!=null&&P(e,["metadata"],r);let i=A(t,["done"]);i!=null&&P(e,["done"],i);let s=A(t,["error"]);s!=null&&P(e,["error"],s);let o=A(t,["response"]);return o!=null&&P(e,["response"],Qde(o)),e}function Qde(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["parent"]);r!=null&&P(e,["parent"],r);let i=A(t,["documentName"]);return i!=null&&P(e,["documentName"],i),e}function efe(t){let e={},n=A(t,["uri"]);n!=null&&P(e,["uri"],n);let r=A(t,["encodedVideo"]);r!=null&&P(e,["videoBytes"],jD(r));let i=A(t,["encoding"]);return i!=null&&P(e,["mimeType"],i),e}function tfe(t){let e={},n=A(t,["gcsUri"]);n!=null&&P(e,["uri"],n);let r=A(t,["bytesBase64Encoded"]);r!=null&&P(e,["videoBytes"],jD(r));let i=A(t,["mimeType"]);return i!=null&&P(e,["mimeType"],i),e}var dh=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(dh||{});var q4=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(q4||{});var gV=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(gV||{});var vV=(function(t){return t.COLLECTION="COLLECTION",t})(vV||{});var xv=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(xv||{});var Sv=class{constructor(e){let n={};for(let r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var ch=class{get text(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1,d=[];for(let f of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[h,p]of Object.entries(f))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(p!==null||p!==void 0)&&d.push(h);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;c=!0,u+=f.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="",c=[];for(let d of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[f,h]of Object.entries(d))f!=="inlineData"&&(h!==null||h!==void 0)&&c.push(f);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if(u?.length!==0)return u}get executableCode(){var e,n,r,i,s,o,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let c=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if(c?.length!==0)return(u=c?.[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,s,o,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let c=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if(c?.length!==0)return(u=c?.[0])===null||u===void 0?void 0:u.output}},mx=class{},gx=class{},z4=class{},W4=class{},G4=class{},Y4=class{},vx=class{},yx=class{},bx=class{},X4=class{};var wx=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,i,s=e;return n?i=qde(s):i=$de(s),Object.assign(r,i),r}},_x=class{},xx=class{},Ex=class{},Sx=class{},K4=class{},Z4=class{},J4=class{};var Q4=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,s=Zde(e);return Object.assign(r,s),r}},eD=class{},tD=class{},nD=class{};var Cx=class{};var rD=class{get text(){var e,n,r;let i="",s=!1,o=[];for(let a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&o.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;s=!0,i+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="",s=[];for(let o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[a,l]of Object.entries(o))a!=="inlineData"&&l!==null&&s.push(a);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}};var iD=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var sD=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,s=mV(e);return Object.assign(r,s),r}};function mr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function yV(t,e){let n=mr(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function bV(t){return Array.isArray(t)?t.map(e=>Ax(e)):[Ax(t)]}function Ax(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function wV(t){let e=Ax(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _V(t){let e=Ax(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qB(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function xV(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>qB(e)):[qB(t)]}function oD(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function zB(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function WB(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rs(t){if(t==null)throw new Error("ContentUnion is required");return oD(t)?t:{role:"user",parts:xV(t)}}function HD(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let r=Rs(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){let n=Rs(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rs(n)):[Rs(e)]}function Ia(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(zB(t)||WB(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rs(t)]}let e=[],n=[],r=oD(t[0]);for(let i of t){let s=oD(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(zB(i)||WB(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:xV(n)}),e}function nfe(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(dh).includes(n[0].toUpperCase())?n[0].toUpperCase():dh.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let r of n)e.anyOf.push({type:Object.values(dh).includes(r.toUpperCase())?r.toUpperCase():dh.TYPE_UNSPECIFIED})}}function Em(t){let e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&nfe(t.type,e);for(let[o,a]of Object.entries(t))if(a!=null)if(o=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(dh).includes(a.toUpperCase())?a.toUpperCase():dh.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Em(a);else if(r.includes(o)){let l=[];for(let u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(Em(u))}e[o]=l}else if(i.includes(o)){let l={};for(let[u,c]of Object.entries(a))l[u]=Em(c);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=a}return e}function $D(t){return Em(t)}function qD(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function zD(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Tm(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Em(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Em(e.response));return t}function Im(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function rfe(t,e,n,r=1){let i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ku(t,e){if(typeof e!="string")throw new Error("name must be a string");return rfe(t,e,"cachedContents")}function EV(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function gd(t){return jD(t)}function ife(t){return t!=null&&typeof t=="object"&&"name"in t}function sfe(t){return t!=null&&typeof t=="object"&&"video"in t}function ofe(t){return t!=null&&typeof t=="object"&&"uri"in t}function SV(t){var e;let n;if(ife(t)&&(n=t.name),!(ofe(t)&&(n=t.uri,n===void 0))&&!(sfe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function CV(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function AV(t){for(let e of["models","tunedModels","publisherModels"])if(afe(t,e))return t[e];return[]}function afe(t,e){return t!==null&&typeof t=="object"&&e in t}function lfe(t,e={}){let n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ufe(t,e={}){let n=[],r=new Set;for(let i of t){let s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);let o=lfe(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function TV(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function cfe(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function IV(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(let o of i){if(typeof o!="object"||o===null)continue;let l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Dm(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function DV(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function dfe(t){let e={},n=A(t,["responsesFile"]);n!=null&&P(e,["fileName"],n);let r=A(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>zfe(o))),P(e,["inlinedResponses"],s)}let i=A(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(e,["inlinedEmbedContentResponses"],s)}return e}function ffe(t){let e={},n=A(t,["predictionsFormat"]);n!=null&&P(e,["format"],n);let r=A(t,["gcsDestination","outputUriPrefix"]);r!=null&&P(e,["gcsUri"],r);let i=A(t,["bigqueryDestination","outputUri"]);return i!=null&&P(e,["bigqueryUri"],i),e}function hfe(t){let e={},n=A(t,["format"]);n!=null&&P(e,["predictionsFormat"],n);let r=A(t,["gcsUri"]);r!=null&&P(e,["gcsDestination","outputUriPrefix"],r);let i=A(t,["bigqueryUri"]);if(i!=null&&P(e,["bigqueryDestination","outputUri"],i),A(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(A(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(A(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function hx(t){let e={},n=A(t,["name"]);n!=null&&P(e,["name"],n);let r=A(t,["metadata","displayName"]);r!=null&&P(e,["displayName"],r);let i=A(t,["metadata","state"]);i!=null&&P(e,["state"],DV(i));let s=A(t,["metadata","createTime"]);s!=null&&P(e,["createTime"],s);let o=A(t,["metadata","endTime"]);o!=null&&P(e,["endTime"],o);let a=A(t,["metadata","updateTime"]);a!=null&&P(e,["updateTime"],a);let l=A(t,["metadata","model"]);l!=null&&P(e,["model"],l);let u=A(t,["metadata","output"]);return u!=null&&P(e,["dest"],dfe(IV(u))),e}function aD(t){let e={},n=A(t,["name"]);n!=null&&P(e,["name"],n);let r=A(t,["displayName"]);r!=null&&P(e,["displayName"],r);let i=A(t,["state"]);i!=null&&P(e,["state"],DV(i));let s=A(t,["error"]);s!=null&&P(e,["error"],s);let o=A(t,["createTime"]);o!=null&&P(e,["createTime"],o);let a=A(t,["startTime"]);a!=null&&P(e,["startTime"],a);let l=A(t,["endTime"]);l!=null&&P(e,["endTime"],l);let u=A(t,["updateTime"]);u!=null&&P(e,["updateTime"],u);let c=A(t,["model"]);c!=null&&P(e,["model"],c);let d=A(t,["inputConfig"]);d!=null&&P(e,["src"],pfe(d));let f=A(t,["outputConfig"]);f!=null&&P(e,["dest"],ffe(IV(f)));let h=A(t,["completionStats"]);return h!=null&&P(e,["completionStats"],h),e}function pfe(t){let e={},n=A(t,["instancesFormat"]);n!=null&&P(e,["format"],n);let r=A(t,["gcsSource","uris"]);r!=null&&P(e,["gcsUri"],r);let i=A(t,["bigquerySource","inputUri"]);return i!=null&&P(e,["bigqueryUri"],i),e}function mfe(t,e){let n={};if(A(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(A(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(A(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let r=A(e,["fileName"]);r!=null&&P(n,["fileName"],r);let i=A(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>qfe(t,o))),P(n,["requests","requests"],s)}return n}function gfe(t){let e={},n=A(t,["format"]);n!=null&&P(e,["instancesFormat"],n);let r=A(t,["gcsUri"]);r!=null&&P(e,["gcsSource","uris"],r);let i=A(t,["bigqueryUri"]);if(i!=null&&P(e,["bigquerySource","inputUri"],i),A(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(A(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function vfe(t){let e={},n=A(t,["data"]);if(n!=null&&P(e,["data"],n),A(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function yfe(t,e){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],Dm(t,r)),n}function bfe(t,e){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],Dm(t,r)),n}function wfe(t){let e={},n=A(t,["content"]);n!=null&&P(e,["content"],n);let r=A(t,["citationMetadata"]);r!=null&&P(e,["citationMetadata"],_fe(r));let i=A(t,["tokenCount"]);i!=null&&P(e,["tokenCount"],i);let s=A(t,["finishReason"]);s!=null&&P(e,["finishReason"],s);let o=A(t,["avgLogprobs"]);o!=null&&P(e,["avgLogprobs"],o);let a=A(t,["groundingMetadata"]);a!=null&&P(e,["groundingMetadata"],a);let l=A(t,["index"]);l!=null&&P(e,["index"],l);let u=A(t,["logprobsResult"]);u!=null&&P(e,["logprobsResult"],u);let c=A(t,["safetyRatings"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),P(e,["safetyRatings"],f)}let d=A(t,["urlContextMetadata"]);return d!=null&&P(e,["urlContextMetadata"],d),e}function _fe(t){let e={},n=A(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),P(e,["citations"],r)}return e}function kV(t){let e={},n=A(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Jfe(s))),P(e,["parts"],i)}let r=A(t,["role"]);return r!=null&&P(e,["role"],r),e}function xfe(t,e){let n={},r=A(t,["displayName"]);if(e!==void 0&&r!=null&&P(e,["batch","displayName"],r),A(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Efe(t,e){let n={},r=A(t,["displayName"]);e!==void 0&&r!=null&&P(e,["displayName"],r);let i=A(t,["dest"]);return e!==void 0&&i!=null&&P(e,["outputConfig"],hfe(cfe(i))),n}function GB(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["src"]);i!=null&&P(n,["batch","inputConfig"],mfe(t,TV(t,i)));let s=A(e,["config"]);return s!=null&&xfe(s,n),n}function Sfe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["model"],mr(t,r));let i=A(e,["src"]);i!=null&&P(n,["inputConfig"],gfe(TV(t,i)));let s=A(e,["config"]);return s!=null&&Efe(s,n),n}function Cfe(t,e){let n={},r=A(t,["displayName"]);return e!==void 0&&r!=null&&P(e,["batch","displayName"],r),n}function Afe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["src"]);i!=null&&P(n,["batch","inputConfig"],Rfe(t,i));let s=A(e,["config"]);return s!=null&&Cfe(s,n),n}function Tfe(t,e){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],Dm(t,r)),n}function Ife(t,e){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],Dm(t,r)),n}function Dfe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["name"]);r!=null&&P(e,["name"],r);let i=A(t,["done"]);i!=null&&P(e,["done"],i);let s=A(t,["error"]);return s!=null&&P(e,["error"],s),e}function kfe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["name"]);r!=null&&P(e,["name"],r);let i=A(t,["done"]);i!=null&&P(e,["done"],i);let s=A(t,["error"]);return s!=null&&P(e,["error"],s),e}function Nfe(t,e){let n={},r=A(e,["contents"]);if(r!=null){let s=HD(t,r);Array.isArray(s)&&(s=s.map(o=>o)),P(n,["requests[]","request","content"],s)}let i=A(e,["config"]);return i!=null&&(P(n,["_self"],Mfe(i,n)),jde(n,{"requests[].*":"requests[].request.*"})),n}function Mfe(t,e){let n={},r=A(t,["taskType"]);e!==void 0&&r!=null&&P(e,["requests[]","taskType"],r);let i=A(t,["title"]);e!==void 0&&i!=null&&P(e,["requests[]","title"],i);let s=A(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&P(e,["requests[]","outputDimensionality"],s),A(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(A(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Rfe(t,e){let n={},r=A(e,["fileName"]);r!=null&&P(n,["file_name"],r);let i=A(e,["inlinedRequests"]);return i!=null&&P(n,["requests"],Nfe(t,i)),n}function Pfe(t){let e={};if(A(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=A(t,["fileUri"]);n!=null&&P(e,["fileUri"],n);let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function Lfe(t){let e={},n=A(t,["id"]);n!=null&&P(e,["id"],n);let r=A(t,["args"]);r!=null&&P(e,["args"],r);let i=A(t,["name"]);if(i!=null&&P(e,["name"],i),A(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(A(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ffe(t){let e={},n=A(t,["allowedFunctionNames"]);n!=null&&P(e,["allowedFunctionNames"],n);let r=A(t,["mode"]);if(r!=null&&P(e,["mode"],r),A(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ofe(t,e,n){let r={},i=A(e,["systemInstruction"]);n!==void 0&&i!=null&&P(n,["systemInstruction"],kV(Rs(i)));let s=A(e,["temperature"]);s!=null&&P(r,["temperature"],s);let o=A(e,["topP"]);o!=null&&P(r,["topP"],o);let a=A(e,["topK"]);a!=null&&P(r,["topK"],a);let l=A(e,["candidateCount"]);l!=null&&P(r,["candidateCount"],l);let u=A(e,["maxOutputTokens"]);u!=null&&P(r,["maxOutputTokens"],u);let c=A(e,["stopSequences"]);c!=null&&P(r,["stopSequences"],c);let d=A(e,["responseLogprobs"]);d!=null&&P(r,["responseLogprobs"],d);let f=A(e,["logprobs"]);f!=null&&P(r,["logprobs"],f);let h=A(e,["presencePenalty"]);h!=null&&P(r,["presencePenalty"],h);let p=A(e,["frequencyPenalty"]);p!=null&&P(r,["frequencyPenalty"],p);let m=A(e,["seed"]);m!=null&&P(r,["seed"],m);let g=A(e,["responseMimeType"]);g!=null&&P(r,["responseMimeType"],g);let y=A(e,["responseSchema"]);y!=null&&P(r,["responseSchema"],$D(y));let x=A(e,["responseJsonSchema"]);if(x!=null&&P(r,["responseJsonSchema"],x),A(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(A(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let T=A(e,["safetySettings"]);if(n!==void 0&&T!=null){let L=T;Array.isArray(L)&&(L=L.map(v=>Qfe(v))),P(n,["safetySettings"],L)}let R=A(e,["tools"]);if(n!==void 0&&R!=null){let L=Im(R);Array.isArray(L)&&(L=L.map(v=>the(Tm(v)))),P(n,["tools"],L)}let $=A(e,["toolConfig"]);if(n!==void 0&&$!=null&&P(n,["toolConfig"],ehe($)),A(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let O=A(e,["cachedContent"]);n!==void 0&&O!=null&&P(n,["cachedContent"],Ku(t,O));let U=A(e,["responseModalities"]);U!=null&&P(r,["responseModalities"],U);let j=A(e,["mediaResolution"]);j!=null&&P(r,["mediaResolution"],j);let q=A(e,["speechConfig"]);if(q!=null&&P(r,["speechConfig"],qD(q)),A(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let H=A(e,["thinkingConfig"]);H!=null&&P(r,["thinkingConfig"],H);let E=A(e,["imageConfig"]);E!=null&&P(r,["imageConfig"],$fe(E));let C=A(e,["enableEnhancedCivicAnswers"]);if(C!=null&&P(r,["enableEnhancedCivicAnswers"],C),A(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Bfe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>wfe(u))),P(e,["candidates"],l)}let i=A(t,["modelVersion"]);i!=null&&P(e,["modelVersion"],i);let s=A(t,["promptFeedback"]);s!=null&&P(e,["promptFeedback"],s);let o=A(t,["responseId"]);o!=null&&P(e,["responseId"],o);let a=A(t,["usageMetadata"]);return a!=null&&P(e,["usageMetadata"],a),e}function Vfe(t,e){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],Dm(t,r)),n}function Ufe(t,e){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],Dm(t,r)),n}function jfe(t){let e={};if(A(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=A(t,["enableWidget"]);return n!=null&&P(e,["enableWidget"],n),e}function Hfe(t){let e={};if(A(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(A(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=A(t,["timeRangeFilter"]);return n!=null&&P(e,["timeRangeFilter"],n),e}function $fe(t){let e={},n=A(t,["aspectRatio"]);n!=null&&P(e,["aspectRatio"],n);let r=A(t,["imageSize"]);if(r!=null&&P(e,["imageSize"],r),A(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(A(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(A(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function qfe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["request","model"],mr(t,r));let i=A(e,["contents"]);if(i!=null){let a=Ia(i);Array.isArray(a)&&(a=a.map(l=>kV(l))),P(n,["request","contents"],a)}let s=A(e,["metadata"]);s!=null&&P(n,["metadata"],s);let o=A(e,["config"]);return o!=null&&P(n,["request","generationConfig"],Ofe(t,o,A(n,["request"],{}))),n}function zfe(t){let e={},n=A(t,["response"]);n!=null&&P(e,["response"],Bfe(n));let r=A(t,["error"]);return r!=null&&P(e,["error"],r),e}function Wfe(t,e){let n={},r=A(t,["pageSize"]);e!==void 0&&r!=null&&P(e,["_query","pageSize"],r);let i=A(t,["pageToken"]);if(e!==void 0&&i!=null&&P(e,["_query","pageToken"],i),A(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Gfe(t,e){let n={},r=A(t,["pageSize"]);e!==void 0&&r!=null&&P(e,["_query","pageSize"],r);let i=A(t,["pageToken"]);e!==void 0&&i!=null&&P(e,["_query","pageToken"],i);let s=A(t,["filter"]);return e!==void 0&&s!=null&&P(e,["_query","filter"],s),n}function Yfe(t){let e={},n=A(t,["config"]);return n!=null&&Wfe(n,e),e}function Xfe(t){let e={},n=A(t,["config"]);return n!=null&&Gfe(n,e),e}function Kfe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["nextPageToken"]);r!=null&&P(e,["nextPageToken"],r);let i=A(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>hx(o))),P(e,["batchJobs"],s)}return e}function Zfe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["nextPageToken"]);r!=null&&P(e,["nextPageToken"],r);let i=A(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>aD(o))),P(e,["batchJobs"],s)}return e}function Jfe(t){let e={},n=A(t,["mediaResolution"]);n!=null&&P(e,["mediaResolution"],n);let r=A(t,["codeExecutionResult"]);r!=null&&P(e,["codeExecutionResult"],r);let i=A(t,["executableCode"]);i!=null&&P(e,["executableCode"],i);let s=A(t,["fileData"]);s!=null&&P(e,["fileData"],Pfe(s));let o=A(t,["functionCall"]);o!=null&&P(e,["functionCall"],Lfe(o));let a=A(t,["functionResponse"]);a!=null&&P(e,["functionResponse"],a);let l=A(t,["inlineData"]);l!=null&&P(e,["inlineData"],vfe(l));let u=A(t,["text"]);u!=null&&P(e,["text"],u);let c=A(t,["thought"]);c!=null&&P(e,["thought"],c);let d=A(t,["thoughtSignature"]);d!=null&&P(e,["thoughtSignature"],d);let f=A(t,["videoMetadata"]);return f!=null&&P(e,["videoMetadata"],f),e}function Qfe(t){let e={},n=A(t,["category"]);if(n!=null&&P(e,["category"],n),A(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=A(t,["threshold"]);return r!=null&&P(e,["threshold"],r),e}function ehe(t){let e={},n=A(t,["retrievalConfig"]);n!=null&&P(e,["retrievalConfig"],n);let r=A(t,["functionCallingConfig"]);return r!=null&&P(e,["functionCallingConfig"],Ffe(r)),e}function the(t){let e={};if(A(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=A(t,["computerUse"]);n!=null&&P(e,["computerUse"],n);let r=A(t,["fileSearch"]);r!=null&&P(e,["fileSearch"],r);let i=A(t,["codeExecution"]);if(i!=null&&P(e,["codeExecution"],i),A(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=A(t,["functionDeclarations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),P(e,["functionDeclarations"],c)}let o=A(t,["googleMaps"]);o!=null&&P(e,["googleMaps"],jfe(o));let a=A(t,["googleSearch"]);a!=null&&P(e,["googleSearch"],Hfe(a));let l=A(t,["googleSearchRetrieval"]);l!=null&&P(e,["googleSearchRetrieval"],l);let u=A(t,["urlContext"]);return u!=null&&P(e,["urlContext"],u),e}var vd=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents",t})(vd||{}),Xu=class{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var lD=class extends al{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xu(vd.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){let n=GB(this.apiClient,e),r=n._url,i=It("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(let c of l){let d=Object.assign({},c);if(d.systemInstruction){let f=d.systemInstruction;delete d.systemInstruction;let h=d.request;h.systemInstruction=f,d.request=h}u.push(d)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){let s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Sfe(this.apiClient,e);return a=It("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>aD(c))}else{let u=GB(this.apiClient,e);return a=It("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json()),o.then(c=>hx(c))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Afe(this.apiClient,e);return s=It("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>hx(l))}}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Ufe(this.apiClient,e);return a=It("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>aD(c))}else{let u=Vfe(this.apiClient,e);return a=It("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json()),o.then(c=>hx(c))}}async cancel(e){var n,r,i,s;let o="",a={};if(this.apiClient.isVertexAI()){let l=bfe(this.apiClient,e);o=It("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{let l=yfe(this.apiClient,e);o=It("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Xfe(e);return a=It("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Zfe(c),f=new Cx;return Object.assign(f,d),f})}else{let u=Yfe(e);return a=It("batches",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Kfe(c),f=new Cx;return Object.assign(f,d),f})}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Ife(this.apiClient,e);return a=It("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>kfe(c))}else{let u=Tfe(this.apiClient,e);return a=It("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>Dfe(c))}}};function nhe(t){let e={},n=A(t,["data"]);if(n!=null&&P(e,["data"],n),A(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function YB(t){let e={},n=A(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Che(s))),P(e,["parts"],i)}let r=A(t,["role"]);return r!=null&&P(e,["role"],r),e}function rhe(t,e){let n={},r=A(t,["ttl"]);e!==void 0&&r!=null&&P(e,["ttl"],r);let i=A(t,["expireTime"]);e!==void 0&&i!=null&&P(e,["expireTime"],i);let s=A(t,["displayName"]);e!==void 0&&s!=null&&P(e,["displayName"],s);let o=A(t,["contents"]);if(e!==void 0&&o!=null){let c=Ia(o);Array.isArray(c)&&(c=c.map(d=>YB(d))),P(e,["contents"],c)}let a=A(t,["systemInstruction"]);e!==void 0&&a!=null&&P(e,["systemInstruction"],YB(Rs(a)));let l=A(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>The(d))),P(e,["tools"],c)}let u=A(t,["toolConfig"]);if(e!==void 0&&u!=null&&P(e,["toolConfig"],Ahe(u)),A(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ihe(t,e){let n={},r=A(t,["ttl"]);e!==void 0&&r!=null&&P(e,["ttl"],r);let i=A(t,["expireTime"]);e!==void 0&&i!=null&&P(e,["expireTime"],i);let s=A(t,["displayName"]);e!==void 0&&s!=null&&P(e,["displayName"],s);let o=A(t,["contents"]);if(e!==void 0&&o!=null){let d=Ia(o);Array.isArray(d)&&(d=d.map(f=>f)),P(e,["contents"],d)}let a=A(t,["systemInstruction"]);e!==void 0&&a!=null&&P(e,["systemInstruction"],Rs(a));let l=A(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>Ihe(f))),P(e,["tools"],d)}let u=A(t,["toolConfig"]);e!==void 0&&u!=null&&P(e,["toolConfig"],u);let c=A(t,["kmsKeyName"]);return e!==void 0&&c!=null&&P(e,["encryption_spec","kmsKeyName"],c),n}function she(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["model"],yV(t,r));let i=A(e,["config"]);return i!=null&&rhe(i,n),n}function ohe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["model"],yV(t,r));let i=A(e,["config"]);return i!=null&&ihe(i,n),n}function ahe(t,e){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],Ku(t,r)),n}function lhe(t,e){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],Ku(t,r)),n}function uhe(t){let e={},n=A(t,["sdkHttpResponse"]);return n!=null&&P(e,["sdkHttpResponse"],n),e}function che(t){let e={},n=A(t,["sdkHttpResponse"]);return n!=null&&P(e,["sdkHttpResponse"],n),e}function dhe(t){let e={};if(A(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=A(t,["fileUri"]);n!=null&&P(e,["fileUri"],n);let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function fhe(t){let e={},n=A(t,["id"]);n!=null&&P(e,["id"],n);let r=A(t,["args"]);r!=null&&P(e,["args"],r);let i=A(t,["name"]);if(i!=null&&P(e,["name"],i),A(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(A(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hhe(t){let e={},n=A(t,["allowedFunctionNames"]);n!=null&&P(e,["allowedFunctionNames"],n);let r=A(t,["mode"]);if(r!=null&&P(e,["mode"],r),A(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function phe(t){let e={},n=A(t,["description"]);n!=null&&P(e,["description"],n);let r=A(t,["name"]);r!=null&&P(e,["name"],r);let i=A(t,["parameters"]);i!=null&&P(e,["parameters"],i);let s=A(t,["parametersJsonSchema"]);s!=null&&P(e,["parametersJsonSchema"],s);let o=A(t,["response"]);o!=null&&P(e,["response"],o);let a=A(t,["responseJsonSchema"]);if(a!=null&&P(e,["responseJsonSchema"],a),A(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function mhe(t,e){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],Ku(t,r)),n}function ghe(t,e){let n={},r=A(e,["name"]);return r!=null&&P(n,["_url","name"],Ku(t,r)),n}function vhe(t){let e={};if(A(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=A(t,["enableWidget"]);return n!=null&&P(e,["enableWidget"],n),e}function yhe(t){let e={};if(A(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(A(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=A(t,["timeRangeFilter"]);return n!=null&&P(e,["timeRangeFilter"],n),e}function bhe(t,e){let n={},r=A(t,["pageSize"]);e!==void 0&&r!=null&&P(e,["_query","pageSize"],r);let i=A(t,["pageToken"]);return e!==void 0&&i!=null&&P(e,["_query","pageToken"],i),n}function whe(t,e){let n={},r=A(t,["pageSize"]);e!==void 0&&r!=null&&P(e,["_query","pageSize"],r);let i=A(t,["pageToken"]);return e!==void 0&&i!=null&&P(e,["_query","pageToken"],i),n}function _he(t){let e={},n=A(t,["config"]);return n!=null&&bhe(n,e),e}function xhe(t){let e={},n=A(t,["config"]);return n!=null&&whe(n,e),e}function Ehe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["nextPageToken"]);r!=null&&P(e,["nextPageToken"],r);let i=A(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(e,["cachedContents"],s)}return e}function She(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["nextPageToken"]);r!=null&&P(e,["nextPageToken"],r);let i=A(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(e,["cachedContents"],s)}return e}function Che(t){let e={},n=A(t,["mediaResolution"]);n!=null&&P(e,["mediaResolution"],n);let r=A(t,["codeExecutionResult"]);r!=null&&P(e,["codeExecutionResult"],r);let i=A(t,["executableCode"]);i!=null&&P(e,["executableCode"],i);let s=A(t,["fileData"]);s!=null&&P(e,["fileData"],dhe(s));let o=A(t,["functionCall"]);o!=null&&P(e,["functionCall"],fhe(o));let a=A(t,["functionResponse"]);a!=null&&P(e,["functionResponse"],a);let l=A(t,["inlineData"]);l!=null&&P(e,["inlineData"],nhe(l));let u=A(t,["text"]);u!=null&&P(e,["text"],u);let c=A(t,["thought"]);c!=null&&P(e,["thought"],c);let d=A(t,["thoughtSignature"]);d!=null&&P(e,["thoughtSignature"],d);let f=A(t,["videoMetadata"]);return f!=null&&P(e,["videoMetadata"],f),e}function Ahe(t){let e={},n=A(t,["retrievalConfig"]);n!=null&&P(e,["retrievalConfig"],n);let r=A(t,["functionCallingConfig"]);return r!=null&&P(e,["functionCallingConfig"],hhe(r)),e}function The(t){let e={};if(A(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=A(t,["computerUse"]);n!=null&&P(e,["computerUse"],n);let r=A(t,["fileSearch"]);r!=null&&P(e,["fileSearch"],r);let i=A(t,["codeExecution"]);if(i!=null&&P(e,["codeExecution"],i),A(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=A(t,["functionDeclarations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),P(e,["functionDeclarations"],c)}let o=A(t,["googleMaps"]);o!=null&&P(e,["googleMaps"],vhe(o));let a=A(t,["googleSearch"]);a!=null&&P(e,["googleSearch"],yhe(a));let l=A(t,["googleSearchRetrieval"]);l!=null&&P(e,["googleSearchRetrieval"],l);let u=A(t,["urlContext"]);return u!=null&&P(e,["urlContext"],u),e}function Ihe(t){let e={},n=A(t,["retrieval"]);n!=null&&P(e,["retrieval"],n);let r=A(t,["computerUse"]);if(r!=null&&P(e,["computerUse"],r),A(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=A(t,["codeExecution"]);i!=null&&P(e,["codeExecution"],i);let s=A(t,["enterpriseWebSearch"]);s!=null&&P(e,["enterpriseWebSearch"],s);let o=A(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>phe(f))),P(e,["functionDeclarations"],d)}let a=A(t,["googleMaps"]);a!=null&&P(e,["googleMaps"],a);let l=A(t,["googleSearch"]);l!=null&&P(e,["googleSearch"],l);let u=A(t,["googleSearchRetrieval"]);u!=null&&P(e,["googleSearchRetrieval"],u);let c=A(t,["urlContext"]);return c!=null&&P(e,["urlContext"],c),e}function Dhe(t,e){let n={},r=A(t,["ttl"]);e!==void 0&&r!=null&&P(e,["ttl"],r);let i=A(t,["expireTime"]);return e!==void 0&&i!=null&&P(e,["expireTime"],i),n}function khe(t,e){let n={},r=A(t,["ttl"]);e!==void 0&&r!=null&&P(e,["ttl"],r);let i=A(t,["expireTime"]);return e!==void 0&&i!=null&&P(e,["expireTime"],i),n}function Nhe(t,e){let n={},r=A(e,["name"]);r!=null&&P(n,["_url","name"],Ku(t,r));let i=A(e,["config"]);return i!=null&&Dhe(i,n),n}function Mhe(t,e){let n={},r=A(e,["name"]);r!=null&&P(n,["_url","name"],Ku(t,r));let i=A(e,["config"]);return i!=null&&khe(i,n),n}var uD=class extends al{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xu(vd.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=ohe(this.apiClient,e);return a=It("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}else{let u=she(this.apiClient,e);return a=It("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=ghe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}else{let u=mhe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=lhe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=che(c),f=new Ex;return Object.assign(f,d),f})}else{let u=ahe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=uhe(c),f=new Ex;return Object.assign(f,d),f})}}async update(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Mhe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}else{let u=Nhe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=xhe(e);return a=It("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=She(c),f=new Sx;return Object.assign(f,d),f})}else{let u=_he(e);return a=It("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Ehe(c),f=new Sx;return Object.assign(f,d),f})}}};function Tx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function XB(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function En(t){return this instanceof En?(this.v=t,this):new En(t)}function sl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(g,y){s.push([h,m,g,y])>1||l(h,m)})},p&&(i[h]=p(i[h])))}function l(h,p){try{u(r[h](p))}catch(m){f(s[0][3],m)}}function u(h){h.value instanceof En?Promise.resolve(h.value.v).then(c,d):f(s[0][2],h)}function c(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ol(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof XB=="function"?XB(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function Rhe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:NV(n)}function NV(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Phe(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function KB(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{let i=[],s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!NV(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}var cD=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new dD(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},dD=class{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Phe(s)}async sendMessage(e){var n;await this.sendPromise;let r=Rs(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,a;let l=await i,u=(o=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length,f=[];c!=null&&(f=(a=c.slice(d))!==null&&a!==void 0?a:[]);let h=u?[u]:[];this.recordHistory(r,h,f)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;let r=Rs(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});let s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){let n=e?KB(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return sl(this,arguments,function*(){var i,s,o,a,l,u;let c=[];try{for(var d=!0,f=ol(e),h;h=yield En(f.next()),i=h.done,!i;d=!0){a=h.value,d=!1;let p=a;if(Rhe(p)){let m=(u=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;m!==void 0&&c.push(m)}yield yield En(p)}}catch(p){s={error:p}}finally{try{!d&&!i&&(o=f.return)&&(yield En(o.call(f)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...KB(r)):this.history.push(e),this.history.push(...i)}};var Cv=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function Lhe(t){let e={},n=A(t,["file"]);return n!=null&&P(e,["file"],n),e}function Fhe(t){let e={},n=A(t,["sdkHttpResponse"]);return n!=null&&P(e,["sdkHttpResponse"],n),e}function Ohe(t){let e={},n=A(t,["name"]);return n!=null&&P(e,["_url","file"],SV(n)),e}function Bhe(t){let e={},n=A(t,["sdkHttpResponse"]);return n!=null&&P(e,["sdkHttpResponse"],n),e}function Vhe(t){let e={},n=A(t,["name"]);return n!=null&&P(e,["_url","file"],SV(n)),e}function Uhe(t,e){let n={},r=A(t,["pageSize"]);e!==void 0&&r!=null&&P(e,["_query","pageSize"],r);let i=A(t,["pageToken"]);return e!==void 0&&i!=null&&P(e,["_query","pageToken"],i),n}function jhe(t){let e={},n=A(t,["config"]);return n!=null&&Uhe(n,e),e}function Hhe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["nextPageToken"]);r!=null&&P(e,["nextPageToken"],r);let i=A(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(e,["files"],s)}return e}var fD=class extends al{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xu(vd.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=jhe(e);return s=It("files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{let u=Hhe(l),c=new eD;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Lhe(e);return s=It("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=Fhe(l),c=new tD;return Object.assign(c,u),c})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Vhe(e);return s=It("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Ohe(e);return s=It("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{let u=Bhe(l),c=new nD;return Object.assign(c,u),c})}}};function px(t){let e={},n=A(t,["data"]);if(n!=null&&P(e,["data"],n),A(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function $he(t){let e={},n=A(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>spe(s))),P(e,["parts"],i)}let r=A(t,["role"]);return r!=null&&P(e,["role"],r),e}function qhe(t){let e={};if(A(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=A(t,["fileUri"]);n!=null&&P(e,["fileUri"],n);let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function zhe(t){let e={},n=A(t,["id"]);n!=null&&P(e,["id"],n);let r=A(t,["args"]);r!=null&&P(e,["args"],r);let i=A(t,["name"]);if(i!=null&&P(e,["name"],i),A(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(A(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Whe(t){let e={},n=A(t,["description"]);n!=null&&P(e,["description"],n);let r=A(t,["name"]);r!=null&&P(e,["name"],r);let i=A(t,["parameters"]);i!=null&&P(e,["parameters"],i);let s=A(t,["parametersJsonSchema"]);s!=null&&P(e,["parametersJsonSchema"],s);let o=A(t,["response"]);o!=null&&P(e,["response"],o);let a=A(t,["responseJsonSchema"]);if(a!=null&&P(e,["responseJsonSchema"],a),A(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Ghe(t){let e={},n=A(t,["modelSelectionConfig"]);n!=null&&P(e,["modelConfig"],n);let r=A(t,["responseJsonSchema"]);r!=null&&P(e,["responseJsonSchema"],r);let i=A(t,["audioTimestamp"]);i!=null&&P(e,["audioTimestamp"],i);let s=A(t,["candidateCount"]);s!=null&&P(e,["candidateCount"],s);let o=A(t,["enableAffectiveDialog"]);o!=null&&P(e,["enableAffectiveDialog"],o);let a=A(t,["frequencyPenalty"]);a!=null&&P(e,["frequencyPenalty"],a);let l=A(t,["logprobs"]);l!=null&&P(e,["logprobs"],l);let u=A(t,["maxOutputTokens"]);u!=null&&P(e,["maxOutputTokens"],u);let c=A(t,["mediaResolution"]);c!=null&&P(e,["mediaResolution"],c);let d=A(t,["presencePenalty"]);d!=null&&P(e,["presencePenalty"],d);let f=A(t,["responseLogprobs"]);f!=null&&P(e,["responseLogprobs"],f);let h=A(t,["responseMimeType"]);h!=null&&P(e,["responseMimeType"],h);let p=A(t,["responseModalities"]);p!=null&&P(e,["responseModalities"],p);let m=A(t,["responseSchema"]);m!=null&&P(e,["responseSchema"],m);let g=A(t,["routingConfig"]);g!=null&&P(e,["routingConfig"],g);let y=A(t,["seed"]);y!=null&&P(e,["seed"],y);let x=A(t,["speechConfig"]);x!=null&&P(e,["speechConfig"],x);let T=A(t,["stopSequences"]);T!=null&&P(e,["stopSequences"],T);let R=A(t,["temperature"]);R!=null&&P(e,["temperature"],R);let $=A(t,["thinkingConfig"]);$!=null&&P(e,["thinkingConfig"],$);let O=A(t,["topK"]);O!=null&&P(e,["topK"],O);let U=A(t,["topP"]);if(U!=null&&P(e,["topP"],U),A(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Yhe(t){let e={};if(A(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=A(t,["enableWidget"]);return n!=null&&P(e,["enableWidget"],n),e}function Xhe(t){let e={};if(A(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(A(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=A(t,["timeRangeFilter"]);return n!=null&&P(e,["timeRangeFilter"],n),e}function Khe(t,e){let n={},r=A(t,["generationConfig"]);e!==void 0&&r!=null&&P(e,["setup","generationConfig"],r);let i=A(t,["responseModalities"]);e!==void 0&&i!=null&&P(e,["setup","generationConfig","responseModalities"],i);let s=A(t,["temperature"]);e!==void 0&&s!=null&&P(e,["setup","generationConfig","temperature"],s);let o=A(t,["topP"]);e!==void 0&&o!=null&&P(e,["setup","generationConfig","topP"],o);let a=A(t,["topK"]);e!==void 0&&a!=null&&P(e,["setup","generationConfig","topK"],a);let l=A(t,["maxOutputTokens"]);e!==void 0&&l!=null&&P(e,["setup","generationConfig","maxOutputTokens"],l);let u=A(t,["mediaResolution"]);e!==void 0&&u!=null&&P(e,["setup","generationConfig","mediaResolution"],u);let c=A(t,["seed"]);e!==void 0&&c!=null&&P(e,["setup","generationConfig","seed"],c);let d=A(t,["speechConfig"]);e!==void 0&&d!=null&&P(e,["setup","generationConfig","speechConfig"],zD(d));let f=A(t,["thinkingConfig"]);e!==void 0&&f!=null&&P(e,["setup","generationConfig","thinkingConfig"],f);let h=A(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&P(e,["setup","generationConfig","enableAffectiveDialog"],h);let p=A(t,["systemInstruction"]);e!==void 0&&p!=null&&P(e,["setup","systemInstruction"],$he(Rs(p)));let m=A(t,["tools"]);if(e!==void 0&&m!=null){let O=Im(m);Array.isArray(O)&&(O=O.map(U=>ape(Tm(U)))),P(e,["setup","tools"],O)}let g=A(t,["sessionResumption"]);e!==void 0&&g!=null&&P(e,["setup","sessionResumption"],ope(g));let y=A(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&P(e,["setup","inputAudioTranscription"],y);let x=A(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&P(e,["setup","outputAudioTranscription"],x);let T=A(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&P(e,["setup","realtimeInputConfig"],T);let R=A(t,["contextWindowCompression"]);e!==void 0&&R!=null&&P(e,["setup","contextWindowCompression"],R);let $=A(t,["proactivity"]);if(e!==void 0&&$!=null&&P(e,["setup","proactivity"],$),A(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Zhe(t,e){let n={},r=A(t,["generationConfig"]);e!==void 0&&r!=null&&P(e,["setup","generationConfig"],Ghe(r));let i=A(t,["responseModalities"]);e!==void 0&&i!=null&&P(e,["setup","generationConfig","responseModalities"],i);let s=A(t,["temperature"]);e!==void 0&&s!=null&&P(e,["setup","generationConfig","temperature"],s);let o=A(t,["topP"]);e!==void 0&&o!=null&&P(e,["setup","generationConfig","topP"],o);let a=A(t,["topK"]);e!==void 0&&a!=null&&P(e,["setup","generationConfig","topK"],a);let l=A(t,["maxOutputTokens"]);e!==void 0&&l!=null&&P(e,["setup","generationConfig","maxOutputTokens"],l);let u=A(t,["mediaResolution"]);e!==void 0&&u!=null&&P(e,["setup","generationConfig","mediaResolution"],u);let c=A(t,["seed"]);e!==void 0&&c!=null&&P(e,["setup","generationConfig","seed"],c);let d=A(t,["speechConfig"]);e!==void 0&&d!=null&&P(e,["setup","generationConfig","speechConfig"],zD(d));let f=A(t,["thinkingConfig"]);e!==void 0&&f!=null&&P(e,["setup","generationConfig","thinkingConfig"],f);let h=A(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&P(e,["setup","generationConfig","enableAffectiveDialog"],h);let p=A(t,["systemInstruction"]);e!==void 0&&p!=null&&P(e,["setup","systemInstruction"],Rs(p));let m=A(t,["tools"]);if(e!==void 0&&m!=null){let U=Im(m);Array.isArray(U)&&(U=U.map(j=>lpe(Tm(j)))),P(e,["setup","tools"],U)}let g=A(t,["sessionResumption"]);e!==void 0&&g!=null&&P(e,["setup","sessionResumption"],g);let y=A(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&P(e,["setup","inputAudioTranscription"],y);let x=A(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&P(e,["setup","outputAudioTranscription"],x);let T=A(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&P(e,["setup","realtimeInputConfig"],T);let R=A(t,["contextWindowCompression"]);e!==void 0&&R!=null&&P(e,["setup","contextWindowCompression"],R);let $=A(t,["proactivity"]);e!==void 0&&$!=null&&P(e,["setup","proactivity"],$);let O=A(t,["explicitVadSignal"]);return e!==void 0&&O!=null&&P(e,["setup","explicitVadSignal"],O),n}function Jhe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["setup","model"],mr(t,r));let i=A(e,["config"]);return i!=null&&P(n,["config"],Khe(i,n)),n}function Qhe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["setup","model"],mr(t,r));let i=A(e,["config"]);return i!=null&&P(n,["config"],Zhe(i,n)),n}function epe(t){let e={},n=A(t,["musicGenerationConfig"]);return n!=null&&P(e,["musicGenerationConfig"],n),e}function tpe(t){let e={},n=A(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),P(e,["weightedPrompts"],r)}return e}function npe(t){let e={},n=A(t,["media"]);if(n!=null){let u=bV(n);Array.isArray(u)&&(u=u.map(c=>px(c))),P(e,["mediaChunks"],u)}let r=A(t,["audio"]);r!=null&&P(e,["audio"],px(_V(r)));let i=A(t,["audioStreamEnd"]);i!=null&&P(e,["audioStreamEnd"],i);let s=A(t,["video"]);s!=null&&P(e,["video"],px(wV(s)));let o=A(t,["text"]);o!=null&&P(e,["text"],o);let a=A(t,["activityStart"]);a!=null&&P(e,["activityStart"],a);let l=A(t,["activityEnd"]);return l!=null&&P(e,["activityEnd"],l),e}function rpe(t){let e={},n=A(t,["media"]);if(n!=null){let u=bV(n);Array.isArray(u)&&(u=u.map(c=>c)),P(e,["mediaChunks"],u)}let r=A(t,["audio"]);r!=null&&P(e,["audio"],_V(r));let i=A(t,["audioStreamEnd"]);i!=null&&P(e,["audioStreamEnd"],i);let s=A(t,["video"]);s!=null&&P(e,["video"],wV(s));let o=A(t,["text"]);o!=null&&P(e,["text"],o);let a=A(t,["activityStart"]);a!=null&&P(e,["activityStart"],a);let l=A(t,["activityEnd"]);return l!=null&&P(e,["activityEnd"],l),e}function ipe(t){let e={},n=A(t,["setupComplete"]);n!=null&&P(e,["setupComplete"],n);let r=A(t,["serverContent"]);r!=null&&P(e,["serverContent"],r);let i=A(t,["toolCall"]);i!=null&&P(e,["toolCall"],i);let s=A(t,["toolCallCancellation"]);s!=null&&P(e,["toolCallCancellation"],s);let o=A(t,["usageMetadata"]);o!=null&&P(e,["usageMetadata"],upe(o));let a=A(t,["goAway"]);a!=null&&P(e,["goAway"],a);let l=A(t,["sessionResumptionUpdate"]);l!=null&&P(e,["sessionResumptionUpdate"],l);let u=A(t,["voiceActivityDetectionSignal"]);u!=null&&P(e,["voiceActivityDetectionSignal"],u);let c=A(t,["voiceActivity"]);return c!=null&&P(e,["voiceActivity"],cpe(c)),e}function spe(t){let e={},n=A(t,["mediaResolution"]);n!=null&&P(e,["mediaResolution"],n);let r=A(t,["codeExecutionResult"]);r!=null&&P(e,["codeExecutionResult"],r);let i=A(t,["executableCode"]);i!=null&&P(e,["executableCode"],i);let s=A(t,["fileData"]);s!=null&&P(e,["fileData"],qhe(s));let o=A(t,["functionCall"]);o!=null&&P(e,["functionCall"],zhe(o));let a=A(t,["functionResponse"]);a!=null&&P(e,["functionResponse"],a);let l=A(t,["inlineData"]);l!=null&&P(e,["inlineData"],px(l));let u=A(t,["text"]);u!=null&&P(e,["text"],u);let c=A(t,["thought"]);c!=null&&P(e,["thought"],c);let d=A(t,["thoughtSignature"]);d!=null&&P(e,["thoughtSignature"],d);let f=A(t,["videoMetadata"]);return f!=null&&P(e,["videoMetadata"],f),e}function ope(t){let e={},n=A(t,["handle"]);if(n!=null&&P(e,["handle"],n),A(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ape(t){let e={};if(A(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=A(t,["computerUse"]);n!=null&&P(e,["computerUse"],n);let r=A(t,["fileSearch"]);r!=null&&P(e,["fileSearch"],r);let i=A(t,["codeExecution"]);if(i!=null&&P(e,["codeExecution"],i),A(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=A(t,["functionDeclarations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),P(e,["functionDeclarations"],c)}let o=A(t,["googleMaps"]);o!=null&&P(e,["googleMaps"],Yhe(o));let a=A(t,["googleSearch"]);a!=null&&P(e,["googleSearch"],Xhe(a));let l=A(t,["googleSearchRetrieval"]);l!=null&&P(e,["googleSearchRetrieval"],l);let u=A(t,["urlContext"]);return u!=null&&P(e,["urlContext"],u),e}function lpe(t){let e={},n=A(t,["retrieval"]);n!=null&&P(e,["retrieval"],n);let r=A(t,["computerUse"]);if(r!=null&&P(e,["computerUse"],r),A(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=A(t,["codeExecution"]);i!=null&&P(e,["codeExecution"],i);let s=A(t,["enterpriseWebSearch"]);s!=null&&P(e,["enterpriseWebSearch"],s);let o=A(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>Whe(f))),P(e,["functionDeclarations"],d)}let a=A(t,["googleMaps"]);a!=null&&P(e,["googleMaps"],a);let l=A(t,["googleSearch"]);l!=null&&P(e,["googleSearch"],l);let u=A(t,["googleSearchRetrieval"]);u!=null&&P(e,["googleSearchRetrieval"],u);let c=A(t,["urlContext"]);return c!=null&&P(e,["urlContext"],c),e}function upe(t){let e={},n=A(t,["promptTokenCount"]);n!=null&&P(e,["promptTokenCount"],n);let r=A(t,["cachedContentTokenCount"]);r!=null&&P(e,["cachedContentTokenCount"],r);let i=A(t,["candidatesTokenCount"]);i!=null&&P(e,["responseTokenCount"],i);let s=A(t,["toolUsePromptTokenCount"]);s!=null&&P(e,["toolUsePromptTokenCount"],s);let o=A(t,["thoughtsTokenCount"]);o!=null&&P(e,["thoughtsTokenCount"],o);let a=A(t,["totalTokenCount"]);a!=null&&P(e,["totalTokenCount"],a);let l=A(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>p)),P(e,["promptTokensDetails"],h)}let u=A(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>p)),P(e,["cacheTokensDetails"],h)}let c=A(t,["candidatesTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>p)),P(e,["responseTokensDetails"],h)}let d=A(t,["toolUsePromptTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>p)),P(e,["toolUsePromptTokensDetails"],h)}let f=A(t,["trafficType"]);return f!=null&&P(e,["trafficType"],f),e}function cpe(t){let e={},n=A(t,["type"]);return n!=null&&P(e,["voiceActivityType"],n),e}function dpe(t){let e={},n=A(t,["data"]);if(n!=null&&P(e,["data"],n),A(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function fpe(t){let e={},n=A(t,["content"]);n!=null&&P(e,["content"],n);let r=A(t,["citationMetadata"]);r!=null&&P(e,["citationMetadata"],hpe(r));let i=A(t,["tokenCount"]);i!=null&&P(e,["tokenCount"],i);let s=A(t,["finishReason"]);s!=null&&P(e,["finishReason"],s);let o=A(t,["avgLogprobs"]);o!=null&&P(e,["avgLogprobs"],o);let a=A(t,["groundingMetadata"]);a!=null&&P(e,["groundingMetadata"],a);let l=A(t,["index"]);l!=null&&P(e,["index"],l);let u=A(t,["logprobsResult"]);u!=null&&P(e,["logprobsResult"],u);let c=A(t,["safetyRatings"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),P(e,["safetyRatings"],f)}let d=A(t,["urlContextMetadata"]);return d!=null&&P(e,["urlContextMetadata"],d),e}function hpe(t){let e={},n=A(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),P(e,["citations"],r)}return e}function ppe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["contents"]);if(i!=null){let s=Ia(i);Array.isArray(s)&&(s=s.map(o=>o)),P(n,["contents"],s)}return n}function mpe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),P(e,["tokensInfo"],i)}return e}function gpe(t){let e={},n=A(t,["values"]);n!=null&&P(e,["values"],n);let r=A(t,["statistics"]);return r!=null&&P(e,["statistics"],vpe(r)),e}function vpe(t){let e={},n=A(t,["truncated"]);n!=null&&P(e,["truncated"],n);let r=A(t,["token_count"]);return r!=null&&P(e,["tokenCount"],r),e}function Hx(t){let e={},n=A(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Ame(s))),P(e,["parts"],i)}let r=A(t,["role"]);return r!=null&&P(e,["role"],r),e}function ype(t){let e={},n=A(t,["controlType"]);n!=null&&P(e,["controlType"],n);let r=A(t,["enableControlImageComputation"]);return r!=null&&P(e,["computeControl"],r),e}function bpe(t){let e={};if(A(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(A(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(A(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function wpe(t,e){let n={},r=A(t,["systemInstruction"]);e!==void 0&&r!=null&&P(e,["systemInstruction"],Rs(r));let i=A(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>LV(a))),P(e,["tools"],o)}let s=A(t,["generationConfig"]);return e!==void 0&&s!=null&&P(e,["generationConfig"],dme(s)),n}function _pe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["contents"]);if(i!=null){let o=Ia(i);Array.isArray(o)&&(o=o.map(a=>Hx(a))),P(n,["contents"],o)}let s=A(e,["config"]);return s!=null&&bpe(s),n}function xpe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["contents"]);if(i!=null){let o=Ia(i);Array.isArray(o)&&(o=o.map(a=>a)),P(n,["contents"],o)}let s=A(e,["config"]);return s!=null&&wpe(s,n),n}function Epe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["totalTokens"]);r!=null&&P(e,["totalTokens"],r);let i=A(t,["cachedContentTokenCount"]);return i!=null&&P(e,["cachedContentTokenCount"],i),e}function Spe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["totalTokens"]);return r!=null&&P(e,["totalTokens"],r),e}function Cpe(t,e){let n={},r=A(e,["model"]);return r!=null&&P(n,["_url","name"],mr(t,r)),n}function Ape(t,e){let n={},r=A(e,["model"]);return r!=null&&P(n,["_url","name"],mr(t,r)),n}function Tpe(t){let e={},n=A(t,["sdkHttpResponse"]);return n!=null&&P(e,["sdkHttpResponse"],n),e}function Ipe(t){let e={},n=A(t,["sdkHttpResponse"]);return n!=null&&P(e,["sdkHttpResponse"],n),e}function Dpe(t,e){let n={},r=A(t,["outputGcsUri"]);e!==void 0&&r!=null&&P(e,["parameters","storageUri"],r);let i=A(t,["negativePrompt"]);e!==void 0&&i!=null&&P(e,["parameters","negativePrompt"],i);let s=A(t,["numberOfImages"]);e!==void 0&&s!=null&&P(e,["parameters","sampleCount"],s);let o=A(t,["aspectRatio"]);e!==void 0&&o!=null&&P(e,["parameters","aspectRatio"],o);let a=A(t,["guidanceScale"]);e!==void 0&&a!=null&&P(e,["parameters","guidanceScale"],a);let l=A(t,["seed"]);e!==void 0&&l!=null&&P(e,["parameters","seed"],l);let u=A(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&P(e,["parameters","safetySetting"],u);let c=A(t,["personGeneration"]);e!==void 0&&c!=null&&P(e,["parameters","personGeneration"],c);let d=A(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&P(e,["parameters","includeSafetyAttributes"],d);let f=A(t,["includeRaiReason"]);e!==void 0&&f!=null&&P(e,["parameters","includeRaiReason"],f);let h=A(t,["language"]);e!==void 0&&h!=null&&P(e,["parameters","language"],h);let p=A(t,["outputMimeType"]);e!==void 0&&p!=null&&P(e,["parameters","outputOptions","mimeType"],p);let m=A(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&P(e,["parameters","outputOptions","compressionQuality"],m);let g=A(t,["addWatermark"]);e!==void 0&&g!=null&&P(e,["parameters","addWatermark"],g);let y=A(t,["labels"]);e!==void 0&&y!=null&&P(e,["labels"],y);let x=A(t,["editMode"]);e!==void 0&&x!=null&&P(e,["parameters","editMode"],x);let T=A(t,["baseSteps"]);return e!==void 0&&T!=null&&P(e,["parameters","editConfig","baseSteps"],T),n}function kpe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["prompt"]);i!=null&&P(n,["instances[0]","prompt"],i);let s=A(e,["referenceImages"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>Mme(l))),P(n,["instances[0]","referenceImages"],a)}let o=A(e,["config"]);return o!=null&&Dpe(o,n),n}function Npe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$x(s))),P(e,["generatedImages"],i)}return e}function Mpe(t,e){let n={},r=A(t,["taskType"]);e!==void 0&&r!=null&&P(e,["requests[]","taskType"],r);let i=A(t,["title"]);e!==void 0&&i!=null&&P(e,["requests[]","title"],i);let s=A(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&P(e,["requests[]","outputDimensionality"],s),A(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(A(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Rpe(t,e){let n={},r=A(t,["taskType"]);e!==void 0&&r!=null&&P(e,["instances[]","task_type"],r);let i=A(t,["title"]);e!==void 0&&i!=null&&P(e,["instances[]","title"],i);let s=A(t,["outputDimensionality"]);e!==void 0&&s!=null&&P(e,["parameters","outputDimensionality"],s);let o=A(t,["mimeType"]);e!==void 0&&o!=null&&P(e,["instances[]","mimeType"],o);let a=A(t,["autoTruncate"]);return e!==void 0&&a!=null&&P(e,["parameters","autoTruncate"],a),n}function Ppe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["contents"]);if(i!=null){let a=HD(t,i);Array.isArray(a)&&(a=a.map(l=>l)),P(n,["requests[]","content"],a)}let s=A(e,["config"]);s!=null&&Mpe(s,n);let o=A(e,["model"]);return o!==void 0&&P(n,["requests[]","model"],mr(t,o)),n}function Lpe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["contents"]);if(i!=null){let o=HD(t,i);Array.isArray(o)&&(o=o.map(a=>a)),P(n,["instances[]","content"],o)}let s=A(e,["config"]);return s!=null&&Rpe(s,n),n}function Fpe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),P(e,["embeddings"],s)}let i=A(t,["metadata"]);return i!=null&&P(e,["metadata"],i),e}function Ope(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>gpe(o))),P(e,["embeddings"],s)}let i=A(t,["metadata"]);return i!=null&&P(e,["metadata"],i),e}function Bpe(t){let e={},n=A(t,["endpoint"]);n!=null&&P(e,["name"],n);let r=A(t,["deployedModelId"]);return r!=null&&P(e,["deployedModelId"],r),e}function Vpe(t){let e={};if(A(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=A(t,["fileUri"]);n!=null&&P(e,["fileUri"],n);let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function Upe(t){let e={},n=A(t,["id"]);n!=null&&P(e,["id"],n);let r=A(t,["args"]);r!=null&&P(e,["args"],r);let i=A(t,["name"]);if(i!=null&&P(e,["name"],i),A(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(A(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jpe(t){let e={},n=A(t,["allowedFunctionNames"]);n!=null&&P(e,["allowedFunctionNames"],n);let r=A(t,["mode"]);if(r!=null&&P(e,["mode"],r),A(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Hpe(t){let e={},n=A(t,["description"]);n!=null&&P(e,["description"],n);let r=A(t,["name"]);r!=null&&P(e,["name"],r);let i=A(t,["parameters"]);i!=null&&P(e,["parameters"],i);let s=A(t,["parametersJsonSchema"]);s!=null&&P(e,["parametersJsonSchema"],s);let o=A(t,["response"]);o!=null&&P(e,["response"],o);let a=A(t,["responseJsonSchema"]);if(a!=null&&P(e,["responseJsonSchema"],a),A(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function $pe(t,e,n){let r={},i=A(e,["systemInstruction"]);n!==void 0&&i!=null&&P(n,["systemInstruction"],Hx(Rs(i)));let s=A(e,["temperature"]);s!=null&&P(r,["temperature"],s);let o=A(e,["topP"]);o!=null&&P(r,["topP"],o);let a=A(e,["topK"]);a!=null&&P(r,["topK"],a);let l=A(e,["candidateCount"]);l!=null&&P(r,["candidateCount"],l);let u=A(e,["maxOutputTokens"]);u!=null&&P(r,["maxOutputTokens"],u);let c=A(e,["stopSequences"]);c!=null&&P(r,["stopSequences"],c);let d=A(e,["responseLogprobs"]);d!=null&&P(r,["responseLogprobs"],d);let f=A(e,["logprobs"]);f!=null&&P(r,["logprobs"],f);let h=A(e,["presencePenalty"]);h!=null&&P(r,["presencePenalty"],h);let p=A(e,["frequencyPenalty"]);p!=null&&P(r,["frequencyPenalty"],p);let m=A(e,["seed"]);m!=null&&P(r,["seed"],m);let g=A(e,["responseMimeType"]);g!=null&&P(r,["responseMimeType"],g);let y=A(e,["responseSchema"]);y!=null&&P(r,["responseSchema"],$D(y));let x=A(e,["responseJsonSchema"]);if(x!=null&&P(r,["responseJsonSchema"],x),A(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(A(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let T=A(e,["safetySettings"]);if(n!==void 0&&T!=null){let L=T;Array.isArray(L)&&(L=L.map(v=>Rme(v))),P(n,["safetySettings"],L)}let R=A(e,["tools"]);if(n!==void 0&&R!=null){let L=Im(R);Array.isArray(L)&&(L=L.map(v=>Ume(Tm(v)))),P(n,["tools"],L)}let $=A(e,["toolConfig"]);if(n!==void 0&&$!=null&&P(n,["toolConfig"],Vme($)),A(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let O=A(e,["cachedContent"]);n!==void 0&&O!=null&&P(n,["cachedContent"],Ku(t,O));let U=A(e,["responseModalities"]);U!=null&&P(r,["responseModalities"],U);let j=A(e,["mediaResolution"]);j!=null&&P(r,["mediaResolution"],j);let q=A(e,["speechConfig"]);if(q!=null&&P(r,["speechConfig"],qD(q)),A(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let H=A(e,["thinkingConfig"]);H!=null&&P(r,["thinkingConfig"],H);let E=A(e,["imageConfig"]);E!=null&&P(r,["imageConfig"],gme(E));let C=A(e,["enableEnhancedCivicAnswers"]);if(C!=null&&P(r,["enableEnhancedCivicAnswers"],C),A(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function qpe(t,e,n){let r={},i=A(e,["systemInstruction"]);n!==void 0&&i!=null&&P(n,["systemInstruction"],Rs(i));let s=A(e,["temperature"]);s!=null&&P(r,["temperature"],s);let o=A(e,["topP"]);o!=null&&P(r,["topP"],o);let a=A(e,["topK"]);a!=null&&P(r,["topK"],a);let l=A(e,["candidateCount"]);l!=null&&P(r,["candidateCount"],l);let u=A(e,["maxOutputTokens"]);u!=null&&P(r,["maxOutputTokens"],u);let c=A(e,["stopSequences"]);c!=null&&P(r,["stopSequences"],c);let d=A(e,["responseLogprobs"]);d!=null&&P(r,["responseLogprobs"],d);let f=A(e,["logprobs"]);f!=null&&P(r,["logprobs"],f);let h=A(e,["presencePenalty"]);h!=null&&P(r,["presencePenalty"],h);let p=A(e,["frequencyPenalty"]);p!=null&&P(r,["frequencyPenalty"],p);let m=A(e,["seed"]);m!=null&&P(r,["seed"],m);let g=A(e,["responseMimeType"]);g!=null&&P(r,["responseMimeType"],g);let y=A(e,["responseSchema"]);y!=null&&P(r,["responseSchema"],$D(y));let x=A(e,["responseJsonSchema"]);x!=null&&P(r,["responseJsonSchema"],x);let T=A(e,["routingConfig"]);T!=null&&P(r,["routingConfig"],T);let R=A(e,["modelSelectionConfig"]);R!=null&&P(r,["modelConfig"],R);let $=A(e,["safetySettings"]);if(n!==void 0&&$!=null){let w=$;Array.isArray(w)&&(w=w.map(S=>S)),P(n,["safetySettings"],w)}let O=A(e,["tools"]);if(n!==void 0&&O!=null){let w=Im(O);Array.isArray(w)&&(w=w.map(S=>LV(Tm(S)))),P(n,["tools"],w)}let U=A(e,["toolConfig"]);n!==void 0&&U!=null&&P(n,["toolConfig"],U);let j=A(e,["labels"]);n!==void 0&&j!=null&&P(n,["labels"],j);let q=A(e,["cachedContent"]);n!==void 0&&q!=null&&P(n,["cachedContent"],Ku(t,q));let H=A(e,["responseModalities"]);H!=null&&P(r,["responseModalities"],H);let E=A(e,["mediaResolution"]);E!=null&&P(r,["mediaResolution"],E);let C=A(e,["speechConfig"]);C!=null&&P(r,["speechConfig"],qD(C));let L=A(e,["audioTimestamp"]);L!=null&&P(r,["audioTimestamp"],L);let v=A(e,["thinkingConfig"]);v!=null&&P(r,["thinkingConfig"],v);let b=A(e,["imageConfig"]);if(b!=null&&P(r,["imageConfig"],vme(b)),A(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");let _=A(e,["modelArmorConfig"]);return n!==void 0&&_!=null&&P(n,["modelArmorConfig"],_),r}function ZB(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["contents"]);if(i!=null){let o=Ia(i);Array.isArray(o)&&(o=o.map(a=>Hx(a))),P(n,["contents"],o)}let s=A(e,["config"]);return s!=null&&P(n,["generationConfig"],$pe(t,s,n)),n}function JB(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["contents"]);if(i!=null){let o=Ia(i);Array.isArray(o)&&(o=o.map(a=>a)),P(n,["contents"],o)}let s=A(e,["config"]);return s!=null&&P(n,["generationConfig"],qpe(t,s,n)),n}function QB(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>fpe(u))),P(e,["candidates"],l)}let i=A(t,["modelVersion"]);i!=null&&P(e,["modelVersion"],i);let s=A(t,["promptFeedback"]);s!=null&&P(e,["promptFeedback"],s);let o=A(t,["responseId"]);o!=null&&P(e,["responseId"],o);let a=A(t,["usageMetadata"]);return a!=null&&P(e,["usageMetadata"],a),e}function eV(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),P(e,["candidates"],u)}let i=A(t,["createTime"]);i!=null&&P(e,["createTime"],i);let s=A(t,["modelVersion"]);s!=null&&P(e,["modelVersion"],s);let o=A(t,["promptFeedback"]);o!=null&&P(e,["promptFeedback"],o);let a=A(t,["responseId"]);a!=null&&P(e,["responseId"],a);let l=A(t,["usageMetadata"]);return l!=null&&P(e,["usageMetadata"],l),e}function zpe(t,e){let n={};if(A(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(A(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let r=A(t,["numberOfImages"]);e!==void 0&&r!=null&&P(e,["parameters","sampleCount"],r);let i=A(t,["aspectRatio"]);e!==void 0&&i!=null&&P(e,["parameters","aspectRatio"],i);let s=A(t,["guidanceScale"]);if(e!==void 0&&s!=null&&P(e,["parameters","guidanceScale"],s),A(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let o=A(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&P(e,["parameters","safetySetting"],o);let a=A(t,["personGeneration"]);e!==void 0&&a!=null&&P(e,["parameters","personGeneration"],a);let l=A(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&P(e,["parameters","includeSafetyAttributes"],l);let u=A(t,["includeRaiReason"]);e!==void 0&&u!=null&&P(e,["parameters","includeRaiReason"],u);let c=A(t,["language"]);e!==void 0&&c!=null&&P(e,["parameters","language"],c);let d=A(t,["outputMimeType"]);e!==void 0&&d!=null&&P(e,["parameters","outputOptions","mimeType"],d);let f=A(t,["outputCompressionQuality"]);if(e!==void 0&&f!=null&&P(e,["parameters","outputOptions","compressionQuality"],f),A(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(A(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let h=A(t,["imageSize"]);if(e!==void 0&&h!=null&&P(e,["parameters","sampleImageSize"],h),A(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Wpe(t,e){let n={},r=A(t,["outputGcsUri"]);e!==void 0&&r!=null&&P(e,["parameters","storageUri"],r);let i=A(t,["negativePrompt"]);e!==void 0&&i!=null&&P(e,["parameters","negativePrompt"],i);let s=A(t,["numberOfImages"]);e!==void 0&&s!=null&&P(e,["parameters","sampleCount"],s);let o=A(t,["aspectRatio"]);e!==void 0&&o!=null&&P(e,["parameters","aspectRatio"],o);let a=A(t,["guidanceScale"]);e!==void 0&&a!=null&&P(e,["parameters","guidanceScale"],a);let l=A(t,["seed"]);e!==void 0&&l!=null&&P(e,["parameters","seed"],l);let u=A(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&P(e,["parameters","safetySetting"],u);let c=A(t,["personGeneration"]);e!==void 0&&c!=null&&P(e,["parameters","personGeneration"],c);let d=A(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&P(e,["parameters","includeSafetyAttributes"],d);let f=A(t,["includeRaiReason"]);e!==void 0&&f!=null&&P(e,["parameters","includeRaiReason"],f);let h=A(t,["language"]);e!==void 0&&h!=null&&P(e,["parameters","language"],h);let p=A(t,["outputMimeType"]);e!==void 0&&p!=null&&P(e,["parameters","outputOptions","mimeType"],p);let m=A(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&P(e,["parameters","outputOptions","compressionQuality"],m);let g=A(t,["addWatermark"]);e!==void 0&&g!=null&&P(e,["parameters","addWatermark"],g);let y=A(t,["labels"]);e!==void 0&&y!=null&&P(e,["labels"],y);let x=A(t,["imageSize"]);e!==void 0&&x!=null&&P(e,["parameters","sampleImageSize"],x);let T=A(t,["enhancePrompt"]);return e!==void 0&&T!=null&&P(e,["parameters","enhancePrompt"],T),n}function Gpe(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["prompt"]);i!=null&&P(n,["instances[0]","prompt"],i);let s=A(e,["config"]);return s!=null&&zpe(s,n),n}function Ype(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["prompt"]);i!=null&&P(n,["instances[0]","prompt"],i);let s=A(e,["config"]);return s!=null&&Wpe(s,n),n}function Xpe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>ame(o))),P(e,["generatedImages"],s)}let i=A(t,["positivePromptSafetyAttributes"]);return i!=null&&P(e,["positivePromptSafetyAttributes"],RV(i)),e}function Kpe(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>$x(o))),P(e,["generatedImages"],s)}let i=A(t,["positivePromptSafetyAttributes"]);return i!=null&&P(e,["positivePromptSafetyAttributes"],PV(i)),e}function Zpe(t,e){let n={},r=A(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&P(e,["parameters","sampleCount"],r),A(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(A(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let i=A(t,["durationSeconds"]);if(e!==void 0&&i!=null&&P(e,["parameters","durationSeconds"],i),A(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=A(t,["aspectRatio"]);e!==void 0&&s!=null&&P(e,["parameters","aspectRatio"],s);let o=A(t,["resolution"]);e!==void 0&&o!=null&&P(e,["parameters","resolution"],o);let a=A(t,["personGeneration"]);if(e!==void 0&&a!=null&&P(e,["parameters","personGeneration"],a),A(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let l=A(t,["negativePrompt"]);e!==void 0&&l!=null&&P(e,["parameters","negativePrompt"],l);let u=A(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&P(e,["parameters","enhancePrompt"],u),A(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let c=A(t,["lastFrame"]);e!==void 0&&c!=null&&P(e,["instances[0]","lastFrame"],qx(c));let d=A(t,["referenceImages"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>Qme(h))),P(e,["instances[0]","referenceImages"],f)}if(A(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(A(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Jpe(t,e){let n={},r=A(t,["numberOfVideos"]);e!==void 0&&r!=null&&P(e,["parameters","sampleCount"],r);let i=A(t,["outputGcsUri"]);e!==void 0&&i!=null&&P(e,["parameters","storageUri"],i);let s=A(t,["fps"]);e!==void 0&&s!=null&&P(e,["parameters","fps"],s);let o=A(t,["durationSeconds"]);e!==void 0&&o!=null&&P(e,["parameters","durationSeconds"],o);let a=A(t,["seed"]);e!==void 0&&a!=null&&P(e,["parameters","seed"],a);let l=A(t,["aspectRatio"]);e!==void 0&&l!=null&&P(e,["parameters","aspectRatio"],l);let u=A(t,["resolution"]);e!==void 0&&u!=null&&P(e,["parameters","resolution"],u);let c=A(t,["personGeneration"]);e!==void 0&&c!=null&&P(e,["parameters","personGeneration"],c);let d=A(t,["pubsubTopic"]);e!==void 0&&d!=null&&P(e,["parameters","pubsubTopic"],d);let f=A(t,["negativePrompt"]);e!==void 0&&f!=null&&P(e,["parameters","negativePrompt"],f);let h=A(t,["enhancePrompt"]);e!==void 0&&h!=null&&P(e,["parameters","enhancePrompt"],h);let p=A(t,["generateAudio"]);e!==void 0&&p!=null&&P(e,["parameters","generateAudio"],p);let m=A(t,["lastFrame"]);e!==void 0&&m!=null&&P(e,["instances[0]","lastFrame"],ll(m));let g=A(t,["referenceImages"]);if(e!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(R=>ege(R))),P(e,["instances[0]","referenceImages"],T)}let y=A(t,["mask"]);e!==void 0&&y!=null&&P(e,["instances[0]","mask"],Jme(y));let x=A(t,["compressionQuality"]);return e!==void 0&&x!=null&&P(e,["parameters","compressionQuality"],x),n}function Qpe(t){let e={},n=A(t,["name"]);n!=null&&P(e,["name"],n);let r=A(t,["metadata"]);r!=null&&P(e,["metadata"],r);let i=A(t,["done"]);i!=null&&P(e,["done"],i);let s=A(t,["error"]);s!=null&&P(e,["error"],s);let o=A(t,["response","generateVideoResponse"]);return o!=null&&P(e,["response"],rme(o)),e}function eme(t){let e={},n=A(t,["name"]);n!=null&&P(e,["name"],n);let r=A(t,["metadata"]);r!=null&&P(e,["metadata"],r);let i=A(t,["done"]);i!=null&&P(e,["done"],i);let s=A(t,["error"]);s!=null&&P(e,["error"],s);let o=A(t,["response"]);return o!=null&&P(e,["response"],ime(o)),e}function tme(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["prompt"]);i!=null&&P(n,["instances[0]","prompt"],i);let s=A(e,["image"]);s!=null&&P(n,["instances[0]","image"],qx(s));let o=A(e,["video"]);o!=null&&P(n,["instances[0]","video"],FV(o));let a=A(e,["source"]);a!=null&&sme(a,n);let l=A(e,["config"]);return l!=null&&Zpe(l,n),n}function nme(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["prompt"]);i!=null&&P(n,["instances[0]","prompt"],i);let s=A(e,["image"]);s!=null&&P(n,["instances[0]","image"],ll(s));let o=A(e,["video"]);o!=null&&P(n,["instances[0]","video"],OV(o));let a=A(e,["source"]);a!=null&&ome(a,n);let l=A(e,["config"]);return l!=null&&Jpe(l,n),n}function rme(t){let e={},n=A(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>ume(o))),P(e,["generatedVideos"],s)}let r=A(t,["raiMediaFilteredCount"]);r!=null&&P(e,["raiMediaFilteredCount"],r);let i=A(t,["raiMediaFilteredReasons"]);return i!=null&&P(e,["raiMediaFilteredReasons"],i),e}function ime(t){let e={},n=A(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>cme(o))),P(e,["generatedVideos"],s)}let r=A(t,["raiMediaFilteredCount"]);r!=null&&P(e,["raiMediaFilteredCount"],r);let i=A(t,["raiMediaFilteredReasons"]);return i!=null&&P(e,["raiMediaFilteredReasons"],i),e}function sme(t,e){let n={},r=A(t,["prompt"]);e!==void 0&&r!=null&&P(e,["instances[0]","prompt"],r);let i=A(t,["image"]);e!==void 0&&i!=null&&P(e,["instances[0]","image"],qx(i));let s=A(t,["video"]);return e!==void 0&&s!=null&&P(e,["instances[0]","video"],FV(s)),n}function ome(t,e){let n={},r=A(t,["prompt"]);e!==void 0&&r!=null&&P(e,["instances[0]","prompt"],r);let i=A(t,["image"]);e!==void 0&&i!=null&&P(e,["instances[0]","image"],ll(i));let s=A(t,["video"]);return e!==void 0&&s!=null&&P(e,["instances[0]","video"],OV(s)),n}function ame(t){let e={},n=A(t,["_self"]);n!=null&&P(e,["image"],yme(n));let r=A(t,["raiFilteredReason"]);r!=null&&P(e,["raiFilteredReason"],r);let i=A(t,["_self"]);return i!=null&&P(e,["safetyAttributes"],RV(i)),e}function $x(t){let e={},n=A(t,["_self"]);n!=null&&P(e,["image"],MV(n));let r=A(t,["raiFilteredReason"]);r!=null&&P(e,["raiFilteredReason"],r);let i=A(t,["_self"]);i!=null&&P(e,["safetyAttributes"],PV(i));let s=A(t,["prompt"]);return s!=null&&P(e,["enhancedPrompt"],s),e}function lme(t){let e={},n=A(t,["_self"]);n!=null&&P(e,["mask"],MV(n));let r=A(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),P(e,["labels"],i)}return e}function ume(t){let e={},n=A(t,["video"]);return n!=null&&P(e,["video"],Kme(n)),e}function cme(t){let e={},n=A(t,["_self"]);return n!=null&&P(e,["video"],Zme(n)),e}function dme(t){let e={},n=A(t,["modelSelectionConfig"]);n!=null&&P(e,["modelConfig"],n);let r=A(t,["responseJsonSchema"]);r!=null&&P(e,["responseJsonSchema"],r);let i=A(t,["audioTimestamp"]);i!=null&&P(e,["audioTimestamp"],i);let s=A(t,["candidateCount"]);s!=null&&P(e,["candidateCount"],s);let o=A(t,["enableAffectiveDialog"]);o!=null&&P(e,["enableAffectiveDialog"],o);let a=A(t,["frequencyPenalty"]);a!=null&&P(e,["frequencyPenalty"],a);let l=A(t,["logprobs"]);l!=null&&P(e,["logprobs"],l);let u=A(t,["maxOutputTokens"]);u!=null&&P(e,["maxOutputTokens"],u);let c=A(t,["mediaResolution"]);c!=null&&P(e,["mediaResolution"],c);let d=A(t,["presencePenalty"]);d!=null&&P(e,["presencePenalty"],d);let f=A(t,["responseLogprobs"]);f!=null&&P(e,["responseLogprobs"],f);let h=A(t,["responseMimeType"]);h!=null&&P(e,["responseMimeType"],h);let p=A(t,["responseModalities"]);p!=null&&P(e,["responseModalities"],p);let m=A(t,["responseSchema"]);m!=null&&P(e,["responseSchema"],m);let g=A(t,["routingConfig"]);g!=null&&P(e,["routingConfig"],g);let y=A(t,["seed"]);y!=null&&P(e,["seed"],y);let x=A(t,["speechConfig"]);x!=null&&P(e,["speechConfig"],x);let T=A(t,["stopSequences"]);T!=null&&P(e,["stopSequences"],T);let R=A(t,["temperature"]);R!=null&&P(e,["temperature"],R);let $=A(t,["thinkingConfig"]);$!=null&&P(e,["thinkingConfig"],$);let O=A(t,["topK"]);O!=null&&P(e,["topK"],O);let U=A(t,["topP"]);if(U!=null&&P(e,["topP"],U),A(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function fme(t,e){let n={},r=A(e,["model"]);return r!=null&&P(n,["_url","name"],mr(t,r)),n}function hme(t,e){let n={},r=A(e,["model"]);return r!=null&&P(n,["_url","name"],mr(t,r)),n}function pme(t){let e={};if(A(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=A(t,["enableWidget"]);return n!=null&&P(e,["enableWidget"],n),e}function mme(t){let e={};if(A(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(A(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=A(t,["timeRangeFilter"]);return n!=null&&P(e,["timeRangeFilter"],n),e}function gme(t){let e={},n=A(t,["aspectRatio"]);n!=null&&P(e,["aspectRatio"],n);let r=A(t,["imageSize"]);if(r!=null&&P(e,["imageSize"],r),A(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(A(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(A(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function vme(t){let e={},n=A(t,["aspectRatio"]);n!=null&&P(e,["aspectRatio"],n);let r=A(t,["imageSize"]);r!=null&&P(e,["imageSize"],r);let i=A(t,["personGeneration"]);i!=null&&P(e,["personGeneration"],i);let s=A(t,["outputMimeType"]);s!=null&&P(e,["imageOutputOptions","mimeType"],s);let o=A(t,["outputCompressionQuality"]);return o!=null&&P(e,["imageOutputOptions","compressionQuality"],o),e}function yme(t){let e={},n=A(t,["bytesBase64Encoded"]);n!=null&&P(e,["imageBytes"],gd(n));let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function MV(t){let e={},n=A(t,["gcsUri"]);n!=null&&P(e,["gcsUri"],n);let r=A(t,["bytesBase64Encoded"]);r!=null&&P(e,["imageBytes"],gd(r));let i=A(t,["mimeType"]);return i!=null&&P(e,["mimeType"],i),e}function qx(t){let e={};if(A(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let n=A(t,["imageBytes"]);n!=null&&P(e,["bytesBase64Encoded"],gd(n));let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function ll(t){let e={},n=A(t,["gcsUri"]);n!=null&&P(e,["gcsUri"],n);let r=A(t,["imageBytes"]);r!=null&&P(e,["bytesBase64Encoded"],gd(r));let i=A(t,["mimeType"]);return i!=null&&P(e,["mimeType"],i),e}function bme(t,e,n){let r={},i=A(e,["pageSize"]);n!==void 0&&i!=null&&P(n,["_query","pageSize"],i);let s=A(e,["pageToken"]);n!==void 0&&s!=null&&P(n,["_query","pageToken"],s);let o=A(e,["filter"]);n!==void 0&&o!=null&&P(n,["_query","filter"],o);let a=A(e,["queryBase"]);return n!==void 0&&a!=null&&P(n,["_url","models_url"],CV(t,a)),r}function wme(t,e,n){let r={},i=A(e,["pageSize"]);n!==void 0&&i!=null&&P(n,["_query","pageSize"],i);let s=A(e,["pageToken"]);n!==void 0&&s!=null&&P(n,["_query","pageToken"],s);let o=A(e,["filter"]);n!==void 0&&o!=null&&P(n,["_query","filter"],o);let a=A(e,["queryBase"]);return n!==void 0&&a!=null&&P(n,["_url","models_url"],CV(t,a)),r}function _me(t,e){let n={},r=A(e,["config"]);return r!=null&&bme(t,r,n),n}function xme(t,e){let n={},r=A(e,["config"]);return r!=null&&wme(t,r,n),n}function Eme(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["nextPageToken"]);r!=null&&P(e,["nextPageToken"],r);let i=A(t,["_self"]);if(i!=null){let s=AV(i);Array.isArray(s)&&(s=s.map(o=>hD(o))),P(e,["models"],s)}return e}function Sme(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["nextPageToken"]);r!=null&&P(e,["nextPageToken"],r);let i=A(t,["_self"]);if(i!=null){let s=AV(i);Array.isArray(s)&&(s=s.map(o=>pD(o))),P(e,["models"],s)}return e}function Cme(t){let e={},n=A(t,["maskMode"]);n!=null&&P(e,["maskMode"],n);let r=A(t,["segmentationClasses"]);r!=null&&P(e,["maskClasses"],r);let i=A(t,["maskDilation"]);return i!=null&&P(e,["dilation"],i),e}function hD(t){let e={},n=A(t,["name"]);n!=null&&P(e,["name"],n);let r=A(t,["displayName"]);r!=null&&P(e,["displayName"],r);let i=A(t,["description"]);i!=null&&P(e,["description"],i);let s=A(t,["version"]);s!=null&&P(e,["version"],s);let o=A(t,["_self"]);o!=null&&P(e,["tunedModelInfo"],jme(o));let a=A(t,["inputTokenLimit"]);a!=null&&P(e,["inputTokenLimit"],a);let l=A(t,["outputTokenLimit"]);l!=null&&P(e,["outputTokenLimit"],l);let u=A(t,["supportedGenerationMethods"]);u!=null&&P(e,["supportedActions"],u);let c=A(t,["temperature"]);c!=null&&P(e,["temperature"],c);let d=A(t,["maxTemperature"]);d!=null&&P(e,["maxTemperature"],d);let f=A(t,["topP"]);f!=null&&P(e,["topP"],f);let h=A(t,["topK"]);h!=null&&P(e,["topK"],h);let p=A(t,["thinking"]);return p!=null&&P(e,["thinking"],p),e}function pD(t){let e={},n=A(t,["name"]);n!=null&&P(e,["name"],n);let r=A(t,["displayName"]);r!=null&&P(e,["displayName"],r);let i=A(t,["description"]);i!=null&&P(e,["description"],i);let s=A(t,["versionId"]);s!=null&&P(e,["version"],s);let o=A(t,["deployedModels"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>Bpe(f))),P(e,["endpoints"],d)}let a=A(t,["labels"]);a!=null&&P(e,["labels"],a);let l=A(t,["_self"]);l!=null&&P(e,["tunedModelInfo"],Hme(l));let u=A(t,["defaultCheckpointId"]);u!=null&&P(e,["defaultCheckpointId"],u);let c=A(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>f)),P(e,["checkpoints"],d)}return e}function Ame(t){let e={},n=A(t,["mediaResolution"]);n!=null&&P(e,["mediaResolution"],n);let r=A(t,["codeExecutionResult"]);r!=null&&P(e,["codeExecutionResult"],r);let i=A(t,["executableCode"]);i!=null&&P(e,["executableCode"],i);let s=A(t,["fileData"]);s!=null&&P(e,["fileData"],Vpe(s));let o=A(t,["functionCall"]);o!=null&&P(e,["functionCall"],Upe(o));let a=A(t,["functionResponse"]);a!=null&&P(e,["functionResponse"],a);let l=A(t,["inlineData"]);l!=null&&P(e,["inlineData"],dpe(l));let u=A(t,["text"]);u!=null&&P(e,["text"],u);let c=A(t,["thought"]);c!=null&&P(e,["thought"],c);let d=A(t,["thoughtSignature"]);d!=null&&P(e,["thoughtSignature"],d);let f=A(t,["videoMetadata"]);return f!=null&&P(e,["videoMetadata"],f),e}function Tme(t){let e={},n=A(t,["productImage"]);return n!=null&&P(e,["image"],ll(n)),e}function Ime(t,e){let n={},r=A(t,["numberOfImages"]);e!==void 0&&r!=null&&P(e,["parameters","sampleCount"],r);let i=A(t,["baseSteps"]);e!==void 0&&i!=null&&P(e,["parameters","baseSteps"],i);let s=A(t,["outputGcsUri"]);e!==void 0&&s!=null&&P(e,["parameters","storageUri"],s);let o=A(t,["seed"]);e!==void 0&&o!=null&&P(e,["parameters","seed"],o);let a=A(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&P(e,["parameters","safetySetting"],a);let l=A(t,["personGeneration"]);e!==void 0&&l!=null&&P(e,["parameters","personGeneration"],l);let u=A(t,["addWatermark"]);e!==void 0&&u!=null&&P(e,["parameters","addWatermark"],u);let c=A(t,["outputMimeType"]);e!==void 0&&c!=null&&P(e,["parameters","outputOptions","mimeType"],c);let d=A(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&P(e,["parameters","outputOptions","compressionQuality"],d);let f=A(t,["enhancePrompt"]);e!==void 0&&f!=null&&P(e,["parameters","enhancePrompt"],f);let h=A(t,["labels"]);return e!==void 0&&h!=null&&P(e,["labels"],h),n}function Dme(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["source"]);i!=null&&Nme(i,n);let s=A(e,["config"]);return s!=null&&Ime(s,n),n}function kme(t){let e={},n=A(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$x(i))),P(e,["generatedImages"],r)}return e}function Nme(t,e){let n={},r=A(t,["prompt"]);e!==void 0&&r!=null&&P(e,["instances[0]","prompt"],r);let i=A(t,["personImage"]);e!==void 0&&i!=null&&P(e,["instances[0]","personImage","image"],ll(i));let s=A(t,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>Tme(a))),P(e,["instances[0]","productImages"],o)}return n}function Mme(t){let e={},n=A(t,["referenceImage"]);n!=null&&P(e,["referenceImage"],ll(n));let r=A(t,["referenceId"]);r!=null&&P(e,["referenceId"],r);let i=A(t,["referenceType"]);i!=null&&P(e,["referenceType"],i);let s=A(t,["maskImageConfig"]);s!=null&&P(e,["maskImageConfig"],Cme(s));let o=A(t,["controlImageConfig"]);o!=null&&P(e,["controlImageConfig"],ype(o));let a=A(t,["styleImageConfig"]);a!=null&&P(e,["styleImageConfig"],a);let l=A(t,["subjectImageConfig"]);return l!=null&&P(e,["subjectImageConfig"],l),e}function RV(t){let e={},n=A(t,["safetyAttributes","categories"]);n!=null&&P(e,["categories"],n);let r=A(t,["safetyAttributes","scores"]);r!=null&&P(e,["scores"],r);let i=A(t,["contentType"]);return i!=null&&P(e,["contentType"],i),e}function PV(t){let e={},n=A(t,["safetyAttributes","categories"]);n!=null&&P(e,["categories"],n);let r=A(t,["safetyAttributes","scores"]);r!=null&&P(e,["scores"],r);let i=A(t,["contentType"]);return i!=null&&P(e,["contentType"],i),e}function Rme(t){let e={},n=A(t,["category"]);if(n!=null&&P(e,["category"],n),A(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=A(t,["threshold"]);return r!=null&&P(e,["threshold"],r),e}function Pme(t){let e={},n=A(t,["image"]);return n!=null&&P(e,["image"],ll(n)),e}function Lme(t,e){let n={},r=A(t,["mode"]);e!==void 0&&r!=null&&P(e,["parameters","mode"],r);let i=A(t,["maxPredictions"]);e!==void 0&&i!=null&&P(e,["parameters","maxPredictions"],i);let s=A(t,["confidenceThreshold"]);e!==void 0&&s!=null&&P(e,["parameters","confidenceThreshold"],s);let o=A(t,["maskDilation"]);e!==void 0&&o!=null&&P(e,["parameters","maskDilation"],o);let a=A(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&P(e,["parameters","binaryColorThreshold"],a);let l=A(t,["labels"]);return e!==void 0&&l!=null&&P(e,["labels"],l),n}function Fme(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["source"]);i!=null&&Bme(i,n);let s=A(e,["config"]);return s!=null&&Lme(s,n),n}function Ome(t){let e={},n=A(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>lme(i))),P(e,["generatedMasks"],r)}return e}function Bme(t,e){let n={},r=A(t,["prompt"]);e!==void 0&&r!=null&&P(e,["instances[0]","prompt"],r);let i=A(t,["image"]);e!==void 0&&i!=null&&P(e,["instances[0]","image"],ll(i));let s=A(t,["scribbleImage"]);return e!==void 0&&s!=null&&P(e,["instances[0]","scribble"],Pme(s)),n}function Vme(t){let e={},n=A(t,["retrievalConfig"]);n!=null&&P(e,["retrievalConfig"],n);let r=A(t,["functionCallingConfig"]);return r!=null&&P(e,["functionCallingConfig"],jpe(r)),e}function Ume(t){let e={};if(A(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=A(t,["computerUse"]);n!=null&&P(e,["computerUse"],n);let r=A(t,["fileSearch"]);r!=null&&P(e,["fileSearch"],r);let i=A(t,["codeExecution"]);if(i!=null&&P(e,["codeExecution"],i),A(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=A(t,["functionDeclarations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),P(e,["functionDeclarations"],c)}let o=A(t,["googleMaps"]);o!=null&&P(e,["googleMaps"],pme(o));let a=A(t,["googleSearch"]);a!=null&&P(e,["googleSearch"],mme(a));let l=A(t,["googleSearchRetrieval"]);l!=null&&P(e,["googleSearchRetrieval"],l);let u=A(t,["urlContext"]);return u!=null&&P(e,["urlContext"],u),e}function LV(t){let e={},n=A(t,["retrieval"]);n!=null&&P(e,["retrieval"],n);let r=A(t,["computerUse"]);if(r!=null&&P(e,["computerUse"],r),A(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=A(t,["codeExecution"]);i!=null&&P(e,["codeExecution"],i);let s=A(t,["enterpriseWebSearch"]);s!=null&&P(e,["enterpriseWebSearch"],s);let o=A(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>Hpe(f))),P(e,["functionDeclarations"],d)}let a=A(t,["googleMaps"]);a!=null&&P(e,["googleMaps"],a);let l=A(t,["googleSearch"]);l!=null&&P(e,["googleSearch"],l);let u=A(t,["googleSearchRetrieval"]);u!=null&&P(e,["googleSearchRetrieval"],u);let c=A(t,["urlContext"]);return c!=null&&P(e,["urlContext"],c),e}function jme(t){let e={},n=A(t,["baseModel"]);n!=null&&P(e,["baseModel"],n);let r=A(t,["createTime"]);r!=null&&P(e,["createTime"],r);let i=A(t,["updateTime"]);return i!=null&&P(e,["updateTime"],i),e}function Hme(t){let e={},n=A(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&P(e,["baseModel"],n);let r=A(t,["createTime"]);r!=null&&P(e,["createTime"],r);let i=A(t,["updateTime"]);return i!=null&&P(e,["updateTime"],i),e}function $me(t,e){let n={},r=A(t,["displayName"]);e!==void 0&&r!=null&&P(e,["displayName"],r);let i=A(t,["description"]);e!==void 0&&i!=null&&P(e,["description"],i);let s=A(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&P(e,["defaultCheckpointId"],s),n}function qme(t,e){let n={},r=A(t,["displayName"]);e!==void 0&&r!=null&&P(e,["displayName"],r);let i=A(t,["description"]);e!==void 0&&i!=null&&P(e,["description"],i);let s=A(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&P(e,["defaultCheckpointId"],s),n}function zme(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","name"],mr(t,r));let i=A(e,["config"]);return i!=null&&$me(i,n),n}function Wme(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["config"]);return i!=null&&qme(i,n),n}function Gme(t,e){let n={},r=A(t,["outputGcsUri"]);e!==void 0&&r!=null&&P(e,["parameters","storageUri"],r);let i=A(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&P(e,["parameters","safetySetting"],i);let s=A(t,["personGeneration"]);e!==void 0&&s!=null&&P(e,["parameters","personGeneration"],s);let o=A(t,["includeRaiReason"]);e!==void 0&&o!=null&&P(e,["parameters","includeRaiReason"],o);let a=A(t,["outputMimeType"]);e!==void 0&&a!=null&&P(e,["parameters","outputOptions","mimeType"],a);let l=A(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&P(e,["parameters","outputOptions","compressionQuality"],l);let u=A(t,["enhanceInputImage"]);e!==void 0&&u!=null&&P(e,["parameters","upscaleConfig","enhanceInputImage"],u);let c=A(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&P(e,["parameters","upscaleConfig","imagePreservationFactor"],c);let d=A(t,["labels"]);e!==void 0&&d!=null&&P(e,["labels"],d);let f=A(t,["numberOfImages"]);e!==void 0&&f!=null&&P(e,["parameters","sampleCount"],f);let h=A(t,["mode"]);return e!==void 0&&h!=null&&P(e,["parameters","mode"],h),n}function Yme(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["_url","model"],mr(t,r));let i=A(e,["image"]);i!=null&&P(n,["instances[0]","image"],ll(i));let s=A(e,["upscaleFactor"]);s!=null&&P(n,["parameters","upscaleConfig","upscaleFactor"],s);let o=A(e,["config"]);return o!=null&&Gme(o,n),n}function Xme(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$x(s))),P(e,["generatedImages"],i)}return e}function Kme(t){let e={},n=A(t,["uri"]);n!=null&&P(e,["uri"],n);let r=A(t,["encodedVideo"]);r!=null&&P(e,["videoBytes"],gd(r));let i=A(t,["encoding"]);return i!=null&&P(e,["mimeType"],i),e}function Zme(t){let e={},n=A(t,["gcsUri"]);n!=null&&P(e,["uri"],n);let r=A(t,["bytesBase64Encoded"]);r!=null&&P(e,["videoBytes"],gd(r));let i=A(t,["mimeType"]);return i!=null&&P(e,["mimeType"],i),e}function Jme(t){let e={},n=A(t,["image"]);n!=null&&P(e,["_self"],ll(n));let r=A(t,["maskMode"]);return r!=null&&P(e,["maskMode"],r),e}function Qme(t){let e={},n=A(t,["image"]);n!=null&&P(e,["image"],qx(n));let r=A(t,["referenceType"]);return r!=null&&P(e,["referenceType"],r),e}function ege(t){let e={},n=A(t,["image"]);n!=null&&P(e,["image"],ll(n));let r=A(t,["referenceType"]);return r!=null&&P(e,["referenceType"],r),e}function FV(t){let e={},n=A(t,["uri"]);n!=null&&P(e,["uri"],n);let r=A(t,["videoBytes"]);r!=null&&P(e,["encodedVideo"],gd(r));let i=A(t,["mimeType"]);return i!=null&&P(e,["encoding"],i),e}function OV(t){let e={},n=A(t,["uri"]);n!=null&&P(e,["gcsUri"],n);let r=A(t,["videoBytes"]);r!=null&&P(e,["bytesBase64Encoded"],gd(r));let i=A(t,["mimeType"]);return i!=null&&P(e,["mimeType"],i),e}function tge(t,e){let n={},r=A(t,["displayName"]);return e!==void 0&&r!=null&&P(e,["displayName"],r),n}function nge(t){let e={},n=A(t,["config"]);return n!=null&&tge(n,e),e}function rge(t,e){let n={},r=A(t,["force"]);return e!==void 0&&r!=null&&P(e,["_query","force"],r),n}function ige(t){let e={},n=A(t,["name"]);n!=null&&P(e,["_url","name"],n);let r=A(t,["config"]);return r!=null&&rge(r,e),e}function sge(t){let e={},n=A(t,["name"]);return n!=null&&P(e,["_url","name"],n),e}function oge(t,e){let n={},r=A(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),P(e,["customMetadata"],s)}let i=A(t,["chunkingConfig"]);return e!==void 0&&i!=null&&P(e,["chunkingConfig"],i),n}function age(t){let e={},n=A(t,["name"]);n!=null&&P(e,["name"],n);let r=A(t,["metadata"]);r!=null&&P(e,["metadata"],r);let i=A(t,["done"]);i!=null&&P(e,["done"],i);let s=A(t,["error"]);s!=null&&P(e,["error"],s);let o=A(t,["response"]);return o!=null&&P(e,["response"],uge(o)),e}function lge(t){let e={},n=A(t,["fileSearchStoreName"]);n!=null&&P(e,["_url","file_search_store_name"],n);let r=A(t,["fileName"]);r!=null&&P(e,["fileName"],r);let i=A(t,["config"]);return i!=null&&oge(i,e),e}function uge(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["parent"]);r!=null&&P(e,["parent"],r);let i=A(t,["documentName"]);return i!=null&&P(e,["documentName"],i),e}function cge(t,e){let n={},r=A(t,["pageSize"]);e!==void 0&&r!=null&&P(e,["_query","pageSize"],r);let i=A(t,["pageToken"]);return e!==void 0&&i!=null&&P(e,["_query","pageToken"],i),n}function dge(t){let e={},n=A(t,["config"]);return n!=null&&cge(n,e),e}function fge(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["nextPageToken"]);r!=null&&P(e,["nextPageToken"],r);let i=A(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(e,["fileSearchStores"],s)}return e}function BV(t,e){let n={},r=A(t,["mimeType"]);e!==void 0&&r!=null&&P(e,["mimeType"],r);let i=A(t,["displayName"]);e!==void 0&&i!=null&&P(e,["displayName"],i);let s=A(t,["customMetadata"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),P(e,["customMetadata"],a)}let o=A(t,["chunkingConfig"]);return e!==void 0&&o!=null&&P(e,["chunkingConfig"],o),n}function hge(t){let e={},n=A(t,["fileSearchStoreName"]);n!=null&&P(e,["_url","file_search_store_name"],n);let r=A(t,["config"]);return r!=null&&BV(r,e),e}function pge(t){let e={},n=A(t,["sdkHttpResponse"]);return n!=null&&P(e,["sdkHttpResponse"],n),e}var mge="Content-Type",gge="X-Server-Timeout",vge="User-Agent",mD="x-goog-api-client",yge="1.38.0",bge=`google-genai-sdk/${yge}`,wge="v1beta1",_ge="v1beta",gD=class{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));let s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");let a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:wge}else{if(!this.clientOptions.apiKey)throw new Cv({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:_ge,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){let e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){let i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===vV.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(let[o,a]of Object.entries(e.queryParams))i.searchParams.append(o,String(a));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){let r=JSON.parse(JSON.stringify(e));for(let[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){let s=new AbortController,o=s.signal;if(n.timeout&&n?.timeout>0){let a=setTimeout(()=>s.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&xge(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await tV(i),new Sv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await tV(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return sl(this,arguments,function*(){var r;let i=(r=e?.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="",a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:u,value:c}=yield En(i.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let d=s.decode(c,{stream:!0});try{let p=JSON.parse(d);if("error"in p){let m=JSON.parse(JSON.stringify(p.error)),g=m.status,y=m.code,x=`got status: ${g}. ${JSON.stringify(p)}`;if(y>=400&&y<600)throw new Cv({message:x,status:y})}}catch(p){if(p.name==="ApiError")throw p}o+=d;let f=-1,h=0;for(;;){f=-1,h=0;for(let g of l){let y=o.indexOf(g);y!==-1&&(f===-1||y<f)&&(f=y,h=g.length)}if(f===-1)break;let p=o.substring(0,f);o=o.substring(f+h);let m=p.trim();if(m.startsWith(a)){let g=m.substring(a.length).trim();try{let y=new Response(g,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield En(new Sv(y))}catch(y){throw new Error(`exception parsing stream chunk ${g}. ${y}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){let e={},n=bge+" "+this.clientOptions.userAgentExtra;return e[vge]=n,e[mD]=n,e[mge]="application/json",e}async getHeadersInternal(e,n){let r=new Headers;if(e&&e.headers){for(let[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(gge,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;let i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);let s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);let a=(r=n?.mimeType)!==null&&r!==void 0?r:o.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;let l={file:i},u=this.getFileName(e),c=It("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n?.httpOptions);return s.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;let s=this.clientOptions.uploader,o=await s.stat(n),a=String(o.size),l=(i=r?.mimeType)!==null&&i!==void 0?i:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&BV(r,d);let f=await this.fetchUploadUrl(u,a,l,c,d,r?.httpOptions);return s.uploadToFileSearchStore(n,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var a;let l={};o?l=o:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};let u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!u?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let c=(a=u?.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}};async function tV(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};let i=JSON.stringify(r);throw n>=400&&n<600?new Cv({message:i,status:n}):new Error(i)}}function xge(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){let a=Object.assign({},s);for(let l in o)if(Object.prototype.hasOwnProperty.call(o,l)){let u=o[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}let i=r(n,e);t.body=JSON.stringify(i)}var Ege="mcp_used/unknown",Sge=!1;function VV(t){for(let e of t)if(Cge(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Sge}function UV(t){var e;let n=(e=t[mD])!==null&&e!==void 0?e:"";t[mD]=(n+` ${Ege}`).trimStart()}function Cge(t){return t!==null&&typeof t=="object"&&t instanceof vD}function Age(t){return sl(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){let o=yield En(n.listTools({cursor:i}));for(let a of o.tools)yield yield En(a),s++;if(!o.nextCursor)break;i=o.nextCursor}})}var vD=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;let s={},o=[];for(let c of this.mcpClients)try{for(var a=!0,l=(n=void 0,ol(Age(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;let d=i;o.push(d);let f=d.name;if(s[f])throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);s[f]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),ufe(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let r of e)if(r.name in this.functionNameToMcpClient){let i=this.functionNameToMcpClient[r.name],s;this.config.timeout&&(s={timeout:this.config.timeout});let o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}};async function Tge(t,e,n){let r=new iD,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}var yD=class{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=Dge(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${a}`,u=()=>{},c=new Promise(T=>{u=T}),d=e.callbacks,f=function(){u({})},h=this.apiClient,p={onopen:f,onmessage:T=>{Tge(h,d.onmessage,T)},onerror:(n=d?.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=d?.onclose)!==null&&r!==void 0?r:function(T){}},m=this.webSocketFactory.create(l,Ige(o),p);m.connect(),await c;let x={setup:{model:mr(this.apiClient,e.model)}};return m.send(JSON.stringify(x)),new bD(m,this.apiClient)}},bD=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=tpe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=epe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){let n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(xv.PLAY)}pause(){this.sendPlaybackControl(xv.PAUSE)}stop(){this.sendPlaybackControl(xv.STOP)}resetContext(){this.sendPlaybackControl(xv.RESET_CONTEXT)}close(){this.conn.close()}};function Ige(t){let e={};return t.forEach((n,r)=>{e[r]=n}),e}function Dge(t){let e=new Headers;for(let[n,r]of Object.entries(t))e.append(n,r);return e}var kge="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Nge(t,e,n){let r=new rD,i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;let s=JSON.parse(i);if(t.isVertexAI()){let o=ipe(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}var wD=class{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new yD(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),c,d=this.apiClient.getHeaders();e.config&&e.config.tools&&VV(e.config.tools)&&UV(d);let f=Pge(d);if(this.apiClient.isVertexAI()){let q=this.apiClient.getProject(),H=this.apiClient.getLocation(),E=this.apiClient.getApiKey(),C=!!q&&!!H||!!E;this.apiClient.getCustomBaseUrl()&&!C?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f,c))}else{let q=this.apiClient.getApiKey(),H="BidiGenerateContent",E="key";q?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),H="BidiGenerateContentConstrained",E="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${H}?${E}=${q}`}let h=()=>{},p=new Promise(q=>{h=q}),m=e.callbacks,g=function(){var q;(q=m?.onopen)===null||q===void 0||q.call(m),h({})},y=this.apiClient,x={onopen:g,onmessage:q=>{Nge(y,m.onmessage,q)},onerror:(n=m?.onerror)!==null&&n!==void 0?n:function(q){},onclose:(r=m?.onclose)!==null&&r!==void 0?r:function(q){}},T=this.webSocketFactory.create(c,Rge(f),x);T.connect(),await p;let R=mr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){let q=this.apiClient.getProject(),H=this.apiClient.getLocation();q&&H&&(R=`projects/${q}/locations/${H}/`+R)}let $={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[q4.AUDIO]}:e.config.responseModalities=[q4.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let O=(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[],U=[];for(let q of O)if(this.isCallableTool(q)){let H=q;U.push(await H.tool())}else U.push(q);U.length>0&&(e.config.tools=U);let j={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?$=Qhe(this.apiClient,j):$=Jhe(this.apiClient,j),delete $.config,T.send(JSON.stringify($)),new _D(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},Mge={turnComplete:!0},_D=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ia(n.turns),e.isVertexAI()||(r=r.map(i=>Hx(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(let s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(kge)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Mge),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:rpe(e)}:n={realtimeInput:npe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function Rge(t){let e={};return t.forEach((n,r)=>{e[r]=n}),e}function Pge(t){let e=new Headers;for(let[n,r]of Object.entries(t))e.append(n,r);return e}var nV=10;function rV(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(let o of(n=t?.tools)!==null&&n!==void 0?n:[])if(Sm(o)){i=!0;break}if(!i)return!0;let s=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Sm(t){return"callTool"in t&&typeof t.callTool=="function"}function Lge(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Sm(i)))!==null&&r!==void 0?r:!1}function iV(t){var e;let n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Sm(r))return;let s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function sV(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var xD=class extends al{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,a;let l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Lge(n)||rV(n.config))return await this.generateContentInternal(l);let u=iV(n);if(u.length>0){let m=u.map(g=>`tools[${g}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${m}.`)}let c,d,f=Ia(l.contents),h=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:nV,p=0;for(;p<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){let m=c.candidates[0].content,g=[];for(let y of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Sm(y)){let T=await y.callTool(c.functionCalls);g.push(...T)}p++,d={role:"user",parts:g},l.contents=Ia(l.contents),l.contents.push(m),l.contents.push(d),sV(l.config)&&(f.push(m),f.push(d))}return sV(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async n=>{var r,i,s,o,a;if(this.maybeMoveToResponseJsonSchem(n),rV(n.config)){let d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}let l=iV(n);if(l.length>0){let d=l.map(f=>`tools[${f}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let u=(s=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,c=(a=(o=n?.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s,o=[];if(r?.generatedImages)for(let l of r.generatedImages)l&&l?.safetyAttributes&&((i=l?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l?.safetyAttributes:o.push(l);let a;return s?a={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;let o={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Xu(vd.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(o),o)},this.editImage=async n=>{let r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));let i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;let s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;let o=await Promise.all(s.map(async l=>Sm(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&VV(e.config.tools)){let l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{},u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),UV(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;let s=new Map;for(let o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Sm(o)){let a=o,l=await a.tool();for(let u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,a)}}return s}async processAfcStream(e){var n,r,i;let s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:nV,o=!1,a=0,l=await this.initAfcToolsMap(e);return(function(u,c,d){return sl(this,arguments,function*(){for(var f,h,p,m,g,y;a<s;){o&&(a++,o=!1);let $=yield En(u.processParamsMaybeAddMcpUsage(d)),O=yield En(u.generateContentStreamInternal($)),U=[],j=[];try{for(var x=!0,T=(h=void 0,ol(O)),R;R=yield En(T.next()),f=R.done,!f;x=!0){m=R.value,x=!1;let q=m;if(yield yield En(q),q.candidates&&(!((g=q.candidates[0])===null||g===void 0)&&g.content)){j.push(q.candidates[0].content);for(let H of(y=q.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(a<s&&H.functionCall){if(!H.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(H.functionCall.name)){let E=yield En(c.get(H.functionCall.name).callTool([H.functionCall]));U.push(...E)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${H.functionCall.name}`)}}}}catch(q){h={error:q}}finally{try{!x&&!f&&(p=T.return)&&(yield En(p.call(T)))}finally{if(h)throw h.error}}if(U.length>0){o=!0;let q=new ch;q.candidates=[{content:{role:"user",parts:U}}],yield yield En(q);let H=[];H.push(...j),H.push({role:"user",parts:U});let E=Ia(d.contents).concat(H);d.contents=E}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=JB(this.apiClient,e);return a=It("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=eV(c),f=new ch;return Object.assign(f,d),f})}else{let u=ZB(this.apiClient,e);return a=It("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=QB(c),f=new ch;return Object.assign(f,d),f})}}async generateContentStreamInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=JB(this.apiClient,e);return a=It("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(d){return sl(this,arguments,function*(){var f,h,p,m;try{for(var g=!0,y=ol(d),x;x=yield En(y.next()),f=x.done,!f;g=!0){m=x.value,g=!1;let T=m,R=eV(yield En(T.json()));R.sdkHttpResponse={headers:T.headers};let $=new ch;Object.assign($,R),yield yield En($)}}catch(T){h={error:T}}finally{try{!g&&!f&&(p=y.return)&&(yield En(p.call(y)))}finally{if(h)throw h.error}}})})}else{let u=ZB(this.apiClient,e);return a=It("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(d){return sl(this,arguments,function*(){var f,h,p,m;try{for(var g=!0,y=ol(d),x;x=yield En(y.next()),f=x.done,!f;g=!0){m=x.value,g=!1;let T=m,R=QB(yield En(T.json()));R.sdkHttpResponse={headers:T.headers};let $=new ch;Object.assign($,R),yield yield En($)}}catch(T){h={error:T}}finally{try{!g&&!f&&(p=y.return)&&(yield En(p.call(y)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Lpe(this.apiClient,e);return a=It("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Ope(c),f=new mx;return Object.assign(f,d),f})}else{let u=Ppe(this.apiClient,e);return a=It("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Fpe(c),f=new mx;return Object.assign(f,d),f})}}async generateImagesInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Ype(this.apiClient,e);return a=It("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Kpe(c),f=new gx;return Object.assign(f,d),f})}else{let u=Gpe(this.apiClient,e);return a=It("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Xpe(c),f=new gx;return Object.assign(f,d),f})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=kpe(this.apiClient,e);return s=It("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{let u=Npe(l),c=new z4;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=Yme(this.apiClient,e);return s=It("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{let u=Xme(l),c=new W4;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=Dme(this.apiClient,e);return s=It("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=kme(l),c=new G4;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=Fme(this.apiClient,e);return s=It("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=Ome(l),c=new Y4;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=hme(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>pD(c))}else{let u=fme(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json()),o.then(c=>hD(c))}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=xme(this.apiClient,e);return a=It("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Sme(c),f=new vx;return Object.assign(f,d),f})}else{let u=_me(this.apiClient,e);return a=It("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Eme(c),f=new vx;return Object.assign(f,d),f})}}async update(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Wme(this.apiClient,e);return a=It("{model}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>pD(c))}else{let u=zme(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json()),o.then(c=>hD(c))}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Ape(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Ipe(c),f=new yx;return Object.assign(f,d),f})}else{let u=Cpe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Tpe(c),f=new yx;return Object.assign(f,d),f})}}async countTokens(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=xpe(this.apiClient,e);return a=It("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Spe(c),f=new bx;return Object.assign(f,d),f})}else{let u=_pe(this.apiClient,e);return a=It("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Epe(c),f=new bx;return Object.assign(f,d),f})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=ppe(this.apiClient,e);return s=It("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{let u=mpe(l),c=new X4;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=nme(this.apiClient,e);return a=It("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{let d=eme(c),f=new wx;return Object.assign(f,d),f})}else{let u=tme(this.apiClient,e);return a=It("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json()),o.then(c=>{let d=Qpe(c),f=new wx;return Object.assign(f,d),f})}}};var ED=class extends al{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let i=n.name.split("/operations/")[0],s;r&&"httpOptions"in r&&(s=r.httpOptions);let o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{let i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){let n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let i=n.name.split("/operations/")[0],s;r&&"httpOptions"in r&&(s=r.httpOptions);let o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{let i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Kde(e);return a=It("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else{let u=Xde(e);return a=It("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=Hde(e);return s=It("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}};function Fge(t){let e={},n=A(t,["data"]);if(n!=null&&P(e,["data"],n),A(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function Oge(t){let e={},n=A(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Wge(s))),P(e,["parts"],i)}let r=A(t,["role"]);return r!=null&&P(e,["role"],r),e}function Bge(t,e,n){let r={},i=A(e,["expireTime"]);n!==void 0&&i!=null&&P(n,["expireTime"],i);let s=A(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&P(n,["newSessionExpireTime"],s);let o=A(e,["uses"]);n!==void 0&&o!=null&&P(n,["uses"],o);let a=A(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&P(n,["bidiGenerateContentSetup"],zge(t,a));let l=A(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&P(n,["fieldMask"],l),r}function Vge(t,e){let n={},r=A(e,["config"]);return r!=null&&P(n,["config"],Bge(t,r,n)),n}function Uge(t){let e={};if(A(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=A(t,["fileUri"]);n!=null&&P(e,["fileUri"],n);let r=A(t,["mimeType"]);return r!=null&&P(e,["mimeType"],r),e}function jge(t){let e={},n=A(t,["id"]);n!=null&&P(e,["id"],n);let r=A(t,["args"]);r!=null&&P(e,["args"],r);let i=A(t,["name"]);if(i!=null&&P(e,["name"],i),A(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(A(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hge(t){let e={};if(A(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=A(t,["enableWidget"]);return n!=null&&P(e,["enableWidget"],n),e}function $ge(t){let e={};if(A(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(A(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=A(t,["timeRangeFilter"]);return n!=null&&P(e,["timeRangeFilter"],n),e}function qge(t,e){let n={},r=A(t,["generationConfig"]);e!==void 0&&r!=null&&P(e,["setup","generationConfig"],r);let i=A(t,["responseModalities"]);e!==void 0&&i!=null&&P(e,["setup","generationConfig","responseModalities"],i);let s=A(t,["temperature"]);e!==void 0&&s!=null&&P(e,["setup","generationConfig","temperature"],s);let o=A(t,["topP"]);e!==void 0&&o!=null&&P(e,["setup","generationConfig","topP"],o);let a=A(t,["topK"]);e!==void 0&&a!=null&&P(e,["setup","generationConfig","topK"],a);let l=A(t,["maxOutputTokens"]);e!==void 0&&l!=null&&P(e,["setup","generationConfig","maxOutputTokens"],l);let u=A(t,["mediaResolution"]);e!==void 0&&u!=null&&P(e,["setup","generationConfig","mediaResolution"],u);let c=A(t,["seed"]);e!==void 0&&c!=null&&P(e,["setup","generationConfig","seed"],c);let d=A(t,["speechConfig"]);e!==void 0&&d!=null&&P(e,["setup","generationConfig","speechConfig"],zD(d));let f=A(t,["thinkingConfig"]);e!==void 0&&f!=null&&P(e,["setup","generationConfig","thinkingConfig"],f);let h=A(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&P(e,["setup","generationConfig","enableAffectiveDialog"],h);let p=A(t,["systemInstruction"]);e!==void 0&&p!=null&&P(e,["setup","systemInstruction"],Oge(Rs(p)));let m=A(t,["tools"]);if(e!==void 0&&m!=null){let O=Im(m);Array.isArray(O)&&(O=O.map(U=>Yge(Tm(U)))),P(e,["setup","tools"],O)}let g=A(t,["sessionResumption"]);e!==void 0&&g!=null&&P(e,["setup","sessionResumption"],Gge(g));let y=A(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&P(e,["setup","inputAudioTranscription"],y);let x=A(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&P(e,["setup","outputAudioTranscription"],x);let T=A(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&P(e,["setup","realtimeInputConfig"],T);let R=A(t,["contextWindowCompression"]);e!==void 0&&R!=null&&P(e,["setup","contextWindowCompression"],R);let $=A(t,["proactivity"]);if(e!==void 0&&$!=null&&P(e,["setup","proactivity"],$),A(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function zge(t,e){let n={},r=A(e,["model"]);r!=null&&P(n,["setup","model"],mr(t,r));let i=A(e,["config"]);return i!=null&&P(n,["config"],qge(i,n)),n}function Wge(t){let e={},n=A(t,["mediaResolution"]);n!=null&&P(e,["mediaResolution"],n);let r=A(t,["codeExecutionResult"]);r!=null&&P(e,["codeExecutionResult"],r);let i=A(t,["executableCode"]);i!=null&&P(e,["executableCode"],i);let s=A(t,["fileData"]);s!=null&&P(e,["fileData"],Uge(s));let o=A(t,["functionCall"]);o!=null&&P(e,["functionCall"],jge(o));let a=A(t,["functionResponse"]);a!=null&&P(e,["functionResponse"],a);let l=A(t,["inlineData"]);l!=null&&P(e,["inlineData"],Fge(l));let u=A(t,["text"]);u!=null&&P(e,["text"],u);let c=A(t,["thought"]);c!=null&&P(e,["thought"],c);let d=A(t,["thoughtSignature"]);d!=null&&P(e,["thoughtSignature"],d);let f=A(t,["videoMetadata"]);return f!=null&&P(e,["videoMetadata"],f),e}function Gge(t){let e={},n=A(t,["handle"]);if(n!=null&&P(e,["handle"],n),A(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Yge(t){let e={};if(A(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=A(t,["computerUse"]);n!=null&&P(e,["computerUse"],n);let r=A(t,["fileSearch"]);r!=null&&P(e,["fileSearch"],r);let i=A(t,["codeExecution"]);if(i!=null&&P(e,["codeExecution"],i),A(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=A(t,["functionDeclarations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),P(e,["functionDeclarations"],c)}let o=A(t,["googleMaps"]);o!=null&&P(e,["googleMaps"],Hge(o));let a=A(t,["googleSearch"]);a!=null&&P(e,["googleSearch"],$ge(a));let l=A(t,["googleSearchRetrieval"]);l!=null&&P(e,["googleSearchRetrieval"],l);let u=A(t,["urlContext"]);return u!=null&&P(e,["urlContext"],u),e}function Xge(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){let i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function Kge(t,e){let n=null,r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){let s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;let i=t.fieldMask;if(n){let s=Xge(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)s?t.fieldMask=s:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){let o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],a=[];i.length>0&&(a=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));let l=[];s&&l.push(s),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}var SD=class extends al{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let a=Vge(this.apiClient,e);s=It("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;let l=Kge(a,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}};function Zge(t,e){let n={},r=A(t,["force"]);return e!==void 0&&r!=null&&P(e,["_query","force"],r),n}function Jge(t){let e={},n=A(t,["name"]);n!=null&&P(e,["_url","name"],n);let r=A(t,["config"]);return r!=null&&Zge(r,e),e}function Qge(t){let e={},n=A(t,["name"]);return n!=null&&P(e,["_url","name"],n),e}function e0e(t,e){let n={},r=A(t,["pageSize"]);e!==void 0&&r!=null&&P(e,["_query","pageSize"],r);let i=A(t,["pageToken"]);return e!==void 0&&i!=null&&P(e,["_query","pageToken"],i),n}function t0e(t){let e={},n=A(t,["parent"]);n!=null&&P(e,["_url","parent"],n);let r=A(t,["config"]);return r!=null&&e0e(r,e),e}function n0e(t){let e={},n=A(t,["sdkHttpResponse"]);n!=null&&P(e,["sdkHttpResponse"],n);let r=A(t,["nextPageToken"]);r!=null&&P(e,["nextPageToken"],r);let i=A(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),P(e,["documents"],s)}return e}var CD=class extends al{constructor(e){super(),this.apiClient=e,this.list=async n=>new Xu(vd.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Qge(e);return s=It("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let o=Jge(e);i=It("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=t0e(e);return s=It("{parent}/documents",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=n0e(l),c=new K4;return Object.assign(c,u),c})}}};var AD=class extends al{constructor(e,n=new CD(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Xu(vd.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=nge(e);return s=It("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=sge(e);return s=It("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let o=ige(e);i=It("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=dge(e);return s=It("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=fge(l),c=new Z4;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=hge(e);return s=It("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=pge(l),c=new J4;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=lge(e);return s=It("{file_search_store_name}:importFile",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let u=age(l),c=new Q4;return Object.assign(c,u),c})}}};var jV=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return jV=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))},r0e=()=>jV();function TD(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var ID=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var Eo=class extends Error{},So=class t extends Eo{constructor(e,n,r,i){super(`${t.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){let i=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Cm({message:r,cause:ID(n)});let s=n;return e===400?new Dx(e,s,r,i):e===401?new kx(e,s,r,i):e===403?new Nx(e,s,r,i):e===404?new Mx(e,s,r,i):e===409?new Rx(e,s,r,i):e===422?new Px(e,s,r,i):e===429?new Lx(e,s,r,i):e>=500?new Fx(e,s,r,i):new t(e,s,r,i)}},Av=class extends So{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Cm=class extends So{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},Ix=class extends Cm{constructor({message:e}={}){super({message:e??"Request timed out."})}},Dx=class extends So{},kx=class extends So{},Nx=class extends So{},Mx=class extends So{},Rx=class extends So{},Px=class extends So{},Lx=class extends So{},Fx=class extends So{};var i0e=/^[a-z][a-z0-9+.-]*:/i,s0e=t=>i0e.test(t),DD=t=>(DD=Array.isArray,DD(t)),o0e=DD,a0e=o0e,oV=a0e;function l0e(t){if(!t)return!0;for(let e in t)return!1;return!0}function u0e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var c0e=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Eo(`${t} must be an integer`);if(e<0)throw new Eo(`${t} must be a positive integer`);return e},d0e=t=>{try{return JSON.parse(t)}catch{return}};var f0e=t=>new Promise(e=>setTimeout(e,t));var xm="0.0.1";function h0e(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var p0e=()=>{var t,e,n,r,i;let s=h0e();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xm,"X-Stainless-OS":lV(Deno.build.os),"X-Stainless-Arch":aV(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xm,"X-Stainless-OS":lV((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":aV((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};let o=m0e();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function m0e(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:n}of t){let r=n.exec(navigator.userAgent);if(r){let i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}var aV=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",lV=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),lx,g0e=()=>lx??(lx=p0e());function v0e(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function HV(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function y0e(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return HV({start(){},async pull(n){let{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function $V(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){let n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function b0e(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}let r=t.getReader(),i=r.cancel();r.releaseLock(),await i}var w0e=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var qV=()=>{var t;if(typeof File>"u"){let{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function j4(t,e,n){return qV(),new File(t,e??"unknown_file",n)}function _0e(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var x0e=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var zV=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",E0e=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&zV(t),S0e=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function C0e(t,e,n){if(qV(),t=await t,E0e(t))return t instanceof File?t:j4([await t.arrayBuffer()],t.name);if(S0e(t)){let i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),j4(await kD(i),e,n)}let r=await kD(t);if(e||(e=_0e(t)),!n?.type){let i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return j4(r,e,n)}async function kD(t){var e,n,r,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(zV(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(x0e(t))try{for(var a=!0,l=ol(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;let c=i;o.push(...await kD(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{let c=(s=t?.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${A0e(t)}`)}return o}function A0e(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}var T0e=(()=>{class t{constructor(n){this._client=n}}t._key=[];return t})();function WV(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var uV=Object.freeze(Object.create(null)),I0e=(t=WV)=>function(n,...r){if(n.length===1)return n[0];let i=!1,s=[],o=n.reduce((c,d,f)=>{var h,p,m;/[?#]/.test(d)&&(i=!0);let g=r[f],y=(i?encodeURIComponent:t)(""+g);return f!==r.length&&(g==null||typeof g=="object"&&g.toString===((m=Object.getPrototypeOf((p=Object.getPrototypeOf((h=g.hasOwnProperty)!==null&&h!==void 0?h:uV))!==null&&p!==void 0?p:uV))===null||m===void 0?void 0:m.toString))&&(y=g+"",s.push({start:c.length+d.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(g).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":y)},""),a=o.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,u;for(;(u=l.exec(a))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((c,d)=>c.start-d.start),s.length>0){let c=0,d=s.reduce((f,h)=>{let p=" ".repeat(h.start-c),m="^".repeat(h.length);return c=h.start+h.length,f+p+m},"");throw new Eo(`Path parameters result in path with invalid segments:
${s.map(f=>f.error).join(`
`)}
${o}
${d}`)}return o},ux=I0e(WV);var Ox=class extends T0e{create(e,n){var r;let{api_version:i=this._client.apiVersion}=e,s=Tx(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Eo("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Eo("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ux`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){let{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ux`/${i}/interactions/${e}`,r)}cancel(e,n={},r){let{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ux`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;let s=n??{},{api_version:o=this._client.apiVersion}=s,a=Tx(s,["api_version"]);return this._client.get(ux`/${o}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n?.stream)!==null&&i!==void 0?i:!1}))}};Ox._key=Object.freeze(["interactions"]);var Bx=class extends Ox{};function D0e(t){let e=0;for(let i of t)e+=i.length;let n=new Uint8Array(e),r=0;for(let i of t)n.set(i,r),r+=i.length;return n}var cx;function WD(t){let e;return(cx??(e=new globalThis.TextEncoder,cx=e.encode.bind(e)))(t)}var dx;function cV(t){let e;return(dx??(e=new globalThis.TextDecoder,dx=e.decode.bind(e)))(t)}var Am=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];let n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?WD(e):e;this.buffer=D0e([this.buffer,n]);let r=[],i;for(;(i=k0e(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(cV(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=cV(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}};Am.NEWLINE_CHARS=new Set([`
`,"\r"]);Am.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function k0e(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function N0e(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}var Vx={off:0,error:200,warn:300,info:400,debug:500},dV=(t,e,n)=>{if(t){if(u0e(Vx,t))return t;so(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Vx))}`)}};function Ev(){}function fx(t,e,n){return!e||Vx[t]>Vx[n]?Ev:e[t].bind(e)}var M0e={error:Ev,warn:Ev,info:Ev,debug:Ev},fV=new WeakMap;function so(t){var e;let n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return M0e;let i=fV.get(n);if(i&&i[0]===r)return i[1];let s={error:fx("error",n,r),warn:fx("warn",n,r),info:fx("info",n,r),debug:fx("debug",n,r)};return fV.set(n,[r,s]),s}var uh=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var ND=class t{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1,s=r?so(r):console;function o(){return sl(this,arguments,function*(){var l,u,c,d;if(i)throw new Eo("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var h=!0,p=ol(R0e(e,n)),m;m=yield En(p.next()),l=m.done,!l;h=!0){d=m.value,h=!1;let g=d;if(!f)if(g.data.startsWith("[DONE]")){f=!0;continue}else try{yield yield En(JSON.parse(g.data))}catch(y){throw s.error("Could not parse message into JSON:",g.data),s.error("From chunk:",g.raw),y}}}catch(g){u={error:g}}finally{try{!h&&!l&&(c=p.return)&&(yield En(c.call(p)))}finally{if(u)throw u.error}}f=!0}catch(g){if(TD(g))return yield En(void 0);throw g}finally{f||n.abort()}})}return new t(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return sl(this,arguments,function*(){var l,u,c,d;let f=new Am,h=$V(e);try{for(var p=!0,m=ol(h),g;g=yield En(m.next()),l=g.done,!l;p=!0){d=g.value,p=!1;let y=d;for(let x of f.decode(y))yield yield En(x)}}catch(y){u={error:y}}finally{try{!p&&!l&&(c=m.return)&&(yield En(c.call(m)))}finally{if(u)throw u.error}}for(let y of f.flush())yield yield En(y)})}function o(){return sl(this,arguments,function*(){var l,u,c,d;if(i)throw new Eo("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var h=!0,p=ol(s()),m;m=yield En(p.next()),l=m.done,!l;h=!0){d=m.value,h=!1;let g=d;f||g&&(yield yield En(JSON.parse(g)))}}catch(g){u={error:g}}finally{try{!h&&!l&&(c=p.return)&&(yield En(c.call(p)))}finally{if(u)throw u.error}}f=!0}catch(g){if(TD(g))return yield En(void 0);throw g}finally{f||n.abort()}})}return new t(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){let o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new t(()=>i(e),this.controller,this.client),new t(()=>i(n),this.controller,this.client)]}toReadableStream(){let e=this,n;return HV({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{let{value:i,done:s}=await n.next();if(s)return r.close();let o=WD(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}};function R0e(t,e){return sl(this,arguments,function*(){var r,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Eo("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Eo("Attempted to iterate over a response with no body");let a=new MD,l=new Am,u=$V(t.body);try{for(var c=!0,d=ol(P0e(u)),f;f=yield En(d.next()),r=f.done,!r;c=!0){o=f.value,c=!1;let h=o;for(let p of l.decode(h)){let m=a.decode(p);m&&(yield yield En(m))}}}catch(h){i={error:h}}finally{try{!c&&!r&&(s=d.return)&&(yield En(s.call(d)))}finally{if(i)throw i.error}}for(let h of l.flush()){let p=a.decode(h);p&&(yield yield En(p))}})}function P0e(t){return sl(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var a=!0,l=ol(t),u;u=yield En(l.next()),n=u.done,!n;a=!0){s=u.value,a=!1;let c=s;if(c==null)continue;let d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?WD(c):c,f=new Uint8Array(o.length+d.length);f.set(o),f.set(d,o.length),o=f;let h;for(;(h=N0e(o))!==-1;)yield yield En(o.slice(0,h)),o=o.slice(h)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield En(i.call(l)))}finally{if(r)throw r.error}}o.length>0&&(yield yield En(o))})}var MD=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=L0e(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}};function L0e(t,e){let n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function F0e(t,e){let{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var a;if(e.options.stream)return so(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):ND.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;let l=n.headers.get("content-type"),u=(a=l?.split(";")[0])===null||a===void 0?void 0:a.trim();return u?.includes("application/json")||u?.endsWith("+json")?await n.json():await n.text()})();return so(t).debug(`[${r}] response parsed`,uh({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}var RD=class t extends Promise{constructor(e,n,r=F0e){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new t(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};var GV=Symbol("brand.privateNullableHeaders");function*O0e(t){if(!t)return;if(GV in t){let{values:r,nulls:i}=t;yield*r.entries();for(let s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():oV(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){let i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");let s=oV(r[1])?r[1]:[r[1]],o=!1;for(let a of s)a!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,a])}}var _v=t=>{let e=new Headers,n=new Set;for(let r of t){let i=new Set;for(let[s,o]of O0e(r)){let a=s.toLowerCase();i.has(a)||(e.delete(s),i.add(a)),o===null?(e.delete(s),n.add(a)):(e.append(s,o),n.delete(a))}}return{[GV]:!0,values:e,nulls:n}};var H4=t=>{var e,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(e=globalThis.process.env)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};var YV,B0e=(()=>{class t{constructor(n){var r,i,s,o,a,l,u,{baseURL:c=H4("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(r=H4("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:f="v1beta"}=n,h=Tx(n,["baseURL","apiKey","apiVersion"]);let p=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=(i=p.timeout)!==null&&i!==void 0?i:t.DEFAULT_TIMEOUT,this.logger=(s=p.logger)!==null&&s!==void 0?s:console;let m="warn";this.logLevel=m,this.logLevel=(a=(o=dV(p.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:dV(H4("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:m,this.fetchOptions=p.fetchOptions,this.maxRetries=(l=p.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(u=p.fetch)!==null&&u!==void 0?u:v0e(),this.encoder=w0e,this._options=p,this.apiKey=d,this.apiVersion=f,this.clientAdapter=p.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:r}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){let r=_v([n.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return _v([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return _v([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([r,i])=>typeof i<"u").map(([r,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(r)}=`;throw new Eo(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${xm}`}defaultIdempotencyKey(){return`stainless-node-retry-${r0e()}`}makeStatusError(n,r,i,s){return So.generate(n,r,i,s)}buildURL(n,r,i){let s=!this.baseURLOverridden()&&i||this.baseURL,o=s0e(n)?new URL(n):new URL(s+(s.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),a=this.defaultQuery();return l0e(a)||(r=Object.assign(Object.assign({},a),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){let r=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(n,{url:r,options:i}){}get(n,r){return this.methodRequest("get",n,r)}post(n,r){return this.methodRequest("post",n,r)}patch(n,r){return this.methodRequest("patch",n,r)}put(n,r){return this.methodRequest("put",n,r)}delete(n,r){return this.methodRequest("delete",n,r)}methodRequest(n,r,i){return this.request(Promise.resolve(i).then(s=>Object.assign({method:n,path:r},s)))}request(n,r=null){return new RD(this,this.makeRequest(n,r,void 0))}async makeRequest(n,r,i){var s,o,a;let l=await n,u=(s=l.maxRetries)!==null&&s!==void 0?s:this.maxRetries;r==null&&(r=u),await this.prepareOptions(l);let{req:c,url:d,timeout:f}=await this.buildRequest(l,{retryCount:u-r});await this.prepareRequest(c,{url:d,options:l});let h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=i===void 0?"":`, retryOf: ${i}`,m=Date.now();if(so(this).debug(`[${h}] sending request`,uh({retryOfRequestLogID:i,method:l.method,url:d,options:l,headers:c.headers})),!((o=l.signal)===null||o===void 0)&&o.aborted)throw new Av;let g=new AbortController,y=await this.fetchWithTimeout(d,c,f,g).catch(ID),x=Date.now();if(y instanceof globalThis.Error){let R=`retrying, ${r} attempts remaining`;if(!((a=l.signal)===null||a===void 0)&&a.aborted)throw new Av;let $=TD(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(r)return so(this).info(`[${h}] connection ${$?"timed out":"failed"} - ${R}`),so(this).debug(`[${h}] connection ${$?"timed out":"failed"} (${R})`,uh({retryOfRequestLogID:i,url:d,durationMs:x-m,message:y.message})),this.retryRequest(l,r,i??h);throw so(this).info(`[${h}] connection ${$?"timed out":"failed"} - error; no more retries left`),so(this).debug(`[${h}] connection ${$?"timed out":"failed"} (error; no more retries left)`,uh({retryOfRequestLogID:i,url:d,durationMs:x-m,message:y.message})),$?new Ix:new Cm({cause:y})}let T=`[${h}${p}] ${c.method} ${d} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${x-m}ms`;if(!y.ok){let R=await this.shouldRetry(y);if(r&&R){let H=`retrying, ${r} attempts remaining`;return await b0e(y.body),so(this).info(`${T} - ${H}`),so(this).debug(`[${h}] response error (${H})`,uh({retryOfRequestLogID:i,url:y.url,status:y.status,headers:y.headers,durationMs:x-m})),this.retryRequest(l,r,i??h,y.headers)}let $=R?"error; no more retries left":"error; not retryable";so(this).info(`${T} - ${$}`);let O=await y.text().catch(H=>ID(H).message),U=d0e(O),j=U?void 0:O;throw so(this).debug(`[${h}] response error (${$})`,uh({retryOfRequestLogID:i,url:y.url,status:y.status,headers:y.headers,message:j,durationMs:Date.now()-m})),this.makeStatusError(y.status,U,j,y.headers)}return so(this).info(T),so(this).debug(`[${h}] response start`,uh({retryOfRequestLogID:i,url:y.url,status:y.status,headers:y.headers,durationMs:x-m})),{response:y,options:l,controller:g,requestLogID:h,retryOfRequestLogID:i,startTime:m}}async fetchWithTimeout(n,r,i,s){let o=r||{},{signal:a,method:l}=o,u=Tx(o,["signal","method"]);a&&a.addEventListener("abort",()=>s.abort());let c=setTimeout(()=>s.abort(),i),d=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,f=Object.assign(Object.assign(Object.assign({signal:s.signal},d?{duplex:"half"}:{}),{method:"GET"}),u);l&&(f.method=l.toUpperCase());try{return await this.fetch.call(void 0,n,f)}finally{clearTimeout(c)}}async shouldRetry(n){let r=n.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,r,i,s){var o;let a,l=s?.get("retry-after-ms");if(l){let c=parseFloat(l);Number.isNaN(c)||(a=c)}let u=s?.get("retry-after");if(u&&!a){let c=parseFloat(u);Number.isNaN(c)?a=Date.parse(u)-Date.now():a=c*1e3}if(!(a&&0<=a&&a<60*1e3)){let c=(o=n.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(r,c)}return await f0e(a),this.makeRequest(n,r-1,i)}calculateDefaultRetryTimeoutMillis(n,r){let o=r-n,a=Math.min(.5*Math.pow(2,o),8),l=1-Math.random()*.25;return a*l*1e3}async buildRequest(n,{retryCount:r=0}={}){var i,s,o;let a=Object.assign({},n),{method:l,path:u,query:c,defaultBaseURL:d}=a,f=this.buildURL(u,c,d);"timeout"in a&&c0e("timeout",a.timeout),a.timeout=(i=a.timeout)!==null&&i!==void 0?i:this.timeout;let{bodyHeaders:h,body:p}=this.buildBody({options:a}),m=await this.buildHeaders({options:n,method:l,bodyHeaders:h,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:m},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"}),p&&{body:p}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:n,method:r,bodyHeaders:i,retryCount:s}){let o={};this.idempotencyHeader&&r!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=n.idempotencyKey);let a=await this.authHeaders(n),l=_v([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),g0e()),this._options.defaultHeaders,i,n.headers,a]);return this.validateHeaders(l),l.values}buildBody({options:{body:n,headers:r}}){if(!n)return{bodyHeaders:void 0,body:void 0};let i=_v([r]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&i.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:y0e(n)}:this.encoder({body:n,headers:i})}}return t.DEFAULT_TIMEOUT=6e4,t})(),ki=class extends B0e{constructor(){super(...arguments),this.interactions=new Bx(this)}};YV=ki;ki.GeminiNextGenAPIClient=YV;ki.GeminiNextGenAPIClientError=Eo;ki.APIError=So;ki.APIConnectionError=Cm;ki.APIConnectionTimeoutError=Ix;ki.APIUserAbortError=Av;ki.NotFoundError=Mx;ki.ConflictError=Rx;ki.RateLimitError=Lx;ki.BadRequestError=Dx;ki.AuthenticationError=kx;ki.InternalServerError=Fx;ki.PermissionDeniedError=Nx;ki.UnprocessableEntityError=Px;ki.toFile=C0e;ki.Interactions=Bx;function V0e(t,e){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],r),n}function U0e(t,e){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],r),n}function j0e(t,e){let n={},r=A(t,["sdkHttpResponse"]);return r!=null&&P(n,["sdkHttpResponse"],r),n}function H0e(t,e){let n={},r=A(t,["sdkHttpResponse"]);return r!=null&&P(n,["sdkHttpResponse"],r),n}function $0e(t,e,n){let r={};if(A(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let i=A(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&P(e,["displayName"],i),A(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let s=A(t,["epochCount"]);e!==void 0&&s!=null&&P(e,["tuningTask","hyperparameters","epochCount"],s);let o=A(t,["learningRateMultiplier"]);if(o!=null&&P(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),A(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(A(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(A(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let a=A(t,["batchSize"]);e!==void 0&&a!=null&&P(e,["tuningTask","hyperparameters","batchSize"],a);let l=A(t,["learningRate"]);if(e!==void 0&&l!=null&&P(e,["tuningTask","hyperparameters","learningRate"],l),A(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(A(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function q0e(t,e,n){let r={},i=A(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let h=A(t,["validationDataset"]);e!==void 0&&h!=null&&P(e,["supervisedTuningSpec"],hV(h))}else if(i==="PREFERENCE_TUNING"){let h=A(t,["validationDataset"]);e!==void 0&&h!=null&&P(e,["preferenceOptimizationSpec"],hV(h))}let s=A(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&P(e,["tunedModelDisplayName"],s);let o=A(t,["description"]);e!==void 0&&o!=null&&P(e,["description"],o);let a=A(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){let h=A(t,["epochCount"]);e!==void 0&&h!=null&&P(e,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(a==="PREFERENCE_TUNING"){let h=A(t,["epochCount"]);e!==void 0&&h!=null&&P(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let l=A(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let h=A(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&P(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(l==="PREFERENCE_TUNING"){let h=A(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&P(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let u=A(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){let h=A(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&P(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(u==="PREFERENCE_TUNING"){let h=A(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&P(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let c=A(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let h=A(t,["adapterSize"]);e!==void 0&&h!=null&&P(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(c==="PREFERENCE_TUNING"){let h=A(t,["adapterSize"]);e!==void 0&&h!=null&&P(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(A(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(A(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let d=A(t,["labels"]);e!==void 0&&d!=null&&P(e,["labels"],d);let f=A(t,["beta"]);return e!==void 0&&f!=null&&P(e,["preferenceOptimizationSpec","hyperParameters","beta"],f),r}function z0e(t,e){let n={},r=A(t,["baseModel"]);r!=null&&P(n,["baseModel"],r);let i=A(t,["preTunedModel"]);i!=null&&P(n,["preTunedModel"],i);let s=A(t,["trainingDataset"]);s!=null&&n1e(s);let o=A(t,["config"]);return o!=null&&$0e(o,n),n}function W0e(t,e){let n={},r=A(t,["baseModel"]);r!=null&&P(n,["baseModel"],r);let i=A(t,["preTunedModel"]);i!=null&&P(n,["preTunedModel"],i);let s=A(t,["trainingDataset"]);s!=null&&r1e(s,n,e);let o=A(t,["config"]);return o!=null&&q0e(o,n,e),n}function G0e(t,e){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],r),n}function Y0e(t,e){let n={},r=A(t,["name"]);return r!=null&&P(n,["_url","name"],r),n}function X0e(t,e,n){let r={},i=A(t,["pageSize"]);e!==void 0&&i!=null&&P(e,["_query","pageSize"],i);let s=A(t,["pageToken"]);e!==void 0&&s!=null&&P(e,["_query","pageToken"],s);let o=A(t,["filter"]);return e!==void 0&&o!=null&&P(e,["_query","filter"],o),r}function K0e(t,e,n){let r={},i=A(t,["pageSize"]);e!==void 0&&i!=null&&P(e,["_query","pageSize"],i);let s=A(t,["pageToken"]);e!==void 0&&s!=null&&P(e,["_query","pageToken"],s);let o=A(t,["filter"]);return e!==void 0&&o!=null&&P(e,["_query","filter"],o),r}function Z0e(t,e){let n={},r=A(t,["config"]);return r!=null&&X0e(r,n),n}function J0e(t,e){let n={},r=A(t,["config"]);return r!=null&&K0e(r,n),n}function Q0e(t,e){let n={},r=A(t,["sdkHttpResponse"]);r!=null&&P(n,["sdkHttpResponse"],r);let i=A(t,["nextPageToken"]);i!=null&&P(n,["nextPageToken"],i);let s=A(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>XV(a))),P(n,["tuningJobs"],o)}return n}function e1e(t,e){let n={},r=A(t,["sdkHttpResponse"]);r!=null&&P(n,["sdkHttpResponse"],r);let i=A(t,["nextPageToken"]);i!=null&&P(n,["nextPageToken"],i);let s=A(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>PD(a))),P(n,["tuningJobs"],o)}return n}function t1e(t,e){let n={},r=A(t,["name"]);r!=null&&P(n,["model"],r);let i=A(t,["name"]);return i!=null&&P(n,["endpoint"],i),n}function n1e(t,e){let n={};if(A(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(A(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let r=A(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),P(n,["examples","examples"],i)}return n}function r1e(t,e,n){let r={},i=A(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let o=A(t,["gcsUri"]);e!==void 0&&o!=null&&P(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){let o=A(t,["gcsUri"]);e!==void 0&&o!=null&&P(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let s=A(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){let o=A(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&P(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){let o=A(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&P(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(A(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function XV(t,e){let n={},r=A(t,["sdkHttpResponse"]);r!=null&&P(n,["sdkHttpResponse"],r);let i=A(t,["name"]);i!=null&&P(n,["name"],i);let s=A(t,["state"]);s!=null&&P(n,["state"],EV(s));let o=A(t,["createTime"]);o!=null&&P(n,["createTime"],o);let a=A(t,["tuningTask","startTime"]);a!=null&&P(n,["startTime"],a);let l=A(t,["tuningTask","completeTime"]);l!=null&&P(n,["endTime"],l);let u=A(t,["updateTime"]);u!=null&&P(n,["updateTime"],u);let c=A(t,["description"]);c!=null&&P(n,["description"],c);let d=A(t,["baseModel"]);d!=null&&P(n,["baseModel"],d);let f=A(t,["_self"]);return f!=null&&P(n,["tunedModel"],t1e(f)),n}function PD(t,e){let n={},r=A(t,["sdkHttpResponse"]);r!=null&&P(n,["sdkHttpResponse"],r);let i=A(t,["name"]);i!=null&&P(n,["name"],i);let s=A(t,["state"]);s!=null&&P(n,["state"],EV(s));let o=A(t,["createTime"]);o!=null&&P(n,["createTime"],o);let a=A(t,["startTime"]);a!=null&&P(n,["startTime"],a);let l=A(t,["endTime"]);l!=null&&P(n,["endTime"],l);let u=A(t,["updateTime"]);u!=null&&P(n,["updateTime"],u);let c=A(t,["error"]);c!=null&&P(n,["error"],c);let d=A(t,["description"]);d!=null&&P(n,["description"],d);let f=A(t,["baseModel"]);f!=null&&P(n,["baseModel"],f);let h=A(t,["tunedModel"]);h!=null&&P(n,["tunedModel"],h);let p=A(t,["preTunedModel"]);p!=null&&P(n,["preTunedModel"],p);let m=A(t,["supervisedTuningSpec"]);m!=null&&P(n,["supervisedTuningSpec"],m);let g=A(t,["preferenceOptimizationSpec"]);g!=null&&P(n,["preferenceOptimizationSpec"],g);let y=A(t,["tuningDataStats"]);y!=null&&P(n,["tuningDataStats"],y);let x=A(t,["encryptionSpec"]);x!=null&&P(n,["encryptionSpec"],x);let T=A(t,["partnerModelTuningSpec"]);T!=null&&P(n,["partnerModelTuningSpec"],T);let R=A(t,["customBaseModel"]);R!=null&&P(n,["customBaseModel"],R);let $=A(t,["experiment"]);$!=null&&P(n,["experiment"],$);let O=A(t,["labels"]);O!=null&&P(n,["labels"],O);let U=A(t,["outputUri"]);U!=null&&P(n,["outputUri"],U);let j=A(t,["pipelineJob"]);j!=null&&P(n,["pipelineJob"],j);let q=A(t,["serviceAccount"]);q!=null&&P(n,["serviceAccount"],q);let H=A(t,["tunedModelDisplayName"]);H!=null&&P(n,["tunedModelDisplayName"],H);let E=A(t,["veoTuningSpec"]);return E!=null&&P(n,["veoTuningSpec"],E),n}function i1e(t,e){let n={},r=A(t,["sdkHttpResponse"]);r!=null&&P(n,["sdkHttpResponse"],r);let i=A(t,["name"]);i!=null&&P(n,["name"],i);let s=A(t,["metadata"]);s!=null&&P(n,["metadata"],s);let o=A(t,["done"]);o!=null&&P(n,["done"],o);let a=A(t,["error"]);return a!=null&&P(n,["error"],a),n}function hV(t,e){let n={},r=A(t,["gcsUri"]);r!=null&&P(n,["validationDatasetUri"],r);let i=A(t,["vertexDatasetResource"]);return i!=null&&P(n,["validationDatasetUri"],i),n}var LD=class extends al{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xu(vd.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);let s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{let i=Object.assign({},n);return await this.tuneInternal(i)}else{let i=Object.assign({},n),s=await this.tuneMldevInternal(i),o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:gV.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=Y0e(e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>PD(c))}else{let u=G0e(e);return a=It("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>XV(c))}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=J0e(e);return a=It("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=e1e(c),f=new _x;return Object.assign(f,d),f})}else{let u=Z0e(e);return a=It("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=Q0e(c),f=new _x;return Object.assign(f,d),f})}}async cancel(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let u=U0e(e);return a=It("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=H0e(c),f=new xx;return Object.assign(f,d),f})}else{let u=V0e(e);return a=It("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=j0e(c),f=new xx;return Object.assign(f,d),f})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=W0e(e,e);return s=It("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>PD(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=z0e(e);return s=It("tunedModels",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{let c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>i1e(l))}}};var FD=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},s1e=1024*1024*8,o1e=3,a1e=1e3,l1e=2,Ux="x-goog-upload-status";async function u1e(t,e,n){var r;let i=await KV(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Ux])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function c1e(t,e,n){var r;let i=await KV(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Ux])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let o=mV(s),a=new sD;return Object.assign(a,o),a}async function KV(t,e,n){var r,i;let s=0,o=0,a=new Sv(new Response),l="upload";for(s=t.size;o<s;){let u=Math.min(s1e,s-o),c=t.slice(o,o+u);o+u>=s&&(l+=", finalize");let d=0,f=a1e;for(;d<o1e&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=a?.headers)===null||r===void 0)&&r[Ux]));)d++,await f1e(f),f=f*l1e;if(o+=u,((i=a?.headers)===null||i===void 0?void 0:i[Ux])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function d1e(t){return{size:t.size,type:t.type}}function f1e(t){return new Promise(e=>setTimeout(e,t))}var OD=class{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await u1e(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await c1e(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await d1e(e)}};var BD=class{create(e,n,r){return new VD(e,n,r)}},VD=class{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var pV="x-goog-api-key",UD=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(pV)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(pV,this.apiKey)}}};var h1e="gl-node/",jx=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new ki({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let r=Ude(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;let i=new UD(this.apiKey);this.apiClient=new gD({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:h1e+"web",uploader:new OD,downloader:new FD}),this.models=new xD(this.apiClient),this.live=new wD(this.apiClient,i,new BD),this.batches=new lD(this.apiClient),this.chats=new cD(this.models,this.apiClient),this.caches=new uD(this.apiClient),this.files=new fD(this.apiClient),this.operations=new ED(this.apiClient),this.authTokens=new SD(this.apiClient),this.tunings=new LD(this.apiClient),this.fileSearchStores=new AD(this.apiClient)}};var km=class t{constructor(){this.ai=new jx({apiKey:import.meta.env.VITE_GEMINI_API_KEY})}async analyzeMaintenanceHistory(e,n){try{let r=`
        Act\xFAa como Analista de Mantenimiento Predictivo con especializaci\xF3n en Machine Learning aplicado a activos industriales.

        ENTRADA DE DATOS:
        Activo: ${e.brand} ${e.model} (ID: ${e.id})
        Historial de Fallas:
        ${JSON.stringify(n.map(s=>({fecha:s.entryDate,tipo:s.type,componente:s.failureDescription,severidad:s.estimatedCost>2e3?"Alta":"Media"})))}

        AN\xC1LISIS REQUERIDO:
        1. \u{1F52E} DETECCI\xD3N DE PATRONES: Identifica fallas recurrentes y calcula MTBF aproximado.
        2. \u{1F4C8} PREDICCI\xD3N: Estima qu\xE9 componente tiene mayor probabilidad de fallar pr\xF3ximamente.
        3. \u2699\uFE0F RECOMENDACIONES: Sugiere inspecciones o reemplazos preventivos.

        FORMATO DE SALIDA:
        HTML limpio (sin markdown \`\`\`html). Usa iconos y negritas.
        Estructura:
        <div class="space-y-4">
          <div><h4 class="font-bold text-red-400">\u{1F52E} Patrones Detectados</h4>...</div>
          <div><h4 class="font-bold text-orange-400">\u26A0\uFE0F Riesgo Inminente</h4>...</div>
          <div><h4 class="font-bold text-green-400">\u2705 Acci\xF3n Recomendada</h4>...</div>
        </div>
      `;return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:r})).text||"<p>Datos insuficientes para predicci\xF3n.</p>"}catch(r){return console.error("Gemini Error:",r),'<p class="text-red-500">Error conectando con el servicio de IA.</p>'}}async generateExecutiveReport(e,n,r){try{let i=`
        Analiza el estado actual de AssetGuard CMMS y genera un resumen ejecutivo profesional para Gerencia de Operaciones.

        DATOS:
        - Disponibilidad: ${r.percentage}% (Meta: 95%)
        - MTTR Promedio: ${e.mttr} horas
        - Gasto Mes: $${e.totalCostMonth} USD
        - Equipos Detenidos (Top 3): ${JSON.stringify(n.slice(0,3).map(o=>`${o.economico} (${o.falla})`))}

        ESTRUCTURA DEL REPORTE (HTML simple para renderizar):

        <h3>\u{1F4CA} 1. KPIs DE DISPONIBILIDAD</h3>
        <p>Resumen de estado vs meta.</p>

        <h3>\u{1F534} 2. AN\xC1LISIS DE PARETO (Top Problemas)</h3>
        <p>Menciona los equipos cr\xEDticos detenidos actualmente.</p>

        <h3>\u{1F4A1} 3. RECOMENDACIONES ESTRAT\xC9GICAS</h3>
        <ul>
          <li>Acci\xF3n 1 para reducir downtime</li>
          <li>Acci\xF3n 2 para optimizar costos</li>
        </ul>

        <h3>\u26A0\uFE0F 4. ALERTAS CR\xCDTICAS</h3>
        <p>Si disponibilidad < 90%, resalta urgencia.</p>

        TONO: Profesional, directo, espa\xF1ol mexicano empresarial. Sin saludos.
      `;return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:i})).text||"No se pudo generar el reporte ejecutivo."}catch(i){return console.error("Gemini Error:",i),"Error conectando con IA para el reporte."}}async generateLotoProcedure(e,n){try{let r=`
        Act\xFAa como Ingeniero de Seguridad Industrial certificado en LOTO (NOM-004-STPS-1999).
        Genera un procedimiento de bloqueo/etiquetado para:
        Equipo: ${e.brand} ${e.model} (${e.fuelType})
        Tarea: Reparaci\xF3n de ${n}

        ESTRUCTURA HTML (Lista de verificaci\xF3n):
        <div class="loto-card">
          <h3 class="text-red-600 font-bold mb-2">\u{1F6A8} IDENTIFICACI\xD3N DE PELIGROS</h3>
          [Lista de energ\xEDas peligrosas: El\xE9ctrica, Hidr\xE1ulica, etc.]

          <h3 class="text-blue-600 font-bold mt-4 mb-2">\u{1F512} SECUENCIA DE BLOQUEO</h3>
          <ol class="list-decimal pl-4 space-y-2">
            <li>Paso 1...</li>
            <li>Paso 2...</li>
          </ol>

          <h3 class="text-green-600 font-bold mt-4 mb-2">\u2705 VERIFICACI\xD3N ENERG\xCDA CERO</h3>
          [C\xF3mo verificar que es seguro trabajar]
        </div>

        Resalta ADVERTENCIAS DE SEGURIDAD en negritas.
      `;return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:r})).text||"Error generando LOTO."}catch{return"<p>No disponible.</p>"}}async analyzeImageInspection(e){try{let r=await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:[{inlineData:{mimeType:"image/jpeg",data:e}},{text:`
        Analiza esta imagen capturada por un operador en planta industrial. Act\xFAa como Inspector de Mantenimiento Certificado.

        IDENTIFICA CON PRECISI\xD3N:
        1. Componente afectado
        2. Tipo de da\xF1o visible
        3. Nivel de severidad (BAJA, MEDIA, ALTA, CR\xCDTICA)
        4. Posible causa ra\xEDz
        5. Refacciones estimadas

        FORMATO DE RESPUESTA:
        Responde \xDANICAMENTE con un objeto JSON v\xE1lido siguiendo esta estructura exacta:
        {
          "inspection": {
            "timestamp": "ISO string",
            "asset": { "component_affected": "String", "visual_condition": "String" },
            "damage_analysis": { "damage_type": "String", "visible_signs": ["String"], "affected_area_percentage": "String" },
            "severity": { "level": "String", "risk_score": "String", "safety_impact": "String", "operational_impact": "String" },
            "root_cause_analysis": { "probable_cause": "String", "why_analysis": "String" },
            "immediate_actions": { "safety_measures": ["String"] },
            "repair_plan": {
              "estimated_parts": [{ "part_name": "String", "generic_code": "String", "quantity": "String" }],
              "estimated_mttr_hours": "String",
              "estimated_cost_usd": { "min": number, "max": number }
            }
          }
        }
      `}],config:{responseMimeType:"application/json"}});return r.text?JSON.parse(r.text):null}catch(n){return console.error("Vision Error:",n),null}}async generateDailySummary(e,n,r){return this.generateExecutiveReport({availability:e.percentage,mttr:4.5,totalCostMonth:12500,budgetMonth:15e3},n,e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Ur({token:t,factory:t.\u0275fac,providedIn:"root"})}};var ul=Uint8Array,Qo=Uint16Array,ZD=Int32Array,JD=new ul([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),QD=new ul([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ZV=new ul([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tU=function(t,e){for(var n=new Qo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ZD(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},nU=tU(JD,2),p1e=nU.b,YD=nU.r;p1e[28]=258,YD[258]=28;var rU=tU(QD,0),f8e=rU.b,JV=rU.r,XD=new Qo(32768);for(yr=0;yr<32768;++yr)Zu=(yr&43690)>>1|(yr&21845)<<1,Zu=(Zu&52428)>>2|(Zu&13107)<<2,Zu=(Zu&61680)>>4|(Zu&3855)<<4,XD[yr]=((Zu&65280)>>8|(Zu&255)<<8)>>1;var Zu,yr,Dv=function(t,e,n){for(var r=t.length,i=0,s=new Qo(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Qo(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Qo(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],d=o[t[i]-1]++<<c,f=d|(1<<c)-1;d<=f;++d)a[XD[d]>>l]=u}else for(a=new Qo(r),i=0;i<r;++i)t[i]&&(a[i]=XD[o[t[i]-1]++]>>15-t[i]);return a},fh=new ul(288);for(yr=0;yr<144;++yr)fh[yr]=8;var yr;for(yr=144;yr<256;++yr)fh[yr]=9;var yr;for(yr=256;yr<280;++yr)fh[yr]=7;var yr;for(yr=280;yr<288;++yr)fh[yr]=8;var yr,zx=new ul(32);for(yr=0;yr<32;++yr)zx[yr]=5;var yr,m1e=Dv(fh,9,0);var g1e=Dv(zx,5,0);var iU=function(t){return(t+7)/8|0},v1e=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new ul(t.subarray(e,n))};var Ju=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Tv=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},GD=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:oU,l:0};if(i==1){var o=new ul(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function($,O){return $.f-O.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var f=s[0].s,r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var h=new Qo(f+1),p=KD(n[c-1],h,0);if(p>e){var r=0,m=0,g=p-e,y=1<<g;for(s.sort(function(O,U){return h[U.s]-h[O.s]||O.f-U.f});r<i;++r){var x=s[r].s;if(h[x]>e)m+=y-(1<<p-h[x]),h[x]=e;else break}for(m>>=g;m>0;){var T=s[r].s;h[T]<e?m-=1<<e-h[T]++-1:++r}for(;r>=0&&m;--r){var R=s[r].s;h[R]==e&&(--h[R],++m)}p=e}return{t:new ul(h),l:p}},KD=function(t,e,n){return t.s==-1?Math.max(KD(t.l,e,n+1),KD(t.r,e,n+1)):e[t.s]=n},QV=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Qo(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Iv=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},sU=function(t,e,n){var r=n.length,i=iU(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},eU=function(t,e,n,r,i,s,o,a,l,u,c){Ju(e,c++,n),++i[256];for(var d=GD(i,15),f=d.t,h=d.l,p=GD(s,15),m=p.t,g=p.l,y=QV(f),x=y.c,T=y.n,R=QV(m),$=R.c,O=R.n,U=new Qo(19),j=0;j<x.length;++j)++U[x[j]&31];for(var j=0;j<$.length;++j)++U[$[j]&31];for(var q=GD(U,7),H=q.t,E=q.l,C=19;C>4&&!H[ZV[C-1]];--C);var L=u+5<<3,v=Iv(i,fh)+Iv(s,zx)+o,b=Iv(i,f)+Iv(s,m)+o+14+3*C+Iv(U,H)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&L<=v&&L<=b)return sU(e,c,t.subarray(l,l+u));var _,w,S,I;if(Ju(e,c,1+(b<v)),c+=2,b<v){_=Dv(f,h,0),w=f,S=Dv(m,g,0),I=m;var F=Dv(H,E,0);Ju(e,c,T-257),Ju(e,c+5,O-1),Ju(e,c+10,C-4),c+=14;for(var j=0;j<C;++j)Ju(e,c+3*j,H[ZV[j]]);c+=3*C;for(var W=[x,$],B=0;B<2;++B)for(var X=W[B],j=0;j<X.length;++j){var M=X[j]&31;Ju(e,c,F[M]),c+=H[M],M>15&&(Ju(e,c,X[j]>>5&127),c+=X[j]>>12)}}else _=m1e,w=fh,S=g1e,I=zx;for(var j=0;j<a;++j){var Y=r[j];if(Y>255){var M=Y>>18&31;Tv(e,c,_[M+257]),c+=w[M+257],M>7&&(Ju(e,c,Y>>23&31),c+=JD[M]);var k=Y&31;Tv(e,c,S[k]),c+=I[k],k>3&&(Tv(e,c,Y>>5&8191),c+=QD[k])}else Tv(e,c,_[Y]),c+=w[Y]}return Tv(e,c,_[256]),c+w[256]},y1e=new ZD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oU=new ul(0),b1e=function(t,e,n,r,i,s){var o=s.z||t.length,a=new ul(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var d=y1e[e-1],f=d>>13,h=d&8191,p=(1<<n)-1,m=s.p||new Qo(32768),g=s.h||new Qo(p+1),y=Math.ceil(n/3),x=2*y,T=function(ye){return(t[ye]^t[ye+1]<<y^t[ye+2]<<x)&p},R=new ZD(25e3),$=new Qo(288),O=new Qo(32),U=0,j=0,q=s.i||0,H=0,E=s.w||0,C=0;q+2<o;++q){var L=T(q),v=q&32767,b=g[L];if(m[v]=b,g[L]=v,E<=q){var _=o-q;if((U>7e3||H>24576)&&(_>423||!u)){c=eU(t,l,0,R,$,O,j,H,C,q-C,c),H=U=j=0,C=q;for(var w=0;w<286;++w)$[w]=0;for(var w=0;w<30;++w)O[w]=0}var S=2,I=0,F=h,W=v-b&32767;if(_>2&&L==T(q-W))for(var B=Math.min(f,_)-1,X=Math.min(32767,q),M=Math.min(258,_);W<=X&&--F&&v!=b;){if(t[q+S]==t[q+S-W]){for(var Y=0;Y<M&&t[q+Y]==t[q+Y-W];++Y);if(Y>S){if(S=Y,I=W,Y>B)break;for(var k=Math.min(W,Y-2),D=0,w=0;w<k;++w){var z=q-W+w&32767,J=m[z],ne=z-J&32767;ne>D&&(D=ne,b=z)}}}v=b,b=m[v],W+=v-b&32767}if(I){R[H++]=268435456|YD[S]<<18|JV[I];var te=YD[S]&31,se=JV[I]&31;j+=JD[te]+QD[se],++$[257+te],++O[se],E=q+S,++U}else R[H++]=t[q],++$[t[q]]}}for(q=Math.max(q,E);q<o;++q)R[H++]=t[q],++$[t[q]];c=eU(t,l,u,R,$,O,j,H,C,q-C,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=g,s.p=m,s.i=q,s.w=E)}else{for(var q=s.w||0;q<o+u;q+=65535){var ve=q+65535;ve>=o&&(l[c/8|0]=u,ve=o),c=sU(l,c+1,t.subarray(q,ve))}s.i=o}return v1e(a,0,r+iU(c)+i)};var aU=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},w1e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ul(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return b1e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)};var lU=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};var _1e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=aU();i.p(e.dictionary),lU(t,2,i.d())}};function Wx(t,e){e||(e={});var n=aU();n.p(t);var r=w1e(t,e,e.dictionary?6:2,4);return _1e(r,e),lU(r,r.length-4,n.d()),r}var x1e=typeof TextDecoder<"u"&&new TextDecoder,E1e=0;try{x1e.decode(oU,{stream:!0}),E1e=1}catch{}function uU(t){if(Array.isArray(t))return t}function cU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function e6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dU(t,e){if(t){if(typeof t=="string")return e6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e6(t,e):void 0}}function fU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t6(t,e){return uU(t)||cU(t,e)||dU(t,e)||fU()}function n6(t,e="utf8"){return new TextDecoder(e).decode(t)}var S1e=new TextEncoder;function hU(t){return S1e.encode(t)}var C1e=1024*8,A1e=(()=>{let t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),r6={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},kv=class t{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=C1e,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);let i=n.offset?n.offset>>>0:0,s=e.byteLength-i,o=i;(ArrayBuffer.isView(e)||e instanceof t)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){let r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){let r=r6[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===A1e&&n!=="uint8"&&n!=="int8"){let a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();let l=new r6[n](a.buffer);return this.offset+=r,l.reverse(),l}let o=new r6[n](s);return this.offset+=r,o}readInt16(){let e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){let e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){let e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){let e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){let e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){let e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){let e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){let e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return n6(this.readBytes(e))}decodeText(e=1,n="utf8"){return n6(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(hU(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function Fm(t){let e=t.length;for(;--e>=0;)t[e]=0}var T1e=0,JU=1,I1e=2,D1e=3,k1e=258,T6=29,zv=256,Ov=zv+1+T6,Rm=30,I6=19,QU=2*Ov+1,hh=15,i6=16,N1e=7,D6=256,ej=16,tj=17,nj=18,y6=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Jx=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),M1e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),rj=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),R1e=512,ec=new Array((Ov+2)*2);Fm(ec);var Pv=new Array(Rm*2);Fm(Pv);var Bv=new Array(R1e);Fm(Bv);var Vv=new Array(k1e-D1e+1);Fm(Vv);var k6=new Array(T6);Fm(k6);var Qx=new Array(Rm);Fm(Qx);function s6(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}var ij,sj,oj;function o6(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}var aj=t=>t<256?Bv[t]:Bv[256+(t>>>7)],Uv=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Co=(t,e,n)=>{t.bi_valid>i6-n?(t.bi_buf|=e<<t.bi_valid&65535,Uv(t,t.bi_buf),t.bi_buf=e>>i6-t.bi_valid,t.bi_valid+=n-i6):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},eu=(t,e,n)=>{Co(t,n[e*2],n[e*2+1])},lj=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},P1e=t=>{t.bi_valid===16?(Uv(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},L1e=(t,e)=>{let n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length,u,c,d,f,h,p,m=0;for(f=0;f<=hh;f++)t.bl_count[f]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<QU;u++)c=t.heap[u],f=n[n[c*2+1]*2+1]+1,f>l&&(f=l,m++),n[c*2+1]=f,!(c>r)&&(t.bl_count[f]++,h=0,c>=a&&(h=o[c-a]),p=n[c*2],t.opt_len+=p*(f+h),s&&(t.static_len+=p*(i[c*2+1]+h)));if(m!==0){do{for(f=l-1;t.bl_count[f]===0;)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(f=l;f!==0;f--)for(c=t.bl_count[f];c!==0;)d=t.heap[--u],!(d>r)&&(n[d*2+1]!==f&&(t.opt_len+=(f-n[d*2+1])*n[d*2],n[d*2+1]=f),c--)}},uj=(t,e,n)=>{let r=new Array(hh+1),i=0,s,o;for(s=1;s<=hh;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=lj(r[a]++,a))}},F1e=()=>{let t,e,n,r,i,s=new Array(hh+1);for(n=0,r=0;r<T6-1;r++)for(k6[r]=n,t=0;t<1<<y6[r];t++)Vv[n++]=r;for(Vv[n-1]=r,i=0,r=0;r<16;r++)for(Qx[r]=i,t=0;t<1<<Jx[r];t++)Bv[i++]=r;for(i>>=7;r<Rm;r++)for(Qx[r]=i<<7,t=0;t<1<<Jx[r]-7;t++)Bv[256+i++]=r;for(e=0;e<=hh;e++)s[e]=0;for(t=0;t<=143;)ec[t*2+1]=8,t++,s[8]++;for(;t<=255;)ec[t*2+1]=9,t++,s[9]++;for(;t<=279;)ec[t*2+1]=7,t++,s[7]++;for(;t<=287;)ec[t*2+1]=8,t++,s[8]++;for(uj(ec,Ov+1,s),t=0;t<Rm;t++)Pv[t*2+1]=5,Pv[t*2]=lj(t,5);ij=new s6(ec,y6,zv+1,Ov,hh),sj=new s6(Pv,Jx,0,Rm,hh),oj=new s6(new Array(0),M1e,0,I6,N1e)},cj=t=>{let e;for(e=0;e<Ov;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Rm;e++)t.dyn_dtree[e*2]=0;for(e=0;e<I6;e++)t.bl_tree[e*2]=0;t.dyn_ltree[D6*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},dj=t=>{t.bi_valid>8?Uv(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},pU=(t,e,n,r)=>{let i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},a6=(t,e,n)=>{let r=t.heap[n],i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&pU(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!pU(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},mU=(t,e,n)=>{let r,i,s=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+s++]&255,r+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],r===0?eu(t,i,e):(o=Vv[i],eu(t,o+zv+1,e),a=y6[o],a!==0&&(i-=k6[o],Co(t,i,a)),r--,o=aj(r),eu(t,o,n),a=Jx[o],a!==0&&(r-=Qx[o],Co(t,r,a)));while(s<t.sym_next);eu(t,D6,e)},b6=(t,e)=>{let n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems,o,a,l=-1,u;for(t.heap_len=0,t.heap_max=QU,o=0;o<s;o++)n[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[u*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)a6(t,n,o);u=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],a6(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[u*2]=n[o*2]+n[a*2],t.depth[u]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=u,t.heap[1]=u++,a6(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],L1e(t,e),uj(n,l,t.bl_count)},gU=(t,e,n)=>{let r,i=-1,s,o=e[1],a=0,l=7,u=4;for(o===0&&(l=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)&&(a<u?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[ej*2]++):a<=10?t.bl_tree[tj*2]++:t.bl_tree[nj*2]++,a=0,i=s,o===0?(l=138,u=3):s===o?(l=6,u=3):(l=7,u=4))},vU=(t,e,n)=>{let r,i=-1,s,o=e[1],a=0,l=7,u=4;for(o===0&&(l=138,u=3),r=0;r<=n;r++)if(s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)){if(a<u)do eu(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(eu(t,s,t.bl_tree),a--),eu(t,ej,t.bl_tree),Co(t,a-3,2)):a<=10?(eu(t,tj,t.bl_tree),Co(t,a-3,3)):(eu(t,nj,t.bl_tree),Co(t,a-11,7));a=0,i=s,o===0?(l=138,u=3):s===o?(l=6,u=3):(l=7,u=4)}},O1e=t=>{let e;for(gU(t,t.dyn_ltree,t.l_desc.max_code),gU(t,t.dyn_dtree,t.d_desc.max_code),b6(t,t.bl_desc),e=I6-1;e>=3&&t.bl_tree[rj[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},B1e=(t,e,n,r)=>{let i;for(Co(t,e-257,5),Co(t,n-1,5),Co(t,r-4,4),i=0;i<r;i++)Co(t,t.bl_tree[rj[i]*2+1],3);vU(t,t.dyn_ltree,e-1),vU(t,t.dyn_dtree,n-1)},V1e=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return 0;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return 1;for(n=32;n<zv;n++)if(t.dyn_ltree[n*2]!==0)return 1;return 0},yU=!1,U1e=t=>{yU||(F1e(),yU=!0),t.l_desc=new o6(t.dyn_ltree,ij),t.d_desc=new o6(t.dyn_dtree,sj),t.bl_desc=new o6(t.bl_tree,oj),t.bi_buf=0,t.bi_valid=0,cj(t)},fj=(t,e,n,r)=>{Co(t,(T1e<<1)+(r?1:0),3),dj(t),Uv(t,n),Uv(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},j1e=t=>{Co(t,JU<<1,3),eu(t,D6,ec),P1e(t)},H1e=(t,e,n,r)=>{let i,s,o=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=V1e(t)),b6(t,t.l_desc),b6(t,t.d_desc),o=O1e(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?fj(t,e,n,r):t.strategy===4||s===i?(Co(t,(JU<<1)+(r?1:0),3),mU(t,ec,Pv)):(Co(t,(I1e<<1)+(r?1:0),3),B1e(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),mU(t,t.dyn_ltree,t.dyn_dtree)),cj(t),r&&dj(t)},$1e=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Vv[n]+zv+1)*2]++,t.dyn_dtree[aj(e)*2]++),t.sym_next===t.sym_end),q1e=U1e,z1e=fj,W1e=H1e,G1e=$1e,Y1e=j1e,X1e={_tr_init:q1e,_tr_stored_block:z1e,_tr_flush_block:W1e,_tr_tally:G1e,_tr_align:Y1e},K1e=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0},jv=K1e,Z1e=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},J1e=new Uint32Array(Z1e()),Q1e=(t,e,n,r)=>{let i=J1e,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1},Ji=Q1e,gh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Om={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:eve,_tr_stored_block:w6,_tr_flush_block:tve,_tr_tally:wd,_tr_align:nve}=X1e,{Z_NO_FLUSH:_d,Z_PARTIAL_FLUSH:rve,Z_FULL_FLUSH:ive,Z_FINISH:Da,Z_BLOCK:bU,Z_OK:ys,Z_STREAM_END:wU,Z_STREAM_ERROR:tu,Z_DATA_ERROR:sve,Z_BUF_ERROR:l6,Z_DEFAULT_COMPRESSION:ove,Z_FILTERED:ave,Z_HUFFMAN_ONLY:Gx,Z_RLE:lve,Z_FIXED:uve,Z_DEFAULT_STRATEGY:cve,Z_UNKNOWN:dve,Z_DEFLATED:nE}=Om,fve=9,hve=15,pve=8,mve=29,gve=256,_6=gve+1+mve,vve=30,yve=19,bve=2*_6+1,wve=15,rr=3,bd=258,nu=bd+rr+1,_ve=32,Pm=42,N6=57,x6=69,E6=73,S6=91,C6=103,ph=113,Mv=666,oo=1,Bm=2,vh=3,Vm=4,xve=3,mh=(t,e)=>(t.msg=gh[e],e),_U=t=>t*2-(t>4?9:0),yd=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Eve=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)},Sve=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,xd=Sve,ea=t=>{let e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},ta=(t,e)=>{tve(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ea(t.strm)},br=(t,e)=>{t.pending_buf[t.pending++]=e},Nv=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},A6=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=jv(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Ji(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},hj=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,o=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-nu?t.strstart-(t.w_size-nu):0,u=t.window,c=t.w_mask,d=t.prev,f=t.strstart+bd,h=u[r+o-1],p=u[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(u[i+o]!==p||u[i+o-1]!==h||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<f);if(s=bd-(f-r),r=f-bd,s>o){if(t.match_start=e,o=s,s>=a)break;h=u[r+o-1],p=u[r+o]}}while((e=d[e&c])>l&&--n!==0);return o<=t.lookahead?o:t.lookahead},Lm=t=>{let e=t.w_size,n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-nu)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Eve(t),r+=e),t.strm.avail_in===0)break;if(n=A6(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=rr)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=xd(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=xd(t,t.ins_h,t.window[i+rr-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<rr)););}while(t.lookahead<nu&&t.strm.avail_in!==0)},pj=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,s,o=0,a=t.strm.avail_in;do{if(r=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&e!==Da||e===_d||r!==i+t.strm.avail_in)))break;o=e===Da&&r===i+t.strm.avail_in?1:0,w6(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,ea(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(A6(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?Vm:e!==_d&&e!==Da&&t.strm.avail_in===0&&t.strstart===t.block_start?Bm:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(A6(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,n=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=n||(i||e===Da)&&e!==_d&&t.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===Da&&t.strm.avail_in===0&&r===i?1:0,w6(t,t.block_start,r,o),t.block_start+=r,ea(t.strm)),o?vh:oo)},u6=(t,e)=>{let n,r;for(;;){if(t.lookahead<nu){if(Lm(t),t.lookahead<nu&&e===_d)return oo;if(t.lookahead===0)break}if(n=0,t.lookahead>=rr&&(t.ins_h=xd(t,t.ins_h,t.window[t.strstart+rr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-nu&&(t.match_length=hj(t,n)),t.match_length>=rr)if(r=wd(t,t.strstart-t.match_start,t.match_length-rr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=rr){t.match_length--;do t.strstart++,t.ins_h=xd(t,t.ins_h,t.window[t.strstart+rr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=xd(t,t.ins_h,t.window[t.strstart+1]);else r=wd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(ta(t,!1),t.strm.avail_out===0))return oo}return t.insert=t.strstart<rr-1?t.strstart:rr-1,e===Da?(ta(t,!0),t.strm.avail_out===0?vh:Vm):t.sym_next&&(ta(t,!1),t.strm.avail_out===0)?oo:Bm},Nm=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<nu){if(Lm(t),t.lookahead<nu&&e===_d)return oo;if(t.lookahead===0)break}if(n=0,t.lookahead>=rr&&(t.ins_h=xd(t,t.ins_h,t.window[t.strstart+rr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=rr-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-nu&&(t.match_length=hj(t,n),t.match_length<=5&&(t.strategy===ave||t.match_length===rr&&t.strstart-t.match_start>4096)&&(t.match_length=rr-1)),t.prev_length>=rr&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-rr,r=wd(t,t.strstart-1-t.prev_match,t.prev_length-rr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=xd(t,t.ins_h,t.window[t.strstart+rr-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=rr-1,t.strstart++,r&&(ta(t,!1),t.strm.avail_out===0))return oo}else if(t.match_available){if(r=wd(t,0,t.window[t.strstart-1]),r&&ta(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return oo}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=wd(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<rr-1?t.strstart:rr-1,e===Da?(ta(t,!0),t.strm.avail_out===0?vh:Vm):t.sym_next&&(ta(t,!1),t.strm.avail_out===0)?oo:Bm},Cve=(t,e)=>{let n,r,i,s,o=t.window;for(;;){if(t.lookahead<=bd){if(Lm(t),t.lookahead<=bd&&e===_d)return oo;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=rr&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+bd;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=bd-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=rr?(n=wd(t,1,t.match_length-rr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=wd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(ta(t,!1),t.strm.avail_out===0))return oo}return t.insert=0,e===Da?(ta(t,!0),t.strm.avail_out===0?vh:Vm):t.sym_next&&(ta(t,!1),t.strm.avail_out===0)?oo:Bm},Ave=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(Lm(t),t.lookahead===0)){if(e===_d)return oo;break}if(t.match_length=0,n=wd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(ta(t,!1),t.strm.avail_out===0))return oo}return t.insert=0,e===Da?(ta(t,!0),t.strm.avail_out===0?vh:Vm):t.sym_next&&(ta(t,!1),t.strm.avail_out===0)?oo:Bm};function Ql(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var Rv=[new Ql(0,0,0,0,pj),new Ql(4,4,8,4,u6),new Ql(4,5,16,8,u6),new Ql(4,6,32,32,u6),new Ql(4,4,16,16,Nm),new Ql(8,16,32,32,Nm),new Ql(8,16,128,128,Nm),new Ql(8,32,128,256,Nm),new Ql(32,128,258,1024,Nm),new Ql(32,258,258,4096,Nm)],Tve=t=>{t.window_size=2*t.w_size,yd(t.head),t.max_lazy_match=Rv[t.level].max_lazy,t.good_match=Rv[t.level].good_length,t.nice_match=Rv[t.level].nice_length,t.max_chain_length=Rv[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=rr-1,t.match_available=0,t.ins_h=0};function Ive(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=nE,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(bve*2),this.dyn_dtree=new Uint16Array((2*vve+1)*2),this.bl_tree=new Uint16Array((2*yve+1)*2),yd(this.dyn_ltree),yd(this.dyn_dtree),yd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(wve+1),this.heap=new Uint16Array(2*_6+1),yd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*_6+1),yd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Wv=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.status!==Pm&&e.status!==N6&&e.status!==x6&&e.status!==E6&&e.status!==S6&&e.status!==C6&&e.status!==ph&&e.status!==Mv?1:0},mj=t=>{if(Wv(t))return mh(t,tu);t.total_in=t.total_out=0,t.data_type=dve;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?N6:e.wrap?Pm:ph,t.adler=e.wrap===2?0:1,e.last_flush=-2,eve(e),ys},gj=t=>{let e=mj(t);return e===ys&&Tve(t.state),e},Dve=(t,e)=>Wv(t)||t.state.wrap!==2?tu:(t.state.gzhead=e,ys),vj=(t,e,n,r,i,s)=>{if(!t)return tu;let o=1;if(e===ove&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>fve||n!==nE||r<8||r>15||e<0||e>9||s<0||s>uve||r===8&&o!==1)return mh(t,tu);r===8&&(r=9);let a=new Ive;return t.state=a,a.strm=t,a.status=Pm,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+rr-1)/rr),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=n,gj(t)},kve=(t,e)=>vj(t,e,nE,hve,pve,cve),Nve=(t,e)=>{if(Wv(t)||e>bU||e<0)return t?mh(t,tu):tu;let n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Mv&&e!==Da)return mh(t,t.avail_out===0?l6:tu);let r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(ea(t),t.avail_out===0)return n.last_flush=-1,ys}else if(t.avail_in===0&&_U(e)<=_U(r)&&e!==Da)return mh(t,l6);if(n.status===Mv&&t.avail_in!==0)return mh(t,l6);if(n.status===Pm&&n.wrap===0&&(n.status=ph),n.status===Pm){let i=nE+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=Gx||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=_ve),i+=31-i%31,Nv(n,i),n.strstart!==0&&(Nv(n,t.adler>>>16),Nv(n,t.adler&65535)),t.adler=1,n.status=ph,ea(t),n.pending!==0)return n.last_flush=-1,ys}if(n.status===N6){if(t.adler=0,br(n,31),br(n,139),br(n,8),n.gzhead)br(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),br(n,n.gzhead.time&255),br(n,n.gzhead.time>>8&255),br(n,n.gzhead.time>>16&255),br(n,n.gzhead.time>>24&255),br(n,n.level===9?2:n.strategy>=Gx||n.level<2?4:0),br(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(br(n,n.gzhead.extra.length&255),br(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Ji(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=x6;else if(br(n,0),br(n,0),br(n,0),br(n,0),br(n,0),br(n,n.level===9?2:n.strategy>=Gx||n.level<2?4:0),br(n,xve),n.status=ph,ea(t),n.pending!==0)return n.last_flush=-1,ys}if(n.status===x6){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,ea(t),n.pending!==0)return n.last_flush=-1,ys;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=E6}if(n.status===E6){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-i,i)),ea(t),n.pending!==0)return n.last_flush=-1,ys;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,br(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=S6}if(n.status===S6){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-i,i)),ea(t),n.pending!==0)return n.last_flush=-1,ys;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,br(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Ji(t.adler,n.pending_buf,n.pending-i,i))}n.status=C6}if(n.status===C6){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ea(t),n.pending!==0))return n.last_flush=-1,ys;br(n,t.adler&255),br(n,t.adler>>8&255),t.adler=0}if(n.status=ph,ea(t),n.pending!==0)return n.last_flush=-1,ys}if(t.avail_in!==0||n.lookahead!==0||e!==_d&&n.status!==Mv){let i=n.level===0?pj(n,e):n.strategy===Gx?Ave(n,e):n.strategy===lve?Cve(n,e):Rv[n.level].func(n,e);if((i===vh||i===Vm)&&(n.status=Mv),i===oo||i===vh)return t.avail_out===0&&(n.last_flush=-1),ys;if(i===Bm&&(e===rve?nve(n):e!==bU&&(w6(n,0,0,!1),e===ive&&(yd(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ea(t),t.avail_out===0))return n.last_flush=-1,ys}return e!==Da?ys:n.wrap<=0?wU:(n.wrap===2?(br(n,t.adler&255),br(n,t.adler>>8&255),br(n,t.adler>>16&255),br(n,t.adler>>24&255),br(n,t.total_in&255),br(n,t.total_in>>8&255),br(n,t.total_in>>16&255),br(n,t.total_in>>24&255)):(Nv(n,t.adler>>>16),Nv(n,t.adler&65535)),ea(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?ys:wU)},Mve=t=>{if(Wv(t))return tu;let e=t.state.status;return t.state=null,e===ph?mh(t,sve):ys},Rve=(t,e)=>{let n=e.length;if(Wv(t))return tu;let r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==Pm||r.lookahead)return tu;if(i===1&&(t.adler=jv(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(yd(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}let s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Lm(r);r.lookahead>=rr;){let l=r.strstart,u=r.lookahead-(rr-1);do r.ins_h=xd(r,r.ins_h,r.window[l+rr-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--u);r.strstart=l,r.lookahead=rr-1,Lm(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=rr-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,r.wrap=i,ys},Pve=kve,Lve=vj,Fve=gj,Ove=mj,Bve=Dve,Vve=Nve,Uve=Mve,jve=Rve,Hve="pako deflate (from Nodeca project)",Lv={deflateInit:Pve,deflateInit2:Lve,deflateReset:Fve,deflateResetKeep:Ove,deflateSetHeader:Bve,deflate:Vve,deflateEnd:Uve,deflateSetDictionary:jve,deflateInfo:Hve},$ve=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),qve=function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(let r in n)$ve(n,r)&&(t[r]=n[r])}}return t},zve=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;let n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},rE={assign:qve,flattenChunks:zve},yj=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yj=!1}var Hv=new Uint8Array(256);for(let t=0;t<256;t++)Hv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Hv[254]=Hv[254]=1;var Wve=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e},Gve=(t,e)=>{if(e<65534&&t.subarray&&yj)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n},Yve=(t,e)=>{let n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i,s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=Hv[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return Gve(s,i)},Xve=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Hv[t[n]]>e?n:e},$v={string2buf:Wve,buf2string:Yve,utf8border:Xve};function Kve(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var bj=Kve,wj=Object.prototype.toString,{Z_NO_FLUSH:Zve,Z_SYNC_FLUSH:Jve,Z_FULL_FLUSH:Qve,Z_FINISH:eye,Z_OK:eE,Z_STREAM_END:tye,Z_DEFAULT_COMPRESSION:nye,Z_DEFAULT_STRATEGY:rye,Z_DEFLATED:iye}=Om;function Gv(t){this.options=rE.assign({level:nye,method:iye,chunkSize:16384,windowBits:15,memLevel:8,strategy:rye},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bj,this.strm.avail_out=0;let n=Lv.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==eE)throw new Error(gh[n]);if(e.header&&Lv.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=$v.string2buf(e.dictionary):wj.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=Lv.deflateSetDictionary(this.strm,r),n!==eE)throw new Error(gh[n]);this._dict_set=!0}}Gv.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?eye:Zve,typeof t=="string"?n.input=$v.string2buf(t):wj.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===Jve||s===Qve)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Lv.deflate(n,s),i===tye)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Lv.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===eE;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Gv.prototype.onData=function(t){this.chunks.push(t)};Gv.prototype.onEnd=function(t){t===eE&&(this.result=rE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function M6(t,e){let n=new Gv(e);if(n.push(t,!0),n.err)throw n.msg||gh[n.err];return n.result}function sye(t,e){return e=e||{},e.raw=!0,M6(t,e)}function oye(t,e){return e=e||{},e.gzip=!0,M6(t,e)}var aye=Gv,lye=M6,uye=sye,cye=oye,dye=Om,fye={Deflate:aye,deflate:lye,deflateRaw:uye,gzip:cye,constants:dye},Yx=16209,hye=16191,pye=function(e,n){let r,i,s,o,a,l,u,c,d,f,h,p,m,g,y,x,T,R,$,O,U,j,q,H,E=e.state;r=e.next_in,q=e.input,i=r+(e.avail_in-5),s=e.next_out,H=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=E.dmax,u=E.wsize,c=E.whave,d=E.wnext,f=E.window,h=E.hold,p=E.bits,m=E.lencode,g=E.distcode,y=(1<<E.lenbits)-1,x=(1<<E.distbits)-1;e:do{p<15&&(h+=q[r++]<<p,p+=8,h+=q[r++]<<p,p+=8),T=m[h&y];t:for(;;){if(R=T>>>24,h>>>=R,p-=R,R=T>>>16&255,R===0)H[s++]=T&65535;else if(R&16){$=T&65535,R&=15,R&&(p<R&&(h+=q[r++]<<p,p+=8),$+=h&(1<<R)-1,h>>>=R,p-=R),p<15&&(h+=q[r++]<<p,p+=8,h+=q[r++]<<p,p+=8),T=g[h&x];n:for(;;){if(R=T>>>24,h>>>=R,p-=R,R=T>>>16&255,R&16){if(O=T&65535,R&=15,p<R&&(h+=q[r++]<<p,p+=8,p<R&&(h+=q[r++]<<p,p+=8)),O+=h&(1<<R)-1,O>l){e.msg="invalid distance too far back",E.mode=Yx;break e}if(h>>>=R,p-=R,R=s-o,O>R){if(R=O-R,R>c&&E.sane){e.msg="invalid distance too far back",E.mode=Yx;break e}if(U=0,j=f,d===0){if(U+=u-R,R<$){$-=R;do H[s++]=f[U++];while(--R);U=s-O,j=H}}else if(d<R){if(U+=u+d-R,R-=d,R<$){$-=R;do H[s++]=f[U++];while(--R);if(U=0,d<$){R=d,$-=R;do H[s++]=f[U++];while(--R);U=s-O,j=H}}}else if(U+=d-R,R<$){$-=R;do H[s++]=f[U++];while(--R);U=s-O,j=H}for(;$>2;)H[s++]=j[U++],H[s++]=j[U++],H[s++]=j[U++],$-=3;$&&(H[s++]=j[U++],$>1&&(H[s++]=j[U++]))}else{U=s-O;do H[s++]=H[U++],H[s++]=H[U++],H[s++]=H[U++],$-=3;while($>2);$&&(H[s++]=H[U++],$>1&&(H[s++]=H[U++]))}}else if((R&64)===0){T=g[(T&65535)+(h&(1<<R)-1)];continue n}else{e.msg="invalid distance code",E.mode=Yx;break e}break}}else if((R&64)===0){T=m[(T&65535)+(h&(1<<R)-1)];continue t}else if(R&32){E.mode=hye;break e}else{e.msg="invalid literal/length code",E.mode=Yx;break e}break}}while(r<i&&s<a);$=p>>3,r-=$,p-=$<<3,h&=(1<<p)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),E.hold=h,E.bits=p},Mm=15,xU=852,EU=592,SU=0,c6=1,CU=2,mye=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gye=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vye=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yye=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),bye=(t,e,n,r,i,s,o,a)=>{let l=a.bits,u=0,c=0,d=0,f=0,h=0,p=0,m=0,g=0,y=0,x=0,T,R,$,O,U,j=null,q,H=new Uint16Array(Mm+1),E=new Uint16Array(Mm+1),C=null,L,v,b;for(u=0;u<=Mm;u++)H[u]=0;for(c=0;c<r;c++)H[e[n+c]]++;for(h=l,f=Mm;f>=1&&H[f]===0;f--);if(h>f&&(h=f),f===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<f&&H[d]===0;d++);for(h<d&&(h=d),g=1,u=1;u<=Mm;u++)if(g<<=1,g-=H[u],g<0)return-1;if(g>0&&(t===SU||f!==1))return-1;for(E[1]=0,u=1;u<Mm;u++)E[u+1]=E[u]+H[u];for(c=0;c<r;c++)e[n+c]!==0&&(o[E[e[n+c]]++]=c);if(t===SU?(j=C=o,q=20):t===c6?(j=mye,C=gye,q=257):(j=vye,C=yye,q=0),x=0,c=0,u=d,U=s,p=h,m=0,$=-1,y=1<<h,O=y-1,t===c6&&y>xU||t===CU&&y>EU)return 1;for(;;){L=u-m,o[c]+1<q?(v=0,b=o[c]):o[c]>=q?(v=C[o[c]-q],b=j[o[c]-q]):(v=96,b=0),T=1<<u-m,R=1<<p,d=R;do R-=T,i[U+(x>>m)+R]=L<<24|v<<16|b|0;while(R!==0);for(T=1<<u-1;x&T;)T>>=1;if(T!==0?(x&=T-1,x+=T):x=0,c++,--H[u]===0){if(u===f)break;u=e[n+o[c]]}if(u>h&&(x&O)!==$){for(m===0&&(m=h),U+=d,p=u-m,g=1<<p;p+m<f&&(g-=H[p+m],!(g<=0));)p++,g<<=1;if(y+=1<<p,t===c6&&y>xU||t===CU&&y>EU)return 1;$=x&O,i[$]=h<<24|p<<16|U-s|0}}return x!==0&&(i[U+x]=u-m<<24|64<<16|0),a.bits=h,0},Fv=bye,wye=0,_j=1,xj=2,{Z_FINISH:AU,Z_BLOCK:_ye,Z_TREES:Xx,Z_OK:yh,Z_STREAM_END:xye,Z_NEED_DICT:Eye,Z_STREAM_ERROR:ka,Z_DATA_ERROR:Ej,Z_MEM_ERROR:Sj,Z_BUF_ERROR:Sye,Z_DEFLATED:TU}=Om,iE=16180,IU=16181,DU=16182,kU=16183,NU=16184,MU=16185,RU=16186,PU=16187,LU=16188,FU=16189,tE=16190,Qu=16191,d6=16192,OU=16193,f6=16194,BU=16195,VU=16196,UU=16197,jU=16198,Kx=16199,Zx=16200,HU=16201,$U=16202,qU=16203,zU=16204,WU=16205,h6=16206,GU=16207,YU=16208,ti=16209,Cj=16210,Aj=16211,Cye=852,Aye=592,Tye=15,Iye=Tye,XU=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Dye(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var bh=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.mode<iE||e.mode>Aj?1:0},Tj=t=>{if(bh(t))return ka;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=iE,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Cye),e.distcode=e.distdyn=new Int32Array(Aye),e.sane=1,e.back=-1,yh},Ij=t=>{if(bh(t))return ka;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Tj(t)},Dj=(t,e)=>{let n;if(bh(t))return ka;let r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ka:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Ij(t))},kj=(t,e)=>{if(!t)return ka;let n=new Dye;t.state=n,n.strm=t,n.window=null,n.mode=iE;let r=Dj(t,e);return r!==yh&&(t.state=null),r},kye=t=>kj(t,Iye),KU=!0,p6,m6,Nye=t=>{if(KU){p6=new Int32Array(512),m6=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Fv(_j,t.lens,0,288,p6,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Fv(xj,t.lens,0,32,m6,0,t.work,{bits:5}),KU=!1}t.lencode=p6,t.lenbits=9,t.distcode=m6,t.distbits=5},Nj=(t,e,n,r)=>{let i,s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Mye=(t,e)=>{let n,r,i,s,o,a,l,u,c,d,f,h,p,m,g=0,y,x,T,R,$,O,U,j,q=new Uint8Array(4),H,E,C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(bh(t)||!t.output||!t.input&&t.avail_in!==0)return ka;n=t.state,n.mode===Qu&&(n.mode=d6),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,d=a,f=l,j=yh;e:for(;;)switch(n.mode){case iE:if(n.wrap===0){n.mode=d6;break}for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,q[0]=u&255,q[1]=u>>>8&255,n.check=Ji(n.check,q,2,0),u=0,c=0,n.mode=IU;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=ti;break}if((u&15)!==TU){t.msg="unknown compression method",n.mode=ti;break}if(u>>>=4,c-=4,U=(u&15)+8,n.wbits===0&&(n.wbits=U),U>15||U>n.wbits){t.msg="invalid window size",n.mode=ti;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?FU:Qu,u=0,c=0;break;case IU:for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==TU){t.msg="unknown compression method",n.mode=ti;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ti;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(q[0]=u&255,q[1]=u>>>8&255,n.check=Ji(n.check,q,2,0)),u=0,c=0,n.mode=DU;case DU:for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(q[0]=u&255,q[1]=u>>>8&255,q[2]=u>>>16&255,q[3]=u>>>24&255,n.check=Ji(n.check,q,4,0)),u=0,c=0,n.mode=kU;case kU:for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(q[0]=u&255,q[1]=u>>>8&255,n.check=Ji(n.check,q,2,0)),u=0,c=0,n.mode=NU;case NU:if(n.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(q[0]=u&255,q[1]=u>>>8&255,n.check=Ji(n.check,q,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=MU;case MU:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(U=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+h),U)),n.flags&512&&n.wrap&4&&(n.check=Ji(n.check,r,h,s)),a-=h,s+=h,n.length-=h),n.length))break e;n.length=0,n.mode=RU;case RU:if(n.flags&2048){if(a===0)break e;h=0;do U=r[s+h++],n.head&&U&&n.length<65536&&(n.head.name+=String.fromCharCode(U));while(U&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Ji(n.check,r,h,s)),a-=h,s+=h,U)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=PU;case PU:if(n.flags&4096){if(a===0)break e;h=0;do U=r[s+h++],n.head&&U&&n.length<65536&&(n.head.comment+=String.fromCharCode(U));while(U&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Ji(n.check,r,h,s)),a-=h,s+=h,U)break e}else n.head&&(n.head.comment=null);n.mode=LU;case LU:if(n.flags&512){for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ti;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Qu;break;case FU:for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}t.adler=n.check=XU(u),u=0,c=0,n.mode=tE;case tE:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,Eye;t.adler=n.check=1,n.mode=Qu;case Qu:if(e===_ye||e===Xx)break e;case d6:if(n.last){u>>>=c&7,c-=c&7,n.mode=h6;break}for(;c<3;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=OU;break;case 1:if(Nye(n),n.mode=Kx,e===Xx){u>>>=2,c-=2;break e}break;case 2:n.mode=VU;break;case 3:t.msg="invalid block type",n.mode=ti}u>>>=2,c-=2;break;case OU:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ti;break}if(n.length=u&65535,u=0,c=0,n.mode=f6,e===Xx)break e;case f6:n.mode=BU;case BU:if(h=n.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;i.set(r.subarray(s,s+h),o),a-=h,s+=h,l-=h,o+=h,n.length-=h;break}n.mode=Qu;break;case VU:for(;c<14;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ti;break}n.have=0,n.mode=UU;case UU:for(;n.have<n.ncode;){for(;c<3;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.lens[C[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,H={bits:n.lenbits},j=Fv(wye,n.lens,0,19,n.lencode,0,n.work,H),n.lenbits=H.bits,j){t.msg="invalid code lengths set",n.mode=ti;break}n.have=0,n.mode=jU;case jU:for(;n.have<n.nlen+n.ndist;){for(;g=n.lencode[u&(1<<n.lenbits)-1],y=g>>>24,x=g>>>16&255,T=g&65535,!(y<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(T<16)u>>>=y,c-=y,n.lens[n.have++]=T;else{if(T===16){for(E=y+2;c<E;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(u>>>=y,c-=y,n.have===0){t.msg="invalid bit length repeat",n.mode=ti;break}U=n.lens[n.have-1],h=3+(u&3),u>>>=2,c-=2}else if(T===17){for(E=y+3;c<E;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=y,c-=y,U=0,h=3+(u&7),u>>>=3,c-=3}else{for(E=y+7;c<E;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=y,c-=y,U=0,h=11+(u&127),u>>>=7,c-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ti;break}for(;h--;)n.lens[n.have++]=U}}if(n.mode===ti)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ti;break}if(n.lenbits=9,H={bits:n.lenbits},j=Fv(_j,n.lens,0,n.nlen,n.lencode,0,n.work,H),n.lenbits=H.bits,j){t.msg="invalid literal/lengths set",n.mode=ti;break}if(n.distbits=6,n.distcode=n.distdyn,H={bits:n.distbits},j=Fv(xj,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,H),n.distbits=H.bits,j){t.msg="invalid distances set",n.mode=ti;break}if(n.mode=Kx,e===Xx)break e;case Kx:n.mode=Zx;case Zx:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,pye(t,f),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,n.mode===Qu&&(n.back=-1);break}for(n.back=0;g=n.lencode[u&(1<<n.lenbits)-1],y=g>>>24,x=g>>>16&255,T=g&65535,!(y<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(x&&(x&240)===0){for(R=y,$=x,O=T;g=n.lencode[O+((u&(1<<R+$)-1)>>R)],y=g>>>24,x=g>>>16&255,T=g&65535,!(R+y<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=R,c-=R,n.back+=R}if(u>>>=y,c-=y,n.back+=y,n.length=T,x===0){n.mode=WU;break}if(x&32){n.back=-1,n.mode=Qu;break}if(x&64){t.msg="invalid literal/length code",n.mode=ti;break}n.extra=x&15,n.mode=HU;case HU:if(n.extra){for(E=n.extra;c<E;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=$U;case $U:for(;g=n.distcode[u&(1<<n.distbits)-1],y=g>>>24,x=g>>>16&255,T=g&65535,!(y<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if((x&240)===0){for(R=y,$=x,O=T;g=n.distcode[O+((u&(1<<R+$)-1)>>R)],y=g>>>24,x=g>>>16&255,T=g&65535,!(R+y<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=R,c-=R,n.back+=R}if(u>>>=y,c-=y,n.back+=y,x&64){t.msg="invalid distance code",n.mode=ti;break}n.offset=T,n.extra=x&15,n.mode=qU;case qU:if(n.extra){for(E=n.extra;c<E;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ti;break}n.mode=zU;case zU:if(l===0)break e;if(h=f-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ti;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=i,p=o-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[o++]=m[p++];while(--h);n.length===0&&(n.mode=Zx);break;case WU:if(l===0)break e;i[o++]=n.length,l--,n.mode=Zx;break;case h6:if(n.wrap){for(;c<32;){if(a===0)break e;a--,u|=r[s++]<<c,c+=8}if(f-=l,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?Ji(n.check,i,f,o-f):jv(n.check,i,f,o-f)),f=l,n.wrap&4&&(n.flags?u:XU(u))!==n.check){t.msg="incorrect data check",n.mode=ti;break}u=0,c=0}n.mode=GU;case GU:if(n.wrap&&n.flags){for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ti;break}u=0,c=0}n.mode=YU;case YU:j=xye;break e;case ti:j=Ej;break e;case Cj:return Sj;case Aj:default:return ka}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,(n.wsize||f!==t.avail_out&&n.mode<ti&&(n.mode<h6||e!==AU))&&Nj(t,t.output,t.next_out,f-t.avail_out),d-=t.avail_in,f-=t.avail_out,t.total_in+=d,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?Ji(n.check,i,f,t.next_out-f):jv(n.check,i,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Qu?128:0)+(n.mode===Kx||n.mode===f6?256:0),(d===0&&f===0||e===AU)&&j===yh&&(j=Sye),j},Rye=t=>{if(bh(t))return ka;let e=t.state;return e.window&&(e.window=null),t.state=null,yh},Pye=(t,e)=>{if(bh(t))return ka;let n=t.state;return(n.wrap&2)===0?ka:(n.head=e,e.done=!1,yh)},Lye=(t,e)=>{let n=e.length,r,i,s;return bh(t)||(r=t.state,r.wrap!==0&&r.mode!==tE)?ka:r.mode===tE&&(i=1,i=jv(i,e,n,0),i!==r.check)?Ej:(s=Nj(t,e,n,n),s?(r.mode=Cj,Sj):(r.havedict=1,yh))},Fye=Ij,Oye=Dj,Bye=Tj,Vye=kye,Uye=kj,jye=Mye,Hye=Rye,$ye=Pye,qye=Lye,zye="pako inflate (from Nodeca project)",tc={inflateReset:Fye,inflateReset2:Oye,inflateResetKeep:Bye,inflateInit:Vye,inflateInit2:Uye,inflate:jye,inflateEnd:Hye,inflateGetHeader:$ye,inflateSetDictionary:qye,inflateInfo:zye};function Wye(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Gye=Wye,Mj=Object.prototype.toString,{Z_NO_FLUSH:Yye,Z_FINISH:Xye,Z_OK:qv,Z_STREAM_END:g6,Z_NEED_DICT:v6,Z_STREAM_ERROR:Kye,Z_DATA_ERROR:ZU,Z_MEM_ERROR:Zye}=Om;function Yv(t){this.options=rE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bj,this.strm.avail_out=0;let n=tc.inflateInit2(this.strm,e.windowBits);if(n!==qv)throw new Error(gh[n]);if(this.header=new Gye,tc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=$v.string2buf(e.dictionary):Mj.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=tc.inflateSetDictionary(this.strm,e.dictionary),n!==qv)))throw new Error(gh[n])}Yv.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Xye:Yye,Mj.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=tc.inflate(n,o),s===v6&&i&&(s=tc.inflateSetDictionary(n,i),s===qv?s=tc.inflate(n,o):s===ZU&&(s=v6));n.avail_in>0&&s===g6&&n.state.wrap>0&&t[n.next_in]!==0;)tc.inflateReset(n),s=tc.inflate(n,o);switch(s){case Kye:case ZU:case v6:case Zye:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===g6))if(this.options.to==="string"){let l=$v.utf8border(n.output,n.next_out),u=n.next_out-l,c=$v.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===qv&&a===0)){if(s===g6)return s=tc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Yv.prototype.onData=function(t){this.chunks.push(t)};Yv.prototype.onEnd=function(t){t===qv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function R6(t,e){let n=new Yv(e);if(n.push(t),n.err)throw n.msg||gh[n.err];return n.result}function Jye(t,e){return e=e||{},e.raw=!0,R6(t,e)}var Qye=Yv,ebe=R6,tbe=Jye,nbe=R6,rbe=Om,ibe={Inflate:Qye,inflate:ebe,inflateRaw:tbe,ungzip:nbe,constants:rbe},{Deflate:I8e,deflate:D8e,deflateRaw:k8e,gzip:N8e}=fye,{Inflate:sbe,inflate:obe,inflateRaw:M8e,ungzip:R8e}=ibe;var P6=sbe,Rj=obe;var Lj=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Lj[t]=e}var Pj=4294967295;function abe(t,e,n){let r=t;for(let i=0;i<n;i++)r=Lj[(r^e[i])&255]^r>>>8;return r}function lbe(t,e){return(abe(Pj,t,e)^Pj)>>>0}function L6(t,e,n){let r=t.readUint32(),i=lbe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function sE(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function oE(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function aE(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function lE(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function uE(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+ube(e[s-i],n[s],n[s-i])&255}}function ube(t,e,n){let r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function Fj(t,e,n,r,i,s){switch(t){case 0:sE(e,n,i);break;case 1:oE(e,n,i,s);break;case 2:aE(e,n,r,i);break;case 3:lE(e,n,r,i,s);break;case 4:uE(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}var cbe=new Uint16Array([255]),dbe=new Uint8Array(cbe.buffer),fbe=dbe[0]===255;function Oj(t){let{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a),u=0;for(let c=0;c<7;c++){let d=o[c],f=Math.ceil((n-d.x)/d.xStep),h=Math.ceil((r-d.y)/d.yStep);if(f<=0||h<=0)continue;let p=f*a,m=new Uint8Array(p);for(let g=0;g<h;g++){let y=e[u++],x=e.subarray(u,u+p);u+=p;let T=new Uint8Array(p);Fj(y,x,T,m,p,a),m.set(T);for(let R=0;R<f;R++){let $=d.x+R*d.xStep,O=d.y+g*d.yStep;if(!($>=n||O>=r))for(let U=0;U<a;U++)l[(O*n+$)*a+U]=T[R*a+U]}}}if(s===16){let c=new Uint16Array(l.buffer);if(fbe)for(let d=0;d<c.length;d++)c[d]=hbe(c[d]);return c}else return l}function hbe(t){return(t&255)<<8|t>>8&255}var pbe=new Uint16Array([255]),mbe=new Uint8Array(pbe.buffer),gbe=mbe[0]===255,vbe=new Uint8Array(0);function F6(t){let{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a),u=vbe,c=0,d,f;for(let h=0;h<r;h++){switch(d=e.subarray(c+1,c+1+a),f=l.subarray(h*a,(h+1)*a),e[c]){case 0:sE(d,f,a);break;case 1:oE(d,f,a,o);break;case 2:aE(d,f,u,a);break;case 3:lE(d,f,u,a,o);break;case 4:uE(d,f,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=f,c+=a+1}if(s===16){let h=new Uint16Array(l.buffer);if(gbe)for(let p=0;p<h.length;p++)h[p]=ybe(h[p]);return h}else return l}function ybe(t){return(t&255)<<8|t>>8&255}var cE=Uint8Array.of(137,80,78,71,13,10,26,10);function O6(t){if(!Bj(t.readBytes(cE.length)))throw new Error("wrong PNG signature")}function Bj(t){if(t.length<cE.length)return!1;for(let e=0;e<cE.length;e++)if(t[e]!==cE[e])return!1;return!0}var Vj="tEXt",wbe=0,Uj=new TextDecoder("latin1");function _be(t){if(Ebe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}var xbe=/^[\u0000-\u00FF]*$/;function Ebe(t){if(!xbe.test(t))throw new Error("invalid latin1 text")}function jj(t,e,n){let r=B6(e);t[r]=Sbe(e,n-r.length-1)}function B6(t){for(t.mark();t.readByte()!==wbe;);let e=t.offset;t.reset();let n=Uj.decode(t.readBytes(e-t.offset-1));return t.skip(1),_be(n),n}function Sbe(t,e){return Uj.decode(t.readBytes(e))}var ao={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Xv={UNKNOWN:-1,DEFLATE:0},dE={UNKNOWN:-1,ADAPTIVE:0},Kv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Zv={NONE:0,BACKGROUND:1,PREVIOUS:2},fE={SOURCE:0,OVER:1};var hE=class extends kv{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);let{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new P6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Xv.UNKNOWN,this._filterMethod=dE.UNKNOWN,this._interlaceMethod=Kv.UNKNOWN,this._colorType=ao.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(O6(this);!this._end;){let e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(O6(this);!this._end;){let e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){let r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Vj:jj(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?L6(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){let r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?L6(this,e+4,n):this.skip(4)}decodeIHDR(){let e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Cbe(this.readUint8());let n=this.readUint8();this._colorType=n;let r;switch(n){case ao.GREYSCALE:r=1;break;case ao.TRUECOLOUR:r=3;break;case ao.INDEXED_COLOUR:r=1;break;case ao.GREYSCALE_ALPHA:r=2;break;case ao.TRUECOLOUR_ALPHA:r=4;break;case ao.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Xv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);let n=e/3;this._hasPalette=!0;let r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ao.GREYSCALE:case ao.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case ao.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){let r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ao.UNKNOWN:case ao.GREYSCALE_ALPHA:case ao.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let n=B6(this),r=this.readUint8();if(r!==Xv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);let i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Rj(i)}}decodepHYs(){let e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){let n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=F6({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{let i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case Zv.NONE:break;case Zv.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){let o=(i*e.width+s)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[o+a]=0}break;case Zv.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){let r=1<<this._png.depth,i=(s,o)=>{let a=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,l=(s*n.width+o)*this._png.channels;return{index:a,frameIndex:l}};switch(n.blendOp){case fE.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){let{index:a,frameIndex:l}=i(s,o);for(let u=0;u<this._png.channels;u++)e.data[a+u]=n.data[l+u]}break;case fE.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){let{index:a,frameIndex:l}=i(s,o);for(let u=0;u<this._png.channels;u++){let c=n.data[l+this._png.channels-1]/r,d=u%(this._png.channels-1)===0?1:n.data[l+u],f=Math.floor(c*d+(1-c)*e.data[a+u]);e.data[a+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==dE.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Kv.NO_INTERLACE)this._png.data=F6({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Kv.ADAM7)this._png.data=Oj({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Zv.NONE,blendOp:fE.SOURCE,data:e}),this._inflator=new P6,this._writingDataChunks=!1}};function Cbe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}function Hj(t,e){return new hE(t,e).decode()}var bn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function V6(){bn.console&&typeof bn.console.log=="function"&&bn.console.log.apply(bn.console,arguments)}var jr={log:V6,warn:function(t){bn.console&&(typeof bn.console.warn=="function"?bn.console.warn.apply(bn.console,arguments):V6.call(null,arguments))},error:function(t){bn.console&&(typeof bn.console.error=="function"?bn.console.error.apply(bn.console,arguments):V6(t))}};function U6(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){wh(r.response,e,n)},r.onerror=function(){jr.error("could not download file")},r.send()}function $j(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pE(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wh=bn.saveAs||((typeof window>"u"?"undefined":Pr(window))!=="object"||window!==bn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=bn.URL||bn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?$j(i.href)?U6(t,e,n):pE(i,i.target="_blank"):pE(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){pE(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if($j(t))U6(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){pE(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Pr(s)!=="object"&&(jr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return U6(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(bn.HTMLElement)||bn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Pr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=bn.URL||bn.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});function hH(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var yE=bn.atob.bind(bn),qj=bn.btoa.bind(bn);function j6(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Ps(n,r,i,s,e[0],7,-680876936),s=Ps(s,n,r,i,e[1],12,-389564586),i=Ps(i,s,n,r,e[2],17,606105819),r=Ps(r,i,s,n,e[3],22,-1044525330),n=Ps(n,r,i,s,e[4],7,-176418897),s=Ps(s,n,r,i,e[5],12,1200080426),i=Ps(i,s,n,r,e[6],17,-1473231341),r=Ps(r,i,s,n,e[7],22,-45705983),n=Ps(n,r,i,s,e[8],7,1770035416),s=Ps(s,n,r,i,e[9],12,-1958414417),i=Ps(i,s,n,r,e[10],17,-42063),r=Ps(r,i,s,n,e[11],22,-1990404162),n=Ps(n,r,i,s,e[12],7,1804603682),s=Ps(s,n,r,i,e[13],12,-40341101),i=Ps(i,s,n,r,e[14],17,-1502002290),n=Ls(n,r=Ps(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ls(s,n,r,i,e[6],9,-1069501632),i=Ls(i,s,n,r,e[11],14,643717713),r=Ls(r,i,s,n,e[0],20,-373897302),n=Ls(n,r,i,s,e[5],5,-701558691),s=Ls(s,n,r,i,e[10],9,38016083),i=Ls(i,s,n,r,e[15],14,-660478335),r=Ls(r,i,s,n,e[4],20,-405537848),n=Ls(n,r,i,s,e[9],5,568446438),s=Ls(s,n,r,i,e[14],9,-1019803690),i=Ls(i,s,n,r,e[3],14,-187363961),r=Ls(r,i,s,n,e[8],20,1163531501),n=Ls(n,r,i,s,e[13],5,-1444681467),s=Ls(s,n,r,i,e[2],9,-51403784),i=Ls(i,s,n,r,e[7],14,1735328473),n=Fs(n,r=Ls(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Fs(s,n,r,i,e[8],11,-2022574463),i=Fs(i,s,n,r,e[11],16,1839030562),r=Fs(r,i,s,n,e[14],23,-35309556),n=Fs(n,r,i,s,e[1],4,-1530992060),s=Fs(s,n,r,i,e[4],11,1272893353),i=Fs(i,s,n,r,e[7],16,-155497632),r=Fs(r,i,s,n,e[10],23,-1094730640),n=Fs(n,r,i,s,e[13],4,681279174),s=Fs(s,n,r,i,e[0],11,-358537222),i=Fs(i,s,n,r,e[3],16,-722521979),r=Fs(r,i,s,n,e[6],23,76029189),n=Fs(n,r,i,s,e[9],4,-640364487),s=Fs(s,n,r,i,e[12],11,-421815835),i=Fs(i,s,n,r,e[15],16,530742520),n=Os(n,r=Fs(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Os(s,n,r,i,e[7],10,1126891415),i=Os(i,s,n,r,e[14],15,-1416354905),r=Os(r,i,s,n,e[5],21,-57434055),n=Os(n,r,i,s,e[12],6,1700485571),s=Os(s,n,r,i,e[3],10,-1894986606),i=Os(i,s,n,r,e[10],15,-1051523),r=Os(r,i,s,n,e[1],21,-2054922799),n=Os(n,r,i,s,e[8],6,1873313359),s=Os(s,n,r,i,e[15],10,-30611744),i=Os(i,s,n,r,e[6],15,-1560198380),r=Os(r,i,s,n,e[13],21,1309151649),n=Os(n,r,i,s,e[4],6,-145523070),s=Os(s,n,r,i,e[11],10,-1120210379),i=Os(i,s,n,r,e[2],15,718787259),r=Os(r,i,s,n,e[9],21,-343485551),t[0]=Sd(n,t[0]),t[1]=Sd(r,t[1]),t[2]=Sd(i,t[2]),t[3]=Sd(s,t[3])}function CE(t,e,n,r,i,s){return e=Sd(Sd(e,t),Sd(r,s)),Sd(e<<i|e>>>32-i,n)}function Ps(t,e,n,r,i,s,o){return CE(e&n|~e&r,t,e,i,s,o)}function Ls(t,e,n,r,i,s,o){return CE(e&r|n&~r,t,e,i,s,o)}function Fs(t,e,n,r,i,s,o){return CE(e^n^r,t,e,i,s,o)}function Os(t,e,n,r,i,s,o){return CE(n^(e|~r),t,e,i,s,o)}function pH(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)j6(r,Abe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(j6(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,j6(r,i),r}function Abe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var zj="0123456789abcdef".split("");function Tbe(t){for(var e="",n=0;n<4;n++)e+=zj[t>>8*n+4&15]+zj[t>>8*n&15];return e}function Ibe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function G6(t){return pH(t).map(Ibe).join("")}var Dbe=(function(t){for(var e=0;e<t.length;e++)t[e]=Tbe(t[e]);return t.join("")})(pH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Sd(t,e){if(Dbe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function Y6(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,r=a}else a=r;var d=e.length,f=0,h=0,p="";for(l=0;l<d;l++)h=(h+(c=a[f=(f+1)%256]))%256,a[f]=a[h],a[h]=c,o=a[(a[f]+a[h])%256],p+=String.fromCharCode(e.charCodeAt(l)^o);return p}var Wj={print:4,modify:8,copy:16,"annot-forms":32};function Hm(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Wj.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Wj[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=G6(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Y6(this.encryptionKey,this.padding)}function $m(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Gj(t){if(Pr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){bn.console&&jr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function EE(t){if(!(this instanceof EE))return new EE(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function mH(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function _h(t,e,n,r,i){if(!(this instanceof _h))return new _h(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,mH.call(this,r,i)}function qm(t,e,n,r,i){if(!(this instanceof qm))return new qm(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,mH.call(this,r,i)}function Kt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;Pr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=Gj;var p="1.3",m=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(G){p=G};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return g};var y=h.__private__.getPageFormat=function(G){return g[G]};i=i||"a4";var x="compat",T="advanced",R=x;function $(){this.saveGraphicsState(),K(new zt(tt,0,0,-tt,0,Nd()*tt).toString()+" cm"),this.setFontSize(this.getFontSize()/tt),u="n",R=T}function O(){this.restoreGraphicsState(),u="S",R=x}var U=h.__private__.combineFontStyleAndFontWeight=function(G,re){if(G=="bold"&&re=="normal"||G=="bold"&&re==400||G=="normal"&&re=="italic"||G=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(G=re==400||re==="normal"?G==="italic"?"italic":"normal":re!=700&&re!=="bold"||G!=="normal"?(re==700?"bold":re)+""+G:"bold"),G};h.advancedAPI=function(G){var re=R===x;return re&&$.call(this),typeof G!="function"||(G(this),re&&O.call(this)),this},h.compatAPI=function(G){var re=R===T;return re&&O.call(this),typeof G!="function"||(G(this),re&&$.call(this)),this},h.isAdvancedAPI=function(){return R===T};var j,q=function(G){if(R!==T)throw new Error(G+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=h.roundToPrecision=h.__private__.roundToPrecision=function(G,re){var me=e||re;if(isNaN(G)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return G.toFixed(me).replace(/0+$/,"")};j=h.hpf=h.__private__.hpf=typeof l=="number"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return H(G,l)}:l==="smart"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return H(G,G>-1&&G<1?16:5)}:function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return H(G,16)};var E=h.f2=h.__private__.f2=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f2");return H(G,2)},C=h.__private__.f3=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f3");return H(G,3)},L=h.scale=h.__private__.scale=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.scale");return R===x?G*tt:R===T?G:void 0},v=function(G){return L((function(re){return R===x?Nd()-re:R===T?re:void 0})(G))};h.__private__.setPrecision=h.setPrecision=function(G){typeof parseInt(G,10)=="number"&&(e=parseInt(G,10))};var b,_="00000000000000000000000000000000",w=h.__private__.getFileId=function(){return _},S=h.__private__.setFileId=function(G){return _=G!==void 0&&/^[a-fA-F0-9]{32}$/.test(G)?G.toUpperCase():_.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Zr=new Hm(c.userPermissions,c.userPassword,c.ownerPassword,_)),_};h.setFileId=function(G){return S(G),this},h.getFileId=function(){return w()};var I=h.__private__.convertDateToPDFDate=function(G){var re=G.getTimezoneOffset(),me=re<0?"+":"-",Ce=Math.floor(Math.abs(re/60)),Re=Math.abs(re%60),Ze=[me,M(Ce),"'",M(Re),"'"].join("");return["D:",G.getFullYear(),M(G.getMonth()+1),M(G.getDate()),M(G.getHours()),M(G.getMinutes()),M(G.getSeconds()),Ze].join("")},F=h.__private__.convertPDFDateToDate=function(G){var re=parseInt(G.substr(2,4),10),me=parseInt(G.substr(6,2),10)-1,Ce=parseInt(G.substr(8,2),10),Re=parseInt(G.substr(10,2),10),Ze=parseInt(G.substr(12,2),10),ot=parseInt(G.substr(14,2),10);return new Date(re,me,Ce,Re,Ze,ot,0)},W=h.__private__.setCreationDate=function(G){var re;if(G===void 0&&(G=new Date),G instanceof Date)re=I(G);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(G))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=G}return b=re},B=h.__private__.getCreationDate=function(G){var re=b;return G==="jsDate"&&(re=F(b)),re};h.setCreationDate=function(G){return W(G),this},h.getCreationDate=function(G){return B(G)};var X,M=h.__private__.padd2=function(G){return("0"+parseInt(G)).slice(-2)},Y=h.__private__.padd2Hex=function(G){return("00"+(G=G.toString())).substr(G.length)},k=0,D=[],z=[],J=0,ne=[],te=[],se=!1,ve=z;h.__private__.setCustomOutputDestination=function(G){se=!0,ve=G};var ye=function(G){se||(ve=G)};h.__private__.resetCustomOutputDestination=function(){se=!1,ve=z};var K=h.__private__.out=function(G){return G=G.toString(),J+=G.length+1,ve.push(G),ve},ce=h.__private__.write=function(G){return K(arguments.length===1?G.toString():Array.prototype.join.call(arguments," "))},de=h.__private__.getArrayBuffer=function(G){for(var re=G.length,me=new ArrayBuffer(re),Ce=new Uint8Array(me);re--;)Ce[re]=G.charCodeAt(re);return me},we=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return we};var ge=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(G){return ge=R===T?G/tt:G,this};var Se,Ee=h.__private__.getFontSize=h.getFontSize=function(){return R===x?ge:ge*tt},Fe=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(G){return Fe=G,this},h.__private__.getR2L=h.getR2L=function(){return Fe};var Ve,qe=h.__private__.setZoomMode=function(G){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(G))Se=G;else if(isNaN(G)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(G)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+G+'" is not recognized.');Se=G}else Se=parseInt(G,10)};h.__private__.getZoomMode=function(){return Se};var ht,ze=h.__private__.setPageMode=function(G){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(G)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+G+'" is not recognized.');Ve=G};h.__private__.getPageMode=function(){return Ve};var rt=h.__private__.setLayoutMode=function(G){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(G)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+G+'" is not recognized.');ht=G};h.__private__.getLayoutMode=function(){return ht},h.__private__.setDisplayMode=h.setDisplayMode=function(G,re,me){return qe(G),rt(re),ze(me),this};var Ct={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(G){if(Object.keys(Ct).indexOf(G)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ct[G]},h.__private__.getDocumentProperties=function(){return Ct},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(G){for(var re in Ct)Ct.hasOwnProperty(re)&&G[re]&&(Ct[re]=G[re]);return this},h.__private__.setDocumentProperty=function(G,re){if(Object.keys(Ct).indexOf(G)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ct[G]=re};var et,tt,nt,it,Ge,bt={},ut={},wt=[],Ft={},yt={},ft={},Bt={},Nt=null,vt=0,Vt=[],_t=new Gj(h),Yt=t.hotfixes||[],ir={},Qt={},Ht=[],zt=function G(re,me,Ce,Re,Ze,ot){if(!(this instanceof G))return new G(re,me,Ce,Re,Ze,ot);isNaN(re)&&(re=1),isNaN(me)&&(me=0),isNaN(Ce)&&(Ce=0),isNaN(Re)&&(Re=1),isNaN(Ze)&&(Ze=0),isNaN(ot)&&(ot=0),this._matrix=[re,me,Ce,Re,Ze,ot]};Object.defineProperty(zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),zt.prototype.join=function(G){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(G)},zt.prototype.multiply=function(G){var re=G.sx*this.sx+G.shy*this.shx,me=G.sx*this.shy+G.shy*this.sy,Ce=G.shx*this.sx+G.sy*this.shx,Re=G.shx*this.shy+G.sy*this.sy,Ze=G.tx*this.sx+G.ty*this.shx+this.tx,ot=G.tx*this.shy+G.ty*this.sy+this.ty;return new zt(re,me,Ce,Re,Ze,ot)},zt.prototype.decompose=function(){var G=this.sx,re=this.shy,me=this.shx,Ce=this.sy,Re=this.tx,Ze=this.ty,ot=Math.sqrt(G*G+re*re),$t=(G/=ot)*me+(re/=ot)*Ce;me-=G*$t,Ce-=re*$t;var Xt=Math.sqrt(me*me+Ce*Ce);return $t/=Xt,G*(Ce/=Xt)<re*(me/=Xt)&&(G=-G,re=-re,$t=-$t,ot=-ot),{scale:new zt(ot,0,0,Xt,0,0),translate:new zt(1,0,0,1,Re,Ze),rotate:new zt(G,re,-re,G,0,0),skew:new zt(1,0,$t,1,0,0)}},zt.prototype.toString=function(G){return this.join(" ")},zt.prototype.inversed=function(){var G=this.sx,re=this.shy,me=this.shx,Ce=this.sy,Re=this.tx,Ze=this.ty,ot=1/(G*Ce-re*me),$t=Ce*ot,Xt=-re*ot,wn=-me*ot,kn=G*ot;return new zt($t,Xt,wn,kn,-$t*Re-wn*Ze,-Xt*Re-kn*Ze)},zt.prototype.applyToPoint=function(G){var re=G.x*this.sx+G.y*this.shx+this.tx,me=G.x*this.shy+G.y*this.sy+this.ty;return new du(re,me)},zt.prototype.applyToRectangle=function(G){var re=this.applyToPoint(G),me=this.applyToPoint(new du(G.x+G.w,G.y+G.h));return new Qm(re.x,re.y,me.x-re.x,me.y-re.y)},zt.prototype.clone=function(){var G=this.sx,re=this.shy,me=this.shx,Ce=this.sy,Re=this.tx,Ze=this.ty;return new zt(G,re,me,Ce,Re,Ze)},h.Matrix=zt;var en=h.matrixMult=function(G,re){return re.multiply(G)},_e=new zt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=_e;var Oe=function(G,re){if(!yt[G]){var me=(re instanceof _h?"Sh":"P")+(Object.keys(Ft).length+1).toString(10);re.id=me,yt[G]=me,Ft[me]=re,_t.publish("addPattern",re)}};h.ShadingPattern=_h,h.TilingPattern=qm,h.addShadingPattern=function(G,re){return q("addShadingPattern()"),Oe(G,re),this},h.beginTilingPattern=function(G){q("beginTilingPattern()"),eg(G.boundingBox[0],G.boundingBox[1],G.boundingBox[2]-G.boundingBox[0],G.boundingBox[3]-G.boundingBox[1],G.matrix)},h.endTilingPattern=function(G,re){q("endTilingPattern()"),re.stream=te[X].join(`
`),Oe(G,re),_t.publish("endTilingPattern",re),Ht.pop().restore()};var He,Xe=h.__private__.newObject=function(){var G=sn();return pt(G,!0),G},sn=h.__private__.newObjectDeferred=function(){return k++,D[k]=function(){return J},k},pt=function(G,re){return re=typeof re=="boolean"&&re,D[G]=J,re&&K(G+" 0 obj"),G},At=h.__private__.newAdditionalObject=function(){var G={objId:sn(),content:""};return ne.push(G),G},jn=sn(),Rt=sn(),xt=h.__private__.decodeColorString=function(G){var re=G.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length!==5||re[4]!=="k"&&re[4]!=="K"||(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var me=parseFloat(re[0]);re=[me,me,me,"r"]}for(var Ce="#",Re=0;Re<3;Re++)Ce+=("0"+Math.floor(255*parseFloat(re[Re])).toString(16)).slice(-2);return Ce},Dn=h.__private__.encodeColorString=function(G){var re;typeof G=="string"&&(G={ch1:G});var me=G.ch1,Ce=G.ch2,Re=G.ch3,Ze=G.ch4,ot=G.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var $t=new hH(me);if($t.ok)me=$t.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Xt=parseInt(me.substr(1),16);me=Xt>>16&255,Ce=Xt>>8&255,Re=255&Xt}if(Ce===void 0||Ze===void 0&&me===Ce&&Ce===Re)re=typeof me=="string"?me+" "+ot[0]:G.precision===2?E(me/255)+" "+ot[0]:C(me/255)+" "+ot[0];else if(Ze===void 0||Pr(Ze)==="object"){if(Ze&&!isNaN(Ze.a)&&Ze.a===0)return["1.","1.","1.",ot[1]].join(" ");re=typeof me=="string"?[me,Ce,Re,ot[1]].join(" "):G.precision===2?[E(me/255),E(Ce/255),E(Re/255),ot[1]].join(" "):[C(me/255),C(Ce/255),C(Re/255),ot[1]].join(" ")}else re=typeof me=="string"?[me,Ce,Re,Ze,ot[2]].join(" "):G.precision===2?[E(me),E(Ce),E(Re),E(Ze),ot[2]].join(" "):[C(me),C(Ce),C(Re),C(Ze),ot[2]].join(" ");return re},hn=h.__private__.getFilters=function(){return o},un=h.__private__.putStream=function(G){var re=(G=G||{}).data||"",me=G.filters||hn(),Ce=G.alreadyAppliedFilters||[],Re=G.addLength1||!1,Ze=re.length,ot=G.objectId,$t=function(Mi){return Mi};if(c!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&($t=Zr.encryptor(ot,0));var Xt={};me===!0&&(me=["FlateEncode"]);var wn=G.additionalKeyValues||[],kn=(Xt=Kt.API.processDataByFilters!==void 0?Kt.API.processDataByFilters(re,me):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(Xt.data.length!==0&&(wn.push({key:"Length",value:Xt.data.length}),Re===!0&&wn.push({key:"Length1",value:Ze})),kn.length!=0)if(kn.split("/").length-1==1)wn.push({key:"Filter",value:kn});else{wn.push({key:"Filter",value:"["+kn+"]"});for(var cr=0;cr<wn.length;cr+=1)if(wn[cr].key==="DecodeParms"){for(var ri=[],Ai=0;Ai<Xt.reverseChain.split("/").length-1;Ai+=1)ri.push("null");ri.push(wn[cr].value),wn[cr].value="["+ri.join(" ")+"]"}}K("<<");for(var qr=0;qr<wn.length;qr++)K("/"+wn[qr].key+" "+wn[qr].value);K(">>"),Xt.data.length!==0&&(K("stream"),K($t(Xt.data)),K("endstream"))},Zn=h.__private__.putPage=function(G){var re=G.number,me=G.data,Ce=G.objId,Re=G.contentsObjId;pt(Ce,!0),K("<</Type /Page"),K("/Parent "+G.rootDictionaryObjId+" 0 R"),K("/Resources "+G.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(j(G.mediaBox.bottomLeftX))+" "+parseFloat(j(G.mediaBox.bottomLeftY))+" "+j(G.mediaBox.topRightX)+" "+j(G.mediaBox.topRightY)+"]"),G.cropBox!==null&&K("/CropBox ["+j(G.cropBox.bottomLeftX)+" "+j(G.cropBox.bottomLeftY)+" "+j(G.cropBox.topRightX)+" "+j(G.cropBox.topRightY)+"]"),G.bleedBox!==null&&K("/BleedBox ["+j(G.bleedBox.bottomLeftX)+" "+j(G.bleedBox.bottomLeftY)+" "+j(G.bleedBox.topRightX)+" "+j(G.bleedBox.topRightY)+"]"),G.trimBox!==null&&K("/TrimBox ["+j(G.trimBox.bottomLeftX)+" "+j(G.trimBox.bottomLeftY)+" "+j(G.trimBox.topRightX)+" "+j(G.trimBox.topRightY)+"]"),G.artBox!==null&&K("/ArtBox ["+j(G.artBox.bottomLeftX)+" "+j(G.artBox.bottomLeftY)+" "+j(G.artBox.topRightX)+" "+j(G.artBox.topRightY)+"]"),typeof G.userUnit=="number"&&G.userUnit!==1&&K("/UserUnit "+G.userUnit),_t.publish("putPage",{objId:Ce,pageContext:Vt[re],pageNumber:re,page:me}),K("/Contents "+Re+" 0 R"),K(">>"),K("endobj");var Ze=me.join(`
`);return R===T&&(Ze+=`
Q`),pt(Re,!0),un({data:Ze,filters:hn(),objectId:Re}),K("endobj"),Ce},ar=h.__private__.putPages=function(){var G,re,me=[];for(G=1;G<=vt;G++)Vt[G].objId=sn(),Vt[G].contentsObjId=sn();for(G=1;G<=vt;G++)me.push(Zn({number:G,data:te[G],objId:Vt[G].objId,contentsObjId:Vt[G].contentsObjId,mediaBox:Vt[G].mediaBox,cropBox:Vt[G].cropBox,bleedBox:Vt[G].bleedBox,trimBox:Vt[G].trimBox,artBox:Vt[G].artBox,userUnit:Vt[G].userUnit,rootDictionaryObjId:jn,resourceDictionaryObjId:Rt}));pt(jn,!0),K("<</Type /Pages");var Ce="/Kids [";for(re=0;re<vt;re++)Ce+=me[re]+" 0 R ";K(Ce+"]"),K("/Count "+vt),K(">>"),K("endobj"),_t.publish("postPutPages")},Hr=function(G){_t.publish("putFont",{font:G,out:K,newObject:Xe,putStream:un}),G.isAlreadyPutted!==!0&&(G.objectNumber=Xe(),K("<<"),K("/Type /Font"),K("/BaseFont /"+$m(G.postScriptName)),K("/Subtype /Type1"),typeof G.encoding=="string"&&K("/Encoding /"+G.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},fi=function(G){G.objectNumber=Xe();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[j(G.x),j(G.y),j(G.x+G.width),j(G.y+G.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+G.matrix.toString()+"]"});var me=G.pages[1].join(`
`);un({data:me,additionalKeyValues:re,objectId:G.objectNumber}),K("endobj")},$r=function(G,re){re||(re=21);var me=Xe(),Ce=(function(ot,$t){var Xt,wn=[],kn=1/($t-1);for(Xt=0;Xt<1;Xt+=kn)wn.push(Xt);if(wn.push(1),ot[0].offset!=0){var cr={offset:0,color:ot[0].color};ot.unshift(cr)}if(ot[ot.length-1].offset!=1){var ri={offset:1,color:ot[ot.length-1].color};ot.push(ri)}for(var Ai="",qr=0,Mi=0;Mi<wn.length;Mi++){for(Xt=wn[Mi];Xt>ot[qr+1].offset;)qr++;var Ti=ot[qr].offset,es=(Xt-Ti)/(ot[qr+1].offset-Ti),pu=ot[qr].color,Na=ot[qr+1].color;Ai+=Y(Math.round((1-es)*pu[0]+es*Na[0]).toString(16))+Y(Math.round((1-es)*pu[1]+es*Na[1]).toString(16))+Y(Math.round((1-es)*pu[2]+es*Na[2]).toString(16))}return Ai.trim()})(G.colors,re),Re=[];Re.push({key:"FunctionType",value:"0"}),Re.push({key:"Domain",value:"[0.0 1.0]"}),Re.push({key:"Size",value:"["+re+"]"}),Re.push({key:"BitsPerSample",value:"8"}),Re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),un({data:Ce,additionalKeyValues:Re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),K("endobj"),G.objectNumber=Xe(),K("<< /ShadingType "+G.type),K("/ColorSpace /DeviceRGB");var Ze="/Coords ["+j(parseFloat(G.coords[0]))+" "+j(parseFloat(G.coords[1]))+" ";G.type===2?Ze+=j(parseFloat(G.coords[2]))+" "+j(parseFloat(G.coords[3])):Ze+=j(parseFloat(G.coords[2]))+" "+j(parseFloat(G.coords[3]))+" "+j(parseFloat(G.coords[4]))+" "+j(parseFloat(G.coords[5])),K(Ze+="]"),G.matrix&&K("/Matrix ["+G.matrix.toString()+"]"),K("/Function "+me+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},si=function(G,re){var me=sn(),Ce=Xe();re.push({resourcesOid:me,objectOid:Ce}),G.objectNumber=Ce;var Re=[];Re.push({key:"Type",value:"/Pattern"}),Re.push({key:"PatternType",value:"1"}),Re.push({key:"PaintType",value:"1"}),Re.push({key:"TilingType",value:"1"}),Re.push({key:"BBox",value:"["+G.boundingBox.map(j).join(" ")+"]"}),Re.push({key:"XStep",value:j(G.xStep)}),Re.push({key:"YStep",value:j(G.yStep)}),Re.push({key:"Resources",value:me+" 0 R"}),G.matrix&&Re.push({key:"Matrix",value:"["+G.matrix.toString()+"]"}),un({data:G.stream,additionalKeyValues:Re,objectId:G.objectNumber}),K("endobj")},pe=function(G){for(var re in G.objectNumber=Xe(),K("<<"),G)switch(re){case"opacity":K("/ca "+E(G[re]));break;case"stroke-opacity":K("/CA "+E(G[re]))}K(">>"),K("endobj")},Le=function(G){pt(G.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var re in K("/Font <<"),bt)bt.hasOwnProperty(re)&&(d===!1||d===!0&&f.hasOwnProperty(re))&&K("/"+re+" "+bt[re].objectNumber+" 0 R");K(">>")})(),(function(){if(Object.keys(Ft).length>0){for(var re in K("/Shading <<"),Ft)Ft.hasOwnProperty(re)&&Ft[re]instanceof _h&&Ft[re].objectNumber>=0&&K("/"+re+" "+Ft[re].objectNumber+" 0 R");_t.publish("putShadingPatternDict"),K(">>")}})(),(function(re){if(Object.keys(Ft).length>0){for(var me in K("/Pattern <<"),Ft)Ft.hasOwnProperty(me)&&Ft[me]instanceof h.TilingPattern&&Ft[me].objectNumber>=0&&Ft[me].objectNumber<re&&K("/"+me+" "+Ft[me].objectNumber+" 0 R");_t.publish("putTilingPatternDict"),K(">>")}})(G.objectOid),(function(){if(Object.keys(ft).length>0){var re;for(re in K("/ExtGState <<"),ft)ft.hasOwnProperty(re)&&ft[re].objectNumber>=0&&K("/"+re+" "+ft[re].objectNumber+" 0 R");_t.publish("putGStateDict"),K(">>")}})(),(function(){for(var re in K("/XObject <<"),ir)ir.hasOwnProperty(re)&&ir[re].objectNumber>=0&&K("/"+re+" "+ir[re].objectNumber+" 0 R");_t.publish("putXobjectDict"),K(">>")})(),K(">>"),K("endobj")},Qe=function(G){ut[G.fontName]=ut[G.fontName]||{},ut[G.fontName][G.fontStyle]=G.id},$e=function(G,re,me,Ce,Re){var Ze={id:"F"+(Object.keys(bt).length+1).toString(10),postScriptName:G,fontName:re,fontStyle:me,encoding:Ce,isStandardFont:Re||!1,metadata:{}};return _t.publish("addFont",{font:Ze,instance:this}),bt[Ze.id]=Ze,Qe(Ze),Ze.id},dt=h.__private__.pdfEscape=h.pdfEscape=function(G,re){return(function(me,Ce){var Re,Ze,ot,$t,Xt,wn,kn,cr,ri;if(ot=(Ce=Ce||{}).sourceEncoding||"Unicode",Xt=Ce.outputEncoding,(Ce.autoencode||Xt)&&bt[et].metadata&&bt[et].metadata[ot]&&bt[et].metadata[ot].encoding&&($t=bt[et].metadata[ot].encoding,!Xt&&bt[et].encoding&&(Xt=bt[et].encoding),!Xt&&$t.codePages&&(Xt=$t.codePages[0]),typeof Xt=="string"&&(Xt=$t[Xt]),Xt)){for(kn=!1,wn=[],Re=0,Ze=me.length;Re<Ze;Re++)(cr=Xt[me.charCodeAt(Re)])?wn.push(String.fromCharCode(cr)):wn.push(me[Re]),wn[Re].charCodeAt(0)>>8&&(kn=!0);me=wn.join("")}for(Re=me.length;kn===void 0&&Re!==0;)me.charCodeAt(Re-1)>>8&&(kn=!0),Re--;if(!kn)return me;for(wn=Ce.noBOM?[]:[254,255],Re=0,Ze=me.length;Re<Ze;Re++){if((ri=(cr=me.charCodeAt(Re))>>8)>>8)throw new Error("Character at position "+Re+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wn.push(ri),wn.push(cr-(ri<<8))}return String.fromCharCode.apply(void 0,wn)})(G,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mt=h.__private__.beginPage=function(G){te[++vt]=[],Vt[vt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(G[0]),topRightY:Number(G[1])}},cn(vt),ye(te[X])},Pt=function(G,re){var me,Ce,Re;switch(n=re||n,typeof G=="string"&&(me=y(G.toLowerCase()),Array.isArray(me)&&(Ce=me[0],Re=me[1])),Array.isArray(G)&&(Ce=G[0]*tt,Re=G[1]*tt),isNaN(Ce)&&(Ce=i[0],Re=i[1]),(Ce>14400||Re>14400)&&(jr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Re=Math.min(14400,Re)),i=[Ce,Re],n.substr(0,1)){case"l":Re>Ce&&(i=[Re,Ce]);break;case"p":Ce>Re&&(i=[Re,Ce])}Mt(i),mn(pl),K(Ch),Zm!==0&&K(Zm+" J"),Jm!==0&&K(Jm+" j"),_t.publish("addPage",{pageNumber:vt})},Cn=function(G){G>0&&G<=vt&&(te.splice(G,1),Vt.splice(G,1),vt--,X>vt&&(X=vt),this.setPage(X))},cn=function(G){G>0&&G<=vt&&(X=G)},nn=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return te.length-1},pn=function(G,re,me){var Ce,Re=void 0;return me=me||{},G=G!==void 0?G:bt[et].fontName,re=re!==void 0?re:bt[et].fontStyle,Ce=G.toLowerCase(),ut[Ce]!==void 0&&ut[Ce][re]!==void 0?Re=ut[Ce][re]:ut[G]!==void 0&&ut[G][re]!==void 0?Re=ut[G][re]:me.disableWarning===!1&&jr.warn("Unable to look up font label for font '"+G+"', '"+re+"'. Refer to getFontList() for available fonts."),Re||me.noFallback||(Re=ut.times[re])==null&&(Re=ut.times.normal),Re},lr=h.__private__.putInfo=function(){var G=Xe(),re=function(Ce){return Ce};for(var me in c!==null&&(re=Zr.encryptor(G,0)),K("<<"),K("/Producer ("+dt(re("jsPDF "+Kt.version))+")"),Ct)Ct.hasOwnProperty(me)&&Ct[me]&&K("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+dt(re(Ct[me]))+")");K("/CreationDate ("+dt(re(b))+")"),K(">>"),K("endobj")},Rr=h.__private__.putCatalog=function(G){var re=(G=G||{}).rootDictionaryObjId||jn;switch(Xe(),K("<<"),K("/Type /Catalog"),K("/Pages "+re+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+Se;me.substr(me.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&K("/OpenAction [3 0 R /XYZ null null "+E(Se)+"]")}switch(ht||(ht="continuous"),ht){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}Ve&&K("/PageMode /"+Ve),_t.publish("putCatalog"),K(">>"),K("endobj")},tr=h.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(k+1)),K("/Root "+k+" 0 R"),K("/Info "+(k-1)+" 0 R"),c!==null&&K("/Encrypt "+Zr.oid+" 0 R"),K("/ID [ <"+_+"> <"+_+"> ]"),K(">>")},yn=h.__private__.putHeader=function(){K("%PDF-"+p),K("%\xBA\xDF\xAC\xE0")},hi=h.__private__.putXRef=function(){var G="0000000000";K("xref"),K("0 "+(k+1)),K("0000000000 65535 f ");for(var re=1;re<=k;re++)typeof D[re]=="function"?K((G+D[re]()).slice(-10)+" 00000 n "):D[re]!==void 0?K((G+D[re]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},ni=h.__private__.buildDocument=function(){var G;k=0,J=0,z=[],D=[],ne=[],jn=sn(),Rt=sn(),ye(z),_t.publish("buildDocument"),yn(),ar(),(function(){_t.publish("putAdditionalObjects");for(var me=0;me<ne.length;me++){var Ce=ne[me];pt(Ce.objId,!0),K(Ce.content),K("endobj")}_t.publish("postPutAdditionalObjects")})(),G=[],(function(){for(var me in bt)bt.hasOwnProperty(me)&&(d===!1||d===!0&&f.hasOwnProperty(me))&&Hr(bt[me])})(),(function(){var me;for(me in ft)ft.hasOwnProperty(me)&&pe(ft[me])})(),(function(){for(var me in ir)ir.hasOwnProperty(me)&&fi(ir[me])})(),(function(me){var Ce;for(Ce in Ft)Ft.hasOwnProperty(Ce)&&(Ft[Ce]instanceof _h?$r(Ft[Ce]):Ft[Ce]instanceof qm&&si(Ft[Ce],me))})(G),_t.publish("putResources"),G.forEach(Le),Le({resourcesOid:Rt,objectOid:Number.MAX_SAFE_INTEGER}),_t.publish("postPutResources"),c!==null&&(Zr.oid=Xe(),K("<<"),K("/Filter /Standard"),K("/V "+Zr.v),K("/R "+Zr.r),K("/U <"+Zr.toHexString(Zr.U)+">"),K("/O <"+Zr.toHexString(Zr.O)+">"),K("/P "+Zr.P),K(">>"),K("endobj")),lr(),Rr();var re=J;return hi(),tr(),K("startxref"),K(""+re),K("%%EOF"),ye(te[X]),z.join(`
`)},Ni=h.__private__.getBlob=function(G){return new Blob([de(G)],{type:"application/pdf"})},Bs=h.output=h.__private__.output=(He=function(G,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",G){case void 0:return ni();case"save":h.save(re.filename);break;case"arraybuffer":return de(ni());case"blob":return Ni(ni());case"bloburi":case"bloburl":if(bn.URL!==void 0&&typeof bn.URL.createObjectURL=="function")return bn.URL&&bn.URL.createObjectURL(Ni(ni()))||void 0;jr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",Ce=ni();try{me=qj(Ce)}catch{me=qj(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+re.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(bn)==="[object Window]"){var Re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Re=re.pdfObjectUrl,Ze="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Re+'"'+Ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",$t=bn.open();return $t!==null&&$t.document.write(ot),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(bn)==="[object Window]"){var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',wn=bn.open();if(wn!==null){wn.document.write(Xt);var kn=this;wn.document.documentElement.querySelector("#pdfViewer").onload=function(){wn.document.title=re.filename,wn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kn.output("bloburl"))}}return wn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(bn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',ri=bn.open();if(ri!==null&&(ri.document.write(cr),ri.document.title=re.filename),ri||typeof safari>"u")return ri;break;case"datauri":case"dataurl":return bn.document.location.href=this.output("datauristring",re);default:return null}},He.foo=function(){try{return He.apply(this,arguments)}catch(me){var G=me.stack||"";~G.indexOf(" at ")&&(G=G.split(" at ")[1]);var re="Error in function "+G.split(`
`)[0].split("<")[0]+": "+me.message;if(!bn.console)throw new Error(re);bn.console.error(re,me),bn.alert&&alert(re)}},He.foo.bar=He,He.foo),Ci=function(G){return Array.isArray(Yt)===!0&&Yt.indexOf(G)>-1};switch(r){case"pt":tt=1;break;case"mm":tt=72/25.4;break;case"cm":tt=72/2.54;break;case"in":tt=72;break;case"px":tt=Ci("px_scaling")==1?.75:96/72;break;case"pc":case"em":tt=12;break;case"ex":tt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);tt=r}var Zr=null;W(),S();var bs=h.__private__.getPageInfo=h.getPageInfo=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[G].objId,pageNumber:G,pageContext:Vt[G]}},Wn=h.__private__.getPageInfoByObjId=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Vt)if(Vt[re].objId===G)break;return bs(re)},ur=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Vt[X].objId,pageNumber:X,pageContext:Vt[X]}};h.addPage=function(){return Pt.apply(this,arguments),this},h.setPage=function(){return cn.apply(this,arguments),ye.call(this,te[X]),this},h.insertPage=function(G){return this.addPage(),this.movePage(X,G),this},h.movePage=function(G,re){var me,Ce;if(G>re){me=te[G],Ce=Vt[G];for(var Re=G;Re>re;Re--)te[Re]=te[Re-1],Vt[Re]=Vt[Re-1];te[re]=me,Vt[re]=Ce,this.setPage(re)}else if(G<re){me=te[G],Ce=Vt[G];for(var Ze=G;Ze<re;Ze++)te[Ze]=te[Ze+1],Vt[Ze]=Vt[Ze+1];te[re]=me,Vt[re]=Ce,this.setPage(re)}return this},h.deletePage=function(){return Cn.apply(this,arguments),this},h.__private__.text=h.text=function(G,re,me,Ce,Re){var Ze,ot,$t,Xt,wn,kn,cr,ri,Ai,qr=(Ce=Ce||{}).scope||this;if(typeof G=="number"&&typeof re=="number"&&(typeof me=="string"||Array.isArray(me))){var Mi=me;me=re,re=G,G=Mi}if(arguments[3]instanceof zt==0?($t=arguments[4],Xt=arguments[5],Pr(cr=arguments[3])==="object"&&cr!==null||(typeof $t=="string"&&(Xt=$t,$t=null),typeof cr=="string"&&(Xt=cr,cr=null),typeof cr=="number"&&($t=cr,cr=null),Ce={flags:cr,angle:$t,align:Xt})):(q("The transform parameter of text() with a Matrix value"),Ai=Re),isNaN(re)||isNaN(me)||G==null)throw new Error("Invalid arguments passed to jsPDF.text");if(G.length===0)return qr;var Ti,es="",pu=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:na,Na=qr.internal.scaleFactor;function mu(wr){return wr=wr.split("	").join(Array(Ce.TabLen||9).join(" ")),dt(wr,cr)}function ng(wr){for(var Or,mi=wr.concat(),Ri=[],yu=mi.length;yu--;)typeof(Or=mi.shift())=="string"?Ri.push(Or):Array.isArray(wr)&&(Or.length===1||Or[1]===void 0&&Or[2]===void 0)?Ri.push(Or[0]):Ri.push([Or[0],Or[1],Or[2]]);return Ri}function Th(wr,Or){var mi;if(typeof wr=="string")mi=Or(wr)[0];else if(Array.isArray(wr)){for(var Ri,yu,fg=wr.concat(),kh=[],oy=fg.length;oy--;)typeof(Ri=fg.shift())=="string"?kh.push(Or(Ri)[0]):Array.isArray(Ri)&&typeof Ri[0]=="string"&&(yu=Or(Ri[0],Ri[1],Ri[2]),kh.push([yu[0],yu[1],yu[2]]));mi=kh}return mi}var oc=!1,Md=!0;if(typeof G=="string")oc=!0;else if(Array.isArray(G)){var Rd=G.concat();ot=[];for(var ac,ts=Rd.length;ts--;)(typeof(ac=Rd.shift())!="string"||Array.isArray(ac)&&typeof ac[0]!="string")&&(Md=!1);oc=Md}if(oc===!1)throw new Error('Type of text must be string or Array. "'+G+'" is not recognized.');typeof G=="string"&&(G=G.match(/[\r?\n]/)?G.split(/\r\n|\r|\n/g):[G]);var Pd=ge/qr.internal.scaleFactor,Ld=Pd*(pu-1);switch(Ce.baseline){case"bottom":me-=Ld;break;case"top":me+=Pd-Ld;break;case"hanging":me+=Pd-2*Ld;break;case"middle":me+=Pd/2-Ld}if((kn=Ce.maxWidth||0)>0&&(typeof G=="string"?G=qr.splitTextToSize(G,kn):Object.prototype.toString.call(G)==="[object Array]"&&(G=G.reduce(function(wr,Or){return wr.concat(qr.splitTextToSize(Or,kn))},[]))),Ze={text:G,x:re,y:me,options:Ce,mutex:{pdfEscape:dt,activeFontKey:et,fonts:bt,activeFontSize:ge}},_t.publish("preProcessText",Ze),G=Ze.text,$t=(Ce=Ze.options).angle,Ai instanceof zt==0&&$t&&typeof $t=="number"){$t*=Math.PI/180,Ce.rotationDirection===0&&($t=-$t),R===T&&($t=-$t);var rg=Math.cos($t),ig=Math.sin($t);Ai=new zt(rg,ig,-ig,rg,0,0)}else $t&&$t instanceof zt&&(Ai=$t);R!==T||Ai||(Ai=_e),(wn=Ce.charSpace||cu)!==void 0&&(es+=j(L(wn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ri=Ce.horizontalScale)!==void 0&&(es+=j(100*ri)+` Tz
`),Ce.lang;var Vs=-1,gu=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,Ih=qr.internal.getCurrentPageInfo().pageContext;switch(gu){case 0:case!1:case"fill":Vs=0;break;case 1:case!0:case"stroke":Vs=1;break;case 2:case"fillThenStroke":Vs=2;break;case 3:case"invisible":Vs=3;break;case 4:case"fillAndAddForClipping":Vs=4;break;case 5:case"strokeAndAddPathForClipping":Vs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vs=6;break;case 7:case"addToPathForClipping":Vs=7}var iy=Ih.usedRenderingMode!==void 0?Ih.usedRenderingMode:-1;Vs!==-1?es+=Vs+` Tr
`:iy!==-1&&(es+=`0 Tr
`),Vs!==-1&&(Ih.usedRenderingMode=Vs),Xt=Ce.align||"left";var ra,Fd=ge*pu,sg=qr.internal.pageSize.getWidth(),og=bt[et];wn=Ce.charSpace||cu,kn=Ce.maxWidth||0,cr=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var lc=[],Od=function(wr){return qr.getStringUnitWidth(wr,{font:og,charSpace:wn,fontSize:ge,doKerning:!1})*ge/Na};if(Object.prototype.toString.call(G)==="[object Array]"){var To;ot=ng(G),Xt!=="left"&&(ra=ot.map(Od));var Io,uc=0;if(Xt==="right"){re-=ra[0],G=[],ts=ot.length;for(var vu=0;vu<ts;vu++)vu===0?(Io=lu(re),To=uu(me)):(Io=L(uc-ra[vu]),To=-Fd),G.push([ot[vu],Io,To]),uc=ra[vu]}else if(Xt==="center"){re-=ra[0]/2,G=[],ts=ot.length;for(var cc=0;cc<ts;cc++)cc===0?(Io=lu(re),To=uu(me)):(Io=L((uc-ra[cc])/2),To=-Fd),G.push([ot[cc],Io,To]),uc=ra[cc]}else if(Xt==="left"){G=[],ts=ot.length;for(var ag=0;ag<ts;ag++)G.push(ot[ag])}else if(Xt==="justify"&&og.encoding==="Identity-H"){G=[],ts=ot.length,kn=kn!==0?kn:sg;for(var Dh=0,pi=0;pi<ts;pi++)if(To=pi===0?uu(me):-Fd,Io=pi===0?lu(re):Dh,pi<ts-1){var sy=L((kn-ra[pi])/(ot[pi].split(" ").length-1)),ml=ot[pi].split(" ");G.push([ml[0]+" ",Io,To]),Dh=0;for(var gl=1;gl<ml.length;gl++){var lg=(Od(ml[gl-1]+" "+ml[gl])-Od(ml[gl]))*Na+sy;gl==ml.length-1?G.push([ml[gl],lg,0]):G.push([ml[gl]+" ",lg,0]),Dh-=lg}}else G.push([ot[pi],Io,To]);G.push(["",Dh,0])}else{if(Xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(G=[],ts=ot.length,kn=kn!==0?kn:sg,pi=0;pi<ts;pi++){To=pi===0?uu(me):-Fd,Io=pi===0?lu(re):0;var ug=ot[pi].split(" ").length-1,cg=ug>0?(kn-ra[pi])/ug:0;pi<ts-1?lc.push(j(L(cg))):lc.push(0),G.push([ot[pi],Io,To])}}}(typeof Ce.R2L=="boolean"?Ce.R2L:Fe)===!0&&(G=Th(G,function(wr,Or,mi){return[wr.split("").reverse().join(""),Or,mi]})),Ze={text:G,x:re,y:me,options:Ce,mutex:{pdfEscape:dt,activeFontKey:et,fonts:bt,activeFontSize:ge}},_t.publish("postProcessText",Ze),G=Ze.text,Ti=Ze.mutex.isHex||!1;var dg=bt[et].encoding;dg!=="WinAnsiEncoding"&&dg!=="StandardEncoding"||(G=Th(G,function(wr,Or,mi){return[mu(wr),Or,mi]})),ot=ng(G),G=[];for(var dc,fc,hc,Bd=Array.isArray(ot[0])?1:0,pc="",Vd=function(wr,Or,mi){var Ri="";return mi instanceof zt?(mi=typeof Ce.angle=="number"?en(mi,new zt(1,0,0,1,wr,Or)):en(new zt(1,0,0,1,wr,Or),mi),R===T&&(mi=en(new zt(1,0,0,-1,0,0),mi)),Ri=mi.join(" ")+` Tm
`):Ri=j(wr)+" "+j(Or)+` Td
`,Ri},ia=0;ia<ot.length;ia++){switch(pc="",Bd){case 1:hc=(Ti?"<":"(")+ot[ia][0]+(Ti?">":")"),dc=parseFloat(ot[ia][1]),fc=parseFloat(ot[ia][2]);break;case 0:hc=(Ti?"<":"(")+ot[ia]+(Ti?">":")"),dc=lu(re),fc=uu(me)}lc!==void 0&&lc[ia]!==void 0&&(pc=lc[ia]+` Tw
`),ia===0?G.push(pc+Vd(dc,fc,Ai)+hc):Bd===0?G.push(pc+hc):Bd===1&&G.push(pc+Vd(dc,fc,Ai)+hc)}G=Bd===0?G.join(` Tj
T* `):G.join(` Tj
`),G+=` Tj
`;var vl=`BT
/`;return vl+=et+" "+ge+` Tf
`,vl+=j(ge*pu)+` TL
`,vl+=Dd+`
`,vl+=es,vl+=G,K(vl+="ET"),f[et]=!0,qr};var Ad=h.__private__.clip=h.clip=function(G){return K(G==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Ad("evenodd")},h.__private__.discardPath=h.discardPath=function(){return K("n"),this};var qi=h.__private__.isValidStyle=function(G){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(G)!==-1&&(re=!0),re};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(G){return qi(G)&&(u=G),this};var ou=h.__private__.getStyle=h.getStyle=function(G){var re=u;switch(G){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=G}return re},zi=h.close=function(){return K("h"),this};h.stroke=function(){return K("S"),this},h.fill=function(G){return ws("f",G),this},h.fillEvenOdd=function(G){return ws("f*",G),this},h.fillStroke=function(G){return ws("B",G),this},h.fillStrokeEvenOdd=function(G){return ws("B*",G),this};var ws=function(G,re){Pr(re)==="object"?ic(re,G):K(G)},_s=function(G){G===null||R===T&&G===void 0||(G=ou(G),K(G))};function au(G,re,me,Ce,Re){var Ze=new qm(re||this.boundingBox,me||this.xStep,Ce||this.yStep,this.gState,Re||this.matrix);Ze.stream=this.stream;var ot=G+"$$"+this.cloneIndex+++"$$";return Oe(ot,Ze),Ze}var ic=function(G,re){var me=yt[G.key],Ce=Ft[me];if(Ce instanceof _h)K("q"),K(hl(re)),Ce.gState&&h.setGState(Ce.gState),K(G.matrix.toString()+" cm"),K("/"+me+" sh"),K("Q");else if(Ce instanceof qm){var Re=new zt(1,0,0,-1,0,Nd());G.matrix&&(Re=Re.multiply(G.matrix||_e),me=au.call(Ce,G.key,G.boundingBox,G.xStep,G.yStep,Re).id),K("q"),K("/Pattern cs"),K("/"+me+" scn"),Ce.gState&&h.setGState(Ce.gState),K(re),K("Q")}},hl=function(G){switch(G){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},lo=h.moveTo=function(G,re){return K(j(L(G))+" "+j(v(re))+" m"),this},Td=h.lineTo=function(G,re){return K(j(L(G))+" "+j(v(re))+" l"),this},xs=h.curveTo=function(G,re,me,Ce,Re,Ze){return K([j(L(G)),j(v(re)),j(L(me)),j(v(Ce)),j(L(Re)),j(v(Ze)),"c"].join(" ")),this};h.__private__.line=h.line=function(G,re,me,Ce,Re){if(isNaN(G)||isNaN(re)||isNaN(me)||isNaN(Ce)||!qi(Re))throw new Error("Invalid arguments passed to jsPDF.line");return R===x?this.lines([[me-G,Ce-re]],G,re,[1,1],Re||"S"):this.lines([[me-G,Ce-re]],G,re,[1,1]).stroke()},h.__private__.lines=h.lines=function(G,re,me,Ce,Re,Ze){var ot,$t,Xt,wn,kn,cr,ri,Ai,qr,Mi,Ti,es;if(typeof G=="number"&&(es=me,me=re,re=G,G=es),Ce=Ce||[1,1],Ze=Ze||!1,isNaN(re)||isNaN(me)||!Array.isArray(G)||!Array.isArray(Ce)||!qi(Re)||typeof Ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(lo(re,me),ot=Ce[0],$t=Ce[1],wn=G.length,Mi=re,Ti=me,Xt=0;Xt<wn;Xt++)(kn=G[Xt]).length===2?(Mi=kn[0]*ot+Mi,Ti=kn[1]*$t+Ti,Td(Mi,Ti)):(cr=kn[0]*ot+Mi,ri=kn[1]*$t+Ti,Ai=kn[2]*ot+Mi,qr=kn[3]*$t+Ti,Mi=kn[4]*ot+Mi,Ti=kn[5]*$t+Ti,xs(cr,ri,Ai,qr,Mi,Ti));return Ze&&zi(),_s(Re),this},h.path=function(G){for(var re=0;re<G.length;re++){var me=G[re],Ce=me.c;switch(me.op){case"m":lo(Ce[0],Ce[1]);break;case"l":Td(Ce[0],Ce[1]);break;case"c":xs.apply(this,Ce);break;case"h":zi()}}return this},h.__private__.rect=h.rect=function(G,re,me,Ce,Re){if(isNaN(G)||isNaN(re)||isNaN(me)||isNaN(Ce)||!qi(Re))throw new Error("Invalid arguments passed to jsPDF.rect");return R===x&&(Ce=-Ce),K([j(L(G)),j(v(re)),j(L(me)),j(L(Ce)),"re"].join(" ")),_s(Re),this},h.__private__.triangle=h.triangle=function(G,re,me,Ce,Re,Ze,ot){if(isNaN(G)||isNaN(re)||isNaN(me)||isNaN(Ce)||isNaN(Re)||isNaN(Ze)||!qi(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-G,Ce-re],[Re-me,Ze-Ce],[G-Re,re-Ze]],G,re,[1,1],ot,!0),this},h.__private__.roundedRect=h.roundedRect=function(G,re,me,Ce,Re,Ze,ot){if(isNaN(G)||isNaN(re)||isNaN(me)||isNaN(Ce)||isNaN(Re)||isNaN(Ze)||!qi(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return Re=Math.min(Re,.5*me),Ze=Math.min(Ze,.5*Ce),this.lines([[me-2*Re,0],[Re*$t,0,Re,Ze-Ze*$t,Re,Ze],[0,Ce-2*Ze],[0,Ze*$t,-Re*$t,Ze,-Re,Ze],[2*Re-me,0],[-Re*$t,0,-Re,-Ze*$t,-Re,-Ze],[0,2*Ze-Ce],[0,-Ze*$t,Re*$t,-Ze,Re,-Ze]],G+Re,re,[1,1],ot,!0),this},h.__private__.ellipse=h.ellipse=function(G,re,me,Ce,Re){if(isNaN(G)||isNaN(re)||isNaN(me)||isNaN(Ce)||!qi(Re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ze=4/3*(Math.SQRT2-1)*me,ot=4/3*(Math.SQRT2-1)*Ce;return lo(G+me,re),xs(G+me,re-ot,G+Ze,re-Ce,G,re-Ce),xs(G-Ze,re-Ce,G-me,re-ot,G-me,re),xs(G-me,re+ot,G-Ze,re+Ce,G,re+Ce),xs(G+Ze,re+Ce,G+me,re+ot,G+me,re),_s(Re),this},h.__private__.circle=h.circle=function(G,re,me,Ce){if(isNaN(G)||isNaN(re)||isNaN(me)||!qi(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(G,re,me,me,Ce)},h.setFont=function(G,re,me){return me&&(re=U(re,me)),et=pn(G,re,{disableWarning:!1}),this};var Id=h.__private__.getFont=h.getFont=function(){return bt[pn.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var G,re,me={};for(G in ut)if(ut.hasOwnProperty(G))for(re in me[G]=[],ut[G])ut[G].hasOwnProperty(re)&&me[G].push(re);return me},h.addFont=function(G,re,me,Ce,Re){var Ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ze.indexOf(arguments[3])!==-1?Re=arguments[3]:arguments[3]&&Ze.indexOf(arguments[3])==-1&&(me=U(me,Ce)),$e.call(this,G,re,me,Re=Re||"Identity-H")};var na,pl=t.lineWidth||.200025,Sh=h.__private__.getLineWidth=h.getLineWidth=function(){return pl},mn=h.__private__.setLineWidth=h.setLineWidth=function(G){return pl=G,K(j(L(G))+" w"),this};h.__private__.setLineDash=Kt.API.setLineDash=Kt.API.setLineDashPattern=function(G,re){if(G=G||[],re=re||0,isNaN(re)||!Array.isArray(G))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return G=G.map(function(me){return j(L(me))}).join(" "),re=j(L(re)),K("["+G+"] "+re+" d"),this};var sc=h.__private__.getLineHeight=h.getLineHeight=function(){return ge*na};h.__private__.getLineHeight=h.getLineHeight=function(){return ge*na};var PE=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(G){return typeof(G=G||1.15)=="number"&&(na=G),this},LE=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return na};PE(t.lineHeight);var lu=h.__private__.getHorizontalCoordinate=function(G){return L(G)},uu=h.__private__.getVerticalCoordinate=function(G){return R===T?G:Vt[X].mediaBox.topRightY-Vt[X].mediaBox.bottomLeftY-L(G)},FE=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(G){return j(lu(G))},OE=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(G){return j(uu(G))},Ch=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return xt(Ch)},h.__private__.setStrokeColor=h.setDrawColor=function(G,re,me,Ce){return Ch=Dn({ch1:G,ch2:re,ch3:me,ch4:Ce,pdfColorType:"draw",precision:2}),K(Ch),this};var Km=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return xt(Km)},h.__private__.setFillColor=h.setFillColor=function(G,re,me,Ce){return Km=Dn({ch1:G,ch2:re,ch3:me,ch4:Ce,pdfColorType:"fill",precision:2}),K(Km),this};var Dd=t.textColor||"0 g",BE=h.__private__.getTextColor=h.getTextColor=function(){return xt(Dd)};h.__private__.setTextColor=h.setTextColor=function(G,re,me,Ce){return Dd=Dn({ch1:G,ch2:re,ch3:me,ch4:Ce,pdfColorType:"text",precision:3}),this};var cu=t.charSpace,VE=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(cu||0)};h.__private__.setCharSpace=h.setCharSpace=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return cu=G,this};var Zm=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(G){var re=h.CapJoinStyles[G];if(re===void 0)throw new Error("Line cap style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zm=re,K(re+" J"),this};var Jm=0;h.__private__.setLineJoin=h.setLineJoin=function(G){var re=h.CapJoinStyles[G];if(re===void 0)throw new Error("Line join style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jm=re,K(re+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(G){if(G=G||0,isNaN(G))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(j(L(G))+" M"),this},h.GState=EE,h.setGState=function(G){(G=typeof G=="string"?ft[Bt[G]]:Qv(null,G)).equals(Nt)||(K("/"+G.id+" gs"),Nt=G)};var Qv=function(G,re){if(!G||!Bt[G]){var me=!1;for(var Ce in ft)if(ft.hasOwnProperty(Ce)&&ft[Ce].equals(re)){me=!0;break}if(me)re=ft[Ce];else{var Re="GS"+(Object.keys(ft).length+1).toString(10);ft[Re]=re,re.id=Re}return G&&(Bt[G]=re.id),_t.publish("addGState",re),re}};h.addGState=function(G,re){return Qv(G,re),this},h.saveGraphicsState=function(){return K("q"),wt.push({key:et,size:ge,color:Dd}),this},h.restoreGraphicsState=function(){K("Q");var G=wt.pop();return et=G.key,ge=G.size,Dd=G.color,Nt=null,this},h.setCurrentTransformationMatrix=function(G){return K(G.toString()+" cm"),this},h.comment=function(G){return K("#"+G),this};var du=function(G,re){var me=G||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(Ze){isNaN(Ze)||(me=parseFloat(Ze))}});var Ce=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Ze){isNaN(Ze)||(Ce=parseFloat(Ze))}});var Re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Re},set:function(Ze){Re=Ze.toString()}}),this},Qm=function(G,re,me,Ce){du.call(this,G,re),this.type="rect";var Re=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Re},set:function(ot){isNaN(ot)||(Re=parseFloat(ot))}});var Ze=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ze},set:function(ot){isNaN(ot)||(Ze=parseFloat(ot))}}),this},Ah=function(){this.page=vt,this.currentPage=X,this.pages=te.slice(0),this.pagesContext=Vt.slice(0),this.x=nt,this.y=it,this.matrix=Ge,this.width=tg(X),this.height=ty(X),this.outputDestination=ve,this.id="",this.objectNumber=-1};Ah.prototype.restore=function(){vt=this.page,X=this.currentPage,Vt=this.pagesContext,te=this.pages,nt=this.x,it=this.y,Ge=this.matrix,ey(X,this.width),fu(X,this.height),ve=this.outputDestination};var eg=function(G,re,me,Ce,Re){Ht.push(new Ah),vt=X=0,te=[],nt=G,it=re,Ge=Re,Mt([me,Ce])};for(var kd in h.beginFormObject=function(G,re,me,Ce,Re){return eg(G,re,me,Ce,Re),this},h.endFormObject=function(G){return(function(re){if(Qt[re])Ht.pop().restore();else{var me=new Ah,Ce="Xo"+(Object.keys(ir).length+1).toString(10);me.id=Ce,Qt[re]=Ce,ir[Ce]=me,_t.publish("addFormObject",me),Ht.pop().restore()}})(G),this},h.doFormObject=function(G,re){var me=ir[Qt[G]];return K("q"),K(re.toString()+" cm"),K("/"+me.id+" Do"),K("Q"),this},h.getFormObject=function(G){var re=ir[Qt[G]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},h.save=function(G,re){return G=G||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(wh(Ni(ni()),G),typeof wh.unload=="function"&&bn.setTimeout&&setTimeout(wh.unload,911),this):new Promise(function(me,Ce){try{var Re=wh(Ni(ni()),G);typeof wh.unload=="function"&&bn.setTimeout&&setTimeout(wh.unload,911),me(Re)}catch(Ze){Ce(Ze.message)}})},Kt.API)Kt.API.hasOwnProperty(kd)&&(kd==="events"&&Kt.API.events.length?(function(G,re){var me,Ce,Re;for(Re=re.length-1;Re!==-1;Re--)me=re[Re][0],Ce=re[Re][1],G.subscribe.apply(G,[me].concat(typeof Ce=="function"?[Ce]:Ce))})(_t,Kt.API.events):h[kd]=Kt.API[kd]);function tg(G){return Vt[G].mediaBox.topRightX-Vt[G].mediaBox.bottomLeftX}function ey(G,re){Vt[G].mediaBox.topRightX=re+Vt[G].mediaBox.bottomLeftX}function ty(G){return Vt[G].mediaBox.topRightY-Vt[G].mediaBox.bottomLeftY}function fu(G,re){Vt[G].mediaBox.topRightY=re+Vt[G].mediaBox.bottomLeftY}var hu=h.getPageWidth=function(G){return tg(G=G||X)/tt},ny=h.setPageWidth=function(G,re){ey(G,re*tt)},Nd=h.getPageHeight=function(G){return ty(G=G||X)/tt},ry=h.setPageHeight=function(G,re){fu(G,re*tt)};return h.internal={pdfEscape:dt,getStyle:ou,getFont:Id,getFontSize:Ee,getCharSpace:VE,getTextColor:BE,getLineHeight:sc,getLineHeightFactor:LE,getLineWidth:Sh,write:ce,getHorizontalCoordinate:lu,getVerticalCoordinate:uu,getCoordinateString:FE,getVerticalCoordinateString:OE,collections:{},newObject:Xe,newAdditionalObject:At,newObjectDeferred:sn,newObjectDeferredBegin:pt,getFilters:hn,putStream:un,events:_t,scaleFactor:tt,pageSize:{getWidth:function(){return hu(X)},setWidth:function(G){ny(X,G)},getHeight:function(){return Nd(X)},setHeight:function(G){ry(X,G)}},encryptionOptions:c,encryption:Zr,getEncryptor:function(G){return c!==null?Zr.encryptor(G,0):function(re){return re}},output:Bs,getNumberOfPages:nn,get pages(){return te},out:K,f2:E,f3:C,getPageInfo:bs,getPageInfoByObjId:Wn,getCurrentPageInfo:ur,getPDFVersion:m,Point:du,Rectangle:Qm,Matrix:zt,hasHotfix:Ci},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return hu(X)},set:function(G){ny(X,G)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Nd(X)},set:function(G){ry(X,G)},enumerable:!0,configurable:!0}),function(G){for(var re=0,me=we.length;re<me;re++){var Ce=$e.call(this,G[re][0],G[re][1],G[re][2],we[re][3],!0);d===!1&&(f[Ce]=!0);var Re=G[re][0].split("-");Qe({id:Ce,fontName:Re[0],fontStyle:Re[1]||""})}_t.publish("addFonts",{fonts:bt,dictionary:ut})}.call(h,we),et="F1",Pt(i,n),_t.publish("initialized"),h}Hm.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Hm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hm.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Hm.prototype.processOwnerPassword=function(t,e){return Y6(G6(e).substr(0,5),t)},Hm.prototype.encryptor=function(t,e){var n=G6(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Y6(n,r)}},EE.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Pr(t)!==Pr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Kt.API={events:[]},Kt.version="4.0.0";var di=Kt.API,Z6=1,Eh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Um=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sn=function(t){return t.toFixed(2)},Ed=function(t){return t.toFixed(5)};di.__acroform__={};var Ao=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Yj=function(t){return t*Z6},ru=function(t){var e=new vH,n=jt.internal.getHeight(t)||0,r=jt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Sn(r)),Number(Sn(n))],e},kbe=di.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Nbe=di.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Mbe=di.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},xi=di.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Mbe(t,e-1)},Ei=di.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kbe(t,e-1)},Si=di.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Nbe(t,e-1)},Rbe=di.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Sn(l.lowerLeft_X)),Number(Sn(l.lowerLeft_Y)),Number(Sn(l.upperRight_X)),Number(Sn(l.upperRight_Y))]},Pbe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=X6(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Sn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ru(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},X6=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=jt.internal.getHeight(t)||0;o=o<0?-o:o;var a=jt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(E,C,L){if(E+1<i.length){var v=C+" "+i[E+1][0];return mE(v,t,L).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,d=mE("3",t,s).height,f=t.multiline?o-s:(o-d)/2,h=f+=2,p=0,m=0,g=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+mE(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",x=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var R=!1;if(i[T].length!==1&&g!==i[T].length-1){if((d+2)*(x+2)+2>o)continue e;y+=i[T][g],R=!0,m=T,T--}else{y=(y+=i[T][g]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var $=parseInt(T),O=l($,y,s),U=T>=i.length-1;if(O&&!U){y+=" ",g=0;continue}if(O||U){if(U)m=$;else if(t.multiline&&(d+2)*(x+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(x+2)+2>o)continue e;m=$}}for(var j="",q=p;q<=m;q++){var H=i[q];if(t.multiline){if(q===m){j+=H[g]+" ",g=(g+1)%H.length;continue}if(q===p){j+=H[H.length-1]+" ";continue}}j+=H[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,c=mE(j,t,s).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=Sn(u)+" "+Sn(h)+` Td
`,e+="("+Eh(j)+`) Tj
`,e+=-Sn(u)+` 0 Td
`,h=-(s+2),c=0,p=R?m:m+1,x++,y=""}break}return r.text=e,r.fontSize=s,r},mE=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Lbe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Fbe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Obe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(dl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Lbe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Z6=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new yH,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Fbe(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=Rbe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=jt.createDefaultAppearanceStream(a),Pr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=Pbe(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var d="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var h=a.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var p=h[o];typeof p=="function"&&(p=p.call(i,a)),d+="/"+o+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(i,a)),d+="/"+o+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&(function(m,g){for(var y in m)if(m.hasOwnProperty(y)){var x=y,T=m[y];g.internal.newObjectDeferredBegin(T.objId,!0),Pr(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete m[x]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},gH=di.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Pr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Eh(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},H6=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Eh(r(t))+")"},iu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};iu.prototype.toString=function(){return this.objId+" 0 R"},iu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},iu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:gH(i,this.objId,this.scope)}):i instanceof iu?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var vH=function(){iu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ao(vH,iu);var yH=function(){iu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Eh(n(t))+")"}},set:function(n){t=n}})};Ao(yH,iu);var dl=function t(){iu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xi(e,3)},set:function(y){y?this.F=Ei(e,3):this.F=Si(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof SE)return;s="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Eh(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Z6:u},set:function(y){u=y}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof SE||this instanceof xh))return H6(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Qi==0?H6(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof Qi==0?y.substr(0,1)==="("?Um(y.substr(1,y.length-2)):Um(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi==1?Um(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Qi==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Qi==0?H6(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof Qi==0?y.substr(0,1)==="("?Um(y.substr(1,y.length-2)):Um(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi==1?Um(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Qi==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(y){p=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,1)},set:function(y){y?this.Ff=Ei(this.Ff,1):this.Ff=Si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,2)},set:function(y){y?this.Ff=Ei(this.Ff,2):this.Ff=Si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,3)},set:function(y){y?this.Ff=Ei(this.Ff,3):this.Ff=Si(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');g=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(g){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Ao(dl,iu);var zm=function(){dl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gH(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,18)},set:function(n){n?this.Ff=Ei(this.Ff,18):this.Ff=Si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ei(this.Ff,19):this.Ff=Si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,20)},set:function(n){n?(this.Ff=Ei(this.Ff,20),e.sort()):this.Ff=Si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,22)},set:function(n){n?this.Ff=Ei(this.Ff,22):this.Ff=Si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,23)},set:function(n){n?this.Ff=Ei(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,27)},set:function(n){n?this.Ff=Ei(this.Ff,27):this.Ff=Si(this.Ff,27)}}),this.hasAppearanceStream=!1};Ao(zm,dl);var Wm=function(){zm.call(this),this.fontName="helvetica",this.combo=!1};Ao(Wm,zm);var Gm=function(){Wm.call(this),this.combo=!0};Ao(Gm,Wm);var bE=function(){Gm.call(this),this.edit=!0};Ao(bE,Gm);var Qi=function(){dl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,15)},set:function(n){n?this.Ff=Ei(this.Ff,15):this.Ff=Si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,16)},set:function(n){n?this.Ff=Ei(this.Ff,16):this.Ff=Si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,17)},set:function(n){n?this.Ff=Ei(this.Ff,17):this.Ff=Si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,26)},set:function(n){n?this.Ff=Ei(this.Ff,26):this.Ff=Si(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Eh(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Pr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ao(Qi,dl);var wE=function(){Qi.call(this),this.pushButton=!0};Ao(wE,Qi);var Ym=function(){Qi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ao(Ym,Qi);var SE=function(){var t,e;dl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Eh(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Pr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ao(SE,dl),Ym.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ym.prototype.createOption=function(t){var e=new SE;return e.Parent=this,e.optionName=t,this.Kids.push(e),Bbe.call(this.scope,e),e};var _E=function(){Qi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=jt.CheckBox.createAppearanceStream()};Ao(_E,Qi);var xh=function(){dl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,13)},set:function(e){e?this.Ff=Ei(this.Ff,13):this.Ff=Si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,21)},set:function(e){e?this.Ff=Ei(this.Ff,21):this.Ff=Si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,23)},set:function(e){e?this.Ff=Ei(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,24)},set:function(e){e?this.Ff=Ei(this.Ff,24):this.Ff=Si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,25)},set:function(e){e?this.Ff=Ei(this.Ff,25):this.Ff=Si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,26)},set:function(e){e?this.Ff=Ei(this.Ff,26):this.Ff=Si(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ao(xh,dl);var xE=function(){xh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,14)},set:function(t){t?this.Ff=Ei(this.Ff,14):this.Ff=Si(this.Ff,14)}}),this.password=!0};Ao(xE,xh);var jt={CheckBox:{createAppearanceStream:function(){return{N:{On:jt.CheckBox.YesNormal},D:{On:jt.CheckBox.YesPushDown,Off:jt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ru(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=X6(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Sn(jt.internal.getWidth(t))+" "+Sn(jt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Sn(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ru(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=jt.internal.getHeight(t),o=jt.internal.getWidth(t),a=X6(t,t.caption);return i.push("1 g"),i.push("0 0 "+Sn(o)+" "+Sn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Sn(o-1)+" "+Sn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Sn(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ru(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Sn(jt.internal.getWidth(t))+" "+Sn(jt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=jt.RadioButton.Circle.YesNormal,e.D[t]=jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ru(t);e.scope=t.scope;var n=[],r=jt.internal.getWidth(t)<=jt.internal.getHeight(t)?jt.internal.getWidth(t)/4:jt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=jt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ed(jt.internal.getWidth(t)/2)+" "+Ed(jt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ru(t);e.scope=t.scope;var n=[],r=jt.internal.getWidth(t)<=jt.internal.getHeight(t)?jt.internal.getWidth(t)/4:jt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*jt.internal.Bezier_C).toFixed(5)),o=Number((r*jt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ed(jt.internal.getWidth(t)/2)+" "+Ed(jt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ed(jt.internal.getWidth(t)/2)+" "+Ed(jt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ru(t);e.scope=t.scope;var n=[],r=jt.internal.getWidth(t)<=jt.internal.getHeight(t)?jt.internal.getWidth(t)/4:jt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*jt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ed(jt.internal.getWidth(t)/2)+" "+Ed(jt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=jt.RadioButton.Cross.YesNormal,e.D[t]=jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ru(t);e.scope=t.scope;var n=[],r=jt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Sn(jt.internal.getWidth(t)-2)+" "+Sn(jt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Sn(r.x1.x)+" "+Sn(r.x1.y)+" m"),n.push(Sn(r.x2.x)+" "+Sn(r.x2.y)+" l"),n.push(Sn(r.x4.x)+" "+Sn(r.x4.y)+" m"),n.push(Sn(r.x3.x)+" "+Sn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ru(t);e.scope=t.scope;var n=jt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Sn(jt.internal.getWidth(t))+" "+Sn(jt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Sn(jt.internal.getWidth(t)-2)+" "+Sn(jt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Sn(n.x1.x)+" "+Sn(n.x1.y)+" m"),r.push(Sn(n.x2.x)+" "+Sn(n.x2.y)+" l"),r.push(Sn(n.x4.x)+" "+Sn(n.x4.y)+" m"),r.push(Sn(n.x3.x)+" "+Sn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ru(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Sn(jt.internal.getWidth(t))+" "+Sn(jt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};jt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=jt.internal.getWidth(t),n=jt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},jt.internal.getWidth=function(t){var e=0;return Pr(t)==="object"&&(e=Yj(t.Rect[2])),e},jt.internal.getHeight=function(t){var e=0;return Pr(t)==="object"&&(e=Yj(t.Rect[3])),e};var Bbe=di.addField=function(t){if(Obe(this,t),!(t instanceof dl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};di.AcroFormChoiceField=zm,di.AcroFormListBox=Wm,di.AcroFormComboBox=Gm,di.AcroFormEditBox=bE,di.AcroFormButton=Qi,di.AcroFormPushButton=wE,di.AcroFormRadioButton=Ym,di.AcroFormCheckBox=_E,di.AcroFormTextField=xh,di.AcroFormPasswordField=xE,di.AcroFormAppearance=jt,di.AcroForm={ChoiceField:zm,ListBox:Wm,ComboBox:Gm,EditBox:bE,Button:Qi,PushButton:wE,RadioButton:Ym,CheckBox:_E,TextField:xh,PasswordField:xE,Appearance:jt},Kt.AcroForm={ChoiceField:zm,ListBox:Wm,ComboBox:Gm,EditBox:bE,Button:Qi,PushButton:wE,RadioButton:Ym,CheckBox:_E,TextField:xh,PasswordField:xE,Appearance:jt};var TNe=Kt.AcroForm;function bH(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(E,C){var L,v,b,_,w,S=n;if((C=C||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(O(E))for(w in r)for(b=r[w],L=0;L<b.length;L+=1){for(_=!0,v=0;v<b[L].length;v+=1)if(b[L][v]!==void 0&&b[L][v]!==E[v]){_=!1;break}if(_===!0){S=w;break}}else for(w in r)for(b=r[w],L=0;L<b.length;L+=1){for(_=!0,v=0;v<b[L].length;v+=1)if(b[L][v]!==void 0&&b[L][v]!==E.charCodeAt(v)){_=!1;break}if(_===!0){S=w;break}}return S===n&&C!==n&&(S=C),S},s=function E(C){for(var L=this.internal.write,v=this.internal.putStream,b=(0,this.internal.getFilters)();b.indexOf("FlateEncode")!==-1;)b.splice(b.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var _=[];if(_.push({key:"Type",value:"/XObject"}),_.push({key:"Subtype",value:"/Image"}),_.push({key:"Width",value:C.width}),_.push({key:"Height",value:C.height}),C.colorSpace===y.INDEXED?_.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(_.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===y.DEVICE_CMYK&&_.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),_.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&_.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var w="",S=0,I=C.transparency.length;S<I;S++)w+=C.transparency[S]+" "+C.transparency[S]+" ";_.push({key:"Mask",value:"["+w+"]"})}C.sMask!==void 0&&_.push({key:"SMask",value:C.objectId+1+" 0 R"});var F=C.filter!==void 0?["/"+C.filter]:void 0;if(v({data:C.data,additionalKeyValues:_,alreadyAppliedFilters:F,objectId:C.objectId}),L("endobj"),"sMask"in C&&C.sMask!==void 0){var W,B=(W=C.sMaskBitsPerComponent)!==null&&W!==void 0?W:C.bitsPerComponent,X={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:C.sMask};"filter"in C&&(X.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(C.width),X.filter=C.filter),E.call(this,X)}if(C.colorSpace===y.INDEXED){var M=this.internal.newObject();v({data:j(new Uint8Array(C.palette)),objectId:M}),L("endobj")}},o=function(){var E=this.internal.collections[e+"images"];for(var C in E)s.call(this,E[C])},a=function(){var E,C=this.internal.collections[e+"images"],L=this.internal.write;for(var v in C)L("/I"+(E=C[v]).index,E.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var E=this.internal.collections[e+"images"];return l.call(this),E},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(E){return typeof t["process"+E.toUpperCase()]=="function"},f=function(E){return Pr(E)==="object"&&E.nodeType===1},h=function(E,C){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var L=""+E.getAttribute("src");if(L.indexOf("data:image/")===0)return yE(unescape(L).split("base64,").pop());var v=t.loadFile(L,!0);if(v!==void 0)return v}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var b;switch(C){case"PNG":b="image/png";break;case"WEBP":b="image/webp";break;default:b="image/jpeg"}return yE(E.toDataURL(b,1).split("base64,").pop())}},p=function(E){var C=this.internal.collections[e+"images"];if(C){for(var L in C)if(E===C[L].alias)return C[L]}},m=function(E,C,L){return E||C||(E=-96,C=-96),E<0&&(E=-1*L.width*72/E/this.internal.scaleFactor),C<0&&(C=-1*L.height*72/C/this.internal.scaleFactor),E===0&&(E=C*L.width/L.height),C===0&&(C=E*L.height/L.width),[E,C]},g=function(E,C,L,v,b,_){var w=m.call(this,L,v,b),S=this.internal.getCoordinateString,I=this.internal.getVerticalCoordinateString,F=u.call(this);if(L=w[0],v=w[1],F[b.index]=b,_){_*=Math.PI/180;var W=Math.cos(_),B=Math.sin(_),X=function(Y){return Y.toFixed(4)},M=[X(W),X(B),X(-1*B),X(W),0,0,"cm"]}this.internal.write("q"),_?(this.internal.write([1,"0","0",1,S(E),I(C+v),"cm"].join(" ")),this.internal.write(M.join(" ")),this.internal.write([S(L),"0","0",S(v),"0","0","cm"].join(" "))):this.internal.write([S(L),"0","0",S(v),S(E),I(C+v),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+b.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=t.__addimage__.sHashCode=function(E){var C,L,v=0;if(typeof E=="string")for(L=E.length,C=0;C<L;C++)v=(v<<5)-v+E.charCodeAt(C),v|=0;else if(O(E))for(L=E.byteLength/2,C=0;C<L;C++)v=(v<<5)-v+E[C],v|=0;return v},R=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var C=!0;return E.length===0&&(C=!1),E.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(C=!1),C},$=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var C=E.indexOf(",");return C<0?null:E.substring(0,C).trim().endsWith("base64")?E.substring(C+1):null};t.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},U=t.__addimage__.binaryStringToUint8Array=function(E){for(var C=E.length,L=new Uint8Array(C),v=0;v<C;v++)L[v]=E.charCodeAt(v);return L},j=t.__addimage__.arrayBufferToBinaryString=function(E){for(var C="",L=O(E)?E:new Uint8Array(E),v=0;v<L.length;v+=8192)C+=String.fromCharCode.apply(null,L.subarray(v,v+8192));return C};t.addImage=function(){var E,C,L,v,b,_,w,S,I;if(typeof arguments[1]=="number"?(C=n,L=arguments[1],v=arguments[2],b=arguments[3],_=arguments[4],w=arguments[5],S=arguments[6],I=arguments[7]):(C=arguments[1],L=arguments[2],v=arguments[3],b=arguments[4],_=arguments[5],w=arguments[6],S=arguments[7],I=arguments[8]),Pr(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var F=E;E=F.imageData,C=F.format||C||n,L=F.x||L||0,v=F.y||v||0,b=F.w||F.width||b,_=F.h||F.height||_,w=F.alias||w,S=F.compression||S,I=F.rotation||F.angle||I}var W=this.internal.getFilters();if(S===void 0&&W.indexOf("FlateEncode")!==-1&&(S="SLOW"),isNaN(L)||isNaN(v))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=q.call(this,E,C,w,S);return g.call(this,L,v,b,_,B,I),this};var q=function(E,C,L,v){var b,_,w;if(typeof E=="string"&&i(E)===n){E=unescape(E);var S=H(E,!1);(S!==""||(S=t.loadFile(E,!0))!==void 0)&&(E=S)}if(f(E)&&(E=h(E,C)),C=i(E,C),!d(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((w=L)==null||w.length===0)&&(L=(function(I){return typeof I=="string"||O(I)?T(I):O(I.data)?T(I.data):null})(E)),(b=p.call(this,L))||(E instanceof Uint8Array||C==="RGBA"||(_=E,E=U(E)),b=this["process"+C.toUpperCase()](E,c.call(this),L,(function(I){return I&&typeof I=="string"&&(I=I.toUpperCase()),I in t.image_compression?I:x.NONE})(v),_)),!b)throw new Error("An unknown error occurred whilst processing the image.");return b},H=t.__addimage__.convertBase64ToBinaryString=function(E,C){C=typeof C!="boolean"||C;var L,v="";if(typeof E=="string"){var b;L=(b=$(E))!==null&&b!==void 0?b:E;try{v=yE(L)}catch(_){if(C)throw R(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+_.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return v};t.getImageProperties=function(E){var C,L,v="";if(f(E)&&(E=h(E)),typeof E=="string"&&i(E)===n&&((v=H(E,!1))===""&&(v=t.loadFile(E)||""),E=v),L=i(E),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(E instanceof Uint8Array||(E=U(E)),!(C=this["process"+L.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=L,C}})(Kt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Kt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){r=u[f];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),x=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+h(y(r.contents))+")",s+=" /Popup "+g.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(y(x))+") >>",m.content=s;var T=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+T,r.open&&(s+=" /Open true"),s+=" >>",g.content=s,this.internal.write(m.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(p(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var $=this.annotations._nameMap[r.options.name];r.options.pageNumber=$.page,r.options.top=$.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var O=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+O+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Kt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},a=t.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&s(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&s(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&s(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&s(m)&&e[m.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&s(m)&&e[m.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(m){var g=0,y=n,x="",T=0;for(g=0;g<m.length;g+=1)y[m.charCodeAt(g)]!==void 0?(T++,typeof(y=y[m.charCodeAt(g)])=="number"&&(x+=String.fromCharCode(y),y=n,T=0),g===m.length-1&&(y=n,x+=m.charAt(g-(T-1)),g-=T-1,T=0)):(y=n,x+=m.charAt(g-T),g-=T,T=0);return x};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&r[m.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(m,g,y){return o(m)?s(m)===!1?-1:!u(m)||!o(g)&&!o(y)||!o(y)&&a(g)||a(m)&&!o(g)||a(m)&&l(g)||a(m)&&a(g)?0:c(m)&&o(g)&&!a(g)&&o(y)&&u(y)?3:a(m)||!o(y)?1:2:-1},h=function(m){var g=0,y=0,x=0,T="",R="",$="",O=(m=m||"").split("\\s+"),U=[];for(g=0;g<O.length;g+=1){for(U.push(""),y=0;y<O[g].length;y+=1)T=O[g][y],R=O[g][y-1],$=O[g][y+1],o(T)?(x=f(T,R,$),U[g]+=x!==-1?String.fromCharCode(e[T.charCodeAt(0)][x]):T):U[g]+=T;U[g]=d(U[g])}return U.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var m,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(g)){var x=0;for(y=[],x=0;x<g.length;x+=1)Array.isArray(g[x])?y.push([h(g[x][0]),g[x][1],g[x][2]]):y.push([h(g[x])]);m=y}else m=h(g);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",p])})(Kt.API),Kt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Kt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,h=0,p=0,m=0,g=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(T,R){return T.concat(g.splitTextToSize(R,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)h<(m=this.getStringUnitWidth(l[x],{font:d})*c)&&(h=m);return h!==0&&(p=l.length),{w:h/=f,h:Math.max((p*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,d,f){if(r.call(this),!c)throw new Error("No data for PDF table.");var h,p,m,g,y=[],x=[],T=[],R={},$={},O=[],U=[],j=(f=f||{}).autoSize||!1,q=f.printHeaders!==!1,H=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,E=f.margins||Object.assign({width:this.getPageWidth()},e),C=typeof f.padding=="number"?f.padding:3,L=f.headerBackgroundColor||"#c8c8c8",v=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=v,this.setFontSize(H),d==null)x=y=Object.keys(c[0]),T=y.map(function(){return"left"});else if(Array.isArray(d)&&Pr(d[0])==="object")for(y=d.map(function(F){return F.name}),x=d.map(function(F){return F.prompt||F.name||""}),T=d.map(function(F){return F.align||"left"}),h=0;h<d.length;h+=1)$[d[h].name]=.7499990551181103*d[h].width;else Array.isArray(d)&&typeof d[0]=="string"&&(x=y=d,T=y.map(function(){return"left"}));if(j||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<y.length;h+=1){for(R[g=y[h]]=c.map(function(F){return F[g]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=R[g],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)O.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[g]=Math.max.apply(null,O)+C+C,O=[]}if(q){var b={};for(h=0;h<y.length;h+=1)b[y[h]]={},b[y[h]].text=x[h],b[y[h]].align=T[h];var _=a.call(this,b,$);U=y.map(function(F){return new s(l,u,$[F],_,b[F].text,void 0,b[F].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var w=d.reduce(function(F,W){return F[W.name]=W.align,F},{});for(h=0;h<c.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:c[h]},this);var S=a.call(this,c[h],$);for(m=0;m<y.length;m+=1){var I=c[h][y[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:m,data:I},this),o.call(this,new s(l,u,$[y[m]],S,I,h+2,w[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var p=l[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+c+c},this).reduce(function(h,p){return Math.max(h,p)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,f.push(c)),c.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}})(Kt.API);var wH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_H=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],K6=bH(_H),xH=[100,200,300,400,500,600,700,800,900],Vbe=bH(xH);function $6(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return wH[s=s||"normal"]?s:"normal"})(t.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof K6[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Xj(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Ube={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Kj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Zj(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Jj(t){return t.trimLeft()}function jbe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Hbe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var gE,Qj,eH,jm,vE,tH,nH,rH,q6=["times"];function iH(t,e,n,r,i){var s=4,o=oH;switch(i){case Kt.API.image_compression.FAST:s=1,o=sH;break;case Kt.API.image_compression.MEDIUM:s=6,o=aH;break;case Kt.API.image_compression.SLOW:s=9,o=lH}t=(function(l,u,c,d){for(var f,h=l.length/u,p=new Uint8Array(l.length+h),m=[$be,sH,oH,aH,lH],g=0;g<h;g+=1){var y=g*u,x=l.subarray(y,y+u);if(d)p.set(d(x,c,f),y+g);else{for(var T=m.length,R=[],$=0;$<T;$+=1)R[$]=m[$](x,c,f);var O=zbe(R.concat());p.set(R[O],y+g)}f=x}return p})(t,e,Math.ceil(n*r/8),o);var a=Wx(t,{level:s});return Kt.API.__addimage__.arrayBufferToBinaryString(a)}function $be(t){var e=Array.apply([],t);return e.unshift(0),e}function sH(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function oH(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function aH(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function lH(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=qbe(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function qbe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function zbe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function z6(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return EH(t,i)>>s&o}function uH(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(u,c,d){if(c+1<u.byteLength)u.setUint16(c,d,!1);else{var f=d>>8&255;u.setUint8(c,f)}})(t,s,EH(t,s)&~(a<<o)&65535|l)}function EH(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Wbe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],d=0,f=null,h=0,p=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];d=t[e++]|t[e++]<<8,f=t[e++],1&m||(f=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,R=t[e++],$=R>>6&1,O=1<<1+(7&R),U=a,j=l,q=!1;R>>7&&(q=!0,U=e,j=O,e+=3*O);var H=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}c.push({x:g,y,width:x,height:T,has_local_palette:q,palette_offset:U,palette_size:j,data_offset:H,data_length:e-H,transparent_index:f,interlaced:!!$,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(C){if(C<0||C>=c.length)throw new Error("Frame index out of range.");return c[C]},this.decodeAndBlitFrameBGRA=function(C,L){var v=this.frameInfo(C),b=v.width*v.height,_=new Uint8Array(b);cH(t,v.data_offset,_,b);var w=v.palette_offset,S=v.transparent_index;S===null&&(S=256);var I=v.width,F=n-I,W=I,B=4*(v.y*n+v.x),X=4*((v.y+v.height)*n+v.x),M=B,Y=4*F;v.interlaced===!0&&(Y+=4*n*7);for(var k=8,D=0,z=_.length;D<z;++D){var J=_[D];if(W===0&&(W=I,(M+=Y)>=X&&(Y=4*F+4*n*(k-1),M=B+(I+F)*(k<<1),k>>=1)),J===S)M+=4;else{var ne=t[w+3*J],te=t[w+3*J+1],se=t[w+3*J+2];L[M++]=se,L[M++]=te,L[M++]=ne,L[M++]=255}--W}},this.decodeAndBlitFrameRGBA=function(C,L){var v=this.frameInfo(C),b=v.width*v.height,_=new Uint8Array(b);cH(t,v.data_offset,_,b);var w=v.palette_offset,S=v.transparent_index;S===null&&(S=256);var I=v.width,F=n-I,W=I,B=4*(v.y*n+v.x),X=4*((v.y+v.height)*n+v.x),M=B,Y=4*F;v.interlaced===!0&&(Y+=4*n*7);for(var k=8,D=0,z=_.length;D<z;++D){var J=_[D];if(W===0&&(W=I,(M+=Y)>=X&&(Y=4*F+4*n*(k-1),M=B+(I+F)*(k<<1),k>>=1)),J===S)M+=4;else{var ne=t[w+3*J],te=t[w+3*J+1],se=t[w+3*J+2];L[M++]=ne,L[M++]=te,L[M++]=se,L[M++]=255}--W}}}function cH(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,c=0,d=0,f=0,h=t[e++],p=new Int32Array(4096),m=null;;){for(;c<16&&h!==0;)d|=t[e++]<<c,c+=8,h===1?h=t[e++]:--h;if(c<l)break;var g=d&u;if(d>>=l,c-=l,g!==s){if(g===o)break;for(var y=g<a?g:m,x=0,T=y;T>s;)T=p[T]>>8,++x;var R=T;if(f+x+(y!==g?1:0)>r)return void jr.log("Warning, gif stream longer than expected.");n[f++]=R;var $=f+=x;for(y!==g&&(n[f++]=R),T=y;x--;)T=p[T],n[--$]=255&T,T>>=8;m!==null&&a<4096&&(p[a++]=m<<8|R,a>=u+1&&l<12&&(++l,u=u<<1|1)),m=g}else a=o+1,u=(1<<(l=i+1))-1,m=null}return f!==r&&jr.log("Warning, gif stream shorter than expected."),n}function W6(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),p=new Array(64),m=[],g=0,y=7,x=new Array(64),T=new Array(64),R=new Array(64),$=new Array(256),O=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],v=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],b=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function _(B,X){for(var M=0,Y=0,k=new Array,D=1;D<=16;D++){for(var z=1;z<=B[D];z++)k[X[Y]]=[],k[X[Y]][0]=M,k[X[Y]][1]=D,Y++,M++;M*=2}return k}function w(B){for(var X=B[0],M=B[1]-1;M>=0;)X&1<<M&&(g|=1<<y),M--,--y<0&&(g==255?(S(255),S(0)):S(g),y=7,g=0)}function S(B){m.push(B)}function I(B){S(B>>8&255),S(255&B)}function F(B,X,M,Y,k){for(var D,z=k[0],J=k[240],ne=(function(ge,Se){var Ee,Fe,Ve,qe,ht,ze,rt,Ct,et,tt,nt=0;for(et=0;et<8;++et){Ee=ge[nt],Fe=ge[nt+1],Ve=ge[nt+2],qe=ge[nt+3],ht=ge[nt+4],ze=ge[nt+5],rt=ge[nt+6];var it=Ee+(Ct=ge[nt+7]),Ge=Ee-Ct,bt=Fe+rt,ut=Fe-rt,wt=Ve+ze,Ft=Ve-ze,yt=qe+ht,ft=qe-ht,Bt=it+yt,Nt=it-yt,vt=bt+wt,Vt=bt-wt;ge[nt]=Bt+vt,ge[nt+4]=Bt-vt;var _t=.707106781*(Vt+Nt);ge[nt+2]=Nt+_t,ge[nt+6]=Nt-_t;var Yt=.382683433*((Bt=ft+Ft)-(Vt=ut+Ge)),ir=.5411961*Bt+Yt,Qt=1.306562965*Vt+Yt,Ht=.707106781*(vt=Ft+ut),zt=Ge+Ht,en=Ge-Ht;ge[nt+5]=en+ir,ge[nt+3]=en-ir,ge[nt+1]=zt+Qt,ge[nt+7]=zt-Qt,nt+=8}for(nt=0,et=0;et<8;++et){Ee=ge[nt],Fe=ge[nt+8],Ve=ge[nt+16],qe=ge[nt+24],ht=ge[nt+32],ze=ge[nt+40],rt=ge[nt+48];var _e=Ee+(Ct=ge[nt+56]),Oe=Ee-Ct,He=Fe+rt,Xe=Fe-rt,sn=Ve+ze,pt=Ve-ze,At=qe+ht,jn=qe-ht,Rt=_e+At,xt=_e-At,Dn=He+sn,hn=He-sn;ge[nt]=Rt+Dn,ge[nt+32]=Rt-Dn;var un=.707106781*(hn+xt);ge[nt+16]=xt+un,ge[nt+48]=xt-un;var Zn=.382683433*((Rt=jn+pt)-(hn=Xe+Oe)),ar=.5411961*Rt+Zn,Hr=1.306562965*hn+Zn,fi=.707106781*(Dn=pt+Xe),$r=Oe+fi,si=Oe-fi;ge[nt+40]=si+ar,ge[nt+24]=si-ar,ge[nt+8]=$r+Hr,ge[nt+56]=$r-Hr,nt++}for(et=0;et<64;++et)tt=ge[et]*Se[et],h[et]=tt>0?tt+.5|0:tt-.5|0;return h})(B,X),te=0;te<64;++te)p[U[te]]=ne[te];var se=p[0]-M;M=p[0],se==0?w(Y[0]):(w(Y[f[D=32767+se]]),w(d[D]));for(var ve=63;ve>0&&p[ve]==0;)ve--;if(ve==0)return w(z),M;for(var ye,K=1;K<=ve;){for(var ce=K;p[K]==0&&K<=ve;)++K;var de=K-ce;if(de>=16){ye=de>>4;for(var we=1;we<=ye;++we)w(J);de&=15}D=32767+p[K],w(k[(de<<4)+f[D]]),w(d[D]),K++}return ve!=63&&w(z),M}function W(B){B=Math.min(Math.max(B,1),100),s!=B&&((function(X){for(var M=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var k=o((M[Y]*X+50)/100);k=Math.min(Math.max(k,1),255),a[U[Y]]=k}for(var D=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],z=0;z<64;z++){var J=o((D[z]*X+50)/100);J=Math.min(Math.max(J,1),255),l[U[z]]=J}for(var ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],te=0,se=0;se<8;se++)for(var ve=0;ve<8;ve++)u[te]=1/(a[U[te]]*ne[se]*ne[ve]*8),c[te]=1/(l[U[te]]*ne[se]*ne[ve]*8),te++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),s=B)}this.encode=function(B,X){X&&W(X),m=new Array,g=0,y=7,I(65496),I(65504),I(16),S(74),S(70),S(73),S(70),S(0),S(1),S(1),S(0),I(1),I(1),S(0),S(0),(function(){I(65499),I(132),S(0);for(var Fe=0;Fe<64;Fe++)S(a[Fe]);S(1);for(var Ve=0;Ve<64;Ve++)S(l[Ve])})(),(function(Fe,Ve){I(65472),I(17),S(8),I(Ve),I(Fe),S(3),S(1),S(17),S(0),S(2),S(17),S(1),S(3),S(17),S(1)})(B.width,B.height),(function(){I(65476),I(418),S(0);for(var Fe=0;Fe<16;Fe++)S(j[Fe+1]);for(var Ve=0;Ve<=11;Ve++)S(q[Ve]);S(16);for(var qe=0;qe<16;qe++)S(H[qe+1]);for(var ht=0;ht<=161;ht++)S(E[ht]);S(1);for(var ze=0;ze<16;ze++)S(C[ze+1]);for(var rt=0;rt<=11;rt++)S(L[rt]);S(17);for(var Ct=0;Ct<16;Ct++)S(v[Ct+1]);for(var et=0;et<=161;et++)S(b[et])})(),I(65498),I(12),S(3),S(1),S(0),S(2),S(17),S(3),S(17),S(0),S(63),S(0);var M=0,Y=0,k=0;g=0,y=7,this.encode.displayName="_encode_";for(var D,z,J,ne,te,se,ve,ye,K,ce=B.data,de=B.width,we=B.height,ge=4*de,Se=0;Se<we;){for(D=0;D<ge;){for(te=ge*Se+D,ve=-1,ye=0,K=0;K<64;K++)se=te+(ye=K>>3)*ge+(ve=4*(7&K)),Se+ye>=we&&(se-=ge*(Se+1+ye-we)),D+ve>=ge&&(se-=D+ve-ge+4),z=ce[se++],J=ce[se++],ne=ce[se++],x[K]=(O[z]+O[J+256|0]+O[ne+512|0]>>16)-128,T[K]=(O[z+768|0]+O[J+1024|0]+O[ne+1280|0]>>16)-128,R[K]=(O[z+1280|0]+O[J+1536|0]+O[ne+1792|0]>>16)-128;M=F(x,u,M,e,r),Y=F(T,c,Y,n,i),k=F(R,c,k,n,i),D+=32}Se+=8}if(y>=0){var Ee=[];Ee[1]=y+1,Ee[0]=(1<<y+1)-1,w(Ee)}return I(65497),new Uint8Array(m)},t=t||50,(function(){for(var B=String.fromCharCode,X=0;X<256;X++)$[X]=B(X)})(),e=_(j,q),n=_(C,L),r=_(H,E),i=_(v,b),(function(){for(var B=1,X=2,M=1;M<=15;M++){for(var Y=B;Y<X;Y++)f[32767+Y]=M,d[32767+Y]=[],d[32767+Y][1]=M,d[32767+Y][0]=Y;for(var k=-(X-1);k<=-B;k++)f[32767+k]=M,d[32767+k]=[],d[32767+k][1]=M,d[32767+k][0]=X-1+k;B<<=1,X<<=1}})(),(function(){for(var B=0;B<256;B++)O[B]=19595*B,O[B+256|0]=38470*B,O[B+512|0]=7471*B+32768,O[B+768|0]=-11059*B,O[B+1024|0]=-21709*B,O[B+1280|0]=32768*B+8421375,O[B+1536|0]=-27439*B,O[B+1792|0]=-5329*B})(),W(t)}function cl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dH(t){function e(q){if(!q)throw Error("assert :P")}function n(q,H,E){for(var C=0;4>C;C++)if(q[H+C]!=E.charCodeAt(C))return!0;return!1}function r(q,H,E,C,L){for(var v=0;v<L;v++)q[H+v]=E[C+v]}function i(q,H,E,C){for(var L=0;L<C;L++)q[H+L]=E}function s(q){return new Int32Array(q)}function o(q,H){for(var E=[],C=0;C<q;C++)E.push(new H);return E}function a(q,H){var E=[];return(function C(L,v,b){for(var _=b[v],w=0;w<_&&(L.push(b.length>v+1?[]:new H),!(b.length<v+1));w++)C(L[w],v+1,b)})(E,0,q),E}var l=function(){var q=this;function H(N,V){for(var Z=1<<V-1>>>0;N&Z;)Z>>>=1;return Z?(N&Z-1)+Z:N}function E(N,V,Z,Q,ie){e(!(Q%Z));do N[V+(Q-=Z)]=ie;while(0<Q)}function C(N,V,Z,Q,ie){if(e(2328>=ie),512>=ie)var oe=s(512);else if((oe=s(ie))==null)return 0;return(function(ae,le,ue,fe,Te,Ue){var he,De,Pe=le,We=1<<ue,Be=s(16),Ke=s(16);for(e(Te!=0),e(fe!=null),e(ae!=null),e(0<ue),De=0;De<Te;++De){if(15<fe[De])return 0;++Be[fe[De]]}if(Be[0]==Te)return 0;for(Ke[1]=0,he=1;15>he;++he){if(Be[he]>1<<he)return 0;Ke[he+1]=Ke[he]+Be[he]}for(De=0;De<Te;++De)he=fe[De],0<fe[De]&&(Ue[Ke[he]++]=De);if(Ke[15]==1)return(fe=new L).g=0,fe.value=Ue[0],E(ae,Pe,1,We,fe),We;var Je,mt=-1,at=We-1,Zt=0,Ot=1,Mn=1,Wt=1<<ue;for(De=0,he=1,Te=2;he<=ue;++he,Te<<=1){if(Ot+=Mn<<=1,0>(Mn-=Be[he]))return 0;for(;0<Be[he];--Be[he])(fe=new L).g=he,fe.value=Ue[De++],E(ae,Pe+Zt,Te,Wt,fe),Zt=H(Zt,he)}for(he=ue+1,Te=2;15>=he;++he,Te<<=1){if(Ot+=Mn<<=1,0>(Mn-=Be[he]))return 0;for(;0<Be[he];--Be[he]){if(fe=new L,(Zt&at)!=mt){for(Pe+=Wt,Je=1<<(mt=he)-ue;15>mt&&!(0>=(Je-=Be[mt]));)++mt,Je<<=1;We+=Wt=1<<(Je=mt-ue),ae[le+(mt=Zt&at)].g=Je+ue,ae[le+mt].value=Pe-le-mt}fe.g=he-ue,fe.value=Ue[De++],E(ae,Pe+(Zt>>ue),Te,Wt,fe),Zt=H(Zt,he)}}return Ot!=2*Ke[15]-1?0:We})(N,V,Z,Q,ie,oe)}function L(){this.value=this.g=0}function v(){this.value=this.g=0}function b(){this.G=o(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Od,v)}function _(N,V,Z,Q){e(N!=null),e(V!=null),e(2147483648>Q),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=V,N.pa=Z,N.Jd=V,N.Yc=Z+Q,N.Zc=4<=Q?Z+Q-4+1:Z,z(N)}function w(N,V){for(var Z=0;0<V--;)Z|=ne(N,128)<<V;return Z}function S(N,V){var Z=w(N,V);return J(N)?-Z:Z}function I(N,V,Z,Q){var ie,oe=0;for(e(N!=null),e(V!=null),e(4294967288>Q),N.Sb=Q,N.Ra=0,N.u=0,N.h=0,4<Q&&(Q=4),ie=0;ie<Q;++ie)oe+=V[Z+ie]<<8*ie;N.Ra=oe,N.bb=Q,N.oa=V,N.pa=Z}function F(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<uc-8>>>0,++N.bb,N.u-=8;Y(N)&&(N.h=1,N.u=0)}function W(N,V){if(e(0<=V),!N.h&&V<=Io){var Z=M(N)&To[V];return N.u+=V,F(N),Z}return N.h=1,N.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(N){return N.Ra>>>(N.u&uc-1)>>>0}function Y(N){return e(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>uc}function k(N,V){N.u=V,N.h=Y(N)}function D(N){N.u>=vu&&(e(N.u>=vu),F(N))}function z(N){e(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(e(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function J(N){return w(N,1)}function ne(N,V){var Z=N.Ca;0>N.b&&z(N);var Q=N.b,ie=Z*V>>>8,oe=(N.I>>>Q>ie)+0;for(oe?(Z-=ie,N.I-=ie+1<<Q>>>0):Z=ie+1,Q=Z,ie=0;256<=Q;)ie+=8,Q>>=8;return Q=7^ie+cc[Q],N.b-=Q,N.Ca=(Z<<Q)-1,oe}function te(N,V,Z){N[V+0]=Z>>24&255,N[V+1]=Z>>16&255,N[V+2]=Z>>8&255,N[V+3]=255&Z}function se(N,V){return N[V+0]|N[V+1]<<8}function ve(N,V){return se(N,V)|N[V+2]<<16}function ye(N,V){return se(N,V)|se(N,V+2)<<16}function K(N,V){var Z=1<<V;return e(N!=null),e(0<V),N.X=s(Z),N.X==null?0:(N.Mb=32-V,N.Xa=V,1)}function ce(N,V){e(N!=null),e(V!=null),e(N.Xa==V.Xa),r(V.X,0,N.X,0,1<<V.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function we(N,V,Z,Q){e(Z!=null),e(Q!=null);var ie=Z[0],oe=Q[0];return ie==0&&(ie=(N*oe+V/2)/V),oe==0&&(oe=(V*ie+N/2)/N),0>=ie||0>=oe?0:(Z[0]=ie,Q[0]=oe,1)}function ge(N,V){return N+(1<<V)-1>>>V}function Se(N,V){return((4278255360&N)+(4278255360&V)>>>0&4278255360)+((16711935&N)+(16711935&V)>>>0&16711935)>>>0}function Ee(N,V){q[V]=function(Z,Q,ie,oe,ae,le,ue){var fe;for(fe=0;fe<ae;++fe){var Te=q[N](le[ue+fe-1],ie,oe+fe);le[ue+fe]=Se(Z[Q+fe],Te)}}}function Fe(){this.ud=this.hd=this.jd=0}function Ve(N,V){return((4278124286&(N^V))>>>1)+(N&V)>>>0}function qe(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function ht(N,V){return qe(N+(N-V+.5>>1))}function ze(N,V,Z){return Math.abs(V-Z)-Math.abs(N-Z)}function rt(N,V,Z,Q,ie,oe,ae){for(Q=oe[ae-1],Z=0;Z<ie;++Z)oe[ae+Z]=Q=Se(N[V+Z],Q)}function Ct(N,V,Z,Q,ie){var oe;for(oe=0;oe<Z;++oe){var ae=N[V+oe],le=ae>>8&255,ue=16711935&(ue=(ue=16711935&ae)+((le<<16)+le));Q[ie+oe]=(4278255360&ae)+ue>>>0}}function et(N,V){V.jd=255&N,V.hd=N>>8&255,V.ud=N>>16&255}function tt(N,V,Z,Q,ie,oe){var ae;for(ae=0;ae<Q;++ae){var le=V[Z+ae],ue=le>>>8,fe=le,Te=255&(Te=(Te=le>>>16)+((N.jd<<24>>24)*(ue<<24>>24)>>>5));fe=255&(fe=(fe+=(N.hd<<24>>24)*(ue<<24>>24)>>>5)+((N.ud<<24>>24)*(Te<<24>>24)>>>5)),ie[oe+ae]=(4278255360&le)+(Te<<16)+fe}}function nt(N,V,Z,Q,ie){q[V]=function(oe,ae,le,ue,fe,Te,Ue,he,De){for(ue=Ue;ue<he;++ue)for(Ue=0;Ue<De;++Ue)fe[Te++]=ie(le[Q(oe[ae++])])},q[N]=function(oe,ae,le,ue,fe,Te,Ue){var he=8>>oe.b,De=oe.Ea,Pe=oe.K[0],We=oe.w;if(8>he)for(oe=(1<<oe.b)-1,We=(1<<he)-1;ae<le;++ae){var Be,Ke=0;for(Be=0;Be<De;++Be)Be&oe||(Ke=Q(ue[fe++])),Te[Ue++]=ie(Pe[Ke&We]),Ke>>=he}else q["VP8LMapColor"+Z](ue,fe,Pe,We,Te,Ue,ae,le,De)}}function it(N,V,Z,Q,ie){for(Z=V+Z;V<Z;){var oe=N[V++];Q[ie++]=oe>>16&255,Q[ie++]=oe>>8&255,Q[ie++]=255&oe}}function Ge(N,V,Z,Q,ie){for(Z=V+Z;V<Z;){var oe=N[V++];Q[ie++]=oe>>16&255,Q[ie++]=oe>>8&255,Q[ie++]=255&oe,Q[ie++]=oe>>24&255}}function bt(N,V,Z,Q,ie){for(Z=V+Z;V<Z;){var oe=(ae=N[V++])>>16&240|ae>>12&15,ae=240&ae|ae>>28&15;Q[ie++]=oe,Q[ie++]=ae}}function ut(N,V,Z,Q,ie){for(Z=V+Z;V<Z;){var oe=(ae=N[V++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;Q[ie++]=oe,Q[ie++]=ae}}function wt(N,V,Z,Q,ie){for(Z=V+Z;V<Z;){var oe=N[V++];Q[ie++]=255&oe,Q[ie++]=oe>>8&255,Q[ie++]=oe>>16&255}}function Ft(N,V,Z,Q,ie,oe){if(oe==0)for(Z=V+Z;V<Z;)te(Q,((oe=N[V++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ie+=32;else r(Q,ie,N,V,Z)}function yt(N,V){q[V][0]=q[N+"0"],q[V][1]=q[N+"1"],q[V][2]=q[N+"2"],q[V][3]=q[N+"3"],q[V][4]=q[N+"4"],q[V][5]=q[N+"5"],q[V][6]=q[N+"6"],q[V][7]=q[N+"7"],q[V][8]=q[N+"8"],q[V][9]=q[N+"9"],q[V][10]=q[N+"10"],q[V][11]=q[N+"11"],q[V][12]=q[N+"12"],q[V][13]=q[N+"13"],q[V][14]=q[N+"0"],q[V][15]=q[N+"0"]}function ft(N){return N==HE||N==$E||N==fy||N==qE}function Bt(){this.eb=[],this.size=this.A=this.fb=0}function Nt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bt,this.f.kb=new Nt,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yt(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function ir(N,V){var Z=N.T,Q=V.ba.f.RGBA,ie=Q.eb,oe=Q.fb+N.ka*Q.A,ae=oa[V.ba.S],le=N.y,ue=N.O,fe=N.f,Te=N.N,Ue=N.ea,he=N.W,De=V.cc,Pe=V.dc,We=V.Mc,Be=V.Nc,Ke=N.ka,Je=N.ka+N.T,mt=N.U,at=mt+1>>1;for(Ke==0?ae(le,ue,null,null,fe,Te,Ue,he,fe,Te,Ue,he,ie,oe,null,null,mt):(ae(V.ec,V.fc,le,ue,De,Pe,We,Be,fe,Te,Ue,he,ie,oe-Q.A,ie,oe,mt),++Z);Ke+2<Je;Ke+=2)De=fe,Pe=Te,We=Ue,Be=he,Te+=N.Rc,he+=N.Rc,oe+=2*Q.A,ae(le,(ue+=2*N.fa)-N.fa,le,ue,De,Pe,We,Be,fe,Te,Ue,he,ie,oe-Q.A,ie,oe,mt);return ue+=N.fa,N.j+Je<N.o?(r(V.ec,V.fc,le,ue,mt),r(V.cc,V.dc,fe,Te,at),r(V.Mc,V.Nc,Ue,he,at),Z--):1&Je||ae(le,ue,null,null,fe,Te,Ue,he,fe,Te,Ue,he,ie,oe+Q.A,null,null,mt),Z}function Qt(N,V,Z){var Q=N.F,ie=[N.J];if(Q!=null){var oe=N.U,ae=V.ba.S,le=ae==dy||ae==fy;V=V.ba.f.RGBA;var ue=[0],fe=N.ka;ue[0]=N.T,N.Kb&&(fe==0?--ue[0]:(--fe,ie[0]-=N.width),N.j+N.ka+N.T==N.o&&(ue[0]=N.o-N.j-fe));var Te=V.eb;fe=V.fb+fe*V.A,N=gk(Q,ie[0],N.width,oe,ue,Te,fe+(le?0:3),V.A),e(Z==ue),N&&ft(ae)&&hg(Te,fe,le,oe,ue,V.A)}return 0}function Ht(N){var V=N.ma,Z=V.ba.S,Q=11>Z,ie=Z==uy||Z==cy||Z==dy||Z==jE||Z==12||ft(Z);if(V.memory=null,V.Ib=null,V.Jb=null,V.Nd=null,!sg(V.Oa,N,ie?11:12))return 0;if(ie&&ft(Z)&&ng(),N.da)alert("todo:use_scaling");else{if(Q){if(V.Ib=Yt,N.Kb){if(Z=N.U+1>>1,V.memory=s(N.U+2*Z),V.memory==null)return 0;V.ec=V.memory,V.fc=0,V.cc=V.ec,V.dc=V.fc+N.U,V.Mc=V.cc,V.Nc=V.dc+Z,V.Ib=ir,ng()}}else alert("todo:EmitYUV");ie&&(V.Jb=Qt,Q&&Na())}if(Q&&!Rk){for(N=0;256>N;++N)h$[N]=89858*(N-128)+py>>hy,g$[N]=-22014*(N-128)+py,m$[N]=-45773*(N-128),p$[N]=113618*(N-128)+py>>hy;for(N=mg;N<GE;++N)V=76283*(N-16)+py>>hy,v$[N-mg]=lr(V,255),y$[N-mg]=lr(V+8>>4,15);Rk=1}return 1}function zt(N){var V=N.ma,Z=N.U,Q=N.T;return e(!(1&N.ka)),0>=Z||0>=Q?0:(Z=V.Ib(N,V),V.Jb!=null&&V.Jb(N,V,Z),V.Dc+=Z,1)}function en(N){N.ma.memory=null}function _e(N,V,Z,Q){return W(N,8)!=47?0:(V[0]=W(N,14)+1,Z[0]=W(N,14)+1,Q[0]=W(N,1),W(N,3)!=0?0:!N.h)}function Oe(N,V){if(4>N)return N+1;var Z=N-2>>1;return(2+(1&N)<<Z)+W(V,Z)+1}function He(N,V){return 120<V?V-120:1<=(Z=((Z=QH[V-1])>>4)*N+(8-(15&Z)))?Z:1;var Z}function Xe(N,V,Z){var Q=M(Z),ie=N[V+=255&Q].g-8;return 0<ie&&(k(Z,Z.u+8),Q=M(Z),V+=N[V].value,V+=Q&(1<<ie)-1),k(Z,Z.u+N[V].g),N[V].value}function sn(N,V,Z){return Z.g+=N.g,Z.value+=N.value<<V>>>0,e(8>=Z.g),N.g}function pt(N,V,Z){var Q=N.xc;return e((V=Q==0?0:N.vc[N.md*(Z>>Q)+(V>>Q)])<N.Wb),N.Ya[V]}function At(N,V,Z,Q){var ie=N.ab,oe=N.c*V,ae=N.C;V=ae+V;var le=Z,ue=Q;for(Q=N.Ta,Z=N.Ua;0<ie--;){var fe=N.gc[ie],Te=ae,Ue=V,he=le,De=ue,Pe=(ue=Q,le=Z,fe.Ea);switch(e(Te<Ue),e(Ue<=fe.nc),fe.hc){case 2:pi(he,De,(Ue-Te)*Pe,ue,le);break;case 0:var We=Te,Be=Ue,Ke=ue,Je=le,mt=(Wt=fe).Ea;We==0&&(ag(he,De,null,null,1,Ke,Je),rt(he,De+1,0,0,mt-1,Ke,Je+1),De+=mt,Je+=mt,++We);for(var at=1<<Wt.b,Zt=at-1,Ot=ge(mt,Wt.b),Mn=Wt.K,Wt=Wt.w+(We>>Wt.b)*Ot;We<Be;){var nr=Mn,Pi=Wt,Rn=1;for(Dh(he,De,Ke,Je-mt,1,Ke,Je);Rn<mt;){var Gt=(Rn&~Zt)+at;Gt>mt&&(Gt=mt),(0,ug[nr[Pi++]>>8&15])(he,De+ +Rn,Ke,Je+Rn-mt,Gt-Rn,Ke,Je+Rn),Rn=Gt}De+=mt,Je+=mt,++We&Zt||(Wt+=Ot)}Ue!=fe.nc&&r(ue,le-Pe,ue,le+(Ue-Te-1)*Pe,Pe);break;case 1:for(Pe=he,Be=De,mt=(he=fe.Ea)-(Je=he&~(Ke=(De=1<<fe.b)-1)),We=ge(he,fe.b),at=fe.K,fe=fe.w+(Te>>fe.b)*We;Te<Ue;){for(Zt=at,Ot=fe,Mn=new Fe,Wt=Be+Je,nr=Be+he;Be<Wt;)et(Zt[Ot++],Mn),cg(Mn,Pe,Be,De,ue,le),Be+=De,le+=De;Be<nr&&(et(Zt[Ot++],Mn),cg(Mn,Pe,Be,mt,ue,le),Be+=mt,le+=mt),++Te&Ke||(fe+=We)}break;case 3:if(he==ue&&De==le&&0<fe.b){for(Be=ue,he=Pe=le+(Ue-Te)*Pe-(Je=(Ue-Te)*ge(fe.Ea,fe.b)),De=ue,Ke=le,We=[],Je=(mt=Je)-1;0<=Je;--Je)We[Je]=De[Ke+Je];for(Je=mt-1;0<=Je;--Je)Be[he+Je]=We[Je];sy(fe,Te,Ue,ue,Pe,ue,le)}else sy(fe,Te,Ue,he,De,ue,le)}le=Q,ue=Z}ue!=Z&&r(Q,Z,le,ue,oe)}function jn(N,V){var Z=N.V,Q=N.Ba+N.c*N.C,ie=V-N.C;if(e(V<=N.l.o),e(16>=ie),0<ie){var oe=N.l,ae=N.Ta,le=N.Ua,ue=oe.width;if(At(N,ie,Z,Q),ie=le=[le],e((Z=N.C)<(Q=V)),e(oe.v<oe.va),Q>oe.o&&(Q=oe.o),Z<oe.j){var fe=oe.j-Z;Z=oe.j,ie[0]+=fe*ue}if(Z>=Q?Z=0:(ie[0]+=4*oe.v,oe.ka=Z-oe.j,oe.U=oe.va-oe.v,oe.T=Q-Z,Z=1),Z){if(le=le[0],11>(Z=N.ca).S){var Te=Z.f.RGBA,Ue=(Q=Z.S,ie=oe.U,oe=oe.T,fe=Te.eb,Te.A),he=oe;for(Te=Te.fb+N.Ma*Te.A;0<he--;){var De=ae,Pe=le,We=ie,Be=fe,Ke=Te;switch(Q){case ly:dg(De,Pe,We,Be,Ke);break;case uy:dc(De,Pe,We,Be,Ke);break;case HE:dc(De,Pe,We,Be,Ke),hg(Be,Ke,0,We,1,0);break;case Ek:Bd(De,Pe,We,Be,Ke);break;case cy:Ft(De,Pe,We,Be,Ke,1);break;case $E:Ft(De,Pe,We,Be,Ke,1),hg(Be,Ke,0,We,1,0);break;case dy:Ft(De,Pe,We,Be,Ke,0);break;case fy:Ft(De,Pe,We,Be,Ke,0),hg(Be,Ke,1,We,1,0);break;case jE:fc(De,Pe,We,Be,Ke);break;case qE:fc(De,Pe,We,Be,Ke),mk(Be,Ke,We,1,0);break;case Sk:hc(De,Pe,We,Be,Ke);break;default:e(0)}le+=ue,Te+=Ue}N.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");e(N.Ma<=Z.height)}}N.C=V,e(N.C<=N.i)}function Rt(N){var V;if(0<N.ua)return 0;for(V=0;V<N.Wb;++V){var Z=N.Ya[V].G,Q=N.Ya[V].H;if(0<Z[1][Q[1]+0].g||0<Z[2][Q[2]+0].g||0<Z[3][Q[3]+0].g)return 0}return 1}function xt(N,V,Z,Q,ie,oe){if(N.Z!=0){var ae=N.qd,le=N.rd;for(e(gc[N.Z]!=null);V<Z;++V)gc[N.Z](ae,le,Q,ie,Q,ie,oe),ae=Q,le=ie,ie+=oe;N.qd=ae,N.rd=le}}function Dn(N,V){var Z=N.l.ma,Q=Z.Z==0||Z.Z==1?N.l.j:N.C;if(Q=N.C<Q?Q:N.C,e(V<=N.l.o),V>Q){var ie=N.l.width,oe=Z.ca,ae=Z.tb+ie*Q,le=N.V,ue=N.Ba+N.c*Q,fe=N.gc;e(N.ab==1),e(fe[0].hc==3),gl(fe[0],Q,V,le,ue,oe,ae),xt(Z,Q,V,oe,ae,ie)}N.C=N.Ma=V}function hn(N,V,Z,Q,ie,oe,ae){var le=N.$/Q,ue=N.$%Q,fe=N.m,Te=N.s,Ue=Z+N.$,he=Ue;ie=Z+Q*ie;var De=Z+Q*oe,Pe=280+Te.ua,We=N.Pb?le:16777216,Be=0<Te.ua?Te.Wa:null,Ke=Te.wc,Je=Ue<De?pt(Te,ue,le):null;e(N.C<oe),e(De<=ie);var mt=!1;e:for(;;){for(;mt||Ue<De;){var at=0;if(le>=We){var Zt=Ue-Z;e((We=N).Pb),We.wd=We.m,We.xd=Zt,0<We.s.ua&&ce(We.s.Wa,We.s.vb),We=le+t$}if(ue&Ke||(Je=pt(Te,ue,le)),e(Je!=null),Je.Qb&&(V[Ue]=Je.qb,mt=!0),!mt)if(D(fe),Je.jc){at=fe,Zt=V;var Ot=Ue,Mn=Je.pd[M(at)&Od-1];e(Je.jc),256>Mn.g?(k(at,at.u+Mn.g),Zt[Ot]=Mn.value,at=0):(k(at,at.u+Mn.g-256),e(256<=Mn.value),at=Mn.value),at==0&&(mt=!0)}else at=Xe(Je.G[0],Je.H[0],fe);if(fe.h)break;if(mt||256>at){if(!mt)if(Je.nd)V[Ue]=(Je.qb|at<<8)>>>0;else{if(D(fe),mt=Xe(Je.G[1],Je.H[1],fe),D(fe),Zt=Xe(Je.G[2],Je.H[2],fe),Ot=Xe(Je.G[3],Je.H[3],fe),fe.h)break;V[Ue]=(Ot<<24|mt<<16|at<<8|Zt)>>>0}if(mt=!1,++Ue,++ue>=Q&&(ue=0,++le,ae!=null&&le<=oe&&!(le%16)&&ae(N,le),Be!=null))for(;he<Ue;)at=V[he++],Be.X[(506832829*at&4294967295)>>>Be.Mb]=at}else if(280>at){if(at=Oe(at-256,fe),Zt=Xe(Je.G[4],Je.H[4],fe),D(fe),Zt=He(Q,Zt=Oe(Zt,fe)),fe.h)break;if(Ue-Z<Zt||ie-Ue<at)break e;for(Ot=0;Ot<at;++Ot)V[Ue+Ot]=V[Ue+Ot-Zt];for(Ue+=at,ue+=at;ue>=Q;)ue-=Q,++le,ae!=null&&le<=oe&&!(le%16)&&ae(N,le);if(e(Ue<=ie),ue&Ke&&(Je=pt(Te,ue,le)),Be!=null)for(;he<Ue;)at=V[he++],Be.X[(506832829*at&4294967295)>>>Be.Mb]=at}else{if(!(at<Pe))break e;for(mt=at-280,e(Be!=null);he<Ue;)at=V[he++],Be.X[(506832829*at&4294967295)>>>Be.Mb]=at;at=Ue,e(!(mt>>>(Zt=Be).Xa)),V[at]=Zt.X[mt],mt=!0}mt||e(fe.h==Y(fe))}if(N.Pb&&fe.h&&Ue<ie)e(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&ce(N.s.vb,N.s.Wa);else{if(fe.h)break e;ae?.(N,le>oe?oe:le),N.a=0,N.$=Ue-Z}return 1}return N.a=3,0}function un(N){e(N!=null),N.vc=null,N.yc=null,N.Ya=null;var V=N.Wa;V!=null&&(V.X=null),N.vb=null,e(N!=null)}function Zn(){var N=new wn;return N==null?null:(N.a=0,N.xb=Tk,yt("Predictor","VP8LPredictors"),yt("Predictor","VP8LPredictors_C"),yt("PredictorAdd","VP8LPredictorsAdd"),yt("PredictorAdd","VP8LPredictorsAdd_C"),pi=Ct,cg=tt,dg=it,dc=Ge,fc=bt,hc=ut,Bd=wt,q.VP8LMapColor32b=ml,q.VP8LMapColor8b=lg,N)}function ar(N,V,Z,Q,ie){var oe=1,ae=[N],le=[V],ue=Q.m,fe=Q.s,Te=null,Ue=0;e:for(;;){if(Z)for(;oe&&W(ue,1);){var he=ae,De=le,Pe=Q,We=1,Be=Pe.m,Ke=Pe.gc[Pe.ab],Je=W(Be,2);if(Pe.Oc&1<<Je)oe=0;else{switch(Pe.Oc|=1<<Je,Ke.hc=Je,Ke.Ea=he[0],Ke.nc=De[0],Ke.K=[null],++Pe.ab,e(4>=Pe.ab),Je){case 0:case 1:Ke.b=W(Be,3)+2,We=ar(ge(Ke.Ea,Ke.b),ge(Ke.nc,Ke.b),0,Pe,Ke.K),Ke.K=Ke.K[0];break;case 3:var mt,at=W(Be,8)+1,Zt=16<at?0:4<at?1:2<at?2:3;if(he[0]=ge(Ke.Ea,Zt),Ke.b=Zt,mt=We=ar(at,1,0,Pe,Ke.K)){var Ot,Mn=at,Wt=Ke,nr=1<<(8>>Wt.b),Pi=s(nr);if(Pi==null)mt=0;else{var Rn=Wt.K[0],Gt=Wt.w;for(Pi[0]=Wt.K[0][0],Ot=1;Ot<1*Mn;++Ot)Pi[Ot]=Se(Rn[Gt+Ot],Pi[Ot-1]);for(;Ot<4*nr;++Ot)Pi[Ot]=0;Wt.K[0]=null,Wt.K[0]=Pi,mt=1}}We=mt;break;case 2:break;default:e(0)}oe=We}}if(ae=ae[0],le=le[0],oe&&W(ue,1)&&!(oe=1<=(Ue=W(ue,4))&&11>=Ue)){Q.a=3;break e}var St;if(St=oe)t:{var gi,An,sr,Xr=Q,ns=ae,Us=le,oi=Ue,Es=Z,js=Xr.m,Li=Xr.s,dr=[null],Ir=1,ai=0,Dr=e$[oi];n:for(;;){if(Es&&W(js,1)){var rs=W(js,3)+2,Ra=ge(ns,rs),vi=ge(Us,rs),uo=Ra*vi;if(!ar(Ra,vi,0,Xr,dr))break n;for(dr=dr[0],Li.xc=rs,gi=0;gi<uo;++gi){var Br=dr[gi]>>8&65535;dr[gi]=Br,Br>=Ir&&(Ir=Br+1)}}if(js.h)break n;for(An=0;5>An;++An){var Fi=Ck[An];!An&&0<oi&&(Fi+=1<<oi),ai<Fi&&(ai=Fi)}var ko=o(Ir*Dr,L),Hs=Ir,No=o(Hs,b);if(No==null)var Mo=null;else e(65536>=Hs),Mo=No;var co=s(ai);if(Mo==null||co==null||ko==null){Xr.a=1;break n}var Ro=ko;for(gi=sr=0;gi<Ir;++gi){var zr=Mo[gi],Po=zr.G,Pa=zr.H,Ud=0,wu=1,is=0;for(An=0;5>An;++An){Fi=Ck[An],Po[An]=Ro,Pa[An]=sr,!An&&0<oi&&(Fi+=1<<oi);i:{var gy,YE=Fi,vy=Xr,gg=co,_$=Ro,x$=sr,XE=0,vc=vy.m,E$=W(vc,1);if(i(gg,0,0,YE),E$){var S$=W(vc,1)+1,C$=W(vc,1),Fk=W(vc,C$==0?1:8);gg[Fk]=1,S$==2&&(gg[Fk=W(vc,8)]=1);var yy=1}else{var Ok=s(19),Bk=W(vc,4)+4;if(19<Bk){vy.a=3;var by=0;break i}for(gy=0;gy<Bk;++gy)Ok[JH[gy]]=W(vc,3);var KE=void 0,vg=void 0,Vk=vy,A$=Ok,wy=YE,Uk=gg,ZE=0,yc=Vk.m,jk=8,Hk=o(128,L);r:for(;C(Hk,0,7,A$,19);){if(W(yc,1)){var T$=2+2*W(yc,3);if((KE=2+W(yc,T$))>wy)break r}else KE=wy;for(vg=0;vg<wy&&KE--;){D(yc);var $k=Hk[0+(127&M(yc))];k(yc,yc.u+$k.g);var Nh=$k.value;if(16>Nh)Uk[vg++]=Nh,Nh!=0&&(jk=Nh);else{var I$=Nh==16,qk=Nh-16,D$=KH[qk],zk=W(yc,XH[qk])+D$;if(vg+zk>wy)break r;for(var k$=I$?jk:0;0<zk--;)Uk[vg++]=k$}}ZE=1;break r}ZE||(Vk.a=3),yy=ZE}(yy=yy&&!vc.h)&&(XE=C(_$,x$,8,gg,YE)),yy&&XE!=0?by=XE:(vy.a=3,by=0)}if(by==0)break n;if(wu&&ZH[An]==1&&(wu=Ro[sr].g==0),Ud+=Ro[sr].g,sr+=by,3>=An){var yg,JE=co[0];for(yg=1;yg<Fi;++yg)co[yg]>JE&&(JE=co[yg]);is+=JE}}if(zr.nd=wu,zr.Qb=0,wu&&(zr.qb=(Po[3][Pa[3]+0].value<<24|Po[1][Pa[1]+0].value<<16|Po[2][Pa[2]+0].value)>>>0,Ud==0&&256>Po[0][Pa[0]+0].value&&(zr.Qb=1,zr.qb+=Po[0][Pa[0]+0].value<<8)),zr.jc=!zr.Qb&&6>is,zr.jc){var _y,_u=zr;for(_y=0;_y<Od;++_y){var bc=_y,wc=_u.pd[bc],xy=_u.G[0][_u.H[0]+bc];256<=xy.value?(wc.g=xy.g+256,wc.value=xy.value):(wc.g=0,wc.value=0,bc>>=sn(xy,8,wc),bc>>=sn(_u.G[1][_u.H[1]+bc],16,wc),bc>>=sn(_u.G[2][_u.H[2]+bc],0,wc),sn(_u.G[3][_u.H[3]+bc],24,wc))}}}Li.vc=dr,Li.Wb=Ir,Li.Ya=Mo,Li.yc=ko,St=1;break t}St=0}if(!(oe=St)){Q.a=3;break e}if(0<Ue){if(fe.ua=1<<Ue,!K(fe.Wa,Ue)){Q.a=1,oe=0;break e}}else fe.ua=0;var QE=Q,Wk=ae,N$=le,eS=QE.s,tS=eS.xc;if(QE.c=Wk,QE.i=N$,eS.md=ge(Wk,tS),eS.wc=tS==0?-1:(1<<tS)-1,Z){Q.xb=l$;break e}if((Te=s(ae*le))==null){Q.a=1,oe=0;break e}oe=(oe=hn(Q,Te,0,ae,le,le,null))&&!ue.h;break e}return oe?(ie!=null?ie[0]=Te:(e(Te==null),e(Z)),Q.$=0,Z||un(fe)):un(fe),oe}function Hr(N,V){var Z=N.c*N.i,Q=Z+V+16*V;return e(N.c<=V),N.V=s(Q),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+Z+V,1)}function fi(N,V){var Z=N.C,Q=V-Z,ie=N.V,oe=N.Ba+N.c*Z;for(e(V<=N.l.o);0<Q;){var ae=16<Q?16:Q,le=N.l.ma,ue=N.l.width,fe=ue*ae,Te=le.ca,Ue=le.tb+ue*Z,he=N.Ta,De=N.Ua;At(N,ae,ie,oe),vk(he,De,Te,Ue,fe),xt(le,Z,Z+ae,Te,Ue,ue),Q-=ae,ie+=ae*N.c,Z+=ae}e(Z==V),N.C=N.Ma=V}function $r(){this.ub=this.yd=this.td=this.Rb=0}function si(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pe(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Le(){this.Yb=(function(){var N=[];return(function V(Z,Q,ie){for(var oe=ie[Q],ae=0;ae<oe&&(Z.push(ie.length>Q+1?[]:0),!(ie.length<Q+1));ae++)V(Z[ae],Q+1,ie)})(N,0,[3,11]),N})()}function Qe(){this.jb=s(3),this.Wc=a([4,8],Le),this.Xc=a([4,17],Le)}function $e(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function dt(){this.ld=this.La=this.dd=this.tc=0}function Mt(){this.Na=this.la=0}function Pt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function cn(){this.uc=this.M=this.Nb=0,this.wa=Array(new dt),this.Y=0,this.ya=Array(new Cn),this.aa=0,this.l=new Rr}function nn(){this.y=s(16),this.f=s(8),this.ea=s(8)}function pn(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new $r,this.Kc=new si,this.ed=new $e,this.Qa=new pe,this.Ic=this.$c=this.Aa=0,this.D=new cn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,Pt),this.Pa=new Qe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nn),this.Hd=0,this.rb=Array(new Mt),this.sb=0,this.wa=Array(new dt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cn),this.L=this.aa=0,this.gd=a([4,2],dt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function lr(N,V){return 0>N?0:N>V?V:N}function Rr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function tr(){var N=new pn;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,pg||(pg=Ni)),N}function yn(N,V,Z){return N.a==0&&(N.a=V,N.sc=Z,N.cb=0),0}function hi(N,V,Z){return 3<=Z&&N[V+0]==157&&N[V+1]==1&&N[V+2]==42}function ni(N,V){if(N==null)return 0;if(N.a=0,N.sc="OK",V==null)return yn(N,2,"null VP8Io passed to VP8GetHeaders()");var Z=V.data,Q=V.w,ie=V.ha;if(4>ie)return yn(N,7,"Truncated header.");var oe=Z[Q+0]|Z[Q+1]<<8|Z[Q+2]<<16,ae=N.Od;if(ae.Rb=!(1&oe),ae.td=oe>>1&7,ae.yd=oe>>4&1,ae.ub=oe>>5,3<ae.td)return yn(N,3,"Incorrect keyframe parameters.");if(!ae.yd)return yn(N,4,"Frame not displayable.");Q+=3,ie-=3;var le=N.Kc;if(ae.Rb){if(7>ie)return yn(N,7,"cannot parse picture header");if(!hi(Z,Q,ie))return yn(N,3,"Bad code word");le.c=16383&(Z[Q+4]<<8|Z[Q+3]),le.Td=Z[Q+4]>>6,le.i=16383&(Z[Q+6]<<8|Z[Q+5]),le.Ud=Z[Q+6]>>6,Q+=7,ie-=7,N.za=le.c+15>>4,N.Ub=le.i+15>>4,V.width=le.c,V.height=le.i,V.Da=0,V.j=0,V.v=0,V.va=V.width,V.o=V.height,V.da=0,V.ib=V.width,V.hb=V.height,V.U=V.width,V.T=V.height,i((oe=N.Pa).jb,0,255,oe.jb.length),e((oe=N.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(ae.ub>ie)return yn(N,7,"bad partition length");_(oe=N.m,Z,Q,ae.ub),Q+=ae.ub,ie-=ae.ub,ae.Rb&&(le.Ld=J(oe),le.Kd=J(oe)),le=N.Qa;var ue,fe=N.Pa;if(e(oe!=null),e(le!=null),le.Cb=J(oe),le.Cb){if(le.Bb=J(oe),J(oe)){for(le.Fb=J(oe),ue=0;4>ue;++ue)le.Zb[ue]=J(oe)?S(oe,7):0;for(ue=0;4>ue;++ue)le.Lb[ue]=J(oe)?S(oe,6):0}if(le.Bb)for(ue=0;3>ue;++ue)fe.jb[ue]=J(oe)?w(oe,8):255}else le.Bb=0;if(oe.Ka)return yn(N,3,"cannot parse segment header");if((le=N.ed).zd=J(oe),le.Tb=w(oe,6),le.wb=w(oe,3),le.Pc=J(oe),le.Pc&&J(oe)){for(fe=0;4>fe;++fe)J(oe)&&(le.vd[fe]=S(oe,6));for(fe=0;4>fe;++fe)J(oe)&&(le.od[fe]=S(oe,6))}if(N.L=le.Tb==0?0:le.zd?1:2,oe.Ka)return yn(N,3,"cannot parse filter header");var Te=ie;if(ie=ue=Q,Q=ue+Te,le=Te,N.Xb=(1<<w(N.m,2))-1,Te<3*(fe=N.Xb))Z=7;else{for(ue+=3*fe,le-=3*fe,Te=0;Te<fe;++Te){var Ue=Z[ie+0]|Z[ie+1]<<8|Z[ie+2]<<16;Ue>le&&(Ue=le),_(N.Jc[+Te],Z,ue,Ue),ue+=Ue,le-=Ue,ie+=3}_(N.Jc[+fe],Z,ue,le),Z=ue<Q?0:5}if(Z!=0)return yn(N,Z,"cannot parse partitions");for(Z=w(ue=N.m,7),ie=J(ue)?S(ue,4):0,Q=J(ue)?S(ue,4):0,le=J(ue)?S(ue,4):0,fe=J(ue)?S(ue,4):0,ue=J(ue)?S(ue,4):0,Te=N.Qa,Ue=0;4>Ue;++Ue){if(Te.Cb){var he=Te.Zb[Ue];Te.Fb||(he+=Z)}else{if(0<Ue){N.pb[Ue]=N.pb[0];continue}he=Z}var De=N.pb[Ue];De.Sc[0]=zE[lr(he+ie,127)],De.Sc[1]=WE[lr(he+0,127)],De.Eb[0]=2*zE[lr(he+Q,127)],De.Eb[1]=101581*WE[lr(he+le,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=zE[lr(he+fe,117)],De.Qc[1]=WE[lr(he+ue,127)],De.lc=he+ue}if(!ae.Rb)return yn(N,4,"Not a key frame.");for(J(oe),ae=N.Pa,Z=0;4>Z;++Z){for(ie=0;8>ie;++ie)for(Q=0;3>Q;++Q)for(le=0;11>le;++le)fe=ne(oe,o$[Z][ie][Q][le])?w(oe,8):i$[Z][ie][Q][le],ae.Wc[Z][ie].Yb[Q][le]=fe;for(ie=0;17>ie;++ie)ae.Xc[Z][ie]=ae.Wc[Z][a$[ie]]}return N.kc=J(oe),N.kc&&(N.Bd=w(oe,8)),N.cb=1}function Ni(N,V,Z,Q,ie,oe,ae){var le=V[ie].Yb[Z];for(Z=0;16>ie;++ie){if(!ne(N,le[Z+0]))return ie;for(;!ne(N,le[Z+1]);)if(le=V[++ie].Yb[0],Z=0,ie==16)return 16;var ue=V[ie+1].Yb;if(ne(N,le[Z+2])){var fe=N,Te=0;if(ne(fe,(he=le)[(Ue=Z)+3]))if(ne(fe,he[Ue+6])){for(le=0,Ue=2*(Te=ne(fe,he[Ue+8]))+(he=ne(fe,he[Ue+9+Te])),Te=0,he=n$[Ue];he[le];++le)Te+=Te+ne(fe,he[le]);Te+=3+(8<<Ue)}else ne(fe,he[Ue+7])?(Te=7+2*ne(fe,165),Te+=ne(fe,145)):Te=5+ne(fe,159);else Te=ne(fe,he[Ue+4])?3+ne(fe,he[Ue+5]):2;le=ue[2]}else Te=1,le=ue[1];ue=ae+r$[ie],0>(fe=N).b&&z(fe);var Ue,he=fe.b,De=(Ue=fe.Ca>>1)-(fe.I>>he)>>31;--fe.b,fe.Ca+=De,fe.Ca|=1,fe.I-=(Ue+1&De)<<he,oe[ue]=((Te^De)-De)*Q[(0<ie)+0]}return 16}function Bs(N){var V=N.rb[N.sb-1];V.la=0,V.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function Ci(N,V,Z,Q,ie){ie=N[V+Z+32*Q]+(ie>>3),N[V+Z+32*Q]=-256&ie?0>ie?0:255:ie}function Zr(N,V,Z,Q,ie,oe){Ci(N,V,0,Z,Q+ie),Ci(N,V,1,Z,Q+oe),Ci(N,V,2,Z,Q-oe),Ci(N,V,3,Z,Q-ie)}function bs(N){return(20091*N>>16)+N}function Wn(N,V,Z,Q){var ie,oe=0,ae=s(16);for(ie=0;4>ie;++ie){var le=N[V+0]+N[V+8],ue=N[V+0]-N[V+8],fe=(35468*N[V+4]>>16)-bs(N[V+12]),Te=bs(N[V+4])+(35468*N[V+12]>>16);ae[oe+0]=le+Te,ae[oe+1]=ue+fe,ae[oe+2]=ue-fe,ae[oe+3]=le-Te,oe+=4,V++}for(ie=oe=0;4>ie;++ie)le=(N=ae[oe+0]+4)+ae[oe+8],ue=N-ae[oe+8],fe=(35468*ae[oe+4]>>16)-bs(ae[oe+12]),Ci(Z,Q,0,0,le+(Te=bs(ae[oe+4])+(35468*ae[oe+12]>>16))),Ci(Z,Q,1,0,ue+fe),Ci(Z,Q,2,0,ue-fe),Ci(Z,Q,3,0,le-Te),oe++,Q+=32}function ur(N,V,Z,Q){var ie=N[V+0]+4,oe=35468*N[V+4]>>16,ae=bs(N[V+4]),le=35468*N[V+1]>>16;Zr(Z,Q,0,ie+ae,N=bs(N[V+1]),le),Zr(Z,Q,1,ie+oe,N,le),Zr(Z,Q,2,ie-oe,N,le),Zr(Z,Q,3,ie-ae,N,le)}function Ad(N,V,Z,Q,ie){Wn(N,V,Z,Q),ie&&Wn(N,V+16,Z,Q+4)}function qi(N,V,Z,Q){Vd(N,V+0,Z,Q,1),Vd(N,V+32,Z,Q+128,1)}function ou(N,V,Z,Q){var ie;for(N=N[V+0]+4,ie=0;4>ie;++ie)for(V=0;4>V;++V)Ci(Z,Q,V,ie,N)}function zi(N,V,Z,Q){N[V+0]&&wr(N,V+0,Z,Q),N[V+16]&&wr(N,V+16,Z,Q+4),N[V+32]&&wr(N,V+32,Z,Q+128),N[V+48]&&wr(N,V+48,Z,Q+128+4)}function ws(N,V,Z,Q){var ie,oe=s(16);for(ie=0;4>ie;++ie){var ae=N[V+0+ie]+N[V+12+ie],le=N[V+4+ie]+N[V+8+ie],ue=N[V+4+ie]-N[V+8+ie],fe=N[V+0+ie]-N[V+12+ie];oe[0+ie]=ae+le,oe[8+ie]=ae-le,oe[4+ie]=fe+ue,oe[12+ie]=fe-ue}for(ie=0;4>ie;++ie)ae=(N=oe[0+4*ie]+3)+oe[3+4*ie],le=oe[1+4*ie]+oe[2+4*ie],ue=oe[1+4*ie]-oe[2+4*ie],fe=N-oe[3+4*ie],Z[Q+0]=ae+le>>3,Z[Q+16]=fe+ue>>3,Z[Q+32]=ae-le>>3,Z[Q+48]=fe-ue>>3,Q+=64}function _s(N,V,Z){var Q,ie=V-32,oe=Do,ae=255-N[ie-1];for(Q=0;Q<Z;++Q){var le,ue=oe,fe=ae+N[V-1];for(le=0;le<Z;++le)N[V+le]=ue[fe+N[ie+le]];V+=32}}function au(N,V){_s(N,V,4)}function ic(N,V){_s(N,V,8)}function hl(N,V){_s(N,V,16)}function lo(N,V){var Z;for(Z=0;16>Z;++Z)r(N,V+32*Z,N,V-32,16)}function Td(N,V){var Z;for(Z=16;0<Z;--Z)i(N,V,N[V-1],16),V+=32}function xs(N,V,Z){var Q;for(Q=0;16>Q;++Q)i(V,Z+32*Q,N,16)}function Id(N,V){var Z,Q=16;for(Z=0;16>Z;++Z)Q+=N[V-1+32*Z]+N[V+Z-32];xs(Q>>5,N,V)}function na(N,V){var Z,Q=8;for(Z=0;16>Z;++Z)Q+=N[V-1+32*Z];xs(Q>>4,N,V)}function pl(N,V){var Z,Q=8;for(Z=0;16>Z;++Z)Q+=N[V+Z-32];xs(Q>>4,N,V)}function Sh(N,V){xs(128,N,V)}function mn(N,V,Z){return N+2*V+Z+2>>2}function sc(N,V){var Z,Q=V-32;for(Q=new Uint8Array([mn(N[Q-1],N[Q+0],N[Q+1]),mn(N[Q+0],N[Q+1],N[Q+2]),mn(N[Q+1],N[Q+2],N[Q+3]),mn(N[Q+2],N[Q+3],N[Q+4])]),Z=0;4>Z;++Z)r(N,V+32*Z,Q,0,Q.length)}function PE(N,V){var Z=N[V-1],Q=N[V-1+32],ie=N[V-1+64],oe=N[V-1+96];te(N,V+0,16843009*mn(N[V-1-32],Z,Q)),te(N,V+32,16843009*mn(Z,Q,ie)),te(N,V+64,16843009*mn(Q,ie,oe)),te(N,V+96,16843009*mn(ie,oe,oe))}function LE(N,V){var Z,Q=4;for(Z=0;4>Z;++Z)Q+=N[V+Z-32]+N[V-1+32*Z];for(Q>>=3,Z=0;4>Z;++Z)i(N,V+32*Z,Q,4)}function lu(N,V){var Z=N[V-1+0],Q=N[V-1+32],ie=N[V-1+64],oe=N[V-1-32],ae=N[V+0-32],le=N[V+1-32],ue=N[V+2-32],fe=N[V+3-32];N[V+0+96]=mn(Q,ie,N[V-1+96]),N[V+1+96]=N[V+0+64]=mn(Z,Q,ie),N[V+2+96]=N[V+1+64]=N[V+0+32]=mn(oe,Z,Q),N[V+3+96]=N[V+2+64]=N[V+1+32]=N[V+0+0]=mn(ae,oe,Z),N[V+3+64]=N[V+2+32]=N[V+1+0]=mn(le,ae,oe),N[V+3+32]=N[V+2+0]=mn(ue,le,ae),N[V+3+0]=mn(fe,ue,le)}function uu(N,V){var Z=N[V+1-32],Q=N[V+2-32],ie=N[V+3-32],oe=N[V+4-32],ae=N[V+5-32],le=N[V+6-32],ue=N[V+7-32];N[V+0+0]=mn(N[V+0-32],Z,Q),N[V+1+0]=N[V+0+32]=mn(Z,Q,ie),N[V+2+0]=N[V+1+32]=N[V+0+64]=mn(Q,ie,oe),N[V+3+0]=N[V+2+32]=N[V+1+64]=N[V+0+96]=mn(ie,oe,ae),N[V+3+32]=N[V+2+64]=N[V+1+96]=mn(oe,ae,le),N[V+3+64]=N[V+2+96]=mn(ae,le,ue),N[V+3+96]=mn(le,ue,ue)}function FE(N,V){var Z=N[V-1+0],Q=N[V-1+32],ie=N[V-1+64],oe=N[V-1-32],ae=N[V+0-32],le=N[V+1-32],ue=N[V+2-32],fe=N[V+3-32];N[V+0+0]=N[V+1+64]=oe+ae+1>>1,N[V+1+0]=N[V+2+64]=ae+le+1>>1,N[V+2+0]=N[V+3+64]=le+ue+1>>1,N[V+3+0]=ue+fe+1>>1,N[V+0+96]=mn(ie,Q,Z),N[V+0+64]=mn(Q,Z,oe),N[V+0+32]=N[V+1+96]=mn(Z,oe,ae),N[V+1+32]=N[V+2+96]=mn(oe,ae,le),N[V+2+32]=N[V+3+96]=mn(ae,le,ue),N[V+3+32]=mn(le,ue,fe)}function OE(N,V){var Z=N[V+0-32],Q=N[V+1-32],ie=N[V+2-32],oe=N[V+3-32],ae=N[V+4-32],le=N[V+5-32],ue=N[V+6-32],fe=N[V+7-32];N[V+0+0]=Z+Q+1>>1,N[V+1+0]=N[V+0+64]=Q+ie+1>>1,N[V+2+0]=N[V+1+64]=ie+oe+1>>1,N[V+3+0]=N[V+2+64]=oe+ae+1>>1,N[V+0+32]=mn(Z,Q,ie),N[V+1+32]=N[V+0+96]=mn(Q,ie,oe),N[V+2+32]=N[V+1+96]=mn(ie,oe,ae),N[V+3+32]=N[V+2+96]=mn(oe,ae,le),N[V+3+64]=mn(ae,le,ue),N[V+3+96]=mn(le,ue,fe)}function Ch(N,V){var Z=N[V-1+0],Q=N[V-1+32],ie=N[V-1+64],oe=N[V-1+96];N[V+0+0]=Z+Q+1>>1,N[V+2+0]=N[V+0+32]=Q+ie+1>>1,N[V+2+32]=N[V+0+64]=ie+oe+1>>1,N[V+1+0]=mn(Z,Q,ie),N[V+3+0]=N[V+1+32]=mn(Q,ie,oe),N[V+3+32]=N[V+1+64]=mn(ie,oe,oe),N[V+3+64]=N[V+2+64]=N[V+0+96]=N[V+1+96]=N[V+2+96]=N[V+3+96]=oe}function Km(N,V){var Z=N[V-1+0],Q=N[V-1+32],ie=N[V-1+64],oe=N[V-1+96],ae=N[V-1-32],le=N[V+0-32],ue=N[V+1-32],fe=N[V+2-32];N[V+0+0]=N[V+2+32]=Z+ae+1>>1,N[V+0+32]=N[V+2+64]=Q+Z+1>>1,N[V+0+64]=N[V+2+96]=ie+Q+1>>1,N[V+0+96]=oe+ie+1>>1,N[V+3+0]=mn(le,ue,fe),N[V+2+0]=mn(ae,le,ue),N[V+1+0]=N[V+3+32]=mn(Z,ae,le),N[V+1+32]=N[V+3+64]=mn(Q,Z,ae),N[V+1+64]=N[V+3+96]=mn(ie,Q,Z),N[V+1+96]=mn(oe,ie,Q)}function Dd(N,V){var Z;for(Z=0;8>Z;++Z)r(N,V+32*Z,N,V-32,8)}function BE(N,V){var Z;for(Z=0;8>Z;++Z)i(N,V,N[V-1],8),V+=32}function cu(N,V,Z){var Q;for(Q=0;8>Q;++Q)i(V,Z+32*Q,N,8)}function VE(N,V){var Z,Q=8;for(Z=0;8>Z;++Z)Q+=N[V+Z-32]+N[V-1+32*Z];cu(Q>>4,N,V)}function Zm(N,V){var Z,Q=4;for(Z=0;8>Z;++Z)Q+=N[V+Z-32];cu(Q>>3,N,V)}function Jm(N,V){var Z,Q=4;for(Z=0;8>Z;++Z)Q+=N[V-1+32*Z];cu(Q>>3,N,V)}function Qv(N,V){cu(128,N,V)}function du(N,V,Z){var Q=N[V-Z],ie=N[V+0],oe=3*(ie-Q)+UE[1020+N[V-2*Z]-N[V+Z]],ae=ay[112+(oe+4>>3)];N[V-Z]=Do[255+Q+ay[112+(oe+3>>3)]],N[V+0]=Do[255+ie-ae]}function Qm(N,V,Z,Q){var ie=N[V+0],oe=N[V+Z];return sa[255+N[V-2*Z]-N[V-Z]]>Q||sa[255+oe-ie]>Q}function Ah(N,V,Z,Q){return 4*sa[255+N[V-Z]-N[V+0]]+sa[255+N[V-2*Z]-N[V+Z]]<=Q}function eg(N,V,Z,Q,ie){var oe=N[V-3*Z],ae=N[V-2*Z],le=N[V-Z],ue=N[V+0],fe=N[V+Z],Te=N[V+2*Z],Ue=N[V+3*Z];return 4*sa[255+le-ue]+sa[255+ae-fe]>Q?0:sa[255+N[V-4*Z]-oe]<=ie&&sa[255+oe-ae]<=ie&&sa[255+ae-le]<=ie&&sa[255+Ue-Te]<=ie&&sa[255+Te-fe]<=ie&&sa[255+fe-ue]<=ie}function kd(N,V,Z,Q){var ie=2*Q+1;for(Q=0;16>Q;++Q)Ah(N,V+Q,Z,ie)&&du(N,V+Q,Z)}function tg(N,V,Z,Q){var ie=2*Q+1;for(Q=0;16>Q;++Q)Ah(N,V+Q*Z,1,ie)&&du(N,V+Q*Z,1)}function ey(N,V,Z,Q){var ie;for(ie=3;0<ie;--ie)kd(N,V+=4*Z,Z,Q)}function ty(N,V,Z,Q){var ie;for(ie=3;0<ie;--ie)tg(N,V+=4,Z,Q)}function fu(N,V,Z,Q,ie,oe,ae,le){for(oe=2*oe+1;0<ie--;){if(eg(N,V,Z,oe,ae))if(Qm(N,V,Z,le))du(N,V,Z);else{var ue=N,fe=V,Te=Z,Ue=ue[fe-2*Te],he=ue[fe-Te],De=ue[fe+0],Pe=ue[fe+Te],We=ue[fe+2*Te],Be=27*(Je=UE[1020+3*(De-he)+UE[1020+Ue-Pe]])+63>>7,Ke=18*Je+63>>7,Je=9*Je+63>>7;ue[fe-3*Te]=Do[255+ue[fe-3*Te]+Je],ue[fe-2*Te]=Do[255+Ue+Ke],ue[fe-Te]=Do[255+he+Be],ue[fe+0]=Do[255+De-Be],ue[fe+Te]=Do[255+Pe-Ke],ue[fe+2*Te]=Do[255+We-Je]}V+=Q}}function hu(N,V,Z,Q,ie,oe,ae,le){for(oe=2*oe+1;0<ie--;){if(eg(N,V,Z,oe,ae))if(Qm(N,V,Z,le))du(N,V,Z);else{var ue=N,fe=V,Te=Z,Ue=ue[fe-Te],he=ue[fe+0],De=ue[fe+Te],Pe=ay[112+(4+(We=3*(he-Ue))>>3)],We=ay[112+(We+3>>3)],Be=Pe+1>>1;ue[fe-2*Te]=Do[255+ue[fe-2*Te]+Be],ue[fe-Te]=Do[255+Ue+We],ue[fe+0]=Do[255+he-Pe],ue[fe+Te]=Do[255+De-Be]}V+=Q}}function ny(N,V,Z,Q,ie,oe){fu(N,V,Z,1,16,Q,ie,oe)}function Nd(N,V,Z,Q,ie,oe){fu(N,V,1,Z,16,Q,ie,oe)}function ry(N,V,Z,Q,ie,oe){var ae;for(ae=3;0<ae;--ae)hu(N,V+=4*Z,Z,1,16,Q,ie,oe)}function G(N,V,Z,Q,ie,oe){var ae;for(ae=3;0<ae;--ae)hu(N,V+=4,1,Z,16,Q,ie,oe)}function re(N,V,Z,Q,ie,oe,ae,le){fu(N,V,ie,1,8,oe,ae,le),fu(Z,Q,ie,1,8,oe,ae,le)}function me(N,V,Z,Q,ie,oe,ae,le){fu(N,V,1,ie,8,oe,ae,le),fu(Z,Q,1,ie,8,oe,ae,le)}function Ce(N,V,Z,Q,ie,oe,ae,le){hu(N,V+4*ie,ie,1,8,oe,ae,le),hu(Z,Q+4*ie,ie,1,8,oe,ae,le)}function Re(N,V,Z,Q,ie,oe,ae,le){hu(N,V+4,1,ie,8,oe,ae,le),hu(Z,Q+4,1,ie,8,oe,ae,le)}function Ze(){this.ba=new vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ot(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xt(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new b,this.yc=new L}function wn(){this.xb=this.a=0,this.l=new Rr,this.ca=new vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xt,this.ab=0,this.gc=o(4,$t),this.Oc=0}function kn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Rr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cr(N,V,Z,Q,ie,oe,ae){for(N=N==null?0:N[V+0],V=0;V<ae;++V)ie[oe+V]=N+Z[Q+V]&255,N=ie[oe+V]}function ri(N,V,Z,Q,ie,oe,ae){var le;if(N==null)cr(null,null,Z,Q,ie,oe,ae);else for(le=0;le<ae;++le)ie[oe+le]=N[V+le]+Z[Q+le]&255}function Ai(N,V,Z,Q,ie,oe,ae){if(N==null)cr(null,null,Z,Q,ie,oe,ae);else{var le,ue=N[V+0],fe=ue,Te=ue;for(le=0;le<ae;++le)fe=Te+(ue=N[V+le])-fe,Te=Z[Q+le]+(-256&fe?0>fe?0:255:fe)&255,fe=ue,ie[oe+le]=Te}}function qr(N,V,Z,Q){var ie=V.width,oe=V.o;if(e(N!=null&&V!=null),0>Z||0>=Q||Z+Q>oe)return null;if(!N.Cc){if(N.ga==null){var ae;if(N.ga=new kn,(ae=N.ga==null)||(ae=V.width*V.o,e(N.Gb.length==0),N.Gb=s(ae),N.Uc=0,N.Gb==null?ae=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,ae=1),ae=!ae),!ae){ae=N.ga;var le=N.Fa,ue=N.P,fe=N.qc,Te=N.mb,Ue=N.nb,he=ue+1,De=fe-1,Pe=ae.l;if(e(le!=null&&Te!=null&&V!=null),gc[0]=null,gc[1]=cr,gc[2]=ri,gc[3]=Ai,ae.ca=Te,ae.tb=Ue,ae.c=V.width,ae.i=V.height,e(0<ae.c&&0<ae.i),1>=fe)V=0;else if(ae.$a=3&le[ue+0],ae.Z=le[ue+0]>>2&3,ae.Lc=le[ue+0]>>4&3,ue=le[ue+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||ue)V=0;else if(Pe.put=zt,Pe.ac=Ht,Pe.bc=en,Pe.ma=ae,Pe.width=V.width,Pe.height=V.height,Pe.Da=V.Da,Pe.v=V.v,Pe.va=V.va,Pe.j=V.j,Pe.o=V.o,ae.$a)e:{e(ae.$a==1),V=Zn();t:for(;;){if(V==null){V=0;break e}if(e(ae!=null),ae.mc=V,V.c=ae.c,V.i=ae.i,V.l=ae.l,V.l.ma=ae,V.l.width=ae.c,V.l.height=ae.i,V.a=0,I(V.m,le,he,De),!ar(ae.c,ae.i,1,V,null)||(V.ab==1&&V.gc[0].hc==3&&Rt(V.s)?(ae.ic=1,le=V.c*V.i,V.Ta=null,V.Ua=0,V.V=s(le),V.Ba=0,V.V==null?(V.a=1,V=0):V=1):(ae.ic=0,V=Hr(V,ae.c)),!V))break t;V=1;break e}ae.mc=null,V=0}else V=De>=ae.c*ae.i;ae=!V}if(ae)return null;N.ga.Lc!=1?N.Ga=0:Q=oe-Z}e(N.ga!=null),e(Z+Q<=oe);e:{if(V=(le=N.ga).c,oe=le.l.o,le.$a==0){if(he=N.rc,De=N.Vc,Pe=N.Fa,ue=N.P+1+Z*V,fe=N.mb,Te=N.nb+Z*V,e(ue<=N.P+N.qc),le.Z!=0)for(e(gc[le.Z]!=null),ae=0;ae<Q;++ae)gc[le.Z](he,De,Pe,ue,fe,Te,V),he=fe,De=Te,Te+=V,ue+=V;else for(ae=0;ae<Q;++ae)r(fe,Te,Pe,ue,V),he=fe,De=Te,Te+=V,ue+=V;N.rc=he,N.Vc=De}else{if(e(le.mc!=null),V=Z+Q,e((ae=le.mc)!=null),e(V<=ae.i),ae.C>=V)V=1;else if(le.ic||Na(),le.ic){le=ae.V,he=ae.Ba,De=ae.c;var We=ae.i,Be=(Pe=1,ue=ae.$/De,fe=ae.$%De,Te=ae.m,Ue=ae.s,ae.$),Ke=De*We,Je=De*V,mt=Ue.wc,at=Be<Je?pt(Ue,fe,ue):null;e(Be<=Ke),e(V<=We),e(Rt(Ue));t:for(;;){for(;!Te.h&&Be<Je;){if(fe&mt||(at=pt(Ue,fe,ue)),e(at!=null),D(Te),256>(We=Xe(at.G[0],at.H[0],Te)))le[he+Be]=We,++Be,++fe>=De&&(fe=0,++ue<=V&&!(ue%16)&&Dn(ae,ue));else{if(!(280>We)){Pe=0;break t}We=Oe(We-256,Te);var Zt,Ot=Xe(at.G[4],at.H[4],Te);if(D(Te),!(Be>=(Ot=He(De,Ot=Oe(Ot,Te)))&&Ke-Be>=We)){Pe=0;break t}for(Zt=0;Zt<We;++Zt)le[he+Be+Zt]=le[he+Be+Zt-Ot];for(Be+=We,fe+=We;fe>=De;)fe-=De,++ue<=V&&!(ue%16)&&Dn(ae,ue);Be<Je&&fe&mt&&(at=pt(Ue,fe,ue))}e(Te.h==Y(Te))}Dn(ae,ue>V?V:ue);break t}!Pe||Te.h&&Be<Ke?(Pe=0,ae.a=Te.h?5:3):ae.$=Be,V=Pe}else V=hn(ae,ae.V,ae.Ba,ae.c,ae.i,V,fi);if(!V){Q=0;break e}}Z+Q>=oe&&(N.Cc=1),Q=1}if(!Q)return null;if(N.Cc&&((Q=N.ga)!=null&&(Q.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+Z*ie}function Mi(N,V,Z,Q,ie,oe){for(;0<ie--;){var ae,le=N,ue=V+(Z?1:0),fe=N,Te=V+(Z?0:3);for(ae=0;ae<Q;++ae){var Ue=fe[Te+4*ae];Ue!=255&&(Ue*=32897,le[ue+4*ae+0]=le[ue+4*ae+0]*Ue>>23,le[ue+4*ae+1]=le[ue+4*ae+1]*Ue>>23,le[ue+4*ae+2]=le[ue+4*ae+2]*Ue>>23)}V+=oe}}function Ti(N,V,Z,Q,ie){for(;0<Q--;){var oe;for(oe=0;oe<Z;++oe){var ae=N[V+2*oe+0],le=15&(fe=N[V+2*oe+1]),ue=4369*le,fe=(240&fe|fe>>4)*ue>>16;N[V+2*oe+0]=(240&ae|ae>>4)*ue>>16&240|(15&ae|ae<<4)*ue>>16>>4&15,N[V+2*oe+1]=240&fe|le}V+=ie}}function es(N,V,Z,Q,ie,oe,ae,le){var ue,fe,Te=255;for(fe=0;fe<ie;++fe){for(ue=0;ue<Q;++ue){var Ue=N[V+ue];oe[ae+4*ue]=Ue,Te&=Ue}V+=Z,ae+=le}return Te!=255}function pu(N,V,Z,Q,ie){var oe;for(oe=0;oe<ie;++oe)Z[Q+oe]=N[V+oe]>>8}function Na(){hg=Mi,mk=Ti,gk=es,vk=pu}function mu(N,V,Z){q[N]=function(Q,ie,oe,ae,le,ue,fe,Te,Ue,he,De,Pe,We,Be,Ke,Je,mt){var at,Zt=mt-1>>1,Ot=le[ue+0]|fe[Te+0]<<16,Mn=Ue[he+0]|De[Pe+0]<<16;e(Q!=null);var Wt=3*Ot+Mn+131074>>2;for(V(Q[ie+0],255&Wt,Wt>>16,We,Be),oe!=null&&(Wt=3*Mn+Ot+131074>>2,V(oe[ae+0],255&Wt,Wt>>16,Ke,Je)),at=1;at<=Zt;++at){var nr=le[ue+at]|fe[Te+at]<<16,Pi=Ue[he+at]|De[Pe+at]<<16,Rn=Ot+nr+Mn+Pi+524296,Gt=Rn+2*(nr+Mn)>>3;Wt=Gt+Ot>>1,Ot=(Rn=Rn+2*(Ot+Pi)>>3)+nr>>1,V(Q[ie+2*at-1],255&Wt,Wt>>16,We,Be+(2*at-1)*Z),V(Q[ie+2*at-0],255&Ot,Ot>>16,We,Be+(2*at-0)*Z),oe!=null&&(Wt=Rn+Mn>>1,Ot=Gt+Pi>>1,V(oe[ae+2*at-1],255&Wt,Wt>>16,Ke,Je+(2*at-1)*Z),V(oe[ae+2*at+0],255&Ot,Ot>>16,Ke,Je+(2*at+0)*Z)),Ot=nr,Mn=Pi}1&mt||(Wt=3*Ot+Mn+131074>>2,V(Q[ie+mt-1],255&Wt,Wt>>16,We,Be+(mt-1)*Z),oe!=null&&(Wt=3*Mn+Ot+131074>>2,V(oe[ae+mt-1],255&Wt,Wt>>16,Ke,Je+(mt-1)*Z)))}}function ng(){oa[ly]=u$,oa[uy]=Ik,oa[Ek]=c$,oa[cy]=Dk,oa[dy]=kk,oa[jE]=Nk,oa[Sk]=d$,oa[HE]=Ik,oa[$E]=Dk,oa[fy]=kk,oa[qE]=Nk}function Th(N){return N&~f$?0>N?0:255:N>>Mk}function oc(N,V){return Th((19077*N>>8)+(26149*V>>8)-14234)}function Md(N,V,Z){return Th((19077*N>>8)-(6419*V>>8)-(13320*Z>>8)+8708)}function Rd(N,V){return Th((19077*N>>8)+(33050*V>>8)-17685)}function ac(N,V,Z,Q,ie){Q[ie+0]=oc(N,Z),Q[ie+1]=Md(N,V,Z),Q[ie+2]=Rd(N,V)}function ts(N,V,Z,Q,ie){Q[ie+0]=Rd(N,V),Q[ie+1]=Md(N,V,Z),Q[ie+2]=oc(N,Z)}function Pd(N,V,Z,Q,ie){var oe=Md(N,V,Z);V=oe<<3&224|Rd(N,V)>>3,Q[ie+0]=248&oc(N,Z)|oe>>5,Q[ie+1]=V}function Ld(N,V,Z,Q,ie){var oe=240&Rd(N,V)|15;Q[ie+0]=240&oc(N,Z)|Md(N,V,Z)>>4,Q[ie+1]=oe}function rg(N,V,Z,Q,ie){Q[ie+0]=255,ac(N,V,Z,Q,ie+1)}function ig(N,V,Z,Q,ie){ts(N,V,Z,Q,ie),Q[ie+3]=255}function Vs(N,V,Z,Q,ie){ac(N,V,Z,Q,ie),Q[ie+3]=255}function gu(N,V,Z){q[N]=function(Q,ie,oe,ae,le,ue,fe,Te,Ue){for(var he=Te+(-2&Ue)*Z;Te!=he;)V(Q[ie+0],oe[ae+0],le[ue+0],fe,Te),V(Q[ie+1],oe[ae+0],le[ue+0],fe,Te+Z),ie+=2,++ae,++ue,Te+=2*Z;1&Ue&&V(Q[ie+0],oe[ae+0],le[ue+0],fe,Te)}}function Ih(N,V,Z){return Z==0?N==0?V==0?6:5:V==0?4:0:Z}function iy(N,V,Z,Q,ie){switch(N>>>30){case 3:Vd(V,Z,Q,ie,0);break;case 2:ia(V,Z,Q,ie);break;case 1:wr(V,Z,Q,ie)}}function ra(N,V){var Z,Q,ie=V.M,oe=V.Nb,ae=N.oc,le=N.pc+40,ue=N.oc,fe=N.pc+584,Te=N.oc,Ue=N.pc+600;for(Z=0;16>Z;++Z)ae[le+32*Z-1]=129;for(Z=0;8>Z;++Z)ue[fe+32*Z-1]=129,Te[Ue+32*Z-1]=129;for(0<ie?ae[le-1-32]=ue[fe-1-32]=Te[Ue-1-32]=129:(i(ae,le-32-1,127,21),i(ue,fe-32-1,127,9),i(Te,Ue-32-1,127,9)),Q=0;Q<N.za;++Q){var he=V.ya[V.aa+Q];if(0<Q){for(Z=-1;16>Z;++Z)r(ae,le+32*Z-4,ae,le+32*Z+12,4);for(Z=-1;8>Z;++Z)r(ue,fe+32*Z-4,ue,fe+32*Z+4,4),r(Te,Ue+32*Z-4,Te,Ue+32*Z+4,4)}var De=N.Gd,Pe=N.Hd+Q,We=he.ad,Be=he.Hc;if(0<ie&&(r(ae,le-32,De[Pe].y,0,16),r(ue,fe-32,De[Pe].f,0,8),r(Te,Ue-32,De[Pe].ea,0,8)),he.Za){var Ke=ae,Je=le-32+16;for(0<ie&&(Q>=N.za-1?i(Ke,Je,De[Pe].y[15],4):r(Ke,Je,De[Pe+1].y,0,4)),Z=0;4>Z;Z++)Ke[Je+128+Z]=Ke[Je+256+Z]=Ke[Je+384+Z]=Ke[Je+0+Z];for(Z=0;16>Z;++Z,Be<<=2)Ke=ae,Je=le+Pk[Z],Ma[he.Ob[Z]](Ke,Je),iy(Be,We,16*+Z,Ke,Je)}else if(Ke=Ih(Q,ie,he.Ob[0]),mc[Ke](ae,le),Be!=0)for(Z=0;16>Z;++Z,Be<<=2)iy(Be,We,16*+Z,ae,le+Pk[Z]);for(Z=he.Gc,Ke=Ih(Q,ie,he.Dd),bu[Ke](ue,fe),bu[Ke](Te,Ue),Be=We,Ke=ue,Je=fe,255&(he=0|Z)&&(170&he?vl(Be,256,Ke,Je):Or(Be,256,Ke,Je)),he=Te,Be=Ue,255&(Z>>=8)&&(170&Z?vl(We,320,he,Be):Or(We,320,he,Be)),ie<N.Ub-1&&(r(De[Pe].y,0,ae,le+480,16),r(De[Pe].f,0,ue,fe+224,8),r(De[Pe].ea,0,Te,Ue+224,8)),Z=8*oe*N.B,De=N.sa,Pe=N.ta+16*Q+16*oe*N.R,We=N.qa,he=N.ra+8*Q+Z,Be=N.Ha,Ke=N.Ia+8*Q+Z,Z=0;16>Z;++Z)r(De,Pe+Z*N.R,ae,le+32*Z,16);for(Z=0;8>Z;++Z)r(We,he+Z*N.B,ue,fe+32*Z,8),r(Be,Ke+Z*N.B,Te,Ue+32*Z,8)}}function Fd(N,V,Z,Q,ie,oe,ae,le,ue){var fe=[0],Te=[0],Ue=0,he=ue!=null?ue.kd:0,De=ue??new ot;if(N==null||12>Z)return 7;De.data=N,De.w=V,De.ha=Z,V=[V],Z=[Z],De.gb=[De.gb];e:{var Pe=V,We=Z,Be=De.gb;if(e(N!=null),e(We!=null),e(Be!=null),Be[0]=0,12<=We[0]&&!n(N,Pe[0],"RIFF")){if(n(N,Pe[0]+8,"WEBP")){Be=3;break e}var Ke=ye(N,Pe[0]+4);if(12>Ke||4294967286<Ke){Be=3;break e}if(he&&Ke>We[0]-8){Be=7;break e}Be[0]=Ke,Pe[0]+=12,We[0]-=12}Be=0}if(Be!=0)return Be;for(Ke=0<De.gb[0],Z=Z[0];;){e:{var Je=N;We=V,Be=Z;var mt=fe,at=Te,Zt=Pe=[0];if((Wt=Ue=[Ue])[0]=0,8>Be[0])Be=7;else{if(!n(Je,We[0],"VP8X")){if(ye(Je,We[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var Ot=ye(Je,We[0]+8),Mn=1+ve(Je,We[0]+12);if(2147483648<=Mn*(Je=1+ve(Je,We[0]+15))){Be=3;break e}Zt!=null&&(Zt[0]=Ot),mt!=null&&(mt[0]=Mn),at!=null&&(at[0]=Je),We[0]+=18,Be[0]-=18,Wt[0]=1}Be=0}}if(Ue=Ue[0],Pe=Pe[0],Be!=0)return Be;if(We=!!(2&Pe),!Ke&&Ue)return 3;if(oe!=null&&(oe[0]=!!(16&Pe)),ae!=null&&(ae[0]=We),le!=null&&(le[0]=0),ae=fe[0],Pe=Te[0],Ue&&We&&ue==null){Be=0;break}if(4>Z){Be=7;break}if(Ke&&Ue||!Ke&&!Ue&&!n(N,V[0],"ALPH")){Z=[Z],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{Ot=N,Be=V,Ke=Z;var Wt=De.gb;mt=De.na,at=De.P,Zt=De.Sa,Mn=22,e(Ot!=null),e(Ke!=null),Je=Be[0];var nr=Ke[0];for(e(mt!=null),e(Zt!=null),mt[0]=null,at[0]=null,Zt[0]=0;;){if(Be[0]=Je,Ke[0]=nr,8>nr){Be=7;break e}var Pi=ye(Ot,Je+4);if(4294967286<Pi){Be=3;break e}var Rn=8+Pi+1&-2;if(Mn+=Rn,0<Wt&&Mn>Wt){Be=3;break e}if(!n(Ot,Je,"VP8 ")||!n(Ot,Je,"VP8L")){Be=0;break e}if(nr[0]<Rn){Be=7;break e}n(Ot,Je,"ALPH")||(mt[0]=Ot,at[0]=Je+8,Zt[0]=Pi),Je+=Rn,nr-=Rn}}if(Z=Z[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Be!=0)break}Z=[Z],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Wt=N,Be=V,Ke=Z,mt=De.gb[0],at=De.Ja,Zt=De.xa,Ot=Be[0],Je=!n(Wt,Ot,"VP8 "),Mn=!n(Wt,Ot,"VP8L"),e(Wt!=null),e(Ke!=null),e(at!=null),e(Zt!=null),8>Ke[0])Be=7;else{if(Je||Mn){if(Wt=ye(Wt,Ot+4),12<=mt&&Wt>mt-12){Be=3;break e}if(he&&Wt>Ke[0]-8){Be=7;break e}at[0]=Wt,Be[0]+=8,Ke[0]-=8,Zt[0]=Mn}else Zt[0]=5<=Ke[0]&&Wt[Ot+0]==47&&!(Wt[Ot+4]>>5),at[0]=Ke[0];Be=0}if(Z=Z[0],De.Ja=De.Ja[0],De.xa=De.xa[0],V=V[0],Be!=0)break;if(4294967286<De.Ja)return 3;if(le==null||We||(le[0]=De.xa?2:1),ae=[ae],Pe=[Pe],De.xa){if(5>Z){Be=7;break}le=ae,he=Pe,We=oe,N==null||5>Z?N=0:5<=Z&&N[V+0]==47&&!(N[V+4]>>5)?(Ke=[0],Wt=[0],mt=[0],I(at=new X,N,V,Z),_e(at,Ke,Wt,mt)?(le!=null&&(le[0]=Ke[0]),he!=null&&(he[0]=Wt[0]),We!=null&&(We[0]=mt[0]),N=1):N=0):N=0}else{if(10>Z){Be=7;break}le=Pe,N==null||10>Z||!hi(N,V+3,Z-3)?N=0:(he=N[V+0]|N[V+1]<<8|N[V+2]<<16,We=16383&(N[V+7]<<8|N[V+6]),N=16383&(N[V+9]<<8|N[V+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=De.Ja||!We||!N?N=0:(ae&&(ae[0]=We),le&&(le[0]=N),N=1))}if(!N||(ae=ae[0],Pe=Pe[0],Ue&&(fe[0]!=ae||Te[0]!=Pe)))return 3;ue!=null&&(ue[0]=De,ue.offset=V-ue.w,e(4294967286>V-ue.w),e(ue.offset==ue.ha-Z));break}return Be==0||Be==7&&Ue&&ue==null?(oe!=null&&(oe[0]|=De.na!=null&&0<De.na.length),Q!=null&&(Q[0]=ae),ie!=null&&(ie[0]=Pe),0):Be}function sg(N,V,Z){var Q=V.width,ie=V.height,oe=0,ae=0,le=Q,ue=ie;if(V.Da=N!=null&&0<N.Da,V.Da&&(le=N.cd,ue=N.bd,oe=N.v,ae=N.j,11>Z||(oe&=-2,ae&=-2),0>oe||0>ae||0>=le||0>=ue||oe+le>Q||ae+ue>ie))return 0;if(V.v=oe,V.j=ae,V.va=oe+le,V.o=ae+ue,V.U=le,V.T=ue,V.da=N!=null&&0<N.da,V.da){if(!we(le,ue,Z=[N.ib],oe=[N.hb]))return 0;V.ib=Z[0],V.hb=oe[0]}return V.ob=N!=null&&N.ob,V.Kb=N==null||!N.Sd,V.da&&(V.ob=V.ib<3*Q/4&&V.hb<3*ie/4,V.Kb=0),1}function og(N){if(N==null)return 2;if(11>N.S){var V=N.f.RGBA;V.fb+=(N.height-1)*V.A,V.A=-V.A}else V=N.f.kb,N=N.height,V.O+=(N-1)*V.fa,V.fa=-V.fa,V.N+=(N-1>>1)*V.Ab,V.Ab=-V.Ab,V.W+=(N-1>>1)*V.Db,V.Db=-V.Db,V.F!=null&&(V.J+=(N-1)*V.lb,V.lb=-V.lb);return 0}function lc(N,V,Z,Q){if(Q==null||0>=N||0>=V)return 2;if(Z!=null){if(Z.Da){var ie=Z.cd,oe=Z.bd,ae=-2&Z.v,le=-2&Z.j;if(0>ae||0>le||0>=ie||0>=oe||ae+ie>N||le+oe>V)return 2;N=ie,V=oe}if(Z.da){if(!we(N,V,ie=[Z.ib],oe=[Z.hb]))return 2;N=ie[0],V=oe[0]}}Q.width=N,Q.height=V;e:{var ue=Q.width,fe=Q.height;if(N=Q.S,0>=ue||0>=fe||!(N>=ly&&13>N))N=2;else{if(0>=Q.Rd&&Q.sd==null){ae=oe=ie=V=0;var Te=(le=ue*Lk[N])*fe;if(11>N||(oe=(fe+1)/2*(V=(ue+1)/2),N==12&&(ae=(ie=ue)*fe)),(fe=s(Te+2*oe+ae))==null){N=1;break e}Q.sd=fe,11>N?((ue=Q.f.RGBA).eb=fe,ue.fb=0,ue.A=le,ue.size=Te):((ue=Q.f.kb).y=fe,ue.O=0,ue.fa=le,ue.Fd=Te,ue.f=fe,ue.N=0+Te,ue.Ab=V,ue.Cd=oe,ue.ea=fe,ue.W=0+Te+oe,ue.Db=V,ue.Ed=oe,N==12&&(ue.F=fe,ue.J=0+Te+2*oe),ue.Tc=ae,ue.lb=ie)}if(V=1,ie=Q.S,oe=Q.width,ae=Q.height,ie>=ly&&13>ie)if(11>ie)N=Q.f.RGBA,V&=(le=Math.abs(N.A))*(ae-1)+oe<=N.size,V&=le>=oe*Lk[ie],V&=N.eb!=null;else{N=Q.f.kb,le=(oe+1)/2,Te=(ae+1)/2,ue=Math.abs(N.fa),fe=Math.abs(N.Ab);var Ue=Math.abs(N.Db),he=Math.abs(N.lb),De=he*(ae-1)+oe;V&=ue*(ae-1)+oe<=N.Fd,V&=fe*(Te-1)+le<=N.Cd,V=(V&=Ue*(Te-1)+le<=N.Ed)&ue>=oe&fe>=le&Ue>=le,V&=N.y!=null,V&=N.f!=null,V&=N.ea!=null,ie==12&&(V&=he>=oe,V&=De<=N.Tc,V&=N.F!=null)}else V=0;N=V?0:2}}return N!=0||Z!=null&&Z.fd&&(N=og(Q)),N}var Od=64,To=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Io=24,uc=32,vu=8,cc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(N){return N},q.Predictor2=function(N,V,Z){return V[Z+0]},q.Predictor3=function(N,V,Z){return V[Z+1]},q.Predictor4=function(N,V,Z){return V[Z-1]},q.Predictor5=function(N,V,Z){return Ve(Ve(N,V[Z+1]),V[Z+0])},q.Predictor6=function(N,V,Z){return Ve(N,V[Z-1])},q.Predictor7=function(N,V,Z){return Ve(N,V[Z+0])},q.Predictor8=function(N,V,Z){return Ve(V[Z-1],V[Z+0])},q.Predictor9=function(N,V,Z){return Ve(V[Z+0],V[Z+1])},q.Predictor10=function(N,V,Z){return Ve(Ve(N,V[Z-1]),Ve(V[Z+0],V[Z+1]))},q.Predictor11=function(N,V,Z){var Q=V[Z+0];return 0>=ze(Q>>24&255,N>>24&255,(V=V[Z-1])>>24&255)+ze(Q>>16&255,N>>16&255,V>>16&255)+ze(Q>>8&255,N>>8&255,V>>8&255)+ze(255&Q,255&N,255&V)?Q:N},q.Predictor12=function(N,V,Z){var Q=V[Z+0];return(qe((N>>24&255)+(Q>>24&255)-((V=V[Z-1])>>24&255))<<24|qe((N>>16&255)+(Q>>16&255)-(V>>16&255))<<16|qe((N>>8&255)+(Q>>8&255)-(V>>8&255))<<8|qe((255&N)+(255&Q)-(255&V)))>>>0},q.Predictor13=function(N,V,Z){var Q=V[Z-1];return(ht((N=Ve(N,V[Z+0]))>>24&255,Q>>24&255)<<24|ht(N>>16&255,Q>>16&255)<<16|ht(N>>8&255,Q>>8&255)<<8|ht(255&N,255&Q))>>>0};var ag=q.PredictorAdd0;q.PredictorAdd1=rt,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var Dh=q.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var pi,sy=q.ColorIndexInverseTransform,ml=q.MapARGB,gl=q.VP8LColorIndexInverseTransformAlpha,lg=q.MapAlpha,ug=q.VP8LPredictorsAdd=[];ug.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var cg,dg,dc,fc,hc,Bd,pc,Vd,ia,vl,wr,Or,mi,Ri,yu,fg,kh,oy,uk,ck,dk,fk,hk,pk,hg,mk,gk,vk,yk=s(511),bk=s(2041),wk=s(225),_k=s(767),xk=0,UE=bk,ay=wk,Do=_k,sa=yk,ly=0,uy=1,Ek=2,cy=3,dy=4,jE=5,Sk=6,HE=7,$E=8,fy=9,qE=10,XH=[2,3,7],KH=[3,3,11],Ck=[280,256,256,256,40],ZH=[0,1,1,1,0],JH=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],QH=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],e$=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],t$=8,zE=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],WE=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],pg=null,n$=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],r$=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ak=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],i$=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],s$=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],o$=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],a$=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],mc=[],Ma=[],bu=[],l$=1,Tk=2,gc=[],oa=[];mu("UpsampleRgbLinePair",ac,3),mu("UpsampleBgrLinePair",ts,3),mu("UpsampleRgbaLinePair",Vs,4),mu("UpsampleBgraLinePair",ig,4),mu("UpsampleArgbLinePair",rg,4),mu("UpsampleRgba4444LinePair",Ld,2),mu("UpsampleRgb565LinePair",Pd,2);var u$=q.UpsampleRgbLinePair,c$=q.UpsampleBgrLinePair,Ik=q.UpsampleRgbaLinePair,Dk=q.UpsampleBgraLinePair,kk=q.UpsampleArgbLinePair,Nk=q.UpsampleRgba4444LinePair,d$=q.UpsampleRgb565LinePair,hy=16,py=1<<hy-1,mg=-227,GE=482,Mk=6,f$=(256<<Mk)-1,Rk=0,h$=s(256),p$=s(256),m$=s(256),g$=s(256),v$=s(GE-mg),y$=s(GE-mg);gu("YuvToRgbRow",ac,3),gu("YuvToBgrRow",ts,3),gu("YuvToRgbaRow",Vs,4),gu("YuvToBgraRow",ig,4),gu("YuvToArgbRow",rg,4),gu("YuvToRgba4444Row",Ld,2),gu("YuvToRgb565Row",Pd,2);var Pk=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],my=[0,2,8],b$=[8,7,6,4,4,2,2,2,1,1,1,1],w$=1;this.WebPDecodeRGBA=function(N,V,Z,Q,ie){var oe=uy,ae=new Ze,le=new vt;ae.ba=le,le.S=oe,le.width=[le.width],le.height=[le.height];var ue=le.width,fe=le.height,Te=new Vt;if(Te==null||N==null)var Ue=2;else e(Te!=null),Ue=Fd(N,V,Z,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(Ue!=0?ue=0:(ue!=null&&(ue[0]=Te.width[0]),fe!=null&&(fe[0]=Te.height[0]),ue=1),ue){le.width=le.width[0],le.height=le.height[0],Q!=null&&(Q[0]=le.width),ie!=null&&(ie[0]=le.height);e:{if(Q=new Rr,(ie=new ot).data=N,ie.w=V,ie.ha=Z,ie.kd=1,V=[0],e(ie!=null),((N=Fd(ie.data,ie.w,ie.ha,null,null,null,V,null,ie))==0||N==7)&&V[0]&&(N=4),(V=N)==0){if(e(ae!=null),Q.data=ie.data,Q.w=ie.w+ie.offset,Q.ha=ie.ha-ie.offset,Q.put=zt,Q.ac=Ht,Q.bc=en,Q.ma=ae,ie.xa){if((N=Zn())==null){ae=1;break e}if((function(he,De){var Pe=[0],We=[0],Be=[0];t:for(;;){if(he==null)return 0;if(De==null)return he.a=2,0;if(he.l=De,he.a=0,I(he.m,De.data,De.w,De.ha),!_e(he.m,Pe,We,Be)){he.a=3;break t}if(he.xb=Tk,De.width=Pe[0],De.height=We[0],!ar(Pe[0],We[0],1,he,null))break t;return 1}return e(he.a!=0),0})(N,Q)){if(Q=(V=lc(Q.width,Q.height,ae.Oa,ae.ba))==0){t:{Q=N;n:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((Z=Q.l)!=null),e((ie=Z.ma)!=null),Q.xb!=0){if(Q.ca=ie.ba,Q.tb=ie.tb,e(Q.ca!=null),!sg(ie.Oa,Z,cy)){Q.a=2;break n}if(!Hr(Q,Z.width)||Z.da)break n;if((Z.da||ft(Q.ca.S))&&Na(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&Na()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!K(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break n}Q.xb=0}if(!hn(Q,Q.V,Q.Ba,Q.c,Q.i,Z.o,jn))break n;ie.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(V=N.a)}else V=N.a}else{if((N=new tr)==null){ae=1;break e}if(N.Fa=ie.na,N.P=ie.P,N.qc=ie.Sa,ni(N,Q)){if((V=lc(Q.width,Q.height,ae.Oa,ae.ba))==0){if(N.Aa=0,Z=ae.Oa,e((ie=N)!=null),Z!=null){if(0<(ue=0>(ue=Z.Md)?0:100<ue?255:255*ue/100)){for(fe=Te=0;4>fe;++fe)12>(Ue=ie.pb[fe]).lc&&(Ue.ia=ue*b$[0>Ue.lc?0:Ue.lc]>>3),Te|=Ue.ia;Te&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=Z.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}(function(he,De){if(he==null)return 0;if(De==null)return yn(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!ni(he,De))return 0;if(e(he.cb),De.ac==null||De.ac(De)){De.ob&&(he.L=0);var Pe=my[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=De.v-Pe>>4,he.zb=De.j-Pe>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=De.o+15+Pe>>4,he.Hb=De.va+15+Pe>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var We=he.ed;for(Pe=0;4>Pe;++Pe){var Be;if(he.Qa.Cb){var Ke=he.Qa.Lb[Pe];he.Qa.Fb||(Ke+=We.Tb)}else Ke=We.Tb;for(Be=0;1>=Be;++Be){var Je=he.gd[Pe][Be],mt=Ke;if(We.Pc&&(mt+=We.vd[0],Be&&(mt+=We.od[0])),0<(mt=0>mt?0:63<mt?63:mt)){var at=mt;0<We.wb&&(at=4<We.wb?at>>2:at>>1)>9-We.wb&&(at=9-We.wb),1>at&&(at=1),Je.dd=at,Je.tc=2*mt+at,Je.ld=40<=mt?2:15<=mt?1:0}else Je.tc=0;Je.La=Be}}}Pe=0}else yn(he,6,"Frame setup failed"),Pe=he.a;if(Pe=Pe==0){if(Pe){he.$c=0,0<he.Aa||(he.Ic=w$);t:{Pe=he.Ic,We=4*(at=he.za);var Zt=32*at,Ot=at+1,Mn=0<he.L?at*(0<he.Aa?2:1):0,Wt=(he.Aa==2?2:1)*at;if((Je=We+832+(Be=3*(16*Pe+my[he.L])/2*Zt)+(Ke=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=Je)Pe=0;else{if(Je>he.Vb){if(he.Vb=0,he.Ec=s(Je),he.Fc=0,he.Ec==null){Pe=yn(he,1,"no memory during frame initialization.");break t}he.Vb=Je}Je=he.Ec,mt=he.Fc,he.Ac=Je,he.Bc=mt,mt+=We,he.Gd=o(Zt,nn),he.Hd=0,he.rb=o(Ot+1,Mt),he.sb=1,he.wa=Mn?o(Mn,dt):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=at),e(!0),he.oc=Je,he.pc=mt,mt+=832,he.ya=o(Wt,Cn),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=at),he.R=16*at,he.B=8*at,at=(Zt=my[he.L])*he.R,Zt=Zt/2*he.B,he.sa=Je,he.ta=mt+at,he.qa=he.sa,he.ra=he.ta+16*Pe*he.R+Zt,he.Ha=he.qa,he.Ia=he.ra+8*Pe*he.B+Zt,he.$c=0,mt+=Be,he.mb=Ke?Je:null,he.nb=Ke?mt:null,e(mt+Ke<=he.Fc+he.Vb),Bs(he),i(he.Ac,he.Bc,0,We),Pe=1}}if(Pe){if(De.ka=0,De.y=he.sa,De.O=he.ta,De.f=he.qa,De.N=he.ra,De.ea=he.Ha,De.Vd=he.Ia,De.fa=he.R,De.Rc=he.B,De.F=null,De.J=0,!xk){for(Pe=-255;255>=Pe;++Pe)yk[255+Pe]=0>Pe?-Pe:Pe;for(Pe=-1020;1020>=Pe;++Pe)bk[1020+Pe]=-128>Pe?-128:127<Pe?127:Pe;for(Pe=-112;112>=Pe;++Pe)wk[112+Pe]=-16>Pe?-16:15<Pe?15:Pe;for(Pe=-255;510>=Pe;++Pe)_k[255+Pe]=0>Pe?0:255<Pe?255:Pe;xk=1}pc=ws,Vd=Ad,vl=qi,wr=ou,Or=zi,ia=ur,mi=ny,Ri=Nd,yu=re,fg=me,kh=ry,oy=G,uk=Ce,ck=Re,dk=kd,fk=tg,hk=ey,pk=ty,Ma[0]=LE,Ma[1]=au,Ma[2]=sc,Ma[3]=PE,Ma[4]=lu,Ma[5]=FE,Ma[6]=uu,Ma[7]=OE,Ma[8]=Km,Ma[9]=Ch,mc[0]=Id,mc[1]=hl,mc[2]=lo,mc[3]=Td,mc[4]=na,mc[5]=pl,mc[6]=Sh,bu[0]=VE,bu[1]=ic,bu[2]=Dd,bu[3]=BE,bu[4]=Jm,bu[5]=Zm,bu[6]=Qv,Pe=1}else Pe=0}Pe&&(Pe=(function(nr,Pi){for(nr.M=0;nr.M<nr.Va;++nr.M){var Rn,Gt=nr.Jc[nr.M&nr.Xb],St=nr.m,gi=nr;for(Rn=0;Rn<gi.za;++Rn){var An=St,sr=gi,Xr=sr.Ac,ns=sr.Bc+4*Rn,Us=sr.zc,oi=sr.ya[sr.aa+Rn];if(sr.Qa.Bb?oi.$b=ne(An,sr.Pa.jb[0])?2+ne(An,sr.Pa.jb[2]):ne(An,sr.Pa.jb[1]):oi.$b=0,sr.kc&&(oi.Ad=ne(An,sr.Bd)),oi.Za=!ne(An,145)+0,oi.Za){var Es=oi.Ob,js=0;for(sr=0;4>sr;++sr){var Li,dr=Us[0+sr];for(Li=0;4>Li;++Li){dr=s$[Xr[ns+Li]][dr];for(var Ir=Ak[ne(An,dr[0])];0<Ir;)Ir=Ak[2*Ir+ne(An,dr[Ir])];dr=-Ir,Xr[ns+Li]=dr}r(Es,js,Xr,ns,4),js+=4,Us[0+sr]=dr}}else dr=ne(An,156)?ne(An,128)?1:3:ne(An,163)?2:0,oi.Ob[0]=dr,i(Xr,ns,dr,4),i(Us,0,dr,4);oi.Dd=ne(An,142)?ne(An,114)?ne(An,183)?1:3:2:0}if(gi.m.Ka)return yn(nr,7,"Premature end-of-partition0 encountered.");for(;nr.ja<nr.za;++nr.ja){if(gi=Gt,An=(St=nr).rb[St.sb-1],Xr=St.rb[St.sb+St.ja],Rn=St.ya[St.aa+St.ja],ns=St.kc?Rn.Ad:0)An.la=Xr.la=0,Rn.Za||(An.Na=Xr.Na=0),Rn.Hc=0,Rn.Gc=0,Rn.ia=0;else{var ai,Dr;if(An=Xr,Xr=gi,ns=St.Pa.Xc,Us=St.ya[St.aa+St.ja],oi=St.pb[Us.$b],sr=Us.ad,Es=0,js=St.rb[St.sb-1],dr=Li=0,i(sr,Es,0,384),Us.Za)var rs=0,Ra=ns[3];else{Ir=s(16);var vi=An.Na+js.Na;if(vi=pg(Xr,ns[1],vi,oi.Eb,0,Ir,0),An.Na=js.Na=(0<vi)+0,1<vi)pc(Ir,0,sr,Es);else{var uo=Ir[0]+3>>3;for(Ir=0;256>Ir;Ir+=16)sr[Es+Ir]=uo}rs=1,Ra=ns[0]}var Br=15&An.la,Fi=15&js.la;for(Ir=0;4>Ir;++Ir){var ko=1&Fi;for(uo=Dr=0;4>uo;++uo)Br=Br>>1|(ko=(vi=pg(Xr,Ra,vi=ko+(1&Br),oi.Sc,rs,sr,Es))>rs)<<7,Dr=Dr<<2|(3<vi?3:1<vi?2:sr[Es+0]!=0),Es+=16;Br>>=4,Fi=Fi>>1|ko<<7,Li=(Li<<8|Dr)>>>0}for(Ra=Br,rs=Fi>>4,ai=0;4>ai;ai+=2){for(Dr=0,Br=An.la>>4+ai,Fi=js.la>>4+ai,Ir=0;2>Ir;++Ir){for(ko=1&Fi,uo=0;2>uo;++uo)vi=ko+(1&Br),Br=Br>>1|(ko=0<(vi=pg(Xr,ns[2],vi,oi.Qc,0,sr,Es)))<<3,Dr=Dr<<2|(3<vi?3:1<vi?2:sr[Es+0]!=0),Es+=16;Br>>=2,Fi=Fi>>1|ko<<5}dr|=Dr<<4*ai,Ra|=Br<<4<<ai,rs|=(240&Fi)<<ai}An.la=Ra,js.la=rs,Us.Hc=Li,Us.Gc=dr,Us.ia=43690&dr?0:oi.ia,ns=!(Li|dr)}if(0<St.L&&(St.wa[St.Y+St.ja]=St.gd[Rn.$b][Rn.Za],St.wa[St.Y+St.ja].La|=!ns),gi.Ka)return yn(nr,7,"Premature end-of-file encountered.")}if(Bs(nr),St=Pi,gi=1,Rn=(Gt=nr).D,An=0<Gt.L&&Gt.M>=Gt.zb&&Gt.M<=Gt.Va,Gt.Aa==0)t:{if(Rn.M=Gt.M,Rn.uc=An,ra(Gt,Rn),gi=1,Rn=(Dr=Gt.D).Nb,An=(dr=my[Gt.L])*Gt.R,Xr=dr/2*Gt.B,Ir=16*Rn*Gt.R,uo=8*Rn*Gt.B,ns=Gt.sa,Us=Gt.ta-An+Ir,oi=Gt.qa,sr=Gt.ra-Xr+uo,Es=Gt.Ha,js=Gt.Ia-Xr+uo,Fi=(Br=Dr.M)==0,Li=Br>=Gt.Va-1,Gt.Aa==2&&ra(Gt,Dr),Dr.uc)for(ko=(vi=Gt).D.M,e(vi.D.uc),Dr=vi.yb;Dr<vi.Hb;++Dr){rs=Dr,Ra=ko;var Hs=(No=(is=vi).D).Nb;ai=is.R;var No=No.wa[No.Y+rs],Mo=is.sa,co=is.ta+16*Hs*ai+16*rs,Ro=No.dd,zr=No.tc;if(zr!=0)if(e(3<=zr),is.L==1)0<rs&&fk(Mo,co,ai,zr+4),No.La&&pk(Mo,co,ai,zr),0<Ra&&dk(Mo,co,ai,zr+4),No.La&&hk(Mo,co,ai,zr);else{var Po=is.B,Pa=is.qa,Ud=is.ra+8*Hs*Po+8*rs,wu=is.Ha,is=is.Ia+8*Hs*Po+8*rs;Hs=No.ld,0<rs&&(Ri(Mo,co,ai,zr+4,Ro,Hs),fg(Pa,Ud,wu,is,Po,zr+4,Ro,Hs)),No.La&&(oy(Mo,co,ai,zr,Ro,Hs),ck(Pa,Ud,wu,is,Po,zr,Ro,Hs)),0<Ra&&(mi(Mo,co,ai,zr+4,Ro,Hs),yu(Pa,Ud,wu,is,Po,zr+4,Ro,Hs)),No.La&&(kh(Mo,co,ai,zr,Ro,Hs),uk(Pa,Ud,wu,is,Po,zr,Ro,Hs))}}if(Gt.ia&&alert("todo:DitherRow"),St.put!=null){if(Dr=16*Br,Br=16*(Br+1),Fi?(St.y=Gt.sa,St.O=Gt.ta+Ir,St.f=Gt.qa,St.N=Gt.ra+uo,St.ea=Gt.Ha,St.W=Gt.Ia+uo):(Dr-=dr,St.y=ns,St.O=Us,St.f=oi,St.N=sr,St.ea=Es,St.W=js),Li||(Br-=dr),Br>St.o&&(Br=St.o),St.F=null,St.J=null,Gt.Fa!=null&&0<Gt.Fa.length&&Dr<Br&&(St.J=qr(Gt,St,Dr,Br-Dr),St.F=Gt.mb,St.F==null&&St.F.length==0)){gi=yn(Gt,3,"Could not decode alpha data.");break t}Dr<St.j&&(dr=St.j-Dr,Dr=St.j,e(!(1&dr)),St.O+=Gt.R*dr,St.N+=Gt.B*(dr>>1),St.W+=Gt.B*(dr>>1),St.F!=null&&(St.J+=St.width*dr)),Dr<Br&&(St.O+=St.v,St.N+=St.v>>1,St.W+=St.v>>1,St.F!=null&&(St.J+=St.v),St.ka=Dr-St.j,St.U=St.va-St.v,St.T=Br-Dr,gi=St.put(St))}Rn+1!=Gt.Ic||Li||(r(Gt.sa,Gt.ta-An,ns,Us+16*Gt.R,An),r(Gt.qa,Gt.ra-Xr,oi,sr+8*Gt.B,Xr),r(Gt.Ha,Gt.Ia-Xr,Es,js+8*Gt.B,Xr))}if(!gi)return yn(nr,6,"Output aborted.")}return 1})(he,De)),De.bc!=null&&De.bc(De),Pe&=1}return Pe?(he.cb=0,Pe):0})(N,Q)||(V=N.a)}}else V=N.a}V==0&&ae.Oa!=null&&ae.Oa.fd&&(V=og(ae.ba))}ae=V}oe=ae!=0?null:11>oe?le.f.RGBA.eb:le.f.kb.y}else oe=null;return oe};var Lk=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(q,H){for(var E="",C=0;C<4;C++)E+=String.fromCharCode(q[H++]);return E}function c(q,H){return q[H+0]|q[H+1]<<8}function d(q,H){return(q[H+0]|q[H+1]<<8|q[H+2]<<16)>>>0}function f(q,H){return(q[H+0]|q[H+1]<<8|q[H+2]<<16|q[H+3]<<24)>>>0}new l;var h=[0],p=[0],m=[],g=new l,y=t,x=(function(q,H){var E={},C=0,L=!1,v=0,b=0;if(E.frames=[],!(function(B,X){for(var M=0;M<4;M++)if(B[X+M]!="RIFF".charCodeAt(M))return!0;return!1})(q,H)){for(f(q,H+=4),H+=8;H<q.length;){var _=u(q,H),w=f(q,H+=4);H+=4;var S=w+(1&w);switch(_){case"VP8 ":case"VP8L":E.frames[C]===void 0&&(E.frames[C]={}),(W=E.frames[C]).src_off=L?b:H-8,W.src_size=v+w+8,C++,L&&(L=!1,v=0,b=0);break;case"VP8X":(W=E.header={}).feature_flags=q[H];var I=H+4;W.canvas_width=1+d(q,I),I+=3,W.canvas_height=1+d(q,I),I+=3;break;case"ALPH":L=!0,v=S+8,b=H-8;break;case"ANIM":(W=E.header).bgcolor=f(q,H),I=H+4,W.loop_count=c(q,I),I+=2;break;case"ANMF":var F,W;(W=E.frames[C]={}).offset_x=2*d(q,H),H+=3,W.offset_y=2*d(q,H),H+=3,W.width=1+d(q,H),H+=3,W.height=1+d(q,H),H+=3,W.duration=d(q,H),H+=3,F=q[H++],W.dispose=1&F,W.blend=F>>1&1}_!="ANMF"&&(H+=S)}return E}})(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var T=x.header?x.header:null,R=x.frames?x.frames:null;if(T){T.loop_counter=T.loop_count,h=[T.canvas_height],p=[T.canvas_width];for(var $=0;$<R.length&&R[$].blend!=0;$++);}var O=R[0],U=g.WebPDecodeRGBA(y,O.src_off,O.src_size,p,h);O.rgba=U,O.imgwidth=p[0],O.imgheight=h[0];for(var j=0;j<p[0]*h[0]*4;j++)m[j]=U[j];return this.width=p,this.height=h,this.data=m,this}(function(t){var e,n,r,i,s,o,a,l,u,c=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=B;Object.defineProperty(this,"pdf",{get:function(){return X}});var M=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return M},set:function(K){M=!!K}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(K){Y=!!K}});var k=0;Object.defineProperty(this,"posX",{get:function(){return k},set:function(K){isNaN(K)||(k=K)}});var D=0;Object.defineProperty(this,"posY",{get:function(){return D},set:function(K){isNaN(K)||(D=K)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(K){var ce;typeof K=="number"?ce=[K,K,K,K]:((ce=new Array(4))[0]=K[0],ce[1]=K.length>=2?K[1]:ce[0],ce[2]=K.length>=3?K[2]:ce[0],ce[3]=K.length>=4?K[3]:ce[1]),u.margin=ce}});var z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return z},set:function(K){z=K}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(K){J=K}});var ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ne},set:function(K){ne=K}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(K){K instanceof c&&(u=K)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(K){u.path=K}});var te=[];Object.defineProperty(this,"ctxStack",{get:function(){return te},set:function(K){te=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var ce;ce=f(K),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var ce=f(K);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var se=null,ve=null,ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return ye},set:function(K){se=null,ve=null,ye=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var ce;if(this.ctx.font=K,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var de=ce[1];ce[2];var we=ce[3],ge=ce[4];ce[5];var Se=ce[6],Ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ge)[2];ge=Math.floor(Ee==="px"?parseFloat(ge)*this.pdf.internal.scaleFactor:Ee==="em"?parseFloat(ge)*this.pdf.getFontSize():parseFloat(ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ge);var Fe=(function(nt){var it,Ge,bt=[],ut=nt.trim();if(ut==="")return q6;if(ut in Kj)return[Kj[ut]];for(;ut!=="";){switch(Ge=null,it=(ut=Jj(ut)).charAt(0)){case'"':case"'":Ge=jbe(ut.substring(1),it);break;default:Ge=Hbe(ut)}if(Ge===null||(bt.push(Ge[0]),(ut=Jj(Ge[1]))!==""&&ut.charAt(0)!==","))return q6;ut=ut.replace(/^,/,"")}return bt})(Se);if(this.fontFaces){var Ve=(function(nt,it){var Ge=nt.getFontList(),bt=JSON.stringify(Ge);if(se===null||ve!==bt){var ut=(function(wt){var Ft=[];return Object.keys(wt).forEach(function(yt){wt[yt].forEach(function(ft){var Bt=null;switch(ft){case"bold":Bt={family:yt,weight:"bold"};break;case"italic":Bt={family:yt,style:"italic"};break;case"bolditalic":Bt={family:yt,weight:"bold",style:"italic"};break;case"":case"normal":Bt={family:yt}}Bt!==null&&(Bt.ref={name:yt,style:ft},Ft.push(Bt))})}),Ft})(Ge);se=(function(wt){for(var Ft={},yt=0;yt<wt.length;++yt){var ft=$6(wt[yt]),Bt=ft.family,Nt=ft.stretch,vt=ft.style,Vt=ft.weight;Ft[Bt]=Ft[Bt]||{},Ft[Bt][Nt]=Ft[Bt][Nt]||{},Ft[Bt][Nt][vt]=Ft[Bt][Nt][vt]||{},Ft[Bt][Nt][vt][Vt]=ft}return Ft})(ut.concat(it)),ve=bt}return se})(this.pdf,this.fontFaces),qe=Fe.map(function(nt){return{family:nt,stretch:"normal",weight:we,style:de}}),ht=(function(nt,it,Ge){for(var bt=(Ge=Ge||{}).defaultFontFamily||"times",ut=Object.assign({},Ube,Ge.genericFontFamilies||{}),wt=null,Ft=null,yt=0;yt<it.length;++yt)if(ut[(wt=$6(it[yt])).family]&&(wt.family=ut[wt.family]),nt.hasOwnProperty(wt.family)){Ft=nt[wt.family];break}if(!(Ft=Ft||nt[bt]))throw new Error("Could not find a font-family for the rule '"+Zj(wt)+"' and default family '"+bt+"'.");if(Ft=(function(ft,Bt){if(Bt[ft])return Bt[ft];var Nt=K6[ft],vt=Nt<=K6.normal?-1:1,Vt=Xj(Bt,_H,Nt,vt);if(!Vt)throw new Error("Could not find a matching font-stretch value for "+ft);return Vt})(wt.stretch,Ft),Ft=(function(ft,Bt){if(Bt[ft])return Bt[ft];for(var Nt=wH[ft],vt=0;vt<Nt.length;++vt)if(Bt[Nt[vt]])return Bt[Nt[vt]];throw new Error("Could not find a matching font-style for "+ft)})(wt.style,Ft),!(Ft=(function(ft,Bt){if(Bt[ft])return Bt[ft];if(ft===400&&Bt[500])return Bt[500];if(ft===500&&Bt[400])return Bt[400];var Nt=Vbe[ft],vt=Xj(Bt,xH,Nt,ft<400?-1:1);if(!vt)throw new Error("Could not find a matching font-weight for value "+ft);return vt})(wt.weight,Ft)))throw new Error("Failed to resolve a font for the rule '"+Zj(wt)+"'.");return Ft})(Ve,qe);this.pdf.setFont(ht.ref.name,ht.ref.style)}else{var ze="";(we==="bold"||parseInt(we,10)>=700||de==="bold")&&(ze="bold"),de==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var rt="",Ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},et=0;et<Fe.length;et++){if(this.pdf.internal.getFont(Fe[et],ze,{noFallback:!0,disableWarning:!0})!==void 0){rt=Fe[et];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(Fe[et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)rt=Fe[et],ze="bold";else if(this.pdf.internal.getFont(Fe[et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){rt=Fe[et],ze="normal";break}}if(rt===""){for(var tt=0;tt<Fe.length;tt++)if(Ct[Fe[tt]]){rt=Ct[Fe[tt]];break}}rt=rt===""?"Times":rt,this.pdf.setFont(rt,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};d.prototype.setLineDash=function(B){this.lineDash=B},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){R.call(this,"fill",!1)},d.prototype.stroke=function(){R.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(B,X){if(isNaN(B)||isNaN(X))throw jr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var M=this.ctx.transform.applyToPoint(new o(B,X));this.path.push({type:"mt",x:M.x,y:M.y}),this.ctx.lastPoint=new o(B,X)},d.prototype.closePath=function(){var B=new o(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Pr(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){B=new o(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},d.prototype.lineTo=function(B,X){if(isNaN(B)||isNaN(X))throw jr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var M=this.ctx.transform.applyToPoint(new o(B,X));this.path.push({type:"lt",x:M.x,y:M.y}),this.ctx.lastPoint=new o(M.x,M.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},d.prototype.quadraticCurveTo=function(B,X,M,Y){if(isNaN(M)||isNaN(Y)||isNaN(B)||isNaN(X))throw jr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var k=this.ctx.transform.applyToPoint(new o(M,Y)),D=this.ctx.transform.applyToPoint(new o(B,X));this.path.push({type:"qct",x1:D.x,y1:D.y,x:k.x,y:k.y}),this.ctx.lastPoint=new o(k.x,k.y)},d.prototype.bezierCurveTo=function(B,X,M,Y,k,D){if(isNaN(k)||isNaN(D)||isNaN(B)||isNaN(X)||isNaN(M)||isNaN(Y))throw jr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var z=this.ctx.transform.applyToPoint(new o(k,D)),J=this.ctx.transform.applyToPoint(new o(B,X)),ne=this.ctx.transform.applyToPoint(new o(M,Y));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:ne.x,y2:ne.y,x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},d.prototype.arc=function(B,X,M,Y,k,D){if(isNaN(B)||isNaN(X)||isNaN(M)||isNaN(Y)||isNaN(k))throw jr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(D=!!D,!this.ctx.transform.isIdentity){var z=this.ctx.transform.applyToPoint(new o(B,X));B=z.x,X=z.y;var J=this.ctx.transform.applyToPoint(new o(0,M)),ne=this.ctx.transform.applyToPoint(new o(0,0));M=Math.sqrt(Math.pow(J.x-ne.x,2)+Math.pow(J.y-ne.y,2))}Math.abs(k-Y)>=2*Math.PI&&(Y=0,k=2*Math.PI),this.path.push({type:"arc",x:B,y:X,radius:M,startAngle:Y,endAngle:k,counterclockwise:D})},d.prototype.arcTo=function(B,X,M,Y,k){throw new Error("arcTo not implemented.")},d.prototype.rect=function(B,X,M,Y){if(isNaN(B)||isNaN(X)||isNaN(M)||isNaN(Y))throw jr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,X),this.lineTo(B+M,X),this.lineTo(B+M,X+Y),this.lineTo(B,X+Y),this.lineTo(B,X),this.lineTo(B+M,X),this.lineTo(B,X)},d.prototype.fillRect=function(B,X,M,Y){if(isNaN(B)||isNaN(X)||isNaN(M)||isNaN(Y))throw jr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var k={};this.lineCap!=="butt"&&(k.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(k.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,X,M,Y),this.fill(),k.hasOwnProperty("lineCap")&&(this.lineCap=k.lineCap),k.hasOwnProperty("lineJoin")&&(this.lineJoin=k.lineJoin)}},d.prototype.strokeRect=function(B,X,M,Y){if(isNaN(B)||isNaN(X)||isNaN(M)||isNaN(Y))throw jr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(B,X,M,Y),this.stroke())},d.prototype.clearRect=function(B,X,M,Y){if(isNaN(B)||isNaN(X)||isNaN(M)||isNaN(Y))throw jr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,X,M,Y))},d.prototype.save=function(B){B=typeof B!="boolean"||B;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},d.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("Q");this.pdf.setPage(X),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(B){var X,M,Y,k;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))X=0,M=0,Y=0,k=0;else{var D=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(D!==null)X=parseInt(D[1]),M=parseInt(D[2]),Y=parseInt(D[3]),k=1;else if((D=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)X=parseInt(D[1]),M=parseInt(D[2]),Y=parseInt(D[3]),k=parseFloat(D[4]);else{if(k=1,typeof B=="string"&&B.charAt(0)!=="#"){var z=new hH(B);B=z.ok?z.toHex():"#000000"}B.length===4?(X=B.substring(1,2),X+=X,M=B.substring(2,3),M+=M,Y=B.substring(3,4),Y+=Y):(X=B.substring(1,3),M=B.substring(3,5),Y=B.substring(5,7)),X=parseInt(X,16),M=parseInt(M,16),Y=parseInt(Y,16)}}return{r:X,g:M,b:Y,a:k,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(B,X,M,Y){if(isNaN(X)||isNaN(M)||typeof B!="string")throw jr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!h.call(this)){var k=S(this.ctx.transform.rotation),D=this.ctx.transform.scaleX;C.call(this,{text:B,x:X,y:M,scale:D,angle:k,align:this.textAlign,maxWidth:Y})}},d.prototype.strokeText=function(B,X,M,Y){if(isNaN(X)||isNaN(M)||typeof B!="string")throw jr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){Y=isNaN(Y)?void 0:Y;var k=S(this.ctx.transform.rotation),D=this.ctx.transform.scaleX;C.call(this,{text:B,x:X,y:M,scale:D,renderingMode:"stroke",angle:k,align:this.textAlign,maxWidth:Y})}},d.prototype.measureText=function(B){if(typeof B!="string")throw jr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,M=this.pdf.internal.scaleFactor,Y=X.internal.getFontSize(),k=X.getStringUnitWidth(B)*Y/X.internal.scaleFactor;return new function(D){var z=(D=D||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return z}}),this}({width:k*=Math.round(96*M/72*1e4)/1e4})},d.prototype.scale=function(B,X){if(isNaN(B)||isNaN(X))throw jr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var M=new l(B,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.rotate=function(B){if(isNaN(B))throw jr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.translate=function(B,X){if(isNaN(B)||isNaN(X))throw jr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var M=new l(1,0,0,1,B,X);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.transform=function(B,X,M,Y,k,D){if(isNaN(B)||isNaN(X)||isNaN(M)||isNaN(Y)||isNaN(k)||isNaN(D))throw jr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var z=new l(B,X,M,Y,k,D);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.setTransform=function(B,X,M,Y,k,D){B=isNaN(B)?1:B,X=isNaN(X)?0:X,M=isNaN(M)?0:M,Y=isNaN(Y)?1:Y,k=isNaN(k)?0:k,D=isNaN(D)?0:D,this.ctx.transform=new l(B,X,M,Y,k,D)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(B,X,M,Y,k,D,z,J,ne){var te=this.pdf.getImageProperties(B),se=1,ve=1,ye=1,K=1;Y!==void 0&&J!==void 0&&(ye=J/Y,K=ne/k,se=te.width/Y*J/Y,ve=te.height/k*ne/k),D===void 0&&(D=X,z=M,X=0,M=0),Y!==void 0&&J===void 0&&(J=Y,ne=k),Y===void 0&&J===void 0&&(J=te.width,ne=te.height);var ce=this.ctx.transform.decompose(),de=S(ce.rotate.shx),we=new l,ge=(we=(we=(we=we.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale)).applyToRectangle(new a(D-X*ye,z-M*K,Y*se,k*ve));if(this.autoPaging){for(var Se,Ee=g.call(this,ge),Fe=[],Ve=0;Ve<Ee.length;Ve+=1)Fe.indexOf(Ee[Ve])===-1&&Fe.push(Ee[Ve]);T(Fe);for(var qe=Fe[0],ht=Fe[Fe.length-1],ze=qe;ze<ht+1;ze++){this.pdf.setPage(ze);var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=ze===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=ze===1?0:et+(ze-2)*tt;if(this.ctx.clip_path.length!==0){var it=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Se,this.posX+this.margin[3],-nt+Ct+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=it}var Ge=JSON.parse(JSON.stringify(ge));Ge=x([Ge],this.posX+this.margin[3],-nt+Ct+this.ctx.prevPageLastElemOffset)[0];var bt=(ze>qe||ze<ht)&&m.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,tt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Ge.x,Ge.y,Ge.w,Ge.h,null,null,de),bt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",ge.x,ge.y,ge.w,ge.h,null,null,de)};var g=function(B,X,M){var Y=[];X=X||this.pdf.internal.pageSize.width,M=M||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var k=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":Y.push(Math.floor((B.y+k)/M)+1);break;case"arc":Y.push(Math.floor((B.y+k-B.radius)/M)+1),Y.push(Math.floor((B.y+k+B.radius)/M)+1);break;case"qct":var D=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);Y.push(Math.floor((D.y+k)/M)+1),Y.push(Math.floor((D.y+D.h+k)/M)+1);break;case"bct":var z=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);Y.push(Math.floor((z.y+k)/M)+1),Y.push(Math.floor((z.y+z.h+k)/M)+1);break;case"rect":Y.push(Math.floor((B.y+k)/M)+1),Y.push(Math.floor((B.y+B.h+k)/M)+1)}for(var J=0;J<Y.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<Y[J];)y.call(this);return Y},y=function(){var B=this.fillStyle,X=this.strokeStyle,M=this.font,Y=this.lineCap,k=this.lineWidth,D=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=X,this.font=M,this.lineCap=Y,this.lineWidth=k,this.lineJoin=D},x=function(B,X,M){for(var Y=0;Y<B.length;Y++)switch(B[Y].type){case"bct":B[Y].x2+=X,B[Y].y2+=M;case"qct":B[Y].x1+=X,B[Y].y1+=M;default:B[Y].x+=X,B[Y].y+=M}return B},T=function(B){return B.sort(function(X,M){return X-M})},R=function(B,X){var M=this.fillStyle,Y=this.strokeStyle,k=this.lineCap,D=this.lineWidth,z=Math.abs(D*this.ctx.transform.scaleX),J=this.lineJoin;if(this.autoPaging){for(var ne,te,se=JSON.parse(JSON.stringify(this.path)),ve=JSON.parse(JSON.stringify(this.path)),ye=[],K=0;K<ve.length;K++)if(ve[K].x!==void 0)for(var ce=g.call(this,ve[K]),de=0;de<ce.length;de+=1)ye.indexOf(ce[de])===-1&&ye.push(ce[de]);for(var we=0;we<ye.length;we++)for(;this.pdf.internal.getNumberOfPages()<ye[we];)y.call(this);T(ye);for(var ge=ye[0],Se=ye[ye.length-1],Ee=ge;Ee<Se+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=M,this.strokeStyle=Y,this.lineCap=k,this.lineWidth=z,this.lineJoin=J;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Ee===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Ee===1?0:qe+(Ee-2)*ht;if(this.ctx.clip_path.length!==0){var rt=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ne,this.posX+this.margin[3],-ze+Ve+this.ctx.prevPageLastElemOffset),$.call(this,B,!0),this.path=rt}if(te=JSON.parse(JSON.stringify(se)),this.path=x(te,this.posX+this.margin[3],-ze+Ve+this.ctx.prevPageLastElemOffset),X===!1||Ee===0){var Ct=(Ee>ge||Ee<Se)&&m.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,ht,null).clip().discardPath()),$.call(this,B,X),Ct&&this.pdf.restoreGraphicsState()}this.lineWidth=D}this.path=se}else this.lineWidth=z,$.call(this,B,X),this.lineWidth=D},$=function(B,X){if((B!=="stroke"||X||!p.call(this))&&(B==="stroke"||X||!h.call(this))){for(var M,Y,k=[],D=this.path,z=0;z<D.length;z++){var J=D[z];switch(J.type){case"begin":k.push({begin:!0});break;case"close":k.push({close:!0});break;case"mt":k.push({start:J,deltas:[],abs:[]});break;case"lt":var ne=k.length;if(D[z-1]&&!isNaN(D[z-1].x)&&(M=[J.x-D[z-1].x,J.y-D[z-1].y],ne>0)){for(;ne>=0;ne--)if(k[ne-1].close!==!0&&k[ne-1].begin!==!0){k[ne-1].deltas.push(M),k[ne-1].abs.push(J);break}}break;case"bct":M=[J.x1-D[z-1].x,J.y1-D[z-1].y,J.x2-D[z-1].x,J.y2-D[z-1].y,J.x-D[z-1].x,J.y-D[z-1].y],k[k.length-1].deltas.push(M);break;case"qct":var te=D[z-1].x+2/3*(J.x1-D[z-1].x),se=D[z-1].y+2/3*(J.y1-D[z-1].y),ve=J.x+2/3*(J.x1-J.x),ye=J.y+2/3*(J.y1-J.y),K=J.x,ce=J.y;M=[te-D[z-1].x,se-D[z-1].y,ve-D[z-1].x,ye-D[z-1].y,K-D[z-1].x,ce-D[z-1].y],k[k.length-1].deltas.push(M);break;case"arc":k.push({deltas:[],abs:[],arc:!0}),Array.isArray(k[k.length-1].abs)&&k[k.length-1].abs.push(J)}}Y=X?null:B==="stroke"?"stroke":"fill";for(var de=!1,we=0;we<k.length;we++)if(k[we].arc)for(var ge=k[we].abs,Se=0;Se<ge.length;Se++){var Ee=ge[Se];Ee.type==="arc"?j.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,X,!de):L.call(this,Ee.x,Ee.y),de=!0}else if(k[we].close===!0)this.pdf.internal.out("h"),de=!1;else if(k[we].begin!==!0){var Fe=k[we].start.x,Ve=k[we].start.y;v.call(this,k[we].deltas,Fe,Ve),de=!0}Y&&q.call(this,Y),X&&H.call(this)}},O=function(B){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,M=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-M;case"top":return B+X-M;case"hanging":return B+X-2*M;case"middle":return B+X/2-M;default:return B}},U=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(X,M){this.colorStops.push([X,M])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(B,X,M,Y,k,D,z,J,ne){for(var te=_.call(this,M,Y,k,D),se=0;se<te.length;se++){var ve=te[se];se===0&&(ne?E.call(this,ve.x1+B,ve.y1+X):L.call(this,ve.x1+B,ve.y1+X)),b.call(this,B,X,ve.x2,ve.y2,ve.x3,ve.y3,ve.x4,ve.y4)}J?H.call(this):q.call(this,z)},q=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(B,X){this.pdf.internal.out(n(B)+" "+r(X)+" m")},C=function(B){var X;switch(B.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var M,Y,k,D=this.pdf.getTextDimensions(B.text),z=O.call(this,B.y),J=U.call(this,z)-D.h,ne=this.ctx.transform.applyToPoint(new o(B.x,z));if(this.autoPaging){var te=this.ctx.transform.decompose(),se=new l;se=(se=(se=se.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var ve=this.ctx.transform.applyToRectangle(new a(B.x,z,D.w,D.h)),ye=se.applyToRectangle(new a(B.x,J,D.w,D.h)),K=g.call(this,ye),ce=[],de=0;de<K.length;de+=1)ce.indexOf(K[de])===-1&&ce.push(K[de]);T(ce);for(var we=ce[0],ge=ce[ce.length-1],Se=we;Se<ge+1;Se++){this.pdf.setPage(Se);var Ee=Se===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],qe=Ve-this.margin[0],ht=this.pdf.internal.pageSize.width-this.margin[1],ze=ht-this.margin[3],rt=Se===1?0:Fe+(Se-2)*qe;if(this.ctx.clip_path.length!==0){var Ct=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(M,this.posX+this.margin[3],-1*rt+Ee),$.call(this,"fill",!0),this.path=Ct}var et=x([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-rt+Ee+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*B.scale),k=this.lineWidth,this.lineWidth=k*B.scale);var tt=this.autoPaging!=="text";if(tt||et.y+et.h<=Ve){if(tt||et.y>=Ee&&et.x<=ht){var nt=tt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||ht-et.x)[0],it=x([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-rt+Ee+this.ctx.prevPageLastElemOffset)[0],Ge=tt&&(Se>we||Se<ge)&&m.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,qe,null).clip().discardPath()),this.pdf.text(nt,it.x,it.y,{angle:B.angle,align:X,renderingMode:B.renderingMode}),Ge&&this.pdf.restoreGraphicsState()}}else et.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-et.y);B.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=k)}}else B.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*B.scale),k=this.lineWidth,this.lineWidth=k*B.scale),this.pdf.text(B.text,ne.x+this.posX,ne.y+this.posY,{angle:B.angle,align:X,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=k)},L=function(B,X,M,Y){M=M||0,Y=Y||0,this.pdf.internal.out(n(B+M)+" "+r(X+Y)+" l")},v=function(B,X,M){return this.pdf.lines(B,X,M,null,null)},b=function(B,X,M,Y,k,D,z,J){this.pdf.internal.out([e(i(M+B)),e(s(Y+X)),e(i(k+B)),e(s(D+X)),e(i(z+B)),e(s(J+X)),"c"].join(" "))},_=function(B,X,M,Y){for(var k=2*Math.PI,D=Math.PI/2;X>M;)X-=k;var z=Math.abs(M-X);z<k&&Y&&(z=k-z);for(var J=[],ne=Y?-1:1,te=X;z>1e-5;){var se=te+ne*Math.min(z,D);J.push(w.call(this,B,te,se)),z-=Math.abs(se-te),te=se}return J},w=function(B,X,M){var Y=(M-X)/2,k=B*Math.cos(Y),D=B*Math.sin(Y),z=k,J=-D,ne=z*z+J*J,te=ne+z*k+J*D,se=4/3*(Math.sqrt(2*ne*te)-te)/(z*D-J*k),ve=z-se*J,ye=J+se*z,K=ve,ce=-ye,de=Y+X,we=Math.cos(de),ge=Math.sin(de);return{x1:B*Math.cos(X),y1:B*Math.sin(X),x2:ve*we-ye*ge,y2:ve*ge+ye*we,x3:K*we-ce*ge,y3:K*ge+ce*we,x4:B*Math.cos(M),y4:B*Math.sin(M)}},S=function(B){return 180*B/Math.PI},I=function(B,X,M,Y,k,D){var z=B+.5*(M-B),J=X+.5*(Y-X),ne=k+.5*(M-k),te=D+.5*(Y-D),se=Math.min(B,k,z,ne),ve=Math.max(B,k,z,ne),ye=Math.min(X,D,J,te),K=Math.max(X,D,J,te);return new a(se,ye,ve-se,K-ye)},F=function(B,X,M,Y,k,D,z,J){var ne,te,se,ve,ye,K,ce,de,we,ge,Se,Ee,Fe,Ve,qe=M-B,ht=Y-X,ze=k-M,rt=D-Y,Ct=z-k,et=J-D;for(te=0;te<41;te++)we=(ce=(se=B+(ne=te/40)*qe)+ne*((ye=M+ne*ze)-se))+ne*(ye+ne*(k+ne*Ct-ye)-ce),ge=(de=(ve=X+ne*ht)+ne*((K=Y+ne*rt)-ve))+ne*(K+ne*(D+ne*et-K)-de),te==0?(Se=we,Ee=ge,Fe=we,Ve=ge):(Se=Math.min(Se,we),Ee=Math.min(Ee,ge),Fe=Math.max(Fe,we),Ve=Math.max(Ve,ge));return new a(Math.round(Se),Math.round(Ee),Math.round(Fe-Se),Math.round(Ve-Ee))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,X,M=(B=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:X}));this.prevLineDash!==M&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=M)}}})(Kt.API),(function(t){var e=function(o){var a,l,u,c,d,f,h,p,m,g;for(/[^\x00-\xFF]/.test(o),l=[],u=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(d=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,m+33,g+33)):l.push(122);return(function(y,x){for(var T=x;T>0;T--)y.pop()})(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,c,d,f=String,h="length",p=255,m="charCodeAt",g="slice",y="replace";for(o[g](-2),o=o[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],c=0,d=(o+=a="uuuuu"[g](o[h]%5||5))[h];d>c;c+=5)l=52200625*(o[m](c)-33)+614125*(o[m](c+1)-33)+7225*(o[m](c+2)-33)+85*(o[m](c+3)-33)+(o[m](c+4)-33),u.push(p&l>>24,p&l>>16,p&l>>8,p&l);return(function(x,T){for(var R=T;R>0;R--)x.pop()})(u,a[h]),f.fromCharCode.apply(f,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=Wx(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}})(Kt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=(function(l,u,c){var d=new XMLHttpRequest,f=0,h=function(p){var m=p.length,g=[],y=String.fromCharCode;for(f=0;f<m;f+=1)g.push(y(255&p.charCodeAt(f)));return g.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(h(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return h(d.responseText)})(i,s,o)}catch{}return a})(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(Kt.API),(function(t){function e(){return(bn.html2canvas?Promise.resolve(bn.html2canvas):import("./chunk-XFWL7J2M.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(bn.DOMPurify?Promise.resolve(bn.DOMPurify):import("./chunk-4AOC7Q55.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Pr(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||c.appendChild(a(d,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],m=p.src.find(function(g){return g.format==="truetype"});m&&u.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,u.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||Kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,d){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return u.updateProgress(null,c),f}).then(c,d).then(function(f){return u.updateProgress(1),f})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),f=u.call(d,a,l);return o.convert(f,c.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Kt.getPageSize=function(a,l,u){if(Pr(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var d,f=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,m=0,g=0;if(h.hasOwnProperty(f))m=h[f][1]/d,g=h[f][0]/d;else try{m=u[1],g=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",g>m&&(p=g,g=m,m=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",m>g&&(p=g,g=m,m=p)}return{width:g,height:m,unit:l,k:d,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map($6):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}})(Kt.API),Kt.API.addJS=function(t){return eH=t,this.internal.events.subscribe("postPutResources",function(){gE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gE+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Qj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+eH+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gE!==void 0&&Qj!==void 0&&this.internal.out("/Names <</JavaScript "+gE+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var d=n.internal.newObject();c.push(d);var f=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(Kt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=(function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,m={width:0,height:0,numcomponents:1},g=4;g<p;g+=2){if(g+=h,e.indexOf(d.charCodeAt(g+1))!==-1){f=256*d.charCodeAt(g+5)+d.charCodeAt(g+6),m={width:256*d.charCodeAt(g+7)+d.charCodeAt(g+8),height:f,numcomponents:d.charCodeAt(g+9)};break}h=256*d.charCodeAt(g+2)+d.charCodeAt(g+3)}return m})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}})(Kt.API),Kt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=Hj(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,c=s.depth;i=u&&l===1?(function(j){for(var q=j.width,H=j.height,E=j.data,C=j.palette,L=j.depth,v=!1,b=[],_=[],w=void 0,S=!1,I=0,F=0;F<C.length;F++){var W=t6(C[F],4),B=W[0],X=W[1],M=W[2],Y=W[3];b.push(B,X,M),Y!=null&&(Y===0?(I++,_.length<1&&_.push(F)):Y<255&&(S=!0))}if(S||I>1){v=!0,_=void 0;var k=q*H;w=new Uint8Array(k);for(var D=new DataView(E.buffer),z=0;z<k;z++){var J=z6(D,z,L),ne=t6(C[J],4)[3];w[z]=ne}}else I===0&&(_=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:v?8:void 0,colorBytes:E,alphaBytes:w,needSMask:v,palette:b,mask:_}})(s):l===2||l===4?(function(j){for(var q=j.data,H=j.width,E=j.height,C=j.channels,L=j.depth,v=C===2?"DeviceGray":"DeviceRGB",b=C-1,_=H*E,w=b,S=_*w,I=1*_,F=Math.ceil(S*L/8),W=Math.ceil(I*L/8),B=new Uint8Array(F),X=new Uint8Array(W),M=new DataView(q.buffer),Y=new DataView(B.buffer),k=new DataView(X.buffer),D=!1,z=0;z<_;z++){for(var J=z*C,ne=0;ne<w;ne++)uH(Y,z6(M,J+ne,L),z*w+ne,L);var te=z6(M,J+w,L);te<(1<<L)-1&&(D=!0),uH(k,te,1*z,L)}return{colorSpace:v,colorsPerPixel:b,sMaskBitsPerComponent:D?L:void 0,colorBytes:B,alphaBytes:X,needSMask:D}})(s):(function(j){var q=j.data,H=j.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:q instanceof Uint16Array?(function(E){for(var C=E.length,L=new Uint8Array(2*C),v=new DataView(L.buffer,L.byteOffset,L.byteLength),b=0;b<C;b++)v.setUint16(2*b,E[b],!1);return L})(q):q,needSMask:!1}})(s);var d,f,h,p=i,m=p.colorSpace,g=p.colorsPerPixel,y=p.sMaskBitsPerComponent,x=p.colorBytes,T=p.alphaBytes,R=p.needSMask,$=p.palette,O=p.mask,U=null;return r!==Kt.API.image_compression.NONE&&typeof Wx=="function"?(U=(function(j){var q;switch(j){case Kt.API.image_compression.FAST:q=11;break;case Kt.API.image_compression.MEDIUM:q=13;break;case Kt.API.image_compression.SLOW:q=14;break;default:q=12}return q})(r),d=this.decode.FLATE_DECODE,f="/Predictor ".concat(U," /Colors ").concat(g," /BitsPerComponent ").concat(c," /Columns ").concat(o),t=iH(x,Math.ceil(o*g*c/8),g,c,r),R&&(h=iH(T,Math.ceil(o*y/8),1,y,r))):(d=void 0,f=void 0,t=x,R&&(h=T)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:d,decodeParameters:f,transparency:O,palette:$,sMask:h,predictor:U,width:o,height:a,bitsPerComponent:c,sMaskBitsPerComponent:y,colorSpace:m}}},(function(t){t.processGIF89A=function(e,n,r,i){var s=new Wbe(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new W6(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A})(Kt.API),cl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){jr.log("bit decode error:"+n)}},cl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},cl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},cl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},cl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},cl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},cl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},cl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},cl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var s=new cl(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new W6(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}})(Kt.API),dH.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var s=new dH(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new W6(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}})(Kt.API),Kt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],d=r[u+1],f=r[u+2],h=r[u+3];s[a++]=c,s[a++]=d,s[a++]=f,o[l++]=h}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Kt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jm=Kt.API,vE=jm.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=e.doKerning!==!1,f=0,h=t.length,p=0,m=a[0]||l,g=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(f=d&&Pr(u[r])==="object"&&!isNaN(parseInt(u[r][p],10))?u[r][p]/c:0,g.push((a[r]||m)/l+f)),p=r;return g},tH=jm.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return jm.processArabic&&(t=jm.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:vE.apply(this,arguments).reduce(function(s,o){return s+o},0)},nH=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},rH=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,c=[],d=[c],f=n.textIndent||0,h=0,p=0,m=t.split(" "),g=vE.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?m[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];m.map(function(R){(R=R.split(/\s*\n/)).length>1?x=x.concat(R.map(function($,O){return(O&&$.length?`
`:"")+$})):x.push(R[0])}),m=x,l=tH.apply(this,[y,n])}for(s=0,o=m.length;s<o;s++){var T=0;if(r=m[s],l&&r[0]==`
`&&(r=r.substr(1),T=1),f+h+(p=(i=vE.apply(this,[r,n])).reduce(function(R,$){return R+$},0))>e||T){if(p>e){for(a=nH.apply(this,[r,i,e-(f+h),e]),c.push(a.shift()),c=[a.pop()];a.length;)d.push([a.shift()]);p=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(R,$){return R+$},0)}else c=[r];d.push(c),f=p+l,h=g}else c.push(r),f+=h+p,h=g}return u=l?function(R,$){return($?y:"")+R.join(" ")}:function(R){return R.join(" ")},d.map(u)},jm.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle),f="Unicode";return d.metadata[f]?{widths:d.metadata[f].widths||{0:1},kerning:d.metadata[f].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(rH.apply(this,[r[a],o,s]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(f){return"0x"+parseInt(f,10).toString(16)},a=t.__fontmetrics__.compress=function(f){var h,p,m,g,y=["{"];for(var x in f){if(h=f[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=o(x).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof h=="number")h<0?(m=o(h).slice(3),g="-"):(m=o(h).slice(2),g=""),m=g+m.slice(0,-1)+i[m.slice(-1)];else{if(Pr(h)!=="object")throw new Error("Don't know what to do with value type "+Pr(h)+".");m=a(h)}y.push(p+m)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,g,y={},x=1,T=y,R=[],$="",O="",U=f.length-1,j=1;j<U;j+=1)(g=f[j])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(R.push([T,m]),T={},m=void 0):g=="}"?((p=R.pop())[0][p[1]]=T,m=void 0,T=p[0]):g=="-"?x=-1:m===void 0?r.hasOwnProperty(g)?($+=r[g],m=parseInt($,16)*x,x=1,$=""):$+=g:r.hasOwnProperty(g)?(O+=r[g],T[m]=parseInt(O,16)*x,x=1,m=void 0,O=""):O+=g;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=c.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])})(Kt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(yE(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(Kt),Kt.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw jr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw jr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(bn.canvg?Promise.resolve(bn.canvg):import("./chunk-7CBAHGDC.js")).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(c)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},Kt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Kt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,d=0;function f(p,m){var g,y=!1;for(g=0;g<p.length;g+=1)p[g]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=a.length;for(d=0;d<h;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(Pr(t)==="object"){for(i in t)if(s=t[i],f(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&f(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?m.push("/"+p+" /"+n[p].value):m.push("/"+p+" "+n[p].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Kt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,f=s.length;d<f;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(s){var o,a,l,u,c,d,f;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,f=(a=Object.keys(s).sort(function(h,p){return h-p})).length;d<f;d++)o=a[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=u();c({data:h,addLength1:!0,objectId:m}),l("endobj");var g=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+$m(a.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+$m(a.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+$m(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var p=u();c({data:f,addLength1:!0,objectId:p}),l("endobj");var m=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+$m(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+$m(a.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},d=s.mutex||{},f=d.pdfEscape,h=d.activeFontKey,p=d.fonts,m=h,g="",y=0,x="",T=p[m].encoding;if(p[m].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:d};for(x=a,m=h,Array.isArray(a)&&(x=a[0]),y=0;y<x.length;y+=1)p[m].metadata.hasOwnProperty("cmap")&&(o=p[m].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?g+=x[y]:g+="";var R="";return parseInt(m.slice(1))<14||T==="WinAnsiEncoding"?R=f(g,m).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(R=n(g,p[m])),d.isHex=!0,{text:R,x:l,y:u,options:c,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])})(Kt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Kt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,c,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,T=0;this.__bidiEngine__={};var R=function(E){var C=E.charCodeAt(),L=C>>8,v=m[L];return v!==void 0?d[256*v+(255&C)]:L===252||L===253?"AL":y.test(L)?"L":L===8?"R":"N"},$=function(E){for(var C,L=0;L<E.length;L++){if((C=R(E.charAt(L)))==="L")return!1;if(C==="R")return!0}return!1},O=function(E,C,L,v){var b,_,w,S,I=C[v];switch(I){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(I="AN");break;case"AL":x=!0,I="R";break;case"WS":case"BN":I="N";break;case"CS":v<1||v+1>=C.length||(b=L[v-1])!=="EN"&&b!=="AN"||(_=C[v+1])!=="EN"&&_!=="AN"?I="N":x&&(_="AN"),I=_===b?_:"N";break;case"ES":I=(b=v>0?L[v-1]:"B")==="EN"&&v+1<C.length&&C[v+1]==="EN"?"EN":"N";break;case"ET":if(v>0&&L[v-1]==="EN"){I="EN";break}if(x){I="N";break}for(w=v+1,S=C.length;w<S&&C[w]==="ET";)w++;I=w<S&&C[w]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(S=C.length,w=v+1;w<S&&C[w]==="NSM";)w++;if(w<S){var F=E[v],W=F>=1425&&F<=2303||F===64286;if(b=C[w],W&&(b==="R"||b==="AL")){I="R";break}}}I=v<1||(b=C[v-1])==="B"?"N":L[v-1];break;case"B":x=!1,i=!0,I=T;break;case"S":s=!0,I="N"}return I},U=function(E,C,L){var v=E.split("");return L&&j(v,L,{hiLevel:T}),v.reverse(),C&&C.reverse(),v.join("")},j=function(E,C,L){var v,b,_,w,S,I=-1,F=E.length,W=0,B=[],X=T?h:f,M=[];for(x=!1,i=!1,s=!1,b=0;b<F;b++)M[b]=R(E[b]);for(_=0;_<F;_++){if(S=W,B[_]=O(E,M,B,_),v=240&(W=X[S][p[B[_]]]),W&=15,C[_]=w=X[W][5],v>0)if(v===16){for(b=I;b<_;b++)C[b]=1;I=-1}else I=-1;if(X[W][6])I===-1&&(I=_);else if(I>-1){for(b=I;b<_;b++)C[b]=w;I=-1}M[_]==="B"&&(C[_]=0),L.hiLevel|=w}s&&(function(Y,k,D){for(var z=0;z<D;z++)if(Y[z]==="S"){k[z]=T;for(var J=z-1;J>=0&&Y[J]==="WS";J--)k[J]=T}})(M,C,F)},q=function(E,C,L,v,b){if(!(b.hiLevel<E)){if(E===1&&T===1&&!i)return C.reverse(),void(L&&L.reverse());for(var _,w,S,I,F=C.length,W=0;W<F;){if(v[W]>=E){for(S=W+1;S<F&&v[S]>=E;)S++;for(I=W,w=S-1;I<w;I++,w--)_=C[I],C[I]=C[w],C[w]=_,L&&(_=L[I],L[I]=L[w],L[w]=_);W=S}W++}}},H=function(E,C,L){var v=E.split(""),b={hiLevel:T};return L||(L=[]),j(v,L,b),(function(_,w,S){if(S.hiLevel!==0&&c)for(var I,F=0;F<_.length;F++)w[F]===1&&(I=g.indexOf(_[F]))>=0&&(_[F]=g[I+1])})(v,L,b),q(2,v,C,L,b),q(1,v,C,L,b),v.join("")};return this.__bidiEngine__.doBidiReorder=function(E,C,L){if((function(b,_){if(_)for(var w=0;w<b.length;w++)_[w]=w;a===void 0&&(a=$(b)),u===void 0&&(u=$(b))})(E,C),o||!l||u)if(o&&l&&a^u)T=a?1:0,E=U(E,C,L);else if(!o&&l&&u)T=a?1:0,E=H(E,C,L),E=U(E,C);else if(!o||a||l||u){if(o&&!l&&a^u)E=U(E,C),a?(T=0,E=H(E,C,L)):(T=1,E=H(E,C,L),E=U(E,C));else if(o&&a&&!l&&u)T=1,E=H(E,C,L),E=U(E,C);else if(!o&&!l&&a^u){var v=c;a?(T=1,E=H(E,C,L),T=0,c=!1,E=H(E,C,L),c=v):(T=0,E=H(E,C,L),E=U(E,C),T=1,c=!1,E=H(E,C,L),c=v,E=U(E,C))}}else T=0,E=H(E,C,L);else T=a?1:0,E=H(E,C,L);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,u=E.isOutputRtl,c=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Kt),Kt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Cd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new a2e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Gbe(this.contents),this.head=new Xbe(this),this.name=new e2e(this),this.cmap=new SH(this),this.toUnicode={},this.hhea=new Kbe(this),this.maxp=new t2e(this),this.hmtx=new n2e(this),this.post=new Jbe(this),this.os2=new Zbe(this),this.loca=new o2e(this),this.glyf=new r2e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var fl,Cd=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),Gbe=(function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,c,d,f,h,p,m;for(m in h=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),o=Math.floor(d/l),c=16*h-d,(i=new Cd).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(o),i.writeShort(c),s=16*h,u=i.pos+s,a=null,p=[],n)for(f=n[m],i.writeString(m),i.writeInt(t(f)),i.writeInt(u),i.writeInt(f.length),p=p.concat(f),m==="head"&&(a=u),u+=f.length;u%4;)p.push(0),u++;return i.write(p),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=CH.call(n);n.length%4;)n.push(0);for(s=new Cd(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),Ybe={}.hasOwnProperty,su=function(t,e){for(var n in e)Ybe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};fl=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var Xbe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,fl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Cd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),fH=(function(){function t(e,n){var r,i,s,o,a,l,u,c,d,f,h,p,m,g,y,x,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,s=(function(){var R,$;for($=[],l=R=0;0<=f?R<f:R>f;l=0<=f?++R:--R)$.push(e.readUInt16());return $})(),e.pos+=2,m=(function(){var R,$;for($=[],l=R=0;0<=f?R<f:R>f;l=0<=f?++R:--R)$.push(e.readUInt16());return $})(),u=(function(){var R,$;for($=[],l=R=0;0<=f?R<f:R>f;l=0<=f?++R:--R)$.push(e.readUInt16());return $})(),c=(function(){var R,$;for($=[],l=R=0;0<=f?R<f:R>f;l=0<=f?++R:--R)$.push(e.readUInt16());return $})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var R,$;for($=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)$.push(e.readUInt16());return $})(),l=y=0,T=s.length;y<T;l=++y)for(g=s[l],r=x=p=m[l];p<=g?x<=g:x>=g;r=p<=g?++x:--x)c[l]===0?o=r+u[l]:(o=a[c[l]/2+(r-p)-(f-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,l,u,c,d,f,h,p,m,g,y,x,T,R,$,O,U,j,q,H,E,C,L,v,b,_,w,S,I,F,W,B,X,M,Y,k,D,z,J,ne,te,se;switch(v=new Cd,o=Object.keys(e).sort(function(ve,ye){return ve-ye}),n){case"macroman":for(m=0,g=(function(){var ve=[];for(p=0;p<256;++p)ve.push(0);return ve})(),x={0:0},s={},b=0,I=o.length;b<I;b++)x[J=e[i=o[b]]]==null&&(x[J]=++m),s[i]={old:e[i],new:x[e[i]]},g[i]=x[e[i]];return v.writeUInt16(1),v.writeUInt16(0),v.writeUInt32(12),v.writeUInt16(0),v.writeUInt16(262),v.writeUInt16(0),v.write(g),{charMap:s,subtable:v.data,maxGlyphID:m+1};case"unicode":for(C=[],d=[],T=0,x={},r={},y=u=null,_=0,F=o.length;_<F;_++)x[$=e[i=o[_]]]==null&&(x[$]=++T),r[i]={old:$,new:x[$]},a=x[$]-i,y!=null&&a===u||(y&&d.push(y),C.push(i),u=a),y=i;for(y&&d.push(y),d.push(65535),C.push(65535),H=2*(q=C.length),j=2*Math.pow(Math.log(q)/Math.LN2,2),f=Math.log(j/2)/Math.LN2,U=2*q-j,l=[],O=[],h=[],p=w=0,W=C.length;w<W;p=++w){if(E=C[p],c=d[p],E===65535){l.push(0),O.push(0);break}if(E-(L=r[E].new)>=32768)for(l.push(0),O.push(2*(h.length+q-p)),i=S=E;E<=c?S<=c:S>=c;i=E<=c?++S:--S)h.push(r[i].new);else l.push(L-E),O.push(0)}for(v.writeUInt16(3),v.writeUInt16(1),v.writeUInt32(12),v.writeUInt16(4),v.writeUInt16(16+8*q+2*h.length),v.writeUInt16(0),v.writeUInt16(H),v.writeUInt16(j),v.writeUInt16(f),v.writeUInt16(U),D=0,B=d.length;D<B;D++)i=d[D],v.writeUInt16(i);for(v.writeUInt16(0),z=0,X=C.length;z<X;z++)i=C[z],v.writeUInt16(i);for(ne=0,M=l.length;ne<M;ne++)a=l[ne],v.writeUInt16(a);for(te=0,Y=O.length;te<Y;te++)R=O[te],v.writeUInt16(R);for(se=0,k=h.length;se<k;se++)m=h[se],v.writeUInt16(m);return{charMap:r,subtable:v.data,maxGlyphID:T+1}}},t})(),SH=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,fl),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new fH(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=fH.encode(e,n),(i=new Cd).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),Kbe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,fl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),Zbe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,fl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Jbe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,fl),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}.call(this)}},t})(),Qbe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},e2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,fl),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,u,c,d,f;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=c=0,d=r.length;c<d;s=++c)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new Qbe(u,i),l[f=i.nameID]==null&&(l[f]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),t2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,fl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),n2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,fl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,c;for(c=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)c.push(e.readInt16());return c})(),this.widths=function(){var u,c,d,f;for(f=[],u=0,c=(d=this.metrics).length;u<c;u++)s=d[u],f.push(s.advance);return f}.call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),CH=[].slice,r2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,fl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,u,c,d;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new Cd(n.read(i))).readShort(),u=a.readShort(),d=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=o===-1?new s2e(a,u,d,l,c):new i2e(a,o,u,d,l,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t})(),i2e=(function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),s2e=(function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Cd(CH.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),o2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return su(t,fl),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}.call(this):function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},t})(),a2e=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,c,d,f,h,p,m,g,y;for(i in r=SH.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},y=r.charMap)h[(l=y[i]).old]=l.new;for(p in f=r.maxGlyphID,o)p in h||(h[p]=f++);return c=(function(x){var T,R;for(T in R={},x)R[x[T]]=T;return R})(h),d=Object.keys(c).sort(function(x,T){return x-T}),m=(function(){var x,T,R;for(R=[],x=0,T=d.length;x<T;x++)a=d[x],R.push(c[a]);return R})(),s=this.font.glyf.encode(o,m,h),u=this.font.loca.encode(s.offsets,m),g={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t})();Kt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+(function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e})();function NH(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,c=/\r\n|\r|\n/g,d="",f=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof t=="string"?t.split(c):t,f=d.length||1),n+=a*(2-s),r.valign==="middle"?n-=f/2*u:r.valign==="bottom"&&(n-=f*u),r.halign==="center"||r.halign==="right"){var h=a;if(r.halign==="center"&&(h*=.5),d&&f>=1){for(var p=0;p<d.length;p++)i.text(d[p],e-i.getStringUnitWidth(d[p])*h,n),n+=u;return i}e-=i.getStringUnitWidth(t)*h}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var AH={},Xm=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:AH=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var c=t.unifyColor(e.fillColor);c&&(r=this.jsPDFDocument).setFillColor.apply(r,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return AH||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),ik=function(t,e){return ik=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ik(t,e)};function MH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ik(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var RH=(function(t){MH(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e})(Array);function l2e(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function u2e(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function AE(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function PH(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=LH(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function LH(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function IE(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function FH(t,e){var n=IE(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function c2e(t,e,n,r,i){var s={},o=1.3333333333333333,a=J6(e,function(T){return i.getComputedStyle(T).backgroundColor});a!=null&&(s.fillColor=a);var l=J6(e,function(T){return i.getComputedStyle(T).color});l!=null&&(s.textColor=l);var u=f2e(r,n);u&&(s.cellPadding=u);var c="borderTopColor",d=o*n,f=r.borderTopWidth;if(r.borderBottomWidth===f&&r.borderRightWidth===f&&r.borderLeftWidth===f){var h=(parseFloat(f)||0)/d;h&&(s.lineWidth=h)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var p=J6(e,function(T){return i.getComputedStyle(T)[c]});p!=null&&(s.lineColor=p);var m=["left","right","center","justify"];m.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),m=["middle","bottom","top"],m.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var g=parseInt(r.fontSize||"");isNaN(g)||(s.fontSize=g/o);var y=d2e(r);y&&(s.fontStyle=y);var x=(r.fontFamily||"").toLowerCase();return t.indexOf(x)!==-1&&(s.font=x),s}function d2e(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function J6(t,e){var n=OH(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function OH(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:OH(t.parentElement,e):n}function f2e(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=IE(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function BH(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],d=[],f=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:c,body:d,foot:f};for(var h=0;h<a.rows.length;h++){var p=a.rows[h],m=(o=(s=p?.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),g=h2e(l,u,n,p,r,i);g&&(m==="thead"?c.push(g):m==="tfoot"?f.push(g):d.push(g))}return{head:c,body:d,foot:f}}function h2e(t,e,n,r,i,s){for(var o=new RH(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;s&&(c=c2e(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:p2e(l)})}}var d=n.getComputedStyle(r);if(o.length>0&&(i||d.display!=="none"))return o}function p2e(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function m2e(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function nc(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function VH(t,e){var n=new Xm(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();m2e(i,r,e);var s=nc({},i,r,e),o;typeof window<"u"&&(o=window);var a=g2e(i,r,e),l=v2e(i,r,e),u=y2e(n,s),c=w2e(n,s,o);return{id:e.tableId,content:c,hooks:l,styles:a,settings:u}}function g2e(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],d=n[l];r.columnStyles=nc({},u,c,d)}else{var f=[t,e,n],h=f.map(function(p){return p[l]||{}});r[l]=nc({},h[0],h[1],h[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function v2e(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function y2e(t,e){var n,r,i,s,o,a,l,u,c,d,f,h,p=IE(e.margin,40/t.scaleFactor()),m=(n=b2e(t,e.startY))!==null&&n!==void 0?n:p.top,g;e.showFoot===!0?g="everyPage":e.showFoot===!1?g="never":g=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var y;e.showHead===!0?y="everyPage":e.showHead===!1?y="never":y=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var x=(s=e.useCss)!==null&&s!==void 0?s:!1,T=e.theme||(x?"plain":"striped"),R=!!e.horizontalPageBreak,$=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:x,theme:T,startY:m,margin:p,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:y,showFoot:g,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(f=e.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:R,horizontalPageBreakRepeat:$,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function b2e(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&n?.finalY!=null?n.finalY+20/r:null}function w2e(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=BH(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||_2e(r,i,s);return{columns:l,head:r,body:i,foot:s}}function _2e(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=a?.colSpan||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var sk=(function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t})(),x2e=(function(t){MH(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e})(sk),E2e=(function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],c=new x2e(e,this,r,i,s,o),d=u(c)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new sk(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new sk(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t})(),UH=(function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof RH&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},t})(),jH=(function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=IE(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t})(),S2e=(function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t})();function C2e(t,e){A2e(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=ok(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=ok(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),I2e(e),D2e(e,t),T2e(e)}function A2e(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=FH(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,s,l,null);var d=u.padding("horizontal");u.contentWidth=AE(u.text,u.styles,t)+d;var f=AE(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=f+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/n;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=c.cellWidth||c.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function ok(t,e,n){for(var r=e,i=t.reduce(function(h,p){return h+p.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,c=n(o),d=u<c?c:u;e-=d-o.width,o.width=d}if(e=Math.round(e*1e10)/1e10,e){var f=t.filter(function(h){return e<0?h.width>n(h):!0});f.length&&(e=ok(f,e,n))}return e}function T2e(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=s.cells[l.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var d=r.length-i,f=c.rowSpan>d?d:c.rowSpan;e[l.index]={cell:c,left:f,row:s}}}}}function I2e(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function D2e(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=TH(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=TH(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,c);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var f=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<f*u.rowSpan?n={height:f,count:u.rowSpan}:n&&n.count>0&&n.height>f&&(f=n.height),f>s.height&&(s.height=f)}}n.count--}}function TH(t,e,n,r,i){return t.map(function(s){return k2e(s,e,n,r,i)})}function k2e(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=AE(t,n,r))return t;for(;e<AE(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function HH(t,e){var n=new Xm(t),r=N2e(e,n.scaleFactor()),i=new E2e(e,r);return C2e(n,i),n.applyStyles(n.userStyles),i}function N2e(t,e){var n=t.content,r=R2e(n.columns);if(n.head.length===0){var i=IH(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=IH(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:Q6("head",n.head,r,o,s,e),body:Q6("body",n.body,r,o,s,e),foot:Q6("foot",n.foot,r,o,s,e)}}function Q6(t,e,n,r,i,s){var o={},a=e.map(function(l,u){for(var c=0,d={},f=0,h=0,p=0,m=n;p<m.length;p++){var g=m[p];if(o[g.index]==null||o[g.index].left===0)if(h===0){var y=void 0;Array.isArray(l)?y=l[g.index-f-c]:y=l[g.dataKey];var x={};typeof y=="object"&&!Array.isArray(y)&&(x=y?.styles||{});var T=P2e(t,g,u,i,r,s,x),R=new jH(y,T,t);d[g.dataKey]=R,d[g.index]=R,h=R.colSpan-1,o[g.index]={left:R.rowSpan-1,times:h}}else h--,f++;else o[g.index].left--,h=o[g.index].times,c++}return new UH(l,u,t,d)});return a}function IH(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=M2e(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function M2e(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function R2e(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new S2e(i,e,n)})}function P2e(t,e,n,r,i,s,o){var a=u2e(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=nc({},a.table,a[t],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?c:{},f=t==="body"&&n%2===0?nc({},a.alternateRow,i.alternateRowStyles):{},h=l2e(s),p=nc({},h,u,f,d);return nc(p,o)}function L2e(t,e,n){var r;n===void 0&&(n={});var i=FH(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(f){var h=e.columns.find(function(p){return p.dataKey===f||p.index===f});h&&!s.has(h.index)&&(s.set(h.index,!0),o.push(h.index),a.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var u=!0,c=(r=n?.start)!==null&&r!==void 0?r:0;c<e.columns.length;){if(s.has(c)){c++;continue}var d=e.columns[c].wrappedWidth;if(u||i>=d)u=!1,o.push(c),a.push(e.columns[c]),i-=d;else break;c++}return{colIndexes:o,columns:a,lastIndex:c-1}}function F2e(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=L2e(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function $H(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(f,h){return f+h.height},0);a+=u}var c=new Xm(t);(n.pageBreak==="always"||n.startY!=null&&a>c.pageSize().height)&&(zH(c),s.y=i.top),e.callWillDrawPageHooks(c,s);var d=nc({},s);e.startPageNumber=c.pageNumber(),n.horizontalPageBreak?O2e(c,e,d,s):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(f){return rc(c,e,f,s,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(f,h){var p=h===e.body.length-1;TE(c,e,f,p,d,s,e.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(f){return rc(c,e,f,s,e.columns)})),PH(c,e,d,s),e.callEndPageHooks(c,s),e.finalY=s.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function O2e(t,e,n,r){var i=F2e(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?Jv(t,e,n,r,u.columns,!0):DH(t,e,r,u.columns),B2e(t,e,n,r,u.columns),ek(t,e,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var c=a.columns;o>=0?Jv(t,e,n,r,c,!0):DH(t,e,r,c),u=kH(t,e,o+1,r,c),ek(t,e,r,c)}var d=u-o;i.slice(1).forEach(function(f){t.applyStyles(t.userStyles),Jv(t,e,n,r,f.columns,!0),kH(t,e,o+1,r,f.columns,d),ek(t,e,r,f.columns)}),o=u};o<e.body.length-1;)l()}function DH(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return rc(t,e,s,n,r)})}function B2e(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;TE(t,e,s,a,n,r,i)})}function kH(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,u){var c=n+u===e.body.length-1,d=qH(t,e,c,r);l.canEntireRowFit(d,i)&&(rc(t,e,l,r,i),a=n+u)}),a}function ek(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return rc(t,e,s,n,r)})}function V2e(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function U2e(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new jH(u.raw,u.styles,u.section);c=nc(c,u),c.text=[];var d=V2e(u,e,r);u.text.length>d&&(c.text=u.text.splice(d,u.text.length));var f=r.scaleFactor(),h=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(f,h),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(f,h),c.contentHeight>s&&(s=c.contentHeight),i[l.index]=c}}var p=new UH(t.raw,-1,t.section,i,!0);p.height=s;for(var m=0,g=n.columns;m<g.length;m++){var l=g[m],c=p.cells[l.index];c&&(c.height=p.height);var u=t.cells[l.index];u&&(u.height=t.height)}return p}function j2e(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(r.columns),d=e.getMaxCellHeight(r.columns)>a;return d?(c&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||r.settings.rowPageBreak==="avoid")}function TE(t,e,n,r,i,s,o){var a=qH(t,e,r,s);if(n.canEntireRowFit(a,o))rc(t,e,n,s,o);else if(j2e(t,n,a,e)){var l=U2e(n,a,e,t);rc(t,e,n,s,o),Jv(t,e,i,s,o),TE(t,e,l,r,i,s,o)}else Jv(t,e,i,s,o),TE(t,e,n,r,i,s,o)}function rc(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}H2e(t,l,r);var c=l.getTextPos();NH(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function H2e(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=LH(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),$2e(t,e,n,r.lineWidth))}function $2e(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,c,d,f,h){t.getDocument().setLineWidth(u),t.getDocument().line(c,d,f,h,"S")}}function qH(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Jv(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return rc(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;PH(t,e,n,r),zH(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return rc(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function zH(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function q2e(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=VH(this,r),s=HH(this,i);return $H(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){NH(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Xm.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Xm.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Xm(this),s=BH(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var tk;function WH(t,e){var n=VH(t,e),r=HH(t,n);$H(t,r)}try{typeof window<"u"&&window&&(nk=window,rk=nk.jsPDF||((tk=nk.jspdf)===null||tk===void 0?void 0:tk.jsPDF),rk&&q2e(rk))}catch(t){console.error("Could not apply autoTable plugin",t)}var nk,rk;var z2e=(t,e)=>e.id,W2e=(t,e)=>e.part_name;function G2e(t,e){t&1&&(Ie(0,"div",6),kt(1,"i",54),xe(2," Prioridad Alta "),ke())}function Y2e(t,e){t&1&&(Ie(0,"div",63),kt(1,"i",75),xe(2," Analizando da\xF1os... "),ke())}function X2e(t,e){if(t&1&&(Ie(0,"li"),xe(1),ke()),t&2){let n=e.$implicit;je(),C1("",n.quantity,"x ",n.part_name," (",n.generic_code,")")}}function K2e(t,e){if(t&1&&(Ie(0,"div",73)(1,"p")(2,"strong",76),xe(3,"Severidad Detectada:"),ke(),xe(4),ke(),Ie(5,"p")(6,"strong",76),xe(7,"Refacciones Sugeridas:"),ke()(),Ie(8,"ul",77),ps(9,X2e,2,3,"li",null,W2e),ke()()),t&2){let n,r,i=Jt(3);je(4),In(" ",(n=i.inspectionData())==null||n.inspection==null||n.inspection.severity==null?null:n.inspection.severity.level),je(5),ms((r=i.inspectionData())==null||r.inspection==null||r.inspection.repair_plan==null?null:r.inspection.repair_plan.estimated_parts)}}function Z2e(t,e){if(t&1){let n=ei();Ie(0,"div",32)(1,"h4",55),kt(2,"i",56),xe(3," Registrar Ingreso a Taller "),ke(),Ie(4,"div",57)(5,"input",58),Vn("change",function(i){Yn(n);let s=Jt(2);return Xn(s.handleImageUpload(i))}),ke(),Ie(6,"div",59),kt(7,"i",60),Ie(8,"p",61),xe(9,"Inspecci\xF3n Visual IA"),ke(),Ie(10,"p",62),xe(11,"Sube una foto de la aver\xEDa para autocompletar"),ke()(),Qn(12,Y2e,3,0,"div",63),ke(),Ie(13,"div",64)(14,"select",65,0)(16,"option",66),xe(17,"Falla Mec\xE1nica"),ke(),Ie(18,"option",67),xe(19,"Falla El\xE9ctrica"),ke(),Ie(20,"option",68),xe(21,"Sistema Hidr\xE1ulico"),ke(),Ie(22,"option",69),xe(23,"Llantas / Rodaje"),ke(),Ie(24,"option",70),xe(25,"Estructural"),ke(),Ie(26,"option",71),xe(27,"Da\xF1o por Operaci\xF3n"),ke()(),kt(28,"textarea",72,1),Qn(30,K2e,11,1,"div",73),Ie(31,"button",74),Vn("click",function(){Yn(n);let i=Zo(15),s=Zo(29),o=Jt(2);return Xn(o.reportFailure(s.value,i.value))}),xe(32," Confirmar Ingreso "),ke()()()}if(t&2){let n,r,i=Jt(2);je(12),er(i.analyzingImage()?12:-1),je(2),Xi("value",((n=i.inspectionData())==null||n.inspection==null||n.inspection.damage_analysis==null?null:n.inspection.damage_analysis.damage_type)||"Mec\xE1nico"),je(14),Xi("value",i.inspectionData()?((r=i.inspectionData())==null||r.inspection==null||r.inspection.asset==null?null:r.inspection.asset.visual_condition)+" - Causa Probable: "+((r=i.inspectionData())==null||r.inspection==null||r.inspection.root_cause_analysis==null?null:r.inspection.root_cause_analysis.probable_cause):""),je(2),er(i.inspectionData()?30:-1)}}function J2e(t,e){if(t&1){let n=ei();Ie(0,"div",33)(1,"h4",78),kt(2,"i",79),xe(3," Finalizar y Liberar Equipo "),ke(),Ie(4,"div",64),kt(5,"textarea",80,2),Ie(7,"div",81),kt(8,"input",82,3)(10,"input",83,4),ke(),Ie(12,"button",84),Vn("click",function(){Yn(n);let i=Zo(6),s=Zo(9),o=Zo(11),a=Jt(2);return Xn(a.finishRepair(i.value,s.value,o.value))}),xe(13," Liberar Equipo a Operaci\xF3n "),ke()()()}}function Q2e(t,e){t&1&&(Ie(0,"span",87),xe(1," ABIERTO "),ke())}function ewe(t,e){if(t&1&&(Ie(0,"span",95),xe(1),ke()),t&2){let n=e.$implicit;je(),In(" ",n," ")}}function twe(t,e){if(t&1&&(Ie(0,"div",90),ps(1,ewe,2,1,"span",95,dT),ke()),t&2){let n=Jt().$implicit;je(),ms(n.partsUsed)}}function nwe(t,e){t&1&&(Ie(0,"span",91),xe(1,"N/A"),ke())}function rwe(t,e){if(t&1&&(Ie(0,"tr",85)(1,"td",86),xe(2),no(3,"date"),Qn(4,Q2e,2,0,"span",87),ke(),Ie(5,"td",88),xe(6),ke(),Ie(7,"td",89),xe(8),ke(),Ie(9,"td",89),Qn(10,twe,3,0,"div",90)(11,nwe,2,0,"span",91),ke(),Ie(12,"td",92)(13,"span",93),xe(14),ke()(),Ie(15,"td",94),xe(16),no(17,"currency"),ke()()),t&2){let n=e.$implicit;Un("bg-red-50",!n.exitDate)("border-l-4",!n.exitDate)("border-[#ce1126]",!n.exitDate),je(2),In(" ",Sa(3,13,n.entryDate,"shortDate")," "),je(2),er(n.exitDate?-1:4),je(2),In(" ",n.failureDescription," "),je(2),In(" ",n.diagnosis||"-"," "),je(2),er(n.partsUsed&&n.partsUsed.length>0?10:11),je(4),$n(n.type),je(2),$n(Xp(17,16,n.estimatedCost))}}function iwe(t,e){t&1&&(Ie(0,"div",51),kt(1,"i",96),xe(2," Procesando datos... "),ke())}function swe(t,e){if(t&1){let n=ei();kt(0,"div",97),Ie(1,"button",98),Vn("click",function(){Yn(n);let i=Jt(2);return Xn(i.runAnalysis())}),xe(2," Regenerar An\xE1lisis "),ke()}if(t&2){let n=Jt(2);Xi("innerHTML",n.aiResult(),zp)}}function owe(t,e){if(t&1){let n=ei();Ie(0,"button",99),Vn("click",function(){Yn(n);let i=Jt(2);return Xn(i.runAnalysis())}),kt(1,"i",100),xe(2," Ejecutar Diagn\xF3stico "),ke()}}function awe(t,e){if(t&1){let n=ei();Ie(0,"div",53)(1,"div",101)(2,"h3",102),kt(3,"i",103),xe(4," Procedimiento LOTO"),ke(),Ie(5,"button",104),Vn("click",function(){Yn(n);let i=Jt(2);return Xn(i.lotoResult.set(null))}),kt(6,"i",105),ke()(),kt(7,"div",106),Ie(8,"button",107),Vn("click",function(){Yn(n);let i=Jt(2);return Xn(i.printLoto())}),kt(9,"i",108),xe(10," Imprimir Etiqueta "),ke()()}if(t&2){let n=Jt(2);je(7),Xi("innerHTML",n.lotoResult(),zp)}}function lwe(t,e){if(t&1){let n=ei();Ie(0,"div",5),Qn(1,G2e,3,0,"div",6),Ie(2,"div",7)(3,"div")(4,"div",8)(5,"h2",9),xe(6),ke(),Ie(7,"span",10),xe(8),ke()(),Ie(9,"p",11),xe(10),ke(),Ie(11,"div",12)(12,"span"),kt(13,"i",13),xe(14),ke(),kt(15,"span",14),Ie(16,"span"),kt(17,"i",15),xe(18),ke()()(),Ie(19,"div",16)(20,"button",17),Vn("click",function(){Yn(n);let i=Jt();return Xn(i.close())}),kt(21,"i",18),ke(),Ie(22,"button",19),Vn("click",function(){Yn(n);let i=Jt();return Xn(i.exportPdf())}),kt(23,"i",20),xe(24," PDF "),ke(),Ie(25,"button",21),Vn("click",function(){Yn(n);let i=Jt();return Xn(i.generateLoto())}),kt(26,"i",22),xe(27," Generar LOTO "),ke()()(),Ie(28,"div",23)(29,"div",24)(30,"div",25)(31,"div",26)(32,"div",27),xe(33,"Combustible"),ke(),Ie(34,"div",28),xe(35),ke()(),Ie(36,"div",26)(37,"div",27),xe(38,"Adquisici\xF3n"),ke(),Ie(39,"div",28),xe(40),no(41,"date"),ke()(),Ie(42,"div",26)(43,"div",27),xe(44,"Total Fallas"),ke(),Ie(45,"div",28),xe(46),ke()()(),Ie(47,"div",29)(48,"h3",30),kt(49,"i",31),xe(50," Panel de Control Operativo "),ke(),Qn(51,Z2e,33,4,"div",32)(52,J2e,14,0,"div",33),ke(),Ie(53,"div")(54,"div",34),kt(55,"div",35),Ie(56,"h3",36),xe(57,"Historial Cl\xEDnico"),ke()(),Ie(58,"div",37)(59,"table",38)(60,"thead",39)(61,"tr")(62,"th",40),xe(63,"Fecha"),ke(),Ie(64,"th",41),xe(65,"Falla"),ke(),Ie(66,"th",41),xe(67,"Diagn\xF3stico"),ke(),Ie(68,"th",41),xe(69,"Refacciones"),ke(),Ie(70,"th",41),xe(71,"Tipo"),ke(),Ie(72,"th",42),xe(73,"Costo"),ke()()(),Ie(74,"tbody",43),ps(75,rwe,18,18,"tr",44,z2e),ke()()()()(),Ie(77,"div",45)(78,"div",46)(79,"div",34)(80,"div",47),kt(81,"i",48),ke(),Ie(82,"h3",49),xe(83,"Mantenimiento Predictivo"),ke()(),Ie(84,"p",50),xe(85," Gemini AI analiza patrones de desgaste, MTBF y condiciones de uso para predecir fallas futuras. "),ke(),Qn(86,iwe,3,0,"div",51)(87,swe,3,1)(88,owe,3,0,"button",52),ke(),Qn(89,awe,11,1,"div",53),ke()()()}if(t&2){let n=Jt();je(),er(n.asset().critical?1:-1),je(5),$n(n.asset().id),je(2),In(" ",n.asset().status.name," "),je(2),C1("",n.asset().brand," ",n.asset().model," | SN: ",n.asset().serial),je(4),$n(n.asset().location),je(4),$n(n.asset().fuelType),je(17),$n(n.asset().fuelType),je(5),$n(Sa(41,14,n.asset().acquisitionDate,"MM/yyyy")),je(6),$n(n.history().length),je(5),er(n.asset().status.name==="Operativo"?51:n.asset().status.name==="Taller"?52:-1),je(24),ms(n.history()),je(11),er(n.aiLoading()?86:n.aiResult()?87:88),je(3),er(n.lotoResult()?89:-1)}}var DE=class t{constructor(){this.assetId=E9("");this.dataService=rn(Ms);this.geminiService=rn(km);this.asset=Ki(()=>this.dataService.getAsset(this.assetId()));this.history=Ki(()=>this.assetId()?this.dataService.getAssetHistory(this.assetId()):[]);this.aiLoading=hr(!1);this.aiResult=hr(null);this.analyzingImage=hr(!1);this.inspectionData=hr(null);this.lotoResult=hr(null);Lu(()=>{this.assetId(),this.aiResult.set(null),this.inspectionData.set(null),this.lotoResult.set(null)},{allowSignalWrites:!0})}handleImageUpload(e){let n=e.target.files[0];if(!n)return;this.analyzingImage.set(!0);let r=new FileReader;r.onload=async i=>{let s=i.target.result.split(",")[1],o=await this.geminiService.analyzeImageInspection(s);this.inspectionData.set(o),this.analyzingImage.set(!1)},r.readAsDataURL(n)}async generateLoto(){let e=this.asset();if(!e)return;let n=e.lastFailure||"Mantenimiento General Preventivo";this.lotoResult.set('<p class="text-gray-500 animate-pulse">Generando procedimiento de seguridad...</p>');let r=await this.geminiService.generateLotoProcedure(e,n);this.lotoResult.set(r)}printLoto(){let e=window.open("","","height=600,width=800");e&&this.lotoResult()&&(e.document.write("<html><head><title>LOTO</title>"),e.document.write('<script src="https://cdn.tailwindcss.com"><\/script>'),e.document.write('</head><body class="p-8">'),e.document.write(this.lotoResult()),e.document.write("</body></html>"),e.document.close(),setTimeout(()=>e.print(),500))}reportFailure(e,n){if(!e)return alert("Por favor describe la falla.");this.dataService.reportFailure(this.assetId(),e,n)}finishRepair(e,n,r){if(!e)return alert("El diagn\xF3stico es requerido.");let i=parseFloat(n)||0,s=r.split(",").map(o=>o.trim()).filter(o=>o);this.dataService.completeRepair(this.assetId(),e,i,s)}async runAnalysis(){let e=this.asset();if(!e)return;this.aiLoading.set(!0);let n=await this.geminiService.analyzeMaintenanceHistory(e,this.history());this.aiResult.set(n),this.aiLoading.set(!1)}exportPdf(){let e=new Kt,n=this.asset();if(!n)return;e.setFontSize(20),e.setTextColor(206,17,38),e.text(`Historial Cl\xEDnico: ${n.id}`,14,20),e.setTextColor(0,0,0),e.setFontSize(10),e.text(`Marca: ${n.brand} | Modelo: ${n.model}`,14,28),e.text(`Serie: ${n.serial} | Estatus: ${n.status.name}`,14,33),e.text(`Generado: ${new Date().toLocaleDateString()}`,14,38);let r=this.history().map(i=>[new Date(i.entryDate).toLocaleDateString(),i.failureDescription,i.diagnosis||"-",(i.partsUsed||[]).join(", "),`$${i.estimatedCost}`]);WH(e,{startY:45,head:[["Fecha","Falla","Diagn\xF3stico","Refacciones","Costo"]],body:r,theme:"grid",headStyles:{fillColor:[206,17,38]}}),e.save(`historial_${n.id}.pdf`)}sendEmail(){let e=this.asset();if(!e)return;let n=encodeURIComponent(`Seguimiento de Activo ${e.id} - ${e.status.name}`),r=`
Hola,

Adjunto el seguimiento para el equipo:
ID: ${e.id}
Marca: ${e.brand}
Modelo: ${e.model}
Serie: ${e.serial}

Estatus Actual: ${e.status.name}
\xDAltima Falla Registrada: ${e.lastFailure||"N/A"}

Favor de revisar el historial en el sistema para m\xE1s detalles.

Saludos,
AssetGuard System
    `.trim(),i=encodeURIComponent(r);window.location.href=`mailto:?subject=${n}&body=${i}`}close(){window.dispatchEvent(new CustomEvent("asset-closed"))}printReport(){window.print()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=eo({type:t,selectors:[["app-asset-detail"]],inputs:{assetId:[1,"assetId"]},decls:1,vars:1,consts:[["failType",""],["failDesc",""],["diagnosis",""],["cost",""],["parts",""],[1,"bg-white","rounded-xl","shadow-lg","border","border-gray-200","overflow-hidden","animate-fade-in","relative"],[1,"absolute","top-0","right-0","bg-yellow-400","text-black","text-[10px]","uppercase","font-black","px-4","py-2","rounded-bl-lg","z-10","shadow-sm","tracking-wide"],[1,"bg-[#ce1126]","text-white","p-6","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-4"],[1,"flex","items-center","gap-3"],[1,"text-3xl","font-black","tracking-tight"],[1,"px-3","py-0.5","rounded-full","text-xs","font-bold","uppercase","bg-white/20","border","border-white/30","backdrop-blur-sm"],[1,"text-red-100","font-medium","mt-1"],[1,"text-xs","text-red-200","mt-2","flex","gap-2","items-center"],[1,"fas","fa-map-marker-alt","mr-1"],[1,"w-1","h-1","rounded-full","bg-white","opacity-50"],[1,"fas","fa-gas-pump","mr-1"],[1,"flex","flex-wrap","gap-2"],["title","Volver",1,"px-4","py-2","rounded-lg","bg-white/10","hover:bg-white/20","text-white","text-sm","font-bold","transition","border","border-white/10",3,"click"],[1,"fas","fa-arrow-left"],[1,"px-4","py-2","rounded-lg","bg-white","text-[#ce1126]","hover:bg-gray-100","text-sm","font-bold","transition","shadow-md","flex","items-center",3,"click"],[1,"fas","fa-file-pdf","mr-2"],[1,"px-4","py-2","rounded-lg","bg-yellow-400","text-black","hover:bg-yellow-300","text-sm","font-bold","transition","shadow-md","flex","items-center",3,"click"],[1,"fas","fa-lock","mr-2"],[1,"p-6","grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-6"],[1,"grid","grid-cols-3","gap-4"],[1,"p-4","bg-gray-50","rounded-lg","border","border-gray-100","text-center"],[1,"text-[10px]","text-gray-500","uppercase","font-bold","tracking-wider"],[1,"font-bold","text-gray-800","text-lg"],[1,"bg-white","p-6","rounded-xl","border","border-gray-200","shadow-sm"],[1,"text-sm","font-bold","text-gray-400","uppercase","tracking-widest","mb-4","flex","items-center","gap-2"],[1,"fas","fa-cogs"],[1,"bg-red-50","p-5","rounded-lg","border","border-red-100","relative"],[1,"bg-green-50","p-5","rounded-lg","border","border-green-100"],[1,"flex","items-center","gap-3","mb-4"],[1,"h-6","w-1","bg-[#ce1126]"],[1,"text-lg","font-bold","text-gray-800"],[1,"overflow-x-auto","rounded-lg","border","border-gray-200"],[1,"w-full","text-sm","text-left","min-w-[800px]"],[1,"bg-gray-50","text-gray-500","font-bold","text-xs","uppercase","tracking-wider"],[1,"p-3","whitespace-nowrap"],[1,"p-3"],[1,"p-3","text-right"],[1,"divide-y","divide-gray-100"],[1,"hover:bg-gray-50","transition",3,"bg-red-50","border-l-4","border-[#ce1126]"],[1,"space-y-6"],[1,"bg-gradient-to-br","from-gray-900","to-black","p-6","rounded-xl","border","border-gray-800","text-white","shadow-xl"],[1,"p-2","bg-[#ce1126]","text-white","rounded","shadow-sm"],[1,"fas","fa-robot","text-lg"],[1,"text-lg","font-bold"],[1,"text-sm","text-gray-400","mb-6","leading-relaxed"],[1,"flex","items-center","gap-3","text-[#ce1126]","font-bold","animate-pulse","mb-4"],[1,"w-full","py-3","bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","rounded-lg","font-bold","shadow-lg","shadow-red-900/20","transition","flex","items-center","justify-center","gap-2","uppercase","tracking-wide","text-xs"],[1,"bg-yellow-50","p-6","rounded-xl","border","border-yellow-200","shadow-lg"],[1,"fas","fa-exclamation-triangle","mr-1"],[1,"text-[#ce1126]","font-bold","mb-3","flex","items-center","gap-2"],[1,"fas","fa-tools"],[1,"mb-4","p-4","border-2","border-dashed","border-red-200","rounded-lg","bg-white/50","text-center","relative","group","hover:border-red-400","transition-colors"],["type","file","accept","image/*",1,"absolute","inset-0","w-full","h-full","opacity-0","cursor-pointer","z-10",3,"change"],[1,"flex","flex-col","items-center","gap-2"],[1,"fas","fa-camera","text-2xl","text-red-300","group-hover:text-red-500"],[1,"text-xs","font-bold","text-red-800","uppercase"],[1,"text-[10px]","text-gray-500"],[1,"absolute","inset-0","bg-white/90","z-20","flex","items-center","justify-center","text-[#ce1126]","font-bold","text-xs","gap-2"],[1,"flex","flex-col","gap-3"],[1,"w-full","p-2.5","border","border-gray-300","rounded","text-sm","bg-white","focus:ring-2","focus:ring-red-500","outline-none",3,"value"],["value","Mec\xE1nico"],["value","El\xE9ctrico"],["value","Hidr\xE1ulico"],["value","Llantas"],["value","Estructural"],["value","Operador"],["rows","3","placeholder","Describe la falla detalladamente...",1,"w-full","p-2.5","border","border-gray-300","rounded","text-sm","bg-white","focus:ring-2","focus:ring-red-500","outline-none",3,"value"],[1,"bg-white","p-3","rounded","border","border-red-100","text-xs","text-gray-600","mb-2"],[1,"w-full","bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","font-bold","py-2.5","rounded","transition","uppercase","tracking-wide","text-xs",3,"click"],[1,"fas","fa-spinner","fa-spin"],[1,"text-red-700"],[1,"list-disc","pl-4","mt-1"],[1,"text-green-800","font-bold","mb-3","flex","items-center","gap-2"],[1,"fas","fa-check-circle"],["rows","2","placeholder","Diagn\xF3stico final y soluci\xF3n...",1,"w-full","p-2.5","border","border-green-200","rounded","text-sm","bg-white","focus:ring-2","focus:ring-green-500","outline-none"],[1,"grid","grid-cols-2","gap-3"],["type","number","placeholder","Costo Refacciones ($)",1,"p-2.5","border","border-green-200","rounded","text-sm","bg-white"],["type","text","placeholder","Refacciones (separar por coma)",1,"p-2.5","border","border-green-200","rounded","text-sm","bg-white"],[1,"w-full","bg-green-600","hover:bg-green-700","text-white","font-bold","py-2.5","rounded","transition","uppercase","tracking-wide","text-xs",3,"click"],[1,"hover:bg-gray-50","transition"],[1,"p-3","text-gray-600","align-top","whitespace-nowrap","font-medium"],[1,"inline-block","px-2","py-0.5","rounded","bg-[#ce1126]","text-white","text-[10px]","font-bold","mt-1","ml-2"],[1,"p-3","text-gray-900","align-top","font-medium"],[1,"p-3","text-gray-600","text-xs","align-top","max-w-[200px]"],[1,"flex","flex-wrap","gap-1.5"],[1,"text-gray-400","italic","text-xs"],[1,"p-3","align-top"],[1,"px-2","py-1","bg-gray-100","text-gray-600","text-[10px]","font-bold","uppercase","rounded","whitespace-nowrap"],[1,"p-3","text-right","font-mono","text-gray-900","font-bold","align-top","whitespace-nowrap"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-[10px]","font-bold","bg-gray-100","text-gray-600","border","border-gray-200"],[1,"fas","fa-circle-notch","fa-spin"],[1,"prose","prose-sm","prose-invert","bg-white/5","p-4","rounded-lg","border","border-white/10","max-h-96","overflow-y-auto","custom-scroll","text-sm",3,"innerHTML"],[1,"mt-4","w-full","py-2","text-xs","font-bold","text-gray-400","hover:text-white","uppercase","tracking-wide","border","border-gray-700","rounded","hover:bg-gray-800","transition",3,"click"],[1,"w-full","py-3","bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","rounded-lg","font-bold","shadow-lg","shadow-red-900/20","transition","flex","items-center","justify-center","gap-2","uppercase","tracking-wide","text-xs",3,"click"],[1,"fas","fa-microchip"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-black","text-yellow-800","flex","items-center","gap-2"],[1,"fas","fa-lock"],[1,"text-yellow-600","hover:text-black",3,"click"],[1,"fas","fa-times"],[1,"prose","prose-sm","prose-yellow","max-h-64","overflow-y-auto","custom-scroll",3,"innerHTML"],[1,"w-full","mt-4","py-2","bg-yellow-400","hover:bg-yellow-500","text-black","font-bold","rounded","uppercase","text-xs",3,"click"],[1,"fas","fa-print","mr-1"]],template:function(n,r){n&1&&Qn(0,lwe,90,17,"div",5),n&2&&er(r.asset()?0:-1)},dependencies:[Ns,md,wm,_m,M1,ju],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var lk=R$(YH(),1);function uwe(t,e){t&1&&(kt(0,"i",55),xe(1," Analizando Flota... "))}function cwe(t,e){t&1&&(kt(0,"i",56),xe(1," Generar Reporte Diario "))}function dwe(t,e){if(t&1){let n=ei();Ie(0,"button",54),Vn("click",function(){Yn(n);let i=Jt();return Xn(i.generateDailyReport())}),Qn(1,uwe,2,0)(2,cwe,2,0),ke()}if(t&2){let n=Jt();Xi("disabled",n.isAnalyzing()),je(),er(n.isAnalyzing()?1:2)}}function fwe(t,e){if(t&1){let n=ei();Ie(0,"div",26),kt(1,"div",57),Ie(2,"div",58)(3,"button",59),Vn("click",function(){Yn(n);let i=Jt();return Xn(i.aiReport.set(null))}),xe(4,"Cerrar"),ke(),Ie(5,"button",60),Vn("click",function(){Yn(n);let i=Jt();return Xn(i.copyReport())}),kt(6,"i",61),xe(7," Copiar"),ke()()()}if(t&2){let n=Jt();je(),Xi("innerHTML",n.aiReport(),zp)}}var kE=class t{constructor(){this.dataService=rn(Ms);this.geminiService=rn(km);this.failureForm={economico:"",falla:"",prioridad:"Media",reporta:""};this.isAnalyzing=hr(!1);this.aiReport=hr(null);this.isKioskMode=this.dataService.isKioskMode}toggleKiosk(){this.dataService.toggleKioskMode()}registerFailure(){if(!this.failureForm.economico||!this.failureForm.falla){alert("Por favor complete los datos de la unidad y la falla.");return}this.dataService.addLiveFailure({economico:this.failureForm.economico.toUpperCase(),falla:this.failureForm.falla,prioridad:this.failureForm.prioridad,reporta:this.failureForm.reporta||"NOC Admin",estatus:"Abierta"}),this.failureForm={economico:"",falla:"",prioridad:"Media",reporta:""}}async generateDailyReport(){this.isAnalyzing.set(!0);let e=this.dataService.fleetAvailability(),n=this.dataService.forkliftFailures().filter(s=>s.estatus!=="Cerrada"),r=this.dataService.forkliftFailures().slice(0,10),i=await this.geminiService.generateDailySummary(e,n,r);this.aiReport.set(i),this.isAnalyzing.set(!1)}copyReport(){if(this.aiReport()){let e=document.createElement("div");e.innerHTML=this.aiReport();let n=new Blob([e.innerText],{type:"text/plain"}),r=new ClipboardItem({"text/plain":n});navigator.clipboard.write([r]).then(()=>alert("Reporte copiado al portapapeles!"))}}async handleFileInput(e){let n=e.target.files[0];if(!n)return;let r=new lk.default.Workbook;await r.xlsx.load(await n.arrayBuffer());let i=r.worksheets[0],s=[];i.eachRow((o,a)=>{if(a===1)return;let l={};i.getRow(1).eachCell((u,c)=>{l[u.value]=o.getCell(c).value}),s.push(l)}),this.dataService.updateAssetsFromExcel(s),alert(`Se procesaron ${s.length} registros exitosamente.`)}async exportData(){let e=this.dataService.forkliftFailures().map(c=>({ID:c.id,Unidad:c.economico,Falla:c.falla,Prioridad:c.prioridad,Estatus:c.estatus,Reporto:c.reporta,FechaIngreso:c.fechaIngreso,FechaCierre:c.fechaSalida||"-"})),n=this.dataService.assets().map(c=>({Economico:c.id,Marca:c.brand,Modelo:c.model,Serie:c.serial,Estatus:c.status.name,Desde:c.statusSince})),r=new lk.default.Workbook,i=r.addWorksheet("Inventario"),s=r.addWorksheet("Reporte de Fallas");n.length>0&&(i.addRow(Object.keys(n[0])),n.forEach(c=>i.addRow(Object.values(c)))),e.length>0&&(s.addRow(Object.keys(e[0])),e.forEach(c=>s.addRow(Object.values(c))));let o=await r.xlsx.writeBuffer(),a=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=window.URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download=`AssetGuard_Reporte_${new Date().toISOString().slice(0,10)}.xlsx`,document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(l)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=eo({type:t,selectors:[["app-admin"]],decls:90,vars:18,consts:[[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-8","max-w-5xl","mx-auto"],[1,"mb-8","border-b","border-gray-100","pb-4"],[1,"text-3xl","font-black","text-gray-800","tracking-tight"],[1,"text-gray-500"],[1,"bg-indigo-50","p-6","rounded-xl","shadow-sm","border","border-indigo-100","mb-8","flex","flex-col","md:flex-row","items-center","justify-between","gap-4","animate-fade-in","relative","overflow-hidden"],[1,"absolute","-right-6","-top-6","text-indigo-100","opacity-50"],[1,"fas","fa-broadcast-tower","text-9xl"],[1,"relative","z-10"],[1,"text-xl","font-bold","text-indigo-900","flex","items-center","gap-2"],[1,"bg-indigo-600","text-white","p-1.5","rounded-lg","text-xs","shadow-md"],[1,"fas","fa-desktop"],[1,"text-sm","text-indigo-700","mt-1","max-w-lg"],[1,"flex","items-center","gap-4","relative","z-10","bg-white","px-6","py-3","rounded-2xl","shadow-sm","border","border-indigo-100"],[1,"text-right"],[1,"text-[10px]","font-bold","uppercase","tracking-wider","text-gray-500"],[1,"text-sm","font-black","transition-colors"],[1,"relative","inline-flex","h-8","w-14","items-center","rounded-full","transition-colors","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","cursor-pointer",3,"click"],[1,"inline-block","h-6","w-6","transform","rounded-full","bg-white","transition-transform","shadow-md"],[1,"bg-gradient-to-r","from-gray-900","to-slate-800","rounded-xl","p-6","text-white","shadow-xl","mb-8","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10"],[1,"fas","fa-brain","text-9xl","text-white"],[1,"text-xl","font-bold","flex","items-center","gap-2","mb-2"],[1,"bg-[#ce1126]","p-1.5","rounded","text-xs"],[1,"fas","fa-robot"],[1,"text-gray-400","text-sm","mb-6","max-w-2xl"],[1,"bg-white","text-gray-900","px-6","py-3","rounded-lg","font-bold","shadow","hover:bg-gray-100","transition","flex","items-center","gap-2","disabled:opacity-50",3,"disabled"],[1,"bg-white/10","rounded-lg","p-6","border","border-white/10","backdrop-blur-sm","animate-fade-in"],[1,"bg-white","p-6","rounded-xl","shadow-lg","mb-8","border-t-4","border-[#ce1126]","border","border-gray-100"],[1,"text-lg","font-bold","mb-4","flex","items-center","gap-2","text-gray-800"],[1,"text-[#ce1126]"],[1,"fas","fa-broadcast-tower"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],[1,"block","text-xs","font-bold","text-gray-500","uppercase","tracking-wide","mb-1"],["type","text","placeholder","Ej: M-105",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"lg:col-span-2"],["type","text","placeholder","Describe el problema...",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none","bg-white",3,"ngModelChange","ngModel"],["value","Baja"],["value","Media"],["value","Alta"],[1,"flex","justify-between","items-center"],[1,"w-1/3"],["type","text","placeholder","Nombre Supervisor",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","px-8","py-3","rounded-lg","font-bold","shadow-md","transition","transform","hover:scale-105","flex","items-center","gap-2",3,"click"],[1,"fas","fa-paper-plane"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"p-6","border","border-gray-200","rounded-xl","bg-gray-50"],[1,"font-bold","text-gray-700","mb-2"],[1,"fas","fa-file-excel","text-green-600","mr-2"],[1,"text-xs","text-gray-500","mb-4"],["type","file","accept",".xlsx, .xls",1,"block","w-full","text-sm","text-gray-500","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-green-50","file:text-green-700","hover:file:bg-green-100","mb-2","cursor-pointer",3,"change"],[1,"text-[10px]","text-gray-400","italic"],[1,"fas","fa-download","text-blue-600","mr-2"],[1,"w-full","py-2","bg-white","border","border-gray-300","rounded","text-gray-700","font-bold","text-sm","hover:bg-gray-100","transition",3,"click"],[1,"bg-white","text-gray-900","px-6","py-3","rounded-lg","font-bold","shadow","hover:bg-gray-100","transition","flex","items-center","gap-2","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-magic"],[1,"prose","prose-invert","prose-sm","max-w-none",3,"innerHTML"],[1,"mt-4","flex","gap-3"],[1,"text-gray-400","hover:text-white","text-xs","font-bold","underline",3,"click"],[1,"text-[#ce1126]","hover:text-red-400","text-xs","font-bold","uppercase",3,"click"],[1,"fas","fa-copy","mr-1"]],template:function(n,r){n&1&&(Ie(0,"div",0)(1,"div",1)(2,"h2",2),xe(3,"Panel de Administraci\xF3n"),ke(),Ie(4,"p",3),xe(5,"Gesti\xF3n de fallas en vivo, control de pantallas y reportes IA."),ke()(),Ie(6,"div",4)(7,"div",5),kt(8,"i",6),ke(),Ie(9,"div",7)(10,"h3",8)(11,"span",9),kt(12,"i",10),ke(),xe(13," Control Maestro de Pantallas "),ke(),Ie(14,"p",11),xe(15," Activa remotamente el "),Ie(16,"strong"),xe(17,"Modo Quiosco"),ke(),xe(18," en las Smart TVs de la planta. Esto iniciar\xE1 la rotaci\xF3n autom\xE1tica de KPIs, Mejores Tripulaciones y Seguridad. "),ke()(),Ie(19,"div",12)(20,"div",13)(21,"p",14),xe(22,"Estatus Transmisi\xF3n"),ke(),Ie(23,"p",15),xe(24),ke()(),Ie(25,"button",16),Vn("click",function(){return r.toggleKiosk()}),kt(26,"span",17),ke()()(),Ie(27,"div",18)(28,"div",19),kt(29,"i",20),ke(),Ie(30,"div",7)(31,"h3",21)(32,"span",22),kt(33,"i",23),xe(34," GEMINI 2.0"),ke(),xe(35," Centro de Inteligencia "),ke(),Ie(36,"p",24),xe(37," Genera un resumen ejecutivo instant\xE1neo analizando KPIs, fallas activas y tiempos de respuesta para la junta diaria. "),ke(),Qn(38,dwe,3,2,"button",25)(39,fwe,8,1,"div",26),ke()(),Ie(40,"div",27)(41,"h3",28)(42,"span",29),kt(43,"i",30),ke(),xe(44," Registro de Falla (Torre de Control) "),ke(),Ie(45,"div",31)(46,"div")(47,"label",32),xe(48,"Unidad (ID)"),ke(),Ie(49,"input",33),Vu("ngModelChange",function(s){return ad(r.failureForm.economico,s)||(r.failureForm.economico=s),s}),ke()(),Ie(50,"div",34)(51,"label",32),xe(52,"Descripci\xF3n de Falla"),ke(),Ie(53,"input",35),Vu("ngModelChange",function(s){return ad(r.failureForm.falla,s)||(r.failureForm.falla=s),s}),ke()(),Ie(54,"div")(55,"label",32),xe(56,"Prioridad"),ke(),Ie(57,"select",36),Vu("ngModelChange",function(s){return ad(r.failureForm.prioridad,s)||(r.failureForm.prioridad=s),s}),Ie(58,"option",37),xe(59,"Baja"),ke(),Ie(60,"option",38),xe(61,"Media"),ke(),Ie(62,"option",39),xe(63,"Alta (Cr\xEDtica)"),ke()()()(),Ie(64,"div",40)(65,"div",41)(66,"label",32),xe(67,"Reporta"),ke(),Ie(68,"input",42),Vu("ngModelChange",function(s){return ad(r.failureForm.reporta,s)||(r.failureForm.reporta=s),s}),ke()(),Ie(69,"button",43),Vn("click",function(){return r.registerFailure()}),kt(70,"i",44),xe(71," ENVIAR ALERTA "),ke()()(),Ie(72,"div",45)(73,"div",46)(74,"h3",47),kt(75,"i",48),xe(76," Importaci\xF3n Masiva"),ke(),Ie(77,"p",49),xe(78,"Carga tu inventario o estatus desde Excel (.xlsx)"),ke(),Ie(79,"input",50),Vn("change",function(s){return r.handleFileInput(s)}),ke(),Ie(80,"p",51),xe(81,"Columnas requeridas: Economico, Marca, Modelo, Estatus"),ke()(),Ie(82,"div",46)(83,"h3",47),kt(84,"i",52),xe(85," Exportar Datos"),ke(),Ie(86,"p",49),xe(87,"Descarga el reporte completo de KPIs y Fallas."),ke(),Ie(88,"button",53),Vn("click",function(){return r.exportData()}),xe(89," Descargar Excel "),ke()()()()),n&2&&(je(23),Un("text-green-500",r.isKioskMode())("text-gray-400",!r.isKioskMode()),je(),In(" ",r.isKioskMode()?"EN VIVO (ON AIR)":"OFFLINE"," "),je(),Un("bg-indigo-600",r.isKioskMode())("bg-gray-300",!r.isKioskMode()),je(),Un("translate-x-7",r.isKioskMode())("translate-x-1",!r.isKioskMode()),je(12),er(r.aiReport()?39:38),je(11),Bu("ngModel",r.failureForm.economico),je(4),Bu("ngModel",r.failureForm.falla),je(4),Bu("ngModel",r.failureForm.prioridad),je(11),Bu("ngModel",r.failureForm.reporta))},dependencies:[Ns,md,wm,_m,bm,ox,ix,wv],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var hwe=(t,e)=>e.id,pwe=(t,e)=>e.fecha;function mwe(t,e){t&1&&(Ie(0,"p",30),xe(1,"Sin notas t\xE9cnicas."),ke())}function gwe(t,e){if(t&1&&(Ie(0,"div")(1,"span",52),xe(2),ke(),Ie(3,"span",53),xe(4),ke()()),t&2){let n=e.$implicit;je(2),In("",n.usuario,":"),je(2),$n(n.mensaje)}}function vwe(t,e){if(t&1){let n=ei();Ie(0,"div",15)(1,"div",16)(2,"div",17),kt(3,"i",18),ke(),Ie(4,"div")(5,"div",19)(6,"span",20),xe(7),ke(),Ie(8,"span"),xe(9),ke()(),Ie(10,"div",21)(11,"p",22),xe(12,"Diagn\xF3stico Inicial"),ke(),Ie(13,"p",23),xe(14),ke()(),Ie(15,"div",24)(16,"div",25),kt(17,"i",26),xe(18),ke(),Ie(19,"div",25),kt(20,"i",27),xe(21),no(22,"date"),ke()()(),Ie(23,"div",28)(24,"div",29),Qn(25,mwe,2,0,"p",30),ps(26,gwe,5,2,"div",null,pwe),ke()()(),Ie(28,"div",31)(29,"div",32)(30,"div")(31,"label",33),xe(32,"Orden de Compra (PO)"),ke(),Ie(33,"div",34),kt(34,"i",35)(35,"input",36,0),ke()(),Ie(37,"div")(38,"label",33),xe(39,"Estatus Refacci\xF3n"),ke(),Ie(40,"select",37,1)(42,"option",38),xe(43,"N/A (Mano de Obra)"),ke(),Ie(44,"option",39),xe(45,"En Stock (Almac\xE9n)"),ke(),Ie(46,"option",40),xe(47,"Pedida (Backlog)"),ke(),Ie(48,"option",41),xe(49,"En Tr\xE1nsito"),ke()()(),Ie(50,"div")(51,"label",33),xe(52,"Fecha Promesa"),ke(),kt(53,"input",42,2),no(55,"date"),ke(),Ie(56,"div")(57,"label",33),xe(58,"Agregar Nota T\xE9cnica"),ke(),Ie(59,"div",43)(60,"input",44,3),Vn("keyup.enter",function(){Yn(n);let i=Zo(61),s=Jt().$implicit;return Jt().enviarAvance(s.id,i.value),Xn(i.value="")}),ke(),Ie(62,"button",45),Vn("click",function(){Yn(n);let i=Zo(61),s=Jt().$implicit;return Jt().enviarAvance(s.id,i.value),Xn(i.value="")}),kt(63,"i",46),ke()()()(),Ie(64,"div",47)(65,"button",48),Vn("click",function(){Yn(n);let i=Zo(36),s=Zo(41),o=Zo(54),a=Jt().$implicit,l=Jt();return Xn(l.updateLogistics(a.id,i.value,s.value,o.value))}),kt(66,"i",49),xe(67," GUARDAR AVANCE "),ke(),Ie(68,"button",50),Vn("click",function(){Yn(n);let i=Jt().$implicit,s=Jt();return Xn(s.closeFailureReport(i.id))}),kt(69,"i",51),xe(70," FINALIZAR & LIBERAR "),ke()()()()}if(t&2){let n=Jt().$implicit;je(7),$n(n.economico),je(),od("px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider "+(n.prioridad==="Alta"?"bg-red-500 text-white":"bg-slate-700 text-slate-300")),je(),In(" ",n.prioridad," "),je(5),$n(n.falla),je(4),In(" ",n.reporta," "),je(3),In(" ",Sa(22,11,n.fechaIngreso,"dd/MM HH:mm")," "),je(4),er(n.seguimiento.length===0?25:-1),je(),ms(n.seguimiento),je(9),Xi("value",n.ordenCompra||""),je(5),Xi("value",n.estatusRefaccion||"N/A"),je(13),Xi("value",n.fechaPromesa?Sa(55,14,n.fechaPromesa,"yyyy-MM-dd"):"")}}function ywe(t,e){if(t&1&&Qn(0,vwe,71,17,"div",15),t&2){let n=e.$implicit;er(n.estatus!=="Cerrada"?0:-1)}}function bwe(t,e){t&1&&(Ie(0,"div",14)(1,"div",54),kt(2,"i",55),ke(),Ie(3,"p",56),xe(4,"Todo al d\xEDa"),ke(),Ie(5,"p",57),xe(6,"No hay unidades reportadas en taller."),ke()())}var NE=class t{constructor(){this.dataService=rn(Ms)}countWaitingParts(){return this.dataService.forkliftFailures().filter(e=>e.estatusRefaccion==="Pedida"||e.estatusRefaccion==="Por Recibir").length}updateLogistics(e,n,r,i){this.dataService.updateToyotaLogistics(e,n,r,i),alert("Informaci\xF3n t\xE9cnica actualizada.")}enviarAvance(e,n){n.trim()&&this.dataService.addFailureUpdate(e,n,"Toyota")}closeFailureReport(e){confirm("\xBFConfirmar que la unidad est\xE1 operativa y lista para producci\xF3n?")&&this.dataService.closeLiveFailure(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=eo({type:t,selectors:[["app-service-panel"]],decls:18,vars:2,consts:[["poInput",""],["statusInput",""],["dateInput",""],["noteInput",""],[1,"bg-slate-50","min-h-screen","p-4","md:p-8","font-sans"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","mb-8"],[1,"text-3xl","font-black","text-slate-800","tracking-tighter","flex","items-center","gap-2"],[1,"fas","fa-tools","text-orange-600"],[1,"text-slate-500","font-medium"],[1,"flex","gap-4","mt-4","md:mt-0"],[1,"bg-white","p-3","rounded-xl","shadow-sm","border","border-slate-200","text-center","min-w-[120px]"],[1,"text-[10px]","text-slate-400","uppercase","font-bold"],[1,"text-2xl","font-black","text-orange-500","leading-none","mt-1"],[1,"flex","flex-col","gap-6","max-w-6xl","mx-auto"],[1,"py-20","flex","flex-col","items-center","justify-center","text-slate-400"],[1,"bg-white","rounded-3xl","shadow-lg","overflow-hidden","border","border-slate-200","flex","flex-col","md:flex-row","group","transition-all","hover:shadow-xl"],[1,"p-6","md:w-1/3","bg-slate-900","text-white","flex","flex-col","justify-between","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-5","transform","translate-x-1/2","-translate-y-1/2"],[1,"fas","fa-truck-loading","text-9xl"],[1,"flex","justify-between","items-start","mb-4","relative","z-10"],[1,"text-4xl","font-black","text-orange-500","tracking-tighter"],[1,"mb-4","relative","z-10"],[1,"text-[10px]","text-slate-400","uppercase","font-bold","mb-1"],[1,"text-lg","font-medium","leading-tight","text-slate-100"],[1,"flex","flex-col","gap-1","text-xs","text-slate-500","relative","z-10"],[1,"flex","items-center","gap-2"],[1,"fas","fa-user-circle"],[1,"fas","fa-clock"],[1,"mt-6","pt-4","border-t","border-slate-700","relative","z-10"],[1,"max-h-24","overflow-y-auto","custom-scroll","space-y-2","text-xs"],[1,"text-slate-600","italic"],[1,"p-6","md:w-2/3","flex","flex-col","justify-between"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"block","text-xs","font-bold","text-slate-400","uppercase","mb-1"],[1,"relative"],[1,"fas","fa-file-invoice","absolute","left-3","top-3","text-slate-300"],["type","text","placeholder","Pendiente...",1,"w-full","pl-9","p-2.5","bg-slate-50","border-none","rounded-xl","text-sm","font-bold","text-slate-700","focus:ring-2","focus:ring-orange-500","transition-all",3,"value"],[1,"w-full","p-2.5","bg-slate-50","border-none","rounded-xl","text-sm","font-bold","text-slate-700","focus:ring-2","focus:ring-orange-500","transition-all","cursor-pointer",3,"value"],["value","N/A"],["value","En Stock"],["value","Pedida"],["value","Por Recibir"],["type","date",1,"w-full","p-2.5","bg-slate-50","border-none","rounded-xl","text-sm","font-bold","text-slate-700","focus:ring-2","focus:ring-orange-500","transition-all",3,"value"],[1,"flex","gap-2"],["type","text","placeholder","Avance...",1,"flex-1","p-2.5","bg-slate-50","border-none","rounded-xl","text-sm","focus:ring-2","focus:ring-orange-500",3,"keyup.enter"],[1,"bg-slate-200","hover:bg-slate-300","text-slate-600","rounded-xl","px-3","transition-colors",3,"click"],[1,"fas","fa-paper-plane"],[1,"flex","flex-col","md:flex-row","gap-3","pt-4","border-t","border-slate-100"],[1,"flex-1","bg-slate-800","hover:bg-slate-700","text-white","py-3","rounded-xl","font-bold","text-sm","transition-all","flex","items-center","justify-center","gap-2",3,"click"],[1,"fas","fa-save"],[1,"flex-1","bg-green-100","hover:bg-green-200","text-green-700","py-3","rounded-xl","font-bold","text-sm","transition-all","flex","items-center","justify-center","gap-2",3,"click"],[1,"fas","fa-check-circle"],[1,"font-bold","text-orange-500"],[1,"text-slate-400","ml-1"],[1,"bg-white","p-8","rounded-full","shadow-sm","mb-4"],[1,"fas","fa-clipboard-check","text-6xl","text-green-200"],[1,"text-xl","font-bold","text-slate-600"],[1,"text-sm"]],template:function(n,r){n&1&&(Ie(0,"div",4)(1,"div",5)(2,"div")(3,"h2",6),kt(4,"i",7),xe(5," GESTI\xD3N T\xC9CNICA TOYOTA "),ke(),Ie(6,"p",8),xe(7,"Control de Taller y Refaccionamiento"),ke()(),Ie(8,"div",9)(9,"div",10)(10,"p",11),xe(11,"Refacciones Pendientes"),ke(),Ie(12,"p",12),xe(13),ke()()()(),Ie(14,"div",13),ps(15,ywe,1,1,null,null,hwe,!1,bwe,7,0,"div",14),ke()()),n&2&&(je(13),In(" ",r.countWaitingParts()," "),je(2),ms(r.dataService.forkliftFailures()))},dependencies:[Ns,md,wm,_m,ju],styles:[".custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0f172a}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#334155;border-radius:2px}"]})}};var wwe=(t,e)=>e.id,_we=(t,e)=>e.name;function xwe(t,e){t&1&&(Ie(0,"div",12)(1,"span",13),xe(2,"EN TALLER"),ke()())}function Ewe(t,e){if(t&1){let n=ei();Ie(0,"button",8),Vn("click",function(){let i=Yn(n).$implicit,s=Jt(2);return Xn(s.selectAsset(i.id))}),kt(1,"span",9),Ie(2,"span",10),xe(3),ke(),Ie(4,"span",11),xe(5),ke(),Qn(6,xwe,3,0,"div",12),ke()}if(t&2){let n=e.$implicit;je(),Un("bg-green-500",n.status.name==="Operativo")("bg-red-500",n.status.name==="Taller"),je(2),$n(n.id),je(2),$n(n.model),je(),er(n.status.name!=="Operativo"?6:-1)}}function Swe(t,e){if(t&1&&(Ie(0,"div",4)(1,"div",6),ps(2,Ewe,7,7,"button",7,wwe),ke()()),t&2){let n=Jt();je(2),ms(n.assets())}}function Cwe(t,e){if(t&1){let n=ei();Ie(0,"button",27),Vn("click",function(){let i=Yn(n).$implicit,s=Jt(2);return Xn(s.category.set(i.name))}),kt(1,"i"),xe(2),ke()}if(t&2){let n=e.$implicit,r=Jt(2);Un("bg-[#ce1126]",r.category()===n.name)("text-white",r.category()===n.name)("bg-gray-100",r.category()!==n.name)("text-gray-600",r.category()!==n.name),je(),od("fas "+n.icon+" text-xl"),je(),In(" ",n.name," ")}}function Awe(t,e){if(t&1){let n=ei();Ie(0,"div",5)(1,"div",14)(2,"h3",15),xe(3,"Unidad: "),Ie(4,"span",16),xe(5),ke()(),Ie(6,"button",17),Vn("click",function(){Yn(n);let i=Jt();return Xn(i.step.set(1))}),xe(7,"Cancelar"),ke()(),Ie(8,"p",18),xe(9,"\xBFQu\xE9 est\xE1 fallando?"),ke(),Ie(10,"div",19),ps(11,Cwe,3,11,"button",20,_we),ke(),Ie(13,"div",21)(14,"label",22),xe(15,"Nota de Voz / Texto"),ke(),Ie(16,"textarea",23),Vu("ngModelChange",function(i){Yn(n);let s=Jt();return ad(s.notes,i)||(s.notes=i),Xn(i)}),ke()(),Ie(17,"div",24)(18,"button",25),Vn("click",function(){Yn(n);let i=Jt();return Xn(i.submitReport())}),kt(19,"i",26),xe(20," ENVIAR REPORTE "),ke()()()}if(t&2){let n=Jt();je(5),$n(n.selectedId()),je(6),ms(n.categories),je(5),Bu("ngModel",n.notes),je(2),Xi("disabled",!n.category())}}var ME=class t{constructor(){this.dataService=rn(Ms);this.assets=this.dataService.assets;this.step=hr(1);this.selectedId=hr("");this.category=hr("");this.notes="";this.categories=[{name:"Llantas",icon:"fa-truck-monster"},{name:"Frenos",icon:"fa-ban"},{name:"Motor",icon:"fa-cogs"},{name:"Hidr\xE1ulico",icon:"fa-oil-can"},{name:"El\xE9ctrico",icon:"fa-bolt"},{name:"Da\xF1o F\xEDsico",icon:"fa-car-crash"}]}selectAsset(e){if(this.dataService.getAsset(e)?.status.name==="Taller"){alert("Esta unidad ya est\xE1 reportada en taller.");return}this.selectedId.set(e),this.step.set(2)}submitReport(){if(!this.category())return;let e=`[${this.category()}] ${this.notes||"Sin detalles adicionales."}`;this.dataService.addLiveFailure({economico:this.selectedId(),falla:e,prioridad:this.category()==="Frenos"?"Alta":"Media",reporta:"Operador M\xF3vil",estatus:"Abierta"}),alert("Reporte enviado exitosamente. Toyota ha sido notificado."),this.step.set(1),this.category.set(""),this.notes="",this.selectedId.set("")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=eo({type:t,selectors:[["app-solicitor-panel"]],decls:8,vars:2,consts:[[1,"max-w-md","mx-auto","min-h-screen","bg-gray-50","flex","flex-col"],[1,"bg-[#ce1126]","text-white","p-6","shadow-lg"],[1,"text-2xl","font-black","uppercase","tracking-widest","text-center"],[1,"text-xs","text-center","text-red-200","opacity-80","mt-1"],[1,"flex-1","p-4","overflow-y-auto","custom-scroll"],[1,"flex-1","p-6","flex","flex-col","animate-slide-up","bg-white","rounded-t-3xl","shadow-negative","-mt-4","z-10"],[1,"grid","grid-cols-2","gap-4"],[1,"p-4","bg-white","rounded-xl","shadow","border-2","border-transparent","hover:border-red-500","focus:border-red-500","transition-all","flex","flex-col","items-center","justify-center","h-32","relative","overflow-hidden","group"],[1,"p-4","bg-white","rounded-xl","shadow","border-2","border-transparent","hover:border-red-500","focus:border-red-500","transition-all","flex","flex-col","items-center","justify-center","h-32","relative","overflow-hidden","group",3,"click"],[1,"absolute","top-2","right-2","w-3","h-3","rounded-full"],[1,"text-2xl","font-black","text-gray-800","group-hover:scale-110","transition-transform"],[1,"text-xs","text-gray-500","mt-1","font-mono"],[1,"absolute","inset-0","bg-gray-100/80","flex","items-center","justify-center","backdrop-blur-[1px]"],[1,"text-xs","font-bold","text-red-600","rotate-12","border","border-red-600","px-2","py-1","rounded"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-[#ce1126]"],[1,"text-gray-400","font-bold","text-sm",3,"click"],[1,"text-sm","font-bold","text-gray-500","uppercase","mb-3"],[1,"grid","grid-cols-2","gap-3","mb-6"],[1,"p-4","rounded-lg","font-bold","text-sm","flex","flex-col","items-center","gap-2","transition-colors",3,"bg-[#ce1126]","text-white","bg-gray-100","text-gray-600"],[1,"mb-6"],[1,"block","text-xs","font-bold","text-gray-500","uppercase","mb-2"],["rows","3","placeholder","Describe el problema brevemente...",1,"w-full","p-4","bg-gray-50","rounded-xl","border-0","focus:ring-2","focus:ring-[#ce1126]",3,"ngModelChange","ngModel"],[1,"mt-auto"],[1,"w-full","bg-black","text-white","py-4","rounded-xl","font-bold","text-lg","shadow-lg","flex","items-center","justify-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-paper-plane"],[1,"p-4","rounded-lg","font-bold","text-sm","flex","flex-col","items-center","gap-2","transition-colors",3,"click"]],template:function(n,r){n&1&&(Ie(0,"div",0)(1,"div",1)(2,"h2",2),xe(3,"Reporte R\xE1pido"),ke(),Ie(4,"p",3),xe(5,"Selecciona el equipo para reportar"),ke()(),Qn(6,Swe,4,0,"div",4),Qn(7,Awe,21,3,"div",5),ke()),n&2&&(je(6),er(r.step()===1?6:-1),je(),er(r.step()===2?7:-1))},dependencies:[Ns,md,bm,ix,wv],styles:[".shadow-negative[_ngcontent-%COMP%]{box-shadow:0 -4px 20px -5px #0000001a}.animate-slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}"]})}};function Twe(t,e){t&1&&(Ie(0,"div",30),kt(1,"app-dashboard"),ke())}function Iwe(t,e){t&1&&(Ie(0,"div",30),kt(1,"app-service-panel"),ke())}function Dwe(t,e){t&1&&(Ie(0,"div",30),kt(1,"app-solicitor-panel"),ke())}function kwe(t,e){t&1&&(Ie(0,"div",30)(1,"div",32),kt(2,"app-admin"),ke()())}function Nwe(t,e){t&1&&(Ie(0,"div",30)(1,"div",32),kt(2,"app-asset-list"),ke()())}function Mwe(t,e){if(t&1&&(Ie(0,"div",31)(1,"div",33),kt(2,"app-asset-detail",34),ke()()),t&2){let n=Jt();je(2),Xi("assetId",n.selectedAssetId())}}var RE=class t{constructor(){this.currentView=hr("dashboard");this.selectedAssetId=hr(null);this.dataService=rn(Ms);this.previousFailureCount=0;Lu(()=>{let e=this.dataService.forkliftFailures();if(e.length>this.previousFailureCount){let n=e[0];if(n.estatus==="Abierta"&&this.previousFailureCount>0&&(this.playAlertSound(n.prioridad==="Alta"),"Notification"in window&&Notification.permission==="granted")){let r=new Notification("NUEVA FALLA REPORTADA",{body:`Unidad ${n.economico}: ${n.falla}`,icon:"https://cdn-icons-png.flaticon.com/512/564/564619.png",tag:n.id});r.onclick=i=>{i.preventDefault(),window.focus(),this.setView("service")}}}this.previousFailureCount=e.length})}ngOnInit(){"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission(),window.addEventListener("asset-selected",e=>{this.selectedAssetId.set(e.detail)}),window.addEventListener("asset-closed",()=>{this.selectedAssetId.set(null)})}setView(e){this.currentView.set(e),this.selectedAssetId.set(null),e==="dashboard"?this.dataService.plantMode()||this.dataService.togglePlantMode():this.dataService.plantMode()&&this.dataService.togglePlantMode()}playAlertSound(e){try{let n=e?"https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3":"https://assets.mixkit.co/active_storage/sfx/2345/2345-preview.mp3",r=new Audio(n);r.volume=.8,r.play().catch(i=>console.log("Audio autoplay blocked:",i))}catch(n){console.error("Error playing alert:",n)}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=eo({type:t,selectors:[["app-root"]],decls:70,vars:42,consts:[[1,"flex","h-screen","overflow-hidden","bg-slate-50","font-sans"],[1,"w-64","bg-slate-900","text-white","flex","flex-col","shadow-2xl","z-20","print:hidden","relative"],[1,"p-6","border-b","border-slate-800"],[1,"flex","items-center","gap-3","mb-1"],[1,"fas","fa-network-wired","text-[#ce1126]","text-xl"],[1,"text-xl","font-black","italic","tracking-tighter"],[1,"text-[10px]","text-slate-500","uppercase","tracking-widest","pl-8"],[1,"flex-1","p-4","space-y-2"],[1,"w-full","flex","items-center","gap-4","p-3","rounded-xl","transition-all","group","relative",3,"click"],[1,"w-8","h-8","rounded-lg","bg-white/10","flex","items-center","justify-center","group-hover:scale-110","transition-transform"],[1,"fas","fa-desktop","text-sm"],[1,"text-left"],[1,"text-xs","font-bold","uppercase"],[1,"text-[10px]","opacity-60"],[1,"absolute","left-full","top-1/2","-translate-y-1/2","ml-4","w-56","p-3","bg-slate-800","text-white","text-xs","rounded-xl","shadow-xl","border","border-slate-700","opacity-0","group-hover:opacity-100","transition-all","duration-300","pointer-events-none","translate-x-[-10px]","group-hover:translate-x-0","z-50"],[1,"absolute","left-0","top-1/2","-translate-x-1","-translate-y-1/2","w-2","h-2","bg-slate-800","border-l","border-b","border-slate-700","transform","rotate-45"],[1,"font-bold","text-[#ce1126]","mb-1","uppercase","tracking-wider","text-[10px]"],[1,"text-slate-300","leading-snug"],[1,"fas","fa-wrench","text-sm"],[1,"font-bold","text-orange-400","mb-1","uppercase","tracking-wider","text-[10px]"],[1,"fas","fa-mobile-alt","text-sm"],[1,"font-bold","text-blue-400","mb-1","uppercase","tracking-wider","text-[10px]"],[1,"p-4","border-t","border-slate-800"],[1,"w-full","flex","items-center","gap-3","p-2","rounded","hover:text-white","transition-colors","text-xs","font-bold","uppercase","tracking-wider","group","relative",3,"click"],[1,"fas","fa-cog"],[1,"absolute","left-full","bottom-2","ml-4","w-56","p-3","bg-slate-800","text-white","text-xs","rounded-xl","shadow-xl","border","border-slate-700","opacity-0","group-hover:opacity-100","transition-all","duration-300","pointer-events-none","translate-x-[-10px]","group-hover:translate-x-0","z-50"],[1,"absolute","left-0","bottom-3","-translate-x-1","w-2","h-2","bg-slate-800","border-l","border-b","border-slate-700","transform","rotate-45"],[1,"font-bold","text-gray-400","mb-1","uppercase","tracking-wider","text-[10px]"],[1,"flex-1","overflow-hidden","relative","bg-slate-100"],[1,"h-full","w-full","overflow-y-auto","custom-scroll"],[1,"view-animate"],[1,"fixed","inset-0","z-50","bg-black/60","backdrop-blur-sm","flex","items-center","justify-center","p-4"],[1,"p-8"],[1,"w-full","max-w-5xl","max-h-[90vh]","overflow-y-auto","rounded-xl","shadow-2xl","view-animate"],[3,"assetId"]],template:function(n,r){n&1&&(Ie(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3),kt(4,"i",4),Ie(5,"h1",5),xe(6,"ASSET GUARD"),ke()(),Ie(7,"p",6),xe(8,"Corporate Edition"),ke()(),Ie(9,"nav",7)(10,"button",8),Vn("click",function(){return r.setView("dashboard")}),Ie(11,"div",9),kt(12,"i",10),ke(),Ie(13,"div",11)(14,"p",12),xe(15,"Visualizador"),ke(),Ie(16,"p",13),xe(17,"Modo Planta"),ke()(),Ie(18,"div",14),kt(19,"div",15),Ie(20,"p",16),xe(21,"Dashboard NOC"),ke(),Ie(22,"p",17),xe(23,"Monitoreo centralizado de KPIs y estado de la flota en tiempo real."),ke()()(),Ie(24,"button",8),Vn("click",function(){return r.setView("service")}),Ie(25,"div",9),kt(26,"i",18),ke(),Ie(27,"div",11)(28,"p",12),xe(29,"Gesti\xF3n T\xE9cnica"),ke(),Ie(30,"p",13),xe(31,"Toyota Panel"),ke()(),Ie(32,"div",14),kt(33,"div",15),Ie(34,"p",19),xe(35,"Taller & Refacciones"),ke(),Ie(36,"p",17),xe(37,"Administraci\xF3n de \xF3rdenes de trabajo, diagn\xF3sticos y estatus de refacciones."),ke()()(),Ie(38,"button",8),Vn("click",function(){return r.setView("solicitor")}),Ie(39,"div",9),kt(40,"i",20),ke(),Ie(41,"div",11)(42,"p",12),xe(43,"Reporte R\xE1pido"),ke(),Ie(44,"p",13),xe(45,"Operadores"),ke()(),Ie(46,"div",14),kt(47,"div",15),Ie(48,"p",21),xe(49,"App Operador"),ke(),Ie(50,"p",17),xe(51,"Portal simplificado para que operadores reporten incidencias desde piso."),ke()()()(),Ie(52,"div",22)(53,"button",23),Vn("click",function(){return r.setView("settings")}),kt(54,"i",24),xe(55," Admin Control "),Ie(56,"div",25),kt(57,"div",26),Ie(58,"p",27),xe(59,"Configuraci\xF3n Global"),ke(),Ie(60,"p",17),xe(61,"Gesti\xF3n de datos maestros, sincronizaci\xF3n de pantallas y reportes IA."),ke()()()()(),Ie(62,"main",28)(63,"div",29),Qn(64,Twe,2,0,"div",30)(65,Iwe,2,0,"div",30)(66,Dwe,2,0,"div",30)(67,kwe,3,0,"div",30)(68,Nwe,3,0,"div",30),Qn(69,Mwe,3,1,"div",31),ke()()()),n&2&&(je(10),Un("bg-gradient-to-r",r.currentView()==="dashboard")("from-[#ce1126]",r.currentView()==="dashboard")("to-red-700",r.currentView()==="dashboard")("text-white",r.currentView()==="dashboard")("text-slate-400",r.currentView()!=="dashboard")("hover:bg-slate-800",r.currentView()!=="dashboard"),je(14),Un("bg-gradient-to-r",r.currentView()==="service")("from-orange-600",r.currentView()==="service")("to-orange-800",r.currentView()==="service")("text-white",r.currentView()==="service")("text-slate-400",r.currentView()!=="service")("hover:bg-slate-800",r.currentView()!=="service"),je(14),Un("bg-gradient-to-r",r.currentView()==="solicitor")("from-blue-600",r.currentView()==="solicitor")("to-blue-800",r.currentView()==="solicitor")("text-white",r.currentView()==="solicitor")("text-slate-400",r.currentView()!=="solicitor")("hover:bg-slate-800",r.currentView()!=="solicitor"),je(15),Un("text-white",r.currentView()==="settings")("text-slate-500",r.currentView()!=="settings"),je(11),er(r.currentView()==="dashboard"?64:r.currentView()==="service"?65:r.currentView()==="solicitor"?66:r.currentView()==="settings"?67:68),je(5),er(r.selectedAssetId()?69:-1))},dependencies:[Ns,Z_,J_,DE,kE,NE,ME],styles:[".view-animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeUp .5s cubic-bezier(.16,1,.3,1) forwards}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}"]})}};MT(RE,{providers:[hT()]}).catch(t=>console.error(t));
