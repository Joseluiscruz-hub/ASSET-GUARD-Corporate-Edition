import{a as Er,b as Jj}from"./chunk-TDRWCFZF.js";import{a as De,b as Nt,c as fR,d as Yj,e as Xj,f as Kj,g as dR}from"./chunk-WMVSLYLA.js";function DC(t,e){e===void 0&&(e={});var n=C_e();n.p(t);var r=b_e(t,e,2,4);return A_e(r,e),T_e(r,r.length-4,n.d()),r}function _$(t,e){return x_e((I_e(t),t.subarray(2,-4)),e)}var co,uo,Hy,AC,IC,YP,p$,m$,g$,XP,v$,m_e,f$,KP,ku,rr,kc,ed,rr,rr,rr,rr,$y,rr,g_e,v_e,y_e,__e,WP,Fl,jP,QP,y$,x_e,Nu,Vy,zP,JP,d$,Uy,TC,h$,w_e,E_e,S_e,C_e,b_e,T_e,A_e,I_e,x$=fR(()=>{co=Uint8Array,uo=Uint16Array,Hy=Uint32Array,AC=new co([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),IC=new co([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),YP=new co([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p$=function(t,e){for(var n=new uo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Hy(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},m$=p$(AC,2),g$=m$[0],XP=m$[1];g$[28]=258,XP[258]=28;v$=p$(IC,0),m_e=v$[0],f$=v$[1],KP=new uo(32768);for(rr=0;rr<32768;++rr)ku=(rr&43690)>>>1|(rr&21845)<<1,ku=(ku&52428)>>>2|(ku&13107)<<2,ku=(ku&61680)>>>4|(ku&3855)<<4,KP[rr]=((ku&65280)>>>8|(ku&255)<<8)>>>1;kc=function(t,e,n){for(var r=t.length,i=0,s=new uo(e);i<r;++i)++s[t[i]-1];var o=new uo(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new uo(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=o[t[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)a[KP[f]>>>l]=c}else for(a=new uo(r),i=0;i<r;++i)a[i]=KP[o[t[i]-1]++]>>>15-t[i];return a},ed=new co(288);for(rr=0;rr<144;++rr)ed[rr]=8;for(rr=144;rr<256;++rr)ed[rr]=9;for(rr=256;rr<280;++rr)ed[rr]=7;for(rr=280;rr<288;++rr)ed[rr]=8;$y=new co(32);for(rr=0;rr<32;++rr)$y[rr]=5;g_e=kc(ed,9,0),v_e=kc(ed,9,1),y_e=kc($y,5,0),__e=kc($y,5,1),WP=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Fl=function(t,e,n){var r=e/8>>0;return(t[r]|t[r+1]<<8)>>>(e&7)&n},jP=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(e&7)},QP=function(t){return(t/8>>0)+(t&7&&1)},y$=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof uo?uo:t instanceof Hy?Hy:co)(n-e);return r.set(t.subarray(e,n)),r},x_e=function(t,e,n){var r=t.length,i=!e||n,s=!n||n.i;n||(n={}),e||(e=new co(r*3));var o=function(Q){var ye=e.length;if(Q>ye){var ve=new co(Math.max(ye*2,Q));ve.set(e),e=ve}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,f=n.d,d=n.m,h=n.n,g=r*8;do{if(!u){n.f=a=Fl(t,l,1);var v=Fl(t,l+1,3);if(l+=3,v)if(v==1)u=v_e,f=__e,d=9,h=5;else if(v==2){var C=Fl(t,l,31)+257,D=Fl(t,l+10,15)+4,A=C+Fl(t,l+5,31)+1;l+=14;for(var L=new co(A),I=new co(19),N=0;N<D;++N)I[YP[N]]=Fl(t,l+N*3,7);l+=D*3;var O=WP(I),V=(1<<O)-1;if(!s&&l+A*(O+7)>g)break;for(var P=kc(I,O,1),N=0;N<A;){var M=P[Fl(t,l,V)];l+=M&15;var x=M>>>4;if(x<16)L[N++]=x;else{var X=0,U=0;for(x==16?(U=3+Fl(t,l,3),l+=2,X=L[N-1]):x==17?(U=3+Fl(t,l,7),l+=3):x==18&&(U=11+Fl(t,l,127),l+=7);U--;)L[N++]=X}}var z=L.subarray(0,C),re=L.subarray(C);d=WP(z),h=WP(re),u=kc(z,d,1),f=kc(re,h,1)}else throw"invalid block type";else{var x=QP(l)+4,_=t[x-4]|t[x-3]<<8,E=x+_;if(E>r){if(s)throw"unexpected EOF";break}i&&o(c+_),e.set(t.subarray(x,E),c),n.b=c+=_,n.p=l=E*8;continue}if(l>g)throw"unexpected EOF"}i&&o(c+131072);for(var Z=(1<<d)-1,de=(1<<h)-1,fe=d+h+18;s||l+fe<g;){var X=u[jP(t,l)&Z],me=X>>>4;if(l+=X&15,l>g)throw"unexpected EOF";if(!X)throw"invalid length/literal";if(me<256)e[c++]=me;else if(me==256){u=null;break}else{var ge=me-254;if(me>264){var N=me-257,T=AC[N];ge=Fl(t,l,(1<<T)-1)+g$[N],l+=T}var B=f[jP(t,l)&de],F=B>>>4;if(!B)throw"invalid distance";l+=B&15;var re=m_e[F];if(F>3){var T=IC[F];re+=jP(t,l)&(1<<T)-1,l+=T}if(l>g)throw"unexpected EOF";i&&o(c+131072);for(var H=c+ge;c<H;c+=4)e[c]=e[c-re],e[c+1]=e[c+1-re],e[c+2]=e[c+2-re],e[c+3]=e[c+3-re];c=H}}n.l=u,n.p=l,n.b=c,u&&(a=1,n.m=d,n.d=f,n.n=h)}while(!a);return c==e.length?e:y$(e,0,c)},Nu=function(t,e,n){n<<=e&7;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8},Vy=function(t,e,n){n<<=e&7;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},zP=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return[new co(0),0];if(i==1){var o=new co(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(A,L){return A.f-L.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=s[0].s,r=1;r<i;++r)s[r].s>d&&(d=s[r].s);var h=new uo(d+1),g=JP(n[u-1],h,0);if(g>e){var r=0,v=0,x=g-e,_=1<<x;for(s.sort(function(L,I){return h[I.s]-h[L.s]||L.f-I.f});r<i;++r){var E=s[r].s;if(h[E]>e)v+=_-(1<<g-h[E]),h[E]=e;else break}for(v>>>=x;v>0;){var C=s[r].s;h[C]<e?v-=1<<e-h[C]++-1:++r}for(;r>=0&&v;--r){var D=s[r].s;h[D]==e&&(--h[D],++v)}g=e}return[new co(h),g]},JP=function(t,e,n){return t.s==-1?Math.max(JP(t.l,e,n+1),JP(t.r,e,n+1)):e[t.s]=n},d$=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new uo(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return[n.subarray(0,r),e]},Uy=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},TC=function(t,e,n){var r=n.length,i=QP(e+2);t[i]=r&255,t[i+1]=r>>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},h$=function(t,e,n,r,i,s,o,a,l,c,u){Nu(e,u++,n),++i[256];for(var f=zP(i,15),d=f[0],h=f[1],g=zP(s,15),v=g[0],x=g[1],_=d$(d),E=_[0],C=_[1],D=d$(v),A=D[0],L=D[1],I=new uo(19),N=0;N<E.length;++N)I[E[N]&31]++;for(var N=0;N<A.length;++N)I[A[N]&31]++;for(var O=zP(I,7),V=O[0],P=O[1],M=19;M>4&&!V[YP[M-1]];--M);var X=c+5<<3,U=Uy(i,ed)+Uy(s,$y)+o,z=Uy(i,d)+Uy(s,v)+o+14+3*M+Uy(I,V)+(2*I[16]+3*I[17]+7*I[18]);if(X<=U&&X<=z)return TC(e,u,t.subarray(l,l+c));var re,Z,de,fe;if(Nu(e,u,1+(z<U)),u+=2,z<U){re=kc(d,h,0),Z=d,de=kc(v,x,0),fe=v;var me=kc(V,P,0);Nu(e,u,C-257),Nu(e,u+5,L-1),Nu(e,u+10,M-4),u+=14;for(var N=0;N<M;++N)Nu(e,u+3*N,V[YP[N]]);u+=3*M;for(var ge=[E,A],T=0;T<2;++T)for(var B=ge[T],N=0;N<B.length;++N){var F=B[N]&31;Nu(e,u,me[F]),u+=V[F],F>15&&(Nu(e,u,B[N]>>>5&127),u+=B[N]>>>12)}}else re=g_e,Z=ed,de=y_e,fe=$y;for(var N=0;N<a;++N)if(r[N]>255){var F=r[N]>>>18&31;Vy(e,u,re[F+257]),u+=Z[F+257],F>7&&(Nu(e,u,r[N]>>>23&31),u+=AC[F]);var H=r[N]&31;Vy(e,u,de[H]),u+=fe[H],H>3&&(Vy(e,u,r[N]>>>5&8191),u+=IC[H])}else Vy(e,u,re[r[N]]),u+=Z[r[N]];return Vy(e,u,re[256]),u+Z[256]},w_e=new Hy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),E_e=new co(0),S_e=function(t,e,n,r,i,s){var o=t.length,a=new co(r+o+5*(1+Math.floor(o/7e3))+i),l=a.subarray(r,a.length-i),c=0;if(!e||o<8)for(var u=0;u<=o;u+=65535){var f=u+65535;f<o?c=TC(l,c,t.subarray(u,f)):(l[u]=s,c=TC(l,c,t.subarray(u,o)))}else{for(var d=w_e[e-1],h=d>>>13,g=d&8191,v=(1<<n)-1,x=new uo(32768),_=new uo(v+1),E=Math.ceil(n/3),C=2*E,D=function(at){return(t[at]^t[at+1]<<E^t[at+2]<<C)&v},A=new Hy(25e3),L=new uo(288),I=new uo(32),N=0,O=0,u=0,V=0,P=0,M=0;u<o;++u){var X=D(u),U=u&32767,z=_[X];if(x[U]=z,_[X]=U,P<=u){var re=o-u;if((N>7e3||V>24576)&&re>423){c=h$(t,l,0,A,L,I,O,V,M,u-M,c),V=N=O=0,M=u;for(var Z=0;Z<286;++Z)L[Z]=0;for(var Z=0;Z<30;++Z)I[Z]=0}var de=2,fe=0,me=g,ge=U-z&32767;if(re>2&&X==D(u-ge))for(var T=Math.min(h,re)-1,B=Math.min(32767,u),F=Math.min(258,re);ge<=B&&--me&&U!=z;){if(t[u+de]==t[u+de-ge]){for(var H=0;H<F&&t[u+H]==t[u+H-ge];++H);if(H>de){if(de=H,fe=ge,H>T)break;for(var Q=Math.min(ge,H-2),ye=0,Z=0;Z<Q;++Z){var ve=u-ge+Z+32768&32767,xe=x[ve],be=ve-xe+32768&32767;be>ye&&(ye=be,z=ve)}}}U=z,z=x[U],ge+=U-z+32768&32767}if(fe){A[V++]=268435456|XP[de]<<18|f$[fe];var He=XP[de]&31,ee=f$[fe]&31;O+=AC[He]+IC[ee],++L[257+He],++I[ee],P=u+de,++N}else A[V++]=t[u],++L[t[u]]}}c=h$(t,l,s,A,L,I,O,V,M,u-M,c),s||(c=TC(l,c,E_e))}return y$(a,0,r+QP(c)+i)},C_e=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length,o=0;o!=s;){for(var a=Math.min(o+5552,s);o<a;++o)r+=n[o],i+=r;r%=65521,i%=65521}t=r,e=i},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},b_e=function(t,e,n,r,i){return S_e(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,n,r,!i)},T_e=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},A_e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;t[0]=120,t[1]=r<<6|(r?32-2*r:1)},I_e=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"}});var dF={};Xj(dF,{AcroForm:()=>q_e,AcroFormAppearance:()=>Tt,AcroFormButton:()=>$i,AcroFormCheckBox:()=>jy,AcroFormChoiceField:()=>zh,AcroFormComboBox:()=>Xh,AcroFormEditBox:()=>Gy,AcroFormListBox:()=>Yh,AcroFormPasswordField:()=>zy,AcroFormPushButton:()=>Wy,AcroFormRadioButton:()=>Kh,AcroFormTextField:()=>id,GState:()=>Yy,ShadingPattern:()=>nd,TilingPattern:()=>jh,default:()=>dxe,jsPDF:()=>Vt});function ZP(){Kt.console&&typeof Kt.console.log=="function"&&Kt.console.log.apply(Kt.console,arguments)}function eF(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Wh(r.response,e,n)},r.onerror=function(){Mr.error("could not download file")},r.send()}function w$(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function kC(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}function B$(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function tF(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Ps(n,r,i,s,e[0],7,-680876936),s=Ps(s,n,r,i,e[1],12,-389564586),i=Ps(i,s,n,r,e[2],17,606105819),r=Ps(r,i,s,n,e[3],22,-1044525330),n=Ps(n,r,i,s,e[4],7,-176418897),s=Ps(s,n,r,i,e[5],12,1200080426),i=Ps(i,s,n,r,e[6],17,-1473231341),r=Ps(r,i,s,n,e[7],22,-45705983),n=Ps(n,r,i,s,e[8],7,1770035416),s=Ps(s,n,r,i,e[9],12,-1958414417),i=Ps(i,s,n,r,e[10],17,-42063),r=Ps(r,i,s,n,e[11],22,-1990404162),n=Ps(n,r,i,s,e[12],7,1804603682),s=Ps(s,n,r,i,e[13],12,-40341101),i=Ps(i,s,n,r,e[14],17,-1502002290),n=Fs(n,r=Ps(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Fs(s,n,r,i,e[6],9,-1069501632),i=Fs(i,s,n,r,e[11],14,643717713),r=Fs(r,i,s,n,e[0],20,-373897302),n=Fs(n,r,i,s,e[5],5,-701558691),s=Fs(s,n,r,i,e[10],9,38016083),i=Fs(i,s,n,r,e[15],14,-660478335),r=Fs(r,i,s,n,e[4],20,-405537848),n=Fs(n,r,i,s,e[9],5,568446438),s=Fs(s,n,r,i,e[14],9,-1019803690),i=Fs(i,s,n,r,e[3],14,-187363961),r=Fs(r,i,s,n,e[8],20,1163531501),n=Fs(n,r,i,s,e[13],5,-1444681467),s=Fs(s,n,r,i,e[2],9,-51403784),i=Fs(i,s,n,r,e[7],14,1735328473),n=Rs(n,r=Fs(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Rs(s,n,r,i,e[8],11,-2022574463),i=Rs(i,s,n,r,e[11],16,1839030562),r=Rs(r,i,s,n,e[14],23,-35309556),n=Rs(n,r,i,s,e[1],4,-1530992060),s=Rs(s,n,r,i,e[4],11,1272893353),i=Rs(i,s,n,r,e[7],16,-155497632),r=Rs(r,i,s,n,e[10],23,-1094730640),n=Rs(n,r,i,s,e[13],4,681279174),s=Rs(s,n,r,i,e[0],11,-358537222),i=Rs(i,s,n,r,e[3],16,-722521979),r=Rs(r,i,s,n,e[6],23,76029189),n=Rs(n,r,i,s,e[9],4,-640364487),s=Rs(s,n,r,i,e[12],11,-421815835),i=Rs(i,s,n,r,e[15],16,530742520),n=Ls(n,r=Rs(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ls(s,n,r,i,e[7],10,1126891415),i=Ls(i,s,n,r,e[14],15,-1416354905),r=Ls(r,i,s,n,e[5],21,-57434055),n=Ls(n,r,i,s,e[12],6,1700485571),s=Ls(s,n,r,i,e[3],10,-1894986606),i=Ls(i,s,n,r,e[10],15,-1051523),r=Ls(r,i,s,n,e[1],21,-2054922799),n=Ls(n,r,i,s,e[8],6,1873313359),s=Ls(s,n,r,i,e[15],10,-30611744),i=Ls(i,s,n,r,e[6],15,-1560198380),r=Ls(r,i,s,n,e[13],21,1309151649),n=Ls(n,r,i,s,e[4],6,-145523070),s=Ls(s,n,r,i,e[11],10,-1120210379),i=Ls(i,s,n,r,e[2],15,718787259),r=Ls(r,i,s,n,e[9],21,-343485551),t[0]=rd(n,t[0]),t[1]=rd(r,t[1]),t[2]=rd(i,t[2]),t[3]=rd(s,t[3])}function RC(t,e,n,r,i,s){return e=rd(rd(e,t),rd(r,s)),rd(e<<i|e>>>32-i,n)}function Ps(t,e,n,r,i,s,o){return RC(e&n|~e&r,t,e,i,s,o)}function Fs(t,e,n,r,i,s,o){return RC(e&r|n&~r,t,e,i,s,o)}function Rs(t,e,n,r,i,s,o){return RC(e^n^r,t,e,i,s,o)}function Ls(t,e,n,r,i,s,o){return RC(n^(e|~r),t,e,i,s,o)}function V$(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)tF(r,D_e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(tF(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,tF(r,i),r}function D_e(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function k_e(t){for(var e="",n=0;n<4;n++)e+=E$[t>>8*n+4&15]+E$[t>>8*n&15];return e}function N_e(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function oF(t){return V$(t).map(N_e).join("")}function rd(t,e){if(M_e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function aF(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var f=e.length,d=0,h=0,g="";for(l=0;l<f;l++)h=(h+(u=a[d=(d+1)%256]))%256,a[d]=a[h],a[h]=u,o=a[(a[d]+a[h])%256],g+=String.fromCharCode(e.charCodeAt(l)^o);return g}function Bm(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(S$.perm!==void 0)throw new Error("Invalid permission: "+a);i+=S$[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=oF(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=aF(this.encryptionKey,this.padding)}function Vm(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function C$(t){if(Er(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Kt.console&&Mr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Yy(t){if(!(this instanceof Yy))return new Yy(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function U$(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function nd(t,e,n,r,i){if(!(this instanceof nd))return new nd(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,U$.call(this,r,i)}function jh(t,e,n,r,i){if(!(this instanceof jh))return new jh(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,U$.call(this,r,i)}function Vt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;Er(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=C$;var g="1.3",v=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(S){g=S};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var _=h.__private__.getPageFormat=function(S){return x[S]};i=i||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},C=E.COMPAT;function D(){this.saveGraphicsState(),ae(new Ht(rt,0,0,-rt,0,qu()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),c="n",C=E.ADVANCED}function A(){this.restoreGraphicsState(),c="S",C=E.COMPAT}var L=h.__private__.combineFontStyleAndFontWeight=function(S,G){if(S=="bold"&&G=="normal"||S=="bold"&&G==400||S=="normal"&&G=="italic"||S=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(S=G==400||G==="normal"?S==="italic"?"italic":"normal":G!=700&&G!=="bold"||S!=="normal"?(G==700?"bold":G)+""+S:"bold"),S};h.advancedAPI=function(S){var G=C===E.COMPAT;return G&&D.call(this),typeof S!="function"||(S(this),G&&A.call(this)),this},h.compatAPI=function(S){var G=C===E.ADVANCED;return G&&A.call(this),typeof S!="function"||(S(this),G&&D.call(this)),this},h.isAdvancedAPI=function(){return C===E.ADVANCED};var I,N=function(S){if(C!==E.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=h.roundToPrecision=h.__private__.roundToPrecision=function(S,G){var he=e||G;if(isNaN(S)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(he).replace(/0+$/,"")};I=h.hpf=h.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return O(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return O(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return O(S,16)};var V=h.f2=h.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return O(S,2)},P=h.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return O(S,3)},M=h.scale=h.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return C===E.COMPAT?S*rt:C===E.ADVANCED?S:void 0},X=function(S){return C===E.COMPAT?qu()-S:C===E.ADVANCED?S:void 0},U=function(S){return M(X(S))};h.__private__.setPrecision=h.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var z,re="00000000000000000000000000000000",Z=h.__private__.getFileId=function(){return re},de=h.__private__.setFileId=function(S){return re=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ws=new Bm(u.userPermissions,u.userPassword,u.ownerPassword,re)),re};h.setFileId=function(S){return de(S),this},h.getFileId=function(){return Z()};var fe=h.__private__.convertDateToPDFDate=function(S){var G=S.getTimezoneOffset(),he=G<0?"+":"-",we=Math.floor(Math.abs(G/60)),ke=Math.abs(G%60),$e=[he,F(we),"'",F(ke),"'"].join("");return["D:",S.getFullYear(),F(S.getMonth()+1),F(S.getDate()),F(S.getHours()),F(S.getMinutes()),F(S.getSeconds()),$e].join("")},me=h.__private__.convertPDFDateToDate=function(S){var G=parseInt(S.substr(2,4),10),he=parseInt(S.substr(6,2),10)-1,we=parseInt(S.substr(8,2),10),ke=parseInt(S.substr(10,2),10),$e=parseInt(S.substr(12,2),10),nt=parseInt(S.substr(14,2),10);return new Date(G,he,we,ke,$e,nt,0)},ge=h.__private__.setCreationDate=function(S){var G;if(S===void 0&&(S=new Date),S instanceof Date)G=fe(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=S}return z=G},T=h.__private__.getCreationDate=function(S){var G=z;return S==="jsDate"&&(G=me(z)),G};h.setCreationDate=function(S){return ge(S),this},h.getCreationDate=function(S){return T(S)};var B,F=h.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},H=h.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},Q=0,ye=[],ve=[],xe=0,be=[],He=[],ee=!1,tt=ve,at=function(){Q=0,xe=0,ve=[],ye=[],be=[],te=Qr(),ne=Qr()};h.__private__.setCustomOutputDestination=function(S){ee=!0,tt=S};var Oe=function(S){ee||(tt=S)};h.__private__.resetCustomOutputDestination=function(){ee=!1,tt=ve};var ae=h.__private__.out=function(S){return S=S.toString(),xe+=S.length+1,tt.push(S),tt},We=h.__private__.write=function(S){return ae(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},ft=h.__private__.getArrayBuffer=function(S){for(var G=S.length,he=new ArrayBuffer(G),we=new Uint8Array(he);G--;)we[G]=S.charCodeAt(G);return he},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Je};var it=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(S){return it=C===E.ADVANCED?S/rt:S,this};var dt,pt=h.__private__.getFontSize=h.getFontSize=function(){return C===E.COMPAT?it:it*rt},At=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(S){return At=S,this},h.__private__.getR2L=h.getR2L=function(){return At};var Dt,qt=h.__private__.setZoomMode=function(S){var G=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))dt=S;else if(isNaN(S)){if(G.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');dt=S}else dt=parseInt(S,10)};h.__private__.getZoomMode=function(){return dt};var en,Cn=h.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Dt=S};h.__private__.getPageMode=function(){return Dt};var ln=h.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');en=S};h.__private__.getLayoutMode=function(){return en},h.__private__.setDisplayMode=h.setDisplayMode=function(S,G,he){return qt(S),ln(G),Cn(he),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(S){if(Object.keys(kt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[S]},h.__private__.getDocumentProperties=function(){return kt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(S){for(var G in kt)kt.hasOwnProperty(G)&&S[G]&&(kt[G]=S[G]);return this},h.__private__.setDocumentProperty=function(S,G){if(Object.keys(kt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[S]=G};var vt,rt,dr,Ut,Mi,ir={},Pr={},pa=[],On={},ql={},Vr={},Vo={},za=null,Tr=0,tn=[],Wn=new C$(h),Hc=t.hotfixes||[],Pi={},ma={},ga=[],Ht=function S(G,he,we,ke,$e,nt){if(!(this instanceof S))return new S(G,he,we,ke,$e,nt);isNaN(G)&&(G=1),isNaN(he)&&(he=0),isNaN(we)&&(we=0),isNaN(ke)&&(ke=1),isNaN($e)&&($e=0),isNaN(nt)&&(nt=0),this._matrix=[G,he,we,ke,$e,nt]};Object.defineProperty(Ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ht.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(S)},Ht.prototype.multiply=function(S){var G=S.sx*this.sx+S.shy*this.shx,he=S.sx*this.shy+S.shy*this.sy,we=S.shx*this.sx+S.sy*this.shx,ke=S.shx*this.shy+S.sy*this.sy,$e=S.tx*this.sx+S.ty*this.shx+this.tx,nt=S.tx*this.shy+S.ty*this.sy+this.ty;return new Ht(G,he,we,ke,$e,nt)},Ht.prototype.decompose=function(){var S=this.sx,G=this.shy,he=this.shx,we=this.sy,ke=this.tx,$e=this.ty,nt=Math.sqrt(S*S+G*G),St=(S/=nt)*he+(G/=nt)*we;he-=S*St,we-=G*St;var Rt=Math.sqrt(he*he+we*we);return St/=Rt,S*(we/=Rt)<G*(he/=Rt)&&(S=-S,G=-G,St=-St,nt=-nt),{scale:new Ht(nt,0,0,Rt,0,0),translate:new Ht(1,0,0,1,ke,$e),rotate:new Ht(S,G,-G,S,0,0),skew:new Ht(1,0,St,1,0,0)}},Ht.prototype.toString=function(S){return this.join(" ")},Ht.prototype.inversed=function(){var S=this.sx,G=this.shy,he=this.shx,we=this.sy,ke=this.tx,$e=this.ty,nt=1/(S*we-G*he),St=we*nt,Rt=-G*nt,fn=-he*nt,wn=S*nt;return new Ht(St,Rt,fn,wn,-St*ke-fn*$e,-Rt*ke-wn*$e)},Ht.prototype.applyToPoint=function(S){var G=S.x*this.sx+S.y*this.shx+this.tx,he=S.x*this.shy+S.y*this.sy+this.ty;return new Cp(G,he)},Ht.prototype.applyToRectangle=function(S){var G=this.applyToPoint(S),he=this.applyToPoint(new Cp(S.x+S.w,S.y+S.h));return new pg(G.x,G.y,he.x-G.x,he.y-G.y)},Ht.prototype.clone=function(){var S=this.sx,G=this.shy,he=this.shx,we=this.sy,ke=this.tx,$e=this.ty;return new Ht(S,G,he,we,ke,$e)},h.Matrix=Ht;var Uo=h.matrixMult=function(S,G){return G.multiply(S)},po=new Ht(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=po;var xs=function(S,G){if(!ql[S]){var he=(G instanceof nd?"Sh":"P")+(Object.keys(On).length+1).toString(10);G.id=he,ql[S]=he,On[he]=G,Wn.publish("addPattern",G)}};h.ShadingPattern=nd,h.TilingPattern=jh,h.addShadingPattern=function(S,G){return N("addShadingPattern()"),xs(S,G),this},h.beginTilingPattern=function(S){N("beginTilingPattern()"),G_(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},h.endTilingPattern=function(S,G){N("endTilingPattern()"),G.stream=He[B].join(`
`),xs(S,G),Wn.publish("endTilingPattern",G),ga.pop().restore()};var ci=h.__private__.newObject=function(){var S=Qr();return j(S,!0),S},Qr=h.__private__.newObjectDeferred=function(){return Q++,ye[Q]=function(){return xe},Q},j=function(S,G){return G=typeof G=="boolean"&&G,ye[S]=xe,G&&ae(S+" 0 obj"),S},ce=h.__private__.newAdditionalObject=function(){var S={objId:Qr(),content:""};return be.push(S),S},te=Qr(),ne=Qr(),le=h.__private__.decodeColorString=function(S){var G=S.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length===5&&(G[4]==="k"||G[4]==="K")&&(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var he=parseFloat(G[0]);G=[he,he,he,"r"]}for(var we="#",ke=0;ke<3;ke++)we+=("0"+Math.floor(255*parseFloat(G[ke])).toString(16)).slice(-2);return we},ue=h.__private__.encodeColorString=function(S){var G;typeof S=="string"&&(S={ch1:S});var he=S.ch1,we=S.ch2,ke=S.ch3,$e=S.ch4,nt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var St=new B$(he);if(St.ok)he=St.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var Rt=parseInt(he.substr(1),16);he=Rt>>16&255,we=Rt>>8&255,ke=255&Rt}if(we===void 0||$e===void 0&&he===we&&we===ke)typeof he=="string"?G=he+" "+nt[0]:S.precision===2?G=V(he/255)+" "+nt[0]:G=P(he/255)+" "+nt[0];else if($e===void 0||Er($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return G=["1.","1.","1.",nt[1]].join(" ");if(typeof he=="string")G=[he,we,ke,nt[1]].join(" ");else switch(S.precision){case 2:G=[V(he/255),V(we/255),V(ke/255),nt[1]].join(" ");break;default:case 3:G=[P(he/255),P(we/255),P(ke/255),nt[1]].join(" ")}}else typeof he=="string"?G=[he,we,ke,$e,nt[2]].join(" "):S.precision===2?G=[V(he),V(we),V(ke),V($e),nt[2]].join(" "):G=[P(he),P(we),P(ke),P($e),nt[2]].join(" ");return G},Me=h.__private__.getFilters=function(){return o},Ve=h.__private__.putStream=function(S){var G=(S=S||{}).data||"",he=S.filters||Me(),we=S.alreadyAppliedFilters||[],ke=S.addLength1||!1,$e=G.length,nt=S.objectId,St=function(Es){return Es};if(u!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(St=ws.encryptor(nt,0));var Rt={};he===!0&&(he=["FlateEncode"]);var fn=S.additionalKeyValues||[],wn=(Rt=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(G,he):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(Rt.data.length!==0&&(fn.push({key:"Length",value:Rt.data.length}),ke===!0&&fn.push({key:"Length1",value:$e})),wn.length!=0)if(wn.split("/").length-1==1)fn.push({key:"Filter",value:wn});else{fn.push({key:"Filter",value:"["+wn+"]"});for(var Ln=0;Ln<fn.length;Ln+=1)if(fn[Ln].key==="DecodeParms"){for(var zr=[],Zr=0;Zr<Rt.reverseChain.split("/").length-1;Zr+=1)zr.push("null");zr.push(fn[Ln].value),fn[Ln].value="["+zr.join(" ")+"]"}}ae("<<");for(var Ei=0;Ei<fn.length;Ei++)ae("/"+fn[Ei].key+" "+fn[Ei].value);ae(">>"),Rt.data.length!==0&&(ae("stream"),ae(St(Rt.data)),ae("endstream"))},Pe=h.__private__.putPage=function(S){var G=S.number,he=S.data,we=S.objId,ke=S.contentsObjId;j(we,!0),ae("<</Type /Page"),ae("/Parent "+S.rootDictionaryObjId+" 0 R"),ae("/Resources "+S.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(I(S.mediaBox.bottomLeftX))+" "+parseFloat(I(S.mediaBox.bottomLeftY))+" "+I(S.mediaBox.topRightX)+" "+I(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ae("/CropBox ["+I(S.cropBox.bottomLeftX)+" "+I(S.cropBox.bottomLeftY)+" "+I(S.cropBox.topRightX)+" "+I(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ae("/BleedBox ["+I(S.bleedBox.bottomLeftX)+" "+I(S.bleedBox.bottomLeftY)+" "+I(S.bleedBox.topRightX)+" "+I(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ae("/TrimBox ["+I(S.trimBox.bottomLeftX)+" "+I(S.trimBox.bottomLeftY)+" "+I(S.trimBox.topRightX)+" "+I(S.trimBox.topRightY)+"]"),S.artBox!==null&&ae("/ArtBox ["+I(S.artBox.bottomLeftX)+" "+I(S.artBox.bottomLeftY)+" "+I(S.artBox.topRightX)+" "+I(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ae("/UserUnit "+S.userUnit),Wn.publish("putPage",{objId:we,pageContext:tn[G],pageNumber:G,page:he}),ae("/Contents "+ke+" 0 R"),ae(">>"),ae("endobj");var $e=he.join(`
`);return C===E.ADVANCED&&($e+=`
Q`),j(ke,!0),Ve({data:$e,filters:Me(),objectId:ke}),ae("endobj"),we},Le=h.__private__.putPages=function(){var S,G,he=[];for(S=1;S<=Tr;S++)tn[S].objId=Qr(),tn[S].contentsObjId=Qr();for(S=1;S<=Tr;S++)he.push(Pe({number:S,data:He[S],objId:tn[S].objId,contentsObjId:tn[S].contentsObjId,mediaBox:tn[S].mediaBox,cropBox:tn[S].cropBox,bleedBox:tn[S].bleedBox,trimBox:tn[S].trimBox,artBox:tn[S].artBox,userUnit:tn[S].userUnit,rootDictionaryObjId:te,resourceDictionaryObjId:ne}));j(te,!0),ae("<</Type /Pages");var we="/Kids [";for(G=0;G<Tr;G++)we+=he[G]+" 0 R ";ae(we+"]"),ae("/Count "+Tr),ae(">>"),ae("endobj"),Wn.publish("postPutPages")},Be=function(S){Wn.publish("putFont",{font:S,out:ae,newObject:ci,putStream:Ve}),S.isAlreadyPutted!==!0&&(S.objectNumber=ci(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Vm(S.postScriptName)),ae("/Subtype /Type1"),typeof S.encoding=="string"&&ae("/Encoding /"+S.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},et=function(){for(var S in ir)ir.hasOwnProperty(S)&&(f===!1||f===!0&&d.hasOwnProperty(S))&&Be(ir[S])},st=function(S){S.objectNumber=ci();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[I(S.x),I(S.y),I(S.x+S.width),I(S.y+S.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var he=S.pages[1].join(`
`);Ve({data:he,additionalKeyValues:G,objectId:S.objectNumber}),ae("endobj")},Et=function(){for(var S in Pi)Pi.hasOwnProperty(S)&&st(Pi[S])},ot=function(S,G){var he,we=[],ke=1/(G-1);for(he=0;he<1;he+=ke)we.push(he);if(we.push(1),S[0].offset!=0){var $e={offset:0,color:S[0].color};S.unshift($e)}if(S[S.length-1].offset!=1){var nt={offset:1,color:S[S.length-1].color};S.push(nt)}for(var St="",Rt=0,fn=0;fn<we.length;fn++){for(he=we[fn];he>S[Rt+1].offset;)Rt++;var wn=S[Rt].offset,Ln=(he-wn)/(S[Rt+1].offset-wn),zr=S[Rt].color,Zr=S[Rt+1].color;St+=H(Math.round((1-Ln)*zr[0]+Ln*Zr[0]).toString(16))+H(Math.round((1-Ln)*zr[1]+Ln*Zr[1]).toString(16))+H(Math.round((1-Ln)*zr[2]+Ln*Zr[2]).toString(16))}return St.trim()},ht=function(S,G){G||(G=21);var he=ci(),we=ot(S.colors,G),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+G+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:we,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),ae("endobj"),S.objectNumber=ci(),ae("<< /ShadingType "+S.type),ae("/ColorSpace /DeviceRGB");var $e="/Coords ["+I(parseFloat(S.coords[0]))+" "+I(parseFloat(S.coords[1]))+" ";S.type===2?$e+=I(parseFloat(S.coords[2]))+" "+I(parseFloat(S.coords[3])):$e+=I(parseFloat(S.coords[2]))+" "+I(parseFloat(S.coords[3]))+" "+I(parseFloat(S.coords[4]))+" "+I(parseFloat(S.coords[5])),ae($e+="]"),S.matrix&&ae("/Matrix ["+S.matrix.toString()+"]"),ae("/Function "+he+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},Qt=function(S,G){var he=Qr(),we=ci();G.push({resourcesOid:he,objectOid:we}),S.objectNumber=we;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+S.boundingBox.map(I).join(" ")+"]"}),ke.push({key:"XStep",value:I(S.xStep)}),ke.push({key:"YStep",value:I(S.yStep)}),ke.push({key:"Resources",value:he+" 0 R"}),S.matrix&&ke.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Ve({data:S.stream,additionalKeyValues:ke,objectId:S.objectNumber}),ae("endobj")},jn=function(S){var G;for(G in On)On.hasOwnProperty(G)&&(On[G]instanceof nd?ht(On[G]):On[G]instanceof jh&&Qt(On[G],S))},Fi=function(S){for(var G in S.objectNumber=ci(),ae("<<"),S)switch(G){case"opacity":ae("/ca "+V(S[G]));break;case"stroke-opacity":ae("/CA "+V(S[G]))}ae(">>"),ae("endobj")},Wr=function(){var S;for(S in Vr)Vr.hasOwnProperty(S)&&Fi(Vr[S])},Ri=function(){for(var S in ae("/XObject <<"),Pi)Pi.hasOwnProperty(S)&&Pi[S].objectNumber>=0&&ae("/"+S+" "+Pi[S].objectNumber+" 0 R");Wn.publish("putXobjectDict"),ae(">>")},$c=function(){ws.oid=ci(),ae("<<"),ae("/Filter /Standard"),ae("/V "+ws.v),ae("/R "+ws.r),ae("/U <"+ws.toHexString(ws.U)+">"),ae("/O <"+ws.toHexString(ws.O)+">"),ae("/P "+ws.P),ae(">>"),ae("endobj")},Gl=function(){for(var S in ae("/Font <<"),ir)ir.hasOwnProperty(S)&&(f===!1||f===!0&&d.hasOwnProperty(S))&&ae("/"+S+" "+ir[S].objectNumber+" 0 R");ae(">>")},Ya=function(){if(Object.keys(On).length>0){for(var S in ae("/Shading <<"),On)On.hasOwnProperty(S)&&On[S]instanceof nd&&On[S].objectNumber>=0&&ae("/"+S+" "+On[S].objectNumber+" 0 R");Wn.publish("putShadingPatternDict"),ae(">>")}},Wl=function(S){if(Object.keys(On).length>0){for(var G in ae("/Pattern <<"),On)On.hasOwnProperty(G)&&On[G]instanceof h.TilingPattern&&On[G].objectNumber>=0&&On[G].objectNumber<S&&ae("/"+G+" "+On[G].objectNumber+" 0 R");Wn.publish("putTilingPatternDict"),ae(">>")}},Ho=function(){if(Object.keys(Vr).length>0){var S;for(S in ae("/ExtGState <<"),Vr)Vr.hasOwnProperty(S)&&Vr[S].objectNumber>=0&&ae("/"+S+" "+Vr[S].objectNumber+" 0 R");Wn.publish("putGStateDict"),ae(">>")}},ui=function(S){j(S.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Gl(),Ya(),Wl(S.objectOid),Ho(),Ri(),ae(">>"),ae("endobj")},D_=function(){var S=[];et(),Wr(),Et(),jn(S),Wn.publish("putResources"),S.forEach(ui),ui({resourcesOid:ne,objectOid:Number.MAX_SAFE_INTEGER}),Wn.publish("postPutResources")},k_=function(){Wn.publish("putAdditionalObjects");for(var S=0;S<be.length;S++){var G=be[S];j(G.objId,!0),ae(G.content),ae("endobj")}Wn.publish("postPutAdditionalObjects")},N_=function(S){Pr[S.fontName]=Pr[S.fontName]||{},Pr[S.fontName][S.fontStyle]=S.id},sg=function(S,G,he,we,ke){var $e={id:"F"+(Object.keys(ir).length+1).toString(10),postScriptName:S,fontName:G,fontStyle:he,encoding:we,isStandardFont:ke||!1,metadata:{}};return Wn.publish("addFont",{font:$e,instance:this}),ir[$e.id]=$e,N_($e),$e.id},Eb=function(S){for(var G=0,he=Je.length;G<he;G++){var we=sg.call(this,S[G][0],S[G][1],S[G][2],Je[G][3],!0);f===!1&&(d[we]=!0);var ke=S[G][0].split("-");N_({id:we,fontName:ke[0],fontStyle:ke[1]||""})}Wn.publish("addFonts",{fonts:ir,dictionary:Pr})},Xa=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(we){var G=we.stack||"";~G.indexOf(" at ")&&(G=G.split(" at ")[1]);var he="Error in function "+G.split(`
`)[0].split("<")[0]+": "+we.message;if(!Kt.console)throw new Error(he);Kt.console.error(he,we),Kt.alert&&alert(he)}},S.foo.bar=S,S.foo},yp=function(S,G){var he,we,ke,$e,nt,St,Rt,fn,wn;if(ke=(G=G||{}).sourceEncoding||"Unicode",nt=G.outputEncoding,(G.autoencode||nt)&&ir[vt].metadata&&ir[vt].metadata[ke]&&ir[vt].metadata[ke].encoding&&($e=ir[vt].metadata[ke].encoding,!nt&&ir[vt].encoding&&(nt=ir[vt].encoding),!nt&&$e.codePages&&(nt=$e.codePages[0]),typeof nt=="string"&&(nt=$e[nt]),nt)){for(Rt=!1,St=[],he=0,we=S.length;he<we;he++)(fn=nt[S.charCodeAt(he)])?St.push(String.fromCharCode(fn)):St.push(S[he]),St[he].charCodeAt(0)>>8&&(Rt=!0);S=St.join("")}for(he=S.length;Rt===void 0&&he!==0;)S.charCodeAt(he-1)>>8&&(Rt=!0),he--;if(!Rt)return S;for(St=G.noBOM?[]:[254,255],he=0,we=S.length;he<we;he++){if((wn=(fn=S.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(wn),St.push(fn-(wn<<8))}return String.fromCharCode.apply(void 0,St)},mo=h.__private__.pdfEscape=h.pdfEscape=function(S,G){return yp(S,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},og=h.__private__.beginPage=function(S){He[++Tr]=[],tn[Tr]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},P_(Tr),Oe(He[B])},M_=function(S,G){var he,we,ke;switch(n=G||n,typeof S=="string"&&(he=_(S.toLowerCase()),Array.isArray(he)&&(we=he[0],ke=he[1])),Array.isArray(S)&&(we=S[0]*rt,ke=S[1]*rt),isNaN(we)&&(we=i[0],ke=i[1]),(we>14400||ke>14400)&&(Mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),ke=Math.min(14400,ke)),i=[we,ke],n.substr(0,1)){case"l":ke>we&&(i=[ke,we]);break;case"p":we>ke&&(i=[ke,we])}og(i),V_(ug),ae(Ka),dg!==0&&ae(dg+" J"),hg!==0&&ae(hg+" j"),Wn.publish("addPage",{pageNumber:Tr})},Sb=function(S){S>0&&S<=Tr&&(He.splice(S,1),tn.splice(S,1),Tr--,B>Tr&&(B=Tr),this.setPage(B))},P_=function(S){S>0&&S<=Tr&&(B=S)},Cb=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return He.length-1},F_=function(S,G,he){var we,ke=void 0;return he=he||{},S=S!==void 0?S:ir[vt].fontName,G=G!==void 0?G:ir[vt].fontStyle,we=S.toLowerCase(),Pr[we]!==void 0&&Pr[we][G]!==void 0?ke=Pr[we][G]:Pr[S]!==void 0&&Pr[S][G]!==void 0?ke=Pr[S][G]:he.disableWarning===!1&&Mr.warn("Unable to look up font label for font '"+S+"', '"+G+"'. Refer to getFontList() for available fonts."),ke||he.noFallback||(ke=Pr.times[G])==null&&(ke=Pr.times.normal),ke},bb=h.__private__.putInfo=function(){var S=ci(),G=function(we){return we};for(var he in u!==null&&(G=ws.encryptor(S,0)),ae("<<"),ae("/Producer ("+mo(G("jsPDF "+Vt.version))+")"),kt)kt.hasOwnProperty(he)&&kt[he]&&ae("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+mo(G(kt[he]))+")");ae("/CreationDate ("+mo(G(z))+")"),ae(">>"),ae("endobj")},ag=h.__private__.putCatalog=function(S){var G=(S=S||{}).rootDictionaryObjId||te;switch(ci(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+G+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+dt;he.substr(he.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+V(dt)+"]")}switch(en||(en="continuous"),en){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Dt&&ae("/PageMode /"+Dt),Wn.publish("putCatalog"),ae(">>"),ae("endobj")},Tb=h.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(Q+1)),ae("/Root "+Q+" 0 R"),ae("/Info "+(Q-1)+" 0 R"),u!==null&&ae("/Encrypt "+ws.oid+" 0 R"),ae("/ID [ <"+re+"> <"+re+"> ]"),ae(">>")},Ab=h.__private__.putHeader=function(){ae("%PDF-"+g),ae("%\xBA\xDF\xAC\xE0")},Ib=h.__private__.putXRef=function(){var S="0000000000";ae("xref"),ae("0 "+(Q+1)),ae("0000000000 65535 f ");for(var G=1;G<=Q;G++)typeof ye[G]=="function"?ae((S+ye[G]()).slice(-10)+" 00000 n "):ye[G]!==void 0?ae((S+ye[G]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},qc=h.__private__.buildDocument=function(){at(),Oe(ve),Wn.publish("buildDocument"),Ab(),Le(),k_(),D_(),u!==null&&$c(),bb(),ag();var S=xe;return Ib(),Tb(),ae("startxref"),ae(""+S),ae("%%EOF"),Oe(He[B]),ve.join(`
`)},_p=h.__private__.getBlob=function(S){return new Blob([ft(S)],{type:"application/pdf"})},xp=h.output=h.__private__.output=Xa(function(S,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",S){case void 0:return qc();case"save":h.save(G.filename);break;case"arraybuffer":return ft(qc());case"blob":return _p(qc());case"bloburi":case"bloburl":if(Kt.URL!==void 0&&typeof Kt.URL.createObjectURL=="function")return Kt.URL&&Kt.URL.createObjectURL(_p(qc()))||void 0;Mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",we=qc();try{he=sF(we)}catch{he=sF(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+G.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(ke=G.pdfObjectUrl,$e="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",St=Kt.open();return St!==null&&St.document.write(nt),St}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',fn=Kt.open();if(fn!==null){fn.document.write(Rt);var wn=this;fn.document.documentElement.querySelector("#pdfViewer").onload=function(){fn.document.title=G.filename,fn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wn.output("bloburl"))}}return fn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',zr=Kt.open();if(zr!==null&&(zr.document.write(Ln),zr.document.title=G.filename),zr||typeof safari>"u")return zr;break;case"datauri":case"dataurl":return Kt.document.location.href=this.output("datauristring",G);default:return null}}),R_=function(S){return Array.isArray(Hc)===!0&&Hc.indexOf(S)>-1};switch(r){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=R_("px_scaling")==1?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);rt=r}var ws=null;ge(),de();var Db=function(S){return u!==null?ws.encryptor(S,0):function(G){return G}},L_=h.__private__.getPageInfo=h.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tn[S].objId,pageNumber:S,pageContext:tn[S]}},nn=h.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in tn)if(tn[G].objId===S)break;return L_(G)},kb=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:tn[B].objId,pageNumber:B,pageContext:tn[B]}};h.addPage=function(){return M_.apply(this,arguments),this},h.setPage=function(){return P_.apply(this,arguments),Oe.call(this,He[B]),this},h.insertPage=function(S){return this.addPage(),this.movePage(B,S),this},h.movePage=function(S,G){var he,we;if(S>G){he=He[S],we=tn[S];for(var ke=S;ke>G;ke--)He[ke]=He[ke-1],tn[ke]=tn[ke-1];He[G]=he,tn[G]=we,this.setPage(G)}else if(S<G){he=He[S],we=tn[S];for(var $e=S;$e<G;$e++)He[$e]=He[$e+1],tn[$e]=tn[$e+1];He[G]=he,tn[G]=we,this.setPage(G)}return this},h.deletePage=function(){return Sb.apply(this,arguments),this},h.__private__.text=h.text=function(S,G,he,we,ke){var $e,nt,St,Rt,fn,wn,Ln,zr,Zr,Ei=(we=we||{}).scope||this;if(typeof S=="number"&&typeof G=="number"&&(typeof he=="string"||Array.isArray(he))){var Es=he;he=G,G=S,S=Es}if(arguments[3]instanceof Ht?(N("The transform parameter of text() with a Matrix value"),Zr=ke):(St=arguments[4],Rt=arguments[5],Er(Ln=arguments[3])==="object"&&Ln!==null||(typeof St=="string"&&(Rt=St,St=null),typeof Ln=="string"&&(Rt=Ln,Ln=null),typeof Ln=="number"&&(St=Ln,Ln=null),we={flags:Ln,angle:St,align:Rt})),isNaN(G)||isNaN(he)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Ei;var Wi="",Ja=!1,$o=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:vd,Wc=Ei.internal.scaleFactor;function W_(Fr){return Fr=Fr.split("	").join(Array(we.TabLen||9).join(" ")),mo(Fr,Ln)}function yg(Fr){for(var Rr,fi=Fr.concat(),Li=[],Xc=fi.length;Xc--;)typeof(Rr=fi.shift())=="string"?Li.push(Rr):Array.isArray(Fr)&&(Rr.length===1||Rr[1]===void 0&&Rr[2]===void 0)?Li.push(Rr[0]):Li.push([Rr[0],Rr[1],Rr[2]]);return Li}function _g(Fr,Rr){var fi;if(typeof Fr=="string")fi=Rr(Fr)[0];else if(Array.isArray(Fr)){for(var Li,Xc,Yu=Fr.concat(),Fp=[],z_=Yu.length;z_--;)typeof(Li=Yu.shift())=="string"?Fp.push(Rr(Li)[0]):Array.isArray(Li)&&typeof Li[0]=="string"&&(Xc=Rr(Li[0],Li[1],Li[2]),Fp.push([Xc[0],Xc[1],Xc[2]]));fi=Fp}return fi}var Tp=!1,xg=!0;if(typeof S=="string")Tp=!0;else if(Array.isArray(S)){var wg=S.concat();nt=[];for(var Ap,go=wg.length;go--;)(typeof(Ap=wg.shift())!="string"||Array.isArray(Ap)&&typeof Ap[0]!="string")&&(xg=!1);Tp=xg}if(Tp===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Ip=it/Ei.internal.scaleFactor,Dp=Ip*($o-1);switch(we.baseline){case"bottom":he-=Dp;break;case"top":he+=Ip-Dp;break;case"hanging":he+=Ip-2*Dp;break;case"middle":he+=Ip/2-Dp}if((wn=we.maxWidth||0)>0&&(typeof S=="string"?S=Ei.splitTextToSize(S,wn):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Fr,Rr){return Fr.concat(Ei.splitTextToSize(Rr,wn))},[]))),$e={text:S,x:G,y:he,options:we,mutex:{pdfEscape:mo,activeFontKey:vt,fonts:ir,activeFontSize:it}},Wn.publish("preProcessText",$e),S=$e.text,St=(we=$e.options).angle,!(Zr instanceof Ht)&&St&&typeof St=="number"){St*=Math.PI/180,we.rotationDirection===0&&(St=-St),C===E.ADVANCED&&(St=-St);var kp=Math.cos(St),Eg=Math.sin(St);Zr=new Ht(kp,Eg,-Eg,kp,0,0)}else St&&St instanceof Ht&&(Zr=St);C!==E.ADVANCED||Zr||(Zr=po),(fn=we.charSpace||Sp)!==void 0&&(Wi+=I(M(fn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zr=we.horizontalScale)!==void 0&&(Wi+=I(100*zr)+` Tz
`),we.lang;var vo=-1,Ub=we.renderingMode!==void 0?we.renderingMode:we.stroke,Sg=Ei.internal.getCurrentPageInfo().pageContext;switch(Ub){case 0:case!1:case"fill":vo=0;break;case 1:case!0:case"stroke":vo=1;break;case 2:case"fillThenStroke":vo=2;break;case 3:case"invisible":vo=3;break;case 4:case"fillAndAddForClipping":vo=4;break;case 5:case"strokeAndAddPathForClipping":vo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":vo=6;break;case 7:case"addToPathForClipping":vo=7}var j_=Sg.usedRenderingMode!==void 0?Sg.usedRenderingMode:-1;vo!==-1?Wi+=vo+` Tr
`:j_!==-1&&(Wi+=`0 Tr
`),vo!==-1&&(Sg.usedRenderingMode=vo),Rt=we.align||"left";var Qa,Cg=it*$o,Hb=Ei.internal.pageSize.getWidth(),$b=ir[vt];fn=we.charSpace||Sp,wn=we.maxWidth||0,Ln=Object.assign({autoencode:!0,noBOM:!0},we.flags);var Gu=[];if(Object.prototype.toString.call(S)==="[object Array]"){var va;nt=yg(S),Rt!=="left"&&(Qa=nt.map(function(Fr){return Ei.getStringUnitWidth(Fr,{font:$b,charSpace:fn,fontSize:it,doKerning:!1})*it/Wc}));var Za,Wu=0;if(Rt==="right"){G-=Qa[0],S=[],go=nt.length;for(var zl=0;zl<go;zl++)zl===0?(Za=Gc(G),va=Hu(he)):(Za=M(Wu-Qa[zl]),va=-Cg),S.push([nt[zl],Za,va]),Wu=Qa[zl]}else if(Rt==="center"){G-=Qa[0]/2,S=[],go=nt.length;for(var jc=0;jc<go;jc++)jc===0?(Za=Gc(G),va=Hu(he)):(Za=M((Wu-Qa[jc])/2),va=-Cg),S.push([nt[jc],Za,va]),Wu=Qa[jc]}else if(Rt==="left"){S=[],go=nt.length;for(var Np=0;Np<go;Np++)S.push(nt[Np])}else{if(Rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');S=[],go=nt.length,wn=wn!==0?wn:Hb;for(var el=0;el<go;el++)va=el===0?Hu(he):-Cg,Za=el===0?Gc(G):0,el<go-1?Gu.push(I(M((wn-Qa[el])/(nt[el].split(" ").length-1)))):Gu.push(0),S.push([nt[el],Za,va])}}var Mp=typeof we.R2L=="boolean"?we.R2L:At;Mp===!0&&(S=_g(S,function(Fr,Rr,fi){return[Fr.split("").reverse().join(""),Rr,fi]})),$e={text:S,x:G,y:he,options:we,mutex:{pdfEscape:mo,activeFontKey:vt,fonts:ir,activeFontSize:it}},Wn.publish("postProcessText",$e),S=$e.text,Ja=$e.mutex.isHex||!1;var bg=ir[vt].encoding;bg!=="WinAnsiEncoding"&&bg!=="StandardEncoding"||(S=_g(S,function(Fr,Rr,fi){return[W_(Fr),Rr,fi]})),nt=yg(S),S=[];for(var ju,tl,zc,xd=0,Pp=1,wd=Array.isArray(nt[0])?Pp:xd,zu="",Tg=function(Fr,Rr,fi){var Li="";return fi instanceof Ht?(fi=typeof we.angle=="number"?Uo(fi,new Ht(1,0,0,1,Fr,Rr)):Uo(new Ht(1,0,0,1,Fr,Rr),fi),C===E.ADVANCED&&(fi=Uo(new Ht(1,0,0,-1,0,0),fi)),Li=fi.join(" ")+` Tm
`):Li=I(Fr)+" "+I(Rr)+` Td
`,Li},ya=0;ya<nt.length;ya++){switch(zu="",wd){case Pp:zc=(Ja?"<":"(")+nt[ya][0]+(Ja?">":")"),ju=parseFloat(nt[ya][1]),tl=parseFloat(nt[ya][2]);break;case xd:zc=(Ja?"<":"(")+nt[ya]+(Ja?">":")"),ju=Gc(G),tl=Hu(he)}Gu!==void 0&&Gu[ya]!==void 0&&(zu=Gu[ya]+` Tw
`),ya===0?S.push(zu+Tg(ju,tl,Zr)+zc):wd===xd?S.push(zu+zc):wd===Pp&&S.push(zu+Tg(ju,tl,Zr)+zc)}S=wd===xd?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Yc=`BT
/`;return Yc+=vt+" "+it+` Tf
`,Yc+=I(it*$o)+` TL
`,Yc+=yd+`
`,Yc+=Wi,Yc+=S,ae(Yc+="ET"),d[vt]=!0,Ei};var Nb=h.__private__.clip=h.clip=function(S){return ae(S==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Nb("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ae("n"),this};var jl=h.__private__.isValidStyle=function(S){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(G=!0),G};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(S){return jl(S)&&(c=S),this};var O_=h.__private__.getStyle=h.getStyle=function(S){var G=c;switch(S){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=S}return G},B_=h.close=function(){return ae("h"),this};h.stroke=function(){return ae("S"),this},h.fill=function(S){return wp("f",S),this},h.fillEvenOdd=function(S){return wp("f*",S),this},h.fillStroke=function(S){return wp("B",S),this},h.fillStrokeEvenOdd=function(S){return wp("B*",S),this};var wp=function(S,G){Er(G)==="object"?Pb(G,S):ae(S)},lg=function(S){S===null||C===E.ADVANCED&&S===void 0||(S=O_(S),ae(S))};function Mb(S,G,he,we,ke){var $e=new jh(G||this.boundingBox,he||this.xStep,we||this.yStep,this.gState,ke||this.matrix);$e.stream=this.stream;var nt=S+"$$"+this.cloneIndex+++"$$";return xs(nt,$e),$e}var Pb=function(S,G){var he=ql[S.key],we=On[he];if(we instanceof nd)ae("q"),ae(Fb(G)),we.gState&&h.setGState(we.gState),ae(S.matrix.toString()+" cm"),ae("/"+he+" sh"),ae("Q");else if(we instanceof jh){var ke=new Ht(1,0,0,-1,0,qu());S.matrix&&(ke=ke.multiply(S.matrix||po),he=Mb.call(we,S.key,S.boundingBox,S.xStep,S.yStep,ke).id),ae("q"),ae("/Pattern cs"),ae("/"+he+" scn"),we.gState&&h.setGState(we.gState),ae(G),ae("Q")}},Fb=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},cg=h.moveTo=function(S,G){return ae(I(M(S))+" "+I(U(G))+" m"),this},gd=h.lineTo=function(S,G){return ae(I(M(S))+" "+I(U(G))+" l"),this},Uu=h.curveTo=function(S,G,he,we,ke,$e){return ae([I(M(S)),I(U(G)),I(M(he)),I(U(we)),I(M(ke)),I(U($e)),"c"].join(" ")),this};h.__private__.line=h.line=function(S,G,he,we,ke){if(isNaN(S)||isNaN(G)||isNaN(he)||isNaN(we)||!jl(ke))throw new Error("Invalid arguments passed to jsPDF.line");return C===E.COMPAT?this.lines([[he-S,we-G]],S,G,[1,1],ke||"S"):this.lines([[he-S,we-G]],S,G,[1,1]).stroke()},h.__private__.lines=h.lines=function(S,G,he,we,ke,$e){var nt,St,Rt,fn,wn,Ln,zr,Zr,Ei,Es,Wi,Ja;if(typeof S=="number"&&(Ja=he,he=G,G=S,S=Ja),we=we||[1,1],$e=$e||!1,isNaN(G)||isNaN(he)||!Array.isArray(S)||!Array.isArray(we)||!jl(ke)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(cg(G,he),nt=we[0],St=we[1],fn=S.length,Es=G,Wi=he,Rt=0;Rt<fn;Rt++)(wn=S[Rt]).length===2?(Es=wn[0]*nt+Es,Wi=wn[1]*St+Wi,gd(Es,Wi)):(Ln=wn[0]*nt+Es,zr=wn[1]*St+Wi,Zr=wn[2]*nt+Es,Ei=wn[3]*St+Wi,Es=wn[4]*nt+Es,Wi=wn[5]*St+Wi,Uu(Ln,zr,Zr,Ei,Es,Wi));return $e&&B_(),lg(ke),this},h.path=function(S){for(var G=0;G<S.length;G++){var he=S[G],we=he.c;switch(he.op){case"m":cg(we[0],we[1]);break;case"l":gd(we[0],we[1]);break;case"c":Uu.apply(this,we);break;case"h":B_()}}return this},h.__private__.rect=h.rect=function(S,G,he,we,ke){if(isNaN(S)||isNaN(G)||isNaN(he)||isNaN(we)||!jl(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return C===E.COMPAT&&(we=-we),ae([I(M(S)),I(U(G)),I(M(he)),I(M(we)),"re"].join(" ")),lg(ke),this},h.__private__.triangle=h.triangle=function(S,G,he,we,ke,$e,nt){if(isNaN(S)||isNaN(G)||isNaN(he)||isNaN(we)||isNaN(ke)||isNaN($e)||!jl(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-S,we-G],[ke-he,$e-we],[S-ke,G-$e]],S,G,[1,1],nt,!0),this},h.__private__.roundedRect=h.roundedRect=function(S,G,he,we,ke,$e,nt){if(isNaN(S)||isNaN(G)||isNaN(he)||isNaN(we)||isNaN(ke)||isNaN($e)||!jl(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var St=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*he),$e=Math.min($e,.5*we),this.lines([[he-2*ke,0],[ke*St,0,ke,$e-$e*St,ke,$e],[0,we-2*$e],[0,$e*St,-ke*St,$e,-ke,$e],[2*ke-he,0],[-ke*St,0,-ke,-$e*St,-ke,-$e],[0,2*$e-we],[0,-$e*St,ke*St,-$e,ke,-$e]],S+ke,G,[1,1],nt,!0),this},h.__private__.ellipse=h.ellipse=function(S,G,he,we,ke){if(isNaN(S)||isNaN(G)||isNaN(he)||isNaN(we)||!jl(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*he,nt=4/3*(Math.SQRT2-1)*we;return cg(S+he,G),Uu(S+he,G-nt,S+$e,G-we,S,G-we),Uu(S-$e,G-we,S-he,G-nt,S-he,G),Uu(S-he,G+nt,S-$e,G+we,S,G+we),Uu(S+$e,G+we,S+he,G+nt,S+he,G),lg(ke),this},h.__private__.circle=h.circle=function(S,G,he,we){if(isNaN(S)||isNaN(G)||isNaN(he)||!jl(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,G,he,he,we)},h.setFont=function(S,G,he){return he&&(G=L(G,he)),vt=F_(S,G,{disableWarning:!1}),this};var Rb=h.__private__.getFont=h.getFont=function(){return ir[F_.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var S,G,he={};for(S in Pr)if(Pr.hasOwnProperty(S))for(G in he[S]=[],Pr[S])Pr[S].hasOwnProperty(G)&&he[S].push(G);return he},h.addFont=function(S,G,he,we,ke){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(he=L(he,we)),ke=ke||"Identity-H",sg.call(this,S,G,he,ke)};var vd,ug=t.lineWidth||.200025,Ep=h.__private__.getLineWidth=h.getLineWidth=function(){return ug},V_=h.__private__.setLineWidth=h.setLineWidth=function(S){return ug=S,ae(I(M(S))+" w"),this};h.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(S,G){if(S=S||[],G=G||0,isNaN(G)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(he){return I(M(he))}).join(" "),G=I(M(G)),ae("["+S+"] "+G+" d"),this};var U_=h.__private__.getLineHeight=h.getLineHeight=function(){return it*vd};h.__private__.getLineHeight=h.getLineHeight=function(){return it*vd};var H_=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(vd=S),this},$_=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return vd};H_(t.lineHeight);var Gc=h.__private__.getHorizontalCoordinate=function(S){return M(S)},Hu=h.__private__.getVerticalCoordinate=function(S){return C===E.ADVANCED?S:tn[B].mediaBox.topRightY-tn[B].mediaBox.bottomLeftY-M(S)},Lb=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(S){return I(Gc(S))},$u=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(S){return I(Hu(S))},Ka=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return le(Ka)},h.__private__.setStrokeColor=h.setDrawColor=function(S,G,he,we){return Ka=ue({ch1:S,ch2:G,ch3:he,ch4:we,pdfColorType:"draw",precision:2}),ae(Ka),this};var fg=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return le(fg)},h.__private__.setFillColor=h.setFillColor=function(S,G,he,we){return fg=ue({ch1:S,ch2:G,ch3:he,ch4:we,pdfColorType:"fill",precision:2}),ae(fg),this};var yd=t.textColor||"0 g",Ob=h.__private__.getTextColor=h.getTextColor=function(){return le(yd)};h.__private__.setTextColor=h.setTextColor=function(S,G,he,we){return yd=ue({ch1:S,ch2:G,ch3:he,ch4:we,pdfColorType:"text",precision:3}),this};var Sp=t.charSpace,Bb=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Sp||0)};h.__private__.setCharSpace=h.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Sp=S,this};var dg=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(S){var G=h.CapJoinStyles[S];if(G===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dg=G,ae(G+" J"),this};var hg=0;h.__private__.setLineJoin=h.setLineJoin=function(S){var G=h.CapJoinStyles[S];if(G===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hg=G,ae(G+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(I(M(S))+" M"),this},h.GState=Yy,h.setGState=function(S){(S=typeof S=="string"?Vr[Vo[S]]:q_(null,S)).equals(za)||(ae("/"+S.id+" gs"),za=S)};var q_=function(S,G){if(!S||!Vo[S]){var he=!1;for(var we in Vr)if(Vr.hasOwnProperty(we)&&Vr[we].equals(G)){he=!0;break}if(he)G=Vr[we];else{var ke="GS"+(Object.keys(Vr).length+1).toString(10);Vr[ke]=G,G.id=ke}return S&&(Vo[S]=G.id),Wn.publish("addGState",G),G}};h.addGState=function(S,G){return q_(S,G),this},h.saveGraphicsState=function(){return ae("q"),pa.push({key:vt,size:it,color:yd}),this},h.restoreGraphicsState=function(){ae("Q");var S=pa.pop();return vt=S.key,it=S.size,yd=S.color,za=null,this},h.setCurrentTransformationMatrix=function(S){return ae(S.toString()+" cm"),this},h.comment=function(S){return ae("#"+S),this};var Cp=function(S,G){var he=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function($e){isNaN($e)||(he=parseFloat($e))}});var we=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function($e){isNaN($e)||(we=parseFloat($e))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function($e){ke=$e.toString()}}),this},pg=function(S,G,he,we){Cp.call(this,S,G),this.type="rect";var ke=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(nt){isNaN(nt)||(ke=parseFloat(nt))}});var $e=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(nt){isNaN(nt)||($e=parseFloat(nt))}}),this},mg=function(){this.page=Tr,this.currentPage=B,this.pages=He.slice(0),this.pagesContext=tn.slice(0),this.x=dr,this.y=Ut,this.matrix=Mi,this.width=_d(B),this.height=qu(B),this.outputDestination=tt,this.id="",this.objectNumber=-1};mg.prototype.restore=function(){Tr=this.page,B=this.currentPage,tn=this.pagesContext,He=this.pages,dr=this.x,Ut=this.y,Mi=this.matrix,gg(B,this.width),vg(B,this.height),tt=this.outputDestination};var G_=function(S,G,he,we,ke){ga.push(new mg),Tr=B=0,He=[],dr=S,Ut=G,Mi=ke,og([he,we])},Vb=function(S){if(ma[S])ga.pop().restore();else{var G=new mg,he="Xo"+(Object.keys(Pi).length+1).toString(10);G.id=he,ma[S]=he,Pi[he]=G,Wn.publish("addFormObject",G),ga.pop().restore()}};for(var bp in h.beginFormObject=function(S,G,he,we,ke){return G_(S,G,he,we,ke),this},h.endFormObject=function(S){return Vb(S),this},h.doFormObject=function(S,G){var he=Pi[ma[S]];return ae("q"),ae(G.toString()+" cm"),ae("/"+he.id+" Do"),ae("Q"),this},h.getFormObject=function(S){var G=Pi[ma[S]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},h.save=function(S,G){return S=S||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(Wh(_p(qc()),S),typeof Wh.unload=="function"&&Kt.setTimeout&&setTimeout(Wh.unload,911),this):new Promise(function(he,we){try{var ke=Wh(_p(qc()),S);typeof Wh.unload=="function"&&Kt.setTimeout&&setTimeout(Wh.unload,911),he(ke)}catch($e){we($e.message)}})},Vt.API)Vt.API.hasOwnProperty(bp)&&(bp==="events"&&Vt.API.events.length?(function(S,G){var he,we,ke;for(ke=G.length-1;ke!==-1;ke--)he=G[ke][0],we=G[ke][1],S.subscribe.apply(S,[he].concat(typeof we=="function"?[we]:we))})(Wn,Vt.API.events):h[bp]=Vt.API[bp]);var _d=h.getPageWidth=function(S){return(tn[S=S||B].mediaBox.topRightX-tn[S].mediaBox.bottomLeftX)/rt},gg=h.setPageWidth=function(S,G){tn[S].mediaBox.topRightX=G*rt+tn[S].mediaBox.bottomLeftX},qu=h.getPageHeight=function(S){return(tn[S=S||B].mediaBox.topRightY-tn[S].mediaBox.bottomLeftY)/rt},vg=h.setPageHeight=function(S,G){tn[S].mediaBox.topRightY=G*rt+tn[S].mediaBox.bottomLeftY};return h.internal={pdfEscape:mo,getStyle:O_,getFont:Rb,getFontSize:pt,getCharSpace:Bb,getTextColor:Ob,getLineHeight:U_,getLineHeightFactor:$_,getLineWidth:Ep,write:We,getHorizontalCoordinate:Gc,getVerticalCoordinate:Hu,getCoordinateString:Lb,getVerticalCoordinateString:$u,collections:{},newObject:ci,newAdditionalObject:ce,newObjectDeferred:Qr,newObjectDeferredBegin:j,getFilters:Me,putStream:Ve,events:Wn,scaleFactor:rt,pageSize:{getWidth:function(){return _d(B)},setWidth:function(S){gg(B,S)},getHeight:function(){return qu(B)},setHeight:function(S){vg(B,S)}},encryptionOptions:u,encryption:ws,getEncryptor:Db,output:xp,getNumberOfPages:Cb,pages:He,out:ae,f2:V,f3:P,getPageInfo:L_,getPageInfoByObjId:nn,getCurrentPageInfo:kb,getPDFVersion:v,Point:Cp,Rectangle:pg,Matrix:Ht,hasHotfix:R_},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return _d(B)},set:function(S){gg(B,S)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return qu(B)},set:function(S){vg(B,S)},enumerable:!0,configurable:!0}),Eb.call(h,Je),vt="F1",M_(i,n),Wn.publish("initialized"),h}function G$(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}function uF(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return W$[s=s||"normal"]?s:"normal"})(t.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof cF[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function T$(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}function I$(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function j_e(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},W_e,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=uF(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+I$(s)+"' and default family '"+r+"'.");if(o=(function(l,c){if(c[l])return c[l];var u=cF[l],f=u<=cF.normal?-1:1,d=T$(c,j$,u,f);if(!d)throw new Error("Could not find a matching font-stretch value for "+l);return d})(s.stretch,o),o=(function(l,c){if(c[l])return c[l];for(var u=W$[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)})(s.style,o),!(o=(function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=G_e[l],f=T$(c,z$,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f})(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+I$(s)+"'.");return o}function D$(t){return t.trimLeft()}function z_e(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Y_e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}function K_e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],f=0,d=null,h=0,g=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];f=t[e++]|t[e++]<<8,d=t[e++],(1&v)==0&&(d=null),h=v>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,D=t[e++],A=D>>6&1,L=1<<(7&D)+1,I=a,N=l,O=!1;D>>7&&(O=!0,I=e,N=L,e+=3*L);var V=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}u.push({x,y:_,width:E,height:C,has_local_palette:O,palette_offset:I,palette_size:N,data_offset:V,data_length:e-V,transparent_index:d,interlaced:!!A,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,X){var U=this.frameInfo(M),z=U.width*U.height,re=new Uint8Array(z);R$(t,U.data_offset,re,z);var Z=U.palette_offset,de=U.transparent_index;de===null&&(de=256);var fe=U.width,me=n-fe,ge=fe,T=4*(U.y*n+U.x),B=4*((U.y+U.height)*n+U.x),F=T,H=4*me;U.interlaced===!0&&(H+=4*n*7);for(var Q=8,ye=0,ve=re.length;ye<ve;++ye){var xe=re[ye];if(ge===0&&(ge=fe,(F+=H)>=B&&(H=4*me+4*n*(Q-1),F=T+(fe+me)*(Q<<1),Q>>=1)),xe===de)F+=4;else{var be=t[Z+3*xe],He=t[Z+3*xe+1],ee=t[Z+3*xe+2];X[F++]=ee,X[F++]=He,X[F++]=be,X[F++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(M,X){var U=this.frameInfo(M),z=U.width*U.height,re=new Uint8Array(z);R$(t,U.data_offset,re,z);var Z=U.palette_offset,de=U.transparent_index;de===null&&(de=256);var fe=U.width,me=n-fe,ge=fe,T=4*(U.y*n+U.x),B=4*((U.y+U.height)*n+U.x),F=T,H=4*me;U.interlaced===!0&&(H+=4*n*7);for(var Q=8,ye=0,ve=re.length;ye<ve;++ye){var xe=re[ye];if(ge===0&&(ge=fe,(F+=H)>=B&&(H=4*me+4*n*(Q-1),F=T+(fe+me)*(Q<<1),Q>>=1)),xe===de)F+=4;else{var be=t[Z+3*xe],He=t[Z+3*xe+1],ee=t[Z+3*xe+2];X[F++]=be,X[F++]=He,X[F++]=ee,X[F++]=255}--ge}}}function R$(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,f=0,d=0,h=t[e++],g=new Int32Array(4096),v=null;;){for(;u<16&&h!==0;)f|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var x=f&c;if(f>>=l,u-=l,x!==s){if(x===o)break;for(var _=x<a?x:v,E=0,C=_;C>s;)C=g[C]>>8,++E;var D=C;if(d+E+(_!==x?1:0)>r)return void Mr.log("Warning, gif stream longer than expected.");n[d++]=D;var A=d+=E;for(_!==x&&(n[d++]=D),C=_;E--;)C=g[C],n[--A]=255&C,C>>=8;v!==null&&a<4096&&(g[a++]=v<<8|D,a>=c+1&&l<12&&(++l,c=c<<1|1)),v=x}else a=o+1,c=(1<<(l=i+1))-1,v=null}return d!==r&&Mr.log("Warning, gif stream shorter than expected."),n}function iF(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),d=new Array(65535),h=new Array(64),g=new Array(64),v=[],x=0,_=7,E=new Array(64),C=new Array(64),D=new Array(64),A=new Array(256),L=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(T,B){for(var F=0,H=0,Q=new Array,ye=1;ye<=16;ye++){for(var ve=1;ve<=T[ye];ve++)Q[B[H]]=[],Q[B[H]][0]=F,Q[B[H]][1]=ye,H++,F++;F*=2}return Q}function Z(T){for(var B=T[0],F=T[1]-1;F>=0;)B&1<<F&&(x|=1<<_),F--,--_<0&&(x==255?(de(255),de(0)):de(x),_=7,x=0)}function de(T){v.push(T)}function fe(T){de(T>>8&255),de(255&T)}function me(T,B,F,H,Q){for(var ye,ve=Q[0],xe=Q[240],be=(function(Je,it){var dt,pt,At,Dt,qt,en,Cn,ln,kt,vt,rt=0;for(kt=0;kt<8;++kt){dt=Je[rt],pt=Je[rt+1],At=Je[rt+2],Dt=Je[rt+3],qt=Je[rt+4],en=Je[rt+5],Cn=Je[rt+6];var dr=dt+(ln=Je[rt+7]),Ut=dt-ln,Mi=pt+Cn,ir=pt-Cn,Pr=At+en,pa=At-en,On=Dt+qt,ql=Dt-qt,Vr=dr+On,Vo=dr-On,za=Mi+Pr,Tr=Mi-Pr;Je[rt]=Vr+za,Je[rt+4]=Vr-za;var tn=.707106781*(Tr+Vo);Je[rt+2]=Vo+tn,Je[rt+6]=Vo-tn;var Wn=.382683433*((Vr=ql+pa)-(Tr=ir+Ut)),Hc=.5411961*Vr+Wn,Pi=1.306562965*Tr+Wn,ma=.707106781*(za=pa+ir),ga=Ut+ma,Ht=Ut-ma;Je[rt+5]=Ht+Hc,Je[rt+3]=Ht-Hc,Je[rt+1]=ga+Pi,Je[rt+7]=ga-Pi,rt+=8}for(rt=0,kt=0;kt<8;++kt){dt=Je[rt],pt=Je[rt+8],At=Je[rt+16],Dt=Je[rt+24],qt=Je[rt+32],en=Je[rt+40],Cn=Je[rt+48];var Uo=dt+(ln=Je[rt+56]),po=dt-ln,xs=pt+Cn,ci=pt-Cn,Qr=At+en,j=At-en,ce=Dt+qt,te=Dt-qt,ne=Uo+ce,le=Uo-ce,ue=xs+Qr,Me=xs-Qr;Je[rt]=ne+ue,Je[rt+32]=ne-ue;var Ve=.707106781*(Me+le);Je[rt+16]=le+Ve,Je[rt+48]=le-Ve;var Pe=.382683433*((ne=te+j)-(Me=ci+po)),Le=.5411961*ne+Pe,Be=1.306562965*Me+Pe,et=.707106781*(ue=j+ci),st=po+et,Et=po-et;Je[rt+40]=Et+Le,Je[rt+24]=Et-Le,Je[rt+8]=st+Be,Je[rt+56]=st-Be,rt++}for(kt=0;kt<64;++kt)vt=Je[kt]*it[kt],h[kt]=vt>0?vt+.5|0:vt-.5|0;return h})(T,B),He=0;He<64;++He)g[I[He]]=be[He];var ee=g[0]-F;F=g[0],ee==0?Z(H[0]):(Z(H[d[ye=32767+ee]]),Z(f[ye]));for(var tt=63;tt>0&&g[tt]==0;)tt--;if(tt==0)return Z(ve),F;for(var at,Oe=1;Oe<=tt;){for(var ae=Oe;g[Oe]==0&&Oe<=tt;)++Oe;var We=Oe-ae;if(We>=16){at=We>>4;for(var ft=1;ft<=at;++ft)Z(xe);We&=15}ye=32767+g[Oe],Z(Q[(We<<4)+d[ye]]),Z(f[ye]),Oe++}return tt!=63&&Z(ve),F}function ge(T){T=Math.min(Math.max(T,1),100),s!=T&&((function(B){for(var F=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var Q=o((F[H]*B+50)/100);Q=Math.min(Math.max(Q,1),255),a[I[H]]=Q}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var xe=o((ye[ve]*B+50)/100);xe=Math.min(Math.max(xe,1),255),l[I[ve]]=xe}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,ee=0;ee<8;ee++)for(var tt=0;tt<8;tt++)c[He]=1/(a[I[He]]*be[ee]*be[tt]*8),u[He]=1/(l[I[He]]*be[ee]*be[tt]*8),He++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),s=T)}this.encode=function(T,B){B&&ge(B),v=new Array,x=0,_=7,fe(65496),fe(65504),fe(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),fe(1),fe(1),de(0),de(0),(function(){fe(65499),fe(132),de(0);for(var pt=0;pt<64;pt++)de(a[pt]);de(1);for(var At=0;At<64;At++)de(l[At])})(),(function(pt,At){fe(65472),fe(17),de(8),fe(At),fe(pt),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)})(T.width,T.height),(function(){fe(65476),fe(418),de(0);for(var pt=0;pt<16;pt++)de(N[pt+1]);for(var At=0;At<=11;At++)de(O[At]);de(16);for(var Dt=0;Dt<16;Dt++)de(V[Dt+1]);for(var qt=0;qt<=161;qt++)de(P[qt]);de(1);for(var en=0;en<16;en++)de(M[en+1]);for(var Cn=0;Cn<=11;Cn++)de(X[Cn]);de(17);for(var ln=0;ln<16;ln++)de(U[ln+1]);for(var kt=0;kt<=161;kt++)de(z[kt])})(),fe(65498),fe(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0);var F=0,H=0,Q=0;x=0,_=7,this.encode.displayName="_encode_";for(var ye,ve,xe,be,He,ee,tt,at,Oe,ae=T.data,We=T.width,ft=T.height,Je=4*We,it=0;it<ft;){for(ye=0;ye<Je;){for(He=Je*it+ye,tt=-1,at=0,Oe=0;Oe<64;Oe++)ee=He+(at=Oe>>3)*Je+(tt=4*(7&Oe)),it+at>=ft&&(ee-=Je*(it+1+at-ft)),ye+tt>=Je&&(ee-=ye+tt-Je+4),ve=ae[ee++],xe=ae[ee++],be=ae[ee++],E[Oe]=(L[ve]+L[xe+256>>0]+L[be+512>>0]>>16)-128,C[Oe]=(L[ve+768>>0]+L[xe+1024>>0]+L[be+1280>>0]>>16)-128,D[Oe]=(L[ve+1280>>0]+L[xe+1536>>0]+L[be+1792>>0]>>16)-128;F=me(E,c,F,e,r),H=me(C,u,H,n,i),Q=me(D,u,Q,n,i),ye+=32}it+=8}if(_>=0){var dt=[];dt[1]=_+1,dt[0]=(1<<_+1)-1,Z(dt)}return fe(65497),new Uint8Array(v)},t=t||50,(function(){for(var T=String.fromCharCode,B=0;B<256;B++)A[B]=T(B)})(),e=re(N,O),n=re(M,X),r=re(V,P),i=re(U,z),(function(){for(var T=1,B=2,F=1;F<=15;F++){for(var H=T;H<B;H++)d[32767+H]=F,f[32767+H]=[],f[32767+H][1]=F,f[32767+H][0]=H;for(var Q=-(B-1);Q<=-T;Q++)d[32767+Q]=F,f[32767+Q]=[],f[32767+Q][1]=F,f[32767+Q][0]=B-1+Q;T<<=1,B<<=1}})(),(function(){for(var T=0;T<256;T++)L[T]=19595*T,L[T+256>>0]=38470*T,L[T+512>>0]=7471*T+32768,L[T+768>>0]=-11059*T,L[T+1024>>0]=-21709*T,L[T+1280>>0]=32768*T+8421375,L[T+1536>>0]=-27439*T,L[T+1792>>0]=-5329*T})(),ge(t)}function Rl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function L$(t){function e(N){if(!N)throw Error("assert :P")}function n(N,O,V){for(var P=0;4>P;P++)if(N[O+P]!=V.charCodeAt(P))return!0;return!1}function r(N,O,V,P,M){for(var X=0;X<M;X++)N[O+X]=V[P+X]}function i(N,O,V,P){for(var M=0;M<P;M++)N[O+M]=V}function s(N){return new Int32Array(N)}function o(N,O){for(var V=[],P=0;P<N;P++)V.push(new O);return V}function a(N,O){var V=[];return(function P(M,X,U){for(var z=U[X],re=0;re<z&&(M.push(U.length>X+1?[]:new O),!(U.length<X+1));re++)P(M[re],X+1,U)})(V,0,N),V}var l=function(){var N=this;function O(m,w){for(var b=1<<w-1>>>0;m&b;)b>>>=1;return b?(m&b-1)+b:m}function V(m,w,b,k,q){e(!(k%b));do m[w+(k-=b)]=q;while(0<k)}function P(m,w,b,k,q){if(e(2328>=q),512>=q)var W=s(512);else if((W=s(q))==null)return 0;return(function(Y,K,J,se,Se,Fe){var Re,Ae,Ye=K,Ue=1<<J,Ce=s(16),Te=s(16);for(e(Se!=0),e(se!=null),e(Y!=null),e(0<J),Ae=0;Ae<Se;++Ae){if(15<se[Ae])return 0;++Ce[se[Ae]]}if(Ce[0]==Se)return 0;for(Te[1]=0,Re=1;15>Re;++Re){if(Ce[Re]>1<<Re)return 0;Te[Re+1]=Te[Re]+Ce[Re]}for(Ae=0;Ae<Se;++Ae)Re=se[Ae],0<se[Ae]&&(Fe[Te[Re]++]=Ae);if(Te[15]==1)return(se=new M).g=0,se.value=Fe[0],V(Y,Ye,1,Ue,se),Ue;var je,Qe=-1,ze=Ue-1,Ct=0,gt=1,$t=1,yt=1<<J;for(Ae=0,Re=1,Se=2;Re<=J;++Re,Se<<=1){if(gt+=$t<<=1,0>($t-=Ce[Re]))return 0;for(;0<Ce[Re];--Ce[Re])(se=new M).g=Re,se.value=Fe[Ae++],V(Y,Ye+Ct,Se,yt,se),Ct=O(Ct,Re)}for(Re=J+1,Se=2;15>=Re;++Re,Se<<=1){if(gt+=$t<<=1,0>($t-=Ce[Re]))return 0;for(;0<Ce[Re];--Ce[Re]){if(se=new M,(Ct&ze)!=Qe){for(Ye+=yt,je=1<<(Qe=Re)-J;15>Qe&&!(0>=(je-=Ce[Qe]));)++Qe,je<<=1;Ue+=yt=1<<(je=Qe-J),Y[K+(Qe=Ct&ze)].g=je+J,Y[K+Qe].value=Ye-K-Qe}se.g=Re-J,se.value=Fe[Ae++],V(Y,Ye+(Ct>>J),Se,yt,se),Ct=O(Ct,Re)}}return gt!=2*Te[15]-1?0:Ue})(m,w,b,k,q,W)}function M(){this.value=this.g=0}function X(){this.value=this.g=0}function U(){this.G=o(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(go,X)}function z(m,w,b,k){e(m!=null),e(w!=null),e(2147483648>k),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=w,m.pa=b,m.Jd=w,m.Yc=b+k,m.Zc=4<=k?b+k-4+1:b,ye(m)}function re(m,w){for(var b=0;0<w--;)b|=xe(m,128)<<w;return b}function Z(m,w){var b=re(m,w);return ve(m)?-b:b}function de(m,w,b,k){var q,W=0;for(e(m!=null),e(w!=null),e(4294967288>k),m.Sb=k,m.Ra=0,m.u=0,m.h=0,4<k&&(k=4),q=0;q<k;++q)W+=w[b+q]<<8*q;m.Ra=W,m.bb=k,m.oa=w,m.pa=b}function fe(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<kp-8>>>0,++m.bb,m.u-=8;F(m)&&(m.h=1,m.u=0)}function me(m,w){if(e(0<=w),!m.h&&w<=Dp){var b=B(m)&Ip[w];return m.u+=w,fe(m),b}return m.h=1,m.u=0}function ge(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(m){return m.Ra>>>(m.u&kp-1)>>>0}function F(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>kp}function H(m,w){m.u=w,m.h=F(m)}function Q(m){m.u>=Eg&&(e(m.u>=Eg),fe(m))}function ye(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ve(m){return re(m,1)}function xe(m,w){var b=m.Ca;0>m.b&&ye(m);var k=m.b,q=b*w>>>8,W=(m.I>>>k>q)+0;for(W?(b-=q,m.I-=q+1<<k>>>0):b=q+1,k=b,q=0;256<=k;)q+=8,k>>=8;return k=7^q+vo[k],m.b-=k,m.Ca=(b<<k)-1,W}function be(m,w,b){m[w+0]=b>>24&255,m[w+1]=b>>16&255,m[w+2]=b>>8&255,m[w+3]=b>>0&255}function He(m,w){return m[w+0]<<0|m[w+1]<<8}function ee(m,w){return He(m,w)|m[w+2]<<16}function tt(m,w){return He(m,w)|He(m,w+2)<<16}function at(m,w){var b=1<<w;return e(m!=null),e(0<w),m.X=s(b),m.X==null?0:(m.Mb=32-w,m.Xa=w,1)}function Oe(m,w){e(m!=null),e(w!=null),e(m.Xa==w.Xa),r(w.X,0,m.X,0,1<<w.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function We(m,w,b,k){e(b!=null),e(k!=null);var q=b[0],W=k[0];return q==0&&(q=(m*W+w/2)/w),W==0&&(W=(w*q+m/2)/m),0>=q||0>=W?0:(b[0]=q,k[0]=W,1)}function ft(m,w){return m+(1<<w)-1>>>w}function Je(m,w){return((4278255360&m)+(4278255360&w)>>>0&4278255360)+((16711935&m)+(16711935&w)>>>0&16711935)>>>0}function it(m,w){N[w]=function(b,k,q,W,Y,K,J){var se;for(se=0;se<Y;++se){var Se=N[m](K[J+se-1],q,W+se);K[J+se]=Je(b[k+se],Se)}}}function dt(){this.ud=this.hd=this.jd=0}function pt(m,w){return((4278124286&(m^w))>>>1)+(m&w)>>>0}function At(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Dt(m,w){return At(m+(m-w+.5>>1))}function qt(m,w,b){return Math.abs(w-b)-Math.abs(m-b)}function en(m,w,b,k,q,W,Y){for(k=W[Y-1],b=0;b<q;++b)W[Y+b]=k=Je(m[w+b],k)}function Cn(m,w,b,k,q){var W;for(W=0;W<b;++W){var Y=m[w+W],K=Y>>8&255,J=16711935&(J=(J=16711935&Y)+((K<<16)+K));k[q+W]=(4278255360&Y)+J>>>0}}function ln(m,w){w.jd=m>>0&255,w.hd=m>>8&255,w.ud=m>>16&255}function kt(m,w,b,k,q,W){var Y;for(Y=0;Y<k;++Y){var K=w[b+Y],J=K>>>8,se=K,Se=255&(Se=(Se=K>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));se=255&(se=(se=se+((m.hd<<24>>24)*(J<<24>>24)>>>5))+((m.ud<<24>>24)*(Se<<24>>24)>>>5)),q[W+Y]=(4278255360&K)+(Se<<16)+se}}function vt(m,w,b,k,q){N[w]=function(W,Y,K,J,se,Se,Fe,Re,Ae){for(J=Fe;J<Re;++J)for(Fe=0;Fe<Ae;++Fe)se[Se++]=q(K[k(W[Y++])])},N[m]=function(W,Y,K,J,se,Se,Fe){var Re=8>>W.b,Ae=W.Ea,Ye=W.K[0],Ue=W.w;if(8>Re)for(W=(1<<W.b)-1,Ue=(1<<Re)-1;Y<K;++Y){var Ce,Te=0;for(Ce=0;Ce<Ae;++Ce)Ce&W||(Te=k(J[se++])),Se[Fe++]=q(Ye[Te&Ue]),Te>>=Re}else N["VP8LMapColor"+b](J,se,Ye,Ue,Se,Fe,Y,K,Ae)}}function rt(m,w,b,k,q){for(b=w+b;w<b;){var W=m[w++];k[q++]=W>>16&255,k[q++]=W>>8&255,k[q++]=W>>0&255}}function dr(m,w,b,k,q){for(b=w+b;w<b;){var W=m[w++];k[q++]=W>>16&255,k[q++]=W>>8&255,k[q++]=W>>0&255,k[q++]=W>>24&255}}function Ut(m,w,b,k,q){for(b=w+b;w<b;){var W=(Y=m[w++])>>16&240|Y>>12&15,Y=Y>>0&240|Y>>28&15;k[q++]=W,k[q++]=Y}}function Mi(m,w,b,k,q){for(b=w+b;w<b;){var W=(Y=m[w++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;k[q++]=W,k[q++]=Y}}function ir(m,w,b,k,q){for(b=w+b;w<b;){var W=m[w++];k[q++]=W>>0&255,k[q++]=W>>8&255,k[q++]=W>>16&255}}function Pr(m,w,b,k,q,W){if(W==0)for(b=w+b;w<b;)be(k,((W=m[w++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),q+=32;else r(k,q,m,w,b)}function pa(m,w){N[w][0]=N[m+"0"],N[w][1]=N[m+"1"],N[w][2]=N[m+"2"],N[w][3]=N[m+"3"],N[w][4]=N[m+"4"],N[w][5]=N[m+"5"],N[w][6]=N[m+"6"],N[w][7]=N[m+"7"],N[w][8]=N[m+"8"],N[w][9]=N[m+"9"],N[w][10]=N[m+"10"],N[w][11]=N[m+"11"],N[w][12]=N[m+"12"],N[w][13]=N[m+"13"],N[w][14]=N[m+"0"],N[w][15]=N[m+"0"]}function On(m){return m==Wb||m==jb||m==Z_||m==zb}function ql(){this.eb=[],this.size=this.A=this.fb=0}function Vr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Vo(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ql,this.f.kb=new Vr,this.sd=null}function za(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tn(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Wn(m,w){var b=m.T,k=w.ba.f.RGBA,q=k.eb,W=k.fb+m.ka*k.A,Y=xa[w.ba.S],K=m.y,J=m.O,se=m.f,Se=m.N,Fe=m.ea,Re=m.W,Ae=w.cc,Ye=w.dc,Ue=w.Mc,Ce=w.Nc,Te=m.ka,je=m.ka+m.T,Qe=m.U,ze=Qe+1>>1;for(Te==0?Y(K,J,null,null,se,Se,Fe,Re,se,Se,Fe,Re,q,W,null,null,Qe):(Y(w.ec,w.fc,K,J,Ae,Ye,Ue,Ce,se,Se,Fe,Re,q,W-k.A,q,W,Qe),++b);Te+2<je;Te+=2)Ae=se,Ye=Se,Ue=Fe,Ce=Re,Se+=m.Rc,Re+=m.Rc,W+=2*k.A,Y(K,(J+=2*m.fa)-m.fa,K,J,Ae,Ye,Ue,Ce,se,Se,Fe,Re,q,W-k.A,q,W,Qe);return J+=m.fa,m.j+je<m.o?(r(w.ec,w.fc,K,J,Qe),r(w.cc,w.dc,se,Se,ze),r(w.Mc,w.Nc,Fe,Re,ze),b--):1&je||Y(K,J,null,null,se,Se,Fe,Re,se,Se,Fe,Re,q,W+k.A,null,null,Qe),b}function Hc(m,w,b){var k=m.F,q=[m.J];if(k!=null){var W=m.U,Y=w.ba.S,K=Y==Q_||Y==Z_;w=w.ba.f.RGBA;var J=[0],se=m.ka;J[0]=m.T,m.Kb&&(se==0?--J[0]:(--se,q[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-se));var Se=w.eb;se=w.fb+se*w.A,m=z_(k,q[0],m.width,W,J,Se,se+(K?0:3),w.A),e(b==J),m&&On(Y)&&Yu(Se,se,K,W,J,w.A)}return 0}function Pi(m){var w=m.ma,b=w.ba.S,k=11>b,q=b==K_||b==J_||b==Q_||b==Gb||b==12||On(b);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!xg(w.Oa,m,q?11:12))return 0;if(q&&On(b)&&nt(),m.da)alert("todo:use_scaling");else{if(k){if(w.Ib=tn,m.Kb){if(b=m.U+1>>1,w.memory=s(m.U+2*b),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+m.U,w.Mc=w.cc,w.Nc=w.dc+b,w.Ib=Wn,nt()}}else alert("todo:EmitYUV");q&&(w.Jb=Hc,k&&ke())}if(k&&!z3){for(m=0;256>m;++m)Dj[m]=89858*(m-128)+tx>>ex,Mj[m]=-22014*(m-128)+tx,Nj[m]=-45773*(m-128),kj[m]=113618*(m-128)+tx>>ex;for(m=Ig;m<Kb;++m)w=76283*(m-16)+tx>>ex,Pj[m-Ig]=$o(w,255),Fj[m-Ig]=$o(w+8>>4,15);z3=1}return 1}function ma(m){var w=m.ma,b=m.U,k=m.T;return e(!(1&m.ka)),0>=b||0>=k?0:(b=w.Ib(m,w),w.Jb!=null&&w.Jb(m,w,b),w.Dc+=b,1)}function ga(m){m.ma.memory=null}function Ht(m,w,b,k){return me(m,8)!=47?0:(w[0]=me(m,14)+1,b[0]=me(m,14)+1,k[0]=me(m,1),me(m,3)!=0?0:!m.h)}function Uo(m,w){if(4>m)return m+1;var b=m-2>>1;return(2+(1&m)<<b)+me(w,b)+1}function po(m,w){return 120<w?w-120:1<=(b=((b=mj[w-1])>>4)*m+(8-(15&b)))?b:1;var b}function xs(m,w,b){var k=B(b),q=m[w+=255&k].g-8;return 0<q&&(H(b,b.u+8),k=B(b),w+=m[w].value,w+=k&(1<<q)-1),H(b,b.u+m[w].g),m[w].value}function ci(m,w,b){return b.g+=m.g,b.value+=m.value<<w>>>0,e(8>=b.g),m.g}function Qr(m,w,b){var k=m.xc;return e((w=k==0?0:m.vc[m.md*(b>>k)+(w>>k)])<m.Wb),m.Ya[w]}function j(m,w,b,k){var q=m.ab,W=m.c*w,Y=m.C;w=Y+w;var K=b,J=k;for(k=m.Ta,b=m.Ua;0<q--;){var se=m.gc[q],Se=Y,Fe=w,Re=K,Ae=J,Ye=(J=k,K=b,se.Ea);switch(e(Se<Fe),e(Fe<=se.nc),se.hc){case 2:j_(Re,Ae,(Fe-Se)*Ye,J,K);break;case 0:var Ue=Se,Ce=Fe,Te=J,je=K,Qe=(yt=se).Ea;Ue==0&&(Ub(Re,Ae,null,null,1,Te,je),en(Re,Ae+1,0,0,Qe-1,Te,je+1),Ae+=Qe,je+=Qe,++Ue);for(var ze=1<<yt.b,Ct=ze-1,gt=ft(Qe,yt.b),$t=yt.K,yt=yt.w+(Ue>>yt.b)*gt;Ue<Ce;){var Qn=$t,hr=yt,Bn=1;for(Sg(Re,Ae,Te,je-Qe,1,Te,je);Bn<Qe;){var Fn=(Bn&~Ct)+ze;Fn>Qe&&(Fn=Qe),(0,Gu[Qn[hr++]>>8&15])(Re,Ae+ +Bn,Te,je+Bn-Qe,Fn-Bn,Te,je+Bn),Bn=Fn}Ae+=Qe,je+=Qe,++Ue&Ct||(yt+=gt)}Fe!=se.nc&&r(J,K-Ye,J,K+(Fe-Se-1)*Ye,Ye);break;case 1:for(Ye=Re,Ce=Ae,Qe=(Re=se.Ea)-(je=Re&~(Te=(Ae=1<<se.b)-1)),Ue=ft(Re,se.b),ze=se.K,se=se.w+(Se>>se.b)*Ue;Se<Fe;){for(Ct=ze,gt=se,$t=new dt,yt=Ce+je,Qn=Ce+Re;Ce<yt;)ln(Ct[gt++],$t),va($t,Ye,Ce,Ae,J,K),Ce+=Ae,K+=Ae;Ce<Qn&&(ln(Ct[gt++],$t),va($t,Ye,Ce,Qe,J,K),Ce+=Qe,K+=Qe),++Se&Te||(se+=Ue)}break;case 3:if(Re==J&&Ae==K&&0<se.b){for(Ce=J,Re=Ye=K+(Fe-Se)*Ye-(je=(Fe-Se)*ft(se.Ea,se.b)),Ae=J,Te=K,Ue=[],je=(Qe=je)-1;0<=je;--je)Ue[je]=Ae[Te+je];for(je=Qe-1;0<=je;--je)Ce[Re+je]=Ue[je];Qa(se,Se,Fe,J,Ye,J,K)}else Qa(se,Se,Fe,Re,Ae,J,K)}K=k,J=b}J!=b&&r(k,b,K,J,W)}function ce(m,w){var b=m.V,k=m.Ba+m.c*m.C,q=w-m.C;if(e(w<=m.l.o),e(16>=q),0<q){var W=m.l,Y=m.Ta,K=m.Ua,J=W.width;if(j(m,q,b,k),q=K=[K],e((b=m.C)<(k=w)),e(W.v<W.va),k>W.o&&(k=W.o),b<W.j){var se=W.j-b;b=W.j,q[0]+=se*J}if(b>=k?b=0:(q[0]+=4*W.v,W.ka=b-W.j,W.U=W.va-W.v,W.T=k-b,b=1),b){if(K=K[0],11>(b=m.ca).S){var Se=b.f.RGBA,Fe=(k=b.S,q=W.U,W=W.T,se=Se.eb,Se.A),Re=W;for(Se=Se.fb+m.Ma*Se.A;0<Re--;){var Ae=Y,Ye=K,Ue=q,Ce=se,Te=Se;switch(k){case X_:Za(Ae,Ye,Ue,Ce,Te);break;case K_:Wu(Ae,Ye,Ue,Ce,Te);break;case Wb:Wu(Ae,Ye,Ue,Ce,Te),Yu(Ce,Te,0,Ue,1,0);break;case O3:Np(Ae,Ye,Ue,Ce,Te);break;case J_:Pr(Ae,Ye,Ue,Ce,Te,1);break;case jb:Pr(Ae,Ye,Ue,Ce,Te,1),Yu(Ce,Te,0,Ue,1,0);break;case Q_:Pr(Ae,Ye,Ue,Ce,Te,0);break;case Z_:Pr(Ae,Ye,Ue,Ce,Te,0),Yu(Ce,Te,1,Ue,1,0);break;case Gb:zl(Ae,Ye,Ue,Ce,Te);break;case zb:zl(Ae,Ye,Ue,Ce,Te),Fp(Ce,Te,Ue,1,0);break;case B3:jc(Ae,Ye,Ue,Ce,Te);break;default:e(0)}K+=J,Se+=Fe}m.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=b.height)}}m.C=w,e(m.C<=m.i)}function te(m){var w;if(0<m.ua)return 0;for(w=0;w<m.Wb;++w){var b=m.Ya[w].G,k=m.Ya[w].H;if(0<b[1][k[1]+0].g||0<b[2][k[2]+0].g||0<b[3][k[3]+0].g)return 0}return 1}function ne(m,w,b,k,q,W){if(m.Z!=0){var Y=m.qd,K=m.rd;for(e(Ku[m.Z]!=null);w<b;++w)Ku[m.Z](Y,K,k,q,k,q,W),Y=k,K=q,q+=W;m.qd=Y,m.rd=K}}function le(m,w){var b=m.l.ma,k=b.Z==0||b.Z==1?m.l.j:m.C;if(k=m.C<k?k:m.C,e(w<=m.l.o),w>k){var q=m.l.width,W=b.ca,Y=b.tb+q*k,K=m.V,J=m.Ba+m.c*k,se=m.gc;e(m.ab==1),e(se[0].hc==3),Hb(se[0],k,w,K,J,W,Y),ne(b,k,w,W,Y,q)}m.C=m.Ma=w}function ue(m,w,b,k,q,W,Y){var K=m.$/k,J=m.$%k,se=m.m,Se=m.s,Fe=b+m.$,Re=Fe;q=b+k*q;var Ae=b+k*W,Ye=280+Se.ua,Ue=m.Pb?K:16777216,Ce=0<Se.ua?Se.Wa:null,Te=Se.wc,je=Fe<Ae?Qr(Se,J,K):null;e(m.C<W),e(Ae<=q);var Qe=!1;e:for(;;){for(;Qe||Fe<Ae;){var ze=0;if(K>=Ue){var Ct=Fe-b;e((Ue=m).Pb),Ue.wd=Ue.m,Ue.xd=Ct,0<Ue.s.ua&&Oe(Ue.s.Wa,Ue.s.vb),Ue=K+vj}if(J&Te||(je=Qr(Se,J,K)),e(je!=null),je.Qb&&(w[Fe]=je.qb,Qe=!0),!Qe)if(Q(se),je.jc){ze=se,Ct=w;var gt=Fe,$t=je.pd[B(ze)&go-1];e(je.jc),256>$t.g?(H(ze,ze.u+$t.g),Ct[gt]=$t.value,ze=0):(H(ze,ze.u+$t.g-256),e(256<=$t.value),ze=$t.value),ze==0&&(Qe=!0)}else ze=xs(je.G[0],je.H[0],se);if(se.h)break;if(Qe||256>ze){if(!Qe)if(je.nd)w[Fe]=(je.qb|ze<<8)>>>0;else{if(Q(se),Qe=xs(je.G[1],je.H[1],se),Q(se),Ct=xs(je.G[2],je.H[2],se),gt=xs(je.G[3],je.H[3],se),se.h)break;w[Fe]=(gt<<24|Qe<<16|ze<<8|Ct)>>>0}if(Qe=!1,++Fe,++J>=k&&(J=0,++K,Y!=null&&K<=W&&!(K%16)&&Y(m,K),Ce!=null))for(;Re<Fe;)ze=w[Re++],Ce.X[(506832829*ze&4294967295)>>>Ce.Mb]=ze}else if(280>ze){if(ze=Uo(ze-256,se),Ct=xs(je.G[4],je.H[4],se),Q(se),Ct=po(k,Ct=Uo(Ct,se)),se.h)break;if(Fe-b<Ct||q-Fe<ze)break e;for(gt=0;gt<ze;++gt)w[Fe+gt]=w[Fe+gt-Ct];for(Fe+=ze,J+=ze;J>=k;)J-=k,++K,Y!=null&&K<=W&&!(K%16)&&Y(m,K);if(e(Fe<=q),J&Te&&(je=Qr(Se,J,K)),Ce!=null)for(;Re<Fe;)ze=w[Re++],Ce.X[(506832829*ze&4294967295)>>>Ce.Mb]=ze}else{if(!(ze<Ye))break e;for(Qe=ze-280,e(Ce!=null);Re<Fe;)ze=w[Re++],Ce.X[(506832829*ze&4294967295)>>>Ce.Mb]=ze;ze=Fe,e(!(Qe>>>(Ct=Ce).Xa)),w[ze]=Ct.X[Qe],Qe=!0}Qe||e(se.h==F(se))}if(m.Pb&&se.h&&Fe<q)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Oe(m.s.vb,m.s.Wa);else{if(se.h)break e;Y?.(m,K>W?W:K),m.a=0,m.$=Fe-b}return 1}return m.a=3,0}function Me(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var w=m.Wa;w!=null&&(w.X=null),m.vb=null,e(m!=null)}function Ve(){var m=new Vb;return m==null?null:(m.a=0,m.xb=H3,pa("Predictor","VP8LPredictors"),pa("Predictor","VP8LPredictors_C"),pa("PredictorAdd","VP8LPredictorsAdd"),pa("PredictorAdd","VP8LPredictorsAdd_C"),j_=Cn,va=kt,Za=rt,Wu=dr,zl=Ut,jc=Mi,Np=ir,N.VP8LMapColor32b=Cg,N.VP8LMapColor8b=$b,m)}function Pe(m,w,b,k,q){var W=1,Y=[m],K=[w],J=k.m,se=k.s,Se=null,Fe=0;e:for(;;){if(b)for(;W&&me(J,1);){var Re=Y,Ae=K,Ye=k,Ue=1,Ce=Ye.m,Te=Ye.gc[Ye.ab],je=me(Ce,2);if(Ye.Oc&1<<je)W=0;else{switch(Ye.Oc|=1<<je,Te.hc=je,Te.Ea=Re[0],Te.nc=Ae[0],Te.K=[null],++Ye.ab,e(4>=Ye.ab),je){case 0:case 1:Te.b=me(Ce,3)+2,Ue=Pe(ft(Te.Ea,Te.b),ft(Te.nc,Te.b),0,Ye,Te.K),Te.K=Te.K[0];break;case 3:var Qe,ze=me(Ce,8)+1,Ct=16<ze?0:4<ze?1:2<ze?2:3;if(Re[0]=ft(Te.Ea,Ct),Te.b=Ct,Qe=Ue=Pe(ze,1,0,Ye,Te.K)){var gt,$t=ze,yt=Te,Qn=1<<(8>>yt.b),hr=s(Qn);if(hr==null)Qe=0;else{var Bn=yt.K[0],Fn=yt.w;for(hr[0]=yt.K[0][0],gt=1;gt<1*$t;++gt)hr[gt]=Je(Bn[Fn+gt],hr[gt-1]);for(;gt<4*Qn;++gt)hr[gt]=0;yt.K[0]=null,yt.K[0]=hr,Qe=1}}Ue=Qe;break;case 2:break;default:e(0)}W=Ue}}if(Y=Y[0],K=K[0],W&&me(J,1)&&!(W=1<=(Fe=me(J,4))&&11>=Fe)){k.a=3;break e}var Ar;if(Ar=W)t:{var wr,hn,Si,yo=k,Ci=Y,_o=K,pr=Fe,Go=b,Wo=yo.m,ji=yo.s,rs=[null],js=1,wa=0,Yl=gj[pr];n:for(;;){if(Go&&me(Wo,1)){var zi=me(Wo,3)+2,Jc=ft(Ci,zi),Ed=ft(_o,zi),Rp=Jc*Ed;if(!Pe(Jc,Ed,0,yo,rs))break n;for(rs=rs[0],ji.xc=zi,wr=0;wr<Rp;++wr){var Ju=rs[wr]>>8&65535;rs[wr]=Ju,Ju>=js&&(js=Ju+1)}}if(Wo.h)break n;for(hn=0;5>hn;++hn){var ei=V3[hn];!hn&&0<pr&&(ei+=1<<pr),wa<ei&&(wa=ei)}var Jb=o(js*Yl,M),K3=js,J3=o(K3,U);if(J3==null)var rx=null;else e(65536>=K3),rx=J3;var Dg=s(wa);if(rx==null||Dg==null||Jb==null){yo.a=1;break n}var ix=Jb;for(wr=Si=0;wr<js;++wr){var rl=rx[wr],Lp=rl.G,Op=rl.H,Q3=0,sx=1,Z3=0;for(hn=0;5>hn;++hn){ei=V3[hn],Lp[hn]=ix,Op[hn]=Si,!hn&&0<pr&&(ei+=1<<pr);i:{var ox,Qb=ei,ax=yo,kg=Dg,Oj=ix,Bj=Si,Zb=0,Qu=ax.m,Vj=me(Qu,1);if(i(kg,0,0,Qb),Vj){var Uj=me(Qu,1)+1,Hj=me(Qu,1),eR=me(Qu,Hj==0?1:8);kg[eR]=1,Uj==2&&(kg[eR=me(Qu,8)]=1);var lx=1}else{var tR=s(19),nR=me(Qu,4)+4;if(19<nR){ax.a=3;var cx=0;break i}for(ox=0;ox<nR;++ox)tR[pj[ox]]=me(Qu,3);var eT=void 0,Ng=void 0,rR=ax,$j=tR,ux=Qb,iR=kg,tT=0,Zu=rR.m,sR=8,oR=o(128,M);r:for(;P(oR,0,7,$j,19);){if(me(Zu,1)){var qj=2+2*me(Zu,3);if((eT=2+me(Zu,qj))>ux)break r}else eT=ux;for(Ng=0;Ng<ux&&eT--;){Q(Zu);var aR=oR[0+(127&B(Zu))];H(Zu,Zu.u+aR.g);var Bp=aR.value;if(16>Bp)iR[Ng++]=Bp,Bp!=0&&(sR=Bp);else{var Gj=Bp==16,lR=Bp-16,Wj=dj[lR],cR=me(Zu,fj[lR])+Wj;if(Ng+cR>ux)break r;for(var jj=Gj?sR:0;0<cR--;)iR[Ng++]=jj}}tT=1;break r}tT||(rR.a=3),lx=tT}(lx=lx&&!Qu.h)&&(Zb=P(Oj,Bj,8,kg,Qb)),lx&&Zb!=0?cx=Zb:(ax.a=3,cx=0)}if(cx==0)break n;if(sx&&hj[hn]==1&&(sx=ix[Si].g==0),Q3+=ix[Si].g,Si+=cx,3>=hn){var Mg,nT=Dg[0];for(Mg=1;Mg<ei;++Mg)Dg[Mg]>nT&&(nT=Dg[Mg]);Z3+=nT}}if(rl.nd=sx,rl.Qb=0,sx&&(rl.qb=(Lp[3][Op[3]+0].value<<24|Lp[1][Op[1]+0].value<<16|Lp[2][Op[2]+0].value)>>>0,Q3==0&&256>Lp[0][Op[0]+0].value&&(rl.Qb=1,rl.qb+=Lp[0][Op[0]+0].value<<8)),rl.jc=!rl.Qb&&6>Z3,rl.jc){var fx,Qc=rl;for(fx=0;fx<go;++fx){var ef=fx,tf=Qc.pd[ef],dx=Qc.G[0][Qc.H[0]+ef];256<=dx.value?(tf.g=dx.g+256,tf.value=dx.value):(tf.g=0,tf.value=0,ef>>=ci(dx,8,tf),ef>>=ci(Qc.G[1][Qc.H[1]+ef],16,tf),ef>>=ci(Qc.G[2][Qc.H[2]+ef],0,tf),ci(Qc.G[3][Qc.H[3]+ef],24,tf))}}}ji.vc=rs,ji.Wb=js,ji.Ya=rx,ji.yc=Jb,Ar=1;break t}Ar=0}if(!(W=Ar)){k.a=3;break e}if(0<Fe){if(se.ua=1<<Fe,!at(se.Wa,Fe)){k.a=1,W=0;break e}}else se.ua=0;var rT=k,uR=Y,zj=K,iT=rT.s,sT=iT.xc;if(rT.c=uR,rT.i=zj,iT.md=ft(uR,sT),iT.wc=sT==0?-1:(1<<sT)-1,b){k.xb=Cj;break e}if((Se=s(Y*K))==null){k.a=1,W=0;break e}W=(W=ue(k,Se,0,Y,K,K,null))&&!J.h;break e}return W?(q!=null?q[0]=Se:(e(Se==null),e(b)),k.$=0,b||Me(se)):Me(se),W}function Le(m,w){var b=m.c*m.i,k=b+w+16*w;return e(m.c<=w),m.V=s(k),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+b+w,1)}function Be(m,w){var b=m.C,k=w-b,q=m.V,W=m.Ba+m.c*b;for(e(w<=m.l.o);0<k;){var Y=16<k?16:k,K=m.l.ma,J=m.l.width,se=J*Y,Se=K.ca,Fe=K.tb+J*b,Re=m.Ta,Ae=m.Ua;j(m,Y,q,W),N3(Re,Ae,Se,Fe,se),ne(K,b,b+Y,Se,Fe,J),k-=Y,q+=Y*m.c,b+=Y}e(b==w),m.C=m.Ma=w}function et(){this.ub=this.yd=this.td=this.Rb=0}function st(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Et(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ot(){this.Yb=(function(){var m=[];return(function w(b,k,q){for(var W=q[k],Y=0;Y<W&&(b.push(q.length>k+1?[]:0),!(q.length<k+1));Y++)w(b[Y],k+1,q)})(m,0,[3,11]),m})()}function ht(){this.jb=s(3),this.Wc=a([4,8],ot),this.Xc=a([4,17],ot)}function Qt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function jn(){this.ld=this.La=this.dd=this.tc=0}function Fi(){this.Na=this.la=0}function Wr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ri(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $c(){this.uc=this.M=this.Nb=0,this.wa=Array(new jn),this.Y=0,this.ya=Array(new Ri),this.aa=0,this.l=new Wl}function Gl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ya(){this.cb=this.a=0,this.sc="",this.m=new ge,this.Od=new et,this.Kc=new st,this.ed=new Qt,this.Qa=new Et,this.Ic=this.$c=this.Aa=0,this.D=new $c,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ge),this.ia=0,this.pb=o(4,Wr),this.Pa=new ht,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gl),this.Hd=0,this.rb=Array(new Fi),this.sb=0,this.wa=Array(new jn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ri),this.L=this.aa=0,this.gd=a([4,2],jn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ho(){var m=new Ya;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Ag||(Ag=N_)),m}function ui(m,w,b){return m.a==0&&(m.a=w,m.sc=b,m.cb=0),0}function D_(m,w,b){return 3<=b&&m[w+0]==157&&m[w+1]==1&&m[w+2]==42}function k_(m,w){if(m==null)return 0;if(m.a=0,m.sc="OK",w==null)return ui(m,2,"null VP8Io passed to VP8GetHeaders()");var b=w.data,k=w.w,q=w.ha;if(4>q)return ui(m,7,"Truncated header.");var W=b[k+0]|b[k+1]<<8|b[k+2]<<16,Y=m.Od;if(Y.Rb=!(1&W),Y.td=W>>1&7,Y.yd=W>>4&1,Y.ub=W>>5,3<Y.td)return ui(m,3,"Incorrect keyframe parameters.");if(!Y.yd)return ui(m,4,"Frame not displayable.");k+=3,q-=3;var K=m.Kc;if(Y.Rb){if(7>q)return ui(m,7,"cannot parse picture header");if(!D_(b,k,q))return ui(m,3,"Bad code word");K.c=16383&(b[k+4]<<8|b[k+3]),K.Td=b[k+4]>>6,K.i=16383&(b[k+6]<<8|b[k+5]),K.Ud=b[k+6]>>6,k+=7,q-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,w.width=K.c,w.height=K.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((W=m.Pa).jb,0,255,W.jb.length),e((W=m.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(Y.ub>q)return ui(m,7,"bad partition length");z(W=m.m,b,k,Y.ub),k+=Y.ub,q-=Y.ub,Y.Rb&&(K.Ld=ve(W),K.Kd=ve(W)),K=m.Qa;var J,se=m.Pa;if(e(W!=null),e(K!=null),K.Cb=ve(W),K.Cb){if(K.Bb=ve(W),ve(W)){for(K.Fb=ve(W),J=0;4>J;++J)K.Zb[J]=ve(W)?Z(W,7):0;for(J=0;4>J;++J)K.Lb[J]=ve(W)?Z(W,6):0}if(K.Bb)for(J=0;3>J;++J)se.jb[J]=ve(W)?re(W,8):255}else K.Bb=0;if(W.Ka)return ui(m,3,"cannot parse segment header");if((K=m.ed).zd=ve(W),K.Tb=re(W,6),K.wb=re(W,3),K.Pc=ve(W),K.Pc&&ve(W)){for(se=0;4>se;++se)ve(W)&&(K.vd[se]=Z(W,6));for(se=0;4>se;++se)ve(W)&&(K.od[se]=Z(W,6))}if(m.L=K.Tb==0?0:K.zd?1:2,W.Ka)return ui(m,3,"cannot parse filter header");var Se=q;if(q=J=k,k=J+Se,K=Se,m.Xb=(1<<re(m.m,2))-1,Se<3*(se=m.Xb))b=7;else{for(J+=3*se,K-=3*se,Se=0;Se<se;++Se){var Fe=b[q+0]|b[q+1]<<8|b[q+2]<<16;Fe>K&&(Fe=K),z(m.Jc[+Se],b,J,Fe),J+=Fe,K-=Fe,q+=3}z(m.Jc[+se],b,J,K),b=J<k?0:5}if(b!=0)return ui(m,b,"cannot parse partitions");for(b=re(J=m.m,7),q=ve(J)?Z(J,4):0,k=ve(J)?Z(J,4):0,K=ve(J)?Z(J,4):0,se=ve(J)?Z(J,4):0,J=ve(J)?Z(J,4):0,Se=m.Qa,Fe=0;4>Fe;++Fe){if(Se.Cb){var Re=Se.Zb[Fe];Se.Fb||(Re+=b)}else{if(0<Fe){m.pb[Fe]=m.pb[0];continue}Re=b}var Ae=m.pb[Fe];Ae.Sc[0]=Yb[$o(Re+q,127)],Ae.Sc[1]=Xb[$o(Re+0,127)],Ae.Eb[0]=2*Yb[$o(Re+k,127)],Ae.Eb[1]=101581*Xb[$o(Re+K,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=Yb[$o(Re+se,117)],Ae.Qc[1]=Xb[$o(Re+J,127)],Ae.lc=Re+J}if(!Y.Rb)return ui(m,4,"Not a key frame.");for(ve(W),Y=m.Pa,b=0;4>b;++b){for(q=0;8>q;++q)for(k=0;3>k;++k)for(K=0;11>K;++K)se=xe(W,Ej[b][q][k][K])?re(W,8):xj[b][q][k][K],Y.Wc[b][q].Yb[k][K]=se;for(q=0;17>q;++q)Y.Xc[b][q]=Y.Wc[b][Sj[q]]}return m.kc=ve(W),m.kc&&(m.Bd=re(W,8)),m.cb=1}function N_(m,w,b,k,q,W,Y){var K=w[q].Yb[b];for(b=0;16>q;++q){if(!xe(m,K[b+0]))return q;for(;!xe(m,K[b+1]);)if(K=w[++q].Yb[0],b=0,q==16)return 16;var J=w[q+1].Yb;if(xe(m,K[b+2])){var se=m,Se=0;if(xe(se,(Re=K)[(Fe=b)+3]))if(xe(se,Re[Fe+6])){for(K=0,Fe=2*(Se=xe(se,Re[Fe+8]))+(Re=xe(se,Re[Fe+9+Se])),Se=0,Re=yj[Fe];Re[K];++K)Se+=Se+xe(se,Re[K]);Se+=3+(8<<Fe)}else xe(se,Re[Fe+7])?(Se=7+2*xe(se,165),Se+=xe(se,145)):Se=5+xe(se,159);else Se=xe(se,Re[Fe+4])?3+xe(se,Re[Fe+5]):2;K=J[2]}else Se=1,K=J[1];J=Y+_j[q],0>(se=m).b&&ye(se);var Fe,Re=se.b,Ae=(Fe=se.Ca>>1)-(se.I>>Re)>>31;--se.b,se.Ca+=Ae,se.Ca|=1,se.I-=(Fe+1&Ae)<<Re,W[J]=((Se^Ae)-Ae)*k[(0<q)+0]}return 16}function sg(m){var w=m.rb[m.sb-1];w.la=0,w.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Eb(m,w){if(m==null)return 0;if(w==null)return ui(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!k_(m,w))return 0;if(e(m.cb),w.ac==null||w.ac(w)){w.ob&&(m.L=0);var b=nx[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=w.v-b>>4,m.zb=w.j-b>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=w.o+15+b>>4,m.Hb=w.va+15+b>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var k=m.ed;for(b=0;4>b;++b){var q;if(m.Qa.Cb){var W=m.Qa.Lb[b];m.Qa.Fb||(W+=k.Tb)}else W=k.Tb;for(q=0;1>=q;++q){var Y=m.gd[b][q],K=W;if(k.Pc&&(K+=k.vd[0],q&&(K+=k.od[0])),0<(K=0>K?0:63<K?63:K)){var J=K;0<k.wb&&(J=4<k.wb?J>>2:J>>1)>9-k.wb&&(J=9-k.wb),1>J&&(J=1),Y.dd=J,Y.tc=2*K+J,Y.ld=40<=K?2:15<=K?1:0}else Y.tc=0;Y.La=q}}}b=0}else ui(m,6,"Frame setup failed"),b=m.a;if(b=b==0){if(b){m.$c=0,0<m.Aa||(m.Ic=Lj);e:{b=m.Ic,k=4*(J=m.za);var se=32*J,Se=J+1,Fe=0<m.L?J*(0<m.Aa?2:1):0,Re=(m.Aa==2?2:1)*J;if((Y=k+832+(q=3*(16*b+nx[m.L])/2*se)+(W=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=Y)b=0;else{if(Y>m.Vb){if(m.Vb=0,m.Ec=s(Y),m.Fc=0,m.Ec==null){b=ui(m,1,"no memory during frame initialization.");break e}m.Vb=Y}Y=m.Ec,K=m.Fc,m.Ac=Y,m.Bc=K,K+=k,m.Gd=o(se,Gl),m.Hd=0,m.rb=o(Se+1,Fi),m.sb=1,m.wa=Fe?o(Fe,jn):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=J),e(!0),m.oc=Y,m.pc=K,K+=832,m.ya=o(Re,Ri),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=J),m.R=16*J,m.B=8*J,J=(se=nx[m.L])*m.R,se=se/2*m.B,m.sa=Y,m.ta=K+J,m.qa=m.sa,m.ra=m.ta+16*b*m.R+se,m.Ha=m.qa,m.Ia=m.ra+8*b*m.B+se,m.$c=0,K+=q,m.mb=W?Y:null,m.nb=W?K:null,e(K+W<=m.Fc+m.Vb),sg(m),i(m.Ac,m.Bc,0,k),b=1}}if(b){if(w.ka=0,w.y=m.sa,w.O=m.ta,w.f=m.qa,w.N=m.ra,w.ea=m.Ha,w.Vd=m.Ia,w.fa=m.R,w.Rc=m.B,w.F=null,w.J=0,!L3){for(b=-255;255>=b;++b)M3[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)P3[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)F3[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)R3[255+b]=0>b?0:255<b?255:b;L3=1}el=bb,Mp=Sb,ju=P_,tl=Cb,zc=F_,bg=M_,xd=fg,Pp=yd,wd=Bb,zu=dg,Tg=Ob,ya=Sp,Yc=hg,Fr=q_,Rr=$_,fi=Gc,Li=Hu,Xc=Lb,nl[0]=jl,nl[1]=Tb,nl[2]=kb,nl[3]=Nb,nl[4]=O_,nl[5]=wp,nl[6]=B_,nl[7]=lg,nl[8]=Pb,nl[9]=Mb,Xu[0]=R_,Xu[1]=Ib,Xu[2]=qc,Xu[3]=_p,Xu[4]=ws,Xu[5]=Db,Xu[6]=L_,Kc[0]=Uu,Kc[1]=Ab,Kc[2]=Fb,Kc[3]=cg,Kc[4]=vd,Kc[5]=Rb,Kc[6]=ug,b=1}else b=0}b&&(b=(function(Ae,Ye){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var Ue,Ce=Ae.Jc[Ae.M&Ae.Xb],Te=Ae.m,je=Ae;for(Ue=0;Ue<je.za;++Ue){var Qe=Te,ze=je,Ct=ze.Ac,gt=ze.Bc+4*Ue,$t=ze.zc,yt=ze.ya[ze.aa+Ue];if(ze.Qa.Bb?yt.$b=xe(Qe,ze.Pa.jb[0])?2+xe(Qe,ze.Pa.jb[2]):xe(Qe,ze.Pa.jb[1]):yt.$b=0,ze.kc&&(yt.Ad=xe(Qe,ze.Bd)),yt.Za=!xe(Qe,145)+0,yt.Za){var Qn=yt.Ob,hr=0;for(ze=0;4>ze;++ze){var Bn,Fn=$t[0+ze];for(Bn=0;4>Bn;++Bn){Fn=wj[Ct[gt+Bn]][Fn];for(var Ar=U3[xe(Qe,Fn[0])];0<Ar;)Ar=U3[2*Ar+xe(Qe,Fn[Ar])];Fn=-Ar,Ct[gt+Bn]=Fn}r(Qn,hr,Ct,gt,4),hr+=4,$t[0+ze]=Fn}}else Fn=xe(Qe,156)?xe(Qe,128)?1:3:xe(Qe,163)?2:0,yt.Ob[0]=Fn,i(Ct,gt,Fn,4),i($t,0,Fn,4);yt.Dd=xe(Qe,142)?xe(Qe,114)?xe(Qe,183)?1:3:2:0}if(je.m.Ka)return ui(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(je=Ce,Qe=(Te=Ae).rb[Te.sb-1],Ct=Te.rb[Te.sb+Te.ja],Ue=Te.ya[Te.aa+Te.ja],gt=Te.kc?Ue.Ad:0)Qe.la=Ct.la=0,Ue.Za||(Qe.Na=Ct.Na=0),Ue.Hc=0,Ue.Gc=0,Ue.ia=0;else{var wr,hn;if(Qe=Ct,Ct=je,gt=Te.Pa.Xc,$t=Te.ya[Te.aa+Te.ja],yt=Te.pb[$t.$b],ze=$t.ad,Qn=0,hr=Te.rb[Te.sb-1],Fn=Bn=0,i(ze,Qn,0,384),$t.Za)var Si=0,yo=gt[3];else{Ar=s(16);var Ci=Qe.Na+hr.Na;if(Ci=Ag(Ct,gt[1],Ci,yt.Eb,0,Ar,0),Qe.Na=hr.Na=(0<Ci)+0,1<Ci)el(Ar,0,ze,Qn);else{var _o=Ar[0]+3>>3;for(Ar=0;256>Ar;Ar+=16)ze[Qn+Ar]=_o}Si=1,yo=gt[0]}var pr=15&Qe.la,Go=15&hr.la;for(Ar=0;4>Ar;++Ar){var Wo=1&Go;for(_o=hn=0;4>_o;++_o)pr=pr>>1|(Wo=(Ci=Ag(Ct,yo,Ci=Wo+(1&pr),yt.Sc,Si,ze,Qn))>Si)<<7,hn=hn<<2|(3<Ci?3:1<Ci?2:ze[Qn+0]!=0),Qn+=16;pr>>=4,Go=Go>>1|Wo<<7,Bn=(Bn<<8|hn)>>>0}for(yo=pr,Si=Go>>4,wr=0;4>wr;wr+=2){for(hn=0,pr=Qe.la>>4+wr,Go=hr.la>>4+wr,Ar=0;2>Ar;++Ar){for(Wo=1&Go,_o=0;2>_o;++_o)Ci=Wo+(1&pr),pr=pr>>1|(Wo=0<(Ci=Ag(Ct,gt[2],Ci,yt.Qc,0,ze,Qn)))<<3,hn=hn<<2|(3<Ci?3:1<Ci?2:ze[Qn+0]!=0),Qn+=16;pr>>=2,Go=Go>>1|Wo<<5}Fn|=hn<<4*wr,yo|=pr<<4<<wr,Si|=(240&Go)<<wr}Qe.la=yo,hr.la=Si,$t.Hc=Bn,$t.Gc=Fn,$t.ia=43690&Fn?0:yt.ia,gt=!(Bn|Fn)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[Ue.$b][Ue.Za],Te.wa[Te.Y+Te.ja].La|=!gt),je.Ka)return ui(Ae,7,"Premature end-of-file encountered.")}if(sg(Ae),Te=Ye,je=1,Ue=(Ce=Ae).D,Qe=0<Ce.L&&Ce.M>=Ce.zb&&Ce.M<=Ce.Va,Ce.Aa==0)e:{if(Ue.M=Ce.M,Ue.uc=Qe,_g(Ce,Ue),je=1,Ue=(hn=Ce.D).Nb,Qe=(Fn=nx[Ce.L])*Ce.R,Ct=Fn/2*Ce.B,Ar=16*Ue*Ce.R,_o=8*Ue*Ce.B,gt=Ce.sa,$t=Ce.ta-Qe+Ar,yt=Ce.qa,ze=Ce.ra-Ct+_o,Qn=Ce.Ha,hr=Ce.Ia-Ct+_o,Go=(pr=hn.M)==0,Bn=pr>=Ce.Va-1,Ce.Aa==2&&_g(Ce,hn),hn.uc)for(Wo=(Ci=Ce).D.M,e(Ci.D.uc),hn=Ci.yb;hn<Ci.Hb;++hn){Si=hn,yo=Wo;var ji=(rs=(ei=Ci).D).Nb;wr=ei.R;var rs=rs.wa[rs.Y+Si],js=ei.sa,wa=ei.ta+16*ji*wr+16*Si,Yl=rs.dd,zi=rs.tc;if(zi!=0)if(e(3<=zi),ei.L==1)0<Si&&fi(js,wa,wr,zi+4),rs.La&&Xc(js,wa,wr,zi),0<yo&&Rr(js,wa,wr,zi+4),rs.La&&Li(js,wa,wr,zi);else{var Jc=ei.B,Ed=ei.qa,Rp=ei.ra+8*ji*Jc+8*Si,Ju=ei.Ha,ei=ei.Ia+8*ji*Jc+8*Si;ji=rs.ld,0<Si&&(Pp(js,wa,wr,zi+4,Yl,ji),zu(Ed,Rp,Ju,ei,Jc,zi+4,Yl,ji)),rs.La&&(ya(js,wa,wr,zi,Yl,ji),Fr(Ed,Rp,Ju,ei,Jc,zi,Yl,ji)),0<yo&&(xd(js,wa,wr,zi+4,Yl,ji),wd(Ed,Rp,Ju,ei,Jc,zi+4,Yl,ji)),rs.La&&(Tg(js,wa,wr,zi,Yl,ji),Yc(Ed,Rp,Ju,ei,Jc,zi,Yl,ji))}}if(Ce.ia&&alert("todo:DitherRow"),Te.put!=null){if(hn=16*pr,pr=16*(pr+1),Go?(Te.y=Ce.sa,Te.O=Ce.ta+Ar,Te.f=Ce.qa,Te.N=Ce.ra+_o,Te.ea=Ce.Ha,Te.W=Ce.Ia+_o):(hn-=Fn,Te.y=gt,Te.O=$t,Te.f=yt,Te.N=ze,Te.ea=Qn,Te.W=hr),Bn||(pr-=Fn),pr>Te.o&&(pr=Te.o),Te.F=null,Te.J=null,Ce.Fa!=null&&0<Ce.Fa.length&&hn<pr&&(Te.J=vg(Ce,Te,hn,pr-hn),Te.F=Ce.mb,Te.F==null&&Te.F.length==0)){je=ui(Ce,3,"Could not decode alpha data.");break e}hn<Te.j&&(Fn=Te.j-hn,hn=Te.j,e(!(1&Fn)),Te.O+=Ce.R*Fn,Te.N+=Ce.B*(Fn>>1),Te.W+=Ce.B*(Fn>>1),Te.F!=null&&(Te.J+=Te.width*Fn)),hn<pr&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=hn-Te.j,Te.U=Te.va-Te.v,Te.T=pr-hn,je=Te.put(Te))}Ue+1!=Ce.Ic||Bn||(r(Ce.sa,Ce.ta-Qe,gt,$t+16*Ce.R,Qe),r(Ce.qa,Ce.ra-Ct,yt,ze+8*Ce.B,Ct),r(Ce.Ha,Ce.Ia-Ct,Qn,hr+8*Ce.B,Ct))}if(!je)return ui(Ae,6,"Output aborted.")}return 1})(m,w)),w.bc!=null&&w.bc(w),b&=1}return b?(m.cb=0,b):0}function Xa(m,w,b,k,q){q=m[w+b+32*k]+(q>>3),m[w+b+32*k]=-256&q?0>q?0:255:q}function yp(m,w,b,k,q,W){Xa(m,w,0,b,k+q),Xa(m,w,1,b,k+W),Xa(m,w,2,b,k-W),Xa(m,w,3,b,k-q)}function mo(m){return(20091*m>>16)+m}function og(m,w,b,k){var q,W=0,Y=s(16);for(q=0;4>q;++q){var K=m[w+0]+m[w+8],J=m[w+0]-m[w+8],se=(35468*m[w+4]>>16)-mo(m[w+12]),Se=mo(m[w+4])+(35468*m[w+12]>>16);Y[W+0]=K+Se,Y[W+1]=J+se,Y[W+2]=J-se,Y[W+3]=K-Se,W+=4,w++}for(q=W=0;4>q;++q)K=(m=Y[W+0]+4)+Y[W+8],J=m-Y[W+8],se=(35468*Y[W+4]>>16)-mo(Y[W+12]),Xa(b,k,0,0,K+(Se=mo(Y[W+4])+(35468*Y[W+12]>>16))),Xa(b,k,1,0,J+se),Xa(b,k,2,0,J-se),Xa(b,k,3,0,K-Se),W++,k+=32}function M_(m,w,b,k){var q=m[w+0]+4,W=35468*m[w+4]>>16,Y=mo(m[w+4]),K=35468*m[w+1]>>16;yp(b,k,0,q+Y,m=mo(m[w+1]),K),yp(b,k,1,q+W,m,K),yp(b,k,2,q-W,m,K),yp(b,k,3,q-Y,m,K)}function Sb(m,w,b,k,q){og(m,w,b,k),q&&og(m,w+16,b,k+4)}function P_(m,w,b,k){Mp(m,w+0,b,k,1),Mp(m,w+32,b,k+128,1)}function Cb(m,w,b,k){var q;for(m=m[w+0]+4,q=0;4>q;++q)for(w=0;4>w;++w)Xa(b,k,w,q,m)}function F_(m,w,b,k){m[w+0]&&tl(m,w+0,b,k),m[w+16]&&tl(m,w+16,b,k+4),m[w+32]&&tl(m,w+32,b,k+128),m[w+48]&&tl(m,w+48,b,k+128+4)}function bb(m,w,b,k){var q,W=s(16);for(q=0;4>q;++q){var Y=m[w+0+q]+m[w+12+q],K=m[w+4+q]+m[w+8+q],J=m[w+4+q]-m[w+8+q],se=m[w+0+q]-m[w+12+q];W[0+q]=Y+K,W[8+q]=Y-K,W[4+q]=se+J,W[12+q]=se-J}for(q=0;4>q;++q)Y=(m=W[0+4*q]+3)+W[3+4*q],K=W[1+4*q]+W[2+4*q],J=W[1+4*q]-W[2+4*q],se=m-W[3+4*q],b[k+0]=Y+K>>3,b[k+16]=se+J>>3,b[k+32]=Y-K>>3,b[k+48]=se-J>>3,k+=64}function ag(m,w,b){var k,q=w-32,W=qo,Y=255-m[q-1];for(k=0;k<b;++k){var K,J=W,se=Y+m[w-1];for(K=0;K<b;++K)m[w+K]=J[se+m[q+K]];w+=32}}function Tb(m,w){ag(m,w,4)}function Ab(m,w){ag(m,w,8)}function Ib(m,w){ag(m,w,16)}function qc(m,w){var b;for(b=0;16>b;++b)r(m,w+32*b,m,w-32,16)}function _p(m,w){var b;for(b=16;0<b;--b)i(m,w,m[w-1],16),w+=32}function xp(m,w,b){var k;for(k=0;16>k;++k)i(w,b+32*k,m,16)}function R_(m,w){var b,k=16;for(b=0;16>b;++b)k+=m[w-1+32*b]+m[w+b-32];xp(k>>5,m,w)}function ws(m,w){var b,k=8;for(b=0;16>b;++b)k+=m[w-1+32*b];xp(k>>4,m,w)}function Db(m,w){var b,k=8;for(b=0;16>b;++b)k+=m[w+b-32];xp(k>>4,m,w)}function L_(m,w){xp(128,m,w)}function nn(m,w,b){return m+2*w+b+2>>2}function kb(m,w){var b,k=w-32;for(k=new Uint8Array([nn(m[k-1],m[k+0],m[k+1]),nn(m[k+0],m[k+1],m[k+2]),nn(m[k+1],m[k+2],m[k+3]),nn(m[k+2],m[k+3],m[k+4])]),b=0;4>b;++b)r(m,w+32*b,k,0,k.length)}function Nb(m,w){var b=m[w-1],k=m[w-1+32],q=m[w-1+64],W=m[w-1+96];be(m,w+0,16843009*nn(m[w-1-32],b,k)),be(m,w+32,16843009*nn(b,k,q)),be(m,w+64,16843009*nn(k,q,W)),be(m,w+96,16843009*nn(q,W,W))}function jl(m,w){var b,k=4;for(b=0;4>b;++b)k+=m[w+b-32]+m[w-1+32*b];for(k>>=3,b=0;4>b;++b)i(m,w+32*b,k,4)}function O_(m,w){var b=m[w-1+0],k=m[w-1+32],q=m[w-1+64],W=m[w-1-32],Y=m[w+0-32],K=m[w+1-32],J=m[w+2-32],se=m[w+3-32];m[w+0+96]=nn(k,q,m[w-1+96]),m[w+1+96]=m[w+0+64]=nn(b,k,q),m[w+2+96]=m[w+1+64]=m[w+0+32]=nn(W,b,k),m[w+3+96]=m[w+2+64]=m[w+1+32]=m[w+0+0]=nn(Y,W,b),m[w+3+64]=m[w+2+32]=m[w+1+0]=nn(K,Y,W),m[w+3+32]=m[w+2+0]=nn(J,K,Y),m[w+3+0]=nn(se,J,K)}function B_(m,w){var b=m[w+1-32],k=m[w+2-32],q=m[w+3-32],W=m[w+4-32],Y=m[w+5-32],K=m[w+6-32],J=m[w+7-32];m[w+0+0]=nn(m[w+0-32],b,k),m[w+1+0]=m[w+0+32]=nn(b,k,q),m[w+2+0]=m[w+1+32]=m[w+0+64]=nn(k,q,W),m[w+3+0]=m[w+2+32]=m[w+1+64]=m[w+0+96]=nn(q,W,Y),m[w+3+32]=m[w+2+64]=m[w+1+96]=nn(W,Y,K),m[w+3+64]=m[w+2+96]=nn(Y,K,J),m[w+3+96]=nn(K,J,J)}function wp(m,w){var b=m[w-1+0],k=m[w-1+32],q=m[w-1+64],W=m[w-1-32],Y=m[w+0-32],K=m[w+1-32],J=m[w+2-32],se=m[w+3-32];m[w+0+0]=m[w+1+64]=W+Y+1>>1,m[w+1+0]=m[w+2+64]=Y+K+1>>1,m[w+2+0]=m[w+3+64]=K+J+1>>1,m[w+3+0]=J+se+1>>1,m[w+0+96]=nn(q,k,b),m[w+0+64]=nn(k,b,W),m[w+0+32]=m[w+1+96]=nn(b,W,Y),m[w+1+32]=m[w+2+96]=nn(W,Y,K),m[w+2+32]=m[w+3+96]=nn(Y,K,J),m[w+3+32]=nn(K,J,se)}function lg(m,w){var b=m[w+0-32],k=m[w+1-32],q=m[w+2-32],W=m[w+3-32],Y=m[w+4-32],K=m[w+5-32],J=m[w+6-32],se=m[w+7-32];m[w+0+0]=b+k+1>>1,m[w+1+0]=m[w+0+64]=k+q+1>>1,m[w+2+0]=m[w+1+64]=q+W+1>>1,m[w+3+0]=m[w+2+64]=W+Y+1>>1,m[w+0+32]=nn(b,k,q),m[w+1+32]=m[w+0+96]=nn(k,q,W),m[w+2+32]=m[w+1+96]=nn(q,W,Y),m[w+3+32]=m[w+2+96]=nn(W,Y,K),m[w+3+64]=nn(Y,K,J),m[w+3+96]=nn(K,J,se)}function Mb(m,w){var b=m[w-1+0],k=m[w-1+32],q=m[w-1+64],W=m[w-1+96];m[w+0+0]=b+k+1>>1,m[w+2+0]=m[w+0+32]=k+q+1>>1,m[w+2+32]=m[w+0+64]=q+W+1>>1,m[w+1+0]=nn(b,k,q),m[w+3+0]=m[w+1+32]=nn(k,q,W),m[w+3+32]=m[w+1+64]=nn(q,W,W),m[w+3+64]=m[w+2+64]=m[w+0+96]=m[w+1+96]=m[w+2+96]=m[w+3+96]=W}function Pb(m,w){var b=m[w-1+0],k=m[w-1+32],q=m[w-1+64],W=m[w-1+96],Y=m[w-1-32],K=m[w+0-32],J=m[w+1-32],se=m[w+2-32];m[w+0+0]=m[w+2+32]=b+Y+1>>1,m[w+0+32]=m[w+2+64]=k+b+1>>1,m[w+0+64]=m[w+2+96]=q+k+1>>1,m[w+0+96]=W+q+1>>1,m[w+3+0]=nn(K,J,se),m[w+2+0]=nn(Y,K,J),m[w+1+0]=m[w+3+32]=nn(b,Y,K),m[w+1+32]=m[w+3+64]=nn(k,b,Y),m[w+1+64]=m[w+3+96]=nn(q,k,b),m[w+1+96]=nn(W,q,k)}function Fb(m,w){var b;for(b=0;8>b;++b)r(m,w+32*b,m,w-32,8)}function cg(m,w){var b;for(b=0;8>b;++b)i(m,w,m[w-1],8),w+=32}function gd(m,w,b){var k;for(k=0;8>k;++k)i(w,b+32*k,m,8)}function Uu(m,w){var b,k=8;for(b=0;8>b;++b)k+=m[w+b-32]+m[w-1+32*b];gd(k>>4,m,w)}function Rb(m,w){var b,k=4;for(b=0;8>b;++b)k+=m[w+b-32];gd(k>>3,m,w)}function vd(m,w){var b,k=4;for(b=0;8>b;++b)k+=m[w-1+32*b];gd(k>>3,m,w)}function ug(m,w){gd(128,m,w)}function Ep(m,w,b){var k=m[w-b],q=m[w+0],W=3*(q-k)+qb[1020+m[w-2*b]-m[w+b]],Y=Y_[112+(W+4>>3)];m[w-b]=qo[255+k+Y_[112+(W+3>>3)]],m[w+0]=qo[255+q-Y]}function V_(m,w,b,k){var q=m[w+0],W=m[w+b];return _a[255+m[w-2*b]-m[w-b]]>k||_a[255+W-q]>k}function U_(m,w,b,k){return 4*_a[255+m[w-b]-m[w+0]]+_a[255+m[w-2*b]-m[w+b]]<=k}function H_(m,w,b,k,q){var W=m[w-3*b],Y=m[w-2*b],K=m[w-b],J=m[w+0],se=m[w+b],Se=m[w+2*b],Fe=m[w+3*b];return 4*_a[255+K-J]+_a[255+Y-se]>k?0:_a[255+m[w-4*b]-W]<=q&&_a[255+W-Y]<=q&&_a[255+Y-K]<=q&&_a[255+Fe-Se]<=q&&_a[255+Se-se]<=q&&_a[255+se-J]<=q}function $_(m,w,b,k){var q=2*k+1;for(k=0;16>k;++k)U_(m,w+k,b,q)&&Ep(m,w+k,b)}function Gc(m,w,b,k){var q=2*k+1;for(k=0;16>k;++k)U_(m,w+k*b,1,q)&&Ep(m,w+k*b,1)}function Hu(m,w,b,k){var q;for(q=3;0<q;--q)$_(m,w+=4*b,b,k)}function Lb(m,w,b,k){var q;for(q=3;0<q;--q)Gc(m,w+=4,b,k)}function $u(m,w,b,k,q,W,Y,K){for(W=2*W+1;0<q--;){if(H_(m,w,b,W,Y))if(V_(m,w,b,K))Ep(m,w,b);else{var J=m,se=w,Se=b,Fe=J[se-2*Se],Re=J[se-Se],Ae=J[se+0],Ye=J[se+Se],Ue=J[se+2*Se],Ce=27*(je=qb[1020+3*(Ae-Re)+qb[1020+Fe-Ye]])+63>>7,Te=18*je+63>>7,je=9*je+63>>7;J[se-3*Se]=qo[255+J[se-3*Se]+je],J[se-2*Se]=qo[255+Fe+Te],J[se-Se]=qo[255+Re+Ce],J[se+0]=qo[255+Ae-Ce],J[se+Se]=qo[255+Ye-Te],J[se+2*Se]=qo[255+Ue-je]}w+=k}}function Ka(m,w,b,k,q,W,Y,K){for(W=2*W+1;0<q--;){if(H_(m,w,b,W,Y))if(V_(m,w,b,K))Ep(m,w,b);else{var J=m,se=w,Se=b,Fe=J[se-Se],Re=J[se+0],Ae=J[se+Se],Ye=Y_[112+((Ue=3*(Re-Fe))+4>>3)],Ue=Y_[112+(Ue+3>>3)],Ce=Ye+1>>1;J[se-2*Se]=qo[255+J[se-2*Se]+Ce],J[se-Se]=qo[255+Fe+Ue],J[se+0]=qo[255+Re-Ye],J[se+Se]=qo[255+Ae-Ce]}w+=k}}function fg(m,w,b,k,q,W){$u(m,w,b,1,16,k,q,W)}function yd(m,w,b,k,q,W){$u(m,w,1,b,16,k,q,W)}function Ob(m,w,b,k,q,W){var Y;for(Y=3;0<Y;--Y)Ka(m,w+=4*b,b,1,16,k,q,W)}function Sp(m,w,b,k,q,W){var Y;for(Y=3;0<Y;--Y)Ka(m,w+=4,1,b,16,k,q,W)}function Bb(m,w,b,k,q,W,Y,K){$u(m,w,q,1,8,W,Y,K),$u(b,k,q,1,8,W,Y,K)}function dg(m,w,b,k,q,W,Y,K){$u(m,w,1,q,8,W,Y,K),$u(b,k,1,q,8,W,Y,K)}function hg(m,w,b,k,q,W,Y,K){Ka(m,w+4*q,q,1,8,W,Y,K),Ka(b,k+4*q,q,1,8,W,Y,K)}function q_(m,w,b,k,q,W,Y,K){Ka(m,w+4,1,q,8,W,Y,K),Ka(b,k+4,1,q,8,W,Y,K)}function Cp(){this.ba=new Vo,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pg(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mg(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function G_(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new M}function Vb(){this.xb=this.a=0,this.l=new Wl,this.ca=new Vo,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new G_,this.ab=0,this.gc=o(4,mg),this.Oc=0}function bp(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _d(m,w,b,k,q,W,Y){for(m=m==null?0:m[w+0],w=0;w<Y;++w)q[W+w]=m+b[k+w]&255,m=q[W+w]}function gg(m,w,b,k,q,W,Y){var K;if(m==null)_d(null,null,b,k,q,W,Y);else for(K=0;K<Y;++K)q[W+K]=m[w+K]+b[k+K]&255}function qu(m,w,b,k,q,W,Y){if(m==null)_d(null,null,b,k,q,W,Y);else{var K,J=m[w+0],se=J,Se=J;for(K=0;K<Y;++K)se=Se+(J=m[w+K])-se,Se=b[k+K]+(-256&se?0>se?0:255:se)&255,se=J,q[W+K]=Se}}function vg(m,w,b,k){var q=w.width,W=w.o;if(e(m!=null&&w!=null),0>b||0>=k||b+k>W)return null;if(!m.Cc){if(m.ga==null){var Y;if(m.ga=new bp,(Y=m.ga==null)||(Y=w.width*w.o,e(m.Gb.length==0),m.Gb=s(Y),m.Uc=0,m.Gb==null?Y=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,Y=1),Y=!Y),!Y){Y=m.ga;var K=m.Fa,J=m.P,se=m.qc,Se=m.mb,Fe=m.nb,Re=J+1,Ae=se-1,Ye=Y.l;if(e(K!=null&&Se!=null&&w!=null),Ku[0]=null,Ku[1]=_d,Ku[2]=gg,Ku[3]=qu,Y.ca=Se,Y.tb=Fe,Y.c=w.width,Y.i=w.height,e(0<Y.c&&0<Y.i),1>=se)w=0;else if(Y.$a=K[J+0]>>0&3,Y.Z=K[J+0]>>2&3,Y.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||J)w=0;else if(Ye.put=ma,Ye.ac=Pi,Ye.bc=ga,Ye.ma=Y,Ye.width=w.width,Ye.height=w.height,Ye.Da=w.Da,Ye.v=w.v,Ye.va=w.va,Ye.j=w.j,Ye.o=w.o,Y.$a)e:{e(Y.$a==1),w=Ve();t:for(;;){if(w==null){w=0;break e}if(e(Y!=null),Y.mc=w,w.c=Y.c,w.i=Y.i,w.l=Y.l,w.l.ma=Y,w.l.width=Y.c,w.l.height=Y.i,w.a=0,de(w.m,K,Re,Ae),!Pe(Y.c,Y.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&te(w.s)?(Y.ic=1,K=w.c*w.i,w.Ta=null,w.Ua=0,w.V=s(K),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(Y.ic=0,w=Le(w,Y.c)),!w))break t;w=1;break e}Y.mc=null,w=0}else w=Ae>=Y.c*Y.i;Y=!w}if(Y)return null;m.ga.Lc!=1?m.Ga=0:k=W-b}e(m.ga!=null),e(b+k<=W);e:{if(w=(K=m.ga).c,W=K.l.o,K.$a==0){if(Re=m.rc,Ae=m.Vc,Ye=m.Fa,J=m.P+1+b*w,se=m.mb,Se=m.nb+b*w,e(J<=m.P+m.qc),K.Z!=0)for(e(Ku[K.Z]!=null),Y=0;Y<k;++Y)Ku[K.Z](Re,Ae,Ye,J,se,Se,w),Re=se,Ae=Se,Se+=w,J+=w;else for(Y=0;Y<k;++Y)r(se,Se,Ye,J,w),Re=se,Ae=Se,Se+=w,J+=w;m.rc=Re,m.Vc=Ae}else{if(e(K.mc!=null),w=b+k,e((Y=K.mc)!=null),e(w<=Y.i),Y.C>=w)w=1;else if(K.ic||ke(),K.ic){K=Y.V,Re=Y.Ba,Ae=Y.c;var Ue=Y.i,Ce=(Ye=1,J=Y.$/Ae,se=Y.$%Ae,Se=Y.m,Fe=Y.s,Y.$),Te=Ae*Ue,je=Ae*w,Qe=Fe.wc,ze=Ce<je?Qr(Fe,se,J):null;e(Ce<=Te),e(w<=Ue),e(te(Fe));t:for(;;){for(;!Se.h&&Ce<je;){if(se&Qe||(ze=Qr(Fe,se,J)),e(ze!=null),Q(Se),256>(Ue=xs(ze.G[0],ze.H[0],Se)))K[Re+Ce]=Ue,++Ce,++se>=Ae&&(se=0,++J<=w&&!(J%16)&&le(Y,J));else{if(!(280>Ue)){Ye=0;break t}Ue=Uo(Ue-256,Se);var Ct,gt=xs(ze.G[4],ze.H[4],Se);if(Q(Se),!(Ce>=(gt=po(Ae,gt=Uo(gt,Se)))&&Te-Ce>=Ue)){Ye=0;break t}for(Ct=0;Ct<Ue;++Ct)K[Re+Ce+Ct]=K[Re+Ce+Ct-gt];for(Ce+=Ue,se+=Ue;se>=Ae;)se-=Ae,++J<=w&&!(J%16)&&le(Y,J);Ce<je&&se&Qe&&(ze=Qr(Fe,se,J))}e(Se.h==F(Se))}le(Y,J>w?w:J);break t}!Ye||Se.h&&Ce<Te?(Ye=0,Y.a=Se.h?5:3):Y.$=Ce,w=Ye}else w=ue(Y,Y.V,Y.Ba,Y.c,Y.i,w,Be);if(!w){k=0;break e}}b+k>=W&&(m.Cc=1),k=1}if(!k)return null;if(m.Cc&&((k=m.ga)!=null&&(k.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+b*q}function S(m,w,b,k,q,W){for(;0<q--;){var Y,K=m,J=w+(b?1:0),se=m,Se=w+(b?0:3);for(Y=0;Y<k;++Y){var Fe=se[Se+4*Y];Fe!=255&&(Fe*=32897,K[J+4*Y+0]=K[J+4*Y+0]*Fe>>23,K[J+4*Y+1]=K[J+4*Y+1]*Fe>>23,K[J+4*Y+2]=K[J+4*Y+2]*Fe>>23)}w+=W}}function G(m,w,b,k,q){for(;0<k--;){var W;for(W=0;W<b;++W){var Y=m[w+2*W+0],K=15&(se=m[w+2*W+1]),J=4369*K,se=(240&se|se>>4)*J>>16;m[w+2*W+0]=(240&Y|Y>>4)*J>>16&240|(15&Y|Y<<4)*J>>16>>4&15,m[w+2*W+1]=240&se|K}w+=q}}function he(m,w,b,k,q,W,Y,K){var J,se,Se=255;for(se=0;se<q;++se){for(J=0;J<k;++J){var Fe=m[w+J];W[Y+4*J]=Fe,Se&=Fe}w+=b,Y+=K}return Se!=255}function we(m,w,b,k,q){var W;for(W=0;W<q;++W)b[k+W]=m[w+W]>>8}function ke(){Yu=S,Fp=G,z_=he,N3=we}function $e(m,w,b){N[m]=function(k,q,W,Y,K,J,se,Se,Fe,Re,Ae,Ye,Ue,Ce,Te,je,Qe){var ze,Ct=Qe-1>>1,gt=K[J+0]|se[Se+0]<<16,$t=Fe[Re+0]|Ae[Ye+0]<<16;e(k!=null);var yt=3*gt+$t+131074>>2;for(w(k[q+0],255&yt,yt>>16,Ue,Ce),W!=null&&(yt=3*$t+gt+131074>>2,w(W[Y+0],255&yt,yt>>16,Te,je)),ze=1;ze<=Ct;++ze){var Qn=K[J+ze]|se[Se+ze]<<16,hr=Fe[Re+ze]|Ae[Ye+ze]<<16,Bn=gt+Qn+$t+hr+524296,Fn=Bn+2*(Qn+$t)>>3;yt=Fn+gt>>1,gt=(Bn=Bn+2*(gt+hr)>>3)+Qn>>1,w(k[q+2*ze-1],255&yt,yt>>16,Ue,Ce+(2*ze-1)*b),w(k[q+2*ze-0],255&gt,gt>>16,Ue,Ce+(2*ze-0)*b),W!=null&&(yt=Bn+$t>>1,gt=Fn+hr>>1,w(W[Y+2*ze-1],255&yt,yt>>16,Te,je+(2*ze-1)*b),w(W[Y+2*ze+0],255&gt,gt>>16,Te,je+(2*ze+0)*b)),gt=Qn,$t=hr}1&Qe||(yt=3*gt+$t+131074>>2,w(k[q+Qe-1],255&yt,yt>>16,Ue,Ce+(Qe-1)*b),W!=null&&(yt=3*$t+gt+131074>>2,w(W[Y+Qe-1],255&yt,yt>>16,Te,je+(Qe-1)*b)))}}function nt(){xa[X_]=bj,xa[K_]=$3,xa[O3]=Tj,xa[J_]=q3,xa[Q_]=G3,xa[Gb]=W3,xa[B3]=Aj,xa[Wb]=$3,xa[jb]=q3,xa[Z_]=G3,xa[zb]=W3}function St(m){return m&~Ij?0>m?0:255:m>>j3}function Rt(m,w){return St((19077*m>>8)+(26149*w>>8)-14234)}function fn(m,w,b){return St((19077*m>>8)-(6419*w>>8)-(13320*b>>8)+8708)}function wn(m,w){return St((19077*m>>8)+(33050*w>>8)-17685)}function Ln(m,w,b,k,q){k[q+0]=Rt(m,b),k[q+1]=fn(m,w,b),k[q+2]=wn(m,w)}function zr(m,w,b,k,q){k[q+0]=wn(m,w),k[q+1]=fn(m,w,b),k[q+2]=Rt(m,b)}function Zr(m,w,b,k,q){var W=fn(m,w,b);w=W<<3&224|wn(m,w)>>3,k[q+0]=248&Rt(m,b)|W>>5,k[q+1]=w}function Ei(m,w,b,k,q){var W=240&wn(m,w)|15;k[q+0]=240&Rt(m,b)|fn(m,w,b)>>4,k[q+1]=W}function Es(m,w,b,k,q){k[q+0]=255,Ln(m,w,b,k,q+1)}function Wi(m,w,b,k,q){zr(m,w,b,k,q),k[q+3]=255}function Ja(m,w,b,k,q){Ln(m,w,b,k,q),k[q+3]=255}function $o(m,w){return 0>m?0:m>w?w:m}function Wc(m,w,b){N[m]=function(k,q,W,Y,K,J,se,Se,Fe){for(var Re=Se+(-2&Fe)*b;Se!=Re;)w(k[q+0],W[Y+0],K[J+0],se,Se),w(k[q+1],W[Y+0],K[J+0],se,Se+b),q+=2,++Y,++J,Se+=2*b;1&Fe&&w(k[q+0],W[Y+0],K[J+0],se,Se)}}function W_(m,w,b){return b==0?m==0?w==0?6:5:w==0?4:0:b}function yg(m,w,b,k,q){switch(m>>>30){case 3:Mp(w,b,k,q,0);break;case 2:bg(w,b,k,q);break;case 1:tl(w,b,k,q)}}function _g(m,w){var b,k,q=w.M,W=w.Nb,Y=m.oc,K=m.pc+40,J=m.oc,se=m.pc+584,Se=m.oc,Fe=m.pc+600;for(b=0;16>b;++b)Y[K+32*b-1]=129;for(b=0;8>b;++b)J[se+32*b-1]=129,Se[Fe+32*b-1]=129;for(0<q?Y[K-1-32]=J[se-1-32]=Se[Fe-1-32]=129:(i(Y,K-32-1,127,21),i(J,se-32-1,127,9),i(Se,Fe-32-1,127,9)),k=0;k<m.za;++k){var Re=w.ya[w.aa+k];if(0<k){for(b=-1;16>b;++b)r(Y,K+32*b-4,Y,K+32*b+12,4);for(b=-1;8>b;++b)r(J,se+32*b-4,J,se+32*b+4,4),r(Se,Fe+32*b-4,Se,Fe+32*b+4,4)}var Ae=m.Gd,Ye=m.Hd+k,Ue=Re.ad,Ce=Re.Hc;if(0<q&&(r(Y,K-32,Ae[Ye].y,0,16),r(J,se-32,Ae[Ye].f,0,8),r(Se,Fe-32,Ae[Ye].ea,0,8)),Re.Za){var Te=Y,je=K-32+16;for(0<q&&(k>=m.za-1?i(Te,je,Ae[Ye].y[15],4):r(Te,je,Ae[Ye+1].y,0,4)),b=0;4>b;b++)Te[je+128+b]=Te[je+256+b]=Te[je+384+b]=Te[je+0+b];for(b=0;16>b;++b,Ce<<=2)Te=Y,je=K+Y3[b],nl[Re.Ob[b]](Te,je),yg(Ce,Ue,16*+b,Te,je)}else if(Te=W_(k,q,Re.Ob[0]),Xu[Te](Y,K),Ce!=0)for(b=0;16>b;++b,Ce<<=2)yg(Ce,Ue,16*+b,Y,K+Y3[b]);for(b=Re.Gc,Te=W_(k,q,Re.Dd),Kc[Te](J,se),Kc[Te](Se,Fe),Ce=Ue,Te=J,je=se,255&(Re=b>>0)&&(170&Re?ju(Ce,256,Te,je):zc(Ce,256,Te,je)),Re=Se,Ce=Fe,255&(b>>=8)&&(170&b?ju(Ue,320,Re,Ce):zc(Ue,320,Re,Ce)),q<m.Ub-1&&(r(Ae[Ye].y,0,Y,K+480,16),r(Ae[Ye].f,0,J,se+224,8),r(Ae[Ye].ea,0,Se,Fe+224,8)),b=8*W*m.B,Ae=m.sa,Ye=m.ta+16*k+16*W*m.R,Ue=m.qa,Re=m.ra+8*k+b,Ce=m.Ha,Te=m.Ia+8*k+b,b=0;16>b;++b)r(Ae,Ye+b*m.R,Y,K+32*b,16);for(b=0;8>b;++b)r(Ue,Re+b*m.B,J,se+32*b,8),r(Ce,Te+b*m.B,Se,Fe+32*b,8)}}function Tp(m,w,b,k,q,W,Y,K,J){var se=[0],Se=[0],Fe=0,Re=J!=null?J.kd:0,Ae=J??new pg;if(m==null||12>b)return 7;Ae.data=m,Ae.w=w,Ae.ha=b,w=[w],b=[b],Ae.gb=[Ae.gb];e:{var Ye=w,Ue=b,Ce=Ae.gb;if(e(m!=null),e(Ue!=null),e(Ce!=null),Ce[0]=0,12<=Ue[0]&&!n(m,Ye[0],"RIFF")){if(n(m,Ye[0]+8,"WEBP")){Ce=3;break e}var Te=tt(m,Ye[0]+4);if(12>Te||4294967286<Te){Ce=3;break e}if(Re&&Te>Ue[0]-8){Ce=7;break e}Ce[0]=Te,Ye[0]+=12,Ue[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Te=0<Ae.gb[0],b=b[0];;){e:{var je=m;Ue=w,Ce=b;var Qe=se,ze=Se,Ct=Ye=[0];if((yt=Fe=[Fe])[0]=0,8>Ce[0])Ce=7;else{if(!n(je,Ue[0],"VP8X")){if(tt(je,Ue[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var gt=tt(je,Ue[0]+8),$t=1+ee(je,Ue[0]+12);if(2147483648<=$t*(je=1+ee(je,Ue[0]+15))){Ce=3;break e}Ct!=null&&(Ct[0]=gt),Qe!=null&&(Qe[0]=$t),ze!=null&&(ze[0]=je),Ue[0]+=18,Ce[0]-=18,yt[0]=1}Ce=0}}if(Fe=Fe[0],Ye=Ye[0],Ce!=0)return Ce;if(Ue=!!(2&Ye),!Te&&Fe)return 3;if(W!=null&&(W[0]=!!(16&Ye)),Y!=null&&(Y[0]=Ue),K!=null&&(K[0]=0),Y=se[0],Ye=Se[0],Fe&&Ue&&J==null){Ce=0;break}if(4>b){Ce=7;break}if(Te&&Fe||!Te&&!Fe&&!n(m,w[0],"ALPH")){b=[b],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{gt=m,Ce=w,Te=b;var yt=Ae.gb;Qe=Ae.na,ze=Ae.P,Ct=Ae.Sa,$t=22,e(gt!=null),e(Te!=null),je=Ce[0];var Qn=Te[0];for(e(Qe!=null),e(Ct!=null),Qe[0]=null,ze[0]=null,Ct[0]=0;;){if(Ce[0]=je,Te[0]=Qn,8>Qn){Ce=7;break e}var hr=tt(gt,je+4);if(4294967286<hr){Ce=3;break e}var Bn=8+hr+1&-2;if($t+=Bn,0<yt&&$t>yt){Ce=3;break e}if(!n(gt,je,"VP8 ")||!n(gt,je,"VP8L")){Ce=0;break e}if(Qn[0]<Bn){Ce=7;break e}n(gt,je,"ALPH")||(Qe[0]=gt,ze[0]=je+8,Ct[0]=hr),je+=Bn,Qn-=Bn}}if(b=b[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],Ce!=0)break}b=[b],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(yt=m,Ce=w,Te=b,Qe=Ae.gb[0],ze=Ae.Ja,Ct=Ae.xa,gt=Ce[0],je=!n(yt,gt,"VP8 "),$t=!n(yt,gt,"VP8L"),e(yt!=null),e(Te!=null),e(ze!=null),e(Ct!=null),8>Te[0])Ce=7;else{if(je||$t){if(yt=tt(yt,gt+4),12<=Qe&&yt>Qe-12){Ce=3;break e}if(Re&&yt>Te[0]-8){Ce=7;break e}ze[0]=yt,Ce[0]+=8,Te[0]-=8,Ct[0]=$t}else Ct[0]=5<=Te[0]&&yt[gt+0]==47&&!(yt[gt+4]>>5),ze[0]=Te[0];Ce=0}if(b=b[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],w=w[0],Ce!=0)break;if(4294967286<Ae.Ja)return 3;if(K==null||Ue||(K[0]=Ae.xa?2:1),Y=[Y],Ye=[Ye],Ae.xa){if(5>b){Ce=7;break}K=Y,Re=Ye,Ue=W,m==null||5>b?m=0:5<=b&&m[w+0]==47&&!(m[w+4]>>5)?(Te=[0],yt=[0],Qe=[0],de(ze=new T,m,w,b),Ht(ze,Te,yt,Qe)?(K!=null&&(K[0]=Te[0]),Re!=null&&(Re[0]=yt[0]),Ue!=null&&(Ue[0]=Qe[0]),m=1):m=0):m=0}else{if(10>b){Ce=7;break}K=Ye,m==null||10>b||!D_(m,w+3,b-3)?m=0:(Re=m[w+0]|m[w+1]<<8|m[w+2]<<16,Ue=16383&(m[w+7]<<8|m[w+6]),m=16383&(m[w+9]<<8|m[w+8]),1&Re||3<(Re>>1&7)||!(Re>>4&1)||Re>>5>=Ae.Ja||!Ue||!m?m=0:(Y&&(Y[0]=Ue),K&&(K[0]=m),m=1))}if(!m||(Y=Y[0],Ye=Ye[0],Fe&&(se[0]!=Y||Se[0]!=Ye)))return 3;J!=null&&(J[0]=Ae,J.offset=w-J.w,e(4294967286>w-J.w),e(J.offset==J.ha-b));break}return Ce==0||Ce==7&&Fe&&J==null?(W!=null&&(W[0]|=Ae.na!=null&&0<Ae.na.length),k!=null&&(k[0]=Y),q!=null&&(q[0]=Ye),0):Ce}function xg(m,w,b){var k=w.width,q=w.height,W=0,Y=0,K=k,J=q;if(w.Da=m!=null&&0<m.Da,w.Da&&(K=m.cd,J=m.bd,W=m.v,Y=m.j,11>b||(W&=-2,Y&=-2),0>W||0>Y||0>=K||0>=J||W+K>k||Y+J>q))return 0;if(w.v=W,w.j=Y,w.va=W+K,w.o=Y+J,w.U=K,w.T=J,w.da=m!=null&&0<m.da,w.da){if(!We(K,J,b=[m.ib],W=[m.hb]))return 0;w.ib=b[0],w.hb=W[0]}return w.ob=m!=null&&m.ob,w.Kb=m==null||!m.Sd,w.da&&(w.ob=w.ib<3*k/4&&w.hb<3*q/4,w.Kb=0),1}function wg(m){if(m==null)return 2;if(11>m.S){var w=m.f.RGBA;w.fb+=(m.height-1)*w.A,w.A=-w.A}else w=m.f.kb,m=m.height,w.O+=(m-1)*w.fa,w.fa=-w.fa,w.N+=(m-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(m-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(m-1)*w.lb,w.lb=-w.lb);return 0}function Ap(m,w,b,k){if(k==null||0>=m||0>=w)return 2;if(b!=null){if(b.Da){var q=b.cd,W=b.bd,Y=-2&b.v,K=-2&b.j;if(0>Y||0>K||0>=q||0>=W||Y+q>m||K+W>w)return 2;m=q,w=W}if(b.da){if(!We(m,w,q=[b.ib],W=[b.hb]))return 2;m=q[0],w=W[0]}}k.width=m,k.height=w;e:{var J=k.width,se=k.height;if(m=k.S,0>=J||0>=se||!(m>=X_&&13>m))m=2;else{if(0>=k.Rd&&k.sd==null){Y=W=q=w=0;var Se=(K=J*X3[m])*se;if(11>m||(W=(se+1)/2*(w=(J+1)/2),m==12&&(Y=(q=J)*se)),(se=s(Se+2*W+Y))==null){m=1;break e}k.sd=se,11>m?((J=k.f.RGBA).eb=se,J.fb=0,J.A=K,J.size=Se):((J=k.f.kb).y=se,J.O=0,J.fa=K,J.Fd=Se,J.f=se,J.N=0+Se,J.Ab=w,J.Cd=W,J.ea=se,J.W=0+Se+W,J.Db=w,J.Ed=W,m==12&&(J.F=se,J.J=0+Se+2*W),J.Tc=Y,J.lb=q)}if(w=1,q=k.S,W=k.width,Y=k.height,q>=X_&&13>q)if(11>q)m=k.f.RGBA,w&=(K=Math.abs(m.A))*(Y-1)+W<=m.size,w&=K>=W*X3[q],w&=m.eb!=null;else{m=k.f.kb,K=(W+1)/2,Se=(Y+1)/2,J=Math.abs(m.fa),se=Math.abs(m.Ab);var Fe=Math.abs(m.Db),Re=Math.abs(m.lb),Ae=Re*(Y-1)+W;w&=J*(Y-1)+W<=m.Fd,w&=se*(Se-1)+K<=m.Cd,w=(w&=Fe*(Se-1)+K<=m.Ed)&J>=W&se>=K&Fe>=K,w&=m.y!=null,w&=m.f!=null,w&=m.ea!=null,q==12&&(w&=Re>=W,w&=Ae<=m.Tc,w&=m.F!=null)}else w=0;m=w?0:2}}return m!=0||b!=null&&b.fd&&(m=wg(k)),m}var go=64,Ip=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Dp=24,kp=32,Eg=8,vo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(m){return m},N.Predictor2=function(m,w,b){return w[b+0]},N.Predictor3=function(m,w,b){return w[b+1]},N.Predictor4=function(m,w,b){return w[b-1]},N.Predictor5=function(m,w,b){return pt(pt(m,w[b+1]),w[b+0])},N.Predictor6=function(m,w,b){return pt(m,w[b-1])},N.Predictor7=function(m,w,b){return pt(m,w[b+0])},N.Predictor8=function(m,w,b){return pt(w[b-1],w[b+0])},N.Predictor9=function(m,w,b){return pt(w[b+0],w[b+1])},N.Predictor10=function(m,w,b){return pt(pt(m,w[b-1]),pt(w[b+0],w[b+1]))},N.Predictor11=function(m,w,b){var k=w[b+0];return 0>=qt(k>>24&255,m>>24&255,(w=w[b-1])>>24&255)+qt(k>>16&255,m>>16&255,w>>16&255)+qt(k>>8&255,m>>8&255,w>>8&255)+qt(255&k,255&m,255&w)?k:m},N.Predictor12=function(m,w,b){var k=w[b+0];return(At((m>>24&255)+(k>>24&255)-((w=w[b-1])>>24&255))<<24|At((m>>16&255)+(k>>16&255)-(w>>16&255))<<16|At((m>>8&255)+(k>>8&255)-(w>>8&255))<<8|At((255&m)+(255&k)-(255&w)))>>>0},N.Predictor13=function(m,w,b){var k=w[b-1];return(Dt((m=pt(m,w[b+0]))>>24&255,k>>24&255)<<24|Dt(m>>16&255,k>>16&255)<<16|Dt(m>>8&255,k>>8&255)<<8|Dt(m>>0&255,k>>0&255))>>>0};var Ub=N.PredictorAdd0;N.PredictorAdd1=en,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var Sg=N.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var j_,Qa=N.ColorIndexInverseTransform,Cg=N.MapARGB,Hb=N.VP8LColorIndexInverseTransformAlpha,$b=N.MapAlpha,Gu=N.VP8LPredictorsAdd=[];Gu.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var va,Za,Wu,zl,jc,Np,el,Mp,bg,ju,tl,zc,xd,Pp,wd,zu,Tg,ya,Yc,Fr,Rr,fi,Li,Xc,Yu,Fp,z_,N3,M3=s(511),P3=s(2041),F3=s(225),R3=s(767),L3=0,qb=P3,Y_=F3,qo=R3,_a=M3,X_=0,K_=1,O3=2,J_=3,Q_=4,Gb=5,B3=6,Wb=7,jb=8,Z_=9,zb=10,fj=[2,3,7],dj=[3,3,11],V3=[280,256,256,256,40],hj=[0,1,1,1,0],pj=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],mj=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],gj=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vj=8,Yb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ag=null,yj=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_j=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],U3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],xj=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wj=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ej=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sj=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xu=[],nl=[],Kc=[],Cj=1,H3=2,Ku=[],xa=[];$e("UpsampleRgbLinePair",Ln,3),$e("UpsampleBgrLinePair",zr,3),$e("UpsampleRgbaLinePair",Ja,4),$e("UpsampleBgraLinePair",Wi,4),$e("UpsampleArgbLinePair",Es,4),$e("UpsampleRgba4444LinePair",Ei,2),$e("UpsampleRgb565LinePair",Zr,2);var bj=N.UpsampleRgbLinePair,Tj=N.UpsampleBgrLinePair,$3=N.UpsampleRgbaLinePair,q3=N.UpsampleBgraLinePair,G3=N.UpsampleArgbLinePair,W3=N.UpsampleRgba4444LinePair,Aj=N.UpsampleRgb565LinePair,ex=16,tx=1<<ex-1,Ig=-227,Kb=482,j3=6,Ij=(256<<j3)-1,z3=0,Dj=s(256),kj=s(256),Nj=s(256),Mj=s(256),Pj=s(Kb-Ig),Fj=s(Kb-Ig);Wc("YuvToRgbRow",Ln,3),Wc("YuvToBgrRow",zr,3),Wc("YuvToRgbaRow",Ja,4),Wc("YuvToBgraRow",Wi,4),Wc("YuvToArgbRow",Es,4),Wc("YuvToRgba4444Row",Ei,2),Wc("YuvToRgb565Row",Zr,2);var Y3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nx=[0,2,8],Rj=[8,7,6,4,4,2,2,2,1,1,1,1],Lj=1;this.WebPDecodeRGBA=function(m,w,b,k,q){var W=K_,Y=new Cp,K=new Vo;Y.ba=K,K.S=W,K.width=[K.width],K.height=[K.height];var J=K.width,se=K.height,Se=new za;if(Se==null||m==null)var Fe=2;else e(Se!=null),Fe=Tp(m,w,b,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Fe!=0?J=0:(J!=null&&(J[0]=Se.width[0]),se!=null&&(se[0]=Se.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],k!=null&&(k[0]=K.width),q!=null&&(q[0]=K.height);e:{if(k=new Wl,(q=new pg).data=m,q.w=w,q.ha=b,q.kd=1,w=[0],e(q!=null),((m=Tp(q.data,q.w,q.ha,null,null,null,w,null,q))==0||m==7)&&w[0]&&(m=4),(w=m)==0){if(e(Y!=null),k.data=q.data,k.w=q.w+q.offset,k.ha=q.ha-q.offset,k.put=ma,k.ac=Pi,k.bc=ga,k.ma=Y,q.xa){if((m=Ve())==null){Y=1;break e}if((function(Re,Ae){var Ye=[0],Ue=[0],Ce=[0];t:for(;;){if(Re==null)return 0;if(Ae==null)return Re.a=2,0;if(Re.l=Ae,Re.a=0,de(Re.m,Ae.data,Ae.w,Ae.ha),!Ht(Re.m,Ye,Ue,Ce)){Re.a=3;break t}if(Re.xb=H3,Ae.width=Ye[0],Ae.height=Ue[0],!Pe(Ye[0],Ue[0],1,Re,null))break t;return 1}return e(Re.a!=0),0})(m,k)){if(k=(w=Ap(k.width,k.height,Y.Oa,Y.ba))==0){t:{k=m;n:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((b=k.l)!=null),e((q=b.ma)!=null),k.xb!=0){if(k.ca=q.ba,k.tb=q.tb,e(k.ca!=null),!xg(q.Oa,b,J_)){k.a=2;break n}if(!Le(k,b.width)||b.da)break n;if((b.da||On(k.ca.S))&&ke(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&ke()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!at(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!ue(k,k.V,k.Ba,k.c,k.i,b.o,ce))break n;q.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(w=m.a)}else w=m.a}else{if((m=new Ho)==null){Y=1;break e}if(m.Fa=q.na,m.P=q.P,m.qc=q.Sa,k_(m,k)){if((w=Ap(k.width,k.height,Y.Oa,Y.ba))==0){if(m.Aa=0,b=Y.Oa,e((q=m)!=null),b!=null){if(0<(J=0>(J=b.Md)?0:100<J?255:255*J/100)){for(se=Se=0;4>se;++se)12>(Fe=q.pb[se]).lc&&(Fe.ia=J*Rj[0>Fe.lc?0:Fe.lc]>>3),Se|=Fe.ia;Se&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=b.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}Eb(m,k)||(w=m.a)}}else w=m.a}w==0&&Y.Oa!=null&&Y.Oa.fd&&(w=wg(Y.ba))}Y=w}W=Y!=0?null:11>W?K.f.RGBA.eb:K.f.kb.y}else W=null;return W};var X3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(N,O){for(var V="",P=0;P<4;P++)V+=String.fromCharCode(N[O++]);return V}function u(N,O){return(N[O+0]<<0|N[O+1]<<8|N[O+2]<<16)>>>0}function f(N,O){return(N[O+0]<<0|N[O+1]<<8|N[O+2]<<16|N[O+3]<<24)>>>0}new l;var d=[0],h=[0],g=[],v=new l,x=t,_=(function(N,O){var V={},P=0,M=!1,X=0,U=0;if(V.frames=[],!(function(B,F,H,Q){for(var ye=0;ye<Q;ye++)if(B[F+ye]!=H.charCodeAt(ye))return!0;return!1})(N,O,"RIFF",4)){var z,re;for(f(N,O+=4),O+=8;O<N.length;){var Z=c(N,O),de=f(N,O+=4);O+=4;var fe=de+(1&de);switch(Z){case"VP8 ":case"VP8L":V.frames[P]===void 0&&(V.frames[P]={}),(T=V.frames[P]).src_off=M?U:O-8,T.src_size=X+de+8,P++,M&&(M=!1,X=0,U=0);break;case"VP8X":(T=V.header={}).feature_flags=N[O];var me=O+4;T.canvas_width=1+u(N,me),me+=3,T.canvas_height=1+u(N,me),me+=3;break;case"ALPH":M=!0,X=fe+8,U=O-8;break;case"ANIM":(T=V.header).bgcolor=f(N,O),me=O+4,T.loop_count=(z=N)[(re=me)+0]<<0|z[re+1]<<8,me+=2;break;case"ANMF":var ge,T;(T=V.frames[P]={}).offset_x=2*u(N,O),O+=3,T.offset_y=2*u(N,O),O+=3,T.width=1+u(N,O),O+=3,T.height=1+u(N,O),O+=3,T.duration=u(N,O),O+=3,ge=N[O++],T.dispose=1&ge,T.blend=ge>>1&1}Z!="ANMF"&&(O+=fe)}return V}})(x,0);_.response=x,_.rgbaoutput=!0,_.dataurl=!1;var E=_.header?_.header:null,C=_.frames?_.frames:null;if(E){E.loop_counter=E.loop_count,d=[E.canvas_height],h=[E.canvas_width];for(var D=0;D<C.length&&C[D].blend!=0;D++);}var A=C[0],L=v.WebPDecodeRGBA(x,A.src_off,A.src_size,h,d);A.rgba=L,A.imgwidth=h[0],A.imgheight=d[0];for(var I=0;I<h[0]*d[0]*4;I++)g[I]=L[I];return this.width=h,this.height=d,this.data=g,this}var Kt,Mr,qy,sF,Wh,E$,M_e,S$,ii,fF,Jh,Lm,un,td,Ro,b$,Nc,P_e,F_e,R_e,gi,vi,yi,L_e,O_e,lF,NC,B_e,V_e,U_e,H_e,H$,nF,Mc,$$,q$,Ll,zh,Yh,Xh,Gy,$i,Wy,Kh,FC,jy,id,zy,Tt,$_e,q_e,W$,j$,cF,z$,G_e,W_e,A$,MC,k$,N$,rF,Om,PC,M$,P$,F$,X_e,Ol,sd,J_e,Q_e,Pc,Z_e,O$,Y$,exe,txe,nxe,rxe,ixe,sxe,oxe,X$,axe,lxe,cxe,uxe,fxe,dxe,LC=fR(()=>{Jj();x$();Kt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();Mr={log:ZP,warn:function(t){Kt.console&&(typeof Kt.console.warn=="function"?Kt.console.warn.apply(Kt.console,arguments):ZP.call(null,arguments))},error:function(t){Kt.console&&(typeof Kt.console.error=="function"?Kt.console.error.apply(Kt.console,arguments):ZP(t))}};Wh=Kt.saveAs||((typeof window>"u"?"undefined":Er(window))!=="object"||window!==Kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Kt.URL||Kt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?w$(i.href)?eF(t,e,n):kC(i,i.target="_blank"):kC(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){kC(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(w$(t))eF(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){kC(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Er(s)!=="object"&&(Mr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return eF(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Kt.HTMLElement)||Kt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Er(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=Kt.URL||Kt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});qy=Kt.atob.bind(Kt),sF=Kt.btoa.bind(Kt);E$="0123456789abcdef".split("");M_e=(function(t){for(var e=0;e<t.length;e++)t[e]=k_e(t[e]);return t.join("")})(V$("hello"))!="5d41402abc4b2a76b9719d911017c592";S$={print:4,modify:8,copy:16,"annot-forms":32};Bm.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Bm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Bm.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Bm.prototype.processOwnerPassword=function(t,e){return aF(oF(e).substr(0,5),t)},Bm.prototype.encryptor=function(t,e){var n=oF(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return aF(n,r)}},Yy.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Er(t)!==Er(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Vt.API={events:[]},Vt.version="2.5.1";ii=Vt.API,fF=1,Jh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},un=function(t){return t.toFixed(2)},td=function(t){return t.toFixed(5)};ii.__acroform__={};Ro=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},b$=function(t){return t*fF},Nc=function(t){var e=new $$,n=Tt.internal.getHeight(t)||0,r=Tt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(un(r)),Number(un(n))],e},P_e=ii.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},F_e=ii.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},R_e=ii.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},gi=ii.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return R_e(t,e-1)},vi=ii.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return P_e(t,e-1)},yi=ii.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return F_e(t,e-1)},L_e=ii.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(un(l.lowerLeft_X)),Number(un(l.lowerLeft_Y)),Number(un(l.upperRight_X)),Number(un(l.upperRight_Y))]},O_e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=lF(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+un(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Nc(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},lF=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var s=n,o=Tt.internal.getHeight(t)||0;o=o<0?-o:o;var a=Tt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(P,M,X){if(P+1<i.length){var U=M+" "+i[P+1][0];return NC(U,t,X).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,f=NC("3",t,s).height,d=t.multiline?o-s:(o-f)/2,h=d+=2,g=0,v=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+NC(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",E=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var D=!1;if(i[C].length!==1&&x!==i[C].length-1){if((f+2)*(E+2)+2>o)continue e;_+=i[C][x],D=!0,v=C,C--}else{_=(_+=i[C][x]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var A=parseInt(C),L=l(A,_,s),I=C>=i.length-1;if(L&&!I){_+=" ",x=0;continue}if(L||I){if(I)v=A;else if(t.multiline&&(f+2)*(E+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(E+2)+2>o)continue e;v=A}}for(var N="",O=g;O<=v;O++){var V=i[O];if(t.multiline){if(O===v){N+=V[x]+" ",x=(x+1)%V.length;continue}if(O===g){N+=V[V.length-1]+" ";continue}}N+=V[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=NC(N,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=un(c)+" "+un(h)+` Td
`,e+="("+Jh(N)+`) Tj
`,e+=-un(c)+` 0 Td
`,h=-(s+2),u=0,g=D?v:v+1,E++,_=""}break}return r.text=e,r.fontSize=s,r},NC=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},B_e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},V_e=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},U_e=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Er(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},H_e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ll.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(B_e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fF=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new q$,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&V_e(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=L_e(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Tt.createDefaultAppearanceStream(a),Er(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=O_e(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var f="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var h=a.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var g=h[o];typeof g=="function"&&(g=g.call(i,a)),f+="/"+o+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,a)),f+="/"+o+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&U_e(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},H$=ii.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Er(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Jh(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nF=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Jh(r(t))+")"},Mc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Mc.prototype.toString=function(){return this.objId+" 0 R"},Mc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Mc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:H$(i,this.objId,this.scope)}):i instanceof Mc?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};$$=function(){Mc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ro($$,Mc);q$=function(){Mc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Jh(n(t))+")"}},set:function(n){t=n}})};Ro(q$,Mc);Ll=function t(){Mc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!gi(e,3)},set:function(_){_?this.F=vi(e,3):this.F=yi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof FC)return;s="FieldObject"+t.FieldNum++}var _=function(E){return E};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Jh(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/fF:c},set:function(_){c=_}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(_){u=_}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof FC||this instanceof id))return nF(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=_}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof $i?d:nF(d,this.objId,this.scope)},set:function(_){_=_.toString(),d=this instanceof $i?_:_.substr(0,1)==="("?Lm(_.substr(1,_.length-2)):Lm(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $i?Lm(d.substr(1,d.length-1)):d},set:function(_){_=_.toString(),d=this instanceof $i?"/"+_:_}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof $i?h:nF(h,this.objId,this.scope)},set:function(_){_=_.toString(),h=this instanceof $i?_:_.substr(0,1)==="("?Lm(_.substr(1,_.length-2)):Lm(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $i?Lm(h.substr(1,h.length-1)):h},set:function(_){_=_.toString(),h=this instanceof $i?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(_){_=!!_,v=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(_){g=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,1)},set:function(_){_?this.Ff=vi(this.Ff,1):this.Ff=yi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,2)},set:function(_){_?this.Ff=vi(this.Ff,2):this.Ff=yi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,3)},set:function(_){_?this.Ff=vi(this.Ff,3):this.Ff=yi(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');x=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(x){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Ro(Ll,Mc);zh=function(){Ll.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return H$(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,18)},set:function(n){n?this.Ff=vi(this.Ff,18):this.Ff=yi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=vi(this.Ff,19):this.Ff=yi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,20)},set:function(n){n?(this.Ff=vi(this.Ff,20),e.sort()):this.Ff=yi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,22)},set:function(n){n?this.Ff=vi(this.Ff,22):this.Ff=yi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,23)},set:function(n){n?this.Ff=vi(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,27)},set:function(n){n?this.Ff=vi(this.Ff,27):this.Ff=yi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ro(zh,Ll);Yh=function(){zh.call(this),this.fontName="helvetica",this.combo=!1};Ro(Yh,zh);Xh=function(){Yh.call(this),this.combo=!0};Ro(Xh,Yh);Gy=function(){Xh.call(this),this.edit=!0};Ro(Gy,Xh);$i=function(){Ll.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,15)},set:function(n){n?this.Ff=vi(this.Ff,15):this.Ff=yi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,16)},set:function(n){n?this.Ff=vi(this.Ff,16):this.Ff=yi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,17)},set:function(n){n?this.Ff=vi(this.Ff,17):this.Ff=yi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,26)},set:function(n){n?this.Ff=vi(this.Ff,26):this.Ff=yi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Jh(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Er(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ro($i,Ll);Wy=function(){$i.call(this),this.pushButton=!0};Ro(Wy,$i);Kh=function(){$i.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ro(Kh,$i);FC=function(){var t,e;Ll.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Jh(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Er(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ro(FC,Ll),Kh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Kh.prototype.createOption=function(t){var e=new FC;return e.Parent=this,e.optionName=t,this.Kids.push(e),$_e.call(this.scope,e),e};jy=function(){$i.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tt.CheckBox.createAppearanceStream()};Ro(jy,$i);id=function(){Ll.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,13)},set:function(e){e?this.Ff=vi(this.Ff,13):this.Ff=yi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,21)},set:function(e){e?this.Ff=vi(this.Ff,21):this.Ff=yi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,23)},set:function(e){e?this.Ff=vi(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,24)},set:function(e){e?this.Ff=vi(this.Ff,24):this.Ff=yi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,25)},set:function(e){e?this.Ff=vi(this.Ff,25):this.Ff=yi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,26)},set:function(e){e?this.Ff=vi(this.Ff,26):this.Ff=yi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ro(id,Ll);zy=function(){id.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!gi(this.Ff,14)},set:function(t){t?this.Ff=vi(this.Ff,14):this.Ff=yi(this.Ff,14)}}),this.password=!0};Ro(zy,id);Tt={CheckBox:{createAppearanceStream:function(){return{N:{On:Tt.CheckBox.YesNormal},D:{On:Tt.CheckBox.YesPushDown,Off:Tt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Nc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=lF(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+un(Tt.internal.getWidth(t))+" "+un(Tt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+un(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Nc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Tt.internal.getHeight(t),o=Tt.internal.getWidth(t),a=lF(t,t.caption);return i.push("1 g"),i.push("0 0 "+un(o)+" "+un(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+un(o-1)+" "+un(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+un(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Nc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+un(Tt.internal.getWidth(t))+" "+un(Tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Tt.RadioButton.Circle.YesNormal,e.D[t]=Tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Nc(t);e.scope=t.scope;var n=[],r=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Tt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+td(Tt.internal.getWidth(t)/2)+" "+td(Tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Nc(t);e.scope=t.scope;var n=[],r=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Tt.internal.Bezier_C).toFixed(5)),o=Number((r*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+td(Tt.internal.getWidth(t)/2)+" "+td(Tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+td(Tt.internal.getWidth(t)/2)+" "+td(Tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Nc(t);e.scope=t.scope;var n=[],r=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+td(Tt.internal.getWidth(t)/2)+" "+td(Tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Tt.RadioButton.Cross.YesNormal,e.D[t]=Tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Nc(t);e.scope=t.scope;var n=[],r=Tt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+un(Tt.internal.getWidth(t)-2)+" "+un(Tt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(un(r.x1.x)+" "+un(r.x1.y)+" m"),n.push(un(r.x2.x)+" "+un(r.x2.y)+" l"),n.push(un(r.x4.x)+" "+un(r.x4.y)+" m"),n.push(un(r.x3.x)+" "+un(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Nc(t);e.scope=t.scope;var n=Tt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+un(Tt.internal.getWidth(t))+" "+un(Tt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+un(Tt.internal.getWidth(t)-2)+" "+un(Tt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(un(n.x1.x)+" "+un(n.x1.y)+" m"),r.push(un(n.x2.x)+" "+un(n.x2.y)+" l"),r.push(un(n.x4.x)+" "+un(n.x4.y)+" m"),r.push(un(n.x3.x)+" "+un(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Nc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+un(Tt.internal.getWidth(t))+" "+un(Tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Tt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Tt.internal.getWidth(t),n=Tt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Tt.internal.getWidth=function(t){var e=0;return Er(t)==="object"&&(e=b$(t.Rect[2])),e},Tt.internal.getHeight=function(t){var e=0;return Er(t)==="object"&&(e=b$(t.Rect[3])),e};$_e=ii.addField=function(t){if(H_e(this,t),!(t instanceof Ll))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ii.AcroFormChoiceField=zh,ii.AcroFormListBox=Yh,ii.AcroFormComboBox=Xh,ii.AcroFormEditBox=Gy,ii.AcroFormButton=$i,ii.AcroFormPushButton=Wy,ii.AcroFormRadioButton=Kh,ii.AcroFormCheckBox=jy,ii.AcroFormTextField=id,ii.AcroFormPasswordField=zy,ii.AcroFormAppearance=Tt,ii.AcroForm={ChoiceField:zh,ListBox:Yh,ComboBox:Xh,EditBox:Gy,Button:$i,PushButton:Wy,RadioButton:Kh,CheckBox:jy,TextField:id,PasswordField:zy,Appearance:Tt},Vt.AcroForm={ChoiceField:zh,ListBox:Yh,ComboBox:Xh,EditBox:Gy,Button:$i,PushButton:Wy,RadioButton:Kh,CheckBox:jy,TextField:id,PasswordField:zy,Appearance:Tt};q_e=Vt.AcroForm;(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(P,M){var X,U,z,re,Z,de=e;if((M=M||e)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(L(P))for(Z in n)for(z=n[Z],X=0;X<z.length;X+=1){for(re=!0,U=0;U<z[X].length;U+=1)if(z[X][U]!==void 0&&z[X][U]!==P[U]){re=!1;break}if(re===!0){de=Z;break}}else for(Z in n)for(z=n[Z],X=0;X<z.length;X+=1){for(re=!0,U=0;U<z[X].length;U+=1)if(z[X][U]!==void 0&&z[X][U]!==P.charCodeAt(U)){re=!1;break}if(re===!0){de=Z;break}}return de===e&&M!==e&&(de=M),de},i=function P(M){for(var X=this.internal.write,U=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:M.width}),re.push({key:"Height",value:M.height}),M.colorSpace===x.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===x.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var Z="",de=0,fe=M.transparency.length;de<fe;de++)Z+=M.transparency[de]+" "+M.transparency[de]+" ";re.push({key:"Mask",value:"["+Z+"]"})}M.sMask!==void 0&&re.push({key:"SMask",value:M.objectId+1+" 0 R"});var me=M.filter!==void 0?["/"+M.filter]:void 0;if(U({data:M.data,additionalKeyValues:re,alreadyAppliedFilters:me,objectId:M.objectId}),X("endobj"),"sMask"in M&&M.sMask!==void 0){var ge="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,T={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:ge,data:M.sMask};"filter"in M&&(T.filter=M.filter),P.call(this,T)}if(M.colorSpace===x.INDEXED){var B=this.internal.newObject();U({data:N(new Uint8Array(M.palette)),objectId:B}),X("endobj")}},s=function(){var P=this.internal.collections.addImage_images;for(var M in P)i.call(this,P[M])},o=function(){var P,M=this.internal.collections.addImage_images,X=this.internal.write;for(var U in M)X("/I"+(P=M[U]).index,P.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var P=this.internal.collections.addImage_images;return a.call(this),P},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(P){return typeof t["process"+P.toUpperCase()]=="function"},f=function(P){return Er(P)==="object"&&P.nodeType===1},d=function(P,M){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var X=""+P.getAttribute("src");if(X.indexOf("data:image/")===0)return qy(unescape(X).split("base64,").pop());var U=t.loadFile(X,!0);if(U!==void 0)return U}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var z;switch(M){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;default:z="image/jpeg"}return qy(P.toDataURL(z,1).split("base64,").pop())}},h=function(P){var M=this.internal.collections.addImage_images;if(M){for(var X in M)if(P===M[X].alias)return M[X]}},g=function(P,M,X){return P||M||(P=-96,M=-96),P<0&&(P=-1*X.width*72/P/this.internal.scaleFactor),M<0&&(M=-1*X.height*72/M/this.internal.scaleFactor),P===0&&(P=M*X.width/X.height),M===0&&(M=P*X.height/X.width),[P,M]},v=function(P,M,X,U,z,re){var Z=g.call(this,X,U,z),de=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,me=l.call(this);if(X=Z[0],U=Z[1],me[z.index]=z,re){re*=Math.PI/180;var ge=Math.cos(re),T=Math.sin(re),B=function(H){return H.toFixed(4)},F=[B(ge),B(T),B(-1*T),B(ge),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,de(P),fe(M+U),"cm"].join(" ")),this.internal.write(F.join(" ")),this.internal.write([de(X),"0","0",de(U),"0","0","cm"].join(" "))):this.internal.write([de(X),"0","0",de(U),de(P),fe(M+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(P){var M,X,U=0;if(typeof P=="string")for(X=P.length,M=0;M<X;M++)U=(U<<5)-U+P.charCodeAt(M),U|=0;else if(L(P))for(X=P.byteLength/2,M=0;M<X;M++)U=(U<<5)-U+P[M],U|=0;return U},C=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var M=!0;return P.length===0&&(M=!1),P.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(M=!1),M},D=t.__addimage__.extractImageFromDataUrl=function(P){var M=(P=P||"").split("base64,"),X=null;if(M.length===2){var U=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(U)&&(X={mimeType:U[1],charset:U[2],data:M[1]})}return X},A=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(P){return A()&&P instanceof ArrayBuffer};var L=t.__addimage__.isArrayBufferView=function(P){return A()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},I=t.__addimage__.binaryStringToUint8Array=function(P){for(var M=P.length,X=new Uint8Array(M),U=0;U<M;U++)X[U]=P.charCodeAt(U);return X},N=t.__addimage__.arrayBufferToBinaryString=function(P){for(var M="",X=L(P)?P:new Uint8Array(P),U=0;U<X.length;U+=8192)M+=String.fromCharCode.apply(null,X.subarray(U,U+8192));return M};t.addImage=function(){var P,M,X,U,z,re,Z,de,fe;if(typeof arguments[1]=="number"?(M=e,X=arguments[1],U=arguments[2],z=arguments[3],re=arguments[4],Z=arguments[5],de=arguments[6],fe=arguments[7]):(M=arguments[1],X=arguments[2],U=arguments[3],z=arguments[4],re=arguments[5],Z=arguments[6],de=arguments[7],fe=arguments[8]),Er(P=arguments[0])==="object"&&!f(P)&&"imageData"in P){var me=P;P=me.imageData,M=me.format||M||e,X=me.x||X||0,U=me.y||U||0,z=me.w||me.width||z,re=me.h||me.height||re,Z=me.alias||Z,de=me.compression||de,fe=me.rotation||me.angle||fe}var ge=this.internal.getFilters();if(de===void 0&&ge.indexOf("FlateEncode")!==-1&&(de="SLOW"),isNaN(X)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var T=O.call(this,P,M,Z,de);return v.call(this,X,U,z,re,T,fe),this};var O=function(P,M,X,U){var z,re,Z;if(typeof P=="string"&&r(P)===e){P=unescape(P);var de=V(P,!1);(de!==""||(de=t.loadFile(P,!0))!==void 0)&&(P=de)}if(f(P)&&(P=d(P,M)),M=r(P,M),!u(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((Z=X)==null||Z.length===0)&&(X=(function(fe){return typeof fe=="string"||L(fe)?E(fe):L(fe.data)?E(fe.data):null})(P)),(z=h.call(this,X))||(A()&&(P instanceof Uint8Array||M==="RGBA"||(re=P,P=I(P))),z=this["process"+M.toUpperCase()](P,c.call(this),X,(function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in t.image_compression?fe:_.NONE})(U),re)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},V=t.__addimage__.convertBase64ToBinaryString=function(P,M){var X;M=typeof M!="boolean"||M;var U,z="";if(typeof P=="string"){U=(X=D(P))!==null?X.data:P;try{z=qy(U)}catch(re){if(M)throw C(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(P){var M,X,U="";if(f(P)&&(P=d(P)),typeof P=="string"&&r(P)===e&&((U=V(P,!1))===""&&(U=t.loadFile(P)||""),P=U),X=r(P),!u(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(!A()||P instanceof Uint8Array||(P=I(P)),!(M=this["process"+X.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=X,M}})(Vt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Vt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){r=c[d];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(v.objId),E=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+h(_(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(_(E))+") >>",v.content=s;var C=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+C,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(v.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var D=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var A=this.annotations._nameMap[r.options.name];r.options.pageNumber=A.page,r.options.top=A.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var L=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+L+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Vt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},a=t.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(v){var x=0,_=n,E="",C=0;for(x=0;x<v.length;x+=1)_[v.charCodeAt(x)]!==void 0?(C++,typeof(_=_[v.charCodeAt(x)])=="number"&&(E+=String.fromCharCode(_),_=n,C=0),x===v.length-1&&(_=n,E+=v.charAt(x-(C-1)),x-=C-1,C=0)):(_=n,E+=v.charAt(x-C),x-=C,C=0);return E};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(v,x,_){return o(v)?s(v)===!1?-1:!c(v)||!o(x)&&!o(_)||!o(_)&&a(x)||a(v)&&!o(x)||a(v)&&l(x)||a(v)&&a(x)?0:u(v)&&o(x)&&!a(x)&&o(_)&&c(_)?3:a(v)||!o(_)?1:2:-1},h=function(v){var x=0,_=0,E=0,C="",D="",A="",L=(v=v||"").split("\\s+"),I=[];for(x=0;x<L.length;x+=1){for(I.push(""),_=0;_<L[x].length;_+=1)C=L[x][_],D=L[x][_-1],A=L[x][_+1],o(C)?(E=d(C,D,A),I[x]+=E!==-1?String.fromCharCode(e[C.charCodeAt(0)][E]):C):I[x]+=C;I[x]=f(I[x])}return I.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var v,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(x)){var E=0;for(_=[],E=0;E<x.length;E+=1)Array.isArray(x[E])?_.push([h(x[E][0]),x[E][1],x[E][2]]):_.push([h(x[E])]);v=_}else v=h(x);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",g])})(Vt.API),Vt.API.autoPrint=function(t){var e;return((t=t||{}).variant=t.variant||"non-conform",t.variant)==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Vt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(v){g=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,h=0,g=0,v=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=c.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,D){return C.concat(x.splitTextToSize(D,_))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)h<(v=this.getStringUnitWidth(l[E],{font:f})*u)&&(h=v);return h!==0&&(g=l.length),{w:h/=d,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,d){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,g,v,x,_=[],E=[],C=[],D={},A={},L=[],I=[],N=(d=d||{}).autoSize||!1,O=d.printHeaders!==!1,V=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,P=d.margins||Object.assign({width:this.getPageWidth()},e),M=typeof d.padding=="number"?d.padding:3,X=d.headerBackgroundColor||"#c8c8c8",U=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=U,this.setFontSize(V),f==null)E=_=Object.keys(u[0]),C=_.map(function(){return"left"});else if(Array.isArray(f)&&Er(f[0])==="object")for(_=f.map(function(me){return me.name}),E=f.map(function(me){return me.prompt||me.name||""}),C=f.map(function(me){return me.align||"left"}),h=0;h<f.length;h+=1)A[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(E=_=f,C=_.map(function(){return"left"}));if(N||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<_.length;h+=1){for(D[x=_[h]]=u.map(function(me){return me[x]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(E[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=D[x],this.setFont(void 0,"normal"),v=0;v<g.length;v+=1)L.push(this.getTextDimensions(g[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[x]=Math.max.apply(null,L)+M+M,L=[]}if(O){var z={};for(h=0;h<_.length;h+=1)z[_[h]]={},z[_[h]].text=E[h],z[_[h]].align=C[h];var re=a.call(this,z,A);I=_.map(function(me){return new s(l,c,A[me],re,z[me].text,void 0,z[me].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var Z=f.reduce(function(me,ge){return me[ge.name]=ge.align,me},{});for(h=0;h<u.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:u[h]},this);var de=a.call(this,u[h],A);for(v=0;v<_.length;v+=1){var fe=u[h][_[v]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:v,data:fe},this),o.call(this,new s(l,c,A[_[v]],de,fe,h+2,Z[_[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/d+u+u},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}})(Vt.API);W$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},j$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],cF=G$(j$),z$=[100,200,300,400,500,600,700,800,900],G_e=G$(z$);W_e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},A$={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};rF=["times"];(function(t){var e,n,r,i,s,o,a,l,c,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new o,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new o,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=T;Object.defineProperty(this,"pdf",{get:function(){return B}});var F=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return F},set:function(Oe){F=!!Oe}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(Oe){H=!!Oe}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(Oe){isNaN(Oe)||(Q=Oe)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(Oe){isNaN(Oe)||(ye=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Oe){var ae;typeof Oe=="number"?ae=[Oe,Oe,Oe,Oe]:((ae=new Array(4))[0]=Oe[0],ae[1]=Oe.length>=2?Oe[1]:ae[0],ae[2]=Oe.length>=3?Oe[2]:ae[0],ae[3]=Oe.length>=4?Oe[3]:ae[1]),c.margin=ae}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(Oe){ve=Oe}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(Oe){xe=Oe}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(Oe){be=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Oe){Oe instanceof u&&(c=Oe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Oe){c.path=Oe}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(Oe){He=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var ae;ae=d(Oe),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var ae=d(Oe);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var ee=null;function tt(Oe,ae){if(ee===null){var We=(function(ft){var Je=[];return Object.keys(ft).forEach(function(it){ft[it].forEach(function(dt){var pt=null;switch(dt){case"bold":pt={family:it,weight:"bold"};break;case"italic":pt={family:it,style:"italic"};break;case"bolditalic":pt={family:it,weight:"bold",style:"italic"};break;case"":case"normal":pt={family:it}}pt!==null&&(pt.ref={name:it,style:dt},Je.push(pt))})}),Je})(Oe.getFontList());ee=(function(ft){for(var Je={},it=0;it<ft.length;++it){var dt=uF(ft[it]),pt=dt.family,At=dt.stretch,Dt=dt.style,qt=dt.weight;Je[pt]=Je[pt]||{},Je[pt][At]=Je[pt][At]||{},Je[pt][At][Dt]=Je[pt][At][Dt]||{},Je[pt][At][Dt][qt]=dt}return Je})(We.concat(ae))}return ee}var at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(Oe){ee=null,at=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var ae;if(this.ctx.font=Oe,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var We=ae[1],ft=(ae[2],ae[3]),Je=ae[4],it=(ae[5],ae[6]),dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(dt==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:dt==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var pt=(function(kt){var vt,rt,dr=[],Ut=kt.trim();if(Ut==="")return rF;if(Ut in A$)return[A$[Ut]];for(;Ut!=="";){switch(rt=null,vt=(Ut=D$(Ut)).charAt(0)){case'"':case"'":rt=z_e(Ut.substring(1),vt);break;default:rt=Y_e(Ut)}if(rt===null||(dr.push(rt[0]),(Ut=D$(rt[1]))!==""&&Ut.charAt(0)!==","))return rF;Ut=Ut.replace(/^,/,"")}return dr})(it);if(this.fontFaces){var At=j_e(tt(this.pdf,this.fontFaces),pt.map(function(kt){return{family:kt,stretch:"normal",weight:ft,style:We}}));this.pdf.setFont(At.ref.name,At.ref.style)}else{var Dt="";(ft==="bold"||parseInt(ft,10)>=700||We==="bold")&&(Dt="bold"),We==="italic"&&(Dt+="italic"),Dt.length===0&&(Dt="normal");for(var qt="",en={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Cn=0;Cn<pt.length;Cn++){if(this.pdf.internal.getFont(pt[Cn],Dt,{noFallback:!0,disableWarning:!0})!==void 0){qt=pt[Cn];break}if(Dt==="bolditalic"&&this.pdf.internal.getFont(pt[Cn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qt=pt[Cn],Dt="bold";else if(this.pdf.internal.getFont(pt[Cn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qt=pt[Cn],Dt="normal";break}}if(qt===""){for(var ln=0;ln<pt.length;ln++)if(en[pt[ln]]){qt=en[pt[ln]];break}}qt=qt===""?"Times":qt,this.pdf.setFont(qt,Dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};f.prototype.setLineDash=function(T){this.lineDash=T},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){D.call(this,"fill",!1)},f.prototype.stroke=function(){D.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(T,B){if(isNaN(T)||isNaN(B))throw Mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var F=this.ctx.transform.applyToPoint(new o(T,B));this.path.push({type:"mt",x:F.x,y:F.y}),this.ctx.lastPoint=new o(T,B)},f.prototype.closePath=function(){var T=new o(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Er(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){T=new o(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(T.x,T.y)},f.prototype.lineTo=function(T,B){if(isNaN(T)||isNaN(B))throw Mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var F=this.ctx.transform.applyToPoint(new o(T,B));this.path.push({type:"lt",x:F.x,y:F.y}),this.ctx.lastPoint=new o(F.x,F.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},f.prototype.quadraticCurveTo=function(T,B,F,H){if(isNaN(F)||isNaN(H)||isNaN(T)||isNaN(B))throw Mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new o(F,H)),ye=this.ctx.transform.applyToPoint(new o(T,B));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.bezierCurveTo=function(T,B,F,H,Q,ye){if(isNaN(Q)||isNaN(ye)||isNaN(T)||isNaN(B)||isNaN(F)||isNaN(H))throw Mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(Q,ye)),xe=this.ctx.transform.applyToPoint(new o(T,B)),be=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:be.x,y2:be.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},f.prototype.arc=function(T,B,F,H,Q,ye){if(isNaN(T)||isNaN(B)||isNaN(F)||isNaN(H)||isNaN(Q))throw Mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o(T,B));T=ve.x,B=ve.y;var xe=this.ctx.transform.applyToPoint(new o(0,F)),be=this.ctx.transform.applyToPoint(new o(0,0));F=Math.sqrt(Math.pow(xe.x-be.x,2)+Math.pow(xe.y-be.y,2))}Math.abs(Q-H)>=2*Math.PI&&(H=0,Q=2*Math.PI),this.path.push({type:"arc",x:T,y:B,radius:F,startAngle:H,endAngle:Q,counterclockwise:ye})},f.prototype.arcTo=function(T,B,F,H,Q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(T,B,F,H){if(isNaN(T)||isNaN(B)||isNaN(F)||isNaN(H))throw Mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,B),this.lineTo(T+F,B),this.lineTo(T+F,B+H),this.lineTo(T,B+H),this.lineTo(T,B),this.lineTo(T+F,B),this.lineTo(T,B)},f.prototype.fillRect=function(T,B,F,H){if(isNaN(T)||isNaN(B)||isNaN(F)||isNaN(H))throw Mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,B,F,H),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},f.prototype.strokeRect=function(T,B,F,H){if(isNaN(T)||isNaN(B)||isNaN(F)||isNaN(H))throw Mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(T,B,F,H),this.stroke())},f.prototype.clearRect=function(T,B,F,H){if(isNaN(T)||isNaN(B)||isNaN(F)||isNaN(H))throw Mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,B,F,H))},f.prototype.save=function(T){T=typeof T!="boolean"||T;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},f.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("Q");this.pdf.setPage(B),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(T){var B,F,H,Q;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))B=0,F=0,H=0,Q=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(ye!==null)B=parseInt(ye[1]),F=parseInt(ye[2]),H=parseInt(ye[3]),Q=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)B=parseInt(ye[1]),F=parseInt(ye[2]),H=parseInt(ye[3]),Q=parseFloat(ye[4]);else{if(Q=1,typeof T=="string"&&T.charAt(0)!=="#"){var ve=new B$(T);T=ve.ok?ve.toHex():"#000000"}T.length===4?(B=T.substring(1,2),B+=B,F=T.substring(2,3),F+=F,H=T.substring(3,4),H+=H):(B=T.substring(1,3),F=T.substring(3,5),H=T.substring(5,7)),B=parseInt(B,16),F=parseInt(F,16),H=parseInt(H,16)}}return{r:B,g:F,b:H,a:Q,style:T}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(T,B,F,H){if(isNaN(B)||isNaN(F)||typeof T!="string")throw Mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!h.call(this)){var Q=de(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;M.call(this,{text:T,x:B,y:F,scale:ye,angle:Q,align:this.textAlign,maxWidth:H})}},f.prototype.strokeText=function(T,B,F,H){if(isNaN(B)||isNaN(F)||typeof T!="string")throw Mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){H=isNaN(H)?void 0:H;var Q=de(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;M.call(this,{text:T,x:B,y:F,scale:ye,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:H})}},f.prototype.measureText=function(T){if(typeof T!="string")throw Mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,F=this.pdf.internal.scaleFactor,H=B.internal.getFontSize(),Q=B.getStringUnitWidth(T)*H/B.internal.scaleFactor,ye=function(ve){var xe=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this};return new ye({width:Q*=Math.round(96*F/72*1e4)/1e4})},f.prototype.scale=function(T,B){if(isNaN(T)||isNaN(B))throw Mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var F=new l(T,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.rotate=function(T){if(isNaN(T))throw Mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.translate=function(T,B){if(isNaN(T)||isNaN(B))throw Mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var F=new l(1,0,0,1,T,B);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.transform=function(T,B,F,H,Q,ye){if(isNaN(T)||isNaN(B)||isNaN(F)||isNaN(H)||isNaN(Q)||isNaN(ye))throw Mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(T,B,F,H,Q,ye);this.ctx.transform=this.ctx.transform.multiply(ve)},f.prototype.setTransform=function(T,B,F,H,Q,ye){T=isNaN(T)?1:T,B=isNaN(B)?0:B,F=isNaN(F)?0:F,H=isNaN(H)?1:H,Q=isNaN(Q)?0:Q,ye=isNaN(ye)?0:ye,this.ctx.transform=new l(T,B,F,H,Q,ye)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(T,B,F,H,Q,ye,ve,xe,be){var He=this.pdf.getImageProperties(T),ee=1,tt=1,at=1,Oe=1;H!==void 0&&xe!==void 0&&(at=xe/H,Oe=be/Q,ee=He.width/H*xe/H,tt=He.height/Q*be/Q),ye===void 0&&(ye=B,ve=F,B=0,F=0),H!==void 0&&xe===void 0&&(xe=H,be=Q),H===void 0&&xe===void 0&&(xe=He.width,be=He.height);for(var ae,We=this.ctx.transform.decompose(),ft=de(We.rotate.shx),Je=new l,it=(Je=(Je=(Je=Je.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new a(ye-B*at,ve-F*Oe,H*ee,Q*tt)),dt=x.call(this,it),pt=[],At=0;At<dt.length;At+=1)pt.indexOf(dt[At])===-1&&pt.push(dt[At]);if(C(pt),this.autoPaging)for(var Dt=pt[0],qt=pt[pt.length-1],en=Dt;en<qt+1;en++){this.pdf.setPage(en);var Cn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ln=en===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=en===1?0:kt+(en-2)*vt;if(this.ctx.clip_path.length!==0){var dr=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ae,this.posX+this.margin[3],-rt+ln+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=dr}var Ut=JSON.parse(JSON.stringify(it));Ut=E([Ut],this.posX+this.margin[3],-rt+ln+this.ctx.prevPageLastElemOffset)[0];var Mi=(en>Dt||en<qt)&&v.call(this);Mi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Cn,vt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Ut.x,Ut.y,Ut.w,Ut.h,null,null,ft),Mi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",it.x,it.y,it.w,it.h,null,null,ft)};var x=function(T,B,F){var H=[];B=B||this.pdf.internal.pageSize.width,F=F||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":H.push(Math.floor((T.y+Q)/F)+1);break;case"arc":H.push(Math.floor((T.y+Q-T.radius)/F)+1),H.push(Math.floor((T.y+Q+T.radius)/F)+1);break;case"qct":var ye=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);H.push(Math.floor((ye.y+Q)/F)+1),H.push(Math.floor((ye.y+ye.h+Q)/F)+1);break;case"bct":var ve=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);H.push(Math.floor((ve.y+Q)/F)+1),H.push(Math.floor((ve.y+ve.h+Q)/F)+1);break;case"rect":H.push(Math.floor((T.y+Q)/F)+1),H.push(Math.floor((T.y+T.h+Q)/F)+1)}for(var xe=0;xe<H.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<H[xe];)_.call(this);return H},_=function(){var T=this.fillStyle,B=this.strokeStyle,F=this.font,H=this.lineCap,Q=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=B,this.font=F,this.lineCap=H,this.lineWidth=Q,this.lineJoin=ye},E=function(T,B,F){for(var H=0;H<T.length;H++)switch(T[H].type){case"bct":T[H].x2+=B,T[H].y2+=F;case"qct":T[H].x1+=B,T[H].y1+=F;default:T[H].x+=B,T[H].y+=F}return T},C=function(T){return T.sort(function(B,F){return B-F})},D=function(T,B){for(var F,H,Q=this.fillStyle,ye=this.strokeStyle,ve=this.lineCap,xe=this.lineWidth,be=Math.abs(xe*this.ctx.transform.scaleX),He=this.lineJoin,ee=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),at=[],Oe=0;Oe<tt.length;Oe++)if(tt[Oe].x!==void 0)for(var ae=x.call(this,tt[Oe]),We=0;We<ae.length;We+=1)at.indexOf(ae[We])===-1&&at.push(ae[We]);for(var ft=0;ft<at.length;ft++)for(;this.pdf.internal.getNumberOfPages()<at[ft];)_.call(this);if(C(at),this.autoPaging)for(var Je=at[0],it=at[at.length-1],dt=Je;dt<it+1;dt++){this.pdf.setPage(dt),this.fillStyle=Q,this.strokeStyle=ye,this.lineCap=ve,this.lineWidth=be,this.lineJoin=He;var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=dt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],en=dt===1?0:Dt+(dt-2)*qt;if(this.ctx.clip_path.length!==0){var Cn=this.path;F=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(F,this.posX+this.margin[3],-en+At+this.ctx.prevPageLastElemOffset),A.call(this,T,!0),this.path=Cn}if(H=JSON.parse(JSON.stringify(ee)),this.path=E(H,this.posX+this.margin[3],-en+At+this.ctx.prevPageLastElemOffset),B===!1||dt===0){var ln=(dt>Je||dt<it)&&v.call(this);ln&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,qt,null).clip().discardPath()),A.call(this,T,B),ln&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}else this.lineWidth=be,A.call(this,T,B),this.lineWidth=xe;this.path=ee},A=function(T,B){if((T!=="stroke"||B||!g.call(this))&&(T==="stroke"||B||!h.call(this))){for(var F,H,Q=[],ye=this.path,ve=0;ve<ye.length;ve++){var xe=ye[ve];switch(xe.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:xe,deltas:[],abs:[]});break;case"lt":var be=Q.length;if(ye[ve-1]&&!isNaN(ye[ve-1].x)&&(F=[xe.x-ye[ve-1].x,xe.y-ye[ve-1].y],be>0)){for(;be>=0;be--)if(Q[be-1].close!==!0&&Q[be-1].begin!==!0){Q[be-1].deltas.push(F),Q[be-1].abs.push(xe);break}}break;case"bct":F=[xe.x1-ye[ve-1].x,xe.y1-ye[ve-1].y,xe.x2-ye[ve-1].x,xe.y2-ye[ve-1].y,xe.x-ye[ve-1].x,xe.y-ye[ve-1].y],Q[Q.length-1].deltas.push(F);break;case"qct":var He=ye[ve-1].x+2/3*(xe.x1-ye[ve-1].x),ee=ye[ve-1].y+2/3*(xe.y1-ye[ve-1].y),tt=xe.x+2/3*(xe.x1-xe.x),at=xe.y+2/3*(xe.y1-xe.y),Oe=xe.x,ae=xe.y;F=[He-ye[ve-1].x,ee-ye[ve-1].y,tt-ye[ve-1].x,at-ye[ve-1].y,Oe-ye[ve-1].x,ae-ye[ve-1].y],Q[Q.length-1].deltas.push(F);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(xe)}}H=B?null:T==="stroke"?"stroke":"fill";for(var We=!1,ft=0;ft<Q.length;ft++)if(Q[ft].arc)for(var Je=Q[ft].abs,it=0;it<Je.length;it++){var dt=Je[it];dt.type==="arc"?N.call(this,dt.x,dt.y,dt.radius,dt.startAngle,dt.endAngle,dt.counterclockwise,void 0,B,!We):X.call(this,dt.x,dt.y),We=!0}else if(Q[ft].close===!0)this.pdf.internal.out("h"),We=!1;else if(Q[ft].begin!==!0){var pt=Q[ft].start.x,At=Q[ft].start.y;U.call(this,Q[ft].deltas,pt,At),We=!0}H&&O.call(this,H),B&&V.call(this)}},L=function(T){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,F=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-F;case"top":return T+B-F;case"hanging":return T+B-2*F;case"middle":return T+B/2-F;case"ideographic":return T;default:return T}},I=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(B,F){this.colorStops.push([B,F])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(T,B,F,H,Q,ye,ve,xe,be){for(var He=re.call(this,F,H,Q,ye),ee=0;ee<He.length;ee++){var tt=He[ee];ee===0&&(be?P.call(this,tt.x1+T,tt.y1+B):X.call(this,tt.x1+T,tt.y1+B)),z.call(this,T,B,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}xe?V.call(this):O.call(this,ve)},O=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(T,B){this.pdf.internal.out(n(T)+" "+r(B)+" m")},M=function(T){var B;switch(T.align){case"right":case"end":B="right";break;case"center":B="center";break;default:B="left"}var F=this.pdf.getTextDimensions(T.text),H=L.call(this,T.y),Q=I.call(this,H)-F.h,ye=this.ctx.transform.applyToPoint(new o(T.x,H)),ve=this.ctx.transform.decompose(),xe=new l;xe=(xe=(xe=xe.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var be,He,ee,tt=this.ctx.transform.applyToRectangle(new a(T.x,H,F.w,F.h)),at=xe.applyToRectangle(new a(T.x,Q,F.w,F.h)),Oe=x.call(this,at),ae=[],We=0;We<Oe.length;We+=1)ae.indexOf(Oe[We])===-1&&ae.push(Oe[We]);if(C(ae),this.autoPaging)for(var ft=ae[0],Je=ae[ae.length-1],it=ft;it<Je+1;it++){this.pdf.setPage(it);var dt=it===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],Dt=At-this.margin[0],qt=this.pdf.internal.pageSize.width-this.margin[1],en=qt-this.margin[3],Cn=it===1?0:pt+(it-2)*Dt;if(this.ctx.clip_path.length!==0){var ln=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(be,this.posX+this.margin[3],-1*Cn+dt),A.call(this,"fill",!0),this.path=ln}var kt=E([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Cn+dt+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*T.scale),ee=this.lineWidth,this.lineWidth=ee*T.scale);var vt=this.autoPaging!=="text";if(vt||kt.y+kt.h<=At){if(vt||kt.y>=dt&&kt.x<=qt){var rt=vt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||qt-kt.x)[0],dr=E([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-Cn+dt+this.ctx.prevPageLastElemOffset)[0],Ut=vt&&(it>ft||it<Je)&&v.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],en,Dt,null).clip().discardPath()),this.pdf.text(rt,dr.x,dr.y,{angle:T.angle,align:B,renderingMode:T.renderingMode}),Ut&&this.pdf.restoreGraphicsState()}}else kt.y<At&&(this.ctx.prevPageLastElemOffset+=At-kt.y);T.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=ee)}else T.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*T.scale),ee=this.lineWidth,this.lineWidth=ee*T.scale),this.pdf.text(T.text,ye.x+this.posX,ye.y+this.posY,{angle:T.angle,align:B,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=ee)},X=function(T,B,F,H){F=F||0,H=H||0,this.pdf.internal.out(n(T+F)+" "+r(B+H)+" l")},U=function(T,B,F){return this.pdf.lines(T,B,F,null,null)},z=function(T,B,F,H,Q,ye,ve,xe){this.pdf.internal.out([e(i(F+T)),e(s(H+B)),e(i(Q+T)),e(s(ye+B)),e(i(ve+T)),e(s(xe+B)),"c"].join(" "))},re=function(T,B,F,H){for(var Q=2*Math.PI,ye=Math.PI/2;B>F;)B-=Q;var ve=Math.abs(F-B);ve<Q&&H&&(ve=Q-ve);for(var xe=[],be=H?-1:1,He=B;ve>1e-5;){var ee=He+be*Math.min(ve,ye);xe.push(Z.call(this,T,He,ee)),ve-=Math.abs(ee-He),He=ee}return xe},Z=function(T,B,F){var H=(F-B)/2,Q=T*Math.cos(H),ye=T*Math.sin(H),ve=Q,xe=-ye,be=ve*ve+xe*xe,He=be+ve*Q+xe*ye,ee=4/3*(Math.sqrt(2*be*He)-He)/(ve*ye-xe*Q),tt=ve-ee*xe,at=xe+ee*ve,Oe=tt,ae=-at,We=H+B,ft=Math.cos(We),Je=Math.sin(We);return{x1:T*Math.cos(B),y1:T*Math.sin(B),x2:tt*ft-at*Je,y2:tt*Je+at*ft,x3:Oe*ft-ae*Je,y3:Oe*Je+ae*ft,x4:T*Math.cos(F),y4:T*Math.sin(F)}},de=function(T){return 180*T/Math.PI},fe=function(T,B,F,H,Q,ye){var ve=T+.5*(F-T),xe=B+.5*(H-B),be=Q+.5*(F-Q),He=ye+.5*(H-ye),ee=Math.min(T,Q,ve,be),tt=Math.max(T,Q,ve,be),at=Math.min(B,ye,xe,He),Oe=Math.max(B,ye,xe,He);return new a(ee,at,tt-ee,Oe-at)},me=function(T,B,F,H,Q,ye,ve,xe){var be,He,ee,tt,at,Oe,ae,We,ft,Je,it,dt,pt,At,Dt=F-T,qt=H-B,en=Q-F,Cn=ye-H,ln=ve-Q,kt=xe-ye;for(He=0;He<41;He++)ft=(ae=(ee=T+(be=He/40)*Dt)+be*((at=F+be*en)-ee))+be*(at+be*(Q+be*ln-at)-ae),Je=(We=(tt=B+be*qt)+be*((Oe=H+be*Cn)-tt))+be*(Oe+be*(ye+be*kt-Oe)-We),He==0?(it=ft,dt=Je,pt=ft,At=Je):(it=Math.min(it,ft),dt=Math.min(dt,Je),pt=Math.max(pt,ft),At=Math.max(At,Je));return new a(Math.round(it),Math.round(dt),Math.round(pt-it),Math.round(At-dt))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,B,F=(T=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:B}));this.prevLineDash!==F&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=F)}}})(Vt.API),(function(t){var e=function(s){var o,a,l,c,u,f,d,h,g,v;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(v=u%85))/85)-(g=u%85))/85)-(h=u%85))/85)-(d=u%85))/85)%85,a.push(f+33,d+33,h+33,g+33,v+33)):a.push(122);return(function(x,_){for(var E=_;E>0;E--)x.pop()})(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,u,f=String,d="length",h=255,g="charCodeAt",v="slice",x="replace";for(s[v](-2),s=s[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[v](s[d]%5||5))[d];u>c;c+=5)a=52200625*(s[g](c)-33)+614125*(s[g](c+1)-33)+7225*(s[g](c+2)-33)+85*(s[g](c+3)-33)+(s[g](c+4)-33),l.push(h&a>>24,h&a>>16,h&a>>8,h&a);return(function(_,E){for(var C=E;C>0;C--)_.pop()})(l,o[d]),f.fromCharCode.apply(f,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=DC(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}})(Vt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=(function(l,c,u){var f=new XMLHttpRequest,d=0,h=function(g){var v=g.length,x=[],_=String.fromCharCode;for(d=0;d<v;d+=1)x.push(_(255&g.charCodeAt(d)));return x.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)})(i,s,o)}catch{}return a})(e,n,r)},t.loadImageFile=t.loadFile})(Vt.API),(function(t){function e(){return(Kt.html2canvas?Promise.resolve(Kt.html2canvas):import("./chunk-RRFPTM6Y.js")).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Kt.DOMPurify?Promise.resolve(Kt.DOMPurify):import("./chunk-X3USSNNY.js")).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Er(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||(function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=(function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),d=c.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||f.appendChild(l(d,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f})(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var d=0;d<c.length;++d){var h=c[d],g=h.src.find(function(v){return v.format==="truetype"});g&&l.addFont(g.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Vt.getPageSize=function(o,a,l){if(Er(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var h,g=0,v=0;if(d.hasOwnProperty(f))g=d[f][1]/u,v=d[f][0]/u;else try{g=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",v>g&&(h=v,v=g,g=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>v&&(h=v,v=g,g=h)}return{width:v,height:g,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(uF):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}})(Vt.API),Vt.API.addJS=function(t){return N$=t,this.internal.events.subscribe("postPutResources",function(){MC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(MC+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),k$=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+N$+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){MC!==void 0&&k$!==void 0&&this.internal.out("/Names <</JavaScript "+MC+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var f=n.internal.newObject();u.push(f);var d=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(Vt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=(function(f){for(var d,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,v={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=h,e.indexOf(f.charCodeAt(x+1))!==-1){d=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),v={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:d,numcomponents:f.charCodeAt(x+9)};break}h=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return v})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}})(Vt.API);X_e=(function(){var t,e,n;function r(s){var o,a,l,c,u,f,d,h,g,v,x,_,E,C;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),g=function(){var D,A;for(A=[],D=0;D<4;++D)A.push(String.fromCharCode(this.data[this.pos++]));return A}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),s=f?.data||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(E=0;0<=v?E<v:E>v;0<=v?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":d=(x=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,x.slice(0,d)),this.text[h]=String.fromCharCode.apply(String,x.slice(d+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(C=this.colorType)===4||C===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(f,d,h,g){var v,x,_,E,C,D,A,L,I,N,O,V,P,M,X,U,z,re,Z,de,fe,me=Math.ceil((c.width-f)/h),ge=Math.ceil((c.height-d)/g),T=c.width==me&&c.height==ge;for(M=o*me,V=T?a:new Uint8Array(M*ge),D=s.length,P=0,x=0;P<ge&&l<D;){switch(s[l++]){case 0:for(E=z=0;z<M;E=z+=1)V[x++]=s[l++];break;case 1:for(E=re=0;re<M;E=re+=1)v=s[l++],C=E<o?0:V[x-o],V[x++]=(v+C)%256;break;case 2:for(E=Z=0;Z<M;E=Z+=1)v=s[l++],_=(E-E%o)/o,X=P&&V[(P-1)*M+_*o+E%o],V[x++]=(X+v)%256;break;case 3:for(E=de=0;de<M;E=de+=1)v=s[l++],_=(E-E%o)/o,C=E<o?0:V[x-o],X=P&&V[(P-1)*M+_*o+E%o],V[x++]=(v+Math.floor((C+X)/2))%256;break;case 4:for(E=fe=0;fe<M;E=fe+=1)v=s[l++],_=(E-E%o)/o,C=E<o?0:V[x-o],P===0?X=U=0:(X=V[(P-1)*M+_*o+E%o],U=_&&V[(P-1)*M+(_-1)*o+E%o]),A=C+X-U,L=Math.abs(A-C),N=Math.abs(A-X),O=Math.abs(A-U),I=L<=N&&L<=O?C:N<=O?X:U,V[x++]=(v+I)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!T){var B=((d+P*g)*c.width+f)*o,F=P*M;for(E=0;E<me;E+=1){for(var H=0;H<o;H+=1)a[B++]=V[F++];B+=(h-1)*o}}P++}}return s=_$(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,f,d,h;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=f=0,d=a.length;f<d;o=f+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(h=u[s++])!=null?h:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,f,d,h,g,v,x,_;if(l=this.colors,v=null,a=this.hasAlphaChannel,this.palette.length&&(v=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,a=!0),g=(c=s.data||s).length,f=v||o,u=d=0,l===1)for(;u<g;)h=v?4*o[u/4]:d,x=f[h++],c[u++]=x,c[u++]=x,c[u++]=x,c[u++]=a?f[h++]:255,d=h;else for(;u<g;)h=v?4*o[u/4]:d,c[u++]=f[h++],c[u++]=f[h++],c[u++]=f[h++],c[u++]=a?f[h++]:255,d=h},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Kt)==="[object Window]"){try{e=Kt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,f,d,h;if(this.animation){for(h=[],a=u=0,f=(d=this.animation.frames).length;u<f;a=++u)o=d[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,h.push(o.image=t(l));return h}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),c?.disposeOp===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,f,d=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(o=function(){var h,g;if(h=a++%c,g=l[h],d.renderFrame(s,h),c>1&&a/c<u)return d.animation._timeout=setTimeout(o,g.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r})();(function(t){var e=function(){return typeof DC=="function"},n=function(d,h,g,v){var x=4,_=o;switch(v){case t.image_compression.FAST:x=1,_=s;break;case t.image_compression.MEDIUM:x=6,_=a;break;case t.image_compression.SLOW:x=9,_=l}d=r(d,h,g,_);var E=DC(d,{level:x});return t.__addimage__.arrayBufferToBinaryString(E)},r=function(d,h,g,v){for(var x,_,E,C=d.length/h,D=new Uint8Array(d.length+C),A=u(),L=0;L<C;L+=1){if(E=L*h,x=d.subarray(E,E+h),v)D.set(v(x,g,_),E+L);else{for(var I,N=A.length,O=[];I<N;I+=1)O[I]=A[I](x,g,_);var V=f(O.concat());D.set(O[V],E+L)}_=x}return D},i=function(d){var h=Array.apply([],d);return h.unshift(0),h},s=function(d,h){var g,v=[],x=d.length;v[0]=1;for(var _=0;_<x;_+=1)g=d[_-h]||0,v[_+1]=d[_]-g+256&255;return v},o=function(d,h,g){var v,x=[],_=d.length;x[0]=2;for(var E=0;E<_;E+=1)v=g&&g[E]||0,x[E+1]=d[E]-v+256&255;return x},a=function(d,h,g){var v,x,_=[],E=d.length;_[0]=3;for(var C=0;C<E;C+=1)v=d[C-h]||0,x=g&&g[C]||0,_[C+1]=d[C]+256-(v+x>>>1)&255;return _},l=function(d,h,g){var v,x,_,E,C=[],D=d.length;C[0]=4;for(var A=0;A<D;A+=1)v=d[A-h]||0,x=g&&g[A]||0,_=g&&g[A-h]||0,E=c(v,x,_),C[A+1]=d[A]-E+256&255;return C},c=function(d,h,g){if(d===h&&h===g)return d;var v=Math.abs(h-g),x=Math.abs(d-g),_=Math.abs(d+h-g-g);return v<=x&&v<=_?d:x<=_?h:g},u=function(){return[i,s,o,a,l]},f=function(d){var h=d.map(function(g){return g.reduce(function(v,x){return v+Math.abs(x)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(d,h,g,v){var x,_,E,C,D,A,L,I,N,O,V,P,M,X,U,z=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(E=new X_e(d)).imgData,_=E.bits,x=E.colorSpace,D=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){N=(I=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,V=new Uint8Array(N*E.colors),O=new Uint8Array(N);var Z,de=E.pixelBitlength-E.bits;for(X=0,U=0;X<N;X++){for(M=I[X],Z=0;Z<de;)V[U++]=M>>>Z&255,Z+=E.bits;O[X]=M>>>Z&255}}if(E.bits===16){N=(I=new Uint32Array(E.decodePixels().buffer)).length,V=new Uint8Array(N*(32/E.pixelBitlength)*E.colors),O=new Uint8Array(N*(32/E.pixelBitlength)),P=E.colors>1,X=0,U=0;for(var fe=0;X<N;)M=I[X++],V[U++]=M>>>0&255,P&&(V[U++]=M>>>16&255,M=I[X++],V[U++]=M>>>0&255),O[fe++]=M>>>16&255;_=8}v!==t.image_compression.NONE&&e()?(d=n(V,E.width*E.colors,E.colors,v),L=n(O,E.width,1,v)):(d=V,L=O,z=void 0)}if(E.colorType===3&&(x=this.color_spaces.INDEXED,A=E.palette,E.transparency.indexed)){var me=E.transparency.indexed,ge=0;for(X=0,N=me.length;X<N;++X)ge+=me[X];if((ge/=255)===N-1&&me.indexOf(0)!==-1)C=[me.indexOf(0)];else if(ge!==N){for(I=E.decodePixels(),O=new Uint8Array(I.length),X=0,N=I.length;X<N;X++)O[X]=me[I[X]];L=n(O,E.width,1)}}var T=(function(B){var F;switch(B){case t.image_compression.FAST:F=11;break;case t.image_compression.MEDIUM:F=13;break;case t.image_compression.SLOW:F=14;break;default:F=12}return F})(v);return z===this.decode.FLATE_DECODE&&(re="/Predictor "+T+" "),re+="/Colors "+D+" /BitsPerComponent "+_+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(L&&this.__addimage__.isArrayBuffer(L)||this.__addimage__.isArrayBufferView(L))&&(L=this.__addimage__.arrayBufferToBinaryString(L)),{alias:g,data:d,index:h,filter:z,decodeParameters:re,transparency:C,palette:A,sMask:L,predictor:T,width:E.width,height:E.height,bitsPerComponent:_,colorSpace:x}}}})(Vt.API),(function(t){t.processGIF89A=function(e,n,r,i){var s=new K_e(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new iF(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A})(Vt.API),Rl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Mr.log("bit decode error:"+n)}},Rl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Rl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Rl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Rl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},Rl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Rl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Rl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Rl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var s=new Rl(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new iF(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}})(Vt.API),L$.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var s=new L$(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new iF(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}})(Vt.API),Vt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],d=r[c+2],h=r[c+3];s[a++]=u,s[a++]=f,s[a++]=d,o[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Vt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Om=Vt.API,PC=Om.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,d=0,h=t.length,g=0,v=a[0]||l,x=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(d=f&&Er(c[r])==="object"&&!isNaN(parseInt(c[r][g],10))?c[r][g]/u:0,x.push((a[r]||v)/l+d)),g=r;return x},M$=Om.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Om.processArabic&&(t=Om.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:PC.apply(this,arguments).reduce(function(s,o){return s+o},0)},P$=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},F$=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,u=[],f=[u],d=n.textIndent||0,h=0,g=0,v=t.split(" "),x=PC.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),E=[];v.map(function(D){(D=D.split(/\s*\n/)).length>1?E=E.concat(D.map(function(A,L){return(L&&A.length?`
`:"")+A})):E.push(D[0])}),v=E,l=M$.apply(this,[_,n])}for(s=0,o=v.length;s<o;s++){var C=0;if(r=v[s],l&&r[0]==`
`&&(r=r.substr(1),C=1),d+h+(g=(i=PC.apply(this,[r,n])).reduce(function(D,A){return D+A},0))>e||C){if(g>e){for(a=P$.apply(this,[r,i,e-(d+h),e]),u.push(a.shift()),u=[a.pop()];a.length;)f.push([a.shift()]);g=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(D,A){return D+A},0)}else u=[r];f.push(u),d=g+l,h=x}else u.push(r),d+=h+g,h=x}return c=l?function(D,A){return(A?_:"")+D.join(" ")}:function(D){return D.join(" ")},f.map(c)},Om.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(F$.apply(this,[r[a],o,s]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var d,h,g,v,x=["{"];for(var _ in f){if(d=f[_],isNaN(parseInt(_,10))?h="'"+_+"'":(_=parseInt(_,10),h=(h=s(_).slice(2)).slice(0,-1)+r[h.slice(-1)]),typeof d=="number")d<0?(g=s(d).slice(3),v="-"):(g=s(d).slice(2),v=""),g=v+g.slice(0,-1)+r[g.slice(-1)];else{if(Er(d)!=="object")throw new Error("Don't know what to do with value type "+Er(d)+".");g=o(d)}x.push(h+g)}return x.push("}"),x.join("")},a=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,h,g,v,x={},_=1,E=x,C=[],D="",A="",L=f.length-1,I=1;I<L;I+=1)(v=f[I])=="'"?d?(g=d.join(""),d=void 0):d=[]:d?d.push(v):v=="{"?(C.push([E,g]),E={},g=void 0):v=="}"?((h=C.pop())[0][h[1]]=E,g=void 0,E=h[0]):v=="-"?_=-1:g===void 0?n.hasOwnProperty(v)?(D+=n[v],g=parseInt(D,16)*_,_=1,D=""):D+=v:n.hasOwnProperty(v)?(A+=n[v],E[g]=parseInt(A,16)*_,_=1,g=void 0,A=""):A+=v;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var d=f.font,h=u.Unicode[d.postScriptName];h&&(d.metadata.Unicode={},d.metadata.Unicode.widths=h.widths,d.metadata.Unicode.kerning=h.kerning);var g=c.Unicode[d.postScriptName];g&&(d.metadata.Unicode.encoding=g,d.encoding=g.codePages[0])}])})(Vt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(qy(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(Vt),(function(t){function e(){return(Kt.canvg?Promise.resolve(Kt.canvg):import("./chunk-6WCN5DLD.js")).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Vt.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw Mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(g){return g.fromString(f,n,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}})(),Vt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Vt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,f=0;function d(g,v){var x,_=!1;for(x=0;x<g.length;x+=1)g[x]===v&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=a.length;for(f=0;f<h;f+=1)n[a[f]].value=n[a[f]].defaultValue,n[a[f]].explicitSet=!1}if(Er(t)==="object"){for(i in t)if(s=t[i],d(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&d(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,v=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?v.push("/"+g+" /"+n[g].value):v.push("/"+g+" "+n[g].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Vt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,d=s.length;f<d;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,f,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,d=(a=Object.keys(s).sort(function(h,g){return h-g})).length;f<d;f++)o=a[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",g=0;g<d.length;g++)h+=String.fromCharCode(d[g]);var v=c();u({data:h,addLength1:!0,objectId:v}),l("endobj");var x=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var _=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Vm(a.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Vm(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Vm(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,d="",h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);var g=c();u({data:d,addLength1:!0,objectId:g}),l("endobj");var v=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var x=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Vm(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Vm(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},f=s.mutex||{},d=f.pdfEscape,h=f.activeFontKey,g=f.fonts,v=h,x="",_=0,E="",C=g[v].encoding;if(g[v].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:f};for(E=a,v=h,Array.isArray(a)&&(E=a[0]),_=0;_<E.length;_+=1)g[v].metadata.hasOwnProperty("cmap")&&(o=g[v].metadata.cmap.unicode.codeMap[E[_].charCodeAt(0)]),o||E[_].charCodeAt(0)<256&&g[v].metadata.hasOwnProperty("Unicode")?x+=E[_]:x+="";var D="";return parseInt(v.slice(1))<14||C==="WinAnsiEncoding"?D=d(x,v).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(D=n(x,g[v])),f.isHex=!0,{text:D,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])})(Vt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Vt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,C=0;this.__bidiEngine__={};var D=function(P){var M=P.charCodeAt(),X=M>>8,U=v[X];return U!==void 0?f[256*U+(255&M)]:X===252||X===253?"AL":_.test(X)?"L":X===8?"R":"N"},A=function(P){for(var M,X=0;X<P.length;X++){if((M=D(P.charAt(X)))==="L")return!1;if(M==="R")return!0}return!1},L=function(P,M,X,U){var z,re,Z,de,fe=M[U];switch(fe){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(fe="AN");break;case"AL":E=!0,fe="R";break;case"WS":fe="N";break;case"CS":U<1||U+1>=M.length||(z=X[U-1])!=="EN"&&z!=="AN"||(re=M[U+1])!=="EN"&&re!=="AN"?fe="N":E&&(re="AN"),fe=re===z?re:"N";break;case"ES":fe=(z=U>0?X[U-1]:"B")==="EN"&&U+1<M.length&&M[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&X[U-1]==="EN"){fe="EN";break}if(E){fe="N";break}for(Z=U+1,de=M.length;Z<de&&M[Z]==="ET";)Z++;fe=Z<de&&M[Z]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(de=M.length,Z=U+1;Z<de&&M[Z]==="NSM";)Z++;if(Z<de){var me=P[U],ge=me>=1425&&me<=2303||me===64286;if(z=M[Z],ge&&(z==="R"||z==="AL")){fe="R";break}}}fe=U<1||(z=M[U-1])==="B"?"N":X[U-1];break;case"B":E=!1,i=!0,fe=C;break;case"S":s=!0,fe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":fe="N"}return fe},I=function(P,M,X){var U=P.split("");return X&&N(U,X,{hiLevel:C}),U.reverse(),M&&M.reverse(),U.join("")},N=function(P,M,X){var U,z,re,Z,de,fe=-1,me=P.length,ge=0,T=[],B=C?h:d,F=[];for(E=!1,i=!1,s=!1,z=0;z<me;z++)F[z]=D(P[z]);for(re=0;re<me;re++){if(de=ge,T[re]=L(P,F,T,re),U=240&(ge=B[de][g[T[re]]]),ge&=15,M[re]=Z=B[ge][5],U>0)if(U===16){for(z=fe;z<re;z++)M[z]=1;fe=-1}else fe=-1;if(B[ge][6])fe===-1&&(fe=re);else if(fe>-1){for(z=fe;z<re;z++)M[z]=Z;fe=-1}F[re]==="B"&&(M[re]=0),X.hiLevel|=Z}s&&(function(H,Q,ye){for(var ve=0;ve<ye;ve++)if(H[ve]==="S"){Q[ve]=C;for(var xe=ve-1;xe>=0&&H[xe]==="WS";xe--)Q[xe]=C}})(F,M,me)},O=function(P,M,X,U,z){if(!(z.hiLevel<P)){if(P===1&&C===1&&!i)return M.reverse(),void(X&&X.reverse());for(var re,Z,de,fe,me=M.length,ge=0;ge<me;){if(U[ge]>=P){for(de=ge+1;de<me&&U[de]>=P;)de++;for(fe=ge,Z=de-1;fe<Z;fe++,Z--)re=M[fe],M[fe]=M[Z],M[Z]=re,X&&(re=X[fe],X[fe]=X[Z],X[Z]=re);ge=de}ge++}}},V=function(P,M,X){var U=P.split(""),z={hiLevel:C};return X||(X=[]),N(U,X,z),(function(re,Z,de){if(de.hiLevel!==0&&u)for(var fe,me=0;me<re.length;me++)Z[me]===1&&(fe=x.indexOf(re[me]))>=0&&(re[me]=x[fe+1])})(U,X,z),O(2,U,M,X,z),O(1,U,M,X,z),U.join("")};return this.__bidiEngine__.doBidiReorder=function(P,M,X){if((function(z,re){if(re)for(var Z=0;Z<z.length;Z++)re[Z]=Z;a===void 0&&(a=A(z)),c===void 0&&(c=A(z))})(P,M),o||!l||c)if(o&&l&&a^c)C=a?1:0,P=I(P,M,X);else if(!o&&l&&c)C=a?1:0,P=V(P,M,X),P=I(P,M);else if(!o||a||l||c){if(o&&!l&&a^c)P=I(P,M),a?(C=0,P=V(P,M,X)):(C=1,P=V(P,M,X),P=I(P,M));else if(o&&a&&!l&&c)C=1,P=V(P,M,X),P=I(P,M);else if(!o&&!l&&a^c){var U=u;a?(C=1,P=V(P,M,X),C=0,u=!1,P=V(P,M,X),u=U):(C=0,P=V(P,M,X),P=I(P,M),C=1,u=!1,P=V(P,M,X),u=U,P=I(P,M))}}else C=0,P=V(P,M,X);else C=a?1:0,P=V(P,M,X);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,l=P.isOutputVisual,a=P.isInputRtl,c=P.isOutputRtl,u=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Vt),Vt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new sd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new fxe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new J_e(this.contents),this.head=new Z_e(this),this.name=new ixe(this),this.cmap=new Y$(this),this.toUnicode={},this.hhea=new exe(this),this.maxp=new sxe(this),this.hmtx=new oxe(this),this.post=new nxe(this),this.os2=new txe(this),this.loca=new uxe(this),this.glyf=new axe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();sd=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),J_e=(function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,u,f,d,h,g,v;for(v in h=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),o=Math.floor(f/l),u=16*h-f,(i=new sd).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(u),s=16*h,c=i.pos+s,a=null,g=[],n)for(d=n[v],i.writeString(v),i.writeInt(t(d)),i.writeInt(c),i.writeInt(d.length),g=g.concat(d),v==="head"&&(a=c),c+=d.length;c%4;)g.push(0),c++;return i.write(g),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=X$.call(n);n.length%4;)n.push(0);for(s=new sd(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),Q_e={}.hasOwnProperty,Pc=function(t,e){for(var n in e)Q_e.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ol=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();Z_e=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pc(e,Ol),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new sd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e})(),O$=(function(){function t(e,n){var r,i,s,o,a,l,c,u,f,d,h,g,v,x,_,E,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,s=(function(){var D,A;for(A=[],l=D=0;0<=d?D<d:D>d;l=0<=d?++D:--D)A.push(e.readUInt16());return A})(),e.pos+=2,v=(function(){var D,A;for(A=[],l=D=0;0<=d?D<d:D>d;l=0<=d?++D:--D)A.push(e.readUInt16());return A})(),c=(function(){var D,A;for(A=[],l=D=0;0<=d?D<d:D>d;l=0<=d?++D:--D)A.push(e.readUInt16());return A})(),u=(function(){var D,A;for(A=[],l=D=0;0<=d?D<d:D>d;l=0<=d?++D:--D)A.push(e.readUInt16());return A})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var D,A;for(A=[],l=D=0;0<=i?D<i:D>i;l=0<=i?++D:--D)A.push(e.readUInt16());return A})(),l=_=0,C=s.length;_<C;l=++_)for(x=s[l],r=E=g=v[l];g<=x?E<=x:E>=x;r=g<=x?++E:--E)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-g)-(d-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,s,o,a,l,c,u,f,d,h,g,v,x,_,E,C,D,A,L,I,N,O,V,P,M,X,U,z,re,Z,de,fe,me,ge,T,B,F,H,Q,ye,ve,xe,be,He,ee;switch(U=new sd,o=Object.keys(e).sort(function(tt,at){return tt-at}),n){case"macroman":for(v=0,x=(function(){var tt=[];for(g=0;g<256;++g)tt.push(0);return tt})(),E={0:0},s={},z=0,fe=o.length;z<fe;z++)E[xe=e[i=o[z]]]==null&&(E[xe]=++v),s[i]={old:e[i],new:E[e[i]]},x[i]=E[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(x),{charMap:s,subtable:U.data,maxGlyphID:v+1};case"unicode":for(M=[],f=[],C=0,E={},r={},_=c=null,re=0,me=o.length;re<me;re++)E[A=e[i=o[re]]]==null&&(E[A]=++C),r[i]={old:A,new:E[A]},a=E[A]-i,_!=null&&a===c||(_&&f.push(_),M.push(i),c=a),_=i;for(_&&f.push(_),f.push(65535),M.push(65535),V=2*(O=M.length),N=2*Math.pow(Math.log(O)/Math.LN2,2),d=Math.log(N/2)/Math.LN2,I=2*O-N,l=[],L=[],h=[],g=Z=0,ge=M.length;Z<ge;g=++Z){if(P=M[g],u=f[g],P===65535){l.push(0),L.push(0);break}if(P-(X=r[P].new)>=32768)for(l.push(0),L.push(2*(h.length+O-g)),i=de=P;P<=u?de<=u:de>=u;i=P<=u?++de:--de)h.push(r[i].new);else l.push(X-P),L.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*O+2*h.length),U.writeUInt16(0),U.writeUInt16(V),U.writeUInt16(N),U.writeUInt16(d),U.writeUInt16(I),ye=0,T=f.length;ye<T;ye++)i=f[ye],U.writeUInt16(i);for(U.writeUInt16(0),ve=0,B=M.length;ve<B;ve++)i=M[ve],U.writeUInt16(i);for(be=0,F=l.length;be<F;be++)a=l[be],U.writeUInt16(a);for(He=0,H=L.length;He<H;He++)D=L[He],U.writeUInt16(D);for(ee=0,Q=h.length;ee<Q;ee++)v=h[ee],U.writeUInt16(v);return{charMap:r,subtable:U.data,maxGlyphID:C+1}}},t})(),Y$=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pc(e,Ol),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new O$(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=O$.encode(n,r),(s=new sd).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e})(),exe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pc(e,Ol),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e})(),txe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pc(e,Ol),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i})(),this.charRange=(function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e})(),nxe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pc(e,Ol),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}.call(this)}},e})(),rxe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ixe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pc(e,Ol),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,c,u,f,d,h;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=f=0,d=i.length;f<d;o=++f)s=i[o],n.pos=s.offset,u=n.readString(s.length),a=new rxe(u,s),c[h=s.nameID]==null&&(c[h]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),sxe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pc(e,Ol),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e})(),oxe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pc(e,Ol),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,f;for(f=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)f.push(n.readInt16());return f})(),this.widths=function(){var u,f,d,h;for(h=[],u=0,f=(d=this.metrics).length;u<f;u++)o=d[u],h.push(o.advance);return h}.call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e})(),X$=[].slice,axe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pc(e,Ol),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,u,f,d;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new sd(r.read(s))).readShort(),u=l.readShort(),d=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[n]=a===-1?new cxe(l,u,d,c,f):new lxe(l,a,u,d,c,f),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e})(),lxe=(function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),cxe=(function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new sd(X$.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),uxe=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pc(e,Ol),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}.call(this):function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}.call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),f=0;f<i.length;++f)u[4*f+3]=255&i[f],u[4*f+2]=(65280&i[f])>>8,u[4*f+1]=(16711680&i[f])>>16,u[4*f]=(4278190080&i[f])>>24;return u},e})(),fxe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,u,f,d,h,g,v,x,_;for(i in r=Y$.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},_=r.charMap)h[(l=_[i]).old]=l.new;for(g in d=r.maxGlyphID,o)g in h||(h[g]=d++);return u=(function(E){var C,D;for(C in D={},E)D[E[C]]=C;return D})(h),f=Object.keys(u).sort(function(E,C){return E-C}),v=(function(){var E,C,D;for(D=[],E=0,C=f.length;E<C;E++)a=f[E],D.push(u[a]);return D})(),s=this.font.glyf.encode(o,v,h),c=this.font.loca.encode(s.offsets,v),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t})();Vt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+(function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e})();dxe=Vt});var K$=Yj((Qh,hF)=>{(function(e,n){if(typeof Qh=="object"&&typeof hF=="object")hF.exports=n((function(){try{return LC(),dR(dF)}catch{}})());else if(typeof define=="function"&&define.amd)define(["jspdf"],n);else{var r=n(typeof Qh=="object"?(function(){try{return LC(),dR(dF)}catch{}})():e.jspdf);for(var i in r)(typeof Qh=="object"?Qh:e)[i]=r[i]}})(typeof globalThis<"u"?globalThis:typeof Qh<"u"?Qh:typeof window<"u"?window:typeof self<"u"?self:global,function(t){return(function(){"use strict";var e={172:(function(s,o){var a=this&&this.__extends||(function(){var u=function(f,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(h[v]=g[v])},u(f,d)};return function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(f,d);function h(){this.constructor=f}f.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}})();Object.defineProperty(o,"__esModule",{value:!0}),o.CellHookData=o.HookData=void 0;var l=(function(){function u(f,d,h){this.table=d,this.pageNumber=d.pageNumber,this.pageCount=this.pageNumber,this.settings=d.settings,this.cursor=h,this.doc=f.getDocument()}return u})();o.HookData=l;var c=(function(u){a(f,u);function f(d,h,g,v,x,_){var E=u.call(this,d,h,_)||this;return E.cell=g,E.row=v,E.column=x,E.section=v.section,E}return f})(l);o.CellHookData=c}),340:(function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0});var l=a(4),c=a(136),u=a(744),f=a(776),d=a(664),h=a(972);function g(v){v.API.autoTable=function(){for(var x=[],_=0;_<arguments.length;_++)x[_]=arguments[_];var E;x.length===1?E=x[0]:(console.error("Use of deprecated autoTable initiation"),E=x[2]||{},E.columns=x[0],E.body=x[1]);var C=(0,f.parseInput)(this,E),D=(0,h.createTable)(this,C);return(0,d.drawTable)(this,D),this},v.API.lastAutoTable=!1,v.API.previousAutoTable=!1,v.API.autoTable.previous=!1,v.API.autoTableText=function(x,_,E,C){(0,c.default)(x,_,E,C,this)},v.API.autoTableSetDefaults=function(x){return u.DocHandler.setDefaults(x,this),this},v.autoTableSetDefaults=function(x,_){u.DocHandler.setDefaults(x,_)},v.API.autoTableHtmlToJson=function(x,_){var E;if(_===void 0&&(_=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var C=new u.DocHandler(this),D=(0,l.parseHtml)(C,x,window,_,!1),A=D.head,L=D.body,I=((E=A[0])===null||E===void 0?void 0:E.map(function(N){return N.content}))||[];return{columns:I,rows:L,data:L}},v.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var x=this.lastAutoTable;return x&&x.finalY?x.finalY:0},v.API.autoTableAddPageContent=function(x){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),v.API.autoTable.globalDefaults||(v.API.autoTable.globalDefaults={}),v.API.autoTable.globalDefaults.addPageContent=x,this},v.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}o.default=g}),136:(function(s,o){Object.defineProperty(o,"__esModule",{value:!0});function a(l,c,u,f,d){f=f||{};var h=1.15,g=d.internal.scaleFactor,v=d.internal.getFontSize()/g,x=d.getLineHeightFactor?d.getLineHeightFactor():h,_=v*x,E=/\r\n|\r|\n/g,C="",D=1;if((f.valign==="middle"||f.valign==="bottom"||f.halign==="center"||f.halign==="right")&&(C=typeof l=="string"?l.split(E):l,D=C.length||1),u+=v*(2-h),f.valign==="middle"?u-=D/2*_:f.valign==="bottom"&&(u-=D*_),f.halign==="center"||f.halign==="right"){var A=v;if(f.halign==="center"&&(A*=.5),C&&D>=1){for(var L=0;L<C.length;L++)d.text(C[L],c-d.getStringUnitWidth(C[L])*A,u),u+=_;return d}c-=d.getStringUnitWidth(l)*A}return f.halign==="justify"?d.text(l,c,u,{maxWidth:f.maxWidth||100,align:"justify"}):d.text(l,c,u),d}o.default=a}),420:(function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.getPageAvailableWidth=o.parseSpacing=o.getFillStyle=o.addTableBorder=o.getStringWidth=void 0;function a(d,h,g){g.applyStyles(h,!0);var v=Array.isArray(d)?d:[d],x=v.map(function(_){return g.getTextWidth(_)}).reduce(function(_,E){return Math.max(_,E)},0);return x}o.getStringWidth=a;function l(d,h,g,v){var x=h.settings.tableLineWidth,_=h.settings.tableLineColor;d.applyStyles({lineWidth:x,lineColor:_});var E=c(x,!1);E&&d.rect(g.x,g.y,h.getWidth(d.pageSize().width),v.y-g.y,E)}o.addTableBorder=l;function c(d,h){var g=d>0,v=h||h===0;return g&&v?"DF":g?"S":v?"F":null}o.getFillStyle=c;function u(d,h){var g,v,x,_;if(d=d||h,Array.isArray(d)){if(d.length>=4)return{top:d[0],right:d[1],bottom:d[2],left:d[3]};if(d.length===3)return{top:d[0],right:d[1],bottom:d[2],left:d[1]};if(d.length===2)return{top:d[0],right:d[1],bottom:d[0],left:d[1]};d.length===1?d=d[0]:d=h}return typeof d=="object"?(typeof d.vertical=="number"&&(d.top=d.vertical,d.bottom=d.vertical),typeof d.horizontal=="number"&&(d.right=d.horizontal,d.left=d.horizontal),{left:(g=d.left)!==null&&g!==void 0?g:h,top:(v=d.top)!==null&&v!==void 0?v:h,right:(x=d.right)!==null&&x!==void 0?x:h,bottom:(_=d.bottom)!==null&&_!==void 0?_:h}):(typeof d!="number"&&(d=h),{top:d,right:d,bottom:d,left:d})}o.parseSpacing=u;function f(d,h){var g=u(h.settings.margin,0);return d.pageSize().width-(g.left+g.right)}o.getPageAvailableWidth=f}),796:(function(s,o){var a=this&&this.__extends||(function(){var f=function(d,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(g[x]=v[x])},f(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");f(d,h);function g(){this.constructor=d}d.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}})();Object.defineProperty(o,"__esModule",{value:!0}),o.getTheme=o.defaultStyles=o.HtmlRowInput=void 0;var l=(function(f){a(d,f);function d(h){var g=f.call(this)||this;return g._element=h,g}return d})(Array);o.HtmlRowInput=l;function c(f){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/f,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}o.defaultStyles=c;function u(f){var d={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return d[f]}o.getTheme=u}),903:(function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.parseCss=void 0;var l=a(420);function c(g,v,x,_,E){var C={},D=1.3333333333333333,A=f(v,function(Z){return E.getComputedStyle(Z).backgroundColor});A!=null&&(C.fillColor=A);var L=f(v,function(Z){return E.getComputedStyle(Z).color});L!=null&&(C.textColor=L);var I=h(_,x);I&&(C.cellPadding=I);var N="borderTopColor",O=D*x,V=_.borderTopWidth;if(_.borderBottomWidth===V&&_.borderRightWidth===V&&_.borderLeftWidth===V){var P=(parseFloat(V)||0)/O;P&&(C.lineWidth=P)}else C.lineWidth={top:(parseFloat(_.borderTopWidth)||0)/O,right:(parseFloat(_.borderRightWidth)||0)/O,bottom:(parseFloat(_.borderBottomWidth)||0)/O,left:(parseFloat(_.borderLeftWidth)||0)/O},C.lineWidth.top||(C.lineWidth.right?N="borderRightColor":C.lineWidth.bottom?N="borderBottomColor":C.lineWidth.left&&(N="borderLeftColor"));console.log(C.lineWidth);var M=f(v,function(Z){return E.getComputedStyle(Z)[N]});M!=null&&(C.lineColor=M);var X=["left","right","center","justify"];X.indexOf(_.textAlign)!==-1&&(C.halign=_.textAlign),X=["middle","bottom","top"],X.indexOf(_.verticalAlign)!==-1&&(C.valign=_.verticalAlign);var U=parseInt(_.fontSize||"");isNaN(U)||(C.fontSize=U/D);var z=u(_);z&&(C.fontStyle=z);var re=(_.fontFamily||"").toLowerCase();return g.indexOf(re)!==-1&&(C.font=re),C}o.parseCss=c;function u(g){var v="";return(g.fontWeight==="bold"||g.fontWeight==="bolder"||parseInt(g.fontWeight)>=700)&&(v="bold"),(g.fontStyle==="italic"||g.fontStyle==="oblique")&&(v+="italic"),v}function f(g,v){var x=d(g,v);if(!x)return null;var _=x.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!_||!Array.isArray(_))return null;var E=[parseInt(_[1]),parseInt(_[2]),parseInt(_[3])],C=parseInt(_[4]);return C===0||isNaN(E[0])||isNaN(E[1])||isNaN(E[2])?null:E}function d(g,v){var x=v(g);return x==="rgba(0, 0, 0, 0)"||x==="transparent"||x==="initial"||x==="inherit"?g.parentElement==null?null:d(g.parentElement,v):x}function h(g,v){var x=[g.paddingTop,g.paddingRight,g.paddingBottom,g.paddingLeft],_=96/(72/v),E=(parseInt(g.lineHeight)-parseInt(g.fontSize))/v/2,C=x.map(function(A){return parseInt(A||"0")/_}),D=(0,l.parseSpacing)(C,0);return E>D.top&&(D.top=E),E>D.bottom&&(D.bottom=E),D}}),744:(function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.DocHandler=void 0;var a={},l=(function(){function c(u){this.jsPDFDocument=u,this.userStyles={textColor:u.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:u.internal.getFontSize(),fontStyle:u.internal.getFont().fontStyle,font:u.internal.getFont().fontName,lineWidth:u.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:u.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return c.setDefaults=function(u,f){f===void 0&&(f=null),f?f.__autoTableDocumentDefaults=u:a=u},c.unifyColor=function(u){return Array.isArray(u)?u:typeof u=="number"?[u,u,u]:typeof u=="string"?[u]:null},c.prototype.applyStyles=function(u,f){var d,h,g;f===void 0&&(f=!1),u.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(u.fontStyle);var v=this.jsPDFDocument.internal.getFont(),x=v.fontStyle,_=v.fontName;if(u.font&&(_=u.font),u.fontStyle){x=u.fontStyle;var E=this.getFontList()[_];E&&E.indexOf(x)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E[0]),x=E[0])}if(this.jsPDFDocument.setFont(_,x),u.fontSize&&this.jsPDFDocument.setFontSize(u.fontSize),!f){var C=c.unifyColor(u.fillColor);C&&(d=this.jsPDFDocument).setFillColor.apply(d,C),C=c.unifyColor(u.textColor),C&&(h=this.jsPDFDocument).setTextColor.apply(h,C),C=c.unifyColor(u.lineColor),C&&(g=this.jsPDFDocument).setDrawColor.apply(g,C),typeof u.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(u.lineWidth)}},c.prototype.splitTextToSize=function(u,f,d){return this.jsPDFDocument.splitTextToSize(u,f,d)},c.prototype.rect=function(u,f,d,h,g){return this.jsPDFDocument.rect(u,f,d,h,g)},c.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},c.prototype.getTextWidth=function(u){return this.jsPDFDocument.getTextWidth(u)},c.prototype.getDocument=function(){return this.jsPDFDocument},c.prototype.setPage=function(u){this.jsPDFDocument.setPage(u)},c.prototype.addPage=function(){return this.jsPDFDocument.addPage()},c.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},c.prototype.getGlobalOptions=function(){return a||{}},c.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},c.prototype.pageSize=function(){var u=this.jsPDFDocument.internal.pageSize;return u.width==null&&(u={width:u.getWidth(),height:u.getHeight()}),u},c.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},c.prototype.getLineHeightFactor=function(){var u=this.jsPDFDocument;return u.getLineHeightFactor?u.getLineHeightFactor():1.15},c.prototype.getLineHeight=function(u){return u/this.scaleFactor()*this.getLineHeightFactor()},c.prototype.pageNumber=function(){var u=this.jsPDFDocument.internal.getCurrentPageInfo();return u?u.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},c})();o.DocHandler=l}),4:(function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.parseHtml=void 0;var l=a(903),c=a(796);function u(h,g,v,x,_){var E,C;x===void 0&&(x=!1),_===void 0&&(_=!1);var D;typeof g=="string"?D=v.document.querySelector(g):D=g;var A=Object.keys(h.getFontList()),L=h.scaleFactor(),I=[],N=[],O=[];if(!D)return console.error("Html table could not be found with input: ",g),{head:I,body:N,foot:O};for(var V=0;V<D.rows.length;V++){var P=D.rows[V],M=(C=(E=P?.parentElement)===null||E===void 0?void 0:E.tagName)===null||C===void 0?void 0:C.toLowerCase(),X=f(A,L,v,P,x,_);X&&(M==="thead"?I.push(X):M==="tfoot"?O.push(X):N.push(X))}return{head:I,body:N,foot:O}}o.parseHtml=u;function f(h,g,v,x,_,E){for(var C=new c.HtmlRowInput(x),D=0;D<x.cells.length;D++){var A=x.cells[D],L=v.getComputedStyle(A);if(_||L.display!=="none"){var I=void 0;E&&(I=(0,l.parseCss)(h,A,g,L,v)),C.push({rowSpan:A.rowSpan,colSpan:A.colSpan,styles:I,_element:A,content:d(A)})}}var N=v.getComputedStyle(x);if(C.length>0&&(_||N.display!=="none"))return C}function d(h){var g=h.cloneNode(!0);return g.innerHTML=g.innerHTML.replace(/\n/g,"").replace(/ +/g," "),g.innerHTML=g.innerHTML.split(/<br.*?>/).map(function(v){return v.trim()}).join(`
`),g.innerText||g.textContent||""}}),776:(function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.parseInput=void 0;var l=a(4),c=a(356),u=a(420),f=a(744),d=a(792);function h(D,A){var L=new f.DocHandler(D),I=L.getDocumentOptions(),N=L.getGlobalOptions();(0,d.default)(L,N,I,A);var O=(0,c.assign)({},N,I,A),V;typeof window<"u"&&(V=window);var P=g(N,I,A),M=v(N,I,A),X=x(L,O),U=E(L,O,V);return{id:A.tableId,content:U,hooks:M,styles:P,settings:X}}o.parseInput=h;function g(D,A,L){for(var I={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},N=function(M){if(M==="columnStyles"){var X=D[M],U=A[M],z=L[M];I.columnStyles=(0,c.assign)({},X,U,z)}else{var re=[D,A,L],Z=re.map(function(de){return de[M]||{}});I[M]=(0,c.assign)({},Z[0],Z[1],Z[2])}},O=0,V=Object.keys(I);O<V.length;O++){var P=V[O];N(P)}return I}function v(D,A,L){for(var I=[D,A,L],N={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,V=I;O<V.length;O++){var P=V[O];P.didParseCell&&N.didParseCell.push(P.didParseCell),P.willDrawCell&&N.willDrawCell.push(P.willDrawCell),P.didDrawCell&&N.didDrawCell.push(P.didDrawCell),P.willDrawPage&&N.willDrawPage.push(P.willDrawPage),P.didDrawPage&&N.didDrawPage.push(P.didDrawPage)}return N}function x(D,A){var L,I,N,O,V,P,M,X,U,z,re,Z,de=(0,u.parseSpacing)(A.margin,40/D.scaleFactor()),fe=(L=_(D,A.startY))!==null&&L!==void 0?L:de.top,me;A.showFoot===!0?me="everyPage":A.showFoot===!1?me="never":me=(I=A.showFoot)!==null&&I!==void 0?I:"everyPage";var ge;A.showHead===!0?ge="everyPage":A.showHead===!1?ge="never":ge=(N=A.showHead)!==null&&N!==void 0?N:"everyPage";var T=(O=A.useCss)!==null&&O!==void 0?O:!1,B=A.theme||(T?"plain":"striped"),F=!!A.horizontalPageBreak,H=(V=A.horizontalPageBreakRepeat)!==null&&V!==void 0?V:null;return{includeHiddenHtml:(P=A.includeHiddenHtml)!==null&&P!==void 0?P:!1,useCss:T,theme:B,startY:fe,margin:de,pageBreak:(M=A.pageBreak)!==null&&M!==void 0?M:"auto",rowPageBreak:(X=A.rowPageBreak)!==null&&X!==void 0?X:"auto",tableWidth:(U=A.tableWidth)!==null&&U!==void 0?U:"auto",showHead:ge,showFoot:me,tableLineWidth:(z=A.tableLineWidth)!==null&&z!==void 0?z:0,tableLineColor:(re=A.tableLineColor)!==null&&re!==void 0?re:200,horizontalPageBreak:F,horizontalPageBreakRepeat:H,horizontalPageBreakBehaviour:(Z=A.horizontalPageBreakBehaviour)!==null&&Z!==void 0?Z:"afterAllRows"}}function _(D,A){var L=D.getLastAutoTable(),I=D.scaleFactor(),N=D.pageNumber(),O=!1;if(L&&L.startPageNumber){var V=L.startPageNumber+L.pageNumber-1;O=V===N}return typeof A=="number"?A:(A==null||A===!1)&&O&&L?.finalY!=null?L.finalY+20/I:null}function E(D,A,L){var I=A.head||[],N=A.body||[],O=A.foot||[];if(A.html){var V=A.includeHiddenHtml;if(L){var P=(0,l.parseHtml)(D,A.html,L,V,A.useCss)||{};I=P.head||I,N=P.body||I,O=P.foot||I}else console.error("Cannot parse html in non browser environment")}var M=A.columns||C(I,N,O);return{columns:M,head:I,body:N,foot:O}}function C(D,A,L){var I=D[0]||A[0]||L[0]||[],N=[];return Object.keys(I).filter(function(O){return O!=="_element"}).forEach(function(O){var V=1,P;Array.isArray(I)?P=I[parseInt(O)]:P=I[O],typeof P=="object"&&!Array.isArray(P)&&(V=P?.colSpan||1);for(var M=0;M<V;M++){var X=void 0;Array.isArray(I)?X=N.length:X=O+(M>0?"_".concat(M):"");var U={dataKey:X};N.push(U)}}),N}}),792:(function(s,o){Object.defineProperty(o,"__esModule",{value:!0});function a(c,u,f,d){for(var h=function(_){_&&typeof _!="object"&&console.error("The options parameter should be of type object, is: "+typeof _),typeof _.extendWidth<"u"&&(_.tableWidth=_.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof _.margins<"u"&&(typeof _.margin>"u"&&(_.margin=_.margins),console.error("Use of deprecated option: margins, use margin instead.")),_.startY&&typeof _.startY!="number"&&(console.error("Invalid value for startY option",_.startY),delete _.startY),!_.didDrawPage&&(_.afterPageContent||_.beforePageContent||_.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),_.didDrawPage=function(O){c.applyStyles(c.userStyles),_.beforePageContent&&_.beforePageContent(O),c.applyStyles(c.userStyles),_.afterPageContent&&_.afterPageContent(O),c.applyStyles(c.userStyles),_.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),c.applyStyles(c.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){_[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var V=O[0],P=O[1];_[P]&&(console.error("Use of deprecated option ".concat(P,". Use ").concat(V," instead")),_[V]=_[P])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var V=typeof O=="string"?O:O[0],P=typeof O=="string"?O:O[1];typeof _[V]<"u"&&(typeof _.styles[P]>"u"&&(_.styles[P]=_[V]),console.error("Use of deprecated option: "+V+", use the style "+P+" instead."))});for(var E=0,C=["styles","bodyStyles","headStyles","footStyles"];E<C.length;E++){var D=C[E];l(_[D]||{})}for(var A=_.columnStyles||{},L=0,I=Object.keys(A);L<I.length;L++){var N=I[L];l(A[N]||{})}},g=0,v=[u,f,d];g<v.length;g++){var x=v[g];h(x)}}o.default=a;function l(c){c.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),c.minCellHeight||(c.minCellHeight=c.rowHeight)):c.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),c.cellWidth||(c.cellWidth=c.columnWidth))}}),260:(function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.Column=o.Cell=o.Row=o.Table=void 0;var l=a(796),c=a(172),u=a(420),f=(function(){function v(x,_){this.pageNumber=1,this.pageCount=1,this.id=x.id,this.settings=x.settings,this.styles=x.styles,this.hooks=x.hooks,this.columns=_.columns,this.head=_.head,this.body=_.body,this.foot=_.foot}return v.prototype.getHeadHeight=function(x){return this.head.reduce(function(_,E){return _+E.getMaxCellHeight(x)},0)},v.prototype.getFootHeight=function(x){return this.foot.reduce(function(_,E){return _+E.getMaxCellHeight(x)},0)},v.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},v.prototype.callCellHooks=function(x,_,E,C,D,A){for(var L=0,I=_;L<I.length;L++){var N=I[L],O=new c.CellHookData(x,this,E,C,D,A),V=N(O)===!1;if(E.text=Array.isArray(E.text)?E.text:[E.text],V)return!1}return!0},v.prototype.callEndPageHooks=function(x,_){x.applyStyles(x.userStyles);for(var E=0,C=this.hooks.didDrawPage;E<C.length;E++){var D=C[E];D(new c.HookData(x,this,_))}},v.prototype.callWillDrawPageHooks=function(x,_){for(var E=0,C=this.hooks.willDrawPage;E<C.length;E++){var D=C[E];D(new c.HookData(x,this,_))}},v.prototype.getWidth=function(x){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var _=this.columns.reduce(function(C,D){return C+D.wrappedWidth},0);return _}else{var E=this.settings.margin;return x-E.left-E.right}},v})();o.Table=f;var d=(function(){function v(x,_,E,C,D){D===void 0&&(D=!1),this.height=0,this.raw=x,x instanceof l.HtmlRowInput&&(this.raw=x._element,this.element=x._element),this.index=_,this.section=E,this.cells=C,this.spansMultiplePages=D}return v.prototype.getMaxCellHeight=function(x){var _=this;return x.reduce(function(E,C){var D;return Math.max(E,((D=_.cells[C.index])===null||D===void 0?void 0:D.height)||0)},0)},v.prototype.hasRowSpan=function(x){var _=this;return x.filter(function(E){var C=_.cells[E.index];return C?C.rowSpan>1:!1}).length>0},v.prototype.canEntireRowFit=function(x,_){return this.getMaxCellHeight(_)<=x},v.prototype.getMinimumRowHeight=function(x,_){var E=this;return x.reduce(function(C,D){var A=E.cells[D.index];if(!A)return 0;var L=_.getLineHeight(A.styles.fontSize),I=A.padding("vertical"),N=I+L;return N>C?N:C},0)},v})();o.Row=d;var h=(function(){function v(x,_,E){var C,D;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=_,this.section=E,this.raw=x;var A=x;x!=null&&typeof x=="object"&&!Array.isArray(x)?(this.rowSpan=x.rowSpan||1,this.colSpan=x.colSpan||1,A=(D=(C=x.content)!==null&&C!==void 0?C:x.title)!==null&&D!==void 0?D:x,x._element&&(this.raw=x._element)):(this.rowSpan=1,this.colSpan=1);var L=A!=null?""+A:"",I=/\r\n|\r|\n/g;this.text=L.split(I)}return v.prototype.getTextPos=function(){var x;if(this.styles.valign==="top")x=this.y+this.padding("top");else if(this.styles.valign==="bottom")x=this.y+this.height-this.padding("bottom");else{var _=this.height-this.padding("vertical");x=this.y+_/2+this.padding("top")}var E;if(this.styles.halign==="right")E=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var C=this.width-this.padding("horizontal");E=this.x+C/2+this.padding("left")}else E=this.x+this.padding("left");return{x:E,y:x}},v.prototype.getContentHeight=function(x,_){_===void 0&&(_=1.15);var E=Array.isArray(this.text)?this.text.length:1,C=this.styles.fontSize/x*_,D=E*C+this.padding("vertical");return Math.max(D,this.styles.minCellHeight)},v.prototype.padding=function(x){var _=(0,u.parseSpacing)(this.styles.cellPadding,0);return x==="vertical"?_.top+_.bottom:x==="horizontal"?_.left+_.right:_[x]},v})();o.Cell=h;var g=(function(){function v(x,_,E){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=x,this.raw=_,this.index=E}return v.prototype.getMaxCustomCellWidth=function(x){for(var _=0,E=0,C=x.allRows();E<C.length;E++){var D=C[E],A=D.cells[this.index];A&&typeof A.styles.cellWidth=="number"&&(_=Math.max(_,A.styles.cellWidth))}return _},v})();o.Column=g}),356:(function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.assign=void 0;function a(l,c,u,f,d){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(l),g=1;g<arguments.length;g++){var v=arguments[g];if(v!=null)for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(h[x]=v[x])}return h}o.assign=a}),972:(function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.createTable=void 0;var l=a(744),c=a(260),u=a(324),f=a(796),d=a(356);function h(D,A){var L=new l.DocHandler(D),I=g(A,L.scaleFactor()),N=new c.Table(A,I);return(0,u.calculateWidths)(L,N),L.applyStyles(L.userStyles),N}o.createTable=h;function g(D,A){var L=D.content,I=E(L.columns);if(L.head.length===0){var N=x(I,"head");N&&L.head.push(N)}if(L.foot.length===0){var N=x(I,"foot");N&&L.foot.push(N)}var O=D.settings.theme,V=D.styles;return{columns:I,head:v("head",L.head,I,V,O,A),body:v("body",L.body,I,V,O,A),foot:v("foot",L.foot,I,V,O,A)}}function v(D,A,L,I,N,O){var V={},P=A.map(function(M,X){for(var U=0,z={},re=0,Z=0,de=0,fe=L;de<fe.length;de++){var me=fe[de];if(V[me.index]==null||V[me.index].left===0)if(Z===0){var ge=void 0;Array.isArray(M)?ge=M[me.index-re-U]:ge=M[me.dataKey];var T={};typeof ge=="object"&&!Array.isArray(ge)&&(T=ge?.styles||{});var B=C(D,me,X,N,I,O,T),F=new c.Cell(ge,B,D);z[me.dataKey]=F,z[me.index]=F,Z=F.colSpan-1,V[me.index]={left:F.rowSpan-1,times:Z}}else Z--,re++;else V[me.index].left--,Z=V[me.index].times,U++}return new c.Row(M,X,D,z)});return P}function x(D,A){var L={};return D.forEach(function(I){if(I.raw!=null){var N=_(A,I.raw);N!=null&&(L[I.dataKey]=N)}}),Object.keys(L).length>0?L:null}function _(D,A){if(D==="head"){if(typeof A=="object")return A.header||A.title||null;if(typeof A=="string"||typeof A=="number")return A}else if(D==="foot"&&typeof A=="object")return A.footer;return null}function E(D){return D.map(function(A,L){var I,N,O;return typeof A=="object"?O=(N=(I=A.dataKey)!==null&&I!==void 0?I:A.key)!==null&&N!==void 0?N:L:O=L,new c.Column(O,A,L)})}function C(D,A,L,I,N,O,V){var P=(0,f.getTheme)(I),M;D==="head"?M=N.headStyles:D==="body"?M=N.bodyStyles:D==="foot"&&(M=N.footStyles);var X=(0,d.assign)({},P.table,P[D],N.styles,M),U=N.columnStyles[A.dataKey]||N.columnStyles[A.index]||{},z=D==="body"?U:{},re=D==="body"&&L%2===0?(0,d.assign)({},P.alternateRow,N.alternateRowStyles):{},Z=(0,f.defaultStyles)(O),de=(0,d.assign)({},Z,X,re,z);return(0,d.assign)(de,V)}}),664:(function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.addPage=o.drawTable=void 0;var l=a(420),c=a(260),u=a(744),f=a(356),d=a(136),h=a(224);function g(U,z){var re=z.settings,Z=re.startY,de=re.margin,fe={x:de.left,y:Z},me=z.getHeadHeight(z.columns)+z.getFootHeight(z.columns),ge=Z+de.bottom+me;if(re.pageBreak==="avoid"){var T=z.body,B=T.reduce(function(Q,ye){return Q+ye.height},0);ge+=B}var F=new u.DocHandler(U);(re.pageBreak==="always"||re.startY!=null&&ge>F.pageSize().height)&&(X(F),fe.y=de.top),z.callWillDrawPageHooks(F,fe);var H=(0,f.assign)({},fe);z.startPageNumber=F.pageNumber(),re.horizontalPageBreak?v(F,z,H,fe):(F.applyStyles(F.userStyles),(re.showHead==="firstPage"||re.showHead==="everyPage")&&z.head.forEach(function(Q){return N(F,z,Q,fe,z.columns)}),F.applyStyles(F.userStyles),z.body.forEach(function(Q,ye){var ve=ye===z.body.length-1;I(F,z,Q,ve,H,fe,z.columns)}),F.applyStyles(F.userStyles),(re.showFoot==="lastPage"||re.showFoot==="everyPage")&&z.foot.forEach(function(Q){return N(F,z,Q,fe,z.columns)})),(0,l.addTableBorder)(F,z,H,fe),z.callEndPageHooks(F,fe),z.finalY=fe.y,U.lastAutoTable=z,U.previousAutoTable=z,U.autoTable&&(U.autoTable.previous=z),F.applyStyles(F.userStyles)}o.drawTable=g;function v(U,z,re,Z){var de=(0,h.calculateAllColumnsCanFitInPage)(U,z),fe=z.settings;if(fe.horizontalPageBreakBehaviour==="afterAllRows")de.forEach(function(B,F){U.applyStyles(U.userStyles),F>0?M(U,z,re,Z,B.columns,!0):x(U,z,Z,B.columns),_(U,z,re,Z,B.columns),C(U,z,Z,B.columns)});else for(var me=-1,ge=de[0],T=function(){var B=me;if(ge){U.applyStyles(U.userStyles);var F=ge.columns;me>=0?M(U,z,re,Z,F,!0):x(U,z,Z,F),B=E(U,z,me+1,Z,F),C(U,z,Z,F)}var H=B-me;de.slice(1).forEach(function(Q){U.applyStyles(U.userStyles),M(U,z,re,Z,Q.columns,!0),E(U,z,me+1,Z,Q.columns,H),C(U,z,Z,Q.columns)}),me=B};me<z.body.length-1;)T()}function x(U,z,re,Z){var de=z.settings;U.applyStyles(U.userStyles),(de.showHead==="firstPage"||de.showHead==="everyPage")&&z.head.forEach(function(fe){return N(U,z,fe,re,Z)})}function _(U,z,re,Z,de){U.applyStyles(U.userStyles),z.body.forEach(function(fe,me){var ge=me===z.body.length-1;I(U,z,fe,ge,re,Z,de)})}function E(U,z,re,Z,de,fe){U.applyStyles(U.userStyles),fe=fe??z.body.length;var me=Math.min(re+fe,z.body.length),ge=-1;return z.body.slice(re,me).forEach(function(T,B){var F=re+B===z.body.length-1,H=P(U,z,F,Z);T.canEntireRowFit(H,de)&&(N(U,z,T,Z,de),ge=re+B)}),ge}function C(U,z,re,Z){var de=z.settings;U.applyStyles(U.userStyles),(de.showFoot==="lastPage"||de.showFoot==="everyPage")&&z.foot.forEach(function(fe){return N(U,z,fe,re,Z)})}function D(U,z,re){var Z=re.getLineHeight(U.styles.fontSize),de=U.padding("vertical"),fe=Math.floor((z-de)/Z);return Math.max(0,fe)}function A(U,z,re,Z){var de={};U.spansMultiplePages=!0,U.height=0;for(var fe=0,me=0,ge=re.columns;me<ge.length;me++){var T=ge[me],B=U.cells[T.index];if(B){Array.isArray(B.text)||(B.text=[B.text]);var F=new c.Cell(B.raw,B.styles,B.section);F=(0,f.assign)(F,B),F.text=[];var H=D(B,z,Z);B.text.length>H&&(F.text=B.text.splice(H,B.text.length));var Q=Z.scaleFactor(),ye=Z.getLineHeightFactor();B.contentHeight=B.getContentHeight(Q,ye),B.contentHeight>=z&&(B.contentHeight=z,F.styles.minCellHeight-=z),B.contentHeight>U.height&&(U.height=B.contentHeight),F.contentHeight=F.getContentHeight(Q,ye),F.contentHeight>fe&&(fe=F.contentHeight),de[T.index]=F}}var ve=new c.Row(U.raw,-1,U.section,de,!0);ve.height=fe;for(var xe=0,be=re.columns;xe<be.length;xe++){var T=be[xe],F=ve.cells[T.index];F&&(F.height=ve.height);var B=U.cells[T.index];B&&(B.height=U.height)}return ve}function L(U,z,re,Z){var de=U.pageSize().height,fe=Z.settings.margin,me=fe.top+fe.bottom,ge=de-me;z.section==="body"&&(ge-=Z.getHeadHeight(Z.columns)+Z.getFootHeight(Z.columns));var T=z.getMinimumRowHeight(Z.columns,U),B=T<re;if(T>ge)return console.error("Will not be able to print row ".concat(z.index," correctly since it's minimum height is larger than page height")),!0;if(!B)return!1;var F=z.hasRowSpan(Z.columns),H=z.getMaxCellHeight(Z.columns)>ge;return H?(F&&console.error("The content of row ".concat(z.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(F||Z.settings.rowPageBreak==="avoid")}function I(U,z,re,Z,de,fe,me){var ge=P(U,z,Z,fe);if(re.canEntireRowFit(ge,me))N(U,z,re,fe,me);else if(L(U,re,ge,z)){var T=A(re,ge,z,U);N(U,z,re,fe,me),M(U,z,de,fe,me),I(U,z,T,Z,de,fe,me)}else M(U,z,de,fe,me),I(U,z,re,Z,de,fe,me)}function N(U,z,re,Z,de){Z.x=z.settings.margin.left;for(var fe=0,me=de;fe<me.length;fe++){var ge=me[fe],T=re.cells[ge.index];if(!T){Z.x+=ge.width;continue}U.applyStyles(T.styles),T.x=Z.x,T.y=Z.y;var B=z.callCellHooks(U,z.hooks.willDrawCell,T,re,ge,Z);if(B===!1){Z.x+=ge.width;continue}O(U,T,Z);var F=T.getTextPos();(0,d.default)(T.text,F.x,F.y,{halign:T.styles.halign,valign:T.styles.valign,maxWidth:Math.ceil(T.width-T.padding("left")-T.padding("right"))},U.getDocument()),z.callCellHooks(U,z.hooks.didDrawCell,T,re,ge,Z),Z.x+=ge.width}Z.y+=re.height}function O(U,z,re){var Z=z.styles;if(U.getDocument().setFillColor(U.getDocument().getFillColor()),typeof Z.lineWidth=="number"){var de=(0,l.getFillStyle)(Z.lineWidth,Z.fillColor);de&&U.rect(z.x,re.y,z.width,z.height,de)}else typeof Z.lineWidth=="object"&&(Z.fillColor&&U.rect(z.x,re.y,z.width,z.height,"F"),V(U,z,re,Z.lineWidth))}function V(U,z,re,Z){var de,fe,me,ge;Z.top&&(de=re.x,fe=re.y,me=re.x+z.width,ge=re.y,Z.right&&(me+=.5*Z.right),Z.left&&(de-=.5*Z.left),T(Z.top,de,fe,me,ge)),Z.bottom&&(de=re.x,fe=re.y+z.height,me=re.x+z.width,ge=re.y+z.height,Z.right&&(me+=.5*Z.right),Z.left&&(de-=.5*Z.left),T(Z.bottom,de,fe,me,ge)),Z.left&&(de=re.x,fe=re.y,me=re.x,ge=re.y+z.height,Z.top&&(fe-=.5*Z.top),Z.bottom&&(ge+=.5*Z.bottom),T(Z.left,de,fe,me,ge)),Z.right&&(de=re.x+z.width,fe=re.y,me=re.x+z.width,ge=re.y+z.height,Z.top&&(fe-=.5*Z.top),Z.bottom&&(ge+=.5*Z.bottom),T(Z.right,de,fe,me,ge));function T(B,F,H,Q,ye){U.getDocument().setLineWidth(B),U.getDocument().line(F,H,Q,ye,"S")}}function P(U,z,re,Z){var de=z.settings.margin.bottom,fe=z.settings.showFoot;return(fe==="everyPage"||fe==="lastPage"&&re)&&(de+=z.getFootHeight(z.columns)),U.pageSize().height-Z.y-de}function M(U,z,re,Z,de,fe){de===void 0&&(de=[]),fe===void 0&&(fe=!1),U.applyStyles(U.userStyles),z.settings.showFoot==="everyPage"&&!fe&&z.foot.forEach(function(ge){return N(U,z,ge,Z,de)}),z.callEndPageHooks(U,Z);var me=z.settings.margin;(0,l.addTableBorder)(U,z,re,Z),X(U),z.pageNumber++,z.pageCount++,Z.x=me.left,Z.y=me.top,re.y=me.top,z.callWillDrawPageHooks(U,Z),z.settings.showHead==="everyPage"&&(z.head.forEach(function(ge){return N(U,z,ge,Z,de)}),U.applyStyles(U.userStyles))}o.addPage=M;function X(U){var z=U.pageNumber();U.setPage(z+1);var re=U.pageNumber();return re===z?(U.addPage(),!0):!1}}),224:(function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.calculateAllColumnsCanFitInPage=void 0;var l=a(420);function c(f,d,h){var g;h===void 0&&(h={});var v=(0,l.getPageAvailableWidth)(f,d),x=new Map,_=[],E=[],C=[];d.settings.horizontalPageBreakRepeat,Array.isArray(d.settings.horizontalPageBreakRepeat)?C=d.settings.horizontalPageBreakRepeat:(typeof d.settings.horizontalPageBreakRepeat=="string"||typeof d.settings.horizontalPageBreakRepeat=="number")&&(C=[d.settings.horizontalPageBreakRepeat]),C.forEach(function(I){var N=d.columns.find(function(O){return O.dataKey===I||O.index===I});N&&!x.has(N.index)&&(x.set(N.index,!0),_.push(N.index),E.push(d.columns[N.index]),v-=N.wrappedWidth)});for(var D=!0,A=(g=h?.start)!==null&&g!==void 0?g:0;A<d.columns.length;){if(x.has(A)){A++;continue}var L=d.columns[A].wrappedWidth;if(D||v>=L)D=!1,_.push(A),E.push(d.columns[A]),v-=L;else break;A++}return{colIndexes:_,columns:E,lastIndex:A-1}}function u(f,d){for(var h=[],g=0;g<d.columns.length;g++){var v=c(f,d,{start:g});v.columns.length&&(h.push(v),g=v.lastIndex)}return h}o.calculateAllColumnsCanFitInPage=u}),324:(function(s,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.ellipsize=o.resizeColumns=o.calculateWidths=void 0;var l=a(420);function c(_,E){u(_,E);var C=[],D=0;E.columns.forEach(function(L){var I=L.getMaxCustomCellWidth(E);I?L.width=I:(L.width=L.wrappedWidth,C.push(L)),D+=L.width});var A=E.getWidth(_.pageSize().width)-D;A&&(A=f(C,A,function(L){return Math.max(L.minReadableWidth,L.minWidth)})),A&&(A=f(C,A,function(L){return L.minWidth})),A=Math.abs(A),!E.settings.horizontalPageBreak&&A>.1/_.scaleFactor()&&(A=A<1?A:Math.round(A),console.warn("Of the table content, ".concat(A," units width could not fit page"))),h(E),g(E,_),d(E)}o.calculateWidths=c;function u(_,E){var C=_.scaleFactor(),D=E.settings.horizontalPageBreak,A=(0,l.getPageAvailableWidth)(_,E);E.allRows().forEach(function(L){for(var I=0,N=E.columns;I<N.length;I++){var O=N[I],V=L.cells[O.index];if(V){var P=E.hooks.didParseCell;E.callCellHooks(_,P,V,L,O,null);var M=V.padding("horizontal");V.contentWidth=(0,l.getStringWidth)(V.text,V.styles,_)+M;var X=(0,l.getStringWidth)(V.text.join(" ").split(/\s+/),V.styles,_);if(V.minReadableWidth=X+V.padding("horizontal"),typeof V.styles.cellWidth=="number")V.minWidth=V.styles.cellWidth,V.wrappedWidth=V.styles.cellWidth;else if(V.styles.cellWidth==="wrap"||D===!0)V.contentWidth>A?(V.minWidth=A,V.wrappedWidth=A):(V.minWidth=V.contentWidth,V.wrappedWidth=V.contentWidth);else{var U=10/C;V.minWidth=V.styles.minCellWidth||U,V.wrappedWidth=V.contentWidth,V.minWidth>V.wrappedWidth&&(V.wrappedWidth=V.minWidth)}}}}),E.allRows().forEach(function(L){for(var I=0,N=E.columns;I<N.length;I++){var O=N[I],V=L.cells[O.index];if(V&&V.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,V.wrappedWidth),O.minWidth=Math.max(O.minWidth,V.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,V.minReadableWidth);else{var P=E.styles.columnStyles[O.dataKey]||E.styles.columnStyles[O.index]||{},M=P.cellWidth||P.minCellWidth;M&&typeof M=="number"&&(O.minWidth=M,O.wrappedWidth=M)}V&&(V.colSpan>1&&!O.minWidth&&(O.minWidth=V.minWidth),V.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=V.minWidth))}})}function f(_,E,C){for(var D=E,A=_.reduce(function(U,z){return U+z.wrappedWidth},0),L=0;L<_.length;L++){var I=_[L],N=I.wrappedWidth/A,O=D*N,V=I.width+O,P=C(I),M=V<P?P:V;E-=M-I.width,I.width=M}if(E=Math.round(E*1e10)/1e10,E){var X=_.filter(function(U){return E<0?U.width>C(U):!0});X.length&&(E=f(X,E,C))}return E}o.resizeColumns=f;function d(_){for(var E={},C=1,D=_.allRows(),A=0;A<D.length;A++)for(var L=D[A],I=0,N=_.columns;I<N.length;I++){var O=N[I],V=E[O.index];if(C>1)C--,delete L.cells[O.index];else if(V)V.cell.height+=L.height,C=V.cell.colSpan,delete L.cells[O.index],V.left--,V.left<=1&&delete E[O.index];else{var P=L.cells[O.index];if(!P)continue;if(P.height=L.height,P.rowSpan>1){var M=D.length-A,X=P.rowSpan>M?M:P.rowSpan;E[O.index]={cell:P,left:X,row:L}}}}}function h(_){for(var E=_.allRows(),C=0;C<E.length;C++)for(var D=E[C],A=null,L=0,I=0,N=0;N<_.columns.length;N++){var O=_.columns[N];if(I-=1,I>1&&_.columns[N+1])L+=O.width,delete D.cells[O.index];else if(A){var V=A;delete D.cells[O.index],A=null,V.width=O.width+L}else{var V=D.cells[O.index];if(!V)continue;if(I=V.colSpan,L=0,V.colSpan>1){A=V,L+=O.width;continue}V.width=O.width+L}}}function g(_,E){for(var C={count:0,height:0},D=0,A=_.allRows();D<A.length;D++){for(var L=A[D],I=0,N=_.columns;I<N.length;I++){var O=N[I],V=L.cells[O.index];if(V){E.applyStyles(V.styles,!0);var P=V.width-V.padding("horizontal");if(V.styles.overflow==="linebreak")V.text=E.splitTextToSize(V.text,P+1/E.scaleFactor(),{fontSize:V.styles.fontSize});else if(V.styles.overflow==="ellipsize")V.text=v(V.text,P,V.styles,E,"...");else if(V.styles.overflow==="hidden")V.text=v(V.text,P,V.styles,E,"");else if(typeof V.styles.overflow=="function"){var M=V.styles.overflow(V.text,P);typeof M=="string"?V.text=[M]:V.text=M}V.contentHeight=V.getContentHeight(E.scaleFactor(),E.getLineHeightFactor());var X=V.contentHeight/V.rowSpan;V.rowSpan>1&&C.count*C.height<X*V.rowSpan?C={height:X,count:V.rowSpan}:C&&C.count>0&&C.height>X&&(X=C.height),X>L.height&&(L.height=X)}}C.count--}}function v(_,E,C,D,A){return _.map(function(L){return x(L,E,C,D,A)})}o.ellipsize=v;function x(_,E,C,D,A){var L=1e4*D.scaleFactor();if(E=Math.ceil(E*L)/L,E>=(0,l.getStringWidth)(_,C,D))return _;for(;E<(0,l.getStringWidth)(_+A,C,D)&&!(_.length<=1);)_=_.substring(0,_.length-1);return _.trim()+A}}),964:(function(s){if(typeof t>"u"){var o=new Error("Cannot find module 'undefined'");throw o.code="MODULE_NOT_FOUND",o}s.exports=t})},n={};function r(s){var o=n[s];if(o!==void 0)return o.exports;var a=n[s]={exports:{}};return e[s].call(a.exports,a,a.exports,r),a.exports}var i={};return(function(){var s=i;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var o=r(340),a=r(776),l=r(664),c=r(972),u=r(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return u.Table}});var f=r(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return f.CellHookData}});var d=r(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return d.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return d.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return d.Row}});function h(E){(0,o.default)(E)}s.applyPlugin=h;function g(E,C){var D=(0,a.parseInput)(E,C),A=(0,c.createTable)(E,D);(0,l.drawTable)(E,A)}function v(E,C){var D=(0,a.parseInput)(E,C);return(0,c.createTable)(E,D)}s.__createTable=v;function x(E,C){(0,l.drawTable)(E,C)}s.__drawTable=x;try{var _=r(964);_.jsPDF&&(_=_.jsPDF),h(_)}catch{}s.default=g})(),i})()})});var hR=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),n0=class t{element=null;classNames=[];attrs=[];notSelectors=[];static parse(e){let n=[],r=(l,c)=>{c.notSelectors.length>0&&!c.element&&c.classNames.length==0&&c.attrs.length==0&&(c.element="*"),l.push(c)},i=new t,s,o=i,a=!1;for(hR.lastIndex=0;s=hR.exec(e);){if(s[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,o=new t,i.notSelectors.push(o)}let l=s[2];if(l){let u=s[3];u==="#"?o.addAttribute("id",l.slice(1)):u==="."?o.addClassName(l.slice(1)):o.setElement(l)}let c=s[4];if(c&&o.addAttribute(o.unescapeAttribute(c),s[6]),s[7]&&(a=!1,o=i),s[8]){if(a)throw new Error("Multiple selectors in :not are not supported");r(n,i),i=o=new t}}return r(n,i),n}unescapeAttribute(e){let n="",r=!1;for(let i=0;i<e.length;i++){let s=e.charAt(i);if(s==="\\"){r=!0;continue}if(s==="$"&&!r)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);r=!1,n+=s}return n}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,n=""){this.attrs.push(e,n&&n.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(n=>e+=`.${n}`),this.attrs)for(let n=0;n<this.attrs.length;n+=2){let r=this.escapeAttribute(this.attrs[n]),i=this.attrs[n+1];e+=`[${r}${i?"="+i:""}]`}return this.notSelectors.forEach(n=>e+=`:not(${n})`),e}},Px=class t{static createNotMatcher(e){let n=new t;return n.addSelectables(e,null),n}_elementMap=new Map;_elementPartialMap=new Map;_classMap=new Map;_classPartialMap=new Map;_attrValueMap=new Map;_attrValuePartialMap=new Map;_listContexts=[];addSelectables(e,n){let r=null;e.length>1&&(r=new AT(e),this._listContexts.push(r));for(let i=0;i<e.length;i++)this._addSelectable(e[i],n,r)}_addSelectable(e,n,r){let i=this,s=e.element,o=e.classNames,a=e.attrs,l=new IT(e,n,r);if(s&&(a.length===0&&o.length===0?this._addTerminal(i._elementMap,s,l):i=this._addPartial(i._elementPartialMap,s)),o)for(let c=0;c<o.length;c++){let u=a.length===0&&c===o.length-1,f=o[c];u?this._addTerminal(i._classMap,f,l):i=this._addPartial(i._classPartialMap,f)}if(a)for(let c=0;c<a.length;c+=2){let u=c===a.length-2,f=a[c],d=a[c+1];if(u){let h=i._attrValueMap,g=h.get(f);g||(g=new Map,h.set(f,g)),this._addTerminal(g,d,l)}else{let h=i._attrValuePartialMap,g=h.get(f);g||(g=new Map,h.set(f,g)),i=this._addPartial(g,d)}}}_addTerminal(e,n,r){let i=e.get(n);i||(i=[],e.set(n,i)),i.push(r)}_addPartial(e,n){let r=e.get(n);return r||(r=new t,e.set(n,r)),r}match(e,n){let r=!1,i=e.element,s=e.classNames,o=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,i,e,n)||r,r=this._matchPartial(this._elementPartialMap,i,e,n)||r,s)for(let a=0;a<s.length;a++){let l=s[a];r=this._matchTerminal(this._classMap,l,e,n)||r,r=this._matchPartial(this._classPartialMap,l,e,n)||r}if(o)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1],u=this._attrValueMap.get(l);c&&(r=this._matchTerminal(u,"",e,n)||r),r=this._matchTerminal(u,c,e,n)||r;let f=this._attrValuePartialMap.get(l);c&&(r=this._matchPartial(f,"",e,n)||r),r=this._matchPartial(f,c,e,n)||r}return r}_matchTerminal(e,n,r,i){if(!e||typeof n!="string")return!1;let s=e.get(n)||[],o=e.get("*");if(o&&(s=s.concat(o)),s.length===0)return!1;let a,l=!1;for(let c=0;c<s.length;c++)a=s[c],l=a.finalize(r,i)||l;return l}_matchPartial(e,n,r,i){if(!e||typeof n!="string")return!1;let s=e.get(n);return s?s.match(r,i):!1}},AT=class{selectors;alreadyMatched=!1;constructor(e){this.selectors=e}},IT=class{selector;cbContext;listContext;notSelectors;constructor(e,n,r){this.selector=e,this.cbContext=n,this.listContext=r,this.notSelectors=e.notSelectors}finalize(e,n){let r=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(r=!Px.createNotMatcher(this.notSelectors).match(e,null)),r&&n&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),n(this.selector,this.cbContext)),r}},Fx=class{registry;constructor(e){this.registry=e}match(e){return this.registry.has(e)?this.registry.get(e):[]}};var Td=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Td||{}),eI=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(eI||{}),Ug=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ug||{}),pR={name:"custom-elements"},mR={name:"no-errors-schema"};var or=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t[t.ATTRIBUTE_NO_BINDING=6]="ATTRIBUTE_NO_BINDING",t})(or||{});function Qj(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return[t.element&&t.element!=="*"?t.element:"",...t.attrs,...e]}function Zj(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return t.element?[5,t.element,...t.attrs,...e]:t.attrs.length?[3,...t.attrs,...e]:t.classNames&&t.classNames.length?[9,...t.classNames]:[]}function ez(t){let e=Qj(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(r=>Zj(r)):[];return e.concat(...n)}function tI(t){return t?n0.parse(t).map(ez):[]}var Zc=(function(t){return t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule",t})(Zc||{});var Rx;function tz(t){return sz(iz(t.nodes).join("")+`[${t.meaning}]`)}function nz(t){return t.id||iL(t)}function iL(t){let e=new DT,n=t.nodes.map(r=>r.visit(e,null));return sL(n.join(""),t.meaning)}var Lx=class{visitText(e,n){return e.value}visitContainer(e,n){return`[${e.children.map(r=>r.visit(this)).join(", ")}]`}visitIcu(e,n){let r=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expression}, ${e.type}, ${r.join(", ")}}`}visitTagPlaceholder(e,n){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,n){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,n){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,n){return`<ph block name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}},rz=new Lx;function iz(t){return t.map(e=>e.visit(rz,null))}var DT=class extends Lx{visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.type}, ${n.join(", ")}}`}};function sz(t){Rx??=new TextEncoder;let e=[...Rx.encode(t)],n=lz(e,nI.Big),r=e.length*8,i=new Uint32Array(80),s=1732584193,o=4023233417,a=2562383102,l=271733878,c=3285377520;n[r>>5]|=128<<24-r%32,n[(r+64>>9<<4)+15]=r;for(let u=0;u<n.length;u+=16){let f=s,d=o,h=a,g=l,v=c;for(let x=0;x<80;x++){x<16?i[x]=n[u+x]:i[x]=oT(i[x-3]^i[x-8]^i[x-14]^i[x-16],1);let _=oz(x,o,a,l),E=_[0],C=_[1],D=[oT(s,5),E,c,C,i[x]].reduce(Vp);c=l,l=a,a=oT(o,30),o=s,s=D}s=Vp(s,f),o=Vp(o,d),a=Vp(a,h),l=Vp(l,g),c=Vp(c,v)}return Pg(s)+Pg(o)+Pg(a)+Pg(l)+Pg(c)}function Pg(t){return(t>>>0).toString(16).padStart(8,"0")}function oz(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function gR(t){Rx??=new TextEncoder;let e=Rx.encode(t),n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=vR(n,e.length,0),i=vR(n,e.length,102072);return r==0&&(i==0||i==1)&&(r=r^319790063,i=i^-1801410264),BigInt.asUintN(32,BigInt(r))<<BigInt(32)|BigInt.asUintN(32,BigInt(i))}function sL(t,e=""){let n=gR(t);return e&&(n=BigInt.asUintN(64,n<<BigInt(1))|n>>BigInt(63)&BigInt(1),n+=gR(e)),BigInt.asUintN(63,n).toString()}function vR(t,e,n){let r=2654435769,i=2654435769,s=0,o=e-12;for(;s<=o;s+=12){r+=t.getUint32(s,!0),i+=t.getUint32(s+4,!0),n+=t.getUint32(s+8,!0);let l=yR(r,i,n);r=l[0],i=l[1],n=l[2]}let a=e-s;return n+=e,a>=4?(r+=t.getUint32(s,!0),s+=4,a>=8?(i+=t.getUint32(s,!0),s+=4,a>=9&&(n+=t.getUint8(s++)<<8),a>=10&&(n+=t.getUint8(s++)<<16),a===11&&(n+=t.getUint8(s++)<<24)):(a>=5&&(i+=t.getUint8(s++)),a>=6&&(i+=t.getUint8(s++)<<8),a===7&&(i+=t.getUint8(s++)<<16))):(a>=1&&(r+=t.getUint8(s++)),a>=2&&(r+=t.getUint8(s++)<<8),a===3&&(r+=t.getUint8(s++)<<16)),yR(r,i,n)[2]}function yR(t,e,n){return t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t<<8,n-=t,n-=e,n^=e>>>13,t-=e,t-=n,t^=n>>>12,e-=n,e-=t,e^=t<<16,n-=t,n-=e,n^=e>>>5,t-=e,t-=n,t^=n>>>3,e-=n,e-=t,e^=t<<10,n-=t,n-=e,n^=e>>>15,[t,e,n]}var nI=(function(t){return t[t.Little=0]="Little",t[t.Big=1]="Big",t})(nI||{});function Vp(t,e){return az(t,e)[1]}function az(t,e){let n=(t&65535)+(e&65535),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|n&65535]}function oT(t,e){return t<<e|t>>>32-e}function lz(t,e){let n=t.length+3>>>2,r=[];for(let i=0;i<n;i++)r[i]=cz(t,i*4,e);return r}function _R(t,e){return e>=t.length?0:t[e]}function cz(t,e,n){let r=0;if(n===nI.Big)for(let i=0;i<4;i++)r+=_R(t,e+i)<<24-8*i;else for(let i=0;i<4;i++)r+=_R(t,e+i)<<8*i;return r}var oL=(function(t){return t[t.None=0]="None",t[t.Const=1]="Const",t})(oL||{}),Ox=class{modifiers;constructor(e=oL.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},au=(function(t){return t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None",t})(au||{}),rc=class extends Ox{name;constructor(e,n){super(n),this.name=e}visitType(e,n){return e.visitBuiltinType(this,n)}},Ia=class extends Ox{value;typeParams;constructor(e,n,r=null){super(n),this.value=e,this.typeParams=r}visitType(e,n){return e.visitExpressionType(this,n)}};var q2=new rc(au.Dynamic),ol=new rc(au.Inferred),uz=new rc(au.Bool),o5e=new rc(au.Int),rI=new rc(au.Number),iI=new rc(au.String),a5e=new rc(au.Function),ic=new rc(au.None),Jg=(function(t){return t[t.Minus=0]="Minus",t[t.Plus=1]="Plus",t})(Jg||{}),Xe=(function(t){return t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Assign=2]="Assign",t[t.Identical=3]="Identical",t[t.NotIdentical=4]="NotIdentical",t[t.Minus=5]="Minus",t[t.Plus=6]="Plus",t[t.Divide=7]="Divide",t[t.Multiply=8]="Multiply",t[t.Modulo=9]="Modulo",t[t.And=10]="And",t[t.Or=11]="Or",t[t.BitwiseOr=12]="BitwiseOr",t[t.BitwiseAnd=13]="BitwiseAnd",t[t.Lower=14]="Lower",t[t.LowerEquals=15]="LowerEquals",t[t.Bigger=16]="Bigger",t[t.BiggerEquals=17]="BiggerEquals",t[t.NullishCoalesce=18]="NullishCoalesce",t[t.Exponentiation=19]="Exponentiation",t[t.In=20]="In",t[t.AdditionAssignment=21]="AdditionAssignment",t[t.SubtractionAssignment=22]="SubtractionAssignment",t[t.MultiplicationAssignment=23]="MultiplicationAssignment",t[t.DivisionAssignment=24]="DivisionAssignment",t[t.RemainderAssignment=25]="RemainderAssignment",t[t.ExponentiationAssignment=26]="ExponentiationAssignment",t[t.AndAssignment=27]="AndAssignment",t[t.OrAssignment=28]="OrAssignment",t[t.NullishCoalesceAssignment=29]="NullishCoalesceAssignment",t})(Xe||{});function fz(t,e){return t==null||e==null?t==e:t.isEquivalent(e)}function aL(t,e,n){let r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Zo(t,e){return aL(t,e,(n,r)=>n.isEquivalent(r))}var Vn=class{type;sourceSpan;constructor(e,n){this.type=e||null,this.sourceSpan=n||null}prop(e,n){return new ea(this,e,null,n)}key(e,n,r){return new iu(this,e,n,r)}callFn(e,n,r){return new To(this,e,null,n,r)}instantiate(e,n,r){return new Zg(this,e,n,r)}conditional(e,n=null,r){return new sc(this,e,n,null,r)}equals(e,n){return new In(Xe.Equals,this,e,null,n)}notEquals(e,n){return new In(Xe.NotEquals,this,e,null,n)}identical(e,n){return new In(Xe.Identical,this,e,null,n)}notIdentical(e,n){return new In(Xe.NotIdentical,this,e,null,n)}minus(e,n){return new In(Xe.Minus,this,e,null,n)}plus(e,n){return new In(Xe.Plus,this,e,null,n)}divide(e,n){return new In(Xe.Divide,this,e,null,n)}multiply(e,n){return new In(Xe.Multiply,this,e,null,n)}modulo(e,n){return new In(Xe.Modulo,this,e,null,n)}power(e,n){return new In(Xe.Exponentiation,this,e,null,n)}and(e,n){return new In(Xe.And,this,e,null,n)}bitwiseOr(e,n){return new In(Xe.BitwiseOr,this,e,null,n)}bitwiseAnd(e,n){return new In(Xe.BitwiseAnd,this,e,null,n)}or(e,n){return new In(Xe.Or,this,e,null,n)}lower(e,n){return new In(Xe.Lower,this,e,null,n)}lowerEquals(e,n){return new In(Xe.LowerEquals,this,e,null,n)}bigger(e,n){return new In(Xe.Bigger,this,e,null,n)}biggerEquals(e,n){return new In(Xe.BiggerEquals,this,e,null,n)}isBlank(e){return this.equals(gz,e)}nullishCoalesce(e,n){return new In(Xe.NullishCoalesce,this,e,null,n)}toStmt(){return new bs(this,null)}},al=class t extends Vn{name;constructor(e,n,r){super(n,r),this.name=e}isEquivalent(e){return e instanceof t&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadVarExpr(this,n)}clone(){return new t(this.name,this.type,this.sourceSpan)}set(e){return new In(Xe.Assign,this,e,null,this.sourceSpan)}},r0=class t extends Vn{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitTypeofExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},Bx=class t extends Vn{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitVoidExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},mn=class t extends Vn{node;constructor(e,n,r){super(n,r),this.node=e}isEquivalent(e){return e instanceof t&&this.node===e.node}isConstant(){return!1}visitExpression(e,n){return e.visitWrappedNodeExpr(this,n)}clone(){return new t(this.node,this.type,this.sourceSpan)}},To=class t extends Vn{fn;args;pure;constructor(e,n,r,i,s=!1){super(r,i),this.fn=e,this.args=n,this.pure=s}get receiver(){return this.fn}isEquivalent(e){return e instanceof t&&this.fn.isEquivalent(e.fn)&&Zo(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,n){return e.visitInvokeFunctionExpr(this,n)}clone(){return new t(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},Qg=class t extends Vn{tag;template;constructor(e,n,r,i){super(r,i),this.tag=e,this.template=n}isEquivalent(e){return e instanceof t&&this.tag.isEquivalent(e.tag)&&this.template.isEquivalent(e.template)}isConstant(){return!1}visitExpression(e,n){return e.visitTaggedTemplateLiteralExpr(this,n)}clone(){return new t(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},Zg=class t extends Vn{classExpr;args;constructor(e,n,r,i){super(r,i),this.classExpr=e,this.args=n}isEquivalent(e){return e instanceof t&&this.classExpr.isEquivalent(e.classExpr)&&Zo(this.args,e.args)}isConstant(){return!1}visitExpression(e,n){return e.visitInstantiateExpr(this,n)}clone(){return new t(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},i0=class t extends Vn{body;flags;constructor(e,n,r){super(null,r),this.body=e,this.flags=n}isEquivalent(e){return e instanceof t&&this.body===e.body&&this.flags===e.flags}isConstant(){return!0}visitExpression(e,n){return e.visitRegularExpressionLiteral(this,n)}clone(){return new t(this.body,this.flags,this.sourceSpan)}},us=class t extends Vn{value;constructor(e,n,r){super(n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value===e.value}isConstant(){return!0}visitExpression(e,n){return e.visitLiteralExpr(this,n)}clone(){return new t(this.value,this.type,this.sourceSpan)}},ev=class t extends Vn{elements;expressions;constructor(e,n,r){super(null,r),this.elements=e,this.expressions=n}isEquivalent(e){return e instanceof t&&aL(this.elements,e.elements,(n,r)=>n.text===r.text)&&Zo(this.expressions,e.expressions)}isConstant(){return!1}visitExpression(e,n){return e.visitTemplateLiteralExpr(this,n)}clone(){return new t(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},Vx=class t extends Vn{text;rawText;constructor(e,n,r){super(iI,n),this.text=e,this.rawText=r??kT(Ax(e))}visitExpression(e,n){return e.visitTemplateLiteralElementExpr(this,n)}isEquivalent(e){return e instanceof t&&e.text===this.text&&e.rawText===this.rawText}isConstant(){return!0}clone(){return new t(this.text,this.sourceSpan,this.rawText)}},Fd=class{text;sourceSpan;constructor(e,n){this.text=e,this.sourceSpan=n}},Zp=class{text;sourceSpan;associatedMessage;constructor(e,n,r){this.text=e,this.sourceSpan=n,this.associatedMessage=r}},dz="|",xR="@@",hz="\u241F",Ux=class t extends Vn{metaBlock;messageParts;placeHolderNames;expressions;constructor(e,n,r,i,s){super(iI,s),this.metaBlock=e,this.messageParts=n,this.placeHolderNames=r,this.expressions=i}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,n){return e.visitLocalizedString(this,n)}clone(){return new t(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${dz}${e}`),this.metaBlock.customId&&(e=`${e}${xR}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(n=>{e=`${e}${hz}${n}`}),wR(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let n=this.placeHolderNames[e-1],r=this.messageParts[e],i=n.text;return n.associatedMessage?.legacyIds.length===0&&(i+=`${xR}${sL(n.associatedMessage.messageString,n.associatedMessage.meaning)}`),wR(i,r.text,this.getMessagePartSourceSpan(e))}},Ax=t=>t.replace(/\\/g,"\\\\"),pz=t=>t.replace(/^:/,"\\:"),mz=t=>t.replace(/:/g,"\\:"),kT=t=>t.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function wR(t,e,n){return t===""?{cooked:e,raw:kT(pz(Ax(e))),range:n}:{cooked:`:${t}:${e}`,raw:kT(`:${mz(Ax(t))}:${Ax(e)}`),range:n}}var $d=class t extends Vn{value;typeParams;constructor(e,n,r=null,i){super(n,i),this.value=e,this.typeParams=r}isEquivalent(e){return e instanceof t&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName}isConstant(){return!1}visitExpression(e,n){return e.visitExternalExpr(this,n)}clone(){return new t(this.value,this.type,this.typeParams,this.sourceSpan)}};var sc=class t extends Vn{condition;falseCase;trueCase;constructor(e,n,r=null,i,s){super(i||n.type,s),this.condition=e,this.falseCase=r,this.trueCase=n}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&fz(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,n){return e.visitConditionalExpr(this,n)}clone(){return new t(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}};var tv=class t extends Vn{condition;constructor(e,n){super(uz,n),this.condition=e}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,n){return e.visitNotExpr(this,n)}clone(){return new t(this.condition.clone(),this.sourceSpan)}},os=class t{name;type;constructor(e,n=null){this.name=e,this.type=n}isEquivalent(e){return this.name===e.name}clone(){return new t(this.name,this.type)}},ff=class t extends Vn{params;statements;name;constructor(e,n,r,i,s){super(r,i),this.params=e,this.statements=n,this.name=s}isEquivalent(e){return(e instanceof t||e instanceof nv)&&Zo(this.params,e.params)&&Zo(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,n){return e.visitFunctionExpr(this,n)}toDeclStmt(e,n){return new nv(e,this.params,this.statements,this.type,n,this.sourceSpan)}clone(){return new t(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},qd=class t extends Vn{params;body;constructor(e,n,r,i){super(r,i),this.params=e,this.body=n}isEquivalent(e){return!(e instanceof t)||!Zo(this.params,e.params)?!1:this.body instanceof Vn&&e.body instanceof Vn?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?Zo(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,n){return e.visitArrowFunctionExpr(this,n)}clone(){return new t(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new Ui(e,this,ol,n,this.sourceSpan)}},Gd=class t extends Vn{operator;expr;parens;constructor(e,n,r,i,s=!0){super(r||rI,i),this.operator=e,this.expr=n,this.parens=s}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,n){return e.visitUnaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},ll=class t extends Vn{expr;constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitParenthesizedExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},In=class t extends Vn{operator;rhs;lhs;constructor(e,n,r,i,s){super(i||n.type,s),this.operator=e,this.rhs=r,this.lhs=n}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,n){return e.visitBinaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan)}isAssignment(){let e=this.operator;return e===Xe.Assign||e===Xe.AdditionAssignment||e===Xe.SubtractionAssignment||e===Xe.MultiplicationAssignment||e===Xe.DivisionAssignment||e===Xe.RemainderAssignment||e===Xe.ExponentiationAssignment||e===Xe.AndAssignment||e===Xe.OrAssignment||e===Xe.NullishCoalesceAssignment}},ea=class t extends Vn{receiver;name;constructor(e,n,r,i){super(r,i),this.receiver=e,this.name=n}get index(){return this.name}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadPropExpr(this,n)}set(e){return new In(Xe.Assign,this.receiver.prop(this.name),e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},iu=class t extends Vn{receiver;index;constructor(e,n,r,i){super(r,i),this.receiver=e,this.index=n}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,n){return e.visitReadKeyExpr(this,n)}set(e){return new In(Xe.Assign,this.receiver.key(this.index),e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},oc=class t extends Vn{entries;constructor(e,n,r){super(n,r),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof t&&Zo(this.entries,e.entries)}visitExpression(e,n){return e.visitLiteralArrayExpr(this,n)}clone(){return new t(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},s0=class t{key;value;quoted;constructor(e,n,r){this.key=e,this.value=n,this.quoted=r}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new t(this.key,this.value.clone(),this.quoted)}isConstant(){return this.value.isConstant()}},df=class t{expression;constructor(e){this.expression=e}isEquivalent(e){return e instanceof t&&this.expression.isEquivalent(e.expression)}clone(){return new t(this.expression.clone())}isConstant(){return this.expression.isConstant()}},cl=class t extends Vn{entries;valueType=null;constructor(e,n,r){super(n,r),this.entries=e,n&&(this.valueType=n.valueType)}isEquivalent(e){return e instanceof t&&Zo(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.isConstant())}visitExpression(e,n){return e.visitLiteralMapExpr(this,n)}clone(){let e=this.entries.map(n=>n.clone());return new t(e,this.type,this.sourceSpan)}};var Wd=class t extends Vn{expression;constructor(e,n){super(null,n),this.expression=e}isEquivalent(e){return e instanceof t&&this.expression.isEquivalent(e.expression)}isConstant(){return this.expression.isConstant()}visitExpression(e,n){return e.visitSpreadElementExpr(this,n)}clone(){return new t(this.expression.clone(),this.sourceSpan)}},o0=new us(null,null,null),gz=new us(null,ol,null),as=(function(t){return t[t.None=0]="None",t[t.Final=1]="Final",t[t.Private=2]="Private",t[t.Exported=4]="Exported",t[t.Static=8]="Static",t})(as||{}),NT=class{text;multiline;trailingNewline;constructor(e,n,r){this.text=e,this.multiline=n,this.trailingNewline=r}toString(){return this.multiline?` ${this.text} `:this.text}},Hx=class extends NT{tags;constructor(e){super("",!0,!0),this.tags=e}toString(){return wz(this.tags)}},jd=class{modifiers;sourceSpan;leadingComments;constructor(e=as.None,n=null,r){this.modifiers=e,this.sourceSpan=n,this.leadingComments=r}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},Ui=class t extends jd{name;value;type;constructor(e,n,r,i,s,o){super(i,s,o),this.name=e,this.value=n,this.type=r||n&&n.type||null}isEquivalent(e){return e instanceof t&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,n){return e.visitDeclareVarStmt(this,n)}},nv=class t extends jd{name;params;statements;type;constructor(e,n,r,i,s,o,a){super(s,o,a),this.name=e,this.params=n,this.statements=r,this.type=i||null}isEquivalent(e){return e instanceof t&&Zo(this.params,e.params)&&Zo(this.statements,e.statements)}visitStatement(e,n){return e.visitDeclareFunctionStmt(this,n)}},bs=class t extends jd{expr;constructor(e,n,r){super(as.None,n,r),this.expr=e}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}visitStatement(e,n){return e.visitExpressionStmt(this,n)}},ls=class t extends jd{value;constructor(e,n=null,r){super(as.None,n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value.isEquivalent(e.value)}visitStatement(e,n){return e.visitReturnStmt(this,n)}},$x=class t extends jd{condition;trueCase;falseCase;constructor(e,n,r=[],i,s){super(as.None,i,s),this.condition=e,this.trueCase=n,this.falseCase=r}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&Zo(this.trueCase,e.trueCase)&&Zo(this.falseCase,e.falseCase)}visitStatement(e,n){return e.visitIfStmt(this,n)}};function vz(t=[]){return new Hx(t)}function En(t,e,n){return new al(t,e,n)}function bt(t,e=null,n){return new $d(t,null,e,n)}function cs(t,e,n){return new Ia(t,e,n)}function Yv(t){return new r0(t)}function Zn(t,e,n){return new oc(t,e,n)}function Da(t,e=null){return new cl(t.map(n=>new s0(n.key,n.value,n.quoted)),e,null)}function yz(t,e){return new tv(t,e)}function hf(t,e,n,r,i){return new ff(t,e,n,r,i)}function ac(t,e,n,r){return new qd(t,e,n,r)}function G2(t,e,n,r,i){return new $x(t,e,n,r,i)}function _z(t,e,n,r){return new Qg(t,e,n,r)}function Ie(t,e,n){return new us(t,e,n)}function xz(t,e,n,r,i){return new Ux(t,e,n,r,i)}function ER(t){let e="";if(t.tagName&&(e+=` @${t.tagName}`),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}function wz(t){if(t.length===0)return"";if(t.length===1&&t[0].tagName&&!t[0].text)return`*${ER(t[0])} `;let e=`*
`;for(let n of t)e+=" *",e+=ER(n).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var Ez="_c",Sz={},Cz=50,qx=class t extends Vn{resolved;original;shared=!1;constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,n){return n===Sz?this.original.visitExpression(e,n):this.resolved.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},Gx=class{isClosureCompilerEnabled;statements=[];literals=new Map;literalFactories=new Map;sharedConstants=new Map;_claimedNames=new Map;nextNameIndex=0;constructor(e=!1){this.isClosureCompilerEnabled=e}getConstLiteral(e,n){if(e instanceof us&&!SR(e)||e instanceof qx)return e;let r=rv.INSTANCE.keyOf(e),i=this.literals.get(r),s=!1;if(i||(i=new qx(e),this.literals.set(r,i),s=!0),!s&&!i.shared||s&&n){let o=this.freshName(),a,l;this.isClosureCompilerEnabled&&SR(e)?(a=new ff([],[new ls(e)]),l=En(o).callFn([])):(a=e,l=En(o)),this.statements.push(new Ui(o,a,ol,as.Final)),i.fixup(l)}return i}getSharedConstant(e,n){let r=e.keyOf(n);if(!this.sharedConstants.has(r)){let i=this.freshName();this.sharedConstants.set(r,En(i)),this.statements.push(e.toSharedConstantDeclaration(i,n))}return this.sharedConstants.get(r)}getSharedFunctionReference(e,n,r=!0){let i=e instanceof qd;for(let o of this.statements)if(i&&o instanceof Ui&&o.value?.isEquivalent(e)||!i&&o instanceof nv&&e instanceof ff&&e.isEquivalent(o))return En(o.name);let s=r?this.uniqueName(n):n;return this.statements.push(e instanceof ff?e.toDeclStmt(s,as.Final):new Ui(s,e,ol,as.Final,e.sourceSpan)),En(s)}uniqueName(e,n=!0){let r=this._claimedNames.get(e)??0,i=r===0&&!n?`${e}`:`${e}${r}`;return this._claimedNames.set(e,r+1),i}freshName(){return this.uniqueName(Ez)}},rv=class t{static INSTANCE=new t;keyOf(e){if(e instanceof us&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof us)return String(e.value);if(e instanceof i0)return`/${e.body}/${e.flags??""}`;if(e instanceof oc){let n=[];for(let r of e.entries)n.push(this.keyOf(r));return`[${n.join(",")}]`}else if(e instanceof cl){let n=[];for(let r of e.entries)if(r instanceof df)n.push("..."+this.keyOf(r.expression));else{let i=r.key;r.quoted&&(i=`"${i}"`),n.push(i+":"+this.keyOf(r.value))}return`{${n.join(",")}}`}else{if(e instanceof $d)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof al)return`read(${e.name})`;if(e instanceof r0)return`typeof(${this.keyOf(e.expr)})`;if(e instanceof Wd)return`...${this.keyOf(e.expression)}`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function SR(t){return t instanceof us&&typeof t.value=="string"&&t.value.length>=Cz}var Ee="@angular/core",pe=(()=>{class t{static core={name:null,moduleName:Ee};static namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:Ee};static namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:Ee};static namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:Ee};static element={name:"\u0275\u0275element",moduleName:Ee};static elementStart={name:"\u0275\u0275elementStart",moduleName:Ee};static elementEnd={name:"\u0275\u0275elementEnd",moduleName:Ee};static domElement={name:"\u0275\u0275domElement",moduleName:Ee};static domElementStart={name:"\u0275\u0275domElementStart",moduleName:Ee};static domElementEnd={name:"\u0275\u0275domElementEnd",moduleName:Ee};static domElementContainer={name:"\u0275\u0275domElementContainer",moduleName:Ee};static domElementContainerStart={name:"\u0275\u0275domElementContainerStart",moduleName:Ee};static domElementContainerEnd={name:"\u0275\u0275domElementContainerEnd",moduleName:Ee};static domTemplate={name:"\u0275\u0275domTemplate",moduleName:Ee};static domListener={name:"\u0275\u0275domListener",moduleName:Ee};static advance={name:"\u0275\u0275advance",moduleName:Ee};static syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:Ee};static syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:Ee};static attribute={name:"\u0275\u0275attribute",moduleName:Ee};static classProp={name:"\u0275\u0275classProp",moduleName:Ee};static elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:Ee};static elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:Ee};static elementContainer={name:"\u0275\u0275elementContainer",moduleName:Ee};static styleMap={name:"\u0275\u0275styleMap",moduleName:Ee};static classMap={name:"\u0275\u0275classMap",moduleName:Ee};static styleProp={name:"\u0275\u0275styleProp",moduleName:Ee};static interpolate={name:"\u0275\u0275interpolate",moduleName:Ee};static interpolate1={name:"\u0275\u0275interpolate1",moduleName:Ee};static interpolate2={name:"\u0275\u0275interpolate2",moduleName:Ee};static interpolate3={name:"\u0275\u0275interpolate3",moduleName:Ee};static interpolate4={name:"\u0275\u0275interpolate4",moduleName:Ee};static interpolate5={name:"\u0275\u0275interpolate5",moduleName:Ee};static interpolate6={name:"\u0275\u0275interpolate6",moduleName:Ee};static interpolate7={name:"\u0275\u0275interpolate7",moduleName:Ee};static interpolate8={name:"\u0275\u0275interpolate8",moduleName:Ee};static interpolateV={name:"\u0275\u0275interpolateV",moduleName:Ee};static nextContext={name:"\u0275\u0275nextContext",moduleName:Ee};static resetView={name:"\u0275\u0275resetView",moduleName:Ee};static templateCreate={name:"\u0275\u0275template",moduleName:Ee};static defer={name:"\u0275\u0275defer",moduleName:Ee};static deferWhen={name:"\u0275\u0275deferWhen",moduleName:Ee};static deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:Ee};static deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:Ee};static deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:Ee};static deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:Ee};static deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:Ee};static deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:Ee};static deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:Ee};static deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:Ee};static deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:Ee};static deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:Ee};static deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:Ee};static deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:Ee};static deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:Ee};static deferHydrateWhen={name:"\u0275\u0275deferHydrateWhen",moduleName:Ee};static deferHydrateNever={name:"\u0275\u0275deferHydrateNever",moduleName:Ee};static deferHydrateOnIdle={name:"\u0275\u0275deferHydrateOnIdle",moduleName:Ee};static deferHydrateOnImmediate={name:"\u0275\u0275deferHydrateOnImmediate",moduleName:Ee};static deferHydrateOnTimer={name:"\u0275\u0275deferHydrateOnTimer",moduleName:Ee};static deferHydrateOnHover={name:"\u0275\u0275deferHydrateOnHover",moduleName:Ee};static deferHydrateOnInteraction={name:"\u0275\u0275deferHydrateOnInteraction",moduleName:Ee};static deferHydrateOnViewport={name:"\u0275\u0275deferHydrateOnViewport",moduleName:Ee};static deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:Ee};static conditionalCreate={name:"\u0275\u0275conditionalCreate",moduleName:Ee};static conditionalBranchCreate={name:"\u0275\u0275conditionalBranchCreate",moduleName:Ee};static conditional={name:"\u0275\u0275conditional",moduleName:Ee};static repeater={name:"\u0275\u0275repeater",moduleName:Ee};static repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:Ee};static repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:Ee};static repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:Ee};static componentInstance={name:"\u0275\u0275componentInstance",moduleName:Ee};static text={name:"\u0275\u0275text",moduleName:Ee};static enableBindings={name:"\u0275\u0275enableBindings",moduleName:Ee};static disableBindings={name:"\u0275\u0275disableBindings",moduleName:Ee};static getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:Ee};static textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:Ee};static textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:Ee};static textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:Ee};static textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:Ee};static textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:Ee};static textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:Ee};static textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:Ee};static textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:Ee};static textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:Ee};static textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:Ee};static restoreView={name:"\u0275\u0275restoreView",moduleName:Ee};static pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:Ee};static pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:Ee};static pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:Ee};static pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:Ee};static pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:Ee};static pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:Ee};static pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:Ee};static pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:Ee};static pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:Ee};static pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:Ee};static pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:Ee};static pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:Ee};static pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:Ee};static pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:Ee};static pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:Ee};static domProperty={name:"\u0275\u0275domProperty",moduleName:Ee};static ariaProperty={name:"\u0275\u0275ariaProperty",moduleName:Ee};static property={name:"\u0275\u0275property",moduleName:Ee};static control={name:"\u0275\u0275control",moduleName:Ee};static controlCreate={name:"\u0275\u0275controlCreate",moduleName:Ee};static animationEnterListener={name:"\u0275\u0275animateEnterListener",moduleName:Ee};static animationLeaveListener={name:"\u0275\u0275animateLeaveListener",moduleName:Ee};static animationEnter={name:"\u0275\u0275animateEnter",moduleName:Ee};static animationLeave={name:"\u0275\u0275animateLeave",moduleName:Ee};static i18n={name:"\u0275\u0275i18n",moduleName:Ee};static i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:Ee};static i18nExp={name:"\u0275\u0275i18nExp",moduleName:Ee};static i18nStart={name:"\u0275\u0275i18nStart",moduleName:Ee};static i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:Ee};static i18nApply={name:"\u0275\u0275i18nApply",moduleName:Ee};static i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:Ee};static pipe={name:"\u0275\u0275pipe",moduleName:Ee};static projection={name:"\u0275\u0275projection",moduleName:Ee};static projectionDef={name:"\u0275\u0275projectionDef",moduleName:Ee};static reference={name:"\u0275\u0275reference",moduleName:Ee};static inject={name:"\u0275\u0275inject",moduleName:Ee};static injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:Ee};static directiveInject={name:"\u0275\u0275directiveInject",moduleName:Ee};static invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:Ee};static invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:Ee};static templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:Ee};static forwardRef={name:"forwardRef",moduleName:Ee};static resolveForwardRef={name:"resolveForwardRef",moduleName:Ee};static replaceMetadata={name:"\u0275\u0275replaceMetadata",moduleName:Ee};static getReplaceMetadataURL={name:"\u0275\u0275getReplaceMetadataURL",moduleName:Ee};static \u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:Ee};static declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:Ee};static InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:Ee};static resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:Ee};static resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:Ee};static resolveBody={name:"\u0275\u0275resolveBody",moduleName:Ee};static getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:Ee};static defineComponent={name:"\u0275\u0275defineComponent",moduleName:Ee};static declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:Ee};static setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:Ee};static ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:Ee};static ViewEncapsulation={name:"ViewEncapsulation",moduleName:Ee};static ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:Ee};static FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:Ee};static declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:Ee};static FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:Ee};static defineDirective={name:"\u0275\u0275defineDirective",moduleName:Ee};static declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:Ee};static DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:Ee};static InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:Ee};static InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:Ee};static defineInjector={name:"\u0275\u0275defineInjector",moduleName:Ee};static declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:Ee};static NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:Ee};static ModuleWithProviders={name:"ModuleWithProviders",moduleName:Ee};static defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:Ee};static declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:Ee};static setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:Ee};static registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:Ee};static PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:Ee};static definePipe={name:"\u0275\u0275definePipe",moduleName:Ee};static declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:Ee};static declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:Ee};static declareClassMetadataAsync={name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:Ee};static setClassMetadata={name:"\u0275setClassMetadata",moduleName:Ee};static setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:Ee};static setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:Ee};static queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:Ee};static viewQuery={name:"\u0275\u0275viewQuery",moduleName:Ee};static loadQuery={name:"\u0275\u0275loadQuery",moduleName:Ee};static contentQuery={name:"\u0275\u0275contentQuery",moduleName:Ee};static viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:Ee};static contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:Ee};static queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:Ee};static twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:Ee};static twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:Ee};static twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:Ee};static declareLet={name:"\u0275\u0275declareLet",moduleName:Ee};static storeLet={name:"\u0275\u0275storeLet",moduleName:Ee};static readContextLet={name:"\u0275\u0275readContextLet",moduleName:Ee};static attachSourceLocations={name:"\u0275\u0275attachSourceLocations",moduleName:Ee};static NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:Ee};static InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:Ee};static ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:Ee};static HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:Ee};static ExternalStylesFeature={name:"\u0275\u0275ExternalStylesFeature",moduleName:Ee};static listener={name:"\u0275\u0275listener",moduleName:Ee};static getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:Ee};static sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:Ee};static sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:Ee};static validateAttribute={name:"\u0275\u0275validateAttribute",moduleName:Ee};static sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:Ee};static sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:Ee};static sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:Ee};static sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:Ee};static trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:Ee};static trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:Ee};static inputDecorator={name:"Input",moduleName:Ee};static outputDecorator={name:"Output",moduleName:Ee};static viewChildDecorator={name:"ViewChild",moduleName:Ee};static viewChildrenDecorator={name:"ViewChildren",moduleName:Ee};static contentChildDecorator={name:"ContentChild",moduleName:Ee};static contentChildrenDecorator={name:"ContentChildren",moduleName:Ee};static InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:Ee};static UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:Ee};static unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:Ee};static assertType={name:"\u0275assertType",moduleName:Ee}}return t})(),bz=/-+([a-z0-9])/g;function Tz(t){return t.replace(bz,(...e)=>e[1].toUpperCase())}function Az(t,e){return lL(t,":",e)}function Iz(t,e){return lL(t,".",e)}function lL(t,e,n){let r=t.indexOf(e);return r==-1?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function Dz(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319&&t.length>n+1){let i=t.charCodeAt(n+1);i>=56320&&i<=57343&&(n++,r=(r-55296<<10)+i-56320+65536)}r<=127?e.push(r):r<=2047?e.push(r>>6&31|192,r&63|128):r<=65535?e.push(r>>12|224,r>>6&63|128,r&63|128):r<=2097151&&e.push(r>>18&7|240,r>>12&63|128,r>>6&63|128,r&63|128)}return e}function cL(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(cL).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;if(!t.toString)return"object";let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}var MT=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Wg=globalThis,kz=/^([1-9]|1[0-8])\./;function uL(t){return t.startsWith("0.")?!0:!kz.test(t)}var Nz=3,Mz="# sourceMappingURL=data:application/json;base64,",PT=class{file;sourcesContent=new Map;lines=[];lastCol0=0;hasMappings=!1;constructor(e=null){this.file=e}addSource(e,n=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,n),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,n,r,i){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(n!=null&&!this.sourcesContent.has(n))throw new Error(`Unknown source file "${n}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(n&&(r==null||i==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:n,sourceLine0:r,sourceCol0:i}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach((c,u)=>{e.set(c,u),n.push(c),r.push(this.sourcesContent.get(c)||null)});let i="",s=0,o=0,a=0,l=0;return this.lines.forEach(c=>{s=0,i+=c.map(u=>{let f=hx(u.col0-s);return s=u.col0,u.sourceUrl!=null&&(f+=hx(e.get(u.sourceUrl)-o),o=e.get(u.sourceUrl),f+=hx(u.sourceLine0-a),a=u.sourceLine0,f+=hx(u.sourceCol0-l),l=u.sourceCol0),f}).join(","),i+=";"}),i=i.slice(0,-1),{file:this.file||"",version:Nz,sourceRoot:"",sources:n,sourcesContent:r,mappings:i}}toJsComment(){return this.hasMappings?"//"+Mz+Pz(JSON.stringify(this,null,0)):""}};function Pz(t){let e="",n=Dz(t);for(let r=0;r<n.length;){let i=n[r++],s=r<n.length?n[r++]:null,o=r<n.length?n[r++]:null;e+=Hg(i>>2),e+=Hg((i&3)<<4|(s===null?0:s>>4)),e+=s===null?"=":Hg((s&15)<<2|(o===null?0:o>>6)),e+=s===null||o===null?"=":Hg(o&63)}return e}function hx(t){t=t<0?(-t<<1)+1:t<<1;let e="";do{let n=t&31;t=t>>5,t>0&&(n=n|32),e+=Hg(n)}while(t>0);return e}var Fz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Hg(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return Fz[t]}var Rz=/'|\\|\n|\r|\$/g,Lz=/^[$A-Z_][0-9A-Z_$]*$/i,FT="  ",Wx=class{indent;partsLength=0;parts=[];srcSpans=[];constructor(e){this.indent=e}},Oz=new Map([[Xe.And,"&&"],[Xe.Bigger,">"],[Xe.BiggerEquals,">="],[Xe.BitwiseOr,"|"],[Xe.BitwiseAnd,"&"],[Xe.Divide,"/"],[Xe.Assign,"="],[Xe.Equals,"=="],[Xe.Identical,"==="],[Xe.Lower,"<"],[Xe.LowerEquals,"<="],[Xe.Minus,"-"],[Xe.Modulo,"%"],[Xe.Exponentiation,"**"],[Xe.Multiply,"*"],[Xe.NotEquals,"!="],[Xe.NotIdentical,"!=="],[Xe.NullishCoalesce,"??"],[Xe.Or,"||"],[Xe.Plus,"+"],[Xe.In,"in"],[Xe.AdditionAssignment,"+="],[Xe.SubtractionAssignment,"-="],[Xe.MultiplicationAssignment,"*="],[Xe.DivisionAssignment,"/="],[Xe.RemainderAssignment,"%="],[Xe.ExponentiationAssignment,"**="],[Xe.AndAssignment,"&&="],[Xe.OrAssignment,"||="],[Xe.NullishCoalesceAssignment,"??="]]),RT=class t{_indent;static createRoot(){return new t(0)}_lines;constructor(e){this._indent=e,this._lines=[new Wx(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,n=""){this.print(e||null,n,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*FT.length+this._currentLine.partsLength}print(e,n,r=!1){n.length>0&&(this._currentLine.parts.push(n),this._currentLine.partsLength+=n.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),r&&this._lines.push(new Wx(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?CR(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,n=0){let r=new PT(e),i=!1,s=()=>{i||(r.addSource(e," ").addMapping(0,e,0,0),i=!0)};for(let o=0;o<n;o++)r.addLine(),s();return this.sourceLines.forEach((o,a)=>{r.addLine();let l=o.srcSpans,c=o.parts,u=o.indent*FT.length,f=0;for(;f<l.length&&!l[f];)u+=c[f].length,f++;for(f<l.length&&a===0&&u===0?i=!0:s();f<l.length;){let d=l[f],h=d.start.file,g=d.start.line,v=d.start.col;for(r.addSource(h.url,h.content).addMapping(u,h.url,g,v),u+=c[f].length,f++;f<l.length&&(d===l[f]||!l[f]);)u+=c[f].length,f++}}),r}spanOf(e,n){let r=this._lines[e];if(r){let i=n-CR(r.indent).length;for(let s=0;s<r.parts.length;s++){let o=r.parts[s];if(o.length>i)return r.srcSpans[s];i-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},LT=class{_escapeDollarInStrings;lastIfCondition=null;constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,n){if(e.leadingComments!==void 0)for(let r of e.leadingComments)r instanceof Hx?n.print(e,`/*${r.toString()}*/`,r.trailingNewline):r.multiline?n.print(e,`/* ${r.text} */`,r.trailingNewline):r.text.split(`
`).forEach(i=>{n.println(e,`// ${i}`)})}visitExpressionStmt(e,n){return this.printLeadingComments(e,n),e.expr.visitExpression(this,n),n.println(e,";"),null}visitReturnStmt(e,n){return this.printLeadingComments(e,n),n.print(e,"return "),e.value.visitExpression(this,n),n.println(e,";"),null}visitIfStmt(e,n){this.printLeadingComments(e,n),n.print(e,"if ("),this.lastIfCondition=e.condition,e.condition.visitExpression(this,n),this.lastIfCondition=null,n.print(e,") {");let r=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!r?(n.print(e," "),this.visitAllStatements(e.trueCase,n),n.removeEmptyLastLine(),n.print(e," ")):(n.println(),n.incIndent(),this.visitAllStatements(e.trueCase,n),n.decIndent(),r&&(n.println(e,"} else {"),n.incIndent(),this.visitAllStatements(e.falseCase,n),n.decIndent())),n.println(e,"}"),null}visitInvokeFunctionExpr(e,n){let r=e.fn instanceof qd;return r&&n.print(e.fn,"("),e.fn.visitExpression(this,n),r&&n.print(e.fn,")"),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,n){return e.tag.visitExpression(this,n),e.template.visitExpression(this,n),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&(n.print(i,"${"),i.visitExpression(this,n),n.print(i,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){n.print(e,e.rawText)}visitWrappedNodeExpr(e,n){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,n){n.print(e,"typeof "),e.expr.visitExpression(this,n)}visitVoidExpr(e,n){n.print(e,"void "),e.expr.visitExpression(this,n)}visitReadVarExpr(e,n){return n.print(e,e.name),null}visitInstantiateExpr(e,n){return n.print(e,"new "),e.classExpr.visitExpression(this,n),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitLiteralExpr(e,n){let r=e.value;return typeof r=="string"?n.print(e,kd(r,this._escapeDollarInStrings)):n.print(e,`${r}`),null}visitRegularExpressionLiteral(e,n){return n.print(e,`/${e.body}/${e.flags||""}`),null}visitLocalizedString(e,n){let r=e.serializeI18nHead();n.print(e,"$localize `"+r.raw);for(let i=1;i<e.messageParts.length;i++)n.print(e,"${"),e.expressions[i-1].visitExpression(this,n),n.print(e,`}${e.serializeI18nTemplatePart(i).raw}`);return n.print(e,"`"),null}visitConditionalExpr(e,n){return n.print(e,"("),e.condition.visitExpression(this,n),n.print(e,"? "),e.trueCase.visitExpression(this,n),n.print(e,": "),e.falseCase.visitExpression(this,n),n.print(e,")"),null}visitDynamicImportExpr(e,n){n.print(e,`import(${e.url})`)}visitNotExpr(e,n){return n.print(e,"!"),e.condition.visitExpression(this,n),null}visitUnaryOperatorExpr(e,n){let r;switch(e.operator){case Jg.Plus:r="+";break;case Jg.Minus:r="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}let i=e!==this.lastIfCondition;return i&&n.print(e,"("),n.print(e,r),e.expr.visitExpression(this,n),i&&n.print(e,")"),null}visitBinaryOperatorExpr(e,n){let r=Oz.get(e.operator);if(!r)throw new Error(`Unknown operator ${e.operator}`);let i=e!==this.lastIfCondition;return i&&n.print(e,"("),e.lhs.visitExpression(this,n),n.print(e,` ${r} `),e.rhs.visitExpression(this,n),i&&n.print(e,")"),null}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"."),n.print(e,e.name),null}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"]"),null}visitLiteralArrayExpr(e,n){return n.print(e,"["),this.visitAllExpressions(e.entries,n,","),n.print(e,"]"),null}visitLiteralMapExpr(e,n){return n.print(e,"{"),this.visitAllObjects(r=>{r instanceof df?(n.print(e,"..."),r.expression.visitExpression(this,n)):(n.print(e,`${kd(r.key,this._escapeDollarInStrings,r.quoted)}:`),r.value.visitExpression(this,n))},e.entries,n,","),n.print(e,"}"),null}visitCommaExpr(e,n){return n.print(e,"("),this.visitAllExpressions(e.parts,n,","),n.print(e,")"),null}visitParenthesizedExpr(e,n){e.expr.visitExpression(this,n)}visitSpreadElementExpr(e,n){n.print(e,"..."),e.expression.visitExpression(this,n)}visitAllExpressions(e,n,r){this.visitAllObjects(i=>i.visitExpression(this,n),e,n,r)}visitAllObjects(e,n,r,i){let s=!1;for(let o=0;o<n.length;o++)o>0&&(r.lineLength()>80?(r.print(null,i,!0),s||(r.incIndent(),r.incIndent(),s=!0)):r.print(null,i,!1)),e(n[o]);s&&(r.decIndent(),r.decIndent())}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function kd(t,e,n=!0){if(t==null)return null;let r=t.replace(Rz,(...s)=>s[0]=="$"?e?"\\$":"$":s[0]==`
`?"\\n":s[0]=="\r"?"\\r":`\\${s[0]}`);return n||!Lz.test(r)?`'${r}'`:r}function CR(t){let e="";for(let n=0;n<t;n++)e+=FT;return e}function W2(t,e){if(e===0)return cs(t);let n=[];for(let r=0;r<e;r++)n.push(q2);return cs(t,void 0,n)}function Bz(t,e){let n=kd(e,!1,!1);return n!==e?`${t}[${n}]`:`${t}.${e}`}function Vz(t){return Uz("ngJitMode",t)}function Uz(t,e){let n=new $d({name:t,moduleName:null}),r=new In(Xe.Identical,new r0(n),Ie("undefined")),i=new In(Xe.Or,r,n,void 0,void 0);return new In(Xe.And,i,e)}function Bi(t){let e=new mn(t);return{value:e,type:e}}function Nd(t,e){let n=Zn(t.map(r=>r.value));return e?ac([],n):n}function sI(t,e){return{expression:t,forwardRef:e}}function Hz({expression:t,forwardRef:e}){switch(e){case 0:case 1:return t;case 2:return $z(t)}}function $z(t){return bt(pe.forwardRef).callFn([ac([],t)])}var jx=(function(t){return t[t.Class=0]="Class",t[t.Function=1]="Function",t})(jx||{});function Ad(t){let e=En("__ngFactoryType__"),n=null,r=TR(t)?e:new In(Xe.Or,e,t.type.value),i=null;t.deps!==null?t.deps!=="invalid"&&(i=new Zg(r,bR(t.deps,t.target))):(n=En(`\u0275${t.name}_BaseFactory`),i=n.callFn([r]));let s=[],o=null;function a(c){let u=En("__ngConditionalFactory__");s.push(new Ui(u.name,o0,ol));let f=i!==null?u.set(i).toStmt():bt(pe.invalidFactory).callFn([]).toStmt();return s.push(G2(e,[f],[u.set(c).toStmt()])),u}if(TR(t)){let c=bR(t.delegateDeps,t.target),u=new(t.delegateType===jx.Class?Zg:To)(t.delegate,c);o=a(u)}else zz(t)?o=a(t.expression):o=i;if(o===null)s.push(bt(pe.invalidFactory).callFn([]).toStmt());else if(n!==null){let c=bt(pe.getInheritedFactory).callFn([t.type.value]),u=new In(Xe.Or,n,n.set(c));s.push(new ls(u.callFn([r])))}else s.push(new ls(o));let l=hf([new os(e.name,q2)],s,ol,void 0,`${t.name}_Factory`);return n!==null&&(l=ac([],[new Ui(n.name),new ls(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:qz(t)}}function qz(t){let e=t.deps!==null&&t.deps!=="invalid"?Wz(t.deps):ic;return cs(bt(pe.FactoryDeclaration,[W2(t.type.type,t.typeArgumentCount),e]))}function bR(t,e){return t.map((n,r)=>Gz(n,e,r))}function Gz(t,e,n){if(t.token===null)return bt(pe.invalidFactoryDep).callFn([Ie(n)]);if(t.attributeNameType===null){let r=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0)|(e===Zc.Pipe?16:0),i=r!==0||t.optional?Ie(r):null,s=[t.token];i&&s.push(i);let o=Yz(e);return bt(o).callFn(s)}else return bt(pe.injectAttribute).callFn([t.token])}function Wz(t){let e=!1,n=t.map(r=>{let i=jz(r);return i!==null?(e=!0,i):Ie(null)});return e?cs(Zn(n)):ic}function jz(t){let e=[];return t.attributeNameType!==null&&e.push({key:"attribute",value:t.attributeNameType,quoted:!1}),t.optional&&e.push({key:"optional",value:Ie(!0),quoted:!1}),t.host&&e.push({key:"host",value:Ie(!0),quoted:!1}),t.self&&e.push({key:"self",value:Ie(!0),quoted:!1}),t.skipSelf&&e.push({key:"skipSelf",value:Ie(!0),quoted:!1}),e.length>0?Da(e):null}function TR(t){return t.delegateType!==void 0}function zz(t){return t.expression!==void 0}function Yz(t){switch(t){case Zc.Component:case Zc.Directive:case Zc.Pipe:return pe.directiveInject;case Zc.NgModule:case Zc.Injectable:default:return pe.inject}}var zd=class{start;end;constructor(e,n){this.start=e,this.end=n}toAbsolute(e){return new Ko(e+this.start,e+this.end)}},gr=class{span;sourceSpan;constructor(e,n){this.span=e,this.sourceSpan=n}toString(){return"AST"}},iv=class extends gr{nameSpan;constructor(e,n,r){super(e,n),this.nameSpan=r}},zs=class extends gr{visit(e,n=null){}},lc=class extends gr{visit(e,n=null){return e.visitImplicitReceiver(this,n)}},sv=class extends gr{visit(e,n=null){return e.visitThisReceiver?.(this,n)}},a0=class extends gr{expressions;constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitChain(this,n)}},zx=class extends gr{condition;trueExp;falseExp;constructor(e,n,r,i,s){super(e,n),this.condition=r,this.trueExp=i,this.falseExp=s}visit(e,n=null){return e.visitConditional(this,n)}},tc=class extends iv{receiver;name;constructor(e,n,r,i,s){super(e,n,r),this.receiver=i,this.name=s}visit(e,n=null){return e.visitPropertyRead(this,n)}},ov=class extends iv{receiver;name;constructor(e,n,r,i,s){super(e,n,r),this.receiver=i,this.name=s}visit(e,n=null){return e.visitSafePropertyRead(this,n)}},Yd=class extends gr{receiver;key;constructor(e,n,r,i){super(e,n),this.receiver=r,this.key=i}visit(e,n=null){return e.visitKeyedRead(this,n)}},av=class extends gr{receiver;key;constructor(e,n,r,i){super(e,n),this.receiver=r,this.key=i}visit(e,n=null){return e.visitSafeKeyedRead(this,n)}},Ix=(function(t){return t[t.ReferencedByName=0]="ReferencedByName",t[t.ReferencedDirectly=1]="ReferencedDirectly",t})(Ix||{}),Yx=class extends iv{exp;name;args;type;constructor(e,n,r,i,s,o,a){super(e,n,a),this.exp=r,this.name=i,this.args=s,this.type=o}visit(e,n=null){return e.visitPipe(this,n)}},Eo=class extends gr{value;constructor(e,n,r){super(e,n),this.value=r}visit(e,n=null){return e.visitLiteralPrimitive(this,n)}},lv=class extends gr{expressions;constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitLiteralArray(this,n)}},Xx=class extends gr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitSpreadElement(this,n)}},Xd=class extends gr{keys;values;constructor(e,n,r,i){super(e,n),this.keys=r,this.values=i}visit(e,n=null){return e.visitLiteralMap(this,n)}},Xv=class extends gr{strings;expressions;constructor(e,n,r,i){super(e,n),this.strings=r,this.expressions=i}visit(e,n=null){return e.visitInterpolation(this,n)}},Ys=class extends gr{operation;left;right;constructor(e,n,r,i,s){super(e,n),this.operation=r,this.left=i,this.right=s}visit(e,n=null){return e.visitBinary(this,n)}static isAssignmentOperation(e){return e==="="||e==="+="||e==="-="||e==="*="||e==="/="||e==="%="||e==="**="||e==="&&="||e==="||="||e==="??="}},e0=class t extends Ys{operator;expr;left=null;right=null;operation=null;static createMinus(e,n,r){return new t(e,n,"-",r,"-",new Eo(e,n,0),r)}static createPlus(e,n,r){return new t(e,n,"+",r,"-",r,new Eo(e,n,0))}constructor(e,n,r,i,s,o,a){super(e,n,s,o,a),this.operator=r,this.expr=i}visit(e,n=null){return e.visitUnary!==void 0?e.visitUnary(this,n):e.visitBinary(this,n)}},cv=class extends gr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitPrefixNot(this,n)}},uv=class extends gr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitTypeofExpression(this,n)}},fv=class extends gr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitVoidExpression(this,n)}},dv=class extends gr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitNonNullAssert(this,n)}},l0=class extends gr{receiver;args;argumentSpan;constructor(e,n,r,i,s){super(e,n),this.receiver=r,this.args=i,this.argumentSpan=s}visit(e,n=null){return e.visitCall(this,n)}},Kx=class extends gr{receiver;args;argumentSpan;constructor(e,n,r,i,s){super(e,n),this.receiver=r,this.args=i,this.argumentSpan=s}visit(e,n=null){return e.visitSafeCall(this,n)}},hv=class extends gr{tag;template;constructor(e,n,r,i){super(e,n),this.tag=r,this.template=i}visit(e,n){return e.visitTaggedTemplateLiteral(this,n)}},pv=class extends gr{elements;expressions;constructor(e,n,r,i){super(e,n),this.elements=r,this.expressions=i}visit(e,n){return e.visitTemplateLiteral(this,n)}},Jx=class extends gr{text;constructor(e,n,r){super(e,n),this.text=r}visit(e,n){return e.visitTemplateLiteralElement(this,n)}},mv=class extends gr{expression;constructor(e,n,r){super(e,n),this.expression=r}visit(e,n){return e.visitParenthesizedExpression(this,n)}},Qx=class extends gr{body;flags;constructor(e,n,r,i){super(e,n),this.body=r,this.flags=i}visit(e,n){return e.visitRegularExpressionLiteral(this,n)}},Ko=class{start;end;constructor(e,n){this.start=e,this.end=n}},So=class extends gr{ast;source;location;errors;constructor(e,n,r,i,s){super(new zd(0,n===null?0:n.length),new Ko(i,n===null?i:i+n.length)),this.ast=e,this.source=n,this.location=r,this.errors=s}visit(e,n=null){return e.visitASTWithSource?e.visitASTWithSource(this,n):this.ast.visit(e,n)}toString(){return`${this.source} in ${this.location}`}},gv=class{sourceSpan;key;value;constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},OT=class{sourceSpan;key;value;constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},c0=class{visit(e,n){e.visit(this,n)}visitUnary(e,n){this.visit(e.expr,n)}visitBinary(e,n){this.visit(e.left,n),this.visit(e.right,n)}visitChain(e,n){this.visitAll(e.expressions,n)}visitConditional(e,n){this.visit(e.condition,n),this.visit(e.trueExp,n),this.visit(e.falseExp,n)}visitPipe(e,n){this.visit(e.exp,n),this.visitAll(e.args,n)}visitImplicitReceiver(e,n){}visitThisReceiver(e,n){}visitInterpolation(e,n){this.visitAll(e.expressions,n)}visitKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitLiteralArray(e,n){this.visitAll(e.expressions,n)}visitLiteralMap(e,n){this.visitAll(e.values,n)}visitLiteralPrimitive(e,n){}visitPrefixNot(e,n){this.visit(e.expression,n)}visitTypeofExpression(e,n){this.visit(e.expression,n)}visitVoidExpression(e,n){this.visit(e.expression,n)}visitNonNullAssert(e,n){this.visit(e.expression,n)}visitPropertyRead(e,n){this.visit(e.receiver,n)}visitSafePropertyRead(e,n){this.visit(e.receiver,n)}visitSafeKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitSafeCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitTemplateLiteral(e,n){for(let r=0;r<e.elements.length;r++){this.visit(e.elements[r],n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&this.visit(i,n)}}visitTemplateLiteralElement(e,n){}visitTaggedTemplateLiteral(e,n){this.visit(e.tag,n),this.visit(e.template,n)}visitParenthesizedExpression(e,n){this.visit(e.expression,n)}visitRegularExpressionLiteral(e,n){}visitSpreadElement(e,n){this.visit(e.expression,n)}visitAll(e,n){for(let r of e)this.visit(r,n)}},Yp=class{name;expression;type;sourceSpan;keySpan;valueSpan;isLiteral;isLegacyAnimation;isAnimation;constructor(e,n,r,i,s,o){this.name=e,this.expression=n,this.type=r,this.sourceSpan=i,this.keySpan=s,this.valueSpan=o,this.isLiteral=this.type===Jl.LITERAL_ATTR,this.isLegacyAnimation=this.type===Jl.LEGACY_ANIMATION,this.isAnimation=this.type===Jl.ANIMATION}},Jl=(function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.LEGACY_ANIMATION=2]="LEGACY_ANIMATION",t[t.TWO_WAY=3]="TWO_WAY",t[t.ANIMATION=4]="ANIMATION",t})(Jl||{}),Js=(function(t){return t[t.Regular=0]="Regular",t[t.LegacyAnimation=1]="LegacyAnimation",t[t.TwoWay=2]="TwoWay",t[t.Animation=3]="Animation",t})(Js||{}),Zx=class{name;targetOrPhase;type;handler;sourceSpan;handlerSpan;keySpan;constructor(e,n,r,i,s,o,a){this.name=e,this.targetOrPhase=n,this.type=r,this.handler=i,this.sourceSpan=s,this.handlerSpan=o,this.keySpan=a}},BT=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s}},Nn=(function(t){return t[t.Property=0]="Property",t[t.Attribute=1]="Attribute",t[t.Class=2]="Class",t[t.Style=3]="Style",t[t.LegacyAnimation=4]="LegacyAnimation",t[t.TwoWay=5]="TwoWay",t[t.Animation=6]="Animation",t})(Nn||{}),e2=class{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s,o,a,l){this.name=e,this.type=n,this.securityContext=r,this.value=i,this.unit=s,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l}},Ql=(function(t){return t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA",t})(Ql||{});function ul(t,e=!0){if(t[0]!=":")return[null,t];let n=t.indexOf(":",1);if(n===-1){if(e)throw new Error(`Unsupported format "${t}" expecting ":namespace:name"`);return[null,t]}return[t.slice(1,n),t.slice(n+1)]}function AR(t){return ul(t)[1]==="ng-container"}function VT(t){return ul(t)[1]==="ng-content"}function Xz(t){return ul(t)[1]==="ng-template"}function UT(t){return t===null?null:ul(t)[0]}function Dx(t,e){return t?`:${t}:${e}`:e}var j2=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){throw new Error("visit() not implemented for Comment")}},Md=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){return e.visitText(this)}},u0=class{value;sourceSpan;i18n;constructor(e,n,r){this.value=e,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitBoundText(this)}},f0=class{name;value;sourceSpan;keySpan;valueSpan;i18n;constructor(e,n,r,i,s,o){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},HT=class t{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;i18n;constructor(e,n,r,i,s,o,a,l,c){this.name=e,this.type=n,this.securityContext=r,this.value=i,this.unit=s,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l,this.i18n=c}static fromBoundElementProperty(e,n){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,n)}visit(e){return e.visitBoundAttribute(this)}},$T=class t{name;type;handler;target;phase;sourceSpan;handlerSpan;keySpan;constructor(e,n,r,i,s,o,a,l){this.name=e,this.type=n,this.handler=r,this.target=i,this.phase=s,this.sourceSpan=o,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let n=e.type===Js.Regular?e.targetOrPhase:null,r=e.type===Js.LegacyAnimation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.handler,n,r,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},cc=class{name;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;isVoid;i18n;constructor(e,n,r,i,s,o,a,l,c,u,f,d,h){this.name=e,this.attributes=n,this.inputs=r,this.outputs=i,this.directives=s,this.children=o,this.references=a,this.isSelfClosing=l,this.sourceSpan=c,this.startSourceSpan=u,this.endSourceSpan=f,this.isVoid=d,this.i18n=h}visit(e){return e.visitElement(this)}},uc=class{nameSpan;sourceSpan;prefetchSpan;whenOrOnSourceSpan;hydrateSpan;constructor(e,n,r,i,s){this.nameSpan=e,this.sourceSpan=n,this.prefetchSpan=r,this.whenOrOnSourceSpan=i,this.hydrateSpan=s}visit(e){return e.visitDeferredTrigger(this)}},t2=class extends uc{value;constructor(e,n,r,i,s){super(null,n,r,i,s),this.value=e}},qT=class extends uc{},GT=class extends uc{},WT=class extends uc{},n2=class extends uc{reference;constructor(e,n,r,i,s,o){super(n,r,i,s,o),this.reference=e}},jT=class extends uc{delay;constructor(e,n,r,i,s,o){super(n,r,i,s,o),this.delay=e}},r2=class extends uc{reference;constructor(e,n,r,i,s,o){super(n,r,i,s,o),this.reference=e}},vv=class extends uc{reference;options;constructor(e,n,r,i,s,o,a){super(r,i,s,o,a),this.reference=e,this.options=n}},ta=class{nameSpan;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i){this.nameSpan=e,this.sourceSpan=n,this.startSourceSpan=r,this.endSourceSpan=i}},yv=class extends ta{children;minimumTime;i18n;constructor(e,n,r,i,s,o,a){super(r,i,s,o),this.children=e,this.minimumTime=n,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},_v=class extends ta{children;afterTime;minimumTime;i18n;constructor(e,n,r,i,s,o,a,l){super(i,s,o,a),this.children=e,this.afterTime=n,this.minimumTime=r,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},xv=class extends ta{children;i18n;constructor(e,n,r,i,s,o){super(n,r,i,s),this.children=e,this.i18n=o}visit(e){return e.visitDeferredBlockError(this)}},Kd=class extends ta{children;placeholder;loading;error;mainBlockSpan;i18n;triggers;prefetchTriggers;hydrateTriggers;definedTriggers;definedPrefetchTriggers;definedHydrateTriggers;constructor(e,n,r,i,s,o,a,l,c,u,f,d,h){super(l,c,f,d),this.children=e,this.placeholder=s,this.loading=o,this.error=a,this.mainBlockSpan=u,this.i18n=h,this.triggers=n,this.prefetchTriggers=r,this.hydrateTriggers=i,this.definedTriggers=Object.keys(n),this.definedPrefetchTriggers=Object.keys(r),this.definedHydrateTriggers=Object.keys(i)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,e),this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),aT(e,this.children);let n=[this.placeholder,this.loading,this.error].filter(r=>r!==null);aT(e,n)}visitTriggers(e,n,r){aT(r,e.map(i=>n[i]))}},i2=class extends ta{expression;groups;unknownBlocks;constructor(e,n,r,i,s,o,a){super(a,i,s,o),this.expression=e,this.groups=n,this.unknownBlocks=r}visit(e){return e.visitSwitchBlock(this)}},zT=class extends ta{expression;constructor(e,n,r,i,s){super(s,n,r,i),this.expression=e}visit(e){return e.visitSwitchBlockCase(this)}},wv=class extends ta{cases;children;i18n;constructor(e,n,r,i,s,o,a){super(o,r,i,s),this.cases=e,this.children=n,this.i18n=a}visit(e){return e.visitSwitchBlockCaseGroup(this)}},d0=class extends ta{item;expression;trackBy;trackKeywordSpan;contextVariables;children;empty;mainBlockSpan;i18n;constructor(e,n,r,i,s,o,a,l,c,u,f,d,h){super(d,l,u,f),this.item=e,this.expression=n,this.trackBy=r,this.trackKeywordSpan=i,this.contextVariables=s,this.children=o,this.empty=a,this.mainBlockSpan=c,this.i18n=h}visit(e){return e.visitForLoopBlock(this)}},Ev=class extends ta{children;i18n;constructor(e,n,r,i,s,o){super(s,n,r,i),this.children=e,this.i18n=o}visit(e){return e.visitForLoopBlockEmpty(this)}},s2=class extends ta{branches;constructor(e,n,r,i,s){super(s,n,r,i),this.branches=e}visit(e){return e.visitIfBlock(this)}},Rd=class extends ta{expression;children;expressionAlias;i18n;constructor(e,n,r,i,s,o,a,l){super(a,i,s,o),this.expression=e,this.children=n,this.expressionAlias=r,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},o2=class{name;sourceSpan;nameSpan;constructor(e,n,r){this.name=e,this.sourceSpan=n,this.nameSpan=r}visit(e){return e.visitUnknownBlock(this)}},oI=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=i,this.valueSpan=s}visit(e){return e.visitLetDeclaration(this)}},jg=class{componentName;tagName;fullName;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,s,o,a,l,c,u,f,d,h,g){this.componentName=e,this.tagName=n,this.fullName=r,this.attributes=i,this.inputs=s,this.outputs=o,this.directives=a,this.children=l,this.references=c,this.isSelfClosing=u,this.sourceSpan=f,this.startSourceSpan=d,this.endSourceSpan=h,this.i18n=g}visit(e){return e.visitComponent(this)}},fL=class{name;attributes;inputs;outputs;references;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,s,o,a,l,c){this.name=e,this.attributes=n,this.inputs=r,this.outputs=i,this.references=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=c}visit(e){return e.visitDirective(this)}},Qo=class{tagName;attributes;inputs;outputs;directives;templateAttrs;children;references;variables;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,n,r,i,s,o,a,l,c,u,f,d,h,g){this.tagName=e,this.attributes=n,this.inputs=r,this.outputs=i,this.directives=s,this.templateAttrs=o,this.children=a,this.references=l,this.variables=c,this.isSelfClosing=u,this.sourceSpan=f,this.startSourceSpan=d,this.endSourceSpan=h,this.i18n=g}visit(e){return e.visitTemplate(this)}},h0=class{selector;attributes;children;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;name="ng-content";constructor(e,n,r,i,s,o,a,l){this.selector=e,this.attributes=n,this.children=r,this.isSelfClosing=i,this.sourceSpan=s,this.startSourceSpan=o,this.endSourceSpan=a,this.i18n=l}visit(e){return e.visitContent(this)}},pf=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s}visit(e){return e.visitVariable(this)}},Sv=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=s}visit(e){return e.visitReference(this)}},dL=class{vars;placeholders;sourceSpan;i18n;constructor(e,n,r,i){this.vars=e,this.placeholders=n,this.sourceSpan=r,this.i18n=i}visit(e){return e.visitIcu(this)}},Cv=class{tagNames;bindings;listeners;sourceSpan;constructor(e,n,r,i){if(this.tagNames=e,this.bindings=n,this.listeners=r,this.sourceSpan=i,e.length===0)throw new Error("HostElement must have at least one tag name.")}visit(){throw new Error("HostElement cannot be visited")}};function aT(t,e){let n=[];if(t.visit)for(let r of e)t.visit(r);else for(let r of e){let i=r.visit(t);i&&n.push(i)}return n}var Qs=class{nodes;placeholders;placeholderToMessage;meaning;description;customId;sources;id;legacyIds=[];messageString;constructor(e,n,r,i,s,o){this.nodes=e,this.placeholders=n,this.placeholderToMessage=r,this.meaning=i,this.description=s,this.customId=o,this.id=this.customId,this.messageString=Kz(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},Fg=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitText(this,n)}},nu=class{children;sourceSpan;constructor(e,n){this.children=e,this.sourceSpan=n}visit(e,n){return e.visitContainer(this,n)}},a2=class{expression;type;cases;sourceSpan;expressionPlaceholder;constructor(e,n,r,i,s){this.expression=e,this.type=n,this.cases=r,this.sourceSpan=i,this.expressionPlaceholder=s}visit(e,n){return e.visitIcu(this,n)}},mf=class{tag;attrs;startName;closeName;children;isVoid;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a,l,c){this.tag=e,this.attrs=n,this.startName=r,this.closeName=i,this.children=s,this.isVoid=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c}visit(e,n){return e.visitTagPlaceholder(this,n)}},bv=class{value;name;sourceSpan;constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitPlaceholder(this,n)}},p0=class{value;name;sourceSpan;previousMessage;constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitIcuPlaceholder(this,n)}},gf=class{name;parameters;startName;closeName;children;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a,l){this.name=e,this.parameters=n,this.startName=r,this.closeName=i,this.children=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,n){return e.visitBlockPlaceholder(this,n)}};function Kz(t){let e=new YT;return t.map(r=>r.visit(e)).join("")}var YT=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}};var Jz=class{visitTag(e){let n=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${n}/>`;let r=e.children.map(i=>i.visit(this));return`<${e.name}${n}>${r.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let n=Object.keys(e).map(r=>`${r}="${e[r]}"`).join(" ");return n.length>0?" "+n:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},_5e=new Jz;function Qz(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var hL="i18n",XT="i18n-",Zz="VAR_";function pL(t){return t===hL||t.startsWith(XT)}function eY(t){return t.attrs.some(e=>pL(e.name))}function mL(t){return t.nodes[0]}function aI(t={},e){let n={};return t&&Object.keys(t).length&&Object.keys(t).forEach(r=>n[Kv(r,e)]=t[r]),n}function Kv(t,e=!0){let n=Qz(t);if(!e)return n;let r=n.split("_");if(r.length===1)return t.toLowerCase();let i;/^\d+$/.test(r[r.length-1])&&(i=r.pop());let s=r.shift().toLowerCase();return r.length&&(s+=r.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),i?`${s}_${i}`:s}var tY=/[-.]/,lI="_t",Tv="ctx",cI="rf";function gL(t,e){let n=null;return()=>(n||(t(new Ui(lI,void 0,q2)),n=En(e)),n)}function Xp(t){return Array.isArray(t)?Zn(t.map(Xp)):Ie(t,ol)}function IR(t,e){let n=Object.getOwnPropertyNames(t);return n.length===0?null:Da(n.map(r=>{let i=t[r],s,o,a,l;if(typeof i=="string")s=r,a=r,o=i,l=Xp(o);else{a=r,s=i.classPropertyName,o=i.bindingPropertyName;let c=o!==s,u=i.transformFunction!==null,f=Ug.None;if(i.isSignal&&(f|=Ug.SignalBased),u&&(f|=Ug.HasDecoratorInputTransform),e&&(c||u||f!==Ug.None)){let d=[Ie(f),Xp(o)];(c||u)&&(d.push(Xp(s)),u&&d.push(i.transformFunction)),l=Zn(d)}else l=Xp(o)}return{key:a,quoted:tY.test(a),value:l}}))}var vf=class{values=[];set(e,n){if(n){let r=this.values.find(i=>i.key===e);r?r.value=n:this.values.push({key:e,value:n,quoted:!1})}}toLiteralMap(){return Da(this.values)}};function nY(t){let e=t instanceof cc?t.name:"ng-template",n=rY(t),r=new n0,i=ul(e)[1];return r.setElement(i),Object.getOwnPropertyNames(n).forEach(s=>{let o=ul(s)[1],a=n[s];r.addAttribute(o,a),s.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(c=>r.addClassName(c))}),r}function rY(t){let e={};return t instanceof Qo&&t.tagName!=="ng-template"?t.templateAttrs.forEach(n=>e[n.name]=""):(t.attributes.forEach(n=>{pL(n.name)||(e[n.name]=n.value)}),t.inputs.forEach(n=>{(n.type===Nn.Property||n.type===Nn.TwoWay)&&(e[n.name]="")}),t.outputs.forEach(n=>{e[n.name]=""})),e}function DR(t,e){let n=null,r={name:t.name,type:t.type,typeArgumentCount:t.typeArgumentCount,deps:[],target:Zc.Injectable};if(t.useClass!==void 0){let a=t.useClass.expression.isEquivalent(t.type.value),l;t.deps!==void 0&&(l=t.deps),l!==void 0?n=Ad(Nt(De({},r),{delegate:t.useClass.expression,delegateDeps:l,delegateType:jx.Class})):a?n=Ad(r):n={statements:[],expression:kR(t.type.value,t.useClass.expression,e)}}else t.useFactory!==void 0?t.deps!==void 0?n=Ad(Nt(De({},r),{delegate:t.useFactory,delegateDeps:t.deps||[],delegateType:jx.Function})):n={statements:[],expression:ac([],t.useFactory.callFn([]))}:t.useValue!==void 0?n=Ad(Nt(De({},r),{expression:t.useValue.expression})):t.useExisting!==void 0?n=Ad(Nt(De({},r),{expression:bt(pe.inject).callFn([t.useExisting.expression])})):n={statements:[],expression:kR(t.type.value,t.type.value,e)};let i=t.type.value,s=new vf;return s.set("token",i),s.set("factory",n.expression),t.providedIn.expression.value!==null&&s.set("providedIn",Hz(t.providedIn)),{expression:bt(pe.\u0275\u0275defineInjectable).callFn([s.toLiteralMap()],void 0,!0),type:iY(t),statements:n.statements}}function iY(t){return new Ia(bt(pe.InjectableDeclaration,[W2(t.type.type,t.typeArgumentCount)]))}function kR(t,e,n){if(t.node===e.node)return e.prop("\u0275fac");if(!n)return NR(e);let r=bt(pe.resolveForwardRef).callFn([e]);return NR(r)}function NR(t){let e=new os("__ngFactoryType__",q2);return ac([e],t.prop("\u0275fac").callFn([En(e.name)]))}var Yi=0,sY=8,uI=9,Ld=10,vL=11,yL=12,fI=13,_L=32,KT=33,Av=34,xL=35,z2=36,oY=37,l2=38,Iv=39,Jo=40,ss=41,MR=42,wL=43,Co=44,c2=45,Cd=46,Ca=47,Zl=58,Yo=59,t0=60,Ss=61,Ea=62,PR=63,dI=48,aY=55,EL=57,Sf=65,lY=69,cY=70,uY=88,E0=90,nc=91,Od=92,eu=93,fY=94,Cf=95,Jd=97,dY=98,hY=101,hI=102,SL=110,CL=114,bL=116,TL=117,AL=118,IL=120,Jv=122,sl=123,FR=124,Xs=125,DL=160,Up=64,JT=96;function Dv(t){return t>=uI&&t<=_L||t==DL}function il(t){return dI<=t&&t<=EL}function yf(t){return t>=Jd&&t<=Jv||t>=Sf&&t<=E0}function pY(t){return t>=Jd&&t<=hI||t>=Sf&&t<=cY||il(t)}function u2(t){return t===Ld||t===fI}function RR(t){return dI<=t&&t<=aY}function zg(t){return t===Iv||t===Av||t===JT}var kv=class t{file;offset;line;col;constructor(e,n,r,i){this.file=e,this.offset=n,this.line=r,this.col=i}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let n=this.file.content,r=n.length,i=this.offset,s=this.line,o=this.col;for(;i>0&&e<0;)if(i--,e++,n.charCodeAt(i)==Ld){s--;let l=n.substring(0,i-1).lastIndexOf(String.fromCharCode(Ld));o=l>0?i-l:i}else o--;for(;i<r&&e>0;){let a=n.charCodeAt(i);i++,e--,a==Ld?(s++,o=0):o++}return new t(this.file,i,s,o)}getContext(e,n){let r=this.file.content,i=this.offset;if(i!=null){i>r.length-1&&(i=r.length-1);let s=i,o=0,a=0;for(;o<e&&i>0&&(i--,o++,!(r[i]==`
`&&++a==n)););for(o=0,a=0;o<e&&s<r.length-1&&(s++,o++,!(r[s]==`
`&&++a==n)););return{before:r.substring(i,this.offset),after:r.substring(this.offset,s+1)}}return null}},f2=class{content;url;constructor(e,n){this.content=e,this.url=n}},Ot=class{start;end;fullStart;details;constructor(e,n,r=e,i=null){this.start=e,this.end=n,this.fullStart=r,this.details=i}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},cf=(function(t){return t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR",t})(cf||{}),Mt=class extends Error{span;msg;level;relatedError;constructor(e,n,r=cf.ERROR,i){super(n),this.span=e,this.msg=n,this.level=r,this.relatedError=i,Object.setPrototypeOf(this,new.target.prototype)}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${cf[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function mY(t,e,n){let r=`in ${t} ${e} in ${n}`,i=new f2("",r);return new Ot(new kv(i,-1,-1,-1),new kv(i,-1,-1,-1))}var gY=0;function vY(t){if(!t||!t.reference)return null;let e=t.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let n=cL(e);return n.indexOf("(")>=0?(n=`anonymous_${gY++}`,e.__anonymousType=n):n=Id(n),n}function Id(t){return t.replace(/\W/g,"_")}var LR='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',QT=class extends LT{constructor(){super(!1)}visitWrappedNodeExpr(e,n){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,n){return n.print(e,`var ${e.name}`),e.value&&(n.print(e," = "),e.value.visitExpression(this,n)),n.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,n){let r=e.template.elements;return e.tag.visitExpression(this,n),n.print(e,`(${LR}(`),n.print(e,`[${r.map(i=>kd(i.text,!1)).join(", ")}], `),n.print(e,`[${r.map(i=>kd(i.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(i=>{n.print(e,", "),i.visitExpression(this,n)}),n.print(e,")"),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let i=r<e.expressions.length?e.expressions[r]:null;i!==null&&(n.print(i,"${"),i.visitExpression(this,n),n.print(i,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){return n.print(e,e.rawText),null}visitFunctionExpr(e,n){return n.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.print(e,"}"),null}visitArrowFunctionExpr(e,n){if(n.print(e,"("),this._visitParams(e.params,n),n.print(e,") =>"),Array.isArray(e.body))n.println(e,"{"),n.incIndent(),this.visitAllStatements(e.body,n),n.decIndent(),n.print(e,"}");else{let r=e.body instanceof cl;r&&n.print(e,"("),e.body.visitExpression(this,n),r&&n.print(e,")")}return null}visitDeclareFunctionStmt(e,n){return n.print(e,`function ${e.name}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.println(e,"}"),null}visitLocalizedString(e,n){n.print(e,`$localize(${LR}(`);let r=[e.serializeI18nHead()];for(let i=1;i<e.messageParts.length;i++)r.push(e.serializeI18nTemplatePart(i));return n.print(e,`[${r.map(i=>kd(i.cooked,!1)).join(", ")}], `),n.print(e,`[${r.map(i=>kd(i.raw,!1)).join(", ")}])`),e.expressions.forEach(i=>{n.print(e,", "),i.visitExpression(this,n)}),n.print(e,")"),null}_visitParams(e,n){this.visitAllObjects(r=>n.print(null,r.name),e,n,",")}},px;function yY(){if(px===void 0){let t=Wg.trustedTypes;if(px=null,t)try{px=t.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return px}function _Y(t){return yY()?.createScript(t)||t}function OR(...t){if(!Wg.trustedTypes)return new Function(...t);let e=t.slice(0,-1).join(","),n=t[t.length-1],r=`(function anonymous(${e}
) { ${n}
})`,i=Wg.eval(_Y(r));return i.bind===void 0?new Function(...t):(i.toString=()=>r,i.bind(Wg))}var ZT=class{evaluateStatements(e,n,r,i){let s=new eA(r),o=RT.createRoot();return n.length>0&&!xY(n[0])&&(n=[Ie("use strict").toStmt(),...n]),s.visitAllStatements(n,o),s.createReturnStmt(o),this.evaluateCode(e,o,s.getArgs(),i)}evaluateCode(e,n,r,i){let s=`"use strict";${n.toSource()}
//# sourceURL=${e}`,o=[],a=[];for(let c in r)a.push(r[c]),o.push(c);if(i){let c=OR(...o.concat("return null;")).toString(),u=c.slice(0,c.indexOf("return null;")).split(`
`).length-1;s+=`
${n.toSourceMapGenerator(e,u).toJsComment()}`}let l=OR(...o.concat(s));return this.executeFunction(l,a)}executeFunction(e,n){return e(...n)}},eA=class extends QT{refResolver;_evalArgNames=[];_evalArgValues=[];_evalExportedVars=[];constructor(e){super(),this.refResolver=e}createReturnStmt(e){new ls(new cl(this._evalExportedVars.map(r=>new s0(r,En(r),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let n=0;n<this._evalArgNames.length;n++)e[this._evalArgNames[n]]=this._evalArgValues[n];return e}visitExternalExpr(e,n){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),n),null}visitWrappedNodeExpr(e,n){return this._emitReferenceToExternal(e,e.node,n),null}visitDeclareVarStmt(e,n){return e.hasModifier(as.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,n)}visitDeclareFunctionStmt(e,n){return e.hasModifier(as.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,n)}_emitReferenceToExternal(e,n,r){let i=this._evalArgValues.indexOf(n);if(i===-1){i=this._evalArgValues.length,this._evalArgValues.push(n);let s=vY({reference:n})||"val";this._evalArgNames.push(`jit_${s}_${i}`)}r.print(e,this._evalArgNames[i])}};function xY(t){return t.isEquivalent(Ie("use strict").toStmt())}function BR(t){let e=new vf;t.providers!==null&&e.set("providers",t.providers),t.imports.length>0&&e.set("imports",Zn(t.imports));let n=bt(pe.defineInjector).callFn([e.toLiteralMap()],void 0,!0),r=wY(t);return{expression:n,type:r,statements:[]}}function wY(t){return new Ia(bt(pe.InjectorDeclaration,[new Ia(t.type.type)]))}var tA=class{context;constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},d2=(function(t){return t[t.Inline=0]="Inline",t[t.SideEffect=1]="SideEffect",t[t.Omit=2]="Omit",t})(d2||{}),uf=(function(t){return t[t.Global=0]="Global",t[t.Local=1]="Local",t})(uf||{});function EY(t){let e=[],n=new vf;if(n.set("type",t.type.value),t.kind===uf.Global&&t.bootstrap.length>0&&n.set("bootstrap",Nd(t.bootstrap,t.containsForwardDecls)),t.selectorScopeMode===d2.Inline)t.declarations.length>0&&n.set("declarations",Nd(t.declarations,t.containsForwardDecls)),t.imports.length>0&&n.set("imports",Nd(t.imports,t.containsForwardDecls)),t.exports.length>0&&n.set("exports",Nd(t.exports,t.containsForwardDecls));else if(t.selectorScopeMode===d2.SideEffect){let s=bY(t);s!==null&&e.push(s)}t.schemas!==null&&t.schemas.length>0&&n.set("schemas",Zn(t.schemas.map(s=>s.value))),t.id!==null&&(n.set("id",t.id),e.push(bt(pe.registerNgModuleType).callFn([t.type.value,t.id]).toStmt()));let r=bt(pe.defineNgModule).callFn([n.toLiteralMap()],void 0,!0),i=CY(t);return{expression:r,type:i,statements:e}}function SY(t){let e=new vf;return e.set("type",new mn(t.type)),t.bootstrap!==void 0&&e.set("bootstrap",new mn(t.bootstrap)),t.declarations!==void 0&&e.set("declarations",new mn(t.declarations)),t.imports!==void 0&&e.set("imports",new mn(t.imports)),t.exports!==void 0&&e.set("exports",new mn(t.exports)),t.schemas!==void 0&&e.set("schemas",new mn(t.schemas)),t.id!==void 0&&e.set("id",new mn(t.id)),bt(pe.defineNgModule).callFn([e.toLiteralMap()])}function CY(t){if(t.kind===uf.Local)return new Ia(t.type.value);let{type:e,declarations:n,exports:r,imports:i,includeImportTypes:s,publicDeclarationTypes:o}=t;return new Ia(bt(pe.NgModuleDeclaration,[new Ia(e.type),o===null?lT(n):TY(o),s?lT(i):ic,lT(r)]))}function bY(t){let e=new vf;if(t.kind===uf.Global?t.declarations.length>0&&e.set("declarations",Nd(t.declarations,t.containsForwardDecls)):t.declarationsExpression&&e.set("declarations",t.declarationsExpression),t.kind===uf.Global?t.imports.length>0&&e.set("imports",Nd(t.imports,t.containsForwardDecls)):t.importsExpression&&e.set("imports",t.importsExpression),t.kind===uf.Global?t.exports.length>0&&e.set("exports",Nd(t.exports,t.containsForwardDecls)):t.exportsExpression&&e.set("exports",t.exportsExpression),t.kind===uf.Local&&t.bootstrapExpression&&e.set("bootstrap",t.bootstrapExpression),Object.keys(e.values).length===0)return null;let n=new To(bt(pe.setNgModuleScope),[t.type.value,e.toLiteralMap()]),r=Vz(n),i=new ff([],[r.toStmt()]);return new To(i,[]).toStmt()}function lT(t){let e=t.map(n=>Yv(n.type));return t.length>0?cs(Zn(e)):ic}function TY(t){let e=t.map(n=>Yv(n));return t.length>0?cs(Zn(e)):ic}function VR(t){let e=[];e.push({key:"name",value:Ie(t.pipeName??t.name),quoted:!1}),e.push({key:"type",value:t.type.value,quoted:!1}),e.push({key:"pure",value:Ie(t.pure),quoted:!1}),t.isStandalone===!1&&e.push({key:"standalone",value:Ie(!1),quoted:!1});let n=bt(pe.definePipe).callFn([Da(e)],void 0,!0),r=AY(t);return{expression:n,type:r,statements:[]}}function AY(t){return new Ia(bt(pe.PipeDeclaration,[W2(t.type.type,t.typeArgumentCount),new Ia(new us(t.pipeName)),new Ia(new us(t.isStandalone))]))}var m0=(function(t){return t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule",t})(m0||{}),IY=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),DY=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],nA=class{shimCssText(e,n,r=""){let i=[];e=e.replace(WY,a=>{if(a.match(jY))i.push(a);else{let l=a.match(GY);i.push((l?.join("")??"")+`
`)}return mI}),e=this._insertDirectives(e);let s=this._scopeCssText(e,n,r),o=0;return s.replace(zY,()=>i[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,n){let r=new Set,i=mx(e,s=>this._scopeLocalKeyframeDeclarations(s,n,r));return mx(i,s=>this._scopeAnimationRule(s,n,r))}_scopeLocalKeyframeDeclarations(e,n,r){return Nt(De({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(i,s,o,a,l)=>(r.add($R(a,o)),`${s}${o}${n}_${a}${o}${l}`))})}_scopeAnimationKeyframe(e,n,r){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(i,s,o,a,l)=>(a=`${r.has($R(a,o))?n+"_":""}${a}`,`${s}${o}${a}${o}${l}`))}_animationDeclarationKeyframesRe=/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g;_scopeAnimationRule(e,n,r){let i=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(s,o,a)=>o+a.replace(this._animationDeclarationKeyframesRe,(l,c,u="",f,d)=>f?`${c}${this._scopeAnimationKeyframe(`${u}${f}${u}`,n,r)}`:IY.has(d)?l:`${c}${this._scopeAnimationKeyframe(d,n,r)}`));return i=i.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(s,o,a)=>`${o}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,n,r)).join(",")}`),Nt(De({},e),{content:i})}_insertPolyfillDirectivesInCssText(e){return e.replace(NY,function(...n){return n[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(MY,(...n)=>{let r=n[0].replace(n[1],"").replace(n[2],"");return n[4]+r})}_scopeCssText(e,n,r){let i=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),n&&(e=this._scopeKeyframesRelatedCss(e,n),e=this._scopeSelectors(e,n,r)),e=e+`
`+i,e.trim()}_extractUnscopedRulesFromCssText(e){let n="",r;for(UR.lastIndex=0;(r=UR.exec(e))!==null;){let i=r[0].replace(r[2],"").replace(r[1],r[4]);n+=i+`

`}return n}_convertColonHost(e){return e.replace(LY,(n,r,i)=>{if(r){let s=[];for(let o of this._splitOnTopLevelCommas(r,!0)){let a=o.trim();if(!a)break;let l=of+a.replace(h2,"")+i;s.push(l)}return s.join(",")}else return of+i})}*_splitOnTopLevelCommas(e,n){let r=e.length,i=0,s=0;for(let o=0;o<r;o++){let a=e.charCodeAt(o);if(a===Jo)i++;else if(a===ss){if(i--,i<0&&n){yield e.slice(s,o);return}}else a===Co&&i===0&&(yield e.slice(s,o),s=o+1)}yield e.slice(s)}_convertColonHostContext(e){let n=[];for(let r of this._splitOnTopLevelCommas(e,!1))n.push(this._convertColonHostContextInSelectorPart(r));return n.join(",")}_convertColonHostContextInSelectorPart(e){return e.replace(BY,(n,r)=>{let i=[[]],s=n.indexOf(zp);for(;s!==-1;){let o=n.substring(s+zp.length);if(!o||o[0]!=="("){n=o,s=n.indexOf(zp);continue}let a=[],l=0;for(let u of this._splitOnTopLevelCommas(o.substring(1),!0)){l=l+u.length+1;let f=u.trim();f&&a.push(f)}let c=i.length;iX(i,a.length);for(let u=0;u<a.length;u++)for(let f=0;f<c;f++)i[f+u*c].push(a[u]);n=o.substring(l+1),s=n.indexOf(zp)}return i.map(o=>rX(o,n,r)).join(", ")})}_convertShadowDOMSelectors(e){return UY.reduce((n,r)=>n.replace(r," "),e)}_scopeSelectors(e,n,r){return mx(e,i=>{let s=i.selector,o=i.content;return i.selector[0]!=="@"?s=this._scopeSelector({selector:s,scopeSelector:n,hostSelector:r,isParentSelector:!0}):DY.some(a=>i.selector.startsWith(a))?o=this._scopeSelectors(i.content,n,r):(i.selector.startsWith("@font-face")||i.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(i.content)),new Nv(s,o)})}_stripScopingSelectors(e){return mx(e,n=>{let r=n.selector.replace(HR," ").replace(cT," ");return new Nv(r,n.content)})}_safeSelector;_shouldScopeIndicator;_scopeSelector({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:i=!1}){let s=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(s).map(o=>o.split(HR)).map(o=>{let[a,...l]=o;return[(u=>this._selectorNeedsScoping(u,n)?this._applySelectorScope({selector:u,scopeSelector:n,hostSelector:r,isParentSelector:i}):u)(a),...l].join(" ")}).join(", ")}_selectorNeedsScoping(e,n){return!this._makeScopeMatcher(n).test(e)}_makeScopeMatcher(e){let n=/\[/g,r=/\]/g;return e=e.replace(n,"\\[").replace(r,"\\]"),new RegExp("^("+e+")"+HY,"m")}_applySimpleSelectorScope(e,n,r){if(Kp.lastIndex=0,Kp.test(e)){let i=`[${r}]`,s=e;for(;s.match(cT);)s=s.replace(cT,(o,a)=>a.replace(/([^:\)]*)(:*)(.*)/,(l,c,u,f)=>c+i+u+f));return s.replace(Kp,i)}return n+" "+e}_applySelectorScope({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:i}){let s=/\[is=([^\]]*)\]/g;n=n.replace(s,(v,...x)=>x[0]);let o=`[${n}]`,a=v=>{let x=v.trim();if(!x)return v;if(v.includes(of)){if(x=this._applySimpleSelectorScope(v,n,r),!v.match(VY)){let[_,E,C,D]=x.match(/([^:]*)(:*)([\s\S]*)/);x=E+o+C+D}}else{let _=v.replace(Kp,"");if(_.length>0){let E=_.match(/([^:]*)(:*)([\s\S]*)/);E&&(x=E[1]+o+E[2]+E[3])}}return x},l=v=>{let x="",_=[],E;for(;(E=Rg.exec(v))!==null;){let C=1,D=Rg.lastIndex;for(;D<v.length;){let A=v[D];if(D++,A==="("){C++;continue}if(A===")"){if(C--,C===0)break;continue}}_.push(`${E[0]}${v.slice(Rg.lastIndex,D)}`),Rg.lastIndex=D}return _.join("")===v?x=_.map(C=>{let[D]=C.match(Rg)??[],A=C.slice(D?.length,-1);A.includes(of)&&(this._shouldScopeIndicator=!0);let L=this._scopeSelector({selector:A,scopeSelector:n,hostSelector:r});return`${D}${L})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||v.includes(of),x=this._shouldScopeIndicator?a(v):v),x};i&&(this._safeSelector=new rA(e),e=this._safeSelector.content());let c="",u=0,f,d=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,h=e.includes(of);for((i||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!h);(f=d.exec(e))!==null;){let v=f[1],x=e.slice(u,f.index);if(x.match(/__esc-ph-(\d+)__/)&&e[f.index+1]?.match(/[a-fA-F\d]/))continue;let _=l(x);c+=`${_} ${v} `,u=d.lastIndex}let g=e.substring(u);return c+=l(g),this._safeSelector.restore(c)}_insertPolyfillHostInCssText(e){return e.replace(qY,zp).replace($Y,h2)}},rA=class{placeholders=[];index=0;_content;constructor(e){e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(n,r)=>{let i=`__esc-ph-${this.index}__`;return this.placeholders.push(r),this.index++,i}),this._content=e.replace(RY,(n,r,i)=>{let s=`__ph-${this.index}__`;return this.placeholders.push(`(${i})`),this.index++,r+s})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(n,r)=>this.placeholders[+r])}content(){return this._content}_escapeRegexMatches(e,n){return e.replace(n,(r,i)=>{let s=`__ph-${this.index}__`;return this.placeholders.push(i),this.index++,s})}},kY="(:(where|is)\\()?",Rg=/:(where|is)\(/gi,NY=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,MY=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,UR=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,h2="-shadowcsshost",zp="-shadowcsscontext",iA="[^)(]*",PY=String.raw`(?:\(${iA}\)|${iA})+?`,FY=String.raw`(?:\(${PY}\)|${iA})+?`,pI=String.raw`(?:\((${FY})\))`,RY=new RegExp(String.raw`(:nth-[-\w]+)`+pI,"g"),LY=new RegExp(h2+pI+"?([^,{]*)","gim"),OY=zp+pI+"?([^{]*)",BY=new RegExp(`${kY}(${OY})`,"gim"),of=h2+"-no-combinator",VY=new RegExp(`${of}(?![^(]*\\))`,"g"),cT=/-shadowcsshost-no-combinator([^\s,]*)/,UY=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],HR=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,HY="([>\\s~+[.,{:][\\s\\S]*)?$",Kp=/-shadowcsshost/gim,$Y=/:host/gim,qY=/:host-context/gim,GY=/\r?\n/g,WY=/\/\*[\s\S]*?\*\//g,jY=/\/\*\s*#\s*source(Mapping)?URL=/g,mI="%COMMENT%",zY=new RegExp(mI,"g"),uT="%BLOCK%",YY=new RegExp(`(\\s*(?:${mI}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),XY=new Map([["{","}"]]),kL="%COMMA_IN_PLACEHOLDER%",NL="%SEMI_IN_PLACEHOLDER%",ML="%COLON_IN_PLACEHOLDER%",KY=new RegExp(kL,"g"),JY=new RegExp(NL,"g"),QY=new RegExp(ML,"g"),Nv=class{selector;content;constructor(e,n){this.selector=e,this.content=n}};function mx(t,e){let n=tX(t),r=ZY(n,XY,uT),i=0,s=r.escapedString.replace(YY,(...o)=>{let a=o[2],l="",c=o[4],u="";c&&c.startsWith("{"+uT)&&(l=r.blocks[i++],c=c.substring(uT.length+1),u="{");let f=e(new Nv(a,l));return`${o[1]}${f.selector}${o[3]}${u}${f.content}${c}`});return nX(s)}var sA=class{escapedString;blocks;constructor(e,n){this.escapedString=e,this.blocks=n}};function ZY(t,e,n){let r=[],i=[],s=0,o=0,a=-1,l,c;for(let u=0;u<t.length;u++){let f=t[u];f==="\\"?u++:f===c?(s--,s===0&&(i.push(t.substring(a,u)),r.push(n),o=u,a=-1,l=c=void 0)):f===l?s++:s===0&&e.has(f)&&(l=f,c=e.get(f),s=1,a=u+1,r.push(t.substring(o,a)))}return a!==-1?(i.push(t.substring(a)),r.push(n)):r.push(t.substring(o)),new sA(r.join(""),i)}var eX={";":NL,",":kL,":":ML};function tX(t){let e=t,n=null;for(let r=0;r<e.length;r++){let i=e[r];if(i==="\\")r++;else if(n!==null)if(i===n)n=null;else{let s=eX[i];s&&(e=`${e.substr(0,r)}${s}${e.substr(r+1)}`,r+=s.length-1)}else(i==="'"||i==='"')&&(n=i)}return e}function nX(t){let e=t.replace(KY,",");return e=e.replace(JY,";"),e=e.replace(QY,":"),e}function $R(t,e){return e?t.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):t}function rX(t,e,n=""){let r=of;Kp.lastIndex=0;let i=Kp.test(e);if(t.length===0)return r+e;let s=[t.pop()||""];for(;t.length>0;){let o=s.length,a=t.pop();for(let l=0;l<o;l++){let c=s[l];s[o*2+l]=c+" "+a,s[o+l]=a+" "+c,s[l]=a+c}}return s.map(o=>i?`${n}${o}${e}`:`${n}${o}${r}${e}, ${n}${o} ${r}${e}`).join(",")}function iX(t,e){let n=t.length;for(let r=1;r<e;r++)for(let i=0;i<n;i++)t[i+r*n]=t[i].slice(0)}var R=(function(t){return t[t.ListEnd=0]="ListEnd",t[t.Statement=1]="Statement",t[t.Variable=2]="Variable",t[t.ElementStart=3]="ElementStart",t[t.Element=4]="Element",t[t.Template=5]="Template",t[t.ElementEnd=6]="ElementEnd",t[t.ContainerStart=7]="ContainerStart",t[t.Container=8]="Container",t[t.ContainerEnd=9]="ContainerEnd",t[t.DisableBindings=10]="DisableBindings",t[t.ConditionalCreate=11]="ConditionalCreate",t[t.ConditionalBranchCreate=12]="ConditionalBranchCreate",t[t.Conditional=13]="Conditional",t[t.EnableBindings=14]="EnableBindings",t[t.Text=15]="Text",t[t.Listener=16]="Listener",t[t.InterpolateText=17]="InterpolateText",t[t.Binding=18]="Binding",t[t.Property=19]="Property",t[t.StyleProp=20]="StyleProp",t[t.ClassProp=21]="ClassProp",t[t.StyleMap=22]="StyleMap",t[t.ClassMap=23]="ClassMap",t[t.Advance=24]="Advance",t[t.Pipe=25]="Pipe",t[t.Attribute=26]="Attribute",t[t.ExtractedAttribute=27]="ExtractedAttribute",t[t.Defer=28]="Defer",t[t.DeferOn=29]="DeferOn",t[t.DeferWhen=30]="DeferWhen",t[t.I18nMessage=31]="I18nMessage",t[t.DomProperty=32]="DomProperty",t[t.Namespace=33]="Namespace",t[t.ProjectionDef=34]="ProjectionDef",t[t.Projection=35]="Projection",t[t.RepeaterCreate=36]="RepeaterCreate",t[t.Repeater=37]="Repeater",t[t.TwoWayProperty=38]="TwoWayProperty",t[t.TwoWayListener=39]="TwoWayListener",t[t.DeclareLet=40]="DeclareLet",t[t.StoreLet=41]="StoreLet",t[t.I18nStart=42]="I18nStart",t[t.I18n=43]="I18n",t[t.I18nEnd=44]="I18nEnd",t[t.I18nExpression=45]="I18nExpression",t[t.I18nApply=46]="I18nApply",t[t.IcuStart=47]="IcuStart",t[t.IcuEnd=48]="IcuEnd",t[t.IcuPlaceholder=49]="IcuPlaceholder",t[t.I18nContext=50]="I18nContext",t[t.I18nAttributes=51]="I18nAttributes",t[t.SourceLocation=52]="SourceLocation",t[t.Animation=53]="Animation",t[t.AnimationString=54]="AnimationString",t[t.AnimationBinding=55]="AnimationBinding",t[t.AnimationListener=56]="AnimationListener",t[t.Control=57]="Control",t[t.ControlCreate=58]="ControlCreate",t})(R||{}),It=(function(t){return t[t.LexicalRead=0]="LexicalRead",t[t.Context=1]="Context",t[t.TrackContext=2]="TrackContext",t[t.ReadVariable=3]="ReadVariable",t[t.NextContext=4]="NextContext",t[t.Reference=5]="Reference",t[t.StoreLet=6]="StoreLet",t[t.ContextLetReference=7]="ContextLetReference",t[t.GetCurrentView=8]="GetCurrentView",t[t.RestoreView=9]="RestoreView",t[t.ResetView=10]="ResetView",t[t.PureFunctionExpr=11]="PureFunctionExpr",t[t.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",t[t.PipeBinding=13]="PipeBinding",t[t.PipeBindingVariadic=14]="PipeBindingVariadic",t[t.SafePropertyRead=15]="SafePropertyRead",t[t.SafeKeyedRead=16]="SafeKeyedRead",t[t.SafeInvokeFunction=17]="SafeInvokeFunction",t[t.SafeTernaryExpr=18]="SafeTernaryExpr",t[t.EmptyExpr=19]="EmptyExpr",t[t.AssignTemporaryExpr=20]="AssignTemporaryExpr",t[t.ReadTemporaryExpr=21]="ReadTemporaryExpr",t[t.SlotLiteralExpr=22]="SlotLiteralExpr",t[t.ConditionalCase=23]="ConditionalCase",t[t.ConstCollected=24]="ConstCollected",t[t.TwoWayBindingSet=25]="TwoWayBindingSet",t})(It||{}),Ta=(function(t){return t[t.None=0]="None",t[t.AlwaysInline=1]="AlwaysInline",t})(Ta||{}),Xi=(function(t){return t[t.Context=0]="Context",t[t.Identifier=1]="Identifier",t[t.SavedView=2]="SavedView",t[t.Alias=3]="Alias",t})(Xi||{}),na=(function(t){return t[t.Normal=0]="Normal",t[t.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder",t})(na||{}),wt=(function(t){return t[t.Attribute=0]="Attribute",t[t.ClassName=1]="ClassName",t[t.StyleProperty=2]="StyleProperty",t[t.Property=3]="Property",t[t.Template=4]="Template",t[t.I18n=5]="I18n",t[t.LegacyAnimation=6]="LegacyAnimation",t[t.TwoWayProperty=7]="TwoWayProperty",t[t.Animation=8]="Animation",t})(wt||{}),Mv=(function(t){return t[t.Creation=0]="Creation",t[t.Postproccessing=1]="Postproccessing",t})(Mv||{}),S0=(function(t){return t[t.I18nText=0]="I18nText",t[t.I18nAttribute=1]="I18nAttribute",t})(S0||{}),mr=(function(t){return t[t.None=0]="None",t[t.ElementTag=1]="ElementTag",t[t.TemplateTag=2]="TemplateTag",t[t.OpenTag=4]="OpenTag",t[t.CloseTag=8]="CloseTag",t[t.ExpressionIndex=16]="ExpressionIndex",t})(mr||{}),Cs=(function(t){return t[t.HTML=0]="HTML",t[t.SVG=1]="SVG",t[t.Math=2]="Math",t})(Cs||{}),sr=(function(t){return t[t.Idle=0]="Idle",t[t.Immediate=1]="Immediate",t[t.Timer=2]="Timer",t[t.Hover=3]="Hover",t[t.Interaction=4]="Interaction",t[t.Viewport=5]="Viewport",t[t.Never=6]="Never",t})(sr||{}),Pd=(function(t){return t[t.RootI18n=0]="RootI18n",t[t.Icu=1]="Icu",t[t.Attr=2]="Attr",t})(Pd||{}),bo=(function(t){return t[t.NgTemplate=0]="NgTemplate",t[t.Structural=1]="Structural",t[t.Block=2]="Block",t})(bo||{}),PL=Symbol("ConsumesSlot"),gI=Symbol("DependsOnSlotContext"),C0=Symbol("ConsumesVars"),Y2=Symbol("UsesVarOffset"),Na={[PL]:!0,numSlotsUsed:1},Ao={[gI]:!0},Zs={[C0]:!0};function b0(t){return t[PL]===!0}function Pv(t){return t[gI]===!0}function fT(t){return t[C0]===!0}function qR(t){return t[Y2]===!0}function ka(t){return De({kind:R.Statement,statement:t},Bt)}function lf(t,e,n,r){return De({kind:R.Variable,xref:t,variable:e,initializer:n,flags:r},Bt)}var Bt={debugListId:null,prev:null,next:null};function sX(t,e,n){return De(De(De({kind:R.InterpolateText,target:t,interpolation:e,sourceSpan:n},Ao),Zs),Bt)}var jr=class{strings;expressions;i18nPlaceholders;constructor(e,n,r){if(this.strings=e,this.expressions=n,this.i18nPlaceholders=r,r.length!==0&&r.length!==n.length)throw new Error(`Expected ${n.length} placeholders to match interpolation expression count, but got ${r.length}`)}};function Qd(t,e,n,r,i,s,o,a,l,c,u){return De({kind:R.Binding,bindingKind:e,target:t,name:n,expression:r,unit:i,securityContext:s,isTextAttribute:o,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:c,sourceSpan:u},Bt)}function oX(t,e,n,r,i,s,o,a,l,c){return De(De(De({kind:R.Property,target:t,name:e,expression:n,bindingKind:r,securityContext:i,sanitizer:null,isStructuralTemplateAttribute:s,templateKind:o,i18nContext:a,i18nMessage:l,sourceSpan:c},Ao),Zs),Bt)}function aX(t,e,n,r,i,s,o,a,l){return De(De(De({kind:R.TwoWayProperty,target:t,name:e,expression:n,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:i,templateKind:s,i18nContext:o,i18nMessage:a,sourceSpan:l},Ao),Zs),Bt)}function lX(t,e,n,r,i){return De(De(De({kind:R.StyleProp,target:t,name:e,expression:n,unit:r,sourceSpan:i},Ao),Zs),Bt)}function cX(t,e,n,r){return De(De(De({kind:R.ClassProp,target:t,name:e,expression:n,sourceSpan:r},Ao),Zs),Bt)}function uX(t,e,n){return De(De(De({kind:R.StyleMap,target:t,expression:e,sourceSpan:n},Ao),Zs),Bt)}function fX(t,e,n){return De(De(De({kind:R.ClassMap,target:t,expression:e,sourceSpan:n},Ao),Zs),Bt)}function GR(t,e,n,r,i,s,o,a,l,c){return De(De(De({kind:R.Attribute,target:t,namespace:e,name:n,expression:r,securityContext:i,sanitizer:null,isTextAttribute:s,isStructuralTemplateAttribute:o,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:c},Ao),Zs),Bt)}function dX(t,e){return De({kind:R.Advance,delta:t,sourceSpan:e},Bt)}function FL(t,e,n,r){return De(De(De({kind:R.Conditional,target:t,test:e,conditions:n,processed:null,sourceSpan:r,contextValue:null},Bt),Ao),Zs)}function hX(t,e,n,r){return De(De({kind:R.Repeater,target:t,targetSlot:e,collection:n,sourceSpan:r},Bt),Ao)}function WR(t,e,n,r,i,s,o){return De({kind:R.AnimationBinding,name:t,target:e,animationKind:n,expression:r,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:s,animationBindingKind:o},Bt)}function pX(t,e,n,r){return De(De(De({kind:R.DeferWhen,target:t,expr:e,modifier:n,sourceSpan:r},Bt),Ao),Zs)}function RL(t,e,n,r,i,s,o,a,l,c,u){return De(De(De({kind:R.I18nExpression,context:t,target:e,i18nOwner:n,handle:r,expression:i,icuPlaceholder:s,i18nPlaceholder:o,resolutionTime:a,usage:l,name:c,sourceSpan:u},Bt),Zs),Ao)}function mX(t,e,n){return De({kind:R.I18nApply,owner:t,handle:e,sourceSpan:n},Bt)}function gX(t,e,n,r){return De(De(De({kind:R.StoreLet,target:t,declaredName:e,value:n,sourceSpan:r},Ao),Zs),Bt)}function vX(t){return De(De(De({kind:R.Control,target:t.target,name:t.name,expression:t.expression,bindingKind:t.bindingKind,securityContext:t.securityContext,sanitizer:null,isStructuralTemplateAttribute:t.isStructuralTemplateAttribute,templateKind:t.templateKind,i18nContext:t.i18nContext,i18nMessage:t.i18nMessage,sourceSpan:t.sourceSpan},Ao),Zs),Bt)}function fc(t){return t instanceof ar}var ar=class extends Vn{constructor(e=null){super(null,e)}},is=class t extends ar{name;kind=It.LexicalRead;constructor(e){super(),this.name=e}visitExpression(e,n){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.name)}},p2=class t extends ar{target;targetSlot;offset;kind=It.Reference;constructor(e,n,r){super(),this.target=e,this.targetSlot=n,this.offset=r}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot,this.offset)}},Fv=class t extends ar{target;value;sourceSpan;kind=It.StoreLet;[C0]=!0;[gI]=!0;constructor(e,n,r){super(),this.target=e,this.value=n,this.sourceSpan=r}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target&&e.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.value=_t(this.value,e,n)}clone(){return new t(this.target,this.value,this.sourceSpan)}},Rv=class t extends ar{target;targetSlot;kind=It.ContextLetReference;constructor(e,n){super(),this.target=e,this.targetSlot=n}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot)}},_f=class t extends ar{view;kind=It.Context;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},oA=class t extends ar{view;kind=It.TrackContext;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},m2=class t extends ar{kind=It.NextContext;steps=1;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof t&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t;return e.steps=this.steps,e}},aA=class t extends ar{kind=It.GetCurrentView;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof t}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t}},g2=class t extends ar{view;kind=It.RestoreView;constructor(e){super(),this.view=e}visitExpression(e,n){typeof this.view!="number"&&this.view.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,n){typeof this.view!="number"&&(this.view=_t(this.view,e,n))}clone(){return new t(this.view instanceof Vn?this.view.clone():this.view)}},lA=class t extends ar{expr;kind=It.ResetView;constructor(e){super(),this.expr=e}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=_t(this.expr,e,n)}clone(){return new t(this.expr.clone())}},v2=class t extends ar{target;value;kind=It.TwoWayBindingSet;constructor(e,n){super(),this.target=e,this.value=n}visitExpression(e,n){this.target.visitExpression(e,n),this.value.visitExpression(e,n)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.target=_t(this.target,e,n),this.value=_t(this.value,e,n)}clone(){return new t(this.target,this.value)}},ru=class t extends ar{xref;kind=It.ReadVariable;name=null;constructor(e){super(),this.xref=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t(this.xref);return e.name=this.name,e}},Zd=class t extends ar{kind=It.PureFunctionExpr;[C0]=!0;[Y2]=!0;varOffset=null;body;args;fn=null;constructor(e,n){super(),this.body=e,this.args=n}visitExpression(e,n){this.body?.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((n,r)=>n.isEquivalent(this.args[r]))}isConstant(){return!1}transformInternalExpressions(e,n){this.body!==null?this.body=_t(this.body,e,n|Rn.InChildOperation):this.fn!==null&&(this.fn=_t(this.fn,e,n));for(let r=0;r<this.args.length;r++)this.args[r]=_t(this.args[r],e,n)}clone(){let e=new t(this.body?.clone()??null,this.args.map(n=>n.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},xf=class t extends ar{index;kind=It.PureFunctionParameterExpr;constructor(e){super(),this.index=e}visitExpression(){}isEquivalent(e){return e instanceof t&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new t(this.index)}},eh=class t extends ar{target;targetSlot;name;args;kind=It.PipeBinding;[C0]=!0;[Y2]=!0;varOffset=null;constructor(e,n,r,i){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=i}visitExpression(e,n){for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){for(let r=0;r<this.args.length;r++)this.args[r]=_t(this.args[r],e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.map(n=>n.clone()));return e.varOffset=this.varOffset,e}},Lv=class t extends ar{target;targetSlot;name;args;numArgs;kind=It.PipeBindingVariadic;[C0]=!0;[Y2]=!0;varOffset=null;constructor(e,n,r,i,s){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=i,this.numArgs=s}visitExpression(e,n){this.args.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.args=_t(this.args,e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},g0=class t extends ar{receiver;name;kind=It.SafePropertyRead;constructor(e,n){super(),this.receiver=e,this.name=n}get index(){return this.name}visitExpression(e,n){this.receiver.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=_t(this.receiver,e,n)}clone(){return new t(this.receiver.clone(),this.name)}},v0=class t extends ar{receiver;index;kind=It.SafeKeyedRead;constructor(e,n,r){super(r),this.receiver=e,this.index=n}visitExpression(e,n){this.receiver.visitExpression(e,n),this.index.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=_t(this.receiver,e,n),this.index=_t(this.index,e,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},th=class t extends ar{receiver;args;kind=It.SafeInvokeFunction;constructor(e,n){super(),this.receiver=e,this.args=n}visitExpression(e,n){this.receiver.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=_t(this.receiver,e,n);for(let r=0;r<this.args.length;r++)this.args[r]=_t(this.args[r],e,n)}clone(){return new t(this.receiver.clone(),this.args.map(e=>e.clone()))}},y0=class t extends ar{guard;expr;kind=It.SafeTernaryExpr;constructor(e,n){super(),this.guard=e,this.expr=n}visitExpression(e,n){this.guard.visitExpression(e,n),this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.guard=_t(this.guard,e,n),this.expr=_t(this.expr,e,n)}clone(){return new t(this.guard.clone(),this.expr.clone())}},Ov=class t extends ar{kind=It.EmptyExpr;visitExpression(e,n){}isEquivalent(e){return e instanceof t}isConstant(){return!0}clone(){return new t}transformInternalExpressions(){}},dc=class t extends ar{expr;xref;kind=It.AssignTemporaryExpr;name=null;constructor(e,n){super(),this.expr=e,this.xref=n}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=_t(this.expr,e,n)}clone(){let e=new t(this.expr.clone(),this.xref);return e.name=this.name,e}},wf=class t extends ar{xref;kind=It.ReadTemporaryExpr;name=null;constructor(e){super(),this.xref=e}visitExpression(e,n){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,n){}clone(){let e=new t(this.xref);return e.name=this.name,e}},y2=class t extends ar{slot;kind=It.SlotLiteralExpr;constructor(e){super(),this.slot=e}visitExpression(e,n){}isEquivalent(e){return e instanceof t&&e.slot===this.slot}isConstant(){return!0}clone(){return new t(this.slot)}transformInternalExpressions(){}},_2=class t extends ar{expr;target;targetSlot;alias;kind=It.ConditionalCase;constructor(e,n,r,i=null){super(),this.expr=e,this.target=n,this.targetSlot=r,this.alias=i}visitExpression(e,n){this.expr!==null&&this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&e.expr===this.expr}isConstant(){return!0}clone(){return new t(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,n){this.expr!==null&&(this.expr=_t(this.expr,e,n))}},Bv=class t extends ar{expr;kind=It.ConstCollected;constructor(e){super(),this.expr=e}transformInternalExpressions(e,n){this.expr=e(this.expr,n)}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr)}};function Ki(t,e){di(t,(n,r)=>(e(n,r),n),Rn.None)}var Rn=(function(t){return t[t.None=0]="None",t[t.InChildOperation=1]="InChildOperation",t})(Rn||{});function dT(t,e,n){for(let r=0;r<t.expressions.length;r++)t.expressions[r]=_t(t.expressions[r],e,n)}function di(t,e,n){switch(t.kind){case R.StyleProp:case R.StyleMap:case R.ClassProp:case R.ClassMap:case R.AnimationString:case R.AnimationBinding:case R.Binding:t.expression instanceof jr?dT(t.expression,e,n):t.expression=_t(t.expression,e,n);break;case R.Property:case R.DomProperty:case R.Attribute:case R.Control:t.expression instanceof jr?dT(t.expression,e,n):t.expression=_t(t.expression,e,n),t.sanitizer=t.sanitizer&&_t(t.sanitizer,e,n);break;case R.TwoWayProperty:t.expression=_t(t.expression,e,n),t.sanitizer=t.sanitizer&&_t(t.sanitizer,e,n);break;case R.I18nExpression:t.expression=_t(t.expression,e,n);break;case R.InterpolateText:dT(t.interpolation,e,n);break;case R.Statement:x2(t.statement,e,n);break;case R.Variable:t.initializer=_t(t.initializer,e,n);break;case R.Conditional:for(let r of t.conditions)r.expr!==null&&(r.expr=_t(r.expr,e,n));t.processed!==null&&(t.processed=_t(t.processed,e,n)),t.contextValue!==null&&(t.contextValue=_t(t.contextValue,e,n));break;case R.Animation:case R.AnimationListener:case R.Listener:case R.TwoWayListener:for(let r of t.handlerOps)di(r,e,n|Rn.InChildOperation);break;case R.ExtractedAttribute:t.expression=t.expression&&_t(t.expression,e,n),t.trustedValueFn=t.trustedValueFn&&_t(t.trustedValueFn,e,n);break;case R.RepeaterCreate:if(t.trackByOps===null)t.track=_t(t.track,e,n);else for(let r of t.trackByOps)di(r,e,n|Rn.InChildOperation);t.trackByFn!==null&&(t.trackByFn=_t(t.trackByFn,e,n));break;case R.Repeater:t.collection=_t(t.collection,e,n);break;case R.Defer:t.loadingConfig!==null&&(t.loadingConfig=_t(t.loadingConfig,e,n)),t.placeholderConfig!==null&&(t.placeholderConfig=_t(t.placeholderConfig,e,n)),t.resolverFn!==null&&(t.resolverFn=_t(t.resolverFn,e,n));break;case R.I18nMessage:for(let[r,i]of t.params)t.params.set(r,_t(i,e,n));for(let[r,i]of t.postprocessingParams)t.postprocessingParams.set(r,_t(i,e,n));break;case R.DeferWhen:t.expr=_t(t.expr,e,n);break;case R.StoreLet:t.value=_t(t.value,e,n);break;case R.Advance:case R.Container:case R.ContainerEnd:case R.ContainerStart:case R.DeferOn:case R.DisableBindings:case R.Element:case R.ElementEnd:case R.ElementStart:case R.EnableBindings:case R.I18n:case R.I18nApply:case R.I18nContext:case R.I18nEnd:case R.I18nStart:case R.IcuEnd:case R.IcuStart:case R.Namespace:case R.Pipe:case R.Projection:case R.ProjectionDef:case R.Template:case R.Text:case R.I18nAttributes:case R.IcuPlaceholder:case R.DeclareLet:case R.SourceLocation:case R.ConditionalCreate:case R.ConditionalBranchCreate:case R.ControlCreate:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${R[t.kind]}`)}}function _t(t,e,n){if(t instanceof ar)t.transformInternalExpressions(e,n);else if(t instanceof In)t.lhs=_t(t.lhs,e,n),t.rhs=_t(t.rhs,e,n);else if(t instanceof Gd)t.expr=_t(t.expr,e,n);else if(t instanceof ea)t.receiver=_t(t.receiver,e,n);else if(t instanceof iu)t.receiver=_t(t.receiver,e,n),t.index=_t(t.index,e,n);else if(t instanceof To){t.fn=_t(t.fn,e,n);for(let r=0;r<t.args.length;r++)t.args[r]=_t(t.args[r],e,n)}else if(t instanceof oc)for(let r=0;r<t.entries.length;r++)t.entries[r]=_t(t.entries[r],e,n);else if(t instanceof cl)for(let r of t.entries)r instanceof df?r.expression=_t(r.expression,e,n):r.value=_t(r.value,e,n);else if(t instanceof sc)t.condition=_t(t.condition,e,n),t.trueCase=_t(t.trueCase,e,n),t.falseCase!==null&&(t.falseCase=_t(t.falseCase,e,n));else if(t instanceof r0)t.expr=_t(t.expr,e,n);else if(t instanceof Bx)t.expr=_t(t.expr,e,n);else if(t instanceof Ux)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=_t(t.expressions[r],e,n);else if(t instanceof tv)t.condition=_t(t.condition,e,n);else if(t instanceof Qg)t.tag=_t(t.tag,e,n),t.template.expressions=t.template.expressions.map(r=>_t(r,e,n));else if(t instanceof qd)if(Array.isArray(t.body))for(let r=0;r<t.body.length;r++)x2(t.body[r],e,n);else t.body=_t(t.body,e,n);else if(!(t instanceof mn)){if(t instanceof ev)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=_t(t.expressions[r],e,n);else if(t instanceof ll)t.expr=_t(t.expr,e,n);else if(t instanceof Wd)t.expression=_t(t.expression,e,n);else if(!(t instanceof al||t instanceof $d||t instanceof us||t instanceof i0))throw new Error(`Unhandled expression kind: ${t.constructor.name}`)}return e(t,n)}function x2(t,e,n){if(t instanceof bs)t.expr=_t(t.expr,e,n);else if(t instanceof ls)t.value=_t(t.value,e,n);else if(t instanceof Ui)t.value!==void 0&&(t.value=_t(t.value,e,n));else if(t instanceof $x){t.condition=_t(t.condition,e,n);for(let r of t.trueCase)x2(r,e,n);for(let r of t.falseCase)x2(r,e,n)}else throw new Error(`Unhandled statement kind: ${t.constructor.name}`)}function LL(t){return t instanceof us&&typeof t.value=="string"}var Ge=(()=>{class t{static nextListId=0;debugListId=t.nextListId++;head={kind:R.ListEnd,next:null,prev:null,debugListId:this.debugListId};tail={kind:R.ListEnd,next:null,prev:null,debugListId:this.debugListId};constructor(){this.head.next=this.tail,this.tail.prev=this.head}push(n){if(Array.isArray(n)){for(let i of n)this.push(i);return}t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=this.debugListId;let r=this.tail.prev;n.prev=r,r.next=n,n.next=this.tail,this.tail.prev=n}prepend(n){if(n.length===0)return;for(let s of n)t.assertIsNotEnd(s),t.assertIsUnowned(s),s.debugListId=this.debugListId;let r=this.head.next,i=this.head;for(let s of n)i.next=s,s.prev=i,i=s;i.next=r,r.prev=i}*[Symbol.iterator](){let n=this.head.next;for(;n!==this.tail;){t.assertIsOwned(n,this.debugListId);let r=n.next;yield n,n=r}}*reversed(){let n=this.tail.prev;for(;n!==this.head;){t.assertIsOwned(n,this.debugListId);let r=n.prev;yield n,n=r}}static replace(n,r){t.assertIsNotEnd(n),t.assertIsNotEnd(r),t.assertIsOwned(n),t.assertIsUnowned(r),r.debugListId=n.debugListId,n.prev!==null&&(n.prev.next=r,r.prev=n.prev),n.next!==null&&(n.next.prev=r,r.next=n.next),n.debugListId=null,n.prev=null,n.next=null}static replaceWithMany(n,r){if(r.length===0){t.remove(n);return}t.assertIsNotEnd(n),t.assertIsOwned(n);let i=n.debugListId;n.debugListId=null;for(let u of r)t.assertIsNotEnd(u),t.assertIsUnowned(u);let{prev:s,next:o}=n;n.prev=null,n.next=null;let a=s;for(let u of r)t.assertIsUnowned(u),u.debugListId=i,a.next=u,u.prev=a,u.next=null,a=u;let l=r[0],c=a;s!==null&&(s.next=l,l.prev=s),o!==null&&(o.prev=c,c.next=o)}static remove(n){t.assertIsNotEnd(n),t.assertIsOwned(n),n.prev.next=n.next,n.next.prev=n.prev,n.debugListId=null,n.prev=null,n.next=null}static insertBefore(n,r){if(Array.isArray(n)){for(let i of n)t.insertBefore(i,r);return}if(t.assertIsOwned(r),r.prev===null)throw new Error("AssertionError: illegal operation on list start");t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=r.debugListId,n.prev=null,r.prev.next=n,n.prev=r.prev,n.next=r,r.prev=n}static insertAfter(n,r){if(t.assertIsOwned(r),r.next===null)throw new Error("AssertionError: illegal operation on list end");t.assertIsNotEnd(n),t.assertIsUnowned(n),n.debugListId=r.debugListId,r.next.prev=n,n.next=r.next,n.prev=r,r.next=n}static assertIsUnowned(n){if(n.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${R[n.kind]}`)}static assertIsOwned(n,r){if(n.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${R[n.kind]}`);if(r!==void 0&&n.debugListId!==r)throw new Error(`AssertionError: node belongs to the wrong list (expected ${r}, actual ${n.debugListId})`)}static assertIsNotEnd(n){if(n.kind===R.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}}return t})(),fs=class{slot=null},yX=new Set([R.Element,R.ElementStart,R.Container,R.ContainerStart,R.Template,R.RepeaterCreate,R.ConditionalCreate,R.ConditionalBranchCreate]);function Ef(t){return yX.has(t.kind)}function _X(t,e,n,r,i,s){return De(De({kind:R.ElementStart,xref:e,tag:t,handle:new fs,attributes:null,localRefs:[],nonBindable:!1,namespace:n,i18nPlaceholder:r,startSourceSpan:i,wholeSourceSpan:s},Na),Bt)}function OL(t,e,n,r,i,s,o,a){return De(De({kind:R.Template,xref:t,templateKind:e,attributes:null,tag:n,handle:new fs,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:s,startSourceSpan:o,wholeSourceSpan:a},Na),Bt)}function BL(t,e,n,r,i,s,o,a){return De(De({kind:R.ConditionalCreate,xref:t,templateKind:e,attributes:null,tag:n,handle:new fs,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:s,startSourceSpan:o,wholeSourceSpan:a},Na),Bt)}function VL(t,e,n,r,i,s,o,a){return De(De({kind:R.ConditionalBranchCreate,xref:t,templateKind:e,attributes:null,tag:n,handle:new fs,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:i,i18nPlaceholder:s,startSourceSpan:o,wholeSourceSpan:a},Na),Bt)}function xX(t,e,n,r,i,s,o,a,l,c){return Nt(De(De(De({kind:R.RepeaterCreate,attributes:null,xref:t,handle:new fs,emptyView:e,track:r,trackByFn:null,trackByOps:null,tag:n,emptyTag:s,emptyAttributes:null,functionNameSuffix:"For",namespace:Cs.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:i,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:c},Na),Bt),Zs),{numSlotsUsed:e===null?2:3})}function wX(t,e){return De({kind:R.ElementEnd,xref:t,sourceSpan:e},Bt)}function EX(t){return De({kind:R.DisableBindings,xref:t},Bt)}function SX(t){return De({kind:R.EnableBindings,xref:t},Bt)}function UL(t,e,n,r){return De(De({kind:R.Text,xref:t,handle:new fs,initialValue:e,icuPlaceholder:n,sourceSpan:r},Na),Bt)}function CX(t,e,n,r,i,s){return De({kind:R.AnimationString,name:t,target:e,animationKind:n,expression:r,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:s},Bt)}function bX(t,e,n,r,i,s){let o=new Ge;return o.push(r),De({kind:R.Animation,name:t,target:e,animationKind:n,handlerOps:o,handlerFnName:null,i18nMessage:null,securityContext:i,sanitizer:null,sourceSpan:s},Bt)}function vI(t,e,n,r,i,s,o,a,l){let c=new Ge;return c.push(i),De({kind:R.Listener,target:t,targetSlot:e,tag:r,hostListener:a,name:n,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,isLegacyAnimationListener:s!==null,legacyAnimationPhase:s,eventTarget:o,sourceSpan:l},Bt)}function HL(t,e,n,r,i,s,o,a,l){let c=new Ge;return c.push(i),De({kind:R.AnimationListener,target:t,targetSlot:e,tag:r,hostListener:a,name:n,animationKind:s,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,eventTarget:o,sourceSpan:l},Bt)}function $L(t,e,n,r,i,s){let o=new Ge;return o.push(i),De({kind:R.TwoWayListener,target:t,targetSlot:e,tag:r,name:n,handlerOps:o,handlerFnName:null,sourceSpan:s},Bt)}function qL(t,e,n){return De(De({kind:R.Pipe,xref:t,handle:e,name:n},Bt),Na)}function TX(t){return De({kind:R.Namespace,active:t},Bt)}function AX(t){return De({kind:R.ProjectionDef,def:t},Bt)}function IX(t,e,n,r,i){return Nt(De(De({kind:R.Projection,xref:t,handle:new fs,selector:e,i18nPlaceholder:n,fallbackView:r,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:i},Bt),Na),{numSlotsUsed:r===null?1:2})}function zo(t,e,n,r,i,s,o,a){return De({kind:R.ExtractedAttribute,target:t,bindingKind:e,namespace:n,name:r,expression:i,i18nContext:s,i18nMessage:o,securityContext:a,trustedValueFn:null},Bt)}function DX(t,e,n,r,i,s){return Nt(De(De({kind:R.Defer,xref:t,handle:new fs,mainView:e,mainSlot:n,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:r,resolverFn:i,flags:null,sourceSpan:s},Bt),Na),{numSlotsUsed:2})}function sf(t,e,n,r){return De({kind:R.DeferOn,defer:t,trigger:e,modifier:n,sourceSpan:r},Bt)}function kX(t,e,n){return De(De({kind:R.DeclareLet,xref:t,declaredName:e,sourceSpan:n,handle:new fs},Na),Bt)}function NX(t,e,n,r,i,s,o,a){return De({kind:R.I18nMessage,xref:t,i18nContext:e,i18nBlock:n,message:r,messagePlaceholder:i,params:s,postprocessingParams:o,needsPostprocessing:a,subMessages:[]},Bt)}function X2(t,e,n,r){return De(De({kind:R.I18nStart,xref:t,handle:new fs,root:n??t,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:r},Bt),Na)}function K2(t,e){return De({kind:R.I18nEnd,xref:t,sourceSpan:e},Bt)}function MX(t,e,n,r){return De({kind:R.IcuStart,xref:t,message:e,messagePlaceholder:n,context:null,sourceSpan:r},Bt)}function PX(t){return De({kind:R.IcuEnd,xref:t},Bt)}function FX(t,e,n){return De({kind:R.IcuPlaceholder,xref:t,name:e,strings:n,expressionPlaceholders:[]},Bt)}function hT(t,e,n,r,i){if(n===null&&t!==Pd.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return De({kind:R.I18nContext,contextKind:t,xref:e,i18nBlock:n,message:r,sourceSpan:i,params:new Map,postprocessingParams:new Map},Bt)}function GL(t,e,n){return De(De({kind:R.I18nAttributes,xref:t,handle:e,target:n,i18nAttributesConfig:null},Bt),Na)}function RX(t,e){return De({kind:R.SourceLocation,templatePath:t,locations:e},Bt)}function LX(t){return De({kind:R.ControlCreate,sourceSpan:t},Bt)}function OX(t,e,n,r,i,s){return De(De({kind:R.DomProperty,name:t,expression:e,bindingKind:n,i18nContext:r,securityContext:i,sanitizer:null,sourceSpan:s},Zs),Bt)}var WL="CTX_REF_MARKER",mt=(function(t){return t[t.Tmpl=0]="Tmpl",t[t.Host=1]="Host",t[t.Both=2]="Both",t})(mt||{}),xo=(function(t){return t[t.Full=0]="Full",t[t.DomOnly=1]="DomOnly",t})(xo||{}),w2=class{componentName;pool;compatibility;mode;constructor(e,n,r,i){this.componentName=e,this.pool=n,this.compatibility=r,this.mode=i}kind=mt.Both;allocateXrefId(){return this.nextXrefId++}nextXrefId=0},Vv=class extends w2{relativeContextFilePath;i18nUseExternalIds;deferMeta;allDeferrableDepsFn;relativeTemplatePath;enableDebugLocations;constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i),this.relativeContextFilePath=s,this.i18nUseExternalIds=o,this.deferMeta=a,this.allDeferrableDepsFn=l,this.relativeTemplatePath=c,this.enableDebugLocations=u,this.root=new Aa(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}kind=mt.Tmpl;fnSuffix="Template";root;views=new Map;contentSelectors=null;allocateView(e){let n=new Aa(this,this.allocateXrefId(),e);return this.views.set(n.xref,n),n}get units(){return this.views.values()}addConst(e,n){for(let i=0;i<this.consts.length;i++)if(this.consts[i].isEquivalent(e))return i;let r=this.consts.length;return this.consts.push(e),n&&this.constsInitializers.push(...n),r}consts=[];constsInitializers=[]},E2=class{xref;constructor(e){this.xref=e}create=new Ge;update=new Ge;fnName=null;vars=null;*ops(){for(let e of this.create)if(yield e,e.kind===R.Listener||e.kind===R.Animation||e.kind===R.AnimationListener||e.kind===R.TwoWayListener)for(let n of e.handlerOps)yield n;else if(e.kind===R.RepeaterCreate&&e.trackByOps!==null)for(let n of e.trackByOps)yield n;for(let e of this.update)yield e}},Aa=class extends E2{job;parent;constructor(e,n,r){super(n),this.job=e,this.parent=r}contextVariables=new Map;aliases=new Set;decls=null},S2=class extends w2{constructor(e,n,r,i){super(e,n,r,i),this.root=new cA(this)}kind=mt.Host;fnSuffix="HostBindings";root;get units(){return[this.root]}},cA=class extends E2{job;constructor(e){super(0),this.job=e}attributes=null};function BX(t){for(let e of t.units)for(let n of e.ops())di(n,VX,Rn.None)}function VX(t){if(t instanceof To&&t.fn instanceof is&&t.fn.name==="$any"){if(t.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return t.args[0]}return t}function UX(t){let e=new Map;for(let n of t.units)for(let r of n.create)r.kind===R.I18nContext&&e.set(r.xref,r);for(let n of t.units)for(let r of n.update)r.kind===R.I18nExpression&&HX(e,r)&&Ge.insertAfter(mX(r.i18nOwner,r.handle,null),r)}function HX(t,e){if(e.next?.kind!==R.I18nExpression)return!0;let n=t.get(e.context),r=t.get(e.next.context);if(n===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(r===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return n.i18nBlock!==null?n.i18nBlock!==r.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function $X(t){for(let e of t.units){let n=e.update.head,r=[],i=null;for(let s of e.create){if(s.kind===R.I18nStart)i={blockXref:s.xref,lastSlotConsumer:s.xref};else if(s.kind===R.I18nEnd){for(let o of r)o.target=i.lastSlotConsumer,Ge.insertBefore(o,n);r.length=0,i=null}if(b0(s))for(i!==null&&(i.lastSlotConsumer=s.xref);n.next!==null;){if(i!==null&&n.kind===R.I18nExpression&&n.usage===S0.I18nText&&n.i18nOwner===i.blockXref){let a=n;n=n.next,Ge.remove(a),r.push(a);continue}let o=!1;if(Pv(n)&&n.target!==s.xref?o=!0:(n.kind===R.Statement||n.kind===R.Variable)&&Ki(n,a=>{!o&&Pv(a)&&a.target!==s.xref&&(o=!0)}),o)break;n=n.next}}}}function qX(t){if(!(!t.enableDebugLocations||t.relativeTemplatePath===null))for(let e of t.units){let n=[];for(let r of e.create)if(r.kind===R.ElementStart||r.kind===R.Element){let i=r.startSourceSpan.start;n.push({targetSlot:r.handle,offset:i.offset,line:i.line,column:i.col})}n.length>0&&e.create.push(RX(t.relativeTemplatePath,n))}}function jL(t){let e=new Map;for(let n of t.create)b0(n)&&(e.set(n.xref,n),n.kind===R.RepeaterCreate&&n.emptyView!==null&&e.set(n.emptyView,n));return e}function GX(t){for(let e of t.units){let n=jL(e);for(let r of e.ops())switch(r.kind){case R.Attribute:WX(e,r,n);break;case R.Property:if(r.bindingKind!==wt.LegacyAnimation&&r.bindingKind!==wt.Animation){let i;r.i18nMessage!==null&&r.templateKind===null?i=wt.I18n:r.isStructuralTemplateAttribute?i=wt.Template:i=wt.Property,Ge.insertBefore(zo(r.target,i,null,r.name,null,null,null,r.securityContext),bd(n,r.target))}break;case R.Control:Ge.insertBefore(zo(r.target,wt.Property,null,r.name,null,null,null,r.securityContext),bd(n,r.target));break;case R.TwoWayProperty:Ge.insertBefore(zo(r.target,wt.TwoWayProperty,null,r.name,null,null,null,r.securityContext),bd(n,r.target));break;case R.StyleProp:case R.ClassProp:e.job.compatibility===na.TemplateDefinitionBuilder&&r.expression instanceof Ov&&Ge.insertBefore(zo(r.target,wt.Property,null,r.name,null,null,null,or.STYLE),bd(n,r.target));break;case R.Listener:if(!r.isLegacyAnimationListener){let i=zo(r.target,wt.Property,null,r.name,null,null,null,or.NONE);if(t.kind===mt.Host){if(t.compatibility)break;e.create.push(i)}else Ge.insertBefore(i,bd(n,r.target))}break;case R.TwoWayListener:if(t.kind!==mt.Host){let i=zo(r.target,wt.Property,null,r.name,null,null,null,or.NONE);Ge.insertBefore(i,bd(n,r.target))}break}}}function bd(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function WX(t,e,n){if(e.expression instanceof jr)return;let r=e.isTextAttribute||e.expression.isConstant();if(t.job.compatibility===na.TemplateDefinitionBuilder&&(r&&=e.isTextAttribute),r){let i=zo(e.target,e.isStructuralTemplateAttribute?wt.Template:wt.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(t.job.kind===mt.Host)t.create.push(i);else{let s=bd(n,e.target);Ge.insertBefore(i,s)}Ge.remove(e)}}var jR="aria-";function zL(t){return t.startsWith(jR)&&t.length>jR.length}function jX(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function zX(t){let e=new Map;for(let n of t.units)for(let r of n.create)Ef(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===R.Binding)switch(r.bindingKind){case wt.Attribute:if(r.name==="ngNonBindable"){Ge.remove(r);let i=jX(e,r.target);i.nonBindable=!0}else if(r.name.startsWith("animate."))Ge.replace(r,WR(r.name,r.target,r.name==="animate.enter"?"enter":"leave",r.expression,r.securityContext,r.sourceSpan,0));else{let[i,s]=ul(r.name);Ge.replace(r,GR(r.target,i,s,r.expression,r.securityContext,r.isTextAttribute,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan))}break;case wt.Animation:Ge.replace(r,WR(r.name,r.target,r.name==="animate.enter"?"enter":"leave",r.expression,r.securityContext,r.sourceSpan,1));break;case wt.Property:case wt.LegacyAnimation:t.mode===xo.DomOnly&&zL(r.name)?Ge.replace(r,GR(r.target,null,r.name,r.expression,r.securityContext,!1,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan)):t.kind===mt.Host?Ge.replace(r,OX(r.name,r.expression,r.bindingKind,r.i18nContext,r.securityContext,r.sourceSpan)):r.name==="formField"?Ge.replace(r,vX(r)):Ge.replace(r,oX(r.target,r.name,r.expression,r.bindingKind,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case wt.TwoWayProperty:if(!(r.expression instanceof Vn))throw new Error(`Expected value of two-way property binding "${r.name}" to be an expression`);Ge.replace(r,aX(r.target,r.name,r.expression,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case wt.I18n:case wt.ClassName:case wt.StyleProperty:throw new Error(`Unhandled binding of kind ${wt[r.bindingKind]}`)}}var zR=new Map([[pe.ariaProperty,pe.ariaProperty],[pe.attribute,pe.attribute],[pe.classProp,pe.classProp],[pe.element,pe.element],[pe.elementContainer,pe.elementContainer],[pe.elementContainerEnd,pe.elementContainerEnd],[pe.elementContainerStart,pe.elementContainerStart],[pe.elementEnd,pe.elementEnd],[pe.elementStart,pe.elementStart],[pe.domProperty,pe.domProperty],[pe.i18nExp,pe.i18nExp],[pe.listener,pe.listener],[pe.listener,pe.listener],[pe.property,pe.property],[pe.styleProp,pe.styleProp],[pe.syntheticHostListener,pe.syntheticHostListener],[pe.syntheticHostProperty,pe.syntheticHostProperty],[pe.templateCreate,pe.templateCreate],[pe.twoWayProperty,pe.twoWayProperty],[pe.twoWayListener,pe.twoWayListener],[pe.declareLet,pe.declareLet],[pe.conditionalCreate,pe.conditionalBranchCreate],[pe.conditionalBranchCreate,pe.conditionalBranchCreate],[pe.domElement,pe.domElement],[pe.domElementStart,pe.domElementStart],[pe.domElementEnd,pe.domElementEnd],[pe.domElementContainer,pe.domElementContainer],[pe.domElementContainerStart,pe.domElementContainerStart],[pe.domElementContainerEnd,pe.domElementContainerEnd],[pe.domListener,pe.domListener],[pe.domTemplate,pe.domTemplate],[pe.animationEnter,pe.animationEnter],[pe.animationLeave,pe.animationLeave],[pe.animationEnterListener,pe.animationEnterListener],[pe.animationLeaveListener,pe.animationLeaveListener]]),YX=256;function XX(t){for(let e of t.units)YR(e.create),YR(e.update)}function YR(t){let e=null;for(let n of t){if(n.kind!==R.Statement||!(n.statement instanceof bs)){e=null;continue}if(!(n.statement.expr instanceof To)||!(n.statement.expr.fn instanceof $d)){e=null;continue}let r=n.statement.expr.fn.value;if(!zR.has(r)){e=null;continue}if(e!==null&&zR.get(e.instruction)===r&&e.length<YX){let i=e.expression.callFn(n.statement.expr.args,n.statement.expr.sourceSpan,n.statement.expr.pure);e.expression=i,e.op.statement=i.toStmt(),e.length++,Ge.remove(n)}else e={op:n,instruction:r,expression:n.statement.expr,length:1}}}function KX(t){for(let e of t.units)for(let n of e.update)(n.kind===R.Attribute||n.kind===R.StyleProp||n.kind==R.StyleMap||n.kind===R.ClassMap)&&n.expression instanceof jr&&n.expression.strings.length===2&&n.expression.strings.every(i=>i==="")&&(n.expression=n.expression.expressions[0])}function JX(t){for(let e of t.units)for(let n of e.ops()){if(n.kind!==R.Conditional)continue;let r,i=n.conditions.findIndex(a=>a.expr===null);if(i>=0){let a=n.conditions.splice(i,1)[0].targetSlot;r=new y2(a)}else r=Ie(-1);let s=n.test==null?null:new dc(n.test,t.allocateXrefId()),o=null;for(let a=n.conditions.length-1;a>=0;a--){let l=n.conditions[a];if(l.expr!==null){if(s!==null){let c=a===0?s:new wf(s.xref);l.expr=new In(Xe.Identical,c,l.expr)}else l.alias!==null&&(o??=t.allocateXrefId(),l.expr=new dc(l.expr,o),n.contextValue=new wf(o));r=new sc(l.expr,new y2(l.targetSlot),r)}}n.processed=r,n.conditions=[]}}var QX=new Map([["&&",Xe.And],[">",Xe.Bigger],[">=",Xe.BiggerEquals],["|",Xe.BitwiseOr],["&",Xe.BitwiseAnd],["/",Xe.Divide],["=",Xe.Assign],["==",Xe.Equals],["===",Xe.Identical],["<",Xe.Lower],["<=",Xe.LowerEquals],["-",Xe.Minus],["%",Xe.Modulo],["**",Xe.Exponentiation],["*",Xe.Multiply],["!=",Xe.NotEquals],["!==",Xe.NotIdentical],["??",Xe.NullishCoalesce],["||",Xe.Or],["+",Xe.Plus],["in",Xe.In],["+=",Xe.AdditionAssignment],["-=",Xe.SubtractionAssignment],["*=",Xe.MultiplicationAssignment],["/=",Xe.DivisionAssignment],["%=",Xe.RemainderAssignment],["**=",Xe.ExponentiationAssignment],["&&=",Xe.AndAssignment],["||=",Xe.OrAssignment],["??=",Xe.NullishCoalesceAssignment]]);function YL(t){let e=new Map([["svg",Cs.SVG],["math",Cs.Math]]);return t===null?Cs.HTML:e.get(t)??Cs.HTML}function ZX(t){let e=new Map([["svg",Cs.SVG],["math",Cs.Math]]);for(let[n,r]of e.entries())if(r===t)return n;return null}function eK(t,e){return e===Cs.HTML?t:`:${ZX(e)}:${t}`}function _0(t){return Array.isArray(t)?Zn(t.map(_0)):Ie(t)}function tK(t){let e=new Map;for(let n of t.units)for(let r of n.create)if(r.kind===R.ExtractedAttribute){let i=e.get(r.target)||new uA(t.compatibility);e.set(r.target,i),i.add(r.bindingKind,r.name,r.expression,r.namespace,r.trustedValueFn),Ge.remove(r)}if(t instanceof Vv)for(let n of t.units)for(let r of n.create)if(r.kind==R.Projection){let i=e.get(r.xref);if(i!==void 0){let s=fA(i);s.entries.length>0&&(r.attributes=s)}}else Ef(r)&&(r.attributes=XR(t,e,r.xref),r.kind===R.RepeaterCreate&&r.emptyView!==null&&(r.emptyAttributes=XR(t,e,r.emptyView)));else if(t instanceof S2)for(let[n,r]of e.entries()){if(n!==t.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let i=fA(r);i.entries.length>0&&(t.root.attributes=i)}}function XR(t,e,n){let r=e.get(n);if(r!==void 0){let i=fA(r);if(i.entries.length>0)return t.addConst(i)}return null}var Hp=Object.freeze([]),uA=class{compatibility;known=new Map;byKind=new Map;propertyBindings=null;projectAs=null;get attributes(){return this.byKind.get(wt.Attribute)??Hp}get classes(){return this.byKind.get(wt.ClassName)??Hp}get styles(){return this.byKind.get(wt.StyleProperty)??Hp}get bindings(){return this.propertyBindings??Hp}get template(){return this.byKind.get(wt.Template)??Hp}get i18n(){return this.byKind.get(wt.I18n)??Hp}constructor(e){this.compatibility=e}isKnown(e,n){let r=this.known.get(e)??new Set;return this.known.set(e,r),r.has(n)?!0:(r.add(n),!1)}add(e,n,r,i,s){if(!(this.compatibility===na.TemplateDefinitionBuilder&&(e===wt.Attribute||e===wt.ClassName||e===wt.StyleProperty))&&this.isKnown(e,n))return;if(n==="ngProjectAs"){if(r===null||!(r instanceof us)||r.value==null||typeof r.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=r.value.toString()}let a=this.arrayFor(e);if(a.push(...nK(i,n)),e===wt.Attribute||e===wt.StyleProperty){if(r===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(s!==null){if(!LL(r))throw Error("AssertionError: extracted attribute value should be string literal");a.push(_z(s,new ev([new Vx(r.value)],[]),void 0,r.sourceSpan))}else a.push(r)}}arrayFor(e){return e===wt.Property||e===wt.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function nK(t,e){let n=Ie(e);return t?[Ie(0),Ie(t),n]:[n]}function fA({attributes:t,bindings:e,classes:n,i18n:r,projectAs:i,styles:s,template:o}){let a=[...t];if(i!==null){let l=tI(i)[0];a.push(Ie(5),_0(l))}return n.length>0&&a.push(Ie(1),...n),s.length>0&&a.push(Ie(2),...s),e.length>0&&a.push(Ie(3),...e),o.length>0&&a.push(Ie(4),...o),r.length>0&&a.push(Ie(6),...r),Zn(a)}function rK(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function iK(t){let e=new Map;for(let n of t.units)for(let r of n.create)Ef(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===R.AnimationBinding){let i=sK(r);t.kind===mt.Host?n.create.push(i):Ge.insertAfter(i,rK(e,r.target)),Ge.remove(r)}}function sK(t){if(t.animationBindingKind===0)return CX(t.name,t.target,t.name==="animate.enter"?"enter":"leave",t.expression,t.securityContext,t.sourceSpan);{let e=t.expression;return bX(t.name,t.target,t.name==="animate.enter"?"enter":"leave",[ka(new ls(e,e.sourceSpan))],t.securityContext,t.sourceSpan)}}function oK(t){let e=new Map;for(let n of t.units){for(let r of n.create)r.kind===R.I18nAttributes&&e.set(r.target,r);for(let r of n.update)switch(r.kind){case R.Property:case R.Attribute:if(r.i18nContext===null||!(r.expression instanceof jr))continue;let i=e.get(r.target);if(i===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(i.target!==r.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let s=[];for(let o=0;o<r.expression.expressions.length;o++){let a=r.expression.expressions[o];if(r.expression.i18nPlaceholders.length!==r.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${r.expression.i18nPlaceholders.length} placeholders and ${r.expression.expressions.length} expressions`);s.push(RL(r.i18nContext,i.target,i.xref,i.handle,a,null,r.expression.i18nPlaceholders[o],Mv.Creation,S0.I18nAttribute,r.name,r.sourceSpan))}Ge.replaceWithMany(r,s);break}}}function aK(t){let e=new Map;for(let i of t.units)for(let s of i.ops())switch(s.kind){case R.Binding:case R.Property:case R.Attribute:case R.ExtractedAttribute:if(s.i18nMessage===null)continue;if(!e.has(s.i18nMessage)){let o=hT(Pd.Attr,t.allocateXrefId(),null,s.i18nMessage,null);i.create.push(o),e.set(s.i18nMessage,o.xref)}s.i18nContext=e.get(s.i18nMessage);break}let n=new Map;for(let i of t.units)for(let s of i.create)switch(s.kind){case R.I18nStart:if(s.xref===s.root){let o=hT(Pd.RootI18n,t.allocateXrefId(),s.xref,s.message,null);i.create.push(o),s.context=o.xref,n.set(s.xref,o)}break}for(let i of t.units)for(let s of i.create)if(s.kind===R.I18nStart&&s.xref!==s.root){let o=n.get(s.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");s.context=o.xref,n.set(s.xref,o)}let r=null;for(let i of t.units)for(let s of i.create)switch(s.kind){case R.I18nStart:r=s;break;case R.I18nEnd:r=null;break;case R.IcuStart:if(r===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(s.message.id!==r.message.id){let o=hT(Pd.Icu,t.allocateXrefId(),r.root,s.message,null);i.create.push(o),s.context=o.xref}else s.context=r.context,n.get(r.xref).contextKind=Pd.Icu;break}}function lK(t){let e=new Map;for(let n of t.units)for(let r of n.update.reversed())if(r.kind===R.Binding&&r.isTextAttribute){let i=e.get(r.target)||new Set;i.has(r.name)&&t.compatibility===na.TemplateDefinitionBuilder&&(r.name==="style"||r.name==="class")&&Ge.remove(r),i.add(r.name),e.set(r.target,i)}}function cK(t){for(let e of t.units)for(let n of e.create)n.kind===R.Defer&&(n.placeholderMinimumTime!==null&&(n.placeholderConfig=new Bv(_0([n.placeholderMinimumTime]))),(n.loadingMinimumTime!==null||n.loadingAfterTime!==null)&&(n.loadingConfig=new Bv(_0([n.loadingMinimumTime,n.loadingAfterTime]))))}function uK(t){let e=new Map;function n(i){if(e.has(i.xref))return e.get(i.xref);let s=new fK;for(let o of i.create)if(!(!Ef(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of o.localRefs)a.target===""&&s.targets.set(a.name,{xref:o.xref,slot:o.handle})}return e.set(i.xref,s),s}function r(i,s,o){switch(s.trigger.kind){case sr.Idle:case sr.Never:case sr.Immediate:case sr.Timer:return;case sr.Hover:case sr.Interaction:case sr.Viewport:if(s.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let c=t.views.get(o);if(c==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let u of c.create)if(b0(u)&&(Ef(u)||u.kind===R.Projection)){s.trigger.targetXref=u.xref,s.trigger.targetView=o,s.trigger.targetSlotViewSteps=-1,s.trigger.targetSlot=u.handle;return}return}let a=o!==null?t.views.get(o):i,l=o!==null?-1:0;for(;a!==null;){let c=n(a);if(c.targets.has(s.trigger.targetName)){let{xref:u,slot:f}=c.targets.get(s.trigger.targetName);s.trigger.targetXref=u,s.trigger.targetView=a.xref,s.trigger.targetSlotViewSteps=l,s.trigger.targetSlot=f;return}a=a.parent!==null?t.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${s.trigger.kind} not handled`)}}for(let i of t.units){let s=new Map;for(let o of i.create)switch(o.kind){case R.Defer:s.set(o.xref,o);break;case R.DeferOn:let a=s.get(o.defer);r(i,o,o.modifier==="hydrate"?a.mainView:a.placeholderView);break}}}var fK=class{targets=new Map},dK=new Map([[R.ElementEnd,[R.ElementStart,R.Element]],[R.ContainerEnd,[R.ContainerStart,R.Container]],[R.I18nEnd,[R.I18nStart,R.I18n]]]),hK=new Set([R.Pipe]);function pK(t){for(let e of t.units)for(let n of e.create){let r=dK.get(n.kind);if(r===void 0)continue;let[i,s]=r,o=n.prev;for(;o!==null&&hK.has(o.kind);)o=o.prev;o!==null&&o.kind===i&&(o.kind=s,Ge.remove(n))}}function mK(t){for(let e of t.units)for(let n of e.ops())di(n,r=>wK(r,{job:t}),Rn.None),di(n,EK,Rn.None)}function jo(t){return t instanceof Gd?jo(t.expr):t instanceof In?jo(t.lhs)||jo(t.rhs):t instanceof sc?t.falseCase&&jo(t.falseCase)?!0:jo(t.condition)||jo(t.trueCase):t instanceof tv?jo(t.condition):t instanceof dc?jo(t.expr):t instanceof ea?jo(t.receiver):t instanceof iu?jo(t.receiver)||jo(t.index):t instanceof ll?jo(t.expr):t instanceof To||t instanceof oc||t instanceof cl||t instanceof th||t instanceof eh}function gK(t){let e=new Set;return _t(t,n=>(n instanceof dc&&e.add(n.xref),n),Rn.None),e}function vK(t,e,n){return _t(t,r=>{if(r instanceof dc&&e.has(r.xref)){let i=new wf(r.xref);return n.job.compatibility===na.TemplateDefinitionBuilder?new dc(i,i.xref):i}return r},Rn.None),t}function $p(t,e,n){let r;if(jo(t)){let i=n.job.allocateXrefId();r=[new dc(t,i),new wf(i)]}else r=[t,t.clone()],vK(r[1],gK(r[0]),n);return new y0(r[0],e(r[1]))}function yK(t){return t instanceof g0||t instanceof v0||t instanceof th}function _K(t){return t instanceof ea||t instanceof iu||t instanceof To}function XL(t){return yK(t)||_K(t)}function xK(t){if(XL(t)&&t.receiver instanceof y0){let e=t.receiver;for(;e.expr instanceof y0;)e=e.expr;return e}return null}function wK(t,e){if(!XL(t))return t;let n=xK(t);if(n){if(t instanceof To)return n.expr=n.expr.callFn(t.args),t.receiver;if(t instanceof ea)return n.expr=n.expr.prop(t.name),t.receiver;if(t instanceof iu)return n.expr=n.expr.key(t.index),t.receiver;if(t instanceof th)return n.expr=$p(n.expr,r=>r.callFn(t.args),e),t.receiver;if(t instanceof g0)return n.expr=$p(n.expr,r=>r.prop(t.name),e),t.receiver;if(t instanceof v0)return n.expr=$p(n.expr,r=>r.key(t.index),e),t.receiver}else{if(t instanceof th)return $p(t.receiver,r=>r.callFn(t.args),e);if(t instanceof g0)return $p(t.receiver,r=>r.prop(t.name),e);if(t instanceof v0)return $p(t.receiver,r=>r.key(t.index),e)}return t}function EK(t){return t instanceof y0?new ll(new sc(new In(Xe.Equals,t.guard,o0),o0,t.expr)):t}var KR="\uFFFD",SK="#",CK="*",bK="/",TK=":",AK="[",IK="]",DK="|";function kK(t){let e=new Map,n=new Map,r=new Map;for(let s of t.units)for(let o of s.create)switch(o.kind){case R.I18nContext:let a=NK(t,o);s.create.push(a),e.set(o.xref,a),r.set(o.xref,o);break;case R.I18nStart:n.set(o.xref,o);break}let i=null;for(let s of t.units)for(let o of s.create)switch(o.kind){case R.IcuStart:i=o,Ge.remove(o);let a=r.get(o.context);if(a.contextKind!==Pd.Icu)continue;let l=n.get(a.i18nBlock);if(l.context===a.xref)continue;let c=n.get(l.root),u=e.get(c.context);if(u===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let f=e.get(a.xref);f.messagePlaceholder=o.messagePlaceholder,u.subMessages.push(f.xref);break;case R.IcuEnd:i=null,Ge.remove(o);break;case R.IcuPlaceholder:if(i===null||i.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(i.context).postprocessingParams.set(o.name,Ie(MK(o))),Ge.remove(o);break}}function NK(t,e,n){let r=JR(e.params),i=JR(e.postprocessingParams),s=[...e.params.values()].some(o=>o.length>1);return NX(t.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,r,i,s)}function MK(t){if(t.strings.length!==t.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${t.strings.length} strings and ${t.expressionPlaceholders.length} expressions`);let e=t.expressionPlaceholders.map(Jp);return t.strings.flatMap((n,r)=>[n,e[r]||""]).join("")}function JR(t){let e=new Map;for(let[n,r]of t){let i=PK(r);i!==null&&e.set(n,Ie(i))}return e}function PK(t){if(t.length===0)return null;let e=t.map(n=>Jp(n));return e.length===1?e[0]:`${AK}${e.join(DK)}${IK}`}function Jp(t){if(t.flags&mr.ElementTag&&t.flags&mr.TemplateTag){if(typeof t.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let i=Jp(Nt(De({},t),{value:t.value.element,flags:t.flags&~mr.TemplateTag})),s=Jp(Nt(De({},t),{value:t.value.template,flags:t.flags&~mr.ElementTag}));return t.flags&mr.OpenTag&&t.flags&mr.CloseTag?`${s}${i}${s}`:t.flags&mr.CloseTag?`${i}${s}`:`${s}${i}`}if(t.flags&mr.OpenTag&&t.flags&mr.CloseTag)return`${Jp(Nt(De({},t),{flags:t.flags&~mr.CloseTag}))}${Jp(Nt(De({},t),{flags:t.flags&~mr.OpenTag}))}`;if(t.flags===mr.None)return`${t.value}`;let e="",n="";t.flags&mr.ElementTag?e=SK:t.flags&mr.TemplateTag&&(e=CK),e!==""&&(n=t.flags&mr.CloseTag?bK:"");let r=t.subTemplateIndex===null?"":`${TK}${t.subTemplateIndex}`;return`${KR}${n}${e}${t.value}${r}${KR}`}function FK(t){for(let e of t.units){let n=new Map;for(let i of e.create){if(b0(i)){if(i.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;n.set(i.xref,i.handle.slot)}let r=0;for(let i of e.update){let s=null;if(Pv(i)?s=i:Ki(i,a=>{s===null&&Pv(a)&&(s=a)}),s===null)continue;if(!n.has(s.target))throw new Error(`AssertionError: reference to unknown slot for target ${s.target}`);let o=n.get(s.target);if(r!==o){let a=o-r;if(a<0)throw new Error("AssertionError: slot counter should never need to move backwards");Ge.insertBefore(dX(a,s.sourceSpan),i),r=o}}}}function RK(t){for(let e of t.units)for(let n of e.update){if(n.kind!==R.StoreLet)continue;let r={kind:Xi.Identifier,name:null,identifier:n.declaredName,local:!0};Ge.replace(n,lf(t.allocateXrefId(),r,new Fv(n.target,n.value,n.sourceSpan),Ta.None))}}function LK(t){let e=t.compatibility===na.TemplateDefinitionBuilder,n=[],r=0;for(let i of t.units)for(let s of i.create)s.kind===R.Projection&&(n.push(s.selector),s.projectionSlotIndex=r++);if(n.length>0){let i=null;if(n.length>1||n[0]!=="*"){let s=n.map(o=>o==="*"?o:tI(o));i=t.pool.getConstLiteral(_0(s),e)}t.contentSelectors=t.pool.getConstLiteral(_0(n),e),t.root.create.prepend([AX(i)])}}function OK(t){$g(t.root,null)}function $g(t,e){let n=BK(t,e);for(let r of t.create)switch(r.kind){case R.ConditionalCreate:case R.ConditionalBranchCreate:case R.Template:$g(t.job.views.get(r.xref),n);break;case R.Projection:r.fallbackView!==null&&$g(t.job.views.get(r.fallbackView),n);break;case R.RepeaterCreate:$g(t.job.views.get(r.xref),n),r.emptyView&&$g(t.job.views.get(r.emptyView),n),r.trackByOps!==null&&r.trackByOps.prepend(kx(t,n,!1));break;case R.Animation:case R.AnimationListener:case R.Listener:case R.TwoWayListener:r.handlerOps.prepend(kx(t,n,!0));break}t.update.prepend(kx(t,n,!1))}function BK(t,e){let n={view:t.xref,viewContextVariable:{kind:Xi.Context,name:null,view:t.xref},contextVariables:new Map,aliases:t.aliases,references:[],letDeclarations:[],parent:e};for(let r of t.contextVariables.keys())n.contextVariables.set(r,{kind:Xi.Identifier,name:null,identifier:r,local:!1});for(let r of t.create)switch(r.kind){case R.ElementStart:case R.ConditionalCreate:case R.ConditionalBranchCreate:case R.Template:if(!Array.isArray(r.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let i=0;i<r.localRefs.length;i++)n.references.push({name:r.localRefs[i].name,targetId:r.xref,targetSlot:r.handle,offset:i,variable:{kind:Xi.Identifier,name:null,identifier:r.localRefs[i].name,local:!1}});break;case R.DeclareLet:n.letDeclarations.push({targetId:r.xref,targetSlot:r.handle,variable:{kind:Xi.Identifier,name:null,identifier:r.declaredName,local:!1}});break}return n}function kx(t,e,n){let r=[];e.view!==t.xref&&r.push(lf(t.job.allocateXrefId(),e.viewContextVariable,new m2,Ta.None));let i=t.job.views.get(e.view);for(let[s,o]of i.contextVariables){let a=new _f(e.view),l=o===WL?a:new ea(a,o);r.push(lf(t.job.allocateXrefId(),e.contextVariables.get(s),l,Ta.None))}for(let s of i.aliases)r.push(lf(t.job.allocateXrefId(),s,s.expression.clone(),Ta.AlwaysInline));for(let s of e.references)r.push(lf(t.job.allocateXrefId(),s.variable,new p2(s.targetId,s.targetSlot,s.offset),Ta.None));if(e.view!==t.xref||n)for(let s of e.letDeclarations)r.push(lf(t.job.allocateXrefId(),s.variable,new Rv(s.targetId,s.targetSlot),Ta.None));return e.parent!==null&&r.push(...kx(t,e.parent,!1)),r}function VK(t){for(let e of t.units)for(let n of e.ops())di(n,r=>r instanceof Bv?Ie(t.addConst(r.expr)):r,Rn.None)}var QR="style.",ZR="class.",UK="style!",e4="class!",t4="!important";function HK(t){for(let e of t.root.update)if(e.kind===R.Binding&&e.bindingKind===wt.Property)if(e.name.endsWith(t4)&&(e.name=e.name.substring(0,e.name.length-t4.length)),e.name.startsWith(QR)){e.bindingKind=wt.StyleProperty,e.name=e.name.substring(QR.length),$K(e.name)||(e.name=qK(e.name));let{property:n,suffix:r}=pT(e.name);e.name=n,e.unit=r}else e.name.startsWith(UK)?(e.bindingKind=wt.StyleProperty,e.name="style"):e.name.startsWith(ZR)?(e.bindingKind=wt.ClassName,e.name=pT(e.name.substring(ZR.length)).property):e.name.startsWith(e4)&&(e.bindingKind=wt.ClassName,e.name=pT(e.name.substring(e4.length)).property)}function $K(t){return t.startsWith("--")}function qK(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function pT(t){let e=t.indexOf("!important");e!==-1&&(t=e>0?t.substring(0,e):"");let n=null,r=t,i=t.lastIndexOf(".");return i>0&&(n=t.slice(i+1),r=t.substring(0,i)),{property:r,suffix:n}}function dA(t,e=!1){return Da(Object.keys(t).map(n=>({key:n,quoted:e,value:t[n]})))}var hA=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}formatPh(e){return`{${Kv(e,!1)}}`}},GK=new hA;function KL(t){return t.visit(GK)}var su=class{sourceSpan;i18n;constructor(e,n){this.sourceSpan=e,this.i18n=n}},nh=class extends su{value;tokens;constructor(e,n,r,i){super(n,i),this.value=e,this.tokens=r}visit(e,n){return e.visitText(this,n)}},Bd=class extends su{switchValue;type;cases;switchValueSourceSpan;constructor(e,n,r,i,s,o){super(i,o),this.switchValue=e,this.type=n,this.cases=r,this.switchValueSourceSpan=s}visit(e,n){return e.visitExpansion(this,n)}},C2=class{value;expression;sourceSpan;valueSourceSpan;expSourceSpan;constructor(e,n,r,i,s){this.value=e,this.expression=n,this.sourceSpan=r,this.valueSourceSpan=i,this.expSourceSpan=s}visit(e,n){return e.visitExpansionCase(this,n)}},pA=class extends su{name;value;keySpan;valueSpan;valueTokens;constructor(e,n,r,i,s,o,a){super(r,a),this.name=e,this.value=n,this.keySpan=i,this.valueSpan=s,this.valueTokens=o}visit(e,n){return e.visitAttribute(this,n)}},Sa=class extends su{name;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;isVoid;constructor(e,n,r,i,s,o,a,l=null,c,u){super(o,u),this.name=e,this.attrs=n,this.directives=r,this.children=i,this.isSelfClosing=s,this.startSourceSpan=a,this.endSourceSpan=l,this.isVoid=c}visit(e,n){return e.visitElement(this,n)}},Uv=class{value;sourceSpan;constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitComment(this,n)}},ba=class extends su{name;parameters;children;nameSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a=null,l){super(i,l),this.name=e,this.parameters=n,this.children=r,this.nameSpan=s,this.startSourceSpan=o,this.endSourceSpan=a}visit(e,n){return e.visitBlock(this,n)}},wo=class extends su{componentName;tagName;fullName;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s,o,a,l,c,u=null,f){super(l,f),this.componentName=e,this.tagName=n,this.fullName=r,this.attrs=i,this.directives=s,this.children=o,this.isSelfClosing=a,this.startSourceSpan=c,this.endSourceSpan=u}visit(e,n){return e.visitComponent(this,n)}},mA=class{name;attrs;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,n,r,i,s=null){this.name=e,this.attrs=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=s}visit(e,n){return e.visitDirective(this,n)}},b2=class{expression;sourceSpan;constructor(e,n){this.expression=e,this.sourceSpan=n}visit(e,n){return e.visitBlockParameter(this,n)}},T2=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,n,r,i,s){this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=i,this.valueSpan=s}visit(e,n){return e.visitLetDeclaration(this,n)}};function Ir(t,e,n=null){let r=[],i=t.visit?s=>t.visit(s,n)||s.visit(t,n):s=>s.visit(t,n);return e.forEach(s=>{let o=i(s);o&&r.push(o)}),r}var Hv={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},JL="\uE500";Hv.ngsp=JL;var gA=class{tokens;errors;nonNormalizedIcuExpressions;constructor(e,n,r){this.tokens=e,this.errors=n,this.nonNormalizedIcuExpressions=r}};function WK(t,e,n,r={}){let i=new yA(new f2(t,e),n,r);return i.tokenize(),new gA(tJ(i.tokens),i.errors,i.nonNormalizedIcuExpressions)}var jK=/\r\n?/g;function qp(t){return`Unexpected character "${t===Yi?"EOF":String.fromCharCode(t)}"`}function n4(t){return`Unknown entity "${t}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function zK(t,e){return`Unable to parse entity "${e}" - ${t} character reference entities must end with ";"`}var vA=(function(t){return t.HEX="hexadecimal",t.DEC="decimal",t})(vA||{}),YK=["@if","@else","@for","@switch","@case","@default","@empty","@defer","@placeholder","@loading","@error"],Lg={start:"{{",end:"}}"},yA=class{_getTagDefinition;_cursor;_tokenizeIcu;_leadingTriviaCodePoints;_currentTokenStart=null;_currentTokenType=null;_expansionCaseStack=[];_openDirectiveCount=0;_inInterpolation=!1;_preserveLineEndings;_i18nNormalizeLineEndingsInICUs;_tokenizeBlocks;_tokenizeLet;_selectorlessEnabled;tokens=[];errors=[];nonNormalizedIcuExpressions=[];constructor(e,n,r){this._getTagDefinition=n,this._tokenizeIcu=r.tokenizeExpansionForms||!1,this._leadingTriviaCodePoints=r.leadingTriviaChars&&r.leadingTriviaChars.map(s=>s.codePointAt(0)||0);let i=r.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=r.escapedString?new _A(e,i):new A2(e,i),this._preserveLineEndings=r.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=r.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=r.tokenizeBlocks??!0,this._tokenizeLet=r.tokenizeLet??!0,this._selectorlessEnabled=r.selectorlessEnabled??!1;try{this._cursor.init()}catch(s){this.handleError(s)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(jK,`
`)}tokenize(){for(;this._cursor.peek()!==Yi;){let e=this._cursor.clone();try{this._attemptCharCode(t0)?this._attemptCharCode(KT)?this._attemptCharCode(nc)?this._consumeCdata(e):this._attemptCharCode(c2)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(Ca)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===Up&&!this._inInterpolation&&this._isLetStart()?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._isBlockStart()?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(Xs)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(n){this.handleError(n)}}this._beginToken(41),this._endToken([])}_getBlockName(){let e=!1,n=this._cursor.clone();return this._attemptCharCodeUntilFn(r=>Dv(r)?!e:eJ(r)?(e=!0,!1):!0),this._cursor.getChars(n).trim()}_consumeBlockStart(e){this._requireCharCode(Up),this._beginToken(24,e);let n=this._endToken([this._getBlockName()]);if(this._cursor.peek()===Jo)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(Ur),this._attemptCharCode(ss))this._attemptCharCodeUntilFn(Ur);else{n.type=28;return}this._attemptCharCode(sl)?(this._beginToken(25),this._endToken([])):this._isBlockStart()&&(n.parts[0]==="case"||n.parts[0]==="default")?(this._beginToken(25),this._endToken([]),this._beginToken(26),this._endToken([])):n.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(i4);this._cursor.peek()!==ss&&this._cursor.peek()!==Yi;){this._beginToken(27);let e=this._cursor.clone(),n=null,r=0;for(;this._cursor.peek()!==Yo&&this._cursor.peek()!==Yi||n!==null;){let i=this._cursor.peek();if(i===Od)this._cursor.advance();else if(i===n)n=null;else if(n===null&&zg(i))n=i;else if(i===Jo&&n===null)r++;else if(i===ss&&n===null){if(r===0)break;r>0&&r--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(i4)}}_consumeLetDeclaration(e){if(this._requireStr("@let"),this._beginToken(29,e),Dv(this._cursor.peek()))this._attemptCharCodeUntilFn(Ur);else{let i=this._endToken([this._cursor.getChars(e)]);i.type=32;return}let n=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(Ur),!this._attemptCharCode(Ss)){n.type=32;return}this._attemptCharCodeUntilFn(i=>Ur(i)&&!u2(i)),this._consumeLetDeclarationValue(),this._cursor.peek()===Yo?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(n.type=32,n.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),n=!1;return this._attemptCharCodeUntilFn(r=>yf(r)||r===z2||r===Cf||n&&il(r)?(n=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==Yi;){let n=this._cursor.peek();if(n===Yo)break;zg(n)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(r=>r===Od?(this._cursor.advance(),!1):r===n)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(QK(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===Xs){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,n=this._cursor.clone()){this._currentTokenStart=n,this._currentTokenType=e}_endToken(e,n){if(this._currentTokenStart===null)throw new Mt(this._cursor.getSpan(n),"Programming error - attempted to end a token when there was no start to the token");if(this._currentTokenType===null)throw new Mt(this._cursor.getSpan(this._currentTokenStart),"Programming error - attempted to end a token which has no token type");let r={type:this._currentTokenType,parts:e,sourceSpan:(n??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r}_createError(e,n){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let r=new Mt(n,e);return this._currentTokenStart=null,this._currentTokenType=null,r}handleError(e){if(e instanceof $v&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof Mt)this.errors.push(e);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return ZK(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let n=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(qp(this._cursor.peek()),this._cursor.getSpan(n))}_attemptStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let i=0;i<n;i++)if(!this._attemptCharCode(e.charCodeAt(i)))return this._cursor=r,!1;return!0}_attemptStrCaseInsensitive(e){for(let n=0;n<e.length;n++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(n)))return!1;return!0}_requireStr(e){let n=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(qp(this._cursor.peek()),this._cursor.getSpan(n))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,n){let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(r)<n)throw this._createError(qp(this._cursor.peek()),this._cursor.getSpan(r))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_peekStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let i=0;i<n;i++){if(r.peek()!==e.charCodeAt(i))return!1;r.advance()}return!0}_isBlockStart(){return this._cursor.peek()===Up&&YK.some(e=>this._peekStr(e))}_isLetStart(){return this._cursor.peek()===Up&&this._peekStr("@let")}_consumeEntity(e){this._beginToken(9);let n=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(xL)){let r=this._attemptCharCode(IL)||this._attemptCharCode(uY),i=this._cursor.clone();if(this._attemptCharCodeUntilFn(KK),this._cursor.peek()!=Yo){this._cursor.advance();let o=r?vA.HEX:vA.DEC;throw this._createError(zK(o,this._cursor.getChars(n)),this._cursor.getSpan())}let s=this._cursor.getChars(i);this._cursor.advance();try{let o=parseInt(s,r?16:10);this._endToken([String.fromCodePoint(o),this._cursor.getChars(n)])}catch{throw this._createError(n4(this._cursor.getChars(n)),this._cursor.getSpan())}}else{let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(JK),this._cursor.peek()!=Yo)this._beginToken(e,n),this._cursor=r,this._endToken(["&"]);else{let i=this._cursor.getChars(r);this._cursor.advance();let s=Hv.hasOwnProperty(i)&&Hv[i];if(!s)throw this._createError(n4(i),this._cursor.getSpan(n));this._endToken([s,`&${i};`])}}}_consumeRawText(e,n){this._beginToken(e?6:7);let r=[];for(;;){let i=this._cursor.clone(),s=n();if(this._cursor=i,s)break;e&&this._cursor.peek()===l2?(this._endToken([this._processCarriageReturns(r.join(""))]),r.length=0,this._consumeEntity(6),this._beginToken(6)):r.push(this._readChar())}this._endToken([this._processCarriageReturns(r.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(c2),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let n=this._cursor.clone();this._attemptUntilChar(Ea);let r=this._cursor.getChars(n);this._cursor.advance(),this._endToken([r])}_consumePrefixAndName(e){let n=this._cursor.clone(),r="";for(;this._cursor.peek()!==Zl&&!XK(this._cursor.peek());)this._cursor.advance();let i;this._cursor.peek()===Zl?(r=this._cursor.getChars(n),this._cursor.advance(),i=this._cursor.clone()):i=n,this._requireCharCodeUntilFn(e,r===""?0:1);let s=this._cursor.getChars(i);return[r,s]}_consumeTagOpen(e){let n,r,i,s;try{if(this._selectorlessEnabled&&gx(this._cursor.peek()))s=this._consumeComponentOpenStart(e),[i,r,n]=s.parts,r&&(i+=`:${r}`),n&&(i+=`:${n}`),this._attemptCharCodeUntilFn(Ur);else{if(!yf(this._cursor.peek()))throw this._createError(qp(this._cursor.peek()),this._cursor.getSpan(e));s=this._consumeTagOpenStart(e),r=s.parts[0],n=i=s.parts[1],this._attemptCharCodeUntilFn(Ur)}for(;!o4(this._cursor.peek());)if(this._selectorlessEnabled&&this._cursor.peek()===Up){let a=this._cursor.clone(),l=a.clone();l.advance(),gx(l.peek())&&this._consumeDirective(a,l)}else this._consumeAttribute();s.type===33?this._consumeComponentOpenEnd():this._consumeTagOpenEnd()}catch(a){if(a instanceof Mt){s?s.type=s.type===33?37:4:(this._beginToken(5,e),this._endToken(["<"]));return}throw a}let o=this._getTagDefinition(n).getContentType(r);o===Ql.RAW_TEXT?this._consumeRawTextWithTagClose(s,i,!1):o===Ql.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(s,i,!0)}_consumeRawTextWithTagClose(e,n,r){this._consumeRawText(r,()=>!this._attemptCharCode(t0)||!this._attemptCharCode(Ca)||(this._attemptCharCodeUntilFn(Ur),!this._attemptStrCaseInsensitive(n))?!1:(this._attemptCharCodeUntilFn(Ur),this._attemptCharCode(Ea))),this._beginToken(e.type===33?36:3),this._requireCharCodeUntilFn(i=>i===Ea,3),this._cursor.advance(),this._endToken(e.parts)}_consumeTagOpenStart(e){this._beginToken(0,e);let n=this._consumePrefixAndName(Sd);return this._endToken(n)}_consumeComponentOpenStart(e){this._beginToken(33,e);let n=this._consumeComponentName();return this._endToken(n)}_consumeComponentName(){let e=this._cursor.clone();for(;s4(this._cursor.peek());)this._cursor.advance();let n=this._cursor.getChars(e),r="",i="";return this._cursor.peek()===Zl&&(this._cursor.advance(),[r,i]=this._consumePrefixAndName(Sd)),[n,r,i]}_consumeAttribute(){this._consumeAttributeName(),this._attemptCharCodeUntilFn(Ur),this._attemptCharCode(Ss)&&(this._attemptCharCodeUntilFn(Ur),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Ur)}_consumeAttributeName(){let e=this._cursor.peek();if(e===Iv||e===Av)throw this._createError(qp(e),this._cursor.getSpan());this._beginToken(14);let n;if(this._openDirectiveCount>0){let i=0;n=s=>{if(this._openDirectiveCount>0){if(s===Jo)i++;else if(s===ss){if(i===0)return!0;i--}}return Sd(s)}}else if(e===nc){let i=0;n=s=>(s===nc?i++:s===eu&&i--,i<=0?Sd(s):u2(s))}else n=Sd;let r=this._consumePrefixAndName(n);this._endToken(r)}_consumeAttributeValue(){if(this._cursor.peek()===Iv||this._cursor.peek()===Av){let e=this._cursor.peek();this._consumeQuote(e);let n=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,n,n),this._consumeQuote(e)}else{let e=()=>Sd(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(Ca)?2:1;this._beginToken(e),this._requireCharCode(Ea),this._endToken([])}_consumeComponentOpenEnd(){let e=this._attemptCharCode(Ca)?35:34;this._beginToken(e),this._requireCharCode(Ea),this._endToken([])}_consumeTagClose(e){if(this._selectorlessEnabled){let r=e.clone();for(;r.peek()!==Ea&&!gx(r.peek());)r.advance();if(gx(r.peek())){this._beginToken(36,e);let i=this._consumeComponentName();this._attemptCharCodeUntilFn(Ur),this._requireCharCode(Ea),this._endToken(i);return}}this._beginToken(3,e),this._attemptCharCodeUntilFn(Ur);let n=this._consumePrefixAndName(Sd);this._attemptCharCodeUntilFn(Ur),this._requireCharCode(Ea),this._endToken(n)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(sl),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(Co),n=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([n]);else{let i=this._endToken([e]);n!==e&&this.nonNormalizedIcuExpressions.push(i)}this._requireCharCode(Co),this._attemptCharCodeUntilFn(Ur),this._beginToken(7);let r=this._readUntil(Co);this._endToken([r]),this._requireCharCode(Co),this._attemptCharCodeUntilFn(Ur)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(sl).trim();this._endToken([e]),this._attemptCharCodeUntilFn(Ur),this._beginToken(21),this._requireCharCode(sl),this._endToken([]),this._attemptCharCodeUntilFn(Ur),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(Xs),this._endToken([]),this._attemptCharCodeUntilFn(Ur),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(Xs),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,n,r,i){this._beginToken(e);let s=[];for(;!r();){let o=this._cursor.clone();this._attemptStr(Lg.start)?(this._endToken([this._processCarriageReturns(s.join(""))],o),s.length=0,this._consumeInterpolation(n,o,i),this._beginToken(e)):this._cursor.peek()===l2?(this._endToken([this._processCarriageReturns(s.join(""))]),s.length=0,this._consumeEntity(e),this._beginToken(e)):s.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(s.join(""))])}_consumeInterpolation(e,n,r){let i=[];this._beginToken(e,n),i.push(Lg.start);let s=this._cursor.clone(),o=null,a=!1;for(;this._cursor.peek()!==Yi&&(r===null||!r());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,i.push(this._getProcessedChars(s,l)),this._endToken(i);return}if(o===null)if(this._attemptStr(Lg.end)){i.push(this._getProcessedChars(s,l)),i.push(Lg.end),this._endToken(i);return}else this._attemptStr("//")&&(a=!0);let c=this._cursor.peek();this._cursor.advance(),c===Od?this._cursor.advance():c===o?o=null:!a&&o===null&&zg(c)&&(o=c)}i.push(this._getProcessedChars(s,this._cursor)),this._endToken(i)}_consumeDirective(e,n){for(this._requireCharCode(Up),this._cursor.advance();s4(this._cursor.peek());)this._cursor.advance();this._beginToken(38,e);let r=this._cursor.getChars(n);if(this._endToken([r]),this._attemptCharCodeUntilFn(Ur),this._cursor.peek()===Jo){for(this._openDirectiveCount++,this._beginToken(39),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(Ur);!o4(this._cursor.peek())&&this._cursor.peek()!==ss;)this._consumeAttribute();if(this._attemptCharCodeUntilFn(Ur),this._openDirectiveCount--,this._cursor.peek()!==ss){if(this._cursor.peek()===Ea||this._cursor.peek()===Ca)return;throw this._createError(qp(this._cursor.peek()),this._cursor.getSpan(e))}this._beginToken(40),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(Ur)}}_getProcessedChars(e,n){return this._processCarriageReturns(n.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===Yi||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===Xs&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._isBlockStart()||this._isLetStart()||this._cursor.peek()===Xs))}_isTagStart(){if(this._cursor.peek()===t0){let e=this._cursor.clone();e.advance();let n=e.peek();if(Jd<=n&&n<=Jv||Sf<=n&&n<=E0||n===Ca||n===KT)return!0}return!1}_readUntil(e){let n=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(n)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==sl)return!1;let e=this._cursor.clone(),n=this._attemptStr(Lg.start);return this._cursor=e,!n}};function Ur(t){return!Dv(t)||t===Yi}function Sd(t){return Dv(t)||t===Ea||t===t0||t===Ca||t===Iv||t===Av||t===Ss||t===Yi}function XK(t){return(t<Jd||Jv<t)&&(t<Sf||E0<t)&&(t<dI||t>EL)}function KK(t){return t===Yo||t===Yi||!pY(t)}function JK(t){return t===Yo||t===Yi||!yf(t)}function QK(t){return t!==Xs}function ZK(t,e){return r4(t)===r4(e)}function r4(t){return t>=Jd&&t<=Jv?t-Jd+Sf:t}function eJ(t){return yf(t)||il(t)||t===Cf}function i4(t){return t!==Yo&&Ur(t)}function gx(t){return t===Cf||t>=Sf&&t<=E0}function s4(t){return yf(t)||il(t)||t===Cf}function o4(t){return t===Ca||t===Ea||t===t0||t===Yi}function tJ(t){let e=[],n;for(let r=0;r<t.length;r++){let i=t[r];n&&n.type===5&&i.type===5||n&&n.type===16&&i.type===16?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):(n=i,e.push(n))}return e}var A2=class t{state;file;input;end;constructor(e,n){if(e instanceof t){this.file=e.file,this.input=e.input,this.end=e.end;let r=e.state;this.state={peek:r.peek,offset:r.offset,line:r.line,column:r.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}clone(){return new t(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,n){e=e||this;let r=e;if(n)for(;this.diff(e)>0&&n.indexOf(e.peek())!==-1;)r===e&&(e=e.clone()),e.advance();let i=this.locationFromCursor(e),s=this.locationFromCursor(this),o=r!==e?this.locationFromCursor(r):i;return new Ot(i,s,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new $v('Unexpected character "EOF"',this);let n=this.charAt(e.offset);n===Ld?(e.line++,e.column=0):u2(n)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?Yi:this.charAt(e.offset)}locationFromCursor(e){return new kv(e.file,e.state.offset,e.state.line,e.state.column)}},_A=class t extends A2{internalState;constructor(e,n){e instanceof t?(super(e),this.internalState=De({},e.internalState)):(super(e,n),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new t(this)}getChars(e){let n=e.clone(),r="";for(;n.internalState.offset<this.internalState.offset;)r+=String.fromCodePoint(n.peek()),n.advance();return r}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===Od)if(this.internalState=De({},this.state),this.advanceState(this.internalState),e()===SL)this.state.peek=Ld;else if(e()===CL)this.state.peek=fI;else if(e()===AL)this.state.peek=vL;else if(e()===bL)this.state.peek=uI;else if(e()===dY)this.state.peek=sY;else if(e()===hI)this.state.peek=yL;else if(e()===TL)if(this.advanceState(this.internalState),e()===sl){this.advanceState(this.internalState);let n=this.clone(),r=0;for(;e()!==Xs;)this.advanceState(this.internalState),r++;this.state.peek=this.decodeHexDigits(n,r)}else{let n=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,4)}else if(e()===IL){this.advanceState(this.internalState);let n=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,2)}else if(RR(e())){let n="",r=0,i=this.clone();for(;RR(e())&&r<3;)i=this.clone(),n+=String.fromCodePoint(e()),this.advanceState(this.internalState),r++;this.state.peek=parseInt(n,8),this.internalState=i.internalState}else u2(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,n){let r=this.input.slice(e.internalState.offset,e.internalState.offset+n),i=parseInt(r,16);if(isNaN(i))throw e.state=e.internalState,new $v("Invalid hexadecimal escape sequence",e);return i}},$v=class extends Error{msg;cursor;constructor(e,n){super(e),this.msg=e,this.cursor=n,Object.setPrototypeOf(this,new.target.prototype)}},bi=class t extends Mt{elementName;static create(e,n,r){return new t(e,n,r)}constructor(e,n,r){super(n,r),this.elementName=e}},I2=class{rootNodes;errors;constructor(e,n){this.rootNodes=e,this.errors=n}},nJ=class{getTagDefinition;constructor(e){this.getTagDefinition=e}parse(e,n,r){let i=WK(e,n,this.getTagDefinition,r),s=new xA(i.tokens,this.getTagDefinition);return s.build(),new I2(s.rootNodes,[...i.errors,...s.errors])}},xA=class t{tokens;tagDefinitionResolver;_index=-1;_peek;_containerStack=[];rootNodes=[];errors=[];constructor(e,n){this.tokens=e,this.tagDefinitionResolver=n,this._advance()}build(){for(;this._peek.type!==41;)this._peek.type===0||this._peek.type===4?this._consumeElementStartTag(this._advance()):this._peek.type===3?this._consumeElementEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._peek.type===33||this._peek.type===37?this._consumeComponentStartTag(this._advance()):this._peek.type===36?this._consumeComponentEndTag(this._advance()):this._advance();for(let e of this._containerStack)e instanceof ba&&this.errors.push(bi.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let n=this._advanceIf(7),r=this._advanceIf(11),i=n!=null?n.parts[0].trim():null,s=r==null?e.sourceSpan:new Ot(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Uv(i,s))}_consumeExpansion(e){let n=this._advance(),r=this._advance(),i=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;i.push(o)}if(this._peek.type!==23){this.errors.push(bi.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let s=new Ot(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Bd(n.parts[0],r.parts[0],i,s,n.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(bi.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;let i=this._advance();r.push({type:41,parts:[],sourceSpan:i.sourceSpan});let s=new t(r,this.tagDefinitionResolver);if(s.build(),s.errors.length>0)return this.errors=this.errors.concat(s.errors),null;let o=new Ot(e.sourceSpan.start,i.sourceSpan.end,e.sourceSpan.fullStart),a=new Ot(n.sourceSpan.start,i.sourceSpan.end,n.sourceSpan.fullStart);return new C2(e.parts[0],s.rootNodes,o,e.sourceSpan,a)}_collectExpansionExpTokens(e){let n=[],r=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&r.push(this._peek.type),this._peek.type===22)if(a4(r,21)){if(r.pop(),r.length===0)return n}else return this.errors.push(bi.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(a4(r,19))r.pop();else return this.errors.push(bi.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===41)return this.errors.push(bi.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.push(this._advance())}}_consumeText(e){let n=[e],r=e.sourceSpan,i=e.parts[0];if(i.length>0&&i[0]===`
`){let s=this._getContainer();s!=null&&s.children.length===0&&this._getTagDefinition(s)?.ignoreFirstLf&&(i=i.substring(1),n[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[i]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),n.push(e),e.type===8?i+=e.parts.join("").replace(/&([^;]+);/g,l4):e.type===9?i+=e.parts[0]:i+=e.parts.join("");if(i.length>0){let s=e.sourceSpan;this._addToParent(new nh(i,new Ot(r.start,s.end,r.fullStart,r.details),n))}}_closeVoidElement(){let e=this._getContainer();e!==null&&this._getTagDefinition(e)?.isVoid&&this._containerStack.pop()}_consumeElementStartTag(e){let n=[],r=[];this._consumeAttributesAndDirectives(n,r);let i=this._getElementFullName(e,this._getClosestElementLikeParent()),s=this._getTagDefinition(i),o=!1;this._peek.type===2?(this._advance(),o=!0,s?.canSelfClose||UT(i)!==null||s?.isVoid||this.errors.push(bi.create(i,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))):this._peek.type===1&&(this._advance(),o=!1);let a=this._peek.sourceSpan.fullStart,l=new Ot(e.sourceSpan.start,a,e.sourceSpan.fullStart),c=new Ot(e.sourceSpan.start,a,e.sourceSpan.fullStart),u=new Sa(i,n,r,[],o,l,c,void 0,s?.isVoid??!1),f=this._getContainer(),d=f!==null&&!!this._getTagDefinition(f)?.isClosedByChild(u.name);this._pushContainer(u,d),o?this._popContainer(i,Sa,l):e.type===4&&(this._popContainer(i,Sa,null),this.errors.push(bi.create(i,l,`Opening tag "${i}" not terminated.`)))}_consumeComponentStartTag(e){let n=e.parts[0],r=[],i=[];this._consumeAttributesAndDirectives(r,i);let s=this._getClosestElementLikeParent(),o=this._getComponentTagName(e,s),a=this._getComponentFullName(e,s),l=this._peek.type===35;this._advance();let c=this._peek.sourceSpan.fullStart,u=new Ot(e.sourceSpan.start,c,e.sourceSpan.fullStart),f=new Ot(e.sourceSpan.start,c,e.sourceSpan.fullStart),d=new wo(n,o,a,r,i,[],l,u,f,void 0),h=this._getContainer(),g=h!==null&&d.tagName!==null&&!!this._getTagDefinition(h)?.isClosedByChild(d.tagName);this._pushContainer(d,g),l?this._popContainer(a,wo,u):e.type===37&&(this._popContainer(a,wo,null),this.errors.push(bi.create(a,u,`Opening tag "${a}" not terminated.`)))}_consumeAttributesAndDirectives(e,n){for(;this._peek.type===14||this._peek.type===38;)this._peek.type===38?n.push(this._consumeDirective(this._peek)):e.push(this._consumeAttr(this._advance()))}_consumeComponentEndTag(e){let n=this._getComponentFullName(e,this._getClosestElementLikeParent());if(!this._popContainer(n,wo,e.sourceSpan)){let r=this._containerStack[this._containerStack.length-1],i;r instanceof wo&&r.componentName===e.parts[0]?i=`, did you mean "${r.fullName}"?`:i=". It may happen when the tag has already been closed by another tag.";let s=`Unexpected closing tag "${n}"${i}`;this.errors.push(bi.create(n,e.sourceSpan,s))}}_getTagDefinition(e){return typeof e=="string"?this.tagDefinitionResolver(e):e instanceof Sa?this.tagDefinitionResolver(e.name):e instanceof wo&&e.tagName!==null?this.tagDefinitionResolver(e.tagName):null}_pushContainer(e,n){n&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeElementEndTag(e){let n=this._getElementFullName(e,this._getClosestElementLikeParent());if(this._getTagDefinition(n)?.isVoid)this.errors.push(bi.create(n,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(n,Sa,e.sourceSpan)){let r=`Unexpected closing tag "${n}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(bi.create(n,e.sourceSpan,r))}}_popContainer(e,n,r){let i=!1;for(let s=this._containerStack.length-1;s>=0;s--){let o=this._containerStack[s];if(((o instanceof wo?o.fullName:o.name)===e||e===null)&&o instanceof n)return o.endSourceSpan=r,o.sourceSpan.end=r!==null?r.end:o.sourceSpan.end,this._containerStack.splice(s,this._containerStack.length-s),!i;(o instanceof ba||!this._getTagDefinition(o)?.closedByParent)&&(i=!0)}return!1}_consumeAttr(e){let n=Dx(e.parts[0],e.parts[1]),r=e.sourceSpan.end;this._peek.type===15&&this._advance();let i="",s=[],o,a;if(this._peek.type===16)for(o=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let u=this._advance();s.push(u),u.type===17?i+=u.parts.join("").replace(/&([^;]+);/g,l4):u.type===9?i+=u.parts[0]:i+=u.parts.join(""),a=r=u.sourceSpan.end}this._peek.type===15&&(r=this._advance().sourceSpan.end);let c=o&&a&&new Ot(o.start,a,o.fullStart);return new pA(n,i,new Ot(e.sourceSpan.start,r,e.sourceSpan.fullStart),e.sourceSpan,c,s.length>0?s:void 0,void 0)}_consumeDirective(e){let n=[],r=e.sourceSpan.end,i=null;if(this._advance(),this._peek.type===39){for(r=this._peek.sourceSpan.end,this._advance();this._peek.type===14;)n.push(this._consumeAttr(this._advance()));this._peek.type===40?(i=this._peek.sourceSpan,this._advance()):this.errors.push(bi.create(null,e.sourceSpan,"Unterminated directive definition"))}let s=new Ot(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new Ot(s.start,i===null?e.sourceSpan.end:i.end,s.fullStart);return new mA(e.parts[0],n,o,s,i)}_consumeBlockOpen(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new b2(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let r=this._peek.sourceSpan.fullStart,i=new Ot(e.sourceSpan.start,r,e.sourceSpan.fullStart),s=new Ot(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new ba(e.parts[0],n,[],i,e.sourceSpan,s);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,ba,e.sourceSpan)||this.errors.push(bi.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new b2(a.parts[0],a.sourceSpan))}let r=this._peek.sourceSpan.fullStart,i=new Ot(e.sourceSpan.start,r,e.sourceSpan.fullStart),s=new Ot(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new ba(e.parts[0],n,[],i,e.sourceSpan,s);this._pushContainer(o,!1),this._popContainer(null,ba,null),this.errors.push(bi.create(e.parts[0],i,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let n=e.parts[0],r,i;if(this._peek.type!==30){this.errors.push(bi.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${n}". Declaration must have a value.`));return}else r=this._advance();if(this._peek.type!==31){this.errors.push(bi.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${n}". Declaration must be terminated with a semicolon.`));return}else i=this._advance();let s=i.sourceSpan.fullStart,o=new Ot(e.sourceSpan.start,s,e.sourceSpan.fullStart),a=e.sourceSpan.toString().lastIndexOf(n),l=e.sourceSpan.start.moveBy(a),c=new Ot(l,e.sourceSpan.end),u=new T2(n,r.parts[0],o,c,r.sourceSpan);this._addToParent(u)}_consumeIncompleteLet(e){let n=e.parts[0]??"",r=n?` "${n}"`:"";if(n.length>0){let i=e.sourceSpan.toString().lastIndexOf(n),s=e.sourceSpan.start.moveBy(i),o=new Ot(s,e.sourceSpan.end),a=new Ot(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),l=new T2(n,"",e.sourceSpan,o,a);this._addToParent(l)}this.errors.push(bi.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${r}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestElementLikeParent(){for(let e=this._containerStack.length-1;e>-1;e--){let n=this._containerStack[e];if(n instanceof Sa||n instanceof wo)return n}return null}_addToParent(e){let n=this._getContainer();n===null?this.rootNodes.push(e):n.children.push(e)}_getElementFullName(e,n){let r=this._getPrefix(e,n);return Dx(r,e.parts[1])}_getComponentFullName(e,n){let r=e.parts[0],i=this._getComponentTagName(e,n);return i===null?r:i.startsWith(":")?r+i:`${r}:${i}`}_getComponentTagName(e,n){let r=this._getPrefix(e,n),i=e.parts[2];return!r&&!i?null:!r&&i?i:Dx(r,i||"ng-component")}_getPrefix(e,n){let r,i;if(e.type===33||e.type===37||e.type===36?(r=e.parts[1],i=e.parts[2]):(r=e.parts[0],i=e.parts[1]),r=r||this._getTagDefinition(i)?.implicitNamespacePrefix||"",!r&&n){let s=n instanceof Sa?n.name:n.tagName;if(s!==null){let o=ul(s)[1],a=this._getTagDefinition(o);a!==null&&!a.preventNamespaceInheritance&&(r=UT(s))}}return r}};function a4(t,e){return t.length>0&&t[t.length-1]===e}function l4(t,e){return Hv[e]!==void 0?Hv[e]||t:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):t}var QL="ngPreserveWhitespaces",c4=new Set(["pre","template","textarea","script","style"]),ZL=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,rJ=new RegExp(`[^${ZL}]`),iJ=new RegExp(`[${ZL}]{2,}`,"g");function u4(t){return t.some(e=>e.name===QL)}function e8(t){return t.replace(new RegExp(JL,"g")," ")}var D2=class{preserveSignificantWhitespace;originalNodeMap;requireContext;icuExpansionDepth=0;constructor(e,n,r=!0){this.preserveSignificantWhitespace=e,this.originalNodeMap=n,this.requireContext=r}visitElement(e,n){if(c4.has(e.name)||u4(e.attrs)){let i=new Sa(e.name,Xl(this,e.attrs),Xl(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(i,e),i}let r=new Sa(e.name,e.attrs,e.directives,Xl(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(r,e),r}visitAttribute(e,n){return e.name!==QL?e:null}visitText(e,n){let r=e.value.match(rJ),i=n&&(n.prev instanceof Bd||n.next instanceof Bd);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(r||i){let o=e.tokens.map(u=>u.type===5?lJ(u):u);if(!this.preserveSignificantWhitespace&&o.length>0){let u=o[0];o.splice(0,1,sJ(u,n));let f=o[o.length-1];o.splice(o.length-1,1,oJ(f,n))}let a=n8(e.value),l=this.preserveSignificantWhitespace?a:aJ(a,n),c=new nh(l,e.sourceSpan,o,e.i18n);return this.originalNodeMap?.set(c,e),c}return null}visitComment(e,n){return e}visitExpansion(e,n){this.icuExpansionDepth++;let r;try{r=new Bd(e.switchValue,e.type,Xl(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return this.originalNodeMap?.set(r,e),r}visitExpansionCase(e,n){let r=new C2(e.value,Xl(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return this.originalNodeMap?.set(r,e),r}visitBlock(e,n){let r=new ba(e.name,e.parameters,Xl(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return this.originalNodeMap?.set(r,e),r}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}visitComponent(e,n){if(e.tagName&&c4.has(e.tagName)||u4(e.attrs)){let i=new wo(e.componentName,e.tagName,e.fullName,Xl(this,e.attrs),Xl(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(i,e),i}let r=new wo(e.componentName,e.tagName,e.fullName,e.attrs,e.directives,Xl(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(r,e),r}visitDirective(e,n){return e}visit(e,n){if(this.requireContext&&!n)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function sJ(t,e){return t.type!==5||!!e?.prev?t:t8(t,r=>r.trimStart())}function oJ(t,e){return t.type!==5||!!e?.next?t:t8(t,r=>r.trimEnd())}function aJ(t,e){let n=!e?.prev,r=!e?.next,i=n?t.trimStart():t;return r?i.trimEnd():i}function lJ({type:t,parts:e,sourceSpan:n}){return{type:t,parts:[n8(e[0])],sourceSpan:n}}function t8({type:t,parts:e,sourceSpan:n},r){return{type:t,parts:[r(e[0])],sourceSpan:n}}function n8(t){return e8(t).replace(iJ," ")}function Xl(t,e){let n=[];return e.forEach((r,i)=>{let s={prev:e[i-1],next:e[i+1]},o=r.visit(t,s);o&&n.push(o)}),n}var Lt=(function(t){return t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.PrivateIdentifier=2]="PrivateIdentifier",t[t.Keyword=3]="Keyword",t[t.String=4]="String",t[t.Operator=5]="Operator",t[t.Number=6]="Number",t[t.RegExpBody=7]="RegExpBody",t[t.RegExpFlags=8]="RegExpFlags",t[t.Error=9]="Error",t})(Lt||{}),Vd=(function(t){return t[t.Plain=0]="Plain",t[t.TemplateLiteralPart=1]="TemplateLiteralPart",t[t.TemplateLiteralEnd=2]="TemplateLiteralEnd",t})(Vd||{}),cJ=["var","let","as","null","undefined","true","false","if","else","this","typeof","void","in"],qv=class{tokenize(e){return new wA(e).scan()}},ra=class{index;end;type;numValue;strValue;constructor(e,n,r,i,s){this.index=e,this.end=n,this.type=r,this.numValue=i,this.strValue=s}isCharacter(e){return this.type===Lt.Character&&this.numValue===e}isNumber(){return this.type===Lt.Number}isString(){return this.type===Lt.String}isOperator(e){return this.type===Lt.Operator&&this.strValue===e}isIdentifier(){return this.type===Lt.Identifier}isPrivateIdentifier(){return this.type===Lt.PrivateIdentifier}isKeyword(){return this.type===Lt.Keyword}isKeywordLet(){return this.type===Lt.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===Lt.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===Lt.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===Lt.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===Lt.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===Lt.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===Lt.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===Lt.Keyword&&this.strValue==="typeof"}isKeywordVoid(){return this.type===Lt.Keyword&&this.strValue==="void"}isKeywordIn(){return this.type===Lt.Keyword&&this.strValue==="in"}isError(){return this.type===Lt.Error}isRegExpBody(){return this.type===Lt.RegExpBody}isRegExpFlags(){return this.type===Lt.RegExpFlags}toNumber(){return this.type===Lt.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===Vd.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===Vd.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}toString(){switch(this.type){case Lt.Character:case Lt.Identifier:case Lt.Keyword:case Lt.Operator:case Lt.PrivateIdentifier:case Lt.String:case Lt.Error:case Lt.RegExpBody:case Lt.RegExpFlags:return this.strValue;case Lt.Number:return this.numValue.toString();default:return null}}},Yg=class extends ra{kind;constructor(e,n,r,i){super(e,n,Lt.String,0,r),this.kind=i}};function Og(t,e,n){return new ra(t,e,Lt.Character,n,String.fromCharCode(n))}function uJ(t,e,n){return new ra(t,e,Lt.Identifier,0,n)}function fJ(t,e,n){return new ra(t,e,Lt.PrivateIdentifier,0,n)}function dJ(t,e,n){return new ra(t,e,Lt.Keyword,0,n)}function Gp(t,e,n){return new ra(t,e,Lt.Operator,0,n)}function hJ(t,e,n){return new ra(t,e,Lt.Number,n,"")}function pJ(t,e,n){return new ra(t,e,Lt.Error,0,n)}function mJ(t,e,n){return new ra(t,e,Lt.RegExpBody,0,n)}function gJ(t,e,n){return new ra(t,e,Lt.RegExpFlags,0,n)}var vx=new ra(-1,-1,Lt.Character,0,""),wA=class{input;tokens=[];length;peek=0;index=-1;braceStack=[];constructor(e){this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?Yi:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,n=this.length,r=this.peek,i=this.index;for(;r<=_L;)if(++i>=n){r=Yi;break}else r=e.charCodeAt(i);if(this.peek=r,this.index=i,i>=n)return null;if(f4(r))return this.scanIdentifier();if(il(r))return this.scanNumber(i);let s=i;switch(r){case Cd:return this.advance(),il(this.peek)?this.scanNumber(s):this.peek!==Cd?Og(s,this.index,Cd):(this.advance(),this.peek===Cd?(this.advance(),Gp(s,this.index,"...")):this.error(`Unexpected character [${String.fromCharCode(r)}]`,0));case Jo:case ss:case nc:case eu:case Co:case Zl:case Yo:return this.scanCharacter(s,r);case sl:return this.scanOpenBrace(s,r);case Xs:return this.scanCloseBrace(s,r);case Iv:case Av:return this.scanString();case JT:return this.advance(),this.scanTemplateLiteralPart(s);case xL:return this.scanPrivateIdentifier();case wL:return this.scanComplexOperator(s,"+",Ss,"=");case c2:return this.scanComplexOperator(s,"-",Ss,"=");case Ca:return this.isStartOfRegex()?this.scanRegex(i):this.scanComplexOperator(s,"/",Ss,"=");case oY:return this.scanComplexOperator(s,"%",Ss,"=");case fY:return this.scanOperator(s,"^");case MR:return this.scanStar(s);case PR:return this.scanQuestion(s);case t0:case Ea:return this.scanComplexOperator(s,String.fromCharCode(r),Ss,"=");case KT:case Ss:return this.scanComplexOperator(s,String.fromCharCode(r),Ss,"=",Ss,"=");case l2:return this.scanComplexOperator(s,"&",l2,"&",Ss,"=");case FR:return this.scanComplexOperator(s,"|",FR,"|",Ss,"=");case DL:for(;Dv(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(r)}]`,0)}scanCharacter(e,n){return this.advance(),Og(e,this.index,n)}scanOperator(e,n){return this.advance(),Gp(e,this.index,n)}scanOpenBrace(e,n){return this.braceStack.push("expression"),this.advance(),Og(e,this.index,n)}scanCloseBrace(e,n){return this.advance(),this.braceStack.pop()==="interpolation"?(this.tokens.push(Og(e,this.index,Xs)),this.scanTemplateLiteralPart(this.index)):Og(e,this.index,n)}scanComplexOperator(e,n,r,i,s,o){this.advance();let a=n;return this.peek==r&&(this.advance(),a+=i),s!=null&&this.peek==s&&(this.advance(),a+=o),Gp(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();d4(this.peek);)this.advance();let n=this.input.substring(e,this.index);return cJ.indexOf(n)>-1?dJ(e,this.index,n):uJ(e,this.index,n)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!f4(this.peek))return this.error("Invalid character [#]",-1);for(;d4(this.peek);)this.advance();let n=this.input.substring(e,this.index);return fJ(e,this.index,n)}scanNumber(e){let n=this.index===e,r=!1;for(this.advance();;){if(!il(this.peek))if(this.peek===Cf){if(!il(this.input.charCodeAt(this.index-1))||!il(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);r=!0}else if(this.peek===Cd)n=!1;else if(vJ(this.peek)){if(this.advance(),yJ(this.peek)&&this.advance(),!il(this.peek))return this.error("Invalid exponent",-1);n=!1}else break;this.advance()}let i=this.input.substring(e,this.index);r&&(i=i.replace(/_/g,""));let s=n?xJ(i):parseFloat(i);return hJ(e,this.index,s)}scanString(){let e=this.index,n=this.peek;this.advance();let r="",i=this.index,s=this.input;for(;this.peek!=n;)if(this.peek==Od){let a=this.scanStringBackslash(r,i);if(typeof a!="string")return a;r=a,i=this.index}else{if(this.peek==Yi)return this.error("Unterminated quote",0);this.advance()}let o=s.substring(i,this.index);return this.advance(),new Yg(e,this.index,r+o,Vd.Plain)}scanQuestion(e){this.advance();let n="?";return this.peek===PR?(n+="?",this.advance(),this.peek===Ss&&(n+="=",this.advance())):this.peek===Cd&&(n+=".",this.advance()),Gp(e,this.index,n)}scanTemplateLiteralPart(e){let n="",r=this.index;for(;this.peek!==JT;)if(this.peek===Od){let s=this.scanStringBackslash(n,r);if(typeof s!="string")return s;n=s,r=this.index}else if(this.peek===z2){let s=this.index;if(this.advance(),this.peek===sl)return this.braceStack.push("interpolation"),this.tokens.push(new Yg(e,s,n+this.input.substring(r,s),Vd.TemplateLiteralPart)),this.advance(),Gp(s,this.index,this.input.substring(s,this.index))}else{if(this.peek===Yi)return this.error("Unterminated template literal",0);this.advance()}let i=this.input.substring(r,this.index);return this.advance(),new Yg(e,this.index,n+i,Vd.TemplateLiteralEnd)}error(e,n){let r=this.index+n;return pJ(r,this.index,`Lexer Error: ${e} at column ${r} in expression [${this.input}]`)}scanStringBackslash(e,n){e+=this.input.substring(n,this.index);let r;if(this.advance(),this.peek===TL){let i=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(i))r=parseInt(i,16);else return this.error(`Invalid unicode escape [\\u${i}]`,0);for(let s=0;s<5;s++)this.advance()}else r=_J(this.peek),this.advance();return e+=String.fromCharCode(r),e}scanStar(e){this.advance();let n="*";return this.peek===MR?(n+="*",this.advance(),this.peek===Ss&&(n+="=",this.advance())):this.peek===Ss&&(n+="=",this.advance()),Gp(e,this.index,n)}isStartOfRegex(){if(this.tokens.length===0)return!0;let e=this.tokens[this.tokens.length-1];if(e.isOperator("!")){let n=this.tokens.length>1?this.tokens[this.tokens.length-2]:null;return n===null||n.type!==Lt.Identifier&&!n.isCharacter(ss)&&!n.isCharacter(eu)}return e.type===Lt.Operator||e.isCharacter(Jo)||e.isCharacter(nc)||e.isCharacter(Co)||e.isCharacter(Zl)}scanRegex(e){this.advance();let n=this.index,r=!1,i=!1;for(;;){let l=this.peek;if(l===Yi)return this.error("Unterminated regular expression",0);if(r)r=!1;else if(l===Od)r=!0;else if(l===nc)i=!0;else if(l===eu)i=!1;else if(l===Ca&&!i)break;this.advance()}let s=this.input.substring(n,this.index);this.advance();let o=mJ(e,this.index,s),a=this.scanRegexFlags(this.index);return a!==null?(this.tokens.push(o),a):o}scanRegexFlags(e){if(!yf(this.peek))return null;for(;yf(this.peek);)this.advance();return gJ(e,this.index,this.input.substring(e,this.index))}};function f4(t){return Jd<=t&&t<=Jv||Sf<=t&&t<=E0||t==Cf||t==z2}function d4(t){return yf(t)||il(t)||t==Cf||t==z2}function vJ(t){return t==hY||t==lY}function yJ(t){return t==c2||t==wL}function _J(t){switch(t){case SL:return Ld;case hI:return yL;case CL:return fI;case bL:return uI;case AL:return vL;default:return t}}function xJ(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var EA=class{strings;expressions;offsets;constructor(e,n,r){this.strings=e,this.expressions=n,this.offsets=r}},SA=class{templateBindings;warnings;errors;constructor(e,n,r){this.templateBindings=e,this.warnings=n,this.errors=r}};function af(t){return t.start.toString()||"(unknown)"}var k2=class{_lexer;_supportsDirectPipeReferences;constructor(e,n=!1){this._lexer=e,this._supportsDirectPipeReferences=n}parseAction(e,n,r){let i=[];this._checkNoInterpolation(i,e,n);let{stripped:s}=this._stripComments(e),o=this._lexer.tokenize(s),a=new Dd(e,n,r,o,1,i,0,this._supportsDirectPipeReferences).parseChain();return new So(a,e,af(n),r,i)}parseBinding(e,n,r){let i=[],s=this._parseBindingAst(e,n,r,i);return new So(s,e,af(n),r,i)}checkSimpleExpression(e){let n=new CA;return e.visit(n),n.errors}parseSimpleBinding(e,n,r){let i=[],s=this._parseBindingAst(e,n,r,i),o=this.checkSimpleExpression(s);return o.length>0&&i.push(Qp(`Host binding expression cannot contain ${o.join(" ")}`,e,"",n)),new So(s,e,af(n),r,i)}_parseBindingAst(e,n,r,i){this._checkNoInterpolation(i,e,n);let{stripped:s}=this._stripComments(e),o=this._lexer.tokenize(s);return new Dd(e,n,r,o,0,i,0,this._supportsDirectPipeReferences).parseChain()}parseTemplateBindings(e,n,r,i,s){let o=this._lexer.tokenize(n),a=[];return new Dd(n,r,s,o,0,a,0,this._supportsDirectPipeReferences).parseTemplateBindings({source:e,span:new Ko(i,i+e.length)})}parseInterpolation(e,n,r,i){let s=[],{strings:o,expressions:a,offsets:l}=this.splitInterpolation(e,n,s,i);if(a.length===0)return null;let c=[];for(let u=0;u<a.length;++u){let f=i?.[u*2+1]?.sourceSpan,d=a[u].text,{stripped:h,hasComments:g}=this._stripComments(d),v=this._lexer.tokenize(h);if(g&&h.trim().length===0&&v.length===0){s.push(Qp("Interpolation expression cannot only contain a comment",e,`at column ${a[u].start} in`,n));continue}let x=new Dd(f?d:e,f||n,r,v,0,s,l[u],this._supportsDirectPipeReferences).parseChain();c.push(x)}return this.createInterpolationAst(o.map(u=>u.text),c,e,af(n),r,s)}parseInterpolationExpression(e,n,r){let{stripped:i}=this._stripComments(e),s=this._lexer.tokenize(i),o=[],a=new Dd(e,n,r,s,0,o,0,this._supportsDirectPipeReferences).parseChain(),l=["",""];return this.createInterpolationAst(l,[a],e,af(n),r,o)}createInterpolationAst(e,n,r,i,s,o){let a=new zd(0,r.length),l=new Xv(a,a.toAbsolute(s),e,n);return new So(l,r,i,s,o)}splitInterpolation(e,n,r,i){let s=[],o=[],a=[],l=i?wJ(i):null,c=0,u=!1,f=!1,d="{{",h="}}";for(;c<e.length;)if(u){let g=c,v=g+d.length,x=this._getInterpolationEndIndex(e,h,v);if(x===-1){u=!1,f=!0;break}let _=x+h.length,E=e.substring(v,x);E.trim().length===0&&r.push(Qp("Blank expressions are not allowed in interpolated strings",e,`at column ${c} in`,n)),o.push({text:E,start:g,end:_});let D=(l?.get(g)??g)+d.length;a.push(D),c=_,u=!1}else{let g=c;c=e.indexOf(d,c),c===-1&&(c=e.length);let v=e.substring(g,c);s.push({text:v,start:g,end:c}),u=!0}if(!u)if(f){let g=s[s.length-1];g.text+=e.substring(c),g.end=e.length}else s.push({text:e.substring(c),start:c,end:e.length});return new EA(s,o,a)}wrapLiteralPrimitive(e,n,r){let i=new zd(0,e==null?0:e.length);return new So(new Eo(i,i.toAbsolute(r),e),e,typeof n=="string"?n:af(n),r,[])}_stripComments(e){let n=this._commentStart(e);return n!=null?{stripped:e.substring(0,n),hasComments:!0}:{stripped:e,hasComments:!1}}_commentStart(e){let n=null;for(let r=0;r<e.length-1;r++){let i=e.charCodeAt(r),s=e.charCodeAt(r+1);if(i===Ca&&s==Ca&&n==null)return r;n===i?n=null:n==null&&zg(i)&&(n=i)}return null}_checkNoInterpolation(e,n,r){let i=-1,s=-1;for(let o of this._forEachUnquotedChar(n,0))if(i===-1)n.startsWith("{{")&&(i=o);else if(s=this._getInterpolationEndIndex(n,"}}",o),s>-1)break;i>-1&&s>-1&&e.push(Qp("Got interpolation ({{}}) where expression was expected",n,`at column ${i} in`,r))}_getInterpolationEndIndex(e,n,r){for(let i of this._forEachUnquotedChar(e,r)){if(e.startsWith(n,i))return i;if(e.startsWith("//",i))return e.indexOf(n,i)}return-1}*_forEachUnquotedChar(e,n){let r=null,i=0;for(let s=n;s<e.length;s++){let o=e[s];zg(e.charCodeAt(s))&&(r===null||r===o)&&i%2===0?r=r===null?o:null:r===null&&(yield s),i=o==="\\"?i+1:0}}},qg=(function(t){return t[t.None=0]="None",t[t.Writable=1]="Writable",t})(qg||{}),h4=new Set(["d","g","i","m","s","u","v","y"]),Dd=class{input;parseSourceSpan;absoluteOffset;tokens;parseFlags;errors;offset;supportsDirectPipeReferences;rparensExpected=0;rbracketsExpected=0;rbracesExpected=0;context=qg.None;sourceSpanCache=new Map;index=0;constructor(e,n,r,i,s,o,a,l){this.input=e,this.parseSourceSpan=n,this.absoluteOffset=r,this.tokens=i,this.parseFlags=s,this.errors=o,this.offset=a,this.supportsDirectPipeReferences=l}peek(e){let n=this.index+e;return n<this.tokens.length?this.tokens[n]:vx}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,n){let r=this.currentEndIndex;if(n!==void 0&&n>this.currentEndIndex&&(r=n),e>r){let i=r;r=e,e=i}return new zd(e,r)}sourceSpan(e,n){let r=`${e}@${this.inputIndex}:${n}`;return this.sourceSpanCache.has(r)||this.sourceSpanCache.set(r,this.span(e,n).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(r)}advance(){this.index++}withContext(e,n){this.context|=e;let r=n();return this.context^=e,r}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}isAssignmentOperator(e){return e.type===Lt.Operator&&Ys.isAssignmentOperation(e.strValue)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===vx?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],n=this.inputIndex;for(;this.index<this.tokens.length;){let r=this.parsePipe();if(e.push(r),this.consumeOptionalCharacter(Yo))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(Yo););else if(this.index<this.tokens.length){let i=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===i)break}}if(e.length===0){let r=this.offset,i=this.offset+this.input.length;return new zs(this.span(r,i),this.sourceSpan(r,i))}return e.length==1?e[0]:new a0(this.span(n),this.sourceSpan(n),e)}parsePipe(){let e=this.inputIndex,n=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let r=this.inputIndex,i=this.expectIdentifierOrKeyword(),s,o;i!==null?s=this.sourceSpan(r):(i="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,s=new zd(o,o).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(Zl);)a.push(this.parseExpression());let l;if(this.supportsDirectPipeReferences){let c=i.charCodeAt(0);l=c===Cf||c>=Sf&&c<=E0?Ix.ReferencedDirectly:Ix.ReferencedByName}else l=Ix.ReferencedByName;n=new Yx(this.span(e),this.sourceSpan(e,o),n,i,a,l,s)}while(this.consumeOptionalOperator("|"))}return n}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,n=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let r=this.parsePipe(),i;if(this.consumeOptionalCharacter(Zl))i=this.parsePipe();else{let s=this.inputIndex,o=this.input.substring(e,s);this.error(`Conditional expression ${o} requires all 3 expressions`),i=new zs(this.span(e),this.sourceSpan(e))}return new zx(this.span(e),this.sourceSpan(e),n,r,i)}else return n}parseLogicalOr(){let e=this.inputIndex,n=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let r=this.parseLogicalAnd();n=new Ys(this.span(e),this.sourceSpan(e),"||",n,r)}return n}parseLogicalAnd(){let e=this.inputIndex,n=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let r=this.parseNullishCoalescing();n=new Ys(this.span(e),this.sourceSpan(e),"&&",n,r)}return n}parseNullishCoalescing(){let e=this.inputIndex,n=this.parseEquality();for(;this.consumeOptionalOperator("??");){let r=this.parseEquality();n=new Ys(this.span(e),this.sourceSpan(e),"??",n,r)}return n}parseEquality(){let e=this.inputIndex,n=this.parseRelational();for(;this.next.type==Lt.Operator;){let r=this.next.strValue;switch(r){case"==":case"===":case"!=":case"!==":this.advance();let i=this.parseRelational();n=new Ys(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseRelational(){let e=this.inputIndex,n=this.parseAdditive();for(;this.next.type==Lt.Operator||this.next.isKeywordIn;){let r=this.next.strValue;switch(r){case"<":case">":case"<=":case">=":case"in":this.advance();let i=this.parseAdditive();n=new Ys(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseAdditive(){let e=this.inputIndex,n=this.parseMultiplicative();for(;this.next.type==Lt.Operator;){let r=this.next.strValue;switch(r){case"+":case"-":this.advance();let i=this.parseMultiplicative();n=new Ys(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseMultiplicative(){let e=this.inputIndex,n=this.parseExponentiation();for(;this.next.type==Lt.Operator;){let r=this.next.strValue;switch(r){case"*":case"%":case"/":this.advance();let i=this.parseExponentiation();n=new Ys(this.span(e),this.sourceSpan(e),r,n,i);continue}break}return n}parseExponentiation(){let e=this.inputIndex,n=this.parsePrefix();for(;this.next.type==Lt.Operator&&this.next.strValue==="**";){(n instanceof e0||n instanceof cv||n instanceof uv||n instanceof fv)&&this.error("Unary operator used immediately before exponentiation expression. Parenthesis must be used to disambiguate operator precedence"),this.advance();let r=this.parseExponentiation();n=new Ys(this.span(e),this.sourceSpan(e),"**",n,r)}return n}parsePrefix(){if(this.next.type==Lt.Operator){let e=this.inputIndex,n=this.next.strValue,r;switch(n){case"+":return this.advance(),r=this.parsePrefix(),e0.createPlus(this.span(e),this.sourceSpan(e),r);case"-":return this.advance(),r=this.parsePrefix(),e0.createMinus(this.span(e),this.sourceSpan(e),r);case"!":return this.advance(),r=this.parsePrefix(),new cv(this.span(e),this.sourceSpan(e),r)}}else if(this.next.isKeywordTypeof()){let e=this.inputIndex;this.advance();let n=this.parsePrefix();return new uv(this.span(e),this.sourceSpan(e),n)}else if(this.next.isKeywordVoid()){let e=this.inputIndex;this.advance();let n=this.parsePrefix();return new fv(this.span(e),this.sourceSpan(e),n)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,n=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(Cd))n=this.parseAccessMember(n,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(Jo)?n=this.parseCall(n,e,!0):n=this.consumeOptionalCharacter(nc)?this.parseKeyedReadOrWrite(n,e,!0):this.parseAccessMember(n,e,!0);else if(this.consumeOptionalCharacter(nc))n=this.parseKeyedReadOrWrite(n,e,!1);else if(this.consumeOptionalCharacter(Jo))n=this.parseCall(n,e,!1);else if(this.consumeOptionalOperator("!"))n=new dv(this.span(e),this.sourceSpan(e),n);else if(this.next.isTemplateLiteralEnd())n=this.parseNoInterpolationTaggedTemplateLiteral(n,e);else if(this.next.isTemplateLiteralPart())n=this.parseTaggedTemplateLiteral(n,e);else return n}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(Jo)){this.rparensExpected++;let n=this.parsePipe();return this.consumeOptionalCharacter(ss)||(this.error("Missing closing parentheses"),this.consumeOptionalCharacter(ss)),this.rparensExpected--,new mv(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isKeywordNull())return this.advance(),new Eo(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Eo(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Eo(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Eo(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordIn())return this.advance(),new Eo(this.span(e),this.sourceSpan(e),"in");if(this.next.isKeywordThis())return this.advance(),new sv(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(nc))return this.parseLiteralArray(e);if(this.next.isCharacter(sl))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new lc(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let n=this.next.toNumber();return this.advance(),new Eo(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===Vd.Plain){let n=this.next.toString();return this.advance(),new Eo(this.span(e),this.sourceSpan(e),n)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new zs(this.span(e),this.sourceSpan(e))):this.next.isRegExpBody()?this.parseRegularExpressionLiteral():this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new zs(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new zs(this.span(e),this.sourceSpan(e)))}}}parseLiteralArray(e){this.rbracketsExpected++;let n=[];do if(this.next.isOperator("..."))n.push(this.parseSpreadElement());else if(!this.next.isCharacter(eu))n.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(Co));return this.rbracketsExpected--,this.expectCharacter(eu),new lv(this.span(e),this.sourceSpan(e),n)}parseLiteralMap(){let e=[],n=[],r=this.inputIndex;if(this.expectCharacter(sl),!this.consumeOptionalCharacter(Xs)){this.rbracesExpected++;do{let i=this.inputIndex;if(this.next.isOperator("...")){this.advance(),e.push({kind:"spread",span:this.span(i),sourceSpan:this.sourceSpan(i)}),n.push(this.parsePipe());continue}let s=this.next.isString(),o=this.expectIdentifierOrKeywordOrString(),a=this.span(i),l=this.sourceSpan(i),c={kind:"property",key:o,quoted:s,span:a,sourceSpan:l};e.push(c),s?(this.expectCharacter(Zl),n.push(this.parsePipe())):this.consumeOptionalCharacter(Zl)?n.push(this.parsePipe()):(c.isShorthandInitialized=!0,n.push(new tc(a,l,l,new lc(a,l),o)))}while(this.consumeOptionalCharacter(Co)&&!this.next.isCharacter(Xs));this.rbracesExpected--,this.expectCharacter(Xs)}return new Xd(this.span(r),this.sourceSpan(r),e,n)}parseAccessMember(e,n,r){let i=this.inputIndex,s=this.withContext(qg.Writable,()=>{let a=this.expectIdentifierOrKeyword()??"";return a.length===0&&this.error("Expected identifier for property access",e.span.end),a}),o=this.sourceSpan(i);if(r)return this.isAssignmentOperator(this.next)?(this.advance(),this.error("The '?.' operator cannot be used in the assignment"),new zs(this.span(n),this.sourceSpan(n))):new ov(this.span(n),this.sourceSpan(n),o,e,s);if(this.isAssignmentOperator(this.next)){let a=this.next.strValue;if(!(this.parseFlags&1))return this.advance(),this.error("Bindings cannot contain assignments"),new zs(this.span(n),this.sourceSpan(n));let l=new tc(this.span(n),this.sourceSpan(n),o,e,s);this.advance();let c=this.parseConditional();return new Ys(this.span(n),this.sourceSpan(n),a,l,c)}else return new tc(this.span(n),this.sourceSpan(n),o,e,s)}parseCall(e,n,r){let i=this.inputIndex;this.rparensExpected++;let s=this.parseCallArguments(),o=this.span(i,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(ss),this.rparensExpected--;let a=this.span(n),l=this.sourceSpan(n);return r?new Kx(a,l,e,s,o):new l0(a,l,e,s,o)}parseCallArguments(){if(this.next.isCharacter(ss))return[];let e=[];do e.push(this.next.isOperator("...")?this.parseSpreadElement():this.parsePipe());while(this.consumeOptionalCharacter(Co));return e}parseSpreadElement(){this.next.isOperator("...")||this.error("Spread element must start with '...' operator");let e=this.inputIndex;this.advance();let n=this.parsePipe(),r=this.span(e),i=this.sourceSpan(e);return new Xx(r,i,n)}expectTemplateBindingKey(){let e="",n=!1,r=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),n=this.consumeOptionalOperator("-"),n&&(e+="-");while(n);return{source:e,span:new Ko(r,r+e.length)}}parseTemplateBindings(e){let n=[];for(n.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let r=this.parseLetBinding();if(r)n.push(r);else{let i=this.expectTemplateBindingKey(),s=this.parseAsBinding(i);s?n.push(s):(i.source=e.source+i.source.charAt(0).toUpperCase()+i.source.substring(1),n.push(...this.parseDirectiveKeywordBindings(i)))}this.consumeStatementTerminator()}return new SA(n,[],this.errors)}parseKeyedReadOrWrite(e,n,r){return this.withContext(qg.Writable,()=>{this.rbracketsExpected++;let i=this.parsePipe();if(i instanceof zs&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(eu),this.isAssignmentOperator(this.next)){let s=this.next.strValue;if(r)this.advance(),this.error("The '?.' operator cannot be used in the assignment");else{let o=new Yd(this.span(n),this.sourceSpan(n),e,i);this.advance();let a=this.parseConditional();return new Ys(this.span(n),this.sourceSpan(n),s,o,a)}}else return r?new av(this.span(n),this.sourceSpan(n),e,i):new Yd(this.span(n),this.sourceSpan(n),e,i);return new zs(this.span(n),this.sourceSpan(n))})}parseDirectiveKeywordBindings(e){let n=[];this.consumeOptionalCharacter(Zl);let r=this.getDirectiveBoundTarget(),i=this.currentAbsoluteOffset,s=this.parseAsBinding(e);s||(this.consumeStatementTerminator(),i=this.currentAbsoluteOffset);let o=new Ko(e.span.start,i);return n.push(new OT(o,e,r)),s&&n.push(s),n}getDirectiveBoundTarget(){if(this.next===vx||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:n,end:r}=e.span,i=this.input.substring(n,r);return new So(e,i,af(this.parseSourceSpan),this.absoluteOffset+n,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let n=this.expectTemplateBindingKey();this.consumeStatementTerminator();let r=new Ko(e.span.start,this.currentAbsoluteOffset);return new gv(r,n,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let n=this.expectTemplateBindingKey(),r=null;this.consumeOptionalOperator("=")&&(r=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let i=new Ko(e,this.currentAbsoluteOffset);return new gv(i,n,r)}parseNoInterpolationTaggedTemplateLiteral(e,n){let r=this.parseNoInterpolationTemplateLiteral();return new hv(this.span(n),this.sourceSpan(n),e,r)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,n=this.inputIndex;this.advance();let r=this.span(n),i=this.sourceSpan(n);return new pv(r,i,[new Jx(r,i,e)],[])}parseTaggedTemplateLiteral(e,n){let r=this.parseTemplateLiteral();return new hv(this.span(n),this.sourceSpan(n),e,r)}parseTemplateLiteral(){let e=[],n=[],r=this.inputIndex;for(;this.next!==vx;){let i=this.next;if(i.isTemplateLiteralPart()||i.isTemplateLiteralEnd()){let s=this.inputIndex;if(this.advance(),e.push(new Jx(this.span(s),this.sourceSpan(s),i.strValue)),i.isTemplateLiteralEnd())break}else if(i.isTemplateLiteralInterpolationStart()){this.advance(),this.rbracesExpected++;let s=this.parsePipe();s instanceof zs?this.error("Template literal interpolation cannot be empty"):n.push(s),this.rbracesExpected--}else this.advance()}return new pv(this.span(r),this.sourceSpan(r),e,n)}parseRegularExpressionLiteral(){let e=this.next;if(this.advance(),!e.isRegExpBody())return new zs(this.span(this.inputIndex),this.sourceSpan(this.inputIndex));let n=null;if(this.next.isRegExpFlags()){n=this.next,this.advance();let s=new Set;for(let o=0;o<n.strValue.length;o++){let a=n.strValue[o];h4.has(a)?s.has(a)?this.error(`Duplicate regular expression flag "${a}"`,n.index+o):s.add(a):this.error(`Unsupported regular expression flag "${a}". The supported flags are: `+Array.from(h4,l=>`"${l}"`).join(", "),n.index+o)}}let r=e.index,i=n?n.end:e.end;return new Qx(this.span(r,i),this.sourceSpan(r,i),e.strValue,n?n.strValue:null)}consumeStatementTerminator(){this.consumeOptionalCharacter(Yo)||this.consumeOptionalCharacter(Co)}error(e,n=this.index){this.errors.push(Qp(e,this.input,this.getErrorLocationText(n),this.parseSourceSpan)),this.skip()}getErrorLocationText(e){return e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,n){let r=`Private identifiers are not supported. Unexpected private identifier: ${e}`;n!==null&&(r+=`, ${n}`),this.error(r)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(Yo)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(ss))&&(this.rbracesExpected<=0||!e.isCharacter(Xs))&&(this.rbracketsExpected<=0||!e.isCharacter(eu))&&(!(this.context&qg.Writable)||!this.isAssignmentOperator(e));)this.next.isError()&&this.errors.push(Qp(this.next.toString(),this.input,this.getErrorLocationText(this.next.index),this.parseSourceSpan)),this.advance(),e=this.next}};function Qp(t,e,n,r){n.length>0&&(n=` ${n} `);let i=af(r),s=`Parser Error: ${t}${n}[${e}] in ${i}`;return new Mt(r,s)}var CA=class extends c0{errors=[];visitPipe(){this.errors.push("pipes")}};function wJ(t){let e=new Map,n=0,r=0,i=0;for(;i<t.length;){let s=t[i];if(s.type===9){let[o,a]=s.parts;n+=a.length,r+=o.length}else{let o=s.parts.reduce((a,l)=>a+l.length,0);r+=o,n+=o}e.set(r,n),i++}return e}function EJ(t){return t.visit(new bA)}var bA=class{visitUnary(e,n){return`${e.operator}${e.expr.visit(this,n)}`}visitBinary(e,n){return`${e.left.visit(this,n)} ${e.operation} ${e.right.visit(this,n)}`}visitChain(e,n){return e.expressions.map(r=>r.visit(this,n)).join("; ")}visitConditional(e,n){return`${e.condition.visit(this,n)} ? ${e.trueExp.visit(this,n)} : ${e.falseExp.visit(this,n)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,n){return CJ(e.strings,e.expressions.map(r=>r.visit(this,n))).join("")}visitKeyedRead(e,n){return`${e.receiver.visit(this,n)}[${e.key.visit(this,n)}]`}visitLiteralArray(e,n){return`[${e.expressions.map(r=>r.visit(this,n)).join(", ")}]`}visitLiteralMap(e,n){return`{${SJ(e.keys.map(r=>r.kind==="spread"?"...":r.quoted?`'${r.key}'`:r.key),e.values.map(r=>r.visit(this,n))).map(([r,i])=>`${r}: ${i}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,n){return`${e.exp.visit(this,n)} | ${e.name}`}visitPrefixNot(e,n){return`!${e.expression.visit(this,n)}`}visitNonNullAssert(e,n){return`${e.expression.visit(this,n)}!`}visitPropertyRead(e,n){return e.receiver instanceof lc||e.receiver instanceof sv?e.name:`${e.receiver.visit(this,n)}.${e.name}`}visitSafePropertyRead(e,n){return`${e.receiver.visit(this,n)}?.${e.name}`}visitSafeKeyedRead(e,n){return`${e.receiver.visit(this,n)}?.[${e.key.visit(this,n)}]`}visitCall(e,n){return`${e.receiver.visit(this,n)}(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitSafeCall(e,n){return`${e.receiver.visit(this,n)}?.(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitTypeofExpression(e,n){return`typeof ${e.expression.visit(this,n)}`}visitVoidExpression(e,n){return`void ${e.expression.visit(this,n)}`}visitRegularExpressionLiteral(e,n){return`/${e.body}/${e.flags||""}`}visitASTWithSource(e,n){return e.ast.visit(this,n)}visitTemplateLiteral(e,n){let r="";for(let i=0;i<e.elements.length;i++){r+=e.elements[i].visit(this,n);let s=i<e.expressions.length?e.expressions[i]:null;s!==null&&(r+="${"+s.visit(this,n)+"}")}return"`"+r+"`"}visitTemplateLiteralElement(e,n){return e.text}visitTaggedTemplateLiteral(e,n){return e.tag.visit(this,n)+e.template.visit(this,n)}visitSpreadElement(e,n){return`...${e.expression.visit(this,n)}`}visitParenthesizedExpression(e,n){return"("+e.expression.visit(this,n)+")"}};function SJ(t,e){if(t.length!==e.length)throw new Error("Array lengths must match");return t.map((n,r)=>[n,e[r]])}function CJ(t,e){let n=[];for(let r=0;r<Math.max(t.length,e.length);r++)r<t.length&&n.push(t[r]),r<e.length&&n.push(e[r]);return n}var Nx;function p4(){return Nx||(Nx={},Bg(or.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Bg(or.STYLE,["*|style"]),Bg(or.URL,["*|formAction","area|href","a|href","a|xlink:href","form|action","annotation|href","annotation|xlink:href","annotation-xml|href","annotation-xml|xlink:href","maction|href","maction|xlink:href","malignmark|href","malignmark|xlink:href","math|href","math|xlink:href","mroot|href","mroot|xlink:href","msqrt|href","msqrt|xlink:href","merror|href","merror|xlink:href","mfrac|href","mfrac|xlink:href","mglyph|href","mglyph|xlink:href","msub|href","msub|xlink:href","msup|href","msup|xlink:href","msubsup|href","msubsup|xlink:href","mmultiscripts|href","mmultiscripts|xlink:href","mprescripts|href","mprescripts|xlink:href","mi|href","mi|xlink:href","mn|href","mn|xlink:href","mo|href","mo|xlink:href","mpadded|href","mpadded|xlink:href","mphantom|href","mphantom|xlink:href","mrow|href","mrow|xlink:href","ms|href","ms|xlink:href","mspace|href","mspace|xlink:href","mstyle|href","mstyle|xlink:href","mtable|href","mtable|xlink:href","mtd|href","mtd|xlink:href","mtr|href","mtr|xlink:href","mtext|href","mtext|xlink:href","mover|href","mover|xlink:href","munder|href","munder|xlink:href","munderover|href","munderover|xlink:href","semantics|href","semantics|xlink:href","none|href","none|xlink:href","img|src","video|src"]),Bg(or.RESOURCE_URL,["base|href","embed|src","frame|src","iframe|src","link|href","object|codebase","object|data","script|src","script|href","script|xlink:href"]),Bg(or.ATTRIBUTE_NO_BINDING,["animate|attributeName","set|attributeName","animateMotion|attributeName","animateTransform|attributeName","unknown|attributeName","iframe|sandbox","iframe|allow","iframe|allowFullscreen","iframe|referrerPolicy","iframe|csp","iframe|fetchPriority","unknown|sandbox","unknown|allow","unknown|allowFullscreen","unknown|referrerPolicy","unknown|csp","unknown|fetchPriority"])),Nx}function Bg(t,e){for(let n of e)Nx[n.toLowerCase()]=t}var TA=class{},bJ="boolean",TJ="number",AJ="string",IJ="object",DJ=["[Element]|textContent,%ariaActiveDescendantElement,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColIndexText,%ariaColSpan,%ariaControlsElements,%ariaCurrent,%ariaDescribedByElements,%ariaDescription,%ariaDetailsElements,%ariaDisabled,%ariaErrorMessageElements,%ariaExpanded,%ariaFlowToElements,%ariaHasPopup,%ariaHidden,%ariaInvalid,%ariaKeyShortcuts,%ariaLabel,%ariaLabelledByElements,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaOwnsElements,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowIndexText,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","selectedcontent^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],r8=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex","aria-activedescendant":"ariaActiveDescendantElement","aria-atomic":"ariaAtomic","aria-autocomplete":"ariaAutoComplete","aria-busy":"ariaBusy","aria-checked":"ariaChecked","aria-colcount":"ariaColCount","aria-colindex":"ariaColIndex","aria-colindextext":"ariaColIndexText","aria-colspan":"ariaColSpan","aria-controls":"ariaControlsElements","aria-current":"ariaCurrent","aria-describedby":"ariaDescribedByElements","aria-description":"ariaDescription","aria-details":"ariaDetailsElements","aria-disabled":"ariaDisabled","aria-errormessage":"ariaErrorMessageElements","aria-expanded":"ariaExpanded","aria-flowto":"ariaFlowToElements","aria-haspopup":"ariaHasPopup","aria-hidden":"ariaHidden","aria-invalid":"ariaInvalid","aria-keyshortcuts":"ariaKeyShortcuts","aria-label":"ariaLabel","aria-labelledby":"ariaLabelledByElements","aria-level":"ariaLevel","aria-live":"ariaLive","aria-modal":"ariaModal","aria-multiline":"ariaMultiLine","aria-multiselectable":"ariaMultiSelectable","aria-orientation":"ariaOrientation","aria-owns":"ariaOwnsElements","aria-placeholder":"ariaPlaceholder","aria-posinset":"ariaPosInSet","aria-pressed":"ariaPressed","aria-readonly":"ariaReadOnly","aria-required":"ariaRequired","aria-roledescription":"ariaRoleDescription","aria-rowcount":"ariaRowCount","aria-rowindex":"ariaRowIndex","aria-rowindextext":"ariaRowIndexText","aria-rowspan":"ariaRowSpan","aria-selected":"ariaSelected","aria-setsize":"ariaSetSize","aria-sort":"ariaSort","aria-valuemax":"ariaValueMax","aria-valuemin":"ariaValueMin","aria-valuenow":"ariaValueNow","aria-valuetext":"ariaValueText"})),kJ=Array.from(r8).reduce((t,[e,n])=>(t.set(e,n),t),new Map),x0=class extends TA{_schema=new Map;_eventSchema=new Map;constructor(){super(),DJ.forEach(e=>{let n=new Map,r=new Set,[i,s]=e.split("|"),o=s.split(","),[a,l]=i.split("^");a.split(",").forEach(u=>{this._schema.set(u.toLowerCase(),n),this._eventSchema.set(u.toLowerCase(),r)});let c=l&&this._schema.get(l.toLowerCase());if(c){for(let[u,f]of c)n.set(u,f);for(let u of this._eventSchema.get(l.toLowerCase()))r.add(u)}o.forEach(u=>{if(u.length>0)switch(u[0]){case"*":r.add(u.substring(1));break;case"!":n.set(u.substring(1),bJ);break;case"#":n.set(u.substring(1),TJ);break;case"%":n.set(u.substring(1),IJ);break;default:n.set(u,AJ)}})})}hasProperty(e,n,r){if(r.some(s=>s.name===mR.name))return!0;if(e.indexOf("-")>-1){if(AR(e)||VT(e))return!1;if(r.some(s=>s.name===pR.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(n)}hasElement(e,n){return n.some(r=>r.name===mR.name)||e.indexOf("-")>-1&&(AR(e)||VT(e)||n.some(r=>r.name===pR.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,n,r){r&&(n=this.getMappedPropName(n)),e=e.toLowerCase(),n=n.toLowerCase();let i=p4()[e+"|"+n];return i||(i=p4()["*|"+n],i||or.NONE)}getMappedPropName(e){return r8.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let n=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(n.keys()).map(r=>kJ.get(r)??r)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return Tz(e)}normalizeAnimationStyleValue(e,n,r){let i="",s=r.toString().trim(),o=null;if(NJ(e)&&r!==0&&r!=="0")if(typeof r=="number")i="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(o=`Please provide a CSS unit value for ${n}:${r}`)}return{error:o,value:s+i}}};function NJ(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var dn=class{closedByChildren={};contentType;closedByParent=!1;implicitNamespacePrefix;isVoid;ignoreFirstLf;canSelfClose;preventNamespaceInheritance;constructor({closedByChildren:e,implicitNamespacePrefix:n,contentType:r=Ql.PARSABLE_DATA,closedByParent:i=!1,isVoid:s=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){e&&e.length>0&&e.forEach(c=>this.closedByChildren[c]=!0),this.isVoid=s,this.closedByParent=i||s,this.implicitNamespacePrefix=n||null,this.contentType=r,this.ignoreFirstLf=o,this.preventNamespaceInheritance=a,this.canSelfClose=l??s}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},m4,Wp;function AA(t){return Wp||(m4=new dn({canSelfClose:!0}),Wp=Object.assign(Object.create(null),{base:new dn({isVoid:!0}),meta:new dn({isVoid:!0}),area:new dn({isVoid:!0}),embed:new dn({isVoid:!0}),link:new dn({isVoid:!0}),img:new dn({isVoid:!0}),input:new dn({isVoid:!0}),param:new dn({isVoid:!0}),hr:new dn({isVoid:!0}),br:new dn({isVoid:!0}),source:new dn({isVoid:!0}),track:new dn({isVoid:!0}),wbr:new dn({isVoid:!0}),p:new dn({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new dn({closedByChildren:["tbody","tfoot"]}),tbody:new dn({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new dn({closedByChildren:["tbody"],closedByParent:!0}),tr:new dn({closedByChildren:["tr"],closedByParent:!0}),td:new dn({closedByChildren:["td","th"],closedByParent:!0}),th:new dn({closedByChildren:["td","th"],closedByParent:!0}),col:new dn({isVoid:!0}),svg:new dn({implicitNamespacePrefix:"svg"}),foreignObject:new dn({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new dn({implicitNamespacePrefix:"math"}),li:new dn({closedByChildren:["li"],closedByParent:!0}),dt:new dn({closedByChildren:["dt","dd"]}),dd:new dn({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new dn({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new dn({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new dn({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new dn({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new dn({closedByChildren:["optgroup"],closedByParent:!0}),option:new dn({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new dn({ignoreFirstLf:!0}),listing:new dn({ignoreFirstLf:!0}),style:new dn({contentType:Ql.RAW_TEXT}),script:new dn({contentType:Ql.RAW_TEXT}),title:new dn({contentType:{default:Ql.ESCAPABLE_RAW_TEXT,svg:Ql.PARSABLE_DATA}}),textarea:new dn({contentType:Ql.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new x0().allKnownElementNames().forEach(e=>{!Wp[e]&&UT(e)===null&&(Wp[e]=new dn({canSelfClose:!1}))})),Wp[t]??Wp[t.toLowerCase()]??m4}var g4={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},IA=class{_placeHolderNameCounts={};_signatureToName={};getStartTagPlaceholderName(e,n,r){let i=this._hashTag(e,n,r);if(this._signatureToName[i])return this._signatureToName[i];let s=e.toUpperCase(),o=g4[s]||`TAG_${s}`,a=this._generateUniqueName(r?o:`START_${o}`);return this._signatureToName[i]=a,a}getCloseTagPlaceholderName(e){let n=this._hashClosingTag(e);if(this._signatureToName[n])return this._signatureToName[n];let r=e.toUpperCase(),i=g4[r]||`TAG_${r}`,s=this._generateUniqueName(`CLOSE_${i}`);return this._signatureToName[n]=s,s}getPlaceholderName(e,n){let r=e.toUpperCase(),i=`PH: ${r}=${n}`;if(this._signatureToName[i])return this._signatureToName[i];let s=this._generateUniqueName(r);return this._signatureToName[i]=s,s}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,n){let r=this._hashBlock(e,n);if(this._signatureToName[r])return this._signatureToName[r];let i=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[r]=i,i}getCloseBlockPlaceholderName(e){let n=this._hashClosingBlock(e);if(this._signatureToName[n])return this._signatureToName[n];let r=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[n]=r,r}_hashTag(e,n,r){let i=`<${e}`,s=Object.keys(n).sort().map(a=>` ${a}=${n[a]}`).join(""),o=r?"/>":`></${e}>`;return i+s+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,n){let r=n.length===0?"":` (${n.sort().join("; ")})`;return`@${e}${r} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let r=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=r+1,`${e}_${r}`}},MJ=new k2(new qv);function PJ(t,e){let n=new DA(MJ,t,e);return(r,i,s,o,a)=>n.toI18nMessage(r,i,s,o,a)}function FJ(t,e){return e}var DA=class{_expressionParser;_retainEmptyTokens;_preserveExpressionWhitespace;constructor(e,n,r){this._expressionParser=e,this._retainEmptyTokens=n,this._preserveExpressionWhitespace=r}toI18nMessage(e,n="",r="",i="",s){let o={isIcu:e.length==1&&e[0]instanceof Bd,icuDepth:0,placeholderRegistry:new IA,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:s||FJ},a=Ir(this,e,o);return new Qs(a,o.placeholderToContent,o.placeholderToMessage,n,r,i)}visitElement(e,n){return this._visitElementLike(e,n)}visitComponent(e,n){return this._visitElementLike(e,n)}visitDirective(e,n){throw new Error("Unreachable code")}visitAttribute(e,n){let r=e.valueTokens===void 0||e.valueTokens.length===1?new Fg(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitText(e,n){let r=e.tokens.length===1?new Fg(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitComment(e,n){return null}visitExpansion(e,n){n.icuDepth++;let r={},i=new a2(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(a=>{r[a.value]=new nu(a.expression.map(l=>l.visit(this,n)),a.expSourceSpan)}),n.icuDepth--,n.isIcu||n.icuDepth>0){let a=n.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return i.expressionPlaceholder=a,n.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},n.visitNodeFn(e,i)}let s=n.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());n.placeholderToMessage[s]=this.toI18nMessage([e],"","","",void 0);let o=new p0(i,s,e.sourceSpan);return n.visitNodeFn(e,o)}visitExpansionCase(e,n){throw new Error("Unreachable code")}visitBlock(e,n){let r=Ir(this,e.children,n);if(e.name==="switch")return new nu(r,e.sourceSpan);let i=e.parameters.map(l=>l.expression),s=n.placeholderRegistry.getStartBlockPlaceholderName(e.name,i),o=n.placeholderRegistry.getCloseBlockPlaceholderName(e.name);n.placeholderToContent[s]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},n.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new gf(e.name,i,s,o,r,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,a)}visitBlockParameter(e,n){throw new Error("Unreachable code")}visitLetDeclaration(e,n){return null}_visitElementLike(e,n){let r=Ir(this,e.children,n),i={},s=f=>{i[f.name]=f.value},o,a;e instanceof Sa?(o=e.name,a=AA(e.name).isVoid):(o=e.fullName,a=e.tagName?AA(e.tagName).isVoid:!1),e.attrs.forEach(s),e.directives.forEach(f=>f.attrs.forEach(s));let l=n.placeholderRegistry.getStartTagPlaceholderName(o,i,a);n.placeholderToContent[l]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let c="";a||(c=n.placeholderRegistry.getCloseTagPlaceholderName(o),n.placeholderToContent[c]={text:`</${o}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let u=new mf(o,i,l,c,r,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,u)}_visitTextWithInterpolation(e,n,r,i){let s=[],o=!1;for(let a of e)switch(a.type){case 8:case 17:o=!0;let[l,c,u]=a.parts,f=VJ(c)||"INTERPOLATION",d=r.placeholderRegistry.getPlaceholderName(f,c);if(this._preserveExpressionWhitespace)r.placeholderToContent[d]={text:a.parts.join(""),sourceSpan:a.sourceSpan},s.push(new bv(c,d,a.sourceSpan));else{let h=this.normalizeExpression(a);r.placeholderToContent[d]={text:`${l}${h}${u}`,sourceSpan:a.sourceSpan},s.push(new bv(h,d,a.sourceSpan))}break;default:if(a.parts[0].length>0||this._retainEmptyTokens){let h=s[s.length-1];h instanceof Fg?(h.value+=a.parts[0],h.sourceSpan=new Ot(h.sourceSpan.start,a.sourceSpan.end,h.sourceSpan.fullStart,h.sourceSpan.details)):s.push(new Fg(a.parts[0],a.sourceSpan))}else this._retainEmptyTokens&&s.push(new Fg(a.parts[0],a.sourceSpan));break}return o?(RJ(s,i),new nu(s,n)):s[0]}normalizeExpression(e){let n=e.parts[1],r=this._expressionParser.parseBinding(n,e.sourceSpan,e.sourceSpan.start.offset);return EJ(r)}};function RJ(t,e){if(e instanceof Qs&&(LJ(e),e=e.nodes[0]),e instanceof nu){OJ(e.children,t);for(let n=0;n<t.length;n++)t[n].sourceSpan=e.children[n].sourceSpan}}function LJ(t){let e=t.nodes;if(e.length!==1||!(e[0]instanceof nu))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function OJ(t,e){if(t.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${t.length} tokens):
${t.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(t.some((n,r)=>e[r].constructor!==n.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var BJ=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function VJ(t){return t.split(BJ)[2]}var v4=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function y4(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),v4.has(t+"|"+e)||v4.has("*|"+e)}var UJ=t=>(e,n)=>{let r=t.get(e)??e;return r instanceof su&&(n instanceof p0&&r.i18n instanceof Qs&&(n.previousMessage=r.i18n),r.i18n=n),n},N2=class{keepI18nAttrs;enableI18nLegacyMessageIdFormat;preserveSignificantWhitespace;retainEmptyTokens;hasI18nMeta=!1;_errors=[];constructor(e=!1,n=!1,r=!0,i=!r){this.keepI18nAttrs=e,this.enableI18nLegacyMessageIdFormat=n,this.preserveSignificantWhitespace=r,this.retainEmptyTokens=i}_generateI18nMessage(e,n="",r){let{meaning:i,description:s,customId:o}=this._parseMetadata(n),l=PJ(this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,i,s,o,r);return this._setMessageId(l,n),this._setLegacyIds(l,n),l}visitAllWithErrors(e){let n=e.map(r=>r.visit(this,null));return new I2(n,this._errors)}visitElement(e){return this._visitElementLike(e),e}visitComponent(e,n){return this._visitElementLike(e),e}visitExpansion(e,n){let r,i=e.i18n;if(this.hasI18nMeta=!0,i instanceof p0){let s=i.name;r=this._generateI18nMessage([e],i);let o=mL(r);o.name=s,n!==null&&(n.placeholderToMessage[s]=r)}else r=this._generateI18nMessage([e],n||i);return e.i18n=r,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,n){return Ir(this,e.children,n),e}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}visitDirective(e,n){return e}_visitElementLike(e){let n;if(eY(e)){this.hasI18nMeta=!0;let r=[],i={};for(let s of e.attrs)if(s.name===hL){let o=e.i18n||s.value,a=new Map,l=this.preserveSignificantWhitespace?e.children:Xl(new D2(!1,a),e.children);n=this._generateI18nMessage(l,o,UJ(a)),n.nodes.length===0&&(n=void 0),e.i18n=n}else if(s.name.startsWith(XT)){let o=s.name.slice(XT.length),a;e instanceof wo?a=e.tagName===null?!1:y4(e.tagName,o):a=y4(e.name,o),a?this._reportError(s,`Translating attribute '${o}' is disallowed for security reasons.`):i[o]=s.value}else r.push(s);if(Object.keys(i).length)for(let s of r){let o=i[s.name];o!==void 0&&s.value&&(s.i18n=this._generateI18nMessage([s],s.i18n||o))}this.keepI18nAttrs||(e.attrs=r)}Ir(this,e.children,n)}_parseMetadata(e){return typeof e=="string"?qJ(e):e instanceof Qs?e:{}}_setMessageId(e,n){e.id||(e.id=n instanceof Qs&&n.id||nz(e))}_setLegacyIds(e,n){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[tz(e),iL(e)];else if(typeof n!="string"){let r=n instanceof Qs?n:n instanceof p0?n.previousMessage:void 0;e.legacyIds=r?r.legacyIds:[]}}_reportError(e,n){this._errors.push(new Mt(e.sourceSpan,n))}},HJ="|",$J="@@";function qJ(t=""){let e,n,r;if(t=t.trim(),t){let i=t.indexOf($J),s=t.indexOf(HJ),o;[o,e]=i>-1?[t.slice(0,i),t.slice(i+2)]:[t,""],[n,r]=s>-1?[o.slice(0,s),o.slice(s+1)]:["",o]}return{customId:e,meaning:n,description:r}}function GJ(t){let e=[];return t.description?e.push({tagName:"desc",text:t.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),t.meaning&&e.push({tagName:"meaning",text:t.meaning}),vz(e)}var WJ="goog.getMsg";function jJ(t,e,n,r){let i=YJ(e),s=[Ie(i)];Object.keys(r).length&&(s.push(dA(aI(r,!0),!0)),s.push(dA({original_code:Da(Object.keys(r).map(l=>({key:Kv(l),quoted:!0,value:e.placeholders[l]?Ie(e.placeholders[l].sourceSpan.toString()):Ie(e.placeholderToMessage[l].nodes.map(c=>c.sourceSpan.toString()).join(""))})))})));let o=new Ui(n.name,En(WJ).callFn(s),ol,as.Final);o.addLeadingComment(GJ(e));let a=new bs(t.set(n));return[o,a]}var kA=class{formatPh(e){return`{$${Kv(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){return KL(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}},zJ=new kA;function YJ(t){return t.nodes.map(e=>e.visit(zJ,null)).join("")}function XJ(t,e,n){let{messageParts:r,placeHolders:i}=KJ(e),s=JJ(e),o=i.map(c=>n[c.text]),a=xz(e,r,i,o,s),l=t.set(a);return[new bs(l)]}var NA=class{placeholderToMessage;pieces;constructor(e,n){this.placeholderToMessage=e,this.pieces=n}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Fd)this.pieces[this.pieces.length-1].text+=e.value;else{let n=new Ot(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Fd(e.value,n))}}visitContainer(e){e.children.forEach(n=>n.visit(this))}visitIcu(e){this.pieces.push(new Fd(KL(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,n,r){return new Zp(Kv(e,!1),n,r)}};function KJ(t){let e=[],n=new NA(t.placeholderToMessage,e);return t.nodes.forEach(r=>r.visit(n)),QJ(e)}function JJ(t){let e=t.nodes[0],n=t.nodes[t.nodes.length-1];return new Ot(e.sourceSpan.fullStart,n.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function QJ(t){let e=[],n=[];t[0]instanceof Zp&&e.push(mT(t[0].sourceSpan.start));for(let r=0;r<t.length;r++){let i=t[r];i instanceof Fd?e.push(i):(n.push(i),t[r-1]instanceof Zp&&e.push(mT(t[r-1].sourceSpan.end)))}return t[t.length-1]instanceof Zp&&e.push(mT(t[t.length-1].sourceSpan.end)),{messageParts:e,placeHolders:n}}function mT(t){return new Fd("",new Ot(t,t))}var _4="ngI18nClosureMode",ZJ="i18n_",eQ="I18N_EXP_",x4="\uFFFD",tQ="MSG_";function w4(t){return`${tQ}${t}`.toUpperCase()}function nQ(t){return new Ui(t.name,void 0,ol,void 0,t.sourceSpan)}function rQ(t){let e=t.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",n=new Map,r=new Map,i=new Map,s=new Map;for(let l of t.units)for(let c of l.ops())if(c.kind===R.ExtractedAttribute&&c.i18nContext!==null){let u=n.get(c.i18nContext)??[];u.push(c),n.set(c.i18nContext,u)}else if(c.kind===R.I18nAttributes)r.set(c.target,c);else if(c.kind===R.I18nExpression&&c.usage===S0.I18nAttribute){let u=i.get(c.target)??[];u.push(c),i.set(c.target,u)}else c.kind===R.I18nMessage&&s.set(c.xref,c);let o=new Map,a=new Map;for(let l of t.units)for(let c of l.create)if(c.kind===R.I18nMessage){if(c.messagePlaceholder===null){let{mainVar:u,statements:f}=i8(t,e,s,c);if(c.i18nBlock!==null){let d=t.addConst(u,f);a.set(c.i18nBlock,d)}else{t.constsInitializers.push(...f),o.set(c.i18nContext,u);let d=n.get(c.i18nContext);if(d!==void 0)for(let h of d)h.expression=u.clone()}}Ge.remove(c)}for(let l of t.units)for(let c of l.create)if(Ef(c)){let u=r.get(c.xref);if(u===void 0)continue;let f=i.get(c.xref);if(f===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let d=new Set;f=f.filter(g=>{let v=d.has(g.name);return d.add(g.name),!v});let h=f.flatMap(g=>{let v=o.get(g.context);if(v===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[Ie(g.name),v]});u.i18nAttributesConfig=t.addConst(new oc(h))}for(let l of t.units)for(let c of l.create)if(c.kind===R.I18nStart){let u=a.get(c.root);if(u===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");c.messageIndex=u}}function i8(t,e,n,r){let i=[],s=new Map;for(let c of r.subMessages){let u=n.get(c),{mainVar:f,statements:d}=i8(t,e,n,u);i.push(...d);let h=s.get(u.messagePlaceholder)??[];h.push(f),s.set(u.messagePlaceholder,h)}iQ(r,s),r.params=new Map([...r.params.entries()].sort());let o=En(t.pool.uniqueName(ZJ)),a=aQ(t.pool,r.message.id,e,t.i18nUseExternalIds),l;if(r.needsPostprocessing||r.postprocessingParams.size>0){let c=Object.fromEntries([...r.postprocessingParams.entries()].sort()),u=aI(c,!1),f=[];r.postprocessingParams.size>0&&f.push(dA(u,!0)),l=d=>bt(pe.i18nPostprocess).callFn([d,...f])}return i.push(...sQ(r.message,o,a,r.params,l)),{mainVar:o,statements:i}}function iQ(t,e){for(let[n,r]of e)r.length===1?t.params.set(n,r[0]):(t.params.set(n,Ie(`${x4}${eQ}${n}${x4}`)),t.postprocessingParams.set(n,Zn(r)))}function sQ(t,e,n,r,i){let s=Object.fromEntries(r),o=[nQ(e),G2(oQ(),jJ(e,t,n,s),XJ(e,t,aI(s,!1)))];return i&&o.push(new bs(e.set(i(e)))),o}function oQ(){return Yv(En(_4)).notIdentical(Ie("undefined",iI)).and(En(_4))}function aQ(t,e,n,r){let i,s=n;if(r){let o=w4("EXTERNAL_"),a=t.uniqueName(s);i=`${o}${Id(e)}$$${a}`}else{let o=w4(s);i=t.uniqueName(o)}return En(i)}function lQ(t){for(let e of t.units){let n=null,r=null,i=new Map,s=new Map,o=new Map;for(let a of e.create)switch(a.kind){case R.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");n=a;break;case R.I18nEnd:n=null;break;case R.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");r=a;break;case R.IcuEnd:r=null;break;case R.Text:if(n!==null)if(i.set(a.xref,n),s.set(a.xref,r),a.icuPlaceholder!==null){let l=FX(t.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);Ge.replace(a,l),o.set(a.xref,l)}else Ge.remove(a);break}for(let a of e.update)switch(a.kind){case R.InterpolateText:if(!i.has(a.target))continue;let l=i.get(a.target),c=s.get(a.target),u=o.get(a.target),f=c?c.context:l.context,d=c?Mv.Postproccessing:Mv.Creation,h=[];for(let g=0;g<a.interpolation.expressions.length;g++){let v=a.interpolation.expressions[g];h.push(RL(f,l.xref,l.xref,l.handle,v,u?.xref??null,a.interpolation.i18nPlaceholders[g]??null,d,S0.I18nText,"",v.sourceSpan??a.sourceSpan))}Ge.replaceWithMany(a,h),u!==void 0&&(u.strings=a.interpolation.strings);break}}}function cQ(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case R.ElementStart:case R.ConditionalCreate:case R.ConditionalBranchCreate:case R.Template:if(!Array.isArray(n.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(n.numSlotsUsed+=n.localRefs.length,n.localRefs.length>0){let r=uQ(n.localRefs);n.localRefs=t.addConst(r)}else n.localRefs=null;break}}function uQ(t){let e=[];for(let n of t)e.push(Ie(n.name),Ie(n.target));return Zn(e)}function fQ(t){for(let e of t.units){let n=Cs.HTML;for(let r of e.create)r.kind===R.ElementStart&&r.namespace!==n&&(Ge.insertBefore(TX(r.namespace),r),n=r.namespace)}}function dQ(t){let e=[],n=0,r=0,i=0,s=0,o=0,a=null;for(;n<t.length;)switch(t.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:i===0?i=39:i===39&&t.charCodeAt(n-1)!==92&&(i=0);break;case 34:i===0?i=34:i===34&&t.charCodeAt(n-1)!==92&&(i=0);break;case 58:!a&&r===0&&i===0&&(a=s8(t.substring(o,n-1).trim()),s=n);break;case 59:if(a&&s>0&&r===0&&i===0){let c=t.substring(s,n-1).trim();e.push(a,c),o=n,s=0,a=null}break}if(a&&s){let l=t.slice(s).trim();e.push(a,l)}return e}function s8(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function hQ(t){let e=new Map;for(let n of t.units)for(let r of n.create)Ef(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)if(r.kind===R.ExtractedAttribute&&r.bindingKind===wt.Attribute&&LL(r.expression)){let i=e.get(r.target);if(i!==void 0&&(i.kind===R.Template||i.kind===R.ConditionalCreate||i.kind===R.ConditionalBranchCreate)&&i.templateKind===bo.Structural)continue;if(r.name==="style"){let s=dQ(r.expression.value);for(let o=0;o<s.length-1;o+=2)Ge.insertBefore(zo(r.target,wt.StyleProperty,null,s[o],Ie(s[o+1]),null,null,or.STYLE),r);Ge.remove(r)}else if(r.name==="class"){let s=r.expression.value.trim().split(/\s+/g);for(let o of s)Ge.insertBefore(zo(r.target,wt.ClassName,null,o,null,null,null,or.NONE),r);Ge.remove(r)}}}function pQ(t){Gg(t.root,t.componentName,{index:0},t.compatibility===na.TemplateDefinitionBuilder)}function Gg(t,e,n,r){t.fnName===null&&(t.fnName=t.job.pool.uniqueName(Id(`${e}_${t.job.fnSuffix}`),!1));let i=new Map;for(let s of t.ops())switch(s.kind){case R.Property:case R.DomProperty:s.bindingKind===wt.LegacyAnimation&&(s.name="@"+s.name);break;case R.Animation:if(s.handlerFnName===null){let u=s.name.replace(".","");s.handlerFnName=`${t.fnName}_${u}_cb`,s.handlerFnName=Id(s.handlerFnName)}break;case R.AnimationListener:if(s.handlerFnName!==null)break;if(!s.hostListener&&s.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o=s.name.replace(".","");s.hostListener?s.handlerFnName=`${e}_${o}_HostBindingHandler`:s.handlerFnName=`${t.fnName}_${s.tag.replace("-","_")}_${o}_${s.targetSlot.slot}_listener`,s.handlerFnName=Id(s.handlerFnName);break;case R.Listener:if(s.handlerFnName!==null)break;if(!s.hostListener&&s.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let a="";s.isLegacyAnimationListener&&(s.name=`@${s.name}.${s.legacyAnimationPhase}`,a="animation"),s.hostListener?s.handlerFnName=`${e}_${a}${s.name}_HostBindingHandler`:s.handlerFnName=`${t.fnName}_${s.tag.replace("-","_")}_${a}${s.name}_${s.targetSlot.slot}_listener`,s.handlerFnName=Id(s.handlerFnName);break;case R.TwoWayListener:if(s.handlerFnName!==null)break;if(s.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");s.handlerFnName=Id(`${t.fnName}_${s.tag.replace("-","_")}_${s.name}_${s.targetSlot.slot}_listener`);break;case R.Variable:i.set(s.xref,mQ(t,s.variable,n));break;case R.RepeaterCreate:if(!(t instanceof Aa))throw new Error("AssertionError: must be compiling a component");if(s.handle.slot===null)throw new Error("Expected slot to be assigned");if(s.emptyView!==null){let u=t.job.views.get(s.emptyView);Gg(u,`${e}_${s.functionNameSuffix}Empty_${s.handle.slot+2}`,n,r)}Gg(t.job.views.get(s.xref),`${e}_${s.functionNameSuffix}_${s.handle.slot+1}`,n,r);break;case R.Projection:if(!(t instanceof Aa))throw new Error("AssertionError: must be compiling a component");if(s.handle.slot===null)throw new Error("Expected slot to be assigned");if(s.fallbackView!==null){let u=t.job.views.get(s.fallbackView);Gg(u,`${e}_ProjectionFallback_${s.handle.slot}`,n,r)}break;case R.ConditionalCreate:case R.ConditionalBranchCreate:case R.Template:if(!(t instanceof Aa))throw new Error("AssertionError: must be compiling a component");let l=t.job.views.get(s.xref);if(s.handle.slot===null)throw new Error("Expected slot to be assigned");let c=s.functionNameSuffix.length===0?"":`_${s.functionNameSuffix}`;Gg(l,`${e}${c}_${s.handle.slot}`,n,r);break;case R.StyleProp:s.name=gQ(s.name),r&&(s.name=E4(s.name));break;case R.ClassProp:r&&(s.name=E4(s.name));break}for(let s of t.ops())Ki(s,o=>{if(!(!(o instanceof ru)||o.name!==null)){if(!i.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=i.get(o.xref)}})}function mQ(t,e,n){if(e.name===null)switch(e.kind){case Xi.Context:e.name=`ctx_r${n.index++}`;break;case Xi.Identifier:if(t.job.compatibility===na.TemplateDefinitionBuilder){let r=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${r}r${++n.index}`}else e.name=`${e.identifier}_i${n.index++}`;break;default:e.name=`_r${++n.index}`;break}return e.name}function gQ(t){return t.startsWith("--")?t:s8(t)}function E4(t){let e=t.indexOf("!important");return e>-1?t.substring(0,e):t}function vQ(t){for(let e of t.units){for(let n of e.create)(n.kind===R.Listener||n.kind===R.Animation||n.kind===R.AnimationListener||n.kind===R.TwoWayListener)&&S4(n.handlerOps);S4(e.update)}}function S4(t){for(let e of t){if(e.kind!==R.Statement||!(e.statement instanceof bs)||!(e.statement.expr instanceof m2))continue;let n=e.statement.expr.steps,r=!0;for(let i=e.next;i.kind!==R.ListEnd&&r;i=i.next)Ki(i,(s,o)=>{if(!fc(s))return s;if(r&&!(o&Rn.InChildOperation))switch(s.kind){case It.NextContext:s.steps+=n,Ge.remove(e),r=!1;break;case It.GetCurrentView:case It.Reference:case It.ContextLetReference:r=!1;break}})}}var yQ="ng-container";function _Q(t){for(let e of t.units){let n=new Set;for(let r of e.create)r.kind===R.ElementStart&&r.tag===yQ&&(r.kind=R.ContainerStart,n.add(r.xref)),r.kind===R.ElementEnd&&n.has(r.xref)&&(r.kind=R.ContainerEnd)}}function xQ(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function wQ(t){let e=new Map;for(let n of t.units)for(let r of n.create)Ef(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)(r.kind===R.ElementStart||r.kind===R.ContainerStart)&&r.nonBindable&&Ge.insertAfter(EX(r.xref),r),(r.kind===R.ElementEnd||r.kind===R.ContainerEnd)&&xQ(e,r.xref).nonBindable&&Ge.insertBefore(SX(r.xref),r)}function ec(t){return e=>e.kind===t}function Xg(t,e){return n=>n.kind===t&&e===n.expression instanceof jr}function EQ(t){return t.kind===R.Listener&&!(t.hostListener&&t.isLegacyAnimationListener)||t.kind===R.TwoWayListener||t.kind===R.Animation||t.kind===R.AnimationListener}function SQ(t){return(t.kind===R.Property||t.kind===R.TwoWayProperty)&&!(t.expression instanceof jr)}var CQ=[{test:t=>t.kind===R.Listener&&t.hostListener&&t.isLegacyAnimationListener},{test:EQ}],bQ=[{test:ec(R.StyleMap),transform:M2},{test:ec(R.ClassMap),transform:M2},{test:ec(R.StyleProp)},{test:ec(R.ClassProp)},{test:Xg(R.Attribute,!0)},{test:Xg(R.Property,!0)},{test:SQ},{test:Xg(R.Attribute,!1)},{test:ec(R.Control)}],TQ=[{test:Xg(R.DomProperty,!0)},{test:Xg(R.DomProperty,!1)},{test:ec(R.Attribute)},{test:ec(R.StyleMap),transform:M2},{test:ec(R.ClassMap),transform:M2},{test:ec(R.StyleProp)},{test:ec(R.ClassProp)}],C4=new Set([R.Listener,R.TwoWayListener,R.AnimationListener,R.StyleMap,R.ClassMap,R.StyleProp,R.ClassProp,R.Property,R.TwoWayProperty,R.DomProperty,R.Attribute,R.Animation,R.Control]);function AQ(t){for(let e of t.units){b4(e.create,CQ);let n=e.job.kind===mt.Host?TQ:bQ;b4(e.update,n)}}function b4(t,e){let n=[],r=null;for(let i of t){let s=Pv(i)?i.target:null;(!C4.has(i.kind)||s!==r&&r!==null&&s!==null)&&(Ge.insertBefore(T4(n,e),i),n=[],r=null),C4.has(i.kind)&&(n.push(i),Ge.remove(i),r=s??r)}t.push(T4(n,e))}function T4(t,e){let n=Array.from(e,()=>new Array);for(let r of t){let i=e.findIndex(s=>s.test(r));n[i].push(r)}return n.flatMap((r,i)=>{let s=e[i].transform;return s?s(r):r})}function M2(t){return t.slice(t.length-1)}function IQ(t){for(let e of t.units){let n=jL(e);for(let r of e.ops())if(r.kind===R.Binding){let i=kQ(n,r.target);DQ(r.name)&&i.kind===R.Projection&&Ge.remove(r)}}}function DQ(t){return t.toLowerCase()==="select"}function kQ(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an slottable target.");return n}function NQ(t){for(let e of t.units)MQ(e)}function MQ(t){for(let e of t.update)Ki(e,(n,r)=>{if(fc(n)&&n.kind===It.PipeBinding){if(r&Rn.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(t.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");PQ(t,e.target,n)}else t.create.push(qL(n.target,n.targetSlot,n.name))}})}function PQ(t,e,n){for(let r=t.create.head.next;r.kind!==R.ListEnd;r=r.next){if(!b0(r)||r.xref!==e)continue;for(;r.next.kind===R.Pipe;)r=r.next;let i=qL(n.target,n.targetSlot,n.name);Ge.insertBefore(i,r.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${n.name}`)}function FQ(t){for(let e of t.units)for(let n of e.update)di(n,r=>!(r instanceof eh)||r.args.length<=4?r:new Lv(r.target,r.targetSlot,r.name,Zn(r.args),r.args.length),Rn.None)}function RQ(t){o8(t.root,0)}function o8(t,e){let n=null;for(let r of t.create)switch(r.kind){case R.I18nStart:r.subTemplateIndex=e===0?null:e,n=r;break;case R.I18nEnd:n.subTemplateIndex===null&&(e=0),n=null;break;case R.ConditionalCreate:case R.ConditionalBranchCreate:case R.Template:e=yx(t.job.views.get(r.xref),n,r.i18nPlaceholder,e);break;case R.RepeaterCreate:let i=t.job.views.get(r.xref);e=yx(i,n,r.i18nPlaceholder,e),r.emptyView!==null&&(e=yx(t.job.views.get(r.emptyView),n,r.emptyI18nPlaceholder,e));break;case R.Projection:r.fallbackView!==null&&(e=yx(t.job.views.get(r.fallbackView),n,r.fallbackViewI18nPlaceholder,e));break}return e}function yx(t,e,n,r){if(n!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");r++,LQ(t,e)}return o8(t,r)}function LQ(t,e){if(t.create.head.next?.kind!==R.I18nStart){let n=t.job.allocateXrefId();Ge.insertAfter(X2(n,e.message,e.root,null),t.create.head),Ge.insertBefore(K2(n,null),t.create.tail)}}function OQ(t){for(let e of t.units)for(let n of e.ops())Ki(n,r=>{if(!(r instanceof Zd)||r.body===null)return;let i=new MA(r.args.length);r.fn=t.pool.getSharedConstant(i,r.body),r.body=null})}var MA=class extends rv{numArgs;constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof xf?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,n){let r=[];for(let s=0;s<this.numArgs;s++)r.push(new os("a"+s));let i=_t(n,s=>s instanceof xf?En("a"+s.index):s,Rn.None);return new Ui(e,new qd(r,i),void 0,as.Final)}};function BQ(t){for(let e of t.units)for(let n of e.update)di(n,(r,i)=>i&Rn.InChildOperation?r:r instanceof oc?VQ(r):r instanceof cl?UQ(r):r,Rn.None)}function VQ(t){let e=[],n=[];for(let r of t.entries){if(r instanceof Wd){if(r.expression.isConstant())e.push(r);else{let i=n.length;n.push(r.expression),e.push(new Wd(new xf(i)))}continue}if(r.isConstant())e.push(r);else{let i=n.length;n.push(r),e.push(new xf(i))}}return new Zd(Zn(e),n)}function UQ(t){let e=[],n=[];for(let r of t.entries){if(r instanceof df){if(r.expression.isConstant())e.push(r);else{let i=n.length;n.push(r.expression),e.push(new df(new xf(i)))}continue}if(r.value.isConstant())e.push(r);else{let i=n.length;n.push(r.value),e.push(new s0(r.key,new xf(i),r.quoted))}}return new Zd(new cl(e),n)}function HQ(t){for(let e of t.units)for(let n of e.ops())di(n,r=>r instanceof i0&&(r.flags===null||!r.flags.includes("g"))?t.pool.getSharedConstant(new PA,r):r,Rn.None)}var PA=class extends rv{toSharedConstantDeclaration(e,n){return new Ui(e,n,void 0,as.Final)}};function $Q(t,e,n,r,i){return bf(pe.element,t,e,n,r,i)}function qQ(t,e,n,r,i){return bf(pe.elementStart,t,e,n,r,i)}function bf(t,e,n,r,i,s){let o=[Ie(e)];return n!==null&&o.push(Ie(n)),i!==null?o.push(Ie(r),Ie(i)):r!==null&&o.push(Ie(r)),jt(t,o,s)}function a8(t,e,n,r,i,s,o,a,l){let c=[Ie(e),n,Ie(r),Ie(i),Ie(s),Ie(o)];for(a!==null&&(c.push(Ie(a)),c.push(bt(pe.templateRefExtractor)));c[c.length-1].isEquivalent(o0);)c.pop();return jt(t,c,l)}function yI(t,e,n,r,i){let s=[Ie(e)];return n instanceof jr?s.push(rh(n,i)):s.push(n),r!==null&&s.push(r),jt(t,s,i)}function GQ(t){return jt(pe.elementEnd,[],t)}function WQ(t,e,n,r){return bf(pe.elementContainerStart,t,null,e,n,r)}function jQ(t,e,n,r){return bf(pe.elementContainer,t,null,e,n,r)}function zQ(){return jt(pe.elementContainerEnd,[],null)}function YQ(t,e,n,r,i,s,o,a){return a8(pe.templateCreate,t,e,n,r,i,s,o,a)}function XQ(){return jt(pe.disableBindings,[],null)}function KQ(){return jt(pe.enableBindings,[],null)}function JQ(t,e,n,r,i){let s=[Ie(t),e];return n!==null&&s.push(bt(n)),jt(r?pe.syntheticHostListener:pe.listener,s,i)}function A4(t,e){return bt(pe.twoWayBindingSet).callFn([t,e])}function QQ(t,e,n){return jt(pe.twoWayListener,[Ie(t),e],n)}function ZQ(t,e){return jt(pe.pipe,[Ie(t),Ie(e)],null)}function eZ(){return jt(pe.namespaceHTML,[],null)}function tZ(){return jt(pe.namespaceSVG,[],null)}function nZ(){return jt(pe.namespaceMathML,[],null)}function rZ(t,e){return jt(pe.advance,t>1?[Ie(t)]:[],e)}function iZ(t){return bt(pe.reference).callFn([Ie(t)])}function sZ(t){return bt(pe.nextContext).callFn(t===1?[]:[Ie(t)])}function oZ(){return bt(pe.getCurrentView).callFn([])}function aZ(t){return bt(pe.restoreView).callFn([t])}function lZ(t){return bt(pe.resetView).callFn([t])}function cZ(t,e,n){let r=[Ie(t,null)];return e!==""&&r.push(Ie(e)),jt(pe.text,r,n)}function uZ(t,e,n,r,i,s,o,a,l,c,u){let f=[Ie(t),Ie(e),n??Ie(null),Ie(r),Ie(i),Ie(s),o??Ie(null),a??Ie(null),l?bt(pe.deferEnableTimerScheduling):Ie(null),Ie(u)],d;for(;(d=f[f.length-1])!==null&&d instanceof us&&d.value===null;)f.pop();return jt(pe.defer,f,c)}var fZ=new Map([[sr.Idle,{none:pe.deferOnIdle,prefetch:pe.deferPrefetchOnIdle,hydrate:pe.deferHydrateOnIdle}],[sr.Immediate,{none:pe.deferOnImmediate,prefetch:pe.deferPrefetchOnImmediate,hydrate:pe.deferHydrateOnImmediate}],[sr.Timer,{none:pe.deferOnTimer,prefetch:pe.deferPrefetchOnTimer,hydrate:pe.deferHydrateOnTimer}],[sr.Hover,{none:pe.deferOnHover,prefetch:pe.deferPrefetchOnHover,hydrate:pe.deferHydrateOnHover}],[sr.Interaction,{none:pe.deferOnInteraction,prefetch:pe.deferPrefetchOnInteraction,hydrate:pe.deferHydrateOnInteraction}],[sr.Viewport,{none:pe.deferOnViewport,prefetch:pe.deferPrefetchOnViewport,hydrate:pe.deferHydrateOnViewport}],[sr.Never,{none:pe.deferHydrateNever,prefetch:pe.deferHydrateNever,hydrate:pe.deferHydrateNever}]]);function dZ(t,e,n,r){let i=fZ.get(t)?.[n];if(i===void 0)throw new Error(`Unable to determine instruction for trigger ${t}`);return jt(i,e,r)}function hZ(t){return jt(pe.projectionDef,t?[t]:[],null)}function pZ(t,e,n,r,i,s,o){let a=[Ie(t)];return(e!==0||n!==null||r!==null)&&(a.push(Ie(e)),n!==null&&a.push(n),r!==null&&(n===null&&a.push(Ie(null)),a.push(En(r),Ie(i),Ie(s)))),jt(pe.projection,a,o)}function mZ(t,e,n,r){let i=[Ie(t),Ie(e)];return n!==null&&i.push(Ie(n)),jt(pe.i18nStart,i,r)}function gZ(t,e,n,r,i,s,o,a){let l=[Ie(t),e,Ie(n),Ie(r),Ie(i),Ie(s)];for(o!==null&&(l.push(Ie(o)),l.push(bt(pe.templateRefExtractor)));l[l.length-1].isEquivalent(o0);)l.pop();return jt(pe.conditionalCreate,l,a)}function vZ(t,e,n,r,i,s,o,a){let l=[Ie(t),e,Ie(n),Ie(r),Ie(i),Ie(s)];for(o!==null&&(l.push(Ie(o)),l.push(bt(pe.templateRefExtractor)));l[l.length-1].isEquivalent(o0);)l.pop();return jt(pe.conditionalBranchCreate,l,a)}function yZ(t,e,n,r,i,s,o,a,l,c,u,f,d,h){let g=[Ie(t),En(e),Ie(n),Ie(r),Ie(i),Ie(s),o];return(a||l!==null)&&(g.push(Ie(a)),l!==null&&(g.push(En(l),Ie(c),Ie(u)),(f!==null||d!==null)&&g.push(Ie(f)),d!==null&&g.push(Ie(d)))),jt(pe.repeaterCreate,g,h)}function _Z(t,e){return jt(pe.repeater,[t],e)}function xZ(t,e,n){return t==="prefetch"?jt(pe.deferPrefetchWhen,[e],n):t==="hydrate"?jt(pe.deferHydrateWhen,[e],n):jt(pe.deferWhen,[e],n)}function wZ(t,e){return jt(pe.declareLet,[Ie(t)],e)}function EZ(t,e){return bt(pe.storeLet).callFn([t],e)}function SZ(t){return bt(pe.readContextLet).callFn([Ie(t)])}function CZ(t,e,n,r){let i=[Ie(t),Ie(e)];return n&&i.push(Ie(n)),jt(pe.i18n,i,r)}function bZ(t){return jt(pe.i18nEnd,[],t)}function TZ(t,e){let n=[Ie(t),Ie(e)];return jt(pe.i18nAttributes,n,null)}function AZ(t,e,n){return yI(pe.ariaProperty,t,e,null,n)}function IZ(t,e,n,r){return yI(pe.property,t,e,n,r)}function DZ(t,e,n,r){let i=[];return e instanceof jr?i.push(rh(e,r)):i.push(e),i.push(Ie(t)),n!==null&&i.push(n),jt(pe.control,i,r)}function kZ(t){return jt(pe.controlCreate,[],t)}function NZ(t,e,n,r){let i=[Ie(t),e];return n!==null&&i.push(n),jt(pe.twoWayProperty,i,r)}function MZ(t,e,n,r,i){let s=[Ie(t)];return e instanceof jr?s.push(rh(e,i)):s.push(e),(n!==null||r!==null)&&s.push(n??Ie(null)),r!==null&&s.push(Ie(r)),jt(pe.attribute,s,null)}function PZ(t,e,n,r){let i=[Ie(t)];return e instanceof jr?i.push(rh(e,r)):i.push(e),n!==null&&i.push(Ie(n)),jt(pe.styleProp,i,r)}function FZ(t,e,n){return jt(pe.classProp,[Ie(t),e],n)}function RZ(t,e){let n=t instanceof jr?rh(t,e):t;return jt(pe.styleMap,[n],e)}function LZ(t,e){let n=t instanceof jr?rh(t,e):t;return jt(pe.classMap,[n],e)}function OZ(t,e,n,r,i){return bf(pe.domElement,t,e,n,r,i)}function BZ(t,e,n,r,i){return bf(pe.domElementStart,t,e,n,r,i)}function VZ(t){return jt(pe.domElementEnd,[],t)}function UZ(t,e,n,r){return bf(pe.domElementContainerStart,t,null,e,n,r)}function HZ(t,e,n,r){return bf(pe.domElementContainer,t,null,e,n,r)}function $Z(){return jt(pe.domElementContainerEnd,[],null)}function qZ(t,e,n,r){let i=[Ie(t),e];return n!==null&&i.push(bt(n)),jt(pe.domListener,i,r)}function GZ(t,e,n,r,i,s,o,a){return a8(pe.domTemplate,t,e,n,r,i,s,o,a)}var I4=[pe.pipeBind1,pe.pipeBind2,pe.pipeBind3,pe.pipeBind4];function WZ(t,e,n){if(n.length<1||n.length>I4.length)throw new Error("pipeBind() argument count out of bounds");let r=I4[n.length-1];return bt(r).callFn([Ie(t),Ie(e),...n])}function jZ(t,e,n){return bt(pe.pipeBindV).callFn([Ie(t),Ie(e),n])}function zZ(t,e,n){let r=l8(t,e);return aee(iee,[],r,n)}function YZ(t,e){return jt(pe.i18nExp,[t],e)}function XZ(t,e){return jt(pe.i18nApply,[Ie(t)],e)}function KZ(t,e,n,r){return yI(pe.domProperty,t,e,n,r)}function JZ(t,e,n,r){let i=[e];n!==null&&i.push(n);let s=t==="enter"?pe.animationEnter:pe.animationLeave;return jt(s,i,r)}function QZ(t,e,n,r){let s=[e instanceof jr?rh(e,r):e];n!==null&&s.push(n);let o=t==="enter"?pe.animationEnter:pe.animationLeave;return jt(o,s,r)}function ZZ(t,e,n,r){let i=[e],s=t==="enter"?pe.animationEnterListener:pe.animationLeaveListener;return jt(s,i,r)}function eee(t,e,n){return jt(pe.syntheticHostProperty,[Ie(t),e],n)}function tee(t,e,n){return _I(oee,[Ie(t),e],n,null)}function nee(t,e){return jt(pe.attachSourceLocations,[Ie(t),e],null)}function l8(t,e){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let n=[];if(e.length===1&&t[0]===""&&t[1]==="")n.push(e[0]);else{let r;for(r=0;r<e.length;r++)n.push(Ie(t[r]),e[r]);n.push(Ie(t[r]))}return n}function rh(t,e){let n=l8(t.strings,t.expressions);return _I(see,[],n,e)}function jt(t,e,n){let r=bt(t).callFn(e,n);return ka(new bs(r,n))}function ree(t,e,n){let r=[t];return e!==null&&r.push(e),jt(pe.conditional,r,n)}var iee={constant:[pe.textInterpolate,pe.textInterpolate1,pe.textInterpolate2,pe.textInterpolate3,pe.textInterpolate4,pe.textInterpolate5,pe.textInterpolate6,pe.textInterpolate7,pe.textInterpolate8],variable:pe.textInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},see={constant:[pe.interpolate,pe.interpolate1,pe.interpolate2,pe.interpolate3,pe.interpolate4,pe.interpolate5,pe.interpolate6,pe.interpolate7,pe.interpolate8],variable:pe.interpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},oee={constant:[pe.pureFunction0,pe.pureFunction1,pe.pureFunction2,pe.pureFunction3,pe.pureFunction4,pe.pureFunction5,pe.pureFunction6,pe.pureFunction7,pe.pureFunction8],variable:pe.pureFunctionV,mapping:t=>t};function _I(t,e,n,r){let i=t.mapping(n.length),s=n.at(-1);if(n.length>1&&s instanceof us&&s.value===""&&n.pop(),i<t.constant.length)return bt(t.constant[i]).callFn([...e,...n],r);if(t.variable!==null)return bt(t.variable).callFn([...e,Zn(n)],r);throw new Error("AssertionError: unable to call variadic function")}function aee(t,e,n,r){return ka(_I(t,e,n,r).toStmt())}var lee=new Map([["window",pe.resolveWindow],["document",pe.resolveDocument],["body",pe.resolveBody]]),cee=new Map([["class","className"],["for","htmlFor"],["formaction","formAction"],["innerHtml","innerHTML"],["readonly","readOnly"],["tabindex","tabIndex"]]);function uee(t){for(let e of t.units)fee(e,e.create),xI(e,e.update)}function fee(t,e){for(let n of e)switch(di(n,c8,Rn.None),n.kind){case R.Text:Ge.replace(n,cZ(n.handle.slot,n.initialValue,n.sourceSpan));break;case R.ElementStart:Ge.replace(n,t.job.mode===xo.DomOnly?BZ(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan):qQ(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case R.Element:Ge.replace(n,t.job.mode===xo.DomOnly?OZ(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan):$Q(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan));break;case R.ElementEnd:Ge.replace(n,t.job.mode===xo.DomOnly?VZ(n.sourceSpan):GQ(n.sourceSpan));break;case R.ContainerStart:Ge.replace(n,t.job.mode===xo.DomOnly?UZ(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan):WQ(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan));break;case R.Container:Ge.replace(n,t.job.mode===xo.DomOnly?HZ(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan):jQ(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan));break;case R.ContainerEnd:Ge.replace(n,t.job.mode===xo.DomOnly?$Z():zQ());break;case R.I18nStart:Ge.replace(n,mZ(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case R.I18nEnd:Ge.replace(n,bZ(n.sourceSpan));break;case R.I18n:Ge.replace(n,CZ(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case R.I18nAttributes:if(n.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");Ge.replace(n,TZ(n.handle.slot,n.i18nAttributesConfig));break;case R.Template:if(!(t instanceof Aa))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let r=t.job.views.get(n.xref);Ge.replace(n,n.templateKind===bo.Block||t.job.mode===xo.DomOnly?GZ(n.handle.slot,En(r.fnName),r.decls,r.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan):YQ(n.handle.slot,En(r.fnName),r.decls,r.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case R.DisableBindings:Ge.replace(n,XQ());break;case R.EnableBindings:Ge.replace(n,KQ());break;case R.Pipe:Ge.replace(n,ZQ(n.handle.slot,n.name));break;case R.DeclareLet:Ge.replace(n,wZ(n.handle.slot,n.sourceSpan));break;case R.AnimationString:Ge.replace(n,QZ(n.animationKind,n.expression,n.sanitizer,n.sourceSpan));break;case R.Animation:let i=_x(t,n.handlerFnName,n.handlerOps,!1);Ge.replace(n,JZ(n.animationKind,i,n.sanitizer,n.sourceSpan));break;case R.AnimationListener:let s=_x(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent);Ge.replace(n,ZZ(n.animationKind,s,null,n.sourceSpan));break;case R.Listener:let o=_x(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent),a=n.eventTarget?lee.get(n.eventTarget):null;if(a===void 0)throw new Error(`Unexpected global target '${n.eventTarget}' defined for '${n.name}' event. Supported list of global targets: window,document,body.`);Ge.replace(n,t.job.mode===xo.DomOnly&&!n.hostListener&&!n.isLegacyAnimationListener?qZ(n.name,o,a,n.sourceSpan):JQ(n.name,o,a,n.hostListener&&n.isLegacyAnimationListener,n.sourceSpan));break;case R.TwoWayListener:Ge.replace(n,QQ(n.name,_x(t,n.handlerFnName,n.handlerOps,!0),n.sourceSpan));break;case R.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);Ge.replace(n,ka(new Ui(n.variable.name,n.initializer,void 0,as.Final)));break;case R.Namespace:switch(n.active){case Cs.HTML:Ge.replace(n,eZ());break;case Cs.SVG:Ge.replace(n,tZ());break;case Cs.Math:Ge.replace(n,nZ());break}break;case R.Defer:let l=!!n.loadingMinimumTime||!!n.loadingAfterTime||!!n.placeholderMinimumTime;Ge.replace(n,uZ(n.handle.slot,n.mainSlot.slot,n.resolverFn,n.loadingSlot?.slot??null,n.placeholderSlot?.slot??null,n.errorSlot?.slot??null,n.loadingConfig,n.placeholderConfig,l,n.sourceSpan,n.flags));break;case R.DeferOn:let c=[];switch(n.trigger.kind){case sr.Never:case sr.Idle:case sr.Immediate:break;case sr.Timer:c=[Ie(n.trigger.delay)];break;case sr.Viewport:n.modifier==="hydrate"?c=n.trigger.options?[n.trigger.options]:[]:(c=[Ie(n.trigger.targetSlot?.slot??null)],n.trigger.targetSlotViewSteps!==0?c.push(Ie(n.trigger.targetSlotViewSteps)):n.trigger.options&&c.push(Ie(null)),n.trigger.options&&c.push(n.trigger.options));break;case sr.Interaction:case sr.Hover:n.modifier==="hydrate"?c=[]:(c=[Ie(n.trigger.targetSlot?.slot??null)],n.trigger.targetSlotViewSteps!==0&&c.push(Ie(n.trigger.targetSlotViewSteps)));break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${n.trigger.kind}`)}Ge.replace(n,dZ(n.trigger.kind,c,n.modifier,n.sourceSpan));break;case R.ProjectionDef:Ge.replace(n,hZ(n.def));break;case R.Projection:if(n.handle.slot===null)throw new Error("No slot was assigned for project instruction");let u=null,f=null,d=null;if(n.fallbackView!==null){if(!(t instanceof Aa))throw new Error("AssertionError: must be compiling a component");let D=t.job.views.get(n.fallbackView);if(D===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(D.fnName===null||D.decls===null||D.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");u=D.fnName,f=D.decls,d=D.vars}Ge.replace(n,pZ(n.handle.slot,n.projectionSlotIndex,n.attributes,u,f,d,n.sourceSpan));break;case R.ConditionalCreate:if(!(t instanceof Aa))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let h=t.job.views.get(n.xref);Ge.replace(n,gZ(n.handle.slot,En(h.fnName),h.decls,h.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case R.ConditionalBranchCreate:if(!(t instanceof Aa))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let g=t.job.views.get(n.xref);Ge.replace(n,vZ(n.handle.slot,En(g.fnName),g.decls,g.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case R.RepeaterCreate:if(n.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(t instanceof Aa))throw new Error("AssertionError: must be compiling a component");let v=t.job.views.get(n.xref);if(v.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let x=null,_=null,E=null;if(n.emptyView!==null){let D=t.job.views.get(n.emptyView);if(D===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(D.fnName===null||D.decls===null||D.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");x=D.fnName,_=D.decls,E=D.vars}Ge.replace(n,yZ(n.handle.slot,v.fnName,n.decls,n.vars,n.tag,n.attributes,pee(t,n),n.usesComponentInstance,x,_,E,n.emptyTag,n.emptyAttributes,n.wholeSourceSpan));break;case R.SourceLocation:let C=Zn(n.locations.map(({targetSlot:D,offset:A,line:L,column:I})=>{if(D.slot===null)throw new Error("No slot was assigned for source location");return Zn([Ie(D.slot),Ie(A),Ie(L),Ie(I)])}));Ge.replace(n,nee(n.templatePath,C));break;case R.ControlCreate:Ge.replace(n,kZ(n.sourceSpan));break;case R.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${R[n.kind]}`)}}function xI(t,e){for(let n of e)switch(di(n,c8,Rn.None),n.kind){case R.Advance:Ge.replace(n,rZ(n.delta,n.sourceSpan));break;case R.Property:Ge.replace(n,t.job.mode===xo.DomOnly&&n.bindingKind!==wt.LegacyAnimation&&n.bindingKind!==wt.Animation?D4(n):dee(n));break;case R.Control:Ge.replace(n,hee(n));break;case R.TwoWayProperty:Ge.replace(n,NZ(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case R.StyleProp:Ge.replace(n,PZ(n.name,n.expression,n.unit,n.sourceSpan));break;case R.ClassProp:Ge.replace(n,FZ(n.name,n.expression,n.sourceSpan));break;case R.StyleMap:Ge.replace(n,RZ(n.expression,n.sourceSpan));break;case R.ClassMap:Ge.replace(n,LZ(n.expression,n.sourceSpan));break;case R.I18nExpression:Ge.replace(n,YZ(n.expression,n.sourceSpan));break;case R.I18nApply:Ge.replace(n,XZ(n.handle.slot,n.sourceSpan));break;case R.InterpolateText:Ge.replace(n,zZ(n.interpolation.strings,n.interpolation.expressions,n.sourceSpan));break;case R.Attribute:Ge.replace(n,MZ(n.name,n.expression,n.sanitizer,n.namespace,n.sourceSpan));break;case R.DomProperty:if(n.expression instanceof jr)throw new Error("not yet handled");n.bindingKind===wt.LegacyAnimation||n.bindingKind===wt.Animation?Ge.replace(n,eee(n.name,n.expression,n.sourceSpan)):Ge.replace(n,D4(n));break;case R.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);Ge.replace(n,ka(new Ui(n.variable.name,n.initializer,void 0,as.Final)));break;case R.Conditional:if(n.processed===null)throw new Error("Conditional test was not set.");Ge.replace(n,ree(n.processed,n.contextValue,n.sourceSpan));break;case R.Repeater:Ge.replace(n,_Z(n.collection,n.sourceSpan));break;case R.DeferWhen:Ge.replace(n,xZ(n.modifier,n.expr,n.sourceSpan));break;case R.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${n.declaredName}`);case R.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${R[n.kind]}`)}}function D4(t){return KZ(cee.get(t.name)??t.name,t.expression,t.sanitizer,t.sourceSpan)}function dee(t){return zL(t.name)?AZ(t.name,t.expression,t.sourceSpan):IZ(t.name,t.expression,t.sanitizer,t.sourceSpan)}function hee(t){return DZ(t.name,t.expression,t.sanitizer,t.sourceSpan)}function c8(t){if(!fc(t))return t;switch(t.kind){case It.NextContext:return sZ(t.steps);case It.Reference:return iZ(t.targetSlot.slot+1+t.offset);case It.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${t.name}`);case It.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case It.RestoreView:if(typeof t.view=="number")throw new Error("AssertionError: unresolved RestoreView");return aZ(t.view);case It.ResetView:return lZ(t.expr);case It.GetCurrentView:return oZ();case It.ReadVariable:if(t.name===null)throw new Error(`Read of unnamed variable ${t.xref}`);return En(t.name);case It.ReadTemporaryExpr:if(t.name===null)throw new Error(`Read of unnamed temporary ${t.xref}`);return En(t.name);case It.AssignTemporaryExpr:if(t.name===null)throw new Error(`Assign of unnamed temporary ${t.xref}`);return En(t.name).set(t.expr);case It.PureFunctionExpr:if(t.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return tee(t.varOffset,t.fn,t.args);case It.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case It.PipeBinding:return WZ(t.targetSlot.slot,t.varOffset,t.args);case It.PipeBindingVariadic:return jZ(t.targetSlot.slot,t.varOffset,t.args);case It.SlotLiteralExpr:return Ie(t.slot.slot);case It.ContextLetReference:return SZ(t.targetSlot.slot);case It.StoreLet:return EZ(t.value,t.sourceSpan);case It.TrackContext:return En("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${It[t.kind]}`)}}function _x(t,e,n,r){xI(t,n);let i=[];for(let o of n){if(o.kind!==R.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${R[o.kind]}`);i.push(o.statement)}let s=[];return r&&s.push(new os("$event")),hf(s,i,void 0,void 0,e)}function pee(t,e){if(e.trackByFn!==null)return e.trackByFn;let n=[new os("$index"),new os("$item")],r;if(e.trackByOps===null)r=e.usesComponentInstance?hf(n,[new ls(e.track)]):ac(n,e.track);else{xI(t,e.trackByOps);let i=[];for(let s of e.trackByOps){if(s.kind!==R.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${R[s.kind]}`);i.push(s.statement)}r=e.usesComponentInstance||i.length!==1||!(i[0]instanceof ls)?hf(n,i):ac(n,i[0].value)}return e.trackByFn=t.job.pool.getSharedFunctionReference(r,"_forTrack"),e.trackByFn}function mee(t){for(let e of t.units)for(let n of e.update)switch(n.kind){case R.Attribute:case R.Binding:case R.ClassProp:case R.ClassMap:case R.Property:case R.StyleProp:case R.StyleMap:n.expression instanceof Ov&&Ge.remove(n);break}}function gee(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case R.I18nContext:Ge.remove(n);break;case R.I18nStart:n.context=null;break}}function vee(t){for(let e of t.units)for(let n of e.update){if(n.kind!==R.Variable||n.variable.kind!==Xi.Identifier||!(n.initializer instanceof Fv))continue;let r=n.variable.identifier,i=n;for(;i&&i.kind!==R.ListEnd;)di(i,s=>s instanceof is&&s.name===r?Ie(void 0):s,Rn.None),i=i.prev}}function yee(t){for(let e of t.units){let n=new Set;for(let r of e.update)r.kind===R.I18nExpression&&n.add(r.i18nOwner);for(let r of e.create)switch(r.kind){case R.I18nAttributes:if(n.has(r.xref))continue;Ge.remove(r)}}}function _ee(t){for(let e of t.units)P2(e,e.create),P2(e,e.update)}function P2(t,e){let n=new Map;n.set(t.xref,En("ctx"));for(let r of e)switch(r.kind){case R.Variable:r.variable.kind===Xi.Context&&n.set(r.variable.view,new ru(r.xref));break;case R.Animation:case R.AnimationListener:case R.Listener:case R.TwoWayListener:P2(t,r.handlerOps);break;case R.RepeaterCreate:r.trackByOps!==null&&P2(t,r.trackByOps);break}t===t.job.root&&n.set(t.xref,En("ctx"));for(let r of e)di(r,i=>{if(i instanceof _f){if(!n.has(i.view))throw new Error(`No context found for reference to view ${i.view} from view ${t.xref}`);return n.get(i.view)}else return i},Rn.None)}function xee(t){for(let e of t.units)for(let n of e.create)if(n.kind===R.Defer){if(n.resolverFn!==null)continue;if(n.ownResolverFn!==null){if(n.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let r=e.fnName?.replace("_Template","");n.resolverFn=t.pool.getSharedFunctionReference(n.ownResolverFn,`${r}_Defer_${n.handle.slot}_DepsFn`,!1)}}}function wee(t){for(let e of t.units)k4(e.create),k4(e.update)}function k4(t){for(let e of t)(e.kind===R.Listener||e.kind===R.TwoWayListener||e.kind===R.AnimationListener)&&di(e,n=>n instanceof is&&n.name==="$event"?((e.kind===R.Listener||e.kind===R.AnimationListener)&&(e.consumesDollarEvent=!0),new al(n.name)):n,Rn.InChildOperation)}function Eee(t){let e=new Map,n=new Map;for(let r of t.units)for(let i of r.create)switch(i.kind){case R.I18nContext:e.set(i.xref,i);break;case R.ElementStart:n.set(i.xref,i);break}Kl(t,t.root,e,n)}function Kl(t,e,n,r,i){let s=null,o=new Map;for(let a of e.create)switch(a.kind){case R.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");s={i18nBlock:a,i18nContext:n.get(a.context)};break;case R.I18nEnd:s=null;break;case R.ElementStart:if(a.i18nPlaceholder!==void 0){if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");N4(a,s.i18nContext,s.i18nBlock,i),i&&a.i18nPlaceholder.closeName&&o.set(a.xref,i),i=void 0}break;case R.ElementEnd:let l=r.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(s===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");M4(l,s.i18nContext,s.i18nBlock,o.get(a.xref)),o.delete(a.xref)}break;case R.Projection:if(a.i18nPlaceholder!==void 0){if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");N4(a,s.i18nContext,s.i18nBlock,i),M4(a,s.i18nContext,s.i18nBlock,i),i=void 0}if(a.fallbackView!==null){let d=t.views.get(a.fallbackView);if(a.fallbackViewI18nPlaceholder===void 0)Kl(t,d,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");xx(t,d,a.handle.slot,a.fallbackViewI18nPlaceholder,s.i18nContext,s.i18nBlock,i),Kl(t,d,n,r),wx(t,d,a.handle.slot,a.fallbackViewI18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0}}break;case R.ConditionalCreate:case R.ConditionalBranchCreate:case R.Template:let c=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)Kl(t,c,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===bo.Structural?Kl(t,c,n,r,a):(xx(t,c,a.handle.slot,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),Kl(t,c,n,r),wx(t,c,a.handle.slot,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0)}break;case R.RepeaterCreate:if(i!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let u=a.handle.slot+1,f=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)Kl(t,f,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");xx(t,f,u,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),Kl(t,f,n,r),wx(t,f,u,a.i18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0}if(a.emptyView!==null){let d=a.handle.slot+2,h=t.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)Kl(t,h,n,r);else{if(s===null)throw Error("i18n tag placeholder should only occur inside an i18n block");xx(t,h,d,a.emptyI18nPlaceholder,s.i18nContext,s.i18nBlock,i),Kl(t,h,n,r),wx(t,h,d,a.emptyI18nPlaceholder,s.i18nContext,s.i18nBlock,i),i=void 0}}break}}function N4(t,e,n,r){let{startName:i,closeName:s}=t.i18nPlaceholder,o=mr.ElementTag|mr.OpenTag,a=t.handle.slot;r!==void 0&&(o|=mr.TemplateTag,a={element:a,template:r.handle.slot}),s||(o|=mr.CloseTag),w0(e.params,i,a,n.subTemplateIndex,o)}function M4(t,e,n,r){let{closeName:i}=t.i18nPlaceholder;if(i){let s=mr.ElementTag|mr.CloseTag,o=t.handle.slot;r!==void 0&&(s|=mr.TemplateTag,o={element:o,template:r.handle.slot}),w0(e.params,i,o,n.subTemplateIndex,s)}}function xx(t,e,n,r,i,s,o){let{startName:a,closeName:l}=r,c=mr.TemplateTag|mr.OpenTag;l||(c|=mr.CloseTag),o!==void 0&&w0(i.params,a,o.handle.slot,s.subTemplateIndex,c),w0(i.params,a,n,u8(t,s,e),c)}function wx(t,e,n,r,i,s,o){let{closeName:a}=r,l=mr.TemplateTag|mr.CloseTag;a&&(w0(i.params,a,n,u8(t,s,e),l),o!==void 0&&w0(i.params,a,o.handle.slot,s.subTemplateIndex,l))}function u8(t,e,n){for(let r of n.create)if(r.kind===R.I18nStart)return r.subTemplateIndex;return e.subTemplateIndex}function w0(t,e,n,r,i){let s=t.get(e)??[];s.push({value:n,subTemplateIndex:r,flags:i}),t.set(e,s)}function See(t){let e=new Map,n=new Map,r=new Map;for(let o of t.units)for(let a of o.create)switch(a.kind){case R.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case R.I18nContext:n.set(a.xref,a);break;case R.IcuPlaceholder:r.set(a.xref,a);break}let i=new Map,s=o=>o.usage===S0.I18nText?o.i18nOwner:o.context;for(let o of t.units)for(let a of o.update)if(a.kind===R.I18nExpression){let l=i.get(s(a))||0,c=e.get(a.i18nOwner)??null,u={value:l,subTemplateIndex:c,flags:mr.ExpressionIndex};Cee(a,u,n,r),i.set(s(a),l+1)}}function Cee(t,e,n,r){if(t.i18nPlaceholder!==null){let i=n.get(t.context),s=t.resolutionTime===Mv.Creation?i.params:i.postprocessingParams,o=s.get(t.i18nPlaceholder)||[];o.push(e),s.set(t.i18nPlaceholder,o)}t.icuPlaceholder!==null&&r.get(t.icuPlaceholder)?.expressionPlaceholders.push(e)}function bee(t){for(let e of t.units)F2(e,e.create,null),F2(e,e.update,null)}function F2(t,e,n){let r=new Map,i=new Map;for(let s of e)switch(s.kind){case R.Variable:switch(s.variable.kind){case Xi.Identifier:if(s.variable.local){if(i.has(s.variable.identifier))continue;i.set(s.variable.identifier,s.xref)}else if(r.has(s.variable.identifier))continue;r.set(s.variable.identifier,s.xref);break;case Xi.Alias:if(r.has(s.variable.identifier))continue;r.set(s.variable.identifier,s.xref);break;case Xi.SavedView:n={view:s.variable.view,variable:s.xref};break}break;case R.Animation:case R.AnimationListener:case R.Listener:case R.TwoWayListener:F2(t,s.handlerOps,n);break;case R.RepeaterCreate:s.trackByOps!==null&&F2(t,s.trackByOps,n);break}for(let s of e)s.kind==R.Listener||s.kind===R.TwoWayListener||s.kind===R.Animation||s.kind===R.AnimationListener||di(s,o=>{if(o instanceof is)return i.has(o.name)?new ru(i.get(o.name)):r.has(o.name)?new ru(r.get(o.name)):new ea(new _f(t.job.root.xref),o.name);if(o instanceof g2&&typeof o.view=="number"){if(n===null||n.view!==o.view)throw new Error(`AssertionError: no saved view ${o.view} from view ${t.xref}`);return o.view=new ru(n.variable),o}else return o},Rn.None);for(let s of e)Ki(s,o=>{if(o instanceof is)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${o.name}`)})}var Tee=new Map([[or.HTML,pe.sanitizeHtml],[or.RESOURCE_URL,pe.sanitizeResourceUrl],[or.SCRIPT,pe.sanitizeScript],[or.STYLE,pe.sanitizeStyle],[or.URL,pe.sanitizeUrl],[or.ATTRIBUTE_NO_BINDING,pe.validateAttribute]]),Aee=new Map([[or.HTML,pe.trustConstantHtml],[or.RESOURCE_URL,pe.trustConstantResourceUrl]]);function Iee(t){for(let e of t.units){if(t.kind!==mt.Host){for(let n of e.create)if(n.kind===R.ExtractedAttribute){let r=Aee.get(P4(n.securityContext))??null;n.trustedValueFn=r!==null?bt(r):null}}for(let n of e.update)switch(n.kind){case R.Property:case R.Attribute:case R.DomProperty:let r=null;Array.isArray(n.securityContext)&&n.securityContext.length===2&&n.securityContext.includes(or.URL)&&n.securityContext.includes(or.RESOURCE_URL)?r=pe.sanitizeUrlOrResourceUrl:r=Tee.get(P4(n.securityContext))??null,n.sanitizer=r!==null?bt(r):null;break}}}function P4(t){if(Array.isArray(t)){if(t.length>1)throw Error("AssertionError: Ambiguous security context");return t[0]||or.NONE}return t}function Dee(t){for(let e of t.units){e.create.prepend([lf(e.job.allocateXrefId(),{kind:Xi.SavedView,name:null,view:e.xref},new aA,Ta.None)]);for(let n of e.create){if(n.kind!==R.Listener&&n.kind!==R.TwoWayListener&&n.kind!==R.Animation&&n.kind!==R.AnimationListener)continue;let r=e!==t.root;if(!r)for(let i of n.handlerOps)Ki(i,s=>{(s instanceof p2||s instanceof Rv)&&(r=!0)});r&&kee(e,n)}}}function kee(t,e){e.handlerOps.prepend([lf(t.job.allocateXrefId(),{kind:Xi.Context,name:null,view:t.xref},new g2(t.xref),Ta.None)]);for(let n of e.handlerOps)n.kind===R.Statement&&n.statement instanceof ls&&(n.statement.value=new lA(n.statement.value))}function Nee(t){let e=new Map;for(let n of t.units){let r=0;for(let i of n.create)b0(i)&&(i.handle.slot=r,e.set(i.xref,i.handle.slot),r+=i.numSlotsUsed);n.decls=r}for(let n of t.units)for(let r of n.ops())if(r.kind===R.Template||r.kind===R.ConditionalCreate||r.kind===R.ConditionalBranchCreate||r.kind===R.RepeaterCreate){let i=t.views.get(r.xref);r.decls=i.decls}}function Mee(t){let e=new Set,n=new Map;for(let r of t.units)for(let i of r.ops())i.kind===R.DeclareLet&&n.set(i.xref,i),Ki(i,s=>{s instanceof Rv&&e.add(s.target)});for(let r of t.units)for(let i of r.update)di(i,s=>s instanceof Fv&&!e.has(s.target)?(Pee(s)||Ge.remove(n.get(s.target)),s.value):s,Rn.None)}function Pee(t){let e=!1;return _t(t,n=>((n instanceof eh||n instanceof Lv)&&(e=!0),n),Rn.None),e}function Fee(t){let e=new Set;for(let n of t.units)for(let r of n.ops())Ki(r,i=>{if(i instanceof In)switch(i.operator){case Xe.Exponentiation:Ree(i,e);break;case Xe.NullishCoalesce:Lee(i,e);break;case Xe.And:case Xe.Or:Oee(i,e)}});for(let n of t.units)for(let r of n.ops())di(r,i=>i instanceof ll?e.has(i)?i:i.expr:i,Rn.None)}function Ree(t,e){t.lhs instanceof ll&&t.lhs.expr instanceof Gd&&e.add(t.lhs)}function Lee(t,e){t.lhs instanceof ll&&(F4(t.lhs.expr)||t.lhs.expr instanceof sc)&&e.add(t.lhs),t.rhs instanceof ll&&(F4(t.rhs.expr)||t.rhs.expr instanceof sc)&&e.add(t.rhs)}function Oee(t,e){t.lhs instanceof ll&&t.lhs.expr instanceof In&&t.lhs.expr.operator===Xe.NullishCoalesce&&e.add(t.lhs)}function F4(t){return t instanceof In&&(t.operator===Xe.And||t.operator===Xe.Or)}function Bee(t){for(let e of t.units)for(let n of e.update)if(n.kind===R.Binding)switch(n.bindingKind){case wt.ClassName:if(n.expression instanceof jr)throw new Error("Unexpected interpolation in ClassName binding");Ge.replace(n,cX(n.target,n.name,n.expression,n.sourceSpan));break;case wt.StyleProperty:Ge.replace(n,lX(n.target,n.name,n.expression,n.unit,n.sourceSpan));break;case wt.Property:case wt.Template:n.name==="style"?Ge.replace(n,uX(n.target,n.expression,n.sourceSpan)):n.name==="class"&&Ge.replace(n,fX(n.target,n.expression,n.sourceSpan));break}}function Vee(t){for(let e of t.units)e.create.prepend(R2(e.create)),e.update.prepend(R2(e.update))}function R2(t){let e=0,n=[];for(let r of t){let i=new Map;Ki(r,(c,u)=>{u&Rn.InChildOperation||c instanceof wf&&i.set(c.xref,c)});let s=0,o=new Set,a=new Set,l=new Map;Ki(r,(c,u)=>{u&Rn.InChildOperation||(c instanceof dc?(o.has(c.xref)||(o.add(c.xref),l.set(c.xref,`tmp_${e}_${s++}`)),R4(l,c)):c instanceof wf&&(i.get(c.xref)===c&&(a.add(c.xref),s--),R4(l,c)))}),n.push(...Array.from(new Set(l.values())).map(c=>ka(new Ui(c)))),e++,r.kind===R.Listener||r.kind===R.Animation||r.kind===R.AnimationListener||r.kind===R.TwoWayListener?r.handlerOps.prepend(R2(r.handlerOps)):r.kind===R.RepeaterCreate&&r.trackByOps!==null&&r.trackByOps.prepend(R2(r.trackByOps))}return n}function R4(t,e){let n=t.get(e.xref);if(n===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=n}function Uee(t){for(let e of t.units)for(let n of e.create)if(n.kind===R.RepeaterCreate)if(n.track instanceof al&&n.track.name==="$index")n.trackByFn=bt(pe.repeaterTrackByIndex);else if(n.track instanceof al&&n.track.name==="$item")n.trackByFn=bt(pe.repeaterTrackByIdentity);else if(Hee(t.root.xref,n.track))n.usesComponentInstance=!0,n.track.receiver.receiver.view===e.xref?n.trackByFn=n.track.receiver:(n.trackByFn=bt(pe.componentInstance).callFn([]).prop(n.track.receiver.name),n.track=n.trackByFn);else{n.track=_t(n.track,i=>{if(i instanceof eh||i instanceof Lv)throw new Error("Illegal State: Pipes are not allowed in this context");return i instanceof _f?(n.usesComponentInstance=!0,new oA(i.view)):i},Rn.None);let r=new Ge;r.push(ka(new ls(n.track,n.track.sourceSpan))),n.trackByOps=r}}function Hee(t,e){if(!(e instanceof To)||e.args.length===0||e.args.length>2||!(e.receiver instanceof ea&&e.receiver.receiver instanceof _f)||e.receiver.receiver.view!==t)return!1;let[n,r]=e.args;return!(n instanceof al)||n.name!=="$index"?!1:e.args.length===1?!0:!(!(r instanceof al)||r.name!=="$item")}function $ee(t){for(let e of t.units)for(let n of e.create)n.kind===R.RepeaterCreate&&(n.track=_t(n.track,r=>{if(r instanceof is){if(n.varNames.$index.has(r.name))return En("$index");if(r.name===n.varNames.$implicit)return En("$item")}return r},Rn.None))}function qee(t){for(let e of t.units)for(let n of e.create)n.kind===R.TwoWayListener&&di(n,r=>{if(!(r instanceof v2))return r;let{target:i,value:s}=r;if(i instanceof ea||i instanceof iu)return A4(i,s).or(i.set(s));if(i instanceof ru)return A4(i,s);throw new Error("Unsupported expression in two-way action binding.")},Rn.InChildOperation)}function Gee(t){for(let e of t.units){let n=0;for(let r of e.ops())fT(r)&&(n+=Wee(r));for(let r of e.ops())Ki(r,i=>{fc(i)&&(t.compatibility===na.TemplateDefinitionBuilder&&i instanceof Zd||(qR(i)&&(i.varOffset=n),fT(i)&&(n+=L4(i))))});if(t.compatibility===na.TemplateDefinitionBuilder)for(let r of e.ops())Ki(r,i=>{!fc(i)||!(i instanceof Zd)||(qR(i)&&(i.varOffset=n),fT(i)&&(n+=L4(i)))});e.vars=n}if(t instanceof Vv)for(let e of t.units)for(let n of e.create){if(n.kind!==R.Template&&n.kind!==R.RepeaterCreate&&n.kind!==R.ConditionalCreate&&n.kind!==R.ConditionalBranchCreate)continue;let r=t.views.get(n.xref);n.vars=r.vars}}function Wee(t){let e;switch(t.kind){case R.Attribute:return e=1,t.expression instanceof jr&&!jee(t.expression)&&(e+=t.expression.expressions.length),e;case R.Property:case R.DomProperty:return e=1,t.expression instanceof jr&&(e+=t.expression.expressions.length),e;case R.Control:return 2;case R.TwoWayProperty:return 1;case R.StyleProp:case R.ClassProp:case R.StyleMap:case R.ClassMap:return e=2,t.expression instanceof jr&&(e+=t.expression.expressions.length),e;case R.InterpolateText:return t.interpolation.expressions.length;case R.I18nExpression:case R.Conditional:case R.DeferWhen:case R.StoreLet:return 1;case R.RepeaterCreate:return t.emptyView?1:0;default:throw new Error(`Unhandled op: ${R[t.kind]}`)}}function L4(t){switch(t.kind){case It.PureFunctionExpr:return 1+t.args.length;case It.PipeBinding:return 1+t.args.length;case It.PipeBindingVariadic:return 1+t.numArgs;case It.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${t.constructor.name}`)}}function jee(t){return!(t.expressions.length!==1||t.strings.length!==2||t.strings[0]!==""||t.strings[1]!=="")}function zee(t){for(let e of t.units){Ex(e.create),Ex(e.update);for(let n of e.create)n.kind===R.Listener||n.kind===R.Animation||n.kind===R.AnimationListener||n.kind===R.TwoWayListener?Ex(n.handlerOps):n.kind===R.RepeaterCreate&&n.trackByOps!==null&&Ex(n.trackByOps);Sx(e.create,t.compatibility),Sx(e.update,t.compatibility);for(let n of e.create)n.kind===R.Listener||n.kind===R.Animation||n.kind===R.AnimationListener||n.kind===R.TwoWayListener?Sx(n.handlerOps,t.compatibility):n.kind===R.RepeaterCreate&&n.trackByOps!==null&&Sx(n.trackByOps,t.compatibility)}}var Vi=(function(t){return t[t.None=0]="None",t[t.ViewContextRead=1]="ViewContextRead",t[t.ViewContextWrite=2]="ViewContextWrite",t[t.SideEffectful=4]="SideEffectful",t})(Vi||{});function Ex(t){let e=new Map;for(let n of t)n.kind===R.Variable&&n.flags&Ta.AlwaysInline&&(Ki(n,r=>{if(fc(r)&&wI(r)!==Vi.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(n.xref,n)),di(n,r=>r instanceof ru&&e.has(r.xref)?e.get(r.xref).initializer.clone():r,Rn.None);for(let n of e.values())Ge.remove(n)}function Sx(t,e){let n=new Map,r=new Map,i=new Set,s=new Map;for(let c of t){if(c.kind===R.Variable){if(n.has(c.xref)||r.has(c.xref))throw new Error(`Should not see two declarations of the same variable: ${c.xref}`);n.set(c.xref,c),r.set(c.xref,0)}s.set(c,Yee(c)),Xee(c,r,i)}let o=!1;for(let c of t.reversed()){let u=s.get(c);if(c.kind===R.Variable&&r.get(c.xref)===0){if(o&&u.fences&Vi.ViewContextWrite||u.fences&Vi.SideEffectful){let f=ka(c.initializer.toStmt());s.set(f,u),Ge.replace(c,f)}else Kee(c,r),Ge.remove(c);s.delete(c),n.delete(c.xref),r.delete(c.xref);continue}u.fences&Vi.ViewContextRead&&(o=!0)}let a=[];for(let[c,u]of r){let d=!!(n.get(c).flags&Ta.AlwaysInline);u!==1||d||i.has(c)||a.push(c)}let l;for(;l=a.pop();){let c=n.get(l),u=s.get(c);if(!!(c.flags&Ta.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let d=c.next;d.kind!==R.ListEnd;d=d.next){let h=s.get(d);if(h.variablesUsed.has(l)){if(e===na.TemplateDefinitionBuilder&&!Qee(c,d))break;if(Jee(l,c.initializer,d,u.fences)){h.variablesUsed.delete(l);for(let g of u.variablesUsed)h.variablesUsed.add(g);h.fences|=u.fences,n.delete(l),r.delete(l),s.delete(c),Ge.remove(c)}break}if(!f8(h.fences,u.fences))break}}}function wI(t){switch(t.kind){case It.NextContext:return Vi.ViewContextRead|Vi.ViewContextWrite;case It.RestoreView:return Vi.ViewContextRead|Vi.ViewContextWrite|Vi.SideEffectful;case It.StoreLet:return Vi.SideEffectful;case It.Reference:case It.ContextLetReference:return Vi.ViewContextRead;default:return Vi.None}}function Yee(t){let e=Vi.None,n=new Set;return Ki(t,r=>{fc(r)&&(r.kind===It.ReadVariable?n.add(r.xref):e|=wI(r))}),{fences:e,variablesUsed:n}}function Xee(t,e,n){Ki(t,(r,i)=>{if(!fc(r)||r.kind!==It.ReadVariable)return;let s=e.get(r.xref);s!==void 0&&(e.set(r.xref,s+1),i&Rn.InChildOperation&&n.add(r.xref))})}function Kee(t,e){Ki(t,n=>{if(!fc(n)||n.kind!==It.ReadVariable)return;let r=e.get(n.xref);if(r!==void 0){if(r===0)throw new Error(`Inaccurate variable count: ${n.xref} - found another read but count is already 0`);e.set(n.xref,r-1)}})}function f8(t,e){if(t&Vi.ViewContextWrite){if(e&Vi.ViewContextRead)return!1}else if(t&Vi.ViewContextRead&&e&Vi.ViewContextWrite)return!1;return!0}function Jee(t,e,n,r){let i=!1,s=!0;return di(n,(o,a)=>{if(!fc(o)||i||!s)return o;if(a&Rn.InChildOperation&&r&Vi.ViewContextRead)return o;switch(o.kind){case It.ReadVariable:if(o.xref===t)return i=!0,e;break;default:let l=wI(o);s=s&&f8(l,r);break}return o},Rn.None),i}function Qee(t,e){switch(t.variable.kind){case Xi.Identifier:return t.initializer instanceof al&&t.initializer.name==="ctx";case Xi.Context:return e.kind===R.Variable;default:return!0}}function Zee(t){for(let e of t.units){let n=null,r=null;for(let i of e.create)switch(i.kind){case R.I18nStart:n=i;break;case R.I18nEnd:n=null;break;case R.IcuStart:n===null&&(r=t.allocateXrefId(),Ge.insertBefore(X2(r,i.message,void 0,null),i));break;case R.IcuEnd:r!==null&&(Ge.insertAfter(K2(r,null),i),r=null);break}}}var ete=[{kind:mt.Tmpl,fn:IQ},{kind:mt.Both,fn:HQ},{kind:mt.Host,fn:HK},{kind:mt.Tmpl,fn:fQ},{kind:mt.Tmpl,fn:RQ},{kind:mt.Tmpl,fn:Zee},{kind:mt.Both,fn:lK},{kind:mt.Both,fn:Bee},{kind:mt.Both,fn:zX},{kind:mt.Both,fn:iK},{kind:mt.Both,fn:GX},{kind:mt.Tmpl,fn:aK},{kind:mt.Both,fn:hQ},{kind:mt.Tmpl,fn:mee},{kind:mt.Both,fn:KX},{kind:mt.Both,fn:AQ},{kind:mt.Tmpl,fn:JX},{kind:mt.Tmpl,fn:NQ},{kind:mt.Tmpl,fn:cK},{kind:mt.Tmpl,fn:FQ},{kind:mt.Both,fn:BQ},{kind:mt.Tmpl,fn:LK},{kind:mt.Tmpl,fn:RK},{kind:mt.Tmpl,fn:OK},{kind:mt.Tmpl,fn:Dee},{kind:mt.Both,fn:BX},{kind:mt.Both,fn:wee},{kind:mt.Tmpl,fn:$ee},{kind:mt.Tmpl,fn:vee},{kind:mt.Both,fn:bee},{kind:mt.Tmpl,fn:uK},{kind:mt.Tmpl,fn:qee},{kind:mt.Tmpl,fn:Uee},{kind:mt.Both,fn:_ee},{kind:mt.Both,fn:Iee},{kind:mt.Tmpl,fn:cQ},{kind:mt.Both,fn:mK},{kind:mt.Both,fn:Fee},{kind:mt.Both,fn:Vee},{kind:mt.Both,fn:zee},{kind:mt.Both,fn:Mee},{kind:mt.Tmpl,fn:lQ},{kind:mt.Tmpl,fn:oK},{kind:mt.Tmpl,fn:yee},{kind:mt.Tmpl,fn:$X},{kind:mt.Tmpl,fn:UX},{kind:mt.Tmpl,fn:Nee},{kind:mt.Tmpl,fn:Eee},{kind:mt.Tmpl,fn:See},{kind:mt.Tmpl,fn:kK},{kind:mt.Tmpl,fn:rQ},{kind:mt.Tmpl,fn:VK},{kind:mt.Both,fn:tK},{kind:mt.Tmpl,fn:gee},{kind:mt.Both,fn:Gee},{kind:mt.Tmpl,fn:FK},{kind:mt.Both,fn:pQ},{kind:mt.Tmpl,fn:xee},{kind:mt.Tmpl,fn:vQ},{kind:mt.Tmpl,fn:_Q},{kind:mt.Tmpl,fn:pK},{kind:mt.Tmpl,fn:qX},{kind:mt.Tmpl,fn:wQ},{kind:mt.Both,fn:OQ},{kind:mt.Both,fn:uee},{kind:mt.Both,fn:XX}];function d8(t,e){for(let n of ete)(n.kind===e||n.kind===mt.Both)&&n.fn(t)}function tte(t,e){let n=p8(t.root);return h8(t.root,e),n}function h8(t,e){for(let n of t.job.units){if(n.parent!==t.xref)continue;h8(n,e);let r=p8(n);e.statements.push(r.toDeclStmt(r.name))}}function p8(t){if(t.fnName===null)throw new Error(`AssertionError: view ${t.xref} is unnamed`);let e=[];for(let s of t.create){if(s.kind!==R.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${R[s.kind]}`);e.push(s.statement)}let n=[];for(let s of t.update){if(s.kind!==R.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${R[s.kind]}`);n.push(s.statement)}let r=L2(1,e),i=L2(2,n);return hf([new os("rf"),new os("ctx")],[...r,...i],void 0,void 0,t.fnName)}function L2(t,e){return e.length===0?[]:[G2(new In(Xe.BitwiseAnd,En("rf"),Ie(t)),e)]}function nte(t){if(t.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let s of t.root.create){if(s.kind!==R.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${R[s.kind]}`);e.push(s.statement)}let n=[];for(let s of t.root.update){if(s.kind!==R.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${R[s.kind]}`);n.push(s.statement)}if(e.length===0&&n.length===0)return null;let r=L2(1,e),i=L2(2,n);return hf([new os("rf"),new os("ctx")],[...r,...i],void 0,void 0,t.root.fnName)}var m8=na.TemplateDefinitionBuilder,Ud=new x0,Hd="ng-template",rte="animate.";function Mx(t){return t instanceof Qs}function ite(t){return Mx(t)&&t.nodes.length===1&&t.nodes[0]instanceof a2}function ste(t,e,n,r,i,s,o,a,l,c){let u=new Vv(t,n,m8,r,i,s,o,a,l,c);return ou(u.root,e),u}function ote(t,e,n){let r=new S2(t.componentName,n,m8,xo.DomOnly);for(let i of t.properties??[]){let s=wt.Property;i.name.startsWith("attr.")&&(i.name=i.name.substring(5),s=wt.Attribute),i.isLegacyAnimation&&(s=wt.LegacyAnimation),i.isAnimation&&(s=wt.Animation);let o=e.calcPossibleSecurityContexts(t.componentSelector,i.name,s===wt.Attribute).filter(a=>a!==or.NONE);ate(r,i,s,o)}for(let[i,s]of Object.entries(t.attributes)??[]){let o=e.calcPossibleSecurityContexts(t.componentSelector,i,!0).filter(a=>a!==or.NONE);lte(r,i,s,o)}for(let i of t.events??[])cte(r,i);return r}function ate(t,e,n,r){let i,s=e.expression.ast;s instanceof Xv?i=new jr(s.strings,s.expressions.map(o=>rn(o,t,e.sourceSpan)),[]):i=rn(s,t,e.sourceSpan),t.root.update.push(Qd(t.root.xref,n,e.name,i,null,r,!1,!1,null,null,e.sourceSpan))}function lte(t,e,n,r){let i=Qd(t.root.xref,wt.Attribute,e,n,null,r,!0,!1,null,null,n.sourceSpan);t.root.update.push(i)}function cte(t,e){let n;if(e.type===Js.Animation)n=HL(t.root.xref,new fs,e.name,null,Gv(t.root,e.handler,e.handlerSpan),e.name.endsWith("enter")?"enter":"leave",e.targetOrPhase,!0,e.sourceSpan);else{let[r,i]=e.type!==Js.LegacyAnimation?[null,e.targetOrPhase]:[e.targetOrPhase,null];n=vI(t.root.xref,new fs,e.name,null,Gv(t.root,e.handler,e.handlerSpan),r,i,!0,e.sourceSpan)}t.root.create.push(n)}function ou(t,e){for(let n of e)if(n instanceof cc)ute(t,n);else if(n instanceof Qo)fte(t,n);else if(n instanceof h0)dte(t,n);else if(n instanceof Md)g8(t,n,null);else if(n instanceof u0)v8(t,n,null);else if(n instanceof s2)hte(t,n);else if(n instanceof i2)pte(t,n);else if(n instanceof Kd)mte(t,n);else if(n instanceof dL)vte(t,n);else if(n instanceof d0)yte(t,n);else if(n instanceof oI)xte(t,n);else if(!(n instanceof jg))throw new Error(`Unsupported template node: ${n.constructor.name}`)}function ute(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof Qs||e.i18n instanceof mf))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=t.job.allocateXrefId(),[r,i]=ul(e.name),s=_X(i,n,YL(r),e.i18n instanceof mf?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);t.create.push(s),Ete(t,s,e),x8(s,e);let o=null;e.i18n instanceof Qs&&(o=t.job.allocateXrefId(),t.create.push(X2(o,e.i18n,void 0,e.startSourceSpan))),ou(t,e.children);let a=wX(n,e.endSourceSpan??e.startSourceSpan);t.create.push(a);let l=e.inputs.find(c=>c.name==="formField"&&c.type===Nn.Property);l&&t.create.push(LX(l.sourceSpan)),o!==null&&Ge.insertBefore(K2(o,e.endSourceSpan??e.startSourceSpan),a)}function fte(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof Qs||e.i18n instanceof mf))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let n=t.job.allocateView(t.xref),r=e.tagName,i="";e.tagName&&([i,r]=ul(e.tagName));let s=e.i18n instanceof mf?e.i18n:void 0,o=YL(i),a=r===null?"":eK(r,o),l=wte(e)?bo.NgTemplate:bo.Structural,c=OL(n.xref,l,r,a,o,s,e.startSourceSpan,e.sourceSpan);t.create.push(c),Ste(t,c,e,l),x8(c,e),ou(n,e.children);for(let{name:u,value:f}of e.variables)n.contextVariables.set(u,f!==""?f:"$implicit");if(l===bo.NgTemplate&&e.i18n instanceof Qs){let u=t.job.allocateXrefId();Ge.insertAfter(X2(u,e.i18n,void 0,e.startSourceSpan),n.create.head),Ge.insertBefore(K2(u,e.endSourceSpan??e.startSourceSpan),n.create.tail)}}function dte(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof mf))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=null;e.children.some(s=>!(s instanceof j2)&&(!(s instanceof Md)||s.value.trim().length>0))&&(n=t.job.allocateView(t.xref),ou(n,e.children));let r=t.job.allocateXrefId(),i=IX(r,e.selector,e.i18n,n?.xref??null,e.sourceSpan);for(let s of e.attributes){let o=Ud.securityContext(e.name,s.name,!0);t.update.push(Qd(i.xref,wt.Attribute,s.name,Ie(s.value),null,o,!0,!1,null,tu(s.i18n),s.sourceSpan))}t.create.push(i)}function g8(t,e,n){t.create.push(UL(t.job.allocateXrefId(),e.value,n,e.sourceSpan))}function v8(t,e,n){let r=e.value;if(r instanceof So&&(r=r.ast),!(r instanceof Xv))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${r.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof nu))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let i=e.i18n instanceof nu?e.i18n.children.filter(a=>a instanceof bv).map(a=>a.name):[];if(i.length>0&&i.length!==r.expressions.length)throw Error(`Unexpected number of i18n placeholders (${r.expressions.length}) for BoundText with ${r.expressions.length} expressions`);let s=t.job.allocateXrefId();t.create.push(UL(s,"",n,e.sourceSpan));let o=t.job.compatibility?null:e.sourceSpan;t.update.push(sX(s,new jr(r.strings,r.expressions.map(a=>rn(a,t.job,o)),i),e.sourceSpan))}function hte(t,e){let n=null,r=[];for(let i=0;i<e.branches.length;i++){let s=e.branches[i],o=t.job.allocateView(t.xref),a=O2(t,o.xref,s);s.expressionAlias!==null&&o.contextVariables.set(s.expressionAlias.name,WL);let l;if(s.i18n!==void 0){if(!(s.i18n instanceof gf))throw Error(`Unhandled i18n metadata type for if block: ${s.i18n?.constructor.name}`);l=s.i18n}let u=(i===0?BL:VL)(o.xref,bo.Block,a,"Conditional",Cs.HTML,l,s.startSourceSpan,s.sourceSpan);t.create.push(u),n===null&&(n=o.xref);let f=s.expression?rn(s.expression,t.job,null):null,d=new _2(f,u.xref,u.handle,s.expressionAlias);r.push(d),ou(o,s.children)}t.update.push(FL(n,null,r,e.sourceSpan))}function pte(t,e){if(e.groups.length===0)return;let n=null,r=[];for(let i=0;i<e.groups.length;i++){let s=e.groups[i],o=t.job.allocateView(t.xref),a=O2(t,o.xref,s),l;if(s.i18n!==void 0){if(!(s.i18n instanceof gf))throw Error(`Unhandled i18n metadata type for switch block: ${s.i18n?.constructor.name}`);l=s.i18n}let u=(i===0?BL:VL)(o.xref,bo.Block,a,"Case",Cs.HTML,l,s.startSourceSpan,s.sourceSpan);t.create.push(u),n===null&&(n=o.xref);for(let f of s.cases){let d=f.expression?rn(f.expression,t.job,e.startSourceSpan):null,h=new _2(d,u.xref,u.handle);r.push(h)}ou(o,s.children)}t.update.push(FL(n,rn(e.expression,t.job,null),r,e.sourceSpan))}function Cx(t,e,n,r,i){if(n!==void 0&&!(n instanceof gf))throw Error("Unhandled i18n metadata type for defer block");if(r===void 0)return null;let s=t.job.allocateView(t.xref);ou(s,r);let o=OL(s.xref,bo.Block,null,`Defer${e}`,Cs.HTML,n,i,i);return t.create.push(o),o}function mte(t,e){let n=null;if(t.job.deferMeta.mode===0){if(!t.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");n=t.job.deferMeta.blocks.get(e)??null}let r=Cx(t,"",e.i18n,e.children,e.sourceSpan),i=Cx(t,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),s=Cx(t,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),o=Cx(t,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=t.job.allocateXrefId(),l=DX(a,r.xref,r.handle,n,t.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=s?.xref??null,l.placeholderSlot=s?.handle??null,l.loadingSlot=i?.handle??null,l.errorSlot=o?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,l.flags=gte(e),t.create.push(l);let c=[],u=[];gT("hydrate",e.hydrateTriggers,c,u,t,a),gT("none",e.triggers,c,u,t,a),gT("prefetch",e.prefetchTriggers,c,u,t,a),c.some(d=>d.modifier==="none")||u.some(d=>d.modifier==="none")||c.push(sf(a,{kind:sr.Idle},"none",null)),t.create.push(c),t.update.push(u)}function gte(t){return Object.keys(t.hydrateTriggers).length>0?1:null}function gT(t,e,n,r,i,s){if(e.idle!==void 0){let o=sf(s,{kind:sr.Idle},t,e.idle.sourceSpan);n.push(o)}if(e.immediate!==void 0){let o=sf(s,{kind:sr.Immediate},t,e.immediate.sourceSpan);n.push(o)}if(e.timer!==void 0){let o=sf(s,{kind:sr.Timer,delay:e.timer.delay},t,e.timer.sourceSpan);n.push(o)}if(e.hover!==void 0){let o=sf(s,{kind:sr.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.hover.sourceSpan);n.push(o)}if(e.interaction!==void 0){let o=sf(s,{kind:sr.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.interaction.sourceSpan);n.push(o)}if(e.viewport!==void 0){let o=sf(s,{kind:sr.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null,options:e.viewport.options?rn(e.viewport.options,i.job,e.viewport.sourceSpan):null},t,e.viewport.sourceSpan);n.push(o)}if(e.never!==void 0){let o=sf(s,{kind:sr.Never},t,e.never.sourceSpan);n.push(o)}if(e.when!==void 0){if(e.when.value instanceof Xv)throw new Error("Unexpected interpolation in defer block when trigger");let o=pX(s,rn(e.when.value,i.job,e.when.sourceSpan),t,e.when.sourceSpan);r.push(o)}}function vte(t,e){if(e.i18n instanceof Qs&&ite(e.i18n)){let n=t.job.allocateXrefId();t.create.push(MX(n,e.i18n,mL(e.i18n).name,null));for(let[r,i]of Object.entries(De(De({},e.vars),e.placeholders)))i instanceof u0?v8(t,i,r):g8(t,i,r);t.create.push(PX(n))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function yte(t,e){let n=t.job.allocateView(t.xref),r=`\u0275$index_${n.xref}`,i=`\u0275$count_${n.xref}`,s=new Set;n.contextVariables.set(e.item.name,e.item.value);for(let _ of e.contextVariables)_.value==="$index"&&s.add(_.name),_.name==="$index"?n.contextVariables.set("$index",_.value).set(r,_.value):_.name==="$count"?n.contextVariables.set("$count",_.value).set(i,_.value):n.aliases.add({kind:Xi.Alias,name:null,identifier:_.name,expression:_te(_,r,i)});let o=Oi(e.trackBy.span,e.sourceSpan),a=rn(e.trackBy,t.job,o);ou(n,e.children);let l=null,c=null;e.empty!==null&&(l=t.job.allocateView(t.xref),ou(l,e.empty.children),c=O2(t,l.xref,e.empty));let u={$index:s,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof gf))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof gf))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let f=e.i18n,d=e.empty?.i18n,h=O2(t,n.xref,e),g=xX(n.xref,l?.xref??null,h,a,u,c,f,d,e.startSourceSpan,e.sourceSpan);t.create.push(g);let v=rn(e.expression,t.job,Oi(e.expression.span,e.sourceSpan)),x=hX(g.xref,g.handle,v,e.sourceSpan);t.update.push(x)}function _te(t,e,n){switch(t.value){case"$index":return new is(e);case"$count":return new is(n);case"$first":return new is(e).identical(Ie(0));case"$last":return new is(e).identical(new is(n).minus(Ie(1)));case"$even":return new is(e).modulo(Ie(2)).identical(Ie(0));case"$odd":return new is(e).modulo(Ie(2)).notIdentical(Ie(0));default:throw new Error(`AssertionError: unknown @for loop variable ${t.value}`)}}function xte(t,e){let n=t.job.allocateXrefId();t.create.push(kX(n,e.name,e.sourceSpan)),t.update.push(gX(n,e.name,rn(e.value,t.job,e.valueSpan),e.sourceSpan))}function rn(t,e,n){if(t instanceof So)return rn(t.ast,e,n);if(t instanceof tc)return t.receiver instanceof lc?new is(t.name):new ea(rn(t.receiver,e,n),t.name,null,Oi(t.span,n));if(t instanceof l0){if(t.receiver instanceof lc)throw new Error("Unexpected ImplicitReceiver");return new To(rn(t.receiver,e,n),t.args.map(r=>rn(r,e,n)),void 0,Oi(t.span,n))}else{if(t instanceof Eo)return Ie(t.value,void 0,Oi(t.span,n));if(t instanceof e0)switch(t.operator){case"+":return new Gd(Jg.Plus,rn(t.expr,e,n),void 0,Oi(t.span,n));case"-":return new Gd(Jg.Minus,rn(t.expr,e,n),void 0,Oi(t.span,n));default:throw new Error(`AssertionError: unknown unary operator ${t.operator}`)}else if(t instanceof Ys){let r=QX.get(t.operation);if(r===void 0)throw new Error(`AssertionError: unknown binary operator ${t.operation}`);return new In(r,rn(t.left,e,n),rn(t.right,e,n),void 0,Oi(t.span,n))}else{if(t instanceof sv)return new _f(e.root.xref);if(t instanceof Yd)return new iu(rn(t.receiver,e,n),rn(t.key,e,n),void 0,Oi(t.span,n));if(t instanceof a0)throw new Error("AssertionError: Chain in unknown context");if(t instanceof Xd){let r=t.keys.map((i,s)=>{let o=rn(t.values[s],e,n);return i.kind==="spread"?new df(o):new s0(i.key,o,i.quoted)});return new cl(r,void 0,Oi(t.span,n))}else{if(t instanceof lv)return new oc(t.expressions.map(r=>rn(r,e,n)));if(t instanceof zx)return new sc(rn(t.condition,e,n),rn(t.trueExp,e,n),rn(t.falseExp,e,n),void 0,Oi(t.span,n));if(t instanceof dv)return rn(t.expression,e,n);if(t instanceof Yx)return new eh(e.allocateXrefId(),new fs,t.name,[rn(t.exp,e,n),...t.args.map(r=>rn(r,e,n))]);if(t instanceof av)return new v0(rn(t.receiver,e,n),rn(t.key,e,n),Oi(t.span,n));if(t instanceof ov)return new g0(rn(t.receiver,e,n),t.name);if(t instanceof Kx)return new th(rn(t.receiver,e,n),t.args.map(r=>rn(r,e,n)));if(t instanceof zs)return new Ov(Oi(t.span,n));if(t instanceof cv)return yz(rn(t.expression,e,n),Oi(t.span,n));if(t instanceof uv)return Yv(rn(t.expression,e,n));if(t instanceof fv)return new Bx(rn(t.expression,e,n),void 0,Oi(t.span,n));if(t instanceof pv)return O4(t,e,n);if(t instanceof hv)return new Qg(rn(t.tag,e,n),O4(t.template,e,n),void 0,Oi(t.span,n));if(t instanceof mv)return new ll(rn(t.expression,e,n),void 0,Oi(t.span,n));if(t instanceof Qx)return new i0(t.body,t.flags,n);if(t instanceof Xx)return new Wd(rn(t.expression,e,n));throw new Error(`Unhandled expression type "${t.constructor.name}" in file "${n?.start.file.url}"`)}}}}function O4(t,e,n){return new ev(t.elements.map(r=>new Vx(r.text,Oi(r.span,n))),t.expressions.map(r=>rn(r,e,n)),Oi(t.span,n))}function FA(t,e,n,r){let i;return e instanceof Xv?i=new jr(e.strings,e.expressions.map(s=>rn(s,t,null)),Object.keys(tu(n)?.placeholders??{})):e instanceof gr?i=rn(e,t,null):i=Ie(e),i}var y8=new Map([[Nn.Property,wt.Property],[Nn.TwoWay,wt.TwoWayProperty],[Nn.Attribute,wt.Attribute],[Nn.Class,wt.ClassName],[Nn.Style,wt.StyleProperty],[Nn.LegacyAnimation,wt.LegacyAnimation],[Nn.Animation,wt.Animation]]);function wte(t){return ul(t.tagName??"")[1]===Hd}function tu(t){if(t==null)return null;if(!(t instanceof Qs))throw Error(`Expected i18n meta to be a Message, but got: ${t.constructor.name}`);return t}function Ete(t,e,n){let r=new Array,i=new Set;for(let s of n.attributes){let o=Ud.securityContext(n.name,s.name,!0);r.push(Qd(e.xref,wt.Attribute,s.name,FA(t.job,s.value,s.i18n),null,o,!0,!1,null,tu(s.i18n),s.sourceSpan)),s.i18n&&i.add(s.name)}for(let s of n.inputs)i.has(s.name)&&console.error(`On component ${t.job.componentName}, the binding ${s.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),r.push(Qd(e.xref,y8.get(s.type),s.name,FA(t.job,Wv(s.value),s.i18n),s.unit,s.securityContext,!1,!1,null,tu(s.i18n)??null,s.sourceSpan));t.create.push(r.filter(s=>s?.kind===R.ExtractedAttribute)),t.update.push(r.filter(s=>s?.kind===R.Binding));for(let s of n.outputs){if(s.type===Js.LegacyAnimation&&s.phase===null)throw Error("Animation listener should have a phase");s.type===Js.TwoWay?t.create.push($L(e.xref,e.handle,s.name,e.tag,_8(t,s.handler,s.handlerSpan),s.sourceSpan)):s.type===Js.Animation?t.create.push(HL(e.xref,e.handle,s.name,e.tag,Gv(t,s.handler,s.handlerSpan),s.name.endsWith("enter")?"enter":"leave",s.target,!1,s.sourceSpan)):t.create.push(vI(e.xref,e.handle,s.name,e.tag,Gv(t,s.handler,s.handlerSpan),s.phase,s.target,!1,s.sourceSpan))}r.some(s=>s?.i18nMessage)!==null&&t.create.push(GL(t.job.allocateXrefId(),new fs,e.xref))}function Ste(t,e,n,r){let i=new Array;for(let s of n.templateAttrs)if(s instanceof f0){let o=Ud.securityContext(Hd,s.name,!0);i.push(bx(t,e.xref,Nn.Attribute,s.name,s.value,null,o,!0,r,tu(s.i18n),s.sourceSpan))}else i.push(bx(t,e.xref,s.type,s.name,Wv(s.value),s.unit,s.securityContext,!0,r,tu(s.i18n),s.sourceSpan));for(let s of n.attributes){let o=Ud.securityContext(Hd,s.name,!0);i.push(bx(t,e.xref,Nn.Attribute,s.name,s.value,null,o,!1,r,tu(s.i18n),s.sourceSpan))}for(let s of n.inputs)i.push(bx(t,e.xref,s.type,s.name,Wv(s.value),s.unit,s.securityContext,!1,r,tu(s.i18n),s.sourceSpan));t.create.push(i.filter(s=>s?.kind===R.ExtractedAttribute)),t.update.push(i.filter(s=>s?.kind===R.Binding));for(let s of n.outputs){if(s.type===Js.LegacyAnimation&&s.phase===null)throw Error("Animation listener should have a phase");if(r===bo.NgTemplate&&(s.type===Js.TwoWay?t.create.push($L(e.xref,e.handle,s.name,e.tag,_8(t,s.handler,s.handlerSpan),s.sourceSpan)):t.create.push(vI(e.xref,e.handle,s.name,e.tag,Gv(t,s.handler,s.handlerSpan),s.phase,s.target,!1,s.sourceSpan))),r===bo.Structural&&s.type!==Js.LegacyAnimation){let o=Ud.securityContext(Hd,s.name,!1);t.create.push(zo(e.xref,wt.Property,null,s.name,null,null,null,o))}}i.some(s=>s?.i18nMessage)!==null&&t.create.push(GL(t.job.allocateXrefId(),new fs,e.xref))}function bx(t,e,n,r,i,s,o,a,l,c,u){let f=typeof i=="string";if(l===bo.Structural){if(!a)switch(n){case Nn.Property:case Nn.Class:case Nn.Style:return zo(e,wt.Property,null,r,null,null,c,o);case Nn.TwoWay:return zo(e,wt.TwoWayProperty,null,r,null,null,c,o)}if(!f&&(n===Nn.Attribute||n===Nn.LegacyAnimation||n===Nn.Animation))return null}let d=y8.get(n);return l===bo.NgTemplate&&(n===Nn.Class||n===Nn.Style||n===Nn.Attribute&&!f)&&(d=wt.Property),Qd(e,d,r,FA(t.job,i,c),s,o,f,a,l,c,u)}function Gv(t,e,n){e=Wv(e);let r=new Array,i=e instanceof a0?e.expressions:[e];if(i.length===0)throw new Error("Expected listener to have non-empty expression list.");let s=i.map(a=>rn(a,t.job,n)),o=s.pop();return r.push(...s.map(a=>ka(new bs(a,a.sourceSpan)))),r.push(ka(new ls(o,o.sourceSpan))),r}function _8(t,e,n){e=Wv(e);let r=new Array;if(e instanceof a0)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let i=rn(e,t.job,n),s=new is("$event"),o=new v2(i,s);return r.push(ka(new bs(o))),r.push(ka(new ls(s))),r}function Wv(t){return t instanceof So?t.ast:t}function x8(t,e){Cte(t.localRefs);for(let{name:n,value:r}of e.references)t.localRefs.push({name:n,target:r})}function Cte(t){if(!Array.isArray(t))throw new Error("AssertionError: expected an array")}function Oi(t,e){if(e===null)return null;let n=e.start.moveBy(t.start),r=e.start.moveBy(t.end),i=e.fullStart.moveBy(t.start);return new Ot(n,r,i)}function O2(t,e,n){let r=null;for(let i of n.children)if(!(i instanceof j2||i instanceof oI)){if(r!==null)return null;if(i instanceof cc||i instanceof Qo&&i.tagName!==null)r=i;else return null}if(r!==null){for(let s of r.attributes)if(!s.name.startsWith(rte)){let o=Ud.securityContext(Hd,s.name,!0);t.update.push(Qd(e,wt.Attribute,s.name,Ie(s.value),null,o,!0,!1,null,tu(s.i18n),s.sourceSpan))}for(let s of r.inputs)if(s.type!==Nn.LegacyAnimation&&s.type!==Nn.Animation&&s.type!==Nn.Attribute){let o=Ud.securityContext(Hd,s.name,!0);t.create.push(zo(e,wt.Property,null,s.name,null,null,null,o))}let i=r instanceof cc?r.name:r.tagName;return i===Hd?null:i}return null}var bte=!1;function Tte(){return bte}function B2(t,e){return G2(En(cI).bitwiseAnd(Ie(t),null),e)}function Ate(t){return(t.descendants?1:0)|(t.static?2:0)|(t.emitDistinctChangesOnly?4:0)}function Ite(t,e){if(Array.isArray(t.predicate)){let n=[];return t.predicate.forEach(r=>{let i=r.split(",").map(s=>Ie(s.trim()));n.push(...i)}),e.getConstLiteral(Zn(n),!0)}else switch(t.predicate.forwardRef){case 0:case 2:return t.predicate.expression;case 1:return bt(pe.resolveForwardRef).callFn([t.predicate.expression])}}function w8(t,e,n){let r=[];return n!==void 0&&r.push(...n),t.isSignal&&r.push(new ea(En(Tv),t.propertyName)),r.push(Ite(t,e),Ie(Ate(t))),t.read&&r.push(t.read),r}var EI=Symbol("queryAdvancePlaceholder");function E8(t){let e=[],n=0,r=()=>{n>0&&(e.unshift(bt(pe.queryAdvance).callFn(n===1?[]:[Ie(n)]).toStmt()),n=0)};for(let i=t.length-1;i>=0;i--){let s=t[i];s===EI?n++:(r(),e.unshift(s))}return r(),e}function Dte(t,e,n){let r=[],i=[],s=gL(c=>i.push(c),lI),o=null,a=null;t.forEach(c=>{let u=w8(c,e);if(c.isSignal?(o??=bt(pe.viewQuerySignal),o=o.callFn(u)):(a??=bt(pe.viewQuery),a=a.callFn(u)),c.isSignal){i.push(EI);return}let f=s(),d=bt(pe.loadQuery).callFn([]),h=bt(pe.queryRefresh).callFn([f.set(d)]),g=En(Tv).prop(c.propertyName).set(c.first?f.prop("first"):f);i.push(h.and(g).toStmt())}),o!==null&&r.push(new bs(o)),a!==null&&r.push(new bs(a));let l=n?`${n}_Query`:null;return hf([new os(cI,rI),new os(Tv,null)],[B2(1,r),B2(2,E8(i))],ol,null,l)}function kte(t,e,n){let r=[],i=[],s=gL(c=>i.push(c),lI),o=null,a=null;for(let c of t){let u=w8(c,e,[En("dirIndex")]);if(c.isSignal?(o??=bt(pe.contentQuerySignal),o=o.callFn(u)):(a??=bt(pe.contentQuery),a=a.callFn(u)),c.isSignal){i.push(EI);continue}let f=s(),d=bt(pe.loadQuery).callFn([]),h=bt(pe.queryRefresh).callFn([f.set(d)]),g=En(Tv).prop(c.propertyName).set(c.first?f.prop("first"):f);i.push(h.and(g).toStmt())}o!==null&&r.push(new bs(o)),a!==null&&r.push(new bs(a));let l=n?`${n}_ContentQueries`:null;return hf([new os(cI,rI),new os(Tv,null),new os("dirIndex",null)],[B2(1,r),B2(2,E8(i))],ol,null,l)}var RA=class extends nJ{constructor(){super(AA)}parse(e,n,r){return super.parse(e,n,r)}},Tx=".",Nte="attr",vT="animate",Mte="class",Pte="style",Fte="*",yT="animate-",LA=class{_exprParser;_schemaRegistry;errors;constructor(e,n,r){this._exprParser=e,this._schemaRegistry=n,this.errors=r}createBoundHostProperties(e,n){let r=[];for(let i of Object.keys(e)){let s=e[i];typeof s=="string"?this.parsePropertyBinding(i,s,!0,!1,n,n.start.offset,void 0,[],r,n):this._reportError(`Value of the host property binding "${i}" needs to be a string representing an expression but got "${s}" (${typeof s})`,n)}return r}createDirectiveHostEventAsts(e,n){let r=[];for(let i of Object.keys(e)){let s=e[i];typeof s=="string"?this.parseEvent(i,s,!1,n,n,[],r,n):this._reportError(`Value of the host listener "${i}" needs to be a string representing an expression but got "${s}" (${typeof s})`,n)}return r}parseInterpolation(e,n,r){let i=n.fullStart.offset;try{let s=this._exprParser.parseInterpolation(e,n,i,r);return s&&this.errors.push(...s.errors),s}catch(s){return this._reportError(`${s}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,i)}}parseInterpolationExpression(e,n){let r=n.start.offset;try{let i=this._exprParser.parseInterpolationExpression(e,n,r);return i&&this.errors.push(...i.errors),i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}parseInlineTemplateBinding(e,n,r,i,s,o,a,l){let c=r.start.offset+Fte.length,u=this._parseTemplateBindings(e,n,r,c,i);for(let f of u){let d=nf(r,f.sourceSpan),h=f.key.source,g=nf(r,f.key.span);if(f instanceof gv){let v=f.value?f.value.source:"$implicit",x=f.value?nf(r,f.value.span):void 0;a.push(new BT(h,v,d,g,x))}else if(f.value){let v=l?d:r,x=nf(r,f.value.ast.sourceSpan);this._parsePropertyAst(h,f.value,!1,v,g,x,s,o)}else s.push([h,""]),this.parseLiteralAttr(h,null,g,i,void 0,s,o,g)}}_parseTemplateBindings(e,n,r,i,s){try{let o=this._exprParser.parseTemplateBindings(e,n,r,i,s);return o.errors.forEach(a=>this.errors.push(a)),o.warnings.forEach(a=>{this._reportError(a,r,cf.WARNING)}),o.templateBindings}catch(o){return this._reportError(`${o}`,r),[]}}parseLiteralAttr(e,n,r,i,s,o,a,l){_T(e)?(e=e.substring(1),l!==void 0&&(l=nf(l,new Ko(l.start.offset+1,l.end.offset))),n&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',r,cf.ERROR),this._parseLegacyAnimation(e,n,r,i,l,s,o,a)):a.push(new Yp(e,this._exprParser.wrapLiteralPrimitive(n,"",i),Jl.LITERAL_ATTR,r,l,s))}parsePropertyBinding(e,n,r,i,s,o,a,l,c,u){e.length===0&&this._reportError("Property name is missing in binding",s);let f=!1;e.startsWith(yT)?(f=!0,e=e.substring(yT.length),u!==void 0&&(u=nf(u,new Ko(u.start.offset+yT.length,u.end.offset)))):_T(e)&&(f=!0,e=e.substring(1),u!==void 0&&(u=nf(u,new Ko(u.start.offset+1,u.end.offset)))),f?this._parseLegacyAnimation(e,n,s,o,u,a,l,c):e.startsWith(`${vT}${Tx}`)?this._parseAnimation(e,this.parseBinding(n,r,a||s,o),s,u,a,l,c):this._parsePropertyAst(e,this.parseBinding(n,r,a||s,o),i,s,u,a,l,c)}parsePropertyInterpolation(e,n,r,i,s,o,a,l){let c=this.parseInterpolation(n,i||r,l);return c?(this._parsePropertyAst(e,c,!1,r,a,i,s,o),!0):!1}_parsePropertyAst(e,n,r,i,s,o,a,l){a.push([e,n.source]),l.push(new Yp(e,n,r?Jl.TWO_WAY:Jl.DEFAULT,i,s,o))}_parseAnimation(e,n,r,i,s,o,a){o.push([e,n.source]),a.push(new Yp(e,n,Jl.ANIMATION,r,i,s))}_parseLegacyAnimation(e,n,r,i,s,o,a,l){e.length===0&&this._reportError("Animation trigger is missing",r);let c=this.parseBinding(n||"undefined",!1,o||r,i);a.push([e,c.source]),l.push(new Yp(e,c,Jl.LEGACY_ANIMATION,r,s,o))}parseBinding(e,n,r,i){try{let s=n?this._exprParser.parseSimpleBinding(e,r,i):this._exprParser.parseBinding(e,r,i);return s&&this.errors.push(...s.errors),s}catch(s){return this._reportError(`${s}`,r),this._exprParser.wrapLiteralPrimitive("ERROR",r,i)}}createBoundElementProperty(e,n,r=!1,i=!0){if(n.isLegacyAnimation)return new e2(n.name,Nn.LegacyAnimation,or.NONE,n.expression,null,n.sourceSpan,n.keySpan,n.valueSpan);let s=null,o,a=null,l=n.name.split(Tx),c;if(l.length>1)if(l[0]==Nte){a=l.slice(1).join(Tx),r||this._validatePropertyOrAttributeName(a,n.sourceSpan,!0),c=xT(this._schemaRegistry,e,a,!0);let u=a.indexOf(":");if(u>-1){let f=a.substring(0,u),d=a.substring(u+1);a=Dx(f,d)}o=Nn.Attribute}else l[0]==Mte?(a=l[1],o=Nn.Class,c=[or.NONE]):l[0]==Pte?(s=l.length>2?l[2]:null,a=l[1],o=Nn.Style,c=[or.STYLE]):l[0]==vT&&(a=n.name,o=Nn.Animation,c=[or.NONE]);if(a===null){let u=this._schemaRegistry.getMappedPropName(n.name);a=i?u:n.name,c=xT(this._schemaRegistry,e,u,!1),o=n.type===Jl.TWO_WAY?Nn.TwoWay:Nn.Property,r||this._validatePropertyOrAttributeName(u,n.sourceSpan,!1)}return new e2(a,o,c[0],n.expression,s,n.sourceSpan,n.keySpan,n.valueSpan)}parseEvent(e,n,r,i,s,o,a,l){e.length===0&&this._reportError("Event name is missing in binding",i),_T(e)?(e=e.slice(1),l!==void 0&&(l=nf(l,new Ko(l.start.offset+1,l.end.offset))),this._parseLegacyAnimationEvent(e,n,i,s,a,l)):this._parseRegularEvent(e,n,r,i,s,o,a,l)}calcPossibleSecurityContexts(e,n,r){let i=this._schemaRegistry.getMappedPropName(n);return xT(this._schemaRegistry,e,i,r)}parseEventListenerName(e){let[n,r]=Az(e,[null,e]);return{eventName:r,target:n}}parseLegacyAnimationEventName(e){let n=Iz(e,[e,null]);return{eventName:n[0],phase:n[1]===null?null:n[1].toLowerCase()}}_parseLegacyAnimationEvent(e,n,r,i,s,o){let{eventName:a,phase:l}=this.parseLegacyAnimationEventName(e),c=this._parseAction(n,i);s.push(new Zx(a,l,Js.LegacyAnimation,c,r,i,o)),a.length===0&&this._reportError("Animation event name is missing in binding",r),l?l!=="start"&&l!=="done"&&this._reportError(`The provided animation output phase value "${l}" for "@${a}" is not supported (use start or done)`,r):this._reportError(`The animation trigger output event (@${a}) is missing its phase value name (start or done are currently supported)`,r)}_parseRegularEvent(e,n,r,i,s,o,a,l){let{eventName:c,target:u}=this.parseEventListenerName(e),f=this.errors.length,d=this._parseAction(n,s),h=this.errors.length===f;o.push([e,d.source]),r&&h&&!this._isAllowedAssignmentEvent(d)&&this._reportError("Unsupported expression in a two-way binding",i);let g=Js.Regular;r&&(g=Js.TwoWay),e.startsWith(`${vT}${Tx}`)&&(g=Js.Animation),a.push(new Zx(c,u,g,d,i,s,l))}_parseAction(e,n){let r=n&&n.start?n.start.offset:0;try{let i=this._exprParser.parseAction(e,n,r);return i&&this.errors.push(...i.errors),!i||i.ast instanceof zs?(this._reportError("Empty expressions are not allowed",n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}_reportError(e,n,r=cf.ERROR){this.errors.push(new Mt(n,e,r))}_validatePropertyOrAttributeName(e,n,r){let i=r?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);i.error&&this._reportError(i.msg,n,cf.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof So?this._isAllowedAssignmentEvent(e.ast):e instanceof dv?this._isAllowedAssignmentEvent(e.expression):e instanceof l0&&e.args.length===1&&e.receiver instanceof tc&&e.receiver.name==="$any"&&e.receiver.receiver instanceof lc?this._isAllowedAssignmentEvent(e.args[0]):(e instanceof tc||e instanceof Yd)&&!OA(e)}};function OA(t){return t instanceof ov||t instanceof av?!0:t instanceof mv?OA(t.expression):t instanceof tc||t instanceof Yd||t instanceof l0?OA(t.receiver):!1}function _T(t){return t[0]=="@"}function xT(t,e,n,r){let i,s=o=>t.securityContext(o,n,r);return e===null?i=t.allKnownElementNames().map(s):(i=[],n0.parse(e).forEach(o=>{let a=o.element?[o.element]:t.allKnownElementNames(),l=new Set(o.notSelectors.filter(u=>u.isElementSelector()).map(u=>u.element)),c=a.filter(u=>!l.has(u));i.push(...c.map(s))})),i.length===0?[or.NONE]:Array.from(new Set(i)).sort()}function nf(t,e){let n=e.start-t.start.offset,r=e.end-t.end.offset;return new Ot(t.start.moveBy(n),t.end.moveBy(r),t.fullStart.moveBy(n),t.details)}function Rte(t){if(t==null||t.length===0||t[0]=="/")return!1;let e=t.match(Lte);return e===null||e[1]=="package"||e[1]=="asset"}var Lte=/^([^:/?#]+):/,Ote="select",Bte="link",Vte="rel",Ute="href",Hte="stylesheet",$te="style",qte="script",Gte="ngNonBindable",Wte="ngProjectAs";function S8(t){let e=null,n=null,r=null,i=!1,s="";t.attrs.forEach(l=>{let c=l.name.toLowerCase();c==Ote?e=l.value:c==Ute?n=l.value:c==Vte?r=l.value:l.name==Gte?i=!0:l.name==Wte&&l.value.length>0&&(s=l.value)}),e=jte(e);let o=t.name.toLowerCase(),a=Xo.OTHER;return VT(o)?a=Xo.NG_CONTENT:o==$te?a=Xo.STYLE:o==qte?a=Xo.SCRIPT:o==Bte&&r==Hte&&(a=Xo.STYLESHEET),new BA(a,e,n,i,s)}var Xo=(function(t){return t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER",t})(Xo||{}),BA=class{type;selectAttr;hrefAttr;nonBindable;projectAs;constructor(e,n,r,i,s){this.type=e,this.selectAttr=n,this.hrefAttr=r,this.nonBindable=i,this.projectAs=s}};function jte(t){return t===null||t.length===0?"*":t}var zte=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,Yte=/^track\s+([\S\s]*)/,Xte=/^(as\s+)(.*)/,J2=/^else[^\S\r\n]+if/,Kte=/^let\s+([\S\s]*)/,Jte=/^[$A-Z_][0-9A-Z_$]*$/i,B4=/(\s*)(\S+)(\s*)/,Kg=new Set(["$index","$first","$last","$even","$odd","$count"]);function V4(t){return t==="empty"}function U4(t){return t==="else"||J2.test(t)}function Qte(t,e,n,r){let i=ine(e),s=[],o=H4(t,i,r);o!==null&&s.push(new Rd(o.expression,Ir(n,t.children,t.children),o.expressionAlias,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan,t.i18n));for(let f of e)if(J2.test(f.name)){let d=H4(f,i,r);if(d!==null){let h=Ir(n,f.children,f.children);s.push(new Rd(d.expression,h,d.expressionAlias,f.sourceSpan,f.startSourceSpan,f.endSourceSpan,f.nameSpan,f.i18n))}}else if(f.name==="else"){let d=Ir(n,f.children,f.children);s.push(new Rd(null,d,null,f.sourceSpan,f.startSourceSpan,f.endSourceSpan,f.nameSpan,f.i18n))}let a=s.length>0?s[0].startSourceSpan:t.startSourceSpan,l=s.length>0?s[s.length-1].endSourceSpan:t.endSourceSpan,c=t.sourceSpan,u=s[s.length-1];return u!==void 0&&(c=new Ot(a.start,u.sourceSpan.end)),{node:new s2(s,c,t.startSourceSpan,l,t.nameSpan),errors:i}}function Zte(t,e,n,r){let i=[],s=tne(t,i,r),o=null,a=null;for(let l of e)l.name==="empty"?a!==null?i.push(new Mt(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?i.push(new Mt(l.sourceSpan,"@empty block cannot have parameters")):a=new Ev(Ir(n,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):i.push(new Mt(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(s!==null)if(s.trackBy===null)i.push(new Mt(t.startSourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??t.endSourceSpan,c=new Ot(t.sourceSpan.start,l?.end??t.sourceSpan.end);nne(s.trackBy.expression,s.trackBy.keywordSpan,i),o=new d0(s.itemName,s.expression,s.trackBy.expression,s.trackBy.keywordSpan,s.context,Ir(n,t.children,t.children),a,c,t.sourceSpan,t.startSourceSpan,l,t.nameSpan,t.i18n)}return{node:o,errors:i}}function ene(t,e,n){let r=sne(t),i=t.parameters.length>0?jv(t.parameters[0],n):n.parseBinding("",!1,t.sourceSpan,0),s=[],o=[],a=[],l=null;for(let u of t.children){if(!(u instanceof ba))continue;if((u.name!=="case"||u.parameters.length===0)&&u.name!=="default"){o.push(new o2(u.name,u.sourceSpan,u.nameSpan));continue}let f=u.name==="case",d=null;f&&(d=jv(u.parameters[0],n));let h=new zT(d,u.sourceSpan,u.startSourceSpan,u.endSourceSpan,u.nameSpan);if(a.push(h),u.children.length===0&&u.endSourceSpan!==null&&u.endSourceSpan.start.offset===u.endSourceSpan.end.offset){l===null&&(l=u.sourceSpan);continue}let v=u.sourceSpan,x=u.startSourceSpan;l!==null&&(v=new Ot(l.start,u.sourceSpan.end),x=new Ot(l.start,u.startSourceSpan.end),l=null);let _=new wv(a,Ir(e,u.children,u.children),v,x,u.endSourceSpan,u.nameSpan,u.i18n);s.push(_),a=[]}return{node:new i2(i,s,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan),errors:r}}function tne(t,e,n){if(t.parameters.length===0)return e.push(new Mt(t.startSourceSpan,"@for loop does not have an expression")),null;let[r,...i]=t.parameters,s=one(r,e)?.match(zte);if(!s||s[2].trim().length===0)return e.push(new Mt(r.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,a]=s;Kg.has(o)&&e.push(new Mt(r.sourceSpan,`@for loop item name cannot be one of ${Array.from(Kg).join(", ")}.`));let l=r.expression.split(" ")[0],c=new Ot(r.sourceSpan.start,r.sourceSpan.start.moveBy(l.length)),u={itemName:new pf(o,"$implicit",c,c),trackBy:null,expression:jv(r,n,a),context:Array.from(Kg,f=>{let d=new Ot(t.startSourceSpan.end,t.startSourceSpan.end);return new pf(f,f,d,d)})};for(let f of i){let d=f.expression.match(Kte);if(d!==null){let g=new Ot(f.sourceSpan.start.moveBy(d[0].length-d[1].length),f.sourceSpan.end);rne(f.sourceSpan,d[1],g,o,u.context,e);continue}let h=f.expression.match(Yte);if(h!==null){if(u.trackBy!==null)e.push(new Mt(f.sourceSpan,'@for loop can only have one "track" expression'));else{let g=jv(f,n,h[1]);g.ast instanceof zs&&e.push(new Mt(t.startSourceSpan,'@for loop must have a "track" expression'));let v=new Ot(f.sourceSpan.start,f.sourceSpan.start.moveBy(5));u.trackBy={expression:g,keywordSpan:v}}continue}e.push(new Mt(f.sourceSpan,`Unrecognized @for loop parameter "${f.expression}"`))}return u}function nne(t,e,n){let r=new VA;t.ast.visit(r),r.hasPipe&&n.push(new Mt(e,"Cannot use pipes in track expressions"))}function rne(t,e,n,r,i,s){let o=e.split(","),a=n.start;for(let l of o){let c=l.split("="),u=c.length===2?c[0].trim():"",f=c.length===2?c[1].trim():"";if(u.length===0||f.length===0)s.push(new Mt(t,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!Kg.has(f))s.push(new Mt(t,`Unknown "let" parameter variable "${f}". The allowed variables are: ${Array.from(Kg).join(", ")}`));else if(u===r)s.push(new Mt(t,`Invalid @for loop "let" parameter. Variable cannot be called "${r}"`));else if(i.some(d=>d.name===u))s.push(new Mt(t,`Duplicate "let" parameter variable "${f}"`));else{let[,d,h]=c[0].match(B4)??[],g=d!==void 0&&c.length===2?new Ot(a.moveBy(d.length),a.moveBy(d.length+h.length)):n,v;if(c.length===2){let[,_,E]=c[1].match(B4)??[];v=_!==void 0?new Ot(a.moveBy(c[0].length+1+_.length),a.moveBy(c[0].length+1+_.length+E.length)):void 0}let x=new Ot(g.start,v?.end??g.end);i.push(new pf(u,f,x,g,v))}a=a.moveBy(l.length+1)}}function ine(t){let e=[],n=!1;for(let r=0;r<t.length;r++){let i=t[r];i.name==="else"?(n?e.push(new Mt(i.startSourceSpan,"Conditional can only have one @else block")):t.length>1&&r<t.length-1?e.push(new Mt(i.startSourceSpan,"@else block must be last inside the conditional")):i.parameters.length>0&&e.push(new Mt(i.startSourceSpan,"@else block cannot have parameters")),n=!0):J2.test(i.name)||e.push(new Mt(i.startSourceSpan,`Unrecognized conditional block @${i.name}`))}return e}function sne(t){let e=[],n=!1;if(t.parameters.length!==1)return e.push(new Mt(t.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let r of t.children)if(!(r instanceof Uv||r instanceof nh&&r.value.trim().length===0)){if(!(r instanceof ba)||r.name!=="case"&&r.name!=="default"){e.push(new Mt(r.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}r.name==="default"?(n?e.push(new Mt(r.startSourceSpan,"@switch block can only have one @default block")):r.parameters.length>0&&e.push(new Mt(r.startSourceSpan,"@default block cannot have parameters")),n=!0):r.name==="case"&&r.parameters.length!==1&&e.push(new Mt(r.startSourceSpan,"@case block must have exactly one parameter"))}return e}function jv(t,e,n){let r,i;return typeof n=="string"?(r=Math.max(0,t.expression.lastIndexOf(n)),i=r+n.length):(r=0,i=t.expression.length),e.parseBinding(t.expression.slice(r,i),!1,t.sourceSpan,t.sourceSpan.start.offset+r)}function H4(t,e,n){if(t.parameters.length===0)return e.push(new Mt(t.startSourceSpan,"Conditional block does not have an expression")),null;let r=jv(t.parameters[0],n),i=null;for(let s=1;s<t.parameters.length;s++){let o=t.parameters[s],a=o.expression.match(Xte);if(a===null)e.push(new Mt(o.sourceSpan,`Unrecognized conditional parameter "${o.expression}"`));else if(t.name!=="if"&&!J2.test(t.name))e.push(new Mt(o.sourceSpan,'"as" expression is only allowed on `@if` and `@else if` blocks'));else if(i!==null)e.push(new Mt(o.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim();if(Jte.test(l)){let c=o.sourceSpan.start.moveBy(a[1].length),u=new Ot(c,c.moveBy(l.length));i=new pf(l,l,u,u)}else e.push(new Mt(o.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}}return{expression:r,expressionAlias:i}}function one(t,e){let n=t.expression,r=/^\s$/,i=0,s=0,o=n.length-1;for(let a=0;a<n.length;a++){let l=n[a];if(l==="(")s=a+1,i++;else{if(r.test(l))continue;break}}if(i===0)return n;for(let a=n.length-1;a>-1;a--){let l=n[a];if(l===")"){if(o=a,i--,i===0)break}else{if(r.test(l))continue;break}}return i!==0?(e.push(new Mt(t.sourceSpan,"Unclosed parentheses in expression")),null):n.slice(s,o)}var VA=class extends c0{hasPipe=!1;visitPipe(){this.hasPipe=!0}},ane=/^\d+\.?\d*(ms|s)?$/,lne=/^\s$/,$4=new Map([[sl,Xs],[nc,eu],[Jo,ss]]),Ks=(function(t){return t.IDLE="idle",t.TIMER="timer",t.INTERACTION="interaction",t.IMMEDIATE="immediate",t.HOVER="hover",t.VIEWPORT="viewport",t.NEVER="never",t})(Ks||{});function cne({expression:t,sourceSpan:e},n,r){let i=t.indexOf("never"),s=new Ot(e.start.moveBy(i),e.start.moveBy(i+5)),o=SI(t,e),a=CI(t,e);i===-1?r.push(new Mt(e,'Could not find "never" keyword in expression')):bI("never",n,r,new qT(s,e,o,null,a))}function wT({expression:t,sourceSpan:e},n,r,i){let s=t.indexOf("when"),o=new Ot(e.start.moveBy(s),e.start.moveBy(s+4)),a=SI(t,e),l=CI(t,e);if(s===-1)i.push(new Mt(e,'Could not find "when" keyword in expression'));else{let c=zv(t,s+1),u=n.parseBinding(t.slice(c),!1,e,e.start.offset+c);bI("when",r,i,new t2(u,e,a,o,l))}}function ET({expression:t,sourceSpan:e},n,r,i,s){let o=t.indexOf("on"),a=new Ot(e.start.moveBy(o),e.start.moveBy(o+2)),l=SI(t,e),c=CI(t,e);if(o===-1)i.push(new Mt(e,'Could not find "on" keyword in expression'));else{let u=zv(t,o+1),f=t.startsWith("hydrate");new UA(t,n,u,e,r,i,f?vne:gne,f,l,a,c).parse()}}function SI(t,e){return t.startsWith("prefetch")?new Ot(e.start,e.start.moveBy(8)):null}function CI(t,e){return t.startsWith("hydrate")?new Ot(e.start,e.start.moveBy(7)):null}var UA=class{expression;bindingParser;start;span;triggers;errors;validator;isHydrationTrigger;prefetchSpan;onSourceSpan;hydrateSpan;index=0;tokens;constructor(e,n,r,i,s,o,a,l,c,u,f){this.expression=e,this.bindingParser=n,this.start=r,this.span=i,this.triggers=s,this.errors=o,this.validator=a,this.isHydrationTrigger=l,this.prefetchSpan=c,this.onSourceSpan=u,this.hydrateSpan=f,this.tokens=new qv().tokenize(e.slice(r))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(Co))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(Jo)){this.advance();let n=this.errors.length,r=this.consumeParameters();if(this.errors.length!==n)break;this.consumeTrigger(e,r),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,n){let r=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),i=new Ot(r,r.moveBy(e.strValue.length)),s=r.moveBy(this.token().end-e.index),o=e.index===0,a=o?this.onSourceSpan:null,l=o?this.prefetchSpan:null,c=o?this.hydrateSpan:null,u=new Ot(o?this.span.start:r,s);try{switch(e.toString()){case Ks.IDLE:this.trackTrigger("idle",une(n,i,u,l,a,c));break;case Ks.TIMER:this.trackTrigger("timer",fne(n,i,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Ks.INTERACTION:this.trackTrigger("interaction",pne(n,i,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case Ks.IMMEDIATE:this.trackTrigger("immediate",dne(n,i,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Ks.HOVER:this.trackTrigger("hover",hne(n,i,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case Ks.VIEWPORT:this.trackTrigger("viewport",mne(this.start,this.isHydrationTrigger,this.bindingParser,n,i,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(f){this.error(e,f.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(Jo))return this.unexpectedToken(this.token()),e;this.advance();let n=[],r=[];for(;this.index<this.tokens.length;){let i=this.token();if(i.isCharacter(ss)&&n.length===0){r.length&&e.push({expression:this.tokenRangeText(r),start:r[0].index});break}if(i.type===Lt.Character&&$4.has(i.numValue)&&n.push($4.get(i.numValue)),n.length>0&&i.isCharacter(n[n.length-1])&&n.pop(),n.length===0&&i.isCharacter(Co)&&r.length>0){e.push({expression:this.tokenRangeText(r),start:r[0].index}),this.advance(),r=[];continue}r.push(i),this.advance()}return(!this.token().isCharacter(ss)||n.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(Co)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenRangeText(e){return e.length===0?"":this.expression.slice(this.start+e[0].index,this.start+e[e.length-1].end)}trackTrigger(e,n){bI(e,this.triggers,this.errors,n)}error(e,n){let r=this.span.start.moveBy(this.start+e.index),i=r.moveBy(e.end-e.index);this.errors.push(new Mt(new Ot(r,i),n))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function bI(t,e,n,r){e[t]?n.push(new Mt(r.sourceSpan,`Duplicate "${t}" trigger is not allowed`)):e[t]=r}function une(t,e,n,r,i,s){if(t.length>0)throw new Error(`"${Ks.IDLE}" trigger cannot have parameters`);return new GT(e,n,r,i,s)}function fne(t,e,n,r,i,s){if(t.length!==1)throw new Error(`"${Ks.TIMER}" trigger must have exactly one parameter`);let o=V2(t[0].expression);if(o===null)throw new Error(`Could not parse time value of trigger "${Ks.TIMER}"`);return new jT(o,e,n,r,i,s)}function dne(t,e,n,r,i,s){if(t.length>0)throw new Error(`"${Ks.IMMEDIATE}" trigger cannot have parameters`);return new WT(e,n,r,i,s)}function hne(t,e,n,r,i,s,o){return o(Ks.HOVER,t),new n2(t[0]?.expression??null,e,n,r,i,s)}function pne(t,e,n,r,i,s,o){return o(Ks.INTERACTION,t),new r2(t[0]?.expression??null,e,n,r,i,s)}function mne(t,e,n,r,i,s,o,a,l,c){c(Ks.VIEWPORT,r);let u,f;if(r.length===0)u=f=null;else if(!r[0].expression.startsWith("{"))u=r[0].expression,f=null;else{let d=n.parseBinding(r[0].expression,!1,s,s.start.offset+t+r[0].start);if(d.ast instanceof Xd){if(d.ast.keys.some(g=>g.kind==="spread"))throw new Error("Spread operator are not allowed in this context");if(d.ast.keys.some(g=>g.kind==="property"&&g.key==="root"))throw new Error('The "root" option is not supported in the options parameter of the "viewport" trigger')}else throw new Error('Options parameter of the "viewport" trigger must be an object literal');let h=d.ast.keys.findIndex(g=>g.kind==="property"&&g.key==="trigger");if(h===-1)u=null,f=d.ast;else{let g=d.ast.values[h],v=(x,_)=>_!==h;if(!(g instanceof tc)||!(g.receiver instanceof lc))throw new Error('"trigger" option of the "viewport" trigger must be an identifier');u=g.name,f=new Xd(d.ast.span,d.ast.sourceSpan,d.ast.keys.filter(v),d.ast.values.filter(v))}}if(e&&u!==null)throw new Error('"viewport" hydration trigger cannot have a "trigger"');if(f){let d=HA.findDynamicNode(f);if(d!==null)throw new Error(`Options of the "viewport" trigger must be an object literal containing only literal values, but "${d.constructor.name}" was found`)}return new vv(u,f,i,s,o,a,l)}function gne(t,e){if(e.length>1)throw new Error(`"${t}" trigger can only have zero or one parameters`)}function vne(t,e){if(t===Ks.VIEWPORT){if(e.length>1)throw new Error(`Hydration trigger "${t}" cannot have more than one parameter`);return}if(e.length>0)throw new Error(`Hydration trigger "${t}" cannot have parameters`)}function zv(t,e=0){let n=!1;for(let r=e;r<t.length;r++)if(lne.test(t[r]))n=!0;else if(n)return r;return-1}function V2(t){let e=t.match(ane);if(!e)return null;let[n,r]=e;return parseFloat(n)*(r==="s"?1e3:1)}var HA=class t extends c0{dynamicNode=null;static findDynamicNode(e){let n=new t;return n.visit(e),n.dynamicNode}visit(e){!(e instanceof So)&&!(e instanceof Eo)&&!(e instanceof lv)&&!(e instanceof Xd)?this.dynamicNode=e:super.visit(e)}},yne=/^prefetch\s+when\s/,_ne=/^prefetch\s+on\s/,xne=/^hydrate\s+when\s/,wne=/^hydrate\s+on\s/,Ene=/^hydrate\s+never(\s*)$/,C8=/^minimum\s/,Sne=/^after\s/,Cne=/^when\s/,bne=/^on\s/;function $A(t){return t==="placeholder"||t==="loading"||t==="error"}function Tne(t,e,n,r){let i=[],{placeholder:s,loading:o,error:a}=Ane(e,i,n),{triggers:l,prefetchTriggers:c,hydrateTriggers:u}=Nne(t,r,i),f=t.endSourceSpan,d=t.sourceSpan.end;if(e.length>0){let v=e[e.length-1];f=v.endSourceSpan,d=v.sourceSpan.end}let h=new Ot(t.sourceSpan.start,d);return{node:new Kd(Ir(n,t.children,t.children),l,c,u,s,o,a,t.nameSpan,h,t.sourceSpan,t.startSourceSpan,f,t.i18n),errors:i}}function Ane(t,e,n){let r=null,i=null,s=null;for(let o of t)try{if(!$A(o.name)){e.push(new Mt(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":r!==null?e.push(new Mt(o.startSourceSpan,"@defer block can only have one @placeholder block")):r=Ine(o,n);break;case"loading":i!==null?e.push(new Mt(o.startSourceSpan,"@defer block can only have one @loading block")):i=Dne(o,n);break;case"error":s!==null?e.push(new Mt(o.startSourceSpan,"@defer block can only have one @error block")):s=kne(o,n);break}}catch(a){e.push(new Mt(o.startSourceSpan,a.message))}return{placeholder:r,loading:i,error:s}}function Ine(t,e){let n=null;for(let r of t.parameters)if(C8.test(r.expression)){if(n!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let i=V2(r.expression.slice(zv(r.expression)));if(i===null)throw new Error('Could not parse time value of parameter "minimum"');n=i}else throw new Error(`Unrecognized parameter in @placeholder block: "${r.expression}"`);return new yv(Ir(e,t.children,t.children),n,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function Dne(t,e){let n=null,r=null;for(let i of t.parameters)if(Sne.test(i.expression)){if(n!=null)throw new Error('@loading block can only have one "after" parameter');let s=V2(i.expression.slice(zv(i.expression)));if(s===null)throw new Error('Could not parse time value of parameter "after"');n=s}else if(C8.test(i.expression)){if(r!=null)throw new Error('@loading block can only have one "minimum" parameter');let s=V2(i.expression.slice(zv(i.expression)));if(s===null)throw new Error('Could not parse time value of parameter "minimum"');r=s}else throw new Error(`Unrecognized parameter in @loading block: "${i.expression}"`);return new _v(Ir(e,t.children,t.children),n,r,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function kne(t,e){if(t.parameters.length>0)throw new Error("@error block cannot have parameters");return new xv(Ir(e,t.children,t.children),t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function Nne(t,e,n,r){let i={},s={},o={};for(let a of t.parameters)Cne.test(a.expression)?wT(a,e,i,n):bne.test(a.expression)?ET(a,e,i,n):yne.test(a.expression)?wT(a,e,s,n):_ne.test(a.expression)?ET(a,e,s,n):xne.test(a.expression)?wT(a,e,o,n):wne.test(a.expression)?ET(a,e,o,n):Ene.test(a.expression)?cne(a,o,n):n.push(new Mt(a.sourceSpan,"Unrecognized trigger"));return o.never&&Object.keys(o).length>1&&n.push(new Mt(t.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:i,prefetchTriggers:s,hydrateTriggers:o}}var Mne=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,q4=1,G4=2,W4=3,j4=4,z4=5,Pne=6,Vg=7,rf={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},ST="*",Fne=new Set(["link","style","script","ng-template","ng-container","ng-content"]),Rne=new Set(["ngProjectAs","ngNonBindable"]);function Lne(t,e,n){let r=new qA(e,n),i=Ir(r,t,t),s=e.errors.concat(r.errors),o={nodes:i,errors:s,styleUrls:r.styleUrls,styles:r.styles,ngContentSelectors:r.ngContentSelectors};return n.collectCommentNodes&&(o.commentNodes=r.commentNodes),o}var qA=class{bindingParser;options;errors=[];styles=[];styleUrls=[];ngContentSelectors=[];commentNodes=[];inI18nBlock=!1;processedNodes=new Set;constructor(e,n){this.bindingParser=e,this.options=n}visitElement(e){let n=Mx(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let r=S8(e);if(r.type===Xo.SCRIPT)return null;if(r.type===Xo.STYLE){let _=One(e);return _!==null&&this.styles.push(_),null}else if(r.type===Xo.STYLESHEET&&Rte(r.hrefAttr))return this.styleUrls.push(r.hrefAttr),null;let i=Xz(e.name),{attributes:s,boundEvents:o,references:a,variables:l,templateVariables:c,elementHasInlineTemplate:u,parsedProperties:f,templateParsedProperties:d,i18nAttrsMeta:h}=this.prepareAttributes(e.attrs,i),g=this.extractDirectives(e),v;r.nonBindable?v=Ir(Y4,e.children).flat(1/0):v=Ir(this,e.children,e.children);let x;if(r.type===Xo.NG_CONTENT){let _=r.selectAttr,E=e.attrs.map(C=>this.visitAttribute(C));x=new h0(_,E,v,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n),this.ngContentSelectors.push(_)}else if(i){let _=this.categorizePropertyAttributes(e.name,f,h);x=new Qo(e.name,s,_.bound,o,g,[],v,a,l,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let _=this.categorizePropertyAttributes(e.name,f,h);if(e.name==="ng-container")for(let E of _.bound)E.type===Nn.Attribute&&this.reportError("Attribute bindings are not supported on ng-container. Use property bindings instead.",E.sourceSpan);x=new cc(e.name,s,_.bound,o,g,v,a,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n)}return u&&(x=this.wrapInTemplate(x,d,c,h,i,n)),n&&(this.inI18nBlock=!1),x}visitAttribute(e){return new f0(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!Mx(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let n=e.i18n,r={},i={};return Object.keys(n.placeholders).forEach(s=>{let o=n.placeholders[s];if(s.startsWith(Zz)){let a=s.trim(),l=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);r[a]=new u0(l,o.sourceSpan)}else i[s]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new dL(r,i,e.sourceSpan,n)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new j2(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,n){let r=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return r.errors.length===0&&r.ast instanceof zs&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new oI(e.name,r,e.sourceSpan,e.nameSpan,e.valueSpan)}visitComponent(e){let n=Mx(e.i18n);if(n&&(this.inI18nBlock&&this.reportError("Cannot mark a component as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0),e.tagName!==null&&Fne.has(e.tagName))return this.reportError(`Tag name "${e.tagName}" cannot be used as a component tag`,e.startSourceSpan),null;let{attributes:r,boundEvents:i,references:s,templateVariables:o,elementHasInlineTemplate:a,parsedProperties:l,templateParsedProperties:c,i18nAttrsMeta:u}=this.prepareAttributes(e.attrs,!1);this.validateSelectorlessReferences(s);let f=this.extractDirectives(e),d;e.attrs.find(v=>v.name==="ngNonBindable")?d=Ir(Y4,e.children).flat(1/0):d=Ir(this,e.children,e.children);let h=this.categorizePropertyAttributes(e.tagName,l,u),g=new jg(e.componentName,e.tagName,e.fullName,r,h.bound,i,f,d,s,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return a&&(g=this.wrapInTemplate(g,c,o,u,!1,n)),n&&(this.inI18nBlock=!1),g}visitDirective(){return null}visitBlockParameter(){return null}visitBlock(e,n){let r=Array.isArray(n)?n.indexOf(e):-1;if(r===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let i=null;switch(e.name){case"defer":i=Tne(e,this.findConnectedBlocks(r,n,$A),this,this.bindingParser);break;case"switch":i=ene(e,this,this.bindingParser);break;case"for":i=Zte(e,this.findConnectedBlocks(r,n,V4),this,this.bindingParser);break;case"if":i=Qte(e,this.findConnectedBlocks(r,n,U4),this,this.bindingParser);break;default:let s;$A(e.name)?(s=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):V4(e.name)?(s=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):U4(e.name)?(s=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):s=`Unrecognized block @${e.name}.`,i={node:new o2(e.name,e.sourceSpan,e.nameSpan),errors:[new Mt(e.sourceSpan,s)]};break}return this.errors.push(...i.errors),i.node}findConnectedBlocks(e,n,r){let i=[];for(let s=e+1;s<n.length;s++){let o=n[s];if(!(o instanceof Uv)){if(o instanceof nh&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof ba)||!r(o.name))break;i.push(o),this.processedNodes.add(o)}}return i}categorizePropertyAttributes(e,n,r){let i=[],s=[];return n.forEach(o=>{let a=r[o.name];if(o.isLiteral)s.push(new f0(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,o,!0,!1);i.push(HT.fromBoundElementProperty(l,a))}}),{bound:i,literal:s}}prepareAttributes(e,n){let r=[],i=[],s=[],o=[],a=[],l={},c=[],u=[],f=!1;for(let d of e){let h=!1,g=X4(d.name),v=!1;if(d.i18n&&(l[d.name]=d.i18n),g.startsWith(ST)){f&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",d.sourceSpan),v=!0,f=!0;let x=d.value,_=g.substring(ST.length),E=[],C=d.valueSpan?d.valueSpan.fullStart.offset:d.sourceSpan.fullStart.offset+d.name.length;this.bindingParser.parseInlineTemplateBinding(_,x,d.sourceSpan,C,[],c,E,!0),u.push(...E.map(D=>new pf(D.name,D.value,D.sourceSpan,D.keySpan,D.valueSpan)))}else h=this.parseAttribute(n,d,[],r,i,s,o);!h&&!v&&a.push(this.visitAttribute(d))}return{attributes:a,boundEvents:i,references:o,variables:s,templateVariables:u,elementHasInlineTemplate:f,parsedProperties:r,templateParsedProperties:c,i18nAttrsMeta:l}}parseAttribute(e,n,r,i,s,o,a){let l=X4(n.name),c=n.value,u=n.sourceSpan,f=n.valueSpan?n.valueSpan.fullStart.offset:u.fullStart.offset;function d(_,E,C){let D=n.name.length-l.length,A=_.start.moveBy(E.length+D),L=A.moveBy(C.length);return new Ot(A,L,A,C)}let h=l.match(Mne);if(h){if(h[q4]!=null){let _=h[Vg],E=d(u,h[q4],_);this.bindingParser.parsePropertyBinding(_,c,!1,!1,u,f,n.valueSpan,r,i,E)}else if(h[G4])if(e){let _=h[Vg],E=d(u,h[G4],_);this.parseVariable(_,c,u,E,n.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',u);else if(h[W4]){let _=h[Vg],E=d(u,h[W4],_);this.parseReference(_,c,u,E,n.valueSpan,a)}else if(h[j4]){let _=[],E=h[Vg],C=d(u,h[j4],E);this.bindingParser.parseEvent(E,c,!1,u,n.valueSpan||u,r,_,C),CT(_,s)}else if(h[z4]){let _=h[Vg],E=d(u,h[z4],_);this.bindingParser.parsePropertyBinding(_,c,!1,!0,u,f,n.valueSpan,r,i,E),this.parseAssignmentEvent(_,c,u,n.valueSpan,r,s,E,f)}else if(h[Pne]){let _=d(u,"",l);this.bindingParser.parseLiteralAttr(l,c,u,f,n.valueSpan,r,i,_)}return!0}let g=null;if(l.startsWith(rf.BANANA_BOX.start)?g=rf.BANANA_BOX:l.startsWith(rf.PROPERTY.start)?g=rf.PROPERTY:l.startsWith(rf.EVENT.start)&&(g=rf.EVENT),g!==null&&l.endsWith(g.end)&&l.length>g.start.length+g.end.length){let _=l.substring(g.start.length,l.length-g.end.length),E=d(u,g.start,_);if(g.start===rf.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(_,c,!1,!0,u,f,n.valueSpan,r,i,E),this.parseAssignmentEvent(_,c,u,n.valueSpan,r,s,E,f);else if(g.start===rf.PROPERTY.start)this.bindingParser.parsePropertyBinding(_,c,!1,!1,u,f,n.valueSpan,r,i,E);else{let C=[];this.bindingParser.parseEvent(_,c,!1,u,n.valueSpan||u,r,C,E),CT(C,s)}return!0}let v=d(u,"",l);return this.bindingParser.parsePropertyInterpolation(l,c,u,n.valueSpan,r,i,v,n.valueTokens??null)}extractDirectives(e){let n=e instanceof wo?e.tagName:e.name,r=[],i=new Set;for(let s of e.directives){let o=!1;for(let h of s.attrs)h.name.startsWith(ST)?(o=!0,this.reportError(`Shorthand template syntax "${h.name}" is not supported inside a directive context`,h.sourceSpan)):Rne.has(h.name)&&(o=!0,this.reportError(`Attribute "${h.name}" is not supported in a directive context`,h.sourceSpan));if(!o&&i.has(s.name)&&(o=!0,this.reportError(`Cannot apply directive "${s.name}" multiple times on the same element`,s.sourceSpan)),o)continue;let{attributes:a,parsedProperties:l,boundEvents:c,references:u,i18nAttrsMeta:f}=this.prepareAttributes(s.attrs,!1);this.validateSelectorlessReferences(u);let{bound:d}=this.categorizePropertyAttributes(n,l,f);for(let h of d)h.type!==Nn.Property&&h.type!==Nn.TwoWay&&(o=!0,this.reportError("Binding is not supported in a directive context",h.sourceSpan));o||(i.add(s.name),r.push(new fL(s.name,a,d,c,u,s.sourceSpan,s.startSourceSpan,s.endSourceSpan,void 0)))}return r}filterAnimationAttributes(e){return e.filter(n=>!n.name.startsWith("animate."))}filterAnimationInputs(e){return e.filter(n=>n.type!==Nn.Animation)}wrapInTemplate(e,n,r,i,s,o){let a=this.categorizePropertyAttributes("ng-template",n,i),l=[];a.literal.forEach(d=>l.push(d)),a.bound.forEach(d=>l.push(d));let c={attributes:[],inputs:[],outputs:[]};(e instanceof cc||e instanceof jg)&&(c.attributes.push(...this.filterAnimationAttributes(e.attributes)),c.inputs.push(...this.filterAnimationInputs(e.inputs)),c.outputs.push(...e.outputs));let u=s&&o?void 0:e.i18n,f;return e instanceof jg?f=e.tagName:e instanceof Qo?f=null:f=e.name,new Qo(f,c.attributes,c.inputs,c.outputs,[],l,[e],[],r,!1,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,u)}_visitTextWithInterpolation(e,n,r,i){let s=e8(e),o=this.bindingParser.parseInterpolation(s,n,r);return o?new u0(o,n,i):new Md(s,n)}parseVariable(e,n,r,i,s,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',r):e.length===0&&this.reportError("Variable does not have a name",r),o.push(new pf(e,n,r,i,s))}parseReference(e,n,r,i,s,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',r):e.length===0?this.reportError("Reference does not have a name",r):o.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,r),o.push(new Sv(e,n,r,i,s))}parseAssignmentEvent(e,n,r,i,s,o,a,l){let c=[];this.bindingParser.parseEvent(`${e}Change`,n,!0,r,i||r,s,c,a),CT(c,o)}validateSelectorlessReferences(e){if(e.length===0)return;let n=new Set;for(let r of e)r.value.length>0?this.reportError("Cannot specify a value for a local reference in this context",r.valueSpan||r.sourceSpan):n.has(r.name)?this.reportError("Duplicate reference names are not allowed",r.sourceSpan):n.add(r.name)}reportError(e,n,r=cf.ERROR){this.errors.push(new Mt(n,e,r))}},GA=class{visitElement(e){let n=S8(e);if(n.type===Xo.SCRIPT||n.type===Xo.STYLE||n.type===Xo.STYLESHEET)return null;let r=Ir(this,e.children,null);return new cc(e.name,Ir(this,e.attrs),[],[],[],r,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid)}visitComment(e){return null}visitAttribute(e){return new f0(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new Md(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,n){let r=[new Md(e.startSourceSpan.toString(),e.startSourceSpan),...Ir(this,e.children)];return e.endSourceSpan!==null&&r.push(new Md(e.endSourceSpan.toString(),e.endSourceSpan)),r}visitBlockParameter(e,n){return null}visitLetDeclaration(e,n){return new Md(`@let ${e.name} = ${e.value};`,e.sourceSpan)}visitComponent(e,n){let r=Ir(this,e.children,null);return new cc(e.fullName,Ir(this,e.attrs),[],[],[],r,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,!1)}visitDirective(e,n){return null}},Y4=new GA;function X4(t){return/^data-/i.test(t)?t.substring(5):t}function CT(t,e){e.push(...t.map(n=>$T.fromParsedEvent(n)))}function One(t){return t.children.length!==1||!(t.children[0]instanceof nh)?null:t.children[0].value}var Bne=[" ",`
`,"\r","	"];function Vne(t,e,n={}){let{preserveWhitespaces:r,enableI18nLegacyMessageIdFormat:i}=n,s=n.enableSelectorless??!1,o=U2(s),l=new RA().parse(t,e,Nt(De({leadingTriviaChars:Bne},n),{tokenizeExpansionForms:!0,tokenizeBlocks:n.enableBlockSyntax??!0,tokenizeLet:n.enableLetSyntax??!0,selectorlessEnabled:s}));if(!n.alwaysAttemptHtmlToR3AstConversion&&l.errors&&l.errors.length>0){let D={preserveWhitespaces:r,errors:l.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(D.commentNodes=[]),D}let c=l.rootNodes,u=!(n.preserveSignificantWhitespace??!0),f=new N2(!r,i,n.preserveSignificantWhitespace,u),d=f.visitAllWithErrors(c);if(!n.alwaysAttemptHtmlToR3AstConversion&&d.errors&&d.errors.length>0){let D={preserveWhitespaces:r,errors:d.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(D.commentNodes=[]),D}c=d.rootNodes,r||(c=Ir(new D2(!0,void 0,!1),c),f.hasI18nMeta&&(c=Ir(new N2(!1,void 0,!0,u),c)));let{nodes:h,errors:g,styleUrls:v,styles:x,ngContentSelectors:_,commentNodes:E}=Lne(c,o,{collectCommentNodes:!!n.collectCommentNodes});g.push(...l.errors,...d.errors);let C={preserveWhitespaces:r,errors:g.length>0?g:null,nodes:h,styleUrls:v,styles:x,ngContentSelectors:_};return n.collectCommentNodes&&(C.commentNodes=E),C}var Une=new x0;function U2(t=!1){return new LA(new k2(new qv,t),Une,[])}var b8="%COMP%",Hne=`_nghost-${b8}`,$ne=`_ngcontent-${b8}`;function T8(t,e,n){let r=new vf,i=tI(t.selector);return r.set("type",t.type.value),i.length>0&&r.set("selectors",Xp(i)),t.queries.length>0&&r.set("contentQueries",kte(t.queries,e,t.name)),t.viewQueries.length&&r.set("viewQuery",Dte(t.viewQueries,e,t.name)),r.set("hostBindings",Kne(t.host,t.typeSourceSpan,n,e,t.selector||"",t.name,r)),r.set("inputs",IR(t.inputs,!0)),r.set("outputs",IR(t.outputs)),t.exportAs!==null&&r.set("exportAs",Zn(t.exportAs.map(s=>Ie(s)))),t.isStandalone===!1&&r.set("standalone",Ie(!1)),t.isSignal&&r.set("signals",Ie(!0)),r}function A8(t,e){let n=[],r=e.providers,i=e.viewProviders;if(r||i){let s=[r||new oc([])];i&&s.push(i),n.push(bt(pe.ProvidersFeature).callFn(s))}if(e.hostDirectives?.length&&n.push(bt(pe.HostDirectivesFeature).callFn([tre(e.hostDirectives)])),e.usesInheritance&&n.push(bt(pe.InheritDefinitionFeature)),e.lifecycle.usesOnChanges&&n.push(bt(pe.NgOnChangesFeature)),"externalStyles"in e&&e.externalStyles?.length){let s=e.externalStyles.map(o=>Ie(o));n.push(bt(pe.ExternalStylesFeature).callFn([Zn(s)]))}n.length&&t.set("features",Zn(n))}function qne(t,e,n){let r=T8(t,e,n);A8(r,t);let i=bt(pe.defineDirective).callFn([r.toLiteralMap()],void 0,!0),s=Xne(t);return{expression:i,type:s,statements:[]}}function Gne(t,e,n){let r=T8(t,e,n);A8(r,t);let i=t.selector&&n0.parse(t.selector),s=i&&i[0];if(s){let g=s.getAttrs();g.length&&r.set("attrs",e.getConstLiteral(Zn(g.map(v=>v!=null?Ie(v):Ie(void 0))),!0))}let o=t.name,a=null;if(t.defer.mode===1&&t.defer.dependenciesFn!==null){let g=`${o}_DeferFn`;e.statements.push(new Ui(g,t.defer.dependenciesFn,void 0,as.Final)),a=En(g)}let l=t.isStandalone&&!t.hasDirectiveDependencies?xo.DomOnly:xo.Full,c=ste(t.name,t.template.nodes,e,l,t.relativeContextFilePath,t.i18nUseExternalIds,t.defer,a,t.relativeTemplatePath,Tte());d8(c,mt.Tmpl);let u=tte(c,e);if(c.contentSelectors!==null&&r.set("ngContentSelectors",c.contentSelectors),r.set("decls",Ie(c.root.decls)),r.set("vars",Ie(c.root.vars)),c.consts.length>0&&(c.constsInitializers.length>0?r.set("consts",ac([],[...c.constsInitializers,new ls(Zn(c.consts))])):r.set("consts",Zn(c.consts))),r.set("template",u),t.declarationListEmitMode!==3&&t.declarations.length>0)r.set("dependencies",jne(Zn(t.declarations.map(g=>g.type)),t.declarationListEmitMode));else if(t.declarationListEmitMode===3){let g=[t.type.value];t.rawImports&&g.push(t.rawImports),r.set("dependencies",bt(pe.getComponentDepsFactory).callFn(g))}t.encapsulation===null&&(t.encapsulation=Td.Emulated);let f=!!t.externalStyles?.length;if(t.styles&&t.styles.length){let v=(t.encapsulation==Td.Emulated?ere(t.styles,$ne,Hne):t.styles).reduce((x,_)=>(_.trim().length>0&&x.push(e.getConstLiteral(Ie(_))),x),[]);v.length>0&&(f=!0,r.set("styles",Zn(v)))}!f&&t.encapsulation===Td.Emulated&&(t.encapsulation=Td.None),t.encapsulation!==Td.Emulated&&r.set("encapsulation",Ie(t.encapsulation)),t.animations!==null&&r.set("data",Da([{key:"animation",value:t.animations,quoted:!1}])),t.changeDetection!==null&&(typeof t.changeDetection=="number"&&t.changeDetection!==eI.Default?r.set("changeDetection",Ie(t.changeDetection)):typeof t.changeDetection=="object"&&r.set("changeDetection",t.changeDetection));let d=bt(pe.defineComponent).callFn([r.toLiteralMap()],void 0,!0),h=Wne(t);return{expression:d,type:h,statements:[]}}function Wne(t){let e=I8(t);return e.push(jA(t.template.ngContentSelectors)),e.push(cs(Ie(t.isStandalone))),e.push(D8(t)),t.isSignal&&e.push(cs(Ie(t.isSignal))),cs(bt(pe.ComponentDeclaration,e))}function jne(t,e){switch(e){case 0:return t;case 1:return ac([],t);case 2:let n=t.prop("map").callFn([bt(pe.resolveForwardRef)]);return ac([],n);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function zne(t){return cs(Ie(t))}function WA(t){let e=Object.keys(t).map(n=>{let r=Array.isArray(t[n])?t[n][0]:t[n];return{key:n,value:Ie(r),quoted:!0}});return Da(e)}function jA(t){return t.length>0?cs(Zn(t.map(e=>Ie(e)))):ic}function I8(t){let e=t.selector!==null?t.selector.replace(/\n/g,""):null;return[W2(t.type.type,t.typeArgumentCount),e!==null?zne(e):ic,t.exportAs!==null?jA(t.exportAs):ic,cs(Yne(t)),cs(WA(t.outputs)),jA(t.queries.map(n=>n.propertyName))]}function Yne(t){return Da(Object.keys(t.inputs).map(e=>{let n=t.inputs[e],r=[{key:"alias",value:Ie(n.bindingPropertyName),quoted:!0},{key:"required",value:Ie(n.required),quoted:!0}];return n.isSignal&&r.push({key:"isSignal",value:Ie(n.isSignal),quoted:!0}),{key:e,value:Da(r),quoted:!0}}))}function Xne(t){let e=I8(t);return e.push(ic),e.push(cs(Ie(t.isStandalone))),e.push(D8(t)),t.isSignal&&e.push(cs(Ie(t.isSignal))),cs(bt(pe.DirectiveDeclaration,e))}function Kne(t,e,n,r,i,s,o){let a=n.createBoundHostProperties(t.properties,e),l=n.createDirectiveHostEventAsts(t.listeners,e);t.specialAttributes.styleAttr&&(t.attributes.style=Ie(t.specialAttributes.styleAttr)),t.specialAttributes.classAttr&&(t.attributes.class=Ie(t.specialAttributes.classAttr));let c=ote({componentName:s,componentSelector:i,properties:a,events:l,attributes:t.attributes},n,r);d8(c,mt.Host),o.set("hostAttrs",c.root.attributes);let u=c.root.vars;return u!==null&&u>0&&o.set("hostVars",Ie(u)),nte(c)}var Jne=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function Qne(t){let e={},n={},r={},i={};for(let s of Object.keys(t)){let o=t[s],a=s.match(Jne);if(a===null)switch(s){case"class":if(typeof o!="string")throw new Error("Class binding must be string");i.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");i.styleAttr=o;break;default:typeof o=="string"?e[s]=Ie(o):e[s]=o}else if(a[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");r[a[1]]=o}else if(a[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:e,listeners:n,properties:r,specialAttributes:i}}function Zne(t,e){let n=U2();return n.createDirectiveHostEventAsts(t.listeners,e),n.createBoundHostProperties(t.properties,e),n.errors}function ere(t,e,n){let r=new nA;return t.map(i=>r.shimCssText(i,e,n))}function D8(t){return t.hostDirectives?.length?cs(Zn(t.hostDirectives.map(e=>Da([{key:"directive",value:Yv(e.directive.type),quoted:!1},{key:"inputs",value:WA(e.inputs||{}),quoted:!1},{key:"outputs",value:WA(e.outputs||{}),quoted:!1}])))):ic}function tre(t){let e=[],n=!1;for(let r of t){if(!r.inputs&&!r.outputs)e.push(r.directive.type);else{let i=[{key:"directive",value:r.directive.type,quoted:!1}];if(r.inputs){let s=K4(r.inputs);s&&i.push({key:"inputs",value:s,quoted:!1})}if(r.outputs){let s=K4(r.outputs);s&&i.push({key:"outputs",value:s,quoted:!1})}e.push(Da(i))}r.isForwardReference&&(n=!0)}return n?new ff([],[new ls(Zn(e))]):Zn(e)}function K4(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(Ie(n),Ie(t[n]));return e.length>0?Zn(e):null}var zA=class extends c0{visit(e){e instanceof So?this.visit(e.ast):e.visit(this)}visitElement(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitTemplate(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.templateAttrs),this.visitAllTemplateNodes(e.variables),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitContent(e){this.visitAllTemplateNodes(e.children)}visitBoundAttribute(e){this.visit(e.value)}visitBoundEvent(e){this.visit(e.handler)}visitBoundText(e){this.visit(e.value)}visitIcu(e){Object.keys(e.vars).forEach(n=>this.visit(e.vars[n])),Object.keys(e.placeholders).forEach(n=>this.visit(e.placeholders[n]))}visitDeferredBlock(e){e.visitAll(this)}visitDeferredTrigger(e){e instanceof t2?this.visit(e.value):e instanceof vv&&e.options!==null&&this.visit(e.options)}visitDeferredBlockPlaceholder(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockError(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockLoading(e){this.visitAllTemplateNodes(e.children)}visitSwitchBlock(e){this.visit(e.expression),this.visitAllTemplateNodes(e.groups)}visitSwitchBlockCase(e){e.expression&&this.visit(e.expression)}visitSwitchBlockCaseGroup(e){this.visitAllTemplateNodes(e.cases),this.visitAllTemplateNodes(e.children)}visitForLoopBlock(e){e.item.visit(this),this.visitAllTemplateNodes(e.contextVariables),this.visit(e.expression),this.visitAllTemplateNodes(e.children),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.visitAllTemplateNodes(e.children)}visitIfBlock(e){this.visitAllTemplateNodes(e.branches)}visitIfBlockBranch(e){e.expression&&this.visit(e.expression),e.expressionAlias?.visit(this),this.visitAllTemplateNodes(e.children)}visitLetDeclaration(e){this.visit(e.value)}visitComponent(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitDirective(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.references)}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitText(e){}visitUnknownBlock(e){}visitAllTemplateNodes(e){for(let n of e)this.visit(n)}};var YA=class{directiveMatcher;constructor(e){this.directiveMatcher=e}bind(e){if(!e.template&&!e.host)throw new Error("Empty bound targets are not supported");let n=new Map,r=[],i=new Set,s=new Map,o=new Map,a=new Map,l=new Map,c=new Map,u=new Map,f=new Set,d=new Set,h=[];if(e.template){let g=H2.apply(e.template);nre(g,a),XA.apply(e.template,this.directiveMatcher,n,r,i,s,o),$2.applyWithScope(e.template,g,l,c,u,f,d,h)}return e.host&&(n.set(e.host.node,e.host.directives),$2.applyWithScope(e.host.node,H2.apply(e.host.node),l,c,u,f,d,h)),new KA(e,n,r,i,s,o,l,c,u,a,f,d,h)}},H2=class t{parentScope;rootNode;namedEntities=new Map;elementLikeInScope=new Set;childScopes=new Map;isDeferred;constructor(e,n){this.parentScope=e,this.rootNode=n,this.isDeferred=e!==null&&e.isDeferred?!0:n instanceof Kd}static newRootScope(){return new t(null,null)}static apply(e){let n=t.newRootScope();return n.ingest(e),n}ingest(e){e instanceof Qo?(e.variables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof Rd?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(n=>n.visit(this))):e instanceof d0?(this.visitVariable(e.item),e.contextVariables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof wv||e instanceof Ev||e instanceof Kd||e instanceof xv||e instanceof yv||e instanceof _v||e instanceof h0?e.children.forEach(n=>n.visit(this)):e instanceof Cv||e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementLike(e)}visitTemplate(e){e.directives.forEach(n=>n.visit(this)),e.references.forEach(n=>this.visitReference(n)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.groups.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){}visitSwitchBlockCaseGroup(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitComponent(e){this.visitElementLike(e)}visitDirective(e){e.references.forEach(n=>this.visitReference(n))}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitElementLike(e){e.directives.forEach(n=>n.visit(this)),e.references.forEach(n=>this.visitReference(n)),e.children.forEach(n=>n.visit(this)),this.elementLikeInScope.add(e)}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let n=this.childScopes.get(e);if(n===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return n}ingestScopedNode(e){let n=new t(this,e);n.ingest(e),this.childScopes.set(e,n)}},XA=class t{directiveMatcher;directives;eagerDirectives;missingDirectives;bindings;references;isInDeferBlock=!1;constructor(e,n,r,i,s,o){this.directiveMatcher=e,this.directives=n,this.eagerDirectives=r,this.missingDirectives=i,this.bindings=s,this.references=o}static apply(e,n,r,i,s,o,a){new t(n,r,i,s,o,a).ingest(e)}ingest(e){e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitDeferredBlock(e){let n=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(r=>r.visit(this)),this.isInDeferBlock=n,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockError(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(n=>n.visit(this))}visitSwitchBlock(e){e.groups.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){}visitSwitchBlockCaseGroup(e){e.children.forEach(n=>n.visit(this))}visitForLoopBlock(e){e.item.visit(this),e.contextVariables.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(n=>n.visit(this))}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(n=>n.visit(this))}visitContent(e){e.children.forEach(n=>n.visit(this))}visitComponent(e){if(this.directiveMatcher instanceof Fx){let n=this.directiveMatcher.match(e.componentName);n.length>0?this.trackSelectorlessMatchesAndDirectives(e,n):this.missingDirectives.add(e.componentName)}e.directives.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this))}visitDirective(e){if(this.directiveMatcher instanceof Fx){let n=this.directiveMatcher.match(e.name);n.length>0?this.trackSelectorlessMatchesAndDirectives(e,n):this.missingDirectives.add(e.name)}}visitElementOrTemplate(e){if(this.directiveMatcher instanceof Px){let n=[],r=nY(e);this.directiveMatcher.match(r,(i,s)=>n.push(...s)),this.trackSelectorBasedBindingsAndDirectives(e,n)}else e.references.forEach(n=>{n.value.trim()===""&&this.references.set(n,e)});e.directives.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this))}trackMatchedDirectives(e,n){n.length>0&&(this.directives.set(e,n),this.isInDeferBlock||this.eagerDirectives.push(...n))}trackSelectorlessMatchesAndDirectives(e,n){if(n.length===0)return;this.trackMatchedDirectives(e,n);let r=(i,s,o)=>{i[o].hasBindingPropertyName(s.name)&&this.bindings.set(s,i)};for(let i of n)e.inputs.forEach(s=>r(i,s,"inputs")),e.attributes.forEach(s=>r(i,s,"inputs")),e.outputs.forEach(s=>r(i,s,"outputs"));e.references.forEach(i=>this.references.set(i,{directive:n[0],node:e}))}trackSelectorBasedBindingsAndDirectives(e,n){this.trackMatchedDirectives(e,n),e.references.forEach(i=>{let s=null;if(i.value.trim()==="")s=n.find(o=>o.isComponent)||null;else if(s=n.find(o=>o.exportAs!==null&&o.exportAs.some(a=>a===i.value))||null,s===null)return;s!==null?this.references.set(i,{directive:s,node:e}):this.references.set(i,e)});let r=(i,s)=>{let o=n.find(l=>l[s].hasBindingPropertyName(i.name)),a=o!==void 0?o:e;this.bindings.set(i,a)};e.inputs.forEach(i=>r(i,"inputs")),e.attributes.forEach(i=>r(i,"inputs")),e instanceof Qo&&e.templateAttrs.forEach(i=>r(i,"inputs")),e.outputs.forEach(i=>r(i,"outputs"))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},$2=class t extends zA{bindings;symbols;usedPipes;eagerPipes;deferBlocks;nestingLevel;scope;rootNode;level;visitNode=e=>e.visit(this);constructor(e,n,r,i,s,o,a,l,c){super(),this.bindings=e,this.symbols=n,this.usedPipes=r,this.eagerPipes=i,this.deferBlocks=s,this.nestingLevel=o,this.scope=a,this.rootNode=l,this.level=c}static applyWithScope(e,n,r,i,s,o,a,l){let c=e instanceof Qo?e:null;new t(r,i,o,a,l,s,n,c,0).ingest(e)}ingest(e){if(e instanceof Qo)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Rd)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof d0)this.visitNode(e.item),e.contextVariables.forEach(n=>this.visitNode(n)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Kd){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.push([e,this.scope]),e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof wv||e instanceof Ev||e instanceof xv||e instanceof yv||e instanceof _v||e instanceof h0?(e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)):e instanceof Cv?this.nestingLevel.set(e,0):e.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.directives.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.hydrateTriggers.when?.value.visit(this),e.hydrateTriggers.never?.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlockCase(e){e.expression?.visit(this)}visitSwitchBlockCaseGroup(e){e.cases.forEach(n=>n.visit(this)),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){super.visitLetDeclaration(e),this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitPipe(e,n){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,n)}visitPropertyRead(e,n){return this.maybeMap(e,e.name),super.visitPropertyRead(e,n)}visitSafePropertyRead(e,n){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,n)}ingestScopedNode(e){let n=this.scope.getChildScope(e);new t(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,n,e,this.level+1).ingest(e)}maybeMap(e,n){if(!(e.receiver instanceof lc))return;let r=this.scope.lookup(n);r!==null&&this.bindings.set(e,r)}},KA=class{target;directives;eagerDirectives;missingDirectives;bindings;references;exprTargets;symbols;nestingLevel;scopedNodeEntities;usedPipes;eagerPipes;deferredBlocks;deferredScopes;constructor(e,n,r,i,s,o,a,l,c,u,f,d,h){this.target=e,this.directives=n,this.eagerDirectives=r,this.missingDirectives=i,this.bindings=s,this.references=o,this.exprTargets=a,this.symbols=l,this.nestingLevel=c,this.scopedNodeEntities=u,this.usedPipes=f,this.eagerPipes=d,this.deferredBlocks=h.map(g=>g[0]),this.deferredScopes=new Map(h)}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(n=>n.forEach(r=>e.add(r))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,n){if(!(n instanceof r2)&&!(n instanceof vv)&&!(n instanceof n2))return null;let r=n.reference;if(r===null){let s=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof j2)){if(s!==null)return null;o instanceof cc&&(s=o)}}return s}let i=this.findEntityInScope(e,r);if(i instanceof Sv&&this.getDefinitionNodeOfSymbol(i)!==e){let s=this.getReferenceTarget(i);if(s!==null)return this.referenceTargetToElement(s)}if(e.placeholder!==null){let s=this.findEntityInScope(e.placeholder,r),o=s instanceof Sv?this.getReferenceTarget(s):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let n of this.deferredBlocks){if(!this.deferredScopes.has(n))continue;let r=[this.deferredScopes.get(n)];for(;r.length>0;){let i=r.pop();if(i.elementLikeInScope.has(e))return!0;r.push(...i.childScopes.values())}}return!1}referencedDirectiveExists(e){return!this.missingDirectives.has(e)}findEntityInScope(e,n){let r=this.getEntitiesInScope(e);for(let i of r)if(i.name===n)return i;return null}referenceTargetToElement(e){return e instanceof cc?e:e instanceof Qo||e.node instanceof jg||e.node instanceof fL||e.node instanceof Cv?null:this.referenceTargetToElement(e.node)}};function nre(t,e){let n=new Map;function r(s){if(n.has(s.rootNode))return n.get(s.rootNode);let o=s.namedEntities,a;return s.parentScope!==null?a=new Map([...r(s.parentScope),...o]):a=new Map(o),n.set(s.rootNode,a),a}let i=[t];for(;i.length>0;){let s=i.pop();for(let o of s.childScopes.values())i.push(o);r(s)}for(let[s,o]of n)e.set(s,new Set(o.values()))}var JA=class{},QA=class{jitEvaluator;FactoryTarget=Zc;ResourceLoader=JA;elementSchemaRegistry=new x0;constructor(e=new ZT){this.jitEvaluator=e}compilePipe(e,n,r){let i={name:r.name,type:Bi(r.type),typeArgumentCount:0,deps:null,pipeName:r.pipeName,pure:r.pure,isStandalone:r.isStandalone},s=VR(i);return this.jitExpression(s.expression,e,n,[])}compilePipeDeclaration(e,n,r){let i=_re(r),s=VR(i);return this.jitExpression(s.expression,e,n,[])}compileInjectable(e,n,r){let{expression:i,statements:s}=DR({name:r.name,type:Bi(r.type),typeArgumentCount:r.typeArgumentCount,providedIn:nL(r.providedIn),useClass:jp(r,"useClass"),useFactory:tL(r,"useFactory"),useValue:jp(r,"useValue"),useExisting:jp(r,"useExisting"),deps:r.deps?.map(P8)},!0);return this.jitExpression(i,e,n,s)}compileInjectableDeclaration(e,n,r){let{expression:i,statements:s}=DR({name:r.type.name,type:Bi(r.type),typeArgumentCount:0,providedIn:nL(r.providedIn),useClass:jp(r,"useClass"),useFactory:tL(r,"useFactory"),useValue:jp(r,"useValue"),useExisting:jp(r,"useExisting"),deps:r.deps?.map(rL)},!0);return this.jitExpression(i,e,n,s)}compileInjector(e,n,r){let i={name:r.name,type:Bi(r.type),providers:r.providers&&r.providers.length>0?new mn(r.providers):null,imports:r.imports.map(o=>new mn(o))},s=BR(i);return this.jitExpression(s.expression,e,n,[])}compileInjectorDeclaration(e,n,r){let i=xre(r),s=BR(i);return this.jitExpression(s.expression,e,n,[])}compileNgModule(e,n,r){let i={kind:uf.Global,type:Bi(r.type),bootstrap:r.bootstrap.map(Bi),declarations:r.declarations.map(Bi),publicDeclarationTypes:null,imports:r.imports.map(Bi),includeImportTypes:!0,exports:r.exports.map(Bi),selectorScopeMode:d2.Inline,containsForwardDecls:!1,schemas:r.schemas?r.schemas.map(Bi):null,id:r.id?new mn(r.id):null},s=EY(i);return this.jitExpression(s.expression,e,n,[])}compileNgModuleDeclaration(e,n,r){let i=SY(r);return this.jitExpression(i,e,n,[])}compileDirective(e,n,r){let i=Z4(r);return this.compileDirectiveFromMeta(e,n,i)}compileDirectiveDeclaration(e,n,r){let i=this.createParseSourceSpan("Directive",r.type.name,n),s=N8(r,i);return this.compileDirectiveFromMeta(e,n,s)}compileDirectiveFromMeta(e,n,r){let i=new Gx,s=U2(),o=qne(r,i,s);return this.jitExpression(o.expression,e,n,i.statements)}compileComponent(e,n,r){let{template:i,defer:s}=M8(r.template,r.name,n,r.preserveWhitespaces,void 0),o=Nt(De(De({},r),Z4(r)),{selector:r.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:i,declarations:r.declarations.map(ore),declarationListEmitMode:0,defer:s,styles:[...r.styles,...i.styles],encapsulation:r.encapsulation,changeDetection:r.changeDetection??null,animations:r.animations!=null?new mn(r.animations):null,viewProviders:r.viewProviders!=null?new mn(r.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),a=`ng:///${r.name}.js`;return this.compileComponentFromMeta(e,a,o)}compileComponentDeclaration(e,n,r){let i=this.createParseSourceSpan("Component",r.type.name,n),s=sre(r,i,n);return this.compileComponentFromMeta(e,n,s)}compileComponentFromMeta(e,n,r){let i=new Gx,s=U2(),o=Gne(r,i,s);return this.jitExpression(o.expression,e,n,i.statements)}compileFactory(e,n,r){let i=Ad({name:r.name,type:Bi(r.type),typeArgumentCount:r.typeArgumentCount,deps:cre(r.deps),target:r.target});return this.jitExpression(i.expression,e,n,i.statements)}compileFactoryDeclaration(e,n,r){let i=Ad({name:r.type.name,type:Bi(r.type),typeArgumentCount:0,deps:Array.isArray(r.deps)?r.deps.map(rL):r.deps,target:r.target});return this.jitExpression(i.expression,e,n,i.statements)}createParseSourceSpan(e,n,r){return mY(e,n,r)}jitExpression(e,n,r,i){let s=[...i,new Ui("$def",e,void 0,as.Exported)];return this.jitEvaluator.evaluateStatements(r,s,new tA(n),!0).$def}};function J4(t){return Nt(De({},t),{isSignal:t.isSignal,predicate:k8(t.predicate),read:t.read?new mn(t.read):null,static:t.static,emitDistinctChangesOnly:t.emitDistinctChangesOnly})}function Q4(t){return{propertyName:t.propertyName,first:t.first??!1,predicate:k8(t.predicate),descendants:t.descendants??!1,read:t.read?new mn(t.read):null,static:t.static??!1,emitDistinctChangesOnly:t.emitDistinctChangesOnly??!0,isSignal:!!t.isSignal}}function k8(t){return Array.isArray(t)?t:sI(new mn(t),1)}function Z4(t){let e=yre(t.inputs||[]),n=TT(t.outputs||[]),r=t.propMetadata,i={},s={};for(let a in r)r.hasOwnProperty(a)&&r[a].forEach(l=>{pre(l)?i[a]={bindingPropertyName:l.alias||a,classPropertyName:a,required:l.required||!1,isSignal:!!l.isSignal,transformFunction:l.transform!=null?new mn(l.transform):null}:mre(l)&&(s[a]=l.alias||a)});let o=t.hostDirectives?.length?t.hostDirectives.map(a=>typeof a=="function"?{directive:Bi(a),inputs:null,outputs:null,isForwardReference:!1}:{directive:Bi(a.directive),isForwardReference:!1,inputs:a.inputs?TT(a.inputs):null,outputs:a.outputs?TT(a.outputs):null}):null;return Nt(De({},t),{typeArgumentCount:0,typeSourceSpan:t.typeSourceSpan,type:Bi(t.type),deps:null,host:De({},fre(t.propMetadata,t.typeSourceSpan,t.host)),inputs:De(De({},e),i),outputs:De(De({},n),s),queries:t.queries.map(J4),providers:t.providers!=null?new mn(t.providers):null,viewQueries:t.viewQueries.map(J4),hostDirectives:o})}function N8(t,e){let n=t.hostDirectives?.length?t.hostDirectives.map(r=>({directive:Bi(r.directive),isForwardReference:!1,inputs:r.inputs?eL(r.inputs):null,outputs:r.outputs?eL(r.outputs):null})):null;return{name:t.type.name,type:Bi(t.type),typeSourceSpan:e,selector:t.selector??null,inputs:t.inputs?gre(t.inputs):{},outputs:t.outputs??{},host:rre(t.host),queries:(t.queries??[]).map(Q4),viewQueries:(t.viewQueries??[]).map(Q4),providers:t.providers!==void 0?new mn(t.providers):null,exportAs:t.exportAs??null,usesInheritance:t.usesInheritance??!1,lifecycle:{usesOnChanges:t.usesOnChanges??!1},deps:null,typeArgumentCount:0,isStandalone:t.isStandalone??uL(t.version),isSignal:t.isSignal??!1,hostDirectives:n}}function rre(t={}){return{attributes:ire(t.attributes??{}),listeners:t.listeners??{},properties:t.properties??{},specialAttributes:{classAttr:t.classAttribute,styleAttr:t.styleAttribute}}}function eL(t){let e=null;for(let n=1;n<t.length;n+=2)e=e||{},e[t[n-1]]=t[n];return e}function ire(t){let e={};for(let n of Object.keys(t))e[n]=new mn(t[n]);return e}function sre(t,e,n){let{template:r,defer:i}=M8(t.template,t.type.name,n,t.preserveWhitespaces??!1,t.deferBlockDependencies),s=[];if(t.dependencies)for(let a of t.dependencies)switch(a.kind){case"directive":case"component":s.push(bT(a));break;case"pipe":s.push(lre(a));break}else(t.components||t.directives||t.pipes)&&(t.components&&s.push(...t.components.map(a=>bT(a,!0))),t.directives&&s.push(...t.directives.map(a=>bT(a))),t.pipes&&s.push(...are(t.pipes)));let o=s.some(({kind:a})=>a===m0.Directive||a===m0.NgModule);return Nt(De({},N8(t,e)),{template:r,styles:t.styles??[],declarations:s,viewProviders:t.viewProviders!==void 0?new mn(t.viewProviders):null,animations:t.animations!==void 0?new mn(t.animations):null,defer:i,changeDetection:t.changeDetection??eI.Default,encapsulation:t.encapsulation??Td.Emulated,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null,hasDirectiveDependencies:o})}function ore(t){return Nt(De({},t),{type:new mn(t.type)})}function bT(t,e=null){return{kind:m0.Directive,isComponent:e||t.kind==="component",selector:t.selector,type:new mn(t.type),inputs:t.inputs??[],outputs:t.outputs??[],exportAs:t.exportAs??null}}function are(t){return t?Object.keys(t).map(e=>({kind:m0.Pipe,name:e,type:new mn(t[e])})):[]}function lre(t){return{kind:m0.Pipe,name:t.name,type:new mn(t.type)}}function M8(t,e,n,r,i){let s=Vne(t,n,{preserveWhitespaces:r});if(s.errors!==null){let l=s.errors.map(c=>c.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${l}`)}let a=new YA(null).bind({template:s.nodes});return{template:s,defer:ure(a,i)}}function jp(t,e){if(t.hasOwnProperty(e))return sI(new mn(t[e]),0)}function tL(t,e){if(t.hasOwnProperty(e))return new mn(t[e])}function nL(t){let e=typeof t=="function"?new mn(t):new us(t??null);return sI(e,0)}function cre(t){return t==null?null:t.map(P8)}function P8(t){let e=t.attribute!=null,n=t.token===null?null:new mn(t.token),r=e?new mn(t.attribute):n;return F8(r,e,t.host,t.optional,t.self,t.skipSelf)}function rL(t){let e=t.attribute??!1,n=t.token===null?null:new mn(t.token);return F8(n,e,t.host??!1,t.optional??!1,t.self??!1,t.skipSelf??!1)}function F8(t,e,n,r,i,s){let o=e?Ie("unknown"):null;return{token:t,attributeNameType:o,host:n,optional:r,self:i,skipSelf:s}}function ure(t,e){let n=t.getDeferBlocks(),r=new Map;for(let i=0;i<n.length;i++){let s=e?.[i];r.set(n[i],s?new mn(s):null)}return{mode:0,blocks:r}}function fre(t,e,n){let r=Qne(n||{}),i=Zne(r,e);if(i.length)throw new Error(i.map(s=>s.msg).join(`
`));for(let s in t)t.hasOwnProperty(s)&&t[s].forEach(o=>{dre(o)?r.properties[o.hostPropertyName||s]=Bz("this",s):hre(o)&&(r.listeners[o.eventName||s]=`${s}(${(o.args||[]).join(",")})`)});return r}function dre(t){return t.ngMetadataName==="HostBinding"}function hre(t){return t.ngMetadataName==="HostListener"}function pre(t){return t.ngMetadataName==="Input"}function mre(t){return t.ngMetadataName==="Output"}function gre(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return typeof r=="string"||Array.isArray(r)?e[n]=vre(r):e[n]={bindingPropertyName:r.publicName,classPropertyName:n,transformFunction:r.transformFunction!==null?new mn(r.transformFunction):null,required:r.isRequired,isSignal:r.isSignal},e},{})}function vre(t){return typeof t=="string"?{bindingPropertyName:t,classPropertyName:t,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:t[0],classPropertyName:t[1],transformFunction:t[2]?new mn(t[2]):null,required:!1,isSignal:!1}}function yre(t){return t.reduce((e,n)=>{if(typeof n=="string"){let[r,i]=R8(n);e[i]={bindingPropertyName:r,classPropertyName:i,required:!1,isSignal:!1,transformFunction:null}}else e[n.name]={bindingPropertyName:n.alias||n.name,classPropertyName:n.name,required:n.required||!1,isSignal:!1,transformFunction:n.transform!=null?new mn(n.transform):null};return e},{})}function TT(t){return t.reduce((e,n)=>{let[r,i]=R8(n);return e[i]=r,e},{})}function R8(t){let[e,n]=t.split(":",2).map(r=>r.trim());return[n??e,e]}function _re(t){return{name:t.type.name,type:Bi(t.type),typeArgumentCount:0,pipeName:t.name,deps:null,pure:t.pure??!0,isStandalone:t.isStandalone??uL(t.version)}}function xre(t){return{name:t.type.name,type:Bi(t.type),providers:t.providers!==void 0&&t.providers.length>0?new mn(t.providers):null,imports:t.imports!==void 0?t.imports.map(e=>new mn(e)):[]}}function wre(t){let e=t.ng||(t.ng={});e.\u0275compilerFacade=new QA}var ZA=class{closedByParent=!1;implicitNamespacePrefix=null;isVoid=!1;ignoreFirstLf=!1;canSelfClose=!0;preventNamespaceInheritance=!1;requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return Ql.PARSABLE_DATA}},E5e=new ZA;var S5e=new MT("21.1.2");wre(Wg);var Ts=null,Q2=!1,DI=1,Ere=null,eo=Symbol("SIGNAL");function Gt(t){let e=Ts;return Ts=t,e}function ew(){return Ts}var T0={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qv(t){if(Q2)throw new Error("");if(Ts===null)return;Ts.consumerOnSignalRead(t);let e=Ts.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Ts.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Ts.producers,n!==void 0&&n.producer===t)){Ts.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Ts&&(!r||Cre(i,Ts)))return;let s=I0(Ts),o={producer:t,consumer:Ts,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Ts.producersTail=o,e!==void 0?e.nextProducer=o:Ts.producers=o,s&&V8(t,o)}function L8(){DI++}function kI(t){if(!(I0(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===DI)){if(!t.producerMustRecompute(t)&&!e1(t)){II(t);return}t.producerRecomputeValue(t),II(t)}}function NI(t){if(t.consumers===void 0)return;let e=Q2;Q2=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Sre(r)}}finally{Q2=e}}function MI(){return Ts?.consumerAllowSignalWrites!==!1}function Sre(t){t.dirty=!0,NI(t),t.consumerMarkedDirty?.(t)}function II(t){t.dirty=!1,t.lastCleanEpoch=DI}function A0(t){return t&&O8(t),Gt(t)}function O8(t){t.producersTail=void 0,t.recomputing=!0}function Zv(t,e){Gt(e),t&&B8(t)}function B8(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(I0(t))do n=PI(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function e1(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(kI(n),r!==n.version))return!0}return!1}function ih(t){if(I0(t)){let e=t.producers;for(;e!==void 0;)e=PI(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function V8(t,e){let n=t.consumersTail,r=I0(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)V8(i.producer,i)}function PI(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!I0(e)){let s=e.producers;for(;s!==void 0;)s=PI(s)}return n}function I0(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function FI(t){Ere?.(t)}function Cre(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function RI(t,e){return Object.is(t,e)}function tw(t,e){let n=Object.create(bre);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(kI(n),Qv(n),n.value===Z2)throw n.error;return n.value};return r[eo]=n,FI(n),r}var TI=Symbol("UNSET"),AI=Symbol("COMPUTING"),Z2=Symbol("ERRORED"),bre=Nt(De({},T0),{value:TI,dirty:!0,error:null,equal:RI,kind:"computed",producerMustRecompute(t){return t.value===TI||t.value===AI},producerRecomputeValue(t){if(t.value===AI)throw new Error("");let e=t.value;t.value=AI;let n=A0(t),r,i=!1;try{r=t.computation(),Gt(null),i=e!==TI&&e!==Z2&&r!==Z2&&t.equal(e,r)}catch(s){r=Z2,t.error=s}finally{Zv(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function Tre(){throw new Error}var U8=Tre;function H8(t){U8(t)}function LI(t){U8=t}var Are=null;function OI(t,e){let n=Object.create(nw);n.value=t,e!==void 0&&(n.equal=e);let r=()=>$8(n);return r[eo]=n,FI(n),[r,o=>t1(n,o),o=>q8(n,o)]}function $8(t){return Qv(t),t.value}function t1(t,e){MI()||H8(t),t.equal(t.value,e)||(t.value=e,Ire(t))}function q8(t,e){MI()||H8(t),t1(t,e(t.value))}var nw=Nt(De({},T0),{equal:RI,value:void 0,kind:"signal"});function Ire(t){t.version++,L8(),NI(t),Are?.(t)}function BI(t){let e=Gt(null);try{return t()}finally{Gt(e)}}var VI=Nt(De({},T0),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function UI(t){if(t.dirty=!1,t.version>0&&!e1(t))return;t.version++;let e=A0(t);try{t.cleanup(),t.fn()}finally{Zv(t,e)}}function lr(t){return typeof t=="function"}function rw(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var iw=rw(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function n1(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var to=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(lr(r))try{r()}catch(s){e=s instanceof iw?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{G8(s)}catch(o){e=e??[],o instanceof iw?e=[...e,...o.errors]:e.push(o)}}if(e)throw new iw(e)}}add(e){var n;if(e&&e!==this)if(this.closed)G8(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&n1(n,e)}remove(e){let{_finalizers:n}=this;n&&n1(n,e),e instanceof t&&e._removeParent(this)}};to.EMPTY=(()=>{let t=new to;return t.closed=!0,t})();var HI=to.EMPTY;function sw(t){return t instanceof to||t&&"closed"in t&&lr(t.remove)&&lr(t.add)&&lr(t.unsubscribe)}function G8(t){lr(t)?t():t.unsubscribe()}var fl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var D0={setTimeout(t,e,...n){let{delegate:r}=D0;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=D0;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ow(t){D0.setTimeout(()=>{let{onUnhandledError:e}=fl;if(e)e(t);else throw t})}function $I(){}var W8=qI("C",void 0,void 0);function j8(t){return qI("E",void 0,t)}function z8(t){return qI("N",t,void 0)}function qI(t,e,n){return{kind:t,value:e,error:n}}var sh=null;function k0(t){if(fl.useDeprecatedSynchronousErrorHandling){let e=!sh;if(e&&(sh={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=sh;if(sh=null,n)throw r}}else t()}function Y8(t){fl.useDeprecatedSynchronousErrorHandling&&sh&&(sh.errorThrown=!0,sh.error=t)}var oh=class extends to{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sw(e)&&e.add(this)):this.destination=Nre}static create(e,n,r){return new N0(e,n,r)}next(e){this.isStopped?WI(z8(e),this):this._next(e)}error(e){this.isStopped?WI(j8(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?WI(W8,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Dre=Function.prototype.bind;function GI(t,e){return Dre.call(t,e)}var jI=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){aw(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){aw(r)}else aw(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){aw(n)}}},N0=class extends oh{constructor(e,n,r){super();let i;if(lr(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&fl.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&GI(e.next,s),error:e.error&&GI(e.error,s),complete:e.complete&&GI(e.complete,s)}):i=e}this.destination=new jI(i)}};function aw(t){fl.useDeprecatedSynchronousErrorHandling?Y8(t):ow(t)}function kre(t){throw t}function WI(t,e){let{onStoppedNotification:n}=fl;n&&D0.setTimeout(()=>n(t,e))}var Nre={closed:!0,next:$I,error:kre,complete:$I};var M0=typeof Symbol=="function"&&Symbol.observable||"@@observable";function X8(t){return t}function K8(t){return t.length===0?X8:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var hi=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=Pre(n)?n:new N0(n,r,i);return k0(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=J8(r),new r((i,s)=>{let o=new N0({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[M0](){return this}pipe(...n){return K8(n)(this)}toPromise(n){return n=J8(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function J8(t){var e;return(e=t??fl.Promise)!==null&&e!==void 0?e:Promise}function Mre(t){return t&&lr(t.next)&&lr(t.error)&&lr(t.complete)}function Pre(t){return t&&t instanceof oh||Mre(t)&&sw(t)}function Fre(t){return lr(t?.lift)}function P0(t){return e=>{if(Fre(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function F0(t,e,n,r,i){return new zI(t,e,n,r,i)}var zI=class extends oh{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Q8=rw(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var hc=(()=>{class t extends hi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new lw(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Q8}next(n){k0(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){k0(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){k0(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?HI:(this.currentObservers=null,s.push(n),new to(()=>{this.currentObservers=null,n1(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new hi;return n.source=this,n}}return t.create=(e,n)=>new lw(e,n),t})(),lw=class extends hc{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:HI}};var r1=class extends hc{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function Rre(t){return t[t.length-1]}function Z8(t){return lr(Rre(t))?t.pop():void 0}function tO(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function eO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ah(t){return this instanceof ah?(this.v=t,this):new ah(t)}function nO(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(g){return Promise.resolve(g).then(h,f)}}function a(h,g){r[h]&&(i[h]=function(v){return new Promise(function(x,_){s.push([h,v,x,_])>1||l(h,v)})},g&&(i[h]=g(i[h])))}function l(h,g){try{c(r[h](g))}catch(v){d(s[0][3],v)}}function c(h){h.value instanceof ah?Promise.resolve(h.value.v).then(u,f):d(s[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function d(h,g){h(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}function rO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof eO=="function"?eO(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var cw=t=>t&&typeof t.length=="number"&&typeof t!="function";function uw(t){return lr(t?.then)}function fw(t){return lr(t[M0])}function dw(t){return Symbol.asyncIterator&&lr(t?.[Symbol.asyncIterator])}function hw(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Lre(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pw=Lre();function mw(t){return lr(t?.[pw])}function gw(t){return nO(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ah(n.read());if(i)return yield ah(void 0);yield yield ah(r)}}finally{n.releaseLock()}})}function vw(t){return lr(t?.getReader)}function Tf(t){if(t instanceof hi)return t;if(t!=null){if(fw(t))return Ore(t);if(cw(t))return Bre(t);if(uw(t))return Vre(t);if(dw(t))return iO(t);if(mw(t))return Ure(t);if(vw(t))return Hre(t)}throw hw(t)}function Ore(t){return new hi(e=>{let n=t[M0]();if(lr(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Bre(t){return new hi(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Vre(t){return new hi(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ow)})}function Ure(t){return new hi(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function iO(t){return new hi(e=>{$re(t,e).catch(n=>e.error(n))})}function Hre(t){return iO(gw(t))}function $re(t,e){var n,r,i,s;return tO(this,void 0,void 0,function*(){try{for(n=rO(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function pc(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function yw(t,e=0){return P0((n,r)=>{n.subscribe(F0(r,i=>pc(r,t,()=>r.next(i),e),()=>pc(r,t,()=>r.complete(),e),i=>pc(r,t,()=>r.error(i),e)))})}function _w(t,e=0){return P0((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function sO(t,e){return Tf(t).pipe(_w(e),yw(e))}function oO(t,e){return Tf(t).pipe(_w(e),yw(e))}function aO(t,e){return new hi(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lO(t,e){return new hi(n=>{let r;return pc(n,e,()=>{r=t[pw](),pc(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>lr(r?.return)&&r.return()})}function xw(t,e){if(!t)throw new Error("Iterable cannot be null");return new hi(n=>{pc(n,e,()=>{let r=t[Symbol.asyncIterator]();pc(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cO(t,e){return xw(gw(t),e)}function uO(t,e){if(t!=null){if(fw(t))return sO(t,e);if(cw(t))return aO(t,e);if(uw(t))return oO(t,e);if(dw(t))return xw(t,e);if(mw(t))return lO(t,e);if(vw(t))return cO(t,e)}throw hw(t)}function YI(t,e){return e?uO(t,e):Tf(t)}function lh(t,e){return P0((n,r)=>{let i=0;n.subscribe(F0(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:qre}=Array;function Gre(t,e){return qre(e)?t(...e):t(e)}function fO(t){return lh(e=>Gre(t,e))}var{isArray:Wre}=Array,{getPrototypeOf:jre,prototype:zre,keys:Yre}=Object;function dO(t){if(t.length===1){let e=t[0];if(Wre(e))return{args:e,keys:null};if(Xre(e)){let n=Yre(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Xre(t){return t&&typeof t=="object"&&jre(t)===zre}function hO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function XI(...t){let e=Z8(t),{args:n,keys:r}=dO(t),i=new hi(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let f=!1;Tf(n[u]).subscribe(F0(s,d=>{f||(f=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!f)&&(c||s.next(r?hO(r,a):a),s.complete())}))}});return e?i.pipe(fO(e)):i}var KI;function ww(){return KI}function mc(t){let e=KI;return KI=t,e}var pO=Symbol("NotFound");function R0(t){return t===pO||t?.name==="\u0275NotFound"}var Iw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",zt=class extends Error{code;constructor(e,n){super(Dw(e,n)),this.code=e}};function Kre(t){return`NG0${Math.abs(t)}`}function Dw(t,e){return`${Kre(t)}${e?": "+e:""}`}var hl=globalThis;function Sr(t){for(let e in t)if(t[e]===Sr)return e;throw Error("")}function _O(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Af(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Af).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function kw(t,e){return t?e?`${t} ${e}`:t:e||""}var Jre=Sr({__forward_ref__:Sr});function cu(t){return t.__forward_ref__=cu,t.toString=function(){return Af(this())},t}function ds(t){return cD(t)?t():t}function cD(t){return typeof t=="function"&&t.hasOwnProperty(Jre)&&t.__forward_ref__===cu}function Dr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mf(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nw(t){return Qre(t,Mw)}function Qre(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Zre(t){let e=t?.[Mw]??null;return e||null}function QI(t){return t&&t.hasOwnProperty(Sw)?t[Sw]:null}var Mw=Sr({\u0275prov:Sr}),Sw=Sr({\u0275inj:Sr}),gn=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Dr({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uD(t){return t&&!!t.\u0275providers}var fD=Sr({\u0275cmp:Sr}),dD=Sr({\u0275dir:Sr}),hD=Sr({\u0275pipe:Sr});var s1=Sr({\u0275fac:Sr}),hh=Sr({__NG_ELEMENT_ID__:Sr}),mO=Sr({__NG_ENV_ID__:Sr});function u1(t){return mD(t,"@Component"),t[fD]||null}function pD(t){return mD(t,"@Directive"),t[dD]||null}function xO(t){return mD(t,"@Pipe"),t[hD]||null}function mD(t,e){if(t==null)throw new zt(-919,!1)}function Pf(t){return typeof t=="string"?t:t==null?"":String(t)}var wO=Sr({ngErrorCode:Sr}),eie=Sr({ngErrorMessage:Sr}),tie=Sr({ngTokenPath:Sr});function gD(t,e){return EO("",-200,e)}function Pw(t,e){throw new zt(-201,!1)}function EO(t,e,n){let r=new zt(e,t);return r[wO]=e,r[eie]=t,n&&(r[tie]=n),r}function nie(t){return t[wO]}var ZI;function SO(){return ZI}function no(t){let e=ZI;return ZI=t,e}function vD(t,e,n){let r=Nw(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Pw(t,"")}var rie={},ch=rie,iie="__NG_DI_FLAG__",eD=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=uh(n)||0;try{return this.injector.get(e,r&8?null:ch,r)}catch(i){if(R0(i))return i;throw i}}};function sie(t,e=0){let n=ww();if(n===void 0)throw new zt(-203,!1);if(n===null)return vD(t,void 0,e);{let r=oie(e),i=n.retrieve(t,r);if(R0(i)){if(r.optional)return null;throw i}return i}}function vr(t,e=0){return(SO()||sie)(ds(t),e)}function Pt(t,e){return vr(t,uh(e))}function uh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function oie(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function tD(t){let e=[];for(let n=0;n<t.length;n++){let r=ds(t[n]);if(Array.isArray(r)){if(r.length===0)throw new zt(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],l=aie(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(vr(i,s))}else e.push(vr(r))}return e}function aie(t){return t[iie]}function If(t,e){let n=t.hasOwnProperty(s1);return n?t[s1]:null}function Fw(t,e){t.forEach(n=>Array.isArray(n)?Fw(n,e):e(n))}function CO(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yD(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Rw(t,e,n){let r=O0(t,e);return r>=0?t[r|1]=n:(r=~r,bO(t,r,e,n)),r}function Lw(t,e){let n=O0(t,e);if(n>=0)return t[n|1]}function O0(t,e){return lie(t,e,1)}function lie(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ff={},ro=[],f1=new gn(""),_D=new gn("",-1),xD=new gn(""),o1=class{get(e,n=ch){if(n===ch){let i=EO("",-201);throw i.name="\u0275NotFound",i}return n}};function wD(t){return{\u0275providers:t}}function TO(...t){return{\u0275providers:ED(!0,t),\u0275fromNgModule:!0}}function ED(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Fw(e,o=>{let a=o;Cw(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&AO(i,s),n}function AO(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];SD(i,s=>{e(s,r)})}}function Cw(t,e,n,r){if(t=ds(t),!t)return!1;let i=null,s=QI(t),o=!s&&u1(t);if(!s&&!o){let l=t.ngModule;if(s=QI(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Cw(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;Fw(s.imports,u=>{Cw(u,e,n,r)&&(c||=[],c.push(u))}),c!==void 0&&AO(c,e)}if(!a){let c=If(i)||(()=>new i);e({provide:i,useFactory:c,deps:ro},i),e({provide:xD,useValue:i,multi:!0},i),e({provide:f1,useValue:()=>vr(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;SD(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function SD(t,e){for(let n of t)uD(n)&&(n=n.\u0275providers),Array.isArray(n)?SD(n,e):e(n)}var cie=Sr({provide:String,useValue:Sr});function IO(t){return t!==null&&typeof t=="object"&&cie in t}function uie(t){return!!(t&&t.useExisting)}function fie(t){return!!(t&&t.useFactory)}function fh(t){return typeof t=="function"}function DO(t){return!!t.useClass}var d1=new gn(""),Ew={},gO={},JI;function h1(){return JI===void 0&&(JI=new o1),JI}var dl=class{},dh=class extends dl{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,rD(e,o=>this.processProvider(o)),this.records.set(_D,L0(void 0,this)),i.has("environment")&&this.records.set(dl,L0(void 0,this));let s=this.records.get(d1);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(xD,ro,{self:!0}))}retrieve(e,n){let r=uh(n)||0;try{return this.get(e,ch,r)}catch(i){if(R0(i))return i;throw i}}destroy(){i1(this),this._destroyed=!0;let e=Gt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Gt(e)}}onDestroy(e){return i1(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){i1(this);let n=mc(this),r=no(void 0),i;try{return e()}finally{mc(n),no(r)}}get(e,n=ch,r){if(i1(this),e.hasOwnProperty(mO))return e[mO](this);let i=uh(r),s,o=mc(this),a=no(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let u=gie(e)&&Nw(e);u&&this.injectableDefInScope(u)?c=L0(nD(e),Ew):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?h1():this.parent;return n=i&8&&n===ch?null:n,l.get(e,n)}catch(l){let c=nie(l);throw c===-200||c===-201?new zt(c,null):l}finally{no(a),mc(o)}}resolveInjectorInitializers(){let e=Gt(null),n=mc(this),r=no(void 0),i;try{let s=this.get(f1,ro,{self:!0});for(let o of s)o()}finally{mc(n),no(r),Gt(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Af(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ds(e);let n=fh(e)?e:ds(e&&e.provide),r=hie(e);if(!fh(e)&&e.multi===!0){let i=this.records.get(n);i||(i=L0(void 0,Ew,!0),i.factory=()=>tD(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Gt(null);try{if(n.value===gO)throw gD(Af(e));return n.value===Ew&&(n.value=gO,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&mie(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Gt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ds(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function nD(t){let e=Nw(t),n=e!==null?e.factory:If(t);if(n!==null)return n;if(t instanceof gn)throw new zt(204,!1);if(t instanceof Function)return die(t);throw new zt(204,!1)}function die(t){if(t.length>0)throw new zt(204,!1);let n=Zre(t);return n!==null?()=>n.factory(t):()=>new t}function hie(t){if(IO(t))return L0(void 0,t.useValue);{let e=CD(t);return L0(e,Ew)}}function CD(t,e,n){let r;if(fh(t)){let i=ds(t);return If(i)||nD(i)}else if(IO(t))r=()=>ds(t.useValue);else if(fie(t))r=()=>t.useFactory(...tD(t.deps||[]));else if(uie(t))r=(i,s)=>vr(ds(t.useExisting),s!==void 0&&s&8?8:void 0);else{let i=ds(t&&(t.useClass||t.provide));if(pie(t))r=()=>new i(...tD(t.deps));else return If(i)||nD(i)}return r}function i1(t){if(t.destroyed)throw new zt(205,!1)}function L0(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pie(t){return!!t.deps}function mie(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function gie(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function rD(t,e){for(let n of t)Array.isArray(n)?rD(n,e):n&&uD(n)?rD(n.\u0275providers,e):e(n)}function Ow(t,e){let n;t instanceof dh?(i1(t),n=t):n=new eD(t);let r,i=mc(n),s=no(void 0);try{return e()}finally{mc(i),no(s)}}function kO(){return SO()!==void 0||ww()!=null}var pl=0,on=1,sn=2,io=3,Ma=4,ml=5,B0=6,V0=7,pi=8,uu=9,yc=10,Yr=11,U0=12,bD=13,ph=14,oa=15,mh=16,gh=17,vh=18,fu=19,TD=20,lu=21,Bw=22,Df=23,aa=24,yh=25,_h=26,mi=27,NO=1,AD=6,H0=7,MO=8,p1=9,Ti=10;function _c(t){return Array.isArray(t)&&typeof t[NO]=="object"}function du(t){return Array.isArray(t)&&t[NO]===!0}function ID(t){return(t.flags&4)!==0}function Rf(t){return t.componentOffset>-1}function Vw(t){return(t.flags&1)===1}function xc(t){return!!t.template}function $0(t){return(t[sn]&512)!==0}function xh(t){return(t[sn]&256)===256}var PO="svg",FO="math";function gl(t){for(;Array.isArray(t);)t=t[pl];return t}function DD(t,e){return gl(e[t])}function hu(t,e){return gl(e[t.index])}function m1(t,e){return t.data[e]}function Uw(t,e){return t[e]}function kD(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Pa(t,e){let n=e[t];return _c(n)?n:n[pl]}function Hw(t){return(t[sn]&128)===128}function wc(t,e){return e==null?null:t[e]}function ND(t){t[gh]=0}function MD(t){t[sn]&1024||(t[sn]|=1024,Hw(t)&&wh(t))}function RO(t,e){for(;t>0;)e=e[ph],t--;return e}function g1(t){return!!(t[sn]&9216||t[aa]?.dirty)}function $w(t){t[yc].changeDetectionScheduler?.notify(8),t[sn]&64&&(t[sn]|=1024),g1(t)&&wh(t)}function wh(t){t[yc].changeDetectionScheduler?.notify(0);let e=kf(t);for(;e!==null&&!(e[sn]&8192||(e[sn]|=8192,!Hw(e)));)e=kf(e)}function PD(t,e){if(xh(t))throw new zt(911,!1);t[lu]===null&&(t[lu]=[]),t[lu].push(e)}function LO(t,e){if(t[lu]===null)return;let n=t[lu].indexOf(e);n!==-1&&t[lu].splice(n,1)}function kf(t){let e=t[io];return du(e)?e[io]:e}function OO(t){return t[V0]??=[]}function BO(t){return t.cleanup??=[]}var bn={lFrame:QO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var iD=!1;function VO(){return bn.lFrame.elementDepthCount}function UO(){bn.lFrame.elementDepthCount++}function FD(){bn.lFrame.elementDepthCount--}function HO(){return bn.bindingsEnabled}function $O(){return bn.skipHydrationRootTNode!==null}function RD(t){return bn.skipHydrationRootTNode===t}function LD(){bn.skipHydrationRootTNode=null}function Mn(){return bn.lFrame.lView}function hs(){return bn.lFrame.tView}function zn(t){return bn.lFrame.contextLView=t,t[pi]}function Yn(t){return bn.lFrame.contextLView=null,t}function Io(){let t=OD();for(;t!==null&&t.type===64;)t=t.parent;return t}function OD(){return bn.lFrame.currentTNode}function qO(){let t=bn.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function q0(t,e){let n=bn.lFrame;n.currentTNode=t,n.isParent=e}function BD(){return bn.lFrame.isParent}function GO(){bn.lFrame.isParent=!1}function WO(){return bn.lFrame.contextLView}function VD(){return iD}function a1(t){let e=iD;return iD=t,e}function UD(){let t=bn.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function HD(){return bn.lFrame.bindingIndex}function jO(t){return bn.lFrame.bindingIndex=t}function G0(){return bn.lFrame.bindingIndex++}function v1(t){let e=bn.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function zO(){return bn.lFrame.inI18n}function YO(t,e){let n=bn.lFrame;n.bindingIndex=n.bindingRootIndex=t,qw(e)}function XO(){return bn.lFrame.currentDirectiveIndex}function qw(t){bn.lFrame.currentDirectiveIndex=t}function KO(t){let e=bn.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $D(t){bn.lFrame.currentQueryIndex=t}function vie(t){let e=t[on];return e.type===2?e.declTNode:e.type===1?t[ml]:null}function qD(t,e,n){if(n&4){let i=e,s=t;for(;i=i.parent,i===null&&!(n&1);)if(i=vie(s),i===null||(s=s[ph],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=bn.lFrame=JO();return r.currentTNode=e,r.lView=t,!0}function Gw(t){let e=JO(),n=t[on];bn.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function JO(){let t=bn.lFrame,e=t===null?null:t.child;return e===null?QO(t):e}function QO(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ZO(){let t=bn.lFrame;return bn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var GD=ZO;function Ww(){let t=ZO();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function e6(t){return(bn.lFrame.contextLView=RO(t,bn.lFrame.contextLView))[pi]}function vl(){return bn.lFrame.selectedIndex}function Lf(t){bn.lFrame.selectedIndex=t}function WD(){let t=bn.lFrame;return m1(t.tView,t.selectedIndex)}function t6(){return bn.lFrame.currentNamespace}var n6=!0;function jw(){return n6}function zw(t){n6=t}function sD(t,e=null,n=null,r){let i=r6(t,e,n,r);return i.resolveInjectorInitializers(),i}function r6(t,e=null,n=null,r,i=new Set){let s=[n||ro,TO(t)];return r=r||(typeof t=="object"?void 0:Af(t)),new dh(s,e||h1(),r||null,i)}var gc=class t{static THROW_IF_NOT_FOUND=ch;static NULL=new o1;static create(e,n){if(Array.isArray(e))return sD({name:""},n,e,"");{let r=e.name??"";return sD({name:r},e.parent,e.providers,r)}}static \u0275prov=Dr({token:t,providedIn:"any",factory:()=>vr(_D)});static __NG_ELEMENT_ID__=-1},yl=new gn(""),Of=(()=>{class t{static __NG_ELEMENT_ID__=yie;static __NG_ENV_ID__=n=>n}return t})(),bw=class extends Of{_lView;constructor(e){super(),this._lView=e}get destroyed(){return xh(this._lView)}onDestroy(e){let n=this._lView;return PD(n,e),()=>LO(n,e)}};function yie(){return new bw(Mn())}var i6=!1,s6=new gn(""),W0=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new r1(!1);debugTaskTracker=Pt(s6,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new hi(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Dr({token:t,providedIn:"root",factory:()=>new t})}return t})(),oD=class extends hc{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,kO()&&(this.destroyRef=Pt(Of,{optional:!0})??void 0,this.pendingTasks=Pt(W0,{optional:!0})??void 0)}emit(e){let n=Gt(null);try{super.next(e)}finally{Gt(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof to&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ia=oD;function Tw(...t){}function jD(t){let e,n;function r(){t=Tw;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function o6(t){return queueMicrotask(()=>t()),()=>{t=Tw}}var zD="isAngularZone",l1=zD+"_ID",_ie=0,sa=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ia(!1);onMicrotaskEmpty=new ia(!1);onStable=new ia(!1);onError=new ia(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=i6}=e;if(typeof Zone>"u")throw new zt(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Eie(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zD)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new zt(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new zt(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,xie,Tw,Tw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},xie={};function YD(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wie(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){jD(()=>{t.callbackScheduled=!1,aD(t),t.isCheckStableRunning=!0,YD(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),aD(t)}function Eie(t){let e=()=>{wie(t)},n=_ie++;t._inner=t._inner.fork({name:"angular",properties:{[zD]:!0,[l1]:n,[l1+n]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(Sie(l))return r.invokeTask(s,o,a,l);try{return vO(t),r.invokeTask(s,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yO(t)}},onInvoke:(r,i,s,o,a,l,c)=>{try{return vO(t),r.invoke(s,o,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Cie(l)&&e(),yO(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,aD(t),YD(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function aD(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function vO(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yO(t){t._nesting--,YD(t)}var c1=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ia;onMicrotaskEmpty=new ia;onStable=new ia;onError=new ia;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Sie(t){return a6(t,"__ignore_ng_zone__")}function Cie(t){return a6(t,"__scheduler_tick__")}function a6(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var vc=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Eh=new gn("",{factory:()=>{let t=Pt(sa),e=Pt(dl),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(vc),n.handleError(r))})}}}),l6={provide:f1,useValue:()=>{let t=Pt(vc,{optional:!0})},multi:!0};function Sn(t,e){let[n,r,i]=OI(t,e?.equal),s=n,o=s[eo];return s.set=r,s.update=i,s.asReadonly=c6.bind(s),s}function c6(){let t=this[eo];if(t.readonlyFn===void 0){let e=()=>this();e[eo]=t,t.readonlyFn=e}return t.readonlyFn}var y1=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=bie}return t})();function bie(){return new y1(Mn(),Io())}var Nf=class{},_1=new gn("",{factory:()=>!0});var XD=new gn("");var Yw=(()=>{class t{static \u0275prov=Dr({token:t,providedIn:"root",factory:()=>new lD})}return t})(),lD=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Aw=class{[eo];constructor(e){this[eo]=e}destroy(){this[eo].destroy()}};function Sh(t,e){let n=e?.injector??Pt(gc),r=e?.manualCleanup!==!0?n.get(Of):null,i,s=n.get(y1,null,{optional:!0}),o=n.get(Nf);return s!==null?(i=Iie(s.view,o,t),r instanceof bw&&r._lView===s.view&&(r=null)):i=Die(t,n.get(Yw),o),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new Aw(i)}var u6=Nt(De({},VI),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=a1(!1);try{UI(this)}finally{a1(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=Gt(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Gt(t)}}}),Tie=Nt(De({},u6),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(ih(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),Aie=Nt(De({},u6),{consumerMarkedDirty(){this.view[sn]|=8192,wh(this.view),this.notifier.notify(13)},destroy(){if(ih(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[Df]?.delete(this)}});function Iie(t,e,n){let r=Object.create(Aie);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=f6(r,n),t[Df]??=new Set,t[Df].add(r),r.consumerMarkedDirty(r),r}function Die(t,e,n){let r=Object.create(Tie);return r.fn=f6(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function f6(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function Ec(t){return BI(t)}function A1(t){return{toString:t}.toString()}function $6(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var rE=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},vE=(()=>{let t=()=>q6;return t.ngInherit=!0,t})();function q6(t){return t.type.prototype.ngOnChanges&&(t.setInput=Hie),Uie}function Uie(){let t=W6(this),e=t?.current;if(e){let n=t.previous;if(n===Ff)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Hie(t,e,n,r,i){let s=this.declaredInputs[r],o=W6(t)||$ie(t,{previous:Ff,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new rE(c&&c.currentValue,n,l===Ff),$6(t,e,i,n)}var G6="__ngSimpleChanges__";function W6(t){return t[G6]||null}function $ie(t,e){return t[G6]=e}var d6=[];var cr=function(t,e=null,n){for(let r=0;r<d6.length;r++){let i=d6[r];i(t,e,n)}},Un=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(Un||{});function qie(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=q6(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Gie(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Zw(t,e,n){j6(t,e,3,n)}function eE(t,e,n,r){(t[sn]&3)===n&&j6(t,e,n,r)}function KD(t,e){let n=t[sn];(n&3)===e&&(n&=16383,n+=1,t[sn]=n)}function j6(t,e,n,r){let i=r!==void 0?t[gh]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[gh]+=65536),(a<s||s==-1)&&(Wie(t,n,e,l),t[gh]=(t[gh]&4294901760)+l+2),l++}function h6(t,e){cr(Un.LifecycleHookStart,t,e);let n=Gt(null);try{e.call(t)}finally{Gt(n),cr(Un.LifecycleHookEnd,t,e)}}function Wie(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[sn]>>14<t[gh]>>16&&(t[sn]&3)===e&&(t[sn]+=16384,h6(a,s)):h6(a,s)}var z0=-1,Ch=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function jie(t){return(t.flags&8)!==0}function zie(t){return(t.flags&16)!==0}function Yie(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Kie(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Xie(t){return t===3||t===4||t===6}function Kie(t){return t.charCodeAt(0)===64}function Y0(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?p6(t,n,i,null,e[++r]):p6(t,n,i,null,null))}}return t}function p6(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){i!==null&&(t[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i)}function Jie(t){return t!==z0}function ok(t){return t&32767}function Qie(t){return t>>16}function ak(t,e){let n=Qie(t),r=e;for(;n>0;)r=r[ph],n--;return r}var lk=!0;function iE(t){let e=lk;return lk=t,e}var Zie=256,z6=Zie-1,Y6=5,ese=0,Sc={};function tse(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(hh)&&(r=n[hh]),r==null&&(r=n[hh]=ese++);let i=r&z6,s=1<<i;e.data[t+(i>>Y6)]|=s}function sE(t,e){let n=X6(t,e);if(n!==-1)return n;let r=e[on];r.firstCreatePass&&(t.injectorIndex=e.length,JD(r.data,t),JD(e,null),JD(r.blueprint,null));let i=K6(t,e),s=t.injectorIndex;if(Jie(i)){let o=ok(i),a=ak(i,e),l=a[on].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function JD(t,e){t.push(0,0,0,0,0,0,0,0,e)}function X6(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function K6(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=tB(i),r===null)return z0;if(n++,i=i[ph],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return z0}function ck(t,e,n){tse(t,e,n)}function J6(t,e,n){if(n&8||t!==void 0)return t;Pw(e,"NodeInjector")}function Q6(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[uu],s=no(void 0);try{return i?i.get(e,r,n&8):vD(e,r,n&8)}finally{no(s)}}return J6(r,e,n)}function Z6(t,e,n,r=0,i){if(t!==null){if(e[sn]&2048&&!(r&2)){let o=ose(t,e,n,r,Sc);if(o!==Sc)return o}let s=eB(t,e,n,r,Sc);if(s!==Sc)return s}return Q6(e,n,r,i)}function eB(t,e,n,r,i){let s=ise(n);if(typeof s=="function"){if(!qD(e,t,r))return r&1?J6(i,n,r):Q6(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&8))Pw(n);else return o}finally{GD()}}else if(typeof s=="number"){let o=null,a=X6(t,e),l=z0,c=r&1?e[oa][ml]:null;for((a===-1||r&4)&&(l=a===-1?K6(t,e):e[a+8],l===z0||!g6(r,!1)?a=-1:(o=e[on],a=ok(l),e=ak(l,e)));a!==-1;){let u=e[on];if(m6(s,a,u.data)){let f=nse(a,e,n,o,r,c);if(f!==Sc)return f}l=e[a+8],l!==z0&&g6(r,e[on].data[a+8]===c)&&m6(s,a,e)?(o=u,a=ok(l),e=ak(l,e)):a=-1}}return i}function nse(t,e,n,r,i,s){let o=e[on],a=o.data[t+8],l=r==null?Rf(a)&&lk:r!=o&&(a.type&3)!==0,c=i&1&&s===a,u=rse(a,o,n,l,c);return u!==null?oE(e,o,u,a,i):Sc}function rse(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,f=r?a:a+u,d=i?a+u:c;for(let h=f;h<d;h++){let g=o[h];if(h<l&&n===g||h>=l&&g.type===n)return h}if(i){let h=o[l];if(h&&xc(h)&&h.type===n)return l}return null}function oE(t,e,n,r,i){let s=t[n],o=e.data;if(s instanceof Ch){let a=s;if(a.resolving)throw gD("");let l=iE(a.canSeeViewProviders);a.resolving=!0;let c=o[n].type||o[n],u,f=a.injectImpl?no(a.injectImpl):null,d=qD(t,r,0);try{s=t[n]=a.factory(void 0,i,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&qie(n,o[n],e)}finally{f!==null&&no(f),iE(l),a.resolving=!1,GD()}}return s}function ise(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(hh)?t[hh]:void 0;return typeof e=="number"?e>=0?e&z6:sse:e}function m6(t,e,n){let r=1<<t;return!!(n[e+(t>>Y6)]&r)}function g6(t,e){return!(t&2)&&!(t&1&&e)}var aE=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Z6(this._tNode,this._lView,e,uh(r),n)}};function sse(){return new aE(Io(),Mn())}function I1(t){return A1(()=>{let e=t.prototype.constructor,n=e[s1]||uk(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[s1]||uk(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function uk(t){return cD(t)?()=>{let e=uk(ds(t));return e&&e()}:If(t)}function ose(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[sn]&2048&&!$0(o);){let a=eB(s,o,n,r|2,Sc);if(a!==Sc)return a;let l=s.parent;if(!l){let c=o[TD];if(c){let u=c.get(n,Sc,r);if(u!==Sc)return u}l=tB(o),o=o[ph]}s=l}return i}function tB(t){let e=t[on],n=e.type;return n===2?e.declTNode:n===1?t[ml]:null}function ase(){return nB(Io(),Mn())}function nB(t,e){return new pu(hu(t,e))}var pu=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ase}return t})();function rB(t){return(t.flags&128)===128}var Rk=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Rk||{}),iB=new Map,lse=0;function cse(){return lse++}function use(t){iB.set(t[fu],t)}function fk(t){iB.delete(t[fu])}var v6="__ngContext__";function X0(t,e){_c(e)?(t[v6]=e[fu],use(e)):t[v6]=e}function sB(t){return aB(t[U0])}function oB(t){return aB(t[Ma])}function aB(t){for(;t!==null&&!du(t);)t=t[Ma];return t}var dk;function Lk(t){dk=t}function lB(){if(dk!==void 0)return dk;if(typeof document<"u")return document;throw new zt(210,!1)}var yE=new gn("",{factory:()=>fse}),fse="ng";var _E=new gn(""),D1=new gn("",{providedIn:"platform",factory:()=>"unknown"});var xE=new gn("",{factory:()=>Pt(yl).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cB="r";var uB="di";var fB=!1,dB=new gn("",{factory:()=>fB});var dse=(t,e,n,r)=>{};function hse(t,e,n,r){dse(t,e,n,r)}function Ok(t){return(t.flags&32)===32}var pse=()=>null;function hB(t,e,n=!1){return pse(t,e,n)}function pB(t,e){let n=t.contentQueries;if(n!==null){let r=Gt(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];$D(s),a.contentQueries(2,e[o],o)}}}finally{Gt(r)}}}function hk(t,e,n){$D(0);let r=Gt(null);try{e(t,n)}finally{Gt(r)}}function mB(t,e,n){if(ID(e)){let r=Gt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{Gt(r)}}}var wl=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(wl||{});var Xw;function mse(){if(Xw===void 0&&(Xw=null,hl.trustedTypes))try{Xw=hl.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xw}function wE(t){return mse()?.createHTML(t)||t}var Kw;function gse(){if(Kw===void 0&&(Kw=null,hl.trustedTypes))try{Kw=hl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kw}function y6(t){return gse()?.createHTML(t)||t}var lE=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Iw})`}};function EE(t){return t instanceof lE?t.changingThisBreaksApplicationSecurity:t}function gB(t,e){let n=vB(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Iw})`)}return n===e}function vB(t){return t instanceof lE&&t.getTypeName()||null}function vse(t){let e=new mk(t);return yse()?new pk(e):e}var pk=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(wE(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},mk=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=wE(e),n}};function yse(){try{return!!new window.DOMParser().parseFromString(wE(""),"text/html")}catch{return!1}}var _se=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yB(t){return t=String(t),t.match(_se)?t:"unsafe:"+t}function mu(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function k1(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var _B=mu("area,br,col,hr,img,wbr"),xB=mu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wB=mu("rp,rt"),xse=k1(wB,xB),wse=k1(xB,mu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ese=k1(wB,mu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_6=k1(_B,wse,Ese,xse),EB=mu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sse=mu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cse=mu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),bse=k1(EB,Sse,Cse),Tse=mu("script,style,template"),gk=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=Dse(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=Ise(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=x6(e).toLowerCase();if(!_6.hasOwnProperty(n))return this.sanitizedSomething=!0,!Tse.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!bse.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;EB[a]&&(l=yB(l)),this.buf.push(" ",o,'="',w6(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=x6(e).toLowerCase();_6.hasOwnProperty(n)&&!_B.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(w6(e))}};function Ase(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Ise(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw SB(e);return e}function Dse(t){let e=t.firstChild;if(e&&Ase(t,e))throw SB(e);return e}function x6(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function SB(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var kse=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nse=/([^\#-~ |!])/g;function w6(t){return t.replace(/&/g,"&amp;").replace(kse,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(Nse,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Jw;function CB(t,e){let n=null;try{Jw=Jw||vse(t);let r=e?String(e):"";n=Jw.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Jw.getInertBodyElement(r)}while(r!==s);let a=new gk().sanitizeChildren(E6(n)||n);return wE(a)}finally{if(n){let r=E6(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function E6(t){return"content"in t&&Mse(t)?t.content:null}function Mse(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}function Pse(t,e){return t.createText(e)}function Fse(t,e,n){t.setValue(e,n)}function bB(t,e,n){return t.createElement(e,n)}function vk(t,e,n,r,i){t.insertBefore(e,n,r,i)}function TB(t,e,n){t.appendChild(e,n)}function S6(t,e,n,r,i){r!==null?vk(t,e,n,r,i):TB(t,e,n)}function AB(t,e,n,r){t.removeChild(null,e,n,r)}function Rse(t,e,n){t.setAttribute(e,"style",n)}function Lse(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function IB(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Yie(t,e,r),i!==null&&Lse(t,e,i),s!==null&&Rse(t,e,s)}var Bk=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Bk||{});function Bf(t){let e=Ose();return e?y6(e.sanitize(Bk.HTML,t)||""):gB(t,"HTML")?y6(EE(t)):CB(lB(),Pf(t))}function Ose(){let t=Mn();return t&&t[yc].sanitizer}function Bse(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var DB="ng-template";function Vse(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Bse(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Vk(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Vk(t){return t.type===4&&t.value!==DB}function Use(t,e,n){let r=t.type===4&&!n?DB:t.value;return e===r}function Hse(t,e,n){let r=4,i=t.attrs,s=i!==null?Gse(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!_l(r)&&!_l(l))return!1;if(o&&_l(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!Use(t,l,n)||l===""&&e.length===1){if(_l(r))return!1;o=!0}}else if(r&8){if(i===null||!Vse(t,i,l,n)){if(_l(r))return!1;o=!0}}else{let c=e[++a],u=$se(l,i,Vk(t),n);if(u===-1){if(_l(r))return!1;o=!0;continue}if(c!==""){let f;if(u>s?f="":f=i[u+1].toLowerCase(),r&2&&c!==f){if(_l(r))return!1;o=!0}}}}return _l(r)||o}function _l(t){return(t&1)===0}function $se(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Wse(e,t)}function qse(t,e,n=!1){for(let r=0;r<e.length;r++)if(Hse(t,e[r],n))return!0;return!1}function Gse(t){for(let e=0;e<t.length;e++){let n=t[e];if(Xie(n))return e}return t.length}function Wse(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function C6(t,e){return t?":not("+e.trim()+")":e}function jse(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!_l(o)&&(e+=C6(s,i),i=""),r=o,s=s||!_l(r);n++}return i!==""&&(e+=C6(s,i)),e}function zse(t){return t.map(jse).join(",")}function Yse(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!_l(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var As={};function Uk(t,e,n,r,i,s,o,a,l,c,u){let f=mi+r,d=f+i,h=Xse(f,d),g=typeof c=="function"?c():c;return h[on]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function Xse(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:As);return n}function Kse(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Uk(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Hk(t,e,n,r,i,s,o,a,l,c,u){let f=e.blueprint.slice();return f[pl]=i,f[sn]=r|4|128|8|64|1024,(c!==null||t&&t[sn]&2048)&&(f[sn]|=2048),ND(f),f[io]=f[ph]=t,f[pi]=n,f[yc]=o||t&&t[yc],f[Yr]=a||t&&t[Yr],f[uu]=l||t&&t[uu]||null,f[ml]=s,f[fu]=cse(),f[B0]=u,f[TD]=c,f[oa]=e.type==2?t[oa]:f,f}function Jse(t,e,n){let r=hu(e,t),i=Kse(n),s=t[yc].rendererFactory,o=MB(t,Hk(t,i,null,kB(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function kB(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function NB(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function MB(t,e){return t[U0]?t[bD][Ma]=e:t[U0]=e,t[bD]=e,e}function Ne(t=1){PB(hs(),Mn(),vl()+t,!1)}function PB(t,e,n,r){if(!r)if((e[sn]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Zw(e,s,n)}else{let s=t.preOrderHooks;s!==null&&eE(e,s,0,n)}Lf(n)}var SE=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(SE||{});function yk(t,e,n,r){let i=Gt(null);try{let[s,o,a]=t.inputs[n],l=null;(o&SE.SignalBased)!==0&&(l=e[s][eo]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,s):$6(e,l,s,r)}finally{Gt(i)}}var Cc=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Cc||{}),Qse;function $k(t,e){return Qse(t,e)}var bh=new Set,CE=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(CE||{}),Ih=new gn(""),b6=new Set;function Vf(t){b6.has(t)||(b6.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var qk=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Dr({token:t,providedIn:"root",factory:()=>new t})}return t})(),FB=[0,1,2,3],RB=(()=>{class t{ngZone=Pt(sa);scheduler=Pt(Nf);errorHandler=Pt(vc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Pt(Ih,{optional:!0})}execute(){let n=this.sequences.size>0;n&&cr(Un.AfterRenderHooksStart),this.executing=!0;for(let r of FB)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&cr(Un.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[yh]??=[]).push(n),wh(r),r[sn]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(CE.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Dr({token:t,providedIn:"root",factory:()=>new t})}return t})(),cE=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,s,o=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[yh];e&&(this.view[yh]=e.filter(n=>n!==this))}};function Gk(t,e){let n=e?.injector??Pt(gc);return Vf("NgAfterNextRender"),eoe(t,n,e,!0)}function Zse(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function eoe(t,e,n,r){let i=e.get(qk);i.impl??=e.get(RB);let s=e.get(Ih,null,{optional:!0}),o=n?.manualCleanup!==!0?e.get(Of):null,a=e.get(y1,null,{optional:!0}),l=new cE(i.impl,Zse(t),a?.view,r,o,s?.snapshot(null));return i.impl.register(l),l}var LB=new gn("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:Pt(dl)})});function OB(t,e,n){let r=t.get(LB);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function toe(t,e){let n=t.get(LB);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function noe(t,e){for(let[n,r]of e)OB(t,r.animateFns)}function T6(t,e,n,r){let i=t?.[_h]?.enter;e!==null&&i&&i.has(n.index)&&noe(r,i)}function j0(t,e,n,r,i,s,o,a){if(i!=null){let l,c=!1;du(i)?l=i:_c(i)&&(c=!0,i=i[pl]);let u=gl(i);t===0&&r!==null?(T6(a,r,s,n),o==null?TB(e,r,u):vk(e,r,u,o||null,!0)):t===1&&r!==null?(T6(a,r,s,n),vk(e,r,u,o||null,!0)):t===2?A6(a,s,n,f=>{AB(e,u,c,f)}):t===3&&A6(a,s,n,()=>{e.destroyNode(u)}),l!=null&&moe(e,t,n,l,s,r,o)}}function roe(t,e){BB(t,e),e[pl]=null,e[ml]=null}function ioe(t,e,n,r,i,s){r[pl]=i,r[ml]=e,bE(t,r,n,1,i,s)}function BB(t,e){e[yc].changeDetectionScheduler?.notify(9),bE(t,e,e[Yr],2,null,null)}function soe(t){let e=t[U0];if(!e)return QD(t[on],t);for(;e;){let n=null;if(_c(e))n=e[U0];else{let r=e[Ti];r&&(n=r)}if(!n){for(;e&&!e[Ma]&&e!==t;)_c(e)&&QD(e[on],e),e=e[io];e===null&&(e=t),_c(e)&&QD(e[on],e),n=e&&e[Ma]}e=n}}function Wk(t,e){let n=t[p1],r=n.indexOf(e);n.splice(r,1)}function jk(t,e){if(xh(e))return;let n=e[Yr];n.destroyNode&&bE(t,e,n,3,null,null),soe(e)}function QD(t,e){if(xh(e))return;let n=Gt(null);try{e[sn]&=-129,e[sn]|=256,e[aa]&&ih(e[aa]),loe(t,e),aoe(t,e),e[on].type===1&&e[Yr].destroy();let r=e[mh];if(r!==null&&du(e[io])){r!==e[io]&&Wk(r,e);let i=e[vh];i!==null&&i.detachView(t)}fk(e)}finally{Gt(n)}}function A6(t,e,n,r){let i=t?.[_h];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&bh.add(t[fu]),OB(n,()=>{if(i.leave&&i.leave.has(e.index)){let o=i.leave.get(e.index),a=[];if(o){for(let l=0;l<o.animateFns.length;l++){let c=o.animateFns[l],{promise:u}=c();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),ooe(t,r)}else t&&bh.delete(t[fu]),r(!1)},i)}function ooe(t,e){let n=t[_h]?.running;if(n){n.then(()=>{t[_h].running=void 0,bh.delete(t[fu]),e(!0)});return}e(!1)}function aoe(t,e){let n=t.cleanup,r=e[V0];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[n[o+1]];n[o].call(a)}r!==null&&(e[V0]=null);let i=e[lu];if(i!==null){e[lu]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Df];if(s!==null){e[Df]=null;for(let o of s)o.destroy()}}function loe(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ch)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];cr(Un.LifecycleHookStart,a,l);try{l.call(a)}finally{cr(Un.LifecycleHookEnd,a,l)}}else{cr(Un.LifecycleHookStart,i,s);try{s.call(i)}finally{cr(Un.LifecycleHookEnd,i,s)}}}}}function coe(t,e,n){return uoe(t,e.parent,n)}function uoe(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[pl];if(Rf(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===wl.None||i===wl.Emulated)return null}return hu(r,n)}function foe(t,e,n){return hoe(t,e,n)}function doe(t,e,n){return t.type&40?hu(t,n):null}var hoe=doe,I6;function zk(t,e,n,r){let i=coe(t,r,e),s=e[Yr],o=r.parent||e[ml],a=foe(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)S6(s,i,n[l],a,!1);else S6(s,i,n,a,!1);I6!==void 0&&I6(s,r,e,n,i)}function w1(t,e){if(e!==null){let n=e.type;if(n&3)return hu(e,t);if(n&4)return _k(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return w1(t,r);{let i=t[e.index];return du(i)?_k(-1,i):gl(i)}}else{if(n&128)return w1(t,e.next);if(n&32)return $k(e,t)()||gl(t[e.index]);{let r=VB(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=kf(t[oa]);return w1(i,r)}else return w1(t,e.next)}}}return null}function VB(t,e){if(e!==null){let r=t[oa][ml],i=e.projection;return r.projection[i]}return null}function _k(t,e){let n=Ti+t+1;if(n<e.length){let r=e[n],i=r[on].firstChild;if(i!==null)return w1(r,i)}return e[H0]}function Yk(t,e,n,r,i,s,o){for(;n!=null;){let a=r[uu];if(n.type===128){n=n.next;continue}let l=r[n.index],c=n.type;if(o&&e===0&&(l&&X0(gl(l),r),n.flags|=2),!Ok(n))if(c&8)Yk(t,e,n.child,r,i,s,!1),j0(e,t,a,i,l,n,s,r);else if(c&32){let u=$k(n,r),f;for(;f=u();)j0(e,t,a,i,f,n,s,r);j0(e,t,a,i,l,n,s,r)}else c&16?poe(t,e,r,n,i,s):j0(e,t,a,i,l,n,s,r);n=o?n.projectionNext:n.next}}function bE(t,e,n,r,i,s){Yk(n,r,t.firstChild,e,i,s,!1)}function poe(t,e,n,r,i,s){let o=n[oa],l=o[ml].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];j0(e,t,n[uu],i,u,r,s,n)}else{let c=l,u=o[io];rB(r)&&(c.flags|=128),Yk(t,e,c,u,i,s,!0)}}function moe(t,e,n,r,i,s,o){let a=r[H0],l=gl(r);a!==l&&j0(e,t,n,s,a,i,o);for(let c=Ti;c<r.length;c++){let u=r[c];bE(u[on],u,t,e,s,a)}}function goe(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Cc.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cc.Important),t.setStyle(n,r,i,s))}}function UB(t,e,n,r,i){let s=vl(),o=r&2;try{Lf(-1),o&&e.length>mi&&PB(t,e,mi,!1);let a=o?Un.TemplateUpdateStart:Un.TemplateCreateStart;cr(a,i,n),n(r,i)}finally{Lf(s);let a=o?Un.TemplateUpdateEnd:Un.TemplateCreateEnd;cr(a,i,n)}}function HB(t,e,n){Soe(t,e,n),(n.flags&64)===64&&Coe(t,e,n)}function Xk(t,e,n=hu){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function voe(t,e,n,r){let s=r.get(dB,fB)||n===wl.ShadowDom||n===wl.ExperimentalIsolatedShadowDom,o=t.selectRootElement(e,s);return yoe(o),o}function yoe(t){_oe(t)}var _oe=()=>null;function xoe(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function $B(t,e,n,r,i,s){let o=e[on];if(Kk(t,o,e,n,r)){Rf(t)&&Eoe(e,t.index);return}t.type&3&&(n=xoe(n)),woe(t,e,n,r,i,s)}function woe(t,e,n,r,i,s){if(t.type&3){let o=hu(t,e);r=s!=null?s(r,t.value||"",n):r,i.setProperty(o,n,r)}else t.type&12}function Eoe(t,e){let n=Pa(e,t);n[sn]&16||(n[sn]|=64)}function Soe(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Rf(n)&&Jse(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||sE(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let a=t.data[o],l=oE(e,t,o,n);if(X0(l,e),s!==null&&Aoe(e,o-r,l,a,n,s),xc(a)){let c=Pa(n.index,e);c[pi]=oE(e,t,o,n)}}}function Coe(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=XO();try{Lf(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];qw(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&boe(l,c)}}finally{Lf(-1),qw(o)}}function boe(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Toe(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];qse(e,s.selectors,!1)&&(r??=[],xc(s)?r.unshift(s):r.push(s))}return r}function Aoe(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1];yk(r,n,l,c)}}function qB(t,e,n,r,i){let s=mi+n,o=e[on],a=i(o,e,t,r,n);e[s]=a,q0(t,!0);let l=t.type===2;return l?(IB(e[Yr],a,t),(VO()===0||Vw(t))&&X0(a,e),UO()):X0(a,e),jw()&&(!l||!Ok(t))&&zk(o,e,a,t),t}function GB(t){let e=t;return BD()?GO():(e=e.parent,q0(e,!1)),e}function Ioe(t,e){let n=t[uu];if(!n)return;let r;try{r=n.get(Eh,null)}catch{r=null}r?.(e)}function Kk(t,e,n,r,i){let s=t.inputs?.[r],o=t.hostDirectiveInputs?.[r],a=!1;if(o)for(let l=0;l<o.length;l+=2){let c=o[l],u=o[l+1],f=e.data[c];yk(f,n[c],u,i),a=!0}if(s)for(let l of s){let c=n[l],u=e.data[l];yk(u,c,r,i),a=!0}return a}function Doe(t,e){let n=Pa(e,t),r=n[on];koe(r,n);let i=n[pl];i!==null&&n[B0]===null&&(n[B0]=hB(i,n[uu])),cr(Un.ComponentStart);try{Jk(r,n,n[pi])}finally{cr(Un.ComponentEnd,n[pi])}}function koe(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jk(t,e,n){Gw(e);try{let r=t.viewQuery;r!==null&&hk(1,r,n);let i=t.template;i!==null&&UB(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[vh]?.finishViewCreation(t),t.staticContentQueries&&pB(t,e),t.staticViewQueries&&hk(2,t.viewQuery,n);let s=t.components;s!==null&&Noe(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[sn]&=-5,Ww()}}function Noe(t,e){for(let n=0;n<e.length;n++)Doe(t,e[n])}function Qk(t,e,n,r){let i=Gt(null);try{let s=e.tView,a=t[sn]&4096?4096:16,l=Hk(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[mh]=c;let u=t[vh];return u!==null&&(l[vh]=u.createEmbeddedView(s)),Jk(s,l,n),l}finally{Gt(i)}}function Zk(t,e){return!e||e.firstChild===null||rB(t)}function S1(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(gl(s)),du(s)&&WB(s,r);let o=n.type;if(o&8)S1(t,e,n.child,r);else if(o&32){let a=$k(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=VB(e,n);if(Array.isArray(a))r.push(...a);else{let l=kf(e[oa]);S1(l[on],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function WB(t,e){for(let n=Ti;n<t.length;n++){let r=t[n],i=r[on].firstChild;i!==null&&S1(r[on],r,i,e)}t[H0]!==t[pl]&&e.push(t[H0])}function jB(t){if(t[yh]!==null){for(let e of t[yh])e.impl.addSequence(e);t[yh].length=0}}var zB=[];function Moe(t){return t[aa]??Poe(t)}function Poe(t){let e=zB.pop()??Object.create(Roe);return e.lView=t,e}function Foe(t){t.lView[aa]!==t&&(t.lView=null,zB.push(t))}var Roe=Nt(De({},T0),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{wh(t.lView)},consumerOnSignalRead(){this.lView[aa]=this}});function Loe(t){let e=t[aa]??Object.create(Ooe);return e.lView=t,e}var Ooe=Nt(De({},T0),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=kf(t.lView);for(;e&&!YB(e[on]);)e=kf(e);e&&MD(e)},consumerOnSignalRead(){this.lView[aa]=this}});function YB(t){return t.type!==2}function XB(t){if(t[Df]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Df])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[sn]&8192)}}var Boe=100;function KB(t,e=0){let r=t[yc].rendererFactory,i=!1;i||r.begin?.();try{Voe(t,e)}finally{i||r.end?.()}}function Voe(t,e){let n=VD();try{a1(!0),xk(t,e);let r=0;for(;g1(t);){if(r===Boe)throw new zt(103,!1);r++,xk(t,1)}}finally{a1(n)}}function Uoe(t,e,n,r){if(xh(e))return;let i=e[sn],s=!1,o=!1;Gw(e);let a=!0,l=null,c=null;s||(YB(t)?(c=Moe(e),l=A0(c)):ew()===null?(a=!1,c=Loe(e),l=A0(c)):e[aa]&&(ih(e[aa]),e[aa]=null));try{ND(e),jO(t.bindingStartIndex),n!==null&&UB(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let h=t.preOrderCheckHooks;h!==null&&Zw(e,h,null)}else{let h=t.preOrderHooks;h!==null&&eE(e,h,0,null),KD(e,0)}if(o||Hoe(e),XB(e),JB(e,0),t.contentQueries!==null&&pB(t,e),!s)if(u){let h=t.contentCheckHooks;h!==null&&Zw(e,h)}else{let h=t.contentHooks;h!==null&&eE(e,h,1),KD(e,1)}qoe(t,e);let f=t.components;f!==null&&ZB(e,f,0);let d=t.viewQuery;if(d!==null&&hk(2,d,r),!s)if(u){let h=t.viewCheckHooks;h!==null&&Zw(e,h)}else{let h=t.viewHooks;h!==null&&eE(e,h,2),KD(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Bw]){for(let h of e[Bw])h();e[Bw]=null}s||(jB(e),e[sn]&=-73)}catch(u){throw s||wh(e),u}finally{c!==null&&(Zv(c,l),a&&Foe(c)),Ww()}}function JB(t,e){for(let n=sB(t);n!==null;n=oB(n))for(let r=Ti;r<n.length;r++){let i=n[r];QB(i,e)}}function Hoe(t){for(let e=sB(t);e!==null;e=oB(e)){if(!(e[sn]&2))continue;let n=e[p1];for(let r=0;r<n.length;r++){let i=n[r];MD(i)}}}function $oe(t,e,n){cr(Un.ComponentStart);let r=Pa(e,t);try{QB(r,n)}finally{cr(Un.ComponentEnd,r[pi])}}function QB(t,e){Hw(t)&&xk(t,e)}function xk(t,e){let r=t[on],i=t[sn],s=t[aa],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&e1(s)),o||=!1,s&&(s.dirty=!1),t[sn]&=-9217,o)Uoe(r,t,r.template,t[pi]);else if(i&8192){let a=Gt(null);try{XB(t),JB(t,1);let l=r.components;l!==null&&ZB(t,l,1),jB(t)}finally{Gt(a)}}}function ZB(t,e,n){for(let r=0;r<e.length;r++)$oe(t,e[r],n)}function qoe(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Lf(~i);else{let s=i,o=n[++r],a=n[++r];YO(o,s);let l=e[s];cr(Un.HostBindingsUpdateStart,l);try{a(2,l)}finally{cr(Un.HostBindingsUpdateEnd,l)}}}}finally{Lf(-1)}}function eN(t,e){let n=VD()?64:1088;for(t[yc].changeDetectionScheduler?.notify(e);t;){t[sn]|=n;let r=kf(t);if($0(t)&&!r)return t;t=r}return null}function Goe(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function e7(t,e){let n=Ti+e;if(n<t.length)return t[n]}function tN(t,e,n,r=!0){let i=e[on];if(Woe(i,e,t,n),r){let o=_k(n,t),a=e[Yr],l=a.parentNode(t[H0]);l!==null&&ioe(i,t[ml],a,e,l,o)}let s=e[B0];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function t7(t,e){let n=nN(t,e);return n!==void 0&&jk(n[on],n),n}function nN(t,e){if(t.length<=Ti)return;let n=Ti+e,r=t[n];if(r){let i=r[mh];i!==null&&i!==t&&Wk(i,r),e>0&&(t[n-1][Ma]=r[Ma]);let s=yD(t,Ti+e);roe(r[on],r);let o=s[vh];o!==null&&o.detachView(s[on]),r[io]=null,r[Ma]=null,r[sn]&=-129}return r}function Woe(t,e,n,r){let i=Ti+r,s=n.length;r>0&&(n[i-1][Ma]=e),r<s-Ti?(e[Ma]=n[i],CO(n,Ti+r,e)):(n.push(e),e[Ma]=null),e[io]=n;let o=e[mh];o!==null&&n!==o&&n7(o,e);let a=e[vh];a!==null&&a.insertView(t),$w(e),e[sn]|=128}function n7(t,e){let n=t[p1],r=e[io];if(_c(r))t[sn]|=2;else{let i=r[io][oa];e[oa]!==i&&(t[sn]|=2)}n===null?t[p1]=[e]:n.push(e)}var K0=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[on];return S1(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[pi]}set context(e){this._lView[pi]=e}get destroyed(){return xh(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[io];if(du(e)){let n=e[MO],r=n?n.indexOf(this):-1;r>-1&&(nN(e,r),yD(n,r))}this._attachedToViewContainer=!1}jk(this._lView[on],this._lView)}onDestroy(e){PD(this._lView,e)}markForCheck(){eN(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[sn]&=-129}reattach(){$w(this._lView),this._lView[sn]|=128}detectChanges(){this._lView[sn]|=1024,KB(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new zt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$0(this._lView),n=this._lView[mh];n!==null&&!e&&Wk(n,this._lView),BB(this._lView[on],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new zt(902,!1);this._appRef=e;let n=$0(this._lView),r=this._lView[mh];r!==null&&!n&&n7(r,this._lView),$w(this._lView)}};function TE(t,e,n,r,i){let s=t.data[e];if(s===null)s=joe(t,e,n,r,i),zO()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=qO();s.injectorIndex=o===null?-1:o.injectorIndex}return q0(s,!0),s}function joe(t,e,n,r,i){let s=OD(),o=BD(),a=o?s:s&&s.parent,l=t.data[e]=Yoe(t,a,n,e,r,i);return zoe(t,l,s,o),l}function zoe(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Yoe(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return $O()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Xoe(t){let e=t[AD]??[],r=t[io][Yr],i=[];for(let s of e)s.data[uB]!==void 0?i.push(s):Koe(s,r);t[AD]=i}function Koe(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[cB];for(;n<i;){let s=r.nextSibling;AB(e,r,!1),r=s,n++}}}var Joe=()=>null,Qoe=()=>null;function Zoe(t,e){return Joe(t,e)}function r7(t,e,n){return Qoe(t,e,n)}var i7=class{},AE=class{},wk=class{resolveComponentFactory(e){throw new zt(917,!1)}},IE=class{static NULL=new wk},Th=class{},Uf=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>eae()}return t})();function eae(){let t=Mn(),e=Io(),n=Pa(e.index,t);return(_c(n)?n:t)[Yr]}var s7=(()=>{class t{static \u0275prov=Dr({token:t,providedIn:"root",factory:()=>null})}return t})();var tE={},Ek=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,tE,r);return i!==tE||n===tE?i:this.parentInjector.get(e,n,r)}};function uE(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=kw(i,a);else if(s==2){let l=a,c=e[++o];r=kw(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Xn(t,e=0){let n=Mn();if(n===null)return vr(t,e);let r=Io();return Z6(r,n,ds(t),e)}function tae(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let a=o,l=null,c=null;for(let u of o)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(o);break}iae(t,e,n,a,s,l,c)}s!==null&&r!==null&&nae(n,r,s)}function nae(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new zt(-301,!1);r.push(e[i],s)}}function rae(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function iae(t,e,n,r,i,s,o){let a=r.length,l=null;for(let d=0;d<a;d++){let h=r[d];l===null&&xc(h)&&(l=h,rae(t,n,d)),ck(sE(n,e),t,h.type)}uae(n,t.data.length,a),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let d=0;d<a;d++){let h=r[d];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,f=NB(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let d=0;d<a;d++){let h=r[d];if(n.mergedAttrs=Y0(n.mergedAttrs,h.hostAttrs),oae(t,n,e,f,h),cae(f,h,i),o!==null&&o.has(h)){let[v,x]=o.get(h);n.directiveToIndex.set(h.type,[f,v+n.directiveStart,x+n.directiveStart])}else(s===null||!s.has(h))&&n.directiveToIndex.set(h.type,f);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),f++}sae(t,n,s)}function sae(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))D6(0,e,i,r),D6(1,e,i,r),N6(e,r,!1);else{let s=n.get(i);k6(0,e,s,r),k6(1,e,s,r),N6(e,r,!0)}}}function D6(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),o7(e,s)}}function k6(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),o7(e,o)}}function o7(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function N6(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=t;if(r===null||!n&&i===null||n&&s===null||Vk(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){o??=[],o.push(l,r[a+1]);break}}else if(n&&s.hasOwnProperty(l)){let c=s[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){o??=[],o.push(c[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(o)}function oae(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=If(i.type,!0)),o=new Ch(s,xc(i),Xn,null);t.blueprint[r]=o,n[r]=o,aae(t,e,r,NB(t,n,i.hostVars,As),i)}function aae(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;lae(o)!=a&&o.push(a),o.push(n,r,s)}}function lae(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function cae(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xc(e)&&(n[""]=t)}}function uae(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function a7(t,e,n,r,i,s,o,a){let l=e[on],c=l.consts,u=wc(c,o),f=TE(l,t,n,r,u);return s&&tae(l,e,f,wc(c,a),i),f.mergedAttrs=Y0(f.mergedAttrs,f.attrs),f.attrs!==null&&uE(f,f.attrs,!1),f.mergedAttrs!==null&&uE(f,f.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,f),f}function l7(t,e){Gie(t,e),ID(e)&&t.queries.elementEnd(e)}function fae(t,e,n,r,i,s){let o=e.consts,a=wc(o,i),l=TE(e,t,n,r,a);if(l.mergedAttrs=Y0(l.mergedAttrs,l.attrs),s!=null){let c=wc(o,s);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&uE(l,l.attrs,!1),l.mergedAttrs!==null&&uE(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function c7(t,e,n){return t[e]=n}function El(t,e,n){if(n===As)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function rN(t,e,n,r){let i=El(t,e,n);return El(t,e+1,r)||i}function dae(t,e,n,r,i){let s=rN(t,e,n,r);return El(t,e+2,i)||s}function nE(t,e,n){return function r(i){let s=Rf(t)?Pa(t.index,e):e;eN(s,5);let o=e[pi],a=M6(e,o,n,i),l=r.__ngNextListenerFn__;for(;l;)a=M6(e,o,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function M6(t,e,n,r){let i=Gt(null);try{return cr(Un.OutputStart,e,n),n(r)!==!1}catch(s){return Ioe(t,s),!1}finally{cr(Un.OutputEnd,e,n),Gt(i)}}function u7(t,e,n,r,i,s,o,a){let l=Vw(t),c=!1,u=null;if(!r&&l&&(u=pae(e,n,s,t.index)),u!==null){let f=u.__ngLastListenerFn__||u;f.__ngNextListenerFn__=o,u.__ngLastListenerFn__=o,c=!0}else{let f=hu(t,n),d=r?r(f):f;hse(n,d,s,a);let h=i.listen(d,s,a);if(!hae(s)){let g=r?v=>r(gl(v[t.index])):t.index;f7(g,e,n,s,a,h,!1)}}return c}function hae(t){return t.startsWith("animation")||t.startsWith("transition")}function pae(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[V0],l=i[s+2];return a&&a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function f7(t,e,n,r,i,s,o){let a=e.firstCreatePass?BO(e):null,l=OO(n),c=l.length;l.push(i,s),a&&a.push(r,t,c,(c+1)*(o?-1:1))}function P6(t,e,n,r,i,s){let o=e[n],a=e[on],c=a.data[n].outputs[r],f=o[c].subscribe(s);f7(t.index,a,e,i,s,f,!0)}var Sk=Symbol("BINDING");var Ck=class extends IE{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=u1(e);return new fE(n,this.ngModule)}};function mae(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],s={propName:n,templateName:e,isSignal:(r&SE.SignalBased)!==0};return i&&(s.transform=i),s})}function gae(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function vae(t,e,n){let r=e instanceof dl?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ek(n,r):n}function yae(t){let e=t.get(Th,null);if(e===null)throw new zt(407,!1);let n=t.get(s7,null),r=t.get(Nf,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function _ae(t,e){let n=d7(t);return bB(e,n,n==="svg"?PO:n==="math"?FO:null)}function d7(t){return(t.selectors[0][0]||"div").toLowerCase()}var fE=class extends AE{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=mae(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=gae(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=zse(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,s,o){cr(Un.DynamicComponentStart);let a=Gt(null);try{let l=this.componentDef,c=xae(r,l,o,s),u=vae(l,i||this.ngModule,e),f=yae(u),d=f.rendererFactory.createRenderer(null,l),h=r?voe(d,r,l.encapsulation,u):_ae(l,d),g=o?.some(F6)||s?.some(_=>typeof _!="function"&&_.bindings.some(F6)),v=Hk(null,c,null,512|kB(l),null,null,f,d,u,null,hB(h,u,!0));v[mi]=h,Gw(v);let x=null;try{let _=a7(mi,v,2,"#host",()=>c.directiveRegistry,!0,0);IB(d,h,_),X0(h,v),HB(c,v,_),mB(c,_,v),l7(c,_),n!==void 0&&Eae(_,this.ngContentSelectors,n),x=Pa(_.index,v),v[pi]=x[pi],Jk(c,v,null)}catch(_){throw x!==null&&fk(x),fk(v),_}finally{cr(Un.DynamicComponentEnd),Ww()}return new dE(this.componentType,v,!!g)}finally{Gt(a)}}};function xae(t,e,n,r){let i=t?["ng-version","21.1.2"]:Yse(e.selectors[0]),s=null,o=null,a=0;if(n)for(let u of n)a+=u[Sk].requiredVars,u.create&&(u.targetIdx=0,(s??=[]).push(u)),u.update&&(u.targetIdx=0,(o??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let f=r[u];if(typeof f!="function")for(let d of f.bindings){a+=d[Sk].requiredVars;let h=u+1;d.create&&(d.targetIdx=h,(s??=[]).push(d)),d.update&&(d.targetIdx=h,(o??=[]).push(d))}}let l=[e];if(r)for(let u of r){let f=typeof u=="function"?u:u.type,d=pD(f);l.push(d)}return Uk(0,null,wae(s,o),1,a,l,null,null,null,[i],null)}function wae(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function F6(t){let e=t[Sk].kind;return e==="input"||e==="twoWay"}var dE=class extends i7{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=m1(n[on],mi),this.location=nB(this._tNode,n),this.instance=Pa(this._tNode.index,n)[pi],this.hostView=this.changeDetectorRef=new K0(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,s=Kk(r,i[on],i,e,n);this.previousInputValues.set(e,n);let o=Pa(r.index,i);eN(o,1)}get injector(){return new aE(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Eae(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Sae=()=>!1;function Cae(t,e,n){return Sae(t,e,n)}var C1=class{};var b1=class extends C1{injector;componentFactoryResolver=new Ck(this);instance=null;constructor(e){super();let n=new dh([...e.providers,{provide:C1,useValue:this},{provide:IE,useValue:this.componentFactoryResolver}],e.parent||h1(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function h7(t,e,n=null){return new b1({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var bae=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=ED(!1,n.type),i=r.length>0?h7([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Dr({token:t,providedIn:"environment",factory:()=>new t(vr(dl))})}return t})();function ps(t){return A1(()=>{let e=p7(t),n=Nt(De({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Rk.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(bae).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||wl.Emulated,styles:t.styles||ro,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Vf("NgStandalone"),m7(n);let r=t.dependencies;return n.directiveDefs=R6(r,Tae),n.pipeDefs=R6(r,xO),n.id=Dae(n),n})}function Tae(t){return u1(t)||pD(t)}function Dh(t){return A1(()=>({type:t.type,bootstrap:t.bootstrap||ro,declarations:t.declarations||ro,imports:t.imports||ro,exports:t.exports||ro,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Aae(t,e){if(t==null)return Ff;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a,l;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,a=SE.None,l=null),n[s]=[r,a,l],e[s]=o}return n}function Iae(t){if(t==null)return Ff;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function la(t){return A1(()=>{let e=p7(t);return m7(e),e})}function DE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function p7(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ff,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ro,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Aae(t.inputs,e),outputs:Iae(t.outputs),debugInfo:null}}function m7(t){t.features?.forEach(e=>e(t))}function R6(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let s=e(i);s!==null&&r.push(s)}return r}:null}function Dae(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function kae(t){return Object.getPrototypeOf(t.prototype).constructor}function gu(t){let e=kae(t.type),n=!0,r=[t];for(;e;){let i;if(xc(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new zt(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ZD(t.inputs),o.declaredInputs=ZD(t.declaredInputs),o.outputs=ZD(t.outputs);let a=i.hostBindings;a&&Rae(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&Pae(t,l),c&&Fae(t,c),Nae(t,i),_O(t.outputs,i.outputs),xc(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===gu&&(n=!1)}}e=Object.getPrototypeOf(e)}Mae(r)}function Nae(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Mae(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Y0(i.hostAttrs,n=Y0(n,i.hostAttrs))}}function ZD(t){return t===Ff?{}:t===ro?[]:t}function Pae(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Fae(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Rae(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Lae(t,e,n,r,i,s,o,a){if(n.firstCreatePass){t.mergedAttrs=Y0(t.mergedAttrs,t.attrs);let u=t.tView=Uk(2,t,i,s,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),u.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),q0(t,!1);let l=Oae(n,e,t,r);jw()&&zk(n,e,l,t),X0(l,e);let c=Goe(l,e,l,t);e[r+mi]=c,MB(e,c),Cae(c,t,e)}function hE(t,e,n,r,i,s,o,a,l,c,u){let f=n+mi,d;if(e.firstCreatePass){if(d=TE(e,f,4,o||null,a||null),c!=null){let h=wc(e.consts,c);d.localNames=[];for(let g=0;g<h.length;g+=2)d.localNames.push(h[g],-1)}}else d=e.data[f];return Lae(d,t,e,n,r,i,s,l),c!=null&&Xk(t,d,u),d}var Oae=Bae;function Bae(t,e,n,r){return zw(!0),e[Yr].createComment("")}function g7(t){return typeof t=="function"&&t[eo]!==void 0}function iN(t){return g7(t)&&typeof t.set=="function"}var sN=new gn("");function Q0(t){return!!t&&typeof t.then=="function"}function oN(t){return!!t&&typeof t.subscribe=="function"}var v7=new gn("");var aN=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Pt(v7,{optional:!0})??[];injector=Pt(gc);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=Ow(this.injector,i);if(Q0(s))n.push(s);else if(oN(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),y7=new gn("");function _7(){LI(()=>{let t="";throw new zt(600,t)})}function x7(t){return t.isBoundToModule}var Vae=10;var Z0=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Pt(Eh);afterRenderManager=Pt(qk);zonelessEnabled=Pt(_1);rootEffectScheduler=Pt(Yw);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new hc;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Pt(W0);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(lh(n=>!n))}constructor(){Pt(Ih,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Pt(dl);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=gc.NULL){return this._injector.get(sa).run(()=>{cr(Un.BootstrapComponentStart);let o=n instanceof AE;if(!this._injector.get(aN).done){let g="";throw new zt(405,g)}let l;o?l=n:l=this._injector.get(IE).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let c=x7(l)?void 0:this._injector.get(C1),u=r||l.selector,f=l.create(i,[],u,c),d=f.location.nativeElement,h=f.injector.get(sN,null);return h?.registerApplication(d),f.onDestroy(()=>{this.detachView(f.hostView),E1(this.components,f),h?.unregisterApplication(d)}),this._loadComponent(f),cr(Un.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){cr(Un.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(CE.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw cr(Un.ChangeDetectionEnd),new zt(101,!1);let n=Gt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Gt(n),this.afterTick.next(),cr(Un.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Th,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Vae;){cr(Un.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{cr(Un.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!g1(i))continue;let s=r&&!this.zonelessEnabled?0:1;KB(i,s),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>g1(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;E1(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(y7,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>E1(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new zt(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function E1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var dRe=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var bk=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function ek(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Uae(t,e,n,r){let i,s,o=0,a=t.length-1,l=void 0;if(Array.isArray(e)){Gt(r);let c=e.length-1;for(Gt(null);o<=a&&o<=c;){let u=t.at(o),f=e[o],d=ek(o,u,o,f,n);if(d!==0){d<0&&t.updateValue(o,f),o++;continue}let h=t.at(a),g=e[c],v=ek(a,h,c,g,n);if(v!==0){v<0&&t.updateValue(a,g),a--,c--;continue}let x=n(o,u),_=n(a,h),E=n(o,f);if(Object.is(E,_)){let C=n(c,g);Object.is(C,x)?(t.swap(o,a),t.updateValue(a,g),c--,a--):t.move(a,o),t.updateValue(o,f),o++;continue}if(i??=new pE,s??=O6(t,o,a,n),Tk(t,i,o,E))t.updateValue(o,f),o++,a++;else if(s.has(E))i.set(x,t.detach(o)),a--;else{let C=t.create(o,e[o]);t.attach(o,C),o++,a++}}for(;o<=c;)L6(t,i,n,o,e[o]),o++}else if(e!=null){Gt(r);let c=e[Symbol.iterator]();Gt(null);let u=c.next();for(;!u.done&&o<=a;){let f=t.at(o),d=u.value,h=ek(o,f,o,d,n);if(h!==0)h<0&&t.updateValue(o,d),o++,u=c.next();else{i??=new pE,s??=O6(t,o,a,n);let g=n(o,d);if(Tk(t,i,o,g))t.updateValue(o,d),o++,a++,u=c.next();else if(!s.has(g))t.attach(o,t.create(o,d)),o++,a++,u=c.next();else{let v=n(o,f);i.set(v,t.detach(o)),a--}}}for(;!u.done;)L6(t,i,n,t.length,u.value),u=c.next()}for(;o<=a;)t.destroy(t.detach(a--));i?.forEach(c=>{t.destroy(c)})}function Tk(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function L6(t,e,n,r,i){if(Tk(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function O6(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var pE=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function er(t,e,n,r,i,s,o,a){Vf("NgControlFlow");let l=Mn(),c=hs(),u=wc(c.consts,s);return hE(l,c,t,e,n,r,i,u,256,o,a),lN}function lN(t,e,n,r,i,s,o,a){Vf("NgControlFlow");let l=Mn(),c=hs(),u=wc(c.consts,s);return hE(l,c,t,e,n,r,i,u,512,o,a),lN}function tr(t,e){Vf("NgControlFlow");let n=Mn(),r=G0(),i=n[r]!==As?n[r]:-1,s=i!==-1?mE(n,mi+i):void 0,o=0;if(El(n,r,t)){let a=Gt(null);try{if(s!==void 0&&t7(s,o),t!==-1){let l=mi+t,c=mE(n,l),u=kk(n[on],l),f=r7(c,u,n),d=Qk(n,u,e,{dehydratedView:f});tN(c,d,o,Zk(u,f))}}finally{Gt(a)}}else if(s!==void 0){let a=e7(s,o);a!==void 0&&(a[pi]=e)}}var Ak=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ti}};function N1(t){return t}var Ik=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Is(t,e,n,r,i,s,o,a,l,c,u,f,d){Vf("NgControlFlow");let h=Mn(),g=hs(),v=l!==void 0,x=Mn(),_=a?o.bind(x[oa][pi]):o,E=new Ik(v,_);x[mi+t]=E,hE(h,g,t+1,e,n,r,i,wc(g.consts,s),256),v&&hE(h,g,t+2,l,c,u,f,wc(g.consts,d),512)}var Dk=class extends bk{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ti}at(e){return this.getLView(e)[pi].$implicit}attach(e,n){let r=n[B0];this.needsIndexUpdate||=e!==this.length,tN(this.lContainer,n,e,Zk(this.templateTNode,r)),Hae(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,$ae(this.lContainer,e),qae(this.lContainer,e)}create(e,n){let r=Zoe(this.lContainer,this.templateTNode.tView.ssrId);return Qk(this.hostLView,this.templateTNode,new Ak(this.lContainer,n,e),{dehydratedView:r})}destroy(e){jk(e[on],e)}updateValue(e,n){this.getLView(e)[pi].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[pi].$index=e}getLView(e){return Gae(this.lContainer,e)}};function Ds(t){let e=Gt(null),n=vl();try{let r=Mn(),i=r[on],s=r[n],o=n+1,a=mE(r,o);if(s.liveCollection===void 0){let c=kk(i,o);s.liveCollection=new Dk(a,r,c)}else s.liveCollection.reset();let l=s.liveCollection;if(Uae(l,t,s.trackByFn,e),l.updateIndexes(),s.hasEmptyBlock){let c=G0(),u=l.length===0;if(El(r,c,u)){let f=n+2,d=mE(r,f);if(u){let h=kk(i,f),g=r7(d,h,r),v=Qk(r,h,void 0,{dehydratedView:g});tN(d,v,0,Zk(h,g))}else i.firstUpdatePass&&Xoe(d),t7(d,0)}}}finally{Gt(e)}}function mE(t,e){return t[e]}function Hae(t,e){if(t.length<=Ti)return;let n=Ti+e,r=t[n],i=r?r[_h]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let s=r[uu];toe(s,i),bh.delete(r[fu]),i.detachedLeaveAnimationFns=void 0}}function $ae(t,e){if(t.length<=Ti)return;let n=Ti+e,r=t[n],i=r?r[_h]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function qae(t,e){return nN(t,e)}function Gae(t,e){return e7(t,e)}function kk(t,e){return m1(t,e)}function kr(t,e,n){let r=Mn(),i=G0();if(El(r,i,e)){let s=hs(),o=WD();$B(o,r,t,e,r[Yr],n)}return kr}function Nk(t,e,n,r,i){Kk(e,t,n,i?"class":"style",r)}function ie(t,e,n,r){let i=Mn(),s=i[on],o=t+mi,a=s.firstCreatePass?a7(o,i,2,e,Toe,HO(),n,r):s.data[o];if(qB(a,i,t,e,w7),Vw(a)){let l=i[on];HB(l,i,a),mB(l,a,i)}return r!=null&&Xk(i,a),ie}function oe(){let t=hs(),e=Io(),n=GB(e);return t.firstCreatePass&&l7(t,n),RD(n)&&LD(),FD(),n.classesWithoutHost!=null&&jie(n)&&Nk(t,n,Mn(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&zie(n)&&Nk(t,n,Mn(),n.stylesWithoutHost,!1),oe}function Ze(t,e,n,r){return ie(t,e,n,r),oe(),Ze}function Hn(t,e,n,r){let i=Mn(),s=i[on],o=t+mi,a=s.firstCreatePass?fae(o,s,2,e,n,r):s.data[o];return qB(a,i,t,e,w7),r!=null&&Xk(i,a),Hn}function $n(){let t=Io(),e=GB(t);return RD(e)&&LD(),FD(),$n}function vu(t,e,n,r){return Hn(t,e,n,r),$n(),vu}var w7=(t,e,n,r,i)=>(zw(!0),bB(e[Yr],r,t6()));function ti(){return Mn()}var x1=void 0;function Wae(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var jae=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],x1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],x1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",x1,x1,x1],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Wae],tk={};function so(t){let e=zae(t),n=B6(e);if(n)return n;let r=e.split("-")[0];if(n=B6(r),n)return n;if(r==="en")return jae;throw new zt(701,!1)}function B6(t){return t in tk||(tk[t]=hl.ng&&hl.ng.common&&hl.ng.common.locales&&hl.ng.common.locales[t]),tk[t]}var Xr=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Xr||{});function zae(t){return t.toLowerCase().replace(/_/g,"-")}var M1="en-US",Yae="USD";var Xae=M1;function E7(t){typeof t=="string"&&(Xae=t.toLowerCase().replace(/_/g,"-"))}function Wt(t,e,n){let r=Mn(),i=hs(),s=Io();return S7(i,r,r[Yr],s,t,e,n),Wt}function P1(t,e,n){let r=Mn(),i=hs(),s=Io();return(s.type&3||n)&&u7(s,i,r,n,r[Yr],t,e,nE(s,r,e)),P1}function S7(t,e,n,r,i,s,o){let a=!0,l=null;if((r.type&3||o)&&(l??=nE(r,e,s),u7(r,t,e,o,n,i,s,l)&&(a=!1)),a){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let f=0;f<u.length;f+=2){let d=u[f],h=u[f+1];l??=nE(r,e,s),P6(r,e,d,h,i,l)}if(c&&c.length)for(let f of c)l??=nE(r,e,s),P6(r,e,f,i,i,l)}}function Yt(t=1){return e6(t)}function Sl(t){let e=WO();return Uw(e,mi+t)}function Qw(t,e){return t<<17|e<<2}function Ah(t){return t>>17&32767}function Kae(t){return(t&2)==2}function Jae(t,e){return t&131071|e<<17}function Mk(t){return t|2}function J0(t){return(t&131068)>>2}function nk(t,e){return t&-131069|e<<2}function Qae(t){return(t&1)===1}function Pk(t){return t|1}function Zae(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ah(o),l=J0(o);t[r]=n;let c=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||O0(f,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let d=Ah(t[a+1]);t[r+1]=Qw(d,a),d!==0&&(t[d+1]=nk(t[d+1],r)),t[a+1]=Jae(t[a+1],r)}else t[r+1]=Qw(a,0),a!==0&&(t[a+1]=nk(t[a+1],r)),a=r;else t[r+1]=Qw(l,0),a===0?a=r:t[l+1]=nk(t[l+1],r),l=r;c&&(t[r+1]=Mk(t[r+1])),V6(t,u,r,!0),V6(t,u,r,!1),ele(e,u,t,r,s),o=Qw(a,l),s?e.classBindings=o:e.styleBindings=o}function ele(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&O0(s,e)>=0&&(n[r+1]=Pk(n[r+1]))}function V6(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ah(i):J0(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];tle(l,e)&&(a=!0,t[o+1]=r?Pk(c):Mk(c)),o=r?Ah(c):J0(c)}a&&(t[n+1]=r?Mk(i):Pk(i))}function tle(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?O0(t,e)>=0:!1}var xl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nle(t){return t.substring(xl.key,xl.keyEnd)}function rle(t){return ile(t),C7(t,b7(t,0,xl.textEnd))}function C7(t,e){let n=xl.textEnd;return n===e?-1:(e=xl.keyEnd=sle(t,xl.key=e,n),b7(t,e,n))}function ile(t){xl.key=0,xl.keyEnd=0,xl.value=0,xl.valueEnd=0,xl.textEnd=t.length}function b7(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function sle(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Hr(t,e){return ale(t,e,null,!0),Hr}function Nr(t){lle(ple,ole,t,!0)}function ole(t,e){for(let n=rle(e);n>=0;n=C7(e,n))Rw(t,nle(e),!0)}function ale(t,e,n,r){let i=Mn(),s=hs(),o=v1(2);if(s.firstUpdatePass&&A7(s,t,o,r),e!==As&&El(i,o,e)){let a=s.data[vl()];I7(s,a,i,i[Yr],t,i[o+1]=gle(e,n),r,o)}}function lle(t,e,n,r){let i=hs(),s=v1(2);i.firstUpdatePass&&A7(i,null,s,r);let o=Mn();if(n!==As&&El(o,s,n)){let a=i.data[vl()];if(D7(a,r)&&!T7(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=kw(l,n||"")),Nk(i,a,o,n,r)}else mle(i,a,o,o[Yr],o[s+1],o[s+1]=hle(t,e,n),r,s)}}function T7(t,e){return e>=t.expandoStartIndex}function A7(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[vl()],o=T7(t,n);D7(s,r)&&e===null&&!o&&(e=!1),e=cle(i,s,e,r),Zae(i,s,e,n,o,r)}}function cle(t,e,n,r){let i=KO(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=rk(null,t,e,n,r),n=T1(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=rk(i,t,e,n,r),s===null){let l=ule(t,e,r);l!==void 0&&Array.isArray(l)&&(l=rk(null,t,e,l[1],r),l=T1(l,e.attrs,r),fle(t,e,r,l))}else s=dle(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function ule(t,e,n){let r=n?e.classBindings:e.styleBindings;if(J0(r)!==0)return t[Ah(r)]}function fle(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ah(i)]=r}function dle(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=T1(r,o,n)}return T1(r,e.attrs,n)}function rk(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=T1(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function T1(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Rw(t,o,n?!0:e[++s]))}return t===void 0?null:t}function hle(t,e,n){if(n==null||n==="")return ro;let r=[],i=EE(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(i instanceof Set)for(let s of i)t(r,s,!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function ple(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Rw(t,r,n)}function mle(t,e,n,r,i,s,o,a){i===As&&(i=ro);let l=0,c=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;u!==null||f!==null;){let d=l<i.length?i[l+1]:void 0,h=c<s.length?s[c+1]:void 0,g=null,v;u===f?(l+=2,c+=2,d!==h&&(g=f,v=h)):f===null||u!==null&&u<f?(l+=2,g=u):(c+=2,g=f,v=h),g!==null&&I7(t,e,n,r,g,v,o,a),u=l<i.length?i[l]:null,f=c<s.length?s[c]:null}}function I7(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=Qae(c)?U6(l,e,n,i,J0(c),o):void 0;if(!gE(u)){gE(s)||Kae(c)&&(s=U6(l,null,n,i,a,o));let f=DD(vl(),n);goe(r,o,f,i,s)}}function U6(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,f=u===null,d=n[i+1];d===As&&(d=f?ro:void 0);let h=f?Lw(d,r):u===r?d:void 0;if(c&&!gE(h)&&(h=Lw(l,r)),gE(h)&&(a=h,o))return a;let g=t[i+1];i=o?Ah(g):J0(g)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Lw(l,r))}return a}function gE(t){return t!==void 0}function gle(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Af(EE(t)))),t}function D7(t,e){return(t.flags&(e?8:16))!==0}function _e(t,e=""){let n=Mn(),r=hs(),i=t+mi,s=r.firstCreatePass?TE(r,i,1,e,null):r.data[i],o=vle(r,n,s,e);n[i]=o,jw()&&zk(r,n,o,s),q0(s,!1)}var vle=(t,e,n,r)=>(zw(!0),Pse(e[Yr],r));function yle(t,e,n,r=""){return El(t,G0(),n)?e+Pf(n)+r:As}function _le(t,e,n,r,i,s=""){let o=HD(),a=rN(t,o,n,i);return v1(2),a?e+Pf(n)+r+Pf(i)+s:As}function xle(t,e,n,r,i,s,o,a=""){let l=HD(),c=dae(t,l,n,i,o);return v1(3),c?e+Pf(n)+r+Pf(i)+s+Pf(o)+a:As}function vn(t){return cn("",t),vn}function cn(t,e,n){let r=Mn(),i=yle(r,t,e,n);return i!==As&&cN(r,vl(),i),cn}function em(t,e,n,r,i){let s=Mn(),o=_le(s,t,e,n,r,i);return o!==As&&cN(s,vl(),o),em}function F1(t,e,n,r,i,s,o){let a=Mn(),l=xle(a,t,e,n,r,i,s,o);return l!==As&&cN(a,vl(),l),F1}function cN(t,e,n){let r=DD(e,t);Fse(t[Yr],r,n)}function yu(t,e,n){iN(e)&&(e=e());let r=Mn(),i=G0();if(El(r,i,e)){let s=hs(),o=WD();$B(o,r,t,e,r[Yr],n)}return yu}function Hf(t,e){let n=iN(t);return n&&t.set(e),n}function _u(t,e){let n=Mn(),r=hs(),i=Io();return S7(r,n,n[Yr],i,t,e),_u}function H6(t,e,n){let r=hs();r.firstCreatePass&&k7(e,r.data,r.blueprint,xc(t),n)}function k7(t,e,n,r,i){if(t=ds(t),Array.isArray(t))for(let s=0;s<t.length;s++)k7(t[s],e,n,r,i);else{let s=hs(),o=Mn(),a=Io(),l=fh(t)?t:ds(t.provide),c=CD(t),u=a.providerIndexes&1048575,f=a.directiveStart,d=a.providerIndexes>>20;if(fh(t)||!t.multi){let h=new Ch(c,i,Xn,null),g=sk(l,e,i?u:u+d,f);g===-1?(ck(sE(a,o),s,l),ik(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[g]=h,o[g]=h)}else{let h=sk(l,e,u+d,f),g=sk(l,e,u,u+d),v=h>=0&&n[h],x=g>=0&&n[g];if(i&&!x||!i&&!v){ck(sE(a,o),s,l);let _=Sle(i?Ele:wle,n.length,i,r,c,t);!i&&x&&(n[g].providerFactory=_),ik(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)}else{let _=N7(n[i?g:h],c,!i&&r);ik(s,t,h>-1?h:g,_)}!i&&r&&x&&n[g].componentProviders++}}}function ik(t,e,n,r){let i=fh(e),s=DO(e);if(i||s){let l=(s?ds(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function N7(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function sk(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function wle(t,e,n,r,i){return Fk(this.multi,[])}function Ele(t,e,n,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=oE(r,r[on],this.providerFactory.index,i);o=l.slice(0,a),Fk(s,o);for(let c=a;c<l.length;c++)o.push(l[c])}else o=[],Fk(s,o);return o}function Fk(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Sle(t,e,n,r,i,s){let o=new Ch(t,n,Xn,null);return o.multi=[],o.index=e,o.componentProviders=0,N7(o,i,r&&!n),o}function tm(t,e){return n=>{n.providersResolver=(r,i)=>H6(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>H6(r,i?i(e):e,!0))}}function M7(t,e){let n=t[e];return n===As?void 0:n}function Cle(t,e,n,r,i,s){let o=e+n;return El(t,o,i)?c7(t,o+1,s?r.call(s,i):r(i)):M7(t,o+1)}function ble(t,e,n,r,i,s,o){let a=e+n;return rN(t,a,i,s)?c7(t,a+2,o?r.call(o,i,s):r(i,s)):M7(t,a+2)}function ca(t,e){let n=hs(),r,i=t+mi;n.firstCreatePass?(r=Tle(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=If(r.type,!0)),o,a=no(Xn);try{let l=iE(!1),c=s();return iE(l),kD(n,Mn(),i,c),c}finally{no(a)}}function Tle(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function R1(t,e,n){let r=t+mi,i=Mn(),s=Uw(i,r);return P7(i,r)?Cle(i,UD(),e,s.transform,n,s):s.transform(n)}function Cl(t,e,n,r){let i=t+mi,s=Mn(),o=Uw(s,i);return P7(s,i)?ble(s,UD(),e,o.transform,n,r,o):o.transform(n,r)}function P7(t,e){return t[on].data[e].pure}var F7=(()=>{class t{applicationErrorHandler=Pt(Eh);appRef=Pt(Z0);taskService=Pt(W0);ngZone=Pt(sa);zonelessEnabled=Pt(_1);tracing=Pt(Ih,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new to;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(l1):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Pt(XD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?o6:jD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(l1+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uN(){return Vf("NgZoneless"),wD([...fN(),[]])}function fN(){return[{provide:Nf,useExisting:F7},{provide:sa,useClass:c1},{provide:_1,useValue:!0}]}function Ale(){return typeof $localize<"u"&&$localize.locale||M1}var nm=new gn("",{factory:()=>Pt(nm,{optional:!0,skipSelf:!0})||Ale()}),dN=new gn("",{factory:()=>Yae});function Tn(t,e){return tw(t,e?.equal)}var L7=Symbol("InputSignalNode#UNSET"),Hle=Nt(De({},nw),{transformFn:void 0,applyValueToInputSignal(t,e){t1(t,e)}});function O7(t,e){let n=Object.create(Hle);n.value=t,n.transformFn=e?.transform;function r(){if(Qv(n),n.value===L7){let i=null;throw new zt(-950,i)}return n.value}return r[eo]=n,r}function R7(t,e){return O7(t,e)}function $le(t){return O7(L7,t)}var B7=(R7.required=$le,R7);var hN=new gn(""),qle=new gn("");function L1(t){return!t.moduleRef}function Gle(t){let e=L1(t)?t.r3Injector:t.moduleRef.injector,n=e.get(sa);return n.run(()=>{L1(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Eh),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),L1(t)){let s=()=>e.destroy(),o=t.platformInjector.get(hN);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(hN);o.add(s),t.moduleRef.onDestroy(()=>{E1(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return jle(r,n,()=>{let s=e.get(W0),o=s.add(),a=e.get(aN);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(nm,M1);if(E7(l||M1),!e.get(qle,!0))return L1(t)?e.get(Z0):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(L1(t)){let u=e.get(Z0);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return Wle?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{s.remove(o)})})})}var Wle;function jle(t,e,n){try{let r=n();return Q0(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var kE=null;function zle(t=[],e){return gc.create({name:e,providers:[{provide:d1,useValue:"platform"},{provide:hN,useValue:new Set([()=>kE=null])},...t]})}function Yle(t=[]){if(kE)return kE;let e=zle(t);return kE=e,_7(),Xle(e),e}function Xle(t){let e=t.get(_E,null);Ow(t,()=>{e?.forEach(n=>n())})}var Kle=1e4;var VBe=Kle-1e3;var NE=(()=>{class t{static __NG_ELEMENT_ID__=Jle}return t})();function Jle(t){return Qle(Io(),Mn(),(t&16)===16)}function Qle(t,e,n){if(Rf(t)&&!n){let r=Pa(t.index,e);return new K0(r,r)}else if(t.type&175){let r=e[oa];return new K0(r,e)}return null}function V7(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;cr(Un.BootstrapApplicationStart);try{let s=i?.injector??Yle(r),o=[fN(),l6,...n||[]],a=new b1({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return Gle({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}finally{cr(Un.BootstrapApplicationEnd)}}function U7(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var H7=null;function qf(){return H7}function pN(t){H7??=t}var O1=class{};var j7={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KGS:[void 0,"\u20C0"],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XCG:["Cg."],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},wN=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(wN||{});var ks=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(ks||{}),Cr=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Cr||{}),ko=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(ko||{}),No={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function z7(t){return so(t)[Xr.LocaleId]}function Y7(t,e,n){let r=so(t),i=[r[Xr.DayPeriodsFormat],r[Xr.DayPeriodsStandalone]],s=Fa(i,e);return Fa(s,n)}function X7(t,e,n){let r=so(t),i=[r[Xr.DaysFormat],r[Xr.DaysStandalone]],s=Fa(i,e);return Fa(s,n)}function K7(t,e,n){let r=so(t),i=[r[Xr.MonthsFormat],r[Xr.MonthsStandalone]],s=Fa(i,e);return Fa(s,n)}function J7(t,e){let r=so(t)[Xr.Eras];return Fa(r,e)}function B1(t,e){let n=so(t);return Fa(n[Xr.DateFormat],e)}function V1(t,e){let n=so(t);return Fa(n[Xr.TimeFormat],e)}function U1(t,e){let r=so(t)[Xr.DateTimeFormat];return Fa(r,e)}function bc(t,e){let n=so(t),r=n[Xr.NumberSymbols][e];if(typeof r>"u"){if(e===No.CurrencyDecimal)return n[Xr.NumberSymbols][No.Decimal];if(e===No.CurrencyGroup)return n[Xr.NumberSymbols][No.Group]}return r}function Q7(t,e){return so(t)[Xr.NumberFormats][e]}function Zle(t){return so(t)[Xr.Currencies]}function Z7(t){if(!t[Xr.ExtraData])throw new zt(2303,!1)}function eV(t){let e=so(t);return Z7(e),(e[Xr.ExtraData][2]||[]).map(r=>typeof r=="string"?mN(r):[mN(r[0]),mN(r[1])])}function tV(t,e,n){let r=so(t);Z7(r);let i=[r[Xr.ExtraData][0],r[Xr.ExtraData][1]],s=Fa(i,e)||[];return Fa(s,n)||[]}function Fa(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new zt(2304,!1)}function mN(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function nV(t,e,n="en"){let r=Zle(n)[t]||j7[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var ece=2;function rV(t){let e,n=j7[t];return n&&(e=n[2]),typeof e=="number"?e:ece}var tce=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ME={},nce=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function iV(t,e,n,r){let i=fce(t);e=xu(n,e)||e;let o=[],a;for(;e;)if(a=nce.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=i.getTimezoneOffset();r&&(l=oV(r,l),i=uce(i,r));let c="";return o.forEach(u=>{let f=lce(u);c+=f?f(i,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function OE(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function xu(t,e){let n=z7(t);if(ME[n]??={},ME[n][e])return ME[n][e];let r="";switch(e){case"shortDate":r=B1(t,ko.Short);break;case"mediumDate":r=B1(t,ko.Medium);break;case"longDate":r=B1(t,ko.Long);break;case"fullDate":r=B1(t,ko.Full);break;case"shortTime":r=V1(t,ko.Short);break;case"mediumTime":r=V1(t,ko.Medium);break;case"longTime":r=V1(t,ko.Long);break;case"fullTime":r=V1(t,ko.Full);break;case"short":let i=xu(t,"shortTime"),s=xu(t,"shortDate");r=PE(U1(t,ko.Short),[i,s]);break;case"medium":let o=xu(t,"mediumTime"),a=xu(t,"mediumDate");r=PE(U1(t,ko.Medium),[o,a]);break;case"long":let l=xu(t,"longTime"),c=xu(t,"longDate");r=PE(U1(t,ko.Long),[l,c]);break;case"full":let u=xu(t,"fullTime"),f=xu(t,"fullDate");r=PE(U1(t,ko.Full),[u,f]);break}return r&&(ME[n][e]=r),r}function PE(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function bl(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function rce(t,e){return bl(t,3).substring(0,e)}function Ai(t,e,n=0,r=!1,i=!1){return function(s,o){let a=ice(t,s);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return rce(a,e);let l=bc(o,No.MinusSign);return bl(a,e,l,r,i)}}function ice(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new zt(2301,!1)}}function Lr(t,e,n=ks.Format,r=!1){return function(i,s){return sce(i,s,t,e,n,r)}}function sce(t,e,n,r,i,s){switch(n){case 2:return K7(e,i,r)[t.getMonth()];case 1:return X7(e,i,r)[t.getDay()];case 0:let o=t.getHours(),a=t.getMinutes();if(s){let c=eV(e),u=tV(e,i,r),f=c.findIndex(d=>{if(Array.isArray(d)){let[h,g]=d,v=o>=h.hours&&a>=h.minutes,x=o<g.hours||o===g.hours&&a<g.minutes;if(h.hours<g.hours){if(v&&x)return!0}else if(v||x)return!0}else if(d.hours===o&&d.minutes===a)return!0;return!1});if(f!==-1)return u[f]}return Y7(e,i,r)[o<12?0:1];case 3:return J7(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new zt(2302,!1)}}function FE(t){return function(e,n,r){let i=-1*r,s=bc(n,No.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+bl(o,2,s)+bl(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+bl(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+bl(o,2,s)+":"+bl(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+bl(o,2,s)+":"+bl(Math.abs(i%60),2,s);default:throw new zt(2310,!1)}}}var oce=0,LE=4;function ace(t){let e=OE(t,oce,1).getDay();return OE(t,0,1+(e<=LE?LE:LE+7)-e)}function sV(t){let e=t.getDay(),n=e===0?-3:LE-e;return OE(t.getFullYear(),t.getMonth(),t.getDate()+n)}function gN(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=sV(n),o=ace(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return bl(i,t,bc(r,No.MinusSign))}}function RE(t,e=!1){return function(n,r){let s=sV(n).getFullYear();return bl(s,t,bc(r,No.MinusSign),e)}}var vN={};function lce(t){if(vN[t])return vN[t];let e;switch(t){case"G":case"GG":case"GGG":e=Lr(3,Cr.Abbreviated);break;case"GGGG":e=Lr(3,Cr.Wide);break;case"GGGGG":e=Lr(3,Cr.Narrow);break;case"y":e=Ai(0,1,0,!1,!0);break;case"yy":e=Ai(0,2,0,!0,!0);break;case"yyy":e=Ai(0,3,0,!1,!0);break;case"yyyy":e=Ai(0,4,0,!1,!0);break;case"Y":e=RE(1);break;case"YY":e=RE(2,!0);break;case"YYY":e=RE(3);break;case"YYYY":e=RE(4);break;case"M":case"L":e=Ai(1,1,1);break;case"MM":case"LL":e=Ai(1,2,1);break;case"MMM":e=Lr(2,Cr.Abbreviated);break;case"MMMM":e=Lr(2,Cr.Wide);break;case"MMMMM":e=Lr(2,Cr.Narrow);break;case"LLL":e=Lr(2,Cr.Abbreviated,ks.Standalone);break;case"LLLL":e=Lr(2,Cr.Wide,ks.Standalone);break;case"LLLLL":e=Lr(2,Cr.Narrow,ks.Standalone);break;case"w":e=gN(1);break;case"ww":e=gN(2);break;case"W":e=gN(1,!0);break;case"d":e=Ai(2,1);break;case"dd":e=Ai(2,2);break;case"c":case"cc":e=Ai(7,1);break;case"ccc":e=Lr(1,Cr.Abbreviated,ks.Standalone);break;case"cccc":e=Lr(1,Cr.Wide,ks.Standalone);break;case"ccccc":e=Lr(1,Cr.Narrow,ks.Standalone);break;case"cccccc":e=Lr(1,Cr.Short,ks.Standalone);break;case"E":case"EE":case"EEE":e=Lr(1,Cr.Abbreviated);break;case"EEEE":e=Lr(1,Cr.Wide);break;case"EEEEE":e=Lr(1,Cr.Narrow);break;case"EEEEEE":e=Lr(1,Cr.Short);break;case"a":case"aa":case"aaa":e=Lr(0,Cr.Abbreviated);break;case"aaaa":e=Lr(0,Cr.Wide);break;case"aaaaa":e=Lr(0,Cr.Narrow);break;case"b":case"bb":case"bbb":e=Lr(0,Cr.Abbreviated,ks.Standalone,!0);break;case"bbbb":e=Lr(0,Cr.Wide,ks.Standalone,!0);break;case"bbbbb":e=Lr(0,Cr.Narrow,ks.Standalone,!0);break;case"B":case"BB":case"BBB":e=Lr(0,Cr.Abbreviated,ks.Format,!0);break;case"BBBB":e=Lr(0,Cr.Wide,ks.Format,!0);break;case"BBBBB":e=Lr(0,Cr.Narrow,ks.Format,!0);break;case"h":e=Ai(3,1,-12);break;case"hh":e=Ai(3,2,-12);break;case"H":e=Ai(3,1);break;case"HH":e=Ai(3,2);break;case"m":e=Ai(4,1);break;case"mm":e=Ai(4,2);break;case"s":e=Ai(5,1);break;case"ss":e=Ai(5,2);break;case"S":e=Ai(6,1);break;case"SS":e=Ai(6,2);break;case"SSS":e=Ai(6,3);break;case"Z":case"ZZ":case"ZZZ":e=FE(0);break;case"ZZZZZ":e=FE(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=FE(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=FE(2);break;default:return null}return vN[t]=e,e}function oV(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function cce(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function uce(t,e,n){let i=t.getTimezoneOffset(),s=oV(e,i);return cce(t,-1*(s-i))}function fce(t){if($7(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return OE(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(tce))return dce(r)}let e=new Date(t);if(!$7(e))throw new zt(2311,!1);return e}function dce(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,l,c),e}function $7(t){return t instanceof Date&&!isNaN(t.valueOf())}var hce=/^(\d+)?\.((\d+)(-(\d+))?)?$/,q7=22,BE=".",H1="0",pce=";",mce=",",yN="#",G7="\xA4";function gce(t,e,n,r,i,s,o=!1){let a="",l=!1;if(!isFinite(t))a=bc(n,No.Infinity);else{let c=_ce(t);o&&(c=yce(c));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(s){let E=s.match(hce);if(E===null)throw new zt(2306,!1);let C=E[1],D=E[3],A=E[5];C!=null&&(u=_N(C)),D!=null&&(f=_N(D)),A!=null?d=_N(A):D!=null&&f>d&&(d=f)}xce(c,f,d);let h=c.digits,g=c.integerLen,v=c.exponent,x=[];for(l=h.every(E=>!E);g<u;g++)h.unshift(0);for(;g<0;g++)h.unshift(0);g>0?x=h.splice(g,h.length):(x=h,h=[0]);let _=[];for(h.length>=e.lgSize&&_.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)_.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&_.unshift(h.join("")),a=_.join(bc(n,r)),x.length&&(a+=bc(n,i)+x.join("")),v&&(a+=bc(n,No.Exponential)+"+"+v)}return t<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function aV(t,e,n,r,i){let s=Q7(e,wN.Currency),o=vce(s,bc(e,No.MinusSign));return o.minFrac=rV(r),o.maxFrac=o.minFrac,gce(t,o,e,No.CurrencyGroup,No.CurrencyDecimal,i).replace(G7,n).replace(G7,"").trim()}function vce(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(pce),i=r[0],s=r[1],o=i.indexOf(BE)!==-1?i.split(BE):[i.substring(0,i.lastIndexOf(H1)+1),i.substring(i.lastIndexOf(H1)+1)],a=o[0],l=o[1]||"";n.posPre=a.substring(0,a.indexOf(yN));for(let u=0;u<l.length;u++){let f=l.charAt(u);f===H1?n.minFrac=n.maxFrac=u+1:f===yN?n.maxFrac=u+1:n.posSuf+=f}let c=a.split(mce);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){let u=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf(yN);n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function yce(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function _ce(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(BE))>-1&&(e=e.replace(BE,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===H1;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===H1;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>q7&&(r=r.splice(0,q7-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function xce(t,e,n){if(e>n)throw new zt(2307,!1);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=s!==0,c=e+t.integerLen,u=r.reduceRight(function(f,d,h,g){return d=d+f,g[h]=d<10?d:d-10,l&&(g[h]===0&&h>=c?g.pop():l=!1),d>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}function _N(t){let e=parseInt(t);if(isNaN(e))throw new zt(2305,!1);return e}var xN=/\s+/,W7=[],$1=(()=>{class t{_ngEl;_renderer;initialClasses=W7;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(xN):W7}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(xN):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(xN).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Xn(pu),Xn(Uf))};static \u0275dir=la({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function lV(t,e){return new zt(2100,!1)}var wce="mediumDate",cV=new gn(""),uV=new gn(""),wu=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??wce,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return iV(n,o,s||this.locale,a)}catch(o){throw lV(t,o.message)}}static \u0275fac=function(r){return new(r||t)(Xn(nm,16),Xn(cV,24),Xn(uV,24))};static \u0275pipe=DE({name:"date",type:t,pure:!0})}return t})();var q1=(()=>{class t{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!Ece(n))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=nV(a,i==="symbol"?"wide":"narrow",o):a=i);try{let l=Sce(n);return aV(l,o,a,r,s)}catch(l){throw lV(t,l.message)}}static \u0275fac=function(r){return new(r||t)(Xn(nm,16),Xn(dN,16))};static \u0275pipe=DE({name:"currency",type:t,pure:!0})}return t})();function Ece(t){return!(t==null||t===""||t!==t)}function Sce(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new zt(2309,!1);return t}var Ji=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Dh({type:t});static \u0275inj=Mf({})}return t})();function EN(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var G1=class{};var fV="browser";var j1=class{_doc;constructor(e){this._doc=e}manager},VE=(()=>{class t extends j1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(vr(yl))};static \u0275prov=Dr({token:t,factory:t.\u0275fac})}return t})(),$E=new gn(""),TN=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this});let i=n.filter(o=>!(o instanceof VE));this._plugins=i.slice().reverse();let s=n.find(o=>o instanceof VE);s&&this._plugins.push(s)}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new zt(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(vr($E),vr(sa))};static \u0275prov=Dr({token:t,factory:t.\u0275fac})}return t})(),SN="ng-app-id";function dV(t){for(let e of t)e.remove()}function hV(t,e){let n=e.createElement("style");return n.textContent=t,n}function bce(t,e,n,r){let i=t.head?.querySelectorAll(`style[${SN}="${e}"],link[${SN}="${e}"]`);if(i)for(let s of i)s.removeAttribute(SN),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function bN(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var AN=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,bce(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,hV);r?.forEach(i=>this.addUsage(i,this.external,bN))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(dV(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])dV(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,hV(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,bN(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(vr(yl),vr(yE),vr(xE,8),vr(D1))};static \u0275prov=Dr({token:t,factory:t.\u0275fac})}return t})(),CN={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},IN=/%COMP%/g;var mV="%COMP%",Tce=`_nghost-${mV}`,Ace=`_ngcontent-${mV}`,Ice=!0,Dce=new gn("",{factory:()=>Ice});function kce(t){return Ace.replace(IN,t)}function Nce(t){return Tce.replace(IN,t)}function gV(t,e){return e.map(n=>n.replace(IN,t))}var DN=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,s,o,a,l=null,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=l,this.tracingService=c,this.defaultRenderer=new z1(n,o,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof HE?i.applyToHost(n):i instanceof Y1&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.tracingService;switch(r.encapsulation){case wl.Emulated:s=new HE(l,c,r,this.appId,u,o,a,f);break;case wl.ShadowDom:return new UE(l,n,r,o,a,this.nonce,f,c);case wl.ExperimentalIsolatedShadowDom:return new UE(l,n,r,o,a,this.nonce,f);default:s=new Y1(l,c,r,u,o,a,f);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(vr(TN),vr(AN),vr(yE),vr(Dce),vr(yl),vr(sa),vr(xE),vr(Ih,8))};static \u0275prov=Dr({token:t,factory:t.\u0275fac})}return t})(),z1=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(CN[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pV(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(pV(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new zt(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=CN[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=CN[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Cc.DashCase|Cc.Important)?e.style.setProperty(n,r,i&Cc.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cc.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=qf().getGlobalEventTarget(this.doc,e),!e))throw new zt(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function pV(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var UE=class extends z1{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,s,o,a,l){super(e,i,s,a),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let c=r.styles;c=gV(r.id,c);for(let f of c){let d=document.createElement("style");o&&d.setAttribute("nonce",o),d.textContent=f,this.shadowRoot.appendChild(d)}let u=r.getExternalStyles?.();if(u)for(let f of u){let d=bN(f,i);o&&d.setAttribute("nonce",o),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Y1=class extends z1{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let c=r.styles;this.styles=l?gV(l,c):c,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&bh.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},HE=class extends Y1{contentAttr;hostAttr;constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=kce(c),this.hostAttr=Nce(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var qE=class t extends O1{supportsDOMEvents=!0;static makeCurrent(){pN(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Mce();return n==null?null:Pce(n)}resetBaseElement(){X1=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return EN(document.cookie,e)}},X1=null;function Mce(){return X1=X1||document.head.querySelector("base"),X1?X1.getAttribute("href"):null}function Pce(t){return new URL(t,document.baseURI).pathname}var Fce=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Dr({token:t,factory:t.\u0275fac})}return t})(),vV=["alt","control","meta","shift"],Rce={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lce={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},yV=(()=>{class t extends j1{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qf().onAndCancel(n,o.domEventName,a,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),vV.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=Rce[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),vV.forEach(o=>{if(o!==i){let a=Lce[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(vr(yl))};static \u0275prov=Dr({token:t,factory:t.\u0275fac})}return t})();async function kN(t,e,n){let r=De({rootComponent:t},Oce(e,n));return V7(r)}function Oce(t,e){return{platformRef:e?.platformRef,appProviders:[...$ce,...t?.providers??[]],platformProviders:Hce}}function Bce(){qE.makeCurrent()}function Vce(){return new vc}function Uce(){return Lk(document),document}var Hce=[{provide:D1,useValue:fV},{provide:_E,useValue:Bce,multi:!0},{provide:yl,useFactory:Uce}];var $ce=[{provide:d1,useValue:"root"},{provide:vc,useFactory:Vce},{provide:$E,useClass:VE,multi:!0},{provide:$E,useClass:yV,multi:!0},DN,AN,TN,{provide:Th,useExisting:DN},{provide:G1,useClass:Fce},[]];var _V=()=>{};var NN={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var lt=function(t,e){if(!t)throw Nh(e)},Nh=function(t){return new Error("Firebase Database ("+NN.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var EV=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qce=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4,d=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(d=64)),r.push(n[u],n[f],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qce(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new MN;let d=s<<2|a>>4;if(r.push(d),c!==64){let h=a<<4&240|c>>2;if(r.push(h),f!==64){let g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},MN=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},PN=function(t){let e=EV(t);return jE.encodeByteArray(e,!0)},J1=function(t){return PN(t).replace(/\./g,"")},GE=function(t){try{return jE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function SV(t){return CV(void 0,t)}function CV(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!Gce(n)||(t[n]=CV(t[n],e[n]));return t}function Gce(t){return t!=="__proto__"}function Wce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var jce=()=>Wce().__FIREBASE_DEFAULTS__,zce=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yce=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&GE(t[1]);return e&&JSON.parse(e)},bV=()=>{try{return _V()||jce()||zce()||Yce()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xce=t=>bV()?.emulatorHosts?.[t],TV=t=>{let e=Xce(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FN=()=>bV()?.config;var Eu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function zE(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AV(t){return(await fetch(t,{credentials:"include"})).ok}function IV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=De({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[J1(JSON.stringify(n)),J1(JSON.stringify(o)),""].join(".")}var K1={};function Kce(){let t={prod:[],emulator:[]};for(let e of Object.keys(K1))K1[e]?t.emulator.push(e):t.prod.push(e);return t}function Jce(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var xV=!1;function DV(t,e){if(typeof window>"u"||typeof document>"u"||!zE(window.location.host)||K1[t]===e||K1[t]||xV)return;K1[t]=e;function n(d){return`__firebase__banner__${d}`}let r="__firebase__banner",s=Kce().prod.length>0;function o(){let d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,h){d.setAttribute("width","24"),d.setAttribute("id",h),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){let d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{xV=!0,o()},d}function u(d,h){d.setAttribute("id",h),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){let d=Jce(r),h=n("text"),g=document.getElementById(h)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){let C=d.element;a(C),u(x,v);let D=c();l(E,_),C.append(E,g,x,D),document.body.appendChild(C)}s?(g.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function Qce(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qce())}function kV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tc(){return NN.NODE_CLIENT===!0||NN.NODE_ADMIN===!0}function NV(){try{return typeof indexedDB=="object"}catch{return!1}}function MV(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var Zce="FirebaseError",kh=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Zce,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q1.prototype.create)}},Q1=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?eue(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new kh(i,a,r)}};function eue(t,e){return t.replace(tue,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var tue=/\{\$([^}]+)}/g;function rm(t){return JSON.parse(t)}function Hi(t){return JSON.stringify(t)}var PV=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=rm(GE(s[0])||""),n=rm(GE(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var FV=function(t){let e=PV(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},RV=function(t){let e=PV(t).claims;return typeof e=="object"&&e.admin===!0};function Tl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Mh(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function LN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Z1(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function im(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(wV(s)&&wV(o)){if(!im(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function wV(t){return t!==null&&typeof t=="object"}function LV(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var WE=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){let d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):f<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let d=(i<<5|i>>>27)+c+l+u+r[f]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function ey(t,e){return`${t} failed: ${e} argument `}var OV=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,lt(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ty=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var CVe=14400*1e3;function sm(t){return t&&t._delegate?t._delegate:t}var Su=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ph="[DEFAULT]";var YE=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Eu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rue(e))try{this.getOrInitializeService({instanceIdentifier:Ph})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ph){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ph){return this.instances.has(e)}getOptions(e=Ph){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nue(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ph){return this.component?this.component.multipleInstances?e:Ph:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nue(t){return t===Ph?void 0:t}function rue(t){return t.instantiationMode==="EAGER"}var ny=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new YE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var iue=[],Or=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(Or||{}),sue={debug:Or.DEBUG,verbose:Or.VERBOSE,info:Or.INFO,warn:Or.WARN,error:Or.ERROR,silent:Or.SILENT},oue=Or.INFO,aue={[Or.DEBUG]:"log",[Or.VERBOSE]:"log",[Or.INFO]:"info",[Or.WARN]:"warn",[Or.ERROR]:"error"},lue=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=aue[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},om=class{constructor(e){this.name=e,this._logLevel=oue,this._logHandler=lue,this._userLogHandler=null,iue.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Or))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sue[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Or.DEBUG,...e),this._logHandler(this,Or.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Or.VERBOSE,...e),this._logHandler(this,Or.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Or.INFO,...e),this._logHandler(this,Or.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Or.WARN,...e),this._logHandler(this,Or.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Or.ERROR,...e),this._logHandler(this,Or.ERROR,...e)}};var cue=(t,e)=>e.some(n=>t instanceof n),BV,VV;function uue(){return BV||(BV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fue(){return VV||(VV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var UV=new WeakMap,BN=new WeakMap,HV=new WeakMap,ON=new WeakMap,UN=new WeakMap;function due(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ac(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UV.set(n,t)}).catch(()=>{}),UN.set(e,t),e}function hue(t){if(BN.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});BN.set(t,e)}var VN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return BN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ac(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $V(t){VN=t(VN)}function pue(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(XE(this),e,...n);return HV.set(r,e.sort?e.sort():[e]),Ac(r)}:fue().includes(t)?function(...e){return t.apply(XE(this),e),Ac(UV.get(this))}:function(...e){return Ac(t.apply(XE(this),e))}}function mue(t){return typeof t=="function"?pue(t):(t instanceof IDBTransaction&&hue(t),cue(t,uue())?new Proxy(t,VN):t)}function Ac(t){if(t instanceof IDBRequest)return due(t);if(ON.has(t))return ON.get(t);let e=mue(t);return e!==t&&(ON.set(t,e),UN.set(e,t)),e}var XE=t=>UN.get(t);function GV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Ac(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ac(o.result),l.oldVersion,l.newVersion,Ac(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var gue=["get","getKey","getAll","getAllKeys","count"],vue=["put","add","delete","clear"],HN=new Map;function qV(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(HN.get(e))return HN.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=vue.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gue.includes(n)))return;let s=async function(o,...a){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return HN.set(e,s),s}$V(t=>Nt(De({},t),{get:(e,n,r)=>qV(e,n)||t.get(e,n,r),has:(e,n)=>!!qV(e,n)||t.has(e,n)}));var qN=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yue(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function yue(t){return t.getComponent()?.type==="VERSION"}var GN="@firebase/app",WV="0.14.7";var Cu=new om("@firebase/app"),_ue="@firebase/app-compat",xue="@firebase/analytics-compat",wue="@firebase/analytics",Eue="@firebase/app-check-compat",Sue="@firebase/app-check",Cue="@firebase/auth",bue="@firebase/auth-compat",Tue="@firebase/database",Aue="@firebase/data-connect",Iue="@firebase/database-compat",Due="@firebase/functions",kue="@firebase/functions-compat",Nue="@firebase/installations",Mue="@firebase/installations-compat",Pue="@firebase/messaging",Fue="@firebase/messaging-compat",Rue="@firebase/performance",Lue="@firebase/performance-compat",Oue="@firebase/remote-config",Bue="@firebase/remote-config-compat",Vue="@firebase/storage",Uue="@firebase/storage-compat",Hue="@firebase/firestore",$ue="@firebase/ai",que="@firebase/firestore-compat",Gue="firebase",Wue="12.8.0";var WN="[DEFAULT]",jue={[GN]:"fire-core",[_ue]:"fire-core-compat",[wue]:"fire-analytics",[xue]:"fire-analytics-compat",[Sue]:"fire-app-check",[Eue]:"fire-app-check-compat",[Cue]:"fire-auth",[bue]:"fire-auth-compat",[Tue]:"fire-rtdb",[Aue]:"fire-data-connect",[Iue]:"fire-rtdb-compat",[Due]:"fire-fn",[kue]:"fire-fn-compat",[Nue]:"fire-iid",[Mue]:"fire-iid-compat",[Pue]:"fire-fcm",[Fue]:"fire-fcm-compat",[Rue]:"fire-perf",[Lue]:"fire-perf-compat",[Oue]:"fire-rc",[Bue]:"fire-rc-compat",[Vue]:"fire-gcs",[Uue]:"fire-gcs-compat",[Hue]:"fire-fst",[que]:"fire-fst-compat",[$ue]:"fire-vertex","fire-js":"fire-js",[Gue]:"fire-js-all"};var KE=new Map,zue=new Map,jN=new Map;function jV(t,e){try{t.container.addComponent(e)}catch(n){Cu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ry(t){let e=t.name;if(jN.has(e))return Cu.debug(`There were multiple attempts to register component ${e}.`),!1;jN.set(e,t);for(let n of KE.values())jV(n,t);for(let n of zue.values())jV(n,t);return!0}function KV(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function JV(t){return t==null?!1:t.settings!==void 0}var Yue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gf=new Q1("app","Firebase",Yue);var zN=class{constructor(e,n,r){this._isDeleted=!1,this._options=De({},e),this._config=De({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Su("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gf.create("app-deleted",{appName:this._name})}};var QV=Wue;function KN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=De({name:WN,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Gf.create("bad-app-name",{appName:String(i)});if(n||(n=FN()),!n)throw Gf.create("no-options");let s=KE.get(i);if(s){if(im(n,s.options)&&im(r,s.config))return s;throw Gf.create("duplicate-app",{appName:i})}let o=new ny(i);for(let l of jN.values())o.addComponent(l);let a=new zN(n,r,o);return KE.set(i,a),a}function ZV(t=WN){let e=KE.get(t);if(!e&&t===WN&&FN())return KN();if(!e)throw Gf.create("no-app",{appName:t});return e}function Wf(t,e,n){let r=jue[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cu.warn(o.join(" "));return}ry(new Su(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var Xue="firebase-heartbeat-database",Kue=1,iy="firebase-heartbeat-store",$N=null;function e9(){return $N||($N=GV(Xue,Kue,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(iy)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gf.create("idb-open",{originalErrorMessage:t.message})})),$N}async function Jue(t){try{let n=(await e9()).transaction(iy),r=await n.objectStore(iy).get(t9(t));return await n.done,r}catch(e){if(e instanceof kh)Cu.warn(e.message);else{let n=Gf.create("idb-get",{originalErrorMessage:e?.message});Cu.warn(n.message)}}}async function zV(t,e){try{let r=(await e9()).transaction(iy,"readwrite");await r.objectStore(iy).put(e,t9(t)),await r.done}catch(n){if(n instanceof kh)Cu.warn(n.message);else{let r=Gf.create("idb-set",{originalErrorMessage:n?.message});Cu.warn(r.message)}}}function t9(t){return`${t.name}!${t.options.appId}`}var Que=1024,Zue=30,YN=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new XN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=YV();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Zue){let i=tfe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=YV(),{heartbeatsToSend:n,unsentEntries:r}=efe(this._heartbeatsCache.heartbeats),i=J1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Cu.warn(e),""}}};function YV(){return new Date().toISOString().substring(0,10)}function efe(t,e=Que){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),XV(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var XN=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NV()?MV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await Jue(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return zV(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return zV(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function XV(t){return J1(JSON.stringify({version:2,heartbeats:t})).length}function tfe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function nfe(t){ry(new Su("platform-logger",e=>new qN(e),"PRIVATE")),ry(new Su("heartbeat",e=>new YN(e),"PRIVATE")),Wf(GN,WV,t),Wf(GN,WV,"esm2020"),Wf("fire-js","")}nfe("");var rfe="firebase",ife="12.8.0";Wf(rfe,ife,"app");var n9="@firebase/database",r9="1.1.0";var rM="";function sfe(t){rM=t}var i5=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Hi(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:rm(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var s5=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Tl(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var R9=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new i5(e)}}catch{}return new s5},Rh=R9("localStorage"),o5=R9("sessionStorage");var cm=new om("@firebase/database"),ofe=(function(){let t=1;return function(){return t++}})(),L9=function(t){let e=OV(t),n=new WE;n.update(e);let r=n.digest();return jE.encodeByteArray(r)},Ey=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ey.apply(null,r):typeof r=="object"?e+=Hi(r):e+=r,e+=" "}return e},Lh=null,i9=!0,afe=function(t,e){lt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(cm.logLevel=Or.VERBOSE,Lh=cm.log.bind(cm),e&&o5.set("logging_enabled",!0)):typeof t=="function"?Lh=t:(Lh=null,o5.remove("logging_enabled"))},ms=function(...t){if(i9===!0&&(i9=!1,Lh===null&&o5.get("logging_enabled")===!0&&afe(!0)),Lh){let e=Ey.apply(null,t);Lh(e)}},Sy=function(t){return function(...e){ms(t,...e)}},a5=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ey(...t);cm.error(e)},bu=function(...t){let e=`FIREBASE FATAL ERROR: ${Ey(...t)}`;throw cm.error(e),new Error(e)},oo=function(...t){let e="FIREBASE WARNING: "+Ey(...t);cm.warn(e)},lfe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&oo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},iM=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},cfe=function(t){if(Tc()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},dm="[MIN_NAME]",Oh="[MAX_NAME]",Vh=function(t,e){if(t===e)return 0;if(t===dm||e===Oh)return-1;if(e===dm||t===Oh)return 1;{let n=s9(t),r=s9(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ufe=function(t,e){return t===e?0:t<e?-1:1},sy=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Hi(e))},sM=function(t){if(typeof t!="object"||t===null)return Hi(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Hi(e[r]),n+=":",n+=sM(t[e[r]]);return n+="}",n},O9=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function gs(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var B9=function(t){lt(!iM(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),f="";for(l=0;l<64;l+=8){let d=parseInt(u.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},ffe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dfe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function hfe(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var pfe=new RegExp("^-?(0*)\\d{1,10}$"),mfe=-2147483648,gfe=2147483647,s9=function(t){if(pfe.test(t)){let e=Number(t);if(e>=mfe&&e<=gfe)return e}return null},xm=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw oo("Exception was thrown by user callback.",n),e},Math.floor(0))}},vfe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},uy=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var l5=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,JV(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){oo(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var c5=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ms("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',oo(e)}},fy=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),QE="5",V9="v",U9="s",H9="r",$9="f",q9=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G9="ls",W9="p",u5="ac",j9="websocket",z9="long_polling";var ZE=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rh.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function yfe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Y9(t,e,n){lt(typeof e=="string","typeof type must == string"),lt(typeof n=="object","typeof params must == object");let r;if(e===j9)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===z9)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);yfe(t)&&(n.ns=t.namespace);let i=[];return gs(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var f5=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Tl(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return SV(this.counters_)}};var JN={},QN={};function oM(t){let e=t.toString();return JN[e]||(JN[e]=new f5),JN[e]}function _fe(t,e){let n=t.toString();return QN[n]||(QN[n]=e()),QN[n]}var d5=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&xm(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var o9="start",xfe="close",wfe="pLPCommand",Efe="pRTLPCB",X9="id",K9="pw",J9="ser",Sfe="cb",Cfe="seg",bfe="ts",Tfe="d",Afe="dframe",Q9=1870,Z9=30,Ife=Q9-Z9,Dfe=25e3,kfe=3e4,h5=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sy(e),this.stats_=oM(n),this.urlFn=l=>(this.appCheckToken&&(l[u5]=this.appCheckToken),Y9(n,z9,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new d5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kfe)),cfe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new p5((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===o9)this.id=a,this.password=l;else if(o===xfe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[o9]="t",r[J9]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Sfe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[V9]=QE,this.transportSessionId&&(r[U9]=this.transportSessionId),this.lastSessionId&&(r[G9]=this.lastSessionId),this.applicationId&&(r[W9]=this.applicationId),this.appCheckToken&&(r[u5]=this.appCheckToken),typeof location<"u"&&location.hostname&&q9.test(location.hostname)&&(r[H9]=$9);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Tc()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ffe()&&!dfe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Hi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=PN(n),i=O9(r,Ife);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Tc())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Afe]="t",r[X9]=e,r[K9]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Hi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},p5=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Tc())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=ofe(),window[wfe+this.uniqueCallbackIdentifier]=e,window[Efe+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ms("frame writing exception"),a.stack&&ms(a.stack),ms(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ms("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[X9]=this.myID,e[K9]=this.myPW,e[J9]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Z9+r.length<=Q9;){let o=this.pendingSegs.shift();r=r+"&"+Cfe+i+"="+o.seg+"&"+bfe+i+"="+o.ts+"&"+Tfe+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Dfe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Tc()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ms("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Nfe=16384,Mfe=45e3,eS=null;typeof MozWebSocket<"u"?eS=MozWebSocket:typeof WebSocket<"u"&&(eS=WebSocket);var oy=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sy(this.connId),this.stats_=oM(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[V9]=QE,!Tc()&&typeof location<"u"&&location.hostname&&q9.test(location.hostname)&&(a[H9]=$9),r&&(a[U9]=r),i&&(a[G9]=i),s&&(a[u5]=s),o&&(a[W9]=o),Y9(n,j9,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rh.set("previous_websocket_failure",!0);try{let i;if(Tc()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${QE}/${rM}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new eS(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&eS!==null&&!t.forceDisallow_}static previouslyFailed(){return Rh.isInMemoryStorage||Rh.get("previous_websocket_failure")===!0}markConnectionHealthy(){Rh.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=rm(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(lt(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Hi(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=O9(r,Nfe);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Mfe))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),Pfe=(()=>{class t{static get ALL_TRANSPORTS(){return[h5,oy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=oy&&oy.isAvailable(),i=r&&!oy.previouslyFailed();if(n.webSocketOnly&&(r||oo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[oy];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Ffe=6e4,Rfe=5e3,Lfe=10*1024,Ofe=100*1024,ZN="t",a9="d",Bfe="s",l9="r",Vfe="e",c9="o",u9="a",f9="n",d9="p",Ufe="h",m5=class{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sy("c:"+this.id+":"),this.transportManager_=new Pfe(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=uy(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ofe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Lfe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ZN in e){let n=e[ZN];n===u9?this.upgradeIfSecondaryHealthy_():n===l9?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===c9&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=sy("t",e),r=sy("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:d9,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:u9,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:f9,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=sy("t",e),r=sy("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=sy(ZN,e);if(a9 in e){let r=e[a9];if(n===Ufe){let i=De({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===f9){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Bfe?this.onConnectionShutdown_(r):n===l9?this.onReset_(r):n===Vfe?a5("Server Error: "+r):n===c9?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):a5("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),QE!==r&&oo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),uy(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ffe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uy(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Rfe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:d9,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var tS=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var nS=class{constructor(e){this.allowedEvents_=e,this.listeners_={},lt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){lt(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var rS=class t extends nS{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!RN()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return lt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var h9=32,p9=768,ur=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function nr(){return new ur("")}function Dn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Yf(t){return t.pieces_.length-t.pieceNum_}function Br(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ur(t.pieces_,e)}function aM(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Hfe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function my(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function eU(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ur(e,0)}function ni(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ur)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ur(n,0)}function Pn(t){return t.pieceNum_>=t.pieces_.length}function Mo(t,e){let n=Dn(t),r=Dn(e);if(n===null)return e;if(n===r)return Mo(Br(t),Br(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function $fe(t,e){let n=my(t,0),r=my(e,0);for(let i=0;i<n.length&&i<r.length;i++){let s=Vh(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function lM(t,e){if(Yf(t)!==Yf(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ra(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Yf(t)>Yf(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var g5=class{constructor(e,n){this.errorPrefix_=n,this.parts_=my(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ty(this.parts_[r]);tU(this)}};function qfe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ty(e),tU(t)}function Gfe(t){let e=t.parts_.pop();t.byteLength_-=ty(e),t.parts_.length>0&&(t.byteLength_-=1)}function tU(t){if(t.byteLength_>p9)throw new Error(t.errorPrefix_+"has a key path longer than "+p9+" bytes ("+t.byteLength_+").");if(t.parts_.length>h9)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+h9+") or object contains a cycle "+Fh(t))}function Fh(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var v5=class t extends nS{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return lt(e==="visible","Unknown event type: "+e),[this.visible_]}};var ay=1e3,Wfe=300*1e3,m9=30*1e3,jfe=1.3,zfe=3e4,Yfe="server_kill",g9=3,cM=(()=>{class t extends tS{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Sy("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ay,this.maxReconnectDelay_=Wfe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Tc())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");v5.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&rS.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Hi(o)),lt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Eu,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),lt(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),lt(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Tl(n,"w")){let i=Mh(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();oo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||RV(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=m9)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=FV(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),lt(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Hi(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):a5("Unrecognized action received from server: "+Hi(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){lt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ay,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ay,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zfe&&(this.reconnectDelay_=ay),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jfe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(d){lt(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:c,sendRequest:u};let f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[d,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);a?ms("getToken() completed but was canceled"):(ms("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new m5(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{oo(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(Yfe)},o))}catch(d){this.log_("Failed to get token: "+d),a||(this.repoInfo_.nodeAdmin&&oo(d),c())}}}interrupt(n){ms("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ms("Resuming connection for reason: "+n),delete this.interruptReasons_[n],LN(this.interruptReasons_)&&(this.reconnectDelay_=ay,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>sM(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new ur(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){ms("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=g9&&(this.reconnectDelay_=m9,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ms("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=g9&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Tc()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+rM.replace(/\./g,"-")]=1,RN()?n["framework.cordova"]=1:kV()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=rS.getInstance().currentlyOnline();return LN(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),kn=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var hm=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new kn(dm,e),i=new kn(dm,n);return this.compare(r,i)!==0}minPost(){return kn.MIN}};var JE,iS=class extends hm{static get __EMPTY_NODE(){return JE}static set __EMPTY_NODE(e){JE=e}compare(e,n){return Vh(e.name,n.name)}isDefinedOn(e){throw Nh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return kn.MIN}maxPost(){return new kn(Oh,JE)}makePost(e,n){return lt(typeof e=="string","KeyIndex indexValue must always be a string."),new kn(e,JE)}toString(){return".key"}},um=new iS;var lm=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Al=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??La.EMPTY_NODE,this.right=o??La.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return La.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return La.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),y5=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Al(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},La=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Al.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Al.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new lm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new lm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new lm(this.root_,null,this.comparator_,!0,e)}};La.EMPTY_NODE=new y5;function Xfe(t,e){return Vh(t.name,e.name)}function uM(t,e){return Vh(t,e)}var _5;function Kfe(t){_5=t}var nU=function(t){return typeof t=="number"?"number:"+B9(t):"string:"+t},rU=function(t){if(t.isLeafNode()){let e=t.val();lt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Tl(e,".sv"),"Priority must be a string or number.")}else lt(t===_5||t.isEmpty(),"priority of unexpected type.");lt(t===_5||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var v9,pm=(()=>{class t{static set __childrenNodeConstructor(n){v9=n}static get __childrenNodeConstructor(){return v9}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,lt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),rU(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Pn(n)?this:Dn(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Dn(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(lt(i!==".priority"||Yf(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Br(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+nU(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=B9(this.value_):n+=this.value_,this.lazyHash_=L9(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(lt(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return lt(s>=0,"Unknown leaf type: "+r),lt(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),iU,sU;function Jfe(t){iU=t}function Qfe(t){sU=t}var x5=class extends hm{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Vh(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return kn.MIN}maxPost(){return new kn(Oh,new pm("[PRIORITY-POST]",sU))}makePost(e,n){let r=iU(e);return new kn(n,new pm("[PRIORITY-POST]",r))}toString(){return".priority"}},ri=new x5;var Zfe=Math.log(2),w5=class{constructor(e){let n=s=>parseInt(Math.log(s)/Zfe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},sS=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,f,d;if(u===0)return null;if(u===1)return f=t[l],d=n?n(f):f,new Al(d,f.node,Al.BLACK,null,null);{let h=parseInt(u/2,10)+l,g=i(l,h),v=i(h+1,c);return f=t[h],d=n?n(f):f,new Al(d,f.node,Al.BLACK,g,v)}},s=function(l){let c=null,u=null,f=t.length,d=function(g,v){let x=f-g,_=f;f-=g;let E=i(x+1,_),C=t[x],D=n?n(C):C;h(new Al(D,C.node,v,null,E))},h=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){let v=l.nextBitIsOne(),x=Math.pow(2,l.count-(g+1));v?d(x,Al.BLACK):(d(x,Al.BLACK),d(x,Al.RED))}return u},o=new w5(t.length),a=s(o);return new La(r||e,a)};var e5,am={},mm=class t{static get Default(){return lt(am&&ri,"ChildrenNode.ts has not been loaded"),e5=e5||new t({".priority":am},{".priority":ri}),e5}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Mh(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof La?n:null}hasIndex(e){return Tl(this.indexSet_,e.toString())}addIndex(e,n){lt(e!==um,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(kn.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=sS(r,e.getCompare()):a=am;let l=e.toString(),c=De({},this.indexSet_);c[l]=e;let u=De({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=Z1(this.indexes_,(i,s)=>{let o=Mh(this.indexSet_,s);if(lt(o,"Missing index implementation for "+s),i===am)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(kn.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),sS(a,o.getCompare())}else return am;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new kn(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Z1(this.indexes_,i=>{if(i===am)return i;{let s=n.get(e.name);return s?i.remove(new kn(e.name,s)):i}});return new t(r,this.indexSet_)}};var ly,yn=(()=>{class t{static get EMPTY_NODE(){return ly||(ly=new t(new La(uM),null,mm.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&rU(this.priorityNode_),this.children_.isEmpty()&&lt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ly}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ly:r}}getChild(n){let r=Dn(n);return r===null?this:this.getImmediateChild(r).getChild(Br(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(lt(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new kn(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?ly:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=Dn(n);if(i===null)return r;{lt(Dn(n)!==".priority"||Yf(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(Br(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(ri,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+nU(this.getPriority().val())+":"),this.forEachChild(ri,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":L9(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new kn(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new kn(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new kn(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,kn.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,kn.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Cy?-1:0}withIndex(n){if(n===um||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===um||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ri),s=r.getIterator(ri),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===um?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),E5=class extends yn{constructor(){super(new La(uM),yn.EMPTY_NODE,mm.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return yn.EMPTY_NODE}isEmpty(){return!1}},Cy=new E5;Object.defineProperties(kn,{MIN:{value:new kn(dm,yn.EMPTY_NODE)},MAX:{value:new kn(Oh,Cy)}});iS.__EMPTY_NODE=yn.EMPTY_NODE;pm.__childrenNodeConstructor=yn;Kfe(Cy);Qfe(Cy);var ede=!0;function Qi(t,e=null){if(t===null)return yn.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),lt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new pm(n,Qi(e))}if(!(t instanceof Array)&&ede){let n=[],r=!1;if(gs(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=Qi(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new kn(o,l)))}}),n.length===0)return yn.EMPTY_NODE;let s=sS(n,Xfe,o=>o.name,uM);if(r){let o=sS(n,ri.getCompare());return new yn(s,Qi(e),new mm({".priority":o},{".priority":ri}))}else return new yn(s,Qi(e),mm.Default)}else{let n=yn.EMPTY_NODE;return gs(t,(r,i)=>{if(Tl(t,r)&&r.substring(0,1)!=="."){let s=Qi(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Qi(e))}}Jfe(Qi);var S5=class extends hm{constructor(e){super(),this.indexPath_=e,lt(!Pn(e)&&Dn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Vh(e.name,n.name):s}makePost(e,n){let r=Qi(e),i=yn.EMPTY_NODE.updateChild(this.indexPath_,r);return new kn(n,i)}maxPost(){let e=yn.EMPTY_NODE.updateChild(this.indexPath_,Cy);return new kn(Oh,e)}toString(){return my(this.indexPath_,0).join("/")}};var C5=class extends hm{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Vh(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return kn.MIN}maxPost(){return kn.MAX}makePost(e,n){let r=Qi(e);return new kn(n,r)}toString(){return".value"}},tde=new C5;function oU(t){return{type:"value",snapshotNode:t}}function gm(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function gy(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vy(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function nde(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var yy=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){lt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(gy(n,a)):lt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(gm(n,r)):o.trackChildChange(vy(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ri,(i,s)=>{n.hasChild(i)||r.trackChildChange(gy(i,s))}),n.isLeafNode()||n.forEachChild(ri,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(vy(i,s,o))}else r.trackChildChange(gm(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?yn.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var oS=class t{constructor(e){this.indexedFilter_=new yy(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new kn(n,r))||(r=yn.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=yn.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(yn.EMPTY_NODE);let s=this;return n.forEachChild(ri,(o,a)=>{s.matches(new kn(o,a))||(i=i.updateImmediateChild(o,yn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var b5=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new oS(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new kn(n,r))||(r=yn.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=yn.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=yn.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(yn.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,yn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let f=this.index_.getCompare();o=(d,h)=>f(h,d)}else o=this.index_.getCompare();let a=e;lt(a.numChildren()===this.limit_,"");let l=new kn(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let f=a.getImmediateChild(n),d=i.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);let h=d==null?1:o(d,l);if(u&&!r.isEmpty()&&h>=0)return s?.trackChildChange(vy(n,r,f)),a.updateImmediateChild(n,r);{s?.trackChildChange(gy(n,f));let v=a.updateImmediateChild(n,yn.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s?.trackChildChange(gm(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(gy(c.name,c.node)),s.trackChildChange(gm(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,yn.EMPTY_NODE)):e}};var T5=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ri}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return lt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return lt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dm}hasEnd(){return this.endSet_}getIndexEndValue(){return lt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return lt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return lt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ri}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function rde(t){return t.loadsAllData()?new yy(t.getIndex()):t.hasLimit()?new b5(t):new oS(t)}function y9(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ri?n="$priority":t.index_===tde?n="$value":t.index_===um?n="$key":(lt(t.index_ instanceof S5,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Hi(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Hi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Hi(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Hi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Hi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _9(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ri&&(e.i=t.index_.toString()),e}var A5=class t extends tS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(lt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Sy("p:rest:"),this.listens_={}}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=y9(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),Mh(this.listens_,o)===a){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",i(d,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=y9(e._queryParams),r=e._path.toString(),i=new Eu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+LV(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=rm(a.responseText)}catch{oo("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&oo("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var I5=class{constructor(){this.rootNode_=yn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function aS(){return{value:null,children:new Map}}function aU(t,e,n){if(Pn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=Dn(e);t.children.has(r)||t.children.set(r,aS());let i=t.children.get(r);e=Br(e),aU(i,e,n)}}function D5(t,e,n){t.value!==null?n(e,t.value):ide(t,(r,i)=>{let s=new ur(e.toString()+"/"+r);D5(i,s,n)})}function ide(t,e){t.children.forEach((n,r)=>{e(r,n)})}var k5=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=De({},e);return this.last_&&gs(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var x9=10*1e3,sde=30*1e3,ode=300*1e3,N5=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new k5(e);let r=x9+(sde-x9)*Math.random();uy(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;gs(e,(i,s)=>{s>0&&Tl(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),uy(this.reportStats_.bind(this),Math.floor(Math.random()*2*ode))}};var Ic=(function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t})(Ic||{});function fM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var M5=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ic.ACK_USER_WRITE,this.source=fM()}operationForChild(e){if(Pn(this.path)){if(this.affectedTree.value!=null)return lt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ur(e));return new t(nr(),n,this.revert)}}else return lt(Dn(this.path)===e,"operationForChild called for unrelated child."),new t(Br(this.path),this.affectedTree,this.revert)}};var lS=class t{constructor(e,n){this.source=e,this.path=n,this.type=Ic.LISTEN_COMPLETE}operationForChild(e){return Pn(this.path)?new t(this.source,nr()):new t(this.source,Br(this.path))}};var vm=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ic.OVERWRITE}operationForChild(e){return Pn(this.path)?new t(this.source,nr(),this.snap.getImmediateChild(e)):new t(this.source,Br(this.path),this.snap)}};var _y=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ic.MERGE}operationForChild(e){if(Pn(this.path)){let n=this.children.subtree(new ur(e));return n.isEmpty()?null:n.value?new vm(this.source,nr(),n.value):new t(this.source,nr(),n)}else return lt(Dn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Br(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Tu=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Pn(e))return this.isFullyInitialized()&&!this.filtered_;let n=Dn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var P5=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function ade(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(nde(o.childName,o.snapshotNode))}),cy(t,i,"child_removed",e,r,n),cy(t,i,"child_added",e,r,n),cy(t,i,"child_moved",s,r,n),cy(t,i,"child_changed",e,r,n),cy(t,i,"value",e,r,n),i}function cy(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>cde(t,a,l)),o.forEach(a=>{let l=lde(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function lde(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function cde(t,e,n){if(e.childName==null||n.childName==null)throw Nh("Should only compare child_ events.");let r=new kn(e.childName,e.snapshotNode),i=new kn(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function xS(t,e){return{eventCache:t,serverCache:e}}function dy(t,e,n,r){return xS(new Tu(e,n,r),t.serverCache)}function lU(t,e,n,r){return xS(t.eventCache,new Tu(e,n,r))}function F5(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Bh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var t5,ude=()=>(t5||(t5=new La(ufe)),t5),ao=class t{static fromObject(e){let n=new t(null);return gs(e,(r,i)=>{n=n.set(new ur(r),i)}),n}constructor(e,n=ude()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:nr(),value:this.value};if(Pn(e))return null;{let r=Dn(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(Br(e),n);return s!=null?{path:ni(new ur(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Pn(e))return this;{let n=Dn(e),r=this.children.get(n);return r!==null?r.subtree(Br(e)):new t(null)}}set(e,n){if(Pn(e))return new t(n,this.children);{let r=Dn(e),s=(this.children.get(r)||new t(null)).set(Br(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Pn(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=Dn(e),r=this.children.get(n);if(r){let i=r.remove(Br(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Pn(e))return this.value;{let n=Dn(e),r=this.children.get(n);return r?r.get(Br(e)):null}}setTree(e,n){if(Pn(e))return n;{let r=Dn(e),s=(this.children.get(r)||new t(null)).setTree(Br(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(nr(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ni(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,nr(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Pn(e))return null;{let s=Dn(e),o=this.children.get(s);return o?o.findOnPath_(Br(e),ni(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,nr(),n)}foreachOnPath_(e,n,r){if(Pn(e))return this;{this.value&&r(n,this.value);let i=Dn(e),s=this.children.get(i);return s?s.foreachOnPath_(Br(e),ni(n,i),r):new t(null)}}foreach(e){this.foreach_(nr(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ni(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Il=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new ao(null))}};function hy(t,e,n){if(Pn(e))return new Il(new ao(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Mo(i,e);return s=s.updateChild(o,n),new Il(t.writeTree_.set(i,s))}else{let i=new ao(n),s=t.writeTree_.setTree(e,i);return new Il(s)}}}function R5(t,e,n){let r=t;return gs(n,(i,s)=>{r=hy(r,ni(e,i),s)}),r}function w9(t,e){if(Pn(e))return Il.empty();{let n=t.writeTree_.setTree(e,new ao(null));return new Il(n)}}function L5(t,e){return Uh(t,e)!=null}function Uh(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Mo(n.path,e)):null}function E9(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ri,(r,i)=>{e.push(new kn(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new kn(r,i.value))}),e}function zf(t,e){if(Pn(e))return t;{let n=Uh(t,e);return n!=null?new Il(new ao(n)):new Il(t.writeTree_.subtree(e))}}function O5(t){return t.writeTree_.isEmpty()}function ym(t,e){return cU(nr(),t.writeTree_,e)}function cU(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(lt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=cU(ni(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ni(t,".priority"),r)),n}}function pM(t,e){return hU(e,t)}function fde(t,e,n,r,i){lt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=hy(t.visibleWrites,e,n)),t.lastWriteId=r}function dde(t,e,n,r){lt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=R5(t.visibleWrites,e,n),t.lastWriteId=r}function hde(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function pde(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);lt(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&mde(a,r.path)?i=!1:Ra(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return gde(t),!0;if(r.snap)t.visibleWrites=w9(t.visibleWrites,r.path);else{let a=r.children;gs(a,l=>{t.visibleWrites=w9(t.visibleWrites,ni(r.path,l))})}return!0}else return!1}function mde(t,e){if(t.snap)return Ra(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Ra(ni(t.path,n),e))return!0;return!1}function gde(t){t.visibleWrites=uU(t.allWrites,vde,nr()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function vde(t){return t.visible}function uU(t,e,n){let r=Il.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Ra(n,o)?(a=Mo(n,o),r=hy(r,a,s.snap)):Ra(o,n)&&(a=Mo(o,n),r=hy(r,nr(),s.snap.getChild(a)));else if(s.children){if(Ra(n,o))a=Mo(n,o),r=R5(r,a,s.children);else if(Ra(o,n))if(a=Mo(o,n),Pn(a))r=R5(r,nr(),s.children);else{let l=Mh(s.children,Dn(a));if(l){let c=l.getChild(Br(a));r=hy(r,nr(),c)}}}else throw Nh("WriteRecord should have .snap or .children")}}return r}function fU(t,e,n,r,i){if(!r&&!i){let s=Uh(t.visibleWrites,e);if(s!=null)return s;{let o=zf(t.visibleWrites,e);if(O5(o))return n;if(n==null&&!L5(o,nr()))return null;{let a=n||yn.EMPTY_NODE;return ym(o,a)}}}else{let s=zf(t.visibleWrites,e);if(!i&&O5(s))return n;if(!i&&n==null&&!L5(s,nr()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Ra(c.path,e)||Ra(e,c.path))},a=uU(t.allWrites,o,e),l=n||yn.EMPTY_NODE;return ym(a,l)}}}function yde(t,e,n){let r=yn.EMPTY_NODE,i=Uh(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ri,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=zf(t.visibleWrites,e);return n.forEachChild(ri,(o,a)=>{let l=ym(zf(s,new ur(o)),a);r=r.updateImmediateChild(o,l)}),E9(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=zf(t.visibleWrites,e);return E9(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function _de(t,e,n,r,i){lt(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=ni(e,n);if(L5(t.visibleWrites,s))return null;{let o=zf(t.visibleWrites,s);return O5(o)?i.getChild(n):ym(o,i.getChild(n))}}function xde(t,e,n,r){let i=ni(e,n),s=Uh(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=zf(t.visibleWrites,i);return ym(o,r.getNode().getImmediateChild(n))}else return null}function wde(t,e){return Uh(t.visibleWrites,e)}function Ede(t,e,n,r,i,s,o){let a,l=zf(t.visibleWrites,e),c=Uh(l,nr());if(c!=null)a=c;else if(n!=null)a=ym(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],f=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),h=d.getNext();for(;h&&u.length<i;)f(h,r)!==0&&u.push(h),h=d.getNext();return u}else return[]}function Sde(){return{visibleWrites:Il.empty(),allWrites:[],lastWriteId:-1}}function cS(t,e,n,r){return fU(t.writeTree,t.treePath,e,n,r)}function mM(t,e){return yde(t.writeTree,t.treePath,e)}function S9(t,e,n,r){return _de(t.writeTree,t.treePath,e,n,r)}function uS(t,e){return wde(t.writeTree,ni(t.treePath,e))}function Cde(t,e,n,r,i,s){return Ede(t.writeTree,t.treePath,e,n,r,i,s)}function gM(t,e,n){return xde(t.writeTree,t.treePath,e,n)}function dU(t,e){return hU(ni(t.treePath,e),t.writeTree)}function hU(t,e){return{treePath:t,writeTree:e}}var B5=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;lt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),lt(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,vy(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,gy(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,gm(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,vy(r,e.snapshotNode,i.oldSnap));else throw Nh("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var V5=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},pU=new V5,xy=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Tu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gM(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bh(this.viewCache_),s=Cde(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function bde(t){return{filter:t}}function Tde(t,e){lt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),lt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Ade(t,e,n,r,i){let s=new B5,o,a;if(n.type===Ic.OVERWRITE){let c=n;c.source.fromUser?o=U5(t,e,c.path,c.snap,r,i,s):(lt(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Pn(c.path),o=fS(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Ic.MERGE){let c=n;c.source.fromUser?o=Dde(t,e,c.path,c.children,r,i,s):(lt(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=H5(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Ic.ACK_USER_WRITE){let c=n;c.revert?o=Mde(t,e,c.path,r,i,s):o=kde(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Ic.LISTEN_COMPLETE)o=Nde(t,e,n.path,r,s);else throw Nh("Unknown operation type: "+n.type);let l=s.getChanges();return Ide(e,o,l),{viewCache:o,changes:l}}function Ide(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=F5(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(oU(F5(e)))}}function mU(t,e,n,r,i,s){let o=e.eventCache;if(uS(r,n)!=null)return e;{let a,l;if(Pn(n))if(lt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Bh(e),u=c instanceof yn?c:yn.EMPTY_NODE,f=mM(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{let c=cS(r,Bh(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=Dn(n);if(c===".priority"){lt(Yf(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let f=S9(r,n,u,l);f!=null?a=t.filter.updatePriority(u,f):a=o.getNode()}else{let u=Br(n),f;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let d=S9(r,n,o.getNode(),l);d!=null?f=o.getNode().getImmediateChild(c).updateChild(u,d):f=o.getNode().getImmediateChild(c)}else f=gM(r,c,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),c,f,u,i,s):a=o.getNode()}}return dy(e,a,o.isFullyInitialized()||Pn(n),t.filter.filtersNodes())}}function fS(t,e,n,r,i,s,o,a){let l=e.serverCache,c,u=o?t.filter:t.filter.getIndexedFilter();if(Pn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=Dn(n);if(!l.isCompleteForPath(n)&&Yf(n)>1)return e;let g=Br(n),x=l.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),h,x,g,pU,null)}let f=lU(e,c,l.isFullyInitialized()||Pn(n),u.filtersNodes()),d=new xy(i,f,s);return mU(t,f,n,i,d,a)}function U5(t,e,n,r,i,s,o){let a=e.eventCache,l,c,u=new xy(i,e,s);if(Pn(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=dy(e,c,!0,t.filter.filtersNodes());else{let f=Dn(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=dy(e,c,a.isFullyInitialized(),a.isFiltered());else{let d=Br(n),h=a.getNode().getImmediateChild(f),g;if(Pn(d))g=r;else{let v=u.getCompleteChild(f);v!=null?aM(d)===".priority"&&v.getChild(eU(d)).isEmpty()?g=v:g=v.updateChild(d,r):g=yn.EMPTY_NODE}if(h.equals(g))l=e;else{let v=t.filter.updateChild(a.getNode(),f,g,d,u,o);l=dy(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function C9(t,e){return t.eventCache.isCompleteForChild(e)}function Dde(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{let u=ni(n,l);C9(e,Dn(u))&&(a=U5(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=ni(n,l);C9(e,Dn(u))||(a=U5(t,a,u,c,i,s,o))}),a}function b9(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function H5(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Pn(n)?c=r:c=new ao(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((f,d)=>{if(u.hasChild(f)){let h=e.serverCache.getNode().getImmediateChild(f),g=b9(t,h,d);l=fS(t,l,new ur(f),g,i,s,o,a)}}),c.children.inorderTraversal((f,d)=>{let h=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!u.hasChild(f)&&!h){let g=e.serverCache.getNode().getImmediateChild(f),v=b9(t,g,d);l=fS(t,l,new ur(f),v,i,s,o,a)}}),l}function kde(t,e,n,r,i,s,o){if(uS(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Pn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return fS(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Pn(n)){let c=new ao(null);return l.getNode().forEachChild(um,(u,f)=>{c=c.set(new ur(u),f)}),H5(t,e,n,c,i,s,a,o)}else return e}else{let c=new ao(null);return r.foreach((u,f)=>{let d=ni(n,u);l.isCompleteForPath(d)&&(c=c.set(u,l.getNode().getChild(d)))}),H5(t,e,n,c,i,s,a,o)}}function Nde(t,e,n,r,i){let s=e.serverCache,o=lU(e,s.getNode(),s.isFullyInitialized()||Pn(n),s.isFiltered());return mU(t,o,n,r,pU,i)}function Mde(t,e,n,r,i,s){let o;if(uS(r,n)!=null)return e;{let a=new xy(r,e,i),l=e.eventCache.getNode(),c;if(Pn(n)||Dn(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=cS(r,Bh(e));else{let f=e.serverCache.getNode();lt(f instanceof yn,"serverChildren would be complete if leaf node"),u=mM(r,f)}u=u,c=t.filter.updateFullNode(l,u,s)}else{let u=Dn(n),f=gM(r,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,Br(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,yn.EMPTY_NODE,Br(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=cS(r,Bh(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||uS(r,nr())!=null,dy(e,c,o,t.filter.filtersNodes())}}var $5=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new yy(r.getIndex()),s=rde(r);this.processor_=bde(s);let o=n.serverCache,a=n.eventCache,l=i.updateFullNode(yn.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(yn.EMPTY_NODE,a.getNode(),null),u=new Tu(l,o.isFullyInitialized(),i.filtersNodes()),f=new Tu(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=xS(f,u),this.eventGenerator_=new P5(this.query_)}get query(){return this.query_}};function Pde(t){return t.viewCache_.serverCache.getNode()}function Fde(t,e){let n=Bh(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Pn(e)&&!n.getImmediateChild(Dn(e)).isEmpty())?n.getChild(e):null}function T9(t){return t.eventRegistrations_.length===0}function Rde(t,e){t.eventRegistrations_.push(e)}function A9(t,e,n){let r=[];if(n){lt(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function I9(t,e,n,r){e.type===Ic.MERGE&&e.source.queryId!==null&&(lt(Bh(t.viewCache_),"We should always have a full cache before handling merges"),lt(F5(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=Ade(t.processor_,i,e,n,r);return Tde(t.processor_,s.viewCache),lt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,gU(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Lde(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ri,(s,o)=>{r.push(gm(s,o))}),n.isFullyInitialized()&&r.push(oU(n.getNode())),gU(t,r,n.getNode(),e)}function gU(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return ade(t.eventGenerator_,e,n,i)}var dS,q5=class{constructor(){this.views=new Map}};function Ode(t){lt(!dS,"__referenceConstructor has already been defined"),dS=t}function Bde(){return lt(dS,"Reference.ts has not been loaded"),dS}function Vde(t){return t.views.size===0}function vM(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return lt(s!=null,"SyncTree gave us an op for an invalid query."),I9(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(I9(o,e,n,r));return s}}function Ude(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=cS(n,i?r:null),l=!1;a?l=!0:r instanceof yn?(a=mM(n,r),l=!1):(a=yn.EMPTY_NODE,l=!1);let c=xS(new Tu(a,l,!1),new Tu(r,i,!1));return new $5(e,c)}return o}function Hde(t,e,n,r,i,s){let o=Ude(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Rde(o,n),Lde(o,n)}function $de(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=Xf(t);if(i==="default")for(let[l,c]of t.views.entries())o=o.concat(A9(c,n,r)),T9(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=t.views.get(i);l&&(o=o.concat(A9(l,n,r)),T9(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Xf(t)&&s.push(new(Bde())(e._repo,e._path)),{removed:s,events:o}}function vU(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function fm(t,e){let n=null;for(let r of t.views.values())n=n||Fde(r,e);return n}function yU(t,e){if(e._queryParams.loadsAllData())return wS(t);{let r=e._queryIdentifier;return t.views.get(r)}}function _U(t,e){return yU(t,e)!=null}function Xf(t){return wS(t)!=null}function wS(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var hS;function qde(t){lt(!hS,"__referenceConstructor has already been defined"),hS=t}function Gde(){return lt(hS,"Reference.ts has not been loaded"),hS}var Wde=1,pS=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ao(null),this.pendingWriteTree_=Sde(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function xU(t,e,n,r,i){return fde(t.pendingWriteTree_,e,n,r,i),i?wm(t,new vm(fM(),e,n)):[]}function jde(t,e,n,r){dde(t.pendingWriteTree_,e,n,r);let i=ao.fromObject(n);return wm(t,new _y(fM(),e,i))}function jf(t,e,n=!1){let r=hde(t.pendingWriteTree_,e);if(pde(t.pendingWriteTree_,e)){let s=new ao(null);return r.snap!=null?s=s.set(nr(),!0):gs(r.children,o=>{s=s.set(new ur(o),!0)}),wm(t,new M5(r.path,s,n))}else return[]}function ES(t,e,n){return wm(t,new vm(dM(),e,n))}function zde(t,e,n){let r=ao.fromObject(n);return wm(t,new _y(dM(),e,r))}function Yde(t,e){return wm(t,new lS(dM(),e))}function Xde(t,e,n){let r=_M(t,n);if(r){let i=xM(r),s=i.path,o=i.queryId,a=Mo(s,e),l=new lS(hM(o),a);return wM(t,s,l)}else return[]}function G5(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||_U(o,e))){let l=$de(o,e,n,r);Vde(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(d,h)=>Xf(h));if(u&&!f){let d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){let h=Qde(d);for(let g=0;g<h.length;++g){let v=h[g],x=v.query,_=SU(t,v);t.listenProvider_.startListening(py(x),mS(t,x),_.hashFn,_.onComplete)}}}!f&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(py(e),null):c.forEach(d=>{let h=t.queryToTagMap.get(SS(d));t.listenProvider_.stopListening(py(d),h)}))}Zde(t,c)}return a}function Kde(t,e,n,r){let i=_M(t,r);if(i!=null){let s=xM(i),o=s.path,a=s.queryId,l=Mo(o,e),c=new vm(hM(a),l,n);return wM(t,o,c)}else return[]}function Jde(t,e,n,r){let i=_M(t,r);if(i){let s=xM(i),o=s.path,a=s.queryId,l=Mo(o,e),c=ao.fromObject(n),u=new _y(hM(a),l,c);return wM(t,o,u)}else return[]}function D9(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,h)=>{let g=Mo(d,i);s=s||fm(h,g),o=o||Xf(h)});let a=t.syncPointTree_.get(i);a?(o=o||Xf(a),s=s||fm(a,nr())):(a=new q5,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=yn.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,g)=>{let v=fm(g,nr());v&&(s=s.updateImmediateChild(h,v))}));let c=_U(a,e);if(!c&&!e._queryParams.loadsAllData()){let d=SS(e);lt(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");let h=ehe();t.queryToTagMap.set(d,h),t.tagToQueryMap.set(h,d)}let u=pM(t.pendingWriteTree_,i),f=Hde(a,e,n,u,s,l);if(!c&&!o&&!r){let d=yU(a,e);f=f.concat(the(t,e,d))}return f}function yM(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=Mo(o,e),c=fm(a,l);if(c)return c});return fU(i,e,s,n,!0)}function wm(t,e){return wU(e,t.syncPointTree_,null,pM(t.pendingWriteTree_,nr()))}function wU(t,e,n,r){if(Pn(t.path))return EU(t,e,n,r);{let i=e.get(nr());n==null&&i!=null&&(n=fm(i,nr()));let s=[],o=Dn(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=dU(r,o);s=s.concat(wU(a,l,c,u))}return i&&(s=s.concat(vM(i,t,r,n))),s}}function EU(t,e,n,r){let i=e.get(nr());n==null&&i!=null&&(n=fm(i,nr()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=dU(r,o),u=t.operationForChild(o);u&&(s=s.concat(EU(u,a,l,c)))}),i&&(s=s.concat(vM(i,t,r,n))),s}function SU(t,e){let n=e.query,r=mS(t,n);return{hashFn:()=>(Pde(e)||yn.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Xde(t,n._path,r):Yde(t,n._path);{let s=hfe(i,n);return G5(t,n,null,s)}}}}function mS(t,e){let n=SS(e);return t.queryToTagMap.get(n)}function SS(t){return t._path.toString()+"$"+t._queryIdentifier}function _M(t,e){return t.tagToQueryMap.get(e)}function xM(t){let e=t.indexOf("$");return lt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ur(t.substr(0,e))}}function wM(t,e,n){let r=t.syncPointTree_.get(e);lt(r,"Missing sync point for query tag that we're tracking");let i=pM(t.pendingWriteTree_,e);return vM(r,n,i,null)}function Qde(t){return t.fold((e,n,r)=>{if(n&&Xf(n))return[wS(n)];{let i=[];return n&&(i=vU(n)),gs(r,(s,o)=>{i=i.concat(o)}),i}})}function py(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Gde())(t._repo,t._path):t}function Zde(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=SS(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function ehe(){return Wde++}function the(t,e,n){let r=e._path,i=mS(t,e),s=SU(t,n),o=t.listenProvider_.startListening(py(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)lt(!Xf(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,f)=>{if(!Pn(c)&&u&&Xf(u))return[wS(u).query];{let d=[];return u&&(d=d.concat(vU(u).map(h=>h.query))),gs(f,(h,g)=>{d=d.concat(g)}),d}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(py(u),mS(t,u))}}return o}var W5=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},j5=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=ni(this.path_,e);return new t(this.syncTree_,n)}node(){return yM(this.syncTree_,this.path_)}},nhe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},k9=function(t,e,n){if(!t||typeof t!="object")return t;if(lt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return rhe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ihe(t[".sv"],e);lt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},rhe=function(t,e,n){if(t==="timestamp")return n.timestamp;lt(!1,"Unexpected server value: "+t)},ihe=function(t,e,n){t.hasOwnProperty("increment")||lt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&lt(!1,"Unexpected increment value: "+r);let i=e.node();if(lt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},CU=function(t,e,n,r){return EM(e,new j5(n,t),r)},bU=function(t,e,n){return EM(t,new W5(e),n)};function EM(t,e,n){let r=t.getPriority().val(),i=k9(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=k9(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new pm(a,Qi(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new pm(i))),o.forEachChild(ri,(a,l)=>{let c=EM(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var wy=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function SM(t,e){let n=e instanceof ur?e:new ur(e),r=t,i=Dn(n);for(;i!==null;){let s=Mh(r.node.children,i)||{children:{},childCount:0};r=new wy(i,r,s),n=Br(n),i=Dn(n)}return r}function Em(t){return t.node.value}function TU(t,e){t.node.value=e,z5(t)}function AU(t){return t.node.childCount>0}function she(t){return Em(t)===void 0&&!AU(t)}function CS(t,e){gs(t.node.children,(n,r)=>{e(new wy(n,t,r))})}function IU(t,e,n,r){n&&!r&&e(t),CS(t,i=>{IU(i,e,!0,r)}),n&&r&&e(t)}function ohe(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function by(t){return new ur(t.parent===null?t.name:by(t.parent)+"/"+t.name)}function z5(t){t.parent!==null&&ahe(t.parent,t.name,t)}function ahe(t,e,n){let r=she(n),i=Tl(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,z5(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,z5(t))}var lhe=/[\[\].#$\/\u0000-\u001F\u007F]/,che=/[\[\].#$\u0000-\u001F\u007F]/,n5=10*1024*1024,CM=function(t){return typeof t=="string"&&t.length!==0&&!lhe.test(t)},DU=function(t){return typeof t=="string"&&t.length!==0&&!che.test(t)},uhe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),DU(t)},fhe=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!iM(t)||t&&typeof t=="object"&&Tl(t,".sv")},dhe=function(t,e,n,r){r&&e===void 0||bS(ey(t,"value"),e,n)},bS=function(t,e,n){let r=n instanceof ur?new g5(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fh(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fh(r)+" with contents = "+e.toString());if(iM(e))throw new Error(t+"contains "+e.toString()+" "+Fh(r));if(typeof e=="string"&&e.length>n5/3&&ty(e)>n5)throw new Error(t+"contains a string greater than "+n5+" utf8 bytes "+Fh(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(gs(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!CM(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fh(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qfe(r,o),bS(t,a,r),Gfe(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fh(r)+" in addition to actual children.")}},hhe=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let s=my(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!CM(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort($fe);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Ra(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},phe=function(t,e,n,r){if(r&&e===void 0)return;let i=ey(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let s=[];gs(e,(o,a)=>{let l=new ur(o);if(bS(i,a,ni(n,l)),aM(l)===".priority"&&!fhe(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),hhe(i,s)};var kU=function(t,e,n,r){if(!(r&&n===void 0)&&!DU(n))throw new Error(ey(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},mhe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kU(t,e,n,r)},ghe=function(t,e){if(Dn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},vhe=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!CM(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uhe(n))throw new Error(ey(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Y5=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function TS(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!lM(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function NU(t,e,n){TS(t,n),MU(t,r=>lM(r,e))}function Dl(t,e,n){TS(t,n),MU(t,r=>Ra(r,e)||Ra(e,r))}function MU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(yhe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function yhe(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Lh&&ms("event: "+n.toString()),xm(r)}}}var _he="repo_interrupt",xhe=25,X5=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Y5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=aS(),this.transactionQueueTree_=new wy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function whe(t,e,n){if(t.stats_=oM(t.repoInfo_),t.forceRestClient_||vfe())t.server_=new A5(t.repoInfo_,(r,i,s,o)=>{N9(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>M9(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Hi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new cM(t.repoInfo_,e,(r,i,s,o)=>{N9(t,r,i,s,o)},r=>{M9(t,r)},r=>{She(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=_fe(t.repoInfo_,()=>new N5(t.stats_,t.server_)),t.infoData_=new I5,t.infoSyncTree_=new pS({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ES(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),bM(t,"connected",!1),t.serverSyncTree_=new pS({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);Dl(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Ehe(t){let n=t.infoData_.getNode(new ur(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function AS(t){return nhe({timestamp:Ehe(t)})}function N9(t,e,n,r,i){t.dataUpdateCount++;let s=new ur(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=Z1(n,c=>Qi(c));o=Jde(t.serverSyncTree_,s,l,i)}else{let l=Qi(n);o=Kde(t.serverSyncTree_,s,l,i)}else if(r){let l=Z1(n,c=>Qi(c));o=zde(t.serverSyncTree_,s,l)}else{let l=Qi(n);o=ES(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=_m(t,s)),Dl(t.eventQueue_,a,o)}function M9(t,e){bM(t,"connected",e),e===!1&&The(t)}function She(t,e){gs(e,(n,r)=>{bM(t,n,r)})}function bM(t,e,n){let r=new ur("/.info/"+e),i=Qi(n);t.infoData_.updateSnapshot(r,i);let s=ES(t.infoSyncTree_,r,i);Dl(t.eventQueue_,r,s)}function TM(t){return t.nextWriteId_++}function Che(t,e,n,r,i){IS(t,"set",{path:e.toString(),value:n,priority:r});let s=AS(t),o=Qi(n,r),a=yM(t.serverSyncTree_,e),l=bU(o,a,s),c=TM(t),u=xU(t.serverSyncTree_,e,l,c,!0);TS(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(d,h)=>{let g=d==="ok";g||oo("set at "+e+" failed: "+d);let v=jf(t.serverSyncTree_,c,!g);Dl(t.eventQueue_,e,v),K5(t,i,d,h)});let f=IM(t,e);_m(t,f),Dl(t.eventQueue_,f,[])}function bhe(t,e,n,r){IS(t,"update",{path:e.toString(),value:n});let i=!0,s=AS(t),o={};if(gs(n,(a,l)=>{i=!1,o[a]=CU(ni(e,a),Qi(l),t.serverSyncTree_,s)}),i)ms("update() called with empty data.  Don't do anything."),K5(t,r,"ok",void 0);else{let a=TM(t),l=jde(t.serverSyncTree_,e,o,a);TS(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let f=c==="ok";f||oo("update at "+e+" failed: "+c);let d=jf(t.serverSyncTree_,a,!f),h=d.length>0?_m(t,e):e;Dl(t.eventQueue_,h,d),K5(t,r,c,u)}),gs(n,c=>{let u=IM(t,ni(e,c));_m(t,u)}),Dl(t.eventQueue_,e,[])}}function The(t){IS(t,"onDisconnectEvents");let e=AS(t),n=aS();D5(t.onDisconnect_,nr(),(i,s)=>{let o=CU(i,s,t.serverSyncTree_,e);aU(n,i,o)});let r=[];D5(n,nr(),(i,s)=>{r=r.concat(ES(t.serverSyncTree_,i,s));let o=IM(t,i);_m(t,o)}),t.onDisconnect_=aS(),Dl(t.eventQueue_,nr(),r)}function Ahe(t,e,n){let r;Dn(e._path)===".info"?r=D9(t.infoSyncTree_,e,n):r=D9(t.serverSyncTree_,e,n),NU(t.eventQueue_,e._path,r)}function P9(t,e,n){let r;Dn(e._path)===".info"?r=G5(t.infoSyncTree_,e,n):r=G5(t.serverSyncTree_,e,n),NU(t.eventQueue_,e._path,r)}function Ihe(t){t.persistentConnection_&&t.persistentConnection_.interrupt(_he)}function IS(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ms(n,...e)}function K5(t,e,n,r){e&&xm(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function PU(t,e,n){return yM(t.serverSyncTree_,e,n)||yn.EMPTY_NODE}function AM(t,e=t.transactionQueueTree_){if(e||DS(t,e),Em(e)){let n=RU(t,e);lt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Dhe(t,by(e),n)}else AU(e)&&CS(e,n=>{AM(t,n)})}function Dhe(t,e,n){let r=n.map(c=>c.currentWriteId),i=PU(t,e,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let u=n[c];lt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let f=Mo(e,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{IS(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let f=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat(jf(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();DS(t,SM(t.transactionQueueTree_,e)),AM(t,t.transactionQueueTree_),Dl(t.eventQueue_,e,u);for(let d=0;d<f.length;d++)xm(f[d])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{oo("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}_m(t,e)}},o)}function _m(t,e){let n=FU(t,e),r=by(n),i=RU(t,n);return khe(t,i,r),r}function khe(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Mo(n,l.path),u=!1,f;if(lt(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(jf(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=xhe)u=!0,f="maxretry",i=i.concat(jf(t.serverSyncTree_,l.currentWriteId,!0));else{let d=PU(t,l.path,o);l.currentInputSnapshot=d;let h=e[a].update(d.val());if(h!==void 0){bS("transaction failed: Data returned ",h,l.path);let g=Qi(h);typeof h=="object"&&h!=null&&Tl(h,".priority")||(g=g.updatePriority(d.getPriority()));let x=l.currentWriteId,_=AS(t),E=bU(g,d,_);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=E,l.currentWriteId=TM(t),o.splice(o.indexOf(x),1),i=i.concat(xU(t.serverSyncTree_,l.path,E,l.currentWriteId,l.applyLocally)),i=i.concat(jf(t.serverSyncTree_,x,!0))}else u=!0,f="nodata",i=i.concat(jf(t.serverSyncTree_,l.currentWriteId,!0))}Dl(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,(function(d){setTimeout(d,Math.floor(0))})(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}DS(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)xm(r[a]);AM(t,t.transactionQueueTree_)}function FU(t,e){let n,r=t.transactionQueueTree_;for(n=Dn(e);n!==null&&Em(r)===void 0;)r=SM(r,n),e=Br(e),n=Dn(e);return r}function RU(t,e){let n=[];return LU(t,e,n),n.sort((r,i)=>r.order-i.order),n}function LU(t,e,n){let r=Em(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);CS(e,i=>{LU(t,i,n)})}function DS(t,e){let n=Em(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,TU(e,n.length>0?n:void 0)}CS(e,r=>{DS(t,r)})}function IM(t,e){let n=by(FU(t,e)),r=SM(t.transactionQueueTree_,e);return ohe(r,i=>{r5(t,i)}),r5(t,r),IU(r,i=>{r5(t,i)}),n}function r5(t,e){let n=Em(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(lt(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(lt(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(jf(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?TU(e,void 0):n.length=s+1,Dl(t.eventQueue_,by(e),i);for(let o=0;o<r.length;o++)xm(r[o])}}function Nhe(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Mhe(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):oo(`Invalid query segment '${n}' in query '${t}'`)}return e}var F9=function(t,e){let n=Phe(t),r=n.namespace;n.domain==="firebase.com"&&bu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&bu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||lfe();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ZE(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ur(n.pathString)}},Phe=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=Nhe(t.substring(u,f)));let d=Mhe(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var gS=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Hi(this.snapshot.exportVal())}},vS=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var J5=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return lt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Q5=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Pn(this._path)?null:aM(this._path)}get ref(){return new Au(this._repo,this._path)}get _queryIdentifier(){let e=_9(this._queryParams),n=sM(e);return n==="{}"?"default":n}get _queryObject(){return _9(this._queryParams)}isEqual(e){if(e=sm(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=lM(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Hfe(this._path)}};var Au=class t extends Q5{constructor(e,n){super(e,n,new T5,!1)}get parent(){let e=eU(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},yS=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ur(e),r=_S(this.ref,e);return new t(this._node.getChild(n),r,ri)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,_S(this.ref,r),ri)))}hasChild(e){let n=new ur(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Dc(t,e){return t=sm(t),t._checkNotDeleted("ref"),e!==void 0?_S(t._root,e):t._root}function _S(t,e){return t=sm(t),Dn(t._path)===null?mhe("child","path",e,!1):kU("child","path",e,!1),new Au(t._repo,ni(t._path,e))}function DM(t,e){t=sm(t),ghe("set",t._path),dhe("set",e,t._path,!1);let n=new Eu;return Che(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ty(t,e){phe("update",e,t._path,!1);let n=new Eu;return bhe(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}var Z5=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new gS("value",this,new yS(e.snapshotNode,new Au(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vS(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},eM=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vS(this,e,n):null}createEvent(e,n){lt(e.childName!=null,"Child events should have a childName.");let r=_S(new Au(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new gS(e.type,this,new yS(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Fhe(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let l=n,c=(u,f)=>{P9(t._repo,t,a),l(u,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}let o=new J5(n,s||void 0),a=e==="value"?new Z5(o):new eM(e,o);return Ahe(t._repo,t,a),()=>P9(t._repo,t,a)}function kS(t,e,n,r){return Fhe(t,"value",e,n,r)}Ode(Au);qde(Au);var Rhe="FIREBASE_DATABASE_EMULATOR_HOST",tM={},Lhe=!1;function Ohe(t,e,n,r){let i=e.lastIndexOf(":"),s=e.substring(0,i),o=zE(s);t.repoInfo_=new ZE(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Bhe(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||bu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ms("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=F9(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[Rhe]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=F9(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new fy(fy.OWNER):new c5(t.name,t.options,e);vhe("Invalid Firebase Database URL",o),Pn(o.path)||bu("Database URL must point to the root of a Firebase Database (not including a child path).");let f=Uhe(a,t,u,new l5(t,n));return new nM(f,t)}function Vhe(t,e){let n=tM[e];(!n||n[t.key]!==t)&&bu(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Ihe(t),delete n[t.key]}function Uhe(t,e,n,r){let i=tM[e.name];i||(i={},tM[e.name]=i);let s=i[t.toURLString()];return s&&bu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new X5(t,Lhe,n,r),i[t.toURLString()]=s,s}var nM=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(whe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Au(this._repo,nr())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Vhe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&bu("Cannot call "+e+" on a deleted database.")}};function OU(t=ZV(),e){let n=KV(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=TV("database");r&&Hhe(n,...r)}return n}function Hhe(t,e,n,r={}){t=sm(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&im(r,s.repoInfo_.emulatorOptions))return;bu("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&bu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new fy(fy.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:IV(r.mockUserToken,t.app.options.projectId);o=new fy(a)}zE(e)&&(AV(e),DV("Database",!0)),Ohe(s,i,r,o)}function $he(t){sfe(QV),ry(new Su("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Bhe(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Wf(n9,r9,t),Wf(n9,r9,"esm2020")}cM.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};cM.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};$he();var qhe=[{eco:"35526",serial:"92719",sap:"4000026523",ops:["Carlos Eduardo Vazquez Calderon","Cristofer Ariel Rivera Cruz","Juan Gardu\xF1o Chaparro","Victor Hugo Moreno De la cruz"]},{eco:"37191",serial:"95159",sap:void 0,ops:["Miguel \xC1ngel Torres","Jos\xE9 Luis Hern\xE1ndez","Roberto S\xE1nchez","Alejandro Ruiz"]},{eco:"37192",serial:"95162",sap:void 0,ops:["Fernando Mart\xEDnez","Ricardo L\xF3pez","Daniel Garc\xEDa"]},{eco:"37193",serial:"95074",sap:void 0,ops:["Eduardo P\xE9rez","Jorge Ram\xEDrez","Luis Morales","Gabriel Flores"]},{eco:"37194",serial:"95056",sap:void 0,ops:["Oscar Gonz\xE1lez","Adri\xE1n Castillo","Manuel D\xEDaz","Rub\xE9n Romero"]},{eco:"37195",serial:"95049",sap:void 0,ops:["Javier Ortiz","Sergio Medina","Andr\xE9s Vargas","Ra\xFAl Castro"]},{eco:"40019",serial:"97520",sap:void 0,ops:["Hugo Herrera","Francisco Jim\xE9nez","Mart\xEDn Silva","Pedro Mendoza"]},{eco:"40020",serial:"97519",sap:void 0,ops:["Diego Rojas","Alberto Cruz","Mario Aguilar","C\xE9sar Guti\xE9rrez"]},{eco:"40021",serial:"97532",sap:void 0,ops:["Enrique \xC1lvarez","Gustavo M\xE9ndez","Felipe Ortega"]},{eco:"40060",serial:"97529",sap:void 0,ops:["Pablo Rios","H\xE9ctor Delgado","Salvador Pe\xF1a","Tom\xE1s Navarro"]},{eco:"40327",serial:"97560",sap:void 0,ops:["Ismael Guerrero","Rafael Soto","\xC1ngel Campos","Ram\xF3n Vega"]},{eco:"40328",serial:"97562",sap:void 0,ops:["Vicente Molina","Julio Cabrera","Esteban Miranda"]},{eco:"40338",serial:"66458",sap:void 0,ops:["Emilio Pacheco","F\xE9lix Cordero","Lorenzo Montes","Benjam\xEDn Sol\xEDs"]},{eco:"29439",serial:"66454",sap:"4000018761",ops:["Gerardo Lara","Mauricio Acosta"]},{eco:"29440",serial:"66541",sap:"4000018763",ops:["Samuel Valencia","Dario Espinoza"]},{eco:"35482",serial:"92714",sap:"4000026495",ops:["Alfredo Beltr\xE1n","Rogelio C\xE1rdenas","Sim\xF3n Orozco","Elias Villalobos"]},{eco:"35483",serial:"92730",sap:"4000026496",ops:["Lucas Maldonado","Mateo Ibarra","Nicol\xE1s Zavala","Joaqu\xEDn Trejo"]},{eco:"35494",serial:"92732",sap:"4000026522",ops:["Sebasti\xE1n Gallegos","Dami\xE1n Ponce","Juli\xE1n Esquivel","Leonardo Rocha"]}],Ghe="Sergio Guadarrama Gonzales",Whe="Planta Cuautitl\xE1n - Cuautitl\xE1n Izcalli, Edo de Mex.",jhe="Toyota 32-8FG30";function BU(t){return qhe.map((e,n)=>{let r=Math.random(),i=0;r>.95?i=1:r>.85&&(i=2),e.eco==="35526"&&(i=1);let s=t[i],o=new Date;return i!==0&&o.setDate(o.getDate()-Math.floor(Math.random()*5)),{id:e.eco,brand:"Toyota",model:jhe,serial:e.serial,sapCode:e.sap,acquisitionDate:"2020-06-15",fuelType:"GLP/Gasolina Dual",status:s,statusSince:o.toISOString(),location:Whe,critical:n<5,cleanlinessStatus:"Pending",supervisor:Ghe,operatingHours:Math.floor(Math.random()*1301+1200),assignedOperators:e.ops.map((a,l)=>({name:a,role:"Operador",shift:`Turno ${l%4+1}`})),maintenanceTasks:[]}})}var Ns=class t{constructor(){this.firebaseConfig={apiKey:"AIzaSyBfdkTmTXNW7zP2Pbo_qktwevU12ff16Ng",authDomain:"sample-firebase-ai-app-c84d2.firebaseapp.com",databaseURL:"https://sample-firebase-ai-app-c84d2-default-rtdb.firebaseio.com",projectId:"sample-firebase-ai-app-c84d2",storageBucket:"sample-firebase-ai-app-c84d2.firebasestorage.app",messagingSenderId:"572595334513",appId:"1:572595334513:web:725d1fb5fbe9ed48dc9ad0"};this.connectionStatus=Sn("syncing");this.lastUpdate=Sn(new Date);this.plantMode=Sn(!1);this.isKioskMode=Sn(!1);this.activeSlide=Sn(0);this.statuses=[{id:"1",name:"Operativo",color:"bg-emerald-100 text-emerald-800 border-emerald-200",hex:"#10b981"},{id:"2",name:"Taller",color:"bg-red-100 text-red-800 border-red-200",hex:"#ef4444"},{id:"3",name:"Preventivo",color:"bg-amber-100 text-amber-800 border-amber-200",hex:"#f59e0b"},{id:"4",name:"Baja",color:"bg-slate-100 text-slate-800 border-slate-200",hex:"#64748b"}];this.assetsSignal=Sn(this.loadRealFleet());this.reportsSignal=Sn(this.generateRealReports());this.forkliftFailures=Sn(this.generateRealLiveFailures());this.assets=this.assetsSignal.asReadonly();this.reports=this.reportsSignal.asReadonly();this.kpiData=Tn(()=>{let e=this.assetsSignal().length,n=this.assetsSignal().filter(l=>l.status.name==="Operativo").length,r=this.reportsSignal().filter(l=>l.exitDate),i=0;r.forEach(l=>{let c=new Date(l.entryDate).getTime(),u=new Date(l.exitDate).getTime();i+=(u-c)/(1e3*60*60)});let s=r.length>0?i/r.length:0,o=new Date().getMonth(),a=this.reportsSignal().filter(l=>new Date(l.entryDate).getMonth()===o).reduce((l,c)=>l+c.estimatedCost,0);return{availability:e>0?n/e*100:0,mttr:Math.round(s*10)/10,totalCostMonth:a,budgetMonth:18e3}});this.fleetAvailability=Tn(()=>{let e=this.assetsSignal();if(e.length===0)return{percentage:100,label:"Excelente",color:"#10b981"};let r=e.filter(i=>i.status.name==="Operativo").length/e.length*100;return{percentage:Math.round(r),label:r>=90?"Excelente":r>=80?"Regular":"Cr\xEDtico",color:r>=90?"#10b981":r>=80?"#f59e0b":"#ef4444"}});this.topOperators=Tn(()=>{let e=this.forkliftFailures(),n={};return e.forEach(r=>{r.reporta&&(n[r.reporta]=(n[r.reporta]||0)+10)}),Object.entries(n).map(([r,i])=>({name:r,points:i})).sort((r,i)=>i.points-r.points).slice(0,3)});this.safetyStats=Sn({daysWithoutAccident:142,record:180,announcement:"Uso obligatorio de EPP en Patio de Maniobras"});this.crewLeaderboard=Sn([{rank:1,name:"Turno 1 (Matutino)",score:98,pallets:1450},{rank:2,name:"Turno 2 (Vespertino)",score:94,pallets:1320},{rank:3,name:"Turno 3 (Nocturno)",score:89,pallets:1105}]);this.initFirebase(),this.syncAssetsWithFailures(this.forkliftFailures()),Sh(()=>{this.isKioskMode()?this.startKioskRotation():this.stopKioskRotation()}),window.addEventListener("online",()=>this.updateConnectionStatus()),window.addEventListener("offline",()=>this.updateConnectionStatus())}initFirebase(){try{this.app=KN(this.firebaseConfig),this.db=OU(this.app);let e=Dc(this.db,".info/connected");kS(e,n=>{n.val()===!0?this.connectionStatus.set("online"):this.connectionStatus.set("offline")}),this.setupListeners()}catch(e){console.error("Firebase init error:",e),this.connectionStatus.set("offline")}}updateConnectionStatus(){this.connectionStatus.set(navigator.onLine?"online":"offline")}setupListeners(){let e=Dc(this.db,"failures");kS(e,r=>{let i=r.val();if(this.lastUpdate.set(new Date),i){let s=Object.values(i);s.sort((o,a)=>new Date(a.fechaIngreso).getTime()-new Date(o.fechaIngreso).getTime()),this.forkliftFailures.set(s),this.syncAssetsWithFailures(s)}else this.seedDatabase()},r=>{console.warn("Using Offline Mode.",r),this.connectionStatus.set("offline")});let n=Dc(this.db,"settings/kioskMode");kS(n,r=>{let i=r.val();i!==null&&this.isKioskMode()!==i&&this.isKioskMode.set(i)})}seedDatabase(){let e={};this.forkliftFailures().forEach(r=>{e["failures/"+r.id]=r}),e["settings/kioskMode"]=!1,Ty(Dc(this.db),e).catch(()=>{})}toggleKioskMode(){let e=!this.isKioskMode();this.isKioskMode.set(e),this.connectionStatus()==="online"&&DM(Dc(this.db,"settings/kioskMode"),e).catch(()=>{})}startKioskRotation(){this.kioskInterval&&clearInterval(this.kioskInterval),this.kioskInterval=setInterval(()=>{this.activeSlide.update(e=>(e+1)%3)},15e3)}stopKioskRotation(){this.kioskInterval&&clearInterval(this.kioskInterval),this.activeSlide.set(0)}togglePlantMode(){this.plantMode.update(e=>!e)}getAsset(e){return this.assetsSignal().find(n=>n.id===e)}getAssetHistory(e){return this.reportsSignal().filter(n=>n.assetId===e).sort((n,r)=>new Date(r.entryDate).getTime()-new Date(n.entryDate).getTime())}addLiveFailure(e){let n=Nt(De({},e),{id:"F-"+Date.now(),fechaIngreso:new Date().toISOString(),seguimiento:[]});this.connectionStatus.set("syncing"),this.forkliftFailures.update(r=>[n,...r]),this.syncAssetsWithFailures(this.forkliftFailures()),this.connectionStatus()!=="offline"&&DM(Dc(this.db,"failures/"+n.id),n).then(()=>this.connectionStatus.set("online")).catch(()=>this.connectionStatus.set("offline"))}addFailureUpdate(e,n,r){let i=this.forkliftFailures().find(o=>o.id===e);if(!i)return;let s=Nt(De({},i),{estatus:"En Proceso",seguimiento:[...i.seguimiento,{usuario:r,mensaje:n,fecha:new Date().toISOString()}]});this.forkliftFailures.update(o=>o.map(a=>a.id===e?s:a)),this.connectionStatus()!=="offline"&&Ty(Dc(this.db,"failures/"+e),s).catch(console.error)}updateToyotaLogistics(e,n,r,i){let s={ordenCompra:n,estatusRefaccion:r,fechaPromesa:i,estatus:"En Proceso"};this.forkliftFailures.update(o=>o.map(a=>a.id===e?Nt(De(De({},a),s),{estatus:"En Proceso"}):a)),this.connectionStatus()!=="offline"&&Ty(Dc(this.db,"failures/"+e),s).catch(console.error)}closeLiveFailure(e){let n=this.forkliftFailures().find(i=>i.id===e);if(!n)return;let r=Nt(De({},n),{estatus:"Cerrada",fechaSalida:new Date().toISOString()});this.forkliftFailures.update(i=>i.map(s=>s.id===e?r:s)),this.syncAssetsWithFailures(this.forkliftFailures()),this.connectionStatus()!=="offline"&&Ty(Dc(this.db,"failures/"+e),r).catch(console.error)}reportFailure(e,n,r){this.addLiveFailure({economico:e,falla:n,prioridad:"Media",reporta:"Operador (App)",estatus:"Abierta"})}completeRepair(e,n,r,i){let s=this.forkliftFailures().find(o=>o.economico===e&&o.estatus!=="Cerrada");s&&this.closeLiveFailure(s.id)}updateAssetsFromExcel(e){}syncAssetsWithFailures(e){let n=e.filter(a=>a.estatus!=="Cerrada"),r=new Set(n.map(a=>a.economico)),i=new Map(n.map(a=>[a.economico,a])),s=this.statuses.find(a=>a.name==="Taller"),o=this.statuses.find(a=>a.name==="Operativo");this.assetsSignal.update(a=>a.map(l=>{if(r.has(l.id)){if(l.status.name!=="Taller")return Nt(De({},l),{status:s,statusSince:i.get(l.id)?.fechaIngreso||new Date().toISOString(),lastFailure:i.get(l.id)?.falla})}else if(l.status.name==="Taller"&&!r.has(l.id))return Nt(De({},l),{status:o,statusSince:new Date().toISOString(),lastFailure:void 0});return l}))}loadRealFleet(){let e=BU(this.statuses);return e.forEach((n,r)=>{n.maintenanceTasks=this.generateMockMaintenance(r)}),e}generateMockMaintenance(e){let n=[],r=Math.floor(Math.random()*45)-5,i=new Date;i.setDate(i.getDate()+r);let s=["Cambio de Aceite","Revisi\xF3n de Frenos","Ajuste de Cadenas","Servicio General","Inspecci\xF3n de Bater\xEDa"][e%5];return n.push({id:`T-${e}-1`,date:i.toISOString(),description:s,status:r<0?"Overdue":"Pending"}),n}generateRealReports(){return[]}generateRealLiveFailures(){return[{id:"FAIL-2026-0001",economico:"35526",falla:"Fuga de aceite hidr\xE1ulico en cilindro de elevaci\xF3n principal.",reporta:"Carlos Eduardo Vazquez Calderon",fechaIngreso:new Date().toISOString(),prioridad:"Alta",estatus:"Abierta",seguimiento:[]}]}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"})}};var zhe,Yhe;function Xhe(){return{geminiUrl:zhe,vertexUrl:Yhe}}function Khe(t,e,n,r){var i,s;if(!t?.baseUrl){let o=Xhe();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}var Ml=class{};function xt(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){let s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let s=0;s<e.length-1;s++){let o=e[s];if(o.endsWith("[]")){let a=o.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[a])){let l=t[a];if(Array.isArray(n))for(let c=0;c<l.length;c++){let u=l[c];y(u,e.slice(s+1),n[c])}else for(let c of l)y(c,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){let a=o.slice(0,-3);a in t||(t[a]=[{}]);let l=t[a];y(l[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}let r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;let i=e[r];if(i.endsWith("[]")){let s=i.slice(0,-2);if(s in t){let o=t[s];return Array.isArray(o)?o.map(a=>p(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Jhe(t,e){for(let[n,r]of Object.entries(e)){let i=n.split("."),s=r.split("."),o=new Set,a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&s.length>a)for(let l=a;l<s.length;l++){let c=s[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&o.add(c)}PM(t,i,s,0,o)}}function PM(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;let s=e[r];if(s.endsWith("[]")){let o=s.slice(0,-2),a=t;if(o in a&&Array.isArray(a[o]))for(let l of a[o])PM(l,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let o=t,a=Object.keys(o).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(let c of a)l[c]=o[c];for(let[c,u]of Object.entries(l)){let f=[];for(let d of n.slice(r))d==="*"?f.push(c):f.push(d);y(o,f,u)}for(let c of a)delete o[c]}}else{let o=t;s in o&&PM(o[s],e,n,r+1,i)}}function MP(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Qhe(t){let e={},n=p(t,["operationName"]);n!=null&&y(e,["operationName"],n);let r=p(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function Zhe(t){let e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);let r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);let i=p(t,["done"]);i!=null&&y(e,["done"],i);let s=p(t,["error"]);s!=null&&y(e,["error"],s);let o=p(t,["response","generateVideoResponse"]);return o!=null&&y(e,["response"],tpe(o)),e}function epe(t){let e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);let r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);let i=p(t,["done"]);i!=null&&y(e,["done"],i);let s=p(t,["error"]);s!=null&&y(e,["error"],s);let o=p(t,["response"]);return o!=null&&y(e,["response"],npe(o)),e}function tpe(t){let e={},n=p(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>rpe(o))),y(e,["generatedVideos"],s)}let r=p(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);let i=p(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function npe(t){let e={},n=p(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>ipe(o))),y(e,["generatedVideos"],s)}let r=p(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);let i=p(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function rpe(t){let e={},n=p(t,["video"]);return n!=null&&y(e,["video"],upe(n)),e}function ipe(t){let e={},n=p(t,["_self"]);return n!=null&&y(e,["video"],fpe(n)),e}function spe(t){let e={},n=p(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function ope(t){let e={},n=p(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function ape(t){let e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);let r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);let i=p(t,["done"]);i!=null&&y(e,["done"],i);let s=p(t,["error"]);s!=null&&y(e,["error"],s);let o=p(t,["response"]);return o!=null&&y(e,["response"],lpe(o)),e}function lpe(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["parent"]);r!=null&&y(e,["parent"],r);let i=p(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function cH(t){let e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);let r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);let i=p(t,["done"]);i!=null&&y(e,["done"],i);let s=p(t,["error"]);s!=null&&y(e,["error"],s);let o=p(t,["response"]);return o!=null&&y(e,["response"],cpe(o)),e}function cpe(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["parent"]);r!=null&&y(e,["parent"],r);let i=p(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function upe(t){let e={},n=p(t,["uri"]);n!=null&&y(e,["uri"],n);let r=p(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],MP(r));let i=p(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function fpe(t){let e={},n=p(t,["gcsUri"]);n!=null&&y(e,["uri"],n);let r=p(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],MP(r));let i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}var qh=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(qh||{});var FM=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(FM||{});var uH=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(uH||{});var fH=(function(t){return t.COLLECTION="COLLECTION",t})(fH||{});var Iy=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(Iy||{});var ky=class{constructor(e){let n={};for(let r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var $h=class{get text(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1,f=[];for(let d of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[h,g]of Object.entries(d))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(g!==null||g!==void 0)&&f.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;u=!0,c+=d.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="",u=[];for(let f of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(let[d,h]of Object.entries(f))d!=="inlineData"&&(h!==null||h!==void 0)&&u.push(d);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let c=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if(c?.length!==0)return c}get executableCode(){var e,n,r,i,s,o,a,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if(u?.length!==0)return(c=u?.[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,o,a,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if(u?.length!==0)return(c=u?.[0])===null||c===void 0?void 0:c.output}},BS=class{},VS=class{},RM=class{},LM=class{},OM=class{},BM=class{},US=class{},HS=class{},$S=class{},VM=class{};var qS=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,i,s=e;return n?i=epe(s):i=Zhe(s),Object.assign(r,i),r}},GS=class{},WS=class{},jS=class{},zS=class{},UM=class{},HM=class{},$M=class{};var qM=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,s=ape(e);return Object.assign(r,s),r}},GM=class{},WM=class{},jM=class{},zM=class{};var YS=class{};var YM=class{get text(){var e,n,r;let i="",s=!1,o=[];for(let a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[l,c]of Object.entries(a))l!=="text"&&l!=="thought"&&c!==null&&o.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;s=!0,i+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="",s=[];for(let o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[a,l]of Object.entries(o))a!=="inlineData"&&l!==null&&s.push(a);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}};var XM=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var KM=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,s=cH(e);return Object.assign(r,s),r}};function Kn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function dH(t,e){let n=Kn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function hH(t){return Array.isArray(t)?t.map(e=>XS(e)):[XS(t)]}function XS(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function pH(t){let e=XS(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function mH(t){let e=XS(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function VU(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function gH(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>VU(e)):[VU(t)]}function JM(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function UU(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function HU(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ms(t){if(t==null)throw new Error("ContentUnion is required");return JM(t)?t:{role:"user",parts:gH(t)}}function PP(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let r=Ms(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){let n=Ms(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ms(n)):[Ms(e)]}function Oa(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(UU(t)||HU(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ms(t)]}let e=[],n=[],r=JM(t[0]);for(let i of t){let s=JM(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(UU(i)||HU(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:gH(n)}),e}function dpe(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(qh).includes(n[0].toUpperCase())?n[0].toUpperCase():qh.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let r of n)e.anyOf.push({type:Object.values(qh).includes(r.toUpperCase())?r.toUpperCase():qh.TYPE_UNSPECIFIED})}}function Cm(t){let e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&dpe(t.type,e);for(let[o,a]of Object.entries(t))if(a!=null)if(o=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(qh).includes(a.toUpperCase())?a.toUpperCase():qh.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Cm(a);else if(r.includes(o)){let l=[];for(let c of a){if(c.type=="null"){e.nullable=!0;continue}l.push(Cm(c))}e[o]=l}else if(i.includes(o)){let l={};for(let[c,u]of Object.entries(a))l[c]=Cm(u);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=a}return e}function FP(t){return Cm(t)}function RP(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function LP(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Im(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Cm(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Cm(e.response));return t}function Dm(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function hpe(t,e,n,r=1){let i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Du(t,e){if(typeof e!="string")throw new Error("name must be a string");return hpe(t,e,"cachedContents")}function vH(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Kf(t){return MP(t)}function ppe(t){return t!=null&&typeof t=="object"&&"name"in t}function mpe(t){return t!=null&&typeof t=="object"&&"video"in t}function gpe(t){return t!=null&&typeof t=="object"&&"uri"in t}function yH(t){var e;let n;if(ppe(t)&&(n=t.name),!(gpe(t)&&(n=t.uri,n===void 0))&&!(mpe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function _H(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function xH(t){for(let e of["models","tunedModels","publisherModels"])if(vpe(t,e))return t[e];return[]}function vpe(t,e){return t!==null&&typeof t=="object"&&e in t}function ype(t,e={}){let n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function _pe(t,e={}){let n=[],r=new Set;for(let i of t){let s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);let o=ype(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function wH(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function xpe(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function EH(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(let o of i){if(typeof o!="object"||o===null)continue;let l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function km(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function SH(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function wpe(t){let e={},n=p(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);let r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>t0e(o))),y(e,["inlinedResponses"],s)}let i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),y(e,["inlinedEmbedContentResponses"],s)}return e}function Epe(t){let e={},n=p(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);let r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);let i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function Spe(t){let e={},n=p(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);let r=p(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);let i=p(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function LS(t){let e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);let r=p(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);let i=p(t,["metadata","state"]);i!=null&&y(e,["state"],SH(i));let s=p(t,["metadata","createTime"]);s!=null&&y(e,["createTime"],s);let o=p(t,["metadata","endTime"]);o!=null&&y(e,["endTime"],o);let a=p(t,["metadata","updateTime"]);a!=null&&y(e,["updateTime"],a);let l=p(t,["metadata","model"]);l!=null&&y(e,["model"],l);let c=p(t,["metadata","output"]);return c!=null&&y(e,["dest"],wpe(EH(c))),e}function QM(t){let e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);let r=p(t,["displayName"]);r!=null&&y(e,["displayName"],r);let i=p(t,["state"]);i!=null&&y(e,["state"],SH(i));let s=p(t,["error"]);s!=null&&y(e,["error"],s);let o=p(t,["createTime"]);o!=null&&y(e,["createTime"],o);let a=p(t,["startTime"]);a!=null&&y(e,["startTime"],a);let l=p(t,["endTime"]);l!=null&&y(e,["endTime"],l);let c=p(t,["updateTime"]);c!=null&&y(e,["updateTime"],c);let u=p(t,["model"]);u!=null&&y(e,["model"],u);let f=p(t,["inputConfig"]);f!=null&&y(e,["src"],Cpe(f));let d=p(t,["outputConfig"]);d!=null&&y(e,["dest"],Epe(EH(d)));let h=p(t,["completionStats"]);return h!=null&&y(e,["completionStats"],h),e}function Cpe(t){let e={},n=p(t,["instancesFormat"]);n!=null&&y(e,["format"],n);let r=p(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);let i=p(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function bpe(t,e){let n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let r=p(e,["fileName"]);r!=null&&y(n,["fileName"],r);let i=p(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>e0e(t,o))),y(n,["requests","requests"],s)}return n}function Tpe(t){let e={},n=p(t,["format"]);n!=null&&y(e,["instancesFormat"],n);let r=p(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);let i=p(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ape(t){let e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Ipe(t,e){let n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],km(t,r)),n}function Dpe(t,e){let n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],km(t,r)),n}function kpe(t){let e={},n=p(t,["content"]);n!=null&&y(e,["content"],n);let r=p(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Npe(r));let i=p(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);let s=p(t,["finishReason"]);s!=null&&y(e,["finishReason"],s);let o=p(t,["avgLogprobs"]);o!=null&&y(e,["avgLogprobs"],o);let a=p(t,["groundingMetadata"]);a!=null&&y(e,["groundingMetadata"],a);let l=p(t,["index"]);l!=null&&y(e,["index"],l);let c=p(t,["logprobsResult"]);c!=null&&y(e,["logprobsResult"],c);let u=p(t,["safetyRatings"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>h)),y(e,["safetyRatings"],d)}let f=p(t,["urlContextMetadata"]);return f!=null&&y(e,["urlContextMetadata"],f),e}function Npe(t){let e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function CH(t){let e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>l0e(s))),y(e,["parts"],i)}let r=p(t,["role"]);return r!=null&&y(e,["role"],r),e}function Mpe(t,e){let n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Ppe(t,e){let n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);let i=p(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],Spe(xpe(i))),n}function $U(t,e){let n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],Kn(t,r));let i=p(e,["src"]);i!=null&&y(n,["batch","inputConfig"],bpe(t,wH(t,i)));let s=p(e,["config"]);return s!=null&&Mpe(s,n),n}function Fpe(t,e){let n={},r=p(e,["model"]);r!=null&&y(n,["model"],Kn(t,r));let i=p(e,["src"]);i!=null&&y(n,["inputConfig"],Tpe(wH(t,i)));let s=p(e,["config"]);return s!=null&&Ppe(s,n),n}function Rpe(t,e){let n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function Lpe(t,e){let n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],Kn(t,r));let i=p(e,["src"]);i!=null&&y(n,["batch","inputConfig"],qpe(t,i));let s=p(e,["config"]);return s!=null&&Rpe(s,n),n}function Ope(t,e){let n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],km(t,r)),n}function Bpe(t,e){let n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],km(t,r)),n}function Vpe(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["name"]);r!=null&&y(e,["name"],r);let i=p(t,["done"]);i!=null&&y(e,["done"],i);let s=p(t,["error"]);return s!=null&&y(e,["error"],s),e}function Upe(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["name"]);r!=null&&y(e,["name"],r);let i=p(t,["done"]);i!=null&&y(e,["done"],i);let s=p(t,["error"]);return s!=null&&y(e,["error"],s),e}function Hpe(t,e){let n={},r=p(e,["contents"]);if(r!=null){let s=PP(t,r);Array.isArray(s)&&(s=s.map(o=>o)),y(n,["requests[]","request","content"],s)}let i=p(e,["config"]);return i!=null&&(y(n,["_self"],$pe(i,n)),Jhe(n,{"requests[].*":"requests[].request.*"})),n}function $pe(t,e){let n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);let i=p(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);let s=p(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&y(e,["requests[]","outputDimensionality"],s),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function qpe(t,e){let n={},r=p(e,["fileName"]);r!=null&&y(n,["file_name"],r);let i=p(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],Hpe(t,i)),n}function Gpe(t){let e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);let r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Wpe(t){let e={},n=p(t,["id"]);n!=null&&y(e,["id"],n);let r=p(t,["args"]);r!=null&&y(e,["args"],r);let i=p(t,["name"]);if(i!=null&&y(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jpe(t){let e={},n=p(t,["allowedFunctionNames"]);n!=null&&y(e,["allowedFunctionNames"],n);let r=p(t,["mode"]);if(r!=null&&y(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function zpe(t,e,n){let r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],CH(Ms(i)));let s=p(e,["temperature"]);s!=null&&y(r,["temperature"],s);let o=p(e,["topP"]);o!=null&&y(r,["topP"],o);let a=p(e,["topK"]);a!=null&&y(r,["topK"],a);let l=p(e,["candidateCount"]);l!=null&&y(r,["candidateCount"],l);let c=p(e,["maxOutputTokens"]);c!=null&&y(r,["maxOutputTokens"],c);let u=p(e,["stopSequences"]);u!=null&&y(r,["stopSequences"],u);let f=p(e,["responseLogprobs"]);f!=null&&y(r,["responseLogprobs"],f);let d=p(e,["logprobs"]);d!=null&&y(r,["logprobs"],d);let h=p(e,["presencePenalty"]);h!=null&&y(r,["presencePenalty"],h);let g=p(e,["frequencyPenalty"]);g!=null&&y(r,["frequencyPenalty"],g);let v=p(e,["seed"]);v!=null&&y(r,["seed"],v);let x=p(e,["responseMimeType"]);x!=null&&y(r,["responseMimeType"],x);let _=p(e,["responseSchema"]);_!=null&&y(r,["responseSchema"],FP(_));let E=p(e,["responseJsonSchema"]);if(E!=null&&y(r,["responseJsonSchema"],E),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let C=p(e,["safetySettings"]);if(n!==void 0&&C!=null){let X=C;Array.isArray(X)&&(X=X.map(U=>c0e(U))),y(n,["safetySettings"],X)}let D=p(e,["tools"]);if(n!==void 0&&D!=null){let X=Dm(D);Array.isArray(X)&&(X=X.map(U=>f0e(Im(U)))),y(n,["tools"],X)}let A=p(e,["toolConfig"]);if(n!==void 0&&A!=null&&y(n,["toolConfig"],u0e(A)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let L=p(e,["cachedContent"]);n!==void 0&&L!=null&&y(n,["cachedContent"],Du(t,L));let I=p(e,["responseModalities"]);I!=null&&y(r,["responseModalities"],I);let N=p(e,["mediaResolution"]);N!=null&&y(r,["mediaResolution"],N);let O=p(e,["speechConfig"]);if(O!=null&&y(r,["speechConfig"],RP(O)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let V=p(e,["thinkingConfig"]);V!=null&&y(r,["thinkingConfig"],V);let P=p(e,["imageConfig"]);P!=null&&y(r,["imageConfig"],Zpe(P));let M=p(e,["enableEnhancedCivicAnswers"]);if(M!=null&&y(r,["enableEnhancedCivicAnswers"],M),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Ype(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>kpe(c))),y(e,["candidates"],l)}let i=p(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);let s=p(t,["promptFeedback"]);s!=null&&y(e,["promptFeedback"],s);let o=p(t,["responseId"]);o!=null&&y(e,["responseId"],o);let a=p(t,["usageMetadata"]);return a!=null&&y(e,["usageMetadata"],a),e}function Xpe(t,e){let n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],km(t,r)),n}function Kpe(t,e){let n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],km(t,r)),n}function Jpe(t){let e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Qpe(t){let e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Zpe(t){let e={},n=p(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);let r=p(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function e0e(t,e){let n={},r=p(e,["model"]);r!=null&&y(n,["request","model"],Kn(t,r));let i=p(e,["contents"]);if(i!=null){let a=Oa(i);Array.isArray(a)&&(a=a.map(l=>CH(l))),y(n,["request","contents"],a)}let s=p(e,["metadata"]);s!=null&&y(n,["metadata"],s);let o=p(e,["config"]);return o!=null&&y(n,["request","generationConfig"],zpe(t,o,p(n,["request"],{}))),n}function t0e(t){let e={},n=p(t,["response"]);n!=null&&y(e,["response"],Ype(n));let r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);let i=p(t,["error"]);return i!=null&&y(e,["error"],i),e}function n0e(t,e){let n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);let i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function r0e(t,e){let n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);let i=p(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);let s=p(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),n}function i0e(t){let e={},n=p(t,["config"]);return n!=null&&n0e(n,e),e}function s0e(t){let e={},n=p(t,["config"]);return n!=null&&r0e(n,e),e}function o0e(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);let i=p(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>LS(o))),y(e,["batchJobs"],s)}return e}function a0e(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);let i=p(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>QM(o))),y(e,["batchJobs"],s)}return e}function l0e(t){let e={},n=p(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);let r=p(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);let i=p(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);let s=p(t,["fileData"]);s!=null&&y(e,["fileData"],Gpe(s));let o=p(t,["functionCall"]);o!=null&&y(e,["functionCall"],Wpe(o));let a=p(t,["functionResponse"]);a!=null&&y(e,["functionResponse"],a);let l=p(t,["inlineData"]);l!=null&&y(e,["inlineData"],Ape(l));let c=p(t,["text"]);c!=null&&y(e,["text"],c);let u=p(t,["thought"]);u!=null&&y(e,["thought"],u);let f=p(t,["thoughtSignature"]);f!=null&&y(e,["thoughtSignature"],f);let d=p(t,["videoMetadata"]);return d!=null&&y(e,["videoMetadata"],d),e}function c0e(t){let e={},n=p(t,["category"]);if(n!=null&&y(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=p(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function u0e(t){let e={},n=p(t,["retrievalConfig"]);n!=null&&y(e,["retrievalConfig"],n);let r=p(t,["functionCallingConfig"]);return r!=null&&y(e,["functionCallingConfig"],jpe(r)),e}function f0e(t){let e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=p(t,["computerUse"]);n!=null&&y(e,["computerUse"],n);let r=p(t,["fileSearch"]);r!=null&&y(e,["fileSearch"],r);let i=p(t,["codeExecution"]);if(i!=null&&y(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=p(t,["functionDeclarations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),y(e,["functionDeclarations"],u)}let o=p(t,["googleMaps"]);o!=null&&y(e,["googleMaps"],Jpe(o));let a=p(t,["googleSearch"]);a!=null&&y(e,["googleSearch"],Qpe(a));let l=p(t,["googleSearchRetrieval"]);l!=null&&y(e,["googleSearchRetrieval"],l);let c=p(t,["urlContext"]);return c!=null&&y(e,["urlContext"],c),e}var Jf=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents",t})(Jf||{}),Iu=class{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var ZM=class extends Ml{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Iu(Jf.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){let n=$U(this.apiClient,e),r=n._url,i=xt("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,c=[];for(let u of l){let f=Object.assign({},u);if(f.systemInstruction){let d=f.systemInstruction;delete f.systemInstruction;let h=f.request;h.systemInstruction=d,f.request=h}c.push(f)}return a.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){let s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=Fpe(this.apiClient,e);return a=xt("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>QM(u))}else{let c=$U(this.apiClient,e);return a=xt("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>LS(u))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Lpe(this.apiClient,e);return s=xt("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>LS(l))}}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=Kpe(this.apiClient,e);return a=xt("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>QM(u))}else{let c=Xpe(this.apiClient,e);return a=xt("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>LS(u))}}async cancel(e){var n,r,i,s;let o="",a={};if(this.apiClient.isVertexAI()){let l=Dpe(this.apiClient,e);o=xt("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{let l=Ipe(this.apiClient,e);o=xt("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=s0e(e);return a=xt("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=a0e(u),d=new YS;return Object.assign(d,f),d})}else{let c=i0e(e);return a=xt("batches",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=o0e(u),d=new YS;return Object.assign(d,f),d})}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=Bpe(this.apiClient,e);return a=xt("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>Upe(u))}else{let c=Ope(this.apiClient,e);return a=xt("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>Vpe(u))}}};function d0e(t){let e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function qU(t){let e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>R0e(s))),y(e,["parts"],i)}let r=p(t,["role"]);return r!=null&&y(e,["role"],r),e}function h0e(t,e){let n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);let i=p(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);let s=p(t,["displayName"]);e!==void 0&&s!=null&&y(e,["displayName"],s);let o=p(t,["contents"]);if(e!==void 0&&o!=null){let u=Oa(o);Array.isArray(u)&&(u=u.map(f=>qU(f))),y(e,["contents"],u)}let a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&y(e,["systemInstruction"],qU(Ms(a)));let l=p(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>O0e(f))),y(e,["tools"],u)}let c=p(t,["toolConfig"]);if(e!==void 0&&c!=null&&y(e,["toolConfig"],L0e(c)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function p0e(t,e){let n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);let i=p(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);let s=p(t,["displayName"]);e!==void 0&&s!=null&&y(e,["displayName"],s);let o=p(t,["contents"]);if(e!==void 0&&o!=null){let f=Oa(o);Array.isArray(f)&&(f=f.map(d=>d)),y(e,["contents"],f)}let a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&y(e,["systemInstruction"],Ms(a));let l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(d=>B0e(d))),y(e,["tools"],f)}let c=p(t,["toolConfig"]);e!==void 0&&c!=null&&y(e,["toolConfig"],c);let u=p(t,["kmsKeyName"]);return e!==void 0&&u!=null&&y(e,["encryption_spec","kmsKeyName"],u),n}function m0e(t,e){let n={},r=p(e,["model"]);r!=null&&y(n,["model"],dH(t,r));let i=p(e,["config"]);return i!=null&&h0e(i,n),n}function g0e(t,e){let n={},r=p(e,["model"]);r!=null&&y(n,["model"],dH(t,r));let i=p(e,["config"]);return i!=null&&p0e(i,n),n}function v0e(t,e){let n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],Du(t,r)),n}function y0e(t,e){let n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],Du(t,r)),n}function _0e(t){let e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function x0e(t){let e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function w0e(t){let e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);let r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function E0e(t){let e={},n=p(t,["id"]);n!=null&&y(e,["id"],n);let r=p(t,["args"]);r!=null&&y(e,["args"],r);let i=p(t,["name"]);if(i!=null&&y(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function S0e(t){let e={},n=p(t,["allowedFunctionNames"]);n!=null&&y(e,["allowedFunctionNames"],n);let r=p(t,["mode"]);if(r!=null&&y(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function C0e(t){let e={},n=p(t,["description"]);n!=null&&y(e,["description"],n);let r=p(t,["name"]);r!=null&&y(e,["name"],r);let i=p(t,["parameters"]);i!=null&&y(e,["parameters"],i);let s=p(t,["parametersJsonSchema"]);s!=null&&y(e,["parametersJsonSchema"],s);let o=p(t,["response"]);o!=null&&y(e,["response"],o);let a=p(t,["responseJsonSchema"]);if(a!=null&&y(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function b0e(t,e){let n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],Du(t,r)),n}function T0e(t,e){let n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],Du(t,r)),n}function A0e(t){let e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function I0e(t){let e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function D0e(t,e){let n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);let i=p(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function k0e(t,e){let n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);let i=p(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function N0e(t){let e={},n=p(t,["config"]);return n!=null&&D0e(n,e),e}function M0e(t){let e={},n=p(t,["config"]);return n!=null&&k0e(n,e),e}function P0e(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);let i=p(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),y(e,["cachedContents"],s)}return e}function F0e(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);let i=p(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),y(e,["cachedContents"],s)}return e}function R0e(t){let e={},n=p(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);let r=p(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);let i=p(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);let s=p(t,["fileData"]);s!=null&&y(e,["fileData"],w0e(s));let o=p(t,["functionCall"]);o!=null&&y(e,["functionCall"],E0e(o));let a=p(t,["functionResponse"]);a!=null&&y(e,["functionResponse"],a);let l=p(t,["inlineData"]);l!=null&&y(e,["inlineData"],d0e(l));let c=p(t,["text"]);c!=null&&y(e,["text"],c);let u=p(t,["thought"]);u!=null&&y(e,["thought"],u);let f=p(t,["thoughtSignature"]);f!=null&&y(e,["thoughtSignature"],f);let d=p(t,["videoMetadata"]);return d!=null&&y(e,["videoMetadata"],d),e}function L0e(t){let e={},n=p(t,["retrievalConfig"]);n!=null&&y(e,["retrievalConfig"],n);let r=p(t,["functionCallingConfig"]);return r!=null&&y(e,["functionCallingConfig"],S0e(r)),e}function O0e(t){let e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=p(t,["computerUse"]);n!=null&&y(e,["computerUse"],n);let r=p(t,["fileSearch"]);r!=null&&y(e,["fileSearch"],r);let i=p(t,["codeExecution"]);if(i!=null&&y(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=p(t,["functionDeclarations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),y(e,["functionDeclarations"],u)}let o=p(t,["googleMaps"]);o!=null&&y(e,["googleMaps"],A0e(o));let a=p(t,["googleSearch"]);a!=null&&y(e,["googleSearch"],I0e(a));let l=p(t,["googleSearchRetrieval"]);l!=null&&y(e,["googleSearchRetrieval"],l);let c=p(t,["urlContext"]);return c!=null&&y(e,["urlContext"],c),e}function B0e(t){let e={},n=p(t,["retrieval"]);n!=null&&y(e,["retrieval"],n);let r=p(t,["computerUse"]);if(r!=null&&y(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=p(t,["codeExecution"]);i!=null&&y(e,["codeExecution"],i);let s=p(t,["enterpriseWebSearch"]);s!=null&&y(e,["enterpriseWebSearch"],s);let o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>C0e(d))),y(e,["functionDeclarations"],f)}let a=p(t,["googleMaps"]);a!=null&&y(e,["googleMaps"],a);let l=p(t,["googleSearch"]);l!=null&&y(e,["googleSearch"],l);let c=p(t,["googleSearchRetrieval"]);c!=null&&y(e,["googleSearchRetrieval"],c);let u=p(t,["urlContext"]);return u!=null&&y(e,["urlContext"],u),e}function V0e(t,e){let n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);let i=p(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function U0e(t,e){let n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);let i=p(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function H0e(t,e){let n={},r=p(e,["name"]);r!=null&&y(n,["_url","name"],Du(t,r));let i=p(e,["config"]);return i!=null&&V0e(i,n),n}function $0e(t,e){let n={},r=p(e,["name"]);r!=null&&y(n,["_url","name"],Du(t,r));let i=p(e,["config"]);return i!=null&&U0e(i,n),n}var eP=class extends Ml{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Iu(Jf.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=g0e(this.apiClient,e);return a=xt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{let c=m0e(this.apiClient,e);return a=xt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=T0e(this.apiClient,e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{let c=b0e(this.apiClient,e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=y0e(this.apiClient,e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=x0e(u),d=new jS;return Object.assign(d,f),d})}else{let c=v0e(this.apiClient,e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=_0e(u),d=new jS;return Object.assign(d,f),d})}}async update(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=$0e(this.apiClient,e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{let c=H0e(this.apiClient,e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=M0e(e);return a=xt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=F0e(u),d=new zS;return Object.assign(d,f),d})}else{let c=N0e(e);return a=xt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=P0e(u),d=new zS;return Object.assign(d,f),d})}}};function KS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GU(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function an(t){return this instanceof an?(this.v=t,this):new an(t)}function kl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(g){return Promise.resolve(g).then(h,f)}}function a(h,g){r[h]&&(i[h]=function(v){return new Promise(function(x,_){s.push([h,v,x,_])>1||l(h,v)})},g&&(i[h]=g(i[h])))}function l(h,g){try{c(r[h](g))}catch(v){d(s[0][3],v)}}function c(h){h.value instanceof an?Promise.resolve(h.value.v).then(u,f):d(s[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function d(h,g){h(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Nl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof GU=="function"?GU(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function q0e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:bH(n)}function bH(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function G0e(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function WU(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{let i=[],s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!bH(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}var tP=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new nP(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},nP=class{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),G0e(s)}async sendMessage(e){var n;await this.sendPromise;let r=Ms(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,a;let l=await i,c=(o=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length,d=[];u!=null&&(d=(a=u.slice(f))!==null&&a!==void 0?a:[]);let h=c?[c]:[];this.recordHistory(r,h,d)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;let r=Ms(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});let s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){let n=e?WU(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return kl(this,arguments,function*(){var i,s,o,a,l,c;let u=[];try{for(var f=!0,d=Nl(e),h;h=yield an(d.next()),i=h.done,!i;f=!0){a=h.value,f=!1;let g=a;if(q0e(g)){let v=(c=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;v!==void 0&&u.push(v)}yield yield an(g)}}catch(g){s={error:g}}finally{try{!f&&!i&&(o=d.return)&&(yield an(o.call(d)))}finally{if(s)throw s.error}}this.recordHistory(n,u)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...WU(r)):this.history.push(e),this.history.push(...i)}};var Ny=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function W0e(t){let e={},n=p(t,["file"]);return n!=null&&y(e,["file"],n),e}function j0e(t){let e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function z0e(t){let e={},n=p(t,["name"]);return n!=null&&y(e,["_url","file"],yH(n)),e}function Y0e(t){let e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function X0e(t){let e={},n=p(t,["name"]);return n!=null&&y(e,["_url","file"],yH(n)),e}function K0e(t){let e={},n=p(t,["uris"]);return n!=null&&y(e,["uris"],n),e}function J0e(t,e){let n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);let i=p(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Q0e(t){let e={},n=p(t,["config"]);return n!=null&&J0e(n,e),e}function Z0e(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);let i=p(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),y(e,["files"],s)}return e}function eme(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),y(e,["files"],i)}return e}var rP=class extends Ml{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Iu(Jf.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Q0e(e);return s=xt("files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{let c=Z0e(l),u=new GM;return Object.assign(u,c),u})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=W0e(e);return s=xt("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=j0e(l),u=new WM;return Object.assign(u,c),u})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=X0e(e);return s=xt("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=z0e(e);return s=xt("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{let c=Y0e(l),u=new jM;return Object.assign(u,c),u})}}async registerFilesInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=K0e(e);return s=xt("files:register",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=eme(l),u=new zM;return Object.assign(u,c),u})}}};function OS(t){let e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function tme(t){let e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>vme(s))),y(e,["parts"],i)}let r=p(t,["role"]);return r!=null&&y(e,["role"],r),e}function nme(t){let e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);let r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function rme(t){let e={},n=p(t,["id"]);n!=null&&y(e,["id"],n);let r=p(t,["args"]);r!=null&&y(e,["args"],r);let i=p(t,["name"]);if(i!=null&&y(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ime(t){let e={},n=p(t,["description"]);n!=null&&y(e,["description"],n);let r=p(t,["name"]);r!=null&&y(e,["name"],r);let i=p(t,["parameters"]);i!=null&&y(e,["parameters"],i);let s=p(t,["parametersJsonSchema"]);s!=null&&y(e,["parametersJsonSchema"],s);let o=p(t,["response"]);o!=null&&y(e,["response"],o);let a=p(t,["responseJsonSchema"]);if(a!=null&&y(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function sme(t){let e={},n=p(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);let r=p(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);let i=p(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);let s=p(t,["candidateCount"]);s!=null&&y(e,["candidateCount"],s);let o=p(t,["enableAffectiveDialog"]);o!=null&&y(e,["enableAffectiveDialog"],o);let a=p(t,["frequencyPenalty"]);a!=null&&y(e,["frequencyPenalty"],a);let l=p(t,["logprobs"]);l!=null&&y(e,["logprobs"],l);let c=p(t,["maxOutputTokens"]);c!=null&&y(e,["maxOutputTokens"],c);let u=p(t,["mediaResolution"]);u!=null&&y(e,["mediaResolution"],u);let f=p(t,["presencePenalty"]);f!=null&&y(e,["presencePenalty"],f);let d=p(t,["responseLogprobs"]);d!=null&&y(e,["responseLogprobs"],d);let h=p(t,["responseMimeType"]);h!=null&&y(e,["responseMimeType"],h);let g=p(t,["responseModalities"]);g!=null&&y(e,["responseModalities"],g);let v=p(t,["responseSchema"]);v!=null&&y(e,["responseSchema"],v);let x=p(t,["routingConfig"]);x!=null&&y(e,["routingConfig"],x);let _=p(t,["seed"]);_!=null&&y(e,["seed"],_);let E=p(t,["speechConfig"]);E!=null&&y(e,["speechConfig"],E);let C=p(t,["stopSequences"]);C!=null&&y(e,["stopSequences"],C);let D=p(t,["temperature"]);D!=null&&y(e,["temperature"],D);let A=p(t,["thinkingConfig"]);A!=null&&y(e,["thinkingConfig"],A);let L=p(t,["topK"]);L!=null&&y(e,["topK"],L);let I=p(t,["topP"]);if(I!=null&&y(e,["topP"],I),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ome(t){let e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function ame(t){let e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function lme(t,e){let n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);let i=p(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);let s=p(t,["temperature"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","temperature"],s);let o=p(t,["topP"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","topP"],o);let a=p(t,["topK"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","topK"],a);let l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","maxOutputTokens"],l);let c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","mediaResolution"],c);let u=p(t,["seed"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","seed"],u);let f=p(t,["speechConfig"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","speechConfig"],LP(f));let d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","thinkingConfig"],d);let h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],h);let g=p(t,["systemInstruction"]);e!==void 0&&g!=null&&y(e,["setup","systemInstruction"],tme(Ms(g)));let v=p(t,["tools"]);if(e!==void 0&&v!=null){let L=Dm(v);Array.isArray(L)&&(L=L.map(I=>_me(Im(I)))),y(e,["setup","tools"],L)}let x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],yme(x));let _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&y(e,["setup","inputAudioTranscription"],_);let E=p(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&y(e,["setup","outputAudioTranscription"],E);let C=p(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&y(e,["setup","realtimeInputConfig"],C);let D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&y(e,["setup","contextWindowCompression"],D);let A=p(t,["proactivity"]);if(e!==void 0&&A!=null&&y(e,["setup","proactivity"],A),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function cme(t,e){let n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],sme(r));let i=p(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);let s=p(t,["temperature"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","temperature"],s);let o=p(t,["topP"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","topP"],o);let a=p(t,["topK"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","topK"],a);let l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","maxOutputTokens"],l);let c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","mediaResolution"],c);let u=p(t,["seed"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","seed"],u);let f=p(t,["speechConfig"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","speechConfig"],LP(f));let d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","thinkingConfig"],d);let h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],h);let g=p(t,["systemInstruction"]);e!==void 0&&g!=null&&y(e,["setup","systemInstruction"],Ms(g));let v=p(t,["tools"]);if(e!==void 0&&v!=null){let I=Dm(v);Array.isArray(I)&&(I=I.map(N=>xme(Im(N)))),y(e,["setup","tools"],I)}let x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],x);let _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&y(e,["setup","inputAudioTranscription"],_);let E=p(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&y(e,["setup","outputAudioTranscription"],E);let C=p(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&y(e,["setup","realtimeInputConfig"],C);let D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&y(e,["setup","contextWindowCompression"],D);let A=p(t,["proactivity"]);e!==void 0&&A!=null&&y(e,["setup","proactivity"],A);let L=p(t,["explicitVadSignal"]);return e!==void 0&&L!=null&&y(e,["setup","explicitVadSignal"],L),n}function ume(t,e){let n={},r=p(e,["model"]);r!=null&&y(n,["setup","model"],Kn(t,r));let i=p(e,["config"]);return i!=null&&y(n,["config"],lme(i,n)),n}function fme(t,e){let n={},r=p(e,["model"]);r!=null&&y(n,["setup","model"],Kn(t,r));let i=p(e,["config"]);return i!=null&&y(n,["config"],cme(i,n)),n}function dme(t){let e={},n=p(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function hme(t){let e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function pme(t){let e={},n=p(t,["media"]);if(n!=null){let c=hH(n);Array.isArray(c)&&(c=c.map(u=>OS(u))),y(e,["mediaChunks"],c)}let r=p(t,["audio"]);r!=null&&y(e,["audio"],OS(mH(r)));let i=p(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);let s=p(t,["video"]);s!=null&&y(e,["video"],OS(pH(s)));let o=p(t,["text"]);o!=null&&y(e,["text"],o);let a=p(t,["activityStart"]);a!=null&&y(e,["activityStart"],a);let l=p(t,["activityEnd"]);return l!=null&&y(e,["activityEnd"],l),e}function mme(t){let e={},n=p(t,["media"]);if(n!=null){let c=hH(n);Array.isArray(c)&&(c=c.map(u=>u)),y(e,["mediaChunks"],c)}let r=p(t,["audio"]);r!=null&&y(e,["audio"],mH(r));let i=p(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);let s=p(t,["video"]);s!=null&&y(e,["video"],pH(s));let o=p(t,["text"]);o!=null&&y(e,["text"],o);let a=p(t,["activityStart"]);a!=null&&y(e,["activityStart"],a);let l=p(t,["activityEnd"]);return l!=null&&y(e,["activityEnd"],l),e}function gme(t){let e={},n=p(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);let r=p(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);let i=p(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);let s=p(t,["toolCallCancellation"]);s!=null&&y(e,["toolCallCancellation"],s);let o=p(t,["usageMetadata"]);o!=null&&y(e,["usageMetadata"],wme(o));let a=p(t,["goAway"]);a!=null&&y(e,["goAway"],a);let l=p(t,["sessionResumptionUpdate"]);l!=null&&y(e,["sessionResumptionUpdate"],l);let c=p(t,["voiceActivityDetectionSignal"]);c!=null&&y(e,["voiceActivityDetectionSignal"],c);let u=p(t,["voiceActivity"]);return u!=null&&y(e,["voiceActivity"],Eme(u)),e}function vme(t){let e={},n=p(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);let r=p(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);let i=p(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);let s=p(t,["fileData"]);s!=null&&y(e,["fileData"],nme(s));let o=p(t,["functionCall"]);o!=null&&y(e,["functionCall"],rme(o));let a=p(t,["functionResponse"]);a!=null&&y(e,["functionResponse"],a);let l=p(t,["inlineData"]);l!=null&&y(e,["inlineData"],OS(l));let c=p(t,["text"]);c!=null&&y(e,["text"],c);let u=p(t,["thought"]);u!=null&&y(e,["thought"],u);let f=p(t,["thoughtSignature"]);f!=null&&y(e,["thoughtSignature"],f);let d=p(t,["videoMetadata"]);return d!=null&&y(e,["videoMetadata"],d),e}function yme(t){let e={},n=p(t,["handle"]);if(n!=null&&y(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _me(t){let e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=p(t,["computerUse"]);n!=null&&y(e,["computerUse"],n);let r=p(t,["fileSearch"]);r!=null&&y(e,["fileSearch"],r);let i=p(t,["codeExecution"]);if(i!=null&&y(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=p(t,["functionDeclarations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),y(e,["functionDeclarations"],u)}let o=p(t,["googleMaps"]);o!=null&&y(e,["googleMaps"],ome(o));let a=p(t,["googleSearch"]);a!=null&&y(e,["googleSearch"],ame(a));let l=p(t,["googleSearchRetrieval"]);l!=null&&y(e,["googleSearchRetrieval"],l);let c=p(t,["urlContext"]);return c!=null&&y(e,["urlContext"],c),e}function xme(t){let e={},n=p(t,["retrieval"]);n!=null&&y(e,["retrieval"],n);let r=p(t,["computerUse"]);if(r!=null&&y(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=p(t,["codeExecution"]);i!=null&&y(e,["codeExecution"],i);let s=p(t,["enterpriseWebSearch"]);s!=null&&y(e,["enterpriseWebSearch"],s);let o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>ime(d))),y(e,["functionDeclarations"],f)}let a=p(t,["googleMaps"]);a!=null&&y(e,["googleMaps"],a);let l=p(t,["googleSearch"]);l!=null&&y(e,["googleSearch"],l);let c=p(t,["googleSearchRetrieval"]);c!=null&&y(e,["googleSearchRetrieval"],c);let u=p(t,["urlContext"]);return u!=null&&y(e,["urlContext"],u),e}function wme(t){let e={},n=p(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);let r=p(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);let i=p(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);let s=p(t,["toolUsePromptTokenCount"]);s!=null&&y(e,["toolUsePromptTokenCount"],s);let o=p(t,["thoughtsTokenCount"]);o!=null&&y(e,["thoughtsTokenCount"],o);let a=p(t,["totalTokenCount"]);a!=null&&y(e,["totalTokenCount"],a);let l=p(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>g)),y(e,["promptTokensDetails"],h)}let c=p(t,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),y(e,["cacheTokensDetails"],h)}let u=p(t,["candidatesTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>g)),y(e,["responseTokensDetails"],h)}let f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),y(e,["toolUsePromptTokensDetails"],h)}let d=p(t,["trafficType"]);return d!=null&&y(e,["trafficType"],d),e}function Eme(t){let e={},n=p(t,["type"]);return n!=null&&y(e,["voiceActivityType"],n),e}function Sme(t,e){let n={},r=p(t,["data"]);if(r!=null&&y(n,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=p(t,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function Cme(t,e){let n={},r=p(t,["content"]);r!=null&&y(n,["content"],r);let i=p(t,["citationMetadata"]);i!=null&&y(n,["citationMetadata"],bme(i));let s=p(t,["tokenCount"]);s!=null&&y(n,["tokenCount"],s);let o=p(t,["finishReason"]);o!=null&&y(n,["finishReason"],o);let a=p(t,["avgLogprobs"]);a!=null&&y(n,["avgLogprobs"],a);let l=p(t,["groundingMetadata"]);l!=null&&y(n,["groundingMetadata"],l);let c=p(t,["index"]);c!=null&&y(n,["index"],c);let u=p(t,["logprobsResult"]);u!=null&&y(n,["logprobsResult"],u);let f=p(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),y(n,["safetyRatings"],h)}let d=p(t,["urlContextMetadata"]);return d!=null&&y(n,["urlContextMetadata"],d),n}function bme(t,e){let n={},r=p(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),y(n,["citations"],i)}return n}function Tme(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["contents"]);if(s!=null){let o=Oa(s);Array.isArray(o)&&(o=o.map(a=>a)),y(r,["contents"],o)}return r}function Ame(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),y(n,["tokensInfo"],s)}return n}function Ime(t,e){let n={},r=p(t,["values"]);r!=null&&y(n,["values"],r);let i=p(t,["statistics"]);return i!=null&&y(n,["statistics"],Dme(i)),n}function Dme(t,e){let n={},r=p(t,["truncated"]);r!=null&&y(n,["truncated"],r);let i=p(t,["token_count"]);return i!=null&&y(n,["tokenCount"],i),n}function fC(t,e){let n={},r=p(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Bge(o))),y(n,["parts"],s)}let i=p(t,["role"]);return i!=null&&y(n,["role"],i),n}function kme(t,e){let n={},r=p(t,["controlType"]);r!=null&&y(n,["controlType"],r);let i=p(t,["enableControlImageComputation"]);return i!=null&&y(n,["computeControl"],i),n}function Nme(t,e){let n={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Mme(t,e,n){let r={},i=p(t,["systemInstruction"]);e!==void 0&&i!=null&&y(e,["systemInstruction"],Ms(i));let s=p(t,["tools"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>DH(l))),y(e,["tools"],a)}let o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&y(e,["generationConfig"],Sge(o)),r}function Pme(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["contents"]);if(s!=null){let a=Oa(s);Array.isArray(a)&&(a=a.map(l=>fC(l))),y(r,["contents"],a)}let o=p(e,["config"]);return o!=null&&Nme(o),r}function Fme(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["contents"]);if(s!=null){let a=Oa(s);Array.isArray(a)&&(a=a.map(l=>l)),y(r,["contents"],a)}let o=p(e,["config"]);return o!=null&&Mme(o,r),r}function Rme(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["totalTokens"]);i!=null&&y(n,["totalTokens"],i);let s=p(t,["cachedContentTokenCount"]);return s!=null&&y(n,["cachedContentTokenCount"],s),n}function Lme(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["totalTokens"]);return i!=null&&y(n,["totalTokens"],i),n}function Ome(t,e,n){let r={},i=p(e,["model"]);return i!=null&&y(r,["_url","name"],Kn(t,i)),r}function Bme(t,e,n){let r={},i=p(e,["model"]);return i!=null&&y(r,["_url","name"],Kn(t,i)),r}function Vme(t,e){let n={},r=p(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Ume(t,e){let n={},r=p(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Hme(t,e,n){let r={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);let s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&y(e,["parameters","negativePrompt"],s);let o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);let a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);let l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&y(e,["parameters","guidanceScale"],l);let c=p(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);let u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);let f=p(t,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);let d=p(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&y(e,["parameters","includeSafetyAttributes"],d);let h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&y(e,["parameters","includeRaiReason"],h);let g=p(t,["language"]);e!==void 0&&g!=null&&y(e,["parameters","language"],g);let v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&y(e,["parameters","outputOptions","mimeType"],v);let x=p(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&y(e,["parameters","outputOptions","compressionQuality"],x);let _=p(t,["addWatermark"]);e!==void 0&&_!=null&&y(e,["parameters","addWatermark"],_);let E=p(t,["labels"]);e!==void 0&&E!=null&&y(e,["labels"],E);let C=p(t,["editMode"]);e!==void 0&&C!=null&&y(e,["parameters","editMode"],C);let D=p(t,["baseSteps"]);return e!==void 0&&D!=null&&y(e,["parameters","editConfig","baseSteps"],D),r}function $me(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["prompt"]);s!=null&&y(r,["instances[0]","prompt"],s);let o=p(e,["referenceImages"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Gge(c))),y(r,["instances[0]","referenceImages"],l)}let a=p(e,["config"]);return a!=null&&Hme(a,r),r}function qme(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>dC(o))),y(n,["generatedImages"],s)}return n}function Gme(t,e,n){let r={},i=p(t,["taskType"]);e!==void 0&&i!=null&&y(e,["requests[]","taskType"],i);let s=p(t,["title"]);e!==void 0&&s!=null&&y(e,["requests[]","title"],s);let o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Wme(t,e,n){let r={},i=p(t,["taskType"]);e!==void 0&&i!=null&&y(e,["instances[]","task_type"],i);let s=p(t,["title"]);e!==void 0&&s!=null&&y(e,["instances[]","title"],s);let o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&y(e,["parameters","outputDimensionality"],o);let a=p(t,["mimeType"]);e!==void 0&&a!=null&&y(e,["instances[]","mimeType"],a);let l=p(t,["autoTruncate"]);return e!==void 0&&l!=null&&y(e,["parameters","autoTruncate"],l),r}function jme(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["contents"]);if(s!=null){let l=PP(t,s);Array.isArray(l)&&(l=l.map(c=>c)),y(r,["requests[]","content"],l)}let o=p(e,["config"]);o!=null&&Gme(o,r);let a=p(e,["model"]);return a!==void 0&&y(r,["requests[]","model"],Kn(t,a)),r}function zme(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["contents"]);if(s!=null){let a=PP(t,s);Array.isArray(a)&&(a=a.map(l=>l)),y(r,["instances[]","content"],a)}let o=p(e,["config"]);return o!=null&&Wme(o,r),r}function Yme(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),y(n,["embeddings"],o)}let s=p(t,["metadata"]);return s!=null&&y(n,["metadata"],s),n}function Xme(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ime(a))),y(n,["embeddings"],o)}let s=p(t,["metadata"]);return s!=null&&y(n,["metadata"],s),n}function Kme(t,e){let n={},r=p(t,["endpoint"]);r!=null&&y(n,["name"],r);let i=p(t,["deployedModelId"]);return i!=null&&y(n,["deployedModelId"],i),n}function Jme(t,e){let n={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=p(t,["fileUri"]);r!=null&&y(n,["fileUri"],r);let i=p(t,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function Qme(t,e){let n={},r=p(t,["id"]);r!=null&&y(n,["id"],r);let i=p(t,["args"]);i!=null&&y(n,["args"],i);let s=p(t,["name"]);if(s!=null&&y(n,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Zme(t,e){let n={},r=p(t,["allowedFunctionNames"]);r!=null&&y(n,["allowedFunctionNames"],r);let i=p(t,["mode"]);if(i!=null&&y(n,["mode"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function ege(t,e){let n={},r=p(t,["description"]);r!=null&&y(n,["description"],r);let i=p(t,["name"]);i!=null&&y(n,["name"],i);let s=p(t,["parameters"]);s!=null&&y(n,["parameters"],s);let o=p(t,["parametersJsonSchema"]);o!=null&&y(n,["parametersJsonSchema"],o);let a=p(t,["response"]);a!=null&&y(n,["response"],a);let l=p(t,["responseJsonSchema"]);if(l!=null&&y(n,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function tge(t,e,n,r){let i={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&y(n,["systemInstruction"],fC(Ms(s)));let o=p(e,["temperature"]);o!=null&&y(i,["temperature"],o);let a=p(e,["topP"]);a!=null&&y(i,["topP"],a);let l=p(e,["topK"]);l!=null&&y(i,["topK"],l);let c=p(e,["candidateCount"]);c!=null&&y(i,["candidateCount"],c);let u=p(e,["maxOutputTokens"]);u!=null&&y(i,["maxOutputTokens"],u);let f=p(e,["stopSequences"]);f!=null&&y(i,["stopSequences"],f);let d=p(e,["responseLogprobs"]);d!=null&&y(i,["responseLogprobs"],d);let h=p(e,["logprobs"]);h!=null&&y(i,["logprobs"],h);let g=p(e,["presencePenalty"]);g!=null&&y(i,["presencePenalty"],g);let v=p(e,["frequencyPenalty"]);v!=null&&y(i,["frequencyPenalty"],v);let x=p(e,["seed"]);x!=null&&y(i,["seed"],x);let _=p(e,["responseMimeType"]);_!=null&&y(i,["responseMimeType"],_);let E=p(e,["responseSchema"]);E!=null&&y(i,["responseSchema"],FP(E));let C=p(e,["responseJsonSchema"]);if(C!=null&&y(i,["responseJsonSchema"],C),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let D=p(e,["safetySettings"]);if(n!==void 0&&D!=null){let U=D;Array.isArray(U)&&(U=U.map(z=>Wge(z))),y(n,["safetySettings"],U)}let A=p(e,["tools"]);if(n!==void 0&&A!=null){let U=Dm(A);Array.isArray(U)&&(U=U.map(z=>Qge(Im(z)))),y(n,["tools"],U)}let L=p(e,["toolConfig"]);if(n!==void 0&&L!=null&&y(n,["toolConfig"],Jge(L)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let I=p(e,["cachedContent"]);n!==void 0&&I!=null&&y(n,["cachedContent"],Du(t,I));let N=p(e,["responseModalities"]);N!=null&&y(i,["responseModalities"],N);let O=p(e,["mediaResolution"]);O!=null&&y(i,["mediaResolution"],O);let V=p(e,["speechConfig"]);if(V!=null&&y(i,["speechConfig"],RP(V)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let P=p(e,["thinkingConfig"]);P!=null&&y(i,["thinkingConfig"],P);let M=p(e,["imageConfig"]);M!=null&&y(i,["imageConfig"],Ige(M));let X=p(e,["enableEnhancedCivicAnswers"]);if(X!=null&&y(i,["enableEnhancedCivicAnswers"],X),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function nge(t,e,n,r){let i={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&y(n,["systemInstruction"],Ms(s));let o=p(e,["temperature"]);o!=null&&y(i,["temperature"],o);let a=p(e,["topP"]);a!=null&&y(i,["topP"],a);let l=p(e,["topK"]);l!=null&&y(i,["topK"],l);let c=p(e,["candidateCount"]);c!=null&&y(i,["candidateCount"],c);let u=p(e,["maxOutputTokens"]);u!=null&&y(i,["maxOutputTokens"],u);let f=p(e,["stopSequences"]);f!=null&&y(i,["stopSequences"],f);let d=p(e,["responseLogprobs"]);d!=null&&y(i,["responseLogprobs"],d);let h=p(e,["logprobs"]);h!=null&&y(i,["logprobs"],h);let g=p(e,["presencePenalty"]);g!=null&&y(i,["presencePenalty"],g);let v=p(e,["frequencyPenalty"]);v!=null&&y(i,["frequencyPenalty"],v);let x=p(e,["seed"]);x!=null&&y(i,["seed"],x);let _=p(e,["responseMimeType"]);_!=null&&y(i,["responseMimeType"],_);let E=p(e,["responseSchema"]);E!=null&&y(i,["responseSchema"],FP(E));let C=p(e,["responseJsonSchema"]);C!=null&&y(i,["responseJsonSchema"],C);let D=p(e,["routingConfig"]);D!=null&&y(i,["routingConfig"],D);let A=p(e,["modelSelectionConfig"]);A!=null&&y(i,["modelConfig"],A);let L=p(e,["safetySettings"]);if(n!==void 0&&L!=null){let de=L;Array.isArray(de)&&(de=de.map(fe=>fe)),y(n,["safetySettings"],de)}let I=p(e,["tools"]);if(n!==void 0&&I!=null){let de=Dm(I);Array.isArray(de)&&(de=de.map(fe=>DH(Im(fe)))),y(n,["tools"],de)}let N=p(e,["toolConfig"]);n!==void 0&&N!=null&&y(n,["toolConfig"],N);let O=p(e,["labels"]);n!==void 0&&O!=null&&y(n,["labels"],O);let V=p(e,["cachedContent"]);n!==void 0&&V!=null&&y(n,["cachedContent"],Du(t,V));let P=p(e,["responseModalities"]);P!=null&&y(i,["responseModalities"],P);let M=p(e,["mediaResolution"]);M!=null&&y(i,["mediaResolution"],M);let X=p(e,["speechConfig"]);X!=null&&y(i,["speechConfig"],RP(X));let U=p(e,["audioTimestamp"]);U!=null&&y(i,["audioTimestamp"],U);let z=p(e,["thinkingConfig"]);z!=null&&y(i,["thinkingConfig"],z);let re=p(e,["imageConfig"]);if(re!=null&&y(i,["imageConfig"],Dge(re)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");let Z=p(e,["modelArmorConfig"]);return n!==void 0&&Z!=null&&y(n,["modelArmorConfig"],Z),i}function jU(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["contents"]);if(s!=null){let a=Oa(s);Array.isArray(a)&&(a=a.map(l=>fC(l))),y(r,["contents"],a)}let o=p(e,["config"]);return o!=null&&y(r,["generationConfig"],tge(t,o,r)),r}function zU(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["contents"]);if(s!=null){let a=Oa(s);Array.isArray(a)&&(a=a.map(l=>l)),y(r,["contents"],a)}let o=p(e,["config"]);return o!=null&&y(r,["generationConfig"],nge(t,o,r)),r}function YU(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(u=>Cme(u))),y(n,["candidates"],c)}let s=p(t,["modelVersion"]);s!=null&&y(n,["modelVersion"],s);let o=p(t,["promptFeedback"]);o!=null&&y(n,["promptFeedback"],o);let a=p(t,["responseId"]);a!=null&&y(n,["responseId"],a);let l=p(t,["usageMetadata"]);return l!=null&&y(n,["usageMetadata"],l),n}function XU(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>f)),y(n,["candidates"],u)}let s=p(t,["createTime"]);s!=null&&y(n,["createTime"],s);let o=p(t,["modelVersion"]);o!=null&&y(n,["modelVersion"],o);let a=p(t,["promptFeedback"]);a!=null&&y(n,["promptFeedback"],a);let l=p(t,["responseId"]);l!=null&&y(n,["responseId"],l);let c=p(t,["usageMetadata"]);return c!=null&&y(n,["usageMetadata"],c),n}function rge(t,e,n){let r={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);let s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);let o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&y(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&y(e,["parameters","safetySetting"],a);let l=p(t,["personGeneration"]);e!==void 0&&l!=null&&y(e,["parameters","personGeneration"],l);let c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&y(e,["parameters","includeSafetyAttributes"],c);let u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&y(e,["parameters","includeRaiReason"],u);let f=p(t,["language"]);e!==void 0&&f!=null&&y(e,["parameters","language"],f);let d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&y(e,["parameters","outputOptions","mimeType"],d);let h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&y(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let g=p(t,["imageSize"]);if(e!==void 0&&g!=null&&y(e,["parameters","sampleImageSize"],g),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function ige(t,e,n){let r={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);let s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&y(e,["parameters","negativePrompt"],s);let o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);let a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);let l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&y(e,["parameters","guidanceScale"],l);let c=p(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);let u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);let f=p(t,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);let d=p(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&y(e,["parameters","includeSafetyAttributes"],d);let h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&y(e,["parameters","includeRaiReason"],h);let g=p(t,["language"]);e!==void 0&&g!=null&&y(e,["parameters","language"],g);let v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&y(e,["parameters","outputOptions","mimeType"],v);let x=p(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&y(e,["parameters","outputOptions","compressionQuality"],x);let _=p(t,["addWatermark"]);e!==void 0&&_!=null&&y(e,["parameters","addWatermark"],_);let E=p(t,["labels"]);e!==void 0&&E!=null&&y(e,["labels"],E);let C=p(t,["imageSize"]);e!==void 0&&C!=null&&y(e,["parameters","sampleImageSize"],C);let D=p(t,["enhancePrompt"]);return e!==void 0&&D!=null&&y(e,["parameters","enhancePrompt"],D),r}function sge(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["prompt"]);s!=null&&y(r,["instances[0]","prompt"],s);let o=p(e,["config"]);return o!=null&&rge(o,r),r}function oge(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["prompt"]);s!=null&&y(r,["instances[0]","prompt"],s);let o=p(e,["config"]);return o!=null&&ige(o,r),r}function age(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>_ge(a))),y(n,["generatedImages"],o)}let s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&y(n,["positivePromptSafetyAttributes"],AH(s)),n}function lge(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>dC(a))),y(n,["generatedImages"],o)}let s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&y(n,["positivePromptSafetyAttributes"],IH(s)),n}function cge(t,e,n){let r={},i=p(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let s=p(t,["durationSeconds"]);if(e!==void 0&&s!=null&&y(e,["parameters","durationSeconds"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&y(e,["parameters","aspectRatio"],o);let a=p(t,["resolution"]);e!==void 0&&a!=null&&y(e,["parameters","resolution"],a);let l=p(t,["personGeneration"]);if(e!==void 0&&l!=null&&y(e,["parameters","personGeneration"],l),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&y(e,["parameters","negativePrompt"],c);let u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&y(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let f=p(t,["lastFrame"]);e!==void 0&&f!=null&&y(e,["instances[0]","lastFrame"],hC(f));let d=p(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>fve(g))),y(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function uge(t,e,n){let r={},i=p(t,["numberOfVideos"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);let s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&y(e,["parameters","storageUri"],s);let o=p(t,["fps"]);e!==void 0&&o!=null&&y(e,["parameters","fps"],o);let a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&y(e,["parameters","durationSeconds"],a);let l=p(t,["seed"]);e!==void 0&&l!=null&&y(e,["parameters","seed"],l);let c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);let u=p(t,["resolution"]);e!==void 0&&u!=null&&y(e,["parameters","resolution"],u);let f=p(t,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);let d=p(t,["pubsubTopic"]);e!==void 0&&d!=null&&y(e,["parameters","pubsubTopic"],d);let h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&y(e,["parameters","negativePrompt"],h);let g=p(t,["enhancePrompt"]);e!==void 0&&g!=null&&y(e,["parameters","enhancePrompt"],g);let v=p(t,["generateAudio"]);e!==void 0&&v!=null&&y(e,["parameters","generateAudio"],v);let x=p(t,["lastFrame"]);e!==void 0&&x!=null&&y(e,["instances[0]","lastFrame"],Pl(x));let _=p(t,["referenceImages"]);if(e!==void 0&&_!=null){let D=_;Array.isArray(D)&&(D=D.map(A=>dve(A))),y(e,["instances[0]","referenceImages"],D)}let E=p(t,["mask"]);e!==void 0&&E!=null&&y(e,["instances[0]","mask"],uve(E));let C=p(t,["compressionQuality"]);return e!==void 0&&C!=null&&y(e,["parameters","compressionQuality"],C),r}function fge(t,e){let n={},r=p(t,["name"]);r!=null&&y(n,["name"],r);let i=p(t,["metadata"]);i!=null&&y(n,["metadata"],i);let s=p(t,["done"]);s!=null&&y(n,["done"],s);let o=p(t,["error"]);o!=null&&y(n,["error"],o);let a=p(t,["response","generateVideoResponse"]);return a!=null&&y(n,["response"],mge(a)),n}function dge(t,e){let n={},r=p(t,["name"]);r!=null&&y(n,["name"],r);let i=p(t,["metadata"]);i!=null&&y(n,["metadata"],i);let s=p(t,["done"]);s!=null&&y(n,["done"],s);let o=p(t,["error"]);o!=null&&y(n,["error"],o);let a=p(t,["response"]);return a!=null&&y(n,["response"],gge(a)),n}function hge(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["prompt"]);s!=null&&y(r,["instances[0]","prompt"],s);let o=p(e,["image"]);o!=null&&y(r,["instances[0]","image"],hC(o));let a=p(e,["video"]);a!=null&&y(r,["instances[0]","video"],kH(a));let l=p(e,["source"]);l!=null&&vge(l,r);let c=p(e,["config"]);return c!=null&&cge(c,r),r}function pge(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["prompt"]);s!=null&&y(r,["instances[0]","prompt"],s);let o=p(e,["image"]);o!=null&&y(r,["instances[0]","image"],Pl(o));let a=p(e,["video"]);a!=null&&y(r,["instances[0]","video"],NH(a));let l=p(e,["source"]);l!=null&&yge(l,r);let c=p(e,["config"]);return c!=null&&uge(c,r),r}function mge(t,e){let n={},r=p(t,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>wge(a))),y(n,["generatedVideos"],o)}let i=p(t,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);let s=p(t,["raiMediaFilteredReasons"]);return s!=null&&y(n,["raiMediaFilteredReasons"],s),n}function gge(t,e){let n={},r=p(t,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Ege(a))),y(n,["generatedVideos"],o)}let i=p(t,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);let s=p(t,["raiMediaFilteredReasons"]);return s!=null&&y(n,["raiMediaFilteredReasons"],s),n}function vge(t,e,n){let r={},i=p(t,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);let s=p(t,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],hC(s));let o=p(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],kH(o)),r}function yge(t,e,n){let r={},i=p(t,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);let s=p(t,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],Pl(s));let o=p(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],NH(o)),r}function _ge(t,e){let n={},r=p(t,["_self"]);r!=null&&y(n,["image"],kge(r));let i=p(t,["raiFilteredReason"]);i!=null&&y(n,["raiFilteredReason"],i);let s=p(t,["_self"]);return s!=null&&y(n,["safetyAttributes"],AH(s)),n}function dC(t,e){let n={},r=p(t,["_self"]);r!=null&&y(n,["image"],TH(r));let i=p(t,["raiFilteredReason"]);i!=null&&y(n,["raiFilteredReason"],i);let s=p(t,["_self"]);s!=null&&y(n,["safetyAttributes"],IH(s));let o=p(t,["prompt"]);return o!=null&&y(n,["enhancedPrompt"],o),n}function xge(t,e){let n={},r=p(t,["_self"]);r!=null&&y(n,["mask"],TH(r));let i=p(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),y(n,["labels"],s)}return n}function wge(t,e){let n={},r=p(t,["video"]);return r!=null&&y(n,["video"],lve(r)),n}function Ege(t,e){let n={},r=p(t,["_self"]);return r!=null&&y(n,["video"],cve(r)),n}function Sge(t,e){let n={},r=p(t,["modelSelectionConfig"]);r!=null&&y(n,["modelConfig"],r);let i=p(t,["responseJsonSchema"]);i!=null&&y(n,["responseJsonSchema"],i);let s=p(t,["audioTimestamp"]);s!=null&&y(n,["audioTimestamp"],s);let o=p(t,["candidateCount"]);o!=null&&y(n,["candidateCount"],o);let a=p(t,["enableAffectiveDialog"]);a!=null&&y(n,["enableAffectiveDialog"],a);let l=p(t,["frequencyPenalty"]);l!=null&&y(n,["frequencyPenalty"],l);let c=p(t,["logprobs"]);c!=null&&y(n,["logprobs"],c);let u=p(t,["maxOutputTokens"]);u!=null&&y(n,["maxOutputTokens"],u);let f=p(t,["mediaResolution"]);f!=null&&y(n,["mediaResolution"],f);let d=p(t,["presencePenalty"]);d!=null&&y(n,["presencePenalty"],d);let h=p(t,["responseLogprobs"]);h!=null&&y(n,["responseLogprobs"],h);let g=p(t,["responseMimeType"]);g!=null&&y(n,["responseMimeType"],g);let v=p(t,["responseModalities"]);v!=null&&y(n,["responseModalities"],v);let x=p(t,["responseSchema"]);x!=null&&y(n,["responseSchema"],x);let _=p(t,["routingConfig"]);_!=null&&y(n,["routingConfig"],_);let E=p(t,["seed"]);E!=null&&y(n,["seed"],E);let C=p(t,["speechConfig"]);C!=null&&y(n,["speechConfig"],C);let D=p(t,["stopSequences"]);D!=null&&y(n,["stopSequences"],D);let A=p(t,["temperature"]);A!=null&&y(n,["temperature"],A);let L=p(t,["thinkingConfig"]);L!=null&&y(n,["thinkingConfig"],L);let I=p(t,["topK"]);I!=null&&y(n,["topK"],I);let N=p(t,["topP"]);if(N!=null&&y(n,["topP"],N),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function Cge(t,e,n){let r={},i=p(e,["model"]);return i!=null&&y(r,["_url","name"],Kn(t,i)),r}function bge(t,e,n){let r={},i=p(e,["model"]);return i!=null&&y(r,["_url","name"],Kn(t,i)),r}function Tge(t,e){let n={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let r=p(t,["enableWidget"]);return r!=null&&y(n,["enableWidget"],r),n}function Age(t,e){let n={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let r=p(t,["timeRangeFilter"]);return r!=null&&y(n,["timeRangeFilter"],r),n}function Ige(t,e){let n={},r=p(t,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);let i=p(t,["imageSize"]);if(i!=null&&y(n,["imageSize"],i),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Dge(t,e){let n={},r=p(t,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);let i=p(t,["imageSize"]);i!=null&&y(n,["imageSize"],i);let s=p(t,["personGeneration"]);s!=null&&y(n,["personGeneration"],s);let o=p(t,["outputMimeType"]);o!=null&&y(n,["imageOutputOptions","mimeType"],o);let a=p(t,["outputCompressionQuality"]);return a!=null&&y(n,["imageOutputOptions","compressionQuality"],a),n}function kge(t,e){let n={},r=p(t,["bytesBase64Encoded"]);r!=null&&y(n,["imageBytes"],Kf(r));let i=p(t,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function TH(t,e){let n={},r=p(t,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);let i=p(t,["bytesBase64Encoded"]);i!=null&&y(n,["imageBytes"],Kf(i));let s=p(t,["mimeType"]);return s!=null&&y(n,["mimeType"],s),n}function hC(t,e){let n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let r=p(t,["imageBytes"]);r!=null&&y(n,["bytesBase64Encoded"],Kf(r));let i=p(t,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function Pl(t,e){let n={},r=p(t,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);let i=p(t,["imageBytes"]);i!=null&&y(n,["bytesBase64Encoded"],Kf(i));let s=p(t,["mimeType"]);return s!=null&&y(n,["mimeType"],s),n}function Nge(t,e,n,r){let i={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&y(n,["_query","pageSize"],s);let o=p(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);let a=p(e,["filter"]);n!==void 0&&a!=null&&y(n,["_query","filter"],a);let l=p(e,["queryBase"]);return n!==void 0&&l!=null&&y(n,["_url","models_url"],_H(t,l)),i}function Mge(t,e,n,r){let i={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&y(n,["_query","pageSize"],s);let o=p(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);let a=p(e,["filter"]);n!==void 0&&a!=null&&y(n,["_query","filter"],a);let l=p(e,["queryBase"]);return n!==void 0&&l!=null&&y(n,["_url","models_url"],_H(t,l)),i}function Pge(t,e,n){let r={},i=p(e,["config"]);return i!=null&&Nge(t,i,r),r}function Fge(t,e,n){let r={},i=p(e,["config"]);return i!=null&&Mge(t,i,r),r}function Rge(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);let s=p(t,["_self"]);if(s!=null){let o=xH(s);Array.isArray(o)&&(o=o.map(a=>iP(a))),y(n,["models"],o)}return n}function Lge(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);let s=p(t,["_self"]);if(s!=null){let o=xH(s);Array.isArray(o)&&(o=o.map(a=>sP(a))),y(n,["models"],o)}return n}function Oge(t,e){let n={},r=p(t,["maskMode"]);r!=null&&y(n,["maskMode"],r);let i=p(t,["segmentationClasses"]);i!=null&&y(n,["maskClasses"],i);let s=p(t,["maskDilation"]);return s!=null&&y(n,["dilation"],s),n}function iP(t,e){let n={},r=p(t,["name"]);r!=null&&y(n,["name"],r);let i=p(t,["displayName"]);i!=null&&y(n,["displayName"],i);let s=p(t,["description"]);s!=null&&y(n,["description"],s);let o=p(t,["version"]);o!=null&&y(n,["version"],o);let a=p(t,["_self"]);a!=null&&y(n,["tunedModelInfo"],Zge(a));let l=p(t,["inputTokenLimit"]);l!=null&&y(n,["inputTokenLimit"],l);let c=p(t,["outputTokenLimit"]);c!=null&&y(n,["outputTokenLimit"],c);let u=p(t,["supportedGenerationMethods"]);u!=null&&y(n,["supportedActions"],u);let f=p(t,["temperature"]);f!=null&&y(n,["temperature"],f);let d=p(t,["maxTemperature"]);d!=null&&y(n,["maxTemperature"],d);let h=p(t,["topP"]);h!=null&&y(n,["topP"],h);let g=p(t,["topK"]);g!=null&&y(n,["topK"],g);let v=p(t,["thinking"]);return v!=null&&y(n,["thinking"],v),n}function sP(t,e){let n={},r=p(t,["name"]);r!=null&&y(n,["name"],r);let i=p(t,["displayName"]);i!=null&&y(n,["displayName"],i);let s=p(t,["description"]);s!=null&&y(n,["description"],s);let o=p(t,["versionId"]);o!=null&&y(n,["version"],o);let a=p(t,["deployedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>Kme(h))),y(n,["endpoints"],d)}let l=p(t,["labels"]);l!=null&&y(n,["labels"],l);let c=p(t,["_self"]);c!=null&&y(n,["tunedModelInfo"],eve(c));let u=p(t,["defaultCheckpointId"]);u!=null&&y(n,["defaultCheckpointId"],u);let f=p(t,["checkpoints"]);if(f!=null){let d=f;Array.isArray(d)&&(d=d.map(h=>h)),y(n,["checkpoints"],d)}return n}function Bge(t,e){let n={},r=p(t,["mediaResolution"]);r!=null&&y(n,["mediaResolution"],r);let i=p(t,["codeExecutionResult"]);i!=null&&y(n,["codeExecutionResult"],i);let s=p(t,["executableCode"]);s!=null&&y(n,["executableCode"],s);let o=p(t,["fileData"]);o!=null&&y(n,["fileData"],Jme(o));let a=p(t,["functionCall"]);a!=null&&y(n,["functionCall"],Qme(a));let l=p(t,["functionResponse"]);l!=null&&y(n,["functionResponse"],l);let c=p(t,["inlineData"]);c!=null&&y(n,["inlineData"],Sme(c));let u=p(t,["text"]);u!=null&&y(n,["text"],u);let f=p(t,["thought"]);f!=null&&y(n,["thought"],f);let d=p(t,["thoughtSignature"]);d!=null&&y(n,["thoughtSignature"],d);let h=p(t,["videoMetadata"]);return h!=null&&y(n,["videoMetadata"],h),n}function Vge(t,e){let n={},r=p(t,["productImage"]);return r!=null&&y(n,["image"],Pl(r)),n}function Uge(t,e,n){let r={},i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);let s=p(t,["baseSteps"]);e!==void 0&&s!=null&&y(e,["parameters","baseSteps"],s);let o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&y(e,["parameters","storageUri"],o);let a=p(t,["seed"]);e!==void 0&&a!=null&&y(e,["parameters","seed"],a);let l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&y(e,["parameters","safetySetting"],l);let c=p(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);let u=p(t,["addWatermark"]);e!==void 0&&u!=null&&y(e,["parameters","addWatermark"],u);let f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","mimeType"],f);let d=p(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&y(e,["parameters","outputOptions","compressionQuality"],d);let h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&y(e,["parameters","enhancePrompt"],h);let g=p(t,["labels"]);return e!==void 0&&g!=null&&y(e,["labels"],g),r}function Hge(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["source"]);s!=null&&qge(s,r);let o=p(e,["config"]);return o!=null&&Uge(o,r),r}function $ge(t,e){let n={},r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>dC(s))),y(n,["generatedImages"],i)}return n}function qge(t,e,n){let r={},i=p(t,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);let s=p(t,["personImage"]);e!==void 0&&s!=null&&y(e,["instances[0]","personImage","image"],Pl(s));let o=p(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Vge(l))),y(e,["instances[0]","productImages"],a)}return r}function Gge(t,e){let n={},r=p(t,["referenceImage"]);r!=null&&y(n,["referenceImage"],Pl(r));let i=p(t,["referenceId"]);i!=null&&y(n,["referenceId"],i);let s=p(t,["referenceType"]);s!=null&&y(n,["referenceType"],s);let o=p(t,["maskImageConfig"]);o!=null&&y(n,["maskImageConfig"],Oge(o));let a=p(t,["controlImageConfig"]);a!=null&&y(n,["controlImageConfig"],kme(a));let l=p(t,["styleImageConfig"]);l!=null&&y(n,["styleImageConfig"],l);let c=p(t,["subjectImageConfig"]);return c!=null&&y(n,["subjectImageConfig"],c),n}function AH(t,e){let n={},r=p(t,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);let i=p(t,["safetyAttributes","scores"]);i!=null&&y(n,["scores"],i);let s=p(t,["contentType"]);return s!=null&&y(n,["contentType"],s),n}function IH(t,e){let n={},r=p(t,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);let i=p(t,["safetyAttributes","scores"]);i!=null&&y(n,["scores"],i);let s=p(t,["contentType"]);return s!=null&&y(n,["contentType"],s),n}function Wge(t,e){let n={},r=p(t,["category"]);if(r!=null&&y(n,["category"],r),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let i=p(t,["threshold"]);return i!=null&&y(n,["threshold"],i),n}function jge(t,e){let n={},r=p(t,["image"]);return r!=null&&y(n,["image"],Pl(r)),n}function zge(t,e,n){let r={},i=p(t,["mode"]);e!==void 0&&i!=null&&y(e,["parameters","mode"],i);let s=p(t,["maxPredictions"]);e!==void 0&&s!=null&&y(e,["parameters","maxPredictions"],s);let o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&y(e,["parameters","confidenceThreshold"],o);let a=p(t,["maskDilation"]);e!==void 0&&a!=null&&y(e,["parameters","maskDilation"],a);let l=p(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&y(e,["parameters","binaryColorThreshold"],l);let c=p(t,["labels"]);return e!==void 0&&c!=null&&y(e,["labels"],c),r}function Yge(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["source"]);s!=null&&Kge(s,r);let o=p(e,["config"]);return o!=null&&zge(o,r),r}function Xge(t,e){let n={},r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>xge(s))),y(n,["generatedMasks"],i)}return n}function Kge(t,e,n){let r={},i=p(t,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);let s=p(t,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],Pl(s));let o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&y(e,["instances[0]","scribble"],jge(o)),r}function Jge(t,e){let n={},r=p(t,["retrievalConfig"]);r!=null&&y(n,["retrievalConfig"],r);let i=p(t,["functionCallingConfig"]);return i!=null&&y(n,["functionCallingConfig"],Zme(i)),n}function Qge(t,e){let n={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=p(t,["computerUse"]);r!=null&&y(n,["computerUse"],r);let i=p(t,["fileSearch"]);i!=null&&y(n,["fileSearch"],i);let s=p(t,["codeExecution"]);if(s!=null&&y(n,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>d)),y(n,["functionDeclarations"],f)}let a=p(t,["googleMaps"]);a!=null&&y(n,["googleMaps"],Tge(a));let l=p(t,["googleSearch"]);l!=null&&y(n,["googleSearch"],Age(l));let c=p(t,["googleSearchRetrieval"]);c!=null&&y(n,["googleSearchRetrieval"],c);let u=p(t,["urlContext"]);return u!=null&&y(n,["urlContext"],u),n}function DH(t,e){let n={},r=p(t,["retrieval"]);r!=null&&y(n,["retrieval"],r);let i=p(t,["computerUse"]);if(i!=null&&y(n,["computerUse"],i),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=p(t,["codeExecution"]);s!=null&&y(n,["codeExecution"],s);let o=p(t,["enterpriseWebSearch"]);o!=null&&y(n,["enterpriseWebSearch"],o);let a=p(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>ege(h))),y(n,["functionDeclarations"],d)}let l=p(t,["googleMaps"]);l!=null&&y(n,["googleMaps"],l);let c=p(t,["googleSearch"]);c!=null&&y(n,["googleSearch"],c);let u=p(t,["googleSearchRetrieval"]);u!=null&&y(n,["googleSearchRetrieval"],u);let f=p(t,["urlContext"]);return f!=null&&y(n,["urlContext"],f),n}function Zge(t,e){let n={},r=p(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);let i=p(t,["createTime"]);i!=null&&y(n,["createTime"],i);let s=p(t,["updateTime"]);return s!=null&&y(n,["updateTime"],s),n}function eve(t,e){let n={},r=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&y(n,["baseModel"],r);let i=p(t,["createTime"]);i!=null&&y(n,["createTime"],i);let s=p(t,["updateTime"]);return s!=null&&y(n,["updateTime"],s),n}function tve(t,e,n){let r={},i=p(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);let s=p(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);let o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),r}function nve(t,e,n){let r={},i=p(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);let s=p(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);let o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),r}function rve(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","name"],Kn(t,i));let s=p(e,["config"]);return s!=null&&tve(s,r),r}function ive(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["config"]);return s!=null&&nve(s,r),r}function sve(t,e,n){let r={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);let s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&y(e,["parameters","safetySetting"],s);let o=p(t,["personGeneration"]);e!==void 0&&o!=null&&y(e,["parameters","personGeneration"],o);let a=p(t,["includeRaiReason"]);e!==void 0&&a!=null&&y(e,["parameters","includeRaiReason"],a);let l=p(t,["outputMimeType"]);e!==void 0&&l!=null&&y(e,["parameters","outputOptions","mimeType"],l);let c=p(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&y(e,["parameters","outputOptions","compressionQuality"],c);let u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],u);let f=p(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],f);let d=p(t,["labels"]);e!==void 0&&d!=null&&y(e,["labels"],d);let h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&y(e,["parameters","sampleCount"],h);let g=p(t,["mode"]);return e!==void 0&&g!=null&&y(e,["parameters","mode"],g),r}function ove(t,e,n){let r={},i=p(e,["model"]);i!=null&&y(r,["_url","model"],Kn(t,i));let s=p(e,["image"]);s!=null&&y(r,["instances[0]","image"],Pl(s));let o=p(e,["upscaleFactor"]);o!=null&&y(r,["parameters","upscaleConfig","upscaleFactor"],o);let a=p(e,["config"]);return a!=null&&sve(a,r),r}function ave(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>dC(o))),y(n,["generatedImages"],s)}return n}function lve(t,e){let n={},r=p(t,["uri"]);r!=null&&y(n,["uri"],r);let i=p(t,["encodedVideo"]);i!=null&&y(n,["videoBytes"],Kf(i));let s=p(t,["encoding"]);return s!=null&&y(n,["mimeType"],s),n}function cve(t,e){let n={},r=p(t,["gcsUri"]);r!=null&&y(n,["uri"],r);let i=p(t,["bytesBase64Encoded"]);i!=null&&y(n,["videoBytes"],Kf(i));let s=p(t,["mimeType"]);return s!=null&&y(n,["mimeType"],s),n}function uve(t,e){let n={},r=p(t,["image"]);r!=null&&y(n,["_self"],Pl(r));let i=p(t,["maskMode"]);return i!=null&&y(n,["maskMode"],i),n}function fve(t,e){let n={},r=p(t,["image"]);r!=null&&y(n,["image"],hC(r));let i=p(t,["referenceType"]);return i!=null&&y(n,["referenceType"],i),n}function dve(t,e){let n={},r=p(t,["image"]);r!=null&&y(n,["image"],Pl(r));let i=p(t,["referenceType"]);return i!=null&&y(n,["referenceType"],i),n}function kH(t,e){let n={},r=p(t,["uri"]);r!=null&&y(n,["uri"],r);let i=p(t,["videoBytes"]);i!=null&&y(n,["encodedVideo"],Kf(i));let s=p(t,["mimeType"]);return s!=null&&y(n,["encoding"],s),n}function NH(t,e){let n={},r=p(t,["uri"]);r!=null&&y(n,["gcsUri"],r);let i=p(t,["videoBytes"]);i!=null&&y(n,["bytesBase64Encoded"],Kf(i));let s=p(t,["mimeType"]);return s!=null&&y(n,["mimeType"],s),n}function hve(t,e){let n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function pve(t){let e={},n=p(t,["config"]);return n!=null&&hve(n,e),e}function mve(t,e){let n={},r=p(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function gve(t){let e={},n=p(t,["name"]);n!=null&&y(e,["_url","name"],n);let r=p(t,["config"]);return r!=null&&mve(r,e),e}function vve(t){let e={},n=p(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function yve(t,e){let n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),y(e,["customMetadata"],s)}let i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function _ve(t){let e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);let r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);let i=p(t,["done"]);i!=null&&y(e,["done"],i);let s=p(t,["error"]);s!=null&&y(e,["error"],s);let o=p(t,["response"]);return o!=null&&y(e,["response"],wve(o)),e}function xve(t){let e={},n=p(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);let r=p(t,["fileName"]);r!=null&&y(e,["fileName"],r);let i=p(t,["config"]);return i!=null&&yve(i,e),e}function wve(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["parent"]);r!=null&&y(e,["parent"],r);let i=p(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function Eve(t,e){let n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);let i=p(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Sve(t){let e={},n=p(t,["config"]);return n!=null&&Eve(n,e),e}function Cve(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);let i=p(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),y(e,["fileSearchStores"],s)}return e}function MH(t,e){let n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);let i=p(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);let s=p(t,["customMetadata"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["customMetadata"],a)}let o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&y(e,["chunkingConfig"],o),n}function bve(t){let e={},n=p(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);let r=p(t,["config"]);return r!=null&&MH(r,e),e}function Tve(t){let e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}var Ave="Content-Type",Ive="X-Server-Timeout",Dve="User-Agent",oP="x-goog-api-client",kve="1.39.0",Nve=`google-genai-sdk/${kve}`,Mve="v1beta1",Pve="v1beta",aP=class{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));let s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");let a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Mve}else{if(!this.clientOptions.apiKey)throw new Ny({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Pve,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){let e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){let i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===fH.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(let[o,a]of Object.entries(e.queryParams))i.searchParams.append(o,String(a));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){let r=JSON.parse(JSON.stringify(e));for(let[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){let s=new AbortController,o=s.signal;if(n.timeout&&n?.timeout>0){let a=setTimeout(()=>s.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&Fve(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await KU(i),new ky(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await KU(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return kl(this,arguments,function*(){var r;let i=(r=e?.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="",a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:c,value:u}=yield an(i.read());if(c){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let f=s.decode(u,{stream:!0});try{let g=JSON.parse(f);if("error"in g){let v=JSON.parse(JSON.stringify(g.error)),x=v.status,_=v.code,E=`got status: ${x}. ${JSON.stringify(g)}`;if(_>=400&&_<600)throw new Ny({message:E,status:_})}}catch(g){if(g.name==="ApiError")throw g}o+=f;let d=-1,h=0;for(;;){d=-1,h=0;for(let x of l){let _=o.indexOf(x);_!==-1&&(d===-1||_<d)&&(d=_,h=x.length)}if(d===-1)break;let g=o.substring(0,d);o=o.substring(d+h);let v=g.trim();if(v.startsWith(a)){let x=v.substring(a.length).trim();try{let _=new Response(x,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield an(new ky(_))}catch(_){throw new Error(`exception parsing stream chunk ${x}. ${_}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){let e={},n=Nve+" "+this.clientOptions.userAgentExtra;return e[Dve]=n,e[oP]=n,e[Ave]="application/json",e}async getHeadersInternal(e,n){let r=new Headers;if(e&&e.headers){for(let[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(Ive,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;let i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);let s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);let a=(r=n?.mimeType)!==null&&r!==void 0?r:o.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;let l={file:i},c=this.getFileName(e),u=xt("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(u,i.sizeBytes,i.mimeType,c,l,n?.httpOptions);return s.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;let s=this.clientOptions.uploader,o=await s.stat(n),a=String(o.size),l=(i=r?.mimeType)!==null&&i!==void 0?i:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let c=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(n),f={};r!=null&&MH(r,f);let d=await this.fetchUploadUrl(c,a,l,u,f,r?.httpOptions);return s.uploadToFileSearchStore(n,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var a;let l={};o?l=o:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};let c=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!c||!c?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let u=(a=c?.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}};async function KU(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};let i=JSON.stringify(r);throw n>=400&&n<600?new Ny({message:i,status:n}):new Error(i)}}function Fve(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){let a=Object.assign({},s);for(let l in o)if(Object.prototype.hasOwnProperty.call(o,l)){let c=o[l],u=a[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?a[l]=r(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),a[l]=c)}return a}let i=r(n,e);t.body=JSON.stringify(i)}var Rve="mcp_used/unknown",Lve=!1;function PH(t){for(let e of t)if(Ove(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Lve}function FH(t){var e;let n=(e=t[oP])!==null&&e!==void 0?e:"";t[oP]=(n+` ${Rve}`).trimStart()}function Ove(t){return t!==null&&typeof t=="object"&&t instanceof lP}function Bve(t){return kl(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){let o=yield an(n.listTools({cursor:i}));for(let a of o.tools)yield yield an(a),s++;if(!o.nextCursor)break;i=o.nextCursor}})}var lP=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;let s={},o=[];for(let u of this.mcpClients)try{for(var a=!0,l=(n=void 0,Nl(Bve(u))),c;c=await l.next(),e=c.done,!e;a=!0){i=c.value,a=!1;let f=i;o.push(f);let d=f.name;if(s[d])throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s[d]=u}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),_pe(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let r of e)if(r.name in this.functionNameToMcpClient){let i=this.functionNameToMcpClient[r.name],s;this.config.timeout&&(s={timeout:this.config.timeout});let o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}};async function Vve(t,e,n){let r=new XM,i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}var cP=class{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=Hve(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${a}`,c=()=>{},u=new Promise(C=>{c=C}),f=e.callbacks,d=function(){c({})},h=this.apiClient,g={onopen:d,onmessage:C=>{Vve(h,f.onmessage,C)},onerror:(n=f?.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=f?.onclose)!==null&&r!==void 0?r:function(C){}},v=this.webSocketFactory.create(l,Uve(o),g);v.connect(),await u;let E={setup:{model:Kn(this.apiClient,e.model)}};return v.send(JSON.stringify(E)),new uP(v,this.apiClient)}},uP=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=hme(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=dme(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){let n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Iy.PLAY)}pause(){this.sendPlaybackControl(Iy.PAUSE)}stop(){this.sendPlaybackControl(Iy.STOP)}resetContext(){this.sendPlaybackControl(Iy.RESET_CONTEXT)}close(){this.conn.close()}};function Uve(t){let e={};return t.forEach((n,r)=>{e[r]=n}),e}function Hve(t){let e=new Headers;for(let[n,r]of Object.entries(t))e.append(n,r);return e}var $ve="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qve(t,e,n){let r=new YM,i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;let s=JSON.parse(i);if(t.isVertexAI()){let o=gme(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}var fP=class{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new cP(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),u,f=this.apiClient.getHeaders();e.config&&e.config.tools&&PH(e.config.tools)&&FH(f);let d=jve(f);if(this.apiClient.isVertexAI()){let O=this.apiClient.getProject(),V=this.apiClient.getLocation(),P=this.apiClient.getApiKey(),M=!!O&&!!V||!!P;this.apiClient.getCustomBaseUrl()&&!M?u=l:(u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,u))}else{let O=this.apiClient.getApiKey(),V="BidiGenerateContent",P="key";O?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",P="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${V}?${P}=${O}`}let h=()=>{},g=new Promise(O=>{h=O}),v=e.callbacks,x=function(){var O;(O=v?.onopen)===null||O===void 0||O.call(v),h({})},_=this.apiClient,E={onopen:x,onmessage:O=>{qve(_,v.onmessage,O)},onerror:(n=v?.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=v?.onclose)!==null&&r!==void 0?r:function(O){}},C=this.webSocketFactory.create(u,Wve(d),E);C.connect(),await g;let D=Kn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){let O=this.apiClient.getProject(),V=this.apiClient.getLocation();O&&V&&(D=`projects/${O}/locations/${V}/`+D)}let A={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[FM.AUDIO]}:e.config.responseModalities=[FM.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let L=(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[],I=[];for(let O of L)if(this.isCallableTool(O)){let V=O;I.push(await V.tool())}else I.push(O);I.length>0&&(e.config.tools=I);let N={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=fme(this.apiClient,N):A=ume(this.apiClient,N),delete A.config,C.send(JSON.stringify(A)),new dP(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},Gve={turnComplete:!0},dP=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Oa(n.turns),e.isVertexAI()||(r=r.map(i=>fC(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(let s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error($ve)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Gve),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:mme(e)}:n={realtimeInput:pme(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function Wve(t){let e={};return t.forEach((n,r)=>{e[r]=n}),e}function jve(t){let e=new Headers;for(let[n,r]of Object.entries(t))e.append(n,r);return e}var JU=10;function QU(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(let o of(n=t?.tools)!==null&&n!==void 0?n:[])if(bm(o)){i=!0;break}if(!i)return!0;let s=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function bm(t){return"callTool"in t&&typeof t.callTool=="function"}function zve(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>bm(i)))!==null&&r!==void 0?r:!1}function ZU(t){var e;let n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(bm(r))return;let s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function eH(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var hP=class extends Ml{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,a;let l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!zve(n)||QU(n.config))return await this.generateContentInternal(l);let c=ZU(n);if(c.length>0){let v=c.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let u,f,d=Oa(l.contents),h=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:JU,g=0;for(;g<h&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){let v=u.candidates[0].content,x=[];for(let _ of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(bm(_)){let C=await _.callTool(u.functionCalls);x.push(...C)}g++,f={role:"user",parts:x},l.contents=Oa(l.contents),l.contents.push(v),l.contents.push(f),eH(l.config)&&(d.push(v),d.push(f))}return eH(l.config)&&(u.automaticFunctionCallingHistory=d),u},this.generateContentStream=async n=>{var r,i,s,o,a;if(this.maybeMoveToResponseJsonSchem(n),QU(n.config)){let f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}let l=ZU(n);if(l.length>0){let f=l.map(d=>`tools[${d}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let c=(s=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,u=(a=(o=n?.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(c&&!u)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s,o=[];if(r?.generatedImages)for(let l of r.generatedImages)l&&l?.safetyAttributes&&((i=l?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l?.safetyAttributes:o.push(l);let a;return s?a={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;let o={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Iu(Jf.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(o),o)},this.editImage=async n=>{let r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));let i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;let s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;let o=await Promise.all(s.map(async l=>bm(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&PH(e.config.tools)){let l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{},c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),FH(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var n,r,i;let s=new Map;for(let o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(bm(o)){let a=o,l=await a.tool();for(let c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,a)}}return s}async processAfcStream(e){var n,r,i;let s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:JU,o=!1,a=0,l=await this.initAfcToolsMap(e);return(function(c,u,f){return kl(this,arguments,function*(){for(var d,h,g,v,x,_;a<s;){o&&(a++,o=!1);let A=yield an(c.processParamsMaybeAddMcpUsage(f)),L=yield an(c.generateContentStreamInternal(A)),I=[],N=[];try{for(var E=!0,C=(h=void 0,Nl(L)),D;D=yield an(C.next()),d=D.done,!d;E=!0){v=D.value,E=!1;let O=v;if(yield yield an(O),O.candidates&&(!((x=O.candidates[0])===null||x===void 0)&&x.content)){N.push(O.candidates[0].content);for(let V of(_=O.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(a<s&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(V.functionCall.name)){let P=yield an(u.get(V.functionCall.name).callTool([V.functionCall]));I.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(O){h={error:O}}finally{try{!E&&!d&&(g=C.return)&&(yield an(g.call(C)))}finally{if(h)throw h.error}}if(I.length>0){o=!0;let O=new $h;O.candidates=[{content:{role:"user",parts:I}}],yield yield an(O);let V=[];V.push(...N),V.push({role:"user",parts:I});let P=Oa(f.contents).concat(V);f.contents=P}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=zU(this.apiClient,e);return a=xt("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=XU(u),d=new $h;return Object.assign(d,f),d})}else{let c=jU(this.apiClient,e);return a=xt("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=YU(u),d=new $h;return Object.assign(d,f),d})}}async generateContentStreamInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=zU(this.apiClient,e);return a=xt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return kl(this,arguments,function*(){var d,h,g,v;try{for(var x=!0,_=Nl(f),E;E=yield an(_.next()),d=E.done,!d;x=!0){v=E.value,x=!1;let C=v,D=XU(yield an(C.json()),e);D.sdkHttpResponse={headers:C.headers};let A=new $h;Object.assign(A,D),yield yield an(A)}}catch(C){h={error:C}}finally{try{!x&&!d&&(g=_.return)&&(yield an(g.call(_)))}finally{if(h)throw h.error}}})})}else{let c=jU(this.apiClient,e);return a=xt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(f){return kl(this,arguments,function*(){var d,h,g,v;try{for(var x=!0,_=Nl(f),E;E=yield an(_.next()),d=E.done,!d;x=!0){v=E.value,x=!1;let C=v,D=YU(yield an(C.json()),e);D.sdkHttpResponse={headers:C.headers};let A=new $h;Object.assign(A,D),yield yield an(A)}}catch(C){h={error:C}}finally{try{!x&&!d&&(g=_.return)&&(yield an(g.call(_)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=zme(this.apiClient,e);return a=xt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=Xme(u),d=new BS;return Object.assign(d,f),d})}else{let c=jme(this.apiClient,e);return a=xt("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=Yme(u),d=new BS;return Object.assign(d,f),d})}}async generateImagesInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=oge(this.apiClient,e);return a=xt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=lge(u),d=new VS;return Object.assign(d,f),d})}else{let c=sge(this.apiClient,e);return a=xt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=age(u),d=new VS;return Object.assign(d,f),d})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=$me(this.apiClient,e);return s=xt("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{let c=qme(l),u=new RM;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=ove(this.apiClient,e);return s=xt("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{let c=ave(l),u=new LM;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=Hge(this.apiClient,e);return s=xt("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=$ge(l),u=new OM;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=Yge(this.apiClient,e);return s=xt("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=Xge(l),u=new BM;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=bge(this.apiClient,e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>sP(u))}else{let c=Cge(this.apiClient,e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>iP(u))}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=Fge(this.apiClient,e);return a=xt("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=Lge(u),d=new US;return Object.assign(d,f),d})}else{let c=Pge(this.apiClient,e);return a=xt("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=Rge(u),d=new US;return Object.assign(d,f),d})}}async update(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=ive(this.apiClient,e);return a=xt("{model}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>sP(u))}else{let c=rve(this.apiClient,e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>iP(u))}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=Bme(this.apiClient,e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=Ume(u),d=new HS;return Object.assign(d,f),d})}else{let c=Ome(this.apiClient,e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=Vme(u),d=new HS;return Object.assign(d,f),d})}}async countTokens(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=Fme(this.apiClient,e);return a=xt("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=Lme(u),d=new $S;return Object.assign(d,f),d})}else{let c=Pme(this.apiClient,e);return a=xt("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=Rme(u),d=new $S;return Object.assign(d,f),d})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=Tme(this.apiClient,e);return s=xt("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{let c=Ame(l),u=new VM;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=pge(this.apiClient,e);return a=xt("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{let f=dge(u),d=new qS;return Object.assign(d,f),d})}else{let c=hge(this.apiClient,e);return a=xt("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>{let f=fge(u),d=new qS;return Object.assign(d,f),d})}}};var pP=class extends Ml{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let i=n.name.split("/operations/")[0],s;r&&"httpOptions"in r&&(s=r.httpOptions);let o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{let i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){let n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let i=n.name.split("/operations/")[0],s;r&&"httpOptions"in r&&(s=r.httpOptions);let o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{let i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=ope(e);return a=xt("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o}else{let c=spe(e);return a=xt("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=Qhe(e);return s=xt("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}};function Yve(t){let e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Xve(t){let e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>i1e(s))),y(e,["parts"],i)}let r=p(t,["role"]);return r!=null&&y(e,["role"],r),e}function Kve(t,e,n){let r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);let s=p(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&y(n,["newSessionExpireTime"],s);let o=p(e,["uses"]);n!==void 0&&o!=null&&y(n,["uses"],o);let a=p(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&y(n,["bidiGenerateContentSetup"],r1e(t,a));let l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&y(n,["fieldMask"],l),r}function Jve(t,e){let n={},r=p(e,["config"]);return r!=null&&y(n,["config"],Kve(t,r,n)),n}function Qve(t){let e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);let r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Zve(t){let e={},n=p(t,["id"]);n!=null&&y(e,["id"],n);let r=p(t,["args"]);r!=null&&y(e,["args"],r);let i=p(t,["name"]);if(i!=null&&y(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function e1e(t){let e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function t1e(t){let e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function n1e(t,e){let n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);let i=p(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);let s=p(t,["temperature"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","temperature"],s);let o=p(t,["topP"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","topP"],o);let a=p(t,["topK"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","topK"],a);let l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","maxOutputTokens"],l);let c=p(t,["mediaResolution"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","mediaResolution"],c);let u=p(t,["seed"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","seed"],u);let f=p(t,["speechConfig"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","speechConfig"],LP(f));let d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","thinkingConfig"],d);let h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],h);let g=p(t,["systemInstruction"]);e!==void 0&&g!=null&&y(e,["setup","systemInstruction"],Xve(Ms(g)));let v=p(t,["tools"]);if(e!==void 0&&v!=null){let L=Dm(v);Array.isArray(L)&&(L=L.map(I=>o1e(Im(I)))),y(e,["setup","tools"],L)}let x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&y(e,["setup","sessionResumption"],s1e(x));let _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&y(e,["setup","inputAudioTranscription"],_);let E=p(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&y(e,["setup","outputAudioTranscription"],E);let C=p(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&y(e,["setup","realtimeInputConfig"],C);let D=p(t,["contextWindowCompression"]);e!==void 0&&D!=null&&y(e,["setup","contextWindowCompression"],D);let A=p(t,["proactivity"]);if(e!==void 0&&A!=null&&y(e,["setup","proactivity"],A),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function r1e(t,e){let n={},r=p(e,["model"]);r!=null&&y(n,["setup","model"],Kn(t,r));let i=p(e,["config"]);return i!=null&&y(n,["config"],n1e(i,n)),n}function i1e(t){let e={},n=p(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);let r=p(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);let i=p(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);let s=p(t,["fileData"]);s!=null&&y(e,["fileData"],Qve(s));let o=p(t,["functionCall"]);o!=null&&y(e,["functionCall"],Zve(o));let a=p(t,["functionResponse"]);a!=null&&y(e,["functionResponse"],a);let l=p(t,["inlineData"]);l!=null&&y(e,["inlineData"],Yve(l));let c=p(t,["text"]);c!=null&&y(e,["text"],c);let u=p(t,["thought"]);u!=null&&y(e,["thought"],u);let f=p(t,["thoughtSignature"]);f!=null&&y(e,["thoughtSignature"],f);let d=p(t,["videoMetadata"]);return d!=null&&y(e,["videoMetadata"],d),e}function s1e(t){let e={},n=p(t,["handle"]);if(n!=null&&y(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function o1e(t){let e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=p(t,["computerUse"]);n!=null&&y(e,["computerUse"],n);let r=p(t,["fileSearch"]);r!=null&&y(e,["fileSearch"],r);let i=p(t,["codeExecution"]);if(i!=null&&y(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=p(t,["functionDeclarations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),y(e,["functionDeclarations"],u)}let o=p(t,["googleMaps"]);o!=null&&y(e,["googleMaps"],e1e(o));let a=p(t,["googleSearch"]);a!=null&&y(e,["googleSearch"],t1e(a));let l=p(t,["googleSearchRetrieval"]);l!=null&&y(e,["googleSearchRetrieval"],l);let c=p(t,["urlContext"]);return c!=null&&y(e,["urlContext"],c),e}function a1e(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){let i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function l1e(t,e){let n=null,r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){let s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;let i=t.fieldMask;if(n){let s=a1e(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)s?t.fieldMask=s:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){let o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],a=[];i.length>0&&(a=i.map(c=>o.includes(c)?`generationConfig.${c}`:c));let l=[];s&&l.push(s),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}var mP=class extends Ml{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let a=Jve(this.apiClient,e);s=xt("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;let l=l1e(a,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}};function c1e(t,e){let n={},r=p(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function u1e(t){let e={},n=p(t,["name"]);n!=null&&y(e,["_url","name"],n);let r=p(t,["config"]);return r!=null&&c1e(r,e),e}function f1e(t){let e={},n=p(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function d1e(t,e){let n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);let i=p(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function h1e(t){let e={},n=p(t,["parent"]);n!=null&&y(e,["_url","parent"],n);let r=p(t,["config"]);return r!=null&&d1e(r,e),e}function p1e(t){let e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);let r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);let i=p(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),y(e,["documents"],s)}return e}var gP=class extends Ml{constructor(e){super(),this.apiClient=e,this.list=async n=>new Iu(Jf.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=f1e(e);return s=xt("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let o=u1e(e);i=xt("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=h1e(e);return s=xt("{parent}/documents",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=p1e(l),u=new UM;return Object.assign(u,c),u})}}};var vP=class extends Ml{constructor(e,n=new gP(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Iu(Jf.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=pve(e);return s=xt("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=vve(e);return s=xt("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let o=gve(e);i=xt("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Sve(e);return s=xt("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=Cve(l),u=new HM;return Object.assign(u,c),u})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=bve(e);return s=xt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=Tve(l),u=new $M;return Object.assign(u,c),u})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=xve(e);return s=xt("{file_search_store_name}:importFile",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{let c=_ve(l),u=new qM;return Object.assign(u,c),u})}}};var RH=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return RH=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))},m1e=()=>RH();function yP(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var _P=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var Po=class extends Error{},Fo=class t extends Po{constructor(e,n,r,i){super(`${t.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){let i=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Tm({message:r,cause:_P(n)});let s=n;return e===400?new QS(e,s,r,i):e===401?new ZS(e,s,r,i):e===403?new eC(e,s,r,i):e===404?new tC(e,s,r,i):e===409?new nC(e,s,r,i):e===422?new rC(e,s,r,i):e===429?new iC(e,s,r,i):e>=500?new sC(e,s,r,i):new t(e,s,r,i)}},My=class extends Fo{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Tm=class extends Fo{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},JS=class extends Tm{constructor({message:e}={}){super({message:e??"Request timed out."})}},QS=class extends Fo{},ZS=class extends Fo{},eC=class extends Fo{},tC=class extends Fo{},nC=class extends Fo{},rC=class extends Fo{},iC=class extends Fo{},sC=class extends Fo{};var g1e=/^[a-z][a-z0-9+.-]*:/i,v1e=t=>g1e.test(t),xP=t=>(xP=Array.isArray,xP(t)),y1e=xP,_1e=y1e,tH=_1e;function x1e(t){if(!t)return!0;for(let e in t)return!1;return!0}function w1e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var E1e=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Po(`${t} must be an integer`);if(e<0)throw new Po(`${t} must be a positive integer`);return e},S1e=t=>{try{return JSON.parse(t)}catch{return}};var C1e=t=>new Promise(e=>setTimeout(e,t));var Sm="0.0.1";function b1e(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var T1e=()=>{var t,e,n,r,i;let s=b1e();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sm,"X-Stainless-OS":rH(Deno.build.os),"X-Stainless-Arch":nH(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sm,"X-Stainless-OS":rH((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":nH((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};let o=A1e();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function A1e(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:n}of t){let r=n.exec(navigator.userAgent);if(r){let i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}var nH=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",rH=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),NS,I1e=()=>NS??(NS=T1e());function D1e(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function LH(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function k1e(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return LH({start(){},async pull(n){let{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function OH(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){let n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function N1e(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}let r=t.getReader(),i=r.cancel();r.releaseLock(),await i}var M1e=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var BH=()=>{var t;if(typeof File>"u"){let{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function kM(t,e,n){return BH(),new File(t,e??"unknown_file",n)}function P1e(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var F1e=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var VH=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",R1e=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&VH(t),L1e=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function O1e(t,e,n){if(BH(),t=await t,R1e(t))return t instanceof File?t:kM([await t.arrayBuffer()],t.name);if(L1e(t)){let i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),kM(await wP(i),e,n)}let r=await wP(t);if(e||(e=P1e(t)),!n?.type){let i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return kM(r,e,n)}async function wP(t){var e,n,r,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(VH(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(F1e(t))try{for(var a=!0,l=Nl(t),c;c=await l.next(),e=c.done,!e;a=!0){i=c.value,a=!1;let u=i;o.push(...await wP(u))}}catch(u){n={error:u}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{let u=(s=t?.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${u?`; constructor: ${u}`:""}${B1e(t)}`)}return o}function B1e(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}var V1e=(()=>{class t{constructor(n){this._client=n}}t._key=[];return t})();function UH(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var iH=Object.freeze(Object.create(null)),U1e=(t=UH)=>function(n,...r){if(n.length===1)return n[0];let i=!1,s=[],o=n.reduce((u,f,d)=>{var h,g,v;/[?#]/.test(f)&&(i=!0);let x=r[d],_=(i?encodeURIComponent:t)(""+x);return d!==r.length&&(x==null||typeof x=="object"&&x.toString===((v=Object.getPrototypeOf((g=Object.getPrototypeOf((h=x.hasOwnProperty)!==null&&h!==void 0?h:iH))!==null&&g!==void 0?g:iH))===null||v===void 0?void 0:v.toString))&&(_=x+"",s.push({start:u.length+f.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),u+f+(d===r.length?"":_)},""),a=o.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,c;for(;(c=l.exec(a))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((u,f)=>u.start-f.start),s.length>0){let u=0,f=s.reduce((d,h)=>{let g=" ".repeat(h.start-u),v="^".repeat(h.length);return u=h.start+h.length,d+g+v},"");throw new Po(`Path parameters result in path with invalid segments:
${s.map(d=>d.error).join(`
`)}
${o}
${f}`)}return o},MS=U1e(UH);var oC=class extends V1e{create(e,n){var r;let{api_version:i=this._client.apiVersion}=e,s=KS(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Po("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Po("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(MS`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){let{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(MS`/${i}/interactions/${e}`,r)}cancel(e,n={},r){let{api_version:i=this._client.apiVersion}=n??{};return this._client.post(MS`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;let s=n??{},{api_version:o=this._client.apiVersion}=s,a=KS(s,["api_version"]);return this._client.get(MS`/${o}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n?.stream)!==null&&i!==void 0?i:!1}))}};oC._key=Object.freeze(["interactions"]);var aC=class extends oC{};function H1e(t){let e=0;for(let i of t)e+=i.length;let n=new Uint8Array(e),r=0;for(let i of t)n.set(i,r),r+=i.length;return n}var PS;function OP(t){let e;return(PS??(e=new globalThis.TextEncoder,PS=e.encode.bind(e)))(t)}var FS;function sH(t){let e;return(FS??(e=new globalThis.TextDecoder,FS=e.decode.bind(e)))(t)}var Am=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];let n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?OP(e):e;this.buffer=H1e([this.buffer,n]);let r=[],i;for(;(i=$1e(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(sH(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=sH(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}};Am.NEWLINE_CHARS=new Set([`
`,"\r"]);Am.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function $1e(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function q1e(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}var lC={off:0,error:200,warn:300,info:400,debug:500},oH=(t,e,n)=>{if(t){if(w1e(lC,t))return t;lo(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(lC))}`)}};function Dy(){}function RS(t,e,n){return!e||lC[t]>lC[n]?Dy:e[t].bind(e)}var G1e={error:Dy,warn:Dy,info:Dy,debug:Dy},aH=new WeakMap;function lo(t){var e;let n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return G1e;let i=aH.get(n);if(i&&i[0]===r)return i[1];let s={error:RS("error",n,r),warn:RS("warn",n,r),info:RS("info",n,r),debug:RS("debug",n,r)};return aH.set(n,[r,s]),s}var Hh=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var EP=class t{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1,s=r?lo(r):console;function o(){return kl(this,arguments,function*(){var l,c,u,f;if(i)throw new Po("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let d=!1;try{try{for(var h=!0,g=Nl(W1e(e,n)),v;v=yield an(g.next()),l=v.done,!l;h=!0){f=v.value,h=!1;let x=f;if(!d)if(x.data.startsWith("[DONE]")){d=!0;continue}else try{yield yield an(JSON.parse(x.data))}catch(_){throw s.error("Could not parse message into JSON:",x.data),s.error("From chunk:",x.raw),_}}}catch(x){c={error:x}}finally{try{!h&&!l&&(u=g.return)&&(yield an(u.call(g)))}finally{if(c)throw c.error}}d=!0}catch(x){if(yP(x))return yield an(void 0);throw x}finally{d||n.abort()}})}return new t(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return kl(this,arguments,function*(){var l,c,u,f;let d=new Am,h=OH(e);try{for(var g=!0,v=Nl(h),x;x=yield an(v.next()),l=x.done,!l;g=!0){f=x.value,g=!1;let _=f;for(let E of d.decode(_))yield yield an(E)}}catch(_){c={error:_}}finally{try{!g&&!l&&(u=v.return)&&(yield an(u.call(v)))}finally{if(c)throw c.error}}for(let _ of d.flush())yield yield an(_)})}function o(){return kl(this,arguments,function*(){var l,c,u,f;if(i)throw new Po("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let d=!1;try{try{for(var h=!0,g=Nl(s()),v;v=yield an(g.next()),l=v.done,!l;h=!0){f=v.value,h=!1;let x=f;d||x&&(yield yield an(JSON.parse(x)))}}catch(x){c={error:x}}finally{try{!h&&!l&&(u=g.return)&&(yield an(u.call(g)))}finally{if(c)throw c.error}}d=!0}catch(x){if(yP(x))return yield an(void 0);throw x}finally{d||n.abort()}})}return new t(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){let o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new t(()=>i(e),this.controller,this.client),new t(()=>i(n),this.controller,this.client)]}toReadableStream(){let e=this,n;return LH({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{let{value:i,done:s}=await n.next();if(s)return r.close();let o=OP(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}};function W1e(t,e){return kl(this,arguments,function*(){var r,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Po("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Po("Attempted to iterate over a response with no body");let a=new SP,l=new Am,c=OH(t.body);try{for(var u=!0,f=Nl(j1e(c)),d;d=yield an(f.next()),r=d.done,!r;u=!0){o=d.value,u=!1;let h=o;for(let g of l.decode(h)){let v=a.decode(g);v&&(yield yield an(v))}}}catch(h){i={error:h}}finally{try{!u&&!r&&(s=f.return)&&(yield an(s.call(f)))}finally{if(i)throw i.error}}for(let h of l.flush()){let g=a.decode(h);g&&(yield yield an(g))}})}function j1e(t){return kl(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var a=!0,l=Nl(t),c;c=yield an(l.next()),n=c.done,!n;a=!0){s=c.value,a=!1;let u=s;if(u==null)continue;let f=u instanceof ArrayBuffer?new Uint8Array(u):typeof u=="string"?OP(u):u,d=new Uint8Array(o.length+f.length);d.set(o),d.set(f,o.length),o=d;let h;for(;(h=q1e(o))!==-1;)yield yield an(o.slice(0,h)),o=o.slice(h)}}catch(u){r={error:u}}finally{try{!a&&!n&&(i=l.return)&&(yield an(i.call(l)))}finally{if(r)throw r.error}}o.length>0&&(yield yield an(o))})}var SP=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=z1e(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}};function z1e(t,e){let n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function Y1e(t,e){let{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var a;if(e.options.stream)return lo(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):EP.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;let l=n.headers.get("content-type"),c=(a=l?.split(";")[0])===null||a===void 0?void 0:a.trim();return c?.includes("application/json")||c?.endsWith("+json")?await n.json():await n.text()})();return lo(t).debug(`[${r}] response parsed`,Hh({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}var CP=class t extends Promise{constructor(e,n,r=Y1e){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new t(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};var HH=Symbol("brand.privateNullableHeaders");function*X1e(t){if(!t)return;if(HH in t){let{values:r,nulls:i}=t;yield*r.entries();for(let s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():tH(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){let i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");let s=tH(r[1])?r[1]:[r[1]],o=!1;for(let a of s)a!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,a])}}var Ay=t=>{let e=new Headers,n=new Set;for(let r of t){let i=new Set;for(let[s,o]of X1e(r)){let a=s.toLowerCase();i.has(a)||(e.delete(s),i.add(a)),o===null?(e.delete(s),n.add(a)):(e.append(s,o),n.delete(a))}}return{[HH]:!0,values:e,nulls:n}};var NM=t=>{var e,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(e=globalThis.process.env)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};var $H,K1e=(()=>{class t{constructor(n){var r,i,s,o,a,l,c,{baseURL:u=NM("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(r=NM("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:d="v1beta"}=n,h=KS(n,["baseURL","apiKey","apiVersion"]);let g=Object.assign(Object.assign({apiKey:f,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(i=g.timeout)!==null&&i!==void 0?i:t.DEFAULT_TIMEOUT,this.logger=(s=g.logger)!==null&&s!==void 0?s:console;let v="warn";this.logLevel=v,this.logLevel=(a=(o=oH(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:oH(NM("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=g.fetchOptions,this.maxRetries=(l=g.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=g.fetch)!==null&&c!==void 0?c:D1e(),this.encoder=M1e,this._options=g,this.apiKey=f,this.apiVersion=d,this.clientAdapter=g.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:r}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){let r=Ay([n.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return Ay([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ay([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([r,i])=>typeof i<"u").map(([r,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(r)}=`;throw new Po(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Sm}`}defaultIdempotencyKey(){return`stainless-node-retry-${m1e()}`}makeStatusError(n,r,i,s){return Fo.generate(n,r,i,s)}buildURL(n,r,i){let s=!this.baseURLOverridden()&&i||this.baseURL,o=v1e(n)?new URL(n):new URL(s+(s.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),a=this.defaultQuery();return x1e(a)||(r=Object.assign(Object.assign({},a),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){let r=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(n,{url:r,options:i}){}get(n,r){return this.methodRequest("get",n,r)}post(n,r){return this.methodRequest("post",n,r)}patch(n,r){return this.methodRequest("patch",n,r)}put(n,r){return this.methodRequest("put",n,r)}delete(n,r){return this.methodRequest("delete",n,r)}methodRequest(n,r,i){return this.request(Promise.resolve(i).then(s=>Object.assign({method:n,path:r},s)))}request(n,r=null){return new CP(this,this.makeRequest(n,r,void 0))}async makeRequest(n,r,i){var s,o,a;let l=await n,c=(s=l.maxRetries)!==null&&s!==void 0?s:this.maxRetries;r==null&&(r=c),await this.prepareOptions(l);let{req:u,url:f,timeout:d}=await this.buildRequest(l,{retryCount:c-r});await this.prepareRequest(u,{url:f,options:l});let h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=i===void 0?"":`, retryOf: ${i}`,v=Date.now();if(lo(this).debug(`[${h}] sending request`,Hh({retryOfRequestLogID:i,method:l.method,url:f,options:l,headers:u.headers})),!((o=l.signal)===null||o===void 0)&&o.aborted)throw new My;let x=new AbortController,_=await this.fetchWithTimeout(f,u,d,x).catch(_P),E=Date.now();if(_ instanceof globalThis.Error){let D=`retrying, ${r} attempts remaining`;if(!((a=l.signal)===null||a===void 0)&&a.aborted)throw new My;let A=yP(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(r)return lo(this).info(`[${h}] connection ${A?"timed out":"failed"} - ${D}`),lo(this).debug(`[${h}] connection ${A?"timed out":"failed"} (${D})`,Hh({retryOfRequestLogID:i,url:f,durationMs:E-v,message:_.message})),this.retryRequest(l,r,i??h);throw lo(this).info(`[${h}] connection ${A?"timed out":"failed"} - error; no more retries left`),lo(this).debug(`[${h}] connection ${A?"timed out":"failed"} (error; no more retries left)`,Hh({retryOfRequestLogID:i,url:f,durationMs:E-v,message:_.message})),A?new JS:new Tm({cause:_})}let C=`[${h}${g}] ${u.method} ${f} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${E-v}ms`;if(!_.ok){let D=await this.shouldRetry(_);if(r&&D){let V=`retrying, ${r} attempts remaining`;return await N1e(_.body),lo(this).info(`${C} - ${V}`),lo(this).debug(`[${h}] response error (${V})`,Hh({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:E-v})),this.retryRequest(l,r,i??h,_.headers)}let A=D?"error; no more retries left":"error; not retryable";lo(this).info(`${C} - ${A}`);let L=await _.text().catch(V=>_P(V).message),I=S1e(L),N=I?void 0:L;throw lo(this).debug(`[${h}] response error (${A})`,Hh({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,message:N,durationMs:Date.now()-v})),this.makeStatusError(_.status,I,N,_.headers)}return lo(this).info(C),lo(this).debug(`[${h}] response start`,Hh({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:E-v})),{response:_,options:l,controller:x,requestLogID:h,retryOfRequestLogID:i,startTime:v}}async fetchWithTimeout(n,r,i,s){let o=r||{},{signal:a,method:l}=o,c=KS(o,["signal","method"]);a&&a.addEventListener("abort",()=>s.abort());let u=setTimeout(()=>s.abort(),i),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,d=Object.assign(Object.assign(Object.assign({signal:s.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);l&&(d.method=l.toUpperCase());try{return await this.fetch.call(void 0,n,d)}finally{clearTimeout(u)}}async shouldRetry(n){let r=n.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,r,i,s){var o;let a,l=s?.get("retry-after-ms");if(l){let u=parseFloat(l);Number.isNaN(u)||(a=u)}let c=s?.get("retry-after");if(c&&!a){let u=parseFloat(c);Number.isNaN(u)?a=Date.parse(c)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){let u=(o=n.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(r,u)}return await C1e(a),this.makeRequest(n,r-1,i)}calculateDefaultRetryTimeoutMillis(n,r){let o=r-n,a=Math.min(.5*Math.pow(2,o),8),l=1-Math.random()*.25;return a*l*1e3}async buildRequest(n,{retryCount:r=0}={}){var i,s,o;let a=Object.assign({},n),{method:l,path:c,query:u,defaultBaseURL:f}=a,d=this.buildURL(c,u,f);"timeout"in a&&E1e("timeout",a.timeout),a.timeout=(i=a.timeout)!==null&&i!==void 0?i:this.timeout;let{bodyHeaders:h,body:g}=this.buildBody({options:a}),v=await this.buildHeaders({options:n,method:l,bodyHeaders:h,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:a.timeout}}async buildHeaders({options:n,method:r,bodyHeaders:i,retryCount:s}){let o={};this.idempotencyHeader&&r!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=n.idempotencyKey);let a=await this.authHeaders(n),l=Ay([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),I1e()),this._options.defaultHeaders,i,n.headers,a]);return this.validateHeaders(l),l.values}buildBody({options:{body:n,headers:r}}){if(!n)return{bodyHeaders:void 0,body:void 0};let i=Ay([r]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&i.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:k1e(n)}:this.encoder({body:n,headers:i})}}return t.DEFAULT_TIMEOUT=6e4,t})(),Ii=class extends K1e{constructor(){super(...arguments),this.interactions=new aC(this)}};$H=Ii;Ii.GeminiNextGenAPIClient=$H;Ii.GeminiNextGenAPIClientError=Po;Ii.APIError=Fo;Ii.APIConnectionError=Tm;Ii.APIConnectionTimeoutError=JS;Ii.APIUserAbortError=My;Ii.NotFoundError=tC;Ii.ConflictError=nC;Ii.RateLimitError=iC;Ii.BadRequestError=QS;Ii.AuthenticationError=ZS;Ii.InternalServerError=sC;Ii.PermissionDeniedError=eC;Ii.UnprocessableEntityError=rC;Ii.toFile=O1e;Ii.Interactions=aC;function J1e(t,e){let n={},r=p(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Q1e(t,e){let n={},r=p(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Z1e(t,e){let n={},r=p(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function eye(t,e){let n={},r=p(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function tye(t,e,n){let r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let s=p(t,["epochCount"]);e!==void 0&&s!=null&&y(e,["tuningTask","hyperparameters","epochCount"],s);let o=p(t,["learningRateMultiplier"]);if(o!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(p(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(p(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");let a=p(t,["batchSize"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","batchSize"],a);let l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&y(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(p(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(p(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(p(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(p(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function nye(t,e,n){let r={},i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let A=p(t,["validationDataset"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec"],MM(A))}else if(i==="PREFERENCE_TUNING"){let A=p(t,["validationDataset"]);e!==void 0&&A!=null&&y(e,["preferenceOptimizationSpec"],MM(A))}else if(i==="DISTILLATION"){let A=p(t,["validationDataset"]);e!==void 0&&A!=null&&y(e,["distillationSpec"],MM(A))}let s=p(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&y(e,["tunedModelDisplayName"],s);let o=p(t,["description"]);e!==void 0&&o!=null&&y(e,["description"],o);let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){let A=p(t,["epochCount"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(a==="PREFERENCE_TUNING"){let A=p(t,["epochCount"]);e!==void 0&&A!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}else if(a==="DISTILLATION"){let A=p(t,["epochCount"]);e!==void 0&&A!=null&&y(e,["distillationSpec","hyperParameters","epochCount"],A)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let A=p(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(l==="PREFERENCE_TUNING"){let A=p(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}else if(l==="DISTILLATION"){let A=p(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&y(e,["distillationSpec","hyperParameters","learningRateMultiplier"],A)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let A=p(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(c==="PREFERENCE_TUNING"){let A=p(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}else if(c==="DISTILLATION"){let A=p(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&y(e,["distillationSpec","exportLastCheckpointOnly"],A)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){let A=p(t,["adapterSize"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(u==="PREFERENCE_TUNING"){let A=p(t,["adapterSize"]);e!==void 0&&A!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}else if(u==="DISTILLATION"){let A=p(t,["adapterSize"]);e!==void 0&&A!=null&&y(e,["distillationSpec","hyperParameters","adapterSize"],A)}let f=p(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let A=p(t,["tuningMode"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec","tuningMode"],A)}let d=p(t,["customBaseModel"]);e!==void 0&&d!=null&&y(e,["customBaseModel"],d);let h=p(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){let A=p(t,["batchSize"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec","hyperParameters","batchSize"],A)}let g=p(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){let A=p(t,["learningRate"]);e!==void 0&&A!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRate"],A)}let v=p(t,["labels"]);e!==void 0&&v!=null&&y(e,["labels"],v);let x=p(t,["beta"]);e!==void 0&&x!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],x);let _=p(t,["baseTeacherModel"]);e!==void 0&&_!=null&&y(e,["distillationSpec","baseTeacherModel"],_);let E=p(t,["tunedTeacherModelSource"]);e!==void 0&&E!=null&&y(e,["distillationSpec","tunedTeacherModelSource"],E);let C=p(t,["sftLossWeightMultiplier"]);e!==void 0&&C!=null&&y(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],C);let D=p(t,["outputUri"]);return e!==void 0&&D!=null&&y(e,["outputUri"],D),r}function rye(t,e){let n={},r=p(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);let i=p(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);let s=p(t,["trainingDataset"]);s!=null&&pye(s);let o=p(t,["config"]);return o!=null&&tye(o,n),n}function iye(t,e){let n={},r=p(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);let i=p(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);let s=p(t,["trainingDataset"]);s!=null&&mye(s,n,e);let o=p(t,["config"]);return o!=null&&nye(o,n,e),n}function sye(t,e){let n={},r=p(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function oye(t,e){let n={},r=p(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function aye(t,e,n){let r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);let s=p(t,["pageToken"]);e!==void 0&&s!=null&&y(e,["_query","pageToken"],s);let o=p(t,["filter"]);return e!==void 0&&o!=null&&y(e,["_query","filter"],o),r}function lye(t,e,n){let r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);let s=p(t,["pageToken"]);e!==void 0&&s!=null&&y(e,["_query","pageToken"],s);let o=p(t,["filter"]);return e!==void 0&&o!=null&&y(e,["_query","filter"],o),r}function cye(t,e){let n={},r=p(t,["config"]);return r!=null&&aye(r,n),n}function uye(t,e){let n={},r=p(t,["config"]);return r!=null&&lye(r,n),n}function fye(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);let s=p(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>qH(a))),y(n,["tuningJobs"],o)}return n}function dye(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);let s=p(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>bP(a))),y(n,["tuningJobs"],o)}return n}function hye(t,e){let n={},r=p(t,["name"]);r!=null&&y(n,["model"],r);let i=p(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function pye(t,e){let n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),y(n,["examples","examples"],i)}return n}function mye(t,e,n){let r={},i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let o=p(t,["gcsUri"]);e!==void 0&&o!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){let o=p(t,["gcsUri"]);e!==void 0&&o!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(i==="DISTILLATION"){let o=p(t,["gcsUri"]);e!==void 0&&o!=null&&y(e,["distillationSpec","promptDatasetUri"],o)}let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){let o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){let o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(s==="DISTILLATION"){let o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&y(e,["distillationSpec","promptDatasetUri"],o)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function qH(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["name"]);i!=null&&y(n,["name"],i);let s=p(t,["state"]);s!=null&&y(n,["state"],vH(s));let o=p(t,["createTime"]);o!=null&&y(n,["createTime"],o);let a=p(t,["tuningTask","startTime"]);a!=null&&y(n,["startTime"],a);let l=p(t,["tuningTask","completeTime"]);l!=null&&y(n,["endTime"],l);let c=p(t,["updateTime"]);c!=null&&y(n,["updateTime"],c);let u=p(t,["description"]);u!=null&&y(n,["description"],u);let f=p(t,["baseModel"]);f!=null&&y(n,["baseModel"],f);let d=p(t,["_self"]);return d!=null&&y(n,["tunedModel"],hye(d)),n}function bP(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["name"]);i!=null&&y(n,["name"],i);let s=p(t,["state"]);s!=null&&y(n,["state"],vH(s));let o=p(t,["createTime"]);o!=null&&y(n,["createTime"],o);let a=p(t,["startTime"]);a!=null&&y(n,["startTime"],a);let l=p(t,["endTime"]);l!=null&&y(n,["endTime"],l);let c=p(t,["updateTime"]);c!=null&&y(n,["updateTime"],c);let u=p(t,["error"]);u!=null&&y(n,["error"],u);let f=p(t,["description"]);f!=null&&y(n,["description"],f);let d=p(t,["baseModel"]);d!=null&&y(n,["baseModel"],d);let h=p(t,["tunedModel"]);h!=null&&y(n,["tunedModel"],h);let g=p(t,["preTunedModel"]);g!=null&&y(n,["preTunedModel"],g);let v=p(t,["supervisedTuningSpec"]);v!=null&&y(n,["supervisedTuningSpec"],v);let x=p(t,["preferenceOptimizationSpec"]);x!=null&&y(n,["preferenceOptimizationSpec"],x);let _=p(t,["distillationSpec"]);_!=null&&y(n,["distillationSpec"],_);let E=p(t,["tuningDataStats"]);E!=null&&y(n,["tuningDataStats"],E);let C=p(t,["encryptionSpec"]);C!=null&&y(n,["encryptionSpec"],C);let D=p(t,["partnerModelTuningSpec"]);D!=null&&y(n,["partnerModelTuningSpec"],D);let A=p(t,["customBaseModel"]);A!=null&&y(n,["customBaseModel"],A);let L=p(t,["experiment"]);L!=null&&y(n,["experiment"],L);let I=p(t,["labels"]);I!=null&&y(n,["labels"],I);let N=p(t,["outputUri"]);N!=null&&y(n,["outputUri"],N);let O=p(t,["pipelineJob"]);O!=null&&y(n,["pipelineJob"],O);let V=p(t,["serviceAccount"]);V!=null&&y(n,["serviceAccount"],V);let P=p(t,["tunedModelDisplayName"]);P!=null&&y(n,["tunedModelDisplayName"],P);let M=p(t,["veoTuningSpec"]);return M!=null&&y(n,["veoTuningSpec"],M),n}function gye(t,e){let n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);let i=p(t,["name"]);i!=null&&y(n,["name"],i);let s=p(t,["metadata"]);s!=null&&y(n,["metadata"],s);let o=p(t,["done"]);o!=null&&y(n,["done"],o);let a=p(t,["error"]);return a!=null&&y(n,["error"],a),n}function MM(t,e){let n={},r=p(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);let i=p(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}var TP=class extends Ml{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Iu(Jf.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);let s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{let i=Object.assign({},n);return await this.tuneInternal(i)}else{let i=Object.assign({},n),s=await this.tuneMldevInternal(i),o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:uH.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=oye(e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>bP(u))}else{let c=sye(e);return a=xt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>qH(u))}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=uye(e);return a=xt("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=dye(u),d=new GS;return Object.assign(d,f),d})}else{let c=cye(e);return a=xt("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=fye(u),d=new GS;return Object.assign(d,f),d})}}async cancel(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){let c=Q1e(e);return a=xt("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=eye(u),d=new WS;return Object.assign(d,f),d})}else{let c=J1e(e);return a=xt("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:u.headers},d})),o.then(u=>{let f=Z1e(u),d=new WS;return Object.assign(d,f),d})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){let a=iye(e,e);return s=xt("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>bP(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=rye(e);return s=xt("tunedModels",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{let u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>gye(l))}}};var AP=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},vye=1024*1024*8,yye=3,_ye=1e3,xye=2,cC="x-goog-upload-status";async function wye(t,e,n){var r;let i=await GH(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[cC])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Eye(t,e,n){var r;let i=await GH(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[cC])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let o=cH(s),a=new KM;return Object.assign(a,o),a}async function GH(t,e,n){var r,i;let s=0,o=0,a=new ky(new Response),l="upload";for(s=t.size;o<s;){let c=Math.min(vye,s-o),u=t.slice(o,o+c);o+c>=s&&(l+=", finalize");let f=0,d=_ye;for(;f<yye&&(a=await n.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(c)}}}),!(!((r=a?.headers)===null||r===void 0)&&r[cC]));)f++,await Cye(d),d=d*xye;if(o+=c,((i=a?.headers)===null||i===void 0?void 0:i[cC])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function Sye(t){return{size:t.size,type:t.type}}function Cye(t){return new Promise(e=>setTimeout(e,t))}var IP=class{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wye(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Eye(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Sye(e)}};var DP=class{create(e,n,r){return new kP(e,n,r)}},kP=class{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var lH="x-goog-api-key",NP=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(lH)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(lH,this.apiKey)}}};var bye="gl-node/",uC=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new Ii({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let r=Khe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;let i=new NP(this.apiKey);this.apiClient=new aP({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:bye+"web",uploader:new IP,downloader:new AP}),this.models=new hP(this.apiClient),this.live=new fP(this.apiClient,i,new DP),this.batches=new ZM(this.apiClient),this.chats=new tP(this.models,this.apiClient),this.caches=new eP(this.apiClient),this.files=new rP(this.apiClient),this.operations=new pP(this.apiClient),this.authTokens=new mP(this.apiClient),this.tunings=new TP(this.apiClient),this.fileSearchStores=new vP(this.apiClient)}};var Qf=class t{constructor(){this.ai=new uC({apiKey:process.env.API_KEY})}async analyzeMaintenanceHistory(e,n){try{let r=`
        Act\xFAa como Analista de Mantenimiento Predictivo con especializaci\xF3n en Machine Learning aplicado a activos industriales.
        
        ENTRADA DE DATOS:
        Activo: ${e.brand} ${e.model} (ID: ${e.id})
        Historial de Fallas:
        ${JSON.stringify(n.map(s=>({fecha:s.entryDate,tipo:s.type,componente:s.failureDescription,severidad:s.estimatedCost>2e3?"Alta":"Media"})))}

        AN\xC1LISIS REQUERIDO:
        1. \u{1F52E} DETECCI\xD3N DE PATRONES: Identifica fallas recurrentes y calcula MTBF aproximado.
        2. \u{1F4C8} PREDICCI\xD3N: Estima qu\xE9 componente tiene mayor probabilidad de fallar pr\xF3ximamente.
        3. \u2699\uFE0F RECOMENDACIONES: Sugiere inspecciones o reemplazos preventivos.

        FORMATO DE SALIDA:
        HTML limpio (sin markdown \`\`\`html). Usa iconos y negritas. 
        Estructura: 
        <div class="space-y-4">
          <div><h4 class="font-bold text-red-400">\u{1F52E} Patrones Detectados</h4>...</div>
          <div><h4 class="font-bold text-orange-400">\u26A0\uFE0F Riesgo Inminente</h4>...</div>
          <div><h4 class="font-bold text-green-400">\u2705 Acci\xF3n Recomendada</h4>...</div>
        </div>
      `;return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:r})).text||"<p>Datos insuficientes para predicci\xF3n.</p>"}catch(r){return console.error("Gemini Error:",r),'<p class="text-red-500">Error conectando con el servicio de IA.</p>'}}async generateExecutiveReport(e,n,r){try{let i=`
        Analiza el estado actual de AssetGuard CMMS y genera un resumen ejecutivo profesional para Gerencia de Operaciones.

        DATOS:
        - Disponibilidad: ${r.percentage}% (Meta: 95%)
        - MTTR Promedio: ${e.mttr} horas
        - Gasto Mes: $${e.totalCostMonth} USD
        - Equipos Detenidos (Top 3): ${JSON.stringify(n.slice(0,3).map(o=>`${o.economico} (${o.falla})`))}

        ESTRUCTURA DEL REPORTE (HTML simple para renderizar):
        
        <h3>\u{1F4CA} 1. KPIs DE DISPONIBILIDAD</h3>
        <p>Resumen de estado vs meta.</p>

        <h3>\u{1F534} 2. AN\xC1LISIS DE PARETO (Top Problemas)</h3>
        <p>Menciona los equipos cr\xEDticos detenidos actualmente.</p>

        <h3>\u{1F4A1} 3. RECOMENDACIONES ESTRAT\xC9GICAS</h3>
        <ul>
          <li>Acci\xF3n 1 para reducir downtime</li>
          <li>Acci\xF3n 2 para optimizar costos</li>
        </ul>

        <h3>\u26A0\uFE0F 4. ALERTAS CR\xCDTICAS</h3>
        <p>Si disponibilidad < 90%, resalta urgencia.</p>

        TONO: Profesional, directo, espa\xF1ol mexicano empresarial. Sin saludos.
      `;return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:i})).text||"No se pudo generar el reporte ejecutivo."}catch(i){return console.error("Gemini Error:",i),"Error conectando con IA para el reporte."}}async generateLotoProcedure(e,n){try{let r=`
        Act\xFAa como Ingeniero de Seguridad Industrial certificado en LOTO (NOM-004-STPS-1999).
        Genera un procedimiento de bloqueo/etiquetado para:
        Equipo: ${e.brand} ${e.model} (${e.fuelType})
        Tarea: Reparaci\xF3n de ${n}

        ESTRUCTURA HTML (Lista de verificaci\xF3n):
        <div class="loto-card">
          <h3 class="text-red-600 font-bold mb-2">\u{1F6A8} IDENTIFICACI\xD3N DE PELIGROS</h3>
          [Lista de energ\xEDas peligrosas: El\xE9ctrica, Hidr\xE1ulica, etc.]
          
          <h3 class="text-blue-600 font-bold mt-4 mb-2">\u{1F512} SECUENCIA DE BLOQUEO</h3>
          <ol class="list-decimal pl-4 space-y-2">
            <li>Paso 1...</li>
            <li>Paso 2...</li>
          </ol>

          <h3 class="text-green-600 font-bold mt-4 mb-2">\u2705 VERIFICACI\xD3N ENERG\xCDA CERO</h3>
          [C\xF3mo verificar que es seguro trabajar]
        </div>

        Resalta ADVERTENCIAS DE SEGURIDAD en negritas.
      `;return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:r})).text||"Error generando LOTO."}catch{return"<p>No disponible.</p>"}}async analyzeImageInspection(e){try{let r=await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:[{inlineData:{mimeType:"image/jpeg",data:e}},{text:`
        Analiza esta imagen capturada por un operador en planta industrial. Act\xFAa como Inspector de Mantenimiento Certificado.
        
        IDENTIFICA CON PRECISI\xD3N:
        1. Componente afectado
        2. Tipo de da\xF1o visible
        3. Nivel de severidad (BAJA, MEDIA, ALTA, CR\xCDTICA)
        4. Posible causa ra\xEDz
        5. Refacciones estimadas

        FORMATO DE RESPUESTA:
        Responde \xDANICAMENTE con un objeto JSON v\xE1lido siguiendo esta estructura exacta:
        {
          "inspection": {
            "timestamp": "ISO string",
            "asset": { "component_affected": "String", "visual_condition": "String" },
            "damage_analysis": { "damage_type": "String", "visible_signs": ["String"], "affected_area_percentage": "String" },
            "severity": { "level": "String", "risk_score": "String", "safety_impact": "String", "operational_impact": "String" },
            "root_cause_analysis": { "probable_cause": "String", "why_analysis": "String" },
            "immediate_actions": { "safety_measures": ["String"] },
            "repair_plan": {
              "estimated_parts": [{ "part_name": "String", "generic_code": "String", "quantity": "String" }],
              "estimated_mttr_hours": "String",
              "estimated_cost_usd": { "min": number, "max": number }
            }
          }
        }
      `}],config:{responseMimeType:"application/json"}});return r.text?JSON.parse(r.text):null}catch(n){return console.error("Vision Error:",n),null}}async generateDailySummary(e,n,r){return this.generateExecutiveReport({availability:e.percentage,mttr:4.5,totalCostMonth:12500,budgetMonth:15e3},n,e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"})}};var pC=class t{constructor(){this.title="";this.subtitle="";this.value="";this.unit="";this.status="neutral";this.statusText="";this.footerLabel="";this.footerValue="";this.trendLabel="";this.containerClasses=Tn(()=>"bg-white dark:bg-slate-900/60 border-slate-200 dark:border-slate-700/60");this.badgeClasses=Tn(()=>{let e="inline-flex items-center gap-1.5 rounded-full text-[10px] font-bold px-2.5 py-1 border backdrop-blur-sm ";switch(this.status){case"success":return e+"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-500/10 dark:text-emerald-300 dark:border-emerald-500/40";case"warning":return e+"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-500/10 dark:text-amber-300 dark:border-amber-500/40";case"danger":return e+"bg-red-50 text-red-700 border-red-200 dark:bg-red-500/10 dark:text-red-300 dark:border-red-500/40";case"info":return e+"bg-sky-50 text-sky-700 border-sky-200 dark:bg-sky-500/10 dark:text-sky-300 dark:border-sky-500/40";default:return e+"bg-slate-50 text-slate-600 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}});this.dotColor=Tn(()=>{switch(this.status){case"success":return"bg-emerald-500";case"warning":return"bg-amber-500";case"danger":return"bg-red-500";case"info":return"bg-sky-500";default:return"bg-slate-400"}});this.trendClass=Tn(()=>this.trendLabel.includes("+")&&this.status==="success"?"text-emerald-600 dark:text-emerald-400 font-medium":this.trendLabel.includes("-")&&this.status==="danger"?"text-red-600 dark:text-red-400 font-medium":this.status==="warning"?"text-amber-600 dark:text-amber-400 font-medium":"text-emerald-600 dark:text-emerald-400 font-medium")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ps({type:t,selectors:[["app-kpi-card"]],inputs:{title:"title",subtitle:"subtitle",value:"value",unit:"unit",status:"status",statusText:"statusText",footerLabel:"footerLabel",footerValue:"footerValue",trendLabel:"trendLabel"},decls:23,vars:15,consts:[[1,"h-full","rounded-2xl","border","shadow-lg","p-4","flex","flex-col","gap-3","transition-all","hover:shadow-xl","relative","overflow-hidden","group",3,"ngClass"],[1,"absolute","inset-0","bg-gradient-to-br","from-white/5","to-transparent","pointer-events-none"],[1,"flex","items-start","justify-between","relative","z-10"],[1,"text-sm","font-medium","text-slate-500","dark:text-slate-300"],[1,"text-xs","text-slate-400","mt-0.5"],[1,"flex","items-baseline","gap-2","mt-1","relative","z-10"],[1,"text-3xl","font-bold","tracking-tight","text-slate-800","dark:text-slate-50"],[1,"text-xs","font-bold","text-slate-400","uppercase","tracking-wide"],[1,"mt-auto","flex","items-center","justify-between","text-xs","text-slate-500","dark:text-slate-400","pt-3","border-t","border-slate-100","dark:border-slate-700/50","relative","z-10"],[1,"text-slate-700","dark:text-slate-200","font-medium"]],template:function(n,r){n&1&&(ie(0,"article",0),Ze(1,"div",1),ie(2,"header",2)(3,"div")(4,"h2",3),_e(5),oe(),ie(6,"p",4),_e(7),oe()(),ie(8,"span"),Ze(9,"span"),_e(10),oe()(),ie(11,"div",5)(12,"span",6),_e(13),oe(),ie(14,"span",7),_e(15),oe()(),ie(16,"footer",8)(17,"span"),_e(18),ie(19,"span",9),_e(20),oe()(),ie(21,"span"),_e(22),oe()()()),n&2&&(kr("ngClass",r.containerClasses()),Ne(5),vn(r.title),Ne(2),vn(r.subtitle),Ne(),Nr(r.badgeClasses()),Ne(),Nr("h-1.5 w-1.5 rounded-full "+r.dotColor()),Ne(),cn(" ",r.statusText," "),Ne(3),vn(r.value),Ne(2),vn(r.unit),Ne(3),cn("",r.footerLabel,": "),Ne(2),vn(r.footerValue),Ne(),Nr(r.trendClass()),Ne(),vn(r.trendLabel))},dependencies:[Ji,$1],encapsulation:2})}};var Tye=(t,e)=>e.id;function Aye(t,e){if(t&1){let n=ti();ie(0,"span",24),Ze(1,"i",56),_e(2),ie(3,"button",57),Wt("click",function(){zn(n);let i=Yt();return Yn(i.clearFilter())}),Ze(4,"i",58),oe()()}if(t&2){let n=Yt();Ne(2),cn(" Filtrado: ",n.activeIssueFilter()," ")}}function Iye(t,e){if(t&1&&(ie(0,"span",26),_e(1),oe()),t&2){let n=Yt();Ne(),em(" ",n.activeFailures().length," ",n.activeFailures().length===1?"unidad":"unidades"," en atenci\xF3n ")}}function Dye(t,e){if(t&1){let n=ti();ie(0,"tr",35)(1,"td",30)(2,"div",59),Ze(3,"div"),ie(4,"div")(5,"div",60),_e(6),oe(),ie(7,"span"),_e(8),oe()()()(),ie(9,"td",31)(10,"div",61),_e(11),ca(12,"date"),oe(),ie(13,"div",62),_e(14),oe()(),ie(15,"td",31)(16,"span"),Ze(17,"span"),_e(18),oe()(),ie(19,"td",32)(20,"div",63)(21,"span",64),_e(22),oe(),ie(23,"span"),_e(24),oe()()(),ie(25,"td",65)(26,"button",66),Wt("click",function(){let i=zn(n).$implicit,s=Yt();return Yn(s.selectAsset(i.economico))}),_e(27," Ver Detalle "),Ze(28,"i",67),oe()()()}if(t&2){let n=e.$implicit,r=Yt();Ne(3),Nr("w-1.5 h-10 rounded-full "+r.getPriorityColor(n.prioridad)),Ne(3),vn(n.economico),Ne(),Nr("text-[10px] font-bold uppercase px-1.5 py-0.5 rounded border "+r.getPriorityBadgeClass(n.prioridad)),Ne(),cn(" ",n.prioridad," "),Ne(3),cn(" ",Cl(12,18,n.fechaIngreso,"dd MMM, HH:mm")," "),Ne(2),kr("title",n.falla),Ne(),cn(" ",n.falla," "),Ne(2),Nr("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border "+r.getStatusBadgeClass(n)),Ne(),Nr("w-1.5 h-1.5 rounded-full "+r.getStatusDotClass(n)),Ne(),cn(" ",n.estatus==="Abierta"?"Diagn\xF3stico":"En Reparaci\xF3n"," "),Ne(4),cn(" ",r.getTimeInShop(n.fechaIngreso).text," "),Ne(),Nr("text-[10px] font-bold uppercase "+r.getTimeInShop(n.fechaIngreso).color),Ne(),cn(" ",r.getTimeInShop(n.fechaIngreso).label," ")}}function kye(t,e){t&1&&(ie(0,"tr")(1,"td",68)(2,"div",69)(3,"div",70),Ze(4,"i",71),oe(),ie(5,"h3",72),_e(6,"Sin unidades en taller"),oe(),ie(7,"p",73),_e(8,"La flota opera al 100% de capacidad."),oe()()()())}function Nye(t,e){if(t&1&&(ie(0,"div",55)(1,"div",74),Ze(2,"i"),oe(),ie(3,"p",75),_e(4),oe(),ie(5,"div",76)(6,"span",77),_e(7),oe(),ie(8,"span",78),_e(9),oe()()()),t&2){let n=e.$implicit;Ne(),kr("ngClass",n.color),Ne(),Nr("fas "+n.icon),Ne(2),vn(n.title),Ne(3),vn(n.time),Ne(2),vn(n.user)}}var mC=class t{constructor(){this.dataService=Pt(Ns);this.kpi=this.dataService.kpiData;this.safetyStats=this.dataService.safetyStats;this.fleetAvailability=this.dataService.fleetAvailability;this.activeIssueFilter=Sn(null);this.filterButtonBaseClasses="w-full text-left p-3 rounded-xl border group transition-colors cursor-pointer relative";this.filterButtonStyles={red:{active:"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-500 ring-2 ring-red-200 dark:ring-red-500/50",inactive:"bg-slate-50 dark:bg-slate-800/50 border-slate-100 dark:border-slate-700 hover:border-red-200",titleActive:"text-xs font-bold transition-colors text-[#ce1126]",titleInactive:"text-xs font-bold transition-colors text-slate-700 dark:text-slate-200 group-hover:text-[#ce1126]",actionActive:"text-[10px] border px-3 py-1.5 rounded-lg font-bold shadow-md transition-all flex items-center gap-1 bg-[#ce1126] text-white border-[#ce1126]",actionInactive:"text-[10px] border px-3 py-1.5 rounded-lg font-bold shadow-sm transition-all flex items-center gap-1 bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600 text-slate-600 group-hover:text-[#ce1126] group-hover:border-red-100 group-hover:shadow-md"},amber:{active:"bg-amber-50 dark:bg-amber-900/20 border-amber-300 dark:border-amber-500 ring-2 ring-amber-200 dark:ring-amber-500/50",inactive:"bg-slate-50 dark:bg-slate-800/50 border-slate-100 dark:border-slate-700 hover:border-amber-200",titleActive:"text-xs font-bold transition-colors text-amber-600",titleInactive:"text-xs font-bold transition-colors text-slate-700 dark:text-slate-200 group-hover:text-amber-600",actionActive:"text-[10px] border px-3 py-1.5 rounded-lg font-bold shadow-md transition-all flex items-center gap-1 bg-amber-600 text-white border-amber-600",actionInactive:"text-[10px] border px-3 py-1.5 rounded-lg font-bold shadow-sm transition-all flex items-center gap-1 bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600 text-slate-600 group-hover:text-amber-600 group-hover:border-amber-100 group-hover:shadow-md"}};this.activeFailures=Tn(()=>{let e=this.dataService.forkliftFailures().filter(i=>i.estatus!=="Cerrada"),n=this.activeIssueFilter();if(!n)return e;let r=n.toLowerCase();return e.filter(i=>i.falla.toLowerCase().includes(r))});this.operativeCount=Tn(()=>this.dataService.assets().filter(e=>e.status.name==="Operativo").length);this.totalAssets=Tn(()=>this.dataService.assets().length);this.lastUpdate=this.dataService.lastUpdate;this.availabilityStatus=Tn(()=>{let e=this.fleetAvailability().percentage;return e>=95?"success":e>=85?"warning":"danger"});this.availabilityStatusText=Tn(()=>{let e=this.fleetAvailability().percentage;return e>=95?"Meta Cumplida":e>=85?"En Riesgo":"Cr\xEDtico"});this.availabilityGap=Tn(()=>{let n=this.fleetAvailability().percentage-95;return`Brecha: ${n>0?"+":""}${n.toFixed(0)} pts`});this.fleetCapacityLabel=Tn(()=>{let e=this.totalAssets();if(e===0)return"0% capacidad";let n=this.operativeCount();return`${Math.round(n/e*100)}% de capacidad operativa`});this.formattedCost=Tn(()=>{let e=this.kpi().totalCostMonth;return e===0?"Sin gastos":"$"+e.toLocaleString("en-US")});this.costUnit=Tn(()=>this.kpi().totalCostMonth===0?"registrados este mes":"USD");this.budgetStatus=Tn(()=>{let e=this.kpi().totalCostMonth,n=this.kpi().budgetMonth;return e===0?"neutral":e>n?"danger":e>n*.9?"warning":"success"});this.budgetStatusText=Tn(()=>{let e=this.kpi().totalCostMonth,n=this.kpi().budgetMonth;return e===0?"Presupuesto Intacto":e>n?"Excedido":"Bajo presupuesto"});this.budgetVariance=Tn(()=>{let e=this.kpi().totalCostMonth,n=this.kpi().budgetMonth;if(e===0)return"Disponible: 100%";let r=(e-n)/n*100;return r>0?`+${r.toFixed(1)}% vs Presupuesto`:`${r.toFixed(1)}% vs Presupuesto`});this.recentEvents=Tn(()=>[{title:"Unidad 35526 ingres\xF3 a Taller",time:"Hace 15 min",user:"Op. M\xF3vil",color:"bg-red-500",icon:"fa-exclamation-circle"},{title:'Refacci\xF3n "Kit Sellos" solicitada',time:"Hace 45 min",user:"Toyota Tech",color:"bg-blue-500",icon:"fa-box-open"},{title:"Turno Matutino inici\xF3 operaciones",time:"06:00 AM",user:"Sistema",color:"bg-emerald-500",icon:"fa-check"}])}selectAsset(e){window.dispatchEvent(new CustomEvent("asset-selected",{detail:e}))}filterByIssue(e){this.activeIssueFilter()===e?this.activeIssueFilter.set(null):this.activeIssueFilter.set(e)}clearFilter(){this.activeIssueFilter.set(null)}getFilterButtonClass(e,n){let r=this.activeIssueFilter()===e,i=this.filterButtonStyles[n],s=r?i.active:i.inactive;return`${this.filterButtonBaseClasses} ${s}`}getFilterTitleClass(e,n){let r=this.activeIssueFilter()===e,i=this.filterButtonStyles[n];return r?i.titleActive:i.titleInactive}getFilterActionClass(e,n){let r=this.activeIssueFilter()===e,i=this.filterButtonStyles[n];return r?i.actionActive:i.actionInactive}getFilterActionText(e){return this.activeIssueFilter()===e?"Filtro activo":"Ver equipos"}downloadReport(){window.print()}getTimeInShop(e){let n=new Date(e).getTime(),r=new Date().getTime(),i=Math.floor((r-n)/(1e3*60*60)),s="",o="",a="";return i<1?(s="< 1h",o="A tiempo",a="text-emerald-500"):i<24?(s=`${i}h`,o="En proceso",a="text-blue-500"):(s=`${Math.floor(i/24)}d ${i%24}h`,o="Demorado",a="text-amber-500"),i>48&&(o="Cr\xEDtico",a="text-red-500"),{text:s,label:o,color:a}}getStatusBadgeClass(e){return e.estatus==="Abierta"?"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-500/10 dark:text-amber-400 dark:border-amber-500/20":"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-500/10 dark:text-blue-400 dark:border-blue-500/20"}getStatusDotClass(e){return e.estatus==="Abierta"?"bg-amber-500":"bg-blue-500"}getPriorityColor(e){return e==="Alta"?"bg-red-500":e==="Media"?"bg-amber-400":"bg-blue-400"}getPriorityBadgeClass(e){return e==="Alta"?"bg-red-50 text-red-600 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800":e==="Media"?"bg-amber-50 text-amber-600 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800":"bg-blue-50 text-blue-600 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ps({type:t,selectors:[["app-dashboard"]],decls:101,vars:40,consts:[[1,"space-y-6","pb-10"],[1,"flex","flex-col","md:flex-row","md:items-center","justify-between","gap-4","mb-2"],[1,"text-2xl","font-black","text-slate-800","dark:text-white","tracking-tight"],[1,"text-sm","text-slate-500","dark:text-slate-400","flex","items-center","gap-2"],[1,"relative","flex","h-2.5","w-2.5"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-emerald-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2.5","w-2.5","bg-emerald-500"],[1,"font-bold","text-slate-700","dark:text-slate-300"],[1,"mx-1","text-slate-300"],[1,"far","fa-clock","text-slate-400"],[1,"text-xs"],[1,"flex","gap-2"],[1,"bg-white","dark:bg-slate-800","border","border-slate-200","dark:border-slate-700","text-slate-600","dark:text-slate-300","px-4","py-2","rounded-lg","text-xs","font-bold","uppercase","hover:bg-slate-50","transition","shadow-sm",3,"click"],[1,"fas","fa-download","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["title","Seguridad","subtitle","D\xEDas sin incidentes","unit","d\xEDas","status","success","statusText","En buen nivel","footerLabel","Meta Hist\xF3rica",3,"value","footerValue","trendLabel"],["title","Disponibilidad","subtitle","Flota operativa efectiva","unit","%","footerLabel","Meta 95%","footerValue","",3,"value","status","statusText","trendLabel"],["title","Flota Activa","subtitle","Estado actual de montacargas","status","info","statusText","Vista general","footerLabel","En Taller",3,"value","unit","footerValue","trendLabel"],["title","Costo Mensual","subtitle","Mantenimiento y refacciones","footerLabel","Presupuesto",3,"value","unit","status","statusText","footerValue","trendLabel"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2","bg-white","dark:bg-[#1e293b]","rounded-2xl","shadow-sm","border","border-slate-200","dark:border-slate-700/60","flex","flex-col","overflow-hidden","h-[500px]"],[1,"p-5","border-b","border-slate-100","dark:border-slate-700/50","flex","justify-between","items-center","bg-slate-50/50","dark:bg-slate-800/20"],[1,"font-bold","text-slate-800","dark:text-white","flex","items-center","gap-2"],[1,"fas","fa-wrench","text-slate-400"],[1,"ml-2","text-xs","font-bold","text-blue-600","bg-blue-50","dark:bg-blue-500/10","px-3","py-1","rounded-full","border","border-blue-200","dark:border-blue-500/20","flex","items-center","gap-2"],[1,"text-xs","text-slate-500","mt-1"],[1,"text-xs","font-bold","text-red-600","bg-red-50","dark:bg-red-500/10","px-3","py-1","rounded-full","border","border-red-100","dark:border-red-500/20","animate-pulse"],[1,"flex-1","overflow-y-auto","custom-scroll","relative"],[1,"w-full","text-left","text-sm"],[1,"bg-slate-50","dark:bg-slate-800","text-slate-500","font-bold","text-xs","uppercase","sticky","top-0","z-10","shadow-sm"],[1,"p-4","pl-6"],[1,"p-4"],[1,"p-4","text-center"],[1,"p-4","text-right","pr-6"],[1,"divide-y","divide-slate-100","dark:divide-slate-700/50"],[1,"hover:bg-slate-50","dark:hover:bg-slate-800/50","transition-colors","group"],[1,"flex","flex-col","gap-6"],[1,"bg-white","dark:bg-[#1e293b]","rounded-2xl","shadow-sm","border","border-slate-200","dark:border-slate-700/60","p-5"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-bold","text-slate-800","dark:text-white","text-sm"],[1,"text-[10px]","font-bold","text-slate-400","uppercase","bg-slate-100","dark:bg-slate-800","px-2","py-1","rounded"],[1,"space-y-3"],[3,"click"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-xs","font-black","text-red-500"],[1,"w-full","bg-slate-200","dark:bg-slate-700","h-1.5","rounded-full","overflow-hidden","mb-3"],[1,"bg-red-500","h-full","w-[45%]"],[1,"flex","justify-between","items-center"],[1,"text-[10px]","text-slate-400","font-medium"],[1,"fas","fa-arrow-right","text-[9px]"],[1,"text-xs","font-black","text-amber-500"],[1,"bg-amber-500","h-full","w-[20%]"],[1,"flex-1","bg-white","dark:bg-[#1e293b]","rounded-2xl","shadow-sm","border","border-slate-200","dark:border-slate-700/60","p-5","flex","flex-col"],[1,"text-[10px]","font-bold","text-[#ce1126]","hover:underline"],[1,"relative","pl-4","border-l","border-slate-200","dark:border-slate-700","space-y-6"],[1,"relative","group"],[1,"fas","fa-filter","text-[10px]"],["title","Limpiar filtro",1,"ml-1","hover:text-blue-800","dark:hover:text-blue-300","transition-colors",3,"click"],[1,"fas","fa-times","text-[10px]"],[1,"flex","items-center","gap-3"],[1,"font-black","text-slate-800","dark:text-white","text-base"],[1,"text-xs","text-slate-500","font-medium"],[1,"text-sm","font-bold","text-slate-700","dark:text-slate-300","max-w-[220px]","truncate","cursor-help",3,"title"],[1,"flex","flex-col","items-center"],[1,"font-mono","text-sm","font-bold","text-slate-700","dark:text-slate-200"],[1,"p-4","pr-6","text-right"],[1,"bg-white","dark:bg-slate-700","border","border-slate-200","dark:border-slate-600","text-slate-600","dark:text-slate-200","hover:text-[#ce1126]","hover:border-[#ce1126]","px-3","py-1.5","rounded-lg","text-xs","font-bold","transition","shadow-sm","group-hover:shadow-md",3,"click"],[1,"fas","fa-arrow-right","ml-1"],["colspan","5",1,"py-20","text-center"],[1,"flex","flex-col","items-center","justify-center","opacity-60"],[1,"w-16","h-16","bg-emerald-50","dark:bg-emerald-500/10","rounded-full","flex","items-center","justify-center","mb-4","border","border-emerald-100"],[1,"fas","fa-check","text-2xl","text-emerald-500"],[1,"text-slate-800","dark:text-white","font-bold","text-lg"],[1,"text-slate-500","text-sm","mt-1","mb-4"],[1,"absolute","-left-[25px]","top-0","h-7","w-7","rounded-full","border-2","border-white","dark:border-slate-900","flex","items-center","justify-center","text-[10px]","text-white","shadow-sm","transition-transform","group-hover:scale-110",3,"ngClass"],[1,"text-xs","font-bold","text-slate-700","dark:text-slate-300","leading-tight"],[1,"flex","items-center","gap-2","mt-1"],[1,"text-[10px]","text-slate-400","font-mono"],[1,"text-[10px]","bg-slate-100","dark:bg-slate-800","px-1.5","py-0.5","rounded","text-slate-500","font-bold","uppercase"]],template:function(n,r){n&1&&(ie(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),_e(4,"Centro de Monitoreo (NOC)"),oe(),ie(5,"p",3)(6,"span",4),Ze(7,"span",5)(8,"span",6),oe(),ie(9,"span",7),_e(10,"Operaci\xF3n Estable"),oe(),ie(11,"span",8),_e(12,"|"),oe(),Ze(13,"i",9),ie(14,"span",10),_e(15),ca(16,"date"),oe()()(),ie(17,"div",11)(18,"button",12),Wt("click",function(){return r.downloadReport()}),Ze(19,"i",13),_e(20," Reporte PDF "),oe()()(),ie(21,"div",14),Ze(22,"app-kpi-card",15)(23,"app-kpi-card",16)(24,"app-kpi-card",17)(25,"app-kpi-card",18),ca(26,"currency"),oe(),ie(27,"div",19)(28,"div",20)(29,"div",21)(30,"div")(31,"h3",22),Ze(32,"i",23),_e(33," Taller en Vivo "),er(34,Aye,5,1,"span",24),oe(),ie(35,"p",25),_e(36,"\xD3rdenes activas y tiempos de respuesta"),oe()(),er(37,Iye,2,2,"span",26),oe(),ie(38,"div",27)(39,"table",28)(40,"thead",29)(41,"tr")(42,"th",30),_e(43,"Prioridad / Unidad"),oe(),ie(44,"th",31),_e(45,"Falla Reportada"),oe(),ie(46,"th",31),_e(47,"Estado"),oe(),ie(48,"th",32),_e(49,"SLA (Tiempo)"),oe(),ie(50,"th",33),_e(51,"Acci\xF3n"),oe()()(),ie(52,"tbody",34),Is(53,Dye,29,21,"tr",35,Tye,!1,kye,9,0,"tr"),oe()()()(),ie(56,"div",36)(57,"div",37)(58,"div",38)(59,"h3",39),_e(60,"Top 3 Problemas"),oe(),ie(61,"span",40),_e(62,"\xDAltimos 30 d\xEDas"),oe()(),ie(63,"div",41)(64,"button",42),Wt("click",function(){return r.filterByIssue("Hidr\xE1ulico")}),ie(65,"div",43)(66,"span"),_e(67,"Sistema Hidr\xE1ulico"),oe(),ie(68,"span",44),_e(69,"45%"),oe()(),ie(70,"div",45),Ze(71,"div",46),oe(),ie(72,"div",47)(73,"span",48),_e(74,"12 incidentes reportados"),oe(),ie(75,"span"),_e(76),Ze(77,"i",49),oe()()(),ie(78,"button",42),Wt("click",function(){return r.filterByIssue("Frenos")}),ie(79,"div",43)(80,"span"),_e(81,"Frenos / Desgaste"),oe(),ie(82,"span",50),_e(83,"20%"),oe()(),ie(84,"div",45),Ze(85,"div",51),oe(),ie(86,"div",47)(87,"span",48),_e(88,"8 incidentes reportados"),oe(),ie(89,"span"),_e(90),Ze(91,"i",49),oe()()()()(),ie(92,"div",52)(93,"div",38)(94,"h3",39),_e(95,"Eventos Recientes"),oe(),ie(96,"button",53),_e(97,"Ver todo"),oe()(),ie(98,"div",54),Is(99,Nye,10,6,"div",55,N1),oe()()()()()),n&2&&(Ne(15),cn("Actualizado: ",Cl(16,35,r.lastUpdate(),"HH:mm:ss")),Ne(7),kr("value",r.safetyStats().daysWithoutAccident)("footerValue",r.safetyStats().record+" d\xEDas")("trendLabel","Faltan "+(r.safetyStats().record-r.safetyStats().daysWithoutAccident)+" para r\xE9cord"),Ne(),kr("value",r.fleetAvailability().percentage)("status",r.availabilityStatus())("statusText",r.availabilityStatusText())("trendLabel",r.availabilityGap()),Ne(),kr("value",r.operativeCount())("unit","de "+r.totalAssets())("footerValue",r.activeFailures().length+(r.activeFailures().length===1?" unidad":" unidades"))("trendLabel",r.fleetCapacityLabel()),Ne(),kr("value",r.formattedCost())("unit",r.costUnit())("status",r.budgetStatus())("statusText",r.budgetStatusText())("footerValue",R1(26,38,r.kpi().budgetMonth)||"$0")("trendLabel",r.budgetVariance()),Ne(9),tr(r.activeIssueFilter()?34:-1),Ne(3),tr(r.activeFailures().length>0?37:-1),Ne(16),Ds(r.activeFailures()),Ne(11),Nr(r.getFilterButtonClass("Hidr\xE1ulico","red")),Ne(2),Nr(r.getFilterTitleClass("Hidr\xE1ulico","red")),Ne(9),Nr(r.getFilterActionClass("Hidr\xE1ulico","red")),Ne(),cn(" ",r.getFilterActionText("Hidr\xE1ulico")," "),Ne(2),Nr(r.getFilterButtonClass("Frenos","amber")),Ne(2),Nr(r.getFilterTitleClass("Frenos","amber")),Ne(9),Nr(r.getFilterActionClass("Frenos","amber")),Ne(),cn(" ",r.getFilterActionText("Frenos")," "),Ne(9),Ds(r.recentEvents()))},dependencies:[Ji,$1,pC,q1,wu],encapsulation:2})}};var Mye=(t,e)=>e.id;function Pye(t,e){t&1&&(Hn(0,"div",26),vu(1,"i",37),_e(2," > 48h "),$n())}function Fye(t,e){t&1&&vu(0,"i",32)}function Rye(t,e){if(t&1&&(Hn(0,"div",33),_e(1),ca(2,"date"),$n()),t&2){let n=Yt().$implicit;Ne(),cn(" Desde: ",Cl(2,1,n.statusSince,"dd MMM HH:mm")," ")}}function Lye(t,e){if(t&1){let n=ti();Hn(0,"tr",24),P1("click",function(){let i=zn(n).$implicit,s=Yt();return Yn(s.selectAsset(i))}),Hn(1,"td",25),_e(2),er(3,Pye,3,0,"div",26),$n(),Hn(4,"td",20)(5,"div",12),_e(6),$n(),Hn(7,"div",27),_e(8),$n()(),Hn(9,"td",28),vu(10,"i",29),_e(11),$n(),Hn(12,"td",20)(13,"div",30)(14,"span"),vu(15,"span",31),_e(16),$n(),er(17,Fye,1,0,"i",32),$n(),er(18,Rye,3,4,"div",33),$n(),Hn(19,"td",34),_e(20),$n(),Hn(21,"td",21)(22,"button",35),vu(23,"i",36),$n()()()}if(t&2){let n=e.$implicit,r=Yt();Hr("hover:bg-slate-50",!r.isCriticalMaintenance(n))("border-transparent",!r.isCriticalMaintenance(n))("border-red-500",r.isCriticalMaintenance(n))("bg-red-50",r.isCriticalMaintenance(n)),Ne(2),cn(" ",n.id," "),Ne(),tr(r.isCriticalMaintenance(n)?3:-1),Ne(3),em("",n.brand," ",n.model),Ne(2),cn("SN: ",n.serial),Ne(3),cn(" ",n.location," "),Ne(3),Nr("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold border "+n.status.color),Ne(2),cn(" ",n.status.name," "),Ne(),tr(r.isCriticalMaintenance(n)?17:-1),Ne(),tr(n.status.name!=="Operativo"?18:-1),Ne(2),cn(" ",n.supervisor||"N/A"," ")}}function Oye(t,e){t&1&&(Hn(0,"tr")(1,"td",38),_e(2,"No se encontraron activos."),$n()())}var gC=class t{constructor(){this.dataService=Pt(Ns);this.filter=Sn("");this.filteredAssets=Tn(()=>{let e=this.filter().toLowerCase();return this.dataService.assets().filter(n=>n.id.toLowerCase().includes(e)||n.brand.toLowerCase().includes(e)||n.serial.toLowerCase().includes(e))});this.stats=Tn(()=>{let e=this.dataService.assets();return{total:e.length,operative:e.filter(n=>n.status.name==="Operativo").length,maintenance:e.filter(n=>n.status.name==="Taller").length,preventive:e.filter(n=>n.status.name==="Preventivo").length}})}selectAsset(e){window.dispatchEvent(new CustomEvent("asset-selected",{detail:e.id}))}isCriticalMaintenance(e){if(e.status.name!=="Taller"||!e.statusSince)return!1;let n=new Date(e.statusSince).getTime();return new Date().getTime()-n>1728e5}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ps({type:t,selectors:[["app-asset-list"]],decls:49,vars:5,consts:[[1,"space-y-6"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"bg-white","p-4","rounded-xl","border","border-slate-200","shadow-sm"],[1,"text-xs","text-slate-500","uppercase","font-bold"],[1,"text-2xl","font-black","text-slate-800"],[1,"bg-white","p-4","rounded-xl","border-l-4","border-emerald-500","shadow-sm"],[1,"text-2xl","font-black","text-emerald-600"],[1,"bg-white","p-4","rounded-xl","border-l-4","border-red-500","shadow-sm"],[1,"text-2xl","font-black","text-red-600"],[1,"bg-white","p-4","rounded-xl","border-l-4","border-amber-500","shadow-sm"],[1,"text-2xl","font-black","text-amber-600"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-4","bg-white","p-4","rounded-xl","border","border-slate-200","shadow-sm"],[1,"font-bold","text-slate-700"],[1,"relative","w-full","md:w-64"],[1,"fas","fa-search","absolute","left-3","top-3","text-slate-400","text-xs"],["type","text","placeholder","Buscar por ID, Serie o Marca...",1,"w-full","pl-8","pr-4","py-2","bg-slate-50","border","border-slate-200","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input"],[1,"bg-white","rounded-xl","shadow-sm","border","border-slate-200","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left"],[1,"bg-slate-50","text-slate-500","font-bold","text-xs","uppercase","border-b","border-slate-200"],[1,"p-4"],[1,"p-4","text-right"],[1,"divide-y","divide-slate-100"],[1,"transition-colors","group","cursor-pointer","border-l-4",3,"hover:bg-slate-50","border-transparent","border-red-500","bg-red-50"],[1,"transition-colors","group","cursor-pointer","border-l-4",3,"click"],[1,"p-4","font-black","text-slate-800"],[1,"mt-1","inline-flex","items-center","gap-1","text-[9px]","uppercase","font-bold","text-red-600","animate-pulse"],[1,"text-xs","text-slate-400","font-mono"],[1,"p-4","text-slate-600"],[1,"fas","fa-map-marker-alt","text-slate-300","mr-1"],[1,"flex","items-center","gap-2"],[1,"w-1.5","h-1.5","rounded-full","bg-current","mr-1.5"],["title","Atenci\xF3n requerida: Tiempo excedido",1,"fas","fa-exclamation-triangle","text-red-500","text-sm","animate-bounce"],[1,"text-[10px]","text-slate-400","mt-1","pl-1"],[1,"p-4","text-slate-600","text-xs"],[1,"text-slate-400","hover:text-blue-600","group-hover:translate-x-1","transition-transform"],[1,"fas","fa-arrow-right"],[1,"fas","fa-clock"],["colspan","6",1,"p-8","text-center","text-slate-400","italic"]],template:function(n,r){n&1&&(Hn(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),_e(4,"Total Flota"),$n(),Hn(5,"p",4),_e(6),$n()(),Hn(7,"div",5)(8,"p",3),_e(9,"Operativos"),$n(),Hn(10,"p",6),_e(11),$n()(),Hn(12,"div",7)(13,"p",3),_e(14,"En Taller"),$n(),Hn(15,"p",8),_e(16),$n()(),Hn(17,"div",9)(18,"p",3),_e(19,"Preventivo"),$n(),Hn(20,"p",10),_e(21),$n()()(),Hn(22,"div",11)(23,"h2",12),_e(24,"Inventario Detallado"),$n(),Hn(25,"div",13),vu(26,"i",14),Hn(27,"input",15),P1("input",function(s){return r.filter.set(s.target.value)}),$n()()(),Hn(28,"div",16)(29,"div",17)(30,"table",18)(31,"thead",19)(32,"tr")(33,"th",20),_e(34,"ID Economico"),$n(),Hn(35,"th",20),_e(36,"Detalles"),$n(),Hn(37,"th",20),_e(38,"Ubicaci\xF3n"),$n(),Hn(39,"th",20),_e(40,"Estatus Actual"),$n(),Hn(41,"th",20),_e(42,"Supervisor"),$n(),Hn(43,"th",21),_e(44,"Acci\xF3n"),$n()()(),Hn(45,"tbody",22),Is(46,Lye,24,20,"tr",23,Mye,!1,Oye,3,0,"tr"),$n()()()()()),n&2&&(Ne(6),vn(r.stats().total),Ne(5),vn(r.stats().operative),Ne(5),vn(r.stats().maintenance),Ne(5),vn(r.stats().preventive),Ne(25),Ds(r.filteredAssets()))},dependencies:[Ji,wu],encapsulation:2})}};var ZH=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Xn(Uf),Xn(pu))};static \u0275dir=la({type:t})}return t})(),qP=(()=>{class t extends ZH{static \u0275fac=(()=>{let n;return function(i){return(n||(n=I1(t)))(i||t)}})();static \u0275dir=la({type:t,features:[gu]})}return t})(),wC=new gn("");var Bye={provide:wC,useExisting:cu(()=>Pm),multi:!0};function Vye(){let t=qf()?qf().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Uye=new gn(""),Pm=(()=>{class t extends ZH{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Vye())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Xn(Uf),Xn(pu),Xn(Uye,8))};static \u0275dir=la({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Wt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[tm([Bye]),gu]})}return t})();var Hye=new gn(""),$ye=new gn("");function e$(t){return t!=null}function t$(t){return Q0(t)?YI(t):t}function n$(t){let e={};return t.forEach(n=>{e=n!=null?De(De({},e),n):e}),Object.keys(e).length===0?null:e}function r$(t,e){return e.map(n=>n(t))}function qye(t){return!t.validate}function i$(t){return t.map(e=>qye(e)?e:n=>e.validate(n))}function Gye(t){if(!t)return null;let e=t.filter(e$);return e.length==0?null:function(n){return n$(r$(n,e))}}function s$(t){return t!=null?Gye(i$(t)):null}function Wye(t){if(!t)return null;let e=t.filter(e$);return e.length==0?null:function(n){let r=r$(n,e).map(t$);return XI(r).pipe(lh(n$))}}function o$(t){return t!=null?Wye(i$(t)):null}function WH(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function jye(t){return t._rawValidators}function zye(t){return t._rawAsyncValidators}function BP(t){return t?Array.isArray(t)?t:[t]:[]}function yC(t,e){return Array.isArray(t)?t.includes(e):t===e}function jH(t,e){let n=BP(e);return BP(t).forEach(i=>{yC(n,i)||n.push(i)}),n}function zH(t,e){return BP(e).filter(n=>!yC(t,n))}var _C=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=s$(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=o$(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},VP=class extends _C{name;get formDirective(){return null}get path(){return null}},Oy=class extends _C{_parent=null;name=null;valueAccessor=null},UP=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var EC=(()=>{class t extends UP{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Xn(Oy,2))};static \u0275dir=la({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Hr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[gu]})}return t})();var Py="VALID",vC="INVALID",Nm="PENDING",Fy="DISABLED",Gh=class{},xC=class extends Gh{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ry=class extends Gh{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Ly=class extends Gh{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Mm=class extends Gh{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var HP=class extends Gh{source;constructor(e){super(),this.source=e}};function Yye(t){return(SC(t)?t.validators:t)||null}function Xye(t){return Array.isArray(t)?s$(t):t||null}function Kye(t,e){return(SC(e)?e.asyncValidators:t)||null}function Jye(t){return Array.isArray(t)?o$(t):t||null}function SC(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var $P=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ec(this.statusReactive)}set status(e){Ec(()=>this.statusReactive.set(e))}_status=Tn(()=>this.statusReactive());statusReactive=Sn(void 0);get valid(){return this.status===Py}get invalid(){return this.status===vC}get pending(){return this.status==Nm}get disabled(){return this.status===Fy}get enabled(){return this.status!==Fy}errors;get pristine(){return Ec(this.pristineReactive)}set pristine(e){Ec(()=>this.pristineReactive.set(e))}_pristine=Tn(()=>this.pristineReactive());pristineReactive=Sn(!0);get dirty(){return!this.pristine}get touched(){return Ec(this.touchedReactive)}set touched(e){Ec(()=>this.touchedReactive.set(e))}_touched=Tn(()=>this.touchedReactive());touchedReactive=Sn(!1);get untouched(){return!this.touched}_events=new hc;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zH(e,this._rawAsyncValidators))}hasValidator(e){return yC(this._rawValidators,e)}hasAsyncValidator(e){return yC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Nt(De({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ly(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ly(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Nt(De({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ry(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ry(!0,r))}markAsPending(e={}){this.status=Nm;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mm(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Nt(De({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fy,this.errors=null,this._forEachChild(i=>{i.disable(Nt(De({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xC(this.value,r)),this._events.next(new Mm(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Nt(De({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Py,this._forEachChild(r=>{r.enable(Nt(De({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Nt(De({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Py||this.status===Nm)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xC(this.value,n)),this._events.next(new Mm(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Nt(De({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fy:Py}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Nm,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=t$(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Mm(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ia,this.statusChanges=new ia}_calculateStatus(){return this._allControlsDisabled()?Fy:this.errors?vC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nm)?Nm:this._anyControlsHaveStatus(vC)?vC:Py}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ry(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ly(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){SC(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Xye(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Jye(this._rawAsyncValidators)}};var a$=new gn("",{factory:()=>GP}),GP="always";function Qye(t,e){return[...e.path,t]}function Zye(t,e,n=GP){t_e(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),n_e(t,e),i_e(t,e),r_e(t,e),e_e(t,e)}function YH(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function e_e(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function t_e(t,e){let n=jye(t);e.validator!==null?t.setValidators(WH(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=zye(t);e.asyncValidator!==null?t.setAsyncValidators(WH(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();YH(e._rawValidators,i),YH(e._rawAsyncValidators,i)}function n_e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&l$(t,e)})}function r_e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&l$(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function l$(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function i_e(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function s_e(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function o_e(t){return Object.getPrototypeOf(t.constructor)===qP}function a_e(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Pm?n=s:o_e(s)?r=s:i=s}),i||r||n||null}function XH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function KH(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var l_e=class extends $P{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Yye(n),Kye(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),SC(n)&&(n.nonNullable||n.initialValueIsDefault)&&(KH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new HP(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){KH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var c_e={provide:Oy,useExisting:cu(()=>By)},JH=Promise.resolve(),By=(()=>{class t extends Oy{_changeDetectorRef;callSetDisabledState;control=new l_e;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ia;constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=a_e(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),s_e(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Zye(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){JH.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&U7(r);JH.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Qye(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Xn(VP,9),Xn(Hye,10),Xn($ye,10),Xn(wC,10),Xn(NE,8),Xn(a$,8))};static \u0275dir=la({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[tm([c_e]),gu,vE]})}return t})();var u_e={provide:wC,useExisting:cu(()=>CC),multi:!0};function c$(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function f_e(t){return t.split(":")[0]}var CC=(()=>{class t extends qP{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=Pt(Z0).injector;destroyRef=Pt(Of);cdr=Pt(NE);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Gk({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=c$(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=f_e(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=I1(t)))(i||t)}})();static \u0275dir=la({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Wt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[tm([u_e]),gu]})}return t})(),Fm=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(c$(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(Xn(pu),Xn(Uf),Xn(CC,9))};static \u0275dir=la({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),d_e={provide:wC,useExisting:cu(()=>u$),multi:!0};function QH(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function h_e(t){return t.split(":")[0]}var u$=(()=>{class t extends qP{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);i.push(c)}}else{let o=r.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=h_e(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=I1(t)))(i||t)}})();static \u0275dir=la({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Wt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[tm([d_e]),gu]})}return t})(),Rm=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(QH(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(QH(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Xn(pu),Xn(Uf),Xn(u$,9))};static \u0275dir=la({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var p_e=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Dh({type:t});static \u0275inj=Mf({})}return t})();var Zf=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:a$,useValue:n.callSetDisabledState??GP}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Dh({type:t});static \u0275inj=Mf({imports:[p_e]})}return t})();LC();var J$=Kj(K$(),1);var hxe=(t,e)=>e.id,pxe=(t,e)=>e.part_name;function mxe(t,e){t&1&&(ie(0,"div",6),Ze(1,"i",53),_e(2," Prioridad Alta "),oe())}function gxe(t,e){t&1&&(ie(0,"div",62),Ze(1,"i",74),_e(2," Analizando da\xF1os... "),oe())}function vxe(t,e){if(t&1&&(ie(0,"li"),_e(1),oe()),t&2){let n=e.$implicit;Ne(),F1("",n.quantity,"x ",n.part_name," (",n.generic_code,")")}}function yxe(t,e){if(t&1&&(ie(0,"div",72)(1,"p")(2,"strong",75),_e(3,"Severidad Detectada:"),oe(),_e(4),oe(),ie(5,"p")(6,"strong",75),_e(7,"Refacciones Sugeridas:"),oe()(),ie(8,"ul",76),Is(9,vxe,2,3,"li",null,pxe),oe()()),t&2){let n,r,i=Yt(3);Ne(4),cn(" ",(n=i.inspectionData())==null||n.inspection==null||n.inspection.severity==null?null:n.inspection.severity.level),Ne(5),Ds((r=i.inspectionData())==null||r.inspection==null||r.inspection.repair_plan==null?null:r.inspection.repair_plan.estimated_parts)}}function _xe(t,e){if(t&1){let n=ti();ie(0,"div",32)(1,"h4",54),Ze(2,"i",55),_e(3," Registrar Ingreso a Taller "),oe(),ie(4,"div",56)(5,"input",57),Wt("change",function(i){zn(n);let s=Yt(2);return Yn(s.handleImageUpload(i))}),oe(),ie(6,"div",58),Ze(7,"i",59),ie(8,"p",60),_e(9,"Inspecci\xF3n Visual IA"),oe(),ie(10,"p",61),_e(11,"Sube una foto de la aver\xEDa para autocompletar"),oe()(),er(12,gxe,3,0,"div",62),oe(),ie(13,"div",63)(14,"select",64,0)(16,"option",65),_e(17,"Falla Mec\xE1nica"),oe(),ie(18,"option",66),_e(19,"Falla El\xE9ctrica"),oe(),ie(20,"option",67),_e(21,"Sistema Hidr\xE1ulico"),oe(),ie(22,"option",68),_e(23,"Llantas / Rodaje"),oe(),ie(24,"option",69),_e(25,"Estructural"),oe(),ie(26,"option",70),_e(27,"Da\xF1o por Operaci\xF3n"),oe()(),Ze(28,"textarea",71,1),er(30,yxe,11,1,"div",72),ie(31,"button",73),Wt("click",function(){zn(n);let i=Sl(15),s=Sl(29),o=Yt(2);return Yn(o.reportFailure(s.value,i.value))}),_e(32," Confirmar Ingreso "),oe()()()}if(t&2){let n,r,i=Yt(2);Ne(12),tr(i.analyzingImage()?12:-1),Ne(2),kr("value",((n=i.inspectionData())==null||n.inspection==null||n.inspection.damage_analysis==null?null:n.inspection.damage_analysis.damage_type)||"Mec\xE1nico"),Ne(14),kr("value",i.inspectionData()?((r=i.inspectionData())==null||r.inspection==null||r.inspection.asset==null?null:r.inspection.asset.visual_condition)+" - Causa Probable: "+((r=i.inspectionData())==null||r.inspection==null||r.inspection.root_cause_analysis==null?null:r.inspection.root_cause_analysis.probable_cause):""),Ne(2),tr(i.inspectionData()?30:-1)}}function xxe(t,e){if(t&1){let n=ti();ie(0,"div",33)(1,"h4",77),Ze(2,"i",78),_e(3," Finalizar y Liberar Equipo "),oe(),ie(4,"div",63),Ze(5,"textarea",79,2),ie(7,"div",80),Ze(8,"input",81,3)(10,"input",82,4),oe(),ie(12,"button",83),Wt("click",function(){zn(n);let i=Sl(6),s=Sl(9),o=Sl(11),a=Yt(2);return Yn(a.finishRepair(i.value,s.value,o.value))}),_e(13," Liberar Equipo a Operaci\xF3n "),oe()()()}}function wxe(t,e){t&1&&(ie(0,"span",86),_e(1," ABIERTO "),oe())}function Exe(t,e){if(t&1&&(ie(0,"span",94),_e(1),oe()),t&2){let n=e.$implicit;Ne(),cn(" ",n," ")}}function Sxe(t,e){if(t&1&&(ie(0,"div",89),Is(1,Exe,2,1,"span",94,N1),oe()),t&2){let n=Yt().$implicit;Ne(),Ds(n.partsUsed)}}function Cxe(t,e){t&1&&(ie(0,"span",90),_e(1,"N/A"),oe())}function bxe(t,e){if(t&1&&(ie(0,"tr",84)(1,"td",85),_e(2),ca(3,"date"),er(4,wxe,2,0,"span",86),oe(),ie(5,"td",87),_e(6),oe(),ie(7,"td",88),_e(8),oe(),ie(9,"td",88),er(10,Sxe,3,0,"div",89)(11,Cxe,2,0,"span",90),oe(),ie(12,"td",91)(13,"span",92),_e(14),oe()(),ie(15,"td",93),_e(16),ca(17,"currency"),oe()()),t&2){let n=e.$implicit;Hr("bg-red-50",!n.exitDate)("border-l-4",!n.exitDate)("border-[#ce1126]",!n.exitDate),Ne(2),cn(" ",Cl(3,13,n.entryDate,"shortDate")," "),Ne(2),tr(n.exitDate?-1:4),Ne(2),cn(" ",n.failureDescription," "),Ne(2),cn(" ",n.diagnosis||"-"," "),Ne(2),tr(n.partsUsed&&n.partsUsed.length>0?10:11),Ne(4),vn(n.type),Ne(2),vn(R1(17,16,n.estimatedCost))}}function Txe(t,e){t&1&&(ie(0,"div",51)(1,"div",95),Ze(2,"i",96)(3,"i",97),oe(),ie(4,"p",98),_e(5,"Analizando historial y sensores..."),oe()())}function Axe(t,e){if(t&1){let n=ti();Ze(0,"div",99),ie(1,"button",100),Wt("click",function(){zn(n);let i=Yt(2);return Yn(i.runAnalysis())}),_e(2," Regenerar An\xE1lisis "),oe()}if(t&2){let n=Yt(2);kr("innerHTML",n.aiResult(),Bf)}}function Ixe(t,e){if(t&1){let n=ti();ie(0,"div",101)(1,"p",102),Ze(2,"i",103),_e(3," Esto enviar\xE1 los \xFAltimos 20 reportes a Gemini."),oe()(),ie(4,"button",104),Wt("click",function(){zn(n);let i=Yt(2);return Yn(i.runAnalysis())}),Ze(5,"i",105),_e(6," Ejecutar Predicci\xF3n con IA "),oe()}}function Dxe(t,e){if(t&1){let n=ti();ie(0,"div",52)(1,"div",106)(2,"h3",107),Ze(3,"i",108),_e(4," Procedimiento LOTO"),oe(),ie(5,"button",109),Wt("click",function(){zn(n);let i=Yt(2);return Yn(i.lotoResult.set(null))}),Ze(6,"i",110),oe()(),Ze(7,"div",111),ie(8,"button",112),Wt("click",function(){zn(n);let i=Yt(2);return Yn(i.printLoto())}),Ze(9,"i",113),_e(10," Imprimir Etiqueta "),oe()()}if(t&2){let n=Yt(2);Ne(7),kr("innerHTML",n.lotoResult(),Bf)}}function kxe(t,e){if(t&1){let n=ti();ie(0,"div",5),er(1,mxe,3,0,"div",6),ie(2,"div",7)(3,"div")(4,"div",8)(5,"h2",9),_e(6),oe(),ie(7,"span",10),_e(8),oe()(),ie(9,"p",11),_e(10),oe(),ie(11,"div",12)(12,"span"),Ze(13,"i",13),_e(14),oe(),Ze(15,"span",14),ie(16,"span"),Ze(17,"i",15),_e(18),oe()()(),ie(19,"div",16)(20,"button",17),Wt("click",function(){zn(n);let i=Yt();return Yn(i.close())}),Ze(21,"i",18),oe(),ie(22,"button",19),Wt("click",function(){zn(n);let i=Yt();return Yn(i.exportPdf())}),Ze(23,"i",20),_e(24," PDF "),oe(),ie(25,"button",21),Wt("click",function(){zn(n);let i=Yt();return Yn(i.generateLoto())}),Ze(26,"i",22),_e(27," Generar LOTO "),oe()()(),ie(28,"div",23)(29,"div",24)(30,"div",25)(31,"div",26)(32,"div",27),_e(33,"Combustible"),oe(),ie(34,"div",28),_e(35),oe()(),ie(36,"div",26)(37,"div",27),_e(38,"Adquisici\xF3n"),oe(),ie(39,"div",28),_e(40),ca(41,"date"),oe()(),ie(42,"div",26)(43,"div",27),_e(44,"Total Fallas"),oe(),ie(45,"div",28),_e(46),oe()()(),ie(47,"div",29)(48,"h3",30),Ze(49,"i",31),_e(50," Panel de Control Operativo "),oe(),er(51,_xe,33,4,"div",32)(52,xxe,14,0,"div",33),oe(),ie(53,"div")(54,"div",34),Ze(55,"div",35),ie(56,"h3",36),_e(57,"Historial Cl\xEDnico"),oe()(),ie(58,"div",37)(59,"table",38)(60,"thead",39)(61,"tr")(62,"th",40),_e(63,"Fecha"),oe(),ie(64,"th",41),_e(65,"Falla"),oe(),ie(66,"th",41),_e(67,"Diagn\xF3stico"),oe(),ie(68,"th",41),_e(69,"Refacciones"),oe(),ie(70,"th",41),_e(71,"Tipo"),oe(),ie(72,"th",42),_e(73,"Costo"),oe()()(),ie(74,"tbody",43),Is(75,bxe,18,18,"tr",44,hxe),oe()()()()(),ie(77,"div",45)(78,"div",46)(79,"div",34)(80,"div",47),Ze(81,"i",48),oe(),ie(82,"h3",49),_e(83,"Mantenimiento Predictivo"),oe()(),ie(84,"p",50),_e(85," Gemini AI analiza patrones de desgaste, MTBF y condiciones de uso para predecir fallas futuras. "),oe(),er(86,Txe,6,0,"div",51)(87,Axe,3,1)(88,Ixe,7,0),oe(),er(89,Dxe,11,1,"div",52),oe()()()}if(t&2){let n=Yt();Ne(),tr(n.asset().critical?1:-1),Ne(5),vn(n.asset().id),Ne(2),cn(" ",n.asset().status.name," "),Ne(2),F1("",n.asset().brand," ",n.asset().model," | SN: ",n.asset().serial),Ne(4),vn(n.asset().location),Ne(4),vn(n.asset().fuelType),Ne(17),vn(n.asset().fuelType),Ne(5),vn(Cl(41,14,n.asset().acquisitionDate,"MM/yyyy")),Ne(6),vn(n.history().length),Ne(5),tr(n.asset().status.name==="Operativo"?51:n.asset().status.name==="Taller"?52:-1),Ne(24),Ds(n.history()),Ne(11),tr(n.aiLoading()?86:n.aiResult()?87:88),Ne(3),tr(n.lotoResult()?89:-1)}}var OC=class t{constructor(){this.assetId=B7("");this.dataService=Pt(Ns);this.geminiService=Pt(Qf);this.asset=Tn(()=>this.dataService.getAsset(this.assetId()));this.history=Tn(()=>this.assetId()?this.dataService.getAssetHistory(this.assetId()):[]);this.aiLoading=Sn(!1);this.aiResult=Sn(null);this.analyzingImage=Sn(!1);this.inspectionData=Sn(null);this.lotoResult=Sn(null);Sh(()=>{this.assetId(),this.aiResult.set(null),this.inspectionData.set(null),this.lotoResult.set(null)},{allowSignalWrites:!0})}handleImageUpload(e){let n=e.target.files[0];if(!n)return;this.analyzingImage.set(!0);let r=new FileReader;r.onload=async i=>{let s=i.target.result.split(",")[1],o=await this.geminiService.analyzeImageInspection(s);this.inspectionData.set(o),this.analyzingImage.set(!1)},r.readAsDataURL(n)}async generateLoto(){let e=this.asset();if(!e)return;let n=e.lastFailure||"Mantenimiento General Preventivo";this.lotoResult.set('<p class="text-gray-500 animate-pulse">Generando procedimiento de seguridad...</p>');let r=await this.geminiService.generateLotoProcedure(e,n);this.lotoResult.set(r)}printLoto(){let e=window.open("","","height=600,width=800");e&&this.lotoResult()&&(e.document.write("<html><head><title>LOTO</title>"),e.document.write('<script src="https://cdn.tailwindcss.com"><\/script>'),e.document.write('</head><body class="p-8">'),e.document.write(this.lotoResult()),e.document.write("</body></html>"),e.document.close(),setTimeout(()=>e.print(),500))}reportFailure(e,n){if(!e)return alert("Por favor describe la falla.");this.dataService.reportFailure(this.assetId(),e,n)}finishRepair(e,n,r){if(!e)return alert("El diagn\xF3stico es requerido.");let i=parseFloat(n)||0,s=r.split(",").map(o=>o.trim()).filter(o=>o);this.dataService.completeRepair(this.assetId(),e,i,s)}async runAnalysis(){let e=this.asset();if(!e)return;this.aiLoading.set(!0);let n=await this.geminiService.analyzeMaintenanceHistory(e,this.history());this.aiResult.set(n),this.aiLoading.set(!1)}exportPdf(){let e=new Vt,n=this.asset();if(!n)return;e.setFontSize(20),e.setTextColor(206,17,38),e.text(`Historial Cl\xEDnico: ${n.id}`,14,20),e.setTextColor(0,0,0),e.setFontSize(10),e.text(`Marca: ${n.brand} | Modelo: ${n.model}`,14,28),e.text(`Serie: ${n.serial} | Estatus: ${n.status.name}`,14,33),e.text(`Generado: ${new Date().toLocaleDateString()}`,14,38);let r=this.history().map(i=>[new Date(i.entryDate).toLocaleDateString(),i.failureDescription,i.diagnosis||"-",(i.partsUsed||[]).join(", "),`$${i.estimatedCost}`]);(0,J$.default)(e,{startY:45,head:[["Fecha","Falla","Diagn\xF3stico","Refacciones","Costo"]],body:r,theme:"grid",headStyles:{fillColor:[206,17,38]}}),e.save(`historial_${n.id}.pdf`)}sendEmail(){let e=this.asset();if(!e)return;let n=encodeURIComponent(`Seguimiento de Activo ${e.id} - ${e.status.name}`),r=`
Hola,

Adjunto el seguimiento para el equipo:
ID: ${e.id}
Marca: ${e.brand}
Modelo: ${e.model}
Serie: ${e.serial}

Estatus Actual: ${e.status.name}
\xDAltima Falla Registrada: ${e.lastFailure||"N/A"}

Favor de revisar el historial en el sistema para m\xE1s detalles.

Saludos,
AssetGuard System
    `.trim(),i=encodeURIComponent(r);window.location.href=`mailto:?subject=${n}&body=${i}`}close(){window.dispatchEvent(new CustomEvent("asset-closed"))}printReport(){window.print()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ps({type:t,selectors:[["app-asset-detail"]],inputs:{assetId:[1,"assetId"]},decls:1,vars:1,consts:[["failType",""],["failDesc",""],["diagnosis",""],["cost",""],["parts",""],[1,"bg-white","rounded-xl","shadow-lg","border","border-gray-200","overflow-hidden","animate-fade-in","relative"],[1,"absolute","top-0","right-0","bg-yellow-400","text-black","text-[10px]","uppercase","font-black","px-4","py-2","rounded-bl-lg","z-10","shadow-sm","tracking-wide"],[1,"bg-[#ce1126]","text-white","p-6","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-4"],[1,"flex","items-center","gap-3"],[1,"text-3xl","font-black","tracking-tight"],[1,"px-3","py-0.5","rounded-full","text-xs","font-bold","uppercase","bg-white/20","border","border-white/30","backdrop-blur-sm"],[1,"text-red-100","font-medium","mt-1"],[1,"text-xs","text-red-200","mt-2","flex","gap-2","items-center"],[1,"fas","fa-map-marker-alt","mr-1"],[1,"w-1","h-1","rounded-full","bg-white","opacity-50"],[1,"fas","fa-gas-pump","mr-1"],[1,"flex","flex-wrap","gap-2"],["title","Volver",1,"px-4","py-2","rounded-lg","bg-white/10","hover:bg-white/20","text-white","text-sm","font-bold","transition","border","border-white/10",3,"click"],[1,"fas","fa-arrow-left"],[1,"px-4","py-2","rounded-lg","bg-white","text-[#ce1126]","hover:bg-gray-100","text-sm","font-bold","transition","shadow-md","flex","items-center",3,"click"],[1,"fas","fa-file-pdf","mr-2"],[1,"px-4","py-2","rounded-lg","bg-yellow-400","text-black","hover:bg-yellow-300","text-sm","font-bold","transition","shadow-md","flex","items-center",3,"click"],[1,"fas","fa-lock","mr-2"],[1,"p-6","grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-6"],[1,"grid","grid-cols-3","gap-4"],[1,"p-4","bg-gray-50","rounded-lg","border","border-gray-100","text-center"],[1,"text-[10px]","text-gray-500","uppercase","font-bold","tracking-wider"],[1,"font-bold","text-gray-800","text-lg"],[1,"bg-white","p-6","rounded-xl","border","border-gray-200","shadow-sm"],[1,"text-sm","font-bold","text-gray-400","uppercase","tracking-widest","mb-4","flex","items-center","gap-2"],[1,"fas","fa-cogs"],[1,"bg-red-50","p-5","rounded-lg","border","border-red-100","relative"],[1,"bg-green-50","p-5","rounded-lg","border","border-green-100"],[1,"flex","items-center","gap-3","mb-4"],[1,"h-6","w-1","bg-[#ce1126]"],[1,"text-lg","font-bold","text-gray-800"],[1,"overflow-x-auto","rounded-lg","border","border-gray-200"],[1,"w-full","text-sm","text-left","min-w-[800px]"],[1,"bg-gray-50","text-gray-500","font-bold","text-xs","uppercase","tracking-wider"],[1,"p-3","whitespace-nowrap"],[1,"p-3"],[1,"p-3","text-right"],[1,"divide-y","divide-gray-100"],[1,"hover:bg-gray-50","transition",3,"bg-red-50","border-l-4","border-[#ce1126]"],[1,"space-y-6"],[1,"bg-gradient-to-br","from-gray-900","to-black","p-6","rounded-xl","border","border-gray-800","text-white","shadow-xl"],[1,"p-2","bg-[#ce1126]","text-white","rounded","shadow-sm"],[1,"fas","fa-robot","text-lg"],[1,"text-lg","font-bold"],[1,"text-sm","text-gray-400","mb-6","leading-relaxed"],[1,"flex","flex-col","items-center","justify-center","py-6","text-center","space-y-3"],[1,"bg-yellow-50","p-6","rounded-xl","border","border-yellow-200","shadow-lg"],[1,"fas","fa-exclamation-triangle","mr-1"],[1,"text-[#ce1126]","font-bold","mb-3","flex","items-center","gap-2"],[1,"fas","fa-tools"],[1,"mb-4","p-4","border-2","border-dashed","border-red-200","rounded-lg","bg-white/50","text-center","relative","group","hover:border-red-400","transition-colors"],["type","file","accept","image/*",1,"absolute","inset-0","w-full","h-full","opacity-0","cursor-pointer","z-10",3,"change"],[1,"flex","flex-col","items-center","gap-2"],[1,"fas","fa-camera","text-2xl","text-red-300","group-hover:text-red-500"],[1,"text-xs","font-bold","text-red-800","uppercase"],[1,"text-[10px]","text-gray-500"],[1,"absolute","inset-0","bg-white/90","z-20","flex","items-center","justify-center","text-[#ce1126]","font-bold","text-xs","gap-2"],[1,"flex","flex-col","gap-3"],[1,"w-full","p-2.5","border","border-gray-300","rounded","text-sm","bg-white","focus:ring-2","focus:ring-red-500","outline-none",3,"value"],["value","Mec\xE1nico"],["value","El\xE9ctrico"],["value","Hidr\xE1ulico"],["value","Llantas"],["value","Estructural"],["value","Operador"],["rows","3","placeholder","Describe la falla detalladamente...",1,"w-full","p-2.5","border","border-gray-300","rounded","text-sm","bg-white","focus:ring-2","focus:ring-red-500","outline-none",3,"value"],[1,"bg-white","p-3","rounded","border","border-red-100","text-xs","text-gray-600","mb-2"],[1,"w-full","bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","font-bold","py-2.5","rounded","transition","uppercase","tracking-wide","text-xs",3,"click"],[1,"fas","fa-spinner","fa-spin"],[1,"text-red-700"],[1,"list-disc","pl-4","mt-1"],[1,"text-green-800","font-bold","mb-3","flex","items-center","gap-2"],[1,"fas","fa-check-circle"],["rows","2","placeholder","Diagn\xF3stico final y soluci\xF3n...",1,"w-full","p-2.5","border","border-green-200","rounded","text-sm","bg-white","focus:ring-2","focus:ring-green-500","outline-none"],[1,"grid","grid-cols-2","gap-3"],["type","number","placeholder","Costo Refacciones ($)",1,"p-2.5","border","border-green-200","rounded","text-sm","bg-white"],["type","text","placeholder","Refacciones (separar por coma)",1,"p-2.5","border","border-green-200","rounded","text-sm","bg-white"],[1,"w-full","bg-green-600","hover:bg-green-700","text-white","font-bold","py-2.5","rounded","transition","uppercase","tracking-wide","text-xs",3,"click"],[1,"hover:bg-gray-50","transition"],[1,"p-3","text-gray-600","align-top","whitespace-nowrap","font-medium"],[1,"inline-block","px-2","py-0.5","rounded","bg-[#ce1126]","text-white","text-[10px]","font-bold","mt-1","ml-2"],[1,"p-3","text-gray-900","align-top","font-medium"],[1,"p-3","text-gray-600","text-xs","align-top","max-w-[200px]"],[1,"flex","flex-wrap","gap-1.5"],[1,"text-gray-400","italic","text-xs"],[1,"p-3","align-top"],[1,"px-2","py-1","bg-gray-100","text-gray-600","text-[10px]","font-bold","uppercase","rounded","whitespace-nowrap"],[1,"p-3","text-right","font-mono","text-gray-900","font-bold","align-top","whitespace-nowrap"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-[10px]","font-bold","bg-gray-100","text-gray-600","border","border-gray-200"],[1,"relative"],[1,"fas","fa-circle-notch","fa-spin","text-3xl","text-[#ce1126]"],[1,"fas","fa-brain","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","text-[10px]","text-white"],[1,"text-xs","font-bold","text-gray-300","animate-pulse","uppercase","tracking-wide"],[1,"prose","prose-sm","prose-invert","bg-white/5","p-4","rounded-lg","border","border-white/10","max-h-96","overflow-y-auto","custom-scroll","text-sm",3,"innerHTML"],[1,"mt-4","w-full","py-2","text-xs","font-bold","text-gray-400","hover:text-white","uppercase","tracking-wide","border","border-gray-700","rounded","hover:bg-gray-800","transition",3,"click"],[1,"bg-white/5","rounded-lg","p-3","mb-4","border","border-white/10"],[1,"text-[10px]","text-gray-400","italic","mb-1"],[1,"fas","fa-info-circle","mr-1"],[1,"w-full","py-3","bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","rounded-lg","font-bold","shadow-lg","shadow-red-900/20","transition","flex","items-center","justify-center","gap-2","uppercase","tracking-wide","text-xs",3,"click"],[1,"fas","fa-magic"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-black","text-yellow-800","flex","items-center","gap-2"],[1,"fas","fa-lock"],[1,"text-yellow-600","hover:text-black",3,"click"],[1,"fas","fa-times"],[1,"prose","prose-sm","prose-yellow","max-h-64","overflow-y-auto","custom-scroll",3,"innerHTML"],[1,"w-full","mt-4","py-2","bg-yellow-400","hover:bg-yellow-500","text-black","font-bold","rounded","uppercase","text-xs",3,"click"],[1,"fas","fa-print","mr-1"]],template:function(n,r){n&1&&er(0,kxe,90,17,"div",5),n&2&&tr(r.asset()?0:-1)},dependencies:[Ji,Zf,Fm,Rm,q1,wu],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var l_={};l_.version="0.18.5";var Bc=1200,Km=1252,Nxe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],UF={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},HF=function(t){Nxe.indexOf(t)!=-1&&(Km=UF[0]=t)};function Mxe(){HF(1252)}var Vl=function(t){Bc=t,HF(t)};function $F(){Vl(1200),Mxe()}function IF(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function Pxe(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function oG(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var Jy=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?Pxe(t.slice(2)):e==254&&n==255?oG(t.slice(2)):e==65279?t.slice(1):t},BC=function(e){return String.fromCharCode(e)},Q$=function(e){return String.fromCharCode(e)},fr;var ai=null,Xy=!0,ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function c_(t){for(var e="",n=0,r=0,i=0,s=0,o=0,a=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),o=(n&3)<<4|r>>4,i=t.charCodeAt(c++),a=(r&15)<<2|i>>6,l=i&63,isNaN(r)?a=l=64:isNaN(i)&&(l=64),e+=ad.charAt(s)+ad.charAt(o)+ad.charAt(a)+ad.charAt(l);return e}function ha(t){var e="",n=0,r=0,i=0,s=0,o=0,a=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=ad.indexOf(t.charAt(c++)),o=ad.indexOf(t.charAt(c++)),n=s<<2|o>>4,e+=String.fromCharCode(n),a=ad.indexOf(t.charAt(c++)),r=(o&15)<<4|a>>2,a!==64&&(e+=String.fromCharCode(r)),l=ad.indexOf(t.charAt(c++)),i=(a&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var An=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ou=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function cd(t){return An?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Z$(t){return An?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var fa=function(e){return An?Ou(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function lb(t){if(typeof ArrayBuffer>"u")return fa(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function hd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function Fxe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function qF(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return qF(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var ts=An?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ou(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Rxe(t){for(var e=[],n=0,r=t.length+250,i=cd(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=t.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|a>>6&15|(o&3)<<4,i[n++]=128|a&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(e.push(i.slice(0,n)),n=0,i=cd(65535),r=65530)}return e.push(i.slice(0,n)),ts(e)}var $s=/\u0000/g,Qy=/[\u0001-\u0006]/g;function jm(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Ul(t,e){var n=""+t;return n.length>=e?n:si("0",e-n.length)+n}function GF(t,e){var n=""+t;return n.length>=e?n:si(" ",e-n.length)+n}function XC(t,e){var n=""+t;return n.length>=e?n:n+si(" ",e-n.length)}function Lxe(t,e){var n=""+Math.round(t);return n.length>=e?n:si("0",e-n.length)+n}function Oxe(t,e){var n=""+t;return n.length>=e?n:si("0",e-n.length)+n}var eq=Math.pow(2,32);function Um(t,e){if(t>eq||t<-eq)return Lxe(t,e);var n=Math.round(t);return Oxe(n,e)}function KC(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var tq=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],pF=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Bxe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',t}var Xt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},nq={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Vxe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function JC(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,o=1,a=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),a=f*o+s,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=o,o=a,l=c,c=u;if(u>e&&(c>e?(u=l,a=s):(u=c,a=o)),!n)return[0,r*a,u];var d=Math.floor(r*a/u);return[d,r*a-d*u,u]}function ep(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,o=[],a={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=Wxe(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var aG=new Date(1899,11,31,0,0,0),Uxe=aG.getTime(),Hxe=new Date(1900,2,1,0,0,0);function lG(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=Hxe&&(n+=1440*60*1e3),(n-(Uxe+(t.getTimezoneOffset()-aG.getTimezoneOffset())*6e4))/(1440*60*1e3)}function WF(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function $xe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function qxe(t){var e=t<0?12:11,n=WF(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Gxe(t){var e=WF(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function u_(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=qxe(t):e===10?n=t.toFixed(10).substr(0,12):n=Gxe(t),WF($xe(n.toUpperCase()))}function sp(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):u_(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Wa(14,lG(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Wxe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function jxe(t,e,n,r){var i="",s=0,o=0,a=n.y,l,c=0;switch(t){case 98:a=n.y+543;case 121:switch(e.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return pF[n.m-1][1];case 5:return pF[n.m-1][0];default:return pF[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return tq[n.q][0];default:return tq[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Ul(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=Ul(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=a,c=1;break}var u=c>0?Ul(l,c):"";return u}function ld(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var cG=/%/g;function zxe(t,e,n){var r=e.replace(cG,""),i=e.length-r.length;return Pu(t,r,n*Math.pow(10,2*i))+si("%",i)}function Yxe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Pu(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function uG(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+uG(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var fG=/# (\?+)( ?)\/( ?)(\d+)/;function Xxe(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,a=r;return n+(s===0?"":""+s)+" "+(o===0?si(" ",t[1].length+1+t[4].length):GF(o,t[1].length)+t[2]+"/"+t[3]+Ul(a,t[4].length))}function Kxe(t,e,n){return n+(e===0?"":""+e)+si(" ",t[1].length+2+t[4].length)}var dG=/^#*0*\.([0#]+)/,hG=/\).*[0#]/,pG=/\(###\) ###\\?-####/;function fo(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function rq(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function iq(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Jxe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Qxe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Va(t,e,n){if(t.charCodeAt(0)===40&&!e.match(hG)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Va("n",r,n):"("+Va("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Yxe(t,e,n);if(e.indexOf("%")!==-1)return zxe(t,e,n);if(e.indexOf("E")!==-1)return uG(e,n);if(e.charCodeAt(0)===36)return"$"+Va(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Um(l,e.length);if(e.match(/^[#?]+$/))return i=Um(n,0),i==="0"&&(i=""),i.length>e.length?i:fo(e.substr(0,e.length-i.length))+i;if(s=e.match(fG))return Xxe(s,l,c);if(e.match(/^#+0+$/))return c+Um(l,e.length-e.indexOf("0"));if(s=e.match(dG))return i=rq(n,s[1].length).replace(/^([^\.]+)$/,"$1."+fo(s[1])).replace(/\.$/,"."+fo(s[1])).replace(/\.(\d*)$/,function(g,v){return"."+v+si("0",fo(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+rq(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+ld(Um(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Va(t,e,-n):ld(""+(Math.floor(n)+Jxe(n,s[1].length)))+"."+Ul(iq(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Va(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=jm(Va(t,e.replace(/[\\-]/g,""),n)),o=0,jm(jm(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<i.length?i.charAt(o++):g==="0"?"0":""}));if(e.match(pG))return i=Va(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=JC(l,Math.pow(10,o)-1,!1),i=""+c,u=Pu("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=XC(a[2],o),u.length<s[4].length&&(u=fo(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=JC(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?GF(a[1],o)+s[2]+"/"+s[3]+XC(a[2],o):si(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Um(n,0),e.length<=i.length?i:fo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=e.indexOf(".")-o,d=e.length-i.length-f;return fo(e.substr(0,f)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=iq(n,s[1].length),n<0?"-"+Va(t,e,-n):ld(Qxe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ul(0,3-g.length):"")+g})+"."+Ul(o,s[1].length);switch(e){case"###,##0.00":return Va(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var h=ld(Um(l,0));return h!=="0"?c+h:"";case"###,###.00":return Va(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Va(t,"#,##0.00",n).replace(/^0\./,".");default:}throw new Error("unsupported format |"+e+"|")}function Zxe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Pu(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function e2e(t,e,n){var r=e.replace(cG,""),i=e.length-r.length;return Pu(t,r,n*Math.pow(10,2*i))+si("%",i)}function mG(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+mG(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Rc(t,e,n){if(t.charCodeAt(0)===40&&!e.match(hG)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Rc("n",r,n):"("+Rc("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Zxe(t,e,n);if(e.indexOf("%")!==-1)return e2e(t,e,n);if(e.indexOf("E")!==-1)return mG(e,n);if(e.charCodeAt(0)===36)return"$"+Rc(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Ul(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:fo(e.substr(0,e.length-i.length))+i;if(s=e.match(fG))return Kxe(s,l,c);if(e.match(/^#+0+$/))return c+Ul(l,e.length-e.indexOf("0"));if(s=e.match(dG))return i=(""+n).replace(/^([^\.]+)$/,"$1."+fo(s[1])).replace(/\.$/,"."+fo(s[1])),i=i.replace(/\.(\d*)$/,function(g,v){return"."+v+si("0",fo(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+ld(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Rc(t,e,-n):ld(""+n)+"."+si("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Rc(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=jm(Rc(t,e.replace(/[\\-]/g,""),n)),o=0,jm(jm(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<i.length?i.charAt(o++):g==="0"?"0":""}));if(e.match(pG))return i=Rc(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=JC(l,Math.pow(10,o)-1,!1),i=""+c,u=Pu("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=XC(a[2],o),u.length<s[4].length&&(u=fo(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=JC(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?GF(a[1],o)+s[2]+"/"+s[3]+XC(a[2],o):si(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:fo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var f=e.indexOf(".")-o,d=e.length-i.length-f;return fo(e.substr(0,f)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Rc(t,e,-n):ld(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ul(0,3-g.length):"")+g})+"."+Ul(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=ld(""+l);return h!=="0"?c+h:"";default:if(e.match(/\.[0#?]*$/))return Rc(t,e.slice(0,e.lastIndexOf(".")),n)+fo(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Pu(t,e,n){return(n|0)===n?Rc(t,e,n):Va(t,e,n)}function t2e(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var gG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function eg(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":KC(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(gG))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function n2e(t,e,n,r){for(var i=[],s="",o=0,a="",l="t",c,u,f,d="H";o<t.length;)switch(a=t.charAt(o)){case"G":if(!KC(t,o))throw new Error("unrecognized character "+a+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++o;break;case"\\":var h=t.charAt(++o),g=h==="("||h===")"?h:"t";i[i.length]={t:g,v:h},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(c==null&&(c=ep(e,n,t.charAt(o+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=ep(e,n),c==null))return"";for(s=a;++o<t.length&&t.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=d),i[i.length]={t:a,v:s},l=a;break;case"A":case"a":case"\u4E0A":var v={t:a,v:a};if(c==null&&(c=ep(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",d="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",o+=5,d="h"):t.substr(o,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(c!=null&&(v.v=c.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),v.t="T",o+=5,d="h"):(v.t="t",++o),c==null&&v.t==="T")return"";i[i.length]=v,l=a;break;case"[":for(s=a;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(gG)){if(c==null&&(c=ep(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",eg(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=a;++o<t.length&&(a=t.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<t.length&&"0#?.,E+-%".indexOf(a=t.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;t.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},l=a;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+t);i[i.length]={t:"t",v:a},++o;break}var x=0,_=0,E;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=d,l="h",x<1&&(x=1);break;case"s":(E=i[o].v.match(/\.0+$/))&&(_=Math.max(_,E[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&i[o].v.match(/[Hh]/)&&(x=1),x<2&&i[o].v.match(/[Mm]/)&&(x=2),x<3&&i[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var C="",D;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=jxe(i[o].t.charCodeAt(0),i[o].v,c,_),i[o].t="t";break;case"n":case"?":for(D=o+1;i[D]!=null&&((a=i[D].t)==="?"||a==="D"||(a===" "||a==="t")&&i[D+1]!=null&&(i[D+1].t==="?"||i[D+1].t==="t"&&i[D+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[D].v==="/"||i[D].v===" "&&i[D+1]!=null&&i[D+1].t=="?"));)i[o].v+=i[D].v,i[D]={v:"",t:";"},++D;C+=i[o].v,o=D-1;break;case"G":i[o].t="t",i[o].v=sp(e,n);break}var A="",L,I;if(C.length>0){C.charCodeAt(0)==40?(L=e<0&&C.charCodeAt(0)===45?-e:e,I=Pu("n",C,L)):(L=e<0&&r>1?-e:e,I=Pu("n",C,L),L<0&&i[0]&&i[0].t=="t"&&(I=I.substr(1),i[0].v="-"+i[0].v)),D=I.length-1;var N=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){N=o;break}var O=i.length;if(N===i.length&&I.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(D>=i[o].v.length-1?(D-=i[o].v.length,i[o].v=I.substr(D+1,i[o].v.length)):D<0?i[o].v="":(i[o].v=I.substr(0,D+1),D=-1),i[o].t="t",O=o);D>=0&&O<i.length&&(i[O].v=I.substr(0,D+1)+i[O].v)}else if(N!==i.length&&I.indexOf("E")===-1){for(D=I.indexOf(".")-1,o=N;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(u=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")-1:i[o].v.length-1,A=i[o].v.substr(u+1);u>=0;--u)D>=0&&(i[o].v.charAt(u)==="0"||i[o].v.charAt(u)==="#")&&(A=I.charAt(D--)+A);i[o].v=A,i[o].t="t",O=o}for(D>=0&&O<i.length&&(i[O].v=I.substr(0,D+1)+i[O].v),D=I.indexOf(".")+1,o=N;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==N)){for(u=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")+1:0,A=i[o].v.substr(0,u);u<i[o].v.length;++u)D<I.length&&(A+=I.charAt(D++));i[o].v=A,i[o].t="t",O=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(L=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=Pu(i[o].t,i[o].v,L),i[o].t="t");var V="";for(o=0;o!==i.length;++o)i[o]!=null&&(V+=i[o].v);return V}var sq=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function oq(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function r2e(t,e){var n=t2e(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break;case 4:break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(sq),a=n[1].match(sq);return oq(e,o)?[r,n[0]]:oq(e,a)?[r,n[1]]:[r,n[o!=null&&a!=null?2:1]]}return[r,s]}function Wa(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Xt)[t],r==null&&(r=n.table&&n.table[nq[t]]||Xt[nq[t]]),r==null&&(r=Vxe[t]||"General");break}if(KC(r,0))return sp(e,n);e instanceof Date&&(e=lG(e,n.date1904));var i=r2e(r,e);if(KC(i[1]))return sp(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return n2e(i[1],e,n,i[0])}function Fu(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Xt[n]==null){e<0&&(e=n);continue}if(Xt[n]==t){e=n;break}}e<0&&(e=391)}return Xt[e]=t,e}function cb(t){for(var e=0;e!=392;++e)t[e]!==void 0&&Fu(t[e],e)}function tg(){Xt=Bxe()}var i2e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},vG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function s2e(t){var e=typeof t=="number"?Xt[t]:t;return e=e.replace(vG,"(\\d+)"),new RegExp("^"+e+"$")}function o2e(t,e,n){var r=-1,i=-1,s=-1,o=-1,a=-1,l=-1;(e.match(vG)||[]).forEach(function(f,d){var h=parseInt(n[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=h;break;case"d":s=h;break;case"h":o=h;break;case"s":l=h;break;case"m":o>=0?a=h:i=h;break}}),l>=0&&a==-1&&i>=0&&(a=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var a2e=(function(){var t={};t.version="1.2.0";function e(){for(var I=0,N=new Array(256),O=0;O!=256;++O)I=O,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,N[O]=I;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(I){var N=0,O=0,V=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(V=0;V!=256;++V)P[V]=I[V];for(V=0;V!=256;++V)for(O=I[V],N=256+V;N<4096;N+=256)O=P[N]=O>>>8^I[O&255];var M=[];for(V=1;V!=16;++V)M[V-1]=typeof Int32Array<"u"?P.subarray(V*256,V*256+256):P.slice(V*256,V*256+256);return M}var i=r(n),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],g=i[9],v=i[10],x=i[11],_=i[12],E=i[13],C=i[14];function D(I,N){for(var O=N^-1,V=0,P=I.length;V<P;)O=O>>>8^n[(O^I.charCodeAt(V++))&255];return~O}function A(I,N){for(var O=N^-1,V=I.length-15,P=0;P<V;)O=C[I[P++]^O&255]^E[I[P++]^O>>8&255]^_[I[P++]^O>>16&255]^x[I[P++]^O>>>24]^v[I[P++]]^g[I[P++]]^h[I[P++]]^d[I[P++]]^f[I[P++]]^u[I[P++]]^c[I[P++]]^l[I[P++]]^a[I[P++]]^o[I[P++]]^s[I[P++]]^n[I[P++]];for(V+=15;P<V;)O=O>>>8^n[(O^I[P++])&255];return~O}function L(I,N){for(var O=N^-1,V=0,P=I.length,M=0,X=0;V<P;)M=I.charCodeAt(V++),M<128?O=O>>>8^n[(O^M)&255]:M<2048?(O=O>>>8^n[(O^(192|M>>6&31))&255],O=O>>>8^n[(O^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,X=I.charCodeAt(V++)&1023,O=O>>>8^n[(O^(240|M>>8&7))&255],O=O>>>8^n[(O^(128|M>>2&63))&255],O=O>>>8^n[(O^(128|X>>6&15|(M&3)<<4))&255],O=O>>>8^n[(O^(128|X&63))&255]):(O=O>>>8^n[(O^(224|M>>12&15))&255],O=O>>>8^n[(O^(128|M>>6&63))&255],O=O>>>8^n[(O^(128|M&63))&255]);return~O}return t.table=n,t.bstr=D,t.buf=A,t.str=L,t})(),Ft=(function(){var e={};e.version="1.2.1";function n(j,ce){for(var te=j.split("/"),ne=ce.split("/"),le=0,ue=0,Me=Math.min(te.length,ne.length);le<Me;++le){if(ue=te[le].length-ne[le].length)return ue;if(te[le]!=ne[le])return te[le]<ne[le]?-1:1}return te.length-ne.length}function r(j){if(j.charAt(j.length-1)=="/")return j.slice(0,-1).indexOf("/")===-1?j:r(j.slice(0,-1));var ce=j.lastIndexOf("/");return ce===-1?j:j.slice(0,ce+1)}function i(j){if(j.charAt(j.length-1)=="/")return i(j.slice(0,-1));var ce=j.lastIndexOf("/");return ce===-1?j:j.slice(ce+1)}function s(j,ce){typeof ce=="string"&&(ce=new Date(ce));var te=ce.getHours();te=te<<6|ce.getMinutes(),te=te<<5|ce.getSeconds()>>>1,j.write_shift(2,te);var ne=ce.getFullYear()-1980;ne=ne<<4|ce.getMonth()+1,ne=ne<<5|ce.getDate(),j.write_shift(2,ne)}function o(j){var ce=j.read_shift(2)&65535,te=j.read_shift(2)&65535,ne=new Date,le=te&31;te>>>=5;var ue=te&15;te>>>=4,ne.setMilliseconds(0),ne.setFullYear(te+1980),ne.setMonth(ue-1),ne.setDate(le);var Me=ce&31;ce>>>=5;var Ve=ce&63;return ce>>>=6,ne.setHours(ce),ne.setMinutes(Ve),ne.setSeconds(Me<<1),ne}function a(j){ys(j,0);for(var ce={},te=0;j.l<=j.length-4;){var ne=j.read_shift(2),le=j.read_shift(2),ue=j.l+le,Me={};ne===21589&&(te=j.read_shift(1),te&1&&(Me.mtime=j.read_shift(4)),le>5&&(te&2&&(Me.atime=j.read_shift(4)),te&4&&(Me.ctime=j.read_shift(4))),Me.mtime&&(Me.mt=new Date(Me.mtime*1e3))),j.l=ue,ce[ne]=Me}return ce}var l;function c(){return l||(l={})}function u(j,ce){if(j[0]==80&&j[1]==75)return Vr(j,ce);if((j[0]|32)==109&&(j[1]|32)==105)return ga(j,ce);if(j.length<512)throw new Error("CFB file size "+j.length+" < 512");var te=3,ne=512,le=0,ue=0,Me=0,Ve=0,Pe=0,Le=[],Be=j.slice(0,512);ys(Be,0);var et=f(Be);switch(te=et[0],te){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(et[1]==0)return Vr(j,ce);default:throw new Error("Major Version: Expected 3 or 4 saw "+te)}ne!==512&&(Be=j.slice(0,ne),ys(Be,28));var st=j.slice(0,ne);d(Be,te);var Et=Be.read_shift(4,"i");if(te===3&&Et!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Et);Be.l+=4,Me=Be.read_shift(4,"i"),Be.l+=4,Be.chk("00100000","Mini Stream Cutoff Size: "),Ve=Be.read_shift(4,"i"),le=Be.read_shift(4,"i"),Pe=Be.read_shift(4,"i"),ue=Be.read_shift(4,"i");for(var ot=-1,ht=0;ht<109&&(ot=Be.read_shift(4,"i"),!(ot<0));++ht)Le[ht]=ot;var Qt=h(j,ne);x(Pe,ue,Qt,ne,Le);var jn=E(Qt,Me,Le,ne);jn[Me].name="!Directory",le>0&&Ve!==X&&(jn[Ve].name="!MiniFAT"),jn[Le[0]].name="!FAT",jn.fat_addrs=Le,jn.ssz=ne;var Fi={},Wr=[],Ri=[],$c=[];C(Me,jn,Qt,Wr,le,Fi,Ri,Ve),g(Ri,$c,Wr),Wr.shift();var Gl={FileIndex:Ri,FullPaths:$c};return ce&&ce.raw&&(Gl.raw={header:st,sectors:Qt}),Gl}function f(j){if(j[j.l]==80&&j[j.l+1]==75)return[0,0];j.chk(U,"Header Signature: "),j.l+=16;var ce=j.read_shift(2,"u");return[j.read_shift(2,"u"),ce]}function d(j,ce){var te=9;switch(j.l+=2,te=j.read_shift(2)){case 9:if(ce!=3)throw new Error("Sector Shift: Expected 9 saw "+te);break;case 12:if(ce!=4)throw new Error("Sector Shift: Expected 12 saw "+te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+te)}j.chk("0600","Mini Sector Shift: "),j.chk("000000000000","Reserved: ")}function h(j,ce){for(var te=Math.ceil(j.length/ce)-1,ne=[],le=1;le<te;++le)ne[le-1]=j.slice(le*ce,(le+1)*ce);return ne[te-1]=j.slice(te*ce),ne}function g(j,ce,te){for(var ne=0,le=0,ue=0,Me=0,Ve=0,Pe=te.length,Le=[],Be=[];ne<Pe;++ne)Le[ne]=Be[ne]=ne,ce[ne]=te[ne];for(;Ve<Be.length;++Ve)ne=Be[Ve],le=j[ne].L,ue=j[ne].R,Me=j[ne].C,Le[ne]===ne&&(le!==-1&&Le[le]!==le&&(Le[ne]=Le[le]),ue!==-1&&Le[ue]!==ue&&(Le[ne]=Le[ue])),Me!==-1&&(Le[Me]=ne),le!==-1&&ne!=Le[ne]&&(Le[le]=Le[ne],Be.lastIndexOf(le)<Ve&&Be.push(le)),ue!==-1&&ne!=Le[ne]&&(Le[ue]=Le[ne],Be.lastIndexOf(ue)<Ve&&Be.push(ue));for(ne=1;ne<Pe;++ne)Le[ne]===ne&&(ue!==-1&&Le[ue]!==ue?Le[ne]=Le[ue]:le!==-1&&Le[le]!==le&&(Le[ne]=Le[le]));for(ne=1;ne<Pe;++ne)if(j[ne].type!==0){if(Ve=ne,Ve!=Le[Ve])do Ve=Le[Ve],ce[ne]=ce[Ve]+"/"+ce[ne];while(Ve!==0&&Le[Ve]!==-1&&Ve!=Le[Ve]);Le[ne]=-1}for(ce[0]+="/",ne=1;ne<Pe;++ne)j[ne].type!==2&&(ce[ne]+="/")}function v(j,ce,te){for(var ne=j.start,le=j.size,ue=[],Me=ne;te&&le>0&&Me>=0;)ue.push(ce.slice(Me*M,Me*M+M)),le-=M,Me=Zh(te,Me*4);return ue.length===0?qe(0):ts(ue).slice(0,j.size)}function x(j,ce,te,ne,le){var ue=X;if(j===X){if(ce!==0)throw new Error("DIFAT chain shorter than expected")}else if(j!==-1){var Me=te[j],Ve=(ne>>>2)-1;if(!Me)return;for(var Pe=0;Pe<Ve&&(ue=Zh(Me,Pe*4))!==X;++Pe)le.push(ue);x(Zh(Me,ne-4),ce-1,te,ne,le)}}function _(j,ce,te,ne,le){var ue=[],Me=[];le||(le=[]);var Ve=ne-1,Pe=0,Le=0;for(Pe=ce;Pe>=0;){le[Pe]=!0,ue[ue.length]=Pe,Me.push(j[Pe]);var Be=te[Math.floor(Pe*4/ne)];if(Le=Pe*4&Ve,ne<4+Le)throw new Error("FAT boundary crossed: "+Pe+" 4 "+ne);if(!j[Be])break;Pe=Zh(j[Be],Le)}return{nodes:ue,data:yq([Me])}}function E(j,ce,te,ne){var le=j.length,ue=[],Me=[],Ve=[],Pe=[],Le=ne-1,Be=0,et=0,st=0,Et=0;for(Be=0;Be<le;++Be)if(Ve=[],st=Be+ce,st>=le&&(st-=le),!Me[st]){Pe=[];var ot=[];for(et=st;et>=0;){ot[et]=!0,Me[et]=!0,Ve[Ve.length]=et,Pe.push(j[et]);var ht=te[Math.floor(et*4/ne)];if(Et=et*4&Le,ne<4+Et)throw new Error("FAT boundary crossed: "+et+" 4 "+ne);if(!j[ht]||(et=Zh(j[ht],Et),ot[et]))break}ue[st]={nodes:Ve,data:yq([Pe])}}return ue}function C(j,ce,te,ne,le,ue,Me,Ve){for(var Pe=0,Le=ne.length?2:0,Be=ce[j].data,et=0,st=0,Et;et<Be.length;et+=128){var ot=Be.slice(et,et+128);ys(ot,64),st=ot.read_shift(2),Et=hb(ot,0,st-Le),ne.push(Et);var ht={name:Et,type:ot.read_shift(1),color:ot.read_shift(1),L:ot.read_shift(4,"i"),R:ot.read_shift(4,"i"),C:ot.read_shift(4,"i"),clsid:ot.read_shift(16),state:ot.read_shift(4,"i"),start:0,size:0},Qt=ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2);Qt!==0&&(ht.ct=D(ot,ot.l-8));var jn=ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2);jn!==0&&(ht.mt=D(ot,ot.l-8)),ht.start=ot.read_shift(4,"i"),ht.size=ot.read_shift(4,"i"),ht.size<0&&ht.start<0&&(ht.size=ht.type=0,ht.start=X,ht.name=""),ht.type===5?(Pe=ht.start,le>0&&Pe!==X&&(ce[Pe].name="!StreamData")):ht.size>=4096?(ht.storage="fat",ce[ht.start]===void 0&&(ce[ht.start]=_(te,ht.start,ce.fat_addrs,ce.ssz)),ce[ht.start].name=ht.name,ht.content=ce[ht.start].data.slice(0,ht.size)):(ht.storage="minifat",ht.size<0?ht.size=0:Pe!==X&&ht.start!==X&&ce[Pe]&&(ht.content=v(ht,ce[Pe].data,(ce[Ve]||{}).data))),ht.content&&ys(ht.content,0),ue[Et]=ht,Me.push(ht)}}function D(j,ce){return new Date((es(j,ce+4)/1e7*Math.pow(2,32)+es(j,ce)/1e7-11644473600)*1e3)}function A(j,ce){return c(),u(l.readFileSync(j),ce)}function L(j,ce){var te=ce&&ce.type;switch(te||An&&Buffer.isBuffer(j)&&(te="buffer"),te||"base64"){case"file":return A(j,ce);case"base64":return u(fa(ha(j)),ce);case"binary":return u(fa(j),ce)}return u(j,ce)}function I(j,ce){var te=ce||{},ne=te.root||"Root Entry";if(j.FullPaths||(j.FullPaths=[]),j.FileIndex||(j.FileIndex=[]),j.FullPaths.length!==j.FileIndex.length)throw new Error("inconsistent CFB structure");j.FullPaths.length===0&&(j.FullPaths[0]=ne+"/",j.FileIndex[0]={name:ne,type:5}),te.CLSID&&(j.FileIndex[0].clsid=te.CLSID),N(j)}function N(j){var ce="Sh33tJ5";if(!Ft.find(j,"/"+ce)){var te=qe(4);te[0]=55,te[1]=te[3]=50,te[2]=54,j.FileIndex.push({name:ce,type:2,content:te,size:4,L:69,R:69,C:69}),j.FullPaths.push(j.FullPaths[0]+ce),O(j)}}function O(j,ce){I(j);for(var te=!1,ne=!1,le=j.FullPaths.length-1;le>=0;--le){var ue=j.FileIndex[le];switch(ue.type){case 0:ne?te=!0:(j.FileIndex.pop(),j.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(ue.R*ue.L*ue.C)&&(te=!0),ue.R>-1&&ue.L>-1&&ue.R==ue.L&&(te=!0);break;default:te=!0;break}}if(!(!te&&!ce)){var Me=new Date(1987,1,19),Ve=0,Pe=Object.create?Object.create(null):{},Le=[];for(le=0;le<j.FullPaths.length;++le)Pe[j.FullPaths[le]]=!0,j.FileIndex[le].type!==0&&Le.push([j.FullPaths[le],j.FileIndex[le]]);for(le=0;le<Le.length;++le){var Be=r(Le[le][0]);ne=Pe[Be],ne||(Le.push([Be,{name:i(Be).replace("/",""),type:1,clsid:re,ct:Me,mt:Me,content:null}]),Pe[Be]=!0)}for(Le.sort(function(Et,ot){return n(Et[0],ot[0])}),j.FullPaths=[],j.FileIndex=[],le=0;le<Le.length;++le)j.FullPaths[le]=Le[le][0],j.FileIndex[le]=Le[le][1];for(le=0;le<Le.length;++le){var et=j.FileIndex[le],st=j.FullPaths[le];if(et.name=i(st).replace("/",""),et.L=et.R=et.C=-(et.color=1),et.size=et.content?et.content.length:0,et.start=0,et.clsid=et.clsid||re,le===0)et.C=Le.length>1?1:-1,et.size=0,et.type=5;else if(st.slice(-1)=="/"){for(Ve=le+1;Ve<Le.length&&r(j.FullPaths[Ve])!=st;++Ve);for(et.C=Ve>=Le.length?-1:Ve,Ve=le+1;Ve<Le.length&&r(j.FullPaths[Ve])!=r(st);++Ve);et.R=Ve>=Le.length?-1:Ve,et.type=1}else r(j.FullPaths[le+1]||"")==r(st)&&(et.R=le+1),et.type=2}}}function V(j,ce){var te=ce||{};if(te.fileType=="mad")return Ht(j,te);if(O(j),te.fileType==="zip")return za(j,te);var ne=(function(Et){for(var ot=0,ht=0,Qt=0;Qt<Et.FileIndex.length;++Qt){var jn=Et.FileIndex[Qt];if(jn.content){var Fi=jn.content.length;Fi>0&&(Fi<4096?ot+=Fi+63>>6:ht+=Fi+511>>9)}}for(var Wr=Et.FullPaths.length+3>>2,Ri=ot+7>>3,$c=ot+127>>7,Gl=Ri+ht+Wr+$c,Ya=Gl+127>>7,Wl=Ya<=109?0:Math.ceil((Ya-109)/127);Gl+Ya+Wl+127>>7>Ya;)Wl=++Ya<=109?0:Math.ceil((Ya-109)/127);var Ho=[1,Wl,Ya,$c,Wr,ht,ot,0];return Et.FileIndex[0].size=ot<<6,Ho[7]=(Et.FileIndex[0].start=Ho[0]+Ho[1]+Ho[2]+Ho[3]+Ho[4]+Ho[5])+(Ho[6]+7>>3),Ho})(j),le=qe(ne[7]<<9),ue=0,Me=0;{for(ue=0;ue<8;++ue)le.write_shift(1,z[ue]);for(ue=0;ue<8;++ue)le.write_shift(2,0);for(le.write_shift(2,62),le.write_shift(2,3),le.write_shift(2,65534),le.write_shift(2,9),le.write_shift(2,6),ue=0;ue<3;++ue)le.write_shift(2,0);for(le.write_shift(4,0),le.write_shift(4,ne[2]),le.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),le.write_shift(4,0),le.write_shift(4,4096),le.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:X),le.write_shift(4,ne[3]),le.write_shift(-4,ne[1]?ne[0]-1:X),le.write_shift(4,ne[1]),ue=0;ue<109;++ue)le.write_shift(-4,ue<ne[2]?ne[1]+ue:-1)}if(ne[1])for(Me=0;Me<ne[1];++Me){for(;ue<236+Me*127;++ue)le.write_shift(-4,ue<ne[2]?ne[1]+ue:-1);le.write_shift(-4,Me===ne[1]-1?X:Me+1)}var Ve=function(Et){for(Me+=Et;ue<Me-1;++ue)le.write_shift(-4,ue+1);Et&&(++ue,le.write_shift(-4,X))};for(Me=ue=0,Me+=ne[1];ue<Me;++ue)le.write_shift(-4,Z.DIFSECT);for(Me+=ne[2];ue<Me;++ue)le.write_shift(-4,Z.FATSECT);Ve(ne[3]),Ve(ne[4]);for(var Pe=0,Le=0,Be=j.FileIndex[0];Pe<j.FileIndex.length;++Pe)Be=j.FileIndex[Pe],Be.content&&(Le=Be.content.length,!(Le<4096)&&(Be.start=Me,Ve(Le+511>>9)));for(Ve(ne[6]+7>>3);le.l&511;)le.write_shift(-4,Z.ENDOFCHAIN);for(Me=ue=0,Pe=0;Pe<j.FileIndex.length;++Pe)Be=j.FileIndex[Pe],Be.content&&(Le=Be.content.length,!(!Le||Le>=4096)&&(Be.start=Me,Ve(Le+63>>6)));for(;le.l&511;)le.write_shift(-4,Z.ENDOFCHAIN);for(ue=0;ue<ne[4]<<2;++ue){var et=j.FullPaths[ue];if(!et||et.length===0){for(Pe=0;Pe<17;++Pe)le.write_shift(4,0);for(Pe=0;Pe<3;++Pe)le.write_shift(4,-1);for(Pe=0;Pe<12;++Pe)le.write_shift(4,0);continue}Be=j.FileIndex[ue],ue===0&&(Be.start=Be.size?Be.start-1:X);var st=ue===0&&te.root||Be.name;if(Le=2*(st.length+1),le.write_shift(64,st,"utf16le"),le.write_shift(2,Le),le.write_shift(1,Be.type),le.write_shift(1,Be.color),le.write_shift(-4,Be.L),le.write_shift(-4,Be.R),le.write_shift(-4,Be.C),Be.clsid)le.write_shift(16,Be.clsid,"hex");else for(Pe=0;Pe<4;++Pe)le.write_shift(4,0);le.write_shift(4,Be.state||0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,Be.start),le.write_shift(4,Be.size),le.write_shift(4,0)}for(ue=1;ue<j.FileIndex.length;++ue)if(Be=j.FileIndex[ue],Be.size>=4096)if(le.l=Be.start+1<<9,An&&Buffer.isBuffer(Be.content))Be.content.copy(le,le.l,0,Be.size),le.l+=Be.size+511&-512;else{for(Pe=0;Pe<Be.size;++Pe)le.write_shift(1,Be.content[Pe]);for(;Pe&511;++Pe)le.write_shift(1,0)}for(ue=1;ue<j.FileIndex.length;++ue)if(Be=j.FileIndex[ue],Be.size>0&&Be.size<4096)if(An&&Buffer.isBuffer(Be.content))Be.content.copy(le,le.l,0,Be.size),le.l+=Be.size+63&-64;else{for(Pe=0;Pe<Be.size;++Pe)le.write_shift(1,Be.content[Pe]);for(;Pe&63;++Pe)le.write_shift(1,0)}if(An)le.l=le.length;else for(;le.l<le.length;)le.write_shift(1,0);return le}function P(j,ce){var te=j.FullPaths.map(function(Pe){return Pe.toUpperCase()}),ne=te.map(function(Pe){var Le=Pe.split("/");return Le[Le.length-(Pe.slice(-1)=="/"?2:1)]}),le=!1;ce.charCodeAt(0)===47?(le=!0,ce=te[0].slice(0,-1)+ce):le=ce.indexOf("/")!==-1;var ue=ce.toUpperCase(),Me=le===!0?te.indexOf(ue):ne.indexOf(ue);if(Me!==-1)return j.FileIndex[Me];var Ve=!ue.match(Qy);for(ue=ue.replace($s,""),Ve&&(ue=ue.replace(Qy,"!")),Me=0;Me<te.length;++Me)if((Ve?te[Me].replace(Qy,"!"):te[Me]).replace($s,"")==ue||(Ve?ne[Me].replace(Qy,"!"):ne[Me]).replace($s,"")==ue)return j.FileIndex[Me];return null}var M=64,X=-2,U="d0cf11e0a1b11ae1",z=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:X,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function de(j,ce,te){c();var ne=V(j,te);l.writeFileSync(ce,ne)}function fe(j){for(var ce=new Array(j.length),te=0;te<j.length;++te)ce[te]=String.fromCharCode(j[te]);return ce.join("")}function me(j,ce){var te=V(j,ce);switch(ce&&ce.type||"buffer"){case"file":return c(),l.writeFileSync(ce.filename,te),te;case"binary":return typeof te=="string"?te:fe(te);case"base64":return c_(typeof te=="string"?te:fe(te));case"buffer":if(An)return Buffer.isBuffer(te)?te:Ou(te);case"array":return typeof te=="string"?fa(te):te}return te}var ge;function T(j){try{var ce=j.InflateRaw,te=new ce;if(te._processChunk(new Uint8Array([3,0]),te._finishFlushFlag),te.bytesRead)ge=j;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function B(j,ce){if(!ge)return On(j,ce);var te=ge.InflateRaw,ne=new te,le=ne._processChunk(j.slice(j.l),ne._finishFlushFlag);return j.l+=ne.bytesRead,le}function F(j){return ge?ge.deflateRawSync(j):vt(j)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ve(j){var ce=(j<<1|j<<11)&139536|(j<<5|j<<15)&558144;return(ce>>16|ce>>8|ce)&255}for(var xe=typeof Uint8Array<"u",be=xe?new Uint8Array(256):[],He=0;He<256;++He)be[He]=ve(He);function ee(j,ce){var te=be[j&255];return ce<=8?te>>>8-ce:(te=te<<8|be[j>>8&255],ce<=16?te>>>16-ce:(te=te<<8|be[j>>16&255],te>>>24-ce))}function tt(j,ce){var te=ce&7,ne=ce>>>3;return(j[ne]|(te<=6?0:j[ne+1]<<8))>>>te&3}function at(j,ce){var te=ce&7,ne=ce>>>3;return(j[ne]|(te<=5?0:j[ne+1]<<8))>>>te&7}function Oe(j,ce){var te=ce&7,ne=ce>>>3;return(j[ne]|(te<=4?0:j[ne+1]<<8))>>>te&15}function ae(j,ce){var te=ce&7,ne=ce>>>3;return(j[ne]|(te<=3?0:j[ne+1]<<8))>>>te&31}function We(j,ce){var te=ce&7,ne=ce>>>3;return(j[ne]|(te<=1?0:j[ne+1]<<8))>>>te&127}function ft(j,ce,te){var ne=ce&7,le=ce>>>3,ue=(1<<te)-1,Me=j[le]>>>ne;return te<8-ne||(Me|=j[le+1]<<8-ne,te<16-ne)||(Me|=j[le+2]<<16-ne,te<24-ne)||(Me|=j[le+3]<<24-ne),Me&ue}function Je(j,ce,te){var ne=ce&7,le=ce>>>3;return ne<=5?j[le]|=(te&7)<<ne:(j[le]|=te<<ne&255,j[le+1]=(te&7)>>8-ne),ce+3}function it(j,ce,te){var ne=ce&7,le=ce>>>3;return te=(te&1)<<ne,j[le]|=te,ce+1}function dt(j,ce,te){var ne=ce&7,le=ce>>>3;return te<<=ne,j[le]|=te&255,te>>>=8,j[le+1]=te,ce+8}function pt(j,ce,te){var ne=ce&7,le=ce>>>3;return te<<=ne,j[le]|=te&255,te>>>=8,j[le+1]=te&255,j[le+2]=te>>>8,ce+16}function At(j,ce){var te=j.length,ne=2*te>ce?2*te:ce+5,le=0;if(te>=ce)return j;if(An){var ue=Z$(ne);if(j.copy)j.copy(ue);else for(;le<j.length;++le)ue[le]=j[le];return ue}else if(xe){var Me=new Uint8Array(ne);if(Me.set)Me.set(j);else for(;le<te;++le)Me[le]=j[le];return Me}return j.length=ne,j}function Dt(j){for(var ce=new Array(j),te=0;te<j;++te)ce[te]=0;return ce}function qt(j,ce,te){var ne=1,le=0,ue=0,Me=0,Ve=0,Pe=j.length,Le=xe?new Uint16Array(32):Dt(32);for(ue=0;ue<32;++ue)Le[ue]=0;for(ue=Pe;ue<te;++ue)j[ue]=0;Pe=j.length;var Be=xe?new Uint16Array(Pe):Dt(Pe);for(ue=0;ue<Pe;++ue)Le[le=j[ue]]++,ne<le&&(ne=le),Be[ue]=0;for(Le[0]=0,ue=1;ue<=ne;++ue)Le[ue+16]=Ve=Ve+Le[ue-1]<<1;for(ue=0;ue<Pe;++ue)Ve=j[ue],Ve!=0&&(Be[ue]=Le[Ve+16]++);var et=0;for(ue=0;ue<Pe;++ue)if(et=j[ue],et!=0)for(Ve=ee(Be[ue],ne)>>ne-et,Me=(1<<ne+4-et)-1;Me>=0;--Me)ce[Ve|Me<<et]=et&15|ue<<4;return ne}var en=xe?new Uint16Array(512):Dt(512),Cn=xe?new Uint16Array(32):Dt(32);if(!xe){for(var ln=0;ln<512;++ln)en[ln]=0;for(ln=0;ln<32;++ln)Cn[ln]=0}(function(){for(var j=[],ce=0;ce<32;ce++)j.push(5);qt(j,Cn,32);var te=[];for(ce=0;ce<=143;ce++)te.push(8);for(;ce<=255;ce++)te.push(9);for(;ce<=279;ce++)te.push(7);for(;ce<=287;ce++)te.push(8);qt(te,en,288)})();var kt=(function(){for(var ce=xe?new Uint8Array(32768):[],te=0,ne=0;te<ye.length-1;++te)for(;ne<ye[te+1];++ne)ce[ne]=te;for(;ne<32768;++ne)ce[ne]=29;var le=xe?new Uint8Array(259):[];for(te=0,ne=0;te<Q.length-1;++te)for(;ne<Q[te+1];++ne)le[ne]=te;function ue(Ve,Pe){for(var Le=0;Le<Ve.length;){var Be=Math.min(65535,Ve.length-Le),et=Le+Be==Ve.length;for(Pe.write_shift(1,+et),Pe.write_shift(2,Be),Pe.write_shift(2,~Be&65535);Be-- >0;)Pe[Pe.l++]=Ve[Le++]}return Pe.l}function Me(Ve,Pe){for(var Le=0,Be=0,et=xe?new Uint16Array(32768):[];Be<Ve.length;){var st=Math.min(65535,Ve.length-Be);if(st<10){for(Le=Je(Pe,Le,+(Be+st==Ve.length)),Le&7&&(Le+=8-(Le&7)),Pe.l=Le/8|0,Pe.write_shift(2,st),Pe.write_shift(2,~st&65535);st-- >0;)Pe[Pe.l++]=Ve[Be++];Le=Pe.l*8;continue}Le=Je(Pe,Le,+(Be+st==Ve.length)+2);for(var Et=0;st-- >0;){var ot=Ve[Be];Et=(Et<<5^ot)&32767;var ht=-1,Qt=0;if((ht=et[Et])&&(ht|=Be&-32768,ht>Be&&(ht-=32768),ht<Be))for(;Ve[ht+Qt]==Ve[Be+Qt]&&Qt<250;)++Qt;if(Qt>2){ot=le[Qt],ot<=22?Le=dt(Pe,Le,be[ot+1]>>1)-1:(dt(Pe,Le,3),Le+=5,dt(Pe,Le,be[ot-23]>>5),Le+=3);var jn=ot<8?0:ot-4>>2;jn>0&&(pt(Pe,Le,Qt-Q[ot]),Le+=jn),ot=ce[Be-ht],Le=dt(Pe,Le,be[ot]>>3),Le-=3;var Fi=ot<4?0:ot-2>>1;Fi>0&&(pt(Pe,Le,Be-ht-ye[ot]),Le+=Fi);for(var Wr=0;Wr<Qt;++Wr)et[Et]=Be&32767,Et=(Et<<5^Ve[Be])&32767,++Be;st-=Qt-1}else ot<=143?ot=ot+48:Le=it(Pe,Le,1),Le=dt(Pe,Le,be[ot]),et[Et]=Be&32767,++Be}Le=dt(Pe,Le,0)-1}return Pe.l=(Le+7)/8|0,Pe.l}return function(Pe,Le){return Pe.length<8?ue(Pe,Le):Me(Pe,Le)}})();function vt(j){var ce=qe(50+Math.floor(j.length*1.1)),te=kt(j,ce);return ce.slice(0,te)}var rt=xe?new Uint16Array(32768):Dt(32768),dr=xe?new Uint16Array(32768):Dt(32768),Ut=xe?new Uint16Array(128):Dt(128),Mi=1,ir=1;function Pr(j,ce){var te=ae(j,ce)+257;ce+=5;var ne=ae(j,ce)+1;ce+=5;var le=Oe(j,ce)+4;ce+=4;for(var ue=0,Me=xe?new Uint8Array(19):Dt(19),Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Pe=1,Le=xe?new Uint8Array(8):Dt(8),Be=xe?new Uint8Array(8):Dt(8),et=Me.length,st=0;st<le;++st)Me[H[st]]=ue=at(j,ce),Pe<ue&&(Pe=ue),Le[ue]++,ce+=3;var Et=0;for(Le[0]=0,st=1;st<=Pe;++st)Be[st]=Et=Et+Le[st-1]<<1;for(st=0;st<et;++st)(Et=Me[st])!=0&&(Ve[st]=Be[Et]++);var ot=0;for(st=0;st<et;++st)if(ot=Me[st],ot!=0){Et=be[Ve[st]]>>8-ot;for(var ht=(1<<7-ot)-1;ht>=0;--ht)Ut[Et|ht<<ot]=ot&7|st<<3}var Qt=[];for(Pe=1;Qt.length<te+ne;)switch(Et=Ut[We(j,ce)],ce+=Et&7,Et>>>=3){case 16:for(ue=3+tt(j,ce),ce+=2,Et=Qt[Qt.length-1];ue-- >0;)Qt.push(Et);break;case 17:for(ue=3+at(j,ce),ce+=3;ue-- >0;)Qt.push(0);break;case 18:for(ue=11+We(j,ce),ce+=7;ue-- >0;)Qt.push(0);break;default:Qt.push(Et),Pe<Et&&(Pe=Et);break}var jn=Qt.slice(0,te),Fi=Qt.slice(te);for(st=te;st<286;++st)jn[st]=0;for(st=ne;st<30;++st)Fi[st]=0;return Mi=qt(jn,rt,286),ir=qt(Fi,dr,30),ce}function pa(j,ce){if(j[0]==3&&!(j[1]&3))return[cd(ce),2];for(var te=0,ne=0,le=Z$(ce||1<<18),ue=0,Me=le.length>>>0,Ve=0,Pe=0;(ne&1)==0;){if(ne=at(j,te),te+=3,ne>>>1)ne>>1==1?(Ve=9,Pe=5):(te=Pr(j,te),Ve=Mi,Pe=ir);else{te&7&&(te+=8-(te&7));var Le=j[te>>>3]|j[(te>>>3)+1]<<8;if(te+=32,Le>0)for(!ce&&Me<ue+Le&&(le=At(le,ue+Le),Me=le.length);Le-- >0;)le[ue++]=j[te>>>3],te+=8;continue}for(;;){!ce&&Me<ue+32767&&(le=At(le,ue+32767),Me=le.length);var Be=ft(j,te,Ve),et=ne>>>1==1?en[Be]:rt[Be];if(te+=et&15,et>>>=4,(et>>>8&255)===0)le[ue++]=et;else{if(et==256)break;et-=257;var st=et<8?0:et-4>>2;st>5&&(st=0);var Et=ue+Q[et];st>0&&(Et+=ft(j,te,st),te+=st),Be=ft(j,te,Pe),et=ne>>>1==1?Cn[Be]:dr[Be],te+=et&15,et>>>=4;var ot=et<4?0:et-2>>1,ht=ye[et];for(ot>0&&(ht+=ft(j,te,ot),te+=ot),!ce&&Me<Et&&(le=At(le,Et+100),Me=le.length);ue<Et;)le[ue]=le[ue-ht],++ue}}}return ce?[le,te+7>>>3]:[le.slice(0,ue),te+7>>>3]}function On(j,ce){var te=j.slice(j.l||0),ne=pa(te,ce);return j.l+=ne[1],ne[0]}function ql(j,ce){if(j)typeof console<"u"&&console.error(ce);else throw new Error(ce)}function Vr(j,ce){var te=j;ys(te,0);var ne=[],le=[],ue={FileIndex:ne,FullPaths:le};I(ue,{root:ce.root});for(var Me=te.length-4;(te[Me]!=80||te[Me+1]!=75||te[Me+2]!=5||te[Me+3]!=6)&&Me>=0;)--Me;te.l=Me+4,te.l+=4;var Ve=te.read_shift(2);te.l+=6;var Pe=te.read_shift(4);for(te.l=Pe,Me=0;Me<Ve;++Me){te.l+=20;var Le=te.read_shift(4),Be=te.read_shift(4),et=te.read_shift(2),st=te.read_shift(2),Et=te.read_shift(2);te.l+=8;var ot=te.read_shift(4),ht=a(te.slice(te.l+et,te.l+et+st));te.l+=et+st+Et;var Qt=te.l;te.l=ot+4,Vo(te,Le,Be,ue,ht),te.l=Qt}return ue}function Vo(j,ce,te,ne,le){j.l+=2;var ue=j.read_shift(2),Me=j.read_shift(2),Ve=o(j);if(ue&8257)throw new Error("Unsupported ZIP encryption");for(var Pe=j.read_shift(4),Le=j.read_shift(4),Be=j.read_shift(4),et=j.read_shift(2),st=j.read_shift(2),Et="",ot=0;ot<et;++ot)Et+=String.fromCharCode(j[j.l++]);if(st){var ht=a(j.slice(j.l,j.l+st));(ht[21589]||{}).mt&&(Ve=ht[21589].mt),((le||{})[21589]||{}).mt&&(Ve=le[21589].mt)}j.l+=st;var Qt=j.slice(j.l,j.l+Le);switch(Me){case 8:Qt=B(j,Be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Me)}var jn=!1;ue&8&&(Pe=j.read_shift(4),Pe==134695760&&(Pe=j.read_shift(4),jn=!0),Le=j.read_shift(4),Be=j.read_shift(4)),Le!=ce&&ql(jn,"Bad compressed size: "+ce+" != "+Le),Be!=te&&ql(jn,"Bad uncompressed size: "+te+" != "+Be),po(ne,Et,Qt,{unsafe:!0,mt:Ve})}function za(j,ce){var te=ce||{},ne=[],le=[],ue=qe(1),Me=te.compression?8:0,Ve=0,Pe=!1;Pe&&(Ve|=8);var Le=0,Be=0,et=0,st=0,Et=j.FullPaths[0],ot=Et,ht=j.FileIndex[0],Qt=[],jn=0;for(Le=1;Le<j.FullPaths.length;++Le)if(ot=j.FullPaths[Le].slice(Et.length),ht=j.FileIndex[Le],!(!ht.size||!ht.content||ot=="Sh33tJ5")){var Fi=et,Wr=qe(ot.length);for(Be=0;Be<ot.length;++Be)Wr.write_shift(1,ot.charCodeAt(Be)&127);Wr=Wr.slice(0,Wr.l),Qt[st]=a2e.buf(ht.content,0);var Ri=ht.content;Me==8&&(Ri=F(Ri)),ue=qe(30),ue.write_shift(4,67324752),ue.write_shift(2,20),ue.write_shift(2,Ve),ue.write_shift(2,Me),ht.mt?s(ue,ht.mt):ue.write_shift(4,0),ue.write_shift(-4,Ve&8?0:Qt[st]),ue.write_shift(4,Ve&8?0:Ri.length),ue.write_shift(4,Ve&8?0:ht.content.length),ue.write_shift(2,Wr.length),ue.write_shift(2,0),et+=ue.length,ne.push(ue),et+=Wr.length,ne.push(Wr),et+=Ri.length,ne.push(Ri),Ve&8&&(ue=qe(12),ue.write_shift(-4,Qt[st]),ue.write_shift(4,Ri.length),ue.write_shift(4,ht.content.length),et+=ue.l,ne.push(ue)),ue=qe(46),ue.write_shift(4,33639248),ue.write_shift(2,0),ue.write_shift(2,20),ue.write_shift(2,Ve),ue.write_shift(2,Me),ue.write_shift(4,0),ue.write_shift(-4,Qt[st]),ue.write_shift(4,Ri.length),ue.write_shift(4,ht.content.length),ue.write_shift(2,Wr.length),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(4,0),ue.write_shift(4,Fi),jn+=ue.l,le.push(ue),jn+=Wr.length,le.push(Wr),++st}return ue=qe(22),ue.write_shift(4,101010256),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,st),ue.write_shift(2,st),ue.write_shift(4,jn),ue.write_shift(4,et),ue.write_shift(2,0),ts([ts(ne),ts(le),ue])}var Tr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function tn(j,ce){if(j.ctype)return j.ctype;var te=j.name||"",ne=te.match(/\.([^\.]+)$/);return ne&&Tr[ne[1]]||ce&&(ne=(te=ce).match(/[\.\\]([^\.\\])+$/),ne&&Tr[ne[1]])?Tr[ne[1]]:"application/octet-stream"}function Wn(j){for(var ce=c_(j),te=[],ne=0;ne<ce.length;ne+=76)te.push(ce.slice(ne,ne+76));return te.join(`\r
`)+`\r
`}function Hc(j){var ce=j.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Le){var Be=Le.charCodeAt(0).toString(16).toUpperCase();return"="+(Be.length==1?"0"+Be:Be)});ce=ce.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ce.charAt(0)==`
`&&(ce="=0D"+ce.slice(1)),ce=ce.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var te=[],ne=ce.split(`\r
`),le=0;le<ne.length;++le){var ue=ne[le];if(ue.length==0){te.push("");continue}for(var Me=0;Me<ue.length;){var Ve=76,Pe=ue.slice(Me,Me+Ve);Pe.charAt(Ve-1)=="="?Ve--:Pe.charAt(Ve-2)=="="?Ve-=2:Pe.charAt(Ve-3)=="="&&(Ve-=3),Pe=ue.slice(Me,Me+Ve),Me+=Ve,Me<ue.length&&(Pe+="="),te.push(Pe)}}return te.join(`\r
`)}function Pi(j){for(var ce=[],te=0;te<j.length;++te){for(var ne=j[te];te<=j.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+j[++te];ce.push(ne)}for(var le=0;le<ce.length;++le)ce[le]=ce[le].replace(/[=][0-9A-Fa-f]{2}/g,function(ue){return String.fromCharCode(parseInt(ue.slice(1),16))});return fa(ce.join(`\r
`))}function ma(j,ce,te){for(var ne="",le="",ue="",Me,Ve=0;Ve<10;++Ve){var Pe=ce[Ve];if(!Pe||Pe.match(/^\s*$/))break;var Le=Pe.match(/^(.*?):\s*([^\s].*)$/);if(Le)switch(Le[1].toLowerCase()){case"content-location":ne=Le[2].trim();break;case"content-type":ue=Le[2].trim();break;case"content-transfer-encoding":le=Le[2].trim();break}}switch(++Ve,le.toLowerCase()){case"base64":Me=fa(ha(ce.slice(Ve).join("")));break;case"quoted-printable":Me=Pi(ce.slice(Ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+le)}var Be=po(j,ne.slice(te.length),Me,{unsafe:!0});ue&&(Be.ctype=ue)}function ga(j,ce){if(fe(j.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var te=ce&&ce.root||"",ne=(An&&Buffer.isBuffer(j)?j.toString("binary"):fe(j)).split(`\r
`),le=0,ue="";for(le=0;le<ne.length;++le)if(ue=ne[le],!!/^Content-Location:/i.test(ue)&&(ue=ue.slice(ue.indexOf("file")),te||(te=ue.slice(0,ue.lastIndexOf("/")+1)),ue.slice(0,te.length)!=te))for(;te.length>0&&(te=te.slice(0,te.length-1),te=te.slice(0,te.lastIndexOf("/")+1),ue.slice(0,te.length)!=te););var Me=(ne[1]||"").match(/boundary="(.*?)"/);if(!Me)throw new Error("MAD cannot find boundary");var Ve="--"+(Me[1]||""),Pe=[],Le=[],Be={FileIndex:Pe,FullPaths:Le};I(Be);var et,st=0;for(le=0;le<ne.length;++le){var Et=ne[le];Et!==Ve&&Et!==Ve+"--"||(st++&&ma(Be,ne.slice(et,le),te),et=le)}return Be}function Ht(j,ce){var te=ce||{},ne=te.boundary||"SheetJS";ne="------="+ne;for(var le=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],ue=j.FullPaths[0],Me=ue,Ve=j.FileIndex[0],Pe=1;Pe<j.FullPaths.length;++Pe)if(Me=j.FullPaths[Pe].slice(ue.length),Ve=j.FileIndex[Pe],!(!Ve.size||!Ve.content||Me=="Sh33tJ5")){Me=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qt){return"_x"+Qt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qt){return"_u"+Qt.charCodeAt(0).toString(16)+"_"});for(var Le=Ve.content,Be=An&&Buffer.isBuffer(Le)?Le.toString("binary"):fe(Le),et=0,st=Math.min(1024,Be.length),Et=0,ot=0;ot<=st;++ot)(Et=Be.charCodeAt(ot))>=32&&Et<128&&++et;var ht=et>=st*4/5;le.push(ne),le.push("Content-Location: "+(te.root||"file:///C:/SheetJS/")+Me),le.push("Content-Transfer-Encoding: "+(ht?"quoted-printable":"base64")),le.push("Content-Type: "+tn(Ve,Me)),le.push(""),le.push(ht?Hc(Be):Wn(Be))}return le.push(ne+`--\r
`),le.join(`\r
`)}function Uo(j){var ce={};return I(ce,j),ce}function po(j,ce,te,ne){var le=ne&&ne.unsafe;le||I(j);var ue=!le&&Ft.find(j,ce);if(!ue){var Me=j.FullPaths[0];ce.slice(0,Me.length)==Me?Me=ce:(Me.slice(-1)!="/"&&(Me+="/"),Me=(Me+ce).replace("//","/")),ue={name:i(ce),type:2},j.FileIndex.push(ue),j.FullPaths.push(Me),le||Ft.utils.cfb_gc(j)}return ue.content=te,ue.size=te?te.length:0,ne&&(ne.CLSID&&(ue.clsid=ne.CLSID),ne.mt&&(ue.mt=ne.mt),ne.ct&&(ue.ct=ne.ct)),ue}function xs(j,ce){I(j);var te=Ft.find(j,ce);if(te){for(var ne=0;ne<j.FileIndex.length;++ne)if(j.FileIndex[ne]==te)return j.FileIndex.splice(ne,1),j.FullPaths.splice(ne,1),!0}return!1}function ci(j,ce,te){I(j);var ne=Ft.find(j,ce);if(ne){for(var le=0;le<j.FileIndex.length;++le)if(j.FileIndex[le]==ne)return j.FileIndex[le].name=i(te),j.FullPaths[le]=te,!0}return!1}function Qr(j){O(j,!0)}return e.find=P,e.read=L,e.parse=u,e.write=me,e.writeFile=de,e.utils={cfb_new:Uo,cfb_add:po,cfb_del:xs,cfb_mov:ci,cfb_gc:Qr,ReadShift:e_,CheckField:RG,prep_blob:ys,bconcat:ts,use_zlib:T,_deflateRaw:vt,_inflateRaw:On,consts:Z},e})(),Gm;function l2e(t){return typeof t=="string"?lb(t):Array.isArray(t)?Fxe(t):t}function E_(t,e,n){if(typeof Gm<"u"&&Gm.writeFileSync)return n?Gm.writeFileSync(t,e,n):Gm.writeFileSync(t,e);if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=lb(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Oc(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([l2e(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(t);return a.open("w"),a.encoding="binary",Array.isArray(e)&&(e=hd(e)),a.write(e),a.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function c2e(t){if(typeof Gm<"u")return Gm.readFileSync(t);if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function li(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function aq(t,e){for(var n=[],r=li(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function ub(t){for(var e=[],n=li(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function fb(t){for(var e=[],n=li(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function u2e(t){for(var e=[],n=li(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var QC=new Date(1899,11,30,0,0,0);function Gi(t,e){var n=t.getTime();e&&(n-=1462*24*60*60*1e3);var r=QC.getTime()+(t.getTimezoneOffset()-QC.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var yG=new Date,f2e=QC.getTime()+(yG.getTimezoneOffset()-QC.getTimezoneOffset())*6e4,lq=yG.getTimezoneOffset();function db(t){var e=new Date;return e.setTime(t*24*60*60*1e3+f2e),e.getTimezoneOffset()!==lq&&e.setTime(e.getTime()+(e.getTimezoneOffset()-lq)*6e4),e}function d2e(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M");case"S":break}e+=n*parseInt(i[s],10)}return e}var cq=new Date("2017-02-19T19:06:09.000Z"),_G=isNaN(cq.getFullYear())?new Date("2/19/17"):cq,h2e=_G.getFullYear()==2017;function qr(t,e){var n=new Date(t);if(h2e)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(_G.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function op(t,e){if(An&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Oc(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Oc(oG(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Oc(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Oc(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Gr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Gr(t[n]));return e}function si(t,e){for(var n="";n.length<e;)n+=t;return n}function Hl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var p2e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Jm(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&p2e.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var m2e=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],a=1;a<s.length;++a)o.push(i),o.push(s[a]);return o}})();function xG(t){return t?t.content&&t.type?op(t.content,!0):t.data?Jy(t.data):t.asNodeBuffer&&An?Jy(t.asNodeBuffer().toString("binary")):t.asBinary?Jy(t.asBinary()):t._data&&t._data.getContent?Jy(op(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function wG(t){if(!t)return null;if(t.data)return IF(t.data);if(t.asNodeBuffer&&An)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?IF(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function g2e(t){return t&&t.name.slice(-4)===".bin"?wG(t):xG(t)}function $a(t,e){for(var n=t.FullPaths||li(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function jF(t,e){var n=$a(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function ki(t,e,n){if(!n)return g2e(jF(t,e));if(!e)return null;try{return ki(t,e)}catch{return null}}function da(t,e,n){if(!n)return xG(jF(t,e));if(!e)return null;try{return da(t,e)}catch{return null}}function EG(t,e,n){if(!n)return wG(jF(t,e));if(!e)return null;try{return EG(t,e)}catch{return null}}function uq(t){for(var e=t.FullPaths||li(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function _n(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return An?r=Ou(n):r=Rxe(n),Ft.utils.cfb_add(t,e,r)}Ft.utils.cfb_add(t,e,n)}else t.file(e,n)}function zF(){return Ft.utils.cfb_new()}function SG(t,e){switch(e.type){case"base64":return Ft.read(t,{type:"base64"});case"binary":return Ft.read(t,{type:"binary"});case"buffer":case"array":return Ft.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Zy(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var wi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,v2e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,fq=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,y2e=/<[^>]*>/g,Ws=wi.match(fq)?fq:y2e,_2e=/<\w*:/,x2e=/<(\/?)\w+:/;function Zt(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var o=t.match(v2e),a=0,l="",c=0,u="",f="",d=1;if(o)for(c=0;c!=o.length;++c){for(f=o[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(d=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+d,f.length-d),a=0;a!=u.length&&u.charCodeAt(a)!==58;++a);if(a===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,n||(r[u.toLowerCase()]=l);else{var h=(a===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(a+1);if(r[h]&&u.slice(a-3,a)=="ext")continue;r[h]=l,n||(r[h.toLowerCase()]=l)}}return r}function Vc(t){return t.replace(x2e,"<$1")}var CG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},YF=ub(CG),qn=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(a,l){return CG[a]||String.fromCharCode(parseInt(l,a.indexOf("x")>-1?16:10))||a}).replace(e,function(a,l){return String.fromCharCode(parseInt(l,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}})(),XF=/[&<>'"]/g,w2e=/[\u0000-\u0008\u000b-\u001f]/g;function xr(t){var e=t+"";return e.replace(XF,function(n){return YF[n]}).replace(w2e,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function dq(t){return xr(t).replace(/ /g,"_x0020_")}var bG=/[\u0000-\u001f]/g;function KF(t){var e=t+"";return e.replace(XF,function(n){return YF[n]}).replace(/\n/g,"<br/>").replace(bG,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function E2e(t){var e=t+"";return e.replace(XF,function(n){return YF[n]}).replace(bG,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var hq=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function S2e(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function $r(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function mF(t){for(var e="",n=0,r=0,i=0,s=0,o=0,a=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=t.charCodeAt(n++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(a&1023))}return e}function pq(t){var e=cd(2*t.length),n,r,i=1,s=0,o=0,a;for(r=0;r<t.length;r+=i)i=1,(a=t.charCodeAt(r))<128?n=a:a<224?(n=(a&31)*64+(t.charCodeAt(r+1)&63),i=2):a<240?(n=(a&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(a&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function mq(t){return Ou(t,"binary").toString("utf8")}var VC="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",br=An&&(mq(VC)==mF(VC)&&mq||pq(VC)==mF(VC)&&pq)||mF,Oc=An?function(t){return Ou(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},f_=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),TG=(function(){var t=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),C2e=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),b2e=/<\/?(?:vt:)?variant>/g,T2e=/<(?:vt:)([^>]*)>([\s\S]*)</;function gq(t,e){var n=Zt(t),r=t.match(C2e(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(b2e,"").match(T2e);o&&i.push({v:br(o[2]),t:o[1]})}),i}var AG=/(^\s|\s$|\n)/;function _s(t,e){return"<"+t+(e.match(AG)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function d_(t){return li(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function ct(t,e,n){return"<"+t+(n!=null?d_(n):"")+(e!=null?(e.match(AG)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function DF(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function A2e(t,e){switch(typeof t){case"string":var n=ct("vt:lpwstr",xr(t));return e&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return ct((t|0)==t?"vt:i4":"vt:r8",xr(String(t)));case"boolean":return ct("vt:bool",t?"true":"false")}if(t instanceof Date)return ct("vt:filetime",DF(t));throw new Error("Unable to serialize "+t)}function JF(t){if(An&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return br(hd(qF(t)));throw new Error("Bad input format: expected Buffer or string")}var h_=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,qi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},fp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ua={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function I2e(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function D2e(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)t[n+a]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var vq=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},yq=An?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ou(e)})):vq(t)}:vq,_q=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(Mu(t,i)));return r.join("").replace($s,"")},hb=An?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace($s,""):_q(t,e,n)}:_q,xq=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},IG=An?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):xq(t,e,n)}:xq,wq=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(qm(t,i)));return r.join("")},ng=An?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):wq(e,n,r)}:wq,DG=function(t,e){var n=es(t,e);return n>0?ng(t,e+4,e+4+n-1):""},QF=DG,kG=function(t,e){var n=es(t,e);return n>0?ng(t,e+4,e+4+n-1):""},ZF=kG,NG=function(t,e){var n=2*es(t,e);return n>0?ng(t,e+4,e+4+n-1):""},e3=NG,MG=function(e,n){var r=es(e,n);return r>0?hb(e,n+4,n+4+r):""},t3=MG,PG=function(t,e){var n=es(t,e);return n>0?ng(t,e+4,e+4+n):""},n3=PG,FG=function(t,e){return I2e(t,e)},ZC=FG,r3=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};An&&(QF=function(e,n){if(!Buffer.isBuffer(e))return DG(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},ZF=function(e,n){if(!Buffer.isBuffer(e))return kG(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},e3=function(e,n){if(!Buffer.isBuffer(e))return NG(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},t3=function(e,n){if(!Buffer.isBuffer(e))return MG(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},n3=function(e,n){if(!Buffer.isBuffer(e))return PG(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},ZC=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):FG(e,n)},r3=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});function k2e(){hb=function(t,e,n){return fr.utils.decode(1200,t.slice(e,n)).replace($s,"")},ng=function(t,e,n){return fr.utils.decode(65001,t.slice(e,n))},QF=function(t,e){var n=es(t,e);return n>0?fr.utils.decode(Km,t.slice(e+4,e+4+n-1)):""},ZF=function(t,e){var n=es(t,e);return n>0?fr.utils.decode(Bc,t.slice(e+4,e+4+n-1)):""},e3=function(t,e){var n=2*es(t,e);return n>0?fr.utils.decode(1200,t.slice(e+4,e+4+n-1)):""},t3=function(t,e){var n=es(t,e);return n>0?fr.utils.decode(1200,t.slice(e+4,e+4+n)):""},n3=function(t,e){var n=es(t,e);return n>0?fr.utils.decode(65001,t.slice(e+4,e+4+n)):""}}typeof fr<"u"&&k2e();var qm=function(t,e){return t[e]},Mu=function(t,e){return t[e+1]*256+t[e]},N2e=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},es=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Zh=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},M2e=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function e_(t,e){var n="",r,i,s=[],o,a,l,c;switch(e){case"dbcs":if(c=this.l,An&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(Mu(this,c)),c+=2;t*=2;break;case"utf8":n=ng(this,this.l,this.l+t);break;case"utf16le":t*=2,n=hb(this,this.l,this.l+t);break;case"wstr":if(typeof fr<"u")n=fr.utils.decode(Bc,this.slice(this.l,this.l+2*t));else return e_.call(this,t,"dbcs");t=2*t;break;case"lpstr-ansi":n=QF(this,this.l),t=4+es(this,this.l);break;case"lpstr-cp":n=ZF(this,this.l),t=4+es(this,this.l);break;case"lpwstr":n=e3(this,this.l),t=4+2*es(this,this.l);break;case"lpp4":t=4+es(this,this.l),n=t3(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+es(this,this.l),n=n3(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=qm(this,this.l+t++))!==0;)s.push(BC(o));n=s.join("");break;case"_wstr":for(t=0,n="";(o=Mu(this,this.l+t))!==0;)s.push(BC(o)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=qm(this,c),this.l=c+1,a=e_.call(this,t-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(BC(Mu(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":if(typeof fr<"u"){n=fr.utils.decode(Bc,this.slice(this.l,this.l+t));break}case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=qm(this,c),this.l=c+1,a=e_.call(this,t-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(BC(qm(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=qm(this,this.l),this.l++,r;case 2:return r=(e==="i"?N2e:Mu)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Zh:M2e)(this,this.l),this.l+=4,r):(i=es(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=ZC(this,this.l):i=ZC([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=IG(this,this.l,t);break}}return this.l+=t,n}var P2e=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},F2e=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},R2e=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function L2e(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)R2e(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){if(typeof fr<"u"&&Km==874)for(i=0;i!=e.length;++i){var s=fr.utils.encode(Km,e.charAt(i));this[this.l+i]=s[0]}else for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var o=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,P2e(this,e,this.l);break;case 8:if(r=8,n==="f"){D2e(this,e,this.l);break}case 16:break;case-4:r=4,F2e(this,e,this.l);break}return this.l+=r,this}function RG(t,e){var n=IG(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function ys(t,e){t.l=e,t.read_shift=e_,t.chk=RG,t.write_shift=L2e}function Gs(t,e){t.l+=e}function qe(t){var e=cd(t);return ys(e,0),e}function Bu(t,e,n){if(t){var r,i,s;ys(t,t.l||0);for(var o=t.length,a=0,l=0;t.l<o;){a=t.read_shift(1),a&128&&(a=(a&127)+((t.read_shift(1)&127)<<7));var c=__[a]||__[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;l=t.l+s;var u=c.f&&c.f(t,s,n);if(t.l=l,e(u,c,a))return}}}function Oo(){var t=[],e=An?256:2048,n=function(c){var u=qe(c);return ys(u,0),u},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},o=function(){return i(),ts(t)},a=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:a,end:o,_bufs:t}}function Ke(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=__[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=t.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&r3(n)&&t.push(n)}}function t_(t,e,n){var r=Gr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Eq(t,e,n){var r=Gr(t);return r.s=t_(r.s,e.s,n),r.e=t_(r.e,e.s,n),r}function n_(t,e){if(t.cRel&&t.c<0)for(t=Gr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Gr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Jt(t);return!t.cRel&&t.cRel!=null&&(n=V2e(n)),!t.rRel&&t.rRel!=null&&(n=O2e(n)),n}function gF(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Kr(t.s.c)+":"+(t.e.cRel?"":"$")+Kr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+xi(t.s.r)+":"+(t.e.rRel?"":"$")+xi(t.e.r):n_(t.s,e.biff)+":"+n_(t.e,e.biff)}function i3(t){return parseInt(B2e(t),10)-1}function xi(t){return""+(t+1)}function O2e(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function B2e(t){return t.replace(/\$(\d+)$/,"$1")}function s3(t){for(var e=U2e(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Kr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function V2e(t){return t.replace(/^([A-Z])/,"$$$1")}function U2e(t){return t.replace(/^\$([A-Z])/,"$1")}function H2e(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Jr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Jt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Bo(t){var e=t.indexOf(":");return e==-1?{s:Jr(t),e:Jr(t)}:{s:Jr(t.slice(0,e)),e:Jr(t.slice(e+1))}}function pn(t,e){return typeof e>"u"||typeof e=="number"?pn(t.s,t.e):(typeof t!="string"&&(t=Jt(t)),typeof e!="string"&&(e=Jt(e)),t==e?t:t+":"+e)}function Gn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function Sq(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Wa(t.z,n?Gi(e):e)}catch{}try{return t.w=Wa((t.XF||{}).numFmtId||(n?14:0),n?Gi(e):e)}catch{return""+e}}function Lu(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Vu[t.v]||t.v:e==null?Sq(t,t.v):Sq(t,e))}function pd(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function LG(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense;ai!=null&&i==null&&(i=ai);var s=t||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Jr(r.origin):r.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=Gn(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),o==-1&&(c.e.r=o=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var h={v:e[f][d]},g=o+f,v=a+d;if(c.s.r>g&&(c.s.r=g),c.s.c>v&&(c.s.c=v),c.e.r<g&&(c.e.r=g),c.e.c<v&&(c.e.c=v),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))h=e[f][d];else if(Array.isArray(h.v)&&(h.f=e[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(r.nullError)h.t="e",h.v=0;else if(r.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=r.dateNF||Xt[14],r.cellDates?(h.t="d",h.w=Wa(h.z,Gi(h.v))):(h.t="n",h.v=Gi(h.v),h.w=Wa(h.z,h.v))):h.t="s";if(i)s[g]||(s[g]=[]),s[g][v]&&s[g][v].z&&(h.z=s[g][v].z),s[g][v]=h;else{var x=Jt({c:v,r:g});s[x]&&s[x].z&&(h.z=s[x].z),s[x]=h}}}return c.s.c<1e7&&(s["!ref"]=pn(c)),s}function rg(t,e){return LG(null,t,e)}function $2e(t){return t.read_shift(4,"i")}function $l(t,e){return e||(e=qe(4)),e.write_shift(4,t),e}function qs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function ns(t,e){var n=!1;return e==null&&(n=!0,e=qe(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function q2e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function G2e(t,e){return e||(e=qe(4)),e.write_shift(2,t.ich||0),e.write_shift(2,t.ifnt||0),e}function o3(t,e){var n=t.l,r=t.read_shift(1),i=qs(t),s=[],o={t:i,h:i};if((r&1)!==0){for(var a=t.read_shift(4),l=0;l!=a;++l)s.push(q2e(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}function W2e(t,e){var n=!1;return e==null&&(n=!0,e=qe(15+4*t.t.length)),e.write_shift(1,0),ns(t.t,e),n?e.slice(0,e.l):e}var j2e=o3;function z2e(t,e){var n=!1;return e==null&&(n=!0,e=qe(23+4*t.t.length)),e.write_shift(1,1),ns(t.t,e),e.write_shift(4,1),G2e({ich:0,ifnt:0},e),n?e.slice(0,e.l):e}function ja(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function dp(t,e){return e==null&&(e=qe(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function hp(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function pp(t,e){return e==null&&(e=qe(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var Y2e=qs,OG=ns;function a3(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function eb(t,e){var n=!1;return e==null&&(n=!0,e=qe(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var X2e=qs,kF=a3,l3=eb;function c3(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?ZC([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Zh(e,0)>>2;return n?i/100:i}function BG(t,e){e==null&&(e=qe(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?r=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function VG(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function K2e(t,e){return e||(e=qe(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var mp=VG,ig=K2e;function Hs(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ap(t,e){return(e||qe(8)).write_shift(8,t,"f")}function J2e(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),a=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=tp[i];c&&(e.rgb=m_(c));break;case 2:e.rgb=m_([o,a,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function tb(t,e){if(e||(e=qe(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function Q2e(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function Z2e(t,e){e||(e=qe(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function UG(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function ewe(t){return UG(t,1)}function twe(t){return UG(t,2)}var u3=2,Lo=3,UC=11,Cq=12,nb=19;var HC=64,nwe=65,rwe=71;var iwe=4108,swe=4126,Zi=80,HG=81,owe=[Zi,HG],NF={1:{n:"CodePage",t:u3},2:{n:"Category",t:Zi},3:{n:"PresentationFormat",t:Zi},4:{n:"ByteCount",t:Lo},5:{n:"LineCount",t:Lo},6:{n:"ParagraphCount",t:Lo},7:{n:"SlideCount",t:Lo},8:{n:"NoteCount",t:Lo},9:{n:"HiddenCount",t:Lo},10:{n:"MultimediaClipCount",t:Lo},11:{n:"ScaleCrop",t:UC},12:{n:"HeadingPairs",t:iwe},13:{n:"TitlesOfParts",t:swe},14:{n:"Manager",t:Zi},15:{n:"Company",t:Zi},16:{n:"LinksUpToDate",t:UC},17:{n:"CharacterCount",t:Lo},19:{n:"SharedDoc",t:UC},22:{n:"HyperlinksChanged",t:UC},23:{n:"AppVersion",t:Lo,p:"version"},24:{n:"DigSig",t:nwe},26:{n:"ContentType",t:Zi},27:{n:"ContentStatus",t:Zi},28:{n:"Language",t:Zi},29:{n:"Version",t:Zi},255:{},2147483648:{n:"Locale",t:nb},2147483651:{n:"Behavior",t:nb},1919054434:{}},MF={1:{n:"CodePage",t:u3},2:{n:"Title",t:Zi},3:{n:"Subject",t:Zi},4:{n:"Author",t:Zi},5:{n:"Keywords",t:Zi},6:{n:"Comments",t:Zi},7:{n:"Template",t:Zi},8:{n:"LastAuthor",t:Zi},9:{n:"RevNumber",t:Zi},10:{n:"EditTime",t:HC},11:{n:"LastPrinted",t:HC},12:{n:"CreatedDate",t:HC},13:{n:"ModifiedDate",t:HC},14:{n:"PageCount",t:Lo},15:{n:"WordCount",t:Lo},16:{n:"CharCount",t:Lo},17:{n:"Thumbnail",t:rwe},18:{n:"Application",t:Zi},19:{n:"DocSecurity",t:Lo},255:{},2147483648:{n:"Locale",t:nb},2147483651:{n:"Behavior",t:nb},1919054434:{}},bq={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},awe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function lwe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var cwe=lwe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),tp=Gr(cwe),Vu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},$G={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},PF={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},$C={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function f3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function uwe(t){var e=f3();if(!t||!t.match)return e;var n={};if((t.match(Ws)||[]).forEach(function(r){var i=Zt(r);switch(i[0].replace(_2e,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[PF[i.ContentType]]!==void 0&&e[PF[i.ContentType]].push(i.PartName);break}}),e.xmlns!==qi.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function qG(t,e){var n=u2e(PF),r=[],i;r[r.length]=wi,r[r.length]=ct("Types",null,{xmlns:qi.CT,"xmlns:xsd":qi.xsd,"xmlns:xsi":qi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ct("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=ct("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:$C[l][e.bookType]||$C[l].xlsx}))},o=function(l){(t[l]||[]).forEach(function(c){r[r.length]=ct("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:$C[l][e.bookType]||$C[l].xlsx})})},a=function(l){(t[l]||[]).forEach(function(c){r[r.length]=ct("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var xn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function p_(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function r_(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Ws)||[]).forEach(function(i){var s=Zt(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var a=s.TargetMode==="External"?s.Target:Zy(s.Target,e);n[a]=o,r[s.Id]=o}}),n["!id"]=r,n}function zm(t){var e=[wi,ct("Relationships",null,{xmlns:qi.RELS})];return li(t["!id"]).forEach(function(n){e[e.length]=ct("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function _r(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,s?i.TargetMode=s:[xn.HLINK,xn.XPATH,xn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var fwe="application/vnd.oasis.opendocument.spreadsheet";function dwe(t,e){for(var n=JF(t),r,i;r=h_.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Zt(r[0],!1),i.path=="/"&&i.type!==fwe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function hwe(t){var e=[wi];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Tq(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function pwe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function mwe(t){var e=[wi];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(Tq(t[n][0],t[n][1])),e.push(pwe("",t[n][0]));return e.push(Tq("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function GG(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+l_.version+"</meta:generator></office:meta></office:document-meta>"}var Ga=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],gwe=(function(){for(var t=new Array(Ga.length),e=0;e<Ga.length;++e){var n=Ga[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function WG(t){var e={};t=br(t);for(var n=0;n<Ga.length;++n){var r=Ga[n],i=t.match(gwe[n]);i!=null&&i.length>0&&(e[r[1]]=qn(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=qr(e[r[1]]))}return e}function vF(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=xr(e),r[r.length]=n?ct(t,e,n):_s(t,e))}function jG(t,e){var n=e||{},r=[wi,ct("cp:coreProperties",null,{"xmlns:cp":qi.CORE_PROPS,"xmlns:dc":qi.dc,"xmlns:dcterms":qi.dcterms,"xmlns:dcmitype":qi.dcmitype,"xmlns:xsi":qi.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&vF("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:DF(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&vF("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:DF(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=Ga.length;++s){var o=Ga[s],a=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:t?t[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&vF(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var np=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],zG=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function YG(t,e,n,r){var i=[];if(typeof t=="string")i=gq(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var o=typeof e=="string"?gq(e,r).map(function(u){return u.v}):e,a=0,l=0;if(o.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"\u5DE5\u4F5C\u8868":case"\u041B\u0438\u0441\u0442\u044B":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30EF\u30FC\u30AF\u30B7\u30FC\u30C8":case"\u05D2\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05E2\u05D1\u05D5\u05D3\u05D4":case"Arbeitsbl\xE4tter":case"\xC7al\u0131\u015Fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xE1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xE1lculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(a,a+l);break;case"Named Ranges":case"Rangos con nombre":case"\u540D\u524D\u4ED8\u304D\u4E00\u89A7":case"Benannte Bereiche":case"Navngivne omr\xE5der":n.NamedRanges=l,n.DefinedNames=o.slice(a,a+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(a,a+l);break}a+=l}}function vwe(t,e,n){var r={};return e||(e={}),t=br(t),np.forEach(function(i){var s=(t.match(f_(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=qn(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var o=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&YG(r.HeadingPairs,r.TitlesOfParts,e,n),e}function XG(t){var e=[],n=ct;return t||(t={}),t.Application="SheetJS",e[e.length]=wi,e[e.length]=ct("Properties",null,{xmlns:qi.EXT_PROPS,"xmlns:vt":qi.vt}),np.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=xr(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+xr(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var ywe=/<[^>]+>[^<]*/g;function _we(t,e){var n={},r="",i=t.match(ywe);if(i)for(var s=0;s!=i.length;++s){var o=i[s],a=Zt(o);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":r=qn(a.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=qn(u);break;case"bool":n[r]=$r(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=qr(u);break;case"cy":case"error":n[r]=qn(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,l)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return n}function KG(t){var e=[wi,ct("Properties",null,{xmlns:qi.CUST_PROPS,"xmlns:vt":qi.vt})];if(!t)return e.join("");var n=1;return li(t).forEach(function(i){++n,e[e.length]=ct("property",A2e(t[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:xr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var FF={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},yF;function xwe(t,e,n){yF||(yF=ub(FF)),e=yF[e]||e,t[e]=n}function wwe(t,e){var n=[];return li(FF).map(function(r){for(var i=0;i<Ga.length;++i)if(Ga[i][1]==r)return Ga[i];for(i=0;i<np.length;++i)if(np[i][1]==r)return np[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];r[2]==="date"&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(_s(FF[r[1]]||r[1],i))}}),ct("DocumentProperties",n.join(""),{xmlns:ua.o})}function Ewe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&li(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var o=0;o<Ga.length;++o)if(s==Ga[o][1])return;for(o=0;o<np.length;++o)if(s==np[o][1])return;for(o=0;o<n.length;++o)if(s==n[o])return;var a=t[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),i.push(ct(dq(s),a,{"dt:dt":l}))}}),e&&li(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var o=e[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(ct(dq(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+ua.o+'">'+i.join("")+"</"+r+">"}function d3(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Swe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=qe(8);return o.write_shift(4,r),o.write_shift(4,i),o}function JG(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function QG(t,e,n){var r=t.read_shift(0,"lpwstr");return n&&(t.l+=4-(r.length+1&3)&3),r}function ZG(t,e,n){return e===31?QG(t):JG(t,e,n)}function RF(t,e,n){return ZG(t,e,n===!1?0:4)}function Cwe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return ZG(t,e,0)}function bwe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace($s,""),t.l-i&2&&(t.l+=2)}return n}function Twe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace($s,"");return n}function Awe(t){var e=t.l,n=rb(t,HG);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=rb(t,Lo);return[n,r]}function Iwe(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(Awe(t));return n}function Aq(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),o=t.read_shift(4);r[s]=t.read_shift(o,e===1200?"utf16le":"utf8").replace($s,"").replace(Qy,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function eW(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function Dwe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function rb(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==Cq&&r!==e&&owe.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===Cq?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return JG(t,r,4).replace($s,"");case 31:return QG(t);case 64:return d3(t);case 65:return eW(t);case 71:return Dwe(t);case 80:return RF(t,r,!s.raw).replace($s,"");case 81:return Cwe(t,r).replace($s,"");case 4108:return Iwe(t);case 4126:case 4127:return r==4127?bwe(t):Twe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function Iq(t,e){var n=qe(4),r=qe(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=qe(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=Swe(e);break;case 31:case 80:for(r=qe(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return ts([n,r])}function Dq(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0,a=0,l=-1,c={};for(o=0;o!=i;++o){var u=t.read_shift(4),f=t.read_shift(4);s[o]=[u,f+n]}s.sort(function(E,C){return E[1]-C[1]});var d={};for(o=0;o!=i;++o){if(t.l!==s[o][1]){var h=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:t.l+2===s[o][1]&&(t.l+=2,h=!1);break;case 80:t.l<=s[o][1]&&(t.l=s[o][1],h=!1);break;case 4108:t.l<=s[o][1]&&(t.l=s[o][1],h=!1);break}if((!e||o==0)&&t.l<=s[o][1]&&(h=!1,t.l=s[o][1]),h)throw new Error("Read Error: Expected address "+s[o][1]+" at "+t.l+" :"+o)}if(e){var g=e[s[o][0]];if(d[g.n]=rb(t,g.t,{raw:!0}),g.p==="version"&&(d[g.n]=String(d[g.n]>>16)+"."+("0000"+String(d[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(d[g.n]){case 0:d[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Vl(a=d[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[g.n])}}else if(s[o][0]===1){if(a=d.CodePage=rb(t,u3),Vl(a),l!==-1){var v=t.l;t.l=s[l][1],c=Aq(t,a),t.l=v}}else if(s[o][0]===0){if(a===0){l=o,t.l=s[o+1][1];continue}c=Aq(t,a)}else{var x=c[s[o][0]],_;switch(t[t.l]){case 65:t.l+=4,_=eW(t);break;case 30:t.l+=4,_=RF(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,_=RF(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,_=t.read_shift(4,"i");break;case 19:t.l+=4,_=t.read_shift(4);break;case 5:t.l+=4,_=t.read_shift(8,"f");break;case 11:t.l+=4,_=_i(t,4);break;case 64:t.l+=4,_=qr(d3(t));break;default:throw new Error("unparsed value: "+t[t.l])}d[x]=_}}return t.l=n+r,d}var tW=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function kwe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function kq(t,e,n){var r=qe(8),i=[],s=[],o=8,a=0,l=qe(8),c=qe(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),o+=8+l.length,!e){c=qe(8),c.write_shift(4,0),i.unshift(c);var u=[qe(4)];for(u[0].write_shift(4,t.length),a=0;a<t.length;++a){var f=t[a][0];for(l=qe(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=ts(u),s.unshift(l),o+=8+l.length}for(a=0;a<t.length;++a)if(!(e&&!e[t[a][0]])&&!(tW.indexOf(t[a][0])>-1||zG.indexOf(t[a][0])>-1)&&t[a][1]!=null){var d=t[a][1],h=0;if(e){h=+e[t[a][0]];var g=n[h];if(g.p=="version"&&typeof d=="string"){var v=d.split(".");d=(+v[0]<<16)+(+v[1]||0)}l=Iq(g.t,d)}else{var x=kwe(d);x==-1&&(x=31,d=String(d)),l=Iq(x,d)}s.push(l),c=qe(8),c.write_shift(4,e?h:2+a),i.push(c),o+=8+l.length}var _=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,_),_+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),ts([r].concat(i).concat(s))}function Nq(t,e,n){var r=t.content;if(!r)return{};ys(r,0);var i,s,o,a,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==Ft.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),a=r.read_shift(4),i===1&&a!==r.l)throw new Error("Length mismatch: "+a+" !== "+r.l);i===2&&(o=r.read_shift(16),l=r.read_shift(4));var f=Dq(r,e),d={SystemIdentifier:c};for(var h in f)d[h]=f[h];if(d.FMTID=s,i===1)return d;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var g;try{g=Dq(r,null)}catch{}for(h in g)d[h]=g[h];return d.FMTID=[s,o],d}function Mq(t,e,n,r,i,s){var o=qe(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Ft.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var l=kq(t,n,r);if(a.push(l),i){var c=kq(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(c)}return ts(a)}function od(t,e){return t.read_shift(e),null}function Nwe(t,e){e||(e=qe(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function Mwe(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function _i(t,e){return t.read_shift(e)===1}function ho(t,e){return e||(e=qe(2)),e.write_shift(2,+!!t),e}function Ni(t){return t.read_shift(2,"u")}function qa(t,e){return e||(e=qe(2)),e.write_shift(2,t),e}function nW(t,e){return Mwe(t,e,Ni)}function Pwe(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function rW(t,e,n){return n||(n=qe(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function S_(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont",s=Bc;if(n&&n.biff>=8&&(Bc=1200),!n||n.biff==8){var o=t.read_shift(1);o&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return Bc=s,a}function Fwe(t){var e=Bc;Bc=1200;var n=t.read_shift(2),r=t.read_shift(1),i=r&4,s=r&8,o=1+(r&1),a=0,l,c={};s&&(a=t.read_shift(2)),i&&(l=t.read_shift(4));var u=o==2?"dbcs-cont":"sbcs-cont",f=n===0?"":t.read_shift(n,u);return s&&(t.l+=4*a),i&&(t.l+=l),c.t=f,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),Bc=e,c}function Rwe(t){var e=t.t||"",n=1,r=qe(3+(n>1?2:0));r.write_shift(2,e.length),r.write_shift(1,(n>1?8:0)|1),n>1&&r.write_shift(2,n);var i=qe(2*e.length);i.write_shift(2*e.length,e,"utf16le");var s=[r,i];return ts(s)}function lp(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function C_(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):lp(t,r,n)}function gp(t,e,n){if(n.biff>5)return C_(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function iW(t,e,n){return n||(n=qe(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function Lwe(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function Owe(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace($s,"");return r&&(t.l+=24),i}function Bwe(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(s>>1,"utf16le").replace($s,"");return n+o}function Vwe(t,e){var n=t.read_shift(16);switch(e-=16,n){case"e0c9ea79f9bace118c8200aa004ba90b":return Owe(t,e);case"0303000000000000c000000000000046":return Bwe(t,e);default:throw new Error("Unsupported Moniker "+n)}}function qC(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace($s,""):"";return n}function Pq(t,e){e||(e=qe(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function Uwe(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,o,a,l,c="",u,f;i&16&&(s=qC(t,n-t.l)),i&128&&(o=qC(t,n-t.l)),(i&257)===257&&(a=qC(t,n-t.l)),(i&257)===1&&(l=Vwe(t,n-t.l)),i&8&&(c=qC(t,n-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=d3(t)),t.l=n;var d=o||a||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),i&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return u&&(h.guid=u),f&&(h.time=f),s&&(h.Tooltip=s),h}function Hwe(t){var e=qe(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)e.write_shift(4,o[n]);if(s==28)r=r.slice(1),Pq(r,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));var a=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)e.write_shift(2,a.charCodeAt(n));e.write_shift(2,0),s&8&&Pq(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function sW(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function oW(t,e){var n=sW(t,e);return n[3]=0,n}function Uc(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function cp(t,e,n,r){return r||(r=qe(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function $we(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function qwe(t,e,n){return e===0?"":gp(t,e,n)}function Gwe(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[i,s,o]}function aW(t){var e=t.read_shift(2),n=c3(t);return[e,n]}function Wwe(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=S_(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function pb(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function lW(t,e){return e||(e=qe(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function cW(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var jwe=cW;function uW(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function zwe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function Ywe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Os(t){t.l+=2,t.l+=t.read_shift(2)}var Xwe={0:Os,4:Os,5:Os,6:Os,7:Ywe,8:Os,9:Os,10:Os,11:Os,12:Os,13:zwe,14:Os,15:Os,16:Os,17:Os,18:Os,19:Os,20:Os,21:uW};function Kwe(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(Xwe[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function GC(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function h3(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=qe(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Jwe(t,e){return e===0||t.read_shift(2),1200}function Qwe(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=gp(t,0,n);return t.read_shift(e+r-t.l),i}function Zwe(t,e){var n=!e||e.biff==8,r=qe(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function eEe(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function tEe(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=S_(t,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function nEe(t,e){var n=!e||e.biff>=8?2:1,r=qe(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function rEe(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0;o!=i&&t.l<n;++o)s.push(Fwe(t));return s.Count=r,s.Unique=i,s}function iEe(t,e){var n=qe(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=Rwe(t[i],e);var s=ts([n].concat(r));return s.parts=[n.length].concat(r.map(function(o){return o.length})),s}function sEe(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function oEe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function aEe(t){var e=$we(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function lEe(t){return t.read_shift(2),t.read_shift(4)}function Fq(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function cEe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),a=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:a,Selected:l,TabRatio:c}}function uEe(){var t=qe(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function fEe(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function dEe(t){var e=qe(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function hEe(){}function pEe(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=S_(t,0,n),r}function mEe(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=qe(i);return s.write_shift(2,(t.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function gEe(t){var e=Uc(t);return e.isst=t.read_shift(4),e}function vEe(t,e,n,r){var i=qe(10);return cp(t,e,r,i),i.write_shift(4,n),i}function yEe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Uc(t,6);n.biff==2&&t.l++;var s=C_(t,r-t.l,n);return i.val=s,i}function _Ee(t,e,n,r,i){var s=!i||i.biff==8,o=qe(8+ +s+(1+s)*n.length);return cp(t,e,r,o),o.write_shift(2,n.length),s&&o.write_shift(1,1),o.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),o}function xEe(t,e,n){var r=t.read_shift(2),i=gp(t,0,n);return[r,i]}function wEe(t,e,n,r){var i=n&&n.biff==5;r||(r=qe(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var EEe=gp;function Rq(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),o=t.read_shift(i),a=t.read_shift(2),l=t.read_shift(2);return t.l=r,{s:{r:s,c:a},e:{r:o,c:l}}}function SEe(t,e){var n=e.biff==8||!e.biff?4:2,r=qe(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function CEe(t){var e=t.read_shift(2),n=t.read_shift(2),r=aW(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function bEe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(aW(t));if(t.l!==n)throw new Error("MulRK read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function TEe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function AEe(t,e,n,r){var i={},s=t.read_shift(4),o=t.read_shift(4),a=t.read_shift(4),l=t.read_shift(2);return i.patternType=awe[a>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=a&127,i.icvBottom=a>>7&127,i.icvDiag=a>>14&127,i.dgDiag=a>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function IEe(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=AEe(t,e,r.fStyle,n),r}function Lq(t,e,n,r){var i=n&&n.biff==5;r||(r=qe(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function DEe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function kEe(t){var e=qe(8);return e.write_shift(4,0),e.write_shift(2,t[0]?t[0]+1:0),e.write_shift(2,t[1]?t[1]+1:0),e}function Oq(t,e,n){var r=Uc(t,6);(n.biff==2||e==9)&&++t.l;var i=Pwe(t,2);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function NEe(t,e,n,r,i,s){var o=qe(8);return cp(t,e,r,o),rW(n,s,o),o}function MEe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Uc(t,6),i=Hs(t,8);return r.val=i,r}function PEe(t,e,n,r){var i=qe(14);return cp(t,e,r,i),ap(n,i),i}var Bq=qwe;function FEe(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=lp(t,s),a=[];r>t.l;)a.push(C_(t));return[s,i,o,a]}function Vq(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=Wwe(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var REe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Uq(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),o=t.read_shift(1),a=t.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),l=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=lp(t,o,n);i&32&&(c=REe[c.charCodeAt(0)]);var u=r-t.l;n&&n.biff==2&&--u;var f=r==t.l||a===0||!(u>0)?[]:KTe(t,u,n,a);return{chKey:s,Name:c,itab:l,rgce:f}}function fW(t,e,n){if(n.biff<8)return LEe(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(Gwe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function LEe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=S_(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function OEe(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=lp(t,r,n),o=lp(t,i,n);return[s,o]}function BEe(t,e,n){var r=cW(t,6);t.l++;var i=t.read_shift(1);return e-=8,[JTe(t,e,n),i,r]}function Hq(t,e,n){var r=jwe(t,6);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,YTe(t,e,n,r)]}function VEe(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function UEe(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),a=gp(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},a,o,s]}}function HEe(t,e,n){return UEe(t,e,n)}function $Ee(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(pb(t,e));return n}function qEe(t){var e=qe(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)lW(t[n],e);return e}function GEe(t,e,n){if(n&&n.biff<8)return jEe(t,e,n);var r=uW(t,22),i=Kwe(t,e-22,r[1]);return{cmo:r,ft:i}}var WEe={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function jEe(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((WEe[r]||Gs)(t,e,n)),{cmo:[i,r,s],ft:o}}function zEe(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:o=Lwe(t,6,n);var a=t.read_shift(2);t.read_shift(2),Ni(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=lp(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?a:2*a))break}if(i.length!==a&&i.length!==a*2)throw new Error("cchText: "+a+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function YEe(t,e){var n=pb(t,8);t.l+=16;var r=Uwe(t,e-24);return[n,r]}function XEe(t){var e=qe(24),n=Jr(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return ts([e,Hwe(t[1])])}function KEe(t,e){t.read_shift(2);var n=pb(t,8),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace($s,""),[n,r]}function JEe(t){var e=t[1].Tooltip,n=qe(10+2*(e.length+1));n.write_shift(2,2048);var r=Jr(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function QEe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=bq[n]||n,n=t.read_shift(2),e[1]=bq[n]||n,e}function ZEe(t){return t||(t=qe(4)),t.write_shift(2,1),t.write_shift(2,1),t}function eSe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(oW(t,8));return n}function tSe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(oW(t,8));return n}function nSe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function dW(t,e,n){if(!n.cellStyles)return Gs(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),a=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:o,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function rSe(t,e){var n=qe(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function iSe(t,e){var n={};return e<32||(t.l+=16,n.header=Hs(t,8),n.footer=Hs(t,8),t.l+=2),n}function sSe(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}function oSe(t){for(var e=qe(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var aSe=Uc,lSe=nW,cSe=C_;function uSe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function fSe(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Uc(t,6);++t.l;var i=gp(t,e-7,n);return r.t="str",r.val=i,r}function dSe(t){var e=Uc(t,6);++t.l;var n=Hs(t,8);return e.t="n",e.val=n,e}function hSe(t,e,n){var r=qe(15);return I_(r,t,e),r.write_shift(8,n,"f"),r}function pSe(t){var e=Uc(t,6);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function mSe(t,e,n){var r=qe(9);return I_(r,t,e),r.write_shift(2,n),r}function gSe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function vSe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function ySe(t,e,n){var r=t.l+e,i=Uc(t,6),s=t.read_shift(2),o=lp(t,s,n);return t.l=r,i.t="str",i.val=o,i}var _Se=[2,3,48,49,131,139,140,245],LF=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=ub({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,l){var c=[],u=cd(1);switch(l.type){case"base64":u=fa(ha(a));break;case"binary":u=fa(a);break;case"buffer":case"array":u=a;break}ys(u,0);var f=u.read_shift(1),d=!!(f&136),h=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,x=521;f==2&&(v=u.read_shift(2)),u.l+=3,f!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(x=u.read_shift(2));var _=u.read_shift(2),E=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(E=t[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var C=[],D={},A=Math.min(u.length,f==2?521:x-10-(h?264:0)),L=g?32:11;u.l<A&&u[u.l]!=13;)switch(D={},D.name=fr.utils.decode(E,u.slice(u.l,u.l+L)).replace(/[\u0000\r\n].*$/g,""),u.l+=L,D.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(D.offset=u.read_shift(4)),D.len=u.read_shift(1),f==2&&(D.offset=u.read_shift(2)),D.dec=u.read_shift(1),D.name.length&&C.push(D),f!=2&&(u.l+=g?13:14),D.type){case"B":(!h||D.len!=8)&&l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(u[u.l]!==13&&(u.l=x-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var I=0,N=0;for(c[0]=[],N=0;N!=C.length;++N)c[0][N]=C[N].name;for(;v-- >0;){if(u[u.l]===42){u.l+=_;continue}for(++u.l,c[++I]=[],N=0,N=0;N!=C.length;++N){var O=u.slice(u.l,u.l+C[N].len);u.l+=C[N].len,ys(O,0);var V=fr.utils.decode(E,O);switch(C[N].type){case"C":V.trim().length&&(c[I][N]=V.replace(/\s+$/,""));break;case"D":V.length===8?c[I][N]=new Date(+V.slice(0,4),+V.slice(4,6)-1,+V.slice(6,8)):c[I][N]=V;break;case"F":c[I][N]=parseFloat(V.trim());break;case"+":case"I":c[I][N]=g?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(V.trim().toUpperCase()){case"Y":case"T":c[I][N]=!0;break;case"N":case"F":c[I][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+V+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[I][N]="##MEMO##"+(g?parseInt(V.trim(),10):O.read_shift(4));break;case"N":V=V.replace(/\u0000/g,"").trim(),V&&V!="."&&(c[I][N]=+V||0);break;case"@":c[I][N]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":c[I][N]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":c[I][N]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[I][N]=-O.read_shift(-8,"f");break;case"B":if(h&&C[N].len==8){c[I][N]=O.read_shift(8,"f");break}case"G":case"P":O.l+=C[N].len;break;case"0":if(C[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[N].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=C,c}function r(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=rg(n(a,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(a,l){try{return pd(r(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var c=l||{};if(+c.codepage>=0&&Vl(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Oo(),f=ab(a,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),g=a["!cols"]||[],v=0,x=0,_=0,E=1;for(v=0;v<d.length;++v){if(((g[v]||{}).DBF||{}).name){d[v]=g[v].DBF.name,++_;continue}if(d[v]!=null){if(++_,typeof d[v]=="number"&&(d[v]=d[v].toString(10)),typeof d[v]!="string")throw new Error("DBF Invalid column name "+d[v]+" |"+typeof d[v]+"|");if(d.indexOf(d[v])!==v){for(x=0;x<1024;++x)if(d.indexOf(d[v]+"_"+x)==-1){d[v]+="_"+x;break}}}}var C=Gn(a["!ref"]),D=[],A=[],L=[];for(v=0;v<=C.e.c-C.s.c;++v){var I="",N="",O=0,V=[];for(x=0;x<h.length;++x)h[x][v]!=null&&V.push(h[x][v]);if(V.length==0||d[v]==null){D[v]="?";continue}for(x=0;x<V.length;++x){switch(typeof V[x]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=V[x]instanceof Date?"D":"C";break;default:N="C"}O=Math.max(O,String(V[x]).length),I=I&&I!=N?"C":N}O>250&&(O=250),N=((g[v]||{}).DBF||{}).type,N=="C"&&g[v].DBF.len>O&&(O=g[v].DBF.len),I=="B"&&N=="N"&&(I="N",L[v]=g[v].DBF.dec,O=g[v].DBF.len),A[v]=I=="C"||N=="N"?O:s[I]||0,E+=A[v],D[v]=I}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,h.length),P.write_shift(2,296+32*_),P.write_shift(2,E),v=0;v<4;++v)P.write_shift(4,0);for(P.write_shift(4,0|(+e[Km]||3)<<8),v=0,x=0;v<d.length;++v)if(d[v]!=null){var M=u.next(32),X=(d[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,X,"sbcs"),M.write_shift(1,D[v]=="?"?"C":D[v],"sbcs"),M.write_shift(4,x),M.write_shift(1,A[v]||s[D[v]]||0),M.write_shift(1,L[v]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),x+=A[v]||s[D[v]]||0}var U=u.next(264);for(U.write_shift(4,13),v=0;v<65;++v)U.write_shift(4,0);for(v=0;v<h.length;++v){var z=u.next(E);for(z.write_shift(1,0),x=0;x<d.length;++x)if(d[x]!=null)switch(D[x]){case"L":z.write_shift(1,h[v][x]==null?63:h[v][x]?84:70);break;case"B":z.write_shift(8,h[v][x]||0,"f");break;case"N":var re="0";for(typeof h[v][x]=="number"&&(re=h[v][x].toFixed(L[x]||0)),_=0;_<A[x]-re.length;++_)z.write_shift(1,32);z.write_shift(1,re,"sbcs");break;case"D":h[v][x]?(z.write_shift(4,("0000"+h[v][x].getFullYear()).slice(-4),"sbcs"),z.write_shift(2,("00"+(h[v][x].getMonth()+1)).slice(-2),"sbcs"),z.write_shift(2,("00"+h[v][x].getDate()).slice(-2),"sbcs")):z.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(h[v][x]!=null?h[v][x]:"").slice(0,A[x]);for(z.write_shift(1,Z,"sbcs"),_=0;_<A[x]-Z.length;++_)z.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),hW=(function(){var t={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+li(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(d,h){var g=t[h];return typeof g=="number"?Q$(g):g},r=function(d,h,g){var v=h.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return v==59?d:Q$(v)};t["|"]=254;function i(d,h){switch(h.type){case"base64":return s(ha(d),h);case"binary":return s(d,h);case"buffer":return s(An&&Buffer.isBuffer(d)?d.toString("binary"):hd(d),h);case"array":return s(op(d),h)}throw new Error("Unrecognized type "+h.type)}function s(d,h){var g=d.split(/[\n\r]+/),v=-1,x=-1,_=0,E=0,C=[],D=[],A=null,L={},I=[],N=[],O=[],V=0,P;for(+h.codepage>=0&&Vl(+h.codepage);_!==g.length;++_){V=0;var M=g[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),X=M.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),U=X[0],z;if(M.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":X[1].charAt(0)=="P"&&D.push(M.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,Z=!1,de=!1,fe=!1,me=-1,ge=-1;for(E=1;E<X.length;++E)switch(X[E].charAt(0)){case"A":break;case"X":x=parseInt(X[E].slice(1))-1,Z=!0;break;case"Y":for(v=parseInt(X[E].slice(1))-1,Z||(x=0),P=C.length;P<=v;++P)C[P]=[];break;case"K":z=X[E].slice(1),z.charAt(0)==='"'?z=z.slice(1,z.length-1):z==="TRUE"?z=!0:z==="FALSE"?z=!1:isNaN(Hl(z))?isNaN(Jm(z).getDate())||(z=qr(z)):(z=Hl(z),A!==null&&eg(A)&&(z=db(z))),typeof fr<"u"&&typeof z=="string"&&(h||{}).type!="string"&&(h||{}).codepage&&(z=fr.utils.decode(h.codepage,z)),re=!0;break;case"E":fe=!0;var T=Ym(X[E].slice(1),{r:v,c:x});C[v][x]=[C[v][x],T];break;case"S":de=!0,C[v][x]=[C[v][x],"S5S"];break;case"G":break;case"R":me=parseInt(X[E].slice(1))-1;break;case"C":ge=parseInt(X[E].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}if(re&&(C[v][x]&&C[v][x].length==2?C[v][x][0]=z:C[v][x]=z,A=null),de){if(fe)throw new Error("SYLK shared formula cannot have own formula");var B=me>-1&&C[me][ge];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");C[v][x][1]=NW(B[1],{r:v-me,c:x-ge})}break;case"F":var F=0;for(E=1;E<X.length;++E)switch(X[E].charAt(0)){case"X":x=parseInt(X[E].slice(1))-1,++F;break;case"Y":for(v=parseInt(X[E].slice(1))-1,P=C.length;P<=v;++P)C[P]=[];break;case"M":V=parseInt(X[E].slice(1))/20;break;case"F":break;case"G":break;case"P":A=D[parseInt(X[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=X[E].slice(1).split(" "),P=parseInt(O[0],10);P<=parseInt(O[1],10);++P)V=parseInt(O[2],10),N[P-1]=V===0?{hidden:!0}:{wch:V},ud(N[P-1]);break;case"C":x=parseInt(X[E].slice(1))-1,N[x]||(N[x]={});break;case"R":v=parseInt(X[E].slice(1))-1,I[v]||(I[v]={}),V>0?(I[v].hpt=V,I[v].hpx=Zm(V)):V===0&&(I[v].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}F<1&&(A=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+M)}}return I.length>0&&(L["!rows"]=I),N.length>0&&(L["!cols"]=N),h&&h.sheetRows&&(C=C.slice(0,h.sheetRows)),[C,L]}function o(d,h){var g=i(d,h),v=g[0],x=g[1],_=rg(v,h);return li(x).forEach(function(E){_[E]=x[E]}),_}function a(d,h){return pd(o(d,h),h)}function l(d,h,g,v){var x="C;Y"+(g+1)+";X"+(v+1)+";K";switch(d.t){case"n":x+=d.v||0,d.f&&!d.F&&(x+=";E"+_3(d.f,{r:g,c:v}));break;case"b":x+=d.v?"TRUE":"FALSE";break;case"e":x+=d.w||d.v;break;case"d":x+='"'+(d.w||d.v)+'"';break;case"s":x+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function c(d,h){h.forEach(function(g,v){var x="F;W"+(v+1)+" "+(v+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=g_(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=v_(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&d.push(x)})}function u(d,h){h.forEach(function(g,v){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*y_(g.hpx)+";"),x.length>2&&d.push(x+"R"+(v+1))})}function f(d,h){var g=["ID;PWXL;N;E"],v=[],x=Gn(d["!ref"]),_,E=Array.isArray(d),C=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),d["!cols"]&&c(g,d["!cols"]),d["!rows"]&&u(g,d["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var D=x.s.r;D<=x.e.r;++D)for(var A=x.s.c;A<=x.e.c;++A){var L=Jt({r:D,c:A});_=E?(d[D]||[])[A]:d[L],!(!_||_.v==null&&(!_.f||_.F))&&v.push(l(_,d,D,A,h))}return g.join(C)+C+v.join(C)+C+"E"+C}return{to_workbook:a,to_sheet:o,from_sheet:f}})(),pW=(function(){function t(s,o){switch(o.type){case"base64":return e(ha(s),o);case"binary":return e(s,o);case"buffer":return e(An&&Buffer.isBuffer(s)?s.toString("binary"):hd(s),o);case"array":return e(op(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var a=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==a.length;++u){if(a[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var d=a[u].trim().split(","),h=d[0],g=d[1];++u;for(var v=a[u]||"";(v.match(/["]/g)||[]).length&1&&u<a.length-1;)v+=`
`+a[++u];switch(v=v.trim(),+h){case-1:if(v==="BOT"){f[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][c]=!0:v==="FALSE"?f[l][c]=!1:isNaN(Hl(g))?isNaN(Jm(g).getDate())?f[l][c]=g:f[l][c]=qr(g):f[l][c]=Hl(g),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),Xy&&v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(s,o){return rg(t(s,o),o)}function r(s,o){return pd(n(s,o),o)}var i=(function(){var s=function(l,c,u,f,d){l.push(c),l.push(u+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},o=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Gn(l["!ref"]),f,d=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){o(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var v=Jt({r:h,c:g});if(f=d?(l[h]||[])[g]:l[v],!f){o(c,1,0,"");continue}switch(f.t){case"n":var x=Xy?f.w:f.v;!x&&f.v!=null&&(x=f.v),x==null?Xy&&f.f&&!f.F?o(c,1,0,"="+f.f):o(c,1,0,""):o(c,0,x,"V");break;case"b":o(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(c,1,0,!Xy||isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Wa(f.z||Xt[14],Gi(qr(f.v)))),Xy?o(c,0,f.w,"V"):o(c,1,0,f.w);break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var _=`\r
`,E=c.join(_);return E}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),mW=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,d){for(var h=f.split(`
`),g=-1,v=-1,x=0,_=[];x!==h.length;++x){var E=h[x].trim().split(":");if(E[0]==="cell"){var C=Jr(E[1]);if(_.length<=C.r)for(g=_.length;g<=C.r;++g)_[g]||(_[g]=[]);switch(g=C.r,v=C.c,E[2]){case"t":_[g][v]=t(E[3]);break;case"v":_[g][v]=+E[3];break;case"vtf":var D=E[E.length-1];case"vtc":E[3]==="nl"?_[g][v]=!!+E[4]:_[g][v]=+E[4],E[2]=="vtf"&&(_[g][v]=[_[g][v],D])}}}return d&&d.sheetRows&&(_=_.slice(0,d.sheetRows)),_}function r(f,d){return rg(n(f,d),d)}function i(f,d){return pd(r(f,d),d)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],g,v="",x=Bo(f["!ref"]),_=Array.isArray(f),E=x.s.r;E<=x.e.r;++E)for(var C=x.s.c;C<=x.e.c;++C)if(v=Jt({r:E,c:C}),g=_?(f[E]||[])[C]:f[v],!(!g||g.v==null||g.t==="z")){switch(h=["cell",v,"t"],g.t){case"s":case"str":h.push(e(g.v));break;case"n":g.f?(h[2]="vtf",h[3]="n",h[4]=g.v,h[5]=e(g.f)):(h[2]="v",h[3]=g.v);break;case"b":h[2]="vt"+(g.f?"f":"c"),h[3]="nl",h[4]=g.v?"1":"0",h[5]=e(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var D=Gi(qr(g.v));h[2]="vtc",h[3]="nd",h[4]=""+D,h[5]=g.w||Wa(g.z||Xt[14],D);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(f){return[s,o,a,o,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}})(),Qm=(function(){function t(u,f,d,h,g){g.raw?f[d][h]=u:u===""||(u==="TRUE"?f[d][h]=!0:u==="FALSE"?f[d][h]=!1:isNaN(Hl(u))?isNaN(Jm(u).getDate())?f[d][h]=u:f[d][h]=qr(u):f[d][h]=Hl(u))}function e(u,f){var d=f||{},h=[];if(!u||u.length===0)return h;for(var g=u.split(/[\r\n]/),v=g.length-1;v>=0&&g[v].length===0;)--v;for(var x=10,_=0,E=0;E<=v;++E)_=g[E].indexOf(" "),_==-1?_=g[E].length:_++,x=Math.max(x,_);for(E=0;E<=v;++E){h[E]=[];var C=0;for(t(g[E].slice(0,x).trim(),h,E,C,d),C=1;C<=(g[E].length-x)/10+1;++C)t(g[E].slice(x+(C-1)*10,x+C*10).trim(),h,E,C,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var f={},d=!1,h=0,g=0;h<u.length;++h)(g=u.charCodeAt(h))==34?d=!d:!d&&g in n&&(f[g]=(f[g]||0)+1);g=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&g.push([f[h],h]);if(!g.length){f=r;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&g.push([f[h],h])}return g.sort(function(v,x){return v[0]-x[0]||r[v[1]]-r[x[1]]}),n[g.pop()[1]]||44}function s(u,f){var d=f||{},h="";ai!=null&&d.dense==null&&(d.dense=ai);var g=d.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=i(u.slice(0,1024)):d&&d.FS?h=d.FS:h=i(u.slice(0,1024));var x=0,_=0,E=0,C=0,D=0,A=h.charCodeAt(0),L=!1,I=0,N=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var O=d.dateNF!=null?s2e(d.dateNF):null;function V(){var P=u.slice(C,D),M={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)M.t="z";else if(d.raw)M.t="s",M.v=P;else if(P.trim().length===0)M.t="s",M.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(M.t="s",M.v=P.slice(2,-1).replace(/""/g,'"')):Fbe(P)?(M.t="n",M.f=P.slice(1)):(M.t="s",M.v=P);else if(P=="TRUE")M.t="b",M.v=!0;else if(P=="FALSE")M.t="b",M.v=!1;else if(!isNaN(E=Hl(P)))M.t="n",d.cellText!==!1&&(M.w=P),M.v=E;else if(!isNaN(Jm(P).getDate())||O&&P.match(O)){M.z=d.dateNF||Xt[14];var X=0;O&&P.match(O)&&(P=o2e(P,d.dateNF,P.match(O)||[]),X=1),d.cellDates?(M.t="d",M.v=qr(P,X)):(M.t="n",M.v=Gi(qr(P,X))),d.cellText!==!1&&(M.w=Wa(M.z,M.v instanceof Date?Gi(M.v):M.v)),d.cellNF||delete M.z}else M.t="s",M.v=P;if(M.t=="z"||(d.dense?(g[x]||(g[x]=[]),g[x][_]=M):g[Jt({c:_,r:x})]=M),C=D+1,N=u.charCodeAt(C),v.e.c<_&&(v.e.c=_),v.e.r<x&&(v.e.r=x),I==A)++_;else if(_=0,++x,d.sheetRows&&d.sheetRows<=x)return!0}e:for(;D<u.length;++D)switch(I=u.charCodeAt(D)){case 34:N===34&&(L=!L);break;case A:case 10:case 13:if(!L&&V())break e;break;default:break}return D-C>0&&V(),g["!ref"]=pn(v),g}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):rg(e(u,f),f)}function a(u,f){var d="",h=f.type=="string"?[0,0,0,0]:A3(u,f);switch(f.type){case"base64":d=ha(u);break;case"binary":d=u;break;case"buffer":f.codepage==65001?d=u.toString("utf8"):f.codepage&&typeof fr<"u"?d=fr.utils.decode(f.codepage,u):d=An&&Buffer.isBuffer(u)?u.toString("binary"):hd(u);break;case"array":d=op(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=br(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=br(d):f.type=="binary"&&typeof fr<"u"&&f.codepage&&(d=fr.utils.decode(f.codepage,fr.utils.encode(28591,d))),d.slice(0,19)=="socialcalc:version:"?mW.to_sheet(f.type=="string"?d:br(d),f):o(d,f)}function l(u,f){return pd(a(u,f),f)}function c(u){for(var f=[],d=Gn(u["!ref"]),h,g=Array.isArray(u),v=d.s.r;v<=d.e.r;++v){for(var x=[],_=d.s.c;_<=d.e.c;++_){var E=Jt({r:v,c:_});if(h=g?(u[v]||[])[_]:u[E],!h||h.v==null){x.push("          ");continue}for(var C=(h.w||(Lu(h),h.w)||"").slice(0,10);C.length<10;)C+=" ";x.push(C+(_===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:c}})();function xSe(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=hW.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Qm.to_workbook(t,e)}}var rp=(function(){function t(T,B,F){if(T){ys(T,T.l||0);for(var H=F.Enum||me;T.l<T.length;){var Q=T.read_shift(2),ye=H[Q]||H[65535],ve=T.read_shift(2),xe=T.l+ve,be=ye.f&&ye.f(T,ve,F);if(T.l=xe,B(be,ye,Q))return}}}function e(T,B){switch(B.type){case"base64":return n(fa(ha(T)),B);case"binary":return n(fa(T),B);case"buffer":case"array":return n(T,B)}throw"Unsupported type "+B.type}function n(T,B){if(!T)return T;var F=B||{};ai!=null&&F.dense==null&&(F.dense=ai);var H=F.dense?[]:{},Q="Sheet1",ye="",ve=0,xe={},be=[],He=[],ee={s:{r:0,c:0},e:{r:0,c:0}},tt=F.sheetRows||0;if(T[2]==0&&(T[3]==8||T[3]==9)&&T.length>=16&&T[14]==5&&T[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(T[2]==2)F.Enum=me,t(T,function(We,ft,Je){switch(Je){case 0:F.vers=We,We>=4096&&(F.qpro=!0);break;case 6:ee=We;break;case 204:We&&(ye=We);break;case 222:ye=We;break;case 15:case 51:F.qpro||(We[1].v=We[1].v.slice(1));case 13:case 14:case 16:Je==14&&(We[2]&112)==112&&(We[2]&15)>1&&(We[2]&15)<15&&(We[1].z=F.dateNF||Xt[14],F.cellDates&&(We[1].t="d",We[1].v=db(We[1].v))),F.qpro&&We[3]>ve&&(H["!ref"]=pn(ee),xe[Q]=H,be.push(Q),H=F.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},ve=We[3],Q=ye||"Sheet"+(ve+1),ye="");var it=F.dense?(H[We[0].r]||[])[We[0].c]:H[Jt(We[0])];if(it){it.t=We[1].t,it.v=We[1].v,We[1].z!=null&&(it.z=We[1].z),We[1].f!=null&&(it.f=We[1].f);break}F.dense?(H[We[0].r]||(H[We[0].r]=[]),H[We[0].r][We[0].c]=We[1]):H[Jt(We[0])]=We[1];break;default:}},F);else if(T[2]==26||T[2]==14)F.Enum=ge,T[2]==14&&(F.qpro=!0,T.l=0),t(T,function(We,ft,Je){switch(Je){case 204:Q=We;break;case 22:We[1].v=We[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(We[3]>ve&&(H["!ref"]=pn(ee),xe[Q]=H,be.push(Q),H=F.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},ve=We[3],Q="Sheet"+(ve+1)),tt>0&&We[0].r>=tt)break;F.dense?(H[We[0].r]||(H[We[0].r]=[]),H[We[0].r][We[0].c]=We[1]):H[Jt(We[0])]=We[1],ee.e.c<We[0].c&&(ee.e.c=We[0].c),ee.e.r<We[0].r&&(ee.e.r=We[0].r);break;case 27:We[14e3]&&(He[We[14e3][0]]=We[14e3][1]);break;case 1537:He[We[0]]=We[1],We[0]==ve&&(Q=We[1]);break;default:break}},F);else throw new Error("Unrecognized LOTUS BOF "+T[2]);if(H["!ref"]=pn(ee),xe[ye||Q]=H,be.push(ye||Q),!He.length)return{SheetNames:be,Sheets:xe};for(var at={},Oe=[],ae=0;ae<He.length;++ae)xe[be[ae]]?(Oe.push(He[ae]||be[ae]),at[He[ae]]=xe[He[ae]]||xe[be[ae]]):(Oe.push(He[ae]),at[He[ae]]={"!ref":"A1"});return{SheetNames:Oe,Sheets:at}}function r(T,B){var F=B||{};if(+F.codepage>=0&&Vl(+F.codepage),F.type=="string")throw new Error("Cannot write WK1 to JS string");var H=Oo(),Q=Gn(T["!ref"]),ye=Array.isArray(T),ve=[];ut(H,0,s(1030)),ut(H,6,l(Q));for(var xe=Math.min(Q.e.r,8191),be=Q.s.r;be<=xe;++be)for(var He=xi(be),ee=Q.s.c;ee<=Q.e.c;++ee){be===Q.s.r&&(ve[ee]=Kr(ee));var tt=ve[ee]+He,at=ye?(T[be]||[])[ee]:T[tt];if(!(!at||at.t=="z"))if(at.t=="n")(at.v|0)==at.v&&at.v>=-32768&&at.v<=32767?ut(H,13,h(be,ee,at.v)):ut(H,14,v(be,ee,at.v));else{var Oe=Lu(at);ut(H,15,f(be,ee,Oe.slice(0,239)))}}return ut(H,1),H.end()}function i(T,B){var F=B||{};if(+F.codepage>=0&&Vl(+F.codepage),F.type=="string")throw new Error("Cannot write WK3 to JS string");var H=Oo();ut(H,0,o(T));for(var Q=0,ye=0;Q<T.SheetNames.length;++Q)(T.Sheets[T.SheetNames[Q]]||{})["!ref"]&&ut(H,27,fe(T.SheetNames[Q],ye++));var ve=0;for(Q=0;Q<T.SheetNames.length;++Q){var xe=T.Sheets[T.SheetNames[Q]];if(!(!xe||!xe["!ref"])){for(var be=Gn(xe["!ref"]),He=Array.isArray(xe),ee=[],tt=Math.min(be.e.r,8191),at=be.s.r;at<=tt;++at)for(var Oe=xi(at),ae=be.s.c;ae<=be.e.c;++ae){at===be.s.r&&(ee[ae]=Kr(ae));var We=ee[ae]+Oe,ft=He?(xe[at]||[])[ae]:xe[We];if(!(!ft||ft.t=="z"))if(ft.t=="n")ut(H,23,V(at,ae,ve,ft.v));else{var Je=Lu(ft);ut(H,22,I(at,ae,ve,Je.slice(0,239)))}}++ve}}return ut(H,1),H.end()}function s(T){var B=qe(2);return B.write_shift(2,T),B}function o(T){var B=qe(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var F=0,H=0,Q=0,ye=0;ye<T.SheetNames.length;++ye){var ve=T.SheetNames[ye],xe=T.Sheets[ve];if(!(!xe||!xe["!ref"])){++Q;var be=Bo(xe["!ref"]);F<be.e.r&&(F=be.e.r),H<be.e.c&&(H=be.e.c)}}return F>8191&&(F=8191),B.write_shift(2,F),B.write_shift(1,Q),B.write_shift(1,H),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function a(T,B,F){var H={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&F.qpro?(H.s.c=T.read_shift(1),T.l++,H.s.r=T.read_shift(2),H.e.c=T.read_shift(1),T.l++,H.e.r=T.read_shift(2),H):(H.s.c=T.read_shift(2),H.s.r=T.read_shift(2),B==12&&F.qpro&&(T.l+=2),H.e.c=T.read_shift(2),H.e.r=T.read_shift(2),B==12&&F.qpro&&(T.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function l(T){var B=qe(8);return B.write_shift(2,T.s.c),B.write_shift(2,T.s.r),B.write_shift(2,T.e.c),B.write_shift(2,T.e.r),B}function c(T,B,F){var H=[{c:0,r:0},{t:"n",v:0},0,0];return F.qpro&&F.vers!=20768?(H[0].c=T.read_shift(1),H[3]=T.read_shift(1),H[0].r=T.read_shift(2),T.l+=2):(H[2]=T.read_shift(1),H[0].c=T.read_shift(2),H[0].r=T.read_shift(2)),H}function u(T,B,F){var H=T.l+B,Q=c(T,B,F);if(Q[1].t="s",F.vers==20768){T.l++;var ye=T.read_shift(1);return Q[1].v=T.read_shift(ye,"utf8"),Q}return F.qpro&&T.l++,Q[1].v=T.read_shift(H-T.l,"cstr"),Q}function f(T,B,F){var H=qe(7+F.length);H.write_shift(1,255),H.write_shift(2,B),H.write_shift(2,T),H.write_shift(1,39);for(var Q=0;Q<H.length;++Q){var ye=F.charCodeAt(Q);H.write_shift(1,ye>=128?95:ye)}return H.write_shift(1,0),H}function d(T,B,F){var H=c(T,B,F);return H[1].v=T.read_shift(2,"i"),H}function h(T,B,F){var H=qe(7);return H.write_shift(1,255),H.write_shift(2,B),H.write_shift(2,T),H.write_shift(2,F,"i"),H}function g(T,B,F){var H=c(T,B,F);return H[1].v=T.read_shift(8,"f"),H}function v(T,B,F){var H=qe(13);return H.write_shift(1,255),H.write_shift(2,B),H.write_shift(2,T),H.write_shift(8,F,"f"),H}function x(T,B,F){var H=T.l+B,Q=c(T,B,F);if(Q[1].v=T.read_shift(8,"f"),F.qpro)T.l=H;else{var ye=T.read_shift(2);D(T.slice(T.l,T.l+ye),Q),T.l+=ye}return Q}function _(T,B,F){var H=B&32768;return B&=-32769,B=(H?T:0)+(B>=8192?B-16384:B),(H?"":"$")+(F?Kr(B):xi(B))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(T,B){ys(T,0);for(var F=[],H=0,Q="",ye="",ve="",xe="";T.l<T.length;){var be=T[T.l++];switch(be){case 0:F.push(T.read_shift(8,"f"));break;case 1:ye=_(B[0].c,T.read_shift(2),!0),Q=_(B[0].r,T.read_shift(2),!1),F.push(ye+Q);break;case 2:{var He=_(B[0].c,T.read_shift(2),!0),ee=_(B[0].r,T.read_shift(2),!1);ye=_(B[0].c,T.read_shift(2),!0),Q=_(B[0].r,T.read_shift(2),!1),F.push(He+ee+":"+ye+Q)}break;case 3:if(T.l<T.length){console.error("WK1 premature formula end");return}break;case 4:F.push("("+F.pop()+")");break;case 5:F.push(T.read_shift(2));break;case 6:{for(var tt="";be=T[T.l++];)tt+=String.fromCharCode(be);F.push('"'+tt.replace(/"/g,'""')+'"')}break;case 8:F.push("-"+F.pop());break;case 23:F.push("+"+F.pop());break;case 22:F.push("NOT("+F.pop()+")");break;case 20:case 21:xe=F.pop(),ve=F.pop(),F.push(["AND","OR"][be-20]+"("+ve+","+xe+")");break;default:if(be<32&&C[be])xe=F.pop(),ve=F.pop(),F.push(ve+C[be]+xe);else if(E[be]){if(H=E[be][1],H==69&&(H=T[T.l++]),H>F.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+F.join("|")+"|");return}var at=F.slice(-H);F.length-=H,F.push(E[be][0]+"("+at.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}F.length==1?B[1].f=""+F[0]:console.error("WK1 bad formula parse |"+F.join("|")+"|")}function A(T){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=T.read_shift(2),B[3]=T[T.l++],B[0].c=T[T.l++],B}function L(T,B){var F=A(T,B);return F[1].t="s",F[1].v=T.read_shift(B-4,"cstr"),F}function I(T,B,F,H){var Q=qe(6+H.length);Q.write_shift(2,T),Q.write_shift(1,F),Q.write_shift(1,B),Q.write_shift(1,39);for(var ye=0;ye<H.length;++ye){var ve=H.charCodeAt(ye);Q.write_shift(1,ve>=128?95:ve)}return Q.write_shift(1,0),Q}function N(T,B){var F=A(T,B);F[1].v=T.read_shift(2);var H=F[1].v>>1;if(F[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return F[1].v=H,F}function O(T,B){var F=A(T,B),H=T.read_shift(4),Q=T.read_shift(4),ye=T.read_shift(2);if(ye==65535)return H===0&&Q===3221225472?(F[1].t="e",F[1].v=15):H===0&&Q===3489660928?(F[1].t="e",F[1].v=42):F[1].v=0,F;var ve=ye&32768;return ye=(ye&32767)-16446,F[1].v=(1-ve*2)*(Q*Math.pow(2,ye+32)+H*Math.pow(2,ye)),F}function V(T,B,F,H){var Q=qe(14);if(Q.write_shift(2,T),Q.write_shift(1,F),Q.write_shift(1,B),H==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var ye=0,ve=0,xe=0,be=0;return H<0&&(ye=1,H=-H),ve=Math.log2(H)|0,H/=Math.pow(2,ve-31),be=H>>>0,(be&2147483648)==0&&(H/=2,++ve,be=H>>>0),H-=be,be|=2147483648,be>>>=0,H*=Math.pow(2,32),xe=H>>>0,Q.write_shift(4,xe),Q.write_shift(4,be),ve+=16383+(ye?32768:0),Q.write_shift(2,ve),Q}function P(T,B){var F=O(T,14);return T.l+=B-14,F}function M(T,B){var F=A(T,B),H=T.read_shift(4);return F[1].v=H>>6,F}function X(T,B){var F=A(T,B),H=T.read_shift(8,"f");return F[1].v=H,F}function U(T,B){var F=X(T,14);return T.l+=B-10,F}function z(T,B){return T[T.l+B-1]==0?T.read_shift(B,"cstr"):""}function re(T,B){var F=T[T.l++];F>B-1&&(F=B-1);for(var H="";H.length<F;)H+=String.fromCharCode(T[T.l++]);return H}function Z(T,B,F){if(!(!F.qpro||B<21)){var H=T.read_shift(1);T.l+=17,T.l+=1,T.l+=2;var Q=T.read_shift(B-21,"cstr");return[H,Q]}}function de(T,B){for(var F={},H=T.l+B;T.l<H;){var Q=T.read_shift(2);if(Q==14e3){for(F[Q]=[0,""],F[Q][0]=T.read_shift(2);T[T.l];)F[Q][1]+=String.fromCharCode(T[T.l]),T.l++;T.l++}}return F}function fe(T,B){var F=qe(5+T.length);F.write_shift(2,14e3),F.write_shift(2,B);for(var H=0;H<T.length;++H){var Q=T.charCodeAt(H);F[F.l++]=Q>127?95:Q}return F[F.l++]=0,F}var me={0:{n:"BOF",f:Ni},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:z},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},ge={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:L},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:de},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:X},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function wSe(t){var e={},n=t.match(Ws),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Zt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=UF[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var ESe=(function(){var t=f_("t"),e=f_("rPr");function n(s){var o=s.match(t);if(!o)return{t:"s",v:""};var a={t:"s",v:qn(o[1])},l=s.match(e);return l&&(a.s=wSe(l[1])),a}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(a){return a.v})}})(),SSe=(function(){var e=/(\r\n|\n)/g;function n(i,s,o){var a=[];i.u&&a.push("text-decoration: underline;"),i.uval&&a.push("text-underline-style:"+i.uval+";"),i.sz&&a.push("font-size:"+i.sz+"pt;"),i.outline&&a.push("text-effect: outline;"),i.shadow&&a.push("text-shadow: auto;"),s.push('<span style="'+a.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),CSe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,bSe=/<(?:\w+:)?r>/,TSe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function p3(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=qn(br(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=br(t),n&&(r.h=KF(r.t))):t.match(bSe)&&(r.r=br(t),r.t=qn(br((t.replace(TSe,"").match(CSe)||[]).join("").replace(Ws,""))),n&&(r.h=SSe(ESe(r.r)))),r):{t:""}}var ASe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,ISe=/<(?:\w+:)?(?:si|sstItem)>/g,DSe=/<\/(?:\w+:)?(?:si|sstItem)>/;function kSe(t,e){var n=[],r="";if(!t)return n;var i=t.match(ASe);if(i){r=i[2].replace(ISe,"").split(DSe);for(var s=0;s!=r.length;++s){var o=p3(r[s].trim(),e);o!=null&&(n[n.length]=o)}i=Zt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var NSe=/^\s|\s$|[\t\n\r]/;function gW(t,e){if(!e.bookSST)return"";var n=[wi];n[n.length]=ct("sst",null,{xmlns:fp[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(NSe)&&(s+=' xml:space="preserve"'),s+=">"+xr(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function MSe(t){return[t.read_shift(4),t.read_shift(4)]}function PSe(t,e){var n=[],r=!1;return Bu(t,function(s,o,a){switch(a){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||e.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),n}function FSe(t,e){return e||(e=qe(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var RSe=W2e;function LSe(t){var e=Oo();Ke(e,159,FSe(t));for(var n=0;n<t.length;++n)Ke(e,19,RSe(t[n]));return Ke(e,160),e.end()}function vW(t){if(typeof fr<"u")return fr.utils.encode(Km,t);for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Ru(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function OSe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Ru(t,4),e.U=Ru(t,4),e.W=Ru(t,4),e}function BSe(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function VSe(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(BSe(t));return e}function USe(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function HSe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Ru(t,4),e.U=Ru(t,4),e.W=Ru(t,4),e}function $Se(t){var e=HSe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function yW(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function _W(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function qSe(t){var e=Ru(t);switch(e.Minor){case 2:return[e.Minor,GSe(t,e)];case 3:return[e.Minor,WSe(t,e)];case 4:return[e.Minor,jSe(t,e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function GSe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=yW(t,n),i=_W(t,t.length-t.l);return{t:"Std",h:r,v:i}}function WSe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function jSe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Ws,function(s){var o=Zt(s);switch(Vc(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(a){r[a]=o[a]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function zSe(t,e){var n={},r=n.EncryptionVersionInfo=Ru(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=yW(t,i),e-=i,n.EncryptionVerifier=_W(t,e),n}function YSe(t){var e={},n=e.EncryptionVersionInfo=Ru(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function m3(t){var e=0,n,r=vW(t),i=r.length+1,s,o,a,l,c;for(n=cd(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],a=(e&16384)===0?0:1,l=e<<1&32767,c=a|l,e=c^o;return e^52811}var xW=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,a){return r(o^a)},s=function(o){for(var a=e[o.length-1],l=104,c=o.length-1;c>=0;--c)for(var u=o[c],f=0;f!=7;++f)u&64&&(a^=n[l]),u*=2,--l;return a};return function(o){for(var a=vW(o),l=s(a),c=a.length,u=cd(16),f=0;f!=16;++f)u[f]=0;var d,h,g;for((c&1)===1&&(d=l>>8,u[c]=i(t[0],d),--c,d=l&255,h=a[a.length-1],u[c]=i(h,d));c>0;)--c,d=l>>8,u[c]=i(a[c],d),--c,d=l&255,u[c]=i(a[c],d);for(c=15,g=15-a.length;g>0;)d=l>>8,u[c]=i(t[g],d),--c,--g,d=l&255,u[c]=i(a[c],d),--c,--g;return u}})(),XSe=function(t,e,n,r,i){i||(i=e),r||(r=xW(t));var s,o;for(s=0;s!=e.length;++s)o=e[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},KSe=function(t){var e=0,n=xW(t);return function(r){var i=XSe("",r,e,n);return e=i[1],i[0]}};function JSe(t,e,n,r){var i={key:Ni(t),verificationBytes:Ni(t)};return n.password&&(i.verifier=m3(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=KSe(n.password)),i}function QSe(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=YSe(t,e):r.Data=zSe(t,e),r}function ZSe(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?QSe(t,e-2,r):JSe(t,n.biff>=8?e:e-2,n,r),r}var wW=(function(){function t(i,s){switch(s.type){case"base64":return e(ha(i),s);case"binary":return e(i,s);case"buffer":return e(An&&Buffer.isBuffer(i)?i.toString("binary"):hd(i),s);case"array":return e(op(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},a=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(a)&&(a[f]=[]);for(var d=/\\\w+\b/g,h=0,g,v=-1;g=d.exec(u);){switch(g[0]){case"\\cell":var x=u.slice(h,d.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++v,x.length){var _={v:x,t:"s"};Array.isArray(a)?a[f][v]=_:a[Jt({r:f,c:v})]=_}break}h=d.lastIndex}v>c.e.c&&(c.e.c=v)}),a["!ref"]=pn(c),a}function n(i,s){return pd(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=Gn(i["!ref"]),a,l=Array.isArray(i),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Jt({r:c,c:u});a=l?(i[c]||[])[u]:i[f],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(Lu(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function eCe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function m_(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function tCe(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=i-s;if(o===0)return[0,0,e];var a=0,l=0,c=i+s;switch(l=o/(c>1?2-c:c),i){case e:a=((n-r)/o+6)%6;break;case n:a=(r-e)/o+2;break;case r:a=(e-n)/o+4;break}return[a/6,l,c/2]}function nCe(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],a=6*e,l;if(n!==0)switch(a|0){case 0:case 6:l=i*a,o[0]+=i,o[1]+=l;break;case 1:l=i*(2-a),o[0]+=l,o[1]+=i;break;case 2:l=i*(a-2),o[1]+=i,o[2]+=l;break;case 3:l=i*(4-a),o[1]+=l,o[2]+=i;break;case 4:l=i*(a-4),o[2]+=i,o[0]+=l;break;case 5:l=i*(6-a),o[2]+=l,o[0]+=i;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function ib(t,e){if(e===0)return t;var n=tCe(eCe(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),m_(nCe(n))}var EW=6,rCe=15,iCe=1,Us=EW;function g_(t){return Math.floor((t+Math.round(128/Us)/256)*Us)}function v_(t){return Math.floor((t-5)/Us*100+.5)/100}function sb(t){return Math.round((t*Us+5)/Us*256)/256}function _F(t){return sb(v_(g_(t)))}function g3(t){var e=Math.abs(t-_F(t)),n=Us;if(e>.005)for(Us=iCe;Us<rCe;++Us)Math.abs(t-_F(t))<=e&&(e=Math.abs(t-_F(t)),n=Us);Us=n}function ud(t){t.width?(t.wpx=g_(t.width),t.wch=v_(t.wpx),t.MDW=Us):t.wpx?(t.wch=v_(t.wpx),t.width=sb(t.wch),t.MDW=Us):typeof t.wch=="number"&&(t.width=sb(t.wch),t.wpx=g_(t.width),t.MDW=Us),t.customWidth&&delete t.customWidth}var sCe=96,SW=sCe;function y_(t){return t*96/SW}function Zm(t){return t*SW/96}var oCe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function aCe(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Ws)||[]).forEach(function(o){var a=Zt(o);switch(Vc(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},a.diagonalUp&&(i.diagonalUp=$r(a.diagonalUp)),a.diagonalDown&&(i.diagonalDown=$r(a.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in borders")}})}function lCe(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Ws)||[]).forEach(function(o){var a=Zt(o);switch(Vc(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":a.patternType&&(i.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),a.indexed&&(i.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(i.bgColor.theme=parseInt(a.theme,10)),a.tint&&(i.bgColor.tint=parseFloat(a.tint)),a.rgb&&(i.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),a.theme&&(i.fgColor.theme=parseInt(a.theme,10)),a.tint&&(i.fgColor.tint=parseFloat(a.tint)),a.rgb!=null&&(i.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fills")}})}function cCe(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Ws)||[]).forEach(function(o){var a=Zt(o);switch(Vc(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":a.val&&(i.name=br(a.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=a.val?$r(a.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=a.val?$r(a.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(a.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=a.val?$r(a.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=a.val?$r(a.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=a.val?$r(a.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=a.val?$r(a.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=a.val?$r(a.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":a.val&&(i.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(i.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(i.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(i.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(a.val=="1")break;a.codepage=UF[parseInt(a.val,10)];break;case"<color":if(i.color||(i.color={}),a.auto&&(i.color.auto=$r(a.auto)),a.rgb)i.color.rgb=a.rgb.slice(-6);else if(a.indexed){i.color.index=parseInt(a.indexed,10);var l=tp[i.color.index];i.color.index==81&&(l=tp[1]),l||(l=tp[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else a.theme&&(i.color.theme=parseInt(a.theme,10),a.tint&&(i.color.tint=parseFloat(a.tint)),a.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=ib(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fonts")}})}function uCe(t,e,n){e.NumberFmt=[];for(var r=li(Xt),i=0;i<r.length;++i)e.NumberFmt[r[i]]=Xt[r[i]];var s=t[0].match(Ws);if(s)for(i=0;i<s.length;++i){var o=Zt(s[i]);switch(Vc(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var a=qn(br(o.formatCode)),l=parseInt(o.numFmtId,10);if(e.NumberFmt[l]=a,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=a}Fu(a,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function fCe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=ct("numFmt",null,{numFmtId:r,formatCode:xr(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ct("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var WC=["numFmtId","fillId","fontId","borderId","xfId"],jC=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function dCe(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Ws)||[]).forEach(function(s){var o=Zt(s),a=0;switch(Vc(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],a=0;a<WC.length;++a)r[WC[a]]&&(r[WC[a]]=parseInt(r[WC[a]],10));for(a=0;a<jC.length;++a)r[jC[a]]&&(r[jC[a]]=$r(r[jC[a]]));if(e.NumberFmt&&r.numFmtId>392){for(a=392;a>60;--a)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[a]){r.numFmtId=a;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=$r(o.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function hCe(t){var e=[];return e[e.length]=ct("cellXfs",null),t.forEach(function(n){e[e.length]=ct("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ct("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var pCe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,l,c){var u={};if(!a)return u;a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=a.match(e))&&uCe(f,u,c),(f=a.match(i))&&cCe(f,u,l,c),(f=a.match(r))&&lCe(f,u,l,c),(f=a.match(s))&&aCe(f,u,l,c),(f=a.match(n))&&dCe(f,u,c),u}})();function CW(t,e){var n=[wi,ct("styleSheet",null,{xmlns:fp[0],"xmlns:vt":qi.vt})],r;return t.SSF&&(r=fCe(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=hCe(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function mCe(t,e){var n=t.read_shift(2),r=qs(t,e-2);return[n,r]}function gCe(t,e,n){n||(n=qe(6+4*e.length)),n.write_shift(2,t),ns(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function vCe(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=Q2e(t,2,n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var a=t.read_shift(1);a>0&&(r.family=a);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=J2e(t,8),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=qs(t,e-21),r}function yCe(t,e){e||(e=qe(153)),e.write_shift(2,t.sz*20),Z2e(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),tb(t.color,e);var r=0;return t.scheme=="major"&&(r=1),t.scheme=="minor"&&(r=2),e.write_shift(1,r),ns(t.name,e),e.length>e.l?e.slice(0,e.l):e}var _Ce=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],xF,xCe=Gs;function $q(t,e){e||(e=qe(84)),xF||(xF=ub(_Ce));var n=xF[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(tb({auto:1},e),tb({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function wCe(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function bW(t,e,n){n||(n=qe(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Ky(t,e){return e||(e=qe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var ECe=Gs;function SCe(t,e){return e||(e=qe(51)),e.write_shift(1,0),Ky(null,e),Ky(null,e),Ky(null,e),Ky(null,e),Ky(null,e),e.length>e.l?e.slice(0,e.l):e}function CCe(t,e){return e||(e=qe(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,+t.builtinId),e.write_shift(1,0),eb(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function bCe(t,e,n){var r=qe(2052);return r.write_shift(4,t),eb(e,r),eb(n,r),r.length>r.l?r.slice(0,r.l):r}function TCe(t,e,n){var r={};r.NumberFmt=[];for(var i in Xt)r.NumberFmt[i]=Xt[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return Bu(t,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],Fu(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=ib(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(u),o=!0;break;case 38:s.pop(),o=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function ACe(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(Ke(t,615,$l(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Ke(t,44,gCe(i,e[i]))}),Ke(t,616))}}function ICe(t){var e=1;e!=0&&(Ke(t,611,$l(e)),Ke(t,43,yCe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ke(t,612))}function DCe(t){var e=2;e!=0&&(Ke(t,603,$l(e)),Ke(t,45,$q({patternType:"none"})),Ke(t,45,$q({patternType:"gray125"})),Ke(t,604))}function kCe(t){var e=1;e!=0&&(Ke(t,613,$l(e)),Ke(t,46,SCe({})),Ke(t,614))}function NCe(t){var e=1;Ke(t,626,$l(e)),Ke(t,47,bW({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ke(t,627)}function MCe(t,e){Ke(t,617,$l(e.length)),e.forEach(function(n){Ke(t,47,bW(n,0))}),Ke(t,618)}function PCe(t){var e=1;Ke(t,619,$l(e)),Ke(t,48,CCe({xfId:0,builtinId:0,name:"Normal"})),Ke(t,620)}function FCe(t){var e=0;Ke(t,505,$l(e)),Ke(t,506)}function RCe(t){var e=0;Ke(t,508,bCe(e,"TableStyleMedium9","PivotStyleMedium4")),Ke(t,509)}function LCe(t,e){var n=Oo();return Ke(n,278),ACe(n,t.SSF),ICe(n,t),DCe(n,t),kCe(n,t),NCe(n,t),MCe(n,e.cellXfs),PCe(n,t),FCe(n,t),RCe(n,t),Ke(n,279),n.end()}var OCe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function BCe(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Ws)||[]).forEach(function(i){var s=Zt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[OCe.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function VCe(){}function UCe(){}var HCe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,$Ce=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,qCe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function GCe(t,e,n){e.themeElements={};var r;[["clrScheme",HCe,BCe],["fontScheme",$Ce,VCe],["fmtScheme",qCe,UCe]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var WCe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function TW(t,e){(!t||t.length===0)&&(t=v3());var n,r={};if(!(n=t.match(WCe)))throw new Error("themeElements not found in theme");return GCe(n[0],r,e),r.raw=t,r}function v3(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[wi];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',n[n.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',n[n.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',n[n.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',n[n.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',n[n.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',n[n.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function jCe(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var o;try{o=SG(s,{type:"array"})}catch{return}var a=da(o,"theme/theme/theme1.xml",!0);if(a)return TW(a,n)}}function zCe(t){return t.read_shift(4)}function YCe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=XCe(t,4);break;case 2:e.xclrValue=sW(t,4);break;case 3:e.xclrValue=zCe(t,4);break;case 4:t.l+=4;break}return t.l+=8,e}function XCe(t,e){return Gs(t,e)}function KCe(t,e){return Gs(t,e)}function JCe(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=YCe(t,n);break;case 6:r[1]=KCe(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function QCe(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(JCe(t,n-t.l));return{ixfe:r,ext:s}}function ZCe(t,e){e.forEach(function(n){switch(n[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}})}function ebe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:qs(t,e-8)}}function tbe(t){var e=qe(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),ns(t.name,e),e.slice(0,e.l)}function nbe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function rbe(t){var e=qe(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function ibe(t,e){var n=qe(8+2*e.length);return n.write_shift(4,t),ns(e,n),n.slice(0,n.l)}function sbe(t){return t.l+=4,t.read_shift(4)!=0}function obe(t,e){var n=qe(8);return n.write_shift(4,t),n.write_shift(4,e?1:0),n}function abe(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,a=2;return Bu(t,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(f){a==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):a==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:a=l?1:0;break;case 338:a=2;break;case 35:s.push(u),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!c.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function lbe(){var t=Oo();return Ke(t,332),Ke(t,334,$l(1)),Ke(t,335,tbe({name:"XLDAPR",version:12e4,flags:3496657072})),Ke(t,336),Ke(t,339,ibe(1,"XLDAPR")),Ke(t,52),Ke(t,35,$l(514)),Ke(t,4096,$l(0)),Ke(t,4097,qa(1)),Ke(t,36),Ke(t,53),Ke(t,340),Ke(t,337,obe(1,!0)),Ke(t,51,rbe([[1,0]])),Ke(t,338),Ke(t,333),t.end()}function cbe(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,o;return t.replace(Ws,function(a){var l=Zt(a);switch(Vc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(o=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return a}),r}function AW(){var t=[wi];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function ube(t){var e=[];if(!t)return e;var n=1;return(t.match(Ws)||[]).forEach(function(r){var i=Zt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function fbe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Jt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function dbe(t,e,n){var r=[],i=!1;return Bu(t,function(o,a,l){switch(l){case 63:r.push(o);break;default:if(!a.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),r}function hbe(t,e,n,r){if(!t)return t;var i=r||{},s=!1,o=!1;Bu(t,function(l,c,u){if(!o)switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function pbe(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}var Wm=1024;function IW(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[ct("xml",null,{"xmlns:v":ua.v,"xmlns:o":ua.o,"xmlns:x":ua.x,"xmlns:mv":ua.mv}).replace(/\/>/,">"),ct("o:shapelayout",ct("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),ct("v:shapetype",[ct("v:stroke",null,{joinstyle:"miter"}),ct("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Wm<t*1e3;)Wm+=1e3;return e.forEach(function(s){var o=Jr(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?ct("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=ct("v:fill",l,a),u={on:"t",obscured:"t"};++Wm,i=i.concat(["<v:shape"+d_({id:"_x0000_s"+Wm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,ct("v:shadow",null,u),ct("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",_s("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),_s("x:AutoFill","False"),_s("x:Row",String(o.r)),_s("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function qq(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(o){var a=Jr(o.ref);if(i?(t[a.r]||(t[a.r]=[]),s=t[a.r][a.c]):s=t[o.ref],!s){s={t:"z"},i?t[a.r][a.c]=s:t[o.ref]=s;var l=Gn(t["!ref"]||"BDWGO1000001:A1");l.s.r>a.r&&(l.s.r=a.r),l.e.r<a.r&&(l.e.r=a.r),l.s.c>a.c&&(l.s.c=a.c),l.e.c<a.c&&(l.e.c=a.c);var c=pn(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var u={a:o.author,t:o.t,r:o.r,T:n};o.h&&(u.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}s.c.push(u)})}function mbe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&n.push(a[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?comment[^>]*>/);if(a){var l=Zt(a[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Jr(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&p3(f[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=d.h),r.push(c)}}}}),r}function DW(t){var e=[wi,ct("comments",null,{xmlns:fp[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=xr(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(xr(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(_s("t",xr(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;e.push(_s("t",xr(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function gbe(t,e){var n=[],r=!1,i={},s=0;return t.replace(Ws,function(a,l){var c=Zt(a);switch(Vc(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+a.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return a}),n}function vbe(t,e,n){var r=[wi,ct("ThreadedComments",null,{xmlns:qi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};a==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(ct("threadedComment",_s("text",o.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function ybe(t,e){var n=[],r=!1;return t.replace(Ws,function(s){var o=Zt(s);switch(Vc(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function _be(t){var e=[wi,ct("personList",null,{xmlns:qi.TCMNT,"xmlns:x":fp[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(ct("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function xbe(t){var e={};e.iauthor=t.read_shift(4);var n=mp(t,16);return e.rfx=n.s,e.ref=Jt(n.s),t.l+=16,e}function wbe(t,e){return e==null&&(e=qe(36)),e.write_shift(4,t[1].iauthor),ig(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Ebe=qs;function Sbe(t){return ns(t.slice(0,54))}function Cbe(t,e){var n=[],r=[],i={},s=!1;return Bu(t,function(a,l,c){switch(c){case 632:r.push(a);break;case 635:i=a;break;case 637:i.t=a.t,i.h=a.h,i.r=a.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function bbe(t){var e=Oo(),n=[];return Ke(e,628),Ke(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Ke(e,632,Sbe(i.a)))})}),Ke(e,631),Ke(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Jr(r[0]),e:Jr(r[0])};Ke(e,635,wbe([s,i])),i.t&&i.t.length>0&&Ke(e,637,z2e(i)),Ke(e,636),delete i.iauthor})}),Ke(e,634),Ke(e,629),e.end()}var Tbe="application/vnd.ms-office.vbaProject";function Abe(t){var e=Ft.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ft.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Ft.write(e)}function Ibe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Ft.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var kW=["xlsb","xlsm","xlam","biff8","xla"];function Dbe(){return{"!type":"dialog"}}function kbe(){return{"!type":"dialog"}}function Nbe(){return{"!type":"macro"}}function Mbe(){return{"!type":"macro"}}var Ym=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return a?u+=e.c:--u,l?c+=e.r:--c,i+(a?"":"$")+Kr(u)+(l?"":"$")+xi(c)}return function(i,s){return e=s,i.replace(t,n)}})(),y3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,_3=(function(){return function(e,n){return e.replace(y3,function(r,i,s,o,a,l){var c=s3(o)-(s?0:n.c),u=i3(l)-(a?0:n.r),f=u==0?"":a?u+1:"["+u+"]",d=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+d})}})();function NW(t,e){return t.replace(y3,function(n,r,i,s,o,a){return r+(i=="$"?i+s:Kr(s3(s)+e.c))+(o=="$"?o+a:xi(i3(a)+e.r))})}function Pbe(t,e,n){var r=Bo(e),i=r.s,s=Jr(n),o={r:s.r-i.r,c:s.c-i.c};return NW(t,o)}function Fbe(t){return t.length!=1}function Gq(t){return t.replace(/_xlfn\./g,"")}function Di(t){t.l+=1}function fd(t,e){var n=t.read_shift(e==1?1:2);return[n&16383,n>>14&1,n>>15&1]}function MW(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return PW(t,e,n);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),o=fd(t,2),a=fd(t,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function PW(t){var e=fd(t,2),n=fd(t,2),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function Rbe(t,e,n){if(n.biff<8)return PW(t,e,n);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=fd(t,2),o=fd(t,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function FW(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return Lbe(t,e,n);var r=t.read_shift(n&&n.biff==12?4:2),i=fd(t,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Lbe(t){var e=fd(t,2),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function Obe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Bbe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Vbe(t,e,n);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function Vbe(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function Ube(t,e,n){var r=(t[t.l++]&96)>>5,i=MW(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function Hbe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=MW(t,s,n);return[r,i,o]}function $be(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function qbe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function Gbe(t,e,n){var r=(t[t.l++]&96)>>5,i=Rbe(t,e-1,n);return[r,i]}function Wbe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function Wq(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function jbe(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function zbe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Ybe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Xbe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Kbe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function RW(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function Jbe(t){return t.read_shift(2),RW(t,2)}function Qbe(t){return t.read_shift(2),RW(t,2)}function Zbe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=FW(t,0,n);return[r,i]}function eTe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=Bbe(t,0,n);return[r,i]}function tTe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=FW(t,0,n);return[r,i,s]}function nTe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[sAe[i],BW[i],r]}function rTe(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:iTe(t);return[i,(s[0]===0?BW:iAe)[s[1]]]}function iTe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function sTe(t,e,n){t.l+=n&&n.biff==2?3:4}function oTe(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function aTe(t){return t.l++,Vu[t.read_shift(1)]}function lTe(t){return t.l++,t.read_shift(2)}function cTe(t){return t.l++,t.read_shift(1)!==0}function uTe(t){return t.l++,Hs(t,8)}function fTe(t,e,n){return t.l++,S_(t,e-1,n)}function dTe(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=_i(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Vu[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Hs(t,8);break;case 2:n[1]=gp(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function hTe(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?mp:pb)(t,8));return i}function pTe(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=dTe(t,n.biff);return o}function mTe(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function gTe(t,e,n){if(n.biff==5)return vTe(t,e,n);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function vTe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function yTe(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function _Te(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function xTe(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function wTe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var ETe=Gs,STe=Gs,CTe=Gs;function b_(t,e,n){return t.l+=2,[Obe(t,4,n)]}function x3(t){return t.l+=6,[]}var bTe=b_,TTe=x3,ATe=x3,ITe=b_;function LW(t){return t.l+=2,[Ni(t),t.read_shift(2)&1]}var DTe=b_,kTe=LW,NTe=x3,MTe=b_,PTe=b_,FTe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function RTe(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),o=FTe[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:i,C:s}}function LTe(t){return t.l+=2,[t.read_shift(4)]}function OTe(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function BTe(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function VTe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function UTe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function HTe(t){return t.l+=4,[0,0]}var jq={1:{n:"PtgExp",f:oTe},2:{n:"PtgTbl",f:CTe},3:{n:"PtgAdd",f:Di},4:{n:"PtgSub",f:Di},5:{n:"PtgMul",f:Di},6:{n:"PtgDiv",f:Di},7:{n:"PtgPower",f:Di},8:{n:"PtgConcat",f:Di},9:{n:"PtgLt",f:Di},10:{n:"PtgLe",f:Di},11:{n:"PtgEq",f:Di},12:{n:"PtgGe",f:Di},13:{n:"PtgGt",f:Di},14:{n:"PtgNe",f:Di},15:{n:"PtgIsect",f:Di},16:{n:"PtgUnion",f:Di},17:{n:"PtgRange",f:Di},18:{n:"PtgUplus",f:Di},19:{n:"PtgUminus",f:Di},20:{n:"PtgPercent",f:Di},21:{n:"PtgParen",f:Di},22:{n:"PtgMissArg",f:Di},23:{n:"PtgStr",f:fTe},26:{n:"PtgSheet",f:OTe},27:{n:"PtgEndSheet",f:BTe},28:{n:"PtgErr",f:aTe},29:{n:"PtgBool",f:cTe},30:{n:"PtgInt",f:lTe},31:{n:"PtgNum",f:uTe},32:{n:"PtgArray",f:Wbe},33:{n:"PtgFunc",f:nTe},34:{n:"PtgFuncVar",f:rTe},35:{n:"PtgName",f:mTe},36:{n:"PtgRef",f:Zbe},37:{n:"PtgArea",f:Ube},38:{n:"PtgMemArea",f:yTe},39:{n:"PtgMemErr",f:ETe},40:{n:"PtgMemNoMem",f:STe},41:{n:"PtgMemFunc",f:_Te},42:{n:"PtgRefErr",f:xTe},43:{n:"PtgAreaErr",f:$be},44:{n:"PtgRefN",f:eTe},45:{n:"PtgAreaN",f:Gbe},46:{n:"PtgMemAreaN",f:VTe},47:{n:"PtgMemNoMemN",f:UTe},57:{n:"PtgNameX",f:gTe},58:{n:"PtgRef3d",f:tTe},59:{n:"PtgArea3d",f:Hbe},60:{n:"PtgRefErr3d",f:wTe},61:{n:"PtgAreaErr3d",f:qbe},255:{}},$Te={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},qTe={1:{n:"PtgElfLel",f:LW},2:{n:"PtgElfRw",f:MTe},3:{n:"PtgElfCol",f:bTe},6:{n:"PtgElfRwV",f:PTe},7:{n:"PtgElfColV",f:ITe},10:{n:"PtgElfRadical",f:DTe},11:{n:"PtgElfRadicalS",f:NTe},13:{n:"PtgElfColS",f:TTe},15:{n:"PtgElfColSV",f:ATe},16:{n:"PtgElfRadicalLel",f:kTe},25:{n:"PtgList",f:RTe},29:{n:"PtgSxName",f:LTe},255:{}},GTe={0:{n:"PtgAttrNoop",f:HTe},1:{n:"PtgAttrSemi",f:Kbe},2:{n:"PtgAttrIf",f:Ybe},4:{n:"PtgAttrChoose",f:jbe},8:{n:"PtgAttrGoto",f:zbe},16:{n:"PtgAttrSum",f:sTe},32:{n:"PtgAttrBaxcel",f:Wq},33:{n:"PtgAttrBaxcel",f:Wq},64:{n:"PtgAttrSpace",f:Jbe},65:{n:"PtgAttrSpaceSemi",f:Qbe},128:{n:"PtgAttrIfError",f:Xbe},255:{}};function T_(t,e,n,r){if(r.biff<8)return Gs(t,e);for(var i=t.l+e,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=pTe(t,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=hTe(t,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0];default:break}return e=i-t.l,e!==0&&s.push(Gs(t,e)),s}function A_(t,e,n){for(var r=t.l+e,i,s,o=[];r!=t.l;)e=r-t.l,s=t[t.l],i=jq[s]||jq[$Te[s]],(s===24||s===25)&&(i=(s===24?qTe:GTe)[t[t.l+1]]),!i||!i.f?Gs(t,e):o.push([i.n,i.f(t,e,n)]);return o}function WTe(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var o=r[s];o?o[0]===2?i.push('"'+o[1].replace(/"/g,'""')+'"'):i.push(o[1]):i.push("")}e.push(i.join(","))}return e.join(";")}var jTe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function zTe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function OW(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function zq(t,e,n){var r=OW(t,e,n);return r=="#REF"?r:zTe(r,n)}function Vs(t,e,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},a=[],l,c,u,f=0,d=0,h,g="";if(!t[0]||!t[0][0])return"";for(var v=-1,x="",_=0,E=t[0].length;_<E;++_){var C=t[0][_];switch(C[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),v>=0){switch(t[0][v][1][0]){case 0:x=si(" ",t[0][v][1][1]);break;case 1:x=si("\r",t[0][v][1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}c=c+x,v=-1}a.push(c+jTe[C[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=t_(C[1][1],o,i),a.push(n_(u,s));break;case"PtgRefN":u=n?t_(C[1][1],n,i):C[1][1],a.push(n_(u,s));break;case"PtgRef3d":f=C[1][1],u=t_(C[1][2],o,i),g=zq(r,f,i);var D=g;a.push(g+"!"+n_(u,s));break;case"PtgFunc":case"PtgFuncVar":var A=C[1][0],L=C[1][1];A||(A=0),A&=127;var I=A==0?[]:a.slice(-A);a.length-=A,L==="User"&&(L=I.shift()),a.push(L+"("+I.join(",")+")");break;case"PtgBool":a.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(C[1]);break;case"PtgNum":a.push(String(C[1]));break;case"PtgStr":a.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(C[1]);break;case"PtgAreaN":h=Eq(C[1][1],n?{s:n}:o,i),a.push(gF(h,i));break;case"PtgArea":h=Eq(C[1][1],o,i),a.push(gF(h,i));break;case"PtgArea3d":f=C[1][1],h=C[1][2],g=zq(r,f,i),a.push(g+"!"+gF(h,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=C[1][2];var N=(r.names||[])[d-1]||(r[0]||[])[d],O=N?N.Name:"SH33TJSNAME"+String(d);O&&O.slice(0,6)=="_xlfn."&&!i.xlfn&&(O=O.slice(6)),a.push(O);break;case"PtgNameX":var V=C[1][1];d=C[1][2];var P;if(i.biff<=5)V<0&&(V=-V),r[V]&&(P=r[V][d]);else{var M="";if(((r[V]||[])[0]||[])[0]==14849||(((r[V]||[])[0]||[])[0]==1025?r[V][d]&&r[V][d].itab>0&&(M=r.SheetNames[r[V][d].itab-1]+"!"):M=r.SheetNames[d-1]+"!"),r[V]&&r[V][d])M+=r[V][d].Name;else if(r[0]&&r[0][d])M+=r[0][d].Name;else{var X=(OW(r,V,i)||"").split(";;");X[d-1]?M=X[d-1]:M+="SH33TJSERRX"}a.push(M);break}P||(P={Name:"SH33TJSERRY"}),a.push(P.Name);break;case"PtgParen":var U="(",z=")";if(v>=0){switch(x="",t[0][v][1][0]){case 2:U=si(" ",t[0][v][1][1])+U;break;case 3:U=si("\r",t[0][v][1][1])+U;break;case 4:z=si(" ",t[0][v][1][1])+z;break;case 5:z=si("\r",t[0][v][1][1])+z;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}a.push(U+a.pop()+z);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":u={c:C[1][1],r:C[1][0]};var re={c:n.c,r:n.r};if(r.sharedf[Jt(u)]){var Z=r.sharedf[Jt(u)];a.push(Vs(Z,o,re,r,i))}else{var de=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){a.push(Vs(c[1],o,re,r,i)),de=!0;break}de||a.push(C[1])}break;case"PtgArray":a.push("{"+WTe(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var fe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&fe.indexOf(t[0][_][0])==-1){C=t[0][v];var me=!0;switch(C[1][0]){case 4:me=!1;case 0:x=si(" ",C[1][1]);break;case 5:me=!1;case 1:x=si("\r",C[1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}a.push((me?x:"")+a.pop()+(me?"":x)),v=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function YTe(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],Gs(t,e-2)];var a=A_(t,o,n);return e!==o+i&&(s=T_(t,e-o-i,a,n)),t.l=r,[a,s]}function XTe(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],Gs(t,e-2)];var a=A_(t,o,n);return e!==o+i&&(s=T_(t,e-o-i,a,n)),t.l=r,[a,s]}function KTe(t,e,n,r){var i=t.l+e,s=A_(t,r,n),o;return i!==t.l&&(o=T_(t,i-t.l,s,n)),[s,o]}function JTe(t,e,n){var r=t.l+e,i,s=t.read_shift(2),o=A_(t,s,n);return s==65535?[[],Gs(t,e-2)]:(e!==s+2&&(i=T_(t,r-s-2,o,n)),[o,i])}function QTe(t){var e;if(Mu(t,t.l+6)!==65535)return[Hs(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function ZTe(t){if(t==null){var e=qe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return ap(t);return ap(0)}function wF(t,e,n){var r=t.l+e,i=Uc(t,6);n.biff==2&&++t.l;var s=QTe(t,8),o=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var a=XTe(t,r-t.l,n);return{cell:i,val:s[0],formula:a,shared:o>>3&1,tt:s[1]}}function eAe(t,e,n,r,i){var s=cp(e,n,i),o=ZTe(t.v),a=qe(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var c=qe(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=ts([s,o,a,c]);return f}function mb(t,e,n){var r=t.read_shift(4),i=A_(t,r,n),s=t.read_shift(4),o=s>0?T_(t,s,i,n):null;return[i,o]}var tAe=mb,gb=mb,nAe=mb,rAe=mb,iAe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},BW={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},sAe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Yq(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function oAe(t){var e="of:="+t.replace(y3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function EF(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function aAe(t){return t.replace(/\./,"!")}var i_={},Xm={},s_=typeof Map<"u";function w3(t,e,n){var r=0,i=t.length;if(n){if(s_?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=s_?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(s_?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function vb(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(Us=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=v_(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=sb(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function ip(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function md(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){Fu(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function VW(t,e,n,r,i,s){try{r.cellNF&&(t.z=Xt[e])}catch(a){if(r.WTF)throw a}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=qr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(Xt[e]==null&&Fu(i2e[e]||"General",e),t.t==="e")t.w=t.w||Vu[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=u_(t.v);else if(t.t==="d"){var o=Gi(t.v);(o|0)===o?t.w=o.toString(10):t.w=u_(o)}else{if(t.v===void 0)return"";t.w=sp(t.v,Xm)}else t.t==="d"?t.w=Wa(e,Gi(t.v),Xm):t.w=Wa(e,t.v,Xm)}catch(a){if(r.WTF)throw a}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=ib(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=ib(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(a){if(r.WTF&&s.Fills)throw a}}}function lAe(t,e,n){if(t&&t["!ref"]){var r=Gn(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function cAe(t,e){var n=Gn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=pn(n))}var uAe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,fAe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,dAe=/<(?:\w:)?hyperlink [^>]*>/mg,hAe=/"(\w*:\w*)"/,pAe=/<(?:\w:)?col\b[^>]*[\/]?>/g,mAe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,gAe=/<(?:\w:)?pageMargins[^>]*\/>/g,UW=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,vAe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,yAe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function _Ae(t,e,n,r,i,s,o){if(!t)return t;r||(r={"!id":{}}),ai!=null&&e.dense==null&&(e.dense=ai);var a=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(fAe);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var d=c.match(UW);d?E3(d[0],a,i,n):(d=c.match(vAe))&&wAe(d[0],d[1]||"",a,i,n,o,s);var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var g=c.slice(h,h+50).match(hAe);g&&cAe(a,g[1])}var v=c.match(yAe);v&&v[1]&&FAe(v[1],i);var x=[];if(e.cellStyles){var _=c.match(pAe);_&&DAe(x,_)}f&&OAe(f[1],a,e,l,s,o);var E=u.match(mAe);E&&(a["!autofilter"]=NAe(E[0]));var C=[],D=u.match(uAe);if(D)for(h=0;h!=D.length;++h)C[h]=Gn(D[h].slice(D[h].indexOf('"')+1));var A=u.match(dAe);A&&TAe(a,A,r);var L=u.match(gAe);if(L&&(a["!margins"]=AAe(Zt(L[0]))),!a["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(a["!ref"]=pn(l)),e.sheetRows>0&&a["!ref"]){var I=Gn(a["!ref"]);e.sheetRows<=+I.e.r&&(I.e.r=e.sheetRows-1,I.e.r>l.e.r&&(I.e.r=l.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>l.e.c&&(I.e.c=l.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),a["!fullref"]=a["!ref"],a["!ref"]=pn(I))}return x.length>0&&(a["!cols"]=x),C.length>0&&(a["!merges"]=C),a}function xAe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+pn(t[n])+'"/>';return e+"</mergeCells>"}function E3(t,e,n,r){var i=Zt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=qn(br(i.codeName)))}function wAe(t,e,n,r,i){E3(t.slice(0,t.indexOf(">")),n,r,i)}function EAe(t,e,n,r,i){var s=!1,o={},a=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,o.codeName=Oc(xr(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),a=(a||"")+ct("outlinePr",null,c)}!s&&!a||(i[i.length]=ct("sheetPr",a,o))}var SAe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],CAe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function bAe(t){var e={sheet:1};return SAe.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),CAe.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=m3(t.password).toString(16).toUpperCase()),ct("sheetProtection",null,e)}function TAe(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=Zt(br(e[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+qn(s.location))):(s.Target="#"+qn(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var a=Gn(s.ref),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c){var u=Jt({c,r:l});r?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function AAe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function IAe(t){return ip(t),ct("pageMargins",null,t)}function DAe(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=Zt(e[r],!0);i.hidden&&(i.hidden=$r(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,g3(i.width)),ud(i);s<=o;)t[s++]=Gr(i)}}function kAe(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=ct("col",null,vb(i,r)));return n[n.length]="</cols>",n.join("")}function NAe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function MAe(t,e,n,r){var i=typeof t.ref=="string"?t.ref:pn(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=Bo(i);o.s.r==o.e.r&&(o.e.r=Bo(e["!ref"]).e.r,i=pn(o));for(var a=0;a<s.length;++a){var l=s[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),ct("autoFilter",null,{ref:i})}var PAe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function FAe(t,e){e.Views||(e.Views=[{}]),(t.match(PAe)||[]).forEach(function(n,r){var i=Zt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),$r(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function RAe(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ct("sheetViews",ct("sheetView",null,i),{})}function LAe(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Vu[t.v];break;case"d":r&&r.cellDates?i=qr(t.v,-1).toISOString():(t=Gr(t),t.t="n",i=""+(t.v=Gi(qr(t.v)))),typeof t.z>"u"&&(t.z=Xt[14]);break;default:i=t.v;break}var a=_s("v",xr(i)),l={r:e},c=md(r.cellXfs,t,r);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=_s("v",""+w3(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=o),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;a=ct("f",xr(t.f),u)+(t.v!=null?a:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),ct("c",a,l)}var OAe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=f_("v"),o=f_("f");return function(l,c,u,f,d,h){for(var g=0,v="",x=[],_=[],E=0,C=0,D=0,A="",L,I,N=0,O=0,V,P,M=0,X=0,U=Array.isArray(h.CellXf),z,re=[],Z=[],de=Array.isArray(c),fe=[],me={},ge=!1,T=!!u.sheetStubs,B=l.split(e),F=0,H=B.length;F!=H;++F){v=B[F].trim();var Q=v.length;if(Q!==0){var ye=0;e:for(g=0;g<Q;++g)switch(v[g]){case">":if(v[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(I=Zt(v.slice(ye,g),!0),N=I.r!=null?parseInt(I.r,10):N+1,O=-1,u.sheetRows&&u.sheetRows<N)continue;me={},ge=!1,I.ht&&(ge=!0,me.hpt=parseFloat(I.ht),me.hpx=Zm(me.hpt)),I.hidden=="1"&&(ge=!0,me.hidden=!0),I.outlineLevel!=null&&(ge=!0,me.level=+I.outlineLevel),ge&&(fe[N-1]=me)}break;case"<":ye=g;break}if(ye>=g)break;if(I=Zt(v.slice(ye,g),!0),N=I.r!=null?parseInt(I.r,10):N+1,O=-1,!(u.sheetRows&&u.sheetRows<N)){f.s.r>N-1&&(f.s.r=N-1),f.e.r<N-1&&(f.e.r=N-1),u&&u.cellStyles&&(me={},ge=!1,I.ht&&(ge=!0,me.hpt=parseFloat(I.ht),me.hpx=Zm(me.hpt)),I.hidden=="1"&&(ge=!0,me.hidden=!0),I.outlineLevel!=null&&(ge=!0,me.level=+I.outlineLevel),ge&&(fe[N-1]=me)),x=v.slice(g).split(t);for(var ve=0;ve!=x.length&&x[ve].trim().charAt(0)=="<";++ve);for(x=x.slice(ve),g=0;g!=x.length;++g)if(v=x[g].trim(),v.length!==0){if(_=v.match(n),E=g,C=0,D=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,_!=null&&_.length===2){for(E=0,A=_[1],C=0;C!=A.length&&!((D=A.charCodeAt(C)-64)<1||D>26);++C)E=26*E+D;--E,O=E}else++O;for(C=0;C!=v.length&&v.charCodeAt(C)!==62;++C);if(++C,I=Zt(v.slice(0,C),!0),I.r||(I.r=Jt({r:N-1,c:O})),A=v.slice(C),L={t:""},(_=A.match(s))!=null&&_[1]!==""&&(L.v=qn(_[1])),u.cellFormula){if((_=A.match(o))!=null&&_[1]!==""){if(L.f=qn(br(_[1])).replace(/\r\n/g,`
`),u.xlfn||(L.f=Gq(L.f)),_[0].indexOf('t="array"')>-1)L.F=(A.match(i)||[])[1],L.F.indexOf(":")>-1&&re.push([Gn(L.F),L.F]);else if(_[0].indexOf('t="shared"')>-1){P=Zt(_[0]);var xe=qn(br(_[1]));u.xlfn||(xe=Gq(xe)),Z[parseInt(P.si,10)]=[P,xe,I.r]}}else(_=A.match(/<f[^>]*\/>/))&&(P=Zt(_[0]),Z[P.si]&&(L.f=Pbe(Z[P.si][1],Z[P.si][2],I.r)));var be=Jr(I.r);for(C=0;C<re.length;++C)be.r>=re[C][0].s.r&&be.r<=re[C][0].e.r&&be.c>=re[C][0].s.c&&be.c<=re[C][0].e.c&&(L.F=re[C][1])}if(I.t==null&&L.v===void 0)if(L.f||L.F)L.v=0,L.t="n";else if(T)L.t="z";else continue;else L.t=I.t||"n";switch(f.s.c>O&&(f.s.c=O),f.e.c<O&&(f.e.c=O),L.t){case"n":if(L.v==""||L.v==null){if(!T)continue;L.t="z"}else L.v=parseFloat(L.v);break;case"s":if(typeof L.v>"u"){if(!T)continue;L.t="z"}else V=i_[parseInt(L.v,10)],L.v=V.t,L.r=V.r,u.cellHTML&&(L.h=V.h);break;case"str":L.t="s",L.v=L.v!=null?br(L.v):"",u.cellHTML&&(L.h=KF(L.v));break;case"inlineStr":_=A.match(r),L.t="s",_!=null&&(V=p3(_[1]))?(L.v=V.t,u.cellHTML&&(L.h=V.h)):L.v="";break;case"b":L.v=$r(L.v);break;case"d":u.cellDates?L.v=qr(L.v,1):(L.v=Gi(qr(L.v,1)),L.t="n");break;case"e":(!u||u.cellText!==!1)&&(L.w=L.v),L.v=$G[L.v];break}if(M=X=0,z=null,U&&I.s!==void 0&&(z=h.CellXf[I.s],z!=null&&(z.numFmtId!=null&&(M=z.numFmtId),u.cellStyles&&z.fillId!=null&&(X=z.fillId))),VW(L,M,X,u,d,h),u.cellDates&&U&&L.t=="n"&&eg(Xt[M])&&(L.t="d",L.v=db(L.v)),I.cm&&u.xlmeta){var He=(u.xlmeta.Cell||[])[+I.cm-1];He&&He.type=="XLDAPR"&&(L.D=!0)}if(de){var ee=Jr(I.r);c[ee.r]||(c[ee.r]=[]),c[ee.r][ee.c]=L}else c[I.r]=L}}}}fe.length>0&&(c["!rows"]=fe)}})();function BAe(t,e,n,r){var i=[],s=[],o=Gn(t["!ref"]),a="",l,c="",u=[],f=0,d=0,h=t["!rows"],g=Array.isArray(t),v={r:c},x,_=-1;for(d=o.s.c;d<=o.e.c;++d)u[d]=Kr(d);for(f=o.s.r;f<=o.e.r;++f){for(s=[],c=xi(f),d=o.s.c;d<=o.e.c;++d){l=u[d]+c;var E=g?(t[f]||[])[d]:t[l];E!==void 0&&(a=LAe(E,l,t,e,n,r))!=null&&s.push(a)}(s.length>0||h&&h[f])&&(v={r:c},h&&h[f]&&(x=h[f],x.hidden&&(v.hidden=1),_=-1,x.hpx?_=y_(x.hpx):x.hpt&&(_=x.hpt),_>-1&&(v.ht=_,v.customHeight=1),x.level&&(v.outlineLevel=x.level)),i[i.length]=ct("row",s.join(""),v))}if(h)for(;f<h.length;++f)h&&h[f]&&(v={r:f+1},x=h[f],x.hidden&&(v.hidden=1),_=-1,x.hpx?_=y_(x.hpx):x.hpt&&(_=x.hpt),_>-1&&(v.ht=_,v.customHeight=1),x.level&&(v.outlineLevel=x.level),i[i.length]=ct("row","",v));return i.join("")}function HW(t,e,n,r){var i=[wi,ct("worksheet",null,{xmlns:fp[0],"xmlns:r":qi.r})],s=n.SheetNames[t],o=0,a="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=Gn(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=pn(u)}r||(r={}),l["!comments"]=[];var f=[];EAe(l,n,t,e,i),i[i.length]=ct("dimension",null,{ref:c}),i[i.length]=RAe(l,e,t,n),e.sheetFormat&&(i[i.length]=ct("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=kAe(l,l["!cols"])),i[o=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=BAe(l,e,t,n,r),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),l["!protect"]&&(i[i.length]=bAe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=MAe(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=xAe(l["!merges"]));var d=-1,h,g=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(h={ref:v[0]},v[1].Target.charAt(0)!="#"&&(g=_r(r,-1,xr(v[1].Target).replace(/#.*$/,""),xn.HLINK),h["r:id"]="rId"+g),(d=v[1].Target.indexOf("#"))>-1&&(h.location=xr(v[1].Target.slice(d+1))),v[1].Tooltip&&(h.tooltip=xr(v[1].Tooltip)),i[i.length]=ct("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=IAe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=_s("ignoredErrors",ct("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(g=_r(r,-1,"../drawings/drawing"+(t+1)+".xml",xn.DRAW),i[i.length]=ct("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=f),l["!comments"].length>0&&(g=_r(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",xn.VML),i[i.length]=ct("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function VAe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function UAe(t,e,n){var r=qe(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=y_(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,l=r.l;r.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,d=-1,h=u<<10;h<u+1<<10;++h){c.c=h;var g=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Jt(c)];g&&(f<0&&(f=h),d=h)}f<0||(++a,r.write_shift(4,f),r.write_shift(4,d))}var v=r.l;return r.l=l,r.write_shift(4,a),r.l=v,r.length>r.l?r.slice(0,r.l):r}function HAe(t,e,n,r){var i=UAe(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&Ke(t,0,i)}var $Ae=mp,qAe=ig;function GAe(){}function WAe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=Y2e(t,e-19),n}function jAe(t,e,n){n==null&&(n=qe(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return tb({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),OG(t,n),n.slice(0,n.l)}function zAe(t){var e=ja(t);return[e]}function YAe(t,e,n){return n==null&&(n=qe(8)),dp(e,n)}function XAe(t){var e=hp(t);return[e]}function KAe(t,e,n){return n==null&&(n=qe(4)),pp(e,n)}function JAe(t){var e=ja(t),n=t.read_shift(1);return[e,n,"b"]}function QAe(t,e,n){return n==null&&(n=qe(9)),dp(e,n),n.write_shift(1,t.v?1:0),n}function ZAe(t){var e=hp(t),n=t.read_shift(1);return[e,n,"b"]}function eIe(t,e,n){return n==null&&(n=qe(5)),pp(e,n),n.write_shift(1,t.v?1:0),n}function tIe(t){var e=ja(t),n=t.read_shift(1);return[e,n,"e"]}function nIe(t,e,n){return n==null&&(n=qe(9)),dp(e,n),n.write_shift(1,t.v),n}function rIe(t){var e=hp(t),n=t.read_shift(1);return[e,n,"e"]}function iIe(t,e,n){return n==null&&(n=qe(8)),pp(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function sIe(t){var e=ja(t),n=t.read_shift(4);return[e,n,"s"]}function oIe(t,e,n){return n==null&&(n=qe(12)),dp(e,n),n.write_shift(4,e.v),n}function aIe(t){var e=hp(t),n=t.read_shift(4);return[e,n,"s"]}function lIe(t,e,n){return n==null&&(n=qe(8)),pp(e,n),n.write_shift(4,e.v),n}function cIe(t){var e=ja(t),n=Hs(t);return[e,n,"n"]}function uIe(t,e,n){return n==null&&(n=qe(16)),dp(e,n),ap(t.v,n),n}function $W(t){var e=hp(t),n=Hs(t);return[e,n,"n"]}function fIe(t,e,n){return n==null&&(n=qe(12)),pp(e,n),ap(t.v,n),n}function dIe(t){var e=ja(t),n=c3(t);return[e,n,"n"]}function hIe(t,e,n){return n==null&&(n=qe(12)),dp(e,n),BG(t.v,n),n}function pIe(t){var e=hp(t),n=c3(t);return[e,n,"n"]}function mIe(t,e,n){return n==null&&(n=qe(8)),pp(e,n),BG(t.v,n),n}function gIe(t){var e=ja(t),n=o3(t);return[e,n,"is"]}function vIe(t){var e=ja(t),n=qs(t);return[e,n,"str"]}function yIe(t,e,n){return n==null&&(n=qe(12+4*t.v.length)),dp(e,n),ns(t.v,n),n.length>n.l?n.slice(0,n.l):n}function _Ie(t){var e=hp(t),n=qs(t);return[e,n,"str"]}function xIe(t,e,n){return n==null&&(n=qe(8+4*t.v.length)),pp(e,n),ns(t.v,n),n.length>n.l?n.slice(0,n.l):n}function wIe(t,e,n){var r=t.l+e,i=ja(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"b"];if(n.cellFormula){t.l+=2;var a=gb(t,r-t.l,n);o[3]=Vs(a,null,i,n.supbooks,n)}else t.l=r;return o}function EIe(t,e,n){var r=t.l+e,i=ja(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"e"];if(n.cellFormula){t.l+=2;var a=gb(t,r-t.l,n);o[3]=Vs(a,null,i,n.supbooks,n)}else t.l=r;return o}function SIe(t,e,n){var r=t.l+e,i=ja(t);i.r=n["!row"];var s=Hs(t),o=[i,s,"n"];if(n.cellFormula){t.l+=2;var a=gb(t,r-t.l,n);o[3]=Vs(a,null,i,n.supbooks,n)}else t.l=r;return o}function CIe(t,e,n){var r=t.l+e,i=ja(t);i.r=n["!row"];var s=qs(t),o=[i,s,"str"];if(n.cellFormula){t.l+=2;var a=gb(t,r-t.l,n);o[3]=Vs(a,null,i,n.supbooks,n)}else t.l=r;return o}var bIe=mp,TIe=ig;function AIe(t,e){return e==null&&(e=qe(4)),e.write_shift(4,t),e}function IIe(t,e){var n=t.l+e,r=mp(t,16),i=a3(t),s=qs(t),o=qs(t),a=qs(t);t.l=n;var l={rfx:r,relId:i,loc:s,display:a};return o&&(l.Tooltip=o),l}function DIe(t,e){var n=qe(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));ig({s:Jr(t[0]),e:Jr(t[0])},n),l3("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return ns(i||"",n),ns(t[1].Tooltip||"",n),ns("",n),n.slice(0,n.l)}function kIe(){}function NIe(t,e,n){var r=t.l+e,i=VG(t,16),s=t.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var a=tAe(t,r-t.l,n);o[1]=a}else t.l=r;return o}function MIe(t,e,n){var r=t.l+e,i=mp(t,16),s=[i];if(n.cellFormula){var o=rAe(t,r-t.l,n);s[1]=o,t.l=r}else t.l=r;return s}function PIe(t,e,n){n==null&&(n=qe(18));var r=vb(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var qW=["left","right","top","bottom","header","footer"];function FIe(t){var e={};return qW.forEach(function(n){e[n]=Hs(t,8)}),e}function RIe(t,e){return e==null&&(e=qe(48)),ip(t),qW.forEach(function(n){ap(t[n],e)}),e}function LIe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function OIe(t,e,n){n==null&&(n=qe(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function BIe(t){var e=qe(24);return e.write_shift(4,4),e.write_shift(4,1),ig(t,e),e}function VIe(t,e){return e==null&&(e=qe(66)),e.write_shift(2,t.password?m3(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function UIe(){}function HIe(){}function $Ie(t,e,n,r,i,s,o){if(!t)return t;var a=e||{};r||(r={"!id":{}}),ai!=null&&a.dense==null&&(a.dense=ai);var l=a.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=[],d=!1,h=!1,g,v,x,_,E,C,D,A,L,I=[];a.biff=12,a["!row"]=0;var N=0,O=!1,V=[],P={},M=a.supbooks||i.supbooks||[[]];if(M.sharedf=P,M.arrayf=V,M.SheetNames=i.SheetNames||i.Sheets.map(function(me){return me.name}),!a.supbooks&&(a.supbooks=M,i.Names))for(var X=0;X<i.Names.length;++X)M[0][X+1]=i.Names[X];var U=[],z=[],re=!1;__[16]={n:"BrtShortReal",f:$W};var Z,de;if(Bu(t,function(ge,T,B){if(!h)switch(B){case 148:c=ge;break;case 0:g=ge,a.sheetRows&&a.sheetRows<=g.r&&(h=!0),A=xi(_=g.r),a["!row"]=g.r,(ge.hidden||ge.hpt||ge.level!=null)&&(ge.hpt&&(ge.hpx=Zm(ge.hpt)),z[ge.r]=ge);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:ge[2]},ge[2]){case"n":v.v=ge[1];break;case"s":D=i_[ge[1]],v.v=D.t,v.r=D.r;break;case"b":v.v=!!ge[1];break;case"e":v.v=ge[1],a.cellText!==!1&&(v.w=Vu[v.v]);break;case"str":v.t="s",v.v=ge[1];break;case"is":v.t="s",v.v=ge[1].t;break}if((x=o.CellXf[ge[0].iStyleRef])&&VW(v,x.numFmtId,null,a,s,o),E=ge[0].c==-1?E+1:ge[0].c,a.dense?(l[_]||(l[_]=[]),l[_][E]=v):l[Kr(E)+A]=v,a.cellFormula){for(O=!1,N=0;N<V.length;++N){var F=V[N];g.r>=F[0].s.r&&g.r<=F[0].e.r&&E>=F[0].s.c&&E<=F[0].e.c&&(v.F=pn(F[0]),O=!0)}!O&&ge.length>3&&(v.f=ge[3])}if(u.s.r>g.r&&(u.s.r=g.r),u.s.c>E&&(u.s.c=E),u.e.r<g.r&&(u.e.r=g.r),u.e.c<E&&(u.e.c=E),a.cellDates&&x&&v.t=="n"&&eg(Xt[x.numFmtId])){var H=ep(v.v);H&&(v.t="d",v.v=new Date(H.y,H.m-1,H.d,H.H,H.M,H.S,H.u))}Z&&(Z.type=="XLDAPR"&&(v.D=!0),Z=void 0),de&&(de=void 0);break;case 1:case 12:if(!a.sheetStubs||d)break;v={t:"z",v:void 0},E=ge[0].c==-1?E+1:ge[0].c,a.dense?(l[_]||(l[_]=[]),l[_][E]=v):l[Kr(E)+A]=v,u.s.r>g.r&&(u.s.r=g.r),u.s.c>E&&(u.s.c=E),u.e.r<g.r&&(u.e.r=g.r),u.e.c<E&&(u.e.c=E),Z&&(Z.type=="XLDAPR"&&(v.D=!0),Z=void 0),de&&(de=void 0);break;case 176:I.push(ge);break;case 49:Z=((a.xlmeta||{}).Cell||[])[ge-1];break;case 494:var Q=r["!id"][ge.relId];for(Q?(ge.Target=Q.Target,ge.loc&&(ge.Target+="#"+ge.loc),ge.Rel=Q):ge.relId==""&&(ge.Target="#"+ge.loc),_=ge.rfx.s.r;_<=ge.rfx.e.r;++_)for(E=ge.rfx.s.c;E<=ge.rfx.e.c;++E)a.dense?(l[_]||(l[_]=[]),l[_][E]||(l[_][E]={t:"z",v:void 0}),l[_][E].l=ge):(C=Jt({c:E,r:_}),l[C]||(l[C]={t:"z",v:void 0}),l[C].l=ge);break;case 426:if(!a.cellFormula)break;V.push(ge),L=a.dense?l[_][E]:l[Kr(E)+A],L.f=Vs(ge[1],u,{r:g.r,c:E},M,a),L.F=pn(ge[0]);break;case 427:if(!a.cellFormula)break;P[Jt(ge[0].s)]=ge[1],L=a.dense?l[_][E]:l[Kr(E)+A],L.f=Vs(ge[1],u,{r:g.r,c:E},M,a);break;case 60:if(!a.cellStyles)break;for(;ge.e>=ge.s;)U[ge.e--]={width:ge.w/256,hidden:!!(ge.flags&1),level:ge.level},re||(re=!0,g3(ge.w/256)),ud(U[ge.e+1]);break;case 161:l["!autofilter"]={ref:pn(ge)};break;case 476:l["!margins"]=ge;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),ge.name&&(i.Sheets[n].CodeName=ge.name),(ge.above||ge.left)&&(l["!outline"]={above:ge.above,left:ge.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ge.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:f.push(B),d=!0;break;case 38:f.pop(),d=!1;break;default:if(!T.T){if(!d||a.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}},a),delete a.supbooks,delete a["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=pn(c||u)),a.sheetRows&&l["!ref"]){var fe=Gn(l["!ref"]);a.sheetRows<=+fe.e.r&&(fe.e.r=a.sheetRows-1,fe.e.r>u.e.r&&(fe.e.r=u.e.r),fe.e.r<fe.s.r&&(fe.s.r=fe.e.r),fe.e.c>u.e.c&&(fe.e.c=u.e.c),fe.e.c<fe.s.c&&(fe.s.c=fe.e.c),l["!fullref"]=l["!ref"],l["!ref"]=pn(fe))}return I.length>0&&(l["!merges"]=I),U.length>0&&(l["!cols"]=U),z.length>0&&(l["!rows"]=z),l}function qIe(t,e,n,r,i,s,o){if(e.v===void 0)return!1;var a="";switch(e.t){case"b":a=e.v?"1":"0";break;case"d":e=Gr(e),e.z=e.z||Xt[14],e.v=Gi(qr(e.v)),e.t="n";break;case"n":case"e":a=""+e.v;break;default:a=e.v;break}var l={r:n,c:r};switch(l.s=md(i.cellXfs,e,i),e.l&&s["!links"].push([Jt(l),e.l]),e.c&&s["!comments"].push([Jt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(a=w3(i.Strings,e.v,i.revStrings),l.t="s",l.v=a,o?Ke(t,18,lIe(e,l)):Ke(t,7,oIe(e,l))):(l.t="str",o?Ke(t,17,xIe(e,l)):Ke(t,6,yIe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Ke(t,13,mIe(e,l)):Ke(t,2,hIe(e,l)):o?Ke(t,16,fIe(e,l)):Ke(t,5,uIe(e,l)),!0;case"b":return l.t="b",o?Ke(t,15,eIe(e,l)):Ke(t,4,QAe(e,l)),!0;case"e":return l.t="e",o?Ke(t,14,iIe(e,l)):Ke(t,3,nIe(e,l)),!0}return o?Ke(t,12,KAe(e,l)):Ke(t,1,YAe(e,l)),!0}function GIe(t,e,n,r){var i=Gn(e["!ref"]||"A1"),s,o="",a=[];Ke(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){o=xi(u),HAe(t,e,i,u);var f=!1;if(u<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(a[d]=Kr(d)),s=a[d]+o;var h=l?(e[u]||[])[d]:e[s];if(!h){f=!1;continue}f=qIe(t,h,u,d,r,e,f)}}Ke(t,146)}function WIe(t,e){!e||!e["!merges"]||(Ke(t,177,AIe(e["!merges"].length)),e["!merges"].forEach(function(n){Ke(t,176,TIe(n))}),Ke(t,178))}function jIe(t,e){!e||!e["!cols"]||(Ke(t,390),e["!cols"].forEach(function(n,r){n&&Ke(t,60,PIe(r,n))}),Ke(t,391))}function zIe(t,e){!e||!e["!ref"]||(Ke(t,648),Ke(t,649,BIe(Gn(e["!ref"]))),Ke(t,650))}function YIe(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=_r(n,-1,r[1].Target.replace(/#.*$/,""),xn.HLINK);Ke(t,494,DIe(r,i))}}),delete e["!links"]}function XIe(t,e,n,r){if(e["!comments"].length>0){var i=_r(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",xn.VML);Ke(t,551,l3("rId"+i)),e["!legacy"]=i}}function KIe(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:pn(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=Bo(s);a.s.r==a.e.r&&(a.e.r=Bo(e["!ref"]).e.r,s=pn(a));for(var l=0;l<o.length;++l){var c=o[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Ke(t,161,ig(Gn(s))),Ke(t,162)}}function JIe(t,e,n){Ke(t,133),Ke(t,137,OIe(e,n)),Ke(t,138),Ke(t,134)}function QIe(t,e){e["!protect"]&&Ke(t,535,VIe(e["!protect"]))}function ZIe(t,e,n,r){var i=Oo(),s=n.SheetNames[t],o=n.Sheets[s]||{},a=s;try{n&&n.Workbook&&(a=n.Workbook.Sheets[t].CodeName||a)}catch{}var l=Gn(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ke(i,129),(n.vbaraw||o["!outline"])&&Ke(i,147,jAe(a,o["!outline"])),Ke(i,148,qAe(l)),JIe(i,o,n.Workbook),jIe(i,o,t,e,n),GIe(i,o,t,e,n),QIe(i,o),KIe(i,o,n,t),WIe(i,o),YIe(i,o,r),o["!margins"]&&Ke(i,476,RIe(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&zIe(i,o),XIe(i,o,t,r),Ke(i,130),i.end()}function eDe(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=n?+o[2]:o[2])});var i=qn((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function tDe(t,e,n,r,i,s){var o=s||{"!type":"chart"};if(!t)return s;var a=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=eDe(f);u.s.r=u.s.c=0,u.e.c=a,c=Kr(a),d[0].forEach(function(h,g){o[c+xi(g)]={t:"n",v:h,z:d[1]},l=g}),u.e.r<l&&(u.e.r=l),++a}),a>0&&(o["!ref"]=pn(u)),o}function nDe(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,a=t.match(UW);return a&&E3(a[0],s,i,n),(o=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function rDe(t,e){t.l+=10;var n=qs(t,e-10);return{name:n}}function iDe(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=[],a=!1;return Bu(t,function(c,u,f){switch(f){case 550:s["!rel"]=c;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),c.name&&(i.Sheets[n].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:o.push(f);break;case 38:o.pop();break;default:if(u.T>0)o.push(f);else if(u.T<0)o.pop();else if(!a||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var S3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sDe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],oDe=[],aDe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Xq(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=$r(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function Kq(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=$r(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function GW(t){Kq(t.WBProps,S3),Kq(t.CalcPr,aDe),Xq(t.WBView,sDe),Xq(t.Sheets,oDe),Xm.date1904=$r(t.WBProps.date1904)}function lDe(t){return!t.Workbook||!t.Workbook.WBProps?"false":$r(t.Workbook.WBProps.date1904)?"true":"false"}var cDe="][*?/\\".split("");function WW(t,e){if(t.length>31){if(e)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return cDe.forEach(function(r){if(t.indexOf(r)!=-1){if(!e)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function uDe(t,e,n){t.forEach(function(r,i){WW(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function fDe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];uDe(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)lAe(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}var dDe=/<\w+:workbook/;function hDe(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(t.replace(Ws,function(l,c){var u=Zt(l);switch(Vc(u[0])){case"<?xml":break;case"<workbook":l.match(dDe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":S3.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=$r(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=br(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=qn(br(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=br(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),$r(u.hidden||"0")&&(s.Hidden=!0),o=c+l.length;break;case"</definedName>":s.Ref=qn(br(t.slice(o,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),fp.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return GW(n),n}function jW(t){var e=[wi];e[e.length]=ct("workbook",null,{xmlns:fp[0],"xmlns:r":qi.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(S3.forEach(function(a){t.Workbook.WBProps[a[0]]!=null&&t.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=t.Workbook.WBProps[a[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=ct("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var o={name:xr(t.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=ct("sheet",null,o)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(e[e.length]=ct("definedName",xr(a.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function pDe(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=kF(t,e-8),n.name=qs(t),n}function mDe(t,e){return e||(e=qe(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),l3(t.strRelID,e),ns(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function gDe(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?qs(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function vDe(t,e){e||(e=qe(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),OG(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function yDe(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function _De(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=X2e(t),o=nAe(t,0,n),a=a3(t);t.l=r;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function xDe(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],__[16]={n:"BrtFRTArchID$",f:yDe},Bu(t,function(l,c,u){switch(u){case 156:o.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Vs(l.Ptg,null,null,o,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,l]):o[0]=[u,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),GW(n),n.Names=s,n.supbooks=o,n}function wDe(t,e){Ke(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};Ke(t,156,mDe(i))}Ke(t,144)}function EDe(t,e){e||(e=qe(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return ns("SheetJS",e),ns(l_.version,e),ns(l_.version,e),ns("7262",e),e.length>e.l?e.slice(0,e.l):e}function SDe(t,e){e||(e=qe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function CDe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(Ke(t,135),Ke(t,158,SDe(i)),Ke(t,136))}}function bDe(t,e){var n=Oo();return Ke(n,131),Ke(n,128,EDe()),Ke(n,153,vDe(t.Workbook&&t.Workbook.WBProps||null)),CDe(n,t,e),wDe(n,t,e),Ke(n,132),n.end()}function TDe(t,e,n){return e.slice(-4)===".bin"?xDe(t,n):hDe(t,n)}function ADe(t,e,n,r,i,s,o,a){return e.slice(-4)===".bin"?$Ie(t,r,n,i,s,o,a):_Ae(t,r,n,i,s,o,a)}function IDe(t,e,n,r,i,s,o,a){return e.slice(-4)===".bin"?iDe(t,r,n,i,s,o,a):nDe(t,r,n,i,s,o,a)}function DDe(t,e,n,r,i,s,o,a){return e.slice(-4)===".bin"?Nbe(t,r,n,i,s,o,a):Mbe(t,r,n,i,s,o,a)}function kDe(t,e,n,r,i,s,o,a){return e.slice(-4)===".bin"?Dbe(t,r,n,i,s,o,a):kbe(t,r,n,i,s,o,a)}function NDe(t,e,n,r){return e.slice(-4)===".bin"?TCe(t,n,r):pCe(t,n,r)}function MDe(t,e,n){return TW(t,n)}function PDe(t,e,n){return e.slice(-4)===".bin"?PSe(t,n):kSe(t,n)}function FDe(t,e,n){return e.slice(-4)===".bin"?Cbe(t,n):mbe(t,n)}function RDe(t,e,n){return e.slice(-4)===".bin"?dbe(t,e,n):ube(t,e,n)}function LDe(t,e,n,r){return n.slice(-4)===".bin"?hbe(t,e,n,r):void 0}function ODe(t,e,n){return e.slice(-4)===".bin"?abe(t,e,n):cbe(t,e,n)}function BDe(t,e,n){return(e.slice(-4)===".bin"?bDe:jW)(t,n)}function VDe(t,e,n,r,i){return(e.slice(-4)===".bin"?ZIe:HW)(t,n,r,i)}function UDe(t,e,n){return(e.slice(-4)===".bin"?LCe:CW)(t,n)}function HDe(t,e,n){return(e.slice(-4)===".bin"?LSe:gW)(t,n)}function $De(t,e,n){return(e.slice(-4)===".bin"?bbe:DW)(t,n)}function qDe(t){return(t.slice(-4)===".bin"?lbe:AW)()}var zW=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,YW=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Bl(t,e){var n=t.split(/\s+/),r=[];if(e||(r[0]=n[0]),n.length===1)return r;var i=t.match(zW),s,o,a,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(YW),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(o+1),r[a]=s[2].slice(1,s[2].length-1));return r}function GDe(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(zW),i,s,o,a;if(r)for(a=0;a!=r.length;++a)i=r[a].match(YW),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var o_;function WDe(t,e){var n=o_[t]||qn(t);return n==="General"?sp(e):Wa(n,e)}function jDe(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=$r(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=qr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[qn(e)]=i}function zDe(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Vu[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=u_(t.v):t.w=sp(t.v):t.w=WDe(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=o_[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&eg(r)){var i=ep(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function YDe(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=oCe[r.Pattern]||r.Pattern)}t[e.ID]=e}function XDe(t,e,n,r,i,s,o,a,l,c){var u="General",f=r.StyleID,d={};c=c||{};var h=[],g=0;for(f===void 0&&a&&(f=a.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&h.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=$r(t);break;case"String":r.t="s",r.r=hq(qn(t)),r.v=t.indexOf("<")>-1?qn(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(qr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=qn(t):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=$G[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=hq(e||t));break}if(zDe(r,u,c),c.cellFormula!==!1)if(r.Formula){var v=qn(r.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),r.f=Ym(v,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Ym("RC:RC",i):r.ArrayRange&&(r.F=Ym(r.ArrayRange,i),l.push([Gn(r.F),r.F]))}else for(g=0;g<l.length;++g)i.r>=l[g][0].s.r&&i.r<=l[g][0].e.r&&i.c>=l[g][0].s.c&&i.c<=l[g][0].e.c&&(r.F=l[g][1]);c.cellStyles&&(h.forEach(function(x){!d.patternType&&x.patternType&&(d.patternType=x.patternType)}),r.s=d),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function KDe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function SF(t,e){var n=e||{};tg();var r=Jy(JF(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(typeof fr<"u"?r=fr.utils.decode(65001,IF(r)):r=br(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=Gr(n);return o.type="string",Qm.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ft){i.indexOf("<"+ft)>=0&&(s=!0)}),s)return Rke(r,n);o_={"General Number":"General","General Date":Xt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Xt[15],"Short Date":Xt[14],"Long Time":Xt[19],"Medium Time":Xt[18],"Short Time":Xt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Xt[2],Standard:Xt[4],Percent:Xt[10],Scientific:Xt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,l=[],c;ai!=null&&n.dense==null&&(n.dense=ai);var u={},f=[],d=n.dense?[]:{},h="",g={},v={},x=Bl('<Data ss:Type="String">'),_=0,E=0,C=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},A={},L={},I="",N=0,O=[],V={},P={},M=0,X=[],U=[],z={},re=[],Z,de=!1,fe=[],me=[],ge={},T=0,B=0,F={Sheets:[],WBProps:{date1904:!1}},H={};h_.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var Q="";a=h_.exec(r);)switch(a[3]=(Q=a[3]).toLowerCase()){case"data":if(Q=="data"){if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break}if(l[l.length-1][1])break;a[1]==="/"?XDe(r.slice(_,a.index),I,x,l[l.length-1][0]=="comment"?z:g,{c:E,r:C},A,re[E],v,fe,n):(I="",x=Bl(a[0]),_=a.index+a[0].length);break;case"cell":if(a[1]==="/")if(U.length>0&&(g.c=U),(!n.sheetRows||n.sheetRows>C)&&g.v!==void 0&&(n.dense?(d[C]||(d[C]=[]),d[C][E]=g):d[Kr(E)+xi(C)]=g),g.HRef&&(g.l={Target:qn(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(T=E+(parseInt(g.MergeAcross,10)|0),B=C+(parseInt(g.MergeDown,10)|0),O.push({s:{c:E,r:C},e:{c:T,r:B}})),!n.sheetStubs)g.MergeAcross?E=T+1:++E;else if(g.MergeAcross||g.MergeDown){for(var ye=E;ye<=T;++ye)for(var ve=C;ve<=B;++ve)(ye>E||ve>C)&&(n.dense?(d[ve]||(d[ve]=[]),d[ve][ye]={t:"z"}):d[Kr(ye)+xi(ve)]={t:"z"});E=T+1}else++E;else g=GDe(a[0]),g.Index&&(E=+g.Index-1),E<D.s.c&&(D.s.c=E),E>D.e.c&&(D.e.c=E),a[0].slice(-2)==="/>"&&++E,U=[];break;case"row":a[1]==="/"||a[0].slice(-2)==="/>"?(C<D.s.r&&(D.s.r=C),C>D.e.r&&(D.e.r=C),a[0].slice(-2)==="/>"&&(v=Bl(a[0]),v.Index&&(C=+v.Index-1)),E=0,++C):(v=Bl(a[0]),v.Index&&(C=+v.Index-1),ge={},(v.AutoFitHeight=="0"||v.Height)&&(ge.hpx=parseInt(v.Height,10),ge.hpt=y_(ge.hpx),me[C]=ge),v.Hidden=="1"&&(ge.hidden=!0,me[C]=ge));break;case"worksheet":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));f.push(h),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(d["!ref"]=pn(D),n.sheetRows&&n.sheetRows<=D.e.r&&(d["!fullref"]=d["!ref"],D.e.r=n.sheetRows-1,d["!ref"]=pn(D))),O.length&&(d["!merges"]=O),re.length>0&&(d["!cols"]=re),me.length>0&&(d["!rows"]=me),u[h]=d}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},C=E=0,l.push([a[3],!1]),c=Bl(a[0]),h=qn(c.Name),d=n.dense?[]:{},O=[],fe=[],me=[],H={name:h,Hidden:0},F.Sheets.push(H);break;case"table":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else{if(a[0].slice(-2)=="/>")break;l.push([a[3],!1]),re=[],de=!1}break;case"style":a[1]==="/"?YDe(A,L,n):L=Bl(a[0]);break;case"numberformat":L.nf=qn(Bl(a[0]).Format||"General"),o_[L.nf]&&(L.nf=o_[L.nf]);for(var xe=0;xe!=392&&Xt[xe]!=L.nf;++xe);if(xe==392){for(xe=57;xe!=392;++xe)if(Xt[xe]==null){Fu(L.nf,xe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Z=Bl(a[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!de&&Z.wpx>10){de=!0,Us=EW;for(var be=0;be<re.length;++be)re[be]&&ud(re[be])}de&&ud(Z),re[Z.Index-1||re.length]=Z;for(var He=0;He<+Z.Span;++He)re[re.length]=Gr(Z);break;case"namedrange":if(a[1]==="/")break;F.Names||(F.Names=[]);var ee=Zt(a[0]),tt={Name:ee.Name,Ref:Ym(ee.RefersTo.slice(1),{r:0,c:0})};F.Sheets.length>0&&(tt.Sheet=F.Sheets.length-1),F.Names.push(tt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(a[0].slice(-2)==="/>")break;a[1]==="/"?I+=r.slice(N,a.index):N=a.index+a[0].length;break;case"interior":if(!n.cellStyles)break;L.Interior=Bl(a[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(a[0].slice(-2)==="/>")break;a[1]==="/"?xwe(V,Q,r.slice(M,a.index)):M=a.index+a[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else l.push([a[3],!1]);break;case"comment":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));KDe(z),U.push(z)}else l.push([a[3],!1]),c=Bl(a[0]),z={a:c.Author};break;case"autofilter":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else if(a[0].charAt(a[0].length-2)!=="/"){var at=Bl(a[0]);d["!autofilter"]={ref:Ym(at.Range).replace(/\$/g,"")},l.push([a[3],!0])}break;case"name":break;case"datavalidation":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"null":break;default:if(l.length==0&&a[3]=="document"||l.length==0&&a[3]=="uof")return tG(r,n);var Oe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Oe=!1}break;case"componentoptions":switch(a[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Oe=!1}break;case"excelworkbook":switch(a[3]){case"date1904":F.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Oe=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":break;case"height":break;case"width":break;default:Oe=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if(a[0].slice(-2)!=="/>")if(a[1]==="/")switch(r.slice(M,a.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else M=a.index+a[0].length;break;case"header":d["!margins"]||ip(d["!margins"]={},"xlml"),isNaN(+Zt(a[0]).Margin)||(d["!margins"].header=+Zt(a[0]).Margin);break;case"footer":d["!margins"]||ip(d["!margins"]={},"xlml"),isNaN(+Zt(a[0]).Margin)||(d["!margins"].footer=+Zt(a[0]).Margin);break;case"pagemargins":var ae=Zt(a[0]);d["!margins"]||ip(d["!margins"]={},"xlml"),isNaN(+ae.Top)||(d["!margins"].top=+ae.Top),isNaN(+ae.Left)||(d["!margins"].left=+ae.Left),isNaN(+ae.Right)||(d["!margins"].right=+ae.Right),isNaN(+ae.Bottom)||(d["!margins"].bottom=+ae.Bottom);break;case"displayrighttoleft":F.Views||(F.Views=[]),F.Views[0]||(F.Views[0]={}),F.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Oe=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Oe=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Oe=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Oe=!1}break;case"querytable":switch(a[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Oe=!1}break;case"datavalidation":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Oe=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Oe=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Oe=!1}break;case"smarttags":break;default:Oe=!1;break}if(Oe||a[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(a[0].slice(-2)==="/>")break;a[1]==="/"?jDe(P,Q,X,r.slice(M,a.index)):(X=a,M=a.index+a[0].length);break}if(n.WTF)throw"Unrecognized tag: "+a[3]+"|"+l.join("|")}var We={};return!n.bookSheets&&!n.bookProps&&(We.Sheets=u),We.SheetNames=f,We.Workbook=F,We.SSF=Gr(Xt),We.Props=V,We.Custprops=P,We}function OF(t,e){switch(b3(e=e||{}),e.type||"base64"){case"base64":return SF(ha(t),e);case"binary":case"buffer":case"file":return SF(t,e);case"array":return SF(hd(t),e)}}function JDe(t,e){var n=[];return t.Props&&n.push(wwe(t.Props,e)),t.Custprops&&n.push(Ewe(t.Props,t.Custprops,e)),n.join("")}function QDe(){return""}function ZDe(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(ct("NumberFormat",null,{"ss:Format":xr(Xt[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};n.push(ct("Style",s.join(""),o))}),ct("Styles",n.join(""))}function XW(t){return ct("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+_3(t.Ref,{r:0,c:0})})}function eke(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(XW(i)))}return ct("Names",n.join(""))}function tke(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||s.push(XW(a)))}return s.join("")}function nke(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(ct("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(ct("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(ct("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(ct("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(_s("ProtectContents","True")),t["!protect"].objects&&i.push(_s("ProtectObjects","True")),t["!protect"].scenarios&&i.push(_s("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(_s("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(_s("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":ct("WorksheetOptions",i.join(""),{xmlns:ua.x})}function rke(t){return t.map(function(e){var n=S2e(e.t||""),r=ct("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return ct("Comment",r,{"ss:Author":e.a})}).join("")}function ike(t,e,n,r,i,s,o){if(!t||t.v==null&&t.f==null)return"";var a={};if(t.f&&(a["ss:Formula"]="="+xr(_3(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var l=Jr(t.F.slice(e.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(t.l&&t.l.Target&&(a["ss:HRef"]=xr(t.l.Target),t.l.Tooltip&&(a["x:HRefScreenTip"]=xr(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=o.c||c[u].s.r!=o.r||(c[u].e.c>c[u].s.c&&(a["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(a["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",d="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":f="Number",d=String(t.v);break;case"b":f="Boolean",d=t.v?"1":"0";break;case"e":f="Error",d=Vu[t.v];break;case"d":f="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Xt[14]);break;case"s":f="String",d=E2e(t.v||"");break}var h=md(r.cellXfs,t,r);a["ss:StyleID"]="s"+(21+h),a["ss:Index"]=o.c+1;var g=t.v!=null?d:"",v=t.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(t.c||[]).length>0&&(v+=rke(t.c)),ct("Cell",v,a)}function ske(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Zm(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function oke(t,e,n,r){if(!t["!ref"])return"";var i=Gn(t["!ref"]),s=t["!merges"]||[],o=0,a=[];t["!cols"]&&t["!cols"].forEach(function(x,_){ud(x);var E=!!x.width,C=vb(_,x),D={"ss:Index":_+1};E&&(D["ss:Width"]=g_(C.width)),x.hidden&&(D["ss:Hidden"]="1"),a.push(ct("Column",null,D))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[ske(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var d=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>f)&&!(s[o].s.r>c)&&!(s[o].e.c<f)&&!(s[o].e.r<c)){(s[o].s.c!=f||s[o].s.r!=c)&&(d=!0);break}if(!d){var h={r:c,c:f},g=Jt(h),v=l?(t[c]||[])[f]:t[g];u.push(ike(v,g,t,e,n,r,h))}}u.push("</Row>"),u.length>2&&a.push(u.join(""))}return a.join("")}function ake(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],o=s?tke(s,e,t,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?oke(s,e,t,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(nke(s,e,t,n)),r.join("")}function lke(t,e){e||(e={}),t.SSF||(t.SSF=Gr(Xt)),t.SSF&&(tg(),cb(t.SSF),e.revssf=fb(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],md(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(JDe(t,e)),n.push(QDe(t,e)),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(ct("Worksheet",ake(r,e,t),{"ss:Name":xr(t.SheetNames[r])}));return n[2]=ZDe(t,e),n[3]=eke(t,e),wi+ct("Workbook",n.join(""),{xmlns:ua.ss,"xmlns:o":ua.o,"xmlns:x":ua.x,"xmlns:ss":ua.ss,"xmlns:dt":ua.dt,"xmlns:html":ua.html})}function cke(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=ewe(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=twe(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var uke=[60,1084,2066,2165,2175];function fke(t,e,n,r,i){var s=r,o=[],a=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&a.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(a)}o.push(a),n.l+=s;for(var l=Mu(n,n.l),c=BF[l],u=0;c!=null&&uke.indexOf(l)>-1;)s=Mu(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),a=n.slice(u,n.l+4+s),o.push(a),n.l+=4+s,c=BF[l=Mu(n,n.l)];var f=ts(o);ys(f,0);var d=0;f.lens=[];for(var h=0;h<o.length;++h)f.lens.push(d),d+=o[h].length;if(f.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+r;return e.f(f,f.length,i)}function Fc(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Xt[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Vu[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=u_(t.v):t.w=sp(t.v):t.w=Wa(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&eg(Xt[r]||String(r))){var i=ep(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function zC(t,e,n){return{v:t,ixfe:e,t:n}}function dke(t,e){var n={opts:{}},r={};ai!=null&&e.dense==null&&(e.dense=ai);var i=e.dense?[]:{},s={},o={},a=null,l=[],c="",u={},f,d="",h,g,v,x,_={},E=[],C,D,A=[],L=[],I={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},O=function(vt){return vt<8?tp[vt]:vt<64&&L[vt-8]||tp[vt]},V=function(vt,rt,dr){var Ut=rt.XF.data;if(!(!Ut||!Ut.patternType||!dr||!dr.cellStyles)){rt.s={},rt.s.patternType=Ut.patternType;var Mi;(Mi=m_(O(Ut.icvFore)))&&(rt.s.fgColor={rgb:Mi}),(Mi=m_(O(Ut.icvBack)))&&(rt.s.bgColor={rgb:Mi})}},P=function(vt,rt,dr){if(!(ge>1)&&!(dr.sheetRows&&vt.r>=dr.sheetRows)){if(dr.cellStyles&&rt.XF&&rt.XF.data&&V(vt,rt,dr),delete rt.ixfe,delete rt.XF,f=vt,d=Jt(vt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),vt.r<o.s.r&&(o.s.r=vt.r),vt.c<o.s.c&&(o.s.c=vt.c),vt.r+1>o.e.r&&(o.e.r=vt.r+1),vt.c+1>o.e.c&&(o.e.c=vt.c+1),dr.cellFormula&&rt.f){for(var Ut=0;Ut<E.length;++Ut)if(!(E[Ut][0].s.c>vt.c||E[Ut][0].s.r>vt.r)&&!(E[Ut][0].e.c<vt.c||E[Ut][0].e.r<vt.r)){rt.F=pn(E[Ut][0]),(E[Ut][0].s.c!=vt.c||E[Ut][0].s.r!=vt.r)&&delete rt.f,rt.f&&(rt.f=""+Vs(E[Ut][1],o,vt,fe,M));break}}dr.dense?(i[vt.r]||(i[vt.r]=[]),i[vt.r][vt.c]=rt):i[d]=rt}},M={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(M.password=e.password);var X,U=[],z=[],re=[],Z=[],de=!1,fe=[];fe.SheetNames=M.snames,fe.sharedf=M.sharedf,fe.arrayf=M.arrayf,fe.names=[],fe.XTI=[];var me=0,ge=0,T=0,B=[],F=[],H;M.codepage=1200,Vl(1200);for(var Q=!1;t.l<t.length-1;){var ye=t.l,ve=t.read_shift(2);if(ve===0&&me===10)break;var xe=t.l===t.length?0:t.read_shift(2),be=BF[ve];if(be&&be.f){if(e.bookSheets&&me===133&&ve!==133)break;if(me=ve,be.r===2||be.r==12){var He=t.read_shift(2);if(xe-=2,!M.enc&&He!==ve&&((He&255)<<8|He>>8)!==ve)throw new Error("rt mismatch: "+He+"!="+ve);be.r==12&&(t.l+=10,xe-=10)}var ee={};if(ve===10?ee=be.f(t,xe,M):ee=fke(ve,be,t,xe,M),ge==0&&[9,521,1033,2057].indexOf(me)===-1)continue;switch(ve){case 34:n.opts.Date1904=I.WBProps.date1904=ee;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(M.enc||(t.l=0),M.enc=ee,!e.password)throw new Error("File is password-protected");if(ee.valid==null)throw new Error("Encryption scheme unsupported");if(!ee.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=ee;break;case 66:var tt=Number(ee);switch(tt){case 21010:tt=1200;break;case 32768:tt=1e4;break;case 32769:tt=1252;break}Vl(M.codepage=tt),Q=!0;break;case 317:M.rrtabid=ee;break;case 25:M.winlocked=ee;break;case 439:n.opts.RefreshAll=ee;break;case 12:n.opts.CalcCount=ee;break;case 16:n.opts.CalcDelta=ee;break;case 17:n.opts.CalcIter=ee;break;case 13:n.opts.CalcMode=ee;break;case 14:n.opts.CalcPrecision=ee;break;case 95:n.opts.CalcSaveRecalc=ee;break;case 15:M.CalcRefMode=ee;break;case 2211:n.opts.FullCalc=ee;break;case 129:ee.fDialog&&(i["!type"]="dialog"),ee.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ee.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:A.push(ee);break;case 430:fe.push([ee]),fe[fe.length-1].XTI=[];break;case 35:case 547:fe[fe.length-1].push(ee);break;case 24:case 536:H={Name:ee.Name,Ref:Vs(ee.rgce,o,null,fe,M)},ee.itab>0&&(H.Sheet=ee.itab-1),fe.names.push(H),fe[0]||(fe[0]=[],fe[0].XTI=[]),fe[fe.length-1].push(ee),ee.Name=="_xlnm._FilterDatabase"&&ee.itab>0&&ee.rgce&&ee.rgce[0]&&ee.rgce[0][0]&&ee.rgce[0][0][0]=="PtgArea3d"&&(F[ee.itab-1]={ref:pn(ee.rgce[0][0][1][2])});break;case 22:M.ExternCount=ee;break;case 23:fe.length==0&&(fe[0]=[],fe[0].XTI=[]),fe[fe.length-1].XTI=fe[fe.length-1].XTI.concat(ee),fe.XTI=fe.XTI.concat(ee);break;case 2196:if(M.biff<8)break;H!=null&&(H.Comment=ee[1]);break;case 18:i["!protect"]=ee;break;case 19:ee!==0&&M.WTF&&console.error("Password verifier: "+ee);break;case 133:s[ee.pos]=ee,M.snames.push(ee.name);break;case 10:{if(--ge)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=pn(o),e.sheetRows&&e.sheetRows<=o.e.r){var at=o.e.r;o.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=pn(o),o.e.r=at}o.e.r++,o.e.c++}U.length>0&&(i["!merges"]=U),z.length>0&&(i["!objects"]=z),re.length>0&&(i["!cols"]=re),Z.length>0&&(i["!rows"]=Z),I.Sheets.push(N)}c===""?u=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[ve]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ee.BIFFVer]||8),M.biffguess=ee.BIFFVer==0,ee.BIFFVer==0&&ee.dt==4096&&(M.biff=5,Q=!0,Vl(M.codepage=28591)),M.biff==8&&ee.BIFFVer==0&&ee.dt==16&&(M.biff=2),ge++)break;if(i=e.dense?[]:{},M.biff<8&&!Q&&(Q=!0,Vl(M.codepage=e.codepage||1252)),M.biff<5||ee.BIFFVer==0&&ee.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Oe={pos:t.l-xe,name:c};s[Oe.pos]=Oe,M.snames.push(c)}else c=(s[ye]||{name:""}).name;ee.dt==32&&(i["!type"]="chart"),ee.dt==64&&(i["!type"]="macro"),U=[],z=[],M.arrayf=E=[],re=[],Z=[],de=!1,N={Hidden:(s[ye]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ee.r]||[])[ee.c]:i[Jt({c:ee.c,r:ee.r})])&&++ee.c,C={ixfe:ee.ixfe,XF:A[ee.ixfe]||{},v:ee.val,t:"n"},T>0&&(C.z=B[C.ixfe>>8&63]),Fc(C,e,n.opts.Date1904),P({c:ee.c,r:ee.r},C,e);break;case 5:case 517:C={ixfe:ee.ixfe,XF:A[ee.ixfe],v:ee.val,t:ee.t},T>0&&(C.z=B[C.ixfe>>8&63]),Fc(C,e,n.opts.Date1904),P({c:ee.c,r:ee.r},C,e);break;case 638:C={ixfe:ee.ixfe,XF:A[ee.ixfe],v:ee.rknum,t:"n"},T>0&&(C.z=B[C.ixfe>>8&63]),Fc(C,e,n.opts.Date1904),P({c:ee.c,r:ee.r},C,e);break;case 189:for(var ae=ee.c;ae<=ee.C;++ae){var We=ee.rkrec[ae-ee.c][0];C={ixfe:We,XF:A[We],v:ee.rkrec[ae-ee.c][1],t:"n"},T>0&&(C.z=B[C.ixfe>>8&63]),Fc(C,e,n.opts.Date1904),P({c:ae,r:ee.r},C,e)}break;case 6:case 518:case 1030:{if(ee.val=="String"){a=ee;break}if(C=zC(ee.val,ee.cell.ixfe,ee.tt),C.XF=A[C.ixfe],e.cellFormula){var ft=ee.formula;if(ft&&ft[0]&&ft[0][0]&&ft[0][0][0]=="PtgExp"){var Je=ft[0][0][1][0],it=ft[0][0][1][1],dt=Jt({r:Je,c:it});_[dt]?C.f=""+Vs(ee.formula,o,ee.cell,fe,M):C.F=((e.dense?(i[Je]||[])[it]:i[dt])||{}).F}else C.f=""+Vs(ee.formula,o,ee.cell,fe,M)}T>0&&(C.z=B[C.ixfe>>8&63]),Fc(C,e,n.opts.Date1904),P(ee.cell,C,e),a=ee}break;case 7:case 519:if(a)a.val=ee,C=zC(ee,a.cell.ixfe,"s"),C.XF=A[C.ixfe],e.cellFormula&&(C.f=""+Vs(a.formula,o,a.cell,fe,M)),T>0&&(C.z=B[C.ixfe>>8&63]),Fc(C,e,n.opts.Date1904),P(a.cell,C,e),a=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(ee);var pt=Jt(ee[0].s);if(h=e.dense?(i[ee[0].s.r]||[])[ee[0].s.c]:i[pt],e.cellFormula&&h){if(!a||!pt||!h)break;h.f=""+Vs(ee[1],o,ee[0],fe,M),h.F=pn(ee[0])}}break;case 1212:{if(!e.cellFormula)break;if(d){if(!a)break;_[Jt(a.cell)]=ee[0],h=e.dense?(i[a.cell.r]||[])[a.cell.c]:i[Jt(a.cell)],(h||{}).f=""+Vs(ee[0],o,f,fe,M)}}break;case 253:C=zC(l[ee.isst].t,ee.ixfe,"s"),l[ee.isst].h&&(C.h=l[ee.isst].h),C.XF=A[C.ixfe],T>0&&(C.z=B[C.ixfe>>8&63]),Fc(C,e,n.opts.Date1904),P({c:ee.c,r:ee.r},C,e);break;case 513:e.sheetStubs&&(C={ixfe:ee.ixfe,XF:A[ee.ixfe],t:"z"},T>0&&(C.z=B[C.ixfe>>8&63]),Fc(C,e,n.opts.Date1904),P({c:ee.c,r:ee.r},C,e));break;case 190:if(e.sheetStubs)for(var At=ee.c;At<=ee.C;++At){var Dt=ee.ixfe[At-ee.c];C={ixfe:Dt,XF:A[Dt],t:"z"},T>0&&(C.z=B[C.ixfe>>8&63]),Fc(C,e,n.opts.Date1904),P({c:At,r:ee.r},C,e)}break;case 214:case 516:case 4:C=zC(ee.val,ee.ixfe,"s"),C.XF=A[C.ixfe],T>0&&(C.z=B[C.ixfe>>8&63]),Fc(C,e,n.opts.Date1904),P({c:ee.c,r:ee.r},C,e);break;case 0:case 512:ge===1&&(o=ee);break;case 252:l=ee;break;case 1054:if(M.biff==4){B[T++]=ee[1];for(var qt=0;qt<T+163&&Xt[qt]!=ee[1];++qt);qt>=163&&Fu(ee[1],T+163)}else Fu(ee[1],ee[0]);break;case 30:{B[T++]=ee;for(var en=0;en<T+163&&Xt[en]!=ee;++en);en>=163&&Fu(ee,T+163)}break;case 229:U=U.concat(ee);break;case 93:z[ee.cmo[0]]=M.lastobj=ee;break;case 438:M.lastobj.TxO=ee;break;case 127:M.lastobj.ImData=ee;break;case 440:for(x=ee[0].s.r;x<=ee[0].e.r;++x)for(v=ee[0].s.c;v<=ee[0].e.c;++v)h=e.dense?(i[x]||[])[v]:i[Jt({c:v,r:x})],h&&(h.l=ee[1]);break;case 2048:for(x=ee[0].s.r;x<=ee[0].e.r;++x)for(v=ee[0].s.c;v<=ee[0].e.c;++v)h=e.dense?(i[x]||[])[v]:i[Jt({c:v,r:x})],h&&h.l&&(h.l.Tooltip=ee[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;h=e.dense?(i[ee[0].r]||[])[ee[0].c]:i[Jt(ee[0])];var Cn=z[ee[2]];h||(e.dense?(i[ee[0].r]||(i[ee[0].r]=[]),h=i[ee[0].r][ee[0].c]={t:"z"}):h=i[Jt(ee[0])]={t:"z"},o.e.r=Math.max(o.e.r,ee[0].r),o.s.r=Math.min(o.s.r,ee[0].r),o.e.c=Math.max(o.e.c,ee[0].c),o.s.c=Math.min(o.s.c,ee[0].c)),h.c||(h.c=[]),g={a:ee[1],t:Cn.TxO.t},h.c.push(g)}break;case 2173:ZCe(A[ee.ixfe],ee.ext);break;case 125:{if(!M.cellStyles)break;for(;ee.e>=ee.s;)re[ee.e--]={width:ee.w/256,level:ee.level||0,hidden:!!(ee.flags&1)},de||(de=!0,g3(ee.w/256)),ud(re[ee.e+1])}break;case 520:{var ln={};ee.level!=null&&(Z[ee.r]=ln,ln.level=ee.level),ee.hidden&&(Z[ee.r]=ln,ln.hidden=!0),ee.hpt&&(Z[ee.r]=ln,ln.hpt=ee.hpt,ln.hpx=Zm(ee.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||ip(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ve]]=ee;break;case 161:i["!margins"]||ip(i["!margins"]={}),i["!margins"].header=ee.header,i["!margins"].footer=ee.footer;break;case 574:ee.RTL&&(I.Views[0].RTL=!0);break;case 146:L=ee;break;case 2198:X=ee;break;case 140:D=ee;break;case 442:c?N.CodeName=ee||N.name:I.WBProps.CodeName=ee||"ThisWorkbook";break}}else be||console.error("Missing Info for XLS Record 0x"+ve.toString(16)),t.l+=xe}return n.SheetNames=li(s).sort(function(kt,vt){return Number(kt)-Number(vt)}).map(function(kt){return s[kt].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&F.forEach(function(kt,vt){n.Sheets[n.SheetNames[vt]]["!autofilter"]=kt}),n.Strings=l,n.SSF=Gr(Xt),M.enc&&(n.Encryption=M.enc),X&&(n.Themes=X),n.Metadata={},D!==void 0&&(n.Metadata.Country=D),fe.names.length>0&&(I.Names=fe.names),n.Workbook=I,n}var a_={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hke(t,e,n){var r=Ft.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=Nq(r,NF,a_.DSI);for(var s in i)e[s]=i[s]}catch(c){if(n.WTF)throw c}var o=Ft.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var a=Nq(o,MF,a_.SI);for(var l in a)e[l]==null&&(e[l]=a[l])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(YG(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function pke(t,e){var n=[],r=[],i=[],s=0,o,a=aq(NF,"n"),l=aq(MF,"n");if(t.Props)for(o=li(t.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],t.Props[o[s]]]);if(t.Custprops)for(o=li(t.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],t.Custprops[o[s]]]);var c=[];for(s=0;s<i.length;++s)tW.indexOf(i[s][0])>-1||zG.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&Ft.utils.cfb_add(e,"/SummaryInformation",Mq(r,a_.SI,l,MF)),(n.length||c.length)&&Ft.utils.cfb_add(e,"/DocumentSummaryInformation",Mq(n,a_.DSI,a,NF,c.length?c:null,a_.UDI))}function KW(t,e){e||(e={}),b3(e),$F(),e.codepage&&HF(e.codepage);var n,r;if(t.FullPaths){if(Ft.find(t,"/encryption"))throw new Error("File is password-protected");n=Ft.find(t,"!CompObj"),r=Ft.find(t,"/Workbook")||Ft.find(t,"/Book")}else{switch(e.type){case"base64":t=fa(ha(t));break;case"binary":t=fa(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ys(t,0),r={content:t}}var i,s;if(n&&cke(n),e.bookProps&&!e.bookSheets)i={};else{var o=An?"buffer":"array";if(r&&r.content)i=dke(r.content,e);else if((s=Ft.find(t,"PerfectOffice_MAIN"))&&s.content)i=rp.to_workbook(s.content,(e.type=o,e));else if((s=Ft.find(t,"NativeContent_MAIN"))&&s.content)i=rp.to_workbook(s.content,(e.type=o,e));else throw(s=Ft.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Ft.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Abe(t))}var a={};return t.FullPaths&&hke(t,a,e),i.Props=i.Custprops=a,e.bookFiles&&(i.cfb=t),i}function mke(t,e){var n=e||{},r=Ft.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Ft.utils.cfb_add(r,i,JW(t,n)),n.biff==8&&(t.Props||t.Custprops)&&pke(t,r),n.biff==8&&t.vbaraw&&Ibe(r,Ft.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var __={0:{f:VAe},1:{f:zAe},2:{f:dIe},3:{f:tIe},4:{f:JAe},5:{f:cIe},6:{f:vIe},7:{f:sIe},8:{f:CIe},9:{f:SIe},10:{f:wIe},11:{f:EIe},12:{f:XAe},13:{f:pIe},14:{f:rIe},15:{f:ZAe},16:{f:$W},17:{f:_Ie},18:{f:aIe},19:{f:o3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:_De},40:{},42:{},43:{f:vCe},44:{f:mCe},45:{f:xCe},46:{f:ECe},47:{f:wCe},48:{},49:{f:$2e},50:{},51:{f:nbe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:dW},62:{f:gIe},63:{f:fbe},64:{f:UIe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Gs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:LIe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:WAe},148:{f:$Ae,p:16},151:{f:kIe},152:{},153:{f:gDe},154:{},155:{},156:{f:pDe},157:{},158:{},159:{T:1,f:MSe},160:{T:-1},161:{T:1,f:mp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:bIe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:ebe},336:{T:-1},337:{f:sbe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:kF},357:{},358:{},359:{},360:{T:1},361:{},362:{f:fW},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:NIe},427:{f:MIe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:FIe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:GAe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:IIe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:kF},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ebe},633:{T:1},634:{T:-1},635:{T:1,f:xbe},636:{T:-1},637:{f:j2e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:rDe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:HIe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},BF={6:{f:wF},10:{f:od},12:{f:Ni},13:{f:Ni},14:{f:_i},15:{f:_i},16:{f:Hs},17:{f:_i},18:{f:_i},19:{f:Ni},20:{f:Bq},21:{f:Bq},23:{f:fW},24:{f:Uq},25:{f:_i},26:{},27:{},28:{f:HEe},29:{},34:{f:_i},35:{f:Vq},38:{f:Hs},39:{f:Hs},40:{f:Hs},41:{f:Hs},42:{f:_i},43:{f:_i},47:{f:ZSe},49:{f:pEe},51:{f:Ni},60:{},61:{f:cEe},64:{f:_i},65:{f:hEe},66:{f:Ni},77:{},80:{},81:{},82:{},85:{f:Ni},89:{},90:{},91:{},92:{f:Qwe},93:{f:GEe},94:{},95:{f:_i},96:{},97:{},99:{f:_i},125:{f:dW},128:{f:DEe},129:{f:eEe},130:{f:Ni},131:{f:_i},132:{f:_i},133:{f:tEe},134:{},140:{f:QEe},141:{f:Ni},144:{},146:{f:tSe},151:{},152:{},153:{},154:{},155:{},156:{f:Ni},157:{},158:{},160:{f:lSe},161:{f:iSe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:bEe},190:{f:TEe},193:{f:od},197:{},198:{},199:{},200:{},201:{},202:{f:_i},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ni},220:{},221:{f:_i},222:{},224:{f:IEe},225:{f:Jwe},226:{f:od},227:{},229:{f:$Ee},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:rEe},253:{f:gEe},255:{f:sEe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:nW},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:_i},353:{f:od},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:FEe},431:{f:_i},432:{},433:{},434:{},437:{},438:{f:zEe},439:{f:_i},440:{f:YEe},441:{},442:{f:C_},443:{},444:{f:Ni},445:{},446:{},448:{f:od},449:{f:lEe,r:2},450:{f:od},512:{f:Rq},513:{f:aSe},515:{f:MEe},516:{f:yEe},517:{f:Oq},519:{f:cSe},520:{f:oEe},523:{},545:{f:Hq},549:{f:Fq},566:{},574:{f:fEe},638:{f:CEe},659:{},1048:{},1054:{f:xEe},1084:{},1212:{f:BEe},2048:{f:KEe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:GC},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:od},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:nSe,r:12},2173:{f:QCe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:_i,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:OEe,r:12},2197:{},2198:{f:jCe,r:12},2199:{},2200:{},2201:{},2202:{f:VEe,r:12},2203:{f:od},2204:{},2205:{},2206:{},2207:{},2211:{f:aEe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ni},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:sSe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:eSe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Rq},1:{},2:{f:pSe},3:{f:dSe},4:{f:fSe},5:{f:Oq},7:{f:gSe},8:{},9:{f:GC},11:{},22:{f:Ni},30:{f:EEe},31:{},32:{},33:{f:Hq},36:{},37:{f:Fq},50:{f:vSe},62:{},52:{},67:{},68:{f:Ni},69:{},86:{},126:{},127:{f:uSe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:ySe},223:{},234:{},354:{},421:{},518:{f:wF},521:{f:GC},536:{f:Uq},547:{f:Vq},561:{},579:{},1030:{f:wF},1033:{f:GC},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ut(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&r3(n)&&t.push(n)}}function gke(t,e,n,r){var i=r||(n||[]).length||0;if(i<=8224)return ut(t,e,n,i);var s=e;if(!isNaN(s)){for(var o=n.parts||[],a=0,l=0,c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;u.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function I_(t,e,n){return t||(t=qe(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function vke(t,e,n,r){var i=qe(9);return I_(i,t,e),rW(n,r||"b",i),i}function yke(t,e,n){var r=qe(8+2*n.length);return I_(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function _ke(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Gi(qr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?ut(t,2,mSe(n,r,i)):ut(t,3,hSe(n,r,i));return;case"b":case"e":ut(t,5,vke(n,r,e.v,e.t));return;case"s":case"str":ut(t,4,yke(n,r,(e.v||"").slice(0,255)));return}ut(t,1,I_(null,n,r))}function xke(t,e,n,r){var i=Array.isArray(e),s=Gn(e["!ref"]||"A1"),o,a="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=pn(s)}for(var c=s.s.r;c<=s.e.r;++c){a=xi(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=Kr(u)),o=l[u]+a;var f=i?(e[c]||[])[u]:e[o];f&&_ke(t,f,c,u,r)}}}function wke(t,e){var n=e||{};ai!=null&&n.dense==null&&(n.dense=ai);for(var r=Oo(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return ut(r,n.biff==4?1033:n.biff==3?521:9,h3(t,16,n)),xke(r,t.Sheets[t.SheetNames[i]],i,n,t),ut(r,10),r.end()}function Eke(t,e,n){ut(t,49,mEe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function Ske(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&ut(t,1054,wEe(i,e[i],n))})}function Cke(t,e){var n=qe(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),ut(t,2151,n),n=qe(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),lW(Gn(e["!ref"]||"A1"),n),n.write_shift(4,4),ut(t,2152,n)}function bke(t,e){for(var n=0;n<16;++n)ut(t,224,Lq({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){ut(t,224,Lq(r,0,e))})}function Tke(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];ut(t,440,XEe(r)),r[1].Tooltip&&ut(t,2048,JEe(r))}delete e["!links"]}function Ake(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&ut(t,125,rSe(vb(i,r),i))})}}function Ike(t,e,n,r,i){var s=16+md(i.cellXfs,e,i);if(e.v==null&&!e.bf){ut(t,513,cp(n,r,s));return}if(e.bf)ut(t,6,eAe(e,n,r,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?Gi(qr(e.v)):e.v;ut(t,515,PEe(n,r,o,s,i));break;case"b":case"e":ut(t,517,NEe(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var a=w3(i.Strings,e.v,i.revStrings);ut(t,253,vEe(n,r,a,s,i))}else ut(t,516,_Ee(n,r,(e.v||"").slice(0,255),s,i));break;default:ut(t,513,cp(n,r,s))}}function Dke(t,e,n){var r=Oo(),i=n.SheetNames[t],s=n.Sheets[i]||{},o=(n||{}).Workbook||{},a=(o.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,f="",d=[],h=Gn(s["!ref"]||"A1"),g=c?65536:16384;if(h.e.c>255||h.e.r>=g){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,g-1)}ut(r,2057,h3(n,16,e)),ut(r,13,qa(1)),ut(r,12,qa(100)),ut(r,15,ho(!0)),ut(r,17,ho(!1)),ut(r,16,ap(.001)),ut(r,95,ho(!0)),ut(r,42,ho(!1)),ut(r,43,ho(!1)),ut(r,130,qa(1)),ut(r,128,kEe([0,0])),ut(r,131,ho(!1)),ut(r,132,ho(!1)),c&&Ake(r,s["!cols"]),ut(r,512,SEe(h,e)),c&&(s["!links"]=[]);for(var v=h.s.r;v<=h.e.r;++v){f=xi(v);for(var x=h.s.c;x<=h.e.c;++x){v===h.s.r&&(d[x]=Kr(x)),u=d[x]+f;var _=l?(s[v]||[])[x]:s[u];_&&(Ike(r,_,v,x,e),c&&_.l&&s["!links"].push([u,_.l]))}}var E=a.CodeName||a.name||i;return c&&ut(r,574,dEe((o.Views||[])[0])),c&&(s["!merges"]||[]).length&&ut(r,229,qEe(s["!merges"])),c&&Tke(r,s),ut(r,442,iW(E,e)),c&&Cke(r,s),ut(r,10),r.end()}function kke(t,e,n){var r=Oo(),i=(t||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=n.biff==8,l=n.biff==5;if(ut(r,2057,h3(t,5,n)),n.bookType=="xla"&&ut(r,135),ut(r,225,a?qa(1200):null),ut(r,193,Nwe(2)),l&&ut(r,191),l&&ut(r,192),ut(r,226),ut(r,92,Zwe("SheetJS",n)),ut(r,66,qa(a?1200:1252)),a&&ut(r,353,qa(0)),a&&ut(r,448),ut(r,317,oSe(t.SheetNames.length)),a&&t.vbaraw&&ut(r,211),a&&t.vbaraw){var c=o.CodeName||"ThisWorkbook";ut(r,442,iW(c,n))}ut(r,156,qa(17)),ut(r,25,ho(!1)),ut(r,18,ho(!1)),ut(r,19,qa(0)),a&&ut(r,431,ho(!1)),a&&ut(r,444,qa(0)),ut(r,61,uEe(n)),ut(r,64,ho(!1)),ut(r,141,qa(0)),ut(r,34,ho(lDe(t)=="true")),ut(r,14,ho(!0)),a&&ut(r,439,ho(!1)),ut(r,218,qa(0)),Eke(r,t,n),Ske(r,t.SSF,n),bke(r,n),a&&ut(r,352,ho(!1));var u=r.end(),f=Oo();a&&ut(f,140,ZEe()),a&&n.Strings&&gke(f,252,iEe(n.Strings,n)),ut(f,10);var d=f.end(),h=Oo(),g=0,v=0;for(v=0;v<t.SheetNames.length;++v)g+=(a?12:11)+(a?2:1)*t.SheetNames[v].length;var x=u.length+g+d.length;for(v=0;v<t.SheetNames.length;++v){var _=s[v]||{};ut(h,133,nEe({pos:x,hs:_.Hidden||0,dt:0,name:t.SheetNames[v]},n)),x+=e[v].length}var E=h.end();if(g!=E.length)throw new Error("BS8 "+g+" != "+E.length);var C=[];return u.length&&C.push(u),E.length&&C.push(E),d.length&&C.push(d),ts(C)}function Nke(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Gr(Xt)),t&&t.SSF&&(tg(),cb(t.SSF),n.revssf=fb(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,T3(n),n.cellXfs=[],md(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=Dke(i,n,t);return r.unshift(kke(t,r,n)),ts(r)}function JW(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=Bo(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Nke(t,e);case 4:case 3:case 2:return wke(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Jq(t,e){var n=e||{};ai!=null&&n.dense==null&&(n.dense=ai);var r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),o=i.index,a=s&&s.index||t.length,l=m2e(t.slice(o,a),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(o=0;o<l.length;++o){var v=l[o].trim(),x=v.slice(0,3).toLowerCase();if(x=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(x!="<td"&&x!="<th")){var _=v.split(/<\/t[dh]>/i);for(a=0;a<_.length;++a){var E=_[a].trim();if(E.match(/<t[dh]/i)){for(var C=E,D=0;C.charAt(0)=="<"&&(D=C.indexOf(">"))>-1;)C=C.slice(D+1);for(var A=0;A<g.length;++A){var L=g[A];L.s.c==u&&L.s.r<c&&c<=L.e.r&&(u=L.e.c+1,A=-1)}var I=Zt(E.slice(0,E.indexOf(">")));d=I.colspan?+I.colspan:1,((f=+I.rowspan)>1||d>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+d-1}});var N=I.t||I["data-t"]||"";if(!C.length){u+=d;continue}if(C=TG(C),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>u&&(h.s.c=u),h.e.c<u&&(h.e.c=u),!C.length){u+=d;continue}var O={t:"s",v:C};n.raw||!C.trim().length||N=="s"||(C==="TRUE"?O={t:"b",v:!0}:C==="FALSE"?O={t:"b",v:!1}:isNaN(Hl(C))?isNaN(Jm(C).getDate())||(O={t:"d",v:qr(C)},n.cellDates||(O={t:"n",v:Gi(O.v)}),O.z=n.dateNF||Xt[14]):O={t:"n",v:Hl(C)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=O):r[Jt({r:c,c:u})]=O,u+=d}}}}return r["!ref"]=pn(h),g.length&&(r["!merges"]=g),r}function Mke(t,e,n,r){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>o)&&!(i[c].e.r<n||i[c].e.c<o)){if(i[c].s.r<n||i[c].s.c<o){a=-1;break}a=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(a<0)){var u=Jt({r:n,c:o}),f=r.dense?(t[n]||[])[o]:t[u],d=f&&f.v!=null&&(f.h||KF(f.w||(Lu(f),f.w)||""))||"",h={};a>1&&(h.rowspan=a),l>1&&(h.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(r.id||"sjs")+"-"+u,s.push(ct("td",d,h))}}var g="<tr>";return g+s.join("")+"</tr>"}var Pke='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Fke="</body></html>";function Rke(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return pd(Jq(n[0],e),e);var r=D3();return n.forEach(function(i,s){k3(r,Jq(i,e),"Sheet"+(s+1))}),r}function Lke(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function QW(t,e){var n=e||{},r=n.header!=null?n.header:Pke,i=n.footer!=null?n.footer:Fke,s=[r],o=Bo(t["!ref"]);n.dense=Array.isArray(t),s.push(Lke(t,o,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(Mke(t,o,a,n));return s.push("</table>"+i),s.join("")}function ZW(t,e,n){var r=n||{};ai!=null&&(r.dense=ai);var i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Jr(r.origin):r.origin;i=o.r,s=o.c}var a=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=Bo(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],d=0,h=t["!rows"]||(t["!rows"]=[]),g=0,v=0,x=0,_=0,E=0,C=0;for(t["!cols"]||(t["!cols"]=[]);g<a.length&&v<l;++g){var D=a[g];if(Qq(D)){if(r.display)continue;h[v]={hidden:!0}}var A=D.children;for(x=_=0;x<A.length;++x){var L=A[x];if(!(r.display&&Qq(L))){var I=L.hasAttribute("data-v")?L.getAttribute("data-v"):L.hasAttribute("v")?L.getAttribute("v"):TG(L.innerHTML),N=L.getAttribute("data-z")||L.getAttribute("z");for(d=0;d<f.length;++d){var O=f[d];O.s.c==_+s&&O.s.r<v+i&&v+i<=O.e.r&&(_=O.e.c+1-s,d=-1)}C=+L.getAttribute("colspan")||1,((E=+L.getAttribute("rowspan")||1)>1||C>1)&&f.push({s:{r:v+i,c:_+s},e:{r:v+i+(E||1)-1,c:_+s+(C||1)-1}});var V={t:"s",v:I},P=L.getAttribute("data-t")||L.getAttribute("t")||"";I!=null&&(I.length==0?V.t=P||"z":r.raw||I.trim().length==0||P=="s"||(I==="TRUE"?V={t:"b",v:!0}:I==="FALSE"?V={t:"b",v:!1}:isNaN(Hl(I))?isNaN(Jm(I).getDate())||(V={t:"d",v:qr(I)},r.cellDates||(V={t:"n",v:Gi(V.v)}),V.z=r.dateNF||Xt[14]):V={t:"n",v:Hl(I)})),V.z===void 0&&N!=null&&(V.z=N);var M="",X=L.getElementsByTagName("A");if(X&&X.length)for(var U=0;U<X.length&&!(X[U].hasAttribute("href")&&(M=X[U].getAttribute("href"),M.charAt(0)!="#"));++U);M&&M.charAt(0)!="#"&&(V.l={Target:M}),r.dense?(t[v+i]||(t[v+i]=[]),t[v+i][_+s]=V):t[Jt({c:_+s,r:v+i})]=V,c.e.c<_+s&&(c.e.c=_+s),_+=C}}++v}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,v-1+i),t["!ref"]=pn(c),v>=l&&(t["!fullref"]=pn((c.e.r=a.length-g+v-1+i,c))),t}function ej(t,e){var n=e||{},r=n.dense?[]:{};return ZW(r,t,e)}function Oke(t,e){return pd(ej(t,e),e)}function Qq(t){var e="",n=Bke(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Bke(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Vke(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=qn(e.replace(/<[^>]*>/g,""));return[n]}var Zq={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function tj(t,e){var n=e||{};ai!=null&&n.dense==null&&(n.dense=ai);var r=JF(t),i=[],s,o,a={name:""},l="",c=0,u,f,d={},h=[],g=n.dense?[]:{},v,x,_={value:""},E="",C=0,D,A=[],L=-1,I=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},O=0,V={},P=[],M={},X=0,U=0,z=[],re=1,Z=1,de=[],fe={Names:[]},me={},ge=["",""],T=[],B={},F="",H=0,Q=!1,ye=!1,ve=0;for(h_.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=h_.exec(r);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"\u5DE5\u4F5C\u8868":v[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?g["!ref"]=pn(N):g["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=N.e.r&&(g["!fullref"]=g["!ref"],N.e.r=n.sheetRows-1,g["!ref"]=pn(N)),P.length&&(g["!merges"]=P),z.length&&(g["!rows"]=z),u.name=u.\u540D\u79F0||u.name,typeof JSON<"u"&&JSON.stringify(u),h.push(u.name),d[u.name]=g,ye=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Zt(v[0],!1),L=I=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,g=n.dense?[]:{},P=[],z=[],ye=!0);break;case"table-row-group":v[1]==="/"?--O:++O;break;case"table-row":case"\u884C":if(v[1]==="/"){L+=re,re=1;break}if(f=Zt(v[0],!1),f.\u884C\u53F7?L=f.\u884C\u53F7-1:L==-1&&(L=0),re=+f["number-rows-repeated"]||1,re<10)for(ve=0;ve<re;++ve)O>0&&(z[L+ve]={level:O});I=-1;break;case"covered-table-cell":v[1]!=="/"&&++I,n.sheetStubs&&(n.dense?(g[L]||(g[L]=[]),g[L][I]={t:"z"}):g[Jt({r:L,c:I})]={t:"z"}),E="",A=[];break;case"table-cell":case"\u6570\u636E":if(v[0].charAt(v[0].length-2)==="/")++I,_=Zt(v[0],!1),Z=parseInt(_["number-columns-repeated"]||"1",10),x={t:"z",v:null},_.formula&&n.cellFormula!=!1&&(x.f=Yq(qn(_.formula))),(_.\u6570\u636E\u7C7B\u578B||_["value-type"])=="string"&&(x.t="s",x.v=qn(_["string-value"]||""),n.dense?(g[L]||(g[L]=[]),g[L][I]=x):g[Jt({r:L,c:I})]=x),I+=Z-1;else if(v[1]!=="/"){++I,E="",C=0,A=[],Z=1;var xe=re?L+re-1:L;if(I>N.e.c&&(N.e.c=I),I<N.s.c&&(N.s.c=I),L<N.s.r&&(N.s.r=L),xe>N.e.r&&(N.e.r=xe),_=Zt(v[0],!1),T=[],B={},x={t:_.\u6570\u636E\u7C7B\u578B||_["value-type"],v:null},n.cellFormula)if(_.formula&&(_.formula=qn(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(X=parseInt(_["number-matrix-rows-spanned"],10)||0,U=parseInt(_["number-matrix-columns-spanned"],10)||0,M={s:{r:L,c:I},e:{r:L+X-1,c:I+U-1}},x.F=pn(M),de.push([M,x.F])),_.formula)x.f=Yq(_.formula);else for(ve=0;ve<de.length;++ve)L>=de[ve][0].s.r&&L<=de[ve][0].e.r&&I>=de[ve][0].s.c&&I<=de[ve][0].e.c&&(x.F=de[ve][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(X=parseInt(_["number-rows-spanned"],10)||0,U=parseInt(_["number-columns-spanned"],10)||0,M={s:{r:L,c:I},e:{r:L+X-1,c:I+U-1}},P.push(M)),_["number-columns-repeated"]&&(Z=parseInt(_["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=$r(_["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(_.value);break;case"percentage":x.t="n",x.v=parseFloat(_.value);break;case"currency":x.t="n",x.v=parseFloat(_.value);break;case"date":x.t="d",x.v=qr(_["date-value"]),n.cellDates||(x.t="n",x.v=Gi(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=d2e(_["time-value"])/86400,n.cellDates&&(x.t="d",x.v=db(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(_.\u6570\u636E\u6570\u503C);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",_["string-value"]!=null&&(E=qn(_["string-value"]),A=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(Q=!1,x.t==="s"&&(x.v=E||"",A.length&&(x.R=A),Q=C==0),me.Target&&(x.l=me),T.length>0&&(x.c=T,T=[]),E&&n.cellText!==!1&&(x.w=E),Q&&(x.t="z",delete x.v),(!Q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=L))for(var be=0;be<re;++be){if(Z=parseInt(_["number-columns-repeated"]||"1",10),n.dense)for(g[L+be]||(g[L+be]=[]),g[L+be][I]=be==0?x:Gr(x);--Z>0;)g[L+be][I+Z]=Gr(x);else for(g[Jt({r:L+be,c:I})]=x;--Z>0;)g[Jt({r:L+be,c:I+Z})]=Gr(x);N.e.c<=I&&(N.e.c=I)}Z=parseInt(_["number-columns-repeated"]||"1",10),I+=Z-1,Z=0,x={},E="",A=[]}me={};break;case"document":case"document-content":case"\u7535\u5B50\u8868\u683C\u6587\u6863":case"spreadsheet":case"\u4E3B\u4F53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((s=i.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((s=i.pop())[0]!==v[3])throw"Bad state: "+s;B.t=E,A.length&&(B.R=A),B.a=F,T.push(B)}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);F="",H=0,E="",C=0,A=[];break;case"creator":v[1]==="/"?F=r.slice(H,v.index):H=v.index+v[0].length;break;case"meta":case"\u5143\u6570\u636E":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((s=i.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);E="",C=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(V[a.name]=l,(s=i.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&(l="",a=Zt(v[0],!1),i.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Zt(v[0],!1),l+=Zq[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Zt(v[0],!1),l+=Zq[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":o=Zt(v[0],!1),ge=EF(o["cell-range-address"]);var He={Name:o.name,Ref:ge[0]+"!"+ge[1]};ye&&(He.Sheet=h.length),fe.Names.push(He);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"\u7535\u5B50\u8868\u683C":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"\u6587\u672C\u4E32":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(v[1]==="/"&&(!_||!_["string-value"])){var ee=Vke(r.slice(C,v.index),D);E=(E.length>0?E+`
`:"")+ee[0]}else D=Zt(v[0],!1),C=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{ge=EF(Zt(v[0])["target-range-address"]),d[ge[0]]["!autofilter"]={ref:ge[1]}}catch{}break;case"date":break;case"object":break;case"title":case"\u6807\u9898":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(me=Zt(v[0],!1),!me.href)break;me.Target=qn(me.href),delete me.href,me.Target.charAt(0)=="#"&&me.Target.indexOf(".")>-1?(ge=EF(me.Target.slice(1)),me.Target="#"+ge[0]+"!"+ge[1]):me.Target.match(/^\.\.[\\\/]/)&&(me.Target=me.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5B57:":break;default:if(n.WTF)throw new Error(v)}}var tt={Sheets:d,SheetNames:h,Workbook:fe};return n.bookSheets&&delete tt.Sheets,tt}function eG(t,e){e=e||{},$a(t,"META-INF/manifest.xml")&&dwe(ki(t,"META-INF/manifest.xml"),e);var n=da(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=tj(br(n),e);return $a(t,"meta.xml")&&(r.Props=WG(ki(t,"meta.xml"))),r}function tG(t,e){return tj(t,e)}var Uke=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+d_({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return wi+e}})(),nG=(function(){var t=function(s){return xr(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,o,a){var l=[];l.push('      <table:table table:name="'+xr(o.SheetNames[a])+`" table:style-name="ta1">
`);var c=0,u=0,f=Bo(s["!ref"]||"A1"),d=s["!merges"]||[],h=0,g=Array.isArray(s);if(s["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var v="",x=s["!rows"]||[];for(c=0;c<f.s.r;++c)v=x[c]?' table:style-name="ro'+x[c].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;c<=f.e.r;++c){for(v=x[c]?' table:style-name="ro'+x[c].ods+'"':"",l.push("        <table:table-row"+v+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var _=!1,E={},C="";for(h=0;h!=d.length;++h)if(!(d[h].s.c>u)&&!(d[h].s.r>c)&&!(d[h].e.c<u)&&!(d[h].e.r<c)){(d[h].s.c!=u||d[h].s.r!=c)&&(_=!0),E["table:number-columns-spanned"]=d[h].e.c-d[h].s.c+1,E["table:number-rows-spanned"]=d[h].e.r-d[h].s.r+1;break}if(_){l.push(n);continue}var D=Jt({r:c,c:u}),A=g?(s[c]||[])[u]:s[D];if(A&&A.f&&(E["table:formula"]=xr(oAe(A.f)),A.F&&A.F.slice(0,D.length)==D)){var L=Bo(A.F);E["table:number-matrix-columns-spanned"]=L.e.c-L.s.c+1,E["table:number-matrix-rows-spanned"]=L.e.r-L.s.r+1}if(!A){l.push(e);continue}switch(A.t){case"b":C=A.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=A.v?"true":"false";break;case"n":C=A.w||String(A.v||0),E["office:value-type"]="float",E["office:value"]=A.v||0;break;case"s":case"str":C=A.v==null?"":A.v,E["office:value-type"]="string";break;case"d":C=A.w||qr(A.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=qr(A.v).toISOString(),E["table:style-name"]="ce1";break;default:l.push(e);continue}var I=t(C);if(A.l&&A.l.Target){var N=A.l.Target;N=N.charAt(0)=="#"?"#"+aAe(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),I=ct("text:a",I,{"xlink:href":N.replace(/&/g,"&amp;")})}l.push("          "+ct("table:table-cell",ct("text:p",I,{}),E)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;ud(f),f.ods=a;var d=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),s.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var l=[wi],c=d_({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=d_({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(GG().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)l.push(r(o.Sheets[o.SheetNames[f]],o,f,a));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function nj(t,e){if(e.bookType=="fods")return nG(t,e);var n=zF(),r="",i=[],s=[];return r="mimetype",_n(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",_n(n,r,nG(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",_n(n,r,Uke(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",_n(n,r,wi+GG()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",_n(n,r,mwe(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",_n(n,r,hwe(i)),n}function up(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function VF(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):br(hd(t))}function Hke(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):fa(Oc(t))}function $ke(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function dd(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function rG(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function qke(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function Gke(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function x_(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function yr(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function oi(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Jn(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=x_(t,n),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var l=n[0];t[n[0]++]>=128;);a=t.slice(l,n[0])}break;case 5:o=4,a=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,a=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=x_(t,n),a=t.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:a,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function vs(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(yr(r*8+i.type)),i.type==2&&e.push(yr(i.data.length)),e.push(i.data))})}),dd(e)}function C3(t,e){return t?.map(function(n){return e(n.data)})||[]}function Ua(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=x_(t,r),s=Jn(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:oi(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=Jn(a.data),c=oi(l[3][0].data);o.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(o.merge=oi(s[3][0].data)>>>0>0),n.push(o)}return n}function Hm(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:yr(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:yr(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:yr(o.data.length)}],r[2].push({data:vs(o.meta),type:2})});var s=vs(r);e.push(yr(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),dd(e)}function Wke(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=x_(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[n[0]],a>1&&(o|=e[n[0]+1]<<8),a>2&&(o|=e[n[0]+2]<<16),a>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=a}i.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[dd(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=dd(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function Ha(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(Wke(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return dd(e)}function $m(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=yr(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return dd(e)}function jke(t,e,n,r){var i=up(t),s=i.getUint32(4,!0),o=(r>1?12:8)+rG(s&(r>1?3470:398))*4,a=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(a=i.getUint32(o,!0),o+=4),o+=rG(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(o,!0),o+=4),s&32&&(c=i.getFloat64(o,!0),o+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:n[a]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function zke(t,e,n){var r=up(t),i=r.getUint32(8,!0),s=12,o=-1,a=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=qke(t,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(a=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[a]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function CF(t,e){var n=new Uint8Array(32),r=up(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,Gke(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function bF(t,e){var n=new Uint8Array(32),r=up(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function Yke(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return jke(t,e,n,t[0]);case 5:return zke(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Bs(t){var e=Jn(t);return x_(e[1][0].data)}function iG(t,e){var n=Jn(e.data),r=oi(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var a=Jn(o.data),l=oi(a[1][0].data)>>>0;switch(r){case 1:s[l]=VF(a[3][0].data);break;case 8:{var c=t[Bs(a[9][0].data)][0],u=Jn(c.data),f=t[Bs(u[1][0].data)][0],d=oi(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=Jn(f.data);s[l]=h[3].map(function(g){return VF(g.data)}).join("")}break}}),s}function Xke(t,e){var n,r,i,s,o,a,l,c,u,f,d,h,g,v,x=Jn(t),_=oi(x[1][0].data)>>>0,E=oi(x[2][0].data)>>>0,C=((r=(n=x[8])==null?void 0:n[0])==null?void 0:r.data)&&oi(x[8][0].data)>0||!1,D,A;if((s=(i=x[7])==null?void 0:i[0])!=null&&s.data&&e!=0)D=(a=(o=x[7])==null?void 0:o[0])==null?void 0:a.data,A=(c=(l=x[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=x[4])==null?void 0:u[0])!=null&&f.data&&e!=1)D=(h=(d=x[4])==null?void 0:d[0])==null?void 0:h.data,A=(v=(g=x[3])==null?void 0:g[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var L=C?4:1,I=up(D),N=[],O=0;O<D.length/2;++O){var V=I.getUint16(O*2,!0);V<65535&&N.push([O,V])}if(N.length!=E)throw"Expected ".concat(E," cells, found ").concat(N.length);var P=[];for(O=0;O<N.length-1;++O)P[N[O][0]]=A.subarray(N[O][1]*L,N[O+1][1]*L);return N.length>=1&&(P[N[N.length-1][0]]=A.subarray(N[N.length-1][1]*L)),{R:_,cells:P}}function Kke(t,e){var n,r=Jn(e.data),i=(n=r?.[7])!=null&&n[0]?oi(r[7][0].data)>>>0>0?1:0:-1,s=C3(r[5],function(o){return Xke(o,i)});return{nrows:oi(r[4][0].data)>>>0,data:s.reduce(function(o,a){return o[a.R]||(o[a.R]=[]),a.cells.forEach(function(l,c){if(o[a.R][c])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(c));o[a.R][c]=l}),o},[])}}function Jke(t,e,n){var r,i=Jn(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(oi(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(oi(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=pn(s);var o=Jn(i[4][0].data),a=iG(t,t[Bs(o[4][0].data)][0]),l=(r=o[17])!=null&&r[0]?iG(t,t[Bs(o[17][0].data)][0]):[],c=Jn(o[3][0].data),u=0;c[1].forEach(function(f){var d=Jn(f.data),h=t[Bs(d[2][0].data)][0],g=oi(h.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var v=Kke(t,h);v.data.forEach(function(x,_){x.forEach(function(E,C){var D=Jt({r:u+_,c:C}),A=Yke(E,a,l);A&&(n[D]=A)})}),u+=v.nrows})}function Qke(t,e){var n=Jn(e.data),r={"!ref":"A1"},i=t[Bs(n[2][0].data)],s=oi(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Jke(t,i[0],r),r}function Zke(t,e){var n,r=Jn(e.data),i={name:(n=r[1])!=null&&n[0]?VF(r[1][0].data):"",sheets:[]},s=C3(r[2],Bs);return s.forEach(function(o){t[o].forEach(function(a){var l=oi(a.meta[1][0].data);l==6e3&&i.sheets.push(Qke(t,a))})}),i}function eNe(t,e){var n=D3(),r=Jn(e.data),i=C3(r[1],Bs);if(i.forEach(function(s){t[s].forEach(function(o){var a=oi(o.meta[1][0].data);if(a==2){var l=Zke(t,o);l.sheets.forEach(function(c,u){k3(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function TF(t){var e,n,r,i,s={},o=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Ha(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=Ua(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var a=((i=(r=(n=(e=s?.[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&oi(s[1][0].meta[1][0].data)==1&&s[1][0];if(a||o.forEach(function(l){s[l].forEach(function(c){var u=oi(c.meta[1][0].data)>>>0;if(u==1)if(!a)a=c;else throw new Error("Document has multiple roots")})}),!a)throw new Error("Cannot find Document root");return eNe(s,a)}function tNe(t,e,n){var r,i,s,o;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=t[8])==null?void 0:s[0])==null?void 0:o.data)&&oi(t[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,c=up(t[7][0].data),u=0,f=[],d=up(t[4][0].data),h=0,g=[],v=0;v<e.length;++v){if(e[v]==null){c.setUint16(v*2,65535,!0),d.setUint16(v*2,65535);continue}c.setUint16(v*2,u,!0),d.setUint16(v*2,h,!0);var x,_;switch(typeof e[v]){case"string":x=CF({t:"s",v:e[v]},n),_=bF({t:"s",v:e[v]},n);break;case"number":x=CF({t:"n",v:e[v]},n),_=bF({t:"n",v:e[v]},n);break;case"boolean":x=CF({t:"b",v:e[v]},n),_=bF({t:"b",v:e[v]},n);break;default:throw new Error("Unsupported value "+e[v])}f.push(x),u+=x.length,g.push(_),h+=_.length,++l}for(t[2][0].data=yr(l);v<t[7][0].data.length/2;++v)c.setUint16(v*2,65535,!0),d.setUint16(v*2,65535,!0);return t[6][0].data=dd(f),t[3][0].data=dd(g),l}function nNe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Bo(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(pn(r)));var s=ab(n,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(F){return F.forEach(function(H){typeof H=="string"&&o.push(H)})});var a={},l=[],c=Ft.read(e.numbers,{type:"base64"});c.FileIndex.map(function(F,H){return[F,c.FullPaths[H]]}).forEach(function(F){var H=F[0],Q=F[1];if(H.type==2&&H.name.match(/\.iwa/)){var ye=H.content,ve=Ha(ye),xe=Ua(ve);xe.forEach(function(be){l.push(be.id),a[be.id]={deps:[],location:Q,type:oi(be.messages[0].meta[1][0].data)}})}}),l.sort(function(F,H){return F-H});var u=l.filter(function(F){return F>1}).map(function(F){return[F,yr(F)]});c.FileIndex.map(function(F,H){return[F,c.FullPaths[H]]}).forEach(function(F){var H=F[0],Q=F[1];if(H.name.match(/\.iwa/)){var ye=Ua(Ha(H.content));ye.forEach(function(ve){ve.messages.forEach(function(xe){u.forEach(function(be){ve.messages.some(function(He){return oi(He.meta[1][0].data)!=11006&&$ke(He.data,be[1])})&&a[be[0]].deps.push(ve.id)})})})}});function f(){for(var F=927262;F<2e6;++F)if(!a[F])return F;throw new Error("Too many messages")}for(var d=Ft.find(c,a[1].location),h=Ua(Ha(d.content)),g,v=0;v<h.length;++v){var x=h[v];x.id==1&&(g=x)}var _=Bs(Jn(g.messages[0].data)[1][0].data);for(d=Ft.find(c,a[_].location),h=Ua(Ha(d.content)),v=0;v<h.length;++v)x=h[v],x.id==_&&(g=x);for(_=Bs(Jn(g.messages[0].data)[2][0].data),d=Ft.find(c,a[_].location),h=Ua(Ha(d.content)),v=0;v<h.length;++v)x=h[v],x.id==_&&(g=x);for(_=Bs(Jn(g.messages[0].data)[2][0].data),d=Ft.find(c,a[_].location),h=Ua(Ha(d.content)),v=0;v<h.length;++v)x=h[v],x.id==_&&(g=x);var E=Jn(g.messages[0].data);{E[6][0].data=yr(r.e.r+1),E[7][0].data=yr(r.e.c+1);var C=Bs(E[46][0].data),D=Ft.find(c,a[C].location),A=Ua(Ha(D.content));{for(var L=0;L<A.length&&A[L].id!=C;++L);if(A[L].id!=C)throw"Bad ColumnRowUIDMapArchive";var I=Jn(A[L].messages[0].data);I[1]=[],I[2]=[],I[3]=[];for(var N=0;N<=r.e.c;++N){var O=[];O[1]=O[2]=[{type:0,data:yr(N+420690)}],I[1].push({type:2,data:vs(O)}),I[2].push({type:0,data:yr(N)}),I[3].push({type:0,data:yr(N)})}I[4]=[],I[5]=[],I[6]=[];for(var V=0;V<=r.e.r;++V)O=[],O[1]=O[2]=[{type:0,data:yr(V+726270)}],I[4].push({type:2,data:vs(O)}),I[5].push({type:0,data:yr(V)}),I[6].push({type:0,data:yr(V)});A[L].messages[0].data=vs(I)}D.content=$m(Hm(A)),D.size=D.content.length,delete E[46];var P=Jn(E[4][0].data);{P[7][0].data=yr(r.e.r+1);var M=Jn(P[1][0].data),X=Bs(M[2][0].data);D=Ft.find(c,a[X].location),A=Ua(Ha(D.content));{if(A[0].id!=X)throw"Bad HeaderStorageBucket";var U=Jn(A[0].messages[0].data);for(V=0;V<s.length;++V){var z=Jn(U[2][0].data);z[1][0].data=yr(V),z[4][0].data=yr(s[V].length),U[2][V]={type:U[2][0].type,data:vs(z)}}A[0].messages[0].data=vs(U)}D.content=$m(Hm(A)),D.size=D.content.length;var re=Bs(P[2][0].data);D=Ft.find(c,a[re].location),A=Ua(Ha(D.content));{if(A[0].id!=re)throw"Bad HeaderStorageBucket";for(U=Jn(A[0].messages[0].data),N=0;N<=r.e.c;++N)z=Jn(U[2][0].data),z[1][0].data=yr(N),z[4][0].data=yr(r.e.r+1),U[2][N]={type:U[2][0].type,data:vs(z)};A[0].messages[0].data=vs(U)}D.content=$m(Hm(A)),D.size=D.content.length;var Z=Bs(P[4][0].data);(function(){for(var F=Ft.find(c,a[Z].location),H=Ua(Ha(F.content)),Q,ye=0;ye<H.length;++ye){var ve=H[ye];ve.id==Z&&(Q=ve)}var xe=Jn(Q.messages[0].data);{xe[3]=[];var be=[];o.forEach(function(tt,at){be[1]=[{type:0,data:yr(at)}],be[2]=[{type:0,data:yr(1)}],be[3]=[{type:2,data:Hke(tt)}],xe[3].push({type:2,data:vs(be)})})}Q.messages[0].data=vs(xe);var He=Hm(H),ee=$m(He);F.content=ee,F.size=F.content.length})();var de=Jn(P[3][0].data);{var fe=de[1][0];delete de[2];var me=Jn(fe.data);{var ge=Bs(me[2][0].data);(function(){for(var F=Ft.find(c,a[ge].location),H=Ua(Ha(F.content)),Q,ye=0;ye<H.length;++ye){var ve=H[ye];ve.id==ge&&(Q=ve)}var xe=Jn(Q.messages[0].data);{delete xe[6],delete de[7];var be=new Uint8Array(xe[5][0].data);xe[5]=[];for(var He=0,ee=0;ee<=r.e.r;++ee){var tt=Jn(be);He+=tNe(tt,s[ee],o),tt[1][0].data=yr(ee),xe[5].push({data:vs(tt),type:2})}xe[1]=[{type:0,data:yr(r.e.c+1)}],xe[2]=[{type:0,data:yr(r.e.r+1)}],xe[3]=[{type:0,data:yr(He)}],xe[4]=[{type:0,data:yr(r.e.r+1)}]}Q.messages[0].data=vs(xe);var at=Hm(H),Oe=$m(at);F.content=Oe,F.size=F.content.length})()}fe.data=vs(me)}P[3][0].data=vs(de)}E[4][0].data=vs(P)}g.messages[0].data=vs(E);var T=Hm(h),B=$m(T);return d.content=B,d.size=d.content.length,c}function rj(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function b3(t){rj([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function T3(t){rj([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function rNe(t){return xn.WS.indexOf(t)>-1?"sheet":xn.CS&&t==xn.CS?"chart":xn.DS&&t==xn.DS?"dialog":xn.MS&&t==xn.MS?"macro":t&&t.length?t:"sheet"}function iNe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,rNe(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function sNe(t,e,n,r,i,s,o,a,l,c,u,f){try{s[r]=r_(da(t,n,!0),e);var d=ki(t,e),h;switch(a){case"sheet":h=ADe(d,e,i,l,s[r],c,u,f);break;case"chart":if(h=IDe(d,e,i,l,s[r],c,u,f),!h||!h["!drawel"])break;var g=Zy(h["!drawel"].Target,e),v=p_(g),x=pbe(da(t,g,!0),r_(da(t,v,!0),g)),_=Zy(x,g),E=p_(_);h=tDe(da(t,_,!0),_,l,r_(da(t,E,!0),_),c,h);break;case"macro":h=DDe(d,e,i,l,s[r],c,u,f);break;case"dialog":h=kDe(d,e,i,l,s[r],c,u,f);break;default:throw new Error("Unrecognized sheet type "+a)}o[r]=h;var C=[];s&&s[r]&&li(s[r]).forEach(function(D){var A="";if(s[r][D].Type==xn.CMNT){A=Zy(s[r][D].Target,e);var L=FDe(ki(t,A,!0),A,l);if(!L||!L.length)return;qq(h,L,!1)}s[r][D].Type==xn.TCMNT&&(A=Zy(s[r][D].Target,e),C=C.concat(gbe(ki(t,A,!0),l)))}),C&&C.length&&qq(h,C,!0,l.people||[])}catch(D){if(l.WTF)throw D}}function Ba(t){return t.charAt(0)=="/"?t.slice(1):t}function oNe(t,e){if(tg(),e=e||{},b3(e),$a(t,"META-INF/manifest.xml")||$a(t,"objectdata.xml"))return eG(t,e);if($a(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof TF<"u"){if(t.FileIndex)return TF(t);var n=Ft.utils.cfb_new();return uq(t).forEach(function(U){_n(n,U,EG(t,U))}),TF(n)}throw new Error("Unsupported NUMBERS file")}if(!$a(t,"[Content_Types].xml"))throw $a(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):$a(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=uq(t),i=uwe(da(t,"[Content_Types].xml")),s=!1,o,a;if(i.workbooks.length===0&&(a="xl/workbook.xml",ki(t,a,!0)&&i.workbooks.push(a)),i.workbooks.length===0){if(a="xl/workbook.bin",!ki(t,a,!0))throw new Error("Could not find workbook");i.workbooks.push(a),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(i_=[],i.sst)try{i_=PDe(ki(t,Ba(i.sst)),i.sst,e)}catch(U){if(e.WTF)throw U}e.cellStyles&&i.themes.length&&(l=MDe(da(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=NDe(ki(t,Ba(i.style)),i.style,l,e))}i.links.map(function(U){try{var z=r_(da(t,p_(Ba(U))),U);return LDe(ki(t,Ba(U)),z,U,e)}catch{}});var u=TDe(ki(t,Ba(i.workbooks[0])),i.workbooks[0],e),f={},d="";i.coreprops.length&&(d=ki(t,Ba(i.coreprops[0]),!0),d&&(f=WG(d)),i.extprops.length!==0&&(d=ki(t,Ba(i.extprops[0]),!0),d&&vwe(d,f,e)));var h={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(d=da(t,Ba(i.custprops[0]),!0),d&&(h=_we(d,e)));var g={};if((e.bookSheets||e.bookProps)&&(u.Sheets?o=u.Sheets.map(function(z){return z.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),e.bookProps&&(g.Props=f,g.Custprops=h),e.bookSheets&&typeof o<"u"&&(g.SheetNames=o),e.bookSheets?g.SheetNames:e.bookProps))return g;o={};var v={};e.bookDeps&&i.calcchain&&(v=RDe(ki(t,Ba(i.calcchain)),i.calcchain,e));var x=0,_={},E,C;{var D=u.Sheets;f.Worksheets=D.length,f.SheetNames=[];for(var A=0;A!=D.length;++A)f.SheetNames[A]=D[A].name}var L=s?"bin":"xml",I=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,I+1)+"_rels/"+i.workbooks[0].slice(I+1)+".rels").replace(/^\//,"");$a(t,N)||(N="xl/_rels/workbook."+L+".rels");var O=r_(da(t,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=ODe(ki(t,Ba(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=ybe(ki(t,Ba(i.people[0])),e)),O&&(O=iNe(O,u.Sheets));var V=ki(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var P="sheet";if(O&&O[x]?(E="xl/"+O[x][1].replace(/[\/]?xl\//,""),$a(t,E)||(E=O[x][1]),$a(t,E)||(E=N.replace(/_rels\/.*$/,"")+O[x][1]),P=O[x][2]):(E="xl/worksheets/sheet"+(x+1-V)+"."+L,E=E.replace(/sheet0\./,"sheet.")),C=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(x!=e.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var M=!1,X=0;X!=e.sheets.length;++X)typeof e.sheets[X]=="number"&&e.sheets[X]==x&&(M=1),typeof e.sheets[X]=="string"&&e.sheets[X].toLowerCase()==f.SheetNames[x].toLowerCase()&&(M=1);if(!M)continue e}}sNe(t,E,C,f.SheetNames[x],x,_,o,P,e,u,l,c)}return g={Directory:i,Workbook:u,Props:f,Custprops:h,Deps:v,Sheets:o,SheetNames:f.SheetNames,Strings:i_,Styles:c,Themes:l,SSF:Gr(Xt)},e&&e.bookFiles&&(t.files?(g.keys=r,g.files=t.files):(g.keys=[],g.files={},t.FullPaths.forEach(function(U,z){U=U.replace(/^Root Entry[\/]/,""),g.keys.push(U),g.files[U]=t.FileIndex[z]}))),e&&e.bookVBA&&(i.vba.length>0?g.vbaraw=ki(t,Ba(i.vba[0]),!0):i.defaults&&i.defaults.bin===Tbe&&(g.vbaraw=ki(t,"xl/vbaProject.bin",!0))),g}function aNe(t,e){var n=e||{},r="Workbook",i=Ft.find(t,r);try{if(r="/!DataSpaces/Version",i=Ft.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(OSe(i.content),r="/!DataSpaces/DataSpaceMap",i=Ft.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=VSe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ft.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=USe(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ft.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);$Se(i.content)}catch{}if(r="/EncryptionInfo",i=Ft.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=qSe(i.content);if(r="/EncryptedPackage",i=Ft.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(a[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(a[1],i.content,n.password||"",n);if(a[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(a[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function lNe(t,e){return e.bookType=="ods"?nj(t,e):e.bookType=="numbers"?nNe(t,e):e.bookType=="xlsb"?cNe(t,e):uNe(t,e)}function cNe(t,e){Wm=1024,t&&!t.SSF&&(t.SSF=Gr(Xt)),t&&t.SSF&&(tg(),cb(t.SSF),e.revssf=fb(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,s_?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=kW.indexOf(e.bookType)>-1,i=f3();T3(e=e||{});var s=zF(),o="",a=0;if(e.cellXfs=[],md(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",_n(s,o,jG(t.Props,e)),i.coreprops.push(o),_r(e.rels,2,o,xn.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,_n(s,o,XG(t.Props,e)),i.extprops.push(o),_r(e.rels,3,o,xn.EXT_PROPS),t.Custprops!==t.Props&&li(t.Custprops||{}).length>0&&(o="docProps/custom.xml",_n(s,o,KG(t.Custprops,e)),i.custprops.push(o),_r(e.rels,4,o,xn.CUST_PROPS)),a=1;a<=t.SheetNames.length;++a){var u={"!id":{}},f=t.Sheets[t.SheetNames[a-1]],d=(f||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+a+"."+n,_n(s,o,VDe(a-1,o,e,t,u)),i.sheets.push(o),_r(e.wbrels,-1,"worksheets/sheet"+a+"."+n,xn.WS[0]),f){var h=f["!comments"],g=!1,v="";h&&h.length>0&&(v="xl/comments"+a+"."+n,_n(s,v,$De(h,v,e)),i.comments.push(v),_r(u,-1,"../comments"+a+"."+n,xn.CMNT),g=!0),f["!legacy"]&&g&&_n(s,"xl/drawings/vmlDrawing"+a+".vml",IW(a,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&_n(s,p_(o),zm(u))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,_n(s,o,HDe(e.Strings,o,e)),i.strs.push(o),_r(e.wbrels,-1,"sharedStrings."+n,xn.SST)),o="xl/workbook."+n,_n(s,o,BDe(t,o,e)),i.workbooks.push(o),_r(e.rels,1,o,xn.WB),o="xl/theme/theme1.xml",_n(s,o,v3(t.Themes,e)),i.themes.push(o),_r(e.wbrels,-1,"theme/theme1.xml",xn.THEME),o="xl/styles."+n,_n(s,o,UDe(t,o,e)),i.styles.push(o),_r(e.wbrels,-1,"styles."+n,xn.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",_n(s,o,t.vbaraw),i.vba.push(o),_r(e.wbrels,-1,"vbaProject.bin",xn.VBA)),o="xl/metadata."+n,_n(s,o,qDe(o)),i.metadata.push(o),_r(e.wbrels,-1,"metadata."+n,xn.XLMETA),_n(s,"[Content_Types].xml",qG(i,e)),_n(s,"_rels/.rels",zm(e.rels)),_n(s,"xl/_rels/workbook."+n+".rels",zm(e.wbrels)),delete e.revssf,delete e.ssf,s}function uNe(t,e){Wm=1024,t&&!t.SSF&&(t.SSF=Gr(Xt)),t&&t.SSF&&(tg(),cb(t.SSF),e.revssf=fb(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,s_?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=kW.indexOf(e.bookType)>-1,i=f3();T3(e=e||{});var s=zF(),o="",a=0;if(e.cellXfs=[],md(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",_n(s,o,jG(t.Props,e)),i.coreprops.push(o),_r(e.rels,2,o,xn.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,_n(s,o,XG(t.Props,e)),i.extprops.push(o),_r(e.rels,3,o,xn.EXT_PROPS),t.Custprops!==t.Props&&li(t.Custprops||{}).length>0&&(o="docProps/custom.xml",_n(s,o,KG(t.Custprops,e)),i.custprops.push(o),_r(e.rels,4,o,xn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,a=1;a<=t.SheetNames.length;++a){var f={"!id":{}},d=t.Sheets[t.SheetNames[a-1]],h=(d||{})["!type"]||"sheet";if(o="xl/worksheets/sheet"+a+"."+n,_n(s,o,HW(a-1,e,t,f)),i.sheets.push(o),_r(e.wbrels,-1,"worksheets/sheet"+a+"."+n,xn.WS[0]),d){var g=d["!comments"],v=!1,x="";if(g&&g.length>0){var _=!1;g.forEach(function(E){E[1].forEach(function(C){C.T==!0&&(_=!0)})}),_&&(x="xl/threadedComments/threadedComment"+a+"."+n,_n(s,x,vbe(g,u,e)),i.threadedcomments.push(x),_r(f,-1,"../threadedComments/threadedComment"+a+"."+n,xn.TCMNT)),x="xl/comments"+a+"."+n,_n(s,x,DW(g,e)),i.comments.push(x),_r(f,-1,"../comments"+a+"."+n,xn.CMNT),v=!0}d["!legacy"]&&v&&_n(s,"xl/drawings/vmlDrawing"+a+".vml",IW(a,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&_n(s,p_(o),zm(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,_n(s,o,gW(e.Strings,e)),i.strs.push(o),_r(e.wbrels,-1,"sharedStrings."+n,xn.SST)),o="xl/workbook."+n,_n(s,o,jW(t,e)),i.workbooks.push(o),_r(e.rels,1,o,xn.WB),o="xl/theme/theme1.xml",_n(s,o,v3(t.Themes,e)),i.themes.push(o),_r(e.wbrels,-1,"theme/theme1.xml",xn.THEME),o="xl/styles."+n,_n(s,o,CW(t,e)),i.styles.push(o),_r(e.wbrels,-1,"styles."+n,xn.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",_n(s,o,t.vbaraw),i.vba.push(o),_r(e.wbrels,-1,"vbaProject.bin",xn.VBA)),o="xl/metadata."+n,_n(s,o,AW()),i.metadata.push(o),_r(e.wbrels,-1,"metadata."+n,xn.XLMETA),u.length>1&&(o="xl/persons/person.xml",_n(s,o,_be(u,e)),i.people.push(o),_r(e.wbrels,-1,"persons/person.xml",xn.PEOPLE)),_n(s,"[Content_Types].xml",qG(i,e)),_n(s,"_rels/.rels",zm(e.rels)),_n(s,"xl/_rels/workbook."+n+".rels",zm(e.wbrels)),delete e.revssf,delete e.ssf,s}function A3(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=ha(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function fNe(t,e){return Ft.find(t,"EncryptedPackage")?aNe(t,e):KW(t,e)}function dNe(t,e){var n,r=t,i=e||{};return i.type||(i.type=An&&Buffer.isBuffer(t)?"buffer":"base64"),n=SG(r,i),oNe(n,i)}function ij(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return OF(t.slice(n),e);default:break e}return Qm.to_workbook(t,e)}function hNe(t,e){var n="",r=A3(t,e);switch(e.type){case"base64":n=ha(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=op(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=br(n)),e.type="binary",ij(n,e)}function pNe(t,e){var n=t;return e.type=="base64"&&(n=ha(n)),n=fr.utils.decode(1200,n.slice(2),"str"),e.type="binary",ij(n,e)}function mNe(t){return t.match(/[^\x00-\x7F]/)?Oc(t):t}function AF(t,e,n,r){return r?(n.type="string",Qm.to_workbook(t,n)):Qm.to_workbook(e,n)}function ob(t,e){$F();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return ob(new Uint8Array(t),(n=Gr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Xm={},n.dateNF&&(Xm.dateNF=n.dateNF),n.type||(n.type=An&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=An?"buffer":"binary",r=c2e(t),typeof Uint8Array<"u"&&!An&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=mNe(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),a=new Uint8Array(o);if(a.foo="bar",!a.foo)return n=Gr(n),n.type="array",ob(qF(r),n)}switch((i=A3(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return fNe(Ft.read(r,n),n);break;case 9:if(i[1]<=8)return KW(r,n);break;case 60:return OF(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return xSe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return pW.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?dNe(r,n):AF(t,r,n,s);case 239:return i[3]===60?OF(r,n):AF(t,r,n,s);case 255:if(i[1]===254)return pNe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return rp.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return rp.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return LF.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return wW.to_workbook(r,n);break;case 10:case 13:case 32:return hNe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return _Se.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?LF.to_workbook(r,n):AF(t,r,n,s)}function sj(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return E_(e.file,Ft.write(t,{type:An?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Ft.write(t,e)}function gNe(t,e){var n=Gr(e||{}),r=lNe(t,n);return vNe(r,n)}function vNe(t,e){var n={},r=An?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Ft.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(lb(i))}return e.password&&typeof encrypt_agile<"u"?sj(encrypt_agile(i,e.password),e):e.type==="file"?E_(e.file,i):e.type=="string"?br(i):i}function yNe(t,e){var n=e||{},r=mke(t,n);return sj(r,n)}function Lc(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return c_(Oc(r));case"binary":return Oc(r);case"string":return t;case"file":return E_(e.file,r,"utf8");case"buffer":return An?Ou(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Lc(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function _Ne(t,e){switch(e.type){case"base64":return c_(t);case"binary":return t;case"string":return t;case"file":return E_(e.file,t,"binary");case"buffer":return An?Ou(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function YC(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?c_(n):e.type=="string"?br(n):n;case"file":return E_(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function oj(t,e){$F(),fDe(t);var n=Gr(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=oj(t,n);return n.type="array",lb(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Lc(lke(t,n),n);case"slk":case"sylk":return Lc(hW.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return Lc(QW(t.Sheets[t.SheetNames[i]],n),n);case"txt":return _Ne(lj(t.Sheets[t.SheetNames[i]],n),n);case"csv":return Lc(I3(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return Lc(pW.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return YC(LF.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return Lc(Qm.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return Lc(wW.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return Lc(mW.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return Lc(nj(t,n),n);case"wk1":return YC(rp.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return YC(rp.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),YC(JW(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),yNe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return gNe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function xNe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function aj(t,e,n){var r=n||{};return r.type="file",r.file=e,xNe(r),oj(t,r)}function wNe(t,e,n,r,i,s,o,a){var l=xi(n),c=a.defval,u=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:n,enumerable:!1})}catch{d.__rowNum__=n}else d.__rowNum__=n;if(!o||t[n])for(var h=e.s.c;h<=e.e.c;++h){var g=o?t[n][h]:t[r[h]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;s[h]!=null&&(d[s[h]]=c);continue}var v=g.v;switch(g.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[h]!=null){if(v==null)if(g.t=="e"&&v===null)d[s[h]]=null;else if(c!==void 0)d[s[h]]=c;else if(u&&v===null)d[s[h]]=null;else continue;else d[s[h]]=u&&(g.t!=="n"||g.t==="n"&&a.rawNumbers!==!1)?v:Lu(g,v,a);v!=null&&(f=!1)}}return{row:d,isempty:f}}function ab(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=Gn(u);break;case"number":l=Gn(t["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var f=xi(l.s.r),d=[],h=[],g=0,v=0,x=Array.isArray(t),_=l.s.r,E=0,C={};x&&!t[_]&&(t[_]=[]);var D=c.skipHidden&&t["!cols"]||[],A=c.skipHidden&&t["!rows"]||[];for(E=l.s.c;E<=l.e.c;++E)if(!(D[E]||{}).hidden)switch(d[E]=Kr(E),n=x?t[_][E]:t[d[E]+f],r){case 1:s[E]=E-l.s.c;break;case 2:s[E]=d[E];break;case 3:s[E]=c.header[E-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),a=o=Lu(n,null,c),v=C[o]||0,!v)C[o]=1;else{do a=o+"_"+v++;while(C[a]);C[o]=v,C[a]=1}s[E]=a}for(_=l.s.r+i;_<=l.e.r;++_)if(!(A[_]||{}).hidden){var L=wNe(t,l,_,d,r,s,x,c);(L.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(h[g++]=L.row)}return h.length=g,h}var sG=/"/g;function ENe(t,e,n,r,i,s,o,a){for(var l=!0,c=[],u="",f=xi(n),d=e.s.c;d<=e.e.c;++d)if(r[d]){var h=a.dense?(t[n]||[])[d]:t[r[d]+f];if(h==null)u="";else if(h.v!=null){l=!1,u=""+(a.rawNumbers&&h.t=="n"?h.v:Lu(h,null,a));for(var g=0,v=0;g!==u.length;++g)if((v=u.charCodeAt(g))===i||v===s||v===34||a.forceQuotes){u='"'+u.replace(sG,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(l=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(sG,'""')+'"')):u="";c.push(u)}return a.blankrows===!1&&l?null:c.join(o)}function I3(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Gn(t["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,l=a.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];r.dense=Array.isArray(t);for(var d=r.skipHidden&&t["!cols"]||[],h=r.skipHidden&&t["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(d[g]||{}).hidden||(f[g]=Kr(g));for(var v=0,x=i.s.r;x<=i.e.r;++x)(h[x]||{}).hidden||(u=ENe(t,i,x,f,o,l,s,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((v++?a:"")+u)));return delete r.dense,n.join("")}function lj(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=I3(t,e);if(typeof fr>"u"||e.type=="string")return n;var r=fr.utils.encode(1200,n,"str");return"\xFF\xFE"+r}function SNe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Gn(t["!ref"]),s="",o=[],a,l=[],c=Array.isArray(t);for(a=i.s.c;a<=i.e.c;++a)o[a]=Kr(a);for(var u=i.s.r;u<=i.e.r;++u)for(s=xi(u),a=i.s.c;a<=i.e.c;++a)if(e=o[a]+s,n=c?(t[u]||[])[a]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function cj(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Jr(r.origin):r.origin;o=l.r,a=l.c}var c,u={s:{c:0,r:0},e:{c:a,r:o+e.length-1+i}};if(s["!ref"]){var f=Gn(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+e.length-1+i)}else o==-1&&(o=0,u.e.r=e.length-1+i);var d=r.header||[],h=0;e.forEach(function(v,x){li(v).forEach(function(_){(h=d.indexOf(_))==-1&&(d[h=d.length]=_);var E=v[_],C="z",D="",A=Jt({c:a+h,r:o+x+i});c=w_(s,A),E&&typeof E=="object"&&!(E instanceof Date)?s[A]=E:(typeof E=="number"?C="n":typeof E=="boolean"?C="b":typeof E=="string"?C="s":E instanceof Date?(C="d",r.cellDates||(C="n",E=Gi(E)),D=r.dateNF||Xt[14]):E===null&&r.nullError&&(C="e",E=0),c?(c.t=C,c.v=E,delete c.w,delete c.R,D&&(c.z=D)):s[A]=c={t:C,v:E},D&&(c.z=D))})}),u.e.c=Math.max(u.e.c,a+d.length-1);var g=xi(o);if(i)for(h=0;h<d.length;++h)s[Kr(h+a)+g]={t:"s",v:d[h]};return s["!ref"]=pn(u),s}function CNe(t,e){return cj(null,t,e)}function w_(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Jr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?w_(t,Jt(e)):w_(t,Jt({r:e,c:n||0}))}function bNe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function D3(){return{SheetNames:[],Sheets:{}}}function k3(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=o+i)!=-1;++i);}if(WW(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function TNe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=bNe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function ANe(t,e){return t.z=e,t}function uj(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function INe(t,e,n){return uj(t,"#"+e,n)}function DNe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function kNe(t,e,n,r){for(var i=typeof e!="string"?e:Gn(e),s=typeof e=="string"?e:pn(e),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var l=w_(t,o,a);l.t="n",l.F=s,delete l.v,o==i.s.r&&a==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var vp={encode_col:Kr,encode_row:xi,encode_cell:Jt,encode_range:pn,decode_col:s3,decode_row:i3,split_cell:H2e,decode_cell:Jr,decode_range:Bo,format_cell:Lu,sheet_add_aoa:LG,sheet_add_json:cj,sheet_add_dom:ZW,aoa_to_sheet:rg,json_to_sheet:CNe,table_to_sheet:ej,table_to_book:Oke,sheet_to_csv:I3,sheet_to_txt:lj,sheet_to_json:ab,sheet_to_html:QW,sheet_to_formulae:SNe,sheet_to_row_object_array:ab,sheet_get_cell:w_,book_new:D3,book_append_sheet:k3,book_set_sheet_visibility:TNe,cell_set_number_format:ANe,cell_set_hyperlink:uj,cell_set_internal_link:INe,cell_add_comment:DNe,sheet_set_array_formula:kNe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var gUe=l_.version;function MNe(t,e){t&1&&(Ze(0,"i",55),_e(1," Analizando Flota... "))}function PNe(t,e){t&1&&(Ze(0,"i",56),_e(1," Generar Reporte Diario "))}function FNe(t,e){if(t&1){let n=ti();ie(0,"button",54),Wt("click",function(){zn(n);let i=Yt();return Yn(i.generateDailyReport())}),er(1,MNe,2,0)(2,PNe,2,0),oe()}if(t&2){let n=Yt();kr("disabled",n.isAnalyzing()),Ne(),tr(n.isAnalyzing()?1:2)}}function RNe(t,e){if(t&1){let n=ti();ie(0,"div",26),Ze(1,"div",57),ie(2,"div",58)(3,"button",59),Wt("click",function(){zn(n);let i=Yt();return Yn(i.aiReport.set(null))}),_e(4,"Cerrar"),oe(),ie(5,"button",60),Wt("click",function(){zn(n);let i=Yt();return Yn(i.copyReport())}),Ze(6,"i",61),_e(7," Copiar"),oe()()()}if(t&2){let n=Yt();Ne(),kr("innerHTML",n.aiReport(),Bf)}}var yb=class t{constructor(){this.dataService=Pt(Ns);this.geminiService=Pt(Qf);this.failureForm={economico:"",falla:"",prioridad:"Media",reporta:""};this.isAnalyzing=Sn(!1);this.aiReport=Sn(null);this.isKioskMode=this.dataService.isKioskMode}toggleKiosk(){this.dataService.toggleKioskMode()}registerFailure(){if(!this.failureForm.economico||!this.failureForm.falla){alert("Por favor complete los datos de la unidad y la falla.");return}this.dataService.addLiveFailure({economico:this.failureForm.economico.toUpperCase(),falla:this.failureForm.falla,prioridad:this.failureForm.prioridad,reporta:this.failureForm.reporta||"NOC Admin",estatus:"Abierta"}),this.failureForm={economico:"",falla:"",prioridad:"Media",reporta:""}}async generateDailyReport(){this.isAnalyzing.set(!0);let e=this.dataService.fleetAvailability(),n=this.dataService.forkliftFailures().filter(s=>s.estatus!=="Cerrada"),r=this.dataService.forkliftFailures().slice(0,10),i=await this.geminiService.generateDailySummary(e,n,r);this.aiReport.set(i),this.isAnalyzing.set(!1)}copyReport(){if(this.aiReport()){let e=document.createElement("div");e.innerHTML=this.aiReport();let n=new Blob([e.innerText],{type:"text/plain"}),r=new ClipboardItem({"text/plain":n});navigator.clipboard.write([r]).then(()=>alert("Reporte copiado al portapapeles!"))}}handleFileInput(e){let n=e.target.files[0];if(!n)return;let r=new FileReader;r.onload=i=>{let s=i.target.result,o=ob(s,{type:"binary"}),a=o.SheetNames[0],l=o.Sheets[a],c=vp.sheet_to_json(l);this.dataService.updateAssetsFromExcel(c),alert(`Se procesaron ${c.length} registros exitosamente.`)},r.readAsBinaryString(n)}exportData(){let e=this.dataService.forkliftFailures().map(o=>({ID:o.id,Unidad:o.economico,Falla:o.falla,Prioridad:o.prioridad,Estatus:o.estatus,Reporto:o.reporta,FechaIngreso:o.fechaIngreso,FechaCierre:o.fechaSalida||"-"})),n=this.dataService.assets().map(o=>({Economico:o.id,Marca:o.brand,Modelo:o.model,Serie:o.serial,Estatus:o.status.name,Desde:o.statusSince})),r=vp.book_new(),i=vp.json_to_sheet(e),s=vp.json_to_sheet(n);vp.book_append_sheet(r,s,"Inventario"),vp.book_append_sheet(r,i,"Reporte de Fallas"),aj(r,`AssetGuard_Reporte_${new Date().toISOString().slice(0,10)}.xlsx`)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ps({type:t,selectors:[["app-admin"]],decls:90,vars:18,consts:[[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-8","max-w-5xl","mx-auto"],[1,"mb-8","border-b","border-gray-100","pb-4"],[1,"text-3xl","font-black","text-gray-800","tracking-tight"],[1,"text-gray-500"],[1,"bg-indigo-50","p-6","rounded-xl","shadow-sm","border","border-indigo-100","mb-8","flex","flex-col","md:flex-row","items-center","justify-between","gap-4","animate-fade-in","relative","overflow-hidden"],[1,"absolute","-right-6","-top-6","text-indigo-100","opacity-50"],[1,"fas","fa-broadcast-tower","text-9xl"],[1,"relative","z-10"],[1,"text-xl","font-bold","text-indigo-900","flex","items-center","gap-2"],[1,"bg-indigo-600","text-white","p-1.5","rounded-lg","text-xs","shadow-md"],[1,"fas","fa-desktop"],[1,"text-sm","text-indigo-700","mt-1","max-w-lg"],[1,"flex","items-center","gap-4","relative","z-10","bg-white","px-6","py-3","rounded-2xl","shadow-sm","border","border-indigo-100"],[1,"text-right"],[1,"text-[10px]","font-bold","uppercase","tracking-wider","text-gray-500"],[1,"text-sm","font-black","transition-colors"],[1,"relative","inline-flex","h-8","w-14","items-center","rounded-full","transition-colors","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","cursor-pointer",3,"click"],[1,"inline-block","h-6","w-6","transform","rounded-full","bg-white","transition-transform","shadow-md"],[1,"bg-gradient-to-r","from-gray-900","to-slate-800","rounded-xl","p-6","text-white","shadow-xl","mb-8","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10"],[1,"fas","fa-brain","text-9xl","text-white"],[1,"text-xl","font-bold","flex","items-center","gap-2","mb-2"],[1,"bg-[#ce1126]","p-1.5","rounded","text-xs"],[1,"fas","fa-robot"],[1,"text-gray-400","text-sm","mb-6","max-w-2xl"],[1,"bg-white","text-gray-900","px-6","py-3","rounded-lg","font-bold","shadow","hover:bg-gray-100","transition","flex","items-center","gap-2","disabled:opacity-50",3,"disabled"],[1,"bg-white/10","rounded-lg","p-6","border","border-white/10","backdrop-blur-sm","animate-fade-in"],[1,"bg-white","p-6","rounded-xl","shadow-lg","mb-8","border-t-4","border-[#ce1126]","border","border-gray-100"],[1,"text-lg","font-bold","mb-4","flex","items-center","gap-2","text-gray-800"],[1,"text-[#ce1126]"],[1,"fas","fa-broadcast-tower"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],[1,"block","text-xs","font-bold","text-gray-500","uppercase","tracking-wide","mb-1"],["type","text","placeholder","Ej: M-105",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"lg:col-span-2"],["type","text","placeholder","Describe el problema...",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none","bg-white",3,"ngModelChange","ngModel"],["value","Baja"],["value","Media"],["value","Alta"],[1,"flex","justify-between","items-center"],[1,"w-1/3"],["type","text","placeholder","Nombre Supervisor",1,"w-full","p-2.5","border","border-gray-300","rounded","shadow-sm","focus:ring-2","focus:ring-[#ce1126]","focus:outline-none",3,"ngModelChange","ngModel"],[1,"bg-[#ce1126]","hover:bg-[#a30d1d]","text-white","px-8","py-3","rounded-lg","font-bold","shadow-md","transition","transform","hover:scale-105","flex","items-center","gap-2",3,"click"],[1,"fas","fa-paper-plane"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"p-6","border","border-gray-200","rounded-xl","bg-gray-50"],[1,"font-bold","text-gray-700","mb-2"],[1,"fas","fa-file-excel","text-green-600","mr-2"],[1,"text-xs","text-gray-500","mb-4"],["type","file","accept",".xlsx, .xls",1,"block","w-full","text-sm","text-gray-500","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-green-50","file:text-green-700","hover:file:bg-green-100","mb-2","cursor-pointer",3,"change"],[1,"text-[10px]","text-gray-400","italic"],[1,"fas","fa-download","text-blue-600","mr-2"],[1,"w-full","py-2","bg-white","border","border-gray-300","rounded","text-gray-700","font-bold","text-sm","hover:bg-gray-100","transition",3,"click"],[1,"bg-white","text-gray-900","px-6","py-3","rounded-lg","font-bold","shadow","hover:bg-gray-100","transition","flex","items-center","gap-2","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-magic"],[1,"prose","prose-invert","prose-sm","max-w-none",3,"innerHTML"],[1,"mt-4","flex","gap-3"],[1,"text-gray-400","hover:text-white","text-xs","font-bold","underline",3,"click"],[1,"text-[#ce1126]","hover:text-red-400","text-xs","font-bold","uppercase",3,"click"],[1,"fas","fa-copy","mr-1"]],template:function(n,r){n&1&&(ie(0,"div",0)(1,"div",1)(2,"h2",2),_e(3,"Panel de Administraci\xF3n"),oe(),ie(4,"p",3),_e(5,"Gesti\xF3n de fallas en vivo, control de pantallas y reportes IA."),oe()(),ie(6,"div",4)(7,"div",5),Ze(8,"i",6),oe(),ie(9,"div",7)(10,"h3",8)(11,"span",9),Ze(12,"i",10),oe(),_e(13," Control Maestro de Pantallas "),oe(),ie(14,"p",11),_e(15," Activa remotamente el "),ie(16,"strong"),_e(17,"Modo Quiosco"),oe(),_e(18," en las Smart TVs de la planta. Esto iniciar\xE1 la rotaci\xF3n autom\xE1tica de KPIs, Mejores Tripulaciones y Seguridad. "),oe()(),ie(19,"div",12)(20,"div",13)(21,"p",14),_e(22,"Estatus Transmisi\xF3n"),oe(),ie(23,"p",15),_e(24),oe()(),ie(25,"button",16),Wt("click",function(){return r.toggleKiosk()}),Ze(26,"span",17),oe()()(),ie(27,"div",18)(28,"div",19),Ze(29,"i",20),oe(),ie(30,"div",7)(31,"h3",21)(32,"span",22),Ze(33,"i",23),_e(34," GEMINI 2.0"),oe(),_e(35," Centro de Inteligencia "),oe(),ie(36,"p",24),_e(37," Genera un resumen ejecutivo instant\xE1neo analizando KPIs, fallas activas y tiempos de respuesta para la junta diaria. "),oe(),er(38,FNe,3,2,"button",25)(39,RNe,8,1,"div",26),oe()(),ie(40,"div",27)(41,"h3",28)(42,"span",29),Ze(43,"i",30),oe(),_e(44," Registro de Falla (Torre de Control) "),oe(),ie(45,"div",31)(46,"div")(47,"label",32),_e(48,"Unidad (ID)"),oe(),ie(49,"input",33),_u("ngModelChange",function(s){return Hf(r.failureForm.economico,s)||(r.failureForm.economico=s),s}),oe()(),ie(50,"div",34)(51,"label",32),_e(52,"Descripci\xF3n de Falla"),oe(),ie(53,"input",35),_u("ngModelChange",function(s){return Hf(r.failureForm.falla,s)||(r.failureForm.falla=s),s}),oe()(),ie(54,"div")(55,"label",32),_e(56,"Prioridad"),oe(),ie(57,"select",36),_u("ngModelChange",function(s){return Hf(r.failureForm.prioridad,s)||(r.failureForm.prioridad=s),s}),ie(58,"option",37),_e(59,"Baja"),oe(),ie(60,"option",38),_e(61,"Media"),oe(),ie(62,"option",39),_e(63,"Alta (Cr\xEDtica)"),oe()()()(),ie(64,"div",40)(65,"div",41)(66,"label",32),_e(67,"Reporta"),oe(),ie(68,"input",42),_u("ngModelChange",function(s){return Hf(r.failureForm.reporta,s)||(r.failureForm.reporta=s),s}),oe()(),ie(69,"button",43),Wt("click",function(){return r.registerFailure()}),Ze(70,"i",44),_e(71," ENVIAR ALERTA "),oe()()(),ie(72,"div",45)(73,"div",46)(74,"h3",47),Ze(75,"i",48),_e(76," Importaci\xF3n Masiva"),oe(),ie(77,"p",49),_e(78,"Carga tu inventario o estatus desde Excel (.xlsx)"),oe(),ie(79,"input",50),Wt("change",function(s){return r.handleFileInput(s)}),oe(),ie(80,"p",51),_e(81,"Columnas requeridas: Economico, Marca, Modelo, Estatus"),oe()(),ie(82,"div",46)(83,"h3",47),Ze(84,"i",52),_e(85," Exportar Datos"),oe(),ie(86,"p",49),_e(87,"Descarga el reporte completo de KPIs y Fallas."),oe(),ie(88,"button",53),Wt("click",function(){return r.exportData()}),_e(89," Descargar Excel "),oe()()()()),n&2&&(Ne(23),Hr("text-green-500",r.isKioskMode())("text-gray-400",!r.isKioskMode()),Ne(),cn(" ",r.isKioskMode()?"EN VIVO (ON AIR)":"OFFLINE"," "),Ne(),Hr("bg-indigo-600",r.isKioskMode())("bg-gray-300",!r.isKioskMode()),Ne(),Hr("translate-x-7",r.isKioskMode())("translate-x-1",!r.isKioskMode()),Ne(12),tr(r.aiReport()?39:38),Ne(11),yu("ngModel",r.failureForm.economico),Ne(4),yu("ngModel",r.failureForm.falla),Ne(4),yu("ngModel",r.failureForm.prioridad),Ne(11),yu("ngModel",r.failureForm.reporta))},dependencies:[Ji,Zf,Fm,Rm,Pm,CC,EC,By],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var LNe=(t,e)=>e.id,ONe=(t,e)=>e.fecha;function BNe(t,e){if(t&1&&(ie(0,"div",32)(1,"span",51),_e(2),oe(),_e(3),oe()),t&2){let n=e.$implicit;Ne(2),cn("",n.usuario,":"),Ne(),cn(" ",n.mensaje," ")}}function VNe(t,e){if(t&1){let n=ti();ie(0,"div",17)(1,"div",19)(2,"div",20)(3,"div",21),_e(4),oe(),ie(5,"div")(6,"h4",22),_e(7),oe(),ie(8,"p",23),_e(9),ca(10,"date"),oe()()(),ie(11,"div",24)(12,"span"),_e(13),oe(),ie(14,"span",25),_e(15),oe()()(),ie(16,"div",26)(17,"div",27)(18,"p",28),_e(19,"Diagn\xF3stico Reportado"),oe(),ie(20,"div",29),_e(21),oe(),ie(22,"div",30)(23,"p",28),_e(24,"Historial T\xE9cnico"),oe(),ie(25,"div",31),Is(26,BNe,4,2,"div",32,ONe),oe()()(),ie(28,"div",33)(29,"h5",34),Ze(30,"i",35),_e(31," Log\xEDstica de Refacciones "),oe(),ie(32,"div",36)(33,"div")(34,"label",37),_e(35,"Orden de Compra (PO)"),oe(),Ze(36,"input",38,0),oe(),ie(38,"div")(39,"label",37),_e(40,"Estatus Refacci\xF3n"),oe(),ie(41,"select",39,1)(43,"option",40),_e(44,"N/A (Solo Mano de Obra)"),oe(),ie(45,"option",41),_e(46,"En Stock"),oe(),ie(47,"option",42),_e(48,"Pedida a Planta"),oe(),ie(49,"option",43),_e(50,"En Tr\xE1nsito"),oe()()()(),ie(51,"div",44),Ze(52,"input",45,2),ie(54,"button",46),Wt("click",function(){let i=zn(n).$implicit,s=Sl(53);return Yt().addNote(i.id,s.value),Yn(s.value="")}),Ze(55,"i",47),oe()(),ie(56,"div",48)(57,"button",49),Wt("click",function(){let i=zn(n).$implicit,s=Sl(37),o=Sl(42),a=Yt();return Yn(a.saveLogistics(i.id,s.value,o.value))}),_e(58," Guardar Cambios "),oe(),ie(59,"button",50),Wt("click",function(){let i=zn(n).$implicit,s=Yt();return Yn(s.closeTicket(i.id))}),_e(60," Liberar "),oe()()()()()}if(t&2){let n=e.$implicit;Ne(4),cn(" ",n.economico.slice(-3)," "),Ne(3),vn(n.economico),Ne(2),vn(Cl(10,10,n.fechaIngreso,"medium")),Ne(3),Nr("px-3 py-1 rounded text-xs font-bold uppercase "+(n.prioridad==="Alta"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-600")),Ne(),cn(" ",n.prioridad," "),Ne(2),cn(" ",n.estatus," "),Ne(6),cn(" ",n.falla," "),Ne(5),Ds(n.seguimiento),Ne(10),kr("value",n.ordenCompra||""),Ne(5),kr("value",n.estatusRefaccion||"N/A")}}function UNe(t,e){t&1&&(ie(0,"div",18)(1,"div",52),Ze(2,"i",53),oe(),ie(3,"h3",54),_e(4,"Todo limpio"),oe(),ie(5,"p",55),_e(6,"No hay unidades pendientes en taller."),oe()())}var _b=class t{constructor(){this.dataService=Pt(Ns);this.openFailures=this.dataService.forkliftFailures;this.pendingParts=Tn(()=>this.dataService.forkliftFailures().filter(e=>e.estatusRefaccion==="Pedida").length);this.criticalCount=Tn(()=>this.dataService.forkliftFailures().filter(e=>e.prioridad==="Alta"&&e.estatus!=="Cerrada").length)}saveLogistics(e,n,r){this.dataService.updateToyotaLogistics(e,n,r)}addNote(e,n){n&&this.dataService.addFailureUpdate(e,n,"Toyota Tech")}closeTicket(e){confirm("\xBFConfirmar liberaci\xF3n de equipo?")&&this.dataService.closeLiveFailure(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ps({type:t,selectors:[["app-service-panel"]],decls:26,vars:4,consts:[["po",""],["status",""],["note",""],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-orange-600","text-white","p-6","rounded-xl","shadow-lg","relative","overflow-hidden"],[1,"fas","fa-wrench","absolute","-right-4","-bottom-4","text-8xl","text-orange-700","opacity-50"],[1,"text-xs","uppercase","font-bold","text-orange-100"],[1,"text-4xl","font-black","mt-2"],[1,"bg-white","p-6","rounded-xl","border","border-slate-200","shadow-sm","flex","flex-col","justify-center"],[1,"text-xs","uppercase","font-bold","text-slate-400"],[1,"text-3xl","font-black","text-slate-700","mt-1"],[1,"text-3xl","font-black","text-red-500","mt-1"],[1,"bg-white","rounded-xl","shadow-sm","border","border-slate-200","overflow-hidden","min-h-[500px]"],[1,"p-4","border-b","border-slate-100","bg-slate-50","flex","justify-between","items-center"],[1,"font-bold","text-slate-700","uppercase","tracking-wide","text-sm"],[1,"divide-y","divide-slate-100"],[1,"p-6","hover:bg-slate-50","transition-colors"],[1,"py-20","text-center"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","mb-4","gap-4"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","rounded-lg","bg-slate-900","text-white","flex","items-center","justify-center","font-black","text-lg"],[1,"font-black","text-xl","text-slate-800"],[1,"text-xs","text-slate-500"],[1,"flex","gap-2"],[1,"px-3","py-1","rounded","text-xs","font-bold","uppercase","bg-blue-100","text-blue-700"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-1"],[1,"text-xs","font-bold","text-slate-400","uppercase","mb-2"],[1,"bg-slate-50","p-3","rounded-lg","border","border-slate-200","text-sm","text-slate-700","font-medium"],[1,"mt-4"],[1,"space-y-2","max-h-32","overflow-y-auto","custom-scroll","text-xs"],[1,"p-2","rounded","bg-slate-50","border","border-slate-100"],[1,"lg:col-span-2","bg-slate-50","rounded-xl","p-5","border","border-slate-200"],[1,"font-bold","text-slate-700","mb-4","flex","items-center","gap-2"],[1,"fas","fa-box-open"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],[1,"text-xs","font-bold","text-slate-400","uppercase"],["type","text",1,"w-full","mt-1","p-2","rounded","border","border-slate-300","text-sm","focus:ring-2","focus:ring-orange-500",3,"value"],[1,"w-full","mt-1","p-2","rounded","border","border-slate-300","text-sm","bg-white",3,"value"],["value","N/A"],["value","En Stock"],["value","Pedida"],["value","Por Recibir"],[1,"flex","gap-2","mt-4"],["type","text","placeholder","Agregar nota t\xE9cnica...",1,"flex-1","p-2","rounded","border","border-slate-300","text-sm"],[1,"px-4","py-2","bg-slate-200","text-slate-700","font-bold","rounded","text-xs","hover:bg-slate-300","transition",3,"click"],[1,"fas","fa-comment"],[1,"flex","gap-3","mt-4","pt-4","border-t","border-slate-200"],[1,"flex-1","py-2","bg-slate-800","text-white","rounded","font-bold","text-xs","uppercase","hover:bg-slate-900","transition",3,"click"],[1,"px-6","py-2","bg-green-600","text-white","rounded","font-bold","text-xs","uppercase","hover:bg-green-700","transition",3,"click"],[1,"font-bold","text-orange-600"],[1,"inline-flex","items-center","justify-center","w-20","h-20","rounded-full","bg-slate-100","text-slate-300","mb-4"],[1,"fas","fa-check","text-4xl"],[1,"font-bold","text-slate-600"],[1,"text-slate-400","text-sm"]],template:function(n,r){n&1&&(ie(0,"div",3)(1,"div",4)(2,"div",5),Ze(3,"i",6),ie(4,"p",7),_e(5,"Unidades en Taller"),oe(),ie(6,"p",8),_e(7),oe()(),ie(8,"div",9)(9,"p",10),_e(10,"Refacciones Pendientes"),oe(),ie(11,"p",11),_e(12),oe()(),ie(13,"div",9)(14,"p",10),_e(15,"Prioridad Alta"),oe(),ie(16,"p",12),_e(17),oe()()(),ie(18,"div",13)(19,"div",14)(20,"h3",15),_e(21,"\xD3rdenes de Trabajo Activas"),oe()(),ie(22,"div",16),Is(23,VNe,61,13,"div",17,LNe,!1,UNe,7,0,"div",18),oe()()()),n&2&&(Ne(7),vn(r.openFailures().length),Ne(5),vn(r.pendingParts()),Ne(5),vn(r.criticalCount()),Ne(6),Ds(r.openFailures()))},dependencies:[Ji,Zf,Fm,Rm,wu],encapsulation:2})}};var HNe=(t,e)=>e.id,$Ne=(t,e)=>e.name;function qNe(t,e){t&1&&(ie(0,"span",19),Ze(1,"span",27)(2,"span",28),oe())}function GNe(t,e){t&1&&Ze(0,"span",20)}function WNe(t,e){t&1&&(ie(0,"div",26)(1,"div",29),Ze(2,"i",30),oe(),ie(3,"span",31),_e(4,"En Reparaci\xF3n"),oe()())}function jNe(t,e){if(t&1){let n=ti();ie(0,"button",17),Wt("click",function(){let i=zn(n).$implicit,s=Yt(2);return Yn(s.selectAsset(i.id))}),ie(1,"div",18),er(2,qNe,3,0,"span",19)(3,GNe,1,0,"span",20),oe(),ie(4,"div",21),Ze(5,"i",22),oe(),ie(6,"div",23)(7,"span",24),_e(8),oe(),ie(9,"span",25),_e(10),oe()(),er(11,WNe,5,0,"div",26),oe()}if(t&2){let n=e.$implicit;Ne(2),tr(n.status.name==="Taller"?2:3),Ne(6),vn(n.id),Ne(2),vn(n.model),Ne(),tr(n.status.name!=="Operativo"?11:-1)}}function zNe(t,e){if(t&1&&(ie(0,"div",12)(1,"h3",14),_e(2,"1. Selecciona la unidad a reportar"),oe(),ie(3,"div",15),Is(4,jNe,12,4,"button",16,HNe),oe()()),t&2){let n=Yt();Ne(4),Ds(n.assets())}}function YNe(t,e){if(t&1){let n=ti();ie(0,"button",50),Wt("click",function(){let i=zn(n).$implicit,s=Yt(2);return Yn(s.category.set(i.name))}),Ze(1,"i"),ie(2,"span",51),_e(3),oe()()}if(t&2){let n=e.$implicit,r=Yt(2);Nr(r.getCategoryClass(n.name)),Ne(),Nr("fas "+n.icon+" text-2xl mb-1"),Ne(2),vn(n.name)}}function XNe(t,e){if(t&1){let n=ti();ie(0,"div",13)(1,"div",32)(2,"div",33),Ze(3,"i",34),oe(),ie(4,"h3",35),_e(5),oe(),ie(6,"span",36),_e(7," Reportando Falla "),oe(),ie(8,"div",37)(9,"button",38),Wt("click",function(){zn(n);let i=Yt();return Yn(i.step.set(1))}),Ze(10,"i",39),_e(11," Cambiar Unidad "),oe()()(),ie(12,"div",40)(13,"div",41)(14,"label",42)(15,"span",43),_e(16,"1"),oe(),_e(17," Selecciona el Sistema Afectado "),oe(),ie(18,"div",44),Is(19,YNe,4,5,"button",45,$Ne),oe()(),ie(21,"div",46)(22,"label",42)(23,"span",43),_e(24,"2"),oe(),_e(25," Detalles Adicionales (Opcional) "),oe(),ie(26,"textarea",47),_u("ngModelChange",function(i){zn(n);let s=Yt();return Hf(s.notes,i)||(s.notes=i),Yn(i)}),oe()(),ie(27,"button",48),Wt("click",function(){zn(n);let i=Yt();return Yn(i.submitReport())}),ie(28,"span"),_e(29,"ENVIAR REPORTE"),oe(),Ze(30,"i",49),oe()()()}if(t&2){let n=Yt();Ne(5),vn(n.selectedId()),Ne(14),Ds(n.categories),Ne(7),yu("ngModel",n.notes),Ne(),kr("disabled",!n.category())}}var xb=class t{constructor(){this.dataService=Pt(Ns);this.assets=this.dataService.assets;this.step=Sn(1);this.selectedId=Sn("");this.category=Sn("");this.notes="";this.categories=[{name:"Llantas",icon:"fa-truck-monster"},{name:"Frenos",icon:"fa-ban"},{name:"Motor",icon:"fa-cogs"},{name:"Hidr\xE1ulico",icon:"fa-oil-can"},{name:"El\xE9ctrico",icon:"fa-bolt"},{name:"Da\xF1o F\xEDsico",icon:"fa-car-crash"}]}selectAsset(e){this.dataService.getAsset(e)?.status.name!=="Taller"&&(this.selectedId.set(e),this.step.set(2))}submitReport(){if(!this.category())return;let e=`[${this.category()}] ${this.notes||"Sin detalles adicionales."}`;this.dataService.addLiveFailure({economico:this.selectedId(),falla:e,prioridad:this.category()==="Frenos"?"Alta":"Media",reporta:"Operador M\xF3vil",estatus:"Abierta"}),alert("Reporte enviado exitosamente. Toyota ha sido notificado."),this.step.set(1),this.category.set(""),this.notes="",this.selectedId.set("")}getCategoryClass(e){return this.category()===e?"bg-gradient-to-br from-[#ce1126] to-[#a30d1d] border-transparent text-white shadow-lg shadow-red-900/30 scale-105 z-10":"bg-white border-slate-200 text-slate-500 hover:border-red-200 hover:bg-red-50 hover:text-red-600"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ps({type:t,selectors:[["app-solicitor-panel"]],decls:19,vars:7,consts:[[1,"w-full","h-full","bg-slate-50","flex","flex-col","overflow-hidden"],[1,"bg-[#ce1126]","text-white","px-6","py-3","shadow-md","flex","justify-between","items-center","shrink-0","z-20"],[1,"flex","items-center","gap-3"],[1,"w-8","h-8","bg-white/20","rounded-lg","flex","items-center","justify-center"],[1,"fas","fa-mobile-alt","text-sm"],[1,"text-base","font-black","uppercase","tracking-widest","leading-none"],[1,"text-[10px]","text-red-100","opacity-90"],[1,"flex","items-center","gap-3","bg-black/10","px-3","py-1","rounded-full"],[1,"text-[10px]","font-bold","opacity-80","uppercase","tracking-wide"],[1,"flex","gap-1.5"],[1,"w-2","h-2","rounded-full","transition-colors","duration-300"],[1,"flex-1","overflow-hidden","relative"],[1,"h-full","overflow-y-auto","custom-scroll","p-4","md:p-6","bg-slate-100/50"],[1,"h-full","flex","flex-col","md:flex-row","animate-fade-in","divide-y","md:divide-y-0","md:divide-x","divide-slate-200"],[1,"text-sm","font-bold","text-slate-500","uppercase","tracking-wide","mb-4","pl-1"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-4"],[1,"group","relative","bg-white","rounded-xl","shadow-sm","border-2","border-transparent","hover:border-red-500","focus:border-red-500","transition-all","p-4","flex","flex-col","items-center","justify-between","h-36","md:h-40","hover:shadow-md"],[1,"group","relative","bg-white","rounded-xl","shadow-sm","border-2","border-transparent","hover:border-red-500","focus:border-red-500","transition-all","p-4","flex","flex-col","items-center","justify-between","h-36","md:h-40","hover:shadow-md",3,"click"],[1,"absolute","top-3","right-3","flex","gap-1"],[1,"flex","h-2.5","w-2.5"],["title","Operativo",1,"w-2.5","h-2.5","rounded-full","bg-emerald-500","shadow-sm"],[1,"mt-2","text-slate-200","group-hover:text-red-50","transition-colors","duration-300"],[1,"fas","fa-truck-loading","text-5xl"],[1,"text-center","z-10","w-full"],[1,"block","text-xl","md:text-2xl","font-black","text-slate-800","tracking-tighter","group-hover:scale-110","transition-transform"],[1,"block","text-[10px]","text-slate-500","font-mono","mt-1","border-t","border-slate-100","pt-1","mx-4"],[1,"absolute","inset-0","bg-slate-50/90","backdrop-blur-[1px]","rounded-[10px]","flex","flex-col","items-center","justify-center","z-20","cursor-not-allowed","border-2","border-slate-100"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-red-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2.5","w-2.5","bg-red-500"],[1,"bg-white","p-2","rounded-full","shadow-sm","mb-2"],[1,"fas","fa-lock","text-slate-400","text-lg"],[1,"text-[10px]","font-bold","text-slate-500","uppercase","tracking-wide"],[1,"md:w-1/3","lg:w-1/4","bg-white","p-6","flex","flex-col","justify-center","items-center","text-center","shrink-0","shadow-[4px_0_24px_rgba(0,0,0,0.02)]","z-10"],[1,"w-24","h-24","rounded-full","bg-slate-50","border","border-slate-100","shadow-inner","flex","items-center","justify-center","mb-6"],[1,"fas","fa-truck-moving","text-4xl","text-slate-700"],[1,"text-4xl","font-black","text-slate-800","tracking-tight"],[1,"inline-block","mt-2","px-3","py-1","rounded-full","bg-red-50","text-red-600","text-[10px]","font-bold","uppercase","tracking-widest","border","border-red-100"],[1,"mt-auto","w-full","pt-8"],[1,"w-full","px-6","py-3","rounded-xl","border","border-slate-200","text-slate-500","text-xs","font-bold","hover:bg-slate-50","hover:text-slate-800","transition","flex","items-center","justify-center","gap-2","group",3,"click"],[1,"fas","fa-arrow-left","group-hover:-translate-x-1","transition-transform"],[1,"flex-1","bg-[#f8fafc]","p-6","md:p-8","overflow-y-auto","custom-scroll","flex","flex-col","h-full"],[1,"mb-6","shrink-0"],[1,"flex","items-center","gap-2","text-xs","font-bold","text-slate-400","uppercase","mb-3","px-1"],[1,"w-5","h-5","rounded-full","bg-slate-200","text-slate-500","flex","items-center","justify-center","text-[10px]"],[1,"grid","grid-cols-2","sm:grid-cols-3","lg:grid-cols-6","gap-3"],[1,"p-2","rounded-xl","border","transition-all","duration-200","flex","flex-col","items-center","justify-center","gap-2","h-24","hover:shadow-lg",3,"class"],[1,"mb-6","flex-1","min-h-[120px]","flex","flex-col"],["placeholder","Ej: Ruidos extra\xF1os al elevar la carga...",1,"w-full","flex-1","p-4","bg-white","border","border-slate-200","rounded-xl","focus:ring-2","focus:ring-[#ce1126]/20","focus:border-[#ce1126]","outline-none","resize-none","text-sm","transition-shadow","shadow-sm","placeholder:text-slate-300",3,"ngModelChange","ngModel"],[1,"w-full","py-4","bg-gradient-to-r","from-[#ce1126]","to-[#a30d1d]","hover:from-[#a30d1d]","hover:to-[#8a0b18]","disabled:from-slate-300","disabled:to-slate-300","disabled:text-slate-500","text-white","rounded-xl","font-bold","text-lg","shadow-xl","shadow-red-900/20","hover:shadow-red-900/40","transition-all","flex","items-center","justify-center","gap-3","transform","hover:-translate-y-0.5","active:translate-y-0","disabled:transform-none",3,"click","disabled"],[1,"fas","fa-paper-plane"],[1,"p-2","rounded-xl","border","transition-all","duration-200","flex","flex-col","items-center","justify-center","gap-2","h-24","hover:shadow-lg",3,"click"],[1,"text-[10px]","font-bold","uppercase","leading-tight","text-center"]],template:function(n,r){n&1&&(ie(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ze(4,"i",4),oe(),ie(5,"div")(6,"h2",5),_e(7,"Reporte R\xE1pido"),oe(),ie(8,"p",6),_e(9,"Terminal Operador"),oe()()(),ie(10,"div",7)(11,"span",8),_e(12),oe(),ie(13,"div",9),Ze(14,"div",10)(15,"div",10),oe()()(),ie(16,"div",11),er(17,zNe,6,0,"div",12),er(18,XNe,31,3,"div",13),oe()()),n&2&&(Ne(12),cn("Paso ",r.step()," de 2"),Ne(2),Nr(r.step()>=1?"bg-white":"bg-white/30"),Ne(),Nr(r.step()>=2?"bg-white":"bg-white/30"),Ne(2),tr(r.step()===1?17:-1),Ne(),tr(r.step()===2?18:-1))},dependencies:[Ji,Zf,Pm,EC,By],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}"]})}};function KNe(t,e){t&1&&(ie(0,"span",41),Ze(1,"span",73)(2,"span",74),oe())}function JNe(t,e){t&1&&Ze(0,"app-dashboard")}function QNe(t,e){t&1&&Ze(0,"app-service-panel")}function ZNe(t,e){t&1&&Ze(0,"app-asset-list")}function e5e(t,e){t&1&&Ze(0,"app-solicitor-panel")}function t5e(t,e){t&1&&Ze(0,"app-admin")}function n5e(t,e){t&1&&(ie(0,"div",54)(1,"div",75),Ze(2,"i",76)(3,"i",77),oe(),ie(4,"p",78),_e(5,"Analizando flota en tiempo real..."),oe()())}function r5e(t,e){if(t&1&&Ze(0,"div",55),t&2){let n=Yt();kr("innerHTML",n.aiInsights(),Bf)}}function i5e(t,e){t&1&&(ie(0,"div",56)(1,"div",79),Ze(2,"i",80),oe(),ie(3,"div")(4,"h4",81),_e(5,"\xBFC\xF3mo puedo ayudarte?"),oe(),ie(6,"p",82),_e(7," Utilizo los datos actuales de fallas, costos y disponibilidad para generarte reportes al instante. "),oe()()())}function s5e(t,e){if(t&1&&(ie(0,"div",72)(1,"div",83),Ze(2,"app-asset-detail",84),oe()()),t&2){let n=Yt();Ne(2),kr("assetId",n.selectedAssetId())}}var wb=class t{constructor(){this.dataService=Pt(Ns);this.geminiService=Pt(Qf);this.currentView=Sn("dashboard");this.selectedAssetId=Sn(null);this.showAiPanel=Sn(!1);this.connectionStatus=this.dataService.connectionStatus;this.lastUpdate=this.dataService.lastUpdate;this.plantMode=this.dataService.plantMode;this.failures=this.dataService.forkliftFailures;this.aiInsights=Sn(null);this.aiLoading=Sn(!1);this.previousFailureCount=0;this.syncText=Tn(()=>this.connectionStatus()==="online"?"Conectado (Firebase RTDB)":this.connectionStatus()==="syncing"?"Sincronizando...":"Modo Offline (Solo Lectura)");Sh(()=>{let e=this.failures();if(e.length>this.previousFailureCount){let n=e[0];n.estatus==="Abierta"&&this.previousFailureCount>0&&this.playAlert(n.prioridad==="Alta")}this.previousFailureCount=e.length}),window.addEventListener("asset-selected",e=>this.selectedAssetId.set(e.detail)),window.addEventListener("asset-closed",()=>this.selectedAssetId.set(null))}setView(e){this.currentView.set(e),this.selectedAssetId.set(null),e==="dashboard"&&!this.plantMode()&&this.dataService.togglePlantMode(),e!=="dashboard"&&this.plantMode()&&this.dataService.togglePlantMode()}toggleAiPanel(){this.showAiPanel.update(e=>!e),this.showAiPanel()&&this.aiInsights()}async generateExecutiveSummary(){this.aiLoading.set(!0);let e=this.dataService.kpiData(),n=this.dataService.fleetAvailability(),r=this.failures().filter(s=>s.estatus!=="Cerrada"),i=await this.geminiService.generateExecutiveReport(e,r,n);this.aiInsights.set(i),this.aiLoading.set(!1)}playAlert(e){new Audio(e?"https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3":"https://assets.mixkit.co/active_storage/sfx/2345/2345-preview.mp3").play().catch(()=>{})}get viewTitle(){switch(this.currentView()){case"dashboard":return"Centro de Monitoreo (NOC)";case"assets":return"Inventario de Flota";case"service":return"Gesti\xF3n T\xE9cnica Toyota";case"solicitor":return"App Operador";case"settings":return"Configuraci\xF3n";default:return"AssetGuard"}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ps({type:t,selectors:[["app-root"]],decls:120,vars:72,consts:[[1,"flex","h-screen","bg-slate-50","dark:bg-[#0f172a]","font-sans","overflow-hidden","transition-colors","duration-500"],[1,"w-20","lg:w-64","bg-slate-900","text-slate-300","flex","flex-col","justify-between","shrink-0","z-30","transition-all","duration-300","shadow-xl"],[1,"h-16","flex","items-center","justify-center","lg:justify-start","lg:px-6","border-b","border-slate-800","bg-slate-950"],[1,"fas","fa-network-wired","text-[#ce1126]","text-xl","shadow-lg","shadow-red-900/50","rounded-full"],[1,"ml-3","font-black","text-white","italic","text-lg","hidden","lg:block","tracking-tighter"],[1,"p-2","lg:p-4","space-y-1","mt-2"],[1,"w-full","flex","items-center","p-3","rounded-lg","transition-all","group","relative","border-l-4",3,"click"],[1,"fas","fa-chart-pie","w-6","text-center"],[1,"ml-3","text-sm","font-bold","hidden","lg:block"],[1,"lg:hidden","absolute","left-14","bg-slate-900","text-white","text-xs","px-2","py-1","rounded","shadow-lg","opacity-0","group-hover:opacity-100","transition-opacity","z-50","whitespace-nowrap","border","border-slate-700"],[1,"fas","fa-wrench","w-6","text-center"],[1,"fas","fa-truck-moving","w-6","text-center"],[1,"fas","fa-mobile-alt","w-6","text-center"],[1,"p-2","lg:p-4","border-t","border-slate-800","bg-slate-950"],[1,"w-full","flex","items-center","p-3","rounded-xl","hover:bg-slate-800","transition-colors","text-slate-400","hover:text-white",3,"click"],[1,"fas","fa-cog","w-6","text-center"],[1,"ml-3","text-xs","font-bold","uppercase","hidden","lg:block"],[1,"mt-4","text-center","lg:text-left","lg:px-3"],[1,"text-[10px]","text-slate-500","uppercase","font-bold","tracking-widest","hidden","lg:block"],[1,"text-[10px]","text-slate-600","truncate","mt-1"],[1,"flex-1","flex","flex-col","h-full","overflow-hidden","relative"],[1,"h-16","bg-white","dark:bg-[#1e293b]","border-b","border-slate-200","dark:border-slate-700","flex","items-center","justify-between","px-6","shrink-0","z-20","transition-colors","shadow-sm"],[1,"flex","items-center","gap-4"],[1,"flex","flex-col"],[1,"text-sm","font-bold","text-slate-800","dark:text-white","leading-tight"],[1,"flex","items-center","gap-2","mt-0.5","group","cursor-help"],[1,"relative","flex","h-2","w-2"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2"],[1,"text-[10px]","font-bold","text-slate-400","uppercase","tracking-wide","group-hover:text-slate-600","transition-colors"],[1,"hidden","group-hover:block","absolute","top-10","bg-slate-800","text-white","text-[10px]","p-2","rounded","shadow-lg","whitespace-nowrap","z-50"],[1,"flex","items-center","gap-6"],[1,"flex","items-center","gap-3","text-right","hidden","sm:flex"],[1,"text-xs","font-bold","text-slate-700","dark:text-white"],[1,"inline-block","bg-slate-100","dark:bg-slate-700","text-slate-500","dark:text-slate-300","px-1.5","py-0.5","rounded","text-[9px]","font-bold","uppercase","tracking-wider"],[1,"w-8","h-8","rounded-full","bg-slate-200","dark:bg-slate-600","flex","items-center","justify-center","text-slate-500","dark:text-slate-300","border","border-slate-300","dark:border-slate-500"],[1,"fas","fa-user","text-xs"],[1,"h-8","w-px","bg-slate-200","dark:bg-slate-700"],["title","Asistente IA",1,"group","relative","flex","items-center","gap-2","px-3","py-1.5","text-slate-500","hover:text-[#ce1126]","transition-colors","rounded-lg","hover:bg-red-50","dark:hover:bg-slate-800",3,"click"],[1,"fas","fa-sparkles","text-lg","group-hover:rotate-12","transition-transform"],[1,"text-xs","font-bold","hidden","md:inline"],[1,"absolute","top-1","right-1","flex","h-2","w-2"],[1,"flex-1","overflow-y-auto","custom-scroll","p-6","relative","bg-[#f8fafc]","dark:bg-[#0f172a]"],[1,"fade-enter","max-w-7xl","mx-auto","h-full","pb-20"],[1,"fixed","inset-y-0","right-0","w-[400px]","bg-white","dark:bg-[#1e293b]","shadow-2xl","transform","transition-transform","duration-300","z-50","border-l","border-slate-200","dark:border-slate-700","flex","flex-col"],[1,"p-6","border-b","border-slate-100","dark:border-slate-700","flex","justify-between","items-center","bg-gradient-to-r","from-slate-900","to-slate-800","text-white"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-gradient-to-br","from-[#ce1126]","to-red-600","flex","items-center","justify-center","shadow-lg","shadow-red-900/50"],[1,"fas","fa-robot","text-lg"],[1,"font-bold","text-lg","leading-tight"],[1,"text-[10px]","text-slate-300","opacity-80","uppercase","tracking-widest"],[1,"text-white/60","hover:text-white","transition",3,"click"],[1,"fas","fa-times","text-xl"],[1,"flex-1","overflow-y-auto","p-6","custom-scroll","bg-slate-50","dark:bg-slate-900/50"],[1,"flex","flex-col","items-center","justify-center","py-10","space-y-4","text-slate-400","h-full"],[1,"prose","prose-sm","prose-slate","dark:prose-invert","max-w-none","bg-white","dark:bg-slate-800","p-5","rounded-xl","shadow-sm","border","border-slate-200","dark:border-slate-700",3,"innerHTML"],[1,"flex","flex-col","items-center","justify-center","h-full","text-center","py-10","opacity-60","space-y-6"],[1,"p-4","border-t","border-slate-100","dark:border-slate-700","bg-white","dark:bg-slate-800","space-y-2.5","shadow-[0_-5px_15px_rgba(0,0,0,0.05)]"],[1,"text-[10px]","font-bold","text-slate-400","uppercase","tracking-wider","mb-2"],[1,"w-full","flex","items-center","p-3","bg-slate-50","dark:bg-slate-700","hover:bg-[#ce1126]","hover:text-white","dark:hover:bg-[#ce1126]","rounded-lg","border","border-slate-200","dark:border-slate-600","hover:border-transparent","transition-all","group","text-left",3,"click"],[1,"w-8","h-8","rounded","bg-white","dark:bg-slate-600","text-slate-600","dark:text-slate-300","flex","items-center","justify-center","mr-3","group-hover:text-[#ce1126]","shadow-sm"],[1,"fas","fa-file-alt"],[1,"block","text-xs","font-bold","text-slate-700","dark:text-white","group-hover:text-white"],[1,"block","text-[10px]","text-slate-400","group-hover:text-red-100"],[1,"w-full","flex","items-center","p-3","bg-slate-50","dark:bg-slate-700","hover:bg-amber-500","hover:text-white","rounded-lg","border","border-slate-200","dark:border-slate-600","hover:border-transparent","transition-all","group","text-left",3,"click"],[1,"w-8","h-8","rounded","bg-white","dark:bg-slate-600","text-slate-600","dark:text-slate-300","flex","items-center","justify-center","mr-3","group-hover:text-amber-500","shadow-sm"],[1,"fas","fa-exclamation-triangle"],[1,"block","text-[10px]","text-slate-400","group-hover:text-amber-100"],[1,"w-full","flex","items-center","p-3","bg-slate-50","dark:bg-slate-700","hover:bg-emerald-600","hover:text-white","rounded-lg","border","border-slate-200","dark:border-slate-600","hover:border-transparent","transition-all","group","text-left",3,"click"],[1,"w-8","h-8","rounded","bg-white","dark:bg-slate-600","text-slate-600","dark:text-slate-300","flex","items-center","justify-center","mr-3","group-hover:text-emerald-600","shadow-sm"],[1,"fas","fa-check-double"],[1,"block","text-[10px]","text-slate-400","group-hover:text-emerald-100"],[1,"fixed","inset-0","z-[60]","bg-slate-900/60","backdrop-blur-sm","flex","items-center","justify-center","p-4","fade-enter"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-red-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-2","w-2","bg-red-500"],[1,"relative"],[1,"fas","fa-circle-notch","fa-spin","text-4xl","text-[#ce1126]"],[1,"fas","fa-brain","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","text-xs","text-[#ce1126]"],[1,"text-xs","uppercase","font-bold","tracking-widest","animate-pulse","text-center"],[1,"w-20","h-20","bg-slate-100","dark:bg-slate-800","rounded-full","flex","items-center","justify-center"],[1,"fas","fa-lightbulb","text-4xl","text-slate-400","dark:text-slate-500"],[1,"font-bold","text-slate-700","dark:text-slate-300","text-lg"],[1,"text-xs","text-slate-500","mt-2","max-w-[240px]","mx-auto","leading-relaxed"],[1,"w-full","max-w-5xl","max-h-[90vh]","overflow-y-auto","rounded-2xl","shadow-2xl","border","border-white/10"],[3,"assetId"]],template:function(n,r){if(n&1&&(ie(0,"div",0)(1,"aside",1)(2,"div")(3,"div",2),Ze(4,"i",3),ie(5,"span",4),_e(6,"ASSET GUARD"),oe()(),ie(7,"nav",5)(8,"button",6),Wt("click",function(){return r.setView("dashboard")}),Ze(9,"i",7),ie(10,"span",8),_e(11,"Resumen Ejecutivo"),oe(),ie(12,"div",9),_e(13,"Resumen"),oe()(),ie(14,"button",6),Wt("click",function(){return r.setView("service")}),Ze(15,"i",10),ie(16,"span",8),_e(17,"Taller & Fallas"),oe(),ie(18,"div",9),_e(19,"Taller"),oe()(),ie(20,"button",6),Wt("click",function(){return r.setView("assets")}),Ze(21,"i",11),ie(22,"span",8),_e(23,"Inventario Flota"),oe(),ie(24,"div",9),_e(25,"Flota"),oe()(),ie(26,"button",6),Wt("click",function(){return r.setView("solicitor")}),Ze(27,"i",12),ie(28,"span",8),_e(29,"App Operador"),oe()()()(),ie(30,"div",13)(31,"button",14),Wt("click",function(){return r.setView("settings")}),Ze(32,"i",15),ie(33,"span",16),_e(34,"Configuraci\xF3n"),oe()(),ie(35,"div",17)(36,"p",18),_e(37,"Planta Cuautitl\xE1n"),oe(),ie(38,"div",19),_e(39,"v2.1.0 Enterprise"),oe()()()(),ie(40,"div",20)(41,"header",21)(42,"div",22)(43,"div",23)(44,"h2",24),_e(45),oe(),ie(46,"div",25)(47,"div",26),Ze(48,"span",27)(49,"span",28),oe(),ie(50,"span",29),_e(51),oe(),ie(52,"div",30),_e(53," Estado de conexi\xF3n con Firebase Realtime DB "),oe()()()(),ie(54,"div",31)(55,"div",32)(56,"div")(57,"p",33),_e(58,"Ing. Sergio Guadarrama"),oe(),ie(59,"span",34),_e(60,"Supervisor Operaciones"),oe()(),ie(61,"div",35),Ze(62,"i",36),oe()(),Ze(63,"div",37),ie(64,"button",38),Wt("click",function(){return r.toggleAiPanel()}),Ze(65,"i",39),ie(66,"span",40),_e(67,"Asistente"),oe(),er(68,KNe,3,0,"span",41),oe()()(),ie(69,"main",42)(70,"div",43),er(71,JNe,1,0,"app-dashboard")(72,QNe,1,0,"app-service-panel")(73,ZNe,1,0,"app-asset-list")(74,e5e,1,0,"app-solicitor-panel")(75,t5e,1,0,"app-admin"),oe()(),ie(76,"div",44)(77,"div",45)(78,"div",46)(79,"div",47),Ze(80,"i",48),oe(),ie(81,"div")(82,"h3",49),_e(83,"Gemini Assistant"),oe(),ie(84,"p",50),_e(85,"AssetGuard Intelligence"),oe()()(),ie(86,"button",51),Wt("click",function(){return r.toggleAiPanel()}),Ze(87,"i",52),oe()(),ie(88,"div",53),er(89,n5e,6,0,"div",54)(90,r5e,1,1,"div",55)(91,i5e,8,0,"div",56),oe(),ie(92,"div",57)(93,"p",58),_e(94,"Acciones Sugeridas"),oe(),ie(95,"button",59),Wt("click",function(){return r.generateExecutiveSummary()}),ie(96,"div",60),Ze(97,"i",61),oe(),ie(98,"div")(99,"span",62),_e(100,"Resumen Ejecutivo del D\xEDa"),oe(),ie(101,"span",63),_e(102,"Estado general y cumplimiento"),oe()()(),ie(103,"button",64),Wt("click",function(){return r.generateExecutiveSummary()}),ie(104,"div",65),Ze(105,"i",66),oe(),ie(106,"div")(107,"span",62),_e(108,"Explicar Riesgos Operativos"),oe(),ie(109,"span",67),_e(110,"Causas de baja disponibilidad"),oe()()(),ie(111,"button",68),Wt("click",function(){return r.generateExecutiveSummary()}),ie(112,"div",69),Ze(113,"i",70),oe(),ie(114,"div")(115,"span",62),_e(116,"Sugerir Acciones de Mejora"),oe(),ie(117,"span",71),_e(118,"Optimizaci\xF3n de flota"),oe()()()()(),er(119,s5e,3,1,"div",72),oe()()),n&2){let i;Hr("dark",r.plantMode()),Ne(8),Hr("border-[#ce1126]",r.currentView()==="dashboard")("bg-slate-800",r.currentView()==="dashboard")("text-white",r.currentView()==="dashboard")("border-transparent",r.currentView()!=="dashboard")("hover:bg-slate-800",r.currentView()!=="dashboard"),Ne(),Hr("text-[#ce1126]",r.currentView()==="dashboard"),Ne(5),Hr("border-orange-500",r.currentView()==="service")("bg-slate-800",r.currentView()==="service")("text-white",r.currentView()==="service")("border-transparent",r.currentView()!=="service")("hover:bg-slate-800",r.currentView()!=="service"),Ne(),Hr("text-orange-500",r.currentView()==="service"),Ne(5),Hr("border-blue-500",r.currentView()==="assets")("bg-slate-800",r.currentView()==="assets")("text-white",r.currentView()==="assets")("border-transparent",r.currentView()!=="assets")("hover:bg-slate-800",r.currentView()!=="assets"),Ne(),Hr("text-blue-500",r.currentView()==="assets"),Ne(5),Hr("border-slate-500",r.currentView()==="solicitor")("bg-slate-800",r.currentView()==="solicitor")("text-white",r.currentView()==="solicitor")("border-transparent",r.currentView()!=="solicitor")("hover:bg-slate-800",r.currentView()!=="solicitor"),Ne(),Hr("text-slate-400",r.currentView()==="solicitor"),Ne(18),vn(r.viewTitle),Ne(3),Hr("bg-green-500",r.connectionStatus()==="online")("bg-amber-500",r.connectionStatus()==="syncing")("bg-red-500",r.connectionStatus()==="offline"),Ne(),Hr("bg-green-500",r.connectionStatus()==="online")("bg-amber-500",r.connectionStatus()==="syncing")("bg-red-500",r.connectionStatus()==="offline"),Ne(2),cn(" ",r.syncText()," "),Ne(17),tr(r.aiLoading()?68:-1),Ne(3),tr((i=r.currentView())==="dashboard"?71:i==="service"?72:i==="assets"?73:i==="solicitor"?74:i==="settings"?75:-1),Ne(5),Hr("translate-x-full",!r.showAiPanel())("translate-x-0",r.showAiPanel()),Ne(13),tr(r.aiLoading()?89:r.aiInsights()?90:91),Ne(30),tr(r.selectedAssetId()?119:-1)}},dependencies:[Ji,mC,gC,OC,yb,_b,xb],styles:[".fade-enter[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}"]})}};kN(wb,{providers:[uN()]}).catch(t=>console.error(t));
